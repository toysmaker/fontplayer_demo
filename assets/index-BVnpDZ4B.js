(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))g(y);new MutationObserver(y=>{for(const k of y)if(k.type==="childList")for(const $ of k.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&g($)}).observe(document,{childList:!0,subtree:!0});function r(y){const k={};return y.integrity&&(k.integrity=y.integrity),y.referrerPolicy&&(k.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?k.credentials="include":y.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function g(y){if(y.ep)return;y.ep=!0;const k=r(y);fetch(y.href,k)}})();function makeMap(n,e){const r=Object.create(null),g=n.split(",");for(let y=0;y<g.length;y++)r[g[y]]=!0;return e?y=>!!r[y.toLowerCase()]:y=>!!r[y]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=n=>onRE.test(n),isModelListener=n=>n.startsWith("onUpdate:"),extend=Object.assign,remove$1=(n,e)=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},hasOwnProperty$f=Object.prototype.hasOwnProperty,hasOwn$1=(n,e)=>hasOwnProperty$f.call(n,e),isArray$3=Array.isArray,isMap$1=n=>toTypeString$1(n)==="[object Map]",isSet$1=n=>toTypeString$1(n)==="[object Set]",isDate$1=n=>toTypeString$1(n)==="[object Date]",isFunction$3=n=>typeof n=="function",isString$3=n=>typeof n=="string",isSymbol$1=n=>typeof n=="symbol",isObject$3=n=>n!==null&&typeof n=="object",isPromise=n=>isObject$3(n)&&isFunction$3(n.then)&&isFunction$3(n.catch),objectToString$2=Object.prototype.toString,toTypeString$1=n=>objectToString$2.call(n),toRawType=n=>toTypeString$1(n).slice(8,-1),isPlainObject$2=n=>toTypeString$1(n)==="[object Object]",isIntegerKey=n=>isString$3(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const e=Object.create(null);return r=>e[r]||(e[r]=n(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$2=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize$2(n)}`:""),hasChanged=(n,e)=>!Object.is(n,e),invokeArrayFns=(n,e)=>{for(let r=0;r<n.length;r++)n[r](e)},def=(n,e,r)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=n=>{const e=parseFloat(n);return isNaN(e)?n:e},toNumber$1=n=>{const e=isString$3(n)?Number(n):NaN;return isNaN(e)?n:e};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(n){if(isArray$3(n)){const e={};for(let r=0;r<n.length;r++){const g=n[r],y=isString$3(g)?parseStringStyle(g):normalizeStyle(g);if(y)for(const k in y)e[k]=y[k]}return e}else{if(isString$3(n))return n;if(isObject$3(n))return n}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(n){const e={};return n.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const g=r.split(propertyDelimiterRE);g.length>1&&(e[g[0].trim()]=g[1].trim())}}),e}function normalizeClass(n){let e="";if(isString$3(n))e=n;else if(isArray$3(n))for(let r=0;r<n.length;r++){const g=normalizeClass(n[r]);g&&(e+=g+" ")}else if(isObject$3(n))for(const r in n)n[r]&&(e+=r+" ");return e.trim()}function normalizeProps(n){if(!n)return null;let{class:e,style:r}=n;return e&&!isString$3(e)&&(n.class=normalizeClass(e)),r&&(n.style=normalizeStyle(r)),n}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}function looseCompareArrays(n,e){if(n.length!==e.length)return!1;let r=!0;for(let g=0;r&&g<n.length;g++)r=looseEqual(n[g],e[g]);return r}function looseEqual(n,e){if(n===e)return!0;let r=isDate$1(n),g=isDate$1(e);if(r||g)return r&&g?n.getTime()===e.getTime():!1;if(r=isSymbol$1(n),g=isSymbol$1(e),r||g)return n===e;if(r=isArray$3(n),g=isArray$3(e),r||g)return r&&g?looseCompareArrays(n,e):!1;if(r=isObject$3(n),g=isObject$3(e),r||g){if(!r||!g)return!1;const y=Object.keys(n).length,k=Object.keys(e).length;if(y!==k)return!1;for(const $ in n){const V=n.hasOwnProperty($),L=e.hasOwnProperty($);if(V&&!L||!V&&L||!looseEqual(n[$],e[$]))return!1}}return String(n)===String(e)}function looseIndexOf(n,e){return n.findIndex(r=>looseEqual(r,e))}const toDisplayString$1=n=>isString$3(n)?n:n==null?"":isArray$3(n)||isObject$3(n)&&(n.toString===objectToString$2||!isFunction$3(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,e)=>e&&e.__v_isRef?replacer(n,e.value):isMap$1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[g,y])=>(r[`${g} =>`]=y,r),{})}:isSet$1(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$3(e)&&!isArray$3(e)&&!isPlainObject$2(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,g;for(r=0,g=this.effects.length;r<g;r++)this.effects[r].stop();for(r=0,g=this.cleanups.length;r<g;r++)this.cleanups[r]();if(this.scopes)for(r=0,g=this.scopes.length;r<g;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const y=this.parent.scopes.pop();y&&y!==this&&(this.parent.scopes[this.index]=y,y.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(n){return new EffectScope(n)}function recordEffectScope(n,e=activeEffectScope){e&&e.active&&e.effects.push(n)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(n){activeEffectScope&&activeEffectScope.cleanups.push(n)}const createDep=n=>{const e=new Set(n);return e.w=0,e.n=0,e},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:e}=n;if(e.length){let r=0;for(let g=0;g<e.length;g++){const y=e[g];wasTracked(y)&&!newTracked(y)?y.delete(n):e[r++]=y,y.w&=~trackOpBit,y.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,g){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,g)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(n){const{deps:e}=n;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(n);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,e,r){if(shouldTrack&&activeEffect){let g=targetMap.get(n);g||targetMap.set(n,g=new Map);let y=g.get(r);y||g.set(r,y=createDep()),trackEffects(y)}}function trackEffects(n,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,r=!wasTracked(n)):r=!n.has(activeEffect),r&&(n.add(activeEffect),activeEffect.deps.push(n))}function trigger(n,e,r,g,y,k){const $=targetMap.get(n);if(!$)return;let V=[];if(e==="clear")V=[...$.values()];else if(r==="length"&&isArray$3(n)){const L=Number(g);$.forEach((z,j)=>{(j==="length"||j>=L)&&V.push(z)})}else switch(r!==void 0&&V.push($.get(r)),e){case"add":isArray$3(n)?isIntegerKey(r)&&V.push($.get("length")):(V.push($.get(ITERATE_KEY)),isMap$1(n)&&V.push($.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(n)||(V.push($.get(ITERATE_KEY)),isMap$1(n)&&V.push($.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(n)&&V.push($.get(ITERATE_KEY));break}if(V.length===1)V[0]&&triggerEffects(V[0]);else{const L=[];for(const z of V)z&&L.push(...z);triggerEffects(createDep(L))}}function triggerEffects(n,e){const r=isArray$3(n)?n:[...n];for(const g of r)g.computed&&triggerEffect(g);for(const g of r)g.computed||triggerEffect(g)}function triggerEffect(n,e){(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function getDepFromReactive(n,e){var r;return(r=targetMap.get(n))==null?void 0:r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...r){const g=toRaw(this);for(let k=0,$=this.length;k<$;k++)track(g,"get",k+"");const y=g[e](...r);return y===-1||y===!1?g[e](...r.map(toRaw)):y}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...r){pauseTracking();const g=toRaw(this)[e].apply(this,r);return resetTracking(),g}}),n}function hasOwnProperty$e(n){const e=toRaw(this);return track(e,"has",n),e.hasOwnProperty(n)}function createGetter(n=!1,e=!1){return function(g,y,k){if(y==="__v_isReactive")return!n;if(y==="__v_isReadonly")return n;if(y==="__v_isShallow")return e;if(y==="__v_raw"&&k===(n?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(g))return g;const $=isArray$3(g);if(!n){if($&&hasOwn$1(arrayInstrumentations,y))return Reflect.get(arrayInstrumentations,y,k);if(y==="hasOwnProperty")return hasOwnProperty$e}const V=Reflect.get(g,y,k);return(isSymbol$1(y)?builtInSymbols.has(y):isNonTrackableKeys(y))||(n||track(g,"get",y),e)?V:isRef(V)?$&&isIntegerKey(y)?V:V.value:isObject$3(V)?n?readonly(V):reactive(V):V}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(n=!1){return function(r,g,y,k){let $=r[g];if(isReadonly($)&&isRef($)&&!isRef(y))return!1;if(!n&&(!isShallow(y)&&!isReadonly(y)&&($=toRaw($),y=toRaw(y)),!isArray$3(r)&&isRef($)&&!isRef(y)))return $.value=y,!0;const V=isArray$3(r)&&isIntegerKey(g)?Number(g)<r.length:hasOwn$1(r,g),L=Reflect.set(r,g,y,k);return r===toRaw(k)&&(V?hasChanged(y,$)&&trigger(r,"set",g,y):trigger(r,"add",g,y)),L}}function deleteProperty(n,e){const r=hasOwn$1(n,e);n[e];const g=Reflect.deleteProperty(n,e);return g&&r&&trigger(n,"delete",e,void 0),g}function has$1(n,e){const r=Reflect.has(n,e);return(!isSymbol$1(e)||!builtInSymbols.has(e))&&track(n,"has",e),r}function ownKeys$2(n){return track(n,"iterate",isArray$3(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$2},readonlyHandlers={get:readonlyGet,set(n,e){return!0},deleteProperty(n,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$2(n,e,r=!1,g=!1){n=n.__v_raw;const y=toRaw(n),k=toRaw(e);r||(e!==k&&track(y,"get",e),track(y,"get",k));const{has:$}=getProto(y),V=g?toShallow:r?toReadonly:toReactive;if($.call(y,e))return V(n.get(e));if($.call(y,k))return V(n.get(k));n!==y&&n.get(e)}function has(n,e=!1){const r=this.__v_raw,g=toRaw(r),y=toRaw(n);return e||(n!==y&&track(g,"has",n),track(g,"has",y)),n===y?r.has(n):r.has(n)||r.has(y)}function size(n,e=!1){return n=n.__v_raw,!e&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add$1(n){n=toRaw(n);const e=toRaw(this);return getProto(e).has.call(e,n)||(e.add(n),trigger(e,"add",n,n)),this}function set$2(n,e){e=toRaw(e);const r=toRaw(this),{has:g,get:y}=getProto(r);let k=g.call(r,n);k||(n=toRaw(n),k=g.call(r,n));const $=y.call(r,n);return r.set(n,e),k?hasChanged(e,$)&&trigger(r,"set",n,e):trigger(r,"add",n,e),this}function deleteEntry(n){const e=toRaw(this),{has:r,get:g}=getProto(e);let y=r.call(e,n);y||(n=toRaw(n),y=r.call(e,n)),g&&g.call(e,n);const k=e.delete(n);return y&&trigger(e,"delete",n,void 0),k}function clear(){const n=toRaw(this),e=n.size!==0,r=n.clear();return e&&trigger(n,"clear",void 0,void 0),r}function createForEach(n,e){return function(g,y){const k=this,$=k.__v_raw,V=toRaw($),L=e?toShallow:n?toReadonly:toReactive;return!n&&track(V,"iterate",ITERATE_KEY),$.forEach((z,j)=>g.call(y,L(z),L(j),k))}}function createIterableMethod(n,e,r){return function(...g){const y=this.__v_raw,k=toRaw(y),$=isMap$1(k),V=n==="entries"||n===Symbol.iterator&&$,L=n==="keys"&&$,z=y[n](...g),j=r?toShallow:e?toReadonly:toReactive;return!e&&track(k,"iterate",L?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:re,done:oe}=z.next();return oe?{value:re,done:oe}:{value:V?[j(re[0]),j(re[1])]:j(re),done:oe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...e){return n==="delete"?!1:this}}function createInstrumentations(){const n={get(k){return get$2(this,k)},get size(){return size(this)},has,add:add$1,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(k){return get$2(this,k,!1,!0)},get size(){return size(this)},has,add:add$1,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(k){return get$2(this,k,!0)},get size(){return size(this,!0)},has(k){return has.call(this,k,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},g={get(k){return get$2(this,k,!0,!0)},get size(){return size(this,!0)},has(k){return has.call(this,k,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(k=>{n[k]=createIterableMethod(k,!1,!1),r[k]=createIterableMethod(k,!0,!1),e[k]=createIterableMethod(k,!1,!0),g[k]=createIterableMethod(k,!0,!0)}),[n,r,e,g]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,e){const r=e?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(g,y,k)=>y==="__v_isReactive"?!n:y==="__v_isReadonly"?n:y==="__v_raw"?g:Reflect.get(hasOwn$1(r,y)&&y in g?r:g,y,k)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(n,e,r,g,y){if(!isObject$3(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const k=y.get(n);if(k)return k;const $=getTargetType(n);if($===0)return n;const V=new Proxy(n,$===2?g:r);return y.set(n,V),V}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const e=n&&n.__v_raw;return e?toRaw(e):n}function markRaw(n){return def(n,"__v_skip",!0),n}const toReactive=n=>isObject$3(n)?reactive(n):n,toReadonly=n=>isObject$3(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep())))}function triggerRefValue(n,e){n=toRaw(n);const r=n.dep;r&&triggerEffects(r)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function shallowRef(n){return createRef(n,!0)}function createRef(n,e){return isRef(n)?n:new RefImpl(n,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function triggerRef(n){triggerRefValue(n)}function unref(n){return isRef(n)?n.value:n}const shallowUnwrapHandlers={get:(n,e,r)=>unref(Reflect.get(n,e,r)),set:(n,e,r,g)=>{const y=n[e];return isRef(y)&&!isRef(r)?(y.value=r,!0):Reflect.set(n,e,r,g)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}function toRefs(n){const e=isArray$3(n)?new Array(n.length):{};for(const r in n)e[r]=propertyToRef(n,r);return e}class ObjectRefImpl{constructor(e,r,g){this._object=e,this._key=r,this._defaultValue=g,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(n,e,r){return isRef(n)?n:isFunction$3(n)?new GetterRefImpl(n):isObject$3(n)&&arguments.length>1?propertyToRef(n,e,r):ref(n)}function propertyToRef(n,e,r){const g=n[e];return isRef(g)?g:new ObjectRefImpl(n,e,r)}class ComputedRefImpl{constructor(e,r,g,y){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!y,this.__v_isReadonly=g}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(n,e,r=!1){let g,y;const k=isFunction$3(n);return k?(g=n,y=NOOP):(g=n.get,y=n.set),new ComputedRefImpl(g,y,k||!y,r)}function warn$1(n,...e){}function callWithErrorHandling(n,e,r,g){let y;try{y=g?n(...g):n()}catch(k){handleError(k,e,r)}return y}function callWithAsyncErrorHandling(n,e,r,g){if(isFunction$3(n)){const k=callWithErrorHandling(n,e,r,g);return k&&isPromise(k)&&k.catch($=>{handleError($,e,r)}),k}const y=[];for(let k=0;k<n.length;k++)y.push(callWithAsyncErrorHandling(n[k],e,r,g));return y}function handleError(n,e,r,g=!0){const y=e?e.vnode:null;if(e){let k=e.parent;const $=e.proxy,V=r;for(;k;){const z=k.ec;if(z){for(let j=0;j<z.length;j++)if(z[j](n,$,V)===!1)return}k=k.parent}const L=e.appContext.config.errorHandler;if(L){callWithErrorHandling(L,null,10,[n,$,V]);return}}logError(n,r,y,g)}function logError(n,e,r,g=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(n){const e=currentFlushPromise||resolvedPromise;return n?e.then(this?n.bind(this):n):e}function findInsertionIndex(n){let e=flushIndex+1,r=queue.length;for(;e<r;){const g=e+r>>>1;getId(queue[g])<n?e=g+1:r=g}return e}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const e=queue.indexOf(n);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(n){isArray$3(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()}function flushPreFlushCbs(n,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,g)=>getId(r)-getId(g)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=n=>n.id==null?1/0:n.id,comparator=(n,e)=>{const r=getId(n)-getId(e);if(r===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return r};function flushJobs(n){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&e.active!==!1&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(n,e,...r){if(n.isUnmounted)return;const g=n.vnode.props||EMPTY_OBJ;let y=r;const k=e.startsWith("update:"),$=k&&e.slice(7);if($&&$ in g){const j=`${$==="modelValue"?"model":$}Modifiers`,{number:re,trim:oe}=g[j]||EMPTY_OBJ;oe&&(y=r.map(ae=>isString$3(ae)?ae.trim():ae)),re&&(y=r.map(looseToNumber))}let V,L=g[V=toHandlerKey(e)]||g[V=toHandlerKey(camelize(e))];!L&&k&&(L=g[V=toHandlerKey(hyphenate(e))]),L&&callWithAsyncErrorHandling(L,n,6,y);const z=g[V+"Once"];if(z){if(!n.emitted)n.emitted={};else if(n.emitted[V])return;n.emitted[V]=!0,callWithAsyncErrorHandling(z,n,6,y)}}function normalizeEmitsOptions(n,e,r=!1){const g=e.emitsCache,y=g.get(n);if(y!==void 0)return y;const k=n.emits;let $={},V=!1;if(!isFunction$3(n)){const L=z=>{const j=normalizeEmitsOptions(z,e,!0);j&&(V=!0,extend($,j))};!r&&e.mixins.length&&e.mixins.forEach(L),n.extends&&L(n.extends),n.mixins&&n.mixins.forEach(L)}return!k&&!V?(isObject$3(n)&&g.set(n,null),null):(isArray$3(k)?k.forEach(L=>$[L]=null):extend($,k),isObject$3(n)&&g.set(n,$),$)}function isEmitListener(n,e){return!n||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(n,e[0].toLowerCase()+e.slice(1))||hasOwn$1(n,hyphenate(e))||hasOwn$1(n,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const e=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,e}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}function withCtx(n,e=currentRenderingInstance,r){if(!e||n._n)return n;const g=(...y)=>{g._d&&setBlockTracking(-1);const k=setCurrentRenderingInstance(e);let $;try{$=n(...y)}finally{setCurrentRenderingInstance(k),g._d&&setBlockTracking(1)}return $};return g._n=!0,g._c=!0,g._d=!0,g}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:e,vnode:r,proxy:g,withProxy:y,props:k,propsOptions:[$],slots:V,attrs:L,emit:z,render:j,renderCache:re,data:oe,setupState:ae,ctx:de,inheritAttrs:ue}=n;let pe,he;const xe=setCurrentRenderingInstance(n);try{if(r.shapeFlag&4){const Ne=y||g;pe=normalizeVNode(j.call(Ne,Ne,re,k,ae,oe,de)),he=L}else{const Ne=e;pe=normalizeVNode(Ne.length>1?Ne(k,{attrs:L,slots:V,emit:z}):Ne(k,null)),he=e.props?L:getFunctionalFallthrough(L)}}catch(Ne){blockStack.length=0,handleError(Ne,n,1),pe=createVNode(Comment)}let $e=pe;if(he&&ue!==!1){const Ne=Object.keys(he),{shapeFlag:Oe}=$e;Ne.length&&Oe&7&&($&&Ne.some(isModelListener)&&(he=filterModelListeners(he,$)),$e=cloneVNode($e,he))}return r.dirs&&($e=cloneVNode($e),$e.dirs=$e.dirs?$e.dirs.concat(r.dirs):r.dirs),r.transition&&($e.transition=r.transition),pe=$e,setCurrentRenderingInstance(xe),pe}const getFunctionalFallthrough=n=>{let e;for(const r in n)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=n[r]);return e},filterModelListeners=(n,e)=>{const r={};for(const g in n)(!isModelListener(g)||!(g.slice(9)in e))&&(r[g]=n[g]);return r};function shouldUpdateComponent(n,e,r){const{props:g,children:y,component:k}=n,{props:$,children:V,patchFlag:L}=e,z=k.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&L>=0){if(L&1024)return!0;if(L&16)return g?hasPropsChanged(g,$,z):!!$;if(L&8){const j=e.dynamicProps;for(let re=0;re<j.length;re++){const oe=j[re];if($[oe]!==g[oe]&&!isEmitListener(z,oe))return!0}}}else return(y||V)&&(!V||!V.$stable)?!0:g===$?!1:g?$?hasPropsChanged(g,$,z):!0:!!$;return!1}function hasPropsChanged(n,e,r){const g=Object.keys(e);if(g.length!==Object.keys(n).length)return!0;for(let y=0;y<g.length;y++){const k=g[y];if(e[k]!==n[k]&&!isEmitListener(r,k))return!0}return!1}function updateHOCHostEl({vnode:n,parent:e},r){for(;e&&e.subTree===n;)(n=e.vnode).el=r,e=e.parent}const isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,e){e&&e.pendingBranch?isArray$3(n)?e.effects.push(...n):e.effects.push(n):queuePostFlushCb(n)}function watchEffect(n,e){return doWatch(n,null,e)}const INITIAL_WATCHER_VALUE={};function watch(n,e,r){return doWatch(n,e,r)}function doWatch(n,e,{immediate:r,deep:g,flush:y,onTrack:k,onTrigger:$}=EMPTY_OBJ){var V;const L=getCurrentScope()===((V=currentInstance)==null?void 0:V.scope)?currentInstance:null;let z,j=!1,re=!1;if(isRef(n)?(z=()=>n.value,j=isShallow(n)):isReactive(n)?(z=()=>n,g=!0):isArray$3(n)?(re=!0,j=n.some(Ne=>isReactive(Ne)||isShallow(Ne)),z=()=>n.map(Ne=>{if(isRef(Ne))return Ne.value;if(isReactive(Ne))return traverse(Ne);if(isFunction$3(Ne))return callWithErrorHandling(Ne,L,2)})):isFunction$3(n)?e?z=()=>callWithErrorHandling(n,L,2):z=()=>{if(!(L&&L.isUnmounted))return oe&&oe(),callWithAsyncErrorHandling(n,L,3,[ae])}:z=NOOP,e&&g){const Ne=z;z=()=>traverse(Ne())}let oe,ae=Ne=>{oe=xe.onStop=()=>{callWithErrorHandling(Ne,L,4)}},de;if(isInSSRComponentSetup)if(ae=NOOP,e?r&&callWithAsyncErrorHandling(e,L,3,[z(),re?[]:void 0,ae]):z(),y==="sync"){const Ne=useSSRContext();de=Ne.__watcherHandles||(Ne.__watcherHandles=[])}else return NOOP;let ue=re?new Array(n.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const pe=()=>{if(xe.active)if(e){const Ne=xe.run();(g||j||(re?Ne.some((Oe,_e)=>hasChanged(Oe,ue[_e])):hasChanged(Ne,ue)))&&(oe&&oe(),callWithAsyncErrorHandling(e,L,3,[Ne,ue===INITIAL_WATCHER_VALUE?void 0:re&&ue[0]===INITIAL_WATCHER_VALUE?[]:ue,ae]),ue=Ne)}else xe.run()};pe.allowRecurse=!!e;let he;y==="sync"?he=pe:y==="post"?he=()=>queuePostRenderEffect(pe,L&&L.suspense):(pe.pre=!0,L&&(pe.id=L.uid),he=()=>queueJob(pe));const xe=new ReactiveEffect(z,he);e?r?pe():ue=xe.run():y==="post"?queuePostRenderEffect(xe.run.bind(xe),L&&L.suspense):xe.run();const $e=()=>{xe.stop(),L&&L.scope&&remove$1(L.scope.effects,xe)};return de&&de.push($e),$e}function instanceWatch(n,e,r){const g=this.proxy,y=isString$3(n)?n.includes(".")?createPathGetter(g,n):()=>g[n]:n.bind(g,g);let k;isFunction$3(e)?k=e:(k=e.handler,r=e);const $=currentInstance;setCurrentInstance(this);const V=doWatch(y,k.bind(g),r);return $?setCurrentInstance($):unsetCurrentInstance(),V}function createPathGetter(n,e){const r=e.split(".");return()=>{let g=n;for(let y=0;y<r.length&&g;y++)g=g[r[y]];return g}}function traverse(n,e){if(!isObject$3(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),isRef(n))traverse(n.value,e);else if(isArray$3(n))for(let r=0;r<n.length;r++)traverse(n[r],e);else if(isSet$1(n)||isMap$1(n))n.forEach(r=>{traverse(r,e)});else if(isPlainObject$2(n))for(const r in n)traverse(n[r],e);return n}function withDirectives(n,e){const r=currentRenderingInstance;if(r===null)return n;const g=getExposeProxy(r)||r.proxy,y=n.dirs||(n.dirs=[]);for(let k=0;k<e.length;k++){let[$,V,L,z=EMPTY_OBJ]=e[k];$&&(isFunction$3($)&&($={mounted:$,updated:$}),$.deep&&traverse(V),y.push({dir:$,instance:g,value:V,oldValue:void 0,arg:L,modifiers:z}))}return n}function invokeDirectiveHook(n,e,r,g){const y=n.dirs,k=e&&e.dirs;for(let $=0;$<y.length;$++){const V=y[$];k&&(V.oldValue=k[$].value);let L=V.dir[g];L&&(pauseTracking(),callWithAsyncErrorHandling(L,r,8,[n.el,V,n,e]),resetTracking())}}function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(n,{slots:e}){const r=getCurrentInstance(),g=useTransitionState();let y;return()=>{const k=e.default&&getTransitionRawChildren(e.default(),!0);if(!k||!k.length)return;let $=k[0];if(k.length>1){for(const ue of k)if(ue.type!==Comment){$=ue;break}}const V=toRaw(n),{mode:L}=V;if(g.isLeaving)return emptyPlaceholder($);const z=getKeepAliveChild($);if(!z)return emptyPlaceholder($);const j=resolveTransitionHooks(z,V,g,r);setTransitionHooks(z,j);const re=r.subTree,oe=re&&getKeepAliveChild(re);let ae=!1;const{getTransitionKey:de}=z.type;if(de){const ue=de();y===void 0?y=ue:ue!==y&&(y=ue,ae=!0)}if(oe&&oe.type!==Comment&&(!isSameVNodeType(z,oe)||ae)){const ue=resolveTransitionHooks(oe,V,g,r);if(setTransitionHooks(oe,ue),L==="out-in")return g.isLeaving=!0,ue.afterLeave=()=>{g.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder($);L==="in-out"&&z.type!==Comment&&(ue.delayLeave=(pe,he,xe)=>{const $e=getLeavingNodesForType(g,oe);$e[String(oe.key)]=oe,pe._leaveCb=()=>{he(),pe._leaveCb=void 0,delete j.delayedLeave},j.delayedLeave=xe})}return $}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,e){const{leavingVNodes:r}=n;let g=r.get(e.type);return g||(g=Object.create(null),r.set(e.type,g)),g}function resolveTransitionHooks(n,e,r,g){const{appear:y,mode:k,persisted:$=!1,onBeforeEnter:V,onEnter:L,onAfterEnter:z,onEnterCancelled:j,onBeforeLeave:re,onLeave:oe,onAfterLeave:ae,onLeaveCancelled:de,onBeforeAppear:ue,onAppear:pe,onAfterAppear:he,onAppearCancelled:xe}=e,$e=String(n.key),Ne=getLeavingNodesForType(r,n),Oe=(Ue,kt)=>{Ue&&callWithAsyncErrorHandling(Ue,g,9,kt)},_e=(Ue,kt)=>{const Lt=kt[1];Oe(Ue,kt),isArray$3(Ue)?Ue.every(wn=>wn.length<=1)&&Lt():Ue.length<=1&&Lt()},Fe={mode:k,persisted:$,beforeEnter(Ue){let kt=V;if(!r.isMounted)if(y)kt=ue||V;else return;Ue._leaveCb&&Ue._leaveCb(!0);const Lt=Ne[$e];Lt&&isSameVNodeType(n,Lt)&&Lt.el._leaveCb&&Lt.el._leaveCb(),Oe(kt,[Ue])},enter(Ue){let kt=L,Lt=z,wn=j;if(!r.isMounted)if(y)kt=pe||L,Lt=he||z,wn=xe||j;else return;let Et=!1;const xn=Ue._enterCb=jt=>{Et||(Et=!0,jt?Oe(wn,[Ue]):Oe(Lt,[Ue]),Fe.delayedLeave&&Fe.delayedLeave(),Ue._enterCb=void 0)};kt?_e(kt,[Ue,xn]):xn()},leave(Ue,kt){const Lt=String(n.key);if(Ue._enterCb&&Ue._enterCb(!0),r.isUnmounting)return kt();Oe(re,[Ue]);let wn=!1;const Et=Ue._leaveCb=xn=>{wn||(wn=!0,kt(),xn?Oe(de,[Ue]):Oe(ae,[Ue]),Ue._leaveCb=void 0,Ne[Lt]===n&&delete Ne[Lt])};Ne[Lt]=n,oe?_e(oe,[Ue,Et]):Et()},clone(Ue){return resolveTransitionHooks(Ue,e,r,g)}};return Fe}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){return isKeepAlive(n)?n.children?n.children[0]:void 0:n}function setTransitionHooks(n,e){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function getTransitionRawChildren(n,e=!1,r){let g=[],y=0;for(let k=0;k<n.length;k++){let $=n[k];const V=r==null?$.key:String(r)+String($.key!=null?$.key:k);$.type===Fragment?($.patchFlag&128&&y++,g=g.concat(getTransitionRawChildren($.children,e,V))):(e||$.type!==Comment)&&g.push(V!=null?cloneVNode($,{key:V}):$)}if(y>1)for(let k=0;k<g.length;k++)g[k].patchFlag=-2;return g}function defineComponent(n,e){return isFunction$3(n)?extend({name:n.name},e,{setup:n}):n}const isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,e){registerKeepAliveHook(n,"a",e)}function onDeactivated(n,e){registerKeepAliveHook(n,"da",e)}function registerKeepAliveHook(n,e,r=currentInstance){const g=n.__wdc||(n.__wdc=()=>{let y=r;for(;y;){if(y.isDeactivated)return;y=y.parent}return n()});if(injectHook(e,g,r),r){let y=r.parent;for(;y&&y.parent;)isKeepAlive(y.parent.vnode)&&injectToKeepAliveRoot(g,e,r,y),y=y.parent}}function injectToKeepAliveRoot(n,e,r,g){const y=injectHook(e,n,g,!0);onUnmounted(()=>{remove$1(g[e],y)},r)}function injectHook(n,e,r=currentInstance,g=!1){if(r){const y=r[n]||(r[n]=[]),k=e.__weh||(e.__weh=(...$)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const V=callWithAsyncErrorHandling(e,r,n,$);return unsetCurrentInstance(),resetTracking(),V});return g?y.unshift(k):y.push(k),k}}const createHook=n=>(e,r=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,(...g)=>e(...g),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,e=currentInstance){injectHook("ec",n,e)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(n,e){return resolveAsset(COMPONENTS,n,!0,e)||n}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(n){return isString$3(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT}function resolveDirective(n){return resolveAsset(DIRECTIVES,n)}function resolveAsset(n,e,r=!0,g=!1){const y=currentRenderingInstance||currentInstance;if(y){const k=y.type;if(n===COMPONENTS){const V=getComponentName(k,!1);if(V&&(V===e||V===camelize(e)||V===capitalize$2(camelize(e))))return k}const $=resolve(y[n]||k[n],e)||resolve(y.appContext[n],e);return!$&&g?k:$}}function resolve(n,e){return n&&(n[e]||n[camelize(e)]||n[capitalize$2(camelize(e))])}function renderList(n,e,r,g){let y;const k=r&&r[g];if(isArray$3(n)||isString$3(n)){y=new Array(n.length);for(let $=0,V=n.length;$<V;$++)y[$]=e(n[$],$,void 0,k&&k[$])}else if(typeof n=="number"){y=new Array(n);for(let $=0;$<n;$++)y[$]=e($+1,$,void 0,k&&k[$])}else if(isObject$3(n))if(n[Symbol.iterator])y=Array.from(n,($,V)=>e($,V,void 0,k&&k[V]));else{const $=Object.keys(n);y=new Array($.length);for(let V=0,L=$.length;V<L;V++){const z=$[V];y[V]=e(n[z],z,V,k&&k[V])}}else y=[];return r&&(r[g]=y),y}function createSlots(n,e){for(let r=0;r<e.length;r++){const g=e[r];if(isArray$3(g))for(let y=0;y<g.length;y++)n[g[y].name]=g[y].fn;else g&&(n[g.name]=g.key?(...y)=>{const k=g.fn(...y);return k&&(k.key=g.key),k}:g.fn)}return n}function renderSlot(n,e,r={},g,y){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,g&&g());let k=n[e];k&&k._c&&(k._d=!1),openBlock();const $=k&&ensureValidVNode(k(r)),V=createBlock(Fragment,{key:r.key||$&&$.key||`_${e}`},$||(g?g():[]),$&&n._===1?64:-2);return!y&&V.scopeId&&(V.slotScopeIds=[V.scopeId+"-s"]),k&&k._c&&(k._d=!0),V}function ensureValidVNode(n){return n.some(e=>isVNode$1(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?n:null}function toHandlers(n,e){const r={};for(const g in n)r[e&&/[A-Z]/.test(g)?`on:${g}`:toHandlerKey(g)]=n[g];return r}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>n.f||(n.f=()=>queueJob(n.update)),$nextTick:n=>n.n||(n.n=nextTick.bind(n.proxy)),$watch:n=>instanceWatch.bind(n)}),hasSetupBinding=(n,e)=>n!==EMPTY_OBJ&&!n.__isScriptSetup&&hasOwn$1(n,e),PublicInstanceProxyHandlers={get({_:n},e){const{ctx:r,setupState:g,data:y,props:k,accessCache:$,type:V,appContext:L}=n;let z;if(e[0]!=="$"){const ae=$[e];if(ae!==void 0)switch(ae){case 1:return g[e];case 2:return y[e];case 4:return r[e];case 3:return k[e]}else{if(hasSetupBinding(g,e))return $[e]=1,g[e];if(y!==EMPTY_OBJ&&hasOwn$1(y,e))return $[e]=2,y[e];if((z=n.propsOptions[0])&&hasOwn$1(z,e))return $[e]=3,k[e];if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return $[e]=4,r[e];shouldCacheAccess&&($[e]=0)}}const j=publicPropertiesMap[e];let re,oe;if(j)return e==="$attrs"&&track(n,"get",e),j(n);if((re=V.__cssModules)&&(re=re[e]))return re;if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return $[e]=4,r[e];if(oe=L.config.globalProperties,hasOwn$1(oe,e))return oe[e]},set({_:n},e,r){const{data:g,setupState:y,ctx:k}=n;return hasSetupBinding(y,e)?(y[e]=r,!0):g!==EMPTY_OBJ&&hasOwn$1(g,e)?(g[e]=r,!0):hasOwn$1(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(k[e]=r,!0)},has({_:{data:n,setupState:e,accessCache:r,ctx:g,appContext:y,propsOptions:k}},$){let V;return!!r[$]||n!==EMPTY_OBJ&&hasOwn$1(n,$)||hasSetupBinding(e,$)||(V=k[0])&&hasOwn$1(V,$)||hasOwn$1(g,$)||hasOwn$1(publicPropertiesMap,$)||hasOwn$1(y.config.globalProperties,$)},defineProperty(n,e,r){return r.get!=null?n._.accessCache[e]=0:hasOwn$1(r,"value")&&this.set(n,e,r.value,null),Reflect.defineProperty(n,e,r)}};function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(){const n=getCurrentInstance();return n.setupContext||(n.setupContext=createSetupContext(n))}function normalizePropsOrEmits(n){return isArray$3(n)?n.reduce((e,r)=>(e[r]=null,e),{}):n}let shouldCacheAccess=!0;function applyOptions(n){const e=resolveMergedOptions(n),r=n.proxy,g=n.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,n,"bc");const{data:y,computed:k,methods:$,watch:V,provide:L,inject:z,created:j,beforeMount:re,mounted:oe,beforeUpdate:ae,updated:de,activated:ue,deactivated:pe,beforeDestroy:he,beforeUnmount:xe,destroyed:$e,unmounted:Ne,render:Oe,renderTracked:_e,renderTriggered:Fe,errorCaptured:Ue,serverPrefetch:kt,expose:Lt,inheritAttrs:wn,components:Et,directives:xn,filters:jt}=e;if(z&&resolveInjections(z,g,null),$)for(const En in $){const Bn=$[En];isFunction$3(Bn)&&(g[En]=Bn.bind(r))}if(y){const En=y.call(r,r);isObject$3(En)&&(n.data=reactive(En))}if(shouldCacheAccess=!0,k)for(const En in k){const Bn=k[En],$n=isFunction$3(Bn)?Bn.bind(r,r):isFunction$3(Bn.get)?Bn.get.bind(r,r):NOOP,Wn=!isFunction$3(Bn)&&isFunction$3(Bn.set)?Bn.set.bind(r):NOOP,Gn=computed({get:$n,set:Wn});Object.defineProperty(g,En,{enumerable:!0,configurable:!0,get:()=>Gn.value,set:Nn=>Gn.value=Nn})}if(V)for(const En in V)createWatcher(V[En],g,r,En);if(L){const En=isFunction$3(L)?L.call(r):L;Reflect.ownKeys(En).forEach(Bn=>{provide(Bn,En[Bn])})}j&&callHook$1(j,n,"c");function Dn(En,Bn){isArray$3(Bn)?Bn.forEach($n=>En($n.bind(r))):Bn&&En(Bn.bind(r))}if(Dn(onBeforeMount,re),Dn(onMounted,oe),Dn(onBeforeUpdate,ae),Dn(onUpdated,de),Dn(onActivated,ue),Dn(onDeactivated,pe),Dn(onErrorCaptured,Ue),Dn(onRenderTracked,_e),Dn(onRenderTriggered,Fe),Dn(onBeforeUnmount,xe),Dn(onUnmounted,Ne),Dn(onServerPrefetch,kt),isArray$3(Lt))if(Lt.length){const En=n.exposed||(n.exposed={});Lt.forEach(Bn=>{Object.defineProperty(En,Bn,{get:()=>r[Bn],set:$n=>r[Bn]=$n})})}else n.exposed||(n.exposed={});Oe&&n.render===NOOP&&(n.render=Oe),wn!=null&&(n.inheritAttrs=wn),Et&&(n.components=Et),xn&&(n.directives=xn)}function resolveInjections(n,e,r=NOOP){isArray$3(n)&&(n=normalizeInject(n));for(const g in n){const y=n[g];let k;isObject$3(y)?"default"in y?k=inject(y.from||g,y.default,!0):k=inject(y.from||g):k=inject(y),isRef(k)?Object.defineProperty(e,g,{enumerable:!0,configurable:!0,get:()=>k.value,set:$=>k.value=$}):e[g]=k}}function callHook$1(n,e,r){callWithAsyncErrorHandling(isArray$3(n)?n.map(g=>g.bind(e.proxy)):n.bind(e.proxy),e,r)}function createWatcher(n,e,r,g){const y=g.includes(".")?createPathGetter(r,g):()=>r[g];if(isString$3(n)){const k=e[n];isFunction$3(k)&&watch(y,k)}else if(isFunction$3(n))watch(y,n.bind(r));else if(isObject$3(n))if(isArray$3(n))n.forEach(k=>createWatcher(k,e,r,g));else{const k=isFunction$3(n.handler)?n.handler.bind(r):e[n.handler];isFunction$3(k)&&watch(y,k,n)}}function resolveMergedOptions(n){const e=n.type,{mixins:r,extends:g}=e,{mixins:y,optionsCache:k,config:{optionMergeStrategies:$}}=n.appContext,V=k.get(e);let L;return V?L=V:!y.length&&!r&&!g?L=e:(L={},y.length&&y.forEach(z=>mergeOptions$2(L,z,$,!0)),mergeOptions$2(L,e,$)),isObject$3(e)&&k.set(e,L),L}function mergeOptions$2(n,e,r,g=!1){const{mixins:y,extends:k}=e;k&&mergeOptions$2(n,k,r,!0),y&&y.forEach($=>mergeOptions$2(n,$,r,!0));for(const $ in e)if(!(g&&$==="expose")){const V=internalOptionMergeStrats[$]||r&&r[$];n[$]=V?V(n[$],e[$]):e[$]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,e){return e?n?function(){return extend(isFunction$3(n)?n.call(this,this):n,isFunction$3(e)?e.call(this,this):e)}:e:n}function mergeInject(n,e){return mergeObjectOptions(normalizeInject(n),normalizeInject(e))}function normalizeInject(n){if(isArray$3(n)){const e={};for(let r=0;r<n.length;r++)e[n[r]]=n[r];return e}return n}function mergeAsArray(n,e){return n?[...new Set([].concat(n,e))]:e}function mergeObjectOptions(n,e){return n?extend(Object.create(null),n,e):e}function mergeEmitsOrPropsOptions(n,e){return n?isArray$3(n)&&isArray$3(e)?[...new Set([...n,...e])]:extend(Object.create(null),normalizePropsOrEmits(n),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(n,e){if(!n)return e;if(!e)return n;const r=extend(Object.create(null),n);for(const g in e)r[g]=mergeAsArray(n[g],e[g]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(n,e){return function(g,y=null){isFunction$3(g)||(g=extend({},g)),y!=null&&!isObject$3(y)&&(y=null);const k=createAppContext(),$=new Set;let V=!1;const L=k.app={_uid:uid$1++,_component:g,_props:y,_container:null,_context:k,_instance:null,version:version$1,get config(){return k.config},set config(z){},use(z,...j){return $.has(z)||(z&&isFunction$3(z.install)?($.add(z),z.install(L,...j)):isFunction$3(z)&&($.add(z),z(L,...j))),L},mixin(z){return k.mixins.includes(z)||k.mixins.push(z),L},component(z,j){return j?(k.components[z]=j,L):k.components[z]},directive(z,j){return j?(k.directives[z]=j,L):k.directives[z]},mount(z,j,re){if(!V){const oe=createVNode(g,y);return oe.appContext=k,j&&e?e(oe,z):n(oe,z,re),V=!0,L._container=z,z.__vue_app__=L,getExposeProxy(oe.component)||oe.component.proxy}},unmount(){V&&(n(null,L._container),delete L._container.__vue_app__)},provide(z,j){return k.provides[z]=j,L},runWithContext(z){currentApp=L;try{return z()}finally{currentApp=null}}};return L}}let currentApp=null;function provide(n,e){if(currentInstance){let r=currentInstance.provides;const g=currentInstance.parent&&currentInstance.parent.provides;g===r&&(r=currentInstance.provides=Object.create(g)),r[n]=e}}function inject(n,e,r=!1){const g=currentInstance||currentRenderingInstance;if(g||currentApp){const y=g?g.parent==null?g.vnode.appContext&&g.vnode.appContext.provides:g.parent.provides:currentApp._context.provides;if(y&&n in y)return y[n];if(arguments.length>1)return r&&isFunction$3(e)?e.call(g&&g.proxy):e}}function initProps(n,e,r,g=!1){const y={},k={};def(k,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,e,y,k);for(const $ in n.propsOptions[0])$ in y||(y[$]=void 0);r?n.props=g?y:shallowReactive(y):n.type.props?n.props=y:n.props=k,n.attrs=k}function updateProps(n,e,r,g){const{props:y,attrs:k,vnode:{patchFlag:$}}=n,V=toRaw(y),[L]=n.propsOptions;let z=!1;if((g||$>0)&&!($&16)){if($&8){const j=n.vnode.dynamicProps;for(let re=0;re<j.length;re++){let oe=j[re];if(isEmitListener(n.emitsOptions,oe))continue;const ae=e[oe];if(L)if(hasOwn$1(k,oe))ae!==k[oe]&&(k[oe]=ae,z=!0);else{const de=camelize(oe);y[de]=resolvePropValue(L,V,de,ae,n,!1)}else ae!==k[oe]&&(k[oe]=ae,z=!0)}}}else{setFullProps(n,e,y,k)&&(z=!0);let j;for(const re in V)(!e||!hasOwn$1(e,re)&&((j=hyphenate(re))===re||!hasOwn$1(e,j)))&&(L?r&&(r[re]!==void 0||r[j]!==void 0)&&(y[re]=resolvePropValue(L,V,re,void 0,n,!0)):delete y[re]);if(k!==V)for(const re in k)(!e||!hasOwn$1(e,re))&&(delete k[re],z=!0)}z&&trigger(n,"set","$attrs")}function setFullProps(n,e,r,g){const[y,k]=n.propsOptions;let $=!1,V;if(e)for(let L in e){if(isReservedProp(L))continue;const z=e[L];let j;y&&hasOwn$1(y,j=camelize(L))?!k||!k.includes(j)?r[j]=z:(V||(V={}))[j]=z:isEmitListener(n.emitsOptions,L)||(!(L in g)||z!==g[L])&&(g[L]=z,$=!0)}if(k){const L=toRaw(r),z=V||EMPTY_OBJ;for(let j=0;j<k.length;j++){const re=k[j];r[re]=resolvePropValue(y,L,re,z[re],n,!hasOwn$1(z,re))}}return $}function resolvePropValue(n,e,r,g,y,k){const $=n[r];if($!=null){const V=hasOwn$1($,"default");if(V&&g===void 0){const L=$.default;if($.type!==Function&&!$.skipFactory&&isFunction$3(L)){const{propsDefaults:z}=y;r in z?g=z[r]:(setCurrentInstance(y),g=z[r]=L.call(null,e),unsetCurrentInstance())}else g=L}$[0]&&(k&&!V?g=!1:$[1]&&(g===""||g===hyphenate(r))&&(g=!0))}return g}function normalizePropsOptions(n,e,r=!1){const g=e.propsCache,y=g.get(n);if(y)return y;const k=n.props,$={},V=[];let L=!1;if(!isFunction$3(n)){const j=re=>{L=!0;const[oe,ae]=normalizePropsOptions(re,e,!0);extend($,oe),ae&&V.push(...ae)};!r&&e.mixins.length&&e.mixins.forEach(j),n.extends&&j(n.extends),n.mixins&&n.mixins.forEach(j)}if(!k&&!L)return isObject$3(n)&&g.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray$3(k))for(let j=0;j<k.length;j++){const re=camelize(k[j]);validatePropName(re)&&($[re]=EMPTY_OBJ)}else if(k)for(const j in k){const re=camelize(j);if(validatePropName(re)){const oe=k[j],ae=$[re]=isArray$3(oe)||isFunction$3(oe)?{type:oe}:extend({},oe);if(ae){const de=getTypeIndex(Boolean,ae.type),ue=getTypeIndex(String,ae.type);ae[0]=de>-1,ae[1]=ue<0||de<ue,(de>-1||hasOwn$1(ae,"default"))&&V.push(re)}}}const z=[$,V];return isObject$3(n)&&g.set(n,z),z}function validatePropName(n){return n[0]!=="$"}function getType(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function isSameType(n,e){return getType(n)===getType(e)}function getTypeIndex(n,e){return isArray$3(e)?e.findIndex(r=>isSameType(r,n)):isFunction$3(e)&&isSameType(e,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray$3(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot$1=(n,e,r)=>{if(e._n)return e;const g=withCtx((...y)=>normalizeSlotValue(e(...y)),r);return g._c=!1,g},normalizeObjectSlots=(n,e,r)=>{const g=n._ctx;for(const y in n){if(isInternalKey(y))continue;const k=n[y];if(isFunction$3(k))e[y]=normalizeSlot$1(y,k,g);else if(k!=null){const $=normalizeSlotValue(k);e[y]=()=>$}}},normalizeVNodeSlots=(n,e)=>{const r=normalizeSlotValue(e);n.slots.default=()=>r},initSlots=(n,e)=>{if(n.vnode.shapeFlag&32){const r=e._;r?(n.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,n.slots={})}else n.slots={},e&&normalizeVNodeSlots(n,e);def(n.slots,InternalObjectKey,1)},updateSlots=(n,e,r)=>{const{vnode:g,slots:y}=n;let k=!0,$=EMPTY_OBJ;if(g.shapeFlag&32){const V=e._;V?r&&V===1?k=!1:(extend(y,e),!r&&V===1&&delete y._):(k=!e.$stable,normalizeObjectSlots(e,y)),$=e}else e&&(normalizeVNodeSlots(n,e),$={default:1});if(k)for(const V in y)!isInternalKey(V)&&!(V in $)&&delete y[V]};function setRef(n,e,r,g,y=!1){if(isArray$3(n)){n.forEach((oe,ae)=>setRef(oe,e&&(isArray$3(e)?e[ae]:e),r,g,y));return}if(isAsyncWrapper(g)&&!y)return;const k=g.shapeFlag&4?getExposeProxy(g.component)||g.component.proxy:g.el,$=y?null:k,{i:V,r:L}=n,z=e&&e.r,j=V.refs===EMPTY_OBJ?V.refs={}:V.refs,re=V.setupState;if(z!=null&&z!==L&&(isString$3(z)?(j[z]=null,hasOwn$1(re,z)&&(re[z]=null)):isRef(z)&&(z.value=null)),isFunction$3(L))callWithErrorHandling(L,V,12,[$,j]);else{const oe=isString$3(L),ae=isRef(L);if(oe||ae){const de=()=>{if(n.f){const ue=oe?hasOwn$1(re,L)?re[L]:j[L]:L.value;y?isArray$3(ue)&&remove$1(ue,k):isArray$3(ue)?ue.includes(k)||ue.push(k):oe?(j[L]=[k],hasOwn$1(re,L)&&(re[L]=j[L])):(L.value=[k],n.k&&(j[n.k]=L.value))}else oe?(j[L]=$,hasOwn$1(re,L)&&(re[L]=$)):ae&&(L.value=$,n.k&&(j[n.k]=$))};$?(de.id=-1,queuePostRenderEffect(de,r)):de()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,e){const r=getGlobalThis$1();r.__VUE__=!0;const{insert:g,remove:y,patchProp:k,createElement:$,createText:V,createComment:L,setText:z,setElementText:j,parentNode:re,nextSibling:oe,setScopeId:ae=NOOP,insertStaticContent:de}=n,ue=(sr,zn,vn,Jn=null,Tn=null,Dt=null,hn=!1,Vn=null,Kn=!!zn.dynamicChildren)=>{if(sr===zn)return;sr&&!isSameVNodeType(sr,zn)&&(Jn=Pn(sr),Nn(sr,Tn,Dt,!0),sr=null),zn.patchFlag===-2&&(Kn=!1,zn.dynamicChildren=null);const{type:ar,ref:lr,shapeFlag:cr}=zn;switch(ar){case Text$2:pe(sr,zn,vn,Jn);break;case Comment:he(sr,zn,vn,Jn);break;case Static:sr==null&&xe(zn,vn,Jn,hn);break;case Fragment:Et(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn);break;default:cr&1?Oe(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn):cr&6?xn(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn):(cr&64||cr&128)&&ar.process(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn,fr)}lr!=null&&Tn&&setRef(lr,sr&&sr.ref,Dt,zn||sr,!zn)},pe=(sr,zn,vn,Jn)=>{if(sr==null)g(zn.el=V(zn.children),vn,Jn);else{const Tn=zn.el=sr.el;zn.children!==sr.children&&z(Tn,zn.children)}},he=(sr,zn,vn,Jn)=>{sr==null?g(zn.el=L(zn.children||""),vn,Jn):zn.el=sr.el},xe=(sr,zn,vn,Jn)=>{[sr.el,sr.anchor]=de(sr.children,zn,vn,Jn,sr.el,sr.anchor)},$e=({el:sr,anchor:zn},vn,Jn)=>{let Tn;for(;sr&&sr!==zn;)Tn=oe(sr),g(sr,vn,Jn),sr=Tn;g(zn,vn,Jn)},Ne=({el:sr,anchor:zn})=>{let vn;for(;sr&&sr!==zn;)vn=oe(sr),y(sr),sr=vn;y(zn)},Oe=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn)=>{hn=hn||zn.type==="svg",sr==null?_e(zn,vn,Jn,Tn,Dt,hn,Vn,Kn):kt(sr,zn,Tn,Dt,hn,Vn,Kn)},_e=(sr,zn,vn,Jn,Tn,Dt,hn,Vn)=>{let Kn,ar;const{type:lr,props:cr,shapeFlag:mr,transition:ur,dirs:le}=sr;if(Kn=sr.el=$(sr.type,Dt,cr&&cr.is,cr),mr&8?j(Kn,sr.children):mr&16&&Ue(sr.children,Kn,null,Jn,Tn,Dt&&lr!=="foreignObject",hn,Vn),le&&invokeDirectiveHook(sr,null,Jn,"created"),Fe(Kn,sr,sr.scopeId,hn,Jn),cr){for(const Ie in cr)Ie!=="value"&&!isReservedProp(Ie)&&k(Kn,Ie,null,cr[Ie],Dt,sr.children,Jn,Tn,Xn);"value"in cr&&k(Kn,"value",null,cr.value),(ar=cr.onVnodeBeforeMount)&&invokeVNodeHook(ar,Jn,sr)}le&&invokeDirectiveHook(sr,null,Jn,"beforeMount");const Ce=(!Tn||Tn&&!Tn.pendingBranch)&&ur&&!ur.persisted;Ce&&ur.beforeEnter(Kn),g(Kn,zn,vn),((ar=cr&&cr.onVnodeMounted)||Ce||le)&&queuePostRenderEffect(()=>{ar&&invokeVNodeHook(ar,Jn,sr),Ce&&ur.enter(Kn),le&&invokeDirectiveHook(sr,null,Jn,"mounted")},Tn)},Fe=(sr,zn,vn,Jn,Tn)=>{if(vn&&ae(sr,vn),Jn)for(let Dt=0;Dt<Jn.length;Dt++)ae(sr,Jn[Dt]);if(Tn){let Dt=Tn.subTree;if(zn===Dt){const hn=Tn.vnode;Fe(sr,hn,hn.scopeId,hn.slotScopeIds,Tn.parent)}}},Ue=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn=0)=>{for(let ar=Kn;ar<sr.length;ar++){const lr=sr[ar]=Vn?cloneIfMounted(sr[ar]):normalizeVNode(sr[ar]);ue(null,lr,zn,vn,Jn,Tn,Dt,hn,Vn)}},kt=(sr,zn,vn,Jn,Tn,Dt,hn)=>{const Vn=zn.el=sr.el;let{patchFlag:Kn,dynamicChildren:ar,dirs:lr}=zn;Kn|=sr.patchFlag&16;const cr=sr.props||EMPTY_OBJ,mr=zn.props||EMPTY_OBJ;let ur;vn&&toggleRecurse(vn,!1),(ur=mr.onVnodeBeforeUpdate)&&invokeVNodeHook(ur,vn,zn,sr),lr&&invokeDirectiveHook(zn,sr,vn,"beforeUpdate"),vn&&toggleRecurse(vn,!0);const le=Tn&&zn.type!=="foreignObject";if(ar?Lt(sr.dynamicChildren,ar,Vn,vn,Jn,le,Dt):hn||Bn(sr,zn,Vn,null,vn,Jn,le,Dt,!1),Kn>0){if(Kn&16)wn(Vn,zn,cr,mr,vn,Jn,Tn);else if(Kn&2&&cr.class!==mr.class&&k(Vn,"class",null,mr.class,Tn),Kn&4&&k(Vn,"style",cr.style,mr.style,Tn),Kn&8){const Ce=zn.dynamicProps;for(let Ie=0;Ie<Ce.length;Ie++){const ze=Ce[Ie],qe=cr[ze],Pt=mr[ze];(Pt!==qe||ze==="value")&&k(Vn,ze,qe,Pt,Tn,sr.children,vn,Jn,Xn)}}Kn&1&&sr.children!==zn.children&&j(Vn,zn.children)}else!hn&&ar==null&&wn(Vn,zn,cr,mr,vn,Jn,Tn);((ur=mr.onVnodeUpdated)||lr)&&queuePostRenderEffect(()=>{ur&&invokeVNodeHook(ur,vn,zn,sr),lr&&invokeDirectiveHook(zn,sr,vn,"updated")},Jn)},Lt=(sr,zn,vn,Jn,Tn,Dt,hn)=>{for(let Vn=0;Vn<zn.length;Vn++){const Kn=sr[Vn],ar=zn[Vn],lr=Kn.el&&(Kn.type===Fragment||!isSameVNodeType(Kn,ar)||Kn.shapeFlag&70)?re(Kn.el):vn;ue(Kn,ar,lr,null,Jn,Tn,Dt,hn,!0)}},wn=(sr,zn,vn,Jn,Tn,Dt,hn)=>{if(vn!==Jn){if(vn!==EMPTY_OBJ)for(const Vn in vn)!isReservedProp(Vn)&&!(Vn in Jn)&&k(sr,Vn,vn[Vn],null,hn,zn.children,Tn,Dt,Xn);for(const Vn in Jn){if(isReservedProp(Vn))continue;const Kn=Jn[Vn],ar=vn[Vn];Kn!==ar&&Vn!=="value"&&k(sr,Vn,ar,Kn,hn,zn.children,Tn,Dt,Xn)}"value"in Jn&&k(sr,"value",vn.value,Jn.value)}},Et=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn)=>{const ar=zn.el=sr?sr.el:V(""),lr=zn.anchor=sr?sr.anchor:V("");let{patchFlag:cr,dynamicChildren:mr,slotScopeIds:ur}=zn;ur&&(Vn=Vn?Vn.concat(ur):ur),sr==null?(g(ar,vn,Jn),g(lr,vn,Jn),Ue(zn.children,vn,lr,Tn,Dt,hn,Vn,Kn)):cr>0&&cr&64&&mr&&sr.dynamicChildren?(Lt(sr.dynamicChildren,mr,vn,Tn,Dt,hn,Vn),(zn.key!=null||Tn&&zn===Tn.subTree)&&traverseStaticChildren(sr,zn,!0)):Bn(sr,zn,vn,lr,Tn,Dt,hn,Vn,Kn)},xn=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn)=>{zn.slotScopeIds=Vn,sr==null?zn.shapeFlag&512?Tn.ctx.activate(zn,vn,Jn,hn,Kn):jt(zn,vn,Jn,Tn,Dt,hn,Kn):An(sr,zn,Kn)},jt=(sr,zn,vn,Jn,Tn,Dt,hn)=>{const Vn=sr.component=createComponentInstance(sr,Jn,Tn);if(isKeepAlive(sr)&&(Vn.ctx.renderer=fr),setupComponent(Vn),Vn.asyncDep){if(Tn&&Tn.registerDep(Vn,Dn),!sr.el){const Kn=Vn.subTree=createVNode(Comment);he(null,Kn,zn,vn)}return}Dn(Vn,sr,zn,vn,Tn,Dt,hn)},An=(sr,zn,vn)=>{const Jn=zn.component=sr.component;if(shouldUpdateComponent(sr,zn,vn))if(Jn.asyncDep&&!Jn.asyncResolved){En(Jn,zn,vn);return}else Jn.next=zn,invalidateJob(Jn.update),Jn.update();else zn.el=sr.el,Jn.vnode=zn},Dn=(sr,zn,vn,Jn,Tn,Dt,hn)=>{const Vn=()=>{if(sr.isMounted){let{next:lr,bu:cr,u:mr,parent:ur,vnode:le}=sr,Ce=lr,Ie;toggleRecurse(sr,!1),lr?(lr.el=le.el,En(sr,lr,hn)):lr=le,cr&&invokeArrayFns(cr),(Ie=lr.props&&lr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ie,ur,lr,le),toggleRecurse(sr,!0);const ze=renderComponentRoot(sr),qe=sr.subTree;sr.subTree=ze,ue(qe,ze,re(qe.el),Pn(qe),sr,Tn,Dt),lr.el=ze.el,Ce===null&&updateHOCHostEl(sr,ze.el),mr&&queuePostRenderEffect(mr,Tn),(Ie=lr.props&&lr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ie,ur,lr,le),Tn)}else{let lr;const{el:cr,props:mr}=zn,{bm:ur,m:le,parent:Ce}=sr,Ie=isAsyncWrapper(zn);if(toggleRecurse(sr,!1),ur&&invokeArrayFns(ur),!Ie&&(lr=mr&&mr.onVnodeBeforeMount)&&invokeVNodeHook(lr,Ce,zn),toggleRecurse(sr,!0),cr&&Cr){const ze=()=>{sr.subTree=renderComponentRoot(sr),Cr(cr,sr.subTree,sr,Tn,null)};Ie?zn.type.__asyncLoader().then(()=>!sr.isUnmounted&&ze()):ze()}else{const ze=sr.subTree=renderComponentRoot(sr);ue(null,ze,vn,Jn,sr,Tn,Dt),zn.el=ze.el}if(le&&queuePostRenderEffect(le,Tn),!Ie&&(lr=mr&&mr.onVnodeMounted)){const ze=zn;queuePostRenderEffect(()=>invokeVNodeHook(lr,Ce,ze),Tn)}(zn.shapeFlag&256||Ce&&isAsyncWrapper(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&sr.a&&queuePostRenderEffect(sr.a,Tn),sr.isMounted=!0,zn=vn=Jn=null}},Kn=sr.effect=new ReactiveEffect(Vn,()=>queueJob(ar),sr.scope),ar=sr.update=()=>Kn.run();ar.id=sr.uid,toggleRecurse(sr,!0),ar()},En=(sr,zn,vn)=>{zn.component=sr;const Jn=sr.vnode.props;sr.vnode=zn,sr.next=null,updateProps(sr,zn.props,Jn,vn),updateSlots(sr,zn.children,vn),pauseTracking(),flushPreFlushCbs(),resetTracking()},Bn=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn=!1)=>{const ar=sr&&sr.children,lr=sr?sr.shapeFlag:0,cr=zn.children,{patchFlag:mr,shapeFlag:ur}=zn;if(mr>0){if(mr&128){Wn(ar,cr,vn,Jn,Tn,Dt,hn,Vn,Kn);return}else if(mr&256){$n(ar,cr,vn,Jn,Tn,Dt,hn,Vn,Kn);return}}ur&8?(lr&16&&Xn(ar,Tn,Dt),cr!==ar&&j(vn,cr)):lr&16?ur&16?Wn(ar,cr,vn,Jn,Tn,Dt,hn,Vn,Kn):Xn(ar,Tn,Dt,!0):(lr&8&&j(vn,""),ur&16&&Ue(cr,vn,Jn,Tn,Dt,hn,Vn,Kn))},$n=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn)=>{sr=sr||EMPTY_ARR,zn=zn||EMPTY_ARR;const ar=sr.length,lr=zn.length,cr=Math.min(ar,lr);let mr;for(mr=0;mr<cr;mr++){const ur=zn[mr]=Kn?cloneIfMounted(zn[mr]):normalizeVNode(zn[mr]);ue(sr[mr],ur,vn,null,Tn,Dt,hn,Vn,Kn)}ar>lr?Xn(sr,Tn,Dt,!0,!1,cr):Ue(zn,vn,Jn,Tn,Dt,hn,Vn,Kn,cr)},Wn=(sr,zn,vn,Jn,Tn,Dt,hn,Vn,Kn)=>{let ar=0;const lr=zn.length;let cr=sr.length-1,mr=lr-1;for(;ar<=cr&&ar<=mr;){const ur=sr[ar],le=zn[ar]=Kn?cloneIfMounted(zn[ar]):normalizeVNode(zn[ar]);if(isSameVNodeType(ur,le))ue(ur,le,vn,null,Tn,Dt,hn,Vn,Kn);else break;ar++}for(;ar<=cr&&ar<=mr;){const ur=sr[cr],le=zn[mr]=Kn?cloneIfMounted(zn[mr]):normalizeVNode(zn[mr]);if(isSameVNodeType(ur,le))ue(ur,le,vn,null,Tn,Dt,hn,Vn,Kn);else break;cr--,mr--}if(ar>cr){if(ar<=mr){const ur=mr+1,le=ur<lr?zn[ur].el:Jn;for(;ar<=mr;)ue(null,zn[ar]=Kn?cloneIfMounted(zn[ar]):normalizeVNode(zn[ar]),vn,le,Tn,Dt,hn,Vn,Kn),ar++}}else if(ar>mr)for(;ar<=cr;)Nn(sr[ar],Tn,Dt,!0),ar++;else{const ur=ar,le=ar,Ce=new Map;for(ar=le;ar<=mr;ar++){const bn=zn[ar]=Kn?cloneIfMounted(zn[ar]):normalizeVNode(zn[ar]);bn.key!=null&&Ce.set(bn.key,ar)}let Ie,ze=0;const qe=mr-le+1;let Pt=!1,_n=0;const At=new Array(qe);for(ar=0;ar<qe;ar++)At[ar]=0;for(ar=ur;ar<=cr;ar++){const bn=sr[ar];if(ze>=qe){Nn(bn,Tn,Dt,!0);continue}let In;if(bn.key!=null)In=Ce.get(bn.key);else for(Ie=le;Ie<=mr;Ie++)if(At[Ie-le]===0&&isSameVNodeType(bn,zn[Ie])){In=Ie;break}In===void 0?Nn(bn,Tn,Dt,!0):(At[In-le]=ar+1,In>=_n?_n=In:Pt=!0,ue(bn,zn[In],vn,null,Tn,Dt,hn,Vn,Kn),ze++)}const Cn=Pt?getSequence(At):EMPTY_ARR;for(Ie=Cn.length-1,ar=qe-1;ar>=0;ar--){const bn=le+ar,In=zn[bn],Ln=bn+1<lr?zn[bn+1].el:Jn;At[ar]===0?ue(null,In,vn,Ln,Tn,Dt,hn,Vn,Kn):Pt&&(Ie<0||ar!==Cn[Ie]?Gn(In,vn,Ln,2):Ie--)}}},Gn=(sr,zn,vn,Jn,Tn=null)=>{const{el:Dt,type:hn,transition:Vn,children:Kn,shapeFlag:ar}=sr;if(ar&6){Gn(sr.component.subTree,zn,vn,Jn);return}if(ar&128){sr.suspense.move(zn,vn,Jn);return}if(ar&64){hn.move(sr,zn,vn,fr);return}if(hn===Fragment){g(Dt,zn,vn);for(let cr=0;cr<Kn.length;cr++)Gn(Kn[cr],zn,vn,Jn);g(sr.anchor,zn,vn);return}if(hn===Static){$e(sr,zn,vn);return}if(Jn!==2&&ar&1&&Vn)if(Jn===0)Vn.beforeEnter(Dt),g(Dt,zn,vn),queuePostRenderEffect(()=>Vn.enter(Dt),Tn);else{const{leave:cr,delayLeave:mr,afterLeave:ur}=Vn,le=()=>g(Dt,zn,vn),Ce=()=>{cr(Dt,()=>{le(),ur&&ur()})};mr?mr(Dt,le,Ce):Ce()}else g(Dt,zn,vn)},Nn=(sr,zn,vn,Jn=!1,Tn=!1)=>{const{type:Dt,props:hn,ref:Vn,children:Kn,dynamicChildren:ar,shapeFlag:lr,patchFlag:cr,dirs:mr}=sr;if(Vn!=null&&setRef(Vn,null,vn,sr,!0),lr&256){zn.ctx.deactivate(sr);return}const ur=lr&1&&mr,le=!isAsyncWrapper(sr);let Ce;if(le&&(Ce=hn&&hn.onVnodeBeforeUnmount)&&invokeVNodeHook(Ce,zn,sr),lr&6)rr(sr.component,vn,Jn);else{if(lr&128){sr.suspense.unmount(vn,Jn);return}ur&&invokeDirectiveHook(sr,null,zn,"beforeUnmount"),lr&64?sr.type.remove(sr,zn,vn,Tn,fr,Jn):ar&&(Dt!==Fragment||cr>0&&cr&64)?Xn(ar,zn,vn,!1,!0):(Dt===Fragment&&cr&384||!Tn&&lr&16)&&Xn(Kn,zn,vn),Jn&&Zn(sr)}(le&&(Ce=hn&&hn.onVnodeUnmounted)||ur)&&queuePostRenderEffect(()=>{Ce&&invokeVNodeHook(Ce,zn,sr),ur&&invokeDirectiveHook(sr,null,zn,"unmounted")},vn)},Zn=sr=>{const{type:zn,el:vn,anchor:Jn,transition:Tn}=sr;if(zn===Fragment){Hn(vn,Jn);return}if(zn===Static){Ne(sr);return}const Dt=()=>{y(vn),Tn&&!Tn.persisted&&Tn.afterLeave&&Tn.afterLeave()};if(sr.shapeFlag&1&&Tn&&!Tn.persisted){const{leave:hn,delayLeave:Vn}=Tn,Kn=()=>hn(vn,Dt);Vn?Vn(sr.el,Dt,Kn):Kn()}else Dt()},Hn=(sr,zn)=>{let vn;for(;sr!==zn;)vn=oe(sr),y(sr),sr=vn;y(zn)},rr=(sr,zn,vn)=>{const{bum:Jn,scope:Tn,update:Dt,subTree:hn,um:Vn}=sr;Jn&&invokeArrayFns(Jn),Tn.stop(),Dt&&(Dt.active=!1,Nn(hn,sr,zn,vn)),Vn&&queuePostRenderEffect(Vn,zn),queuePostRenderEffect(()=>{sr.isUnmounted=!0},zn),zn&&zn.pendingBranch&&!zn.isUnmounted&&sr.asyncDep&&!sr.asyncResolved&&sr.suspenseId===zn.pendingId&&(zn.deps--,zn.deps===0&&zn.resolve())},Xn=(sr,zn,vn,Jn=!1,Tn=!1,Dt=0)=>{for(let hn=Dt;hn<sr.length;hn++)Nn(sr[hn],zn,vn,Jn,Tn)},Pn=sr=>sr.shapeFlag&6?Pn(sr.component.subTree):sr.shapeFlag&128?sr.suspense.next():oe(sr.anchor||sr.el),jn=(sr,zn,vn)=>{sr==null?zn._vnode&&Nn(zn._vnode,null,null,!0):ue(zn._vnode||null,sr,zn,null,null,null,vn),flushPreFlushCbs(),flushPostFlushCbs(),zn._vnode=sr},fr={p:ue,um:Nn,m:Gn,r:Zn,mt:jt,mc:Ue,pc:Bn,pbc:Lt,n:Pn,o:n};let yr,Cr;return e&&([yr,Cr]=e(fr)),{render:jn,hydrate:yr,createApp:createAppAPI(jn,yr)}}function toggleRecurse({effect:n,update:e},r){n.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(n,e,r=!1){const g=n.children,y=e.children;if(isArray$3(g)&&isArray$3(y))for(let k=0;k<g.length;k++){const $=g[k];let V=y[k];V.shapeFlag&1&&!V.dynamicChildren&&((V.patchFlag<=0||V.patchFlag===32)&&(V=y[k]=cloneIfMounted(y[k]),V.el=$.el),r||traverseStaticChildren($,V)),V.type===Text$2&&(V.el=$.el)}}function getSequence(n){const e=n.slice(),r=[0];let g,y,k,$,V;const L=n.length;for(g=0;g<L;g++){const z=n[g];if(z!==0){if(y=r[r.length-1],n[y]<z){e[g]=y,r.push(g);continue}for(k=0,$=r.length-1;k<$;)V=k+$>>1,n[r[V]]<z?k=V+1:$=V;z<n[r[k]]&&(k>0&&(e[g]=r[k-1]),r[k]=g)}}for(k=r.length,$=r[k-1];k-- >0;)r[k]=$,$=e[$];return r}const isTeleport=n=>n.__isTeleport,isTeleportDisabled=n=>n&&(n.disabled||n.disabled===""),isTargetSVG=n=>typeof SVGElement<"u"&&n instanceof SVGElement,resolveTarget=(n,e)=>{const r=n&&n.to;return isString$3(r)?e?e(r):null:r},TeleportImpl={__isTeleport:!0,process(n,e,r,g,y,k,$,V,L,z){const{mc:j,pc:re,pbc:oe,o:{insert:ae,querySelector:de,createText:ue,createComment:pe}}=z,he=isTeleportDisabled(e.props);let{shapeFlag:xe,children:$e,dynamicChildren:Ne}=e;if(n==null){const Oe=e.el=ue(""),_e=e.anchor=ue("");ae(Oe,r,g),ae(_e,r,g);const Fe=e.target=resolveTarget(e.props,de),Ue=e.targetAnchor=ue("");Fe&&(ae(Ue,Fe),$=$||isTargetSVG(Fe));const kt=(Lt,wn)=>{xe&16&&j($e,Lt,wn,y,k,$,V,L)};he?kt(r,_e):Fe&&kt(Fe,Ue)}else{e.el=n.el;const Oe=e.anchor=n.anchor,_e=e.target=n.target,Fe=e.targetAnchor=n.targetAnchor,Ue=isTeleportDisabled(n.props),kt=Ue?r:_e,Lt=Ue?Oe:Fe;if($=$||isTargetSVG(_e),Ne?(oe(n.dynamicChildren,Ne,kt,y,k,$,V),traverseStaticChildren(n,e,!0)):L||re(n,e,kt,Lt,y,k,$,V,!1),he)Ue||moveTeleport(e,r,Oe,z,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const wn=e.target=resolveTarget(e.props,de);wn&&moveTeleport(e,wn,null,z,0)}else Ue&&moveTeleport(e,_e,Fe,z,1)}updateCssVars(e)},remove(n,e,r,g,{um:y,o:{remove:k}},$){const{shapeFlag:V,children:L,anchor:z,targetAnchor:j,target:re,props:oe}=n;if(re&&k(j),($||!isTeleportDisabled(oe))&&(k(z),V&16))for(let ae=0;ae<L.length;ae++){const de=L[ae];y(de,e,r,!0,!!de.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(n,e,r,{o:{insert:g},m:y},k=2){k===0&&g(n.targetAnchor,e,r);const{el:$,anchor:V,shapeFlag:L,children:z,props:j}=n,re=k===2;if(re&&g($,e,r),(!re||isTeleportDisabled(j))&&L&16)for(let oe=0;oe<z.length;oe++)y(z[oe],e,r,2);re&&g(V,e,r)}function hydrateTeleport(n,e,r,g,y,k,{o:{nextSibling:$,parentNode:V,querySelector:L}},z){const j=e.target=resolveTarget(e.props,L);if(j){const re=j._lpa||j.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=z($(n),e,V(n),r,g,y,k),e.targetAnchor=re;else{e.anchor=$(n);let oe=re;for(;oe;)if(oe=$(oe),oe&&oe.nodeType===8&&oe.data==="teleport anchor"){e.targetAnchor=oe,j._lpa=e.targetAnchor&&$(e.targetAnchor);break}z(re,e,j,r,g,y,k)}updateCssVars(e)}return e.anchor&&$(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(n){const e=n.ctx;if(e&&e.ut){let r=n.children[0].el;for(;r!==n.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text$2=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,e,r,g,y,k){return setupBlock(createBaseVNode(n,e,r,g,y,k,!0))}function createBlock(n,e,r,g,y){return setupBlock(createVNode(n,e,r,g,y,!0))}function isVNode$1(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,e){return n.type===e.type&&n.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n??null,normalizeRef=({ref:n,ref_key:e,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?isString$3(n)||isRef(n)||isFunction$3(n)?{i:currentRenderingInstance,r:n,k:e,f:!!r}:n:null);function createBaseVNode(n,e=null,r=null,g=0,y=null,k=n===Fragment?0:1,$=!1,V=!1){const L={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:k,patchFlag:g,dynamicProps:y,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return V?(normalizeChildren(L,r),k&128&&n.normalize(L)):r&&(L.shapeFlag|=isString$3(r)?8:16),isBlockTreeEnabled>0&&!$&&currentBlock&&(L.patchFlag>0||k&6)&&L.patchFlag!==32&&currentBlock.push(L),L}const createVNode=_createVNode;function _createVNode(n,e=null,r=null,g=0,y=null,k=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment),isVNode$1(n)){const V=cloneVNode(n,e,!0);return r&&normalizeChildren(V,r),isBlockTreeEnabled>0&&!k&&currentBlock&&(V.shapeFlag&6?currentBlock[currentBlock.indexOf(n)]=V:currentBlock.push(V)),V.patchFlag|=-2,V}if(isClassComponent(n)&&(n=n.__vccOpts),e){e=guardReactiveProps(e);let{class:V,style:L}=e;V&&!isString$3(V)&&(e.class=normalizeClass(V)),isObject$3(L)&&(isProxy(L)&&!isArray$3(L)&&(L=extend({},L)),e.style=normalizeStyle(L))}const $=isString$3(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject$3(n)?4:isFunction$3(n)?2:0;return createBaseVNode(n,e,r,g,y,$,k,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend({},n):n:null}function cloneVNode(n,e,r=!1){const{props:g,ref:y,patchFlag:k,children:$}=n,V=e?mergeProps(g||{},e):g;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:V,key:V&&normalizeKey(V),ref:e&&e.ref?r&&y?isArray$3(y)?y.concat(normalizeRef(e)):[y,normalizeRef(e)]:normalizeRef(e):y,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:$,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Fragment?k===-1?16:k|16:k,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function createTextVNode(n=" ",e=0){return createVNode(Text$2,null,n,e)}function createCommentVNode(n="",e=!1){return e?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray$3(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text$2,null,String(n))}function cloneIfMounted(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:cloneVNode(n)}function normalizeChildren(n,e){let r=0;const{shapeFlag:g}=n;if(e==null)e=null;else if(isArray$3(e))r=16;else if(typeof e=="object")if(g&65){const y=e.default;y&&(y._c&&(y._d=!1),normalizeChildren(n,y()),y._c&&(y._d=!0));return}else{r=32;const y=e._;!y&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:y===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else isFunction$3(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),g&64?(r=16,e=[createTextVNode(e)]):r=8);n.children=e,n.shapeFlag|=r}function mergeProps(...n){const e={};for(let r=0;r<n.length;r++){const g=n[r];for(const y in g)if(y==="class")e.class!==g.class&&(e.class=normalizeClass([e.class,g.class]));else if(y==="style")e.style=normalizeStyle([e.style,g.style]);else if(isOn(y)){const k=e[y],$=g[y];$&&k!==$&&!(isArray$3(k)&&k.includes($))&&(e[y]=k?[].concat(k,$):$)}else y!==""&&(e[y]=g[y])}return e}function invokeVNodeHook(n,e,r,g=null){callWithAsyncErrorHandling(n,e,7,[r,g])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(n,e,r){const g=n.type,y=(e?e.appContext:n.appContext)||emptyAppContext,k={uid:uid$2++,vnode:n,type:g,parent:e,appContext:y,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(g,y),emitsOptions:normalizeEmitsOptions(g,y),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:g.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return k.ctx={_:k},k.root=e?e.root:k,k.emit=emit$1.bind(null,k),n.ce&&n.ce(k),k}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey]=[]),globalCurrentInstanceSetters.push(n=>currentInstance=n),internalSetCurrentInstance=n=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(n)):globalCurrentInstanceSetters[0](n)};const setCurrentInstance=n=>{internalSetCurrentInstance(n),n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,e=!1){isInSSRComponentSetup=e;const{props:r,children:g}=n.vnode,y=isStatefulComponent(n);initProps(n,r,y,e),initSlots(n,g);const k=y?setupStatefulComponent(n,e):void 0;return isInSSRComponentSetup=!1,k}function setupStatefulComponent(n,e){const r=n.type;n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers));const{setup:g}=r;if(g){const y=n.setupContext=g.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const k=callWithErrorHandling(g,n,0,[n.props,y]);if(resetTracking(),unsetCurrentInstance(),isPromise(k)){if(k.then(unsetCurrentInstance,unsetCurrentInstance),e)return k.then($=>{handleSetupResult(n,$,e)}).catch($=>{handleError($,n,0)});n.asyncDep=k}else handleSetupResult(n,k,e)}else finishComponentSetup(n,e)}function handleSetupResult(n,e,r){isFunction$3(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:isObject$3(e)&&(n.setupState=proxyRefs(e)),finishComponentSetup(n,r)}let compile$1;function finishComponentSetup(n,e,r){const g=n.type;if(!n.render){if(!e&&compile$1&&!g.render){const y=g.template||resolveMergedOptions(n).template;if(y){const{isCustomElement:k,compilerOptions:$}=n.appContext.config,{delimiters:V,compilerOptions:L}=g,z=extend(extend({isCustomElement:k,delimiters:V},$),L);g.render=compile$1(y,z)}}n.render=g.render||NOOP}setCurrentInstance(n),pauseTracking(),applyOptions(n),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,r){return track(n,"get","$attrs"),e[r]}}))}function createSetupContext(n){const e=r=>{n.exposed=r||{}};return{get attrs(){return getAttrsProxy(n)},slots:n.slots,emit:n.emit,expose:e}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](n)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(n,e=!0){return isFunction$3(n)?n.displayName||n.name:n.name||e&&n.__name}function isClassComponent(n){return isFunction$3(n)&&"__vccOpts"in n}const computed=(n,e)=>computed$1(n,e,isInSSRComponentSetup);function h$1(n,e,r){const g=arguments.length;return g===2?isObject$3(e)&&!isArray$3(e)?isVNode$1(e)?createVNode(n,null,[e]):createVNode(n,e):createVNode(n,null,e):(g>3?r=Array.prototype.slice.call(arguments,2):g===3&&isVNode$1(r)&&(r=[r]),createVNode(n,e,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$1="3.3.4",svgNS="http://www.w3.org/2000/svg",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(n,e,r)=>{e.insertBefore(n,r||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,r,g)=>{const y=e?doc$1.createElementNS(svgNS,n):doc$1.createElement(n,r?{is:r}:void 0);return n==="select"&&g&&g.multiple!=null&&y.setAttribute("multiple",g.multiple),y},createText:n=>doc$1.createTextNode(n),createComment:n=>doc$1.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc$1.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,r,g,y,k){const $=r?r.previousSibling:e.lastChild;if(y&&(y===k||y.nextSibling))for(;e.insertBefore(y.cloneNode(!0),r),!(y===k||!(y=y.nextSibling)););else{templateContainer.innerHTML=g?`<svg>${n}</svg>`:n;const V=templateContainer.content;if(g){const L=V.firstChild;for(;L.firstChild;)V.appendChild(L.firstChild);V.removeChild(L)}e.insertBefore(V,r)}return[$?$.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(n,e,r){const g=n._vtc;g&&(e=(e?[e,...g]:[...g]).join(" ")),e==null?n.removeAttribute("class"):r?n.setAttribute("class",e):n.className=e}function patchStyle(n,e,r){const g=n.style,y=isString$3(r);if(r&&!y){if(e&&!isString$3(e))for(const k in e)r[k]==null&&setStyle(g,k,"");for(const k in r)setStyle(g,k,r[k])}else{const k=g.display;y?e!==r&&(g.cssText=r):e&&n.removeAttribute("style"),"_vod"in n&&(g.display=k)}}const importantRE=/\s*!important$/;function setStyle(n,e,r){if(isArray$3(r))r.forEach(g=>setStyle(n,e,g));else if(r==null&&(r=""),e.startsWith("--"))n.setProperty(e,r);else{const g=autoPrefix(n,e);importantRE.test(r)?n.setProperty(hyphenate(g),r.replace(importantRE,""),"important"):n[g]=r}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,e){const r=prefixCache[e];if(r)return r;let g=camelize(e);if(g!=="filter"&&g in n)return prefixCache[e]=g;g=capitalize$2(g);for(let y=0;y<prefixes$1.length;y++){const k=prefixes$1[y]+g;if(k in n)return prefixCache[e]=k}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,e,r,g,y){if(g&&e.startsWith("xlink:"))r==null?n.removeAttributeNS(xlinkNS,e.slice(6,e.length)):n.setAttributeNS(xlinkNS,e,r);else{const k=isSpecialBooleanAttr(e);r==null||k&&!includeBooleanAttr(r)?n.removeAttribute(e):n.setAttribute(e,k?"":r)}}function patchDOMProp(n,e,r,g,y,k,$){if(e==="innerHTML"||e==="textContent"){g&&$(g,y,k),n[e]=r??"";return}const V=n.tagName;if(e==="value"&&V!=="PROGRESS"&&!V.includes("-")){n._value=r;const z=V==="OPTION"?n.getAttribute("value"):n.value,j=r??"";z!==j&&(n.value=j),r==null&&n.removeAttribute(e);return}let L=!1;if(r===""||r==null){const z=typeof n[e];z==="boolean"?r=includeBooleanAttr(r):r==null&&z==="string"?(r="",L=!0):z==="number"&&(r=0,L=!0)}try{n[e]=r}catch{}L&&n.removeAttribute(e)}function addEventListener(n,e,r,g){n.addEventListener(e,r,g)}function removeEventListener(n,e,r,g){n.removeEventListener(e,r,g)}function patchEvent(n,e,r,g,y=null){const k=n._vei||(n._vei={}),$=k[e];if(g&&$)$.value=g;else{const[V,L]=parseName(e);if(g){const z=k[e]=createInvoker(g,y);addEventListener(n,V,z,L)}else $&&(removeEventListener(n,V,$,L),k[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let e;if(optionsModifierRE.test(n)){e={};let g;for(;g=n.match(optionsModifierRE);)n=n.slice(0,n.length-g[0].length),e[g[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hyphenate(n.slice(2)),e]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(n,e){const r=g=>{if(!g._vts)g._vts=Date.now();else if(g._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(g,r.value),e,5,[g])};return r.value=n,r.attached=getNow(),r}function patchStopImmediatePropagation(n,e){if(isArray$3(e)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},e.map(g=>y=>!y._stopped&&g&&g(y))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(n,e,r,g,y=!1,k,$,V,L)=>{e==="class"?patchClass(n,g,y):e==="style"?patchStyle(n,r,g):isOn(e)?isModelListener(e)||patchEvent(n,e,r,g,$):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(n,e,g,y))?patchDOMProp(n,e,g,k,$,V,L):(e==="true-value"?n._trueValue=g:e==="false-value"&&(n._falseValue=g),patchAttr(n,e,g,y))};function shouldSetAsProp(n,e,r,g){return g?!!(e==="innerHTML"||e==="textContent"||e in n&&nativeOnRE.test(e)&&isFunction$3(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$3(r)?!1:e in n}const TRANSITION="transition",ANIMATION="animation",Transition=(n,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(n),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(n,e=[])=>{isArray$3(n)?n.forEach(r=>r(...e)):n&&n(...e)},hasExplicitCallback=n=>n?isArray$3(n)?n.some(e=>e.length>1):n.length>1:!1;function resolveTransitionProps(n){const e={};for(const Et in n)Et in DOMTransitionPropsValidators||(e[Et]=n[Et]);if(n.css===!1)return e;const{name:r="v",type:g,duration:y,enterFromClass:k=`${r}-enter-from`,enterActiveClass:$=`${r}-enter-active`,enterToClass:V=`${r}-enter-to`,appearFromClass:L=k,appearActiveClass:z=$,appearToClass:j=V,leaveFromClass:re=`${r}-leave-from`,leaveActiveClass:oe=`${r}-leave-active`,leaveToClass:ae=`${r}-leave-to`}=n,de=normalizeDuration(y),ue=de&&de[0],pe=de&&de[1],{onBeforeEnter:he,onEnter:xe,onEnterCancelled:$e,onLeave:Ne,onLeaveCancelled:Oe,onBeforeAppear:_e=he,onAppear:Fe=xe,onAppearCancelled:Ue=$e}=e,kt=(Et,xn,jt)=>{removeTransitionClass(Et,xn?j:V),removeTransitionClass(Et,xn?z:$),jt&&jt()},Lt=(Et,xn)=>{Et._isLeaving=!1,removeTransitionClass(Et,re),removeTransitionClass(Et,ae),removeTransitionClass(Et,oe),xn&&xn()},wn=Et=>(xn,jt)=>{const An=Et?Fe:xe,Dn=()=>kt(xn,Et,jt);callHook(An,[xn,Dn]),nextFrame(()=>{removeTransitionClass(xn,Et?L:k),addTransitionClass(xn,Et?j:V),hasExplicitCallback(An)||whenTransitionEnds(xn,g,ue,Dn)})};return extend(e,{onBeforeEnter(Et){callHook(he,[Et]),addTransitionClass(Et,k),addTransitionClass(Et,$)},onBeforeAppear(Et){callHook(_e,[Et]),addTransitionClass(Et,L),addTransitionClass(Et,z)},onEnter:wn(!1),onAppear:wn(!0),onLeave(Et,xn){Et._isLeaving=!0;const jt=()=>Lt(Et,xn);addTransitionClass(Et,re),forceReflow(),addTransitionClass(Et,oe),nextFrame(()=>{Et._isLeaving&&(removeTransitionClass(Et,re),addTransitionClass(Et,ae),hasExplicitCallback(Ne)||whenTransitionEnds(Et,g,pe,jt))}),callHook(Ne,[Et,jt])},onEnterCancelled(Et){kt(Et,!1),callHook($e,[Et])},onAppearCancelled(Et){kt(Et,!0),callHook(Ue,[Et])},onLeaveCancelled(Et){Lt(Et),callHook(Oe,[Et])}})}function normalizeDuration(n){if(n==null)return null;if(isObject$3(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const e=NumberOf(n);return[e,e]}}function NumberOf(n){return toNumber$1(n)}function addTransitionClass(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n._vtc||(n._vtc=new Set)).add(e)}function removeTransitionClass(n,e){e.split(/\s+/).forEach(g=>g&&n.classList.remove(g));const{_vtc:r}=n;r&&(r.delete(e),r.size||(n._vtc=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let endId=0;function whenTransitionEnds(n,e,r,g){const y=n._endId=++endId,k=()=>{y===n._endId&&g()};if(r)return setTimeout(k,r);const{type:$,timeout:V,propCount:L}=getTransitionInfo(n,e);if(!$)return g();const z=$+"end";let j=0;const re=()=>{n.removeEventListener(z,oe),k()},oe=ae=>{ae.target===n&&++j>=L&&re()};setTimeout(()=>{j<L&&re()},V+1),n.addEventListener(z,oe)}function getTransitionInfo(n,e){const r=window.getComputedStyle(n),g=de=>(r[de]||"").split(", "),y=g(`${TRANSITION}Delay`),k=g(`${TRANSITION}Duration`),$=getTimeout(y,k),V=g(`${ANIMATION}Delay`),L=g(`${ANIMATION}Duration`),z=getTimeout(V,L);let j=null,re=0,oe=0;e===TRANSITION?$>0&&(j=TRANSITION,re=$,oe=k.length):e===ANIMATION?z>0&&(j=ANIMATION,re=z,oe=L.length):(re=Math.max($,z),j=re>0?$>z?TRANSITION:ANIMATION:null,oe=j?j===TRANSITION?k.length:L.length:0);const ae=j===TRANSITION&&/\b(transform|all)(,|$)/.test(g(`${TRANSITION}Property`).toString());return{type:j,timeout:re,propCount:oe,hasTransform:ae}}function getTimeout(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((r,g)=>toMs(r)+toMs(n[g])))}function toMs(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(n,{slots:e}){const r=getCurrentInstance(),g=useTransitionState();let y,k;return onUpdated(()=>{if(!y.length)return;const $=n.moveClass||`${n.name||"v"}-move`;if(!hasCSSTransform(y[0].el,r.vnode.el,$))return;y.forEach(callPendingCbs),y.forEach(recordPosition);const V=y.filter(applyTranslation);forceReflow(),V.forEach(L=>{const z=L.el,j=z.style;addTransitionClass(z,$),j.transform=j.webkitTransform=j.transitionDuration="";const re=z._moveCb=oe=>{oe&&oe.target!==z||(!oe||/transform$/.test(oe.propertyName))&&(z.removeEventListener("transitionend",re),z._moveCb=null,removeTransitionClass(z,$))};z.addEventListener("transitionend",re)})}),()=>{const $=toRaw(n),V=resolveTransitionProps($);let L=$.tag||Fragment;y=k,k=e.default?getTransitionRawChildren(e.default()):[];for(let z=0;z<k.length;z++){const j=k[z];j.key!=null&&setTransitionHooks(j,resolveTransitionHooks(j,V,g,r))}if(y)for(let z=0;z<y.length;z++){const j=y[z];setTransitionHooks(j,resolveTransitionHooks(j,V,g,r)),positionMap.set(j,j.el.getBoundingClientRect())}return createVNode(L,null,k)}}},removeMode=n=>delete n.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(n){newPositionMap.set(n,n.el.getBoundingClientRect())}function applyTranslation(n){const e=positionMap.get(n),r=newPositionMap.get(n),g=e.left-r.left,y=e.top-r.top;if(g||y){const k=n.el.style;return k.transform=k.webkitTransform=`translate(${g}px,${y}px)`,k.transitionDuration="0s",n}}function hasCSSTransform(n,e,r){const g=n.cloneNode();n._vtc&&n._vtc.forEach($=>{$.split(/\s+/).forEach(V=>V&&g.classList.remove(V))}),r.split(/\s+/).forEach($=>$&&g.classList.add($)),g.style.display="none";const y=e.nodeType===1?e:e.parentNode;y.appendChild(g);const{hasTransform:k}=getTransitionInfo(g);return y.removeChild(g),k}const getModelAssigner=n=>{const e=n.props["onUpdate:modelValue"]||!1;return isArray$3(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(n){n.target.composing=!0}function onCompositionEnd(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(n,{modifiers:{lazy:e,trim:r,number:g}},y){n._assign=getModelAssigner(y);const k=g||y.props&&y.props.type==="number";addEventListener(n,e?"change":"input",$=>{if($.target.composing)return;let V=n.value;r&&(V=V.trim()),k&&(V=looseToNumber(V)),n._assign(V)}),r&&addEventListener(n,"change",()=>{n.value=n.value.trim()}),e||(addEventListener(n,"compositionstart",onCompositionStart),addEventListener(n,"compositionend",onCompositionEnd),addEventListener(n,"change",onCompositionEnd))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:r,trim:g,number:y}},k){if(n._assign=getModelAssigner(k),n.composing||document.activeElement===n&&n.type!=="range"&&(r||g&&n.value.trim()===e||(y||n.type==="number")&&looseToNumber(n.value)===e))return;const $=e??"";n.value!==$&&(n.value=$)}},vModelCheckbox={deep:!0,created(n,e,r){n._assign=getModelAssigner(r),addEventListener(n,"change",()=>{const g=n._modelValue,y=getValue$2(n),k=n.checked,$=n._assign;if(isArray$3(g)){const V=looseIndexOf(g,y),L=V!==-1;if(k&&!L)$(g.concat(y));else if(!k&&L){const z=[...g];z.splice(V,1),$(z)}}else if(isSet$1(g)){const V=new Set(g);k?V.add(y):V.delete(y),$(V)}else $(getCheckboxValue(n,k))})},mounted:setChecked,beforeUpdate(n,e,r){n._assign=getModelAssigner(r),setChecked(n,e,r)}};function setChecked(n,{value:e,oldValue:r},g){n._modelValue=e,isArray$3(e)?n.checked=looseIndexOf(e,g.props.value)>-1:isSet$1(e)?n.checked=e.has(g.props.value):e!==r&&(n.checked=looseEqual(e,getCheckboxValue(n,!0)))}const vModelRadio={created(n,{value:e},r){n.checked=looseEqual(e,r.props.value),n._assign=getModelAssigner(r),addEventListener(n,"change",()=>{n._assign(getValue$2(n))})},beforeUpdate(n,{value:e,oldValue:r},g){n._assign=getModelAssigner(g),e!==r&&(n.checked=looseEqual(e,g.props.value))}};function getValue$2(n){return"_value"in n?n._value:n.value}function getCheckboxValue(n,e){const r=e?"_trueValue":"_falseValue";return r in n?n[r]:e}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>systemModifiers.some(r=>n[`${r}Key`]&&!e.includes(r))},withModifiers=(n,e)=>(r,...g)=>{for(let y=0;y<e.length;y++){const k=modifierGuards[e[y]];if(k&&k(r,e))return}return n(r,...g)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(n,e)=>r=>{if(!("key"in r))return;const g=hyphenate(r.key);if(e.some(y=>y===g||keyNames[y]===g))return n(r)},vShow={beforeMount(n,{value:e},{transition:r}){n._vod=n.style.display==="none"?"":n.style.display,r&&e?r.beforeEnter(n):setDisplay(n,e)},mounted(n,{value:e},{transition:r}){r&&e&&r.enter(n)},updated(n,{value:e,oldValue:r},{transition:g}){!e!=!r&&(g?e?(g.beforeEnter(n),setDisplay(n,!0),g.enter(n)):g.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,e))},beforeUnmount(n,{value:e}){setDisplay(n,e)}};function setDisplay(n,e){n.style.display=e?n._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$2=(...n)=>{ensureRenderer().render(...n)},createApp=(...n)=>{const e=ensureRenderer().createApp(...n),{mount:r}=e;return e.mount=g=>{const y=normalizeContainer(g);if(!y)return;const k=e._component;!isFunction$3(k)&&!k.render&&!k.template&&(k.template=y.innerHTML),y.innerHTML="";const $=r(y,!1,y instanceof SVGElement);return y instanceof Element&&(y.removeAttribute("v-cloak"),y.setAttribute("data-v-app","")),$},e};function normalizeContainer(n){return isString$3(n)?document.querySelector(n):n}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(n,e){const r={};for(const g in e){const y=e[g];r[g]=isArray$2(y)?y.map(n):n(y)}return r}const noop$5=()=>{},isArray$2=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=n=>n.replace(TRAILING_SLASH_RE,"");function parseURL(n,e,r="/"){let g,y={},k="",$="";const V=e.indexOf("#");let L=e.indexOf("?");return V<L&&V>=0&&(L=-1),L>-1&&(g=e.slice(0,L),k=e.slice(L+1,V>-1?V:e.length),y=n(k)),V>-1&&(g=g||e.slice(0,V),$=e.slice(V,e.length)),g=resolveRelativePath(g??e,r),{fullPath:g+(k&&"?")+k+$,path:g,query:y,hash:$}}function stringifyURL(n,e){const r=e.query?n(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function isSameRouteLocation(n,e,r){const g=e.matched.length-1,y=r.matched.length-1;return g>-1&&g===y&&isSameRouteRecord(e.matched[g],r.matched[y])&&isSameRouteLocationParams(e.params,r.params)&&n(e.query)===n(r.query)&&e.hash===r.hash}function isSameRouteRecord(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function isSameRouteLocationParams(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!isSameRouteLocationParamsValue(n[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(n,e){return isArray$2(n)?isEquivalentArray(n,e):isArray$2(e)?isEquivalentArray(e,n):n===e}function isEquivalentArray(n,e){return isArray$2(e)?n.length===e.length&&n.every((r,g)=>r===e[g]):n.length===1&&n[0]===e}function resolveRelativePath(n,e){if(n.startsWith("/"))return n;if(!n)return e;const r=e.split("/"),g=n.split("/"),y=g[g.length-1];(y===".."||y===".")&&g.push("");let k=r.length-1,$,V;for($=0;$<g.length;$++)if(V=g[$],V!==".")if(V==="..")k>1&&k--;else break;return r.slice(0,k).join("/")+"/"+g.slice($-($===g.length?1:0)).join("/")}var NavigationType;(function(n){n.pop="pop",n.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(n){n.back="back",n.forward="forward",n.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(n){if(!n)if(isBrowser){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),removeTrailingSlash(n)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(n,e){return n.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(n,e){const r=document.documentElement.getBoundingClientRect(),g=n.getBoundingClientRect();return{behavior:e.behavior,left:g.left-r.left-(e.left||0),top:g.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(n){let e;if("el"in n){const r=n.el,g=typeof r=="string"&&r.startsWith("#"),y=typeof r=="string"?g?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!y)return;e=getElementPosition(y,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(n,e){return(history.state?history.state.position-e:-1)+n}const scrollPositions=new Map;function saveScrollPosition(n,e){scrollPositions.set(n,e)}function getSavedScrollPosition(n){const e=scrollPositions.get(n);return scrollPositions.delete(n),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(n,e){const{pathname:r,search:g,hash:y}=e,k=n.indexOf("#");if(k>-1){let V=y.includes(n.slice(k))?n.slice(k).length:1,L=y.slice(V);return L[0]!=="/"&&(L="/"+L),stripBase(L,"")}return stripBase(r,n)+g+y}function useHistoryListeners(n,e,r,g){let y=[],k=[],$=null;const V=({state:oe})=>{const ae=createCurrentLocation(n,location),de=r.value,ue=e.value;let pe=0;if(oe){if(r.value=ae,e.value=oe,$&&$===de){$=null;return}pe=ue?oe.position-ue.position:0}else g(ae);y.forEach(he=>{he(r.value,de,{delta:pe,type:NavigationType.pop,direction:pe?pe>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function L(){$=r.value}function z(oe){y.push(oe);const ae=()=>{const de=y.indexOf(oe);de>-1&&y.splice(de,1)};return k.push(ae),ae}function j(){const{history:oe}=window;oe.state&&oe.replaceState(assign$2({},oe.state,{scroll:computeScrollPosition()}),"")}function re(){for(const oe of k)oe();k=[],window.removeEventListener("popstate",V),window.removeEventListener("beforeunload",j)}return window.addEventListener("popstate",V),window.addEventListener("beforeunload",j,{passive:!0}),{pauseListeners:L,listen:z,destroy:re}}function buildState(n,e,r,g=!1,y=!1){return{back:n,current:e,forward:r,replaced:g,position:window.history.length,scroll:y?computeScrollPosition():null}}function useHistoryStateNavigation(n){const{history:e,location:r}=window,g={value:createCurrentLocation(n,r)},y={value:e.state};y.value||k(g.value,{back:null,current:g.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function k(L,z,j){const re=n.indexOf("#"),oe=re>-1?(r.host&&document.querySelector("base")?n:n.slice(re))+L:createBaseLocation()+n+L;try{e[j?"replaceState":"pushState"](z,"",oe),y.value=z}catch(ae){console.error(ae),r[j?"replace":"assign"](oe)}}function $(L,z){const j=assign$2({},e.state,buildState(y.value.back,L,y.value.forward,!0),z,{position:y.value.position});k(L,j,!0),g.value=L}function V(L,z){const j=assign$2({},y.value,e.state,{forward:L,scroll:computeScrollPosition()});k(j.current,j,!0);const re=assign$2({},buildState(g.value,L,null),{position:j.position+1},z);k(L,re,!1),g.value=L}return{location:g,state:y,push:V,replace:$}}function createWebHistory(n){n=normalizeBase(n);const e=useHistoryStateNavigation(n),r=useHistoryListeners(n,e.state,e.location,e.replace);function g(k,$=!0){$||r.pauseListeners(),history.go(k)}const y=assign$2({location:"",base:n,go:g,createHref:createHref.bind(null,n)},e,r);return Object.defineProperty(y,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(y,"state",{enumerable:!0,get:()=>e.state.value}),y}function createWebHashHistory(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),createWebHistory(n)}function isRouteLocation(n){return typeof n=="string"||n&&typeof n=="object"}function isRouteName(n){return typeof n=="string"||typeof n=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(n,e){return assign$2(new Error,{type:n,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(n,e){return n instanceof Error&&NavigationFailureSymbol in n&&(e==null||!!(n.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(n,e){const r=assign$2({},BASE_PATH_PARSER_OPTIONS,e),g=[];let y=r.start?"^":"";const k=[];for(const z of n){const j=z.length?[]:[90];r.strict&&!z.length&&(y+="/");for(let re=0;re<z.length;re++){const oe=z[re];let ae=40+(r.sensitive?.25:0);if(oe.type===0)re||(y+="/"),y+=oe.value.replace(REGEX_CHARS_RE,"\\$&"),ae+=40;else if(oe.type===1){const{value:de,repeatable:ue,optional:pe,regexp:he}=oe;k.push({name:de,repeatable:ue,optional:pe});const xe=he||BASE_PARAM_PATTERN;if(xe!==BASE_PARAM_PATTERN){ae+=10;try{new RegExp(`(${xe})`)}catch(Ne){throw new Error(`Invalid custom RegExp for param "${de}" (${xe}): `+Ne.message)}}let $e=ue?`((?:${xe})(?:/(?:${xe}))*)`:`(${xe})`;re||($e=pe&&z.length<2?`(?:/${$e})`:"/"+$e),pe&&($e+="?"),y+=$e,ae+=20,pe&&(ae+=-8),ue&&(ae+=-20),xe===".*"&&(ae+=-50)}j.push(ae)}g.push(j)}if(r.strict&&r.end){const z=g.length-1;g[z][g[z].length-1]+=.7000000000000001}r.strict||(y+="/?"),r.end?y+="$":r.strict&&(y+="(?:/|$)");const $=new RegExp(y,r.sensitive?"":"i");function V(z){const j=z.match($),re={};if(!j)return null;for(let oe=1;oe<j.length;oe++){const ae=j[oe]||"",de=k[oe-1];re[de.name]=ae&&de.repeatable?ae.split("/"):ae}return re}function L(z){let j="",re=!1;for(const oe of n){(!re||!j.endsWith("/"))&&(j+="/"),re=!1;for(const ae of oe)if(ae.type===0)j+=ae.value;else if(ae.type===1){const{value:de,repeatable:ue,optional:pe}=ae,he=de in z?z[de]:"";if(isArray$2(he)&&!ue)throw new Error(`Provided param "${de}" is an array but it is not repeatable (* or + modifiers)`);const xe=isArray$2(he)?he.join("/"):he;if(!xe)if(pe)oe.length<2&&(j.endsWith("/")?j=j.slice(0,-1):re=!0);else throw new Error(`Missing required param "${de}"`);j+=xe}}return j||"/"}return{re:$,score:g,keys:k,parse:V,stringify:L}}function compareScoreArray(n,e){let r=0;for(;r<n.length&&r<e.length;){const g=e[r]-n[r];if(g)return g;r++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function comparePathParserScore(n,e){let r=0;const g=n.score,y=e.score;for(;r<g.length&&r<y.length;){const k=compareScoreArray(g[r],y[r]);if(k)return k;r++}if(Math.abs(y.length-g.length)===1){if(isLastScoreNegative(g))return 1;if(isLastScoreNegative(y))return-1}return y.length-g.length}function isLastScoreNegative(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(n){if(!n)return[[]];if(n==="/")return[[ROOT_TOKEN]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(ae){throw new Error(`ERR (${r})/"${z}": ${ae}`)}let r=0,g=r;const y=[];let k;function $(){k&&y.push(k),k=[]}let V=0,L,z="",j="";function re(){z&&(r===0?k.push({type:0,value:z}):r===1||r===2||r===3?(k.length>1&&(L==="*"||L==="+")&&e(`A repeatable param (${z}) must be alone in its segment. eg: '/:ids+.`),k.push({type:1,value:z,regexp:j,repeatable:L==="*"||L==="+",optional:L==="*"||L==="?"})):e("Invalid state to consume buffer"),z="")}function oe(){z+=L}for(;V<n.length;){if(L=n[V++],L==="\\"&&r!==2){g=r,r=4;continue}switch(r){case 0:L==="/"?(z&&re(),$()):L===":"?(re(),r=1):oe();break;case 4:oe(),r=g;break;case 1:L==="("?r=2:VALID_PARAM_RE.test(L)?oe():(re(),r=0,L!=="*"&&L!=="?"&&L!=="+"&&V--);break;case 2:L===")"?j[j.length-1]=="\\"?j=j.slice(0,-1)+L:r=3:j+=L;break;case 3:re(),r=0,L!=="*"&&L!=="?"&&L!=="+"&&V--,j="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${z}"`),re(),$(),y}function createRouteRecordMatcher(n,e,r){const g=tokensToParser(tokenizePath(n.path),r),y=assign$2(g,{record:n,parent:e,children:[],alias:[]});return e&&!y.record.aliasOf==!e.record.aliasOf&&e.children.push(y),y}function createRouterMatcher(n,e){const r=[],g=new Map;e=mergeOptions$1({strict:!1,end:!0,sensitive:!1},e);function y(j){return g.get(j)}function k(j,re,oe){const ae=!oe,de=normalizeRouteRecord(j);de.aliasOf=oe&&oe.record;const ue=mergeOptions$1(e,j),pe=[de];if("alias"in j){const $e=typeof j.alias=="string"?[j.alias]:j.alias;for(const Ne of $e)pe.push(assign$2({},de,{components:oe?oe.record.components:de.components,path:Ne,aliasOf:oe?oe.record:de}))}let he,xe;for(const $e of pe){const{path:Ne}=$e;if(re&&Ne[0]!=="/"){const Oe=re.record.path,_e=Oe[Oe.length-1]==="/"?"":"/";$e.path=re.record.path+(Ne&&_e+Ne)}if(he=createRouteRecordMatcher($e,re,ue),oe?oe.alias.push(he):(xe=xe||he,xe!==he&&xe.alias.push(he),ae&&j.name&&!isAliasRecord(he)&&$(j.name)),de.children){const Oe=de.children;for(let _e=0;_e<Oe.length;_e++)k(Oe[_e],he,oe&&oe.children[_e])}oe=oe||he,(he.record.components&&Object.keys(he.record.components).length||he.record.name||he.record.redirect)&&L(he)}return xe?()=>{$(xe)}:noop$5}function $(j){if(isRouteName(j)){const re=g.get(j);re&&(g.delete(j),r.splice(r.indexOf(re),1),re.children.forEach($),re.alias.forEach($))}else{const re=r.indexOf(j);re>-1&&(r.splice(re,1),j.record.name&&g.delete(j.record.name),j.children.forEach($),j.alias.forEach($))}}function V(){return r}function L(j){let re=0;for(;re<r.length&&comparePathParserScore(j,r[re])>=0&&(j.record.path!==r[re].record.path||!isRecordChildOf(j,r[re]));)re++;r.splice(re,0,j),j.record.name&&!isAliasRecord(j)&&g.set(j.record.name,j)}function z(j,re){let oe,ae={},de,ue;if("name"in j&&j.name){if(oe=g.get(j.name),!oe)throw createRouterError(1,{location:j});ue=oe.record.name,ae=assign$2(paramsFromLocation(re.params,oe.keys.filter(xe=>!xe.optional).map(xe=>xe.name)),j.params&&paramsFromLocation(j.params,oe.keys.map(xe=>xe.name))),de=oe.stringify(ae)}else if("path"in j)de=j.path,oe=r.find(xe=>xe.re.test(de)),oe&&(ae=oe.parse(de),ue=oe.record.name);else{if(oe=re.name?g.get(re.name):r.find(xe=>xe.re.test(re.path)),!oe)throw createRouterError(1,{location:j,currentLocation:re});ue=oe.record.name,ae=assign$2({},re.params,j.params),de=oe.stringify(ae)}const pe=[];let he=oe;for(;he;)pe.unshift(he.record),he=he.parent;return{name:ue,path:de,params:ae,matched:pe,meta:mergeMetaFields(pe)}}return n.forEach(j=>k(j)),{addRoute:k,resolve:z,removeRoute:$,getRoutes:V,getRecordMatcher:y}}function paramsFromLocation(n,e){const r={};for(const g of e)g in n&&(r[g]=n[g]);return r}function normalizeRouteRecord(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:normalizeRecordProps(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function normalizeRecordProps(n){const e={},r=n.props||!1;if("component"in n)e.default=r;else for(const g in n.components)e[g]=typeof r=="object"?r[g]:r;return e}function isAliasRecord(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function mergeMetaFields(n){return n.reduce((e,r)=>assign$2(e,r.meta),{})}function mergeOptions$1(n,e){const r={};for(const g in n)r[g]=g in e?e[g]:n[g];return r}function isRecordChildOf(n,e){return e.children.some(r=>r===n||isRecordChildOf(n,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(n){return encodeURI(""+n).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(n){return commonEncode(n).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(n){return commonEncode(n).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(n){return encodeQueryValue(n).replace(EQUAL_RE,"%3D")}function encodePath(n){return commonEncode(n).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(n){return n==null?"":encodePath(n).replace(SLASH_RE,"%2F")}function decode(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function parseQuery(n){const e={};if(n===""||n==="?")return e;const g=(n[0]==="?"?n.slice(1):n).split("&");for(let y=0;y<g.length;++y){const k=g[y].replace(PLUS_RE," "),$=k.indexOf("="),V=decode($<0?k:k.slice(0,$)),L=$<0?null:decode(k.slice($+1));if(V in e){let z=e[V];isArray$2(z)||(z=e[V]=[z]),z.push(L)}else e[V]=L}return e}function stringifyQuery(n){let e="";for(let r in n){const g=n[r];if(r=encodeQueryKey(r),g==null){g!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray$2(g)?g.map(k=>k&&encodeQueryValue(k)):[g&&encodeQueryValue(g)]).forEach(k=>{k!==void 0&&(e+=(e.length?"&":"")+r,k!=null&&(e+="="+k))})}return e}function normalizeQuery(n){const e={};for(const r in n){const g=n[r];g!==void 0&&(e[r]=isArray$2(g)?g.map(y=>y==null?null:""+y):g==null?g:""+g)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let n=[];function e(g){return n.push(g),()=>{const y=n.indexOf(g);y>-1&&n.splice(y,1)}}function r(){n=[]}return{add:e,list:()=>n.slice(),reset:r}}function registerGuard(n,e,r){const g=()=>{n[e].delete(r)};onUnmounted(g),onDeactivated(g),onActivated(()=>{n[e].add(r)}),n[e].add(r)}function onBeforeRouteLeave(n){const e=inject(matchedRouteKey,{}).value;e&&registerGuard(e,"leaveGuards",n)}function guardToPromiseFn(n,e,r,g,y){const k=g&&(g.enterCallbacks[y]=g.enterCallbacks[y]||[]);return()=>new Promise(($,V)=>{const L=re=>{re===!1?V(createRouterError(4,{from:r,to:e})):re instanceof Error?V(re):isRouteLocation(re)?V(createRouterError(2,{from:e,to:re})):(k&&g.enterCallbacks[y]===k&&typeof re=="function"&&k.push(re),$())},z=n.call(g&&g.instances[y],e,r,L);let j=Promise.resolve(z);n.length<3&&(j=j.then(L)),j.catch(re=>V(re))})}function extractComponentsGuards(n,e,r,g){const y=[];for(const k of n)for(const $ in k.components){let V=k.components[$];if(!(e!=="beforeRouteEnter"&&!k.instances[$]))if(isRouteComponent(V)){const z=(V.__vccOpts||V)[e];z&&y.push(guardToPromiseFn(z,r,g,k,$))}else{let L=V();y.push(()=>L.then(z=>{if(!z)return Promise.reject(new Error(`Couldn't resolve component "${$}" at "${k.path}"`));const j=isESModule(z)?z.default:z;k.components[$]=j;const oe=(j.__vccOpts||j)[e];return oe&&guardToPromiseFn(oe,r,g,k,$)()}))}}return y}function isRouteComponent(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function useLink(n){const e=inject(routerKey),r=inject(routeLocationKey),g=computed(()=>e.resolve(unref(n.to))),y=computed(()=>{const{matched:L}=g.value,{length:z}=L,j=L[z-1],re=r.matched;if(!j||!re.length)return-1;const oe=re.findIndex(isSameRouteRecord.bind(null,j));if(oe>-1)return oe;const ae=getOriginalPath(L[z-2]);return z>1&&getOriginalPath(j)===ae&&re[re.length-1].path!==ae?re.findIndex(isSameRouteRecord.bind(null,L[z-2])):oe}),k=computed(()=>y.value>-1&&includesParams(r.params,g.value.params)),$=computed(()=>y.value>-1&&y.value===r.matched.length-1&&isSameRouteLocationParams(r.params,g.value.params));function V(L={}){return guardEvent(L)?e[unref(n.replace)?"replace":"push"](unref(n.to)).catch(noop$5):Promise.resolve()}return{route:g,href:computed(()=>g.value.href),isActive:k,isExactActive:$,navigate:V}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(n,{slots:e}){const r=reactive(useLink(n)),{options:g}=inject(routerKey),y=computed(()=>({[getLinkClass(n.activeClass,g.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(n.exactActiveClass,g.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const k=e.default&&e.default(r);return n.custom?k:h$1("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:y.value},k)}}}),RouterLink=RouterLinkImpl;function guardEvent(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function includesParams(n,e){for(const r in e){const g=e[r],y=n[r];if(typeof g=="string"){if(g!==y)return!1}else if(!isArray$2(y)||y.length!==g.length||g.some((k,$)=>k!==y[$]))return!1}return!0}function getOriginalPath(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const getLinkClass=(n,e,r)=>n??e??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:r}){const g=inject(routerViewLocationKey),y=computed(()=>n.route||g.value),k=inject(viewDepthKey,0),$=computed(()=>{let z=unref(k);const{matched:j}=y.value;let re;for(;(re=j[z])&&!re.components;)z++;return z}),V=computed(()=>y.value.matched[$.value]);provide(viewDepthKey,computed(()=>$.value+1)),provide(matchedRouteKey,V),provide(routerViewLocationKey,y);const L=ref();return watch(()=>[L.value,V.value,n.name],([z,j,re],[oe,ae,de])=>{j&&(j.instances[re]=z,ae&&ae!==j&&z&&z===oe&&(j.leaveGuards.size||(j.leaveGuards=ae.leaveGuards),j.updateGuards.size||(j.updateGuards=ae.updateGuards))),z&&j&&(!ae||!isSameRouteRecord(j,ae)||!oe)&&(j.enterCallbacks[re]||[]).forEach(ue=>ue(z))},{flush:"post"}),()=>{const z=y.value,j=n.name,re=V.value,oe=re&&re.components[j];if(!oe)return normalizeSlot(r.default,{Component:oe,route:z});const ae=re.props[j],de=ae?ae===!0?z.params:typeof ae=="function"?ae(z):ae:null,pe=h$1(oe,assign$2({},de,e,{onVnodeUnmounted:he=>{he.component.isUnmounted&&(re.instances[j]=null)},ref:L}));return normalizeSlot(r.default,{Component:pe,route:z})||pe}}});function normalizeSlot(n,e){if(!n)return null;const r=n(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(n){const e=createRouterMatcher(n.routes,n),r=n.parseQuery||parseQuery,g=n.stringifyQuery||stringifyQuery,y=n.history,k=useCallbacks(),$=useCallbacks(),V=useCallbacks(),L=shallowRef(START_LOCATION_NORMALIZED);let z=START_LOCATION_NORMALIZED;isBrowser&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const j=applyToParams.bind(null,Pn=>""+Pn),re=applyToParams.bind(null,encodeParam),oe=applyToParams.bind(null,decode);function ae(Pn,jn){let fr,yr;return isRouteName(Pn)?(fr=e.getRecordMatcher(Pn),yr=jn):yr=Pn,e.addRoute(yr,fr)}function de(Pn){const jn=e.getRecordMatcher(Pn);jn&&e.removeRoute(jn)}function ue(){return e.getRoutes().map(Pn=>Pn.record)}function pe(Pn){return!!e.getRecordMatcher(Pn)}function he(Pn,jn){if(jn=assign$2({},jn||L.value),typeof Pn=="string"){const vn=parseURL(r,Pn,jn.path),Jn=e.resolve({path:vn.path},jn),Tn=y.createHref(vn.fullPath);return assign$2(vn,Jn,{params:oe(Jn.params),hash:decode(vn.hash),redirectedFrom:void 0,href:Tn})}let fr;if("path"in Pn)fr=assign$2({},Pn,{path:parseURL(r,Pn.path,jn.path).path});else{const vn=assign$2({},Pn.params);for(const Jn in vn)vn[Jn]==null&&delete vn[Jn];fr=assign$2({},Pn,{params:re(vn)}),jn.params=re(jn.params)}const yr=e.resolve(fr,jn),Cr=Pn.hash||"";yr.params=j(oe(yr.params));const sr=stringifyURL(g,assign$2({},Pn,{hash:encodeHash(Cr),path:yr.path})),zn=y.createHref(sr);return assign$2({fullPath:sr,hash:Cr,query:g===stringifyQuery?normalizeQuery(Pn.query):Pn.query||{}},yr,{redirectedFrom:void 0,href:zn})}function xe(Pn){return typeof Pn=="string"?parseURL(r,Pn,L.value.path):assign$2({},Pn)}function $e(Pn,jn){if(z!==Pn)return createRouterError(8,{from:jn,to:Pn})}function Ne(Pn){return Fe(Pn)}function Oe(Pn){return Ne(assign$2(xe(Pn),{replace:!0}))}function _e(Pn){const jn=Pn.matched[Pn.matched.length-1];if(jn&&jn.redirect){const{redirect:fr}=jn;let yr=typeof fr=="function"?fr(Pn):fr;return typeof yr=="string"&&(yr=yr.includes("?")||yr.includes("#")?yr=xe(yr):{path:yr},yr.params={}),assign$2({query:Pn.query,hash:Pn.hash,params:"path"in yr?{}:Pn.params},yr)}}function Fe(Pn,jn){const fr=z=he(Pn),yr=L.value,Cr=Pn.state,sr=Pn.force,zn=Pn.replace===!0,vn=_e(fr);if(vn)return Fe(assign$2(xe(vn),{state:typeof vn=="object"?assign$2({},Cr,vn.state):Cr,force:sr,replace:zn}),jn||fr);const Jn=fr;Jn.redirectedFrom=jn;let Tn;return!sr&&isSameRouteLocation(g,yr,fr)&&(Tn=createRouterError(16,{to:Jn,from:yr}),Gn(yr,yr,!0,!1)),(Tn?Promise.resolve(Tn):Lt(Jn,yr)).catch(Dt=>isNavigationFailure(Dt)?isNavigationFailure(Dt,2)?Dt:Wn(Dt):Bn(Dt,Jn,yr)).then(Dt=>{if(Dt){if(isNavigationFailure(Dt,2))return Fe(assign$2({replace:zn},xe(Dt.to),{state:typeof Dt.to=="object"?assign$2({},Cr,Dt.to.state):Cr,force:sr}),jn||Jn)}else Dt=Et(Jn,yr,!0,zn,Cr);return wn(Jn,yr,Dt),Dt})}function Ue(Pn,jn){const fr=$e(Pn,jn);return fr?Promise.reject(fr):Promise.resolve()}function kt(Pn){const jn=Hn.values().next().value;return jn&&typeof jn.runWithContext=="function"?jn.runWithContext(Pn):Pn()}function Lt(Pn,jn){let fr;const[yr,Cr,sr]=extractChangingRecords(Pn,jn);fr=extractComponentsGuards(yr.reverse(),"beforeRouteLeave",Pn,jn);for(const vn of yr)vn.leaveGuards.forEach(Jn=>{fr.push(guardToPromiseFn(Jn,Pn,jn))});const zn=Ue.bind(null,Pn,jn);return fr.push(zn),Xn(fr).then(()=>{fr=[];for(const vn of k.list())fr.push(guardToPromiseFn(vn,Pn,jn));return fr.push(zn),Xn(fr)}).then(()=>{fr=extractComponentsGuards(Cr,"beforeRouteUpdate",Pn,jn);for(const vn of Cr)vn.updateGuards.forEach(Jn=>{fr.push(guardToPromiseFn(Jn,Pn,jn))});return fr.push(zn),Xn(fr)}).then(()=>{fr=[];for(const vn of sr)if(vn.beforeEnter)if(isArray$2(vn.beforeEnter))for(const Jn of vn.beforeEnter)fr.push(guardToPromiseFn(Jn,Pn,jn));else fr.push(guardToPromiseFn(vn.beforeEnter,Pn,jn));return fr.push(zn),Xn(fr)}).then(()=>(Pn.matched.forEach(vn=>vn.enterCallbacks={}),fr=extractComponentsGuards(sr,"beforeRouteEnter",Pn,jn),fr.push(zn),Xn(fr))).then(()=>{fr=[];for(const vn of $.list())fr.push(guardToPromiseFn(vn,Pn,jn));return fr.push(zn),Xn(fr)}).catch(vn=>isNavigationFailure(vn,8)?vn:Promise.reject(vn))}function wn(Pn,jn,fr){V.list().forEach(yr=>kt(()=>yr(Pn,jn,fr)))}function Et(Pn,jn,fr,yr,Cr){const sr=$e(Pn,jn);if(sr)return sr;const zn=jn===START_LOCATION_NORMALIZED,vn=isBrowser?history.state:{};fr&&(yr||zn?y.replace(Pn.fullPath,assign$2({scroll:zn&&vn&&vn.scroll},Cr)):y.push(Pn.fullPath,Cr)),L.value=Pn,Gn(Pn,jn,fr,zn),Wn()}let xn;function jt(){xn||(xn=y.listen((Pn,jn,fr)=>{if(!rr.listening)return;const yr=he(Pn),Cr=_e(yr);if(Cr){Fe(assign$2(Cr,{replace:!0}),yr).catch(noop$5);return}z=yr;const sr=L.value;isBrowser&&saveScrollPosition(getScrollKey(sr.fullPath,fr.delta),computeScrollPosition()),Lt(yr,sr).catch(zn=>isNavigationFailure(zn,12)?zn:isNavigationFailure(zn,2)?(Fe(zn.to,yr).then(vn=>{isNavigationFailure(vn,20)&&!fr.delta&&fr.type===NavigationType.pop&&y.go(-1,!1)}).catch(noop$5),Promise.reject()):(fr.delta&&y.go(-fr.delta,!1),Bn(zn,yr,sr))).then(zn=>{zn=zn||Et(yr,sr,!1),zn&&(fr.delta&&!isNavigationFailure(zn,8)?y.go(-fr.delta,!1):fr.type===NavigationType.pop&&isNavigationFailure(zn,20)&&y.go(-1,!1)),wn(yr,sr,zn)}).catch(noop$5)}))}let An=useCallbacks(),Dn=useCallbacks(),En;function Bn(Pn,jn,fr){Wn(Pn);const yr=Dn.list();return yr.length?yr.forEach(Cr=>Cr(Pn,jn,fr)):console.error(Pn),Promise.reject(Pn)}function $n(){return En&&L.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Pn,jn)=>{An.add([Pn,jn])})}function Wn(Pn){return En||(En=!Pn,jt(),An.list().forEach(([jn,fr])=>Pn?fr(Pn):jn()),An.reset()),Pn}function Gn(Pn,jn,fr,yr){const{scrollBehavior:Cr}=n;if(!isBrowser||!Cr)return Promise.resolve();const sr=!fr&&getSavedScrollPosition(getScrollKey(Pn.fullPath,0))||(yr||!fr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Cr(Pn,jn,sr)).then(zn=>zn&&scrollToPosition(zn)).catch(zn=>Bn(zn,Pn,jn))}const Nn=Pn=>y.go(Pn);let Zn;const Hn=new Set,rr={currentRoute:L,listening:!0,addRoute:ae,removeRoute:de,hasRoute:pe,getRoutes:ue,resolve:he,options:n,push:Ne,replace:Oe,go:Nn,back:()=>Nn(-1),forward:()=>Nn(1),beforeEach:k.add,beforeResolve:$.add,afterEach:V.add,onError:Dn.add,isReady:$n,install(Pn){const jn=this;Pn.component("RouterLink",RouterLink),Pn.component("RouterView",RouterView),Pn.config.globalProperties.$router=jn,Object.defineProperty(Pn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(L)}),isBrowser&&!Zn&&L.value===START_LOCATION_NORMALIZED&&(Zn=!0,Ne(y.location).catch(Cr=>{}));const fr={};for(const Cr in START_LOCATION_NORMALIZED)Object.defineProperty(fr,Cr,{get:()=>L.value[Cr],enumerable:!0});Pn.provide(routerKey,jn),Pn.provide(routeLocationKey,shallowReactive(fr)),Pn.provide(routerViewLocationKey,L);const yr=Pn.unmount;Hn.add(Pn),Pn.unmount=function(){Hn.delete(Pn),Hn.size<1&&(z=START_LOCATION_NORMALIZED,xn&&xn(),xn=null,L.value=START_LOCATION_NORMALIZED,Zn=!1,En=!1),yr()}}};function Xn(Pn){return Pn.reduce((jn,fr)=>jn.then(()=>kt(fr)),Promise.resolve())}return rr}function extractChangingRecords(n,e){const r=[],g=[],y=[],k=Math.max(e.matched.length,n.matched.length);for(let $=0;$<k;$++){const V=e.matched[$];V&&(n.matched.find(z=>isSameRouteRecord(z,V))?g.push(V):r.push(V));const L=n.matched[$];L&&(e.matched.find(z=>isSameRouteRecord(z,L))||y.push(L))}return[r,g,y]}const ENV=ref("web");ref(!0);const createFileDialogVisible=ref(!1),setCreateFileDialogVisible=n=>{createFileDialogVisible.value=n},fontSettingsDialogVisible=ref(!1),setFontSettingsDialogVisible=n=>{fontSettingsDialogVisible.value=n},fontSettings2DialogVisible=ref(!1),setFontSettings2DialogVisible=n=>{fontSettings2DialogVisible.value=n},preferenceSettingsDialogVisible=ref(!1),setPreferenceSettingsDialogVisible=n=>{preferenceSettingsDialogVisible.value=n},addTextDialogVisible=ref(!1),setAddTextDialogVisible=n=>{addTextDialogVisible.value=n},addGlyphDialogVisible=ref(!1),setAddGlyphDialogVisible=n=>{addGlyphDialogVisible.value=n},copyGlyphDialogVisible=ref(!1),setCopyGlyphDialogVisible=n=>{copyGlyphDialogVisible.value=n},editGlyphDialogVisible=ref(!1),setEditGlyphDialogVisible=n=>{editGlyphDialogVisible.value=n},copyCharacterDialogVisible=ref(!1),setCopyCharacterDialogVisible=n=>{copyCharacterDialogVisible.value=n},editCharacterDialogVisible=ref(!1),setEditCharacterDialogVisible=n=>{editCharacterDialogVisible.value=n},glyphComponentsDialogVisible=ref(!1),setGlyphComponentsDialogVisible=n=>{glyphComponentsDialogVisible.value=n},addIconDialogVisible=ref(!1),setAddIconDialogVisible=n=>{addIconDialogVisible.value=n},languageSettingsDialogVisible=ref(!1),setLanguageSettingsDialogVisible=n=>{languageSettingsDialogVisible.value=n},importTemplatesDialogVisible=ref(!1),setImportTemplatesDialogVisible=n=>{importTemplatesDialogVisible.value=n},setAsGlobalParamDialogVisible=ref(!1),setSetAsGlobalParamDialogVisible=n=>{setAsGlobalParamDialogVisible.value=n},selectGlobalParamDialogVisible=ref(!1),setSelectGlobalParamDialogVisible=n=>{selectGlobalParamDialogVisible.value=n},tipsDialogVisible=ref(!1),setTipsDialogVisible=n=>{tipsDialogVisible.value=n},closeFileTipDialogVisible=ref(!1),setCloseFileTipDialogVisible=n=>{closeFileTipDialogVisible.value=n},saveFileTipDialogVisible=ref(!1),setSaveFileTipDialogVisible=n=>{saveFileTipDialogVisible.value=n},exportDialogVisible=ref(!1),setExportDialogVisible=n=>{exportDialogVisible.value=n},saveDialogVisible=ref(!1),setSaveDialogVisible=n=>{saveDialogVisible.value=n},saveAsDialogVisible=ref(!1),setSaveAsDialogVisible=n=>{saveAsDialogVisible.value=n},exportFontDialogVisible=ref(!1),setExportFontDialogVisible=n=>{exportFontDialogVisible.value=n},exportFontTauriDialogVisible=ref(!1),setExportFontTauriDialogVisible=n=>{exportFontTauriDialogVisible.value=n},copiedGlyphUUID=ref(""),copiedCharacterUUID=ref(""),editedGlyphUUID=ref(""),editedCharacterUUID=ref(""),glyphComponentsDialogVisible2=ref(!1);var GridType=(n=>(n[n.None=0]="None",n[n.Mesh=1]="Mesh",n[n.Mi=2]="Mi",n[n.LayoutGrid=3]="LayoutGrid",n))(GridType||{}),BackgroundType=(n=>(n[n.Transparent=0]="Transparent",n[n.Color=1]="Color",n))(BackgroundType||{});ref(!1);const jointsCheckedMap=ref({}),draggable$1=ref(!0),dragOption=ref("default"),checkJoints=ref(!1),checkRefLines=ref(!1),fontRenderStyle=ref("contour"),tips=ref(""),tool=ref(""),width$1=ref(500),height$1=ref(500),canvas=ref(null);let grid=reactive({type:0,precision:20}),background$1=reactive({type:0,color:""});const gridSettings$1=ref({dx:0,dy:0,centerSquareSize:1e3/3,size:1e3,default:!0});ref([{value:"",label:"",layout:"<0,x1+0.5*(x2-x1)><x1+0.5*(x2-x1),l>",subLayout:"<x,x+0.5*w><x+0.5*w,x+w>"},{value:"",label:"",layout:"<0,l/3)><l/3,2*l/3><2*l/3,l>",subLayout:"<x,x+0.33*w><x+0.33*w,x+0.66w><x+0.66w,x+w>"},{value:"",label:"",layout:"<0,x1+0.5*(y2-y1)><x1+0.5*(y2-y1),l>",subLayout:"<y,y+0.5*h><y+0.5*h,y+h>"},{value:"",label:"",layout:"<0,l/3)><l/3,2*l/3><2*l/3,l>",subLayout:"<y,x+0.33*h><y+0.33*h,y+0.66h><y+0.66h,y+h>"},{value:"",label:"",layout:"",subLayout:""}]);const setTool=n=>{tool.value=n},setBackgroundType=n=>{background$1.type=n},setBackgroundColor=n=>{background$1.color=n},setGridType=n=>{grid.type=n},setGridPrecision=n=>{grid.precision=n},setCanvas=n=>{canvas.value=n},loading$1=ref(!1),loaded$1=ref(0),total$1=ref(100),gridChanged=ref(!1);function _isPlaceholder(n){return n!=null&&typeof n=="object"&&n["@@functional/placeholder"]===!0}function _curry1(n){return function e(r){return arguments.length===0||_isPlaceholder(r)?e:n.apply(this,arguments)}}function _curry2(n){return function e(r,g){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(r)?e:_curry1(function(y){return n(r,y)});default:return _isPlaceholder(r)&&_isPlaceholder(g)?e:_isPlaceholder(r)?_curry1(function(y){return n(y,g)}):_isPlaceholder(g)?_curry1(function(y){return n(r,y)}):n(r,g)}}}function _arity(n,e){switch(n){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,g){return e.apply(this,arguments)};case 3:return function(r,g,y){return e.apply(this,arguments)};case 4:return function(r,g,y,k){return e.apply(this,arguments)};case 5:return function(r,g,y,k,$){return e.apply(this,arguments)};case 6:return function(r,g,y,k,$,V){return e.apply(this,arguments)};case 7:return function(r,g,y,k,$,V,L){return e.apply(this,arguments)};case 8:return function(r,g,y,k,$,V,L,z){return e.apply(this,arguments)};case 9:return function(r,g,y,k,$,V,L,z,j){return e.apply(this,arguments)};case 10:return function(r,g,y,k,$,V,L,z,j,re){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _curryN(n,e,r){return function(){for(var g=[],y=0,k=n,$=0;$<e.length||y<arguments.length;){var V;$<e.length&&(!_isPlaceholder(e[$])||y>=arguments.length)?V=e[$]:(V=arguments[y],y+=1),g[$]=V,_isPlaceholder(V)||(k-=1),$+=1}return k<=0?r.apply(this,g):_arity(k,_curryN(n,g,r))}}var curryN=_curry2(function(e,r){return e===1?_curry1(r):_arity(e,_curryN(e,[],r))});function _cloneRegExp(n){return new RegExp(n.source,(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.sticky?"y":"")+(n.unicode?"u":""))}var type=_curry1(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function _clone(n,e,r,g){var y=function($){for(var V=e.length,L=0;L<V;){if(n===e[L])return r[L];L+=1}e[L]=n,r[L]=$;for(var z in n)n.hasOwnProperty(z)&&($[z]=g?_clone(n[z],e,r,!0):n[z]);return $};switch(type(n)){case"Object":return y(Object.create(Object.getPrototypeOf(n)));case"Array":return y([]);case"Date":return new Date(n.valueOf());case"RegExp":return _cloneRegExp(n);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return n.slice();default:return n}}var clone$1=_curry1(function(e){return e!=null&&typeof e.clone=="function"?e.clone():_clone(e,[],[],!0)}),curry=_curry1(function(e){return curryN(e.length,e)}),commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function g(){return this instanceof g?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(g){var y=Object.getOwnPropertyDescriptor(n,g);Object.defineProperty(r,g,y.get?y:{enumerable:!0,get:function(){return n[g]}})}),r}function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,e){(function(r){n.exports=r()})(function(){return function r(g,y,k){function $(z,j){if(!y[z]){if(!g[z]){var re=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&re)return re(z,!0);if(V)return V(z,!0);var oe=new Error("Cannot find module '"+z+"'");throw oe.code="MODULE_NOT_FOUND",oe}var ae=y[z]={exports:{}};g[z][0].call(ae.exports,function(de){var ue=g[z][1][de];return $(ue||de)},ae,ae.exports,r,g,y,k)}return y[z].exports}for(var V=typeof commonjsRequire=="function"&&commonjsRequire,L=0;L<k.length;L++)$(k[L]);return $}({1:[function(r,g,y){(function(k){var $=k.MutationObserver||k.WebKitMutationObserver,V;if($){var L=0,z=new $(de),j=k.document.createTextNode("");z.observe(j,{characterData:!0}),V=function(){j.data=L=++L%2}}else if(!k.setImmediate&&typeof k.MessageChannel<"u"){var re=new k.MessageChannel;re.port1.onmessage=de,V=function(){re.port2.postMessage(0)}}else"document"in k&&"onreadystatechange"in k.document.createElement("script")?V=function(){var pe=k.document.createElement("script");pe.onreadystatechange=function(){de(),pe.onreadystatechange=null,pe.parentNode.removeChild(pe),pe=null},k.document.documentElement.appendChild(pe)}:V=function(){setTimeout(de,0)};var oe,ae=[];function de(){oe=!0;for(var pe,he,xe=ae.length;xe;){for(he=ae,ae=[],pe=-1;++pe<xe;)he[pe]();xe=ae.length}oe=!1}g.exports=ue;function ue(pe){ae.push(pe)===1&&!oe&&V()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,g,y){var k=r(1);function $(){}var V={},L=["REJECTED"],z=["FULFILLED"],j=["PENDING"];g.exports=re;function re(Oe){if(typeof Oe!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,Oe!==$&&ue(this,Oe)}re.prototype.catch=function(Oe){return this.then(null,Oe)},re.prototype.then=function(Oe,_e){if(typeof Oe!="function"&&this.state===z||typeof _e!="function"&&this.state===L)return this;var Fe=new this.constructor($);if(this.state!==j){var Ue=this.state===z?Oe:_e;ae(Fe,Ue,this.outcome)}else this.queue.push(new oe(Fe,Oe,_e));return Fe};function oe(Oe,_e,Fe){this.promise=Oe,typeof _e=="function"&&(this.onFulfilled=_e,this.callFulfilled=this.otherCallFulfilled),typeof Fe=="function"&&(this.onRejected=Fe,this.callRejected=this.otherCallRejected)}oe.prototype.callFulfilled=function(Oe){V.resolve(this.promise,Oe)},oe.prototype.otherCallFulfilled=function(Oe){ae(this.promise,this.onFulfilled,Oe)},oe.prototype.callRejected=function(Oe){V.reject(this.promise,Oe)},oe.prototype.otherCallRejected=function(Oe){ae(this.promise,this.onRejected,Oe)};function ae(Oe,_e,Fe){k(function(){var Ue;try{Ue=_e(Fe)}catch(kt){return V.reject(Oe,kt)}Ue===Oe?V.reject(Oe,new TypeError("Cannot resolve promise with itself")):V.resolve(Oe,Ue)})}V.resolve=function(Oe,_e){var Fe=pe(de,_e);if(Fe.status==="error")return V.reject(Oe,Fe.value);var Ue=Fe.value;if(Ue)ue(Oe,Ue);else{Oe.state=z,Oe.outcome=_e;for(var kt=-1,Lt=Oe.queue.length;++kt<Lt;)Oe.queue[kt].callFulfilled(_e)}return Oe},V.reject=function(Oe,_e){Oe.state=L,Oe.outcome=_e;for(var Fe=-1,Ue=Oe.queue.length;++Fe<Ue;)Oe.queue[Fe].callRejected(_e);return Oe};function de(Oe){var _e=Oe&&Oe.then;if(Oe&&(typeof Oe=="object"||typeof Oe=="function")&&typeof _e=="function")return function(){_e.apply(Oe,arguments)}}function ue(Oe,_e){var Fe=!1;function Ue(Et){Fe||(Fe=!0,V.reject(Oe,Et))}function kt(Et){Fe||(Fe=!0,V.resolve(Oe,Et))}function Lt(){_e(kt,Ue)}var wn=pe(Lt);wn.status==="error"&&Ue(wn.value)}function pe(Oe,_e){var Fe={};try{Fe.value=Oe(_e),Fe.status="success"}catch(Ue){Fe.status="error",Fe.value=Ue}return Fe}re.resolve=he;function he(Oe){return Oe instanceof this?Oe:V.resolve(new this($),Oe)}re.reject=xe;function xe(Oe){var _e=new this($);return V.reject(_e,Oe)}re.all=$e;function $e(Oe){var _e=this;if(Object.prototype.toString.call(Oe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Fe=Oe.length,Ue=!1;if(!Fe)return this.resolve([]);for(var kt=new Array(Fe),Lt=0,wn=-1,Et=new this($);++wn<Fe;)xn(Oe[wn],wn);return Et;function xn(jt,An){_e.resolve(jt).then(Dn,function(En){Ue||(Ue=!0,V.reject(Et,En))});function Dn(En){kt[An]=En,++Lt===Fe&&!Ue&&(Ue=!0,V.resolve(Et,kt))}}}re.race=Ne;function Ne(Oe){var _e=this;if(Object.prototype.toString.call(Oe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Fe=Oe.length,Ue=!1;if(!Fe)return this.resolve([]);for(var kt=-1,Lt=new this($);++kt<Fe;)wn(Oe[kt]);return Lt;function wn(Et){_e.resolve(Et).then(function(xn){Ue||(Ue=!0,V.resolve(Lt,xn))},function(xn){Ue||(Ue=!0,V.reject(Lt,xn))})}}},{1:1}],3:[function(r,g,y){(function(k){typeof k.Promise!="function"&&(k.Promise=r(2))}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,g,y){var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dr){return typeof dr}:function(dr){return dr&&typeof Symbol=="function"&&dr.constructor===Symbol&&dr!==Symbol.prototype?"symbol":typeof dr};function $(dr,xr){if(!(dr instanceof xr))throw new TypeError("Cannot call a class as a function")}function V(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var L=V();function z(){try{if(!L||!L.open)return!1;var dr=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),xr=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!dr||xr)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function j(dr,xr){dr=dr||[],xr=xr||{};try{return new Blob(dr,xr)}catch(Er){if(Er.name!=="TypeError")throw Er;for(var vr=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Tr=new vr,Ir=0;Ir<dr.length;Ir+=1)Tr.append(dr[Ir]);return Tr.getBlob(xr.type)}}typeof Promise>"u"&&r(3);var re=Promise;function oe(dr,xr){xr&&dr.then(function(vr){xr(null,vr)},function(vr){xr(vr)})}function ae(dr,xr,vr){typeof xr=="function"&&dr.then(xr),typeof vr=="function"&&dr.catch(vr)}function de(dr){return typeof dr!="string"&&(console.warn(dr+" used as a key, but it is not a string."),dr=String(dr)),dr}function ue(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var pe="local-forage-detect-blob-support",he=void 0,xe={},$e=Object.prototype.toString,Ne="readonly",Oe="readwrite";function _e(dr){for(var xr=dr.length,vr=new ArrayBuffer(xr),Tr=new Uint8Array(vr),Ir=0;Ir<xr;Ir++)Tr[Ir]=dr.charCodeAt(Ir);return vr}function Fe(dr){return new re(function(xr){var vr=dr.transaction(pe,Oe),Tr=j([""]);vr.objectStore(pe).put(Tr,"key"),vr.onabort=function(Ir){Ir.preventDefault(),Ir.stopPropagation(),xr(!1)},vr.oncomplete=function(){var Ir=navigator.userAgent.match(/Chrome\/(\d+)/),Er=navigator.userAgent.match(/Edge\//);xr(Er||!Ir||parseInt(Ir[1],10)>=43)}}).catch(function(){return!1})}function Ue(dr){return typeof he=="boolean"?re.resolve(he):Fe(dr).then(function(xr){return he=xr,he})}function kt(dr){var xr=xe[dr.name],vr={};vr.promise=new re(function(Tr,Ir){vr.resolve=Tr,vr.reject=Ir}),xr.deferredOperations.push(vr),xr.dbReady?xr.dbReady=xr.dbReady.then(function(){return vr.promise}):xr.dbReady=vr.promise}function Lt(dr){var xr=xe[dr.name],vr=xr.deferredOperations.pop();if(vr)return vr.resolve(),vr.promise}function wn(dr,xr){var vr=xe[dr.name],Tr=vr.deferredOperations.pop();if(Tr)return Tr.reject(xr),Tr.promise}function Et(dr,xr){return new re(function(vr,Tr){if(xe[dr.name]=xe[dr.name]||Nn(),dr.db)if(xr)kt(dr),dr.db.close();else return vr(dr.db);var Ir=[dr.name];xr&&Ir.push(dr.version);var Er=L.open.apply(L,Ir);xr&&(Er.onupgradeneeded=function(Rr){var zr=Er.result;try{zr.createObjectStore(dr.storeName),Rr.oldVersion<=1&&zr.createObjectStore(pe)}catch(Gr){if(Gr.name==="ConstraintError")console.warn('The database "'+dr.name+'" has been upgraded from version '+Rr.oldVersion+" to version "+Rr.newVersion+', but the storage "'+dr.storeName+'" already exists.');else throw Gr}}),Er.onerror=function(Rr){Rr.preventDefault(),Tr(Er.error)},Er.onsuccess=function(){var Rr=Er.result;Rr.onversionchange=function(zr){zr.target.close()},vr(Rr),Lt(dr)}})}function xn(dr){return Et(dr,!1)}function jt(dr){return Et(dr,!0)}function An(dr,xr){if(!dr.db)return!0;var vr=!dr.db.objectStoreNames.contains(dr.storeName),Tr=dr.version<dr.db.version,Ir=dr.version>dr.db.version;if(Tr&&(dr.version!==xr&&console.warn('The database "'+dr.name+`" can't be downgraded from version `+dr.db.version+" to version "+dr.version+"."),dr.version=dr.db.version),Ir||vr){if(vr){var Er=dr.db.version+1;Er>dr.version&&(dr.version=Er)}return!0}return!1}function Dn(dr){return new re(function(xr,vr){var Tr=new FileReader;Tr.onerror=vr,Tr.onloadend=function(Ir){var Er=btoa(Ir.target.result||"");xr({__local_forage_encoded_blob:!0,data:Er,type:dr.type})},Tr.readAsBinaryString(dr)})}function En(dr){var xr=_e(atob(dr.data));return j([xr],{type:dr.type})}function Bn(dr){return dr&&dr.__local_forage_encoded_blob}function $n(dr){var xr=this,vr=xr._initReady().then(function(){var Tr=xe[xr._dbInfo.name];if(Tr&&Tr.dbReady)return Tr.dbReady});return ae(vr,dr,dr),vr}function Wn(dr){kt(dr);for(var xr=xe[dr.name],vr=xr.forages,Tr=0;Tr<vr.length;Tr++){var Ir=vr[Tr];Ir._dbInfo.db&&(Ir._dbInfo.db.close(),Ir._dbInfo.db=null)}return dr.db=null,xn(dr).then(function(Er){return dr.db=Er,An(dr)?jt(dr):Er}).then(function(Er){dr.db=xr.db=Er;for(var Rr=0;Rr<vr.length;Rr++)vr[Rr]._dbInfo.db=Er}).catch(function(Er){throw wn(dr,Er),Er})}function Gn(dr,xr,vr,Tr){Tr===void 0&&(Tr=1);try{var Ir=dr.db.transaction(dr.storeName,xr);vr(null,Ir)}catch(Er){if(Tr>0&&(!dr.db||Er.name==="InvalidStateError"||Er.name==="NotFoundError"))return re.resolve().then(function(){if(!dr.db||Er.name==="NotFoundError"&&!dr.db.objectStoreNames.contains(dr.storeName)&&dr.version<=dr.db.version)return dr.db&&(dr.version=dr.db.version+1),jt(dr)}).then(function(){return Wn(dr).then(function(){Gn(dr,xr,vr,Tr-1)})}).catch(vr);vr(Er)}}function Nn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Zn(dr){var xr=this,vr={db:null};if(dr)for(var Tr in dr)vr[Tr]=dr[Tr];var Ir=xe[vr.name];Ir||(Ir=Nn(),xe[vr.name]=Ir),Ir.forages.push(xr),xr._initReady||(xr._initReady=xr.ready,xr.ready=$n);var Er=[];function Rr(){return re.resolve()}for(var zr=0;zr<Ir.forages.length;zr++){var Gr=Ir.forages[zr];Gr!==xr&&Er.push(Gr._initReady().catch(Rr))}var Qr=Ir.forages.slice(0);return re.all(Er).then(function(){return vr.db=Ir.db,xn(vr)}).then(function(Wr){return vr.db=Wr,An(vr,xr._defaultConfig.version)?jt(vr):Wr}).then(function(Wr){vr.db=Ir.db=Wr,xr._dbInfo=vr;for(var no=0;no<Qr.length;no++){var uo=Qr[no];uo!==xr&&(uo._dbInfo.db=vr.db,uo._dbInfo.version=vr.version)}})}function Hn(dr,xr){var vr=this;dr=de(dr);var Tr=new re(function(Ir,Er){vr.ready().then(function(){Gn(vr._dbInfo,Ne,function(Rr,zr){if(Rr)return Er(Rr);try{var Gr=zr.objectStore(vr._dbInfo.storeName),Qr=Gr.get(dr);Qr.onsuccess=function(){var Wr=Qr.result;Wr===void 0&&(Wr=null),Bn(Wr)&&(Wr=En(Wr)),Ir(Wr)},Qr.onerror=function(){Er(Qr.error)}}catch(Wr){Er(Wr)}})}).catch(Er)});return oe(Tr,xr),Tr}function rr(dr,xr){var vr=this,Tr=new re(function(Ir,Er){vr.ready().then(function(){Gn(vr._dbInfo,Ne,function(Rr,zr){if(Rr)return Er(Rr);try{var Gr=zr.objectStore(vr._dbInfo.storeName),Qr=Gr.openCursor(),Wr=1;Qr.onsuccess=function(){var no=Qr.result;if(no){var uo=no.value;Bn(uo)&&(uo=En(uo));var to=dr(uo,no.key,Wr++);to!==void 0?Ir(to):no.continue()}else Ir()},Qr.onerror=function(){Er(Qr.error)}}catch(no){Er(no)}})}).catch(Er)});return oe(Tr,xr),Tr}function Xn(dr,xr,vr){var Tr=this;dr=de(dr);var Ir=new re(function(Er,Rr){var zr;Tr.ready().then(function(){return zr=Tr._dbInfo,$e.call(xr)==="[object Blob]"?Ue(zr.db).then(function(Gr){return Gr?xr:Dn(xr)}):xr}).then(function(Gr){Gn(Tr._dbInfo,Oe,function(Qr,Wr){if(Qr)return Rr(Qr);try{var no=Wr.objectStore(Tr._dbInfo.storeName);Gr===null&&(Gr=void 0);var uo=no.put(Gr,dr);Wr.oncomplete=function(){Gr===void 0&&(Gr=null),Er(Gr)},Wr.onabort=Wr.onerror=function(){var to=uo.error?uo.error:uo.transaction.error;Rr(to)}}catch(to){Rr(to)}})}).catch(Rr)});return oe(Ir,vr),Ir}function Pn(dr,xr){var vr=this;dr=de(dr);var Tr=new re(function(Ir,Er){vr.ready().then(function(){Gn(vr._dbInfo,Oe,function(Rr,zr){if(Rr)return Er(Rr);try{var Gr=zr.objectStore(vr._dbInfo.storeName),Qr=Gr.delete(dr);zr.oncomplete=function(){Ir()},zr.onerror=function(){Er(Qr.error)},zr.onabort=function(){var Wr=Qr.error?Qr.error:Qr.transaction.error;Er(Wr)}}catch(Wr){Er(Wr)}})}).catch(Er)});return oe(Tr,xr),Tr}function jn(dr){var xr=this,vr=new re(function(Tr,Ir){xr.ready().then(function(){Gn(xr._dbInfo,Oe,function(Er,Rr){if(Er)return Ir(Er);try{var zr=Rr.objectStore(xr._dbInfo.storeName),Gr=zr.clear();Rr.oncomplete=function(){Tr()},Rr.onabort=Rr.onerror=function(){var Qr=Gr.error?Gr.error:Gr.transaction.error;Ir(Qr)}}catch(Qr){Ir(Qr)}})}).catch(Ir)});return oe(vr,dr),vr}function fr(dr){var xr=this,vr=new re(function(Tr,Ir){xr.ready().then(function(){Gn(xr._dbInfo,Ne,function(Er,Rr){if(Er)return Ir(Er);try{var zr=Rr.objectStore(xr._dbInfo.storeName),Gr=zr.count();Gr.onsuccess=function(){Tr(Gr.result)},Gr.onerror=function(){Ir(Gr.error)}}catch(Qr){Ir(Qr)}})}).catch(Ir)});return oe(vr,dr),vr}function yr(dr,xr){var vr=this,Tr=new re(function(Ir,Er){if(dr<0){Ir(null);return}vr.ready().then(function(){Gn(vr._dbInfo,Ne,function(Rr,zr){if(Rr)return Er(Rr);try{var Gr=zr.objectStore(vr._dbInfo.storeName),Qr=!1,Wr=Gr.openKeyCursor();Wr.onsuccess=function(){var no=Wr.result;if(!no){Ir(null);return}dr===0||Qr?Ir(no.key):(Qr=!0,no.advance(dr))},Wr.onerror=function(){Er(Wr.error)}}catch(no){Er(no)}})}).catch(Er)});return oe(Tr,xr),Tr}function Cr(dr){var xr=this,vr=new re(function(Tr,Ir){xr.ready().then(function(){Gn(xr._dbInfo,Ne,function(Er,Rr){if(Er)return Ir(Er);try{var zr=Rr.objectStore(xr._dbInfo.storeName),Gr=zr.openKeyCursor(),Qr=[];Gr.onsuccess=function(){var Wr=Gr.result;if(!Wr){Tr(Qr);return}Qr.push(Wr.key),Wr.continue()},Gr.onerror=function(){Ir(Gr.error)}}catch(Wr){Ir(Wr)}})}).catch(Ir)});return oe(vr,dr),vr}function sr(dr,xr){xr=ue.apply(this,arguments);var vr=this.config();dr=typeof dr!="function"&&dr||{},dr.name||(dr.name=dr.name||vr.name,dr.storeName=dr.storeName||vr.storeName);var Tr=this,Ir;if(!dr.name)Ir=re.reject("Invalid arguments");else{var Er=dr.name===vr.name&&Tr._dbInfo.db,Rr=Er?re.resolve(Tr._dbInfo.db):xn(dr).then(function(zr){var Gr=xe[dr.name],Qr=Gr.forages;Gr.db=zr;for(var Wr=0;Wr<Qr.length;Wr++)Qr[Wr]._dbInfo.db=zr;return zr});dr.storeName?Ir=Rr.then(function(zr){if(zr.objectStoreNames.contains(dr.storeName)){var Gr=zr.version+1;kt(dr);var Qr=xe[dr.name],Wr=Qr.forages;zr.close();for(var no=0;no<Wr.length;no++){var uo=Wr[no];uo._dbInfo.db=null,uo._dbInfo.version=Gr}var to=new re(function(vo,xo){var wo=L.open(dr.name,Gr);wo.onerror=function(No){var Mo=wo.result;Mo.close(),xo(No)},wo.onupgradeneeded=function(){var No=wo.result;No.deleteObjectStore(dr.storeName)},wo.onsuccess=function(){var No=wo.result;No.close(),vo(No)}});return to.then(function(vo){Qr.db=vo;for(var xo=0;xo<Wr.length;xo++){var wo=Wr[xo];wo._dbInfo.db=vo,Lt(wo._dbInfo)}}).catch(function(vo){throw(wn(dr,vo)||re.resolve()).catch(function(){}),vo})}}):Ir=Rr.then(function(zr){kt(dr);var Gr=xe[dr.name],Qr=Gr.forages;zr.close();for(var Wr=0;Wr<Qr.length;Wr++){var no=Qr[Wr];no._dbInfo.db=null}var uo=new re(function(to,vo){var xo=L.deleteDatabase(dr.name);xo.onerror=function(){var wo=xo.result;wo&&wo.close(),vo(xo.error)},xo.onblocked=function(){console.warn('dropInstance blocked for database "'+dr.name+'" until all open connections are closed')},xo.onsuccess=function(){var wo=xo.result;wo&&wo.close(),to(wo)}});return uo.then(function(to){Gr.db=to;for(var vo=0;vo<Qr.length;vo++){var xo=Qr[vo];Lt(xo._dbInfo)}}).catch(function(to){throw(wn(dr,to)||re.resolve()).catch(function(){}),to})})}return oe(Ir,xr),Ir}var zn={_driver:"asyncStorage",_initStorage:Zn,_support:z(),iterate:rr,getItem:Hn,setItem:Xn,removeItem:Pn,clear:jn,length:fr,key:yr,keys:Cr,dropInstance:sr};function vn(){return typeof openDatabase=="function"}var Jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tn="~~local_forage_type~",Dt=/^~~local_forage_type~([^~]+)~/,hn="__lfsc__:",Vn=hn.length,Kn="arbf",ar="blob",lr="si08",cr="ui08",mr="uic8",ur="si16",le="si32",Ce="ur16",Ie="ui32",ze="fl32",qe="fl64",Pt=Vn+Kn.length,_n=Object.prototype.toString;function At(dr){var xr=dr.length*.75,vr=dr.length,Tr,Ir=0,Er,Rr,zr,Gr;dr[dr.length-1]==="="&&(xr--,dr[dr.length-2]==="="&&xr--);var Qr=new ArrayBuffer(xr),Wr=new Uint8Array(Qr);for(Tr=0;Tr<vr;Tr+=4)Er=Jn.indexOf(dr[Tr]),Rr=Jn.indexOf(dr[Tr+1]),zr=Jn.indexOf(dr[Tr+2]),Gr=Jn.indexOf(dr[Tr+3]),Wr[Ir++]=Er<<2|Rr>>4,Wr[Ir++]=(Rr&15)<<4|zr>>2,Wr[Ir++]=(zr&3)<<6|Gr&63;return Qr}function Cn(dr){var xr=new Uint8Array(dr),vr="",Tr;for(Tr=0;Tr<xr.length;Tr+=3)vr+=Jn[xr[Tr]>>2],vr+=Jn[(xr[Tr]&3)<<4|xr[Tr+1]>>4],vr+=Jn[(xr[Tr+1]&15)<<2|xr[Tr+2]>>6],vr+=Jn[xr[Tr+2]&63];return xr.length%3===2?vr=vr.substring(0,vr.length-1)+"=":xr.length%3===1&&(vr=vr.substring(0,vr.length-2)+"=="),vr}function bn(dr,xr){var vr="";if(dr&&(vr=_n.call(dr)),dr&&(vr==="[object ArrayBuffer]"||dr.buffer&&_n.call(dr.buffer)==="[object ArrayBuffer]")){var Tr,Ir=hn;dr instanceof ArrayBuffer?(Tr=dr,Ir+=Kn):(Tr=dr.buffer,vr==="[object Int8Array]"?Ir+=lr:vr==="[object Uint8Array]"?Ir+=cr:vr==="[object Uint8ClampedArray]"?Ir+=mr:vr==="[object Int16Array]"?Ir+=ur:vr==="[object Uint16Array]"?Ir+=Ce:vr==="[object Int32Array]"?Ir+=le:vr==="[object Uint32Array]"?Ir+=Ie:vr==="[object Float32Array]"?Ir+=ze:vr==="[object Float64Array]"?Ir+=qe:xr(new Error("Failed to get type for BinaryArray"))),xr(Ir+Cn(Tr))}else if(vr==="[object Blob]"){var Er=new FileReader;Er.onload=function(){var Rr=Tn+dr.type+"~"+Cn(this.result);xr(hn+ar+Rr)},Er.readAsArrayBuffer(dr)}else try{xr(JSON.stringify(dr))}catch(Rr){console.error("Couldn't convert value into a JSON string: ",dr),xr(null,Rr)}}function In(dr){if(dr.substring(0,Vn)!==hn)return JSON.parse(dr);var xr=dr.substring(Pt),vr=dr.substring(Vn,Pt),Tr;if(vr===ar&&Dt.test(xr)){var Ir=xr.match(Dt);Tr=Ir[1],xr=xr.substring(Ir[0].length)}var Er=At(xr);switch(vr){case Kn:return Er;case ar:return j([Er],{type:Tr});case lr:return new Int8Array(Er);case cr:return new Uint8Array(Er);case mr:return new Uint8ClampedArray(Er);case ur:return new Int16Array(Er);case Ce:return new Uint16Array(Er);case le:return new Int32Array(Er);case Ie:return new Uint32Array(Er);case ze:return new Float32Array(Er);case qe:return new Float64Array(Er);default:throw new Error("Unkown type: "+vr)}}var Ln={serialize:bn,deserialize:In,stringToBuffer:At,bufferToString:Cn};function Mn(dr,xr,vr,Tr){dr.executeSql("CREATE TABLE IF NOT EXISTS "+xr.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],vr,Tr)}function Fn(dr){var xr=this,vr={db:null};if(dr)for(var Tr in dr)vr[Tr]=typeof dr[Tr]!="string"?dr[Tr].toString():dr[Tr];var Ir=new re(function(Er,Rr){try{vr.db=openDatabase(vr.name,String(vr.version),vr.description,vr.size)}catch(zr){return Rr(zr)}vr.db.transaction(function(zr){Mn(zr,vr,function(){xr._dbInfo=vr,Er()},function(Gr,Qr){Rr(Qr)})},Rr)});return vr.serializer=Ln,Ir}function er(dr,xr,vr,Tr,Ir,Er){dr.executeSql(vr,Tr,Ir,function(Rr,zr){zr.code===zr.SYNTAX_ERR?Rr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[xr.storeName],function(Gr,Qr){Qr.rows.length?Er(Gr,zr):Mn(Gr,xr,function(){Gr.executeSql(vr,Tr,Ir,Er)},Er)},Er):Er(Rr,zr)},Er)}function Qn(dr,xr){var vr=this;dr=de(dr);var Tr=new re(function(Ir,Er){vr.ready().then(function(){var Rr=vr._dbInfo;Rr.db.transaction(function(zr){er(zr,Rr,"SELECT * FROM "+Rr.storeName+" WHERE key = ? LIMIT 1",[dr],function(Gr,Qr){var Wr=Qr.rows.length?Qr.rows.item(0).value:null;Wr&&(Wr=Rr.serializer.deserialize(Wr)),Ir(Wr)},function(Gr,Qr){Er(Qr)})})}).catch(Er)});return oe(Tr,xr),Tr}function nr(dr,xr){var vr=this,Tr=new re(function(Ir,Er){vr.ready().then(function(){var Rr=vr._dbInfo;Rr.db.transaction(function(zr){er(zr,Rr,"SELECT * FROM "+Rr.storeName,[],function(Gr,Qr){for(var Wr=Qr.rows,no=Wr.length,uo=0;uo<no;uo++){var to=Wr.item(uo),vo=to.value;if(vo&&(vo=Rr.serializer.deserialize(vo)),vo=dr(vo,to.key,uo+1),vo!==void 0){Ir(vo);return}}Ir()},function(Gr,Qr){Er(Qr)})})}).catch(Er)});return oe(Tr,xr),Tr}function kn(dr,xr,vr,Tr){var Ir=this;dr=de(dr);var Er=new re(function(Rr,zr){Ir.ready().then(function(){xr===void 0&&(xr=null);var Gr=xr,Qr=Ir._dbInfo;Qr.serializer.serialize(xr,function(Wr,no){no?zr(no):Qr.db.transaction(function(uo){er(uo,Qr,"INSERT OR REPLACE INTO "+Qr.storeName+" (key, value) VALUES (?, ?)",[dr,Wr],function(){Rr(Gr)},function(to,vo){zr(vo)})},function(uo){if(uo.code===uo.QUOTA_ERR){if(Tr>0){Rr(kn.apply(Ir,[dr,Gr,vr,Tr-1]));return}zr(uo)}})})}).catch(zr)});return oe(Er,vr),Er}function Un(dr,xr,vr){return kn.apply(this,[dr,xr,vr,1])}function On(dr,xr){var vr=this;dr=de(dr);var Tr=new re(function(Ir,Er){vr.ready().then(function(){var Rr=vr._dbInfo;Rr.db.transaction(function(zr){er(zr,Rr,"DELETE FROM "+Rr.storeName+" WHERE key = ?",[dr],function(){Ir()},function(Gr,Qr){Er(Qr)})})}).catch(Er)});return oe(Tr,xr),Tr}function Rn(dr){var xr=this,vr=new re(function(Tr,Ir){xr.ready().then(function(){var Er=xr._dbInfo;Er.db.transaction(function(Rr){er(Rr,Er,"DELETE FROM "+Er.storeName,[],function(){Tr()},function(zr,Gr){Ir(Gr)})})}).catch(Ir)});return oe(vr,dr),vr}function Yn(dr){var xr=this,vr=new re(function(Tr,Ir){xr.ready().then(function(){var Er=xr._dbInfo;Er.db.transaction(function(Rr){er(Rr,Er,"SELECT COUNT(key) as c FROM "+Er.storeName,[],function(zr,Gr){var Qr=Gr.rows.item(0).c;Tr(Qr)},function(zr,Gr){Ir(Gr)})})}).catch(Ir)});return oe(vr,dr),vr}function or(dr,xr){var vr=this,Tr=new re(function(Ir,Er){vr.ready().then(function(){var Rr=vr._dbInfo;Rr.db.transaction(function(zr){er(zr,Rr,"SELECT key FROM "+Rr.storeName+" WHERE id = ? LIMIT 1",[dr+1],function(Gr,Qr){var Wr=Qr.rows.length?Qr.rows.item(0).key:null;Ir(Wr)},function(Gr,Qr){Er(Qr)})})}).catch(Er)});return oe(Tr,xr),Tr}function tr(dr){var xr=this,vr=new re(function(Tr,Ir){xr.ready().then(function(){var Er=xr._dbInfo;Er.db.transaction(function(Rr){er(Rr,Er,"SELECT key FROM "+Er.storeName,[],function(zr,Gr){for(var Qr=[],Wr=0;Wr<Gr.rows.length;Wr++)Qr.push(Gr.rows.item(Wr).key);Tr(Qr)},function(zr,Gr){Ir(Gr)})})}).catch(Ir)});return oe(vr,dr),vr}function hr(dr){return new re(function(xr,vr){dr.transaction(function(Tr){Tr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ir,Er){for(var Rr=[],zr=0;zr<Er.rows.length;zr++)Rr.push(Er.rows.item(zr).name);xr({db:dr,storeNames:Rr})},function(Ir,Er){vr(Er)})},function(Tr){vr(Tr)})})}function pr(dr,xr){xr=ue.apply(this,arguments);var vr=this.config();dr=typeof dr!="function"&&dr||{},dr.name||(dr.name=dr.name||vr.name,dr.storeName=dr.storeName||vr.storeName);var Tr=this,Ir;return dr.name?Ir=new re(function(Er){var Rr;dr.name===vr.name?Rr=Tr._dbInfo.db:Rr=openDatabase(dr.name,"","",0),dr.storeName?Er({db:Rr,storeNames:[dr.storeName]}):Er(hr(Rr))}).then(function(Er){return new re(function(Rr,zr){Er.db.transaction(function(Gr){function Qr(to){return new re(function(vo,xo){Gr.executeSql("DROP TABLE IF EXISTS "+to,[],function(){vo()},function(wo,No){xo(No)})})}for(var Wr=[],no=0,uo=Er.storeNames.length;no<uo;no++)Wr.push(Qr(Er.storeNames[no]));re.all(Wr).then(function(){Rr()}).catch(function(to){zr(to)})},function(Gr){zr(Gr)})})}):Ir=re.reject("Invalid arguments"),oe(Ir,xr),Ir}var _r={_driver:"webSQLStorage",_initStorage:Fn,_support:vn(),iterate:nr,getItem:Qn,setItem:Un,removeItem:On,clear:Rn,length:Yn,key:or,keys:tr,dropInstance:pr};function Or(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function gr(dr,xr){var vr=dr.name+"/";return dr.storeName!==xr.storeName&&(vr+=dr.storeName+"/"),vr}function Sr(){var dr="_localforage_support_test";try{return localStorage.setItem(dr,!0),localStorage.removeItem(dr),!1}catch{return!0}}function kr(){return!Sr()||localStorage.length>0}function Nr(dr){var xr=this,vr={};if(dr)for(var Tr in dr)vr[Tr]=dr[Tr];return vr.keyPrefix=gr(dr,xr._defaultConfig),kr()?(xr._dbInfo=vr,vr.serializer=Ln,re.resolve()):re.reject()}function Pr(dr){var xr=this,vr=xr.ready().then(function(){for(var Tr=xr._dbInfo.keyPrefix,Ir=localStorage.length-1;Ir>=0;Ir--){var Er=localStorage.key(Ir);Er.indexOf(Tr)===0&&localStorage.removeItem(Er)}});return oe(vr,dr),vr}function Br(dr,xr){var vr=this;dr=de(dr);var Tr=vr.ready().then(function(){var Ir=vr._dbInfo,Er=localStorage.getItem(Ir.keyPrefix+dr);return Er&&(Er=Ir.serializer.deserialize(Er)),Er});return oe(Tr,xr),Tr}function Ur(dr,xr){var vr=this,Tr=vr.ready().then(function(){for(var Ir=vr._dbInfo,Er=Ir.keyPrefix,Rr=Er.length,zr=localStorage.length,Gr=1,Qr=0;Qr<zr;Qr++){var Wr=localStorage.key(Qr);if(Wr.indexOf(Er)===0){var no=localStorage.getItem(Wr);if(no&&(no=Ir.serializer.deserialize(no)),no=dr(no,Wr.substring(Rr),Gr++),no!==void 0)return no}}});return oe(Tr,xr),Tr}function jr(dr,xr){var vr=this,Tr=vr.ready().then(function(){var Ir=vr._dbInfo,Er;try{Er=localStorage.key(dr)}catch{Er=null}return Er&&(Er=Er.substring(Ir.keyPrefix.length)),Er});return oe(Tr,xr),Tr}function Hr(dr){var xr=this,vr=xr.ready().then(function(){for(var Tr=xr._dbInfo,Ir=localStorage.length,Er=[],Rr=0;Rr<Ir;Rr++){var zr=localStorage.key(Rr);zr.indexOf(Tr.keyPrefix)===0&&Er.push(zr.substring(Tr.keyPrefix.length))}return Er});return oe(vr,dr),vr}function Kr(dr){var xr=this,vr=xr.keys().then(function(Tr){return Tr.length});return oe(vr,dr),vr}function Mr(dr,xr){var vr=this;dr=de(dr);var Tr=vr.ready().then(function(){var Ir=vr._dbInfo;localStorage.removeItem(Ir.keyPrefix+dr)});return oe(Tr,xr),Tr}function Lr(dr,xr,vr){var Tr=this;dr=de(dr);var Ir=Tr.ready().then(function(){xr===void 0&&(xr=null);var Er=xr;return new re(function(Rr,zr){var Gr=Tr._dbInfo;Gr.serializer.serialize(xr,function(Qr,Wr){if(Wr)zr(Wr);else try{localStorage.setItem(Gr.keyPrefix+dr,Qr),Rr(Er)}catch(no){(no.name==="QuotaExceededError"||no.name==="NS_ERROR_DOM_QUOTA_REACHED")&&zr(no),zr(no)}})})});return oe(Ir,vr),Ir}function qr(dr,xr){if(xr=ue.apply(this,arguments),dr=typeof dr!="function"&&dr||{},!dr.name){var vr=this.config();dr.name=dr.name||vr.name,dr.storeName=dr.storeName||vr.storeName}var Tr=this,Ir;return dr.name?Ir=new re(function(Er){dr.storeName?Er(gr(dr,Tr._defaultConfig)):Er(dr.name+"/")}).then(function(Er){for(var Rr=localStorage.length-1;Rr>=0;Rr--){var zr=localStorage.key(Rr);zr.indexOf(Er)===0&&localStorage.removeItem(zr)}}):Ir=re.reject("Invalid arguments"),oe(Ir,xr),Ir}var eo={_driver:"localStorageWrapper",_initStorage:Nr,_support:Or(),iterate:Ur,getItem:Br,setItem:Lr,removeItem:Mr,clear:Pr,length:Kr,key:jr,keys:Hr,dropInstance:qr},Jr=function(xr,vr){return xr===vr||typeof xr=="number"&&typeof vr=="number"&&isNaN(xr)&&isNaN(vr)},oo=function(xr,vr){for(var Tr=xr.length,Ir=0;Ir<Tr;){if(Jr(xr[Ir],vr))return!0;Ir++}return!1},ro=Array.isArray||function(dr){return Object.prototype.toString.call(dr)==="[object Array]"},ao={},lo={},io={INDEXEDDB:zn,WEBSQL:_r,LOCALSTORAGE:eo},Xr=[io.INDEXEDDB._driver,io.WEBSQL._driver,io.LOCALSTORAGE._driver],yo=["dropInstance"],ko=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(yo),Oo={description:"",driver:Xr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function _o(dr,xr){dr[xr]=function(){var vr=arguments;return dr.ready().then(function(){return dr[xr].apply(dr,vr)})}}function So(){for(var dr=1;dr<arguments.length;dr++){var xr=arguments[dr];if(xr)for(var vr in xr)xr.hasOwnProperty(vr)&&(ro(xr[vr])?arguments[0][vr]=xr[vr].slice():arguments[0][vr]=xr[vr])}return arguments[0]}var Io=function(){function dr(xr){$(this,dr);for(var vr in io)if(io.hasOwnProperty(vr)){var Tr=io[vr],Ir=Tr._driver;this[vr]=Ir,ao[Ir]||this.defineDriver(Tr)}this._defaultConfig=So({},Oo),this._config=So({},this._defaultConfig,xr),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return dr.prototype.config=function(vr){if((typeof vr>"u"?"undefined":k(vr))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Tr in vr){if(Tr==="storeName"&&(vr[Tr]=vr[Tr].replace(/\W/g,"_")),Tr==="version"&&typeof vr[Tr]!="number")return new Error("Database version must be a number.");this._config[Tr]=vr[Tr]}return"driver"in vr&&vr.driver?this.setDriver(this._config.driver):!0}else return typeof vr=="string"?this._config[vr]:this._config},dr.prototype.defineDriver=function(vr,Tr,Ir){var Er=new re(function(Rr,zr){try{var Gr=vr._driver,Qr=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!vr._driver){zr(Qr);return}for(var Wr=ko.concat("_initStorage"),no=0,uo=Wr.length;no<uo;no++){var to=Wr[no],vo=!oo(yo,to);if((vo||vr[to])&&typeof vr[to]!="function"){zr(Qr);return}}var xo=function(){for(var Mo=function(qn){return function(){var ir=new Error("Method "+qn+" is not implemented by the current driver"),br=re.reject(ir);return oe(br,arguments[arguments.length-1]),br}},Lo=0,Ro=yo.length;Lo<Ro;Lo++){var Ve=yo[Lo];vr[Ve]||(vr[Ve]=Mo(Ve))}};xo();var wo=function(Mo){ao[Gr]&&console.info("Redefining LocalForage driver: "+Gr),ao[Gr]=vr,lo[Gr]=Mo,Rr()};"_support"in vr?vr._support&&typeof vr._support=="function"?vr._support().then(wo,zr):wo(!!vr._support):wo(!0)}catch(No){zr(No)}});return ae(Er,Tr,Ir),Er},dr.prototype.driver=function(){return this._driver||null},dr.prototype.getDriver=function(vr,Tr,Ir){var Er=ao[vr]?re.resolve(ao[vr]):re.reject(new Error("Driver not found."));return ae(Er,Tr,Ir),Er},dr.prototype.getSerializer=function(vr){var Tr=re.resolve(Ln);return ae(Tr,vr),Tr},dr.prototype.ready=function(vr){var Tr=this,Ir=Tr._driverSet.then(function(){return Tr._ready===null&&(Tr._ready=Tr._initDriver()),Tr._ready});return ae(Ir,vr,vr),Ir},dr.prototype.setDriver=function(vr,Tr,Ir){var Er=this;ro(vr)||(vr=[vr]);var Rr=this._getSupportedDrivers(vr);function zr(){Er._config.driver=Er.driver()}function Gr(no){return Er._extend(no),zr(),Er._ready=Er._initStorage(Er._config),Er._ready}function Qr(no){return function(){var uo=0;function to(){for(;uo<no.length;){var vo=no[uo];return uo++,Er._dbInfo=null,Er._ready=null,Er.getDriver(vo).then(Gr).catch(to)}zr();var xo=new Error("No available storage method found.");return Er._driverSet=re.reject(xo),Er._driverSet}return to()}}var Wr=this._driverSet!==null?this._driverSet.catch(function(){return re.resolve()}):re.resolve();return this._driverSet=Wr.then(function(){var no=Rr[0];return Er._dbInfo=null,Er._ready=null,Er.getDriver(no).then(function(uo){Er._driver=uo._driver,zr(),Er._wrapLibraryMethodsWithReady(),Er._initDriver=Qr(Rr)})}).catch(function(){zr();var no=new Error("No available storage method found.");return Er._driverSet=re.reject(no),Er._driverSet}),ae(this._driverSet,Tr,Ir),this._driverSet},dr.prototype.supports=function(vr){return!!lo[vr]},dr.prototype._extend=function(vr){So(this,vr)},dr.prototype._getSupportedDrivers=function(vr){for(var Tr=[],Ir=0,Er=vr.length;Ir<Er;Ir++){var Rr=vr[Ir];this.supports(Rr)&&Tr.push(Rr)}return Tr},dr.prototype._wrapLibraryMethodsWithReady=function(){for(var vr=0,Tr=ko.length;vr<Tr;vr++)_o(this,ko[vr])},dr.prototype.createInstance=function(vr){return new dr(vr)},dr}(),$o=new Io;g.exports=$o},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports;const localForage=getDefaultExportFromCjs(localforageExports),isNearPoint=(n,e,r,g,y)=>distance$3(n,e,r,g)<=y,distance$3=(n,e,r,g)=>Math.sqrt((g-e)*(g-e)+(r-n)*(r-n)),leftTop=(n,e,r,g,y)=>distance$3(n,e,r,g)>4*y||distance$3(n,e,r,g)<2*y?!1:n<r&&e<g,leftBottom=(n,e,r,g,y)=>distance$3(n,e,r,g)>4*y||distance$3(n,e,r,g)<2*y?!1:n<r&&e>g,rightTop=(n,e,r,g,y)=>distance$3(n,e,r,g)>4*y||distance$3(n,e,r,g)<2*y?!1:n>r&&e<g,rightBottom=(n,e,r,g,y)=>distance$3(n,e,r,g)>4*y||distance$3(n,e,r,g)<2*y?!1:n>r&&e>g,angleBetween=(n,e)=>{const r=Math.atan(n.y/n.x),g=Math.atan(e.y/e.x);return Math.round((r-g)*180/Math.PI)},getBound$4=n=>{let e=1/0,r=1/0,g=-1/0,y=-1/0;for(let k=0;k<n.length;k++)n[k].x<e&&(e=n[k].x),n[k].x>g&&(g=n[k].x),n[k].y<r&&(r=n[k].y),n[k].y>y&&(y=n[k].y);return{x:e,y:r,w:g-e,h:y-r}},rotatePoint=(n,e,r)=>{const g=r*Math.PI/180;return{x:e.x+(n.x-e.x)*Math.cos(g)-(n.y-e.y)*Math.sin(g),y:e.y+(n.x-e.x)*Math.sin(g)+(n.y-e.y)*Math.cos(g)}},inComponentBound=(n,e,r=0)=>{const{x:g,y,w:k,h:$,rotation:V}=e,{x:L,y:z}=rotatePoint({x:n.x,y:n.y},{x:e.x+e.w/2,y:e.y+e.h/2},-V);return L>=g-r&&L<=g+k+r&&z>=y-r&&z<=y+$+r},transformPoints=(n,e)=>{const{x:r,y:g,w:y,h:k}=getBound$4(n),{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe}=e;return n.map(de=>{let ue=clone$1(de);return re&&(ue.x=$+L/2+($+L/2-ue.x)),oe&&(ue.y=V+z/2+(V+z/2-ue.y)),ue=rotatePoint(ue,{x:r+y/2,y:g+k/2},j),ue={x:ue.x+($-r),y:ue.y+(V-g)},ue={x:$+(y?(ue.x-$)*L/y:0),y:V+(k?(ue.y-V)*z/k:0)},ue})},getEllipsePoints=(n,e,r=1e3,g=0,y=0)=>{const k=[],$=[];for(let V=0;V<r/2;V++){const L=-n+n*2/(r/2)*V,z=Math.sqrt((1-L*L/(n*n))*e*e);k.push({x:g+L,y:y+z}),$.push({x:g+L,y:y-z})}return k.concat($.reverse())},getRectanglePoints=(n,e,r,g)=>[{x:r,y:g},{x:r+n,y:g},{x:r+n,y:g+e},{x:r,y:g+e}];let nanoid=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const genUUID=()=>nanoid(),toUnicode=n=>n.charCodeAt(0).toString(16),toIconUnicode=n=>(41e3+n).toString(16);class ConstantsMap{constants;constructor(e){this.constants=e}update(e){this.constants=e}get(e){for(let r=0;r<this.constants.length;r++)if(this.constants[r].name===e)return this.constants[r].value}getByUUID(e){for(let r=0;r<this.constants.length;r++)if(this.constants[r].uuid===e)return this.constants[r].value}}ref(500);ref(500);ref(100);ref(100);reactive({img:null,left:240,right:320,top:155,bottom:290,delta:215,rotation:0});const picZoom=ref(100),step=ref(0),rThreshold=ref(128),gThreshold=ref(128),bThreshold=ref(128),localRThreshold=ref(128),localGThreshold=ref(128),localBThreshold=ref(128),localBrushSize=ref(10),localBrushX=ref(0),localBrushY=ref(0),maxError=ref(2),dropThreshold=ref(10),previewStatus=ref(0),listWidth=ref(0),editPanelDisplay=ref("edit");ref("pic");const editPanelCompFilter=ref("all"),glyphPanelCompFilter=ref("all");ref("all");var Status=(n=>(n[n.CharacterList=0]="CharacterList",n[n.GlyphList=1]="GlyphList",n[n.Edit=2]="Edit",n[n.Pic=3]="Pic",n[n.Glyph=4]="Glyph",n[n.SystemGlyphList=5]="SystemGlyphList",n[n.RadicalGlyphList=6]="RadicalGlyphList",n[n.CompGlyphList=7]="CompGlyphList",n[n.StrokeGlyphList=8]="StrokeGlyphList",n))(Status||{});const prevStatus=ref(0),editStatus=ref(0),prevEditStatus=ref(2),coordsText=ref("0, 0"),enableLocalBrush=reactive({value:!1}),editCharacterPic=reactive({value:{data:"",img:null,thumbnailCanvas:null,thumbnailPixels:[],processPixels:[],width:0,height:0}}),contoursComponents=reactive({value:[]}),curvesComponents=reactive({value:[]}),bitmap=reactive({value:{data:[],width:0,height:0}}),setEnableLocalBrush=n=>{enableLocalBrush.value=n},setBitMap=n=>{bitmap.value=n},setEditCharacterPic=n=>{editCharacterPic.value=n},setEditPanelCompFilter=n=>{editPanelCompFilter.value=n},setGlyphPanelCompFilter=n=>{glyphPanelCompFilter.value=n},setPicZoom=n=>{picZoom.value=n},setEditStatus=n=>{editStatus.value=n},setPrevStatus=n=>{prevStatus.value=n},setStep=n=>{step.value=n},clearContoursComponent=()=>{contoursComponents.value=[]},clearCurvesComponent=()=>{curvesComponents.value=[]},addContoursComponent=n=>{contoursComponents.value.push(n)},addCurvesComponent=n=>{curvesComponents.value.push(n)},resetEditPic=()=>{editCharacterPic.value={data:"",img:null,thumbnailCanvas:null,thumbnailPixels:[],processPixels:[],width:0,height:0}},ratio=2,default_unitsPerEm=1e3,mapCanvasCoords=n=>({x:ratio*n.x,y:ratio*n.y}),mapCanvasX=n=>ratio*n,mapCanvasY=n=>ratio*n,mapCanvasWidth=n=>ratio*n,mapCanvasHeight=n=>ratio*n,getCoord=n=>editStatus.value===Status.Edit?n/width$1.value*selectedFile.value.width:editStatus.value===Status.Glyph?n/width$1.value*default_unitsPerEm:n,LIMIT16=32768,LIMIT32=2147483648,wmm=typeof WeakMap=="function"&&new WeakMap,encoder={uint8:n=>typeof n=="number"&&n>=0&&n<=255?[n]:!1,int8:n=>typeof n=="number"&&n>=-128&&n<=127?[n]:!1,uint16:n=>typeof n!="number"?!1:[n>>8&255,n&255],int16:n=>{if(typeof n!="number")return!1;let e=n;return e>=LIMIT16&&(e=-(2*LIMIT16-e)),[e>>8&255,e&255]},uint24:n=>typeof n!="number"?!1:[n>>16&255,n>>8&255,n&255],uint32:n=>typeof n!="number"?!1:[n>>24&255,n>>16&255,n>>8&255,n&255],int32:n=>{if(typeof n!="number")return!1;let e=n;return n>=LIMIT32&&(e=-(2*LIMIT32-n)),[e>>24&255,e>>16&255,e>>8&255,e&255]},Fixed:n=>typeof n!="number"?!1:[n>>24&255,n>>16&255,n>>8&255,n&255],FWORD:n=>typeof n!="number"?!1:encoder.int16(n),UFWORD:n=>typeof n!="number"?!1:encoder.uint16(n),F2DOT14:n=>{},LONGDATETIME:n=>typeof n!="number"?!1:[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,n&255],Tag:n=>n.length===4?[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]:n.tagStr&&n.tagStr.length===4?[n.tagStr.charCodeAt(0),n.tagStr.charCodeAt(1),n.tagStr.charCodeAt(2),n.tagStr.charCodeAt(3)]:!1,Offset16:n=>encoder.uint16(n),Offset24:n=>encoder.uint24(n),Offset32:n=>encoder.uint32(n),Version16Dot16:n=>encoder.Fixed(n),Card8:n=>encoder.uint8(n),Card16:n=>encoder.uint16(n),OffSize:n=>encoder.uint8(n),SID:n=>encoder.uint16(n),Name:n=>encoder.String(n),String:n=>{typeof n>"u"&&(n="");let e=[];for(let r=0;r<n.length;r+=1)e[r]=n.charCodeAt(r);return e},Operand:(n,e)=>{let r=[];if(Array.isArray(e))for(let g=0;g<e.length;g+=1)r=r.concat(encoder.Operand(n[g],e[g]));else if(e==="SID")r=r.concat(encoder.number(n));else if(e==="offset")r=r.concat(encoder.number32(n));else if(e==="number")r=r.concat(encoder.number(n));else if(e==="real")r=r.concat(encoder.real(n));else if(e==="Fixed")r=r.concat(encoder.Fixed(n));else if(e==="number16")r=r.concat(encoder.number16(n));else if(e==="number32")r=r.concat(encoder.number32(n));else throw new Error("Unknown operand type "+e);return r},number:n=>{let e=n;return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?encoder.number16(e):encoder.number32(e)},number16:n=>typeof n!="number"?[]:[28,n>>8&255,n&255],number32:n=>typeof n!="number"?[]:[29,n>>24&255,n>>16&255,n>>8&255,n&255],real:n=>{let e=n.toString();const r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(r){const k=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));e=(Math.round(n*k)/k).toString()}let g="";for(let k=0,$=e.length;k<$;k+=1){const V=e[k];V==="e"?g+=e[++k]==="-"?"c":"b":V==="."?g+="a":V==="-"?g+="e":g+=V}g+=g.length&1?"f":"ff";const y=[30];for(let k=0,$=g.length;k<$;k+=2)y.push(parseInt(g.substr(k,2),16));return y},CharString:n=>{if(wmm){const g=wmm.get(n);if(g!==void 0)return g}let e=[];const r=n.length;for(let g=0;g<r;g+=1){const y=n[g];e=e.concat(encoder[y.type](y.value))}return wmm&&wmm.set(n,e),e},Operator:n=>typeof n!="number"?[]:n<1200?[n]:[12,n-1200],op:n=>encoder.uint8(n),raw:n=>n,utf16:n=>{const e=[];for(let r=0;r<n.length;r+=1){const g=n.charCodeAt(r);e[e.length]=g>>8&255,e[e.length]=g&255}return e}},setByesAt=(n,e,r)=>{for(let g=0;g<e.length;g++)n[r+g]=e[g];return n};let data,offset$1;const start=(n,e)=>{data=n,offset$1=e},end$2=()=>{data=new DataView(new ArrayBuffer(0)),offset$1=0},getOffset$2=()=>offset$1,setOffset=n=>{offset$1=n},decoder={uint8:()=>{const n=data.getUint8(offset$1);return offset$1+=1,n},int8:()=>{const n=data.getInt8(offset$1);return offset$1+=1,n},uint16:()=>{const n=data.getUint16(offset$1);return offset$1+=2,n},int16:()=>{const n=data.getInt16(offset$1);return offset$1+=2,n},uint32:()=>{const n=data.getUint32(offset$1);return offset$1+=4,n},int32:()=>{const n=data.getInt32(offset$1);return offset$1+=4,n},bigInt:()=>{const n=data.getBigInt64(offset$1);return offset$1+=8,n},Fixed:()=>decoder.int32(),FWORD:()=>decoder.int16(),UFWORD:()=>decoder.uint16(),F2DOT14:()=>{const n=data.getInt16(offset$1)/16384;return offset$1+=2,n},LONGDATETIME:()=>{const n=Number(data.getBigInt64(offset$1));return offset$1+=8,n},Tag:()=>{const n=[];let e="";for(let r=0;r<4;r++)n.push(data.getUint8(offset$1+r)),e+=String.fromCharCode(n[r]);return offset$1+=4,{tagArr:n,tagStr:e}},Offset16:()=>decoder.uint16(),Offset32:()=>decoder.uint32(),Version16Dot16:()=>{const n=data.getUint16(offset$1),e=data.getUint16(offset$1+2);return offset$1+=4,n+e/4096/10},Card8:()=>decoder.uint8(),Card16:()=>decoder.uint16(),OffSize:()=>decoder.uint8(),SID:()=>decoder.uint16()},types$b={version:"uint16",xAvgCharWidth:"int16",usWeightClass:"uint16",usWidthClass:"uint16",fsType:"uint16",ySubscriptXSize:"int16",ySubscriptYSize:"int16",ySubscriptXOffset:"int16",ySubscriptYOffset:"int16",ySuperscriptXSize:"int16",ySuperscriptYSize:"int16",ySuperscriptXOffset:"int16",ySuperscriptYOffset:"int16",yStrikeoutSize:"int16",yStrikeoutPosition:"int16",sFamilyClass:"int16",panose:"uint8",ulUnicodeRange1:"uint32",ulUnicodeRange2:"uint32",ulUnicodeRange3:"uint32",ulUnicodeRange4:"uint32",achVendID:"Tag",fsSelection:"uint16",usFirstCharIndex:"uint16",usLastCharIndex:"uint16",sTypoAscender:"int16",sTypoDescender:"int16",sTypoLineGap:"int16",usWinAscent:"uint16",usWinDescent:"uint16",ulCodePageRange1:"uint32",ulCodePageRange2:"uint32",sxHeight:"int16",sCapHeight:"int16",usDefaultChar:"uint16",usBreakChar:"uint16",usMaxContext:"uint16",usLowerOpticalPointSize:"uint16",usUpperOpticalPointSize:"uint16"},parse$g=(n,e,r)=>{start(n,e);const g=decoder[types$b.version](),y=decoder[types$b.xAvgCharWidth](),k=decoder[types$b.usWeightClass](),$=decoder[types$b.usWidthClass](),V=decoder[types$b.fsType](),L=decoder[types$b.ySubscriptXSize](),z=decoder[types$b.ySubscriptYSize](),j=decoder[types$b.ySubscriptXOffset](),re=decoder[types$b.ySubscriptYOffset](),oe=decoder[types$b.ySuperscriptXSize](),ae=decoder[types$b.ySuperscriptYSize](),de=decoder[types$b.ySuperscriptXOffset](),ue=decoder[types$b.ySuperscriptYOffset](),pe=decoder[types$b.yStrikeoutSize](),he=decoder[types$b.yStrikeoutPosition](),xe=decoder[types$b.sFamilyClass](),$e=[];for(let Bn=0;Bn<10;Bn++)$e[Bn]=decoder[types$b.panose]();const Ne=decoder[types$b.ulUnicodeRange1](),Oe=decoder[types$b.ulUnicodeRange2](),_e=decoder[types$b.ulUnicodeRange3](),Fe=decoder[types$b.ulUnicodeRange4](),Ue=decoder[types$b.achVendID](),kt=decoder[types$b.fsSelection](),Lt=decoder[types$b.usFirstCharIndex](),wn=decoder[types$b.usLastCharIndex](),Et=decoder[types$b.sTypoAscender](),xn=decoder[types$b.sTypoDescender](),jt=decoder[types$b.sTypoLineGap](),An=decoder[types$b.usWinAscent](),Dn=decoder[types$b.usWinDescent](),En={version:g,xAvgCharWidth:y,usWeightClass:k,usWidthClass:$,fsType:V,ySubscriptXSize:L,ySubscriptYSize:z,ySubscriptXOffset:j,ySubscriptYOffset:re,ySuperscriptXSize:oe,ySuperscriptYSize:ae,ySuperscriptXOffset:de,ySuperscriptYOffset:ue,yStrikeoutSize:pe,yStrikeoutPosition:he,sFamilyClass:xe,panose:$e,ulUnicodeRange1:Ne,ulUnicodeRange2:Oe,ulUnicodeRange3:_e,ulUnicodeRange4:Fe,achVendID:Ue,fsSelection:kt,usFirstCharIndex:Lt,usLastCharIndex:wn,sTypoAscender:Et,sTypoDescender:xn,sTypoLineGap:jt,usWinAscent:An,usWinDescent:Dn};return g>=1&&(En.ulCodePageRange1=decoder[types$b.ulCodePageRange1](),En.ulCodePageRange2=decoder[types$b.ulCodePageRange2]()),g>=2&&(En.sxHeight=decoder[types$b.sxHeight](),En.sCapHeight=decoder[types$b.sCapHeight](),En.usDefaultChar=decoder[types$b.usDefaultChar](),En.usBreakChar=decoder[types$b.usBreakChar](),En.usMaxContext=decoder[types$b.usMaxContext]()),g>=5&&(En.usLowerOpticalPointSize=decoder[types$b.usLowerOpticalPointSize](),En.usUpperOpticalPointSize=decoder[types$b.usUpperOpticalPointSize]()),end$2(),En},create$c=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$b[r],y=n[r];let k=[];if(r==="panose"){const $=y;for(let V=0;V<$.length;V++)k=k.concat(encoder[g]($[V]))}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},getPanose=n=>{},unicodeRanges=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],getUnicodeRange=n=>{for(let e=0;e<unicodeRanges.length;e+=1){const r=unicodeRanges[e];if(n>=r.begin&&n<r.end)return e}return-1},os2Table=Object.freeze(Object.defineProperty({__proto__:null,create:create$c,getPanose,getUnicodeRange,parse:parse$g},Symbol.toStringTag,{value:"Module"}));var PathType=(n=>(n[n.LINE=0]="LINE",n[n.QUADRATIC_BEZIER=1]="QUADRATIC_BEZIER",n[n.CUBIC_BEZIER=2]="CUBIC_BEZIER",n))(PathType||{});const getMetrics=n=>{const e=[],r=[];for(let y=0;y<n.contours.length;y+=1)for(let k=0;k<n.contours[y].length;k++){const $=n.contours[y][k];e.push($.start.x),r.push($.start.y),e.push($.end.x),r.push($.end.y),$.type===1?(e.push($.control.x),r.push($.control.y)):$.type===2&&(e.push($.control1.x),r.push($.control1.y),e.push($.control2.x),r.push($.control2.y))}const g={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,r),leftSideBearing:n.leftSideBearing,rightSideBearing:0};return isFinite(g.xMin)||(g.xMin=0),isFinite(g.xMax)||(g.xMax=n.advanceWidth||0),isFinite(g.yMin)||(g.yMin=0),isFinite(g.yMax)||(g.yMax=0),g.leftSideBearing||(g.leftSideBearing=g.xMin),g.rightSideBearing=(n.advanceWidth||0)-g.leftSideBearing-(g.xMax-g.xMin),g},parseTablesToCharacters=n=>{const e=[],r=n.filter(y=>y.name==="cmap")[0].table,g=n.filter(y=>y.name==="hmtx")[0].table;if(n.filter(y=>y.name==="glyf")[0]){const y=n.filter(k=>k.name==="glyf")[0].table;Object.keys(r.glyphIndexMap).forEach(k=>{const $=r.glyphIndexMap[k],V=y.glyphTables[r.glyphIndexMap[k]],L=[];for(let z=0;z<V.contours.length;z++)L.push(V.contours[z].paths);e.push({unicode:Number(k),contours:L,contourNum:V.contours.length,advanceWidth:g.hMetrics[$].advanceWidth,index:r.glyphIndexMap[k],name:String.fromCharCode(Number(k))})})}else if(n.filter(y=>y.name==="CFF ")[0]){const y=n.filter(k=>k.name==="CFF ")[0].table;Object.keys(r.glyphIndexMap).forEach(k=>{const $=r.glyphIndexMap[k],V=y.glyphTables[$];e.push({unicode:Number(k),contours:V.contours,contourNum:V.contours.length,advanceWidth:V.advanceWidth,index:$,name:y.charsets?.data[$]})})}return e},types$a={majorVersion:"uint16",minorVersion:"uint16",fontRevision:"Fixed",checkSumAdjustment:"uint32",magicNumber:"uint32",flags:"uint16",unitsPerEm:"uint16",created:"LONGDATETIME",modified:"LONGDATETIME",xMin:"int16",yMin:"int16",xMax:"int16",yMax:"int16",macStyle:"uint16",lowestRecPPEM:"uint16",fontDirectionHint:"int16",indexToLocFormat:"int16",glyphDataFormat:"int16"},parse$f=(n,e,r)=>{const g=Object.keys(types$a),y={};start(n,e);for(let k=0;k<g.length;k++){const $=g[k];y[$]=decoder[types$a[$]]()}return end$2(),r.settings.indexToLocFormat=y.indexToLocFormat,r.settings.unitsPerEm=y.unitsPerEm,y},create$b=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$a[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},headTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$b,parse:parse$f},Symbol.toStringTag,{value:"Module"})),types$9={majorVersion:"uint16",minorVersion:"uint16",ascender:"FWORD",descender:"FWORD",lineGap:"FWORD",advanceWidthMax:"UFWORD",minLeftSideBearing:"FWORD",minRightSideBearing:"FWORD",xMaxExtent:"FWORD",caretSlopeRise:"int16",caretSlopeRun:"int16",caretOffset:"int16",reserved0:"int16",reserved1:"int16",reserved2:"int16",reserved3:"int16",metricDataFormat:"int16",numberOfHMetrics:"uint16"},parse$e=(n,e,r)=>{const g=Object.keys(types$9),y={};start(n,e);for(let k=0;k<g.length;k++){const $=g[k];y[$]=decoder[types$9[$]]()}return end$2(),r.settings.numberOfHMetrics=y.numberOfHMetrics,r.settings.ascender=y.ascender,r.settings.descender=y.descender,y},create$a=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$9[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},hheaTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$a,parse:parse$e},Symbol.toStringTag,{value:"Module"})),getVersion=(n,e)=>{const r=n.getUint16(e),g=n.getUint16(e+2);return r+g/4096/10},getStorageString=(n,e,r)=>{const g=[];for(let y=0;y<r/2;y++)g[y]=n.getUint16(e+y*2);return String.fromCharCode.apply(null,g)},computeCheckSum=(n,e=!1)=>{let r=n;for(e||(r=Object.assign([],n));r.length%4!==0;)r.push(0);let g=0;for(let y=0;y<r.length;y+=4){const k=(r[y]<<24>>>0)+(r[y+1]<<16>>>0)+(r[y+2]<<8>>>0)+(r[y+3]>>>0);g=g+k>>>0}return g%=4294967296,g},hasChineseChar=n=>{let e=!1;for(let r=0;r<n.length;r++)isChineseChar(n[r])&&(e=!0);return e},isChineseChar=n=>/^[\u4E00-\u9FFF]$/.test(n),types$8={version:"Version16Dot16",numGlyphs:"uint16",maxPoints:"uint16",maxContours:"uint16",maxCompositePoints:"uint16",maxCompositeContours:"uint16",maxZones:"uint16",maxTwilightPoints:"uint16",maxStorage:"uint16",maxFunctionDefs:"uint16",maxInstructionDefs:"uint16",maxStackElements:"uint16",maxSizeOfInstructions:"uint16",maxComponentElements:"uint16",maxComponentDepth:"uint16"},parse$d=(n,e,r)=>{const g=getVersion(n,e),y=Object.keys(types$8),k={};start(n,e);for(let $=0;$<y.length;$++){const V=y[$];(g>=1||V==="numGlyphs"||V==="version")&&(k[V]=decoder[types$8[V]]())}return end$2(),r.settings.numGlyphs=k.numGlyphs,k},create$9=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$8[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},maxpTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$9,parse:parse$d},Symbol.toStringTag,{value:"Module"}));var lib={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$4.length;i$1<len;++i$1)lookup[i$1]=code$4[i$1],revLookup[code$4.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=e);var g=r===e?0:4-r%4;return[r,g]}function byteLength(n){var e=getLens(n),r=e[0],g=e[1];return(r+g)*3/4-g}function _byteLength(n,e,r){return(e+r)*3/4-r}function toByteArray(n){var e,r=getLens(n),g=r[0],y=r[1],k=new Arr(_byteLength(n,g,y)),$=0,V=y>0?g-4:g,L;for(L=0;L<V;L+=4)e=revLookup[n.charCodeAt(L)]<<18|revLookup[n.charCodeAt(L+1)]<<12|revLookup[n.charCodeAt(L+2)]<<6|revLookup[n.charCodeAt(L+3)],k[$++]=e>>16&255,k[$++]=e>>8&255,k[$++]=e&255;return y===2&&(e=revLookup[n.charCodeAt(L)]<<2|revLookup[n.charCodeAt(L+1)]>>4,k[$++]=e&255),y===1&&(e=revLookup[n.charCodeAt(L)]<<10|revLookup[n.charCodeAt(L+1)]<<4|revLookup[n.charCodeAt(L+2)]>>2,k[$++]=e>>8&255,k[$++]=e&255),k}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,e,r){for(var g,y=[],k=e;k<r;k+=3)g=(n[k]<<16&16711680)+(n[k+1]<<8&65280)+(n[k+2]&255),y.push(tripletToBase64(g));return y.join("")}function fromByteArray(n){for(var e,r=n.length,g=r%3,y=[],k=16383,$=0,V=r-g;$<V;$+=k)y.push(encodeChunk(n,$,$+k>V?V:$+k));return g===1?(e=n[r-1],y.push(lookup[e>>2]+lookup[e<<4&63]+"==")):g===2&&(e=(n[r-2]<<8)+n[r-1],y.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),y.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(n,e,r,g,y){var k,$,V=y*8-g-1,L=(1<<V)-1,z=L>>1,j=-7,re=r?y-1:0,oe=r?-1:1,ae=n[e+re];for(re+=oe,k=ae&(1<<-j)-1,ae>>=-j,j+=V;j>0;k=k*256+n[e+re],re+=oe,j-=8);for($=k&(1<<-j)-1,k>>=-j,j+=g;j>0;$=$*256+n[e+re],re+=oe,j-=8);if(k===0)k=1-z;else{if(k===L)return $?NaN:(ae?-1:1)*(1/0);$=$+Math.pow(2,g),k=k-z}return(ae?-1:1)*$*Math.pow(2,k-g)};ieee754.write=function(n,e,r,g,y,k){var $,V,L,z=k*8-y-1,j=(1<<z)-1,re=j>>1,oe=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,ae=g?0:k-1,de=g?1:-1,ue=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(V=isNaN(e)?1:0,$=j):($=Math.floor(Math.log(e)/Math.LN2),e*(L=Math.pow(2,-$))<1&&($--,L*=2),$+re>=1?e+=oe/L:e+=oe*Math.pow(2,1-re),e*L>=2&&($++,L/=2),$+re>=j?(V=0,$=j):$+re>=1?(V=(e*L-1)*Math.pow(2,y),$=$+re):(V=e*Math.pow(2,re-1)*Math.pow(2,y),$=0));y>=8;n[r+ae]=V&255,ae+=de,V/=256,y-=8);for($=$<<y|V,z+=y;z>0;n[r+ae]=$&255,ae+=de,$/=256,z-=8);n[r+ae-de]|=ue*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){var e=base64Js,r=ieee754,g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=V,n.SlowBuffer=xe,n.INSPECT_MAX_BYTES=50;var y=2147483647;n.kMaxLength=y,V.TYPED_ARRAY_SUPPORT=k(),!V.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function k(){try{var Tn=new Uint8Array(1),Dt={foo:function(){return 42}};return Object.setPrototypeOf(Dt,Uint8Array.prototype),Object.setPrototypeOf(Tn,Dt),Tn.foo()===42}catch{return!1}}Object.defineProperty(V.prototype,"parent",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.buffer}}),Object.defineProperty(V.prototype,"offset",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.byteOffset}});function $(Tn){if(Tn>y)throw new RangeError('The value "'+Tn+'" is invalid for option "size"');var Dt=new Uint8Array(Tn);return Object.setPrototypeOf(Dt,V.prototype),Dt}function V(Tn,Dt,hn){if(typeof Tn=="number"){if(typeof Dt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return re(Tn)}return L(Tn,Dt,hn)}V.poolSize=8192;function L(Tn,Dt,hn){if(typeof Tn=="string")return oe(Tn,Dt);if(ArrayBuffer.isView(Tn))return de(Tn);if(Tn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tn);if(zn(Tn,ArrayBuffer)||Tn&&zn(Tn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(zn(Tn,SharedArrayBuffer)||Tn&&zn(Tn.buffer,SharedArrayBuffer)))return ue(Tn,Dt,hn);if(typeof Tn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Vn=Tn.valueOf&&Tn.valueOf();if(Vn!=null&&Vn!==Tn)return V.from(Vn,Dt,hn);var Kn=pe(Tn);if(Kn)return Kn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Tn[Symbol.toPrimitive]=="function")return V.from(Tn[Symbol.toPrimitive]("string"),Dt,hn);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tn)}V.from=function(Tn,Dt,hn){return L(Tn,Dt,hn)},Object.setPrototypeOf(V.prototype,Uint8Array.prototype),Object.setPrototypeOf(V,Uint8Array);function z(Tn){if(typeof Tn!="number")throw new TypeError('"size" argument must be of type number');if(Tn<0)throw new RangeError('The value "'+Tn+'" is invalid for option "size"')}function j(Tn,Dt,hn){return z(Tn),Tn<=0?$(Tn):Dt!==void 0?typeof hn=="string"?$(Tn).fill(Dt,hn):$(Tn).fill(Dt):$(Tn)}V.alloc=function(Tn,Dt,hn){return j(Tn,Dt,hn)};function re(Tn){return z(Tn),$(Tn<0?0:he(Tn)|0)}V.allocUnsafe=function(Tn){return re(Tn)},V.allocUnsafeSlow=function(Tn){return re(Tn)};function oe(Tn,Dt){if((typeof Dt!="string"||Dt==="")&&(Dt="utf8"),!V.isEncoding(Dt))throw new TypeError("Unknown encoding: "+Dt);var hn=$e(Tn,Dt)|0,Vn=$(hn),Kn=Vn.write(Tn,Dt);return Kn!==hn&&(Vn=Vn.slice(0,Kn)),Vn}function ae(Tn){for(var Dt=Tn.length<0?0:he(Tn.length)|0,hn=$(Dt),Vn=0;Vn<Dt;Vn+=1)hn[Vn]=Tn[Vn]&255;return hn}function de(Tn){if(zn(Tn,Uint8Array)){var Dt=new Uint8Array(Tn);return ue(Dt.buffer,Dt.byteOffset,Dt.byteLength)}return ae(Tn)}function ue(Tn,Dt,hn){if(Dt<0||Tn.byteLength<Dt)throw new RangeError('"offset" is outside of buffer bounds');if(Tn.byteLength<Dt+(hn||0))throw new RangeError('"length" is outside of buffer bounds');var Vn;return Dt===void 0&&hn===void 0?Vn=new Uint8Array(Tn):hn===void 0?Vn=new Uint8Array(Tn,Dt):Vn=new Uint8Array(Tn,Dt,hn),Object.setPrototypeOf(Vn,V.prototype),Vn}function pe(Tn){if(V.isBuffer(Tn)){var Dt=he(Tn.length)|0,hn=$(Dt);return hn.length===0||Tn.copy(hn,0,0,Dt),hn}if(Tn.length!==void 0)return typeof Tn.length!="number"||vn(Tn.length)?$(0):ae(Tn);if(Tn.type==="Buffer"&&Array.isArray(Tn.data))return ae(Tn.data)}function he(Tn){if(Tn>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return Tn|0}function xe(Tn){return+Tn!=Tn&&(Tn=0),V.alloc(+Tn)}V.isBuffer=function(Dt){return Dt!=null&&Dt._isBuffer===!0&&Dt!==V.prototype},V.compare=function(Dt,hn){if(zn(Dt,Uint8Array)&&(Dt=V.from(Dt,Dt.offset,Dt.byteLength)),zn(hn,Uint8Array)&&(hn=V.from(hn,hn.offset,hn.byteLength)),!V.isBuffer(Dt)||!V.isBuffer(hn))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Dt===hn)return 0;for(var Vn=Dt.length,Kn=hn.length,ar=0,lr=Math.min(Vn,Kn);ar<lr;++ar)if(Dt[ar]!==hn[ar]){Vn=Dt[ar],Kn=hn[ar];break}return Vn<Kn?-1:Kn<Vn?1:0},V.isEncoding=function(Dt){switch(String(Dt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},V.concat=function(Dt,hn){if(!Array.isArray(Dt))throw new TypeError('"list" argument must be an Array of Buffers');if(Dt.length===0)return V.alloc(0);var Vn;if(hn===void 0)for(hn=0,Vn=0;Vn<Dt.length;++Vn)hn+=Dt[Vn].length;var Kn=V.allocUnsafe(hn),ar=0;for(Vn=0;Vn<Dt.length;++Vn){var lr=Dt[Vn];if(zn(lr,Uint8Array))ar+lr.length>Kn.length?V.from(lr).copy(Kn,ar):Uint8Array.prototype.set.call(Kn,lr,ar);else if(V.isBuffer(lr))lr.copy(Kn,ar);else throw new TypeError('"list" argument must be an Array of Buffers');ar+=lr.length}return Kn};function $e(Tn,Dt){if(V.isBuffer(Tn))return Tn.length;if(ArrayBuffer.isView(Tn)||zn(Tn,ArrayBuffer))return Tn.byteLength;if(typeof Tn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Tn);var hn=Tn.length,Vn=arguments.length>2&&arguments[2]===!0;if(!Vn&&hn===0)return 0;for(var Kn=!1;;)switch(Dt){case"ascii":case"latin1":case"binary":return hn;case"utf8":case"utf-8":return jn(Tn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hn*2;case"hex":return hn>>>1;case"base64":return Cr(Tn).length;default:if(Kn)return Vn?-1:jn(Tn).length;Dt=(""+Dt).toLowerCase(),Kn=!0}}V.byteLength=$e;function Ne(Tn,Dt,hn){var Vn=!1;if((Dt===void 0||Dt<0)&&(Dt=0),Dt>this.length||((hn===void 0||hn>this.length)&&(hn=this.length),hn<=0)||(hn>>>=0,Dt>>>=0,hn<=Dt))return"";for(Tn||(Tn="utf8");;)switch(Tn){case"hex":return $n(this,Dt,hn);case"utf8":case"utf-8":return jt(this,Dt,hn);case"ascii":return En(this,Dt,hn);case"latin1":case"binary":return Bn(this,Dt,hn);case"base64":return xn(this,Dt,hn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wn(this,Dt,hn);default:if(Vn)throw new TypeError("Unknown encoding: "+Tn);Tn=(Tn+"").toLowerCase(),Vn=!0}}V.prototype._isBuffer=!0;function Oe(Tn,Dt,hn){var Vn=Tn[Dt];Tn[Dt]=Tn[hn],Tn[hn]=Vn}V.prototype.swap16=function(){var Dt=this.length;if(Dt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var hn=0;hn<Dt;hn+=2)Oe(this,hn,hn+1);return this},V.prototype.swap32=function(){var Dt=this.length;if(Dt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var hn=0;hn<Dt;hn+=4)Oe(this,hn,hn+3),Oe(this,hn+1,hn+2);return this},V.prototype.swap64=function(){var Dt=this.length;if(Dt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var hn=0;hn<Dt;hn+=8)Oe(this,hn,hn+7),Oe(this,hn+1,hn+6),Oe(this,hn+2,hn+5),Oe(this,hn+3,hn+4);return this},V.prototype.toString=function(){var Dt=this.length;return Dt===0?"":arguments.length===0?jt(this,0,Dt):Ne.apply(this,arguments)},V.prototype.toLocaleString=V.prototype.toString,V.prototype.equals=function(Dt){if(!V.isBuffer(Dt))throw new TypeError("Argument must be a Buffer");return this===Dt?!0:V.compare(this,Dt)===0},V.prototype.inspect=function(){var Dt="",hn=n.INSPECT_MAX_BYTES;return Dt=this.toString("hex",0,hn).replace(/(.{2})/g,"$1 ").trim(),this.length>hn&&(Dt+=" ... "),"<Buffer "+Dt+">"},g&&(V.prototype[g]=V.prototype.inspect),V.prototype.compare=function(Dt,hn,Vn,Kn,ar){if(zn(Dt,Uint8Array)&&(Dt=V.from(Dt,Dt.offset,Dt.byteLength)),!V.isBuffer(Dt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Dt);if(hn===void 0&&(hn=0),Vn===void 0&&(Vn=Dt?Dt.length:0),Kn===void 0&&(Kn=0),ar===void 0&&(ar=this.length),hn<0||Vn>Dt.length||Kn<0||ar>this.length)throw new RangeError("out of range index");if(Kn>=ar&&hn>=Vn)return 0;if(Kn>=ar)return-1;if(hn>=Vn)return 1;if(hn>>>=0,Vn>>>=0,Kn>>>=0,ar>>>=0,this===Dt)return 0;for(var lr=ar-Kn,cr=Vn-hn,mr=Math.min(lr,cr),ur=this.slice(Kn,ar),le=Dt.slice(hn,Vn),Ce=0;Ce<mr;++Ce)if(ur[Ce]!==le[Ce]){lr=ur[Ce],cr=le[Ce];break}return lr<cr?-1:cr<lr?1:0};function _e(Tn,Dt,hn,Vn,Kn){if(Tn.length===0)return-1;if(typeof hn=="string"?(Vn=hn,hn=0):hn>2147483647?hn=2147483647:hn<-2147483648&&(hn=-2147483648),hn=+hn,vn(hn)&&(hn=Kn?0:Tn.length-1),hn<0&&(hn=Tn.length+hn),hn>=Tn.length){if(Kn)return-1;hn=Tn.length-1}else if(hn<0)if(Kn)hn=0;else return-1;if(typeof Dt=="string"&&(Dt=V.from(Dt,Vn)),V.isBuffer(Dt))return Dt.length===0?-1:Fe(Tn,Dt,hn,Vn,Kn);if(typeof Dt=="number")return Dt=Dt&255,typeof Uint8Array.prototype.indexOf=="function"?Kn?Uint8Array.prototype.indexOf.call(Tn,Dt,hn):Uint8Array.prototype.lastIndexOf.call(Tn,Dt,hn):Fe(Tn,[Dt],hn,Vn,Kn);throw new TypeError("val must be string, number or Buffer")}function Fe(Tn,Dt,hn,Vn,Kn){var ar=1,lr=Tn.length,cr=Dt.length;if(Vn!==void 0&&(Vn=String(Vn).toLowerCase(),Vn==="ucs2"||Vn==="ucs-2"||Vn==="utf16le"||Vn==="utf-16le")){if(Tn.length<2||Dt.length<2)return-1;ar=2,lr/=2,cr/=2,hn/=2}function mr(ze,qe){return ar===1?ze[qe]:ze.readUInt16BE(qe*ar)}var ur;if(Kn){var le=-1;for(ur=hn;ur<lr;ur++)if(mr(Tn,ur)===mr(Dt,le===-1?0:ur-le)){if(le===-1&&(le=ur),ur-le+1===cr)return le*ar}else le!==-1&&(ur-=ur-le),le=-1}else for(hn+cr>lr&&(hn=lr-cr),ur=hn;ur>=0;ur--){for(var Ce=!0,Ie=0;Ie<cr;Ie++)if(mr(Tn,ur+Ie)!==mr(Dt,Ie)){Ce=!1;break}if(Ce)return ur}return-1}V.prototype.includes=function(Dt,hn,Vn){return this.indexOf(Dt,hn,Vn)!==-1},V.prototype.indexOf=function(Dt,hn,Vn){return _e(this,Dt,hn,Vn,!0)},V.prototype.lastIndexOf=function(Dt,hn,Vn){return _e(this,Dt,hn,Vn,!1)};function Ue(Tn,Dt,hn,Vn){hn=Number(hn)||0;var Kn=Tn.length-hn;Vn?(Vn=Number(Vn),Vn>Kn&&(Vn=Kn)):Vn=Kn;var ar=Dt.length;Vn>ar/2&&(Vn=ar/2);for(var lr=0;lr<Vn;++lr){var cr=parseInt(Dt.substr(lr*2,2),16);if(vn(cr))return lr;Tn[hn+lr]=cr}return lr}function kt(Tn,Dt,hn,Vn){return sr(jn(Dt,Tn.length-hn),Tn,hn,Vn)}function Lt(Tn,Dt,hn,Vn){return sr(fr(Dt),Tn,hn,Vn)}function wn(Tn,Dt,hn,Vn){return sr(Cr(Dt),Tn,hn,Vn)}function Et(Tn,Dt,hn,Vn){return sr(yr(Dt,Tn.length-hn),Tn,hn,Vn)}V.prototype.write=function(Dt,hn,Vn,Kn){if(hn===void 0)Kn="utf8",Vn=this.length,hn=0;else if(Vn===void 0&&typeof hn=="string")Kn=hn,Vn=this.length,hn=0;else if(isFinite(hn))hn=hn>>>0,isFinite(Vn)?(Vn=Vn>>>0,Kn===void 0&&(Kn="utf8")):(Kn=Vn,Vn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ar=this.length-hn;if((Vn===void 0||Vn>ar)&&(Vn=ar),Dt.length>0&&(Vn<0||hn<0)||hn>this.length)throw new RangeError("Attempt to write outside buffer bounds");Kn||(Kn="utf8");for(var lr=!1;;)switch(Kn){case"hex":return Ue(this,Dt,hn,Vn);case"utf8":case"utf-8":return kt(this,Dt,hn,Vn);case"ascii":case"latin1":case"binary":return Lt(this,Dt,hn,Vn);case"base64":return wn(this,Dt,hn,Vn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Et(this,Dt,hn,Vn);default:if(lr)throw new TypeError("Unknown encoding: "+Kn);Kn=(""+Kn).toLowerCase(),lr=!0}},V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xn(Tn,Dt,hn){return Dt===0&&hn===Tn.length?e.fromByteArray(Tn):e.fromByteArray(Tn.slice(Dt,hn))}function jt(Tn,Dt,hn){hn=Math.min(Tn.length,hn);for(var Vn=[],Kn=Dt;Kn<hn;){var ar=Tn[Kn],lr=null,cr=ar>239?4:ar>223?3:ar>191?2:1;if(Kn+cr<=hn){var mr,ur,le,Ce;switch(cr){case 1:ar<128&&(lr=ar);break;case 2:mr=Tn[Kn+1],(mr&192)===128&&(Ce=(ar&31)<<6|mr&63,Ce>127&&(lr=Ce));break;case 3:mr=Tn[Kn+1],ur=Tn[Kn+2],(mr&192)===128&&(ur&192)===128&&(Ce=(ar&15)<<12|(mr&63)<<6|ur&63,Ce>2047&&(Ce<55296||Ce>57343)&&(lr=Ce));break;case 4:mr=Tn[Kn+1],ur=Tn[Kn+2],le=Tn[Kn+3],(mr&192)===128&&(ur&192)===128&&(le&192)===128&&(Ce=(ar&15)<<18|(mr&63)<<12|(ur&63)<<6|le&63,Ce>65535&&Ce<1114112&&(lr=Ce))}}lr===null?(lr=65533,cr=1):lr>65535&&(lr-=65536,Vn.push(lr>>>10&1023|55296),lr=56320|lr&1023),Vn.push(lr),Kn+=cr}return Dn(Vn)}var An=4096;function Dn(Tn){var Dt=Tn.length;if(Dt<=An)return String.fromCharCode.apply(String,Tn);for(var hn="",Vn=0;Vn<Dt;)hn+=String.fromCharCode.apply(String,Tn.slice(Vn,Vn+=An));return hn}function En(Tn,Dt,hn){var Vn="";hn=Math.min(Tn.length,hn);for(var Kn=Dt;Kn<hn;++Kn)Vn+=String.fromCharCode(Tn[Kn]&127);return Vn}function Bn(Tn,Dt,hn){var Vn="";hn=Math.min(Tn.length,hn);for(var Kn=Dt;Kn<hn;++Kn)Vn+=String.fromCharCode(Tn[Kn]);return Vn}function $n(Tn,Dt,hn){var Vn=Tn.length;(!Dt||Dt<0)&&(Dt=0),(!hn||hn<0||hn>Vn)&&(hn=Vn);for(var Kn="",ar=Dt;ar<hn;++ar)Kn+=Jn[Tn[ar]];return Kn}function Wn(Tn,Dt,hn){for(var Vn=Tn.slice(Dt,hn),Kn="",ar=0;ar<Vn.length-1;ar+=2)Kn+=String.fromCharCode(Vn[ar]+Vn[ar+1]*256);return Kn}V.prototype.slice=function(Dt,hn){var Vn=this.length;Dt=~~Dt,hn=hn===void 0?Vn:~~hn,Dt<0?(Dt+=Vn,Dt<0&&(Dt=0)):Dt>Vn&&(Dt=Vn),hn<0?(hn+=Vn,hn<0&&(hn=0)):hn>Vn&&(hn=Vn),hn<Dt&&(hn=Dt);var Kn=this.subarray(Dt,hn);return Object.setPrototypeOf(Kn,V.prototype),Kn};function Gn(Tn,Dt,hn){if(Tn%1!==0||Tn<0)throw new RangeError("offset is not uint");if(Tn+Dt>hn)throw new RangeError("Trying to access beyond buffer length")}V.prototype.readUintLE=V.prototype.readUIntLE=function(Dt,hn,Vn){Dt=Dt>>>0,hn=hn>>>0,Vn||Gn(Dt,hn,this.length);for(var Kn=this[Dt],ar=1,lr=0;++lr<hn&&(ar*=256);)Kn+=this[Dt+lr]*ar;return Kn},V.prototype.readUintBE=V.prototype.readUIntBE=function(Dt,hn,Vn){Dt=Dt>>>0,hn=hn>>>0,Vn||Gn(Dt,hn,this.length);for(var Kn=this[Dt+--hn],ar=1;hn>0&&(ar*=256);)Kn+=this[Dt+--hn]*ar;return Kn},V.prototype.readUint8=V.prototype.readUInt8=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,1,this.length),this[Dt]},V.prototype.readUint16LE=V.prototype.readUInt16LE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,2,this.length),this[Dt]|this[Dt+1]<<8},V.prototype.readUint16BE=V.prototype.readUInt16BE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,2,this.length),this[Dt]<<8|this[Dt+1]},V.prototype.readUint32LE=V.prototype.readUInt32LE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,4,this.length),(this[Dt]|this[Dt+1]<<8|this[Dt+2]<<16)+this[Dt+3]*16777216},V.prototype.readUint32BE=V.prototype.readUInt32BE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,4,this.length),this[Dt]*16777216+(this[Dt+1]<<16|this[Dt+2]<<8|this[Dt+3])},V.prototype.readIntLE=function(Dt,hn,Vn){Dt=Dt>>>0,hn=hn>>>0,Vn||Gn(Dt,hn,this.length);for(var Kn=this[Dt],ar=1,lr=0;++lr<hn&&(ar*=256);)Kn+=this[Dt+lr]*ar;return ar*=128,Kn>=ar&&(Kn-=Math.pow(2,8*hn)),Kn},V.prototype.readIntBE=function(Dt,hn,Vn){Dt=Dt>>>0,hn=hn>>>0,Vn||Gn(Dt,hn,this.length);for(var Kn=hn,ar=1,lr=this[Dt+--Kn];Kn>0&&(ar*=256);)lr+=this[Dt+--Kn]*ar;return ar*=128,lr>=ar&&(lr-=Math.pow(2,8*hn)),lr},V.prototype.readInt8=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,1,this.length),this[Dt]&128?(255-this[Dt]+1)*-1:this[Dt]},V.prototype.readInt16LE=function(Dt,hn){Dt=Dt>>>0,hn||Gn(Dt,2,this.length);var Vn=this[Dt]|this[Dt+1]<<8;return Vn&32768?Vn|4294901760:Vn},V.prototype.readInt16BE=function(Dt,hn){Dt=Dt>>>0,hn||Gn(Dt,2,this.length);var Vn=this[Dt+1]|this[Dt]<<8;return Vn&32768?Vn|4294901760:Vn},V.prototype.readInt32LE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,4,this.length),this[Dt]|this[Dt+1]<<8|this[Dt+2]<<16|this[Dt+3]<<24},V.prototype.readInt32BE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,4,this.length),this[Dt]<<24|this[Dt+1]<<16|this[Dt+2]<<8|this[Dt+3]},V.prototype.readFloatLE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,4,this.length),r.read(this,Dt,!0,23,4)},V.prototype.readFloatBE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,4,this.length),r.read(this,Dt,!1,23,4)},V.prototype.readDoubleLE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,8,this.length),r.read(this,Dt,!0,52,8)},V.prototype.readDoubleBE=function(Dt,hn){return Dt=Dt>>>0,hn||Gn(Dt,8,this.length),r.read(this,Dt,!1,52,8)};function Nn(Tn,Dt,hn,Vn,Kn,ar){if(!V.isBuffer(Tn))throw new TypeError('"buffer" argument must be a Buffer instance');if(Dt>Kn||Dt<ar)throw new RangeError('"value" argument is out of bounds');if(hn+Vn>Tn.length)throw new RangeError("Index out of range")}V.prototype.writeUintLE=V.prototype.writeUIntLE=function(Dt,hn,Vn,Kn){if(Dt=+Dt,hn=hn>>>0,Vn=Vn>>>0,!Kn){var ar=Math.pow(2,8*Vn)-1;Nn(this,Dt,hn,Vn,ar,0)}var lr=1,cr=0;for(this[hn]=Dt&255;++cr<Vn&&(lr*=256);)this[hn+cr]=Dt/lr&255;return hn+Vn},V.prototype.writeUintBE=V.prototype.writeUIntBE=function(Dt,hn,Vn,Kn){if(Dt=+Dt,hn=hn>>>0,Vn=Vn>>>0,!Kn){var ar=Math.pow(2,8*Vn)-1;Nn(this,Dt,hn,Vn,ar,0)}var lr=Vn-1,cr=1;for(this[hn+lr]=Dt&255;--lr>=0&&(cr*=256);)this[hn+lr]=Dt/cr&255;return hn+Vn},V.prototype.writeUint8=V.prototype.writeUInt8=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,1,255,0),this[hn]=Dt&255,hn+1},V.prototype.writeUint16LE=V.prototype.writeUInt16LE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,2,65535,0),this[hn]=Dt&255,this[hn+1]=Dt>>>8,hn+2},V.prototype.writeUint16BE=V.prototype.writeUInt16BE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,2,65535,0),this[hn]=Dt>>>8,this[hn+1]=Dt&255,hn+2},V.prototype.writeUint32LE=V.prototype.writeUInt32LE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,4,4294967295,0),this[hn+3]=Dt>>>24,this[hn+2]=Dt>>>16,this[hn+1]=Dt>>>8,this[hn]=Dt&255,hn+4},V.prototype.writeUint32BE=V.prototype.writeUInt32BE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,4,4294967295,0),this[hn]=Dt>>>24,this[hn+1]=Dt>>>16,this[hn+2]=Dt>>>8,this[hn+3]=Dt&255,hn+4},V.prototype.writeIntLE=function(Dt,hn,Vn,Kn){if(Dt=+Dt,hn=hn>>>0,!Kn){var ar=Math.pow(2,8*Vn-1);Nn(this,Dt,hn,Vn,ar-1,-ar)}var lr=0,cr=1,mr=0;for(this[hn]=Dt&255;++lr<Vn&&(cr*=256);)Dt<0&&mr===0&&this[hn+lr-1]!==0&&(mr=1),this[hn+lr]=(Dt/cr>>0)-mr&255;return hn+Vn},V.prototype.writeIntBE=function(Dt,hn,Vn,Kn){if(Dt=+Dt,hn=hn>>>0,!Kn){var ar=Math.pow(2,8*Vn-1);Nn(this,Dt,hn,Vn,ar-1,-ar)}var lr=Vn-1,cr=1,mr=0;for(this[hn+lr]=Dt&255;--lr>=0&&(cr*=256);)Dt<0&&mr===0&&this[hn+lr+1]!==0&&(mr=1),this[hn+lr]=(Dt/cr>>0)-mr&255;return hn+Vn},V.prototype.writeInt8=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,1,127,-128),Dt<0&&(Dt=255+Dt+1),this[hn]=Dt&255,hn+1},V.prototype.writeInt16LE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,2,32767,-32768),this[hn]=Dt&255,this[hn+1]=Dt>>>8,hn+2},V.prototype.writeInt16BE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,2,32767,-32768),this[hn]=Dt>>>8,this[hn+1]=Dt&255,hn+2},V.prototype.writeInt32LE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,4,2147483647,-2147483648),this[hn]=Dt&255,this[hn+1]=Dt>>>8,this[hn+2]=Dt>>>16,this[hn+3]=Dt>>>24,hn+4},V.prototype.writeInt32BE=function(Dt,hn,Vn){return Dt=+Dt,hn=hn>>>0,Vn||Nn(this,Dt,hn,4,2147483647,-2147483648),Dt<0&&(Dt=4294967295+Dt+1),this[hn]=Dt>>>24,this[hn+1]=Dt>>>16,this[hn+2]=Dt>>>8,this[hn+3]=Dt&255,hn+4};function Zn(Tn,Dt,hn,Vn,Kn,ar){if(hn+Vn>Tn.length)throw new RangeError("Index out of range");if(hn<0)throw new RangeError("Index out of range")}function Hn(Tn,Dt,hn,Vn,Kn){return Dt=+Dt,hn=hn>>>0,Kn||Zn(Tn,Dt,hn,4),r.write(Tn,Dt,hn,Vn,23,4),hn+4}V.prototype.writeFloatLE=function(Dt,hn,Vn){return Hn(this,Dt,hn,!0,Vn)},V.prototype.writeFloatBE=function(Dt,hn,Vn){return Hn(this,Dt,hn,!1,Vn)};function rr(Tn,Dt,hn,Vn,Kn){return Dt=+Dt,hn=hn>>>0,Kn||Zn(Tn,Dt,hn,8),r.write(Tn,Dt,hn,Vn,52,8),hn+8}V.prototype.writeDoubleLE=function(Dt,hn,Vn){return rr(this,Dt,hn,!0,Vn)},V.prototype.writeDoubleBE=function(Dt,hn,Vn){return rr(this,Dt,hn,!1,Vn)},V.prototype.copy=function(Dt,hn,Vn,Kn){if(!V.isBuffer(Dt))throw new TypeError("argument should be a Buffer");if(Vn||(Vn=0),!Kn&&Kn!==0&&(Kn=this.length),hn>=Dt.length&&(hn=Dt.length),hn||(hn=0),Kn>0&&Kn<Vn&&(Kn=Vn),Kn===Vn||Dt.length===0||this.length===0)return 0;if(hn<0)throw new RangeError("targetStart out of bounds");if(Vn<0||Vn>=this.length)throw new RangeError("Index out of range");if(Kn<0)throw new RangeError("sourceEnd out of bounds");Kn>this.length&&(Kn=this.length),Dt.length-hn<Kn-Vn&&(Kn=Dt.length-hn+Vn);var ar=Kn-Vn;return this===Dt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(hn,Vn,Kn):Uint8Array.prototype.set.call(Dt,this.subarray(Vn,Kn),hn),ar},V.prototype.fill=function(Dt,hn,Vn,Kn){if(typeof Dt=="string"){if(typeof hn=="string"?(Kn=hn,hn=0,Vn=this.length):typeof Vn=="string"&&(Kn=Vn,Vn=this.length),Kn!==void 0&&typeof Kn!="string")throw new TypeError("encoding must be a string");if(typeof Kn=="string"&&!V.isEncoding(Kn))throw new TypeError("Unknown encoding: "+Kn);if(Dt.length===1){var ar=Dt.charCodeAt(0);(Kn==="utf8"&&ar<128||Kn==="latin1")&&(Dt=ar)}}else typeof Dt=="number"?Dt=Dt&255:typeof Dt=="boolean"&&(Dt=Number(Dt));if(hn<0||this.length<hn||this.length<Vn)throw new RangeError("Out of range index");if(Vn<=hn)return this;hn=hn>>>0,Vn=Vn===void 0?this.length:Vn>>>0,Dt||(Dt=0);var lr;if(typeof Dt=="number")for(lr=hn;lr<Vn;++lr)this[lr]=Dt;else{var cr=V.isBuffer(Dt)?Dt:V.from(Dt,Kn),mr=cr.length;if(mr===0)throw new TypeError('The value "'+Dt+'" is invalid for argument "value"');for(lr=0;lr<Vn-hn;++lr)this[lr+hn]=cr[lr%mr]}return this};var Xn=/[^+/0-9A-Za-z-_]/g;function Pn(Tn){if(Tn=Tn.split("=")[0],Tn=Tn.trim().replace(Xn,""),Tn.length<2)return"";for(;Tn.length%4!==0;)Tn=Tn+"=";return Tn}function jn(Tn,Dt){Dt=Dt||1/0;for(var hn,Vn=Tn.length,Kn=null,ar=[],lr=0;lr<Vn;++lr){if(hn=Tn.charCodeAt(lr),hn>55295&&hn<57344){if(!Kn){if(hn>56319){(Dt-=3)>-1&&ar.push(239,191,189);continue}else if(lr+1===Vn){(Dt-=3)>-1&&ar.push(239,191,189);continue}Kn=hn;continue}if(hn<56320){(Dt-=3)>-1&&ar.push(239,191,189),Kn=hn;continue}hn=(Kn-55296<<10|hn-56320)+65536}else Kn&&(Dt-=3)>-1&&ar.push(239,191,189);if(Kn=null,hn<128){if((Dt-=1)<0)break;ar.push(hn)}else if(hn<2048){if((Dt-=2)<0)break;ar.push(hn>>6|192,hn&63|128)}else if(hn<65536){if((Dt-=3)<0)break;ar.push(hn>>12|224,hn>>6&63|128,hn&63|128)}else if(hn<1114112){if((Dt-=4)<0)break;ar.push(hn>>18|240,hn>>12&63|128,hn>>6&63|128,hn&63|128)}else throw new Error("Invalid code point")}return ar}function fr(Tn){for(var Dt=[],hn=0;hn<Tn.length;++hn)Dt.push(Tn.charCodeAt(hn)&255);return Dt}function yr(Tn,Dt){for(var hn,Vn,Kn,ar=[],lr=0;lr<Tn.length&&!((Dt-=2)<0);++lr)hn=Tn.charCodeAt(lr),Vn=hn>>8,Kn=hn%256,ar.push(Kn),ar.push(Vn);return ar}function Cr(Tn){return e.toByteArray(Pn(Tn))}function sr(Tn,Dt,hn,Vn){for(var Kn=0;Kn<Vn&&!(Kn+hn>=Dt.length||Kn>=Tn.length);++Kn)Dt[Kn+hn]=Tn[Kn];return Kn}function zn(Tn,Dt){return Tn instanceof Dt||Tn!=null&&Tn.constructor!=null&&Tn.constructor.name!=null&&Tn.constructor.name===Dt.name}function vn(Tn){return Tn!==Tn}var Jn=function(){for(var Tn="0123456789abcdef",Dt=new Array(256),hn=0;hn<16;++hn)for(var Vn=hn*16,Kn=0;Kn<16;++Kn)Dt[Vn+Kn]=Tn[hn]+Tn[Kn];return Dt}()})(buffer$1);var buffer=buffer$1,Buffer$3=buffer.Buffer,safer={},key;for(key in buffer)buffer.hasOwnProperty(key)&&(key==="SlowBuffer"||key==="Buffer"||(safer[key]=buffer[key]));var Safer=safer.Buffer={};for(key in Buffer$3)Buffer$3.hasOwnProperty(key)&&(key==="allocUnsafe"||key==="allocUnsafeSlow"||(Safer[key]=Buffer$3[key]));safer.Buffer.prototype=Buffer$3.prototype;(!Safer.from||Safer.from===Uint8Array.from)&&(Safer.from=function(n,e,r){if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof n);if(n&&typeof n.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);return Buffer$3(n,e,r)});Safer.alloc||(Safer.alloc=function(n,e,r){if(typeof n!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof n);if(n<0||n>=2*(1<<30))throw new RangeError('The value "'+n+'" is invalid for option "size"');var g=Buffer$3(n);return!e||e.length===0?g.fill(0):typeof r=="string"?g.fill(e,r):g.fill(e),g});if(!safer.kStringMaxLength)try{safer.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength));var safer_1=safer,bomHandling={},BOMChar="\uFEFF";bomHandling.PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(n,e){this.encoder=n,this.addBOM=!0}PrependBOMWrapper.prototype.write=function(n){return this.addBOM&&(n=BOMChar+n,this.addBOM=!1),this.encoder.write(n)};PrependBOMWrapper.prototype.end=function(){return this.encoder.end()};bomHandling.StripBOM=StripBOMWrapper;function StripBOMWrapper(n,e){this.decoder=n,this.pass=!1,this.options=e||{}}StripBOMWrapper.prototype.write=function(n){var e=this.decoder.write(n);return this.pass||!e||(e[0]===BOMChar&&(e=e.slice(1),typeof this.options.stripBOM=="function"&&this.options.stripBOM()),this.pass=!0),e};StripBOMWrapper.prototype.end=function(){return this.decoder.end()};var encodings={},string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(n,e){var r=buffer$1,g=r.Buffer;function y($,V){for(var L in $)V[L]=$[L]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?n.exports=r:(y(r,e),e.Buffer=k);function k($,V,L){return g($,V,L)}y(g,k),k.from=function($,V,L){if(typeof $=="number")throw new TypeError("Argument must not be a number");return g($,V,L)},k.alloc=function($,V,L){if(typeof $!="number")throw new TypeError("Argument must be a number");var z=g($);return V!==void 0?typeof L=="string"?z.fill(V,L):z.fill(V):z.fill(0),z},k.allocUnsafe=function($){if(typeof $!="number")throw new TypeError("Argument must be a number");return g($)},k.allocUnsafeSlow=function($){if(typeof $!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer($)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var n=requireSafeBuffer().Buffer,e=n.isEncoding||function(he){switch(he=""+he,he&&he.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(he){if(!he)return"utf8";for(var xe;;)switch(he){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return he;default:if(xe)return;he=(""+he).toLowerCase(),xe=!0}}function g(he){var xe=r(he);if(typeof xe!="string"&&(n.isEncoding===e||!e(he)))throw new Error("Unknown encoding: "+he);return xe||he}string_decoder.StringDecoder=y;function y(he){this.encoding=g(he);var xe;switch(this.encoding){case"utf16le":this.text=re,this.end=oe,xe=4;break;case"utf8":this.fillLast=L,xe=4;break;case"base64":this.text=ae,this.end=de,xe=3;break;default:this.write=ue,this.end=pe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(xe)}y.prototype.write=function(he){if(he.length===0)return"";var xe,$e;if(this.lastNeed){if(xe=this.fillLast(he),xe===void 0)return"";$e=this.lastNeed,this.lastNeed=0}else $e=0;return $e<he.length?xe?xe+this.text(he,$e):this.text(he,$e):xe||""},y.prototype.end=j,y.prototype.text=z,y.prototype.fillLast=function(he){if(this.lastNeed<=he.length)return he.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);he.copy(this.lastChar,this.lastTotal-this.lastNeed,0,he.length),this.lastNeed-=he.length};function k(he){return he<=127?0:he>>5===6?2:he>>4===14?3:he>>3===30?4:he>>6===2?-1:-2}function $(he,xe,$e){var Ne=xe.length-1;if(Ne<$e)return 0;var Oe=k(xe[Ne]);return Oe>=0?(Oe>0&&(he.lastNeed=Oe-1),Oe):--Ne<$e||Oe===-2?0:(Oe=k(xe[Ne]),Oe>=0?(Oe>0&&(he.lastNeed=Oe-2),Oe):--Ne<$e||Oe===-2?0:(Oe=k(xe[Ne]),Oe>=0?(Oe>0&&(Oe===2?Oe=0:he.lastNeed=Oe-3),Oe):0))}function V(he,xe,$e){if((xe[0]&192)!==128)return he.lastNeed=0,"";if(he.lastNeed>1&&xe.length>1){if((xe[1]&192)!==128)return he.lastNeed=1,"";if(he.lastNeed>2&&xe.length>2&&(xe[2]&192)!==128)return he.lastNeed=2,""}}function L(he){var xe=this.lastTotal-this.lastNeed,$e=V(this,he);if($e!==void 0)return $e;if(this.lastNeed<=he.length)return he.copy(this.lastChar,xe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);he.copy(this.lastChar,xe,0,he.length),this.lastNeed-=he.length}function z(he,xe){var $e=$(this,he,xe);if(!this.lastNeed)return he.toString("utf8",xe);this.lastTotal=$e;var Ne=he.length-($e-this.lastNeed);return he.copy(this.lastChar,0,Ne),he.toString("utf8",xe,Ne)}function j(he){var xe=he&&he.length?this.write(he):"";return this.lastNeed?xe+"":xe}function re(he,xe){if((he.length-xe)%2===0){var $e=he.toString("utf16le",xe);if($e){var Ne=$e.charCodeAt($e.length-1);if(Ne>=55296&&Ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=he[he.length-2],this.lastChar[1]=he[he.length-1],$e.slice(0,-1)}return $e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=he[he.length-1],he.toString("utf16le",xe,he.length-1)}function oe(he){var xe=he&&he.length?this.write(he):"";if(this.lastNeed){var $e=this.lastTotal-this.lastNeed;return xe+this.lastChar.toString("utf16le",0,$e)}return xe}function ae(he,xe){var $e=(he.length-xe)%3;return $e===0?he.toString("base64",xe):(this.lastNeed=3-$e,this.lastTotal=3,$e===1?this.lastChar[0]=he[he.length-1]:(this.lastChar[0]=he[he.length-2],this.lastChar[1]=he[he.length-1]),he.toString("base64",xe,he.length-$e))}function de(he){var xe=he&&he.length?this.write(he):"";return this.lastNeed?xe+this.lastChar.toString("base64",0,3-this.lastNeed):xe}function ue(he){return he.toString(this.encoding)}function pe(he){return he&&he.length?this.write(he):""}return string_decoder}var internal,hasRequiredInternal;function requireInternal(){if(hasRequiredInternal)return internal;hasRequiredInternal=1;var n=safer_1.Buffer;internal={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:e};function e(L,z){this.enc=L.encodingName,this.bomAware=L.bomAware,this.enc==="base64"?this.encoder=k:this.enc==="cesu8"&&(this.enc="utf8",this.encoder=$,n.from("eda0bdedb2a9","hex").toString()!==""&&(this.decoder=V,this.defaultCharUnicode=z.defaultCharUnicode))}e.prototype.encoder=y,e.prototype.decoder=g;var r=requireString_decoder().StringDecoder;r.prototype.end||(r.prototype.end=function(){});function g(L,z){this.decoder=new r(z.enc)}g.prototype.write=function(L){return n.isBuffer(L)||(L=n.from(L)),this.decoder.write(L)},g.prototype.end=function(){return this.decoder.end()};function y(L,z){this.enc=z.enc}y.prototype.write=function(L){return n.from(L,this.enc)},y.prototype.end=function(){};function k(L,z){this.prevStr=""}k.prototype.write=function(L){L=this.prevStr+L;var z=L.length-L.length%4;return this.prevStr=L.slice(z),L=L.slice(0,z),n.from(L,"base64")},k.prototype.end=function(){return n.from(this.prevStr,"base64")};function $(L,z){}$.prototype.write=function(L){for(var z=n.alloc(L.length*3),j=0,re=0;re<L.length;re++){var oe=L.charCodeAt(re);oe<128?z[j++]=oe:oe<2048?(z[j++]=192+(oe>>>6),z[j++]=128+(oe&63)):(z[j++]=224+(oe>>>12),z[j++]=128+(oe>>>6&63),z[j++]=128+(oe&63))}return z.slice(0,j)},$.prototype.end=function(){};function V(L,z){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=z.defaultCharUnicode}return V.prototype.write=function(L){for(var z=this.acc,j=this.contBytes,re=this.accBytes,oe="",ae=0;ae<L.length;ae++){var de=L[ae];(de&192)!==128?(j>0&&(oe+=this.defaultCharUnicode,j=0),de<128?oe+=String.fromCharCode(de):de<224?(z=de&31,j=1,re=1):de<240?(z=de&15,j=2,re=1):oe+=this.defaultCharUnicode):j>0?(z=z<<6|de&63,j--,re++,j===0&&(re===2&&z<128&&z>0?oe+=this.defaultCharUnicode:re===3&&z<2048?oe+=this.defaultCharUnicode:oe+=String.fromCharCode(z))):oe+=this.defaultCharUnicode}return this.acc=z,this.contBytes=j,this.accBytes=re,oe},V.prototype.end=function(){var L=0;return this.contBytes>0&&(L+=this.defaultCharUnicode),L},internal}var utf32={},hasRequiredUtf32;function requireUtf32(){if(hasRequiredUtf32)return utf32;hasRequiredUtf32=1;var n=safer_1.Buffer;utf32._utf32=e;function e(z,j){this.iconv=j,this.bomAware=!0,this.isLE=z.isLE}utf32.utf32le={type:"_utf32",isLE:!0},utf32.utf32be={type:"_utf32",isLE:!1},utf32.ucs4le="utf32le",utf32.ucs4be="utf32be",e.prototype.encoder=r,e.prototype.decoder=g;function r(z,j){this.isLE=j.isLE,this.highSurrogate=0}r.prototype.write=function(z){for(var j=n.from(z,"ucs2"),re=n.alloc(j.length*2),oe=this.isLE?re.writeUInt32LE:re.writeUInt32BE,ae=0,de=0;de<j.length;de+=2){var ue=j.readUInt16LE(de),pe=55296<=ue&&ue<56320,he=56320<=ue&&ue<57344;if(this.highSurrogate)if(pe||!he)oe.call(re,this.highSurrogate,ae),ae+=4;else{var xe=(this.highSurrogate-55296<<10|ue-56320)+65536;oe.call(re,xe,ae),ae+=4,this.highSurrogate=0;continue}pe?this.highSurrogate=ue:(oe.call(re,ue,ae),ae+=4,this.highSurrogate=0)}return ae<re.length&&(re=re.slice(0,ae)),re},r.prototype.end=function(){if(this.highSurrogate){var z=n.alloc(4);return this.isLE?z.writeUInt32LE(this.highSurrogate,0):z.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,z}};function g(z,j){this.isLE=j.isLE,this.badChar=j.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}g.prototype.write=function(z){if(z.length===0)return"";var j=0,re=0,oe=n.alloc(z.length+4),ae=0,de=this.isLE,ue=this.overflow,pe=this.badChar;if(ue.length>0){for(;j<z.length&&ue.length<4;j++)ue.push(z[j]);ue.length===4&&(de?re=ue[j]|ue[j+1]<<8|ue[j+2]<<16|ue[j+3]<<24:re=ue[j+3]|ue[j+2]<<8|ue[j+1]<<16|ue[j]<<24,ue.length=0,ae=y(oe,ae,re,pe))}for(;j<z.length-3;j+=4)de?re=z[j]|z[j+1]<<8|z[j+2]<<16|z[j+3]<<24:re=z[j+3]|z[j+2]<<8|z[j+1]<<16|z[j]<<24,ae=y(oe,ae,re,pe);for(;j<z.length;j++)ue.push(z[j]);return oe.slice(0,ae).toString("ucs2")};function y(z,j,re,oe){if((re<0||re>1114111)&&(re=oe),re>=65536){re-=65536;var ae=55296|re>>10;z[j++]=ae&255,z[j++]=ae>>8;var re=56320|re&1023}return z[j++]=re&255,z[j++]=re>>8,j}g.prototype.end=function(){this.overflow.length=0},utf32.utf32=k,utf32.ucs4="utf32";function k(z,j){this.iconv=j}k.prototype.encoder=$,k.prototype.decoder=V;function $(z,j){z=z||{},z.addBOM===void 0&&(z.addBOM=!0),this.encoder=j.iconv.getEncoder(z.defaultEncoding||"utf-32le",z)}$.prototype.write=function(z){return this.encoder.write(z)},$.prototype.end=function(){return this.encoder.end()};function V(z,j){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=z||{},this.iconv=j.iconv}V.prototype.write=function(z){if(!this.decoder){if(this.initialBufs.push(z),this.initialBufsLen+=z.length,this.initialBufsLen<32)return"";var j=L(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(j,this.options);for(var re="",oe=0;oe<this.initialBufs.length;oe++)re+=this.decoder.write(this.initialBufs[oe]);return this.initialBufs.length=this.initialBufsLen=0,re}return this.decoder.write(z)},V.prototype.end=function(){if(!this.decoder){var z=L(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(z,this.options);for(var j="",re=0;re<this.initialBufs.length;re++)j+=this.decoder.write(this.initialBufs[re]);var oe=this.decoder.end();return oe&&(j+=oe),this.initialBufs.length=this.initialBufsLen=0,j}return this.decoder.end()};function L(z,j){var re=[],oe=0,ae=0,de=0,ue=0,pe=0;e:for(var he=0;he<z.length;he++)for(var xe=z[he],$e=0;$e<xe.length;$e++)if(re.push(xe[$e]),re.length===4){if(oe===0){if(re[0]===255&&re[1]===254&&re[2]===0&&re[3]===0)return"utf-32le";if(re[0]===0&&re[1]===0&&re[2]===254&&re[3]===255)return"utf-32be"}if((re[0]!==0||re[1]>16)&&de++,(re[3]!==0||re[2]>16)&&ae++,re[0]===0&&re[1]===0&&(re[2]!==0||re[3]!==0)&&pe++,(re[0]!==0||re[1]!==0)&&re[2]===0&&re[3]===0&&ue++,re.length=0,oe++,oe>=100)break e}return pe-de>ue-ae?"utf-32be":pe-de<ue-ae?"utf-32le":j||"utf-32le"}return utf32}var utf16={},hasRequiredUtf16;function requireUtf16(){if(hasRequiredUtf16)return utf16;hasRequiredUtf16=1;var n=safer_1.Buffer;utf16.utf16be=e;function e(){}e.prototype.encoder=r,e.prototype.decoder=g,e.prototype.bomAware=!0;function r(){}r.prototype.write=function(L){for(var z=n.from(L,"ucs2"),j=0;j<z.length;j+=2){var re=z[j];z[j]=z[j+1],z[j+1]=re}return z},r.prototype.end=function(){};function g(){this.overflowByte=-1}g.prototype.write=function(L){if(L.length==0)return"";var z=n.alloc(L.length+1),j=0,re=0;for(this.overflowByte!==-1&&(z[0]=L[0],z[1]=this.overflowByte,j=1,re=2);j<L.length-1;j+=2,re+=2)z[re]=L[j+1],z[re+1]=L[j];return this.overflowByte=j==L.length-1?L[L.length-1]:-1,z.slice(0,re).toString("ucs2")},g.prototype.end=function(){this.overflowByte=-1},utf16.utf16=y;function y(L,z){this.iconv=z}y.prototype.encoder=k,y.prototype.decoder=$;function k(L,z){L=L||{},L.addBOM===void 0&&(L.addBOM=!0),this.encoder=z.iconv.getEncoder("utf-16le",L)}k.prototype.write=function(L){return this.encoder.write(L)},k.prototype.end=function(){return this.encoder.end()};function $(L,z){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=L||{},this.iconv=z.iconv}$.prototype.write=function(L){if(!this.decoder){if(this.initialBufs.push(L),this.initialBufsLen+=L.length,this.initialBufsLen<16)return"";var z=V(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(z,this.options);for(var j="",re=0;re<this.initialBufs.length;re++)j+=this.decoder.write(this.initialBufs[re]);return this.initialBufs.length=this.initialBufsLen=0,j}return this.decoder.write(L)},$.prototype.end=function(){if(!this.decoder){var L=V(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(L,this.options);for(var z="",j=0;j<this.initialBufs.length;j++)z+=this.decoder.write(this.initialBufs[j]);var re=this.decoder.end();return re&&(z+=re),this.initialBufs.length=this.initialBufsLen=0,z}return this.decoder.end()};function V(L,z){var j=[],re=0,oe=0,ae=0;e:for(var de=0;de<L.length;de++)for(var ue=L[de],pe=0;pe<ue.length;pe++)if(j.push(ue[pe]),j.length===2){if(re===0){if(j[0]===255&&j[1]===254)return"utf-16le";if(j[0]===254&&j[1]===255)return"utf-16be"}if(j[0]===0&&j[1]!==0&&ae++,j[0]!==0&&j[1]===0&&oe++,j.length=0,re++,re>=100)break e}return ae>oe?"utf-16be":ae<oe?"utf-16le":z||"utf-16le"}return utf16}var utf7={},hasRequiredUtf7;function requireUtf7(){if(hasRequiredUtf7)return utf7;hasRequiredUtf7=1;var n=safer_1.Buffer;utf7.utf7=e,utf7.unicode11utf7="utf7";function e(ue,pe){this.iconv=pe}e.prototype.encoder=g,e.prototype.decoder=y,e.prototype.bomAware=!0;var r=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function g(ue,pe){this.iconv=pe.iconv}g.prototype.write=function(ue){return n.from(ue.replace(r,function(pe){return"+"+(pe==="+"?"":this.iconv.encode(pe,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},g.prototype.end=function(){};function y(ue,pe){this.iconv=pe.iconv,this.inBase64=!1,this.base64Accum=""}for(var k=/[A-Za-z0-9\/+]/,$=[],V=0;V<256;V++)$[V]=k.test(String.fromCharCode(V));var L=43,z=45,j=38;y.prototype.write=function(ue){for(var pe="",he=0,xe=this.inBase64,$e=this.base64Accum,Ne=0;Ne<ue.length;Ne++)if(!xe)ue[Ne]==L&&(pe+=this.iconv.decode(ue.slice(he,Ne),"ascii"),he=Ne+1,xe=!0);else if(!$[ue[Ne]]){if(Ne==he&&ue[Ne]==z)pe+="+";else{var Oe=$e+this.iconv.decode(ue.slice(he,Ne),"ascii");pe+=this.iconv.decode(n.from(Oe,"base64"),"utf16-be")}ue[Ne]!=z&&Ne--,he=Ne+1,xe=!1,$e=""}if(!xe)pe+=this.iconv.decode(ue.slice(he),"ascii");else{var Oe=$e+this.iconv.decode(ue.slice(he),"ascii"),_e=Oe.length-Oe.length%8;$e=Oe.slice(_e),Oe=Oe.slice(0,_e),pe+=this.iconv.decode(n.from(Oe,"base64"),"utf16-be")}return this.inBase64=xe,this.base64Accum=$e,pe},y.prototype.end=function(){var ue="";return this.inBase64&&this.base64Accum.length>0&&(ue=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",ue},utf7.utf7imap=re;function re(ue,pe){this.iconv=pe}re.prototype.encoder=oe,re.prototype.decoder=ae,re.prototype.bomAware=!0;function oe(ue,pe){this.iconv=pe.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}oe.prototype.write=function(ue){for(var pe=this.inBase64,he=this.base64Accum,xe=this.base64AccumIdx,$e=n.alloc(ue.length*5+10),Ne=0,Oe=0;Oe<ue.length;Oe++){var _e=ue.charCodeAt(Oe);32<=_e&&_e<=126?(pe&&(xe>0&&(Ne+=$e.write(he.slice(0,xe).toString("base64").replace(/\//g,",").replace(/=+$/,""),Ne),xe=0),$e[Ne++]=z,pe=!1),pe||($e[Ne++]=_e,_e===j&&($e[Ne++]=z))):(pe||($e[Ne++]=j,pe=!0),pe&&(he[xe++]=_e>>8,he[xe++]=_e&255,xe==he.length&&(Ne+=$e.write(he.toString("base64").replace(/\//g,","),Ne),xe=0)))}return this.inBase64=pe,this.base64AccumIdx=xe,$e.slice(0,Ne)},oe.prototype.end=function(){var ue=n.alloc(10),pe=0;return this.inBase64&&(this.base64AccumIdx>0&&(pe+=ue.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),pe),this.base64AccumIdx=0),ue[pe++]=z,this.inBase64=!1),ue.slice(0,pe)};function ae(ue,pe){this.iconv=pe.iconv,this.inBase64=!1,this.base64Accum=""}var de=$.slice();return de[44]=!0,ae.prototype.write=function(ue){for(var pe="",he=0,xe=this.inBase64,$e=this.base64Accum,Ne=0;Ne<ue.length;Ne++)if(!xe)ue[Ne]==j&&(pe+=this.iconv.decode(ue.slice(he,Ne),"ascii"),he=Ne+1,xe=!0);else if(!de[ue[Ne]]){if(Ne==he&&ue[Ne]==z)pe+="&";else{var Oe=$e+this.iconv.decode(ue.slice(he,Ne),"ascii").replace(/,/g,"/");pe+=this.iconv.decode(n.from(Oe,"base64"),"utf16-be")}ue[Ne]!=z&&Ne--,he=Ne+1,xe=!1,$e=""}if(!xe)pe+=this.iconv.decode(ue.slice(he),"ascii");else{var Oe=$e+this.iconv.decode(ue.slice(he),"ascii").replace(/,/g,"/"),_e=Oe.length-Oe.length%8;$e=Oe.slice(_e),Oe=Oe.slice(0,_e),pe+=this.iconv.decode(n.from(Oe,"base64"),"utf16-be")}return this.inBase64=xe,this.base64Accum=$e,pe},ae.prototype.end=function(){var ue="";return this.inBase64&&this.base64Accum.length>0&&(ue=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",ue},utf7}var sbcsCodec={},hasRequiredSbcsCodec;function requireSbcsCodec(){if(hasRequiredSbcsCodec)return sbcsCodec;hasRequiredSbcsCodec=1;var n=safer_1.Buffer;sbcsCodec._sbcs=e;function e(y,k){if(!y)throw new Error("SBCS codec is called without the data.");if(!y.chars||y.chars.length!==128&&y.chars.length!==256)throw new Error("Encoding '"+y.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(y.chars.length===128){for(var $="",V=0;V<128;V++)$+=String.fromCharCode(V);y.chars=$+y.chars}this.decodeBuf=n.from(y.chars,"ucs2");for(var L=n.alloc(65536,k.defaultCharSingleByte.charCodeAt(0)),V=0;V<y.chars.length;V++)L[y.chars.charCodeAt(V)]=V;this.encodeBuf=L}e.prototype.encoder=r,e.prototype.decoder=g;function r(y,k){this.encodeBuf=k.encodeBuf}r.prototype.write=function(y){for(var k=n.alloc(y.length),$=0;$<y.length;$++)k[$]=this.encodeBuf[y.charCodeAt($)];return k},r.prototype.end=function(){};function g(y,k){this.decodeBuf=k.decodeBuf}return g.prototype.write=function(y){for(var k=this.decodeBuf,$=n.alloc(y.length*2),V=0,L=0,z=0;z<y.length;z++)V=y[z]*2,L=z*2,$[L]=k[V],$[L+1]=k[V+1];return $.toString("ucs2")},g.prototype.end=function(){},sbcsCodec}var sbcsData,hasRequiredSbcsData;function requireSbcsData(){return hasRequiredSbcsData||(hasRequiredSbcsData=1,sbcsData={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),sbcsData}var sbcsDataGenerated,hasRequiredSbcsDataGenerated;function requireSbcsDataGenerated(){return hasRequiredSbcsDataGenerated||(hasRequiredSbcsDataGenerated=1,sbcsDataGenerated={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},iso646cn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}`},iso646jp:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_\`abcdefghijklmnopqrstuvwxyz{|}`},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),sbcsDataGenerated}var dbcsCodec={},hasRequiredDbcsCodec;function requireDbcsCodec(){if(hasRequiredDbcsCodec)return dbcsCodec;hasRequiredDbcsCodec=1;var n=safer_1.Buffer;dbcsCodec._dbcs=L;for(var e=-1,r=-2,g=-10,y=-1e3,k=new Array(256),$=-1,V=0;V<256;V++)k[V]=e;function L(oe,ae){if(this.encodingName=oe.encodingName,!oe)throw new Error("DBCS codec is called without the data.");if(!oe.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var de=oe.table();this.decodeTables=[],this.decodeTables[0]=k.slice(0),this.decodeTableSeq=[];for(var ue=0;ue<de.length;ue++)this._addDecodeChunk(de[ue]);if(typeof oe.gb18030=="function"){this.gb18030=oe.gb18030();var pe=this.decodeTables.length;this.decodeTables.push(k.slice(0));var he=this.decodeTables.length;this.decodeTables.push(k.slice(0));for(var xe=this.decodeTables[0],ue=129;ue<=254;ue++)for(var $e=this.decodeTables[y-xe[ue]],Ne=48;Ne<=57;Ne++){if($e[Ne]===e)$e[Ne]=y-pe;else if($e[Ne]>y)throw new Error("gb18030 decode tables conflict at byte 2");for(var Oe=this.decodeTables[y-$e[Ne]],_e=129;_e<=254;_e++){if(Oe[_e]===e)Oe[_e]=y-he;else{if(Oe[_e]===y-he)continue;if(Oe[_e]>y)throw new Error("gb18030 decode tables conflict at byte 3")}for(var Fe=this.decodeTables[y-Oe[_e]],Ue=48;Ue<=57;Ue++)Fe[Ue]===e&&(Fe[Ue]=r)}}}this.defaultCharUnicode=ae.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var kt={};if(oe.encodeSkipVals)for(var ue=0;ue<oe.encodeSkipVals.length;ue++){var Lt=oe.encodeSkipVals[ue];if(typeof Lt=="number")kt[Lt]=!0;else for(var Ne=Lt.from;Ne<=Lt.to;Ne++)kt[Ne]=!0}if(this._fillEncodeTable(0,0,kt),oe.encodeAdd)for(var wn in oe.encodeAdd)Object.prototype.hasOwnProperty.call(oe.encodeAdd,wn)&&this._setEncodeChar(wn.charCodeAt(0),oe.encodeAdd[wn]);this.defCharSB=this.encodeTable[0][ae.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===e&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===e&&(this.defCharSB=63)}L.prototype.encoder=z,L.prototype.decoder=j,L.prototype._getDecodeTrieNode=function(oe){for(var ae=[];oe>0;oe>>>=8)ae.push(oe&255);ae.length==0&&ae.push(0);for(var de=this.decodeTables[0],ue=ae.length-1;ue>0;ue--){var pe=de[ae[ue]];if(pe==e)de[ae[ue]]=y-this.decodeTables.length,this.decodeTables.push(de=k.slice(0));else if(pe<=y)de=this.decodeTables[y-pe];else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+oe.toString(16))}return de},L.prototype._addDecodeChunk=function(oe){var ae=parseInt(oe[0],16),de=this._getDecodeTrieNode(ae);ae=ae&255;for(var ue=1;ue<oe.length;ue++){var pe=oe[ue];if(typeof pe=="string")for(var he=0;he<pe.length;){var xe=pe.charCodeAt(he++);if(55296<=xe&&xe<56320){var $e=pe.charCodeAt(he++);if(56320<=$e&&$e<57344)de[ae++]=65536+(xe-55296)*1024+($e-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+oe[0])}else if(4080<xe&&xe<=4095){for(var Ne=4095-xe+2,Oe=[],_e=0;_e<Ne;_e++)Oe.push(pe.charCodeAt(he++));de[ae++]=g-this.decodeTableSeq.length,this.decodeTableSeq.push(Oe)}else de[ae++]=xe}else if(typeof pe=="number")for(var Fe=de[ae-1]+1,he=0;he<pe;he++)de[ae++]=Fe++;else throw new Error("Incorrect type '"+typeof pe+"' given in "+this.encodingName+" at chunk "+oe[0])}if(ae>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+oe[0]+": too long"+ae)},L.prototype._getEncodeBucket=function(oe){var ae=oe>>8;return this.encodeTable[ae]===void 0&&(this.encodeTable[ae]=k.slice(0)),this.encodeTable[ae]},L.prototype._setEncodeChar=function(oe,ae){var de=this._getEncodeBucket(oe),ue=oe&255;de[ue]<=g?this.encodeTableSeq[g-de[ue]][$]=ae:de[ue]==e&&(de[ue]=ae)},L.prototype._setEncodeSequence=function(oe,ae){var de=oe[0],ue=this._getEncodeBucket(de),pe=de&255,he;ue[pe]<=g?he=this.encodeTableSeq[g-ue[pe]]:(he={},ue[pe]!==e&&(he[$]=ue[pe]),ue[pe]=g-this.encodeTableSeq.length,this.encodeTableSeq.push(he));for(var xe=1;xe<oe.length-1;xe++){var $e=he[de];typeof $e=="object"?he=$e:(he=he[de]={},$e!==void 0&&(he[$]=$e))}de=oe[oe.length-1],he[de]=ae},L.prototype._fillEncodeTable=function(oe,ae,de){for(var ue=this.decodeTables[oe],pe=!1,he={},xe=0;xe<256;xe++){var $e=ue[xe],Ne=ae+xe;if(!de[Ne])if($e>=0)this._setEncodeChar($e,Ne),pe=!0;else if($e<=y){var Oe=y-$e;if(!he[Oe]){var _e=Ne<<8>>>0;this._fillEncodeTable(Oe,_e,de)?pe=!0:he[Oe]=!0}}else $e<=g&&(this._setEncodeSequence(this.decodeTableSeq[g-$e],Ne),pe=!0)}return pe};function z(oe,ae){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=ae.encodeTable,this.encodeTableSeq=ae.encodeTableSeq,this.defaultCharSingleByte=ae.defCharSB,this.gb18030=ae.gb18030}z.prototype.write=function(oe){for(var ae=n.alloc(oe.length*(this.gb18030?4:3)),de=this.leadSurrogate,ue=this.seqObj,pe=-1,he=0,xe=0;;){if(pe===-1){if(he==oe.length)break;var $e=oe.charCodeAt(he++)}else{var $e=pe;pe=-1}if(55296<=$e&&$e<57344)if($e<56320)if(de===-1){de=$e;continue}else de=$e,$e=e;else de!==-1?($e=65536+(de-55296)*1024+($e-56320),de=-1):$e=e;else de!==-1&&(pe=$e,$e=e,de=-1);var Ne=e;if(ue!==void 0&&$e!=e){var Oe=ue[$e];if(typeof Oe=="object"){ue=Oe;continue}else typeof Oe=="number"?Ne=Oe:Oe==null&&(Oe=ue[$],Oe!==void 0&&(Ne=Oe,pe=$e));ue=void 0}else if($e>=0){var _e=this.encodeTable[$e>>8];if(_e!==void 0&&(Ne=_e[$e&255]),Ne<=g){ue=this.encodeTableSeq[g-Ne];continue}if(Ne==e&&this.gb18030){var Fe=re(this.gb18030.uChars,$e);if(Fe!=-1){var Ne=this.gb18030.gbChars[Fe]+($e-this.gb18030.uChars[Fe]);ae[xe++]=129+Math.floor(Ne/12600),Ne=Ne%12600,ae[xe++]=48+Math.floor(Ne/1260),Ne=Ne%1260,ae[xe++]=129+Math.floor(Ne/10),Ne=Ne%10,ae[xe++]=48+Ne;continue}}}Ne===e&&(Ne=this.defaultCharSingleByte),Ne<256?ae[xe++]=Ne:Ne<65536?(ae[xe++]=Ne>>8,ae[xe++]=Ne&255):Ne<16777216?(ae[xe++]=Ne>>16,ae[xe++]=Ne>>8&255,ae[xe++]=Ne&255):(ae[xe++]=Ne>>>24,ae[xe++]=Ne>>>16&255,ae[xe++]=Ne>>>8&255,ae[xe++]=Ne&255)}return this.seqObj=ue,this.leadSurrogate=de,ae.slice(0,xe)},z.prototype.end=function(){if(!(this.leadSurrogate===-1&&this.seqObj===void 0)){var oe=n.alloc(10),ae=0;if(this.seqObj){var de=this.seqObj[$];de!==void 0&&(de<256?oe[ae++]=de:(oe[ae++]=de>>8,oe[ae++]=de&255)),this.seqObj=void 0}return this.leadSurrogate!==-1&&(oe[ae++]=this.defaultCharSingleByte,this.leadSurrogate=-1),oe.slice(0,ae)}},z.prototype.findIdx=re;function j(oe,ae){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=ae.decodeTables,this.decodeTableSeq=ae.decodeTableSeq,this.defaultCharUnicode=ae.defaultCharUnicode,this.gb18030=ae.gb18030}j.prototype.write=function(oe){for(var ae=n.alloc(oe.length*2),de=this.nodeIdx,ue=this.prevBytes,pe=this.prevBytes.length,he=-this.prevBytes.length,xe,$e=0,Ne=0;$e<oe.length;$e++){var Oe=$e>=0?oe[$e]:ue[$e+pe],xe=this.decodeTables[de][Oe];if(!(xe>=0))if(xe===e)xe=this.defaultCharUnicode.charCodeAt(0),$e=he;else if(xe===r){if($e>=3)var _e=(oe[$e-3]-129)*12600+(oe[$e-2]-48)*1260+(oe[$e-1]-129)*10+(Oe-48);else var _e=(ue[$e-3+pe]-129)*12600+(($e-2>=0?oe[$e-2]:ue[$e-2+pe])-48)*1260+(($e-1>=0?oe[$e-1]:ue[$e-1+pe])-129)*10+(Oe-48);var Fe=re(this.gb18030.gbChars,_e);xe=this.gb18030.uChars[Fe]+_e-this.gb18030.gbChars[Fe]}else if(xe<=y){de=y-xe;continue}else if(xe<=g){for(var Ue=this.decodeTableSeq[g-xe],kt=0;kt<Ue.length-1;kt++)xe=Ue[kt],ae[Ne++]=xe&255,ae[Ne++]=xe>>8;xe=Ue[Ue.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+xe+" at "+de+"/"+Oe);if(xe>=65536){xe-=65536;var Lt=55296|xe>>10;ae[Ne++]=Lt&255,ae[Ne++]=Lt>>8,xe=56320|xe&1023}ae[Ne++]=xe&255,ae[Ne++]=xe>>8,de=0,he=$e+1}return this.nodeIdx=de,this.prevBytes=he>=0?Array.prototype.slice.call(oe,he):ue.slice(he+pe).concat(Array.prototype.slice.call(oe)),ae.slice(0,Ne).toString("ucs2")},j.prototype.end=function(){for(var oe="";this.prevBytes.length>0;){oe+=this.defaultCharUnicode;var ae=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,ae.length>0&&(oe+=this.write(ae))}return this.prevBytes=[],this.nodeIdx=0,oe};function re(oe,ae){if(oe[0]>ae)return-1;for(var de=0,ue=oe.length;de<ue-1;){var pe=de+(ue-de+1>>1);oe[pe]<=ae?de=pe:ue=pe}return de}return dbcsCodec}const require$$0=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],require$$1=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],require$$2$1=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],require$$3=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],uChars=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3],require$$4={uChars,gbChars},require$$5=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],require$$6=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],require$$7=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];var dbcsData,hasRequiredDbcsData;function requireDbcsData(){return hasRequiredDbcsData||(hasRequiredDbcsData=1,dbcsData={shiftjis:{type:"_dbcs",table:function(){return require$$0},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return require$$1},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return require$$2$1}},gbk:{type:"_dbcs",table:function(){return require$$2$1.concat(require$$3)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return require$$2$1.concat(require$$3)},gb18030:function(){return require$$4},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return require$$5}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return require$$6}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return require$$6.concat(require$$7)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),dbcsData}var hasRequiredEncodings;function requireEncodings(){return hasRequiredEncodings||(hasRequiredEncodings=1,function(n){for(var e=[requireInternal(),requireUtf32(),requireUtf16(),requireUtf7(),requireSbcsCodec(),requireSbcsData(),requireSbcsDataGenerated(),requireDbcsCodec(),requireDbcsData()],r=0;r<e.length;r++){var g=e[r];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(n[y]=g[y])}}(encodings)),encodings}var streams,hasRequiredStreams;function requireStreams(){if(hasRequiredStreams)return streams;hasRequiredStreams=1;var n=safer_1.Buffer;return streams=function(e){var r=e.Transform;function g(k,$){this.conv=k,$=$||{},$.decodeStrings=!1,r.call(this,$)}g.prototype=Object.create(r.prototype,{constructor:{value:g}}),g.prototype._transform=function(k,$,V){if(typeof k!="string")return V(new Error("Iconv encoding stream needs strings as its input."));try{var L=this.conv.write(k);L&&L.length&&this.push(L),V()}catch(z){V(z)}},g.prototype._flush=function(k){try{var $=this.conv.end();$&&$.length&&this.push($),k()}catch(V){k(V)}},g.prototype.collect=function(k){var $=[];return this.on("error",k),this.on("data",function(V){$.push(V)}),this.on("end",function(){k(null,n.concat($))}),this};function y(k,$){this.conv=k,$=$||{},$.encoding=this.encoding="utf8",r.call(this,$)}return y.prototype=Object.create(r.prototype,{constructor:{value:y}}),y.prototype._transform=function(k,$,V){if(!n.isBuffer(k)&&!(k instanceof Uint8Array))return V(new Error("Iconv decoding stream needs buffers as its input."));try{var L=this.conv.write(k);L&&L.length&&this.push(L,this.encoding),V()}catch(z){V(z)}},y.prototype._flush=function(k){try{var $=this.conv.end();$&&$.length&&this.push($,this.encoding),k()}catch(V){k(V)}},y.prototype.collect=function(k){var $="";return this.on("error",k),this.on("data",function(V){$+=V}),this.on("end",function(){k(null,$)}),this},{IconvLiteEncoderStream:g,IconvLiteDecoderStream:y}},streams}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(n){var e=safer_1.Buffer,r=bomHandling,g=n.exports;g.encodings=null,g.defaultCharUnicode="",g.defaultCharSingleByte="?",g.encode=function($,V,L){$=""+($||"");var z=g.getEncoder(V,L),j=z.write($),re=z.end();return re&&re.length>0?e.concat([j,re]):j},g.decode=function($,V,L){typeof $=="string"&&(g.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),g.skipDecodeWarning=!0),$=e.from(""+($||""),"binary"));var z=g.getDecoder(V,L),j=z.write($),re=z.end();return re?j+re:j},g.encodingExists=function($){try{return g.getCodec($),!0}catch{return!1}},g.toEncoding=g.encode,g.fromEncoding=g.decode,g._codecDataCache={},g.getCodec=function($){g.encodings||(g.encodings=requireEncodings());for(var V=g._canonicalizeEncoding($),L={};;){var z=g._codecDataCache[V];if(z)return z;var j=g.encodings[V];switch(typeof j){case"string":V=j;break;case"object":for(var re in j)L[re]=j[re];L.encodingName||(L.encodingName=V),V=j.type;break;case"function":return L.encodingName||(L.encodingName=V),z=new j(L,g),g._codecDataCache[L.encodingName]=z,z;default:throw new Error("Encoding not recognized: '"+$+"' (searched as: '"+V+"')")}}},g._canonicalizeEncoding=function(k){return(""+k).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},g.getEncoder=function($,V){var L=g.getCodec($),z=new L.encoder(V,L);return L.bomAware&&V&&V.addBOM&&(z=new r.PrependBOM(z,V)),z},g.getDecoder=function($,V){var L=g.getCodec($),z=new L.decoder(V,L);return L.bomAware&&!(V&&V.stripBOM===!1)&&(z=new r.StripBOM(z,V)),z},g.enableStreamingAPI=function($){if(!g.supportsStreams){var V=requireStreams()($);g.IconvLiteEncoderStream=V.IconvLiteEncoderStream,g.IconvLiteDecoderStream=V.IconvLiteDecoderStream,g.encodeStream=function(z,j){return new g.IconvLiteEncoderStream(g.getEncoder(z,j),j)},g.decodeStream=function(z,j){return new g.IconvLiteDecoderStream(g.getDecoder(z,j),j)},g.supportsStreams=!0}};var y;try{y=require$$2}catch{}y&&y.Transform?g.enableStreamingAPI(y):g.encodeStream=g.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}})(lib);var libExports=lib.exports;const iconv=getDefaultExportFromCjs(libExports),types$7={version:"uint16",count:"uint16",storageOffset:"Offset16",langTagCount:"uint16",length:"uint16",langTagOffset:"Offset16",platformID:"uint16",encodingID:"uint16",languageID:"uint16",nameID:"uint16",stringOffset:"Offset16",stringPool:"raw"},parse$c=(n,e,r)=>{start(n,e);const g=decoder[types$7.version](),y=decoder[types$7.version](),k=decoder[types$7.storageOffset](),$=[];for(let L=0;L<y;L++){const z=decoder[types$7.platformID](),j=decoder[types$7.encodingID](),re=decoder[types$7.languageID](),oe=decoder[types$7.nameID](),ae=decoder[types$7.length](),de=decoder[types$7.stringOffset](),ue=getStorageString(n,de,ae);$.push({platformID:z,encodingID:j,languageID:re,nameID:oe,length:ae,stringOffset:de,str:ue})}const V={version:g,count:y,storageOffset:k,nameRecord:$};if(g>=1&&(V.langTagCount=decoder[types$7.version](),V.langTagRecord=[],V.langTagCount))for(let L=0;L<V.langTagCount;L++){const z=decoder[types$7.length](),j=decoder[types$7.langTagOffset](),re=getStorageString(n,j,z);V.langTagRecord.push({length:z,langTagOffset:j,str:re})}return end$2(),V},nameTableNames=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],macLanguages={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},windowsLanguages={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},reverseDict=n=>{const e={};for(let r in n)e[n[r]]=parseInt(r);return e},findSubArray=(n,e)=>{const r=n.length,g=e.length-r+1;e:for(let y=0;y<g;y++)for(;y<g;y++){for(let k=0;k<r;k++)if(e[y+k]!==n[k])continue e;return y}return-1},addStringToPool=(n,e)=>{let r=findSubArray(n,e);if(r<0){r=e.length;let g=0;const y=n.length;for(;g<y;++g)e.push(n[g])}return r},createTable2=n=>{const e=[],r=[];let g="",y=!1,k=!1;for(let V=0;V<n.length;V++){const L=n[V];L.nameID===4&&L.langID===1033?g=L.value:L.nameID===3&&L.langID===1033?y=!0:L.nameID===3&&L.langID===2052&&(k=!0)}!k&&n.push({nameID:3,nameLabel:"uniqueID",platformID:3,encodingID:1,langID:2052,value:g,default:!0}),!y&&n.push({nameID:3,nameLabel:"uniqueID",platformID:3,encodingID:1,langID:1033,value:g,default:!0});for(let V=0;V<n.length;V++){const{value:L,nameID:z,langID:j,encodingID:re,platformID:oe}=n[V];if(oe!=3)break;let ae=encoder.utf16(L);const de=addStringToPool(ae,r);e.push({platformID:3,encodingID:re,languageID:j,nameID:z,length:ae.length,stringOffset:de})}return e.sort(function(V,L){return V.platformID-L.platformID||V.encodingID-L.encodingID||V.languageID-L.languageID||V.nameID-L.nameID}),{version:0,count:e.length,storageOffset:6+e.length*12,nameRecord:e,stringPool:r}},createTable$2=(n,e)=>{let r;const g=[],y={},k=reverseDict(nameTableNames);for(let j in n){let re=k[j];if(re===void 0&&(re=j),r=parseInt(re),isNaN(r))throw new Error('Name table entry "'+j+'" does not exist, see nameTableNames for complete list.');y[r]=n[j],g.push(r)}reverseDict(macLanguages);const $=reverseDict(windowsLanguages),V=[],L=[];for(let j=0;j<g.length;j++){r=g[j];const re=y[r];for(let oe in re){const ae=re[oe];encoder.utf16(ae),oe==="zh"&&[...iconv.encode(ae,"gbk")];let de=$[oe];if(de!==void 0){let ue=encoder.utf16(ae),pe=1;const he=addStringToPool(ue,L);V.push({platformID:3,encodingID:pe,languageID:de,nameID:r,length:ue.length,stringOffset:he})}}}return V.sort(function(j,re){return j.platformID-re.platformID||j.encodingID-re.encodingID||j.languageID-re.languageID||j.nameID-re.nameID}),{version:0,count:V.length,storageOffset:6+V.length*12,nameRecord:V,stringPool:L}},create$8=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$7[r],y=n[r];let k=[];if(r==="nameRecord"){const $=y;for(let V=0;V<$.length;V++){const L=$[V];Object.keys(L).forEach(z=>{if(z!=="str"){const j=types$7[z],re=L[z];k=k.concat(encoder[j](re))}})}}else if(r==="langTagRecord"){const $=y;for(let V=0;V<$.length;V++){const L=$[V];Object.keys(L).forEach(z=>{if(z!=="str"){const j=types$7[z],re=L[z];k=k.concat(encoder[j](re))}})}}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},nameTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$8,createTable:createTable$2,createTable2,nameTableNames,parse:parse$c},Symbol.toStringTag,{value:"Module"})),types$6={version:"Version16Dot16",italicAngle:"Fixed",underlinePosition:"FWORD",underlineThickness:"FWORD",isFixedPitch:"uint32",minMemType42:"uint32",maxMemType42:"uint32",minMemType1:"uint32",maxMemType1:"uint32",numGlyphs:"uint16",glyphNameIndex:"uint16",stringData:"uint8",offset:"int8"},parse$b=(n,e,r)=>{start(n,e);const g=decoder[types$6.version](),y=decoder[types$6.italicAngle](),k=decoder[types$6.underlinePosition](),$=decoder[types$6.underlineThickness](),V=decoder[types$6.isFixedPitch](),L=decoder[types$6.minMemType42](),z=decoder[types$6.maxMemType42](),j=decoder[types$6.minMemType1](),re=decoder[types$6.maxMemType1](),oe={version:g,italicAngle:y,underlinePosition:k,underlineThickness:$,isFixedPitch:V,minMemType42:L,maxMemType42:z,minMemType1:j,maxMemType1:re};if(g===2){const ae=decoder[types$6.numGlyphs](),de=[];for(let ue=0;ue<ae;ue++){const pe=decoder[types$6.glyphNameIndex](),he={index:pe};pe>=258&&pe<65535&&(he.code=decoder.uint8(),he.name=String.fromCharCode(he.code)),de.push(he)}oe.glyphNames=de}if(g===2.5){const ae=decoder[types$6.numGlyphs]();for(let de=0;de<ae;de++)oe.offsets?.push(decoder.int8())}return end$2(),oe},create$7=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$6[r],y=n[r];let k=[];if(r==="glyphNames"){const $=y;k=k.concat(encoder[types$6.numGlyphs]($.length));for(let V=0;V<$.length;V++)k=k.concat(encoder[g]($[V].index));for(let V=0;V<$.length;V++)$[V].index>=258&&$[V].index<65535&&(k=k.concat(encoder[g]($[V].name)))}else if(r==="offsets"){const $=y;k=k.concat(encoder[types$6.numGlyphs]($.length));for(let V=0;V<$.length;V++)k=k.concat(encoder[g]($[V]))}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},postTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$7,parse:parse$b},Symbol.toStringTag,{value:"Module"})),types$5={version:"uint16",numTables:"uint16",platformID:"uint16",encodingID:"uint16",subtableOffset:"Offset32",format:"uint16",length:"uint16",language:"uint16",segCountX2:"uint16",searchRange:"uint16",entrySelector:"uint16",rangeShift:"uint16",endCode:"uint16",reservedPad:"uint16",startCode:"uint16",idDelta:"int16",idRangeOffsets:"uint16",glyphIdArray:"uint16"},parse$a=(n,e,r)=>{let g=e;start(n,g);const y=decoder[types$5.version](),k=decoder[types$5.numTables]();g=getOffset$2(),end$2();const $=[],V={};for(let z=0;z<k;z++){start(n,g);const j=decoder[types$5.platformID](),re=decoder[types$5.encodingID](),oe=decoder[types$5.subtableOffset]();g=getOffset$2(),end$2();const ae=getSubTable(n,e+oe,V);$.push({platformID:j,encodingID:re,subtableOffset:oe,subTable:ae})}return{version:y,numTables:k,encodingRecords:$,glyphIndexMap:V}},getSubTable=(n,e,r)=>{let g=null;start(n,e);const y=decoder[types$5.format]();switch(y){case 4:{const k=decoder[types$5.length](),$=decoder[types$5.language](),V=decoder[types$5.segCountX2](),L=decoder[types$5.searchRange](),z=decoder[types$5.entrySelector](),j=decoder[types$5.rangeShift](),re=V/2,oe=[],ae=getOffset$2();end$2();for(let de=0;de<re;de++){const ue=n.getUint16(ae+de*2),pe=n.getUint16(ae+re*2+2+de*2),he=n.getInt16(ae+re*4+2+de*2),xe=n.getUint16(ae+re*6+2+de*2);oe.push({endCode:ue,startCode:pe,idDelta:he,idRangeOffset:xe});for(let $e=pe;$e<=ue;$e+=1){let Ne;if(xe!==0){const Oe=ae+re*6+2+de*2+($e-pe)*2+xe;Ne=n.getUint16(Oe),Ne!==0&&(Ne=Ne+he&65535)}else Ne=$e+he&65535;r[$e]=Ne}}g={format:y,length:k,language:$,segCount:re,searchRange:L,entrySelector:z,rangeShift:j,glyphIndexMap:r,segments:oe};break}case 12:{const k=decoder.uint16(),$=decoder.uint32(),V=decoder.uint32(),L=decoder.uint32(),z=getOffset$2();end$2();const j=[];for(let re=0;re<L;re++){const oe=n.getUint32(z+re*12),ae=n.getUint32(z+re*12+4);let de=n.getUint32(z+re*12+8);j.push({startCharCode:oe,endCharCode:ae,startGlyphId:de});for(let ue=oe;ue<=ae;ue++)r[ue]=de,de++}return{format:y,reserved:k,length:$,language:V,groupCount:L,glyphIndexMap:r,groups:j}}}return end$2(),g},createTable$1=n=>{let e=!0,r;for(r=n.length-1;r>0;r-=1)if(n[r].unicode>65535){e=!1;break}const g={version:0,numTables:e?2:3,encodingRecords:[]};g.encodingRecords.push({platformID:0,encodingID:3,subtableOffset:e?20:28}),g.encodingRecords.push({platformID:3,encodingID:1,subtableOffset:e?20:28}),e||g.encodingRecords.push({platformID:3,encodingID:10,subtableOffset:28}),g.encodingRecords[0].subTable={format:4,length:0,language:0,segCount:0,searchRange:0,entrySelector:0,rangeShift:0},g.encodingRecords[1].subTable={format:4,length:0,language:0,segCount:0,searchRange:0,entrySelector:0,rangeShift:0},e||(g.encodingRecords[g.encodingRecords.length-1].subTable={format:12,reserved:0,length:0,language:0,groupCount:0});const y=[],k=[],$={},V={};for(n[0]&&n[0].unicode===0&&(y.push({endCode:0,startCode:0,idDelta:0,idRangeOffset:0}),$[0]=0),r=1;r<n.length;r++){const z=n[r];z.unicode<=65535?(y.push({endCode:z.unicode,startCode:z.unicode,idDelta:-(z.unicode-r),idRangeOffset:0}),$[z.unicode]=r):e||(k.push({startCharCode:z.unicode,endCharCode:z.unicode,startGlyphId:r}),V[z.unicode]=r)}y.sort(function(z,j){return z.startCode-j.startCode}),y.push({endCode:65535,startCode:65535,idDelta:1,idRangeOffset:0}),e||(g.encodingRecords[g.encodingRecords.length-1].subTable.groups=k,g.encodingRecords[g.encodingRecords.length-1].subTable.glyphIndexMap=V),g.encodingRecords[0].subTable.segments=y,g.encodingRecords[1].subTable.segments=clone$1(y),g.encodingRecords[0].subTable.glyphIndexMap=$,g.encodingRecords[1].subTable.glyphIndexMap=clone$1($);const L=y.length;return g.encodingRecords[0].subTable.segCount=L,g.encodingRecords[1].subTable.segCount=L,g.encodingRecords[0].subTable.searchRange=Math.pow(2,Math.floor(Math.log(L)/Math.log(2)))*2,g.encodingRecords[1].subTable.searchRange=Math.pow(2,Math.floor(Math.log(L)/Math.log(2)))*2,g.encodingRecords[0].subTable.entrySelector=Math.log(g.encodingRecords[0].subTable.searchRange/2)/Math.log(2),g.encodingRecords[1].subTable.entrySelector=Math.log(g.encodingRecords[1].subTable.searchRange/2)/Math.log(2),g.encodingRecords[0].subTable.rangeShift=L*2-g.encodingRecords[0].subTable.searchRange,g.encodingRecords[1].subTable.rangeShift=L*2-g.encodingRecords[1].subTable.searchRange,g.encodingRecords[0].subTable.length=16+y.length*8,g.encodingRecords[1].subTable.length=16+y.length*8,g.encodingRecords[1].subtableOffset+=g.encodingRecords[0].subTable.length,e||(g.encodingRecords[g.encodingRecords.length-1].subtableOffset+=g.encodingRecords[0].subTable.length+g.encodingRecords[1].subTable.length,g.encodingRecords[g.encodingRecords.length-1].subTable.length=16+k.length*4,g.encodingRecords[g.encodingRecords.length-1].subTable.groupCount=k.length),g},create$6=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$5[r],y=n[r];let k=[];if(r==="encodingRecords"){const $=y;for(let V=0;V<$.length;V++){const L=$[V];Object.keys(L).forEach(z=>{if(z!=="subTable"){const j=types$5[z],re=L[z];k=k.concat(encoder[j](re))}})}for(let V=0;V<$.length;V++){const L=$[V].subTable;if(L.format===4){Object.keys(L).forEach(re=>{if(re==="segCount"){const oe=types$5.segCountX2,ae=L[re]*2;k=k.concat(encoder[oe](ae))}else if(re!=="glyphIndexMap"&&re!=="segments"){const oe=types$5[re],ae=L[re];k=k.concat(encoder[oe](ae))}});const z=L.segments,j=k.length;setByesAt(k,encoder.uint16(0),j+z.length*2);for(let re=0;re<z.length;re++){const oe=z[re];setByesAt(k,encoder[types$5.endCode](oe.endCode),j+re*2),setByesAt(k,encoder[types$5.startCode](oe.startCode),j+z.length*2+2+re*2),setByesAt(k,encoder[types$5.idDelta](oe.idDelta),j+z.length*4+2+re*2),setByesAt(k,encoder[types$5.idRangeOffsets](oe.idRangeOffset),j+z.length*6+2+re*2);for(let ae=oe.startCode;ae<=oe.endCode;ae+=1){const de=L.glyphIndexMap[ae];if(oe.idRangeOffset!==0){const ue=j+z.length*8+2+(ae-oe.startCode)*2+oe.idRangeOffset;setByesAt(k,encoder[types$5.glyphIdArray](de),ue)}}}}else if(L.format===12){k=k.concat(encoder.uint16(L.format)),k=k.concat(encoder.uint16(L.reserved)),k=k.concat(encoder.uint32(L.length)),k=k.concat(encoder.uint32(L.language)),k=k.concat(encoder.uint32(L.groupCount));for(let z=0;z<L.groupCount;z++)k=k.concat(encoder.uint32(L.groups.startCharCode)),k=k.concat(encoder.uint32(L.groups.endCharCode)),k=k.concat(encoder.uint32(L.groups.startGlyphId))}}}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},cmapTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$6,createTable:createTable$1,parse:parse$a},Symbol.toStringTag,{value:"Module"})),types$4={advanceWidth:"uint16",lsb:"int16",leftSideBearings:"int16"},parse$9=(n,e,r)=>{const g=r.settings.numberOfHMetrics,y=r.settings.numGlyphs,k=[],$=[];start(n,e);for(let L=0;L<g;L++){const z=decoder[types$4.advanceWidth](),j=decoder[types$4.lsb]();k.push({advanceWidth:z,lsb:j})}for(let L=0;L<y-g;L++)$.push(decoder[types$4.leftSideBearings]());const V={hMetrics:k,leftSideBearings:$};return end$2(),V},create$5=n=>{let e=[];const r=n.hMetrics;for(let y=0;y<r.length;y++){const k=r[y];Object.keys(k).forEach($=>{const V=types$4[$],L=k[$];e=e.concat(encoder[V](L))})}const g=n.leftSideBearings;if(g)for(let y=0;y<g.length;y++)e=e.concat(encoder[types$4.leftSideBearings](g[y]));return e},hmtxTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$5,parse:parse$9},Symbol.toStringTag,{value:"Module"})),transformPoint=(n,e)=>({x:e.xScale*n.x+e.scale01*n.y+e.dx,y:e.scale10*n.x+e.yScale*n.y+e.dy}),parse$8=(n,e,r)=>{const g={glyphTables:[]},y=r.settings.numGlyphs,k=(r.tables?.filter(j=>j.name==="loca")[0].table).offsets;for(let j=0;j<y;j++)g.glyphTables.push(parseGlyph(n,e+k[j]));for(let j=0;j<y;j++){const re=g.glyphTables[j];if(re.isComposite){re.contours=[];for(var $=0;$<re.components.length;$+=1){const oe=re.components[$],ae=g.glyphTables[oe.glyphIndex];if(ae.contours.length){let de=[];if(oe.matchedPoints===void 0){de=clone$1(ae.contours);for(let ue=0;ue<de.length;ue++){const pe=de[ue].paths;for(let he=0;he<pe.length;he++){const xe=pe[he];xe.start=transformPoint(xe.start,oe),xe.end=transformPoint(xe.end,oe),xe.type===PathType.QUADRATIC_BEZIER&&(xe.control=transformPoint(xe.control,oe))}}}else{let ue=[];for(let he=0;he<re.contours.length;he++){const xe=re.contours[he];ue=ue.concat(xe.points)}let pe=[];for(let he=0;he<ae.contours.length;he++){const xe=ae.contours[he];pe=pe.concat(xe.points)}if(oe.matchedPoints[0]>ue.length-1||oe.matchedPoints[1]>ue.length-1)break;var V=ue[oe.matchedPoints[0]],L=pe[oe.matchedPoints[1]],z={xScale:oe.xScale,scale01:oe.scale01,scale10:oe.scale10,yScale:oe.yScale,dx:0,dy:0};L=transformPoint(L,z),z.dx=V.x-L.x,z.dy=V.y-L.y,de=clone$1(ae.contours);for(let he=0;he<de.length;he++){const xe=de[he].paths;for(let $e=0;$e<xe.length;$e++){const Ne=xe[$e];Ne.start=transformPoint(Ne.start,z),Ne.end=transformPoint(Ne.start,z),Ne.type===PathType.QUADRATIC_BEZIER&&(Ne.control=transformPoint(Ne.control,z))}}}re.contours.push(...de)}}}}return g},parseGlyph=(n,e,r)=>{start(n,e);const g=decoder.int16(),y=decoder.int16(),k=decoder.int16(),$=decoder.int16(),V=decoder.int16(),L=[];let z=[],j=!1;const re=[],oe=[];let ae=0,de=0;if(g<0){j=!0,z=[];let $e=!0,Ne;for(;$e;){Ne=decoder.uint16();const Oe={glyphIndex:decoder.uint16(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0,matchedPoints:void 0};(Ne&1)>0?(Ne&2)>0?(Oe.dx=decoder.int16(),Oe.dy=decoder.int16()):Oe.matchedPoints=[decoder.uint16(),decoder.uint16()]:(Ne&2)>0?(Oe.dx=decoder.int8(),Oe.dy=decoder.int8()):Oe.matchedPoints=[decoder.uint8(),decoder.uint8()],(Ne&8)>0?Oe.xScale=Oe.yScale=decoder.F2DOT14():(Ne&64)>0?(Oe.xScale=decoder.F2DOT14(),Oe.yScale=decoder.F2DOT14()):(Ne&128)>0&&(Oe.xScale=decoder.F2DOT14(),Oe.scale01=decoder.F2DOT14(),Oe.scale10=decoder.F2DOT14(),Oe.yScale=decoder.F2DOT14()),z.push(Oe),$e=!!(Ne&32)}if(Ne&256){const Oe=decoder.uint16();for(let _e=0;_e<Oe;_e++)re.push(decoder.uint8())}}for(let $e=0;$e<g;$e++)L.push(decoder.uint16());const ue=decoder.uint16();for(let $e=0;$e<ue;$e++)re.push(decoder.uint8());const pe=[],he=L[L.length-1]+1;for(let $e=0;$e<he;$e++){const Ne=decoder.uint8();if(pe.push(Ne),(Ne&8)>0){const Oe=decoder.uint8();for(let _e=0;_e<Oe;_e++)pe.push(Ne),$e+=1}}for(let $e=0;$e<g;$e++){const Ne=[],Oe=[],_e=[],Fe=[];oe.push({xCoordinates:Ne,yCoordinates:Oe,points:_e,paths:Fe})}for(let $e=0;$e<g;$e++){const Ne=$e>0?L[$e-1]+1:0,Oe=L[$e];for(let _e=Ne;_e<=Oe;_e++){const Fe=parseGlyphCoordinate(decoder,pe[_e],ae,2,16);oe[$e].xCoordinates.push(Fe),oe[$e].points.push({x:Fe,onCurve:!!(pe[_e]&1)}),ae=Fe}}for(let $e=0;$e<g;$e++){const Ne=$e>0?L[$e-1]+1:0,Oe=L[$e];for(let _e=Ne;_e<=Oe;_e++){const Fe=parseGlyphCoordinate(decoder,pe[_e],de,4,32);oe[$e].yCoordinates.push(Fe),oe[$e].points[_e-Ne].y=Fe,de=Fe}}for(let $e=0;$e<g;$e++){const Ne=oe[$e],Oe=Ne.points;let _e=null,Fe=Oe[Oe.length-1],Ue=Oe[0],kt=null;Fe.onCurve?kt=Fe:Ue.onCurve?kt=Ue:kt={x:(Fe.x+Ue.x)*.5,y:(Fe.y+Ue.y)*.5};for(let Lt=0;Lt<Oe.length;Lt++)if(_e=Fe,Fe=Ue,Ue=Oe[(Lt+1)%Oe.length],Fe.onCurve){const wn={type:PathType.LINE,start:{x:kt.x,y:kt.y},end:{x:Fe.x,y:Fe.y}};kt=Fe,Ne.paths.push(wn)}else{let wn=Ue;_e.onCurve||((Fe.x+_e.x)*.5,(Fe.y+_e.y)*.5),Ue.onCurve||(wn={x:(Fe.x+Ue.x)*.5,y:(Fe.y+Ue.y)*.5});const Et={type:PathType.QUADRATIC_BEZIER,start:{x:kt.x,y:kt.y},end:{x:wn.x,y:wn.y},control:{x:Fe.x,y:Fe.y}};kt=wn,Ne.paths.push(Et)}}return end$2(),{numberOfContours:g,xMin:y,yMin:k,xMax:$,yMax:V,endPtsOfContours:L,instructionLength:ue,instructions:re,contours:oe,flags:pe,isComposite:j,components:z}},parseGlyphCoordinate=(n,e,r,g,y)=>{let k;return(e&g)>0?(k=n.uint8(),e&y||(k=-k),k=r+k):(e&y)>0?k=r:k=r+n.int16(),k},create$4=n=>{},glyfTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$4,parse:parse$8},Symbol.toStringTag,{value:"Module"})),parse$7=(n,e,r)=>{const g=r.settings.indexToLocFormat,y=r.settings.numGlyphs,k={offsets:[]};if(start(n,e),g===0)for(let $=0;$<y;$++)k.offsets.push(decoder.Offset16()*2);else if(g===1)for(let $=0;$<y;$++)k.offsets.push(decoder.Offset32());return end$2(),k},create$3=(n,e)=>{let r=[];for(let g=0;g<n.offsets.length;g++)if(e.version===0){const y=encoder.Offset16(n.offsets[g]);y&&(r=r.concat(y))}else if(e.version===1){const y=encoder.Offset32(n.offsets[g]);y&&(r=r.concat(y))}return r},locaTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$3,parse:parse$7},Symbol.toStringTag,{value:"Module"})),types$3={major:"Card8",minor:"Card8",hdrSize:"Card8",offSize:"Card8"},TOP_DICT_META=[{name:"ros",op:1230,type:["SID","SID","number"]},{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset"},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],FONT_DICT_META=[{name:"ros",op:1230,type:["SID","SID","number"]},{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number"},{name:"italicAngle",op:1202,type:"number"},{name:"underlinePosition",op:1203,type:"number"},{name:"underlineThickness",op:1204,type:"number"},{name:"paintType",op:1205,type:"number"},{name:"charstringType",op:1206,type:"number"},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"]},{name:"strokeWidth",op:1208,type:"number"},{name:"xuid",op:14,type:[]},{name:"charset",op:15,type:"offset"},{name:"encoding",op:16,type:"offset"},{name:"charStrings",op:17,type:"offset"},{name:"fontName",op:1238,type:"SID"},{name:"private",op:18,type:["number","offset"]},{name:"cidFontVersion",op:1231,type:"number"},{name:"cidFontRevision",op:1232,type:"number"},{name:"cidFontType",op:1233,type:"number"},{name:"cidCount",op:1234,type:"number"},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"}],PRIVATE_DICT_META=[{name:"BlueValues",op:6,type:["number","number","number","number"]},{name:"OtherBlues",op:7,type:["number","number"]},{name:"FamilyBlues",op:8,type:"array"},{name:"FamilyOtherBlues",op:9,type:"array"},{name:"BlueScale",op:1209,type:"real"},{name:"BlueShift",op:1210,type:"number"},{name:"BlueFuzz",op:1211,type:"number"},{name:"StdHW",op:10,type:"number"},{name:"StdVW",op:11,type:"number"},{name:"StemSnapH",op:1212,type:"array"},{name:"StemSnapV",op:1213,type:"array"},{name:"ForceBold",op:1214,type:"number"},{name:"LanguageGroup",op:1217,type:"number"},{name:"ExpansionFactor",op:1218,type:"real"},{name:"initialRandomSeed",op:1219,type:"number"},{name:"Subrs",op:19,type:"offset"},{name:"defaultWidthX",op:20,type:"number"},{name:"nominalWidthX",op:21,type:"number"}],cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],parseIndex=(n,e,r)=>{let g=[],y=e;start(n,e);let k=e;const $=decoder.uint16();g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;const V=decoder.uint8();g.push(n.getUint8(y)),y++;const L=[],z=[],j=[];if($!==0){for(let re=0;re<$+1;re++)switch(V){case 1:{L.push(decoder.uint8()),g.push(n.getUint8(y)),y++;break}case 2:{L.push(decoder.uint16()),g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;break}case 3:{L.push(decoder.uint32()),g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;break}case 4:{L.push(decoder.bigInt()),g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;break}}k=getOffset$2(),end$2();for(let re=0;re<L.length-1;re++){const oe=[];for(let ae=L[re];ae<L[re+1];ae++){let de=0;typeof ae!="bigint"?de=n.getUint8(k-1+ae):de=n.getUint8(Number(BigInt(k-1)+ae)),oe.push(de)}z.push(oe),j.push(r?r(oe):oe)}}return{data:{configRawData:g,index:{count:$,offSize:V,offset:L,data:z},data:j},offset:typeof L[$]=="bigint"?Number(BigInt(k-1)+($===0?BigInt(0):L[$])):k-1+($===0?0:L[$])}},parseType2CharString=(n,e,r,g)=>{const y=[];let k=[];const $=[];let V=null,L=0,z=0,j=0;const re=[];let oe,ae,de;if(g.settings.isCIDFont){const he=r._fdSelect[e],xe=r._fdArray[he];oe=xe._subrs,ae=xe._subrsBias,de=xe._defaultWidthX,xe._nominalWidthX}else oe=r._subrs,ae=r._subrsBias,de=r._defaultWidthX,r._nominalWidthX;const ue=()=>{re.length%2!==0&&(V=re.shift())},pe=he=>{let xe=0;for(;xe<he.length;){const $e=he[xe];switch(xe++,$e){case 1:{V===null&&ue(),L+=re.length>>1;const Ne=[];for(;re.length;)Ne.push(re.shift());$.push({command:"hstem",data:Ne});break}case 3:{V===null&&ue(),L+=re.length>>1;const Ne=[];for(;re.length;)Ne.push(re.shift());$.push({command:"vstem",data:Ne});break}case 18:{V===null&&ue(),L+=re.length>>1;const Ne=[];for(;re.length;)Ne.push(re.shift());$.push({command:"hstemhm",data:Ne});break}case 23:{V===null&&ue(),L+=re.length>>1;const Ne=[];for(;re.length;)Ne.push(re.shift());$.push({command:"vstemhm",data:Ne});break}case 19:{V===null&&ue(),L+=re.length>>1;const Ne=[];for(;re.length;)Ne.push(re.shift());const Oe=[];let _e=L+7>>3;for(;_e;)Oe.push(he[xe+_e]),_e--;xe+=L+7>>3,$.push({command:"hintmask",data:Ne,mask:Oe});break}case 20:{V===null&&ue(),L+=re.length>>1;const Ne=[];for(;re.length;)Ne.push(re.shift());const Oe=[];let _e=L+7>>3;for(;_e;)Oe.push(he[xe+_e]),_e--;xe+=L+7>>3,$.push({command:"cntrmask",data:Ne,mask:Oe});break}case 21:{V===null&&ue(),k.length&&(y.push(k),k=[]);const Ne=re.pop(),Oe=re.pop();z+=Oe,j+=Ne,$.push({command:"rmoveto",data:[Oe,Ne]});break}case 4:{V===null&&ue(),k.length&&(y.push(k),k=[]);const Ne=re.pop();j+=Ne,$.push({command:"vmoveto",data:[Ne]});break}case 22:{V===null&&ue(),k.length&&(y.push(k),k=[]);const Ne=re.pop();z+=Ne,$.push({command:"hmoveto",data:[Ne]});break}case 5:{const Ne=[];for(;re.length;){const Oe=re.shift(),_e=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Oe,y:j+_e}}),z+=Oe,j+=_e,Ne.push(Oe),Ne.push(_e)}$.push({command:"rlineto",data:Ne});break}case 6:{const Ne=[],Oe=re.shift();for(Ne.push(Oe),k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Oe,y:j}}),z+=Oe;re.length;){const _e=re.shift(),Fe=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+_e,y:j}}),z+=_e,j+=Fe,Ne.push(_e)}$.push({command:"hlineto",data:Ne});break}case 7:{const Ne=[],Oe=re.shift();for(Ne.push(Oe),k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z,y:j+Oe}}),j+=Oe;re.length;){const _e=re.shift(),Fe=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+_e,y:j+Fe}}),z+=_e,j+=Fe,Ne.push(_e),Ne.push(Fe)}$.push({command:"vlineto",data:Ne});break}case 8:{const Ne=[];for(;re.length;){const Oe=re.shift(),_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Oe,y:j+_e},control2:{x:z+Oe+Fe,y:j+_e+Ue},end:{x:z+Oe+Fe+kt,y:j+_e+Ue+Lt}}),z+=Oe+Fe+kt,j+=_e+Ue+Lt,Ne.push(Oe,_e,Fe,Ue,kt,Lt)}$.push({command:"rrcurveto",data:Ne});break}case 27:{const Ne=[];let Oe=re.length%2!==0?Ne.push(re.shift())&&Ne[0]:0;for(;re.length;){const _e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e,y:j+Oe},control2:{x:z+_e+Fe,y:j+Oe+Ue},end:{x:z+_e+Fe+kt,y:j+Oe+Ue}}),z+=_e+Fe+kt,j+=Oe+Ue,Ne.push(_e,Fe,Ue,kt)}$.push({command:"hhcurveto",data:Ne});break}case 26:{const Ne=[];let Oe=re.length%2!==0?Ne.push(re.shift())&&Ne[0]:0;for(;re.length;){const _e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Oe,y:j+_e},control2:{x:z+Oe+Fe,y:j+_e+Ue},end:{x:z+Oe+Fe,y:j+_e+Ue}}),z+=Oe+Fe,j+=_e+Ue+kt,Ne.push(_e,Fe,Ue,kt)}$.push({command:"vvcurveto",data:Ne});break}case 31:{const Ne=[];for(;re.length>0;){const Oe=re.shift(),_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.length===1?re.shift():null;if(k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Oe,y:j},control2:{x:z+Oe+_e,y:j+Fe},end:{x:kt===null?z+Oe+_e:z+Oe+_e+kt,y:j+Fe+Ue}}),z+=kt===null?Oe+_e:Oe+_e+kt,j+=Fe+Ue,Ne.push(Oe,_e,Fe,Ue),kt!==null&&Ne.push(kt),re.length===0)break;const Lt=re.shift(),wn=re.shift(),Et=re.shift(),xn=re.shift(),jt=re.length===1?re.shift():null;k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z,y:j+Lt},control2:{x:z+wn,y:j+Lt+Et},end:{x:z+wn+xn,y:jt===null?j+Lt+Et:j+Lt+Et+jt}}),z+=wn+xn,j+=jt===null?Lt+Et:Lt+Et+jt,Ne.push(Oe,_e,Fe,Ue),jt!==null&&Ne.push(jt)}$.push({command:"hvcurveto",data:Ne});break}case 30:{const Ne=[];for(;re.length>0;){const Oe=re.shift(),_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.length===1?re.shift():null;if(k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z,y:j+Oe},control2:{x:z+_e,y:j+Oe+Fe},end:{x:z+_e+Ue,y:kt===null?j+Oe+Fe:j+Oe+Fe+kt}}),z+=_e+Ue,j+=kt===null?Oe+Fe:Oe+Fe+kt,Ne.push(Oe,_e,Fe,Ue),kt!==null&&Ne.push(kt),re.length===0)break;const Lt=re.shift(),wn=re.shift(),Et=re.shift(),xn=re.shift(),jt=re.length===1?re.shift():null;k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Lt,y:j},control2:{x:z+Lt+wn,y:j+Et},end:{x:jt===null?z+Lt+wn:z+Lt+wn+jt,y:j+Et+xn}}),z+=jt===null?Lt+wn:Lt+wn+jt,j+=Et+xn,Ne.push(Lt,wn,Et,xn),jt!==null&&Ne.push(jt)}$.push({command:"vhcurveto",data:Ne});break}case 24:{const Ne=[];for(;re.length>2;){const Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift(),wn=re.shift(),Et=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Fe,y:j+Ue},control2:{x:z+Fe+kt,y:j+Ue+Lt},end:{x:z+Fe+kt+wn,y:j+Ue+Lt+Et}}),z+=Fe+kt+wn,j+=Ue+Lt+Et,Ne.push(Fe,Ue,kt,Lt,wn,Et)}const Oe=re.shift(),_e=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Oe,y:j+_e}}),Ne.push(Oe,_e),$.push({command:"rcurveline",data:Ne});break}case 25:{const Ne=[];for(;re.length>6;){const wn=re.shift(),Et=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+wn,y:j+Et}}),z+=wn,j+=Et,Ne.push(wn,Et)}const Oe=re.shift(),_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Oe,y:j+_e},control2:{x:z+Oe+Fe,y:j+_e+Ue},end:{x:z+Oe+Fe+kt,y:j+Oe+Fe+Lt}}),Ne.push(Oe,_e,Fe,Ue,kt,Lt),$.push({command:"rlinecurve",data:Ne});break}case 12:{const Ne=he[xe];switch(xe++,Ne){case 35:{const Oe=[],_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift(),wn=re.shift(),Et=re.shift(),xn=re.shift(),jt=re.shift(),An=re.shift(),Dn=re.shift(),En=re.shift(),Bn=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e,y:j+Fe},control2:{x:z+_e+Ue,y:j+Fe+kt},end:{x:z+_e+Ue+Lt,y:j+Fe+kt+wn}}),z+=_e+Ue+Lt,j+=Fe+kt+wn,k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Et,y:j+xn},control2:{x:z+Et+jt,y:j+xn+An},end:{x:z+Et+jt+Dn,y:j+xn+An+En}}),z+=Et+jt+Dn,j+=xn+An+En,Oe.push(_e,Fe,Ue,kt,Lt,wn,Et,xn,jt,An,Dn,En,Bn),$.push({command:"flex",data:Oe});break}case 34:{const Oe=[],_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift(),wn=re.shift(),Et=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e,y:j},control2:{x:z+_e+Fe,y:j+Ue},end:{x:z+_e+Fe+kt,y:j+Ue}}),k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e+Fe+kt+Lt,y:j+Ue},control2:{x:z+_e+Fe+kt+Lt+wn,y:j},end:{x:z+_e+Fe+kt+Lt+wn+Et,y:j}}),z+=_e+Fe+kt+Lt+wn+Et,Oe.push(_e,Fe,Ue,kt,Lt,wn,Et),$.push({command:"hflex",data:Oe});break}case 36:{const Oe=[],_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift(),wn=re.shift(),Et=re.shift(),xn=re.shift(),jt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e,y:j+Fe},control2:{x:z+_e+Ue,y:j+Fe+kt},end:{x:z+_e+Ue+Lt,y:j+Fe+kt}}),k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e+Ue+Lt+wn,y:j+Fe+kt},control2:{x:z+_e+Ue+Lt+wn+Et,y:j+Fe+kt+xn},end:{x:z+_e+Ue+Lt+wn+Et+jt,y:j}}),z+=_e+Ue+Lt+wn+Et+jt,Oe.push(_e,Fe,Ue,kt,Lt,wn,Et,xn,jt),$.push({command:"hflex1",data:Oe});break}case 37:{const Oe=[],_e=re.shift(),Fe=re.shift(),Ue=re.shift(),kt=re.shift(),Lt=re.shift(),wn=re.shift(),Et=re.shift(),xn=re.shift(),jt=re.shift(),An=re.shift(),Dn=re.shift(),En=Math.abs(_e+Ue+Lt+Et+jt)-Math.abs(Fe+kt+wn+xn+An);k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+_e,y:j+Fe},control2:{x:z+_e+Ue,y:j+Fe+kt},end:{x:z+_e+Ue+Lt,y:j+Fe+kt+wn}}),z+=_e+Ue+Lt,j+=Fe+kt+wn,k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Et,y:j+xn},control2:{x:z+Et+jt,y:j+xn+An},end:{x:z+Et+jt+(En>0?Dn:0),y:j+xn+An+(En<0?Dn:0)}}),z+=Et+jt+(En>0?Dn:0),j+=xn+An+(En<0?Dn:0),Oe.push(_e,Fe,Ue,kt,Lt,wn,Et,xn,jt,An,Dn),$.push({command:"flex1",data:Oe});break}}break}case 10:{const Ne=re.pop()+ae,Oe=oe[Ne];Oe&&pe(Oe);break}case 11:return;case 14:{V&&ue(),k.length&&y.push(k);break}default:{if(!($e<32))if($e<247)re.push($e-139);else if($e<251){const Ne=he[xe];xe+=1,re.push(($e-247)*256+Ne+108)}else if($e<255){const Ne=he[xe];xe+=1,re.push(-($e-251)*256-Ne-108)}else{const Ne=he[xe],Oe=he[xe+1],_e=he[xe+2],Fe=he[xe+3];xe+=4,re.push((Ne<<24|Oe<<16|_e<<8|Fe)/65536)}break}}}};return pe(n),V||(V=de),{contours:y,commands:$,advanceWidth:V}},parseDict=(n,e=0,r)=>{const g=[];let y=[];for(start(n,e);getOffset$2()<r;){let k=decoder.uint8();if(k<=21)k===12&&(k=1200+decoder.uint8()),g.push([k,y]),y=[];else{const{value:$,offset:V}=parseOperand(n,getOffset$2(),k);y.push($),setOffset(V)}}return end$2(),entriesToObject(g)},parseOperand=(n,e,r)=>{let g,y,k,$;if(start(n,e),r===28)return g=decoder.uint8(),y=decoder.uint8(),{value:g<<8|y,offset:getOffset$2()};if(r===29)return g=decoder.uint8(),y=decoder.uint8(),k=decoder.uint8(),$=decoder.uint8(),{value:g<<24|y<<16|k<<8|$,offset:getOffset$2()};if(r===30)return parseFloatOperand(n,e);if(r>=32&&r<=246)return{value:r-139,offset:e};if(r>=247&&r<=250)return g=decoder.uint8(),{value:(r-247)*256+g+108,offset:getOffset$2()};if(r>=251&&r<=254)return g=decoder.uint8(),{value:-(r-251)*256-g-108,offset:getOffset$2()};throw end$2(),new Error("Invalid b0 "+r)},parseFloatOperand=(n,e)=>{let r="";const y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];for(start(n,e);;){const k=decoder.uint8(),$=k>>4,V=k&15;if($===15||(r+=y[$],V===15))break;r+=y[V]}return{value:parseFloat(r),offset:getOffset$2()}},interpretDict=(n,e,r)=>{const g={};let y;for(let k=0;k<e.length;k+=1){const $=e[k];if(Array.isArray($.type)){const V=[];V.length=$.type.length;for(let L=0;L<$.type.length;L++)y=n[$.op]!==void 0?n[$.op][L]:void 0,y===void 0&&(y=$.value!==void 0&&$.value[L]!==void 0?$.value[L]:null),$.type[L]==="SID"&&(y=getString(r,y)),V[L]=y;g[$.name]=V}else y=n[$.op],y===void 0&&(y=$.value!==void 0?$.value:null),$.type==="SID"&&(y=getString(r,y)),g[$.name]=y}return g},entriesToObject=n=>{const e={};for(let r=0;r<n.length;r+=1){const g=n[r][0],y=n[r][1];let k;if(y.length===1?k=y[0]:k=y,e.hasOwnProperty(g)&&!isNaN(e[g]))throw new Error("Object "+e+" already has key "+g);e[g]=k}return e},parseTopDict=(n,e)=>{const r=parseDict(n,0,n.byteLength);return interpretDict(r,TOP_DICT_META,e)},parsePrivateDict=(n,e,r,g)=>{const y=parseDict(n,e,r);return interpretDict(y,PRIVATE_DICT_META,g)},calcSubroutineBias=n=>{let e;return n.length<1240?e=107:n.length<33900?e=1131:e=32768,e},gatherTopDicts=(n,e,r,g)=>{const y=[];for(let k=0;k<r.length;k+=1){const $=new DataView(new Uint8Array(r[k]).buffer),V=parseTopDict($,g);V._subrs=[],V._subrsBias=0,V._defaultWidthX=0,V._nominalWidthX=0;const L=V.private[0],z=V.private[1];if(L!==0&&z!==0){const j=parsePrivateDict(n,z+e,L,g);if(V._defaultWidthX=j.defaultWidthX,V._nominalWidthX=j.nominalWidthX,j.subrs!==0){const re=z+j.subrs,oe=parseIndex(n,re+e);V._subrs=oe.data,V._subrsBias=calcSubroutineBias(V._subrs)}V._privateDict=j}y.push(V)}return y},createFDSelect=n=>{const e=[];e.push(0);for(let r=0;r<n.length;r++)e.push(0);return e},parseFDSelect=(n,e,r,g)=>{const y=[];let k;const $=n.getUint8(e);if($===0)for(let V=0;V<r;V++){if(k=n.getUint8(e+1+V),k>=g)throw new Error("CFF table CID Font FDSelect has bad FD index value "+k+" (FD count "+g+")");y.push(k)}else if($===3){const V=n.getUint16(e+1);let L=n.getUint16(e+3);if(L!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+L);let z;for(let j=0;j<V;j++){if(k=n.getUint8(e+5+j*3),z=n.getUint16(e+5+j*3+1),k>=g)throw new Error("CFF table CID Font FDSelect has bad FD index value "+k+" (FD count "+g+")");if(z>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+z);for(;L<z;L++)y.push(k);L=z}if(z!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+z)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+$);return y},parseHeader=(n,e)=>{start(n,e);const r=decoder.uint8(),g=decoder.uint8(),y=decoder.uint8(),k=decoder.uint8(),$={major:r,minor:g,hdrSize:y,offSize:k},V=getOffset$2();return end$2(),{data:$,offset:V}},parseEncodings=(n,e)=>{start(n,e);const r=decoder.uint8(),g={format:r};if(r&0){g.nCodes=decoder.uint8(),g.code=[];for(let k=0;k<g.nCodes;k+=1)g.code.push(decoder.uint8())}else if(r&1){g.nRanges=decoder.uint8(),g.Range1=[],g.code=[];for(let k=0;k<g.nRanges;k+=1){const $=decoder.uint8(),V=decoder.uint8();g.Range1.push({first:$,nLeft:V});for(let L=$;L<=$+V;L+=1)g.code.push(L)}}if(r!==0&&r!==1){g.nSups=decoder.uint8(),g.supplement=[];for(let k=0;k<g.nSups;k+=1){const $={};$.code=decoder.uint8(),$.glyph=decoder.uint8(),g.supplement.push($)}}const y=getOffset$2();return end$2(),{data:g,offset:y}},getString=(n,e)=>{let r="";return e<=390?r=cffStandardStrings[e]:r=n[e-391],r},parseCharsets=(n,e,r,g)=>{start(n,e);const y=r.settings.numGlyphs?r.settings.numGlyphs-1:0,k=[".notdef"],$=decoder.uint8();if($===0)for(let V=0;V<y;V+=1){const L=decoder.uint16();k.push(getString(g.data,L))}else if($===1)for(;k.length<=y;){let V=decoder.uint16(),L=decoder.uint8();for(let z=0;z<=L;z+=1)k.push(getString(g.data,V)),V+=1}else if($===2)for(;k.length<=y;){let V=decoder.uint16(),L=decoder.uint8();for(let z=0;z<=L;z+=1)k.push(getString(g.data,V)),V+=1}else throw new Error("Unknown charset format "+$);return end$2(),{format:$,data:k}},parse$6=(n,e,r)=>{const g=parseHeader(n,e),y=parseIndex(n,g.offset),k=parseIndex(n,y.offset),$=parseIndex(n,k.offset,pe=>{let he="";for(let xe=0;xe<pe.length;xe+=1)he+=String.fromCharCode(pe[xe]);return he}),V=parseIndex(n,$.offset);r.settings.gsubrs=V.data.data,r.settings.gsubrsBias=calcSubroutineBias(V.data.data);const z=gatherTopDicts(n,V.offset,k.data.data,$.data.data)[0];if(z._privateDict&&(r.settings.defaultWidthX=z._privateDict.defaultWidthX,r.settings.nominalWidthX=z._privateDict.nominalWidthX),z.ros[0]!==void 0&&z.ros[1]!==void 0&&(r.settings.isCIDFont=!0),r.settings.isCIDFont){let pe=z.fdArray,he=z.fdSelect;if(pe===0||he===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");pe+=e;const xe=parseIndex(n,pe),$e=gatherTopDicts(n,e,xe.data.data,$.data.data);z._fdArray=$e,he+=e,z._fdSelect=parseFDSelect(n,he,r.settings.numGlyphs,$e.length)}const j=e+z.private[1],re=parsePrivateDict(n,j,z.private[0],$.data.data);if(r.settings.defaultWidthX=re.defaultWidthX,r.settings.nominalWidthX=re.nominalWidthX,re.subrs!==0){const pe=j+re.subrs,he=parseIndex(n,pe);r.settings.subrs=he.data.data,r.settings.subrsBias=calcSubroutineBias(r.settings.subrs)}else r.settings.subrs=[],r.settings.subrsBias=0;let oe=null;z.encoding===0?oe=cffStandardEncoding:z.encoding===1?oe=cffExpertEncoding:oe=parseEncodings(n,e+z.encoding);const ae=parseCharsets(n,e+z.charset,r,$.data),de=parseIndex(n,e+z.charStrings),ue=[];for(let pe=0;pe<r.settings.numGlyphs;pe++){const he=de.data.data[pe];ue.push(parseType2CharString(he,pe,z,r))}return{header:g,nameIndex:y,topDictIndex:k,stringIndex:$,globalSubrIndex:V,encodings:oe,charsets:ae,charStringIndex:de,topDict:z,glyphTables:ue}},createIndex=n=>{let e=1;const r=[e];let g=[];for(let V=0;V<n.length;V+=1){const L=n[V].type,z=n[V].value,j=encoder[L](z);g=g.concat(j),e+=j.length,r.push(e)}if(g.length===0)return[0,0];const y=[],k=4,$=[void 0,encoder.uint8,encoder.uint16,encoder.uint24,encoder.uint32][k];for(let V=0;V<r.length;V+=1){const L=$(r[V]);Array.prototype.push.apply(y,L)}return Array.prototype.concat(encoder.Card16(n.length),encoder.OffSize(k),y,g)};function equals(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r+=1)if(!equals(n[r],e[r]))return!1;return!0}else return!1}function encodeString(n,e){let r,g=cffStandardStrings.indexOf(n);g>=0&&(r=g);const y=encodeToASCII(n);return g=e.indexOf(y),g>=0?r=g+cffStandardStrings.length:(r=cffStandardStrings.length+e.length,e.push(y)),r}function encodeToASCII(n){return typeof n=="number"?n:n.split("").map(e=>{const r=e.charCodeAt(0);return r<128?e:`${r.toString(16).padStart(4,"0")}`}).join("")}const createDict=(n,e,r)=>{const g=[];for(let k=0;k<n.length;k+=1){const $=n[k];let V=e[$.name];if(V!==void 0&&!equals(V,$.value)){if($.type==="SID"&&(V=encodeString(V,r)),Array.isArray(V)){V=Object.assign([],V);for(let L=0;L<V.length;L++)$.type[L]==="SID"&&(V[L]=encodeString(V[L],r))}g.push({op:$.op,name:$.name,type:$.type,value:V})}}let y=[];for(let k=0;k<g.length;k+=1){const $=g[k],V=$.op;y=y.concat(encoder.Operand($.value,$.type)),y=y.concat(encoder.Operator(V))}return y},glyphToOps=n=>{const{lsb:e,xMin:r}=n,g=V=>V-r+e,y=[];y.push({name:"width",type:"number",value:n.advanceWidth});let k=0,$=0;for(let V=0;V<n.contours.length;V++){if(!n.contours[V].length)continue;const L=n.contours[V][0],z=Math.round(g(L.start.x)-k),j=Math.round(L.start.y-$);y.push({name:"dx",type:"number",value:z}),y.push({name:"dy",type:"number",value:j}),y.push({name:"rmoveto",type:"op",value:21}),k=Math.round(g(L.start.x)),$=Math.round(L.start.y);for(let re=0;re<n.contours[V].length;re++){const oe=n.contours[V][re];switch(oe.type){case PathType.LINE:{const ae=Math.round(g(oe.end.x)-k),de=Math.round(oe.end.y-$);y.push({name:"dx",type:"number",value:ae}),y.push({name:"dy",type:"number",value:de}),y.push({name:"rlineto",type:"op",value:5}),k=Math.round(g(oe.end.x)),$=Math.round(oe.end.y);break}case PathType.CUBIC_BEZIER:{const ae=Math.round(g(oe.control1.x)-k),de=Math.round(oe.control1.y-$),ue=Math.round(g(oe.control2.x)-g(oe.control1.x)),pe=Math.round(oe.control2.y-oe.control1.y),he=Math.round(g(oe.end.x)-g(oe.control2.x)),xe=Math.round(oe.end.y-oe.control2.y);y.push({name:"dx1",type:"number",value:ae}),y.push({name:"dy1",type:"number",value:de}),y.push({name:"dx2",type:"number",value:ue}),y.push({name:"dy2",type:"number",value:pe}),y.push({name:"dx",type:"number",value:he}),y.push({name:"dy",type:"number",value:xe}),y.push({name:"rrcurveto",type:"op",value:8}),k=Math.round(g(oe.end.x)),$=Math.round(oe.end.y)}}}}return y.push({name:"endchar",type:"op",value:14}),y},createTable=(n,e)=>{const r=1/e.unitsPerEm,g={header:{major:1,minor:0,hdrSize:4,offSize:2},nameIndex:{data:[e.postScriptName]},globalSubrIndex:{data:[]},topDict:{version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,charStrings:999,ros:["Adobe","GB1",5],cidFontVersion:1,cidFontRevision:0,cidFontType:0,cidCount:n.length,isFixedPitch:1,fdArray:0,fdSelect:0}},y=[];for(let $=1;$<n.length;$++)y.push(n[$].name);const k=[];return g.charsets={format:0,data:y},g.glyphTables=n.map($=>({numberOfContours:$.contourNum,contours:$.contours,advanceWidth:$.advanceWidth,lsb:$.leftSideBearing,rsb:$.rightSideBearing,xMin:$.xMin,xMax:$.xMax,yMin:$.yMin,yMax:$.yMax})),g.stringIndex={data:k},g},create$2=async n=>{const e=n,r=e.header;let g=[];const y=e.glyphTables;Object.keys(r).forEach(Lt=>{const wn=types$3[Lt],Et=r[Lt],xn=encoder[wn](Et);xn&&(g=g.concat(xn))});const k=e.nameIndex,$=createIndex(k.data.map(Lt=>({type:"Name",value:Lt}))),V=[],L=[0,0],z=e.charsets.data;let j=[];j=j.concat(encoder.Card8(0));for(let Lt=0;Lt<z.length;Lt+=1){const wn=Lt+1;j=j.concat(encoder.SID(wn))}const re=[];let oe=0;const ae=async()=>{if(oe>=y.length)return;if(loaded$1.value++,loaded$1.value>=total$1.value){loading$1.value=!1,loaded$1.value=0,total$1.value=0;return}const Lt=y[oe],wn=glyphToOps(Lt);if(re.push({type:"CharString",value:wn}),oe++,oe<y.length)return oe%100===0&&await new Promise(Et=>setTimeout(Et,0)),ae()};await ae();const de=createIndex(re),ue={private:[0,0],fontBBox:e.topDict.fontBBox,fontMatrix:e.topDict.fontMatrix,fontName:e.topDict.familyName,weight:e.topDict.weight};let pe=createDict(FONT_DICT_META,ue,V),he=createIndex([{type:"raw",value:pe}]);const xe=createFDSelect(y);let $e=createDict(TOP_DICT_META,e.topDict,V),Ne=createIndex([{type:"raw",value:$e}]),_e=createDict(PRIVATE_DICT_META,{BlueValues:[-16,16,800,16],OtherBlues:[-216,16],BlueScale:.039625,BlueShift:7,BlueFuzz:1,ForcedBold:0,LanguageGroup:0,ExpansionFactor:.06,initialRandomSeed:0,defaultWidthX:0,nominalWidthX:0,StdHW:50,StdVW:100},V);e.stringIndex;const Fe=createIndex(V.map(Lt=>({type:"Name",value:Lt}))),Ue=g.length+$.length+Ne.length+Fe.length+L.length;return e.topDict.charset=Ue,e.topDict.charStrings=e.topDict.charset+j.length+xe.length,e.topDict.fdArray=e.topDict.charStrings+de.length,e.topDict.fdSelect=e.topDict.charset+j.length,ue.private[0]=_e.length,ue.private[1]=e.topDict.charStrings+de.length+he.length,pe=createDict(FONT_DICT_META,ue,V),he=createIndex([{type:"raw",value:pe}]),$e=createDict(TOP_DICT_META,e.topDict,V),Ne=createIndex([{type:"raw",value:$e}]),[...g,...$,...Ne,...Fe,...L,...j,...xe,...de,...he,..._e]},cffTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$2,createTable,parse:parse$6,parseType2CharString},Symbol.toStringTag,{value:"Module"})),tableTool={head:headTable,hhea:hheaTable,"OS/2":os2Table,maxp:maxpTable,name:nameTable,post:postTable,cmap:cmapTable,hmtx:hmtxTable,glyf:glyfTable,loca:locaTable,"CFF ":cffTable},types$2={sfntVersion:"Tag",numTables:"uint16",searchRange:"uint16",entrySelector:"uint16",rangeShift:"uint16",tag:"Tag",checkSum:"uint32",offset:"uint32",length:"uint32"},log2=n=>Math.log(n)/Math.log(2)|0,createRecord=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$2[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},createConfig=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$2[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},updateCharactersByTables=n=>{n.characters=parseTablesToCharacters(n.tables)},parse$5=(n,e)=>{start(n,0);const r=decoder[types$2.sfntVersion](),g=decoder[types$2.numTables](),y=decoder[types$2.searchRange](),k=decoder[types$2.entrySelector](),$=decoder[types$2.rangeShift](),V={sfntVersion:r,numTables:g,searchRange:y,entrySelector:k,rangeShift:$};e.tableConfig=V;for(let z=0;z<g;z++){const j=decoder[types$2.tag](),re=decoder[types$2.checkSum](),oe=decoder[types$2.offset](),ae=decoder[types$2.length](),de={name:j.tagStr,table:null,config:{tableTag:j,checkSum:re,offset:oe,length:ae}};e.tables.push(de)}end$2();const L={head:1,maxp:2,loca:3,hhea:4,name:5,post:6,"OS/2":7,hmtx:8,cmap:9,glyf:10,"CFF ":11};return e.tables=e.tables.filter(z=>L[z.name]).sort((z,j)=>L[z.name]-L[j.name]),e.tables.map(z=>{z.table=tableTool[z.name]?.parse(n,z.config.offset,e)}),updateCharactersByTables(e),e},create$1=async(n,e="")=>{let r=0;const g=[],y={},k={},$=Object.keys(n),V=$.length,L=Math.pow(2,log2(V)),z=16*L,j=createConfig({sfntVersion:"OTTO",numTables:V,searchRange:z,entrySelector:log2(L),rangeShift:V*16-z});r+=computeCheckSum(j);let re=[],oe=[],ae=j.length+createRecord({tag:"xxxx",checkSum:0,offset:0,length:0}).length*V,de=0;for(;ae%4!==0;)ae++,de++;for(let ue=0;ue<$.length;ue++){const pe=n[$[ue]];let he=null;$[ue]==="CFF "?he=await tableTool[$[ue]].create(pe):he=tableTool[$[ue]].create(pe),k[$[ue]]=he;let xe=computeCheckSum(he);if(xe%=4294967296,$[ue]==="head"&&e==="final"){const Oe=clone$1(pe);Oe.checkSumAdjustment=0;let _e=null;$[ue]==="CFF "?_e=await tableTool[$[ue]].create(pe):_e=tableTool[$[ue]].create(pe),xe=computeCheckSum(_e),xe%=4294967296}const $e=he.length,Ne=createRecord({tag:$[ue],checkSum:xe,offset:ae,length:$e});for(g.push({name:$[ue],table:pe,config:{tableTag:{tagStr:$[ue]},checkSum:xe,offset:ae,length:$e}}),r+=computeCheckSum(Ne),r+=computeCheckSum(he),y[$[ue]]=Ne,oe=oe.concat(he),ae+=$e;ae%4!==0;)ae++,oe=oe.concat(encoder.uint8(0))}$.sort((ue,pe)=>ue>pe?1:-1);for(let ue=0;ue<$.length;ue++){const pe=y[$[ue]];re=re.concat(pe)}for(let ue=0;ue<de;ue++)re=re.concat(encoder.uint8(0));return{data:[...j,...re,...oe],tables:g,tablesDataMap:k,checksum:r}};var UNIHANS=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],PINYINS=["A","AI","AN","ANG","AO","BA","BAI","BAN","BANG","BAO","BEI","BEN","BENG","BI","BIAN","BIAO","BIE","BIN","BING","BO","BU","CA","CAI","CAN","CANG","CAO","CE","CEN","CENG","CHA","CHAI","CHAN","CHANG","CHAO","CHE","CHEN","CHENG","CHI","CHONG","CHOU","CHU","CHUA","CHUAI","CHUAN","CHUANG","CHUI","CHUN","CHUO","CI","CONG","COU","CU","CUAN","CUI","CUN","CUO","DA","DAI","DAN","DANG","DAO","DE","DEN","DENG","DI","DIAN","DIAO","DIE","DING","DIU","DONG","DOU","DU","DUAN","DUI","DUN","DUO","E","EI","EN","ENG","ER","FA","FAN","FANG","FEI","FEN","FENG","FIAO","FO","FOU","FU","GA","GAI","GAN","GANG","GAO","GE","GEI","GEN","GENG","GONG","GOU","GU","GUA","GUAI","GUAN","GUANG","GUI","GUN","GUO","HA","HAI","HAN","HANG","HAO","HE","HEI","HEN","HENG","HM","HONG","HOU","HU","HUA","HUAI","HUAN","HUANG","HUI","HUN","HUO","JI","JIA","JIAN","JIANG","JIAO","JIE","JIN","JING","JIONG","JIU","JU","JUAN","JUE","JUN","KA","KAI","KAN","KANG","KAO","KE","KEN","KENG","KONG","KOU","KU","KUA","KUAI","KUAN","KUANG","KUI","KUN","KUO","LA","LAI","LAN","LANG","LAO","LE","LEI","LENG","LI","LIA","LIAN","LIANG","LIAO","LIE","LIN","LING","LIU","LO","LONG","LOU","LU","LV","LUAN","LVE","LUN","LUO","M","MA","MAI","MAN","MANG","MAO","ME","MEI","MEN","MENG","MI","MIAN","MIAO","MIE","MIN","MING","MIU","MO","MOU","MU","N","NA","NAI","NAN","NANG","NAO","NE","NEI","NEN","NENG","NI","NIAN","NIANG","NIAO","NIE","NIN","NING","NIU","NONG","NOU","NU","NV","NUAN","NVE","NUN","NUO","O","OU","PA","PAI","PAN","PANG","PAO","PEI","PEN","PENG","PI","PIAN","PIAO","PIE","PIN","PING","PO","POU","PU","QI","QIA","QIAN","QIANG","QIAO","QIE","QIN","QING","QIONG","QIU","QU","QUAN","QUE","QUN","RAN","RANG","RAO","RE","REN","RENG","RI","RONG","ROU","RU","RUA","RUAN","RUI","RUN","RUO","SA","SAI","SAN","SANG","SAO","SE","SEN","SENG","SHA","SHAI","SHAN","SHANG","SHAO","SHE","SHEN","SHENG","SHI","SHOU","SHU","SHUA","SHUAI","SHUAN","SHUANG","SHUI","SHUN","SHUO","SI","SONG","SOU","SU","SUAN","SUI","SUN","SUO","TA","TAI","TAN","TANG","TAO","TE","TENG","TI","TIAN","TIAO","TIE","TING","TONG","TOU","TU","TUAN","TUI","TUN","TUO","WA","WAI","WAN","WANG","WEI","WEN","WENG","WO","WU","XI","XIA","XIAN","XIANG","XIAO","XIE","XIN","XING","XIONG","XIU","XU","XUAN","XUE","XUN","YA","YAN","YANG","YAO","YE","YI","YIN","YING","YO","YONG","YOU","YU","YUAN","YUE","YUN","ZA","ZAI","ZAN","ZANG","ZAO","ZE","ZEI","ZEN","ZENG","ZHA","ZHAI","ZHAN","ZHANG","ZHAO","ZHE","ZHEN","ZHENG","ZHI","ZHONG","ZHOU","ZHU","ZHUA","ZHUAI","ZHUAN","ZHUANG","ZHUI","ZHUN","ZHUO","ZI","ZONG","ZOU","ZU","ZUAN","ZUI","ZUN","ZUO",""],EXCEPTIONS={:"ZENG",:"SHEN",:"DIA",:"ZHOU",:"GUO",:"QUE",:"KE",:"HUA",:"MO",:"MO",:"PAN",:"XI",:"PAN",:"XIAN",:"XIN",:"CHI",:"XING",:"JUN",:"CHANG",:"ZHEN",:"SHI",:"NA",:"XIONG",:"SHUI"},dict={PINYINS,UNIHANS,EXCEPTIONS},_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},DICT=dict,FIRST_PINYIN_UNIHAN="",LAST_PINYIN_UNIHAN="",LATIN=1,PINYIN=2,UNKNOWN=3,supported=null,COLLATOR=void 0;function patchDict(n){n&&(typeof n=="function"&&(n=[n]),n.forEach&&n.forEach(function(e){typeof e=="function"&&e(DICT)}))}function isSupported(n){return!n&&supported!==null||((typeof Intl>"u"?"undefined":_typeof$2(Intl))==="object"&&Intl.Collator?(COLLATOR=new Intl.Collator(["zh-Hans-CN","zh-CN"]),supported=Intl.Collator.supportedLocalesOf(["zh-CN"]).length===1):supported=!1),supported}function genToken(n){var e=DICT.UNIHANS,r=DICT.PINYINS,g=DICT.EXCEPTIONS,y={source:n};if(n in g)return y.type=PINYIN,y.target=g[n],y;var k=-1,$=void 0;if(n.charCodeAt(0)<256)return y.type=LATIN,y.target=n,y;if($=COLLATOR.compare(n,FIRST_PINYIN_UNIHAN),$<0)return y.type=UNKNOWN,y.target=n,y;if($===0)y.type=PINYIN,k=0;else{if($=COLLATOR.compare(n,LAST_PINYIN_UNIHAN),$>0)return y.type=UNKNOWN,y.target=n,y;$===0&&(y.type=PINYIN,k=e.length-1)}if(y.type=PINYIN,k<0)for(var V=0,L=e.length-1;V<=L;){k=~~((V+L)/2);var z=e[k];if($=COLLATOR.compare(n,z),$===0)break;$>0?V=k+1:L=k-1}return $<0&&k--,y.target=r[k],y.target||(y.type=UNKNOWN,y.target=y.source),y}function parse$4(n){if(typeof n!="string")throw new Error("argument should be string.");if(!isSupported())throw new Error("not support Intl or zh-CN language.");return n.split("").map(function(e){return genToken(e)})}var core={isSupported,parse:parse$4,patchDict,genToken,convertToPinyin:function(e,r,g){return parse$4(e).map(function(y){return g&&y.type===PINYIN?y.target.toLowerCase():y.target}).join(r||"")}},_56l={exports:{}};(function(n,e){e=n.exports=function(g){g.EXCEPTIONS={:"DIA",:"ZHOU",:"GUO",:"QUE",:"KE",:"HUA",:"MO",:"XI",:"PAN",:"XIAN",:"CHI",:"XING",:"ZHEN",:"XIONG",:"SHUI",:"KE"},g.UNIHANS[91]="",g.UNIHANS[347]="",g.UNIHANS[393]="",g.UNIHANS[39]="",g.UNIHANS[50]="",g.UNIHANS[369]="",g.UNIHANS[123]="",g.UNIHANS[171]="",g.UNIHANS[102]="",g.UNIHANS[126]="",g.UNIHANS[176]="",g.UNIHANS[178]="",g.UNIHANS[252]="",g.UNIHANS[330]=""},e.shouldPatch=function(g){return typeof g!="function"?!1:g("").target==="FOU"&&g("").target==="XIA"&&g("").target==="ZHONG"&&g("").target==="CHONG"&&g("").target==="CONG"&&g("").target==="YONG"&&g("").target==="HOU"&&g("").target==="LENG"&&g("").target==="GONG"&&g("").target==="HUAI"&&g("").target==="LIAO"&&g("").target==="LIN"&&g("").target==="E"}})(_56l,_56l.exports);var _56lExports=_56l.exports,pinyin=core,patcher56L=_56lExports;pinyin.isSupported()&&patcher56L.shouldPatch(pinyin.genToken)&&pinyin.patchDict(patcher56L);var dist$1=pinyin;const average=n=>{let e=0;for(let r=0;r<n.length;r+=1)e+=n[r];return e/n.length},parseFont=n=>{const e=new DataView(n);return parse$5(e,{characters:[],settings:{},rawData:e,buffer:n,tables:[]})},createFont$2=async(n,e)=>{let r="";for(let Tn=0;Tn<e.familyName.length;Tn++){const Dt=e.familyName[Tn].charCodeAt(0);Dt>=33&&Dt<=126?r+=`${e.familyName[Tn]}`:r+=`${Dt}`}hasChineseChar(e.familyName)&&(r=dist$1.convertToPinyin(e.familyName));const g={fontFamily:{en:e.familyName||" ",zh:e.familyName||" "},fontSubfamily:{en:"Regular",zh:""},fullName:{en:e.fullName||e.familyName+" "+e.styleName,zh:e.fullName||e.familyName+" "},postScriptName:{en:e.postScriptName||(r+"-"+e.styleName).replace(/\s/g,"").slice(0,63),zh:e.postScriptName||(r+"-"+e.styleName).replace(/\s/g,"").slice(0,63)},designer:{en:e.designer||" ",zh:e.designer||" "},designerURL:{en:e.designerURL||" ",zh:e.designerURL||" "},manufacturer:{en:e.manufacturer||" ",zh:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" ",zh:e.manufacturerURL||" "},license:{en:e.license||" ",zh:e.license||" "},licenseURL:{en:e.licenseURL||" ",zh:e.licenseURL||" "},version:{en:e.version||"Version 1.0",zh:e.version||"Version 1.0"},description:{en:e.description||" ",zh:e.description||" "},copyright:{en:e.copyright||" ",zh:e.copyright||" "},trademark:{en:e.trademark||" ",zh:e.trademark||" "}},y=Object.keys(g);for(let Tn=0;Tn<y.length;Tn++){const Dt=g[y[Tn]].en;hasChineseChar(Dt)&&(g[y[Tn]].en=dist$1.convertToPinyin(Dt))}const k={characters:n,settings:{unitsPerEm:e.unitsPerEm||1e3,ascender:e.ascender,descender:e.descender}},$=[],V=[],L=[],z=[],j=[],re=[],oe=[];let ae,de=0,ue=0,pe=0,he=0,xe=0,$e=0;const Ne=async()=>{if($e>=n.length)return;if(loaded$1.value++,loaded$1.value>=total$1.value){loading$1.value=!1,loaded$1.value=0,total$1.value=0;return}const Tn=n[$e],Dt=Tn.unicode|0;(ae>Dt||ae===void 0)&&Dt>0&&(ae=Dt),de<Dt&&(de=Dt);const hn=getUnicodeRange(Dt);if(hn<32)ue|=1<<hn;else if(hn<64)pe|=1<<hn-32;else if(hn<96)he|=1<<hn-64;else if(hn<123)xe|=1<<hn-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");const Vn=getMetrics(Tn);if($.push(Vn.xMin),V.push(Vn.yMin),L.push(Vn.xMax),z.push(Vn.yMax),re.push(Vn.leftSideBearing),oe.push(Vn.rightSideBearing),j.push(Tn.advanceWidth),Tn.xMin=Vn.xMin,Tn.xMax=Vn.xMax,Tn.yMin=Vn.yMin,Tn.yMax=Vn.yMax,Tn.rightSideBearing=Vn.rightSideBearing,Tn.leftSideBearing=Vn.leftSideBearing,$e++,$e<n.length)return $e%100===0&&await new Promise(Kn=>setTimeout(Kn,0)),Ne()};await Ne();const Oe={xMin:Math.min.apply(null,$),yMin:Math.min.apply(null,V),xMax:Math.max.apply(null,L),yMax:Math.max.apply(null,z),advanceWidthMax:Math.max.apply(null,j),advanceWidthAvg:average(j),minLeftSideBearing:Math.min.apply(null,re),maxLeftSideBearing:Math.max.apply(null,re),minRightSideBearing:Math.min.apply(null,oe),ascender:e.ascender,descender:e.descender},_e=e.tables?e.tables.head:{},Fe=Tn=>{let Dt=0;for(let hn=0;hn<Tn.length;hn++)Tn[hn]&&(Dt+=Math.pow(2,hn));return Dt},Ue=Tn=>{let Dt=0;for(let hn=0;hn<Tn.length;hn++)Tn[hn]&&(Dt+=Math.pow(2,hn));return Dt},kt={majorVersion:_e.majorVersion||1,minorVersion:_e.minorVersion||0,fontRevision:_e.fontRevision||65536,checkSumAdjustment:0,magicNumber:1594834165,flags:_e.flags?Fe(_e.flags):3,unitsPerEm:e.unitsPerEm,created:_e.created?.timestamp||Math.floor(e.createdTimestamp||Date.now()/1e3)+2082844800,modified:_e.modified?.timestamp||Math.floor(Date.now()/1e3)+2082844800,xMin:0,yMin:-200,xMax:1e3,yMax:800,macStyle:_e.macStyle?Ue(_e.macStyle):0,lowestRecPPEM:_e.lowestRecPPEM||7,fontDirectionHint:_e.fontDirectionHint||2,indexToLocFormat:0,glyphDataFormat:0},Lt=e.tables?e.tables.hhea:{},wn={majorVersion:Lt.majorVersion||1,minorVersion:Lt.minorVersion||0,ascender:e.ascender,descender:e.descender,lineGap:Lt.lineGap||0,advanceWidthMax:Oe.advanceWidthMax,minLeftSideBearing:Oe.minLeftSideBearing,minRightSideBearing:Oe.minRightSideBearing,xMaxExtent:Oe.maxLeftSideBearing+(Oe.xMax-Oe.xMin),caretSlopeRise:Lt.caretSlopeRise||1,caretSlopeRun:Lt.caretSlopeRun||0,caretOffset:Lt.caretOffset||0,reserved0:0,reserved1:0,reserved2:0,reserved3:0,metricDataFormat:0,numberOfHMetrics:n.length},Et={version:20480,numGlyphs:n.length},xn=e.tables?e.tables.os2:{},jt=Tn=>{let Dt=0;for(let hn=0;hn<Tn.length;hn++)Tn[hn]&&(Dt+=Math.pow(2,hn));return Dt},An={version:5,xAvgCharWidth:Math.round(Oe.advanceWidthAvg),usWeightClass:xn.usWeightClass||400,usWidthClass:xn.usWidthClass||5,fsType:xn.fsType||0,ySubscriptXSize:xn.ySubscriptXSize||650,ySubscriptYSize:xn.ySubscriptYSize||699,ySubscriptXOffset:xn.ySubscriptXOffset||0,ySubscriptYOffset:xn.ySubscriptYOffset||140,ySuperscriptXSize:xn.ySuperscriptXOffset||650,ySuperscriptYSize:xn.ySuperscriptYOffset||699,ySuperscriptXOffset:xn.ySuperscriptXOffse||0,ySuperscriptYOffset:xn.ySuperscriptYOffset||479,yStrikeoutSize:xn.yStrikeoutSize||49,yStrikeoutPosition:xn.yStrikeoutPosition||258,sFamilyClass:xn.sFamilyClass||0,panose:xn.panose||[0,0,0,0,0,0,0,0,0,0],ulUnicodeRange1:ue,ulUnicodeRange2:pe,ulUnicodeRange3:he,ulUnicodeRange4:xe,achVendID:xn.achVendID||"UKWN",fsSelection:xn.fsSelection?jt(xn.fsSelection):64,usFirstCharIndex:ae,usLastCharIndex:de,sTypoAscender:Oe.ascender,sTypoDescender:Oe.descender,sTypoLineGap:Lt.lineGap||0,usWinAscent:e.ascender||800,usWinDescent:-e.descender||200,ulCodePageRange1:1|1<<18|1<<20,ulCodePageRange2:0,sxHeight:metricsForChar(k,"xyvw",{yMax:Math.round(Oe.ascender/2)}).yMax,sCapHeight:metricsForChar(k,"HIKLEFJMNTZBDPRAGOQSUVWXY",Oe).yMax,usDefaultChar:hasChar(k," ")?32:0,usBreakChar:hasChar(k," ")?32:0,usMaxContext:0,usLowerOpticalPointSize:xn.usLowerOpticalPointSize||8,usUpperOpticalPointSize:xn.usUpperOpticalPointSize||72},Dn={hMetrics:[]};for(let Tn=0;Tn<n.length;Tn++){const Dt=n[Tn],hn=Dt.advanceWidth||0,Vn=Dt.leftSideBearing||0;Dn.hMetrics.push({advanceWidth:hn,lsb:Vn})}const En=createTable$1(n),Bn=Tn=>{const Dt=g[Tn];if(Dt)return Dt.en},$n=Bn("fontFamily"),Wn=Bn("fontSubfamily"),Gn=$n+"-"+Wn;let Nn=Bn("postScriptName");Nn||(Nn=$n.replace(/\s/g,"")+"-"+Wn);const Zn={};for(let Tn in g)Zn[Tn]=g[Tn];Zn.uniqueID||(Zn.uniqueID={en:Gn,zh:Gn}),Zn.postScriptName||(Zn.postScriptName={en:Nn,zh:Nn});const Hn=e.tables?createTable2(e.tables.name):createTable$2(Zn),rr=e.tables?e.tables.post:{},Xn={version:196608,italicAngle:rr.italicAngle||0,underlinePosition:rr.underlinePosition||0,underlineThickness:rr.underlineThickness||0,isFixedPitch:rr.isFixedPitch||1,minMemType42:rr.minMemType42||0,maxMemType42:rr.maxMemType42||0,minMemType1:rr.minMemType1||0,maxMemType1:rr.maxMemType1||0},Pn=createTable(n,{version:Bn("version"),fullName:Gn,familyName:$n,weightName:Wn,postScriptName:Nn,unitsPerEm:k.settings.unitsPerEm,fontBBox:[0,Oe.yMin,Oe.ascender,Oe.advanceWidthMax]}),jn={head:kt,hhea:wn,maxp:Et,"OS/2":An,name:Hn,cmap:En,post:Xn,hmtx:Dn,"CFF ":Pn};kt.checkSumAdjustment=0;let fr=await create$1(jn,"checksum");const yr=fr.checksum;kt.checkSumAdjustment=2981146554-yr%4294967296;const Cr=encoder.uint32(kt.checkSumAdjustment);kt.checkSumAdjustment<0&&(kt.checkSumAdjustment=(kt.checkSumAdjustment+4294967296)%4294967296);const{data:sr,tables:zn,tablesDataMap:vn}=fr;return sr[164]=Cr[0],sr[165]=Cr[1],sr[166]=Cr[2],sr[167]=Cr[3],k.bytes=sr,Object.keys(jn).sort((Tn,Dt)=>Tn>Dt?1:-1),k.tables=zn,k},toArrayBuffer=n=>{if(n.bytes){const e=new ArrayBuffer(n.bytes.length),r=new Uint8Array(e);for(let g=0;g<n.bytes.length;g++)r[g]=n.bytes[g];return e}else if(n.rawData)return n.rawData.buffer},metricsForChar=(n,e,r)=>{for(let g=0;g<e.length;g+=1){const y=getCharacterIndex(n,e[g]);if(y>0){const k=n.characters[y];return getMetrics(k)}}return r},getCharacterIndex=(n,e)=>{const r=e.codePointAt(0),g=n.characters;if(g){for(let y=0;y<g.length;y++)if(g[y].unicode===r)return y}return-1},hasChar=(n,e)=>getCharacterIndex(n,e)!==-1,parse$3=n=>parseFont(n),create=(n,e)=>createFont$2(n,e),editing$7=ref(!1),setEditing$5=n=>{editing$7.value=n},points$1=reactive({value:[]}),setPoints$1=n=>{points$1.value=n},mousedown$1=ref(!1),mousemove$1=ref(!1),editing$6=ref(!1),setEditing$4=n=>{editing$6.value=n},points=reactive({value:[]}),setPoints=n=>{points.value=n},mousedown=ref(!1),mousemove=ref(!1),editing$5=ref(!1),setEditing$3=n=>{editing$5.value=n},rectX=ref(-1),setRectX=n=>{rectX.value=n},rectY=ref(-1),setRectY=n=>{rectY.value=n},rectWidth=ref(0),setRectWidth=n=>{rectWidth.value=n},rectHeight=ref(0),setRectHeight=n=>{rectHeight.value=n},editing$4=ref(!1),setEditing$2=n=>{editing$4.value=n},ellipseX=ref(-1),setEllipseX=n=>{ellipseX.value=n},ellipseY=ref(-1),setEllipseY=n=>{ellipseY.value=n},radiusX=ref(0),setRadiusX=n=>{radiusX.value=n},radiusY=ref(0),setRadiusY=n=>{radiusY.value=n},selectControl$2=ref("null"),selectAnchor=ref(""),selectPenPoint=ref(""),hoverPenPoint=ref(""),onPenEditMode=ref(!1),setOnPenEditMode=n=>{onPenEditMode.value=n},FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,obtainAllFocusableElements$1=n=>Array.from(n.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(e=>isFocusable(e)&&isVisible(e)),isFocusable=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.disabled)return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(n,e,...r){let g;e.includes("mouse")||e.includes("click")?g="MouseEvents":e.includes("key")?g="KeyboardEvent":g="HTMLEvents";const y=document.createEvent(g);return y.initEvent(e,...r),n.dispatchEvent(y),n},isLeaf=n=>!n.getAttribute("aria-owns"),getSibling=(n,e,r)=>{const{parentNode:g}=n;if(!g)return null;const y=g.querySelectorAll(r),k=Array.prototype.indexOf.call(y,n);return y[k+e]||null},focusNode=n=>{n&&(n.focus(),!isLeaf(n)&&n.click())},composeEventHandlers=(n,e,{checkForDefaultPrevented:r=!0}={})=>y=>{const k=n?.(y);if(r===!1||!k)return e?.(y)},whenMouse=n=>e=>e.pointerType==="mouse"?n(e):void 0;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(n,e,r)=>e in n?__defProp$9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues$9=(n,e)=>{for(var r in e||(e={}))__hasOwnProp$b.call(e,r)&&__defNormalProp$9(n,r,e[r]);if(__getOwnPropSymbols$b)for(var r of __getOwnPropSymbols$b(e))__propIsEnum$b.call(e,r)&&__defNormalProp$9(n,r,e[r]);return n},__spreadProps$6=(n,e)=>__defProps$6(n,__getOwnPropDescs$6(e));function computedEager(n,e){var r;const g=shallowRef();return watchEffect(()=>{g.value=n()},__spreadProps$6(__spreadValues$9({},e),{flush:(r=e?.flush)!=null?r:"sync"})),readonly(g)}var _a$1;const isClient=typeof window<"u",isDef=n=>typeof n<"u",isFunction$2=n=>typeof n=="function",isString$2=n=>typeof n=="string",noop$4=()=>{},isIOS=isClient&&((_a$1=window?.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(n){return typeof n=="function"?n():unref(n)}function createFilterWrapper(n,e){function r(...g){return new Promise((y,k)=>{Promise.resolve(n(()=>e.apply(this,g),{fn:e,thisArg:this,args:g})).then(y).catch(k)})}return r}function debounceFilter(n,e={}){let r,g,y=noop$4;const k=V=>{clearTimeout(V),y(),y=noop$4};return V=>{const L=resolveUnref(n),z=resolveUnref(e.maxWait);return r&&k(r),L<=0||z!==void 0&&z<=0?(g&&(k(g),g=null),Promise.resolve(V())):new Promise((j,re)=>{y=e.rejectOnCancel?re:j,z&&!g&&(g=setTimeout(()=>{r&&k(r),g=null,j(V())},z)),r=setTimeout(()=>{g&&k(g),g=null,j(V())},L)})}}function throttleFilter(n,e=!0,r=!0,g=!1){let y=0,k,$=!0,V=noop$4,L;const z=()=>{k&&(clearTimeout(k),k=void 0,V(),V=noop$4)};return re=>{const oe=resolveUnref(n),ae=Date.now()-y,de=()=>L=re();return z(),oe<=0?(y=Date.now(),de()):(ae>oe&&(r||!$)?(y=Date.now(),de()):e&&(L=new Promise((ue,pe)=>{V=g?pe:ue,k=setTimeout(()=>{y=Date.now(),$=!0,ue(de()),z()},Math.max(0,oe-ae))})),!r&&!k&&(k=setTimeout(()=>$=!0,oe)),$=!1,L)}}function identity$1(n){return n}function tryOnScopeDispose(n){return getCurrentScope()?(onScopeDispose(n),!0):!1}function useDebounceFn(n,e=200,r={}){return createFilterWrapper(debounceFilter(e,r),n)}function refDebounced(n,e=200,r={}){const g=ref(n.value),y=useDebounceFn(()=>{g.value=n.value},e,r);return watch(n,()=>y()),g}function useThrottleFn(n,e=200,r=!1,g=!0,y=!1){return createFilterWrapper(throttleFilter(e,r,g,y),n)}function tryOnMounted(n,e=!0){getCurrentInstance()?onMounted(n):e?n():nextTick(n)}function useTimeoutFn(n,e,r={}){const{immediate:g=!0}=r,y=ref(!1);let k=null;function $(){k&&(clearTimeout(k),k=null)}function V(){y.value=!1,$()}function L(...z){$(),y.value=!0,k=setTimeout(()=>{y.value=!1,k=null,n(...z)},resolveUnref(e))}return g&&(y.value=!0,isClient&&L()),tryOnScopeDispose(V),{isPending:readonly(y),start:L,stop:V}}function unrefElement(n){var e;const r=resolveUnref(n);return(e=r?.$el)!=null?e:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...n){let e,r,g,y;if(isString$2(n[0])||Array.isArray(n[0])?([r,g,y]=n,e=defaultWindow):[e,r,g,y]=n,!e)return noop$4;Array.isArray(r)||(r=[r]),Array.isArray(g)||(g=[g]);const k=[],$=()=>{k.forEach(j=>j()),k.length=0},V=(j,re,oe,ae)=>(j.addEventListener(re,oe,ae),()=>j.removeEventListener(re,oe,ae)),L=watch(()=>[unrefElement(e),resolveUnref(y)],([j,re])=>{$(),j&&k.push(...r.flatMap(oe=>g.map(ae=>V(j,oe,ae,re))))},{immediate:!0,flush:"post"}),z=()=>{L(),$()};return tryOnScopeDispose(z),z}let _iOSWorkaround=!1;function onClickOutside(n,e,r={}){const{window:g=defaultWindow,ignore:y=[],capture:k=!0,detectIframe:$=!1}=r;if(!g)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(g.document.body.children).forEach(oe=>oe.addEventListener("click",noop$4)));let V=!0;const L=oe=>y.some(ae=>{if(typeof ae=="string")return Array.from(g.document.querySelectorAll(ae)).some(de=>de===oe.target||oe.composedPath().includes(de));{const de=unrefElement(ae);return de&&(oe.target===de||oe.composedPath().includes(de))}}),j=[useEventListener(g,"click",oe=>{const ae=unrefElement(n);if(!(!ae||ae===oe.target||oe.composedPath().includes(ae))){if(oe.detail===0&&(V=!L(oe)),!V){V=!0;return}e(oe)}},{passive:!0,capture:k}),useEventListener(g,"pointerdown",oe=>{const ae=unrefElement(n);ae&&(V=!oe.composedPath().includes(ae)&&!L(oe))},{passive:!0}),$&&useEventListener(g,"blur",oe=>{var ae;const de=unrefElement(n);((ae=g.document.activeElement)==null?void 0:ae.tagName)==="IFRAME"&&!de?.contains(g.document.activeElement)&&e(oe)})].filter(Boolean);return()=>j.forEach(oe=>oe())}function useSupported(n,e=!1){const r=ref(),g=()=>r.value=!!n();return g(),tryOnMounted(g,e),r}function cloneFnJSON(n){return JSON.parse(JSON.stringify(n))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};function useCssVar(n,e,{window:r=defaultWindow,initialValue:g=""}={}){const y=ref(g),k=computed(()=>{var $;return unrefElement(e)||(($=r?.document)==null?void 0:$.documentElement)});return watch([k,()=>resolveUnref(n)],([$,V])=>{var L;if($&&r){const z=(L=r.getComputedStyle($).getPropertyValue(V))==null?void 0:L.trim();y.value=z||g}},{immediate:!0}),watch(y,$=>{var V;(V=k.value)!=null&&V.style&&k.value.style.setProperty(resolveUnref(n),$)}),y}function useDocumentVisibility({document:n=defaultDocument}={}){if(!n)return ref("visible");const e=ref(n.visibilityState);return useEventListener(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(n,e)=>{var r={};for(var g in n)__hasOwnProp$g.call(n,g)&&e.indexOf(g)<0&&(r[g]=n[g]);if(n!=null&&__getOwnPropSymbols$g)for(var g of __getOwnPropSymbols$g(n))e.indexOf(g)<0&&__propIsEnum$g.call(n,g)&&(r[g]=n[g]);return r};function useResizeObserver(n,e,r={}){const g=r,{window:y=defaultWindow}=g,k=__objRest$2(g,["window"]);let $;const V=useSupported(()=>y&&"ResizeObserver"in y),L=()=>{$&&($.disconnect(),$=void 0)},z=watch(()=>unrefElement(n),re=>{L(),V.value&&y&&re&&($=new ResizeObserver(e),$.observe(re,k))},{immediate:!0,flush:"post"}),j=()=>{L(),z()};return tryOnScopeDispose(j),{isSupported:V,stop:j}}function useElementBounding(n,e={}){const{reset:r=!0,windowResize:g=!0,windowScroll:y=!0,immediate:k=!0}=e,$=ref(0),V=ref(0),L=ref(0),z=ref(0),j=ref(0),re=ref(0),oe=ref(0),ae=ref(0);function de(){const ue=unrefElement(n);if(!ue){r&&($.value=0,V.value=0,L.value=0,z.value=0,j.value=0,re.value=0,oe.value=0,ae.value=0);return}const pe=ue.getBoundingClientRect();$.value=pe.height,V.value=pe.bottom,L.value=pe.left,z.value=pe.right,j.value=pe.top,re.value=pe.width,oe.value=pe.x,ae.value=pe.y}return useResizeObserver(n,de),watch(()=>unrefElement(n),ue=>!ue&&de()),y&&useEventListener("scroll",de,{capture:!0,passive:!0}),g&&useEventListener("resize",de,{passive:!0}),tryOnMounted(()=>{k&&de()}),{height:$,bottom:V,left:L,right:z,top:j,width:re,x:oe,y:ae,update:de}}var SwipeDirection;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(n,e,r)=>e in n?__defProp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues=(n,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp(n,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp(n,r,e[r]);return n};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);function useVModel(n,e,r,g={}){var y,k,$;const{clone:V=!1,passive:L=!1,eventName:z,deep:j=!1,defaultValue:re}=g,oe=getCurrentInstance(),ae=r||oe?.emit||((y=oe?.$emit)==null?void 0:y.bind(oe))||(($=(k=oe?.proxy)==null?void 0:k.$emit)==null?void 0:$.bind(oe?.proxy));let de=z;e||(e="modelValue"),de=z||de||`update:${e.toString()}`;const ue=he=>V?isFunction$2(V)?V(he):cloneFnJSON(he):he,pe=()=>isDef(n[e])?ue(n[e]):re;if(L){const he=pe(),xe=ref(he);return watch(()=>n[e],$e=>xe.value=ue($e)),watch(xe,$e=>{($e!==n[e]||j)&&ae(de,$e)},{deep:j}),xe}else return computed({get(){return pe()},set(he){ae(de,he)}})}function useWindowFocus({window:n=defaultWindow}={}){if(!n)return ref(!1);const e=ref(n.document.hasFocus());return useEventListener(n,"blur",()=>{e.value=!1}),useEventListener(n,"focus",()=>{e.value=!0}),e}function useWindowSize(n={}){const{window:e=defaultWindow,initialWidth:r=1/0,initialHeight:g=1/0,listenOrientation:y=!0,includeScrollbar:k=!0}=n,$=ref(r),V=ref(g),L=()=>{e&&(k?($.value=e.innerWidth,V.value=e.innerHeight):($.value=e.document.documentElement.clientWidth,V.value=e.document.documentElement.clientHeight))};return L(),tryOnMounted(L),useEventListener("resize",L,{passive:!0}),y&&useEventListener("orientationchange",L,{passive:!0}),{width:$,height:V}}const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent),isInContainer=(n,e)=>{if(!isClient||!n||!e)return!1;const r=n.getBoundingClientRect();let g;return e instanceof Element?g=e.getBoundingClientRect():g={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<g.bottom&&r.bottom>g.top&&r.right>g.left&&r.left<g.right},getOffsetTop=n=>{let e=0,r=n;for(;r;)e+=r.offsetTop,r=r.offsetParent;return e},getOffsetTopDistance=(n,e)=>Math.abs(getOffsetTop(n)-getOffsetTop(e)),getClientXY=n=>{let e,r;return n.type==="touchend"?(r=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(r=n.touches[0].clientY,e=n.touches[0].clientX):(r=n.clientY,e=n.clientX),{clientX:e,clientY:r}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(n){var e=hasOwnProperty$d.call(n,symToStringTag$1),r=n[symToStringTag$1];try{n[symToStringTag$1]=void 0;var g=!0}catch{}var y=nativeObjectToString$1.call(n);return g&&(e?n[symToStringTag$1]=r:delete n[symToStringTag$1]),y}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(n){return nativeObjectToString.call(n)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(n){return n==null?n===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(n)?getRawTag(n):objectToString$1(n)}function isObjectLike(n){return n!=null&&typeof n=="object"}var symbolTag$3="[object Symbol]";function isSymbol(n){return typeof n=="symbol"||isObjectLike(n)&&baseGetTag(n)==symbolTag$3}function arrayMap(n,e){for(var r=-1,g=n==null?0:n.length,y=Array(g);++r<g;)y[r]=e(n[r],r,n);return y}var isArray$1=Array.isArray,INFINITY$4=1/0,symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(n){if(typeof n=="string")return n;if(isArray$1(n))return arrayMap(n,baseToString)+"";if(isSymbol(n))return symbolToString?symbolToString.call(n):"";var e=n+"";return e=="0"&&1/n==-INFINITY$4?"-0":e}var reWhitespace=/\s/;function trimmedEndIndex(n){for(var e=n.length;e--&&reWhitespace.test(n.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(n){return n&&n.slice(0,trimmedEndIndex(n)+1).replace(reTrimStart,"")}function isObject$2(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(n){if(typeof n=="number")return n;if(isSymbol(n))return NAN;if(isObject$2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=isObject$2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=baseTrim(n);var r=reIsBinary.test(n);return r||reIsOctal.test(n)?freeParseInt(n.slice(2),r?2:8):reIsBadHex.test(n)?NAN:+n}var INFINITY$3=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(n){if(!n)return n===0?n:0;if(n=toNumber(n),n===INFINITY$3||n===-INFINITY$3){var e=n<0?-1:1;return e*MAX_INTEGER}return n===n?n:0}function toInteger(n){var e=toFinite(n),r=e%1;return e===e?r?e-r:e:0}function identity(n){return n}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(n){if(!isObject$2(n))return!1;var e=baseGetTag(n);return e==funcTag$2||e==genTag$1||e==asyncTag||e==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var n=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function isMasked(n){return!!maskSrcKey&&maskSrcKey in n}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(n){if(n!=null){try{return funcToString$2.call(n)}catch{}try{return n+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$c=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(n){if(!isObject$2(n)||isMasked(n))return!1;var e=isFunction$1(n)?reIsNative:reIsHostCtor;return e.test(toSource(n))}function getValue$1(n,e){return n?.[e]}function getNative(n,e){var r=getValue$1(n,e);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function n(){}return function(e){if(!isObject$2(e))return{};if(objectCreate)return objectCreate(e);n.prototype=e;var r=new n;return n.prototype=void 0,r}}();function apply$1(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)}function noop$3(){}function copyArray(n,e){var r=-1,g=n.length;for(e||(e=Array(g));++r<g;)e[r]=n[r];return e}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(n){var e=0,r=0;return function(){var g=nativeNow(),y=HOT_SPAN-(g-r);if(r=g,y>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function constant(n){return function(){return n}}var defineProperty=function(){try{var n=getNative(Object,"defineProperty");return n({},"",{}),n}catch{}}(),baseSetToString=defineProperty?function(n,e){return defineProperty(n,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);function arrayEach(n,e){for(var r=-1,g=n==null?0:n.length;++r<g&&e(n[r],r,n)!==!1;);return n}function baseFindIndex(n,e,r,g){for(var y=n.length,k=r+(g?1:-1);g?k--:++k<y;)if(e(n[k],k,n))return k;return-1}function baseIsNaN(n){return n!==n}function strictIndexOf(n,e,r){for(var g=r-1,y=n.length;++g<y;)if(n[g]===e)return g;return-1}function baseIndexOf(n,e,r){return e===e?strictIndexOf(n,e,r):baseFindIndex(n,baseIsNaN,r)}function arrayIncludes(n,e){var r=n==null?0:n.length;return!!r&&baseIndexOf(n,e,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(n,e){var r=typeof n;return e=e??MAX_SAFE_INTEGER$1,!!e&&(r=="number"||r!="symbol"&&reIsUint.test(n))&&n>-1&&n%1==0&&n<e}function baseAssignValue(n,e,r){e=="__proto__"&&defineProperty?defineProperty(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}function eq(n,e){return n===e||n!==n&&e!==e}var objectProto$c=Object.prototype,hasOwnProperty$b=objectProto$c.hasOwnProperty;function assignValue(n,e,r){var g=n[e];(!(hasOwnProperty$b.call(n,e)&&eq(g,r))||r===void 0&&!(e in n))&&baseAssignValue(n,e,r)}function copyObject(n,e,r,g){var y=!r;r||(r={});for(var k=-1,$=e.length;++k<$;){var V=e[k],L=g?g(r[V],n[V],V,r,n):void 0;L===void 0&&(L=n[V]),y?baseAssignValue(r,V,L):assignValue(r,V,L)}return r}var nativeMax$2=Math.max;function overRest(n,e,r){return e=nativeMax$2(e===void 0?n.length-1:e,0),function(){for(var g=arguments,y=-1,k=nativeMax$2(g.length-e,0),$=Array(k);++y<k;)$[y]=g[e+y];y=-1;for(var V=Array(e+1);++y<e;)V[y]=g[y];return V[e]=r($),apply$1(n,this,V)}}function baseRest(n,e){return setToString(overRest(n,e,identity),n+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MAX_SAFE_INTEGER}function isArrayLike(n){return n!=null&&isLength(n.length)&&!isFunction$1(n)}function isIterateeCall(n,e,r){if(!isObject$2(r))return!1;var g=typeof e;return(g=="number"?isArrayLike(r)&&isIndex(e,r.length):g=="string"&&e in r)?eq(r[e],n):!1}function createAssigner(n){return baseRest(function(e,r){var g=-1,y=r.length,k=y>1?r[y-1]:void 0,$=y>2?r[2]:void 0;for(k=n.length>3&&typeof k=="function"?(y--,k):void 0,$&&isIterateeCall(r[0],r[1],$)&&(k=y<3?void 0:k,y=1),e=Object(e);++g<y;){var V=r[g];V&&n(e,V,g,k)}return e})}var objectProto$b=Object.prototype;function isPrototype(n){var e=n&&n.constructor,r=typeof e=="function"&&e.prototype||objectProto$b;return n===r}function baseTimes(n,e){for(var r=-1,g=Array(n);++r<n;)g[r]=e(r);return g}var argsTag$3="[object Arguments]";function baseIsArguments(n){return isObjectLike(n)&&baseGetTag(n)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$a=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(n){return isObjectLike(n)&&hasOwnProperty$a.call(n,"callee")&&!propertyIsEnumerable$1.call(n,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(n){return isObjectLike(n)&&isLength(n.length)&&!!typedArrayTags[baseGetTag(n)]}function baseUnary(n){return function(e){return n(e)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var n=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return n||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$9=objectProto$9.hasOwnProperty;function arrayLikeKeys(n,e){var r=isArray$1(n),g=!r&&isArguments(n),y=!r&&!g&&isBuffer(n),k=!r&&!g&&!y&&isTypedArray(n),$=r||g||y||k,V=$?baseTimes(n.length,String):[],L=V.length;for(var z in n)(e||hasOwnProperty$9.call(n,z))&&!($&&(z=="length"||y&&(z=="offset"||z=="parent")||k&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||isIndex(z,L)))&&V.push(z);return V}function overArg(n,e){return function(r){return n(e(r))}}var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty;function baseKeys(n){if(!isPrototype(n))return nativeKeys(n);var e=[];for(var r in Object(n))hasOwnProperty$8.call(n,r)&&r!="constructor"&&e.push(r);return e}function keys$1(n){return isArrayLike(n)?arrayLikeKeys(n):baseKeys(n)}function nativeKeysIn(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeysIn(n){if(!isObject$2(n))return nativeKeysIn(n);var e=isPrototype(n),r=[];for(var g in n)g=="constructor"&&(e||!hasOwnProperty$7.call(n,g))||r.push(g);return r}function keysIn(n){return isArrayLike(n)?arrayLikeKeys(n,!0):baseKeysIn(n)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(n,e){if(isArray$1(n))return!1;var r=typeof n;return r=="number"||r=="symbol"||r=="boolean"||n==null||isSymbol(n)?!0:reIsPlainProp.test(n)||!reIsDeepProp.test(n)||e!=null&&n in Object(e)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function hashGet(n){var e=this.__data__;if(nativeCreate){var r=e[n];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$6.call(e,n)?e[n]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function hashHas(n){var e=this.__data__;return nativeCreate?e[n]!==void 0:hasOwnProperty$5.call(e,n)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var g=n[e];this.set(g[0],g[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(n,e){for(var r=n.length;r--;)if(eq(n[r][0],e))return r;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(n){var e=this.__data__,r=assocIndexOf(e,n);if(r<0)return!1;var g=e.length-1;return r==g?e.pop():splice.call(e,r,1),--this.size,!0}function listCacheGet(n){var e=this.__data__,r=assocIndexOf(e,n);return r<0?void 0:e[r][1]}function listCacheHas(n){return assocIndexOf(this.__data__,n)>-1}function listCacheSet(n,e){var r=this.__data__,g=assocIndexOf(r,n);return g<0?(++this.size,r.push([n,e])):r[g][1]=e,this}function ListCache(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var g=n[e];this.set(g[0],g[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function getMapData(n,e){var r=n.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}function mapCacheDelete(n){var e=getMapData(this,n).delete(n);return this.size-=e?1:0,e}function mapCacheGet(n){return getMapData(this,n).get(n)}function mapCacheHas(n){return getMapData(this,n).has(n)}function mapCacheSet(n,e){var r=getMapData(this,n),g=r.size;return r.set(n,e),this.size+=r.size==g?0:1,this}function MapCache(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var g=n[e];this.set(g[0],g[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var r=function(){var g=arguments,y=e?e.apply(this,g):g[0],k=r.cache;if(k.has(y))return k.get(y);var $=n.apply(this,g);return r.cache=k.set(y,$)||k,$};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(n){var e=memoize(n,function(g){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),g}),r=e.cache;return e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(rePropName,function(r,g,y,k){e.push(y?k.replace(reEscapeChar,"$1"):g||r)}),e});function toString(n){return n==null?"":baseToString(n)}function castPath(n,e){return isArray$1(n)?n:isKey(n,e)?[n]:stringToPath(toString(n))}var INFINITY$2=1/0;function toKey(n){if(typeof n=="string"||isSymbol(n))return n;var e=n+"";return e=="0"&&1/n==-INFINITY$2?"-0":e}function baseGet(n,e){e=castPath(e,n);for(var r=0,g=e.length;n!=null&&r<g;)n=n[toKey(e[r++])];return r&&r==g?n:void 0}function get(n,e,r){var g=n==null?void 0:baseGet(n,e);return g===void 0?r:g}function arrayPush(n,e){for(var r=-1,g=e.length,y=n.length;++r<g;)n[y+r]=e[r];return n}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(n){return isArray$1(n)||isArguments(n)||!!(spreadableSymbol&&n&&n[spreadableSymbol])}function baseFlatten(n,e,r,g,y){var k=-1,$=n.length;for(r||(r=isFlattenable),y||(y=[]);++k<$;){var V=n[k];e>0&&r(V)?e>1?baseFlatten(V,e-1,r,g,y):arrayPush(y,V):g||(y[y.length]=V)}return y}function flatten$1(n){var e=n==null?0:n.length;return e?baseFlatten(n,1):[]}function flatRest(n){return setToString(overRest(n,void 0,flatten$1),n+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(n){if(!isObjectLike(n)||baseGetTag(n)!=objectTag$3)return!1;var e=getPrototype$1(n);if(e===null)return!0;var r=hasOwnProperty$4.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&funcToString.call(r)==objectCtorString}function castArray$1(){if(!arguments.length)return[];var n=arguments[0];return isArray$1(n)?n:[n]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r}function stackGet(n){return this.__data__.get(n)}function stackHas(n){return this.__data__.has(n)}var LARGE_ARRAY_SIZE$1=200;function stackSet(n,e){var r=this.__data__;if(r instanceof ListCache){var g=r.__data__;if(!Map$1||g.length<LARGE_ARRAY_SIZE$1-1)return g.push([n,e]),this.size=++r.size,this;r=this.__data__=new MapCache(g)}return r.set(n,e),this.size=r.size,this}function Stack$1(n){var e=this.__data__=new ListCache(n);this.size=e.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;function baseAssign(n,e){return n&&copyObject(e,keys$1(e),n)}function baseAssignIn(n,e){return n&&copyObject(e,keysIn(e),n)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(n,e){if(e)return n.slice();var r=n.length,g=allocUnsafe?allocUnsafe(r):new n.constructor(r);return n.copy(g),g}function arrayFilter(n,e){for(var r=-1,g=n==null?0:n.length,y=0,k=[];++r<g;){var $=n[r];e($,r,n)&&(k[y++]=$)}return k}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(n){return n==null?[]:(n=Object(n),arrayFilter(nativeGetSymbols$1(n),function(e){return propertyIsEnumerable.call(n,e)}))}:stubArray;function copySymbols(n,e){return copyObject(n,getSymbols(n),e)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(n){for(var e=[];n;)arrayPush(e,getSymbols(n)),n=getPrototype$1(n);return e}:stubArray;function copySymbolsIn(n,e){return copyObject(n,getSymbolsIn(n),e)}function baseGetAllKeys(n,e,r){var g=e(n);return isArray$1(n)?g:arrayPush(g,r(n))}function getAllKeys(n){return baseGetAllKeys(n,keys$1,getSymbols)}function getAllKeysIn(n){return baseGetAllKeys(n,keysIn,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(n){var e=baseGetTag(n),r=e==objectTag$2?n.constructor:void 0,g=r?toSource(r):"";if(g)switch(g){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return e});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function initCloneArray(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&hasOwnProperty$3.call(n,"index")&&(r.index=n.index,r.input=n.input),r}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(n){var e=new n.constructor(n.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(n)),e}function cloneDataView(n,e){var r=e?cloneArrayBuffer(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}var reFlags=/\w*$/;function cloneRegExp(n){var e=new n.constructor(n.source,reFlags.exec(n));return e.lastIndex=n.lastIndex,e}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(n){return symbolValueOf$1?Object(symbolValueOf$1.call(n)):{}}function cloneTypedArray(n,e){var r=e?cloneArrayBuffer(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(n,e,r){var g=n.constructor;switch(e){case arrayBufferTag$2:return cloneArrayBuffer(n);case boolTag$2:case dateTag$2:return new g(+n);case dataViewTag$2:return cloneDataView(n,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(n,r);case mapTag$3:return new g;case numberTag$2:case stringTag$2:return new g(n);case regexpTag$2:return cloneRegExp(n);case setTag$3:return new g;case symbolTag$2:return cloneSymbol(n)}}function initCloneObject(n){return typeof n.constructor=="function"&&!isPrototype(n)?baseCreate(getPrototype$1(n)):{}}var mapTag$2="[object Map]";function baseIsMap(n){return isObjectLike(n)&&getTag$1(n)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(n){return isObjectLike(n)&&getTag$1(n)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(n,e,r,g,y,k){var $,V=e&CLONE_DEEP_FLAG$1,L=e&CLONE_FLAT_FLAG,z=e&CLONE_SYMBOLS_FLAG$2;if(r&&($=y?r(n,g,y,k):r(n)),$!==void 0)return $;if(!isObject$2(n))return n;var j=isArray$1(n);if(j){if($=initCloneArray(n),!V)return copyArray(n,$)}else{var re=getTag$1(n),oe=re==funcTag||re==genTag;if(isBuffer(n))return cloneBuffer(n,V);if(re==objectTag$1||re==argsTag$1||oe&&!y){if($=L||oe?{}:initCloneObject(n),!V)return L?copySymbolsIn(n,baseAssignIn($,n)):copySymbols(n,baseAssign($,n))}else{if(!cloneableTags[re])return y?n:{};$=initCloneByTag(n,re,V)}}k||(k=new Stack$1);var ae=k.get(n);if(ae)return ae;k.set(n,$),isSet(n)?n.forEach(function(pe){$.add(baseClone(pe,e,r,pe,n,k))}):isMap(n)&&n.forEach(function(pe,he){$.set(he,baseClone(pe,e,r,he,n,k))});var de=z?L?getAllKeysIn:getAllKeys:L?keysIn:keys$1,ue=j?void 0:de(n);return arrayEach(ue||n,function(pe,he){ue&&(he=pe,pe=n[he]),assignValue($,he,baseClone(pe,e,r,he,n,k))}),$}var CLONE_SYMBOLS_FLAG$1=4;function clone(n){return baseClone(n,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(n){return baseClone(n,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(n){return this.__data__.set(n,HASH_UNDEFINED),this}function setCacheHas(n){return this.__data__.has(n)}function SetCache(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new MapCache;++e<r;)this.add(n[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(n,e){for(var r=-1,g=n==null?0:n.length;++r<g;)if(e(n[r],r,n))return!0;return!1}function cacheHas(n,e){return n.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(n,e,r,g,y,k){var $=r&COMPARE_PARTIAL_FLAG$5,V=n.length,L=e.length;if(V!=L&&!($&&L>V))return!1;var z=k.get(n),j=k.get(e);if(z&&j)return z==e&&j==n;var re=-1,oe=!0,ae=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(k.set(n,e),k.set(e,n);++re<V;){var de=n[re],ue=e[re];if(g)var pe=$?g(ue,de,re,e,n,k):g(de,ue,re,n,e,k);if(pe!==void 0){if(pe)continue;oe=!1;break}if(ae){if(!arraySome(e,function(he,xe){if(!cacheHas(ae,xe)&&(de===he||y(de,he,r,g,k)))return ae.push(xe)})){oe=!1;break}}else if(!(de===ue||y(de,ue,r,g,k))){oe=!1;break}}return k.delete(n),k.delete(e),oe}function mapToArray(n){var e=-1,r=Array(n.size);return n.forEach(function(g,y){r[++e]=[y,g]}),r}function setToArray(n){var e=-1,r=Array(n.size);return n.forEach(function(g){r[++e]=g}),r}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(n,e,r,g,y,k,$){switch(r){case dataViewTag:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case arrayBufferTag:return!(n.byteLength!=e.byteLength||!k(new Uint8Array$1(n),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq(+n,+e);case errorTag:return n.name==e.name&&n.message==e.message;case regexpTag:case stringTag:return n==e+"";case mapTag:var V=mapToArray;case setTag:var L=g&COMPARE_PARTIAL_FLAG$4;if(V||(V=setToArray),n.size!=e.size&&!L)return!1;var z=$.get(n);if(z)return z==e;g|=COMPARE_UNORDERED_FLAG$2,$.set(n,e);var j=equalArrays(V(n),V(e),g,y,k,$);return $.delete(n),j;case symbolTag:if(symbolValueOf)return symbolValueOf.call(n)==symbolValueOf.call(e)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(n,e,r,g,y,k){var $=r&COMPARE_PARTIAL_FLAG$3,V=getAllKeys(n),L=V.length,z=getAllKeys(e),j=z.length;if(L!=j&&!$)return!1;for(var re=L;re--;){var oe=V[re];if(!($?oe in e:hasOwnProperty$2.call(e,oe)))return!1}var ae=k.get(n),de=k.get(e);if(ae&&de)return ae==e&&de==n;var ue=!0;k.set(n,e),k.set(e,n);for(var pe=$;++re<L;){oe=V[re];var he=n[oe],xe=e[oe];if(g)var $e=$?g(xe,he,oe,e,n,k):g(he,xe,oe,n,e,k);if(!($e===void 0?he===xe||y(he,xe,r,g,k):$e)){ue=!1;break}pe||(pe=oe=="constructor")}if(ue&&!pe){var Ne=n.constructor,Oe=e.constructor;Ne!=Oe&&"constructor"in n&&"constructor"in e&&!(typeof Ne=="function"&&Ne instanceof Ne&&typeof Oe=="function"&&Oe instanceof Oe)&&(ue=!1)}return k.delete(n),k.delete(e),ue}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(n,e,r,g,y,k){var $=isArray$1(n),V=isArray$1(e),L=$?arrayTag:getTag$1(n),z=V?arrayTag:getTag$1(e);L=L==argsTag?objectTag:L,z=z==argsTag?objectTag:z;var j=L==objectTag,re=z==objectTag,oe=L==z;if(oe&&isBuffer(n)){if(!isBuffer(e))return!1;$=!0,j=!1}if(oe&&!j)return k||(k=new Stack$1),$||isTypedArray(n)?equalArrays(n,e,r,g,y,k):equalByTag(n,e,L,r,g,y,k);if(!(r&COMPARE_PARTIAL_FLAG$2)){var ae=j&&hasOwnProperty$1.call(n,"__wrapped__"),de=re&&hasOwnProperty$1.call(e,"__wrapped__");if(ae||de){var ue=ae?n.value():n,pe=de?e.value():e;return k||(k=new Stack$1),y(ue,pe,r,g,k)}}return oe?(k||(k=new Stack$1),equalObjects(n,e,r,g,y,k)):!1}function baseIsEqual(n,e,r,g,y){return n===e?!0:n==null||e==null||!isObjectLike(n)&&!isObjectLike(e)?n!==n&&e!==e:baseIsEqualDeep(n,e,r,g,baseIsEqual,y)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(n,e,r,g){var y=r.length,k=y,$=!g;if(n==null)return!k;for(n=Object(n);y--;){var V=r[y];if($&&V[2]?V[1]!==n[V[0]]:!(V[0]in n))return!1}for(;++y<k;){V=r[y];var L=V[0],z=n[L],j=V[1];if($&&V[2]){if(z===void 0&&!(L in n))return!1}else{var re=new Stack$1;if(g)var oe=g(z,j,L,n,e,re);if(!(oe===void 0?baseIsEqual(j,z,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,g,re):oe))return!1}}return!0}function isStrictComparable(n){return n===n&&!isObject$2(n)}function getMatchData(n){for(var e=keys$1(n),r=e.length;r--;){var g=e[r],y=n[g];e[r]=[g,y,isStrictComparable(y)]}return e}function matchesStrictComparable(n,e){return function(r){return r==null?!1:r[n]===e&&(e!==void 0||n in Object(r))}}function baseMatches(n){var e=getMatchData(n);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(r){return r===n||baseIsMatch(r,n,e)}}function baseHasIn(n,e){return n!=null&&e in Object(n)}function hasPath(n,e,r){e=castPath(e,n);for(var g=-1,y=e.length,k=!1;++g<y;){var $=toKey(e[g]);if(!(k=n!=null&&r(n,$)))break;n=n[$]}return k||++g!=y?k:(y=n==null?0:n.length,!!y&&isLength(y)&&isIndex($,y)&&(isArray$1(n)||isArguments(n)))}function hasIn(n,e){return n!=null&&hasPath(n,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(n,e){return isKey(n)&&isStrictComparable(e)?matchesStrictComparable(toKey(n),e):function(r){var g=get(r,n);return g===void 0&&g===e?hasIn(r,n):baseIsEqual(e,g,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(n){return function(e){return e?.[n]}}function basePropertyDeep(n){return function(e){return baseGet(e,n)}}function property(n){return isKey(n)?baseProperty(toKey(n)):basePropertyDeep(n)}function baseIteratee(n){return typeof n=="function"?n:n==null?identity:typeof n=="object"?isArray$1(n)?baseMatchesProperty(n[0],n[1]):baseMatches(n):property(n)}function createBaseFor(n){return function(e,r,g){for(var y=-1,k=Object(e),$=g(e),V=$.length;V--;){var L=$[n?V:++y];if(r(k[L],L,k)===!1)break}return e}}var baseFor=createBaseFor();function baseForOwn(n,e){return n&&baseFor(n,e,keys$1)}function createBaseEach(n,e){return function(r,g){if(r==null)return r;if(!isArrayLike(r))return n(r,g);for(var y=r.length,k=e?y:-1,$=Object(r);(e?k--:++k<y)&&g($[k],k,$)!==!1;);return r}}var baseEach=createBaseEach(baseForOwn),now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin$1=Math.min;function debounce(n,e,r){var g,y,k,$,V,L,z=0,j=!1,re=!1,oe=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$1);e=toNumber(e)||0,isObject$2(r)&&(j=!!r.leading,re="maxWait"in r,k=re?nativeMax$1(toNumber(r.maxWait)||0,e):k,oe="trailing"in r?!!r.trailing:oe);function ae(_e){var Fe=g,Ue=y;return g=y=void 0,z=_e,$=n.apply(Ue,Fe),$}function de(_e){return z=_e,V=setTimeout(he,e),j?ae(_e):$}function ue(_e){var Fe=_e-L,Ue=_e-z,kt=e-Fe;return re?nativeMin$1(kt,k-Ue):kt}function pe(_e){var Fe=_e-L,Ue=_e-z;return L===void 0||Fe>=e||Fe<0||re&&Ue>=k}function he(){var _e=now();if(pe(_e))return xe(_e);V=setTimeout(he,ue(_e))}function xe(_e){return V=void 0,oe&&g?ae(_e):(g=y=void 0,$)}function $e(){V!==void 0&&clearTimeout(V),z=0,g=L=y=V=void 0}function Ne(){return V===void 0?$:xe(now())}function Oe(){var _e=now(),Fe=pe(_e);if(g=arguments,y=this,L=_e,Fe){if(V===void 0)return de(L);if(re)return clearTimeout(V),V=setTimeout(he,e),ae(L)}return V===void 0&&(V=setTimeout(he,e)),$}return Oe.cancel=$e,Oe.flush=Ne,Oe}function assignMergeValue(n,e,r){(r!==void 0&&!eq(n[e],r)||r===void 0&&!(e in n))&&baseAssignValue(n,e,r)}function isArrayLikeObject(n){return isObjectLike(n)&&isArrayLike(n)}function safeGet(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function toPlainObject(n){return copyObject(n,keysIn(n))}function baseMergeDeep(n,e,r,g,y,k,$){var V=safeGet(n,r),L=safeGet(e,r),z=$.get(L);if(z){assignMergeValue(n,r,z);return}var j=k?k(V,L,r+"",n,e,$):void 0,re=j===void 0;if(re){var oe=isArray$1(L),ae=!oe&&isBuffer(L),de=!oe&&!ae&&isTypedArray(L);j=L,oe||ae||de?isArray$1(V)?j=V:isArrayLikeObject(V)?j=copyArray(V):ae?(re=!1,j=cloneBuffer(L,!0)):de?(re=!1,j=cloneTypedArray(L,!0)):j=[]:isPlainObject$1(L)||isArguments(L)?(j=V,isArguments(V)?j=toPlainObject(V):(!isObject$2(V)||isFunction$1(V))&&(j=initCloneObject(L))):re=!1}re&&($.set(L,j),y(j,L,g,k,$),$.delete(L)),assignMergeValue(n,r,j)}function baseMerge(n,e,r,g,y){n!==e&&baseFor(e,function(k,$){if(y||(y=new Stack$1),isObject$2(k))baseMergeDeep(n,e,$,r,baseMerge,g,y);else{var V=g?g(safeGet(n,$),k,$+"",n,e,y):void 0;V===void 0&&(V=k),assignMergeValue(n,$,V)}},keysIn)}function arrayIncludesWith(n,e,r){for(var g=-1,y=n==null?0:n.length;++g<y;)if(r(e,n[g]))return!0;return!1}var nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(n,e,r){var g=n==null?0:n.length;if(!g)return-1;var y=g-1;return r!==void 0&&(y=toInteger(r),y=r<0?nativeMax(g+y,0):nativeMin(y,g-1)),baseFindIndex(n,baseIteratee(e),y,!0)}function baseMap(n,e){var r=-1,g=isArrayLike(n)?Array(n.length):[];return baseEach(n,function(y,k,$){g[++r]=e(y,k,$)}),g}function map(n,e){var r=isArray$1(n)?arrayMap:baseMap;return r(n,baseIteratee(e))}function flatMap(n,e){return baseFlatten(map(n,e),1)}var INFINITY$1=1/0;function flattenDeep(n){var e=n==null?0:n.length;return e?baseFlatten(n,INFINITY$1):[]}function fromPairs(n){for(var e=-1,r=n==null?0:n.length,g={};++e<r;){var y=n[e];g[y[0]]=y[1]}return g}function isEqual$1(n,e){return baseIsEqual(n,e)}function isNil(n){return n==null}function isUndefined$1(n){return n===void 0}var merge=createAssigner(function(n,e,r){baseMerge(n,e,r)});const merge$1=merge;function baseSet(n,e,r,g){if(!isObject$2(n))return n;e=castPath(e,n);for(var y=-1,k=e.length,$=k-1,V=n;V!=null&&++y<k;){var L=toKey(e[y]),z=r;if(L==="__proto__"||L==="constructor"||L==="prototype")return n;if(y!=$){var j=V[L];z=g?g(j,L,V):void 0,z===void 0&&(z=isObject$2(j)?j:isIndex(e[y+1])?[]:{})}assignValue(V,L,z),V=V[L]}return n}function basePickBy(n,e,r){for(var g=-1,y=e.length,k={};++g<y;){var $=e[g],V=baseGet(n,$);r(V,$)&&baseSet(k,castPath($,n),V)}return k}function basePick(n,e){return basePickBy(n,e,function(r,g){return hasIn(n,g)})}var pick=flatRest(function(n,e){return n==null?{}:basePick(n,e)});function set(n,e,r){return n==null?n:baseSet(n,e,r)}var FUNC_ERROR_TEXT="Expected a function";function throttle(n,e,r){var g=!0,y=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$2(r)&&(g="leading"in r?!!r.leading:g,y="trailing"in r?!!r.trailing:y),debounce(n,e,{leading:g,maxWait:e,trailing:y})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(n){return new Set$1(n)}:noop$3,LARGE_ARRAY_SIZE=200;function baseUniq(n,e,r){var g=-1,y=arrayIncludes,k=n.length,$=!0,V=[],L=V;if(r)$=!1,y=arrayIncludesWith;else if(k>=LARGE_ARRAY_SIZE){var z=e?null:createSet(n);if(z)return setToArray(z);$=!1,y=cacheHas,L=new SetCache}else L=e?[]:V;e:for(;++g<k;){var j=n[g],re=e?e(j):j;if(j=r||j!==0?j:0,$&&re===re){for(var oe=L.length;oe--;)if(L[oe]===re)continue e;e&&L.push(re),V.push(j)}else y(L,re,r)||(L!==V&&L.push(re),V.push(j))}return V}var union=baseRest(function(n){return baseUniq(baseFlatten(n,1,isArrayLikeObject,!0))});const isUndefined=n=>n===void 0,isBoolean$1=n=>typeof n=="boolean",isNumber$1=n=>typeof n=="number",isEmpty=n=>!n&&n!==0||isArray$3(n)&&n.length===0||isObject$3(n)&&!Object.keys(n).length,isElement$1=n=>typeof Element>"u"?!1:n instanceof Element,isPropAbsent=n=>isNil(n),isStringNumber=n=>isString$3(n)?!Number.isNaN(Number(n)):!1,escapeStringRegexp=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize$1=n=>capitalize$2(n),keysOf=n=>Object.keys(n),entriesOf=n=>Object.entries(n),getProp=(n,e,r)=>({get value(){return get(n,e,r)},set value(g){set(n,e,g)}});class ElementPlusError extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function throwError(n,e){throw new ElementPlusError(`[${n}] ${e}`)}function debugWarn(n,e){}const classNameToArray=(n="")=>n.split(" ").filter(e=>!!e.trim()),hasClass=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},addClass=(n,e)=>{!n||!e.trim()||n.classList.add(...classNameToArray(e))},removeClass=(n,e)=>{!n||!e.trim()||n.classList.remove(...classNameToArray(e))},getStyle=(n,e)=>{var r;if(!isClient||!n||!e)return"";let g=camelize(e);g==="float"&&(g="cssFloat");try{const y=n.style[g];if(y)return y;const k=(r=document.defaultView)==null?void 0:r.getComputedStyle(n,"");return k?k[g]:""}catch{return n.style[g]}};function addUnit(n,e="px"){if(!n)return"";if(isNumber$1(n)||isStringNumber(n))return`${n}${e}`;if(isString$3(n))return n}const isScroll=(n,e)=>{if(!isClient)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],g=getStyle(n,r);return["scroll","auto","overlay"].some(y=>g.includes(y))},getScrollContainer=(n,e)=>{if(!isClient)return;let r=n;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(isScroll(r,e))return r;r=r.parentNode}return r};let scrollBarWidth;const getScrollBarWidth=n=>{var e;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const r=document.createElement("div");r.className=`${n}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const g=r.offsetWidth;r.style.overflow="scroll";const y=document.createElement("div");y.style.width="100%",r.appendChild(y);const k=y.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),scrollBarWidth=g-k,scrollBarWidth};function scrollIntoView$2(n,e){if(!isClient)return;if(!e){n.scrollTop=0;return}const r=[];let g=e.offsetParent;for(;g!==null&&n!==g&&n.contains(g);)r.push(g),g=g.offsetParent;const y=e.offsetTop+r.reduce((L,z)=>L+z.offsetTop,0),k=y+e.offsetHeight,$=n.scrollTop,V=$+n.clientHeight;y<$?n.scrollTop=y:k>V&&(n.scrollTop=k-n.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var export_helper_default=(n,e)=>{let r=n.__vccOpts||n;for(let[g,y]of e)r[g]=y;return r},arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16$g={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_26$6=createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36$2=[_hoisted_26$6];function _sfc_render6(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_16$g,_hoisted_36$2)}var arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),arrow_left_bold_vue_vue_type_script_lang_default={name:"ArrowLeftBold"},_hoisted_17$e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_27$6=createBaseVNode("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"},null,-1),_hoisted_37$2=[_hoisted_27$6];function _sfc_render7(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_17$e,_hoisted_37$2)}var arrow_left_bold_default=export_helper_default(arrow_left_bold_vue_vue_type_script_lang_default,[["render",_sfc_render7],["__file","arrow-left-bold.vue"]]),arrow_left_vue_vue_type_script_lang_default={name:"ArrowLeft"},_hoisted_18$d={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_28$5=createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_38$2=[_hoisted_28$5];function _sfc_render8(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_18$d,_hoisted_38$2)}var arrow_left_default=export_helper_default(arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render8],["__file","arrow-left.vue"]]),arrow_right_bold_vue_vue_type_script_lang_default={name:"ArrowRightBold"},_hoisted_19$d={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_29$5=createBaseVNode("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"},null,-1),_hoisted_39$2=[_hoisted_29$5];function _sfc_render9(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_19$d,_hoisted_39$2)}var arrow_right_bold_default=export_helper_default(arrow_right_bold_vue_vue_type_script_lang_default,[["render",_sfc_render9],["__file","arrow-right-bold.vue"]]),arrow_right_vue_vue_type_script_lang_default={name:"ArrowRight"},_hoisted_110={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_210=createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_310=[_hoisted_210];function _sfc_render10(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_110,_hoisted_310)}var arrow_right_default=export_helper_default(arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render10],["__file","arrow-right.vue"]]),arrow_up_vue_vue_type_script_lang_default={name:"ArrowUp"},_hoisted_112={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_212=createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),_hoisted_312=[_hoisted_212];function _sfc_render12(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_112,_hoisted_312)}var arrow_up_default=export_helper_default(arrow_up_vue_vue_type_script_lang_default,[["render",_sfc_render12],["__file","arrow-up.vue"]]),back_vue_vue_type_script_lang_default={name:"Back"},_hoisted_114={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_214=createBaseVNode("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),_hoisted_314=createBaseVNode("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),_hoisted_44$2=[_hoisted_214,_hoisted_314];function _sfc_render14(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_114,_hoisted_44$2)}var back_default=export_helper_default(back_vue_vue_type_script_lang_default,[["render",_sfc_render14],["__file","back.vue"]]),calendar_vue_vue_type_script_lang_default={name:"Calendar"},_hoisted_129={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_229=createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),_hoisted_328=[_hoisted_229];function _sfc_render29(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_129,_hoisted_328)}var calendar_default=export_helper_default(calendar_vue_vue_type_script_lang_default,[["render",_sfc_render29],["__file","calendar.vue"]]),caret_right_vue_vue_type_script_lang_default={name:"CaretRight"},_hoisted_134={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_234=createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),_hoisted_333=[_hoisted_234];function _sfc_render34(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_134,_hoisted_333)}var caret_right_default=export_helper_default(caret_right_vue_vue_type_script_lang_default,[["render",_sfc_render34],["__file","caret-right.vue"]]),caret_top_vue_vue_type_script_lang_default={name:"CaretTop"},_hoisted_135={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_235=createBaseVNode("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),_hoisted_334=[_hoisted_235];function _sfc_render35(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_135,_hoisted_334)}var caret_top_default=export_helper_default(caret_top_vue_vue_type_script_lang_default,[["render",_sfc_render35],["__file","caret-top.vue"]]),check_vue_vue_type_script_lang_default={name:"Check"},_hoisted_143={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_243=createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),_hoisted_342=[_hoisted_243];function _sfc_render43(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_143,_hoisted_342)}var check_default=export_helper_default(check_vue_vue_type_script_lang_default,[["render",_sfc_render43],["__file","check.vue"]]),circle_check_filled_vue_vue_type_script_lang_default={name:"CircleCheckFilled"},_hoisted_148={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_248=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_347=[_hoisted_248];function _sfc_render48(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_148,_hoisted_347)}var circle_check_filled_default=export_helper_default(circle_check_filled_vue_vue_type_script_lang_default,[["render",_sfc_render48],["__file","circle-check-filled.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_249=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_filled_vue_vue_type_script_lang_default={name:"CircleCloseFilled"},_hoisted_150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_250=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),_hoisted_349=[_hoisted_250];function _sfc_render50(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_150,_hoisted_349)}var circle_close_filled_default=export_helper_default(circle_close_filled_vue_vue_type_script_lang_default,[["render",_sfc_render50],["__file","circle-close-filled.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_251=createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_151,_hoisted_416)}var circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),clock_vue_vue_type_script_lang_default={name:"Clock"},_hoisted_154={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_254=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_353=createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),_hoisted_418=createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),_hoisted_56$2=[_hoisted_254,_hoisted_353,_hoisted_418];function _sfc_render54(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_154,_hoisted_56$2)}var clock_default=export_helper_default(clock_vue_vue_type_script_lang_default,[["render",_sfc_render54],["__file","clock.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_256=createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_156,_hoisted_355)}var close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),d_arrow_left_vue_vue_type_script_lang_default={name:"DArrowLeft"},_hoisted_172={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_272=createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),_hoisted_371=[_hoisted_272];function _sfc_render72(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_172,_hoisted_371)}var d_arrow_left_default=export_helper_default(d_arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render72],["__file","d-arrow-left.vue"]]),d_arrow_right_vue_vue_type_script_lang_default={name:"DArrowRight"},_hoisted_173={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_273=createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),_hoisted_372=[_hoisted_273];function _sfc_render73(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_173,_hoisted_372)}var d_arrow_right_default=export_helper_default(d_arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render73],["__file","d-arrow-right.vue"]]),delete_vue_vue_type_script_lang_default={name:"Delete"},_hoisted_180={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_280=createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),_hoisted_379=[_hoisted_280];function _sfc_render80(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_180,_hoisted_379)}var delete_default=export_helper_default(delete_vue_vue_type_script_lang_default,[["render",_sfc_render80],["__file","delete.vue"]]),document_add_vue_vue_type_script_lang_default={name:"DocumentAdd"},_hoisted_185={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_285=createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),_hoisted_384=[_hoisted_285];function _sfc_render85(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_185,_hoisted_384)}var document_add_default=export_helper_default(document_add_vue_vue_type_script_lang_default,[["render",_sfc_render85],["__file","document-add.vue"]]),document_vue_vue_type_script_lang_default={name:"Document"},_hoisted_190={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_290=createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),_hoisted_389=[_hoisted_290];function _sfc_render90(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_190,_hoisted_389)}var document_default=export_helper_default(document_vue_vue_type_script_lang_default,[["render",_sfc_render90],["__file","document.vue"]]),download_vue_vue_type_script_lang_default={name:"Download"},_hoisted_191={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_291=createBaseVNode("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),_hoisted_390=[_hoisted_291];function _sfc_render91(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_191,_hoisted_390)}var download_default=export_helper_default(download_vue_vue_type_script_lang_default,[["render",_sfc_render91],["__file","download.vue"]]),edit_vue_vue_type_script_lang_default={name:"Edit"},_hoisted_194={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_294=createBaseVNode("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),_hoisted_393=createBaseVNode("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),_hoisted_431=[_hoisted_294,_hoisted_393];function _sfc_render94(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_194,_hoisted_431)}var edit_default=export_helper_default(edit_vue_vue_type_script_lang_default,[["render",_sfc_render94],["__file","edit.vue"]]),files_vue_vue_type_script_lang_default={name:"Files"},_hoisted_1101={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2101=createBaseVNode("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),_hoisted_3100=[_hoisted_2101];function _sfc_render101(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1101,_hoisted_3100)}var files_default=export_helper_default(files_vue_vue_type_script_lang_default,[["render",_sfc_render101],["__file","files.vue"]]),folder_opened_vue_vue_type_script_lang_default={name:"FolderOpened"},_hoisted_1111={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2111=createBaseVNode("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),_hoisted_3110=[_hoisted_2111];function _sfc_render111(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1111,_hoisted_3110)}var folder_opened_default=export_helper_default(folder_opened_vue_vue_type_script_lang_default,[["render",_sfc_render111],["__file","folder-opened.vue"]]),full_screen_vue_vue_type_script_lang_default={name:"FullScreen"},_hoisted_1118={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2118=createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),_hoisted_3117=[_hoisted_2118];function _sfc_render118(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1118,_hoisted_3117)}var full_screen_default=export_helper_default(full_screen_vue_vue_type_script_lang_default,[["render",_sfc_render118],["__file","full-screen.vue"]]),grid_vue_vue_type_script_lang_default={name:"Grid"},_hoisted_1127={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2127=createBaseVNode("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),_hoisted_3126=[_hoisted_2127];function _sfc_render127(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1127,_hoisted_3126)}var grid_default=export_helper_default(grid_vue_vue_type_script_lang_default,[["render",_sfc_render127],["__file","grid.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2133=createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),_hoisted_3132=createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),info_filled_vue_vue_type_script_lang_default={name:"InfoFilled"},_hoisted_1143={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2143=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_hoisted_3142=[_hoisted_2143];function _sfc_render143(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1143,_hoisted_3142)}var info_filled_default=export_helper_default(info_filled_vue_vue_type_script_lang_default,[["render",_sfc_render143],["__file","info-filled.vue"]]),list_vue_vue_type_script_lang_default={name:"List"},_hoisted_1149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2149=createBaseVNode("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384v-64zM288 512h448v-64H288v64zm0 256h448v-64H288v64zm96-576V96h256v96H384z"},null,-1),_hoisted_3148=[_hoisted_2149];function _sfc_render149(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1149,_hoisted_3148)}var list_default=export_helper_default(list_vue_vue_type_script_lang_default,[["render",_sfc_render149],["__file","list.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2150=createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),lock_vue_vue_type_script_lang_default={name:"Lock"},_hoisted_1154={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2154=createBaseVNode("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),_hoisted_3153=createBaseVNode("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),_hoisted_442=[_hoisted_2154,_hoisted_3153];function _sfc_render154(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1154,_hoisted_442)}var lock_default=export_helper_default(lock_vue_vue_type_script_lang_default,[["render",_sfc_render154],["__file","lock.vue"]]),minus_vue_vue_type_script_lang_default={name:"Minus"},_hoisted_1169={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2169=createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),_hoisted_3168=[_hoisted_2169];function _sfc_render169(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1169,_hoisted_3168)}var minus_default=export_helper_default(minus_vue_vue_type_script_lang_default,[["render",_sfc_render169],["__file","minus.vue"]]),more_filled_vue_vue_type_script_lang_default={name:"MoreFilled"},_hoisted_1174={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2174=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),_hoisted_3173=[_hoisted_2174];function _sfc_render174(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1174,_hoisted_3173)}var more_filled_default=export_helper_default(more_filled_vue_vue_type_script_lang_default,[["render",_sfc_render174],["__file","more-filled.vue"]]),more_vue_vue_type_script_lang_default={name:"More"},_hoisted_1175={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2175=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),_hoisted_3174=[_hoisted_2175];function _sfc_render175(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1175,_hoisted_3174)}var more_default=export_helper_default(more_vue_vue_type_script_lang_default,[["render",_sfc_render175],["__file","more.vue"]]),picture_filled_vue_vue_type_script_lang_default={name:"PictureFilled"},_hoisted_1195={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2195=createBaseVNode("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),_hoisted_3194=[_hoisted_2195];function _sfc_render195(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1195,_hoisted_3194)}var picture_filled_default=export_helper_default(picture_filled_vue_vue_type_script_lang_default,[["render",_sfc_render195],["__file","picture-filled.vue"]]),plus_vue_vue_type_script_lang_default={name:"Plus"},_hoisted_1201={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2201=createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),_hoisted_3200=[_hoisted_2201];function _sfc_render201(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1201,_hoisted_3200)}var plus_default=export_helper_default(plus_vue_vue_type_script_lang_default,[["render",_sfc_render201],["__file","plus.vue"]]),question_filled_vue_vue_type_script_lang_default={name:"QuestionFilled"},_hoisted_1211={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2211=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),_hoisted_3210=[_hoisted_2211];function _sfc_render211(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1211,_hoisted_3210)}var question_filled_default=export_helper_default(question_filled_vue_vue_type_script_lang_default,[["render",_sfc_render211],["__file","question-filled.vue"]]),refresh_left_vue_vue_type_script_lang_default={name:"RefreshLeft"},_hoisted_1215={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2215=createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),_hoisted_3214=[_hoisted_2215];function _sfc_render215(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1215,_hoisted_3214)}var refresh_left_default=export_helper_default(refresh_left_vue_vue_type_script_lang_default,[["render",_sfc_render215],["__file","refresh-left.vue"]]),refresh_right_vue_vue_type_script_lang_default={name:"RefreshRight"},_hoisted_1216={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2216=createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),_hoisted_3215=[_hoisted_2216];function _sfc_render216(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1216,_hoisted_3215)}var refresh_right_default=export_helper_default(refresh_right_vue_vue_type_script_lang_default,[["render",_sfc_render216],["__file","refresh-right.vue"]]),scale_to_original_vue_vue_type_script_lang_default={name:"ScaleToOriginal"},_hoisted_1222={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2222=createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),_hoisted_3221=[_hoisted_2222];function _sfc_render222(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1222,_hoisted_3221)}var scale_to_original_default=export_helper_default(scale_to_original_vue_vue_type_script_lang_default,[["render",_sfc_render222],["__file","scale-to-original.vue"]]),search_vue_vue_type_script_lang_default={name:"Search"},_hoisted_1225={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2225=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),_hoisted_3224=[_hoisted_2225];function _sfc_render225(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1225,_hoisted_3224)}var search_default=export_helper_default(search_vue_vue_type_script_lang_default,[["render",_sfc_render225],["__file","search.vue"]]),setting_vue_vue_type_script_lang_default={name:"Setting"},_hoisted_1231={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2231=createBaseVNode("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),_hoisted_3230=[_hoisted_2231];function _sfc_render231(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1231,_hoisted_3230)}var setting_default=export_helper_default(setting_vue_vue_type_script_lang_default,[["render",_sfc_render231],["__file","setting.vue"]]),sort_down_vue_vue_type_script_lang_default={name:"SortDown"},_hoisted_1242={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2242=createBaseVNode("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),_hoisted_3241=[_hoisted_2242];function _sfc_render242(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1242,_hoisted_3241)}var sort_down_default=export_helper_default(sort_down_vue_vue_type_script_lang_default,[["render",_sfc_render242],["__file","sort-down.vue"]]),sort_up_vue_vue_type_script_lang_default={name:"SortUp"},_hoisted_1243={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2243=createBaseVNode("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),_hoisted_3242=[_hoisted_2243];function _sfc_render243(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1243,_hoisted_3242)}var sort_up_default=export_helper_default(sort_up_vue_vue_type_script_lang_default,[["render",_sfc_render243],["__file","sort-up.vue"]]),star_filled_vue_vue_type_script_lang_default={name:"StarFilled"},_hoisted_1246={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2246=createBaseVNode("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),_hoisted_3245=[_hoisted_2246];function _sfc_render246(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1246,_hoisted_3245)}var star_filled_default=export_helper_default(star_filled_vue_vue_type_script_lang_default,[["render",_sfc_render246],["__file","star-filled.vue"]]),star_vue_vue_type_script_lang_default={name:"Star"},_hoisted_1247={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2247=createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),_hoisted_3246=[_hoisted_2247];function _sfc_render247(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1247,_hoisted_3246)}var star_default=export_helper_default(star_vue_vue_type_script_lang_default,[["render",_sfc_render247],["__file","star.vue"]]),success_filled_vue_vue_type_script_lang_default={name:"SuccessFilled"},_hoisted_1249={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2249=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_3248=[_hoisted_2249];function _sfc_render249(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1249,_hoisted_3248)}var success_filled_default=export_helper_default(success_filled_vue_vue_type_script_lang_default,[["render",_sfc_render249],["__file","success-filled.vue"]]),switch_vue_vue_type_script_lang_default={name:"Switch"},_hoisted_1258={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2258=createBaseVNode("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),_hoisted_3257=[_hoisted_2258];function _sfc_render258(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1258,_hoisted_3257)}var switch_default=export_helper_default(switch_vue_vue_type_script_lang_default,[["render",_sfc_render258],["__file","switch.vue"]]),tickets_vue_vue_type_script_lang_default={name:"Tickets"},_hoisted_1261={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2261=createBaseVNode("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1),_hoisted_3260=[_hoisted_2261];function _sfc_render261(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1261,_hoisted_3260)}var tickets_default=export_helper_default(tickets_vue_vue_type_script_lang_default,[["render",_sfc_render261],["__file","tickets.vue"]]),tools_vue_vue_type_script_lang_default={name:"Tools"},_hoisted_1264={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2264=createBaseVNode("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),_hoisted_3263=[_hoisted_2264];function _sfc_render264(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1264,_hoisted_3263)}var tools_default=export_helper_default(tools_vue_vue_type_script_lang_default,[["render",_sfc_render264],["__file","tools.vue"]]),unlock_vue_vue_type_script_lang_default={name:"Unlock"},_hoisted_1273={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2273=createBaseVNode("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),_hoisted_3272=createBaseVNode("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104l-59.456 23.808z"},null,-1),_hoisted_484=[_hoisted_2273,_hoisted_3272];function _sfc_render273(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1273,_hoisted_484)}var unlock_default=export_helper_default(unlock_vue_vue_type_script_lang_default,[["render",_sfc_render273],["__file","unlock.vue"]]),upload_vue_vue_type_script_lang_default={name:"Upload"},_hoisted_1275={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2275=createBaseVNode("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),_hoisted_3274=[_hoisted_2275];function _sfc_render275(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1275,_hoisted_3274)}var upload_default=export_helper_default(upload_vue_vue_type_script_lang_default,[["render",_sfc_render275],["__file","upload.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2283=createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1283,_hoisted_3282)}var view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),warning_filled_vue_vue_type_script_lang_default={name:"WarningFilled"},_hoisted_1287={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2287=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),_hoisted_3286=[_hoisted_2287];function _sfc_render287(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1287,_hoisted_3286)}var warning_filled_default=export_helper_default(warning_filled_vue_vue_type_script_lang_default,[["render",_sfc_render287],["__file","warning-filled.vue"]]),zoom_in_vue_vue_type_script_lang_default={name:"ZoomIn"},_hoisted_1292={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2292=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),_hoisted_3291=[_hoisted_2292];function _sfc_render292(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1292,_hoisted_3291)}var zoom_in_default=export_helper_default(zoom_in_vue_vue_type_script_lang_default,[["render",_sfc_render292],["__file","zoom-in.vue"]]),zoom_out_vue_vue_type_script_lang_default={name:"ZoomOut"},_hoisted_1293={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2293=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),_hoisted_3292=[_hoisted_2293];function _sfc_render293(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1293,_hoisted_3292)}var zoom_out_default=export_helper_default(zoom_out_vue_vue_type_script_lang_default,[["render",_sfc_render293],["__file","zoom-out.vue"]]);const epPropKey="__epPropKey",definePropType=n=>n,isEpProp=n=>isObject$3(n)&&!!n[epPropKey],buildProp=(n,e)=>{if(!isObject$3(n)||isEpProp(n))return n;const{values:r,required:g,default:y,type:k,validator:$}=n,L={type:k,required:!!g,validator:r||$?z=>{let j=!1,re=[];if(r&&(re=Array.from(r),hasOwn$1(n,"default")&&re.push(y),j||(j=re.includes(z))),$&&(j||(j=$(z))),!j&&re.length>0){const oe=[...new Set(re)].map(ae=>JSON.stringify(ae)).join(", ");warn$1(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${oe}], got value ${JSON.stringify(z)}.`)}return j}:void 0,[epPropKey]:!0};return hasOwn$1(n,"default")&&(L.default=y),L},buildProps=n=>fromPairs(Object.entries(n).map(([e,r])=>[e,buildProp(r,e)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(n,e)=>{if(n.install=r=>{for(const g of[n,...Object.values(e??{})])r.component(g.name,g)},e)for(const[r,g]of Object.entries(e))n[r]=g;return n},withInstallFunction=(n,e)=>(n.install=r=>{n._context=r._context,r.config.globalProperties[e]=n},n),withInstallDirective=(n,e)=>(n.install=r=>{r.directive(e,n)},n),withNoopInstall=n=>(n.install=NOOP,n),composeRefs=(...n)=>e=>{n.forEach(r=>{isFunction$3(r)?r(e):r.value=e})},EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},datePickTypes=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",INSTALLED_KEY=Symbol("INSTALLED_KEY"),componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=n=>componentSizeMap[n||"default"],isValidComponentSize=n=>["",...componentSizes].includes(n);var PatchFlags=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(PatchFlags||{});function isFragment(n){return isVNode$1(n)&&n.type===Fragment}function isComment(n){return isVNode$1(n)&&n.type===Comment}function isValidElementNode(n){return isVNode$1(n)&&!isFragment(n)&&!isComment(n)}const getNormalizedProps=n=>{if(!isVNode$1(n))return{};const e=n.props||{},r=(isVNode$1(n.type)?n.type.props:void 0)||{},g={};return Object.keys(r).forEach(y=>{hasOwn$1(r[y],"default")&&(g[y]=r[y].default)}),Object.keys(e).forEach(y=>{g[camelize(y)]=e[y]}),g},ensureOnlyChild=n=>{if(!isArray$3(n)||n.length>1)throw new Error("expect to receive a single Vue element child");return n[0]},flattedChildren=n=>{const e=isArray$3(n)?n:[n],r=[];return e.forEach(g=>{var y;isArray$3(g)?r.push(...flattedChildren(g)):isVNode$1(g)&&isArray$3(g.children)?r.push(...flattedChildren(g.children)):(r.push(g),isVNode$1(g)&&((y=g.component)!=null&&y.subTree)&&r.push(...flattedChildren(g.component.subTree)))}),r},unique=n=>[...new Set(n)],castArray=n=>!n&&n!==0?[]:Array.isArray(n)?n:[n],isKorean=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),rAF=n=>isClient?window.requestAnimationFrame(n):setTimeout(n,16),cAF=n=>isClient?window.cancelAnimationFrame(n):clearTimeout(n),generateId=()=>Math.floor(Math.random()*1e4),mutable=n=>n,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(n={})=>{const{excludeListeners:e=!1,excludeKeys:r}=n,g=computed(()=>(r?.value||[]).concat(DEFAULT_EXCLUDE_KEYS)),y=getCurrentInstance();return computed(y?()=>{var k;return fromPairs(Object.entries((k=y.proxy)==null?void 0:k.$attrs).filter(([$])=>!g.value.includes($)&&!(e&&LISTENER_PREFIX.test($))))}:()=>({}))},useDeprecated=({from:n,replacement:e,scope:r,version:g,ref:y,type:k="API"},$)=>{watch(()=>unref($),V=>{},{immediate:!0})},useDraggable=(n,e,r)=>{let g={offsetX:0,offsetY:0};const y=V=>{const L=V.clientX,z=V.clientY,{offsetX:j,offsetY:re}=g,oe=n.value.getBoundingClientRect(),ae=oe.left,de=oe.top,ue=oe.width,pe=oe.height,he=document.documentElement.clientWidth,xe=document.documentElement.clientHeight,$e=-ae+j,Ne=-de+re,Oe=he-ae-ue+j,_e=xe-de-pe+re,Fe=kt=>{const Lt=Math.min(Math.max(j+kt.clientX-L,$e),Oe),wn=Math.min(Math.max(re+kt.clientY-z,Ne),_e);g={offsetX:Lt,offsetY:wn},n.value.style.transform=`translate(${addUnit(Lt)}, ${addUnit(wn)})`},Ue=()=>{document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",Ue)};document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",Ue)},k=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",y)},$=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",y)};onMounted(()=>{watchEffect(()=>{r.value?k():$()})}),onBeforeUnmount(()=>{$()})};var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=n=>(e,r)=>translate$2(e,r,unref(n)),translate$2=(n,e,r)=>get(r,n,n).replace(/\{(\w+)\}/g,(g,y)=>{var k;return`${(k=e?.[y])!=null?k:`{${y}}`}`}),buildLocaleContext=n=>{const e=computed(()=>unref(n).name),r=isRef(n)?n:ref(n);return{lang:e,locale:r,t:buildTranslator(n)}},localeContextKey=Symbol("localeContextKey"),useLocale=n=>{const e=n||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>e.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(n,e,r,g,y)=>{let k=`${n}-${e}`;return r&&(k+=`-${r}`),g&&(k+=`__${g}`),y&&(k+=`--${y}`),k},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=n=>{const e=n||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(e)||defaultNamespace)},useNamespace=(n,e)=>{const r=useGetDerivedNamespace(e);return{namespace:r,b:(ue="")=>_bem(r.value,n,ue,"",""),e:ue=>ue?_bem(r.value,n,"",ue,""):"",m:ue=>ue?_bem(r.value,n,"","",ue):"",be:(ue,pe)=>ue&&pe?_bem(r.value,n,ue,pe,""):"",em:(ue,pe)=>ue&&pe?_bem(r.value,n,"",ue,pe):"",bm:(ue,pe)=>ue&&pe?_bem(r.value,n,ue,"",pe):"",bem:(ue,pe,he)=>ue&&pe&&he?_bem(r.value,n,ue,pe,he):"",is:(ue,...pe)=>{const he=pe.length>=1?pe[0]:!0;return ue&&he?`${statePrefix}${ue}`:""},cssVar:ue=>{const pe={};for(const he in ue)ue[he]&&(pe[`--${r.value}-${he}`]=ue[he]);return pe},cssVarName:ue=>`--${r.value}-${ue}`,cssVarBlock:ue=>{const pe={};for(const he in ue)ue[he]&&(pe[`--${r.value}-${n}-${he}`]=ue[he]);return pe},cssVarBlockName:ue=>`--${r.value}-${n}-${ue}`}},useLockscreen=(n,e={})=>{isRef(n)||throwError("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||useNamespace("popup"),g=computed$1(()=>r.bm("parent","hidden"));if(!isClient||hasClass(document.body,g.value))return;let y=0,k=!1,$="0";const V=()=>{setTimeout(()=>{removeClass(document?.body,g.value),k&&document&&(document.body.style.width=$)},200)};watch(n,L=>{if(!L){V();return}k=!hasClass(document.body,g.value),k&&($=document.body.style.width),y=getScrollBarWidth(r.namespace.value);const z=document.documentElement.clientHeight<document.body.scrollHeight,j=getStyle(document.body,"overflowY");y>0&&(z||j==="scroll")&&k&&(document.body.style.width=`calc(100% - ${y}px)`),addClass(document.body,g.value)}),onScopeDispose(()=>V())},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=n=>{const e=`update:${n}`,r=`onUpdate:${n}`,g=[e],y={[n]:_prop,[r]:_event};return{useModelToggle:({indicator:$,toggleReason:V,shouldHideWhenRouteChanges:L,shouldProceed:z,onShow:j,onHide:re})=>{const oe=getCurrentInstance(),{emit:ae}=oe,de=oe.props,ue=computed(()=>isFunction$3(de[r])),pe=computed(()=>de[n]===null),he=Fe=>{$.value!==!0&&($.value=!0,V&&(V.value=Fe),isFunction$3(j)&&j(Fe))},xe=Fe=>{$.value!==!1&&($.value=!1,V&&(V.value=Fe),isFunction$3(re)&&re(Fe))},$e=Fe=>{if(de.disabled===!0||isFunction$3(z)&&!z())return;const Ue=ue.value&&isClient;Ue&&ae(e,!0),(pe.value||!Ue)&&he(Fe)},Ne=Fe=>{if(de.disabled===!0||!isClient)return;const Ue=ue.value&&isClient;Ue&&ae(e,!1),(pe.value||!Ue)&&xe(Fe)},Oe=Fe=>{isBoolean$1(Fe)&&(de.disabled&&Fe?ue.value&&ae(e,!1):$.value!==Fe&&(Fe?he():xe()))},_e=()=>{$.value?Ne():$e()};return watch(()=>de[n],Oe),L&&oe.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...oe.proxy.$route}),()=>{L.value&&$.value&&Ne()}),onMounted(()=>{Oe(de[n])}),{hide:Ne,show:$e,toggle:_e,hasUpdateHandler:ue}},useModelToggleProps:y,useModelToggleEmits:g}};createModelToggleComposable("modelValue");const useProp=n=>{const e=getCurrentInstance();return computed(()=>{var r,g;return(g=(r=e?.proxy)==null?void 0:r.$props)==null?void 0:g[n]})};var E$1="top",R="bottom",W="right",P$1="left",me="auto",G=[E$1,R,W,P$1],U$1="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(n,e){return n.concat([e+"-"+U$1,e+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(n,e){return n.concat([e,e+"-"+U$1,e+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C$1(n){return n?(n.nodeName||"").toLowerCase():null}function H(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Q(n){var e=H(n).Element;return n instanceof e||n instanceof Element}function B(n){var e=H(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Pe(n){if(typeof ShadowRoot>"u")return!1;var e=H(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Mt(n){var e=n.state;Object.keys(e.elements).forEach(function(r){var g=e.styles[r]||{},y=e.attributes[r]||{},k=e.elements[r];!B(k)||!C$1(k)||(Object.assign(k.style,g),Object.keys(y).forEach(function($){var V=y[$];V===!1?k.removeAttribute($):k.setAttribute($,V===!0?"":V)}))})}function Rt(n){var e=n.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(g){var y=e.elements[g],k=e.attributes[g]||{},$=Object.keys(e.styles.hasOwnProperty(g)?e.styles[g]:r[g]),V=$.reduce(function(L,z){return L[z]="",L},{});!B(y)||!C$1(y)||(Object.assign(y.style,V),Object.keys(k).forEach(function(L){y.removeAttribute(L)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(n){return n.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(n,e){e===void 0&&(e=!1);var r=n.getBoundingClientRect(),g=1,y=1;if(B(n)&&e){var k=n.offsetHeight,$=n.offsetWidth;$>0&&(g=Z(r.width)/$||1),k>0&&(y=Z(r.height)/k||1)}return{width:r.width/g,height:r.height/y,top:r.top/y,right:r.right/g,bottom:r.bottom/y,left:r.left/g,x:r.left/g,y:r.top/y}}function ke(n){var e=ee(n),r=n.offsetWidth,g=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-g)<=1&&(g=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:g}}function it(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&Pe(r)){var g=e;do{if(g&&n.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function N$1(n){return H(n).getComputedStyle(n)}function Wt(n){return["table","td","th"].indexOf(C$1(n))>=0}function I$1(n){return((Q(n)?n.ownerDocument:n.document)||window.document).documentElement}function ge(n){return C$1(n)==="html"?n:n.assignedSlot||n.parentNode||(Pe(n)?n.host:null)||I$1(n)}function at(n){return!B(n)||N$1(n).position==="fixed"?null:n.offsetParent}function Bt(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B(n)){var g=N$1(n);if(g.position==="fixed")return null}var y=ge(n);for(Pe(y)&&(y=y.host);B(y)&&["html","body"].indexOf(C$1(y))<0;){var k=N$1(y);if(k.transform!=="none"||k.perspective!=="none"||k.contain==="paint"||["transform","perspective"].indexOf(k.willChange)!==-1||e&&k.willChange==="filter"||e&&k.filter&&k.filter!=="none")return y;y=y.parentNode}return null}function se(n){for(var e=H(n),r=at(n);r&&Wt(r)&&N$1(r).position==="static";)r=at(r);return r&&(C$1(r)==="html"||C$1(r)==="body"&&N$1(r).position==="static")?e:r||Bt(n)||e}function Le(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function fe(n,e,r){return X$1(n,ve(e,r))}function St(n,e,r){var g=fe(n,e,r);return g>r?r:g}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(n){return Object.assign({},st(),n)}function ct(n,e){return e.reduce(function(r,g){return r[g]=n,r},{})}var Tt=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,ft(typeof n!="number"?n:ct(n,G))};function Ht(n){var e,r=n.state,g=n.name,y=n.options,k=r.elements.arrow,$=r.modifiersData.popperOffsets,V=q(r.placement),L=Le(V),z=[P$1,W].indexOf(V)>=0,j=z?"height":"width";if(!(!k||!$)){var re=Tt(y.padding,r),oe=ke(k),ae=L==="y"?E$1:P$1,de=L==="y"?R:W,ue=r.rects.reference[j]+r.rects.reference[L]-$[L]-r.rects.popper[j],pe=$[L]-r.rects.reference[L],he=se(k),xe=he?L==="y"?he.clientHeight||0:he.clientWidth||0:0,$e=ue/2-pe/2,Ne=re[ae],Oe=xe-oe[j]-re[de],_e=xe/2-oe[j]/2+$e,Fe=fe(Ne,_e,Oe),Ue=L;r.modifiersData[g]=(e={},e[Ue]=Fe,e.centerOffset=Fe-_e,e)}}function Ct(n){var e=n.state,r=n.options,g=r.element,y=g===void 0?"[data-popper-arrow]":g;y!=null&&(typeof y=="string"&&(y=e.elements.popper.querySelector(y),!y)||!it(e.elements.popper,y)||(e.elements.arrow=y))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(n){return n.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(n){var e=n.x,r=n.y,g=window,y=g.devicePixelRatio||1;return{x:Z(e*y)/y||0,y:Z(r*y)/y||0}}function ut(n){var e,r=n.popper,g=n.popperRect,y=n.placement,k=n.variation,$=n.offsets,V=n.position,L=n.gpuAcceleration,z=n.adaptive,j=n.roundOffsets,re=n.isFixed,oe=$.x,ae=oe===void 0?0:oe,de=$.y,ue=de===void 0?0:de,pe=typeof j=="function"?j({x:ae,y:ue}):{x:ae,y:ue};ae=pe.x,ue=pe.y;var he=$.hasOwnProperty("x"),xe=$.hasOwnProperty("y"),$e=P$1,Ne=E$1,Oe=window;if(z){var _e=se(r),Fe="clientHeight",Ue="clientWidth";if(_e===H(r)&&(_e=I$1(r),N$1(_e).position!=="static"&&V==="absolute"&&(Fe="scrollHeight",Ue="scrollWidth")),_e=_e,y===E$1||(y===P$1||y===W)&&k===J){Ne=R;var kt=re&&_e===Oe&&Oe.visualViewport?Oe.visualViewport.height:_e[Fe];ue-=kt-g.height,ue*=L?1:-1}if(y===P$1||(y===E$1||y===R)&&k===J){$e=W;var Lt=re&&_e===Oe&&Oe.visualViewport?Oe.visualViewport.width:_e[Ue];ae-=Lt-g.width,ae*=L?1:-1}}var wn=Object.assign({position:V},z&&qt),Et=j===!0?Vt({x:ae,y:ue}):{x:ae,y:ue};if(ae=Et.x,ue=Et.y,L){var xn;return Object.assign({},wn,(xn={},xn[Ne]=xe?"0":"",xn[$e]=he?"0":"",xn.transform=(Oe.devicePixelRatio||1)<=1?"translate("+ae+"px, "+ue+"px)":"translate3d("+ae+"px, "+ue+"px, 0)",xn))}return Object.assign({},wn,(e={},e[Ne]=xe?ue+"px":"",e[$e]=he?ae+"px":"",e.transform="",e))}function Nt(n){var e=n.state,r=n.options,g=r.gpuAcceleration,y=g===void 0?!0:g,k=r.adaptive,$=k===void 0?!0:k,V=r.roundOffsets,L=V===void 0?!0:V,z={placement:q(e.placement),variation:te(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:y,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ut(Object.assign({},z,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:$,roundOffsets:L})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ut(Object.assign({},z,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:L})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(n){var e=n.state,r=n.instance,g=n.options,y=g.scroll,k=y===void 0?!0:y,$=g.resize,V=$===void 0?!0:$,L=H(e.elements.popper),z=[].concat(e.scrollParents.reference,e.scrollParents.popper);return k&&z.forEach(function(j){j.addEventListener("scroll",r.update,ye)}),V&&L.addEventListener("resize",r.update,ye),function(){k&&z.forEach(function(j){j.removeEventListener("scroll",r.update,ye)}),V&&L.removeEventListener("resize",r.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(n){return n.replace(/left|right|bottom|top/g,function(e){return _t[e]})}var zt={start:"end",end:"start"};function lt$1(n){return n.replace(/start|end/g,function(e){return zt[e]})}function We(n){var e=H(n),r=e.pageXOffset,g=e.pageYOffset;return{scrollLeft:r,scrollTop:g}}function Be(n){return ee(I$1(n)).left+We(n).scrollLeft}function Ft(n){var e=H(n),r=I$1(n),g=e.visualViewport,y=r.clientWidth,k=r.clientHeight,$=0,V=0;return g&&(y=g.width,k=g.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||($=g.offsetLeft,V=g.offsetTop)),{width:y,height:k,x:$+Be(n),y:V}}function Ut(n){var e,r=I$1(n),g=We(n),y=(e=n.ownerDocument)==null?void 0:e.body,k=X$1(r.scrollWidth,r.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),$=X$1(r.scrollHeight,r.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),V=-g.scrollLeft+Be(n),L=-g.scrollTop;return N$1(y||r).direction==="rtl"&&(V+=X$1(r.clientWidth,y?y.clientWidth:0)-k),{width:k,height:$,x:V,y:L}}function Se(n){var e=N$1(n),r=e.overflow,g=e.overflowX,y=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+y+g)}function dt(n){return["html","body","#document"].indexOf(C$1(n))>=0?n.ownerDocument.body:B(n)&&Se(n)?n:dt(ge(n))}function ce(n,e){var r;e===void 0&&(e=[]);var g=dt(n),y=g===((r=n.ownerDocument)==null?void 0:r.body),k=H(g),$=y?[k].concat(k.visualViewport||[],Se(g)?g:[]):g,V=e.concat($);return y?V:V.concat(ce(ge($)))}function Te(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Xt(n){var e=ee(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function ht(n,e){return e===je?Te(Ft(n)):Q(e)?Xt(e):Te(Ut(I$1(n)))}function Yt(n){var e=ce(ge(n)),r=["absolute","fixed"].indexOf(N$1(n).position)>=0,g=r&&B(n)?se(n):n;return Q(g)?e.filter(function(y){return Q(y)&&it(y,g)&&C$1(y)!=="body"}):[]}function Gt(n,e,r){var g=e==="clippingParents"?Yt(n):[].concat(e),y=[].concat(g,[r]),k=y[0],$=y.reduce(function(V,L){var z=ht(n,L);return V.top=X$1(z.top,V.top),V.right=ve(z.right,V.right),V.bottom=ve(z.bottom,V.bottom),V.left=X$1(z.left,V.left),V},ht(n,k));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function mt(n){var e=n.reference,r=n.element,g=n.placement,y=g?q(g):null,k=g?te(g):null,$=e.x+e.width/2-r.width/2,V=e.y+e.height/2-r.height/2,L;switch(y){case E$1:L={x:$,y:e.y-r.height};break;case R:L={x:$,y:e.y+e.height};break;case W:L={x:e.x+e.width,y:V};break;case P$1:L={x:e.x-r.width,y:V};break;default:L={x:e.x,y:e.y}}var z=y?Le(y):null;if(z!=null){var j=z==="y"?"height":"width";switch(k){case U$1:L[z]=L[z]-(e[j]/2-r[j]/2);break;case J:L[z]=L[z]+(e[j]/2-r[j]/2);break}}return L}function ne(n,e){e===void 0&&(e={});var r=e,g=r.placement,y=g===void 0?n.placement:g,k=r.boundary,$=k===void 0?Xe:k,V=r.rootBoundary,L=V===void 0?je:V,z=r.elementContext,j=z===void 0?K:z,re=r.altBoundary,oe=re===void 0?!1:re,ae=r.padding,de=ae===void 0?0:ae,ue=ft(typeof de!="number"?de:ct(de,G)),pe=j===K?Ye:K,he=n.rects.popper,xe=n.elements[oe?pe:j],$e=Gt(Q(xe)?xe:xe.contextElement||I$1(n.elements.popper),$,L),Ne=ee(n.elements.reference),Oe=mt({reference:Ne,element:he,strategy:"absolute",placement:y}),_e=Te(Object.assign({},he,Oe)),Fe=j===K?_e:Ne,Ue={top:$e.top-Fe.top+ue.top,bottom:Fe.bottom-$e.bottom+ue.bottom,left:$e.left-Fe.left+ue.left,right:Fe.right-$e.right+ue.right},kt=n.modifiersData.offset;if(j===K&&kt){var Lt=kt[y];Object.keys(Ue).forEach(function(wn){var Et=[W,R].indexOf(wn)>=0?1:-1,xn=[E$1,R].indexOf(wn)>=0?"y":"x";Ue[wn]+=Lt[xn]*Et})}return Ue}function Jt(n,e){e===void 0&&(e={});var r=e,g=r.placement,y=r.boundary,k=r.rootBoundary,$=r.padding,V=r.flipVariations,L=r.allowedAutoPlacements,z=L===void 0?Ee:L,j=te(g),re=j?V?De:De.filter(function(de){return te(de)===j}):G,oe=re.filter(function(de){return z.indexOf(de)>=0});oe.length===0&&(oe=re);var ae=oe.reduce(function(de,ue){return de[ue]=ne(n,{placement:ue,boundary:y,rootBoundary:k,padding:$})[q(ue)],de},{});return Object.keys(ae).sort(function(de,ue){return ae[de]-ae[ue]})}function Kt(n){if(q(n)===me)return[];var e=be(n);return[lt$1(n),e,lt$1(e)]}function Qt(n){var e=n.state,r=n.options,g=n.name;if(!e.modifiersData[g]._skip){for(var y=r.mainAxis,k=y===void 0?!0:y,$=r.altAxis,V=$===void 0?!0:$,L=r.fallbackPlacements,z=r.padding,j=r.boundary,re=r.rootBoundary,oe=r.altBoundary,ae=r.flipVariations,de=ae===void 0?!0:ae,ue=r.allowedAutoPlacements,pe=e.options.placement,he=q(pe),xe=he===pe,$e=L||(xe||!de?[be(pe)]:Kt(pe)),Ne=[pe].concat($e).reduce(function(Hn,rr){return Hn.concat(q(rr)===me?Jt(e,{placement:rr,boundary:j,rootBoundary:re,padding:z,flipVariations:de,allowedAutoPlacements:ue}):rr)},[]),Oe=e.rects.reference,_e=e.rects.popper,Fe=new Map,Ue=!0,kt=Ne[0],Lt=0;Lt<Ne.length;Lt++){var wn=Ne[Lt],Et=q(wn),xn=te(wn)===U$1,jt=[E$1,R].indexOf(Et)>=0,An=jt?"width":"height",Dn=ne(e,{placement:wn,boundary:j,rootBoundary:re,altBoundary:oe,padding:z}),En=jt?xn?W:P$1:xn?R:E$1;Oe[An]>_e[An]&&(En=be(En));var Bn=be(En),$n=[];if(k&&$n.push(Dn[Et]<=0),V&&$n.push(Dn[En]<=0,Dn[Bn]<=0),$n.every(function(Hn){return Hn})){kt=wn,Ue=!1;break}Fe.set(wn,$n)}if(Ue)for(var Wn=de?3:1,Gn=function(Hn){var rr=Ne.find(function(Xn){var Pn=Fe.get(Xn);if(Pn)return Pn.slice(0,Hn).every(function(jn){return jn})});if(rr)return kt=rr,"break"},Nn=Wn;Nn>0;Nn--){var Zn=Gn(Nn);if(Zn==="break")break}e.placement!==kt&&(e.modifiersData[g]._skip=!0,e.placement=kt,e.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function yt(n){return[E$1,W,R,P$1].some(function(e){return n[e]>=0})}function Zt(n){var e=n.state,r=n.name,g=e.rects.reference,y=e.rects.popper,k=e.modifiersData.preventOverflow,$=ne(e,{elementContext:"reference"}),V=ne(e,{altBoundary:!0}),L=gt($,g),z=gt(V,y,k),j=yt(L),re=yt(z);e.modifiersData[r]={referenceClippingOffsets:L,popperEscapeOffsets:z,isReferenceHidden:j,hasPopperEscaped:re},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":re})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(n,e,r){var g=q(n),y=[P$1,E$1].indexOf(g)>=0?-1:1,k=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,$=k[0],V=k[1];return $=$||0,V=(V||0)*y,[P$1,W].indexOf(g)>=0?{x:V,y:$}:{x:$,y:V}}function tn(n){var e=n.state,r=n.options,g=n.name,y=r.offset,k=y===void 0?[0,0]:y,$=Ee.reduce(function(j,re){return j[re]=en(re,e.rects,k),j},{}),V=$[e.placement],L=V.x,z=V.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=L,e.modifiersData.popperOffsets.y+=z),e.modifiersData[g]=$}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(n){var e=n.state,r=n.name;e.modifiersData[r]=mt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(n){return n==="x"?"y":"x"}function on(n){var e=n.state,r=n.options,g=n.name,y=r.mainAxis,k=y===void 0?!0:y,$=r.altAxis,V=$===void 0?!1:$,L=r.boundary,z=r.rootBoundary,j=r.altBoundary,re=r.padding,oe=r.tether,ae=oe===void 0?!0:oe,de=r.tetherOffset,ue=de===void 0?0:de,pe=ne(e,{boundary:L,rootBoundary:z,padding:re,altBoundary:j}),he=q(e.placement),xe=te(e.placement),$e=!xe,Ne=Le(he),Oe=rn(Ne),_e=e.modifiersData.popperOffsets,Fe=e.rects.reference,Ue=e.rects.popper,kt=typeof ue=="function"?ue(Object.assign({},e.rects,{placement:e.placement})):ue,Lt=typeof kt=="number"?{mainAxis:kt,altAxis:kt}:Object.assign({mainAxis:0,altAxis:0},kt),wn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Et={x:0,y:0};if(_e){if(k){var xn,jt=Ne==="y"?E$1:P$1,An=Ne==="y"?R:W,Dn=Ne==="y"?"height":"width",En=_e[Ne],Bn=En+pe[jt],$n=En-pe[An],Wn=ae?-Ue[Dn]/2:0,Gn=xe===U$1?Fe[Dn]:Ue[Dn],Nn=xe===U$1?-Ue[Dn]:-Fe[Dn],Zn=e.elements.arrow,Hn=ae&&Zn?ke(Zn):{width:0,height:0},rr=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:st(),Xn=rr[jt],Pn=rr[An],jn=fe(0,Fe[Dn],Hn[Dn]),fr=$e?Fe[Dn]/2-Wn-jn-Xn-Lt.mainAxis:Gn-jn-Xn-Lt.mainAxis,yr=$e?-Fe[Dn]/2+Wn+jn+Pn+Lt.mainAxis:Nn+jn+Pn+Lt.mainAxis,Cr=e.elements.arrow&&se(e.elements.arrow),sr=Cr?Ne==="y"?Cr.clientTop||0:Cr.clientLeft||0:0,zn=(xn=wn?.[Ne])!=null?xn:0,vn=En+fr-zn-sr,Jn=En+yr-zn,Tn=fe(ae?ve(Bn,vn):Bn,En,ae?X$1($n,Jn):$n);_e[Ne]=Tn,Et[Ne]=Tn-En}if(V){var Dt,hn=Ne==="x"?E$1:P$1,Vn=Ne==="x"?R:W,Kn=_e[Oe],ar=Oe==="y"?"height":"width",lr=Kn+pe[hn],cr=Kn-pe[Vn],mr=[E$1,P$1].indexOf(he)!==-1,ur=(Dt=wn?.[Oe])!=null?Dt:0,le=mr?lr:Kn-Fe[ar]-Ue[ar]-ur+Lt.altAxis,Ce=mr?Kn+Fe[ar]+Ue[ar]-ur-Lt.altAxis:cr,Ie=ae&&mr?St(le,Kn,Ce):fe(ae?le:lr,Kn,ae?Ce:cr);_e[Oe]=Ie,Et[Oe]=Ie-Kn}e.modifiersData[g]=Et}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sn(n){return n===H(n)||!B(n)?We(n):an(n)}function fn(n){var e=n.getBoundingClientRect(),r=Z(e.width)/n.offsetWidth||1,g=Z(e.height)/n.offsetHeight||1;return r!==1||g!==1}function cn(n,e,r){r===void 0&&(r=!1);var g=B(e),y=B(e)&&fn(e),k=I$1(e),$=ee(n,y),V={scrollLeft:0,scrollTop:0},L={x:0,y:0};return(g||!g&&!r)&&((C$1(e)!=="body"||Se(k))&&(V=sn(e)),B(e)?(L=ee(e,!0),L.x+=e.clientLeft,L.y+=e.clientTop):k&&(L.x=Be(k))),{x:$.left+V.scrollLeft-L.x,y:$.top+V.scrollTop-L.y,width:$.width,height:$.height}}function pn(n){var e=new Map,r=new Set,g=[];n.forEach(function(k){e.set(k.name,k)});function y(k){r.add(k.name);var $=[].concat(k.requires||[],k.requiresIfExists||[]);$.forEach(function(V){if(!r.has(V)){var L=e.get(V);L&&y(L)}}),g.push(k)}return n.forEach(function(k){r.has(k.name)||y(k)}),g}function un(n){var e=pn(n);return ot.reduce(function(r,g){return r.concat(e.filter(function(y){return y.phase===g}))},[])}function ln(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function dn(n){var e=n.reduce(function(r,g){var y=r[g.name];return r[g.name]=y?Object.assign({},y,g,{options:Object.assign({},y.options,g.options),data:Object.assign({},y.data,g.data)}):g,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function we(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,g=r===void 0?[]:r,y=e.defaultOptions,k=y===void 0?Ot:y;return function($,V,L){L===void 0&&(L=k);var z={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,k),modifiersData:{},elements:{reference:$,popper:V},attributes:{},styles:{}},j=[],re=!1,oe={state:z,setOptions:function(ue){var pe=typeof ue=="function"?ue(z.options):ue;de(),z.options=Object.assign({},k,z.options,pe),z.scrollParents={reference:Q($)?ce($):$.contextElement?ce($.contextElement):[],popper:ce(V)};var he=un(dn([].concat(g,z.options.modifiers)));return z.orderedModifiers=he.filter(function(xe){return xe.enabled}),ae(),oe.update()},forceUpdate:function(){if(!re){var ue=z.elements,pe=ue.reference,he=ue.popper;if($t(pe,he)){z.rects={reference:cn(pe,se(he),z.options.strategy==="fixed"),popper:ke(he)},z.reset=!1,z.placement=z.options.placement,z.orderedModifiers.forEach(function(Ue){return z.modifiersData[Ue.name]=Object.assign({},Ue.data)});for(var xe=0;xe<z.orderedModifiers.length;xe++){if(z.reset===!0){z.reset=!1,xe=-1;continue}var $e=z.orderedModifiers[xe],Ne=$e.fn,Oe=$e.options,_e=Oe===void 0?{}:Oe,Fe=$e.name;typeof Ne=="function"&&(z=Ne({state:z,options:_e,name:Fe,instance:oe})||z)}}}},update:ln(function(){return new Promise(function(ue){oe.forceUpdate(),ue(z)})}),destroy:function(){de(),re=!0}};if(!$t($,V))return oe;oe.setOptions(L).then(function(ue){!re&&L.onFirstUpdate&&L.onFirstUpdate(ue)});function ae(){z.orderedModifiers.forEach(function(ue){var pe=ue.name,he=ue.options,xe=he===void 0?{}:he,$e=ue.effect;if(typeof $e=="function"){var Ne=$e({state:z,name:pe,instance:oe,options:xe}),Oe=function(){};j.push(Ne||Oe)}})}function de(){j.forEach(function(ue){return ue()}),j=[]}return oe}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(n,e,r={})=>{const g={name:"updateState",enabled:!0,phase:"write",fn:({state:L})=>{const z=deriveState(L);Object.assign($.value,z)},requires:["computeStyles"]},y=computed(()=>{const{onFirstUpdate:L,placement:z,strategy:j,modifiers:re}=unref(r);return{onFirstUpdate:L,placement:z||"bottom",strategy:j||"absolute",modifiers:[...re||[],g,{name:"applyStyles",enabled:!1}]}}),k=shallowRef(),$=ref({styles:{popper:{position:unref(y).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),V=()=>{k.value&&(k.value.destroy(),k.value=void 0)};return watch(y,L=>{const z=unref(k);z&&z.setOptions(L)},{deep:!0}),watch([n,e],([L,z])=>{V(),!(!L||!z)&&(k.value=yn(L,z,unref(y)))}),onBeforeUnmount(()=>{V()}),{state:computed(()=>{var L;return{...((L=unref(k))==null?void 0:L.state)||{}}}),styles:computed(()=>unref($).styles),attributes:computed(()=>unref($).attributes),update:()=>{var L;return(L=unref(k))==null?void 0:L.update()},forceUpdate:()=>{var L;return(L=unref(k))==null?void 0:L.forceUpdate()},instanceRef:computed(()=>unref(k))}};function deriveState(n){const e=Object.keys(n.elements),r=fromPairs(e.map(y=>[y,n.styles[y]||{}])),g=fromPairs(e.map(y=>[y,n.attributes[y]]));return{styles:r,attributes:g}}const useSameTarget=n=>{if(!n)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let e=!1,r=!1;return{onClick:$=>{e&&r&&n($),e=r=!1},onMousedown:$=>{e=$.target===$.currentTarget},onMouseup:$=>{r=$.target===$.currentTarget}}},useThrottleRender=(n,e=0)=>{if(e===0)return n;const r=ref(!1);let g=0;const y=()=>{g&&clearTimeout(g),g=window.setTimeout(()=>{r.value=n.value},e)};return onMounted(y),watch(()=>n.value,k=>{k?y():r.value=k}),r};function useTimeout(){let n;const e=(g,y)=>{r(),n=window.setTimeout(g,y)},r=()=>window.clearTimeout(n);return tryOnScopeDispose(()=>r()),{registerTimeout:e,cancelTimeout:r}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=n=>{const e=useIdInjection(),r=useGetDerivedNamespace();return computed(()=>unref(n)||`${r.value}-id-${e.prefix}-${e.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=n=>{const e=n;e.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(r=>r(e))},useEscapeKeydown=n=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(n)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(e=>e!==n),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const n=useGetDerivedNamespace(),e=useIdInjection(),r=computed(()=>`${n.value}-popper-container-${e.prefix}`),g=computed(()=>`#${r.value}`);return{id:r,selector:g}},createContainer=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},usePopperContainer=()=>{const{id:n,selector:e}=usePopperContainerId();return onBeforeMount(()=>{isClient&&!cachedContainer&&!document.body.querySelector(e.value)&&(cachedContainer=createContainer(n.value))}),{id:n,selector:e}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:n,hideAfter:e,autoClose:r,open:g,close:y})=>{const{registerTimeout:k}=useTimeout(),{registerTimeout:$,cancelTimeout:V}=useTimeout();return{onOpen:j=>{k(()=>{g(j);const re=unref(r);isNumber$1(re)&&re>0&&$(()=>{y(j)},re)},unref(n))},onClose:j=>{V(),k(()=>{y(j)},unref(e))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=n=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:r=>{n.value=r}})},useForwardRefDirective=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),zIndex=ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=n=>{const e=n||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),r=computed(()=>{const k=unref(e);return isNumber$1(k)?k:defaultInitialZIndex}),g=computed(()=>r.value+zIndex.value);return{initialZIndex:r,currentZIndex:g,nextZIndex:()=>(zIndex.value++,g.value)}},min$1=Math.min,max$1=Math.max,round=Math.round,createCoords=n=>({x:n,y:n});function clamp(n,e,r){return max$1(n,min$1(e,r))}function evaluate(n,e){return typeof n=="function"?n(e):n}function getSide(n){return n.split("-")[0]}function getAlignment(n){return n.split("-")[1]}function getOppositeAxis(n){return n==="x"?"y":"x"}function getAxisLength(n){return n==="y"?"height":"width"}function getSideAxis(n){return["top","bottom"].includes(getSide(n))?"y":"x"}function getAlignmentAxis(n){return getOppositeAxis(getSideAxis(n))}function expandPaddingObject(n){return{top:0,right:0,bottom:0,left:0,...n}}function getPaddingObject(n){return typeof n!="number"?expandPaddingObject(n):{top:n,right:n,bottom:n,left:n}}function rectToClientRect(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function computeCoordsFromPlacement(n,e,r){let{reference:g,floating:y}=n;const k=getSideAxis(e),$=getAlignmentAxis(e),V=getAxisLength($),L=getSide(e),z=k==="y",j=g.x+g.width/2-y.width/2,re=g.y+g.height/2-y.height/2,oe=g[V]/2-y[V]/2;let ae;switch(L){case"top":ae={x:j,y:g.y-y.height};break;case"bottom":ae={x:j,y:g.y+g.height};break;case"right":ae={x:g.x+g.width,y:re};break;case"left":ae={x:g.x-y.width,y:re};break;default:ae={x:g.x,y:g.y}}switch(getAlignment(e)){case"start":ae[$]-=oe*(r&&z?-1:1);break;case"end":ae[$]+=oe*(r&&z?-1:1);break}return ae}const computePosition$1=async(n,e,r)=>{const{placement:g="bottom",strategy:y="absolute",middleware:k=[],platform:$}=r,V=k.filter(Boolean),L=await($.isRTL==null?void 0:$.isRTL(e));let z=await $.getElementRects({reference:n,floating:e,strategy:y}),{x:j,y:re}=computeCoordsFromPlacement(z,g,L),oe=g,ae={},de=0;for(let ue=0;ue<V.length;ue++){const{name:pe,fn:he}=V[ue],{x:xe,y:$e,data:Ne,reset:Oe}=await he({x:j,y:re,initialPlacement:g,placement:oe,strategy:y,middlewareData:ae,rects:z,platform:$,elements:{reference:n,floating:e}});if(j=xe??j,re=$e??re,ae={...ae,[pe]:{...ae[pe],...Ne}},Oe&&de<=50){de++,typeof Oe=="object"&&(Oe.placement&&(oe=Oe.placement),Oe.rects&&(z=Oe.rects===!0?await $.getElementRects({reference:n,floating:e,strategy:y}):Oe.rects),{x:j,y:re}=computeCoordsFromPlacement(z,oe,L)),ue=-1;continue}}return{x:j,y:re,placement:oe,strategy:y,middlewareData:ae}},arrow=n=>({name:"arrow",options:n,async fn(e){const{x:r,y:g,placement:y,rects:k,platform:$,elements:V}=e,{element:L,padding:z=0}=evaluate(n,e)||{};if(L==null)return{};const j=getPaddingObject(z),re={x:r,y:g},oe=getAlignmentAxis(y),ae=getAxisLength(oe),de=await $.getDimensions(L),ue=oe==="y",pe=ue?"top":"left",he=ue?"bottom":"right",xe=ue?"clientHeight":"clientWidth",$e=k.reference[ae]+k.reference[oe]-re[oe]-k.floating[ae],Ne=re[oe]-k.reference[oe],Oe=await($.getOffsetParent==null?void 0:$.getOffsetParent(L));let _e=Oe?Oe[xe]:0;(!_e||!await($.isElement==null?void 0:$.isElement(Oe)))&&(_e=V.floating[xe]||k.floating[ae]);const Fe=$e/2-Ne/2,Ue=_e/2-de[ae]/2-1,kt=min$1(j[pe],Ue),Lt=min$1(j[he],Ue),wn=kt,Et=_e-de[ae]-Lt,xn=_e/2-de[ae]/2+Fe,jt=clamp(wn,xn,Et),Dn=getAlignment(y)!=null&&xn!=jt&&k.reference[ae]/2-(xn<wn?kt:Lt)-de[ae]/2<0?xn<wn?wn-xn:Et-xn:0;return{[oe]:re[oe]-Dn,data:{[oe]:jt,centerOffset:xn-jt+Dn}}}});async function convertValueToCoords(n,e){const{placement:r,platform:g,elements:y}=n,k=await(g.isRTL==null?void 0:g.isRTL(y.floating)),$=getSide(r),V=getAlignment(r),L=getSideAxis(r)==="y",z=["left","top"].includes($)?-1:1,j=k&&L?-1:1,re=evaluate(e,n);let{mainAxis:oe,crossAxis:ae,alignmentAxis:de}=typeof re=="number"?{mainAxis:re,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...re};return V&&typeof de=="number"&&(ae=V==="end"?de*-1:de),L?{x:ae*j,y:oe*z}:{x:oe*z,y:ae*j}}const offset=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:r,y:g}=e,y=await convertValueToCoords(e,n);return{x:r+y.x,y:g+y.y,data:y}}}};function getNodeName(n){return isNode(n)?(n.nodeName||"").toLowerCase():"#document"}function getWindow(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(n){var e;return(e=(isNode(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function isNode(n){return n instanceof Node||n instanceof getWindow(n).Node}function isElement(n){return n instanceof Element||n instanceof getWindow(n).Element}function isHTMLElement(n){return n instanceof HTMLElement||n instanceof getWindow(n).HTMLElement}function isShadowRoot(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof getWindow(n).ShadowRoot}function isOverflowElement(n){const{overflow:e,overflowX:r,overflowY:g,display:y}=getComputedStyle$1(n);return/auto|scroll|overlay|hidden|clip/.test(e+g+r)&&!["inline","contents"].includes(y)}function isTableElement(n){return["table","td","th"].includes(getNodeName(n))}function isContainingBlock(n){const e=isWebKit(),r=getComputedStyle$1(n);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(g=>(r.willChange||"").includes(g))||["paint","layout","strict","content"].some(g=>(r.contain||"").includes(g))}function getContainingBlock(n){let e=getParentNode(n);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(n){return["html","body","#document"].includes(getNodeName(n))}function getComputedStyle$1(n){return getWindow(n).getComputedStyle(n)}function getNodeScroll(n){return isElement(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function getParentNode(n){if(getNodeName(n)==="html")return n;const e=n.assignedSlot||n.parentNode||isShadowRoot(n)&&n.host||getDocumentElement(n);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(n){const e=getParentNode(n);return isLastTraversableNode(e)?n.ownerDocument?n.ownerDocument.body:n.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(n,e){var r;e===void 0&&(e=[]);const g=getNearestOverflowAncestor(n),y=g===((r=n.ownerDocument)==null?void 0:r.body),k=getWindow(g);return y?e.concat(k,k.visualViewport||[],isOverflowElement(g)?g:[],k.frameElement?getOverflowAncestors(k.frameElement):[]):e.concat(g,getOverflowAncestors(g))}function getCssDimensions(n){const e=getComputedStyle$1(n);let r=parseFloat(e.width)||0,g=parseFloat(e.height)||0;const y=isHTMLElement(n),k=y?n.offsetWidth:r,$=y?n.offsetHeight:g,V=round(r)!==k||round(g)!==$;return V&&(r=k,g=$),{width:r,height:g,$:V}}function unwrapElement(n){return isElement(n)?n:n.contextElement}function getScale$1(n){const e=unwrapElement(n);if(!isHTMLElement(e))return createCoords(1);const r=e.getBoundingClientRect(),{width:g,height:y,$:k}=getCssDimensions(e);let $=(k?round(r.width):r.width)/g,V=(k?round(r.height):r.height)/y;return(!$||!Number.isFinite($))&&($=1),(!V||!Number.isFinite(V))&&(V=1),{x:$,y:V}}const noOffsets=createCoords(0);function getVisualOffsets(n){const e=getWindow(n);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(n,e,r){return e===void 0&&(e=!1),!r||e&&r!==getWindow(n)?!1:e}function getBoundingClientRect(n,e,r,g){e===void 0&&(e=!1),r===void 0&&(r=!1);const y=n.getBoundingClientRect(),k=unwrapElement(n);let $=createCoords(1);e&&(g?isElement(g)&&($=getScale$1(g)):$=getScale$1(n));const V=shouldAddVisualOffsets(k,r,g)?getVisualOffsets(k):createCoords(0);let L=(y.left+V.x)/$.x,z=(y.top+V.y)/$.y,j=y.width/$.x,re=y.height/$.y;if(k){const oe=getWindow(k),ae=g&&isElement(g)?getWindow(g):g;let de=oe.frameElement;for(;de&&g&&ae!==oe;){const ue=getScale$1(de),pe=de.getBoundingClientRect(),he=getComputedStyle$1(de),xe=pe.left+(de.clientLeft+parseFloat(he.paddingLeft))*ue.x,$e=pe.top+(de.clientTop+parseFloat(he.paddingTop))*ue.y;L*=ue.x,z*=ue.y,j*=ue.x,re*=ue.y,L+=xe,z+=$e,de=getWindow(de).frameElement}}return rectToClientRect({width:j,height:re,x:L,y:z})}function convertOffsetParentRelativeRectToViewportRelativeRect(n){let{rect:e,offsetParent:r,strategy:g}=n;const y=isHTMLElement(r),k=getDocumentElement(r);if(r===k)return e;let $={scrollLeft:0,scrollTop:0},V=createCoords(1);const L=createCoords(0);if((y||!y&&g!=="fixed")&&((getNodeName(r)!=="body"||isOverflowElement(k))&&($=getNodeScroll(r)),isHTMLElement(r))){const z=getBoundingClientRect(r);V=getScale$1(r),L.x=z.x+r.clientLeft,L.y=z.y+r.clientTop}return{width:e.width*V.x,height:e.height*V.y,x:e.x*V.x-$.scrollLeft*V.x+L.x,y:e.y*V.y-$.scrollTop*V.y+L.y}}function getClientRects(n){return Array.from(n.getClientRects())}function getWindowScrollBarX(n){return getBoundingClientRect(getDocumentElement(n)).left+getNodeScroll(n).scrollLeft}function getDocumentRect(n){const e=getDocumentElement(n),r=getNodeScroll(n),g=n.ownerDocument.body,y=max$1(e.scrollWidth,e.clientWidth,g.scrollWidth,g.clientWidth),k=max$1(e.scrollHeight,e.clientHeight,g.scrollHeight,g.clientHeight);let $=-r.scrollLeft+getWindowScrollBarX(n);const V=-r.scrollTop;return getComputedStyle$1(g).direction==="rtl"&&($+=max$1(e.clientWidth,g.clientWidth)-y),{width:y,height:k,x:$,y:V}}function getViewportRect(n,e){const r=getWindow(n),g=getDocumentElement(n),y=r.visualViewport;let k=g.clientWidth,$=g.clientHeight,V=0,L=0;if(y){k=y.width,$=y.height;const z=isWebKit();(!z||z&&e==="fixed")&&(V=y.offsetLeft,L=y.offsetTop)}return{width:k,height:$,x:V,y:L}}function getInnerBoundingClientRect(n,e){const r=getBoundingClientRect(n,!0,e==="fixed"),g=r.top+n.clientTop,y=r.left+n.clientLeft,k=isHTMLElement(n)?getScale$1(n):createCoords(1),$=n.clientWidth*k.x,V=n.clientHeight*k.y,L=y*k.x,z=g*k.y;return{width:$,height:V,x:L,y:z}}function getClientRectFromClippingAncestor(n,e,r){let g;if(e==="viewport")g=getViewportRect(n,r);else if(e==="document")g=getDocumentRect(getDocumentElement(n));else if(isElement(e))g=getInnerBoundingClientRect(e,r);else{const y=getVisualOffsets(n);g={...e,x:e.x-y.x,y:e.y-y.y}}return rectToClientRect(g)}function hasFixedPositionAncestor(n,e){const r=getParentNode(n);return r===e||!isElement(r)||isLastTraversableNode(r)?!1:getComputedStyle$1(r).position==="fixed"||hasFixedPositionAncestor(r,e)}function getClippingElementAncestors(n,e){const r=e.get(n);if(r)return r;let g=getOverflowAncestors(n).filter(V=>isElement(V)&&getNodeName(V)!=="body"),y=null;const k=getComputedStyle$1(n).position==="fixed";let $=k?getParentNode(n):n;for(;isElement($)&&!isLastTraversableNode($);){const V=getComputedStyle$1($),L=isContainingBlock($);!L&&V.position==="fixed"&&(y=null),(k?!L&&!y:!L&&V.position==="static"&&!!y&&["absolute","fixed"].includes(y.position)||isOverflowElement($)&&!L&&hasFixedPositionAncestor(n,$))?g=g.filter(j=>j!==$):y=V,$=getParentNode($)}return e.set(n,g),g}function getClippingRect(n){let{element:e,boundary:r,rootBoundary:g,strategy:y}=n;const $=[...r==="clippingAncestors"?getClippingElementAncestors(e,this._c):[].concat(r),g],V=$[0],L=$.reduce((z,j)=>{const re=getClientRectFromClippingAncestor(e,j,y);return z.top=max$1(re.top,z.top),z.right=min$1(re.right,z.right),z.bottom=min$1(re.bottom,z.bottom),z.left=max$1(re.left,z.left),z},getClientRectFromClippingAncestor(e,V,y));return{width:L.right-L.left,height:L.bottom-L.top,x:L.left,y:L.top}}function getDimensions(n){return getCssDimensions(n)}function getRectRelativeToOffsetParent(n,e,r){const g=isHTMLElement(e),y=getDocumentElement(e),k=r==="fixed",$=getBoundingClientRect(n,!0,k,e);let V={scrollLeft:0,scrollTop:0};const L=createCoords(0);if(g||!g&&!k)if((getNodeName(e)!=="body"||isOverflowElement(y))&&(V=getNodeScroll(e)),g){const z=getBoundingClientRect(e,!0,k,e);L.x=z.x+e.clientLeft,L.y=z.y+e.clientTop}else y&&(L.x=getWindowScrollBarX(y));return{x:$.left+V.scrollLeft-L.x,y:$.top+V.scrollTop-L.y,width:$.width,height:$.height}}function getTrueOffsetParent(n,e){return!isHTMLElement(n)||getComputedStyle$1(n).position==="fixed"?null:e?e(n):n.offsetParent}function getOffsetParent(n,e){const r=getWindow(n);if(!isHTMLElement(n))return r;let g=getTrueOffsetParent(n,e);for(;g&&isTableElement(g)&&getComputedStyle$1(g).position==="static";)g=getTrueOffsetParent(g,e);return g&&(getNodeName(g)==="html"||getNodeName(g)==="body"&&getComputedStyle$1(g).position==="static"&&!isContainingBlock(g))?r:g||getContainingBlock(n)||r}const getElementRects=async function(n){let{reference:e,floating:r,strategy:g}=n;const y=this.getOffsetParent||getOffsetParent,k=this.getDimensions;return{reference:getRectRelativeToOffsetParent(e,await y(r),g),floating:{x:0,y:0,...await k(r)}}};function isRTL$1(n){return getComputedStyle$1(n).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement,isRTL:isRTL$1},computePosition=(n,e,r)=>{const g=new Map,y={platform,...r},k={...y.platform,_c:g};return computePosition$1(n,e,{...y,platform:k})};buildProps({});const unrefReference=n=>{if(!isClient)return;if(!n)return n;const e=unrefElement(n);return e||(isRef(n)?e:n)},useFloating=({middleware:n,placement:e,strategy:r})=>{const g=ref(),y=ref(),k=ref(),$=ref(),V=ref({}),L={x:k,y:$,placement:e,strategy:r,middlewareData:V},z=async()=>{if(!isClient)return;const j=unrefReference(g),re=unrefElement(y);if(!j||!re)return;const oe=await computePosition(j,re,{placement:unref(e),strategy:unref(r),middleware:unref(n)});keysOf(L).forEach(ae=>{L[ae].value=oe[ae]})};return onMounted(()=>{watchEffect(()=>{z()})}),{...L,update:z,referenceRef:g,contentRef:y}},arrowMiddleware=({arrowRef:n,padding:e})=>({name:"arrow",options:{element:n,padding:e},fn(r){const g=unref(n);return g?arrow({element:g,padding:e}).fn(r):{}}});function useCursor(n){const e=ref();function r(){if(n.value==null)return;const{selectionStart:y,selectionEnd:k,value:$}=n.value;if(y==null||k==null)return;const V=$.slice(0,Math.max(0,y)),L=$.slice(Math.max(0,k));e.value={selectionStart:y,selectionEnd:k,value:$,beforeTxt:V,afterTxt:L}}function g(){if(n.value==null||e.value==null)return;const{value:y}=n.value,{beforeTxt:k,afterTxt:$,selectionStart:V}=e.value;if(k==null||$==null||V==null)return;let L=y.length;if(y.endsWith($))L=y.length-$.length;else if(y.startsWith(k))L=k.length;else{const z=k[V-1],j=y.indexOf(z,V-1);j!==-1&&(L=j+1)}n.value.setSelectionRange(L,L)}return[r,g]}const getOrderedChildren=(n,e,r)=>flattedChildren(n.subTree).filter(k=>{var $;return isVNode$1(k)&&(($=k.type)==null?void 0:$.name)===e&&!!k.component}).map(k=>k.component.uid).map(k=>r[k]).filter(k=>!!k),useOrderedChildren=(n,e)=>{const r={},g=shallowRef([]);return{children:g,addChild:$=>{r[$.uid]=$,g.value=getOrderedChildren(n,e,r)},removeChild:$=>{delete r[$],g.value=g.value.filter(V=>V.uid!==$)}}},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const n=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(n.size)||"")};function useFocusController(n,{afterFocus:e,afterBlur:r}={}){const g=getCurrentInstance(),{emit:y}=g,k=shallowRef(),$=ref(!1),V=j=>{$.value||($.value=!0,y("focus",j),e?.())},L=j=>{var re;j.relatedTarget&&((re=k.value)!=null&&re.contains(j.relatedTarget))||($.value=!1,y("blur",j),r?.())},z=()=>{var j;(j=n.value)==null||j.focus()};return watch(k,j=>{j&&j.setAttribute("tabindex","-1")}),useEventListener(k,"click",z),{wrapperRef:k,isFocused:$,handleFocus:V,handleBlur:L}}const configProviderContextKey=Symbol(),globalConfig=ref();function useGlobalConfig(n,e=void 0){const r=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return n?computed(()=>{var g,y;return(y=(g=r.value)==null?void 0:g[n])!=null?y:e}):r}function useGlobalComponentSettings(n,e){const r=useGlobalConfig(),g=useNamespace(n,computed(()=>{var V;return((V=r.value)==null?void 0:V.namespace)||defaultNamespace})),y=useLocale(computed(()=>{var V;return(V=r.value)==null?void 0:V.locale})),k=useZIndex(computed(()=>{var V;return((V=r.value)==null?void 0:V.zIndex)||defaultInitialZIndex})),$=computed(()=>{var V;return unref(e)||((V=r.value)==null?void 0:V.size)||""});return provideGlobalConfig(computed(()=>unref(r)||{})),{ns:g,locale:y,zIndex:k,size:$}}const provideGlobalConfig=(n,e,r=!1)=>{var g;const y=!!getCurrentInstance(),k=y?useGlobalConfig():void 0,$=(g=e?.provide)!=null?g:y?provide:void 0;if(!$)return;const V=computed(()=>{const L=unref(n);return k?.value?mergeConfig(k.value,L):L});return $(configProviderContextKey,V),$(localeContextKey,computed(()=>V.value.locale)),$(namespaceContextKey,computed(()=>V.value.namespace)),$(zIndexContextKey,computed(()=>V.value.zIndex)),$(SIZE_INJECTION_KEY,{size:computed(()=>V.value.size||"")}),(r||!globalConfig.value)&&(globalConfig.value=V.value),V},mergeConfig=(n,e)=>{var r;const g=[...new Set([...keysOf(n),...keysOf(e)])],y={};for(const k of g)y[k]=(r=e[k])!=null?r:n[k];return y},configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),messageConfig={},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(n,{slots:e}){watch(()=>n.message,g=>{Object.assign(messageConfig,g??{})},{immediate:!0,deep:!0});const r=provideGlobalConfig(n);return()=>renderSlot(e,"default",{config:r?.value})}}),ElConfigProvider=withInstall(ConfigProvider),version="2.3.12",makeInstaller=(n=[])=>({version,install:(r,g)=>{r[INSTALLED_KEY]||(r[INSTALLED_KEY]=!0,n.forEach(y=>r.use(y)),g&&provideGlobalConfig(g,r,!0))}}),affixProps=buildProps({zIndex:{type:definePropType([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),affixEmits={scroll:({scrollTop:n,fixed:e})=>isNumber$1(n)&&isBoolean$1(e),[CHANGE_EVENT]:n=>isBoolean$1(n)};var _export_sfc$1=(n,e)=>{const r=n.__vccOpts||n;for(const[g,y]of e)r[g]=y;return r};const COMPONENT_NAME$n="ElAffix",__default__$1C=defineComponent({name:COMPONENT_NAME$n}),_sfc_main$3p=defineComponent({...__default__$1C,props:affixProps,emits:affixEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("affix"),k=shallowRef(),$=shallowRef(),V=shallowRef(),{height:L}=useWindowSize(),{height:z,width:j,top:re,bottom:oe,update:ae}=useElementBounding($,{windowScroll:!1}),de=useElementBounding(k),ue=ref(!1),pe=ref(0),he=ref(0),xe=computed(()=>({height:ue.value?`${z.value}px`:"",width:ue.value?`${j.value}px`:""})),$e=computed(()=>{if(!ue.value)return{};const _e=g.offset?addUnit(g.offset):0;return{height:`${z.value}px`,width:`${j.value}px`,top:g.position==="top"?_e:"",bottom:g.position==="bottom"?_e:"",transform:he.value?`translateY(${he.value}px)`:"",zIndex:g.zIndex}}),Ne=()=>{if(V.value)if(pe.value=V.value instanceof Window?document.documentElement.scrollTop:V.value.scrollTop||0,g.position==="top")if(g.target){const _e=de.bottom.value-g.offset-z.value;ue.value=g.offset>re.value&&de.bottom.value>0,he.value=_e<0?_e:0}else ue.value=g.offset>re.value;else if(g.target){const _e=L.value-de.top.value-g.offset-z.value;ue.value=L.value-g.offset<oe.value&&L.value>de.top.value,he.value=_e<0?-_e:0}else ue.value=L.value-g.offset<oe.value},Oe=()=>{ae(),r("scroll",{scrollTop:pe.value,fixed:ue.value})};return watch(ue,_e=>r("change",_e)),onMounted(()=>{var _e;g.target?(k.value=(_e=document.querySelector(g.target))!=null?_e:void 0,k.value||throwError(COMPONENT_NAME$n,`Target is not existed: ${g.target}`)):k.value=document.documentElement,V.value=getScrollContainer($.value,!0),ae()}),useEventListener(V,"scroll",Oe),watchEffect(Ne),e({update:Ne,updateRoot:ae}),(_e,Fe)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:$,class:normalizeClass(unref(y).b()),style:normalizeStyle(unref(xe))},[createBaseVNode("div",{class:normalizeClass({[unref(y).m("fixed")]:ue.value}),style:normalizeStyle(unref($e))},[renderSlot(_e.$slots,"default")],6)],6))}});var Affix=_export_sfc$1(_sfc_main$3p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const ElAffix=withInstall(Affix),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$1B=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$3o=defineComponent({...__default__$1B,props:iconProps,setup(n){const e=n,r=useNamespace("icon"),g=computed(()=>{const{size:y,color:k}=e;return!y&&!k?{}:{fontSize:isUndefined(y)?void 0:addUnit(y),"--color":k}});return(y,k)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref(g)},y.$attrs),[renderSlot(y.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$3o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon),alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"}}),alertEmits={close:n=>n instanceof MouseEvent},__default__$1A=defineComponent({name:"ElAlert"}),_sfc_main$3n=defineComponent({...__default__$1A,props:alertProps,emits:alertEmits,setup(n,{emit:e}){const r=n,{Close:g}=TypeComponents,y=useSlots(),k=useNamespace("alert"),$=ref(!0),V=computed(()=>TypeComponentsMap[r.type]),L=computed(()=>[k.e("icon"),{[k.is("big")]:!!r.description||!!y.default}]),z=computed(()=>({[k.is("bold")]:r.description||y.default})),j=re=>{$.value=!1,e("close",re)};return(re,oe)=>(openBlock(),createBlock(Transition,{name:unref(k).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref(k).b(),unref(k).m(re.type),unref(k).is("center",re.center),unref(k).is(re.effect)]),role:"alert"},[re.showIcon&&unref(V)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(V))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).e("content"))},[re.title||re.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(k).e("title"),unref(z)])},[renderSlot(re.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(re.title),1)])],2)):createCommentVNode("v-if",!0),re.$slots.default||re.description?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref(k).e("description"))},[renderSlot(re.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(re.description),1)])],2)):createCommentVNode("v-if",!0),re.closable?(openBlock(),createElementBlock(Fragment,{key:2},[re.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(k).e("close-btn"),unref(k).is("customed")]),onClick:j},toDisplayString$1(re.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(k).e("close-btn")),onClick:j},{default:withCtx(()=>[createVNode(unref(g))]),_:1},8,["class"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,$.value]])]),_:3},8,["name"]))}});var Alert=_export_sfc$1(_sfc_main$3n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const ElAlert=withInstall(Alert),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(n,e={})=>{const r=ref(void 0),g=e.prop?r:useProp("size"),y=e.global?r:useGlobalSize(),k=e.form?{size:void 0}:inject(formContextKey,void 0),$=e.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>g.value||unref(n)||$?.size||k?.size||y.value||"")},useFormDisabled=n=>{const e=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>e.value||unref(n)||r?.disabled||!1)},useFormItem=()=>{const n=inject(formContextKey,void 0),e=inject(formItemContextKey,void 0);return{form:n,formItem:e}},useFormItemInputId=(n,{formItemContext:e,disableIdGeneration:r,disableIdManagement:g})=>{r||(r=ref(!1)),g||(g=ref(!1));const y=ref();let k;const $=computed(()=>{var V;return!!(!n.label&&e&&e.inputIds&&((V=e.inputIds)==null?void 0:V.length)<=1)});return onMounted(()=>{k=watch([toRef(n,"id"),r],([V,L])=>{const z=V??(L?void 0:useId().value);z!==y.value&&(e?.removeInputId&&(y.value&&e.removeInputId(y.value),!g?.value&&!L&&z&&e.addInputId(z)),y.value=z)},{immediate:!0})}),onUnmounted(()=>{k&&k(),e?.removeInputId&&y.value&&e.removeInputId(y.value)}),{isLabeledByFormItem:$,inputId:y}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(n,e,r)=>(isArray$3(n)||isString$3(n))&&isBoolean$1(e)&&isString$3(r)};function useFormLabelWidth(){const n=ref([]),e=computed(()=>{if(!n.value.length)return"0";const k=Math.max(...n.value);return k?`${k}px`:""});function r(k){const $=n.value.indexOf(k);return $===-1&&e.value,$}function g(k,$){if(k&&$){const V=r($);n.value.splice(V,1,k)}else k&&n.value.push(k)}function y(k){const $=r(k);$>-1&&n.value.splice($,1)}return{autoLabelWidth:e,registerLabelWidth:g,deregisterLabelWidth:y}}const filterFields=(n,e)=>{const r=castArray$1(e);return r.length>0?n.filter(g=>g.prop&&r.includes(g.prop)):n},COMPONENT_NAME$m="ElForm",__default__$1z=defineComponent({name:COMPONENT_NAME$m}),_sfc_main$3m=defineComponent({...__default__$1z,props:formProps,emits:formEmits,setup(n,{expose:e,emit:r}){const g=n,y=[],k=useFormSize(),$=useNamespace("form"),V=computed(()=>{const{labelPosition:xe,inline:$e}=g;return[$.b(),$.m(k.value||"default"),{[$.m(`label-${xe}`)]:xe,[$.m("inline")]:$e}]}),L=xe=>{y.push(xe)},z=xe=>{xe.prop&&y.splice(y.indexOf(xe),1)},j=(xe=[])=>{g.model&&filterFields(y,xe).forEach($e=>$e.resetField())},re=(xe=[])=>{filterFields(y,xe).forEach($e=>$e.clearValidate())},oe=computed(()=>!!g.model),ae=xe=>{if(y.length===0)return[];const $e=filterFields(y,xe);return $e.length?$e:[]},de=async xe=>pe(void 0,xe),ue=async(xe=[])=>{if(!oe.value)return!1;const $e=ae(xe);if($e.length===0)return!0;let Ne={};for(const Oe of $e)try{await Oe.validate("")}catch(_e){Ne={...Ne,..._e}}return Object.keys(Ne).length===0?!0:Promise.reject(Ne)},pe=async(xe=[],$e)=>{const Ne=!isFunction$3($e);try{const Oe=await ue(xe);return Oe===!0&&$e?.(Oe),Oe}catch(Oe){if(Oe instanceof Error)throw Oe;const _e=Oe;return g.scrollToError&&he(Object.keys(_e)[0]),$e?.(!1,_e),Ne&&Promise.reject(_e)}},he=xe=>{var $e;const Ne=filterFields(y,xe)[0];Ne&&(($e=Ne.$el)==null||$e.scrollIntoView(g.scrollIntoViewOptions))};return watch(()=>g.rules,()=>{g.validateOnRuleChange&&de().catch(xe=>void 0)},{deep:!0}),provide(formContextKey,reactive({...toRefs(g),emit:r,resetFields:j,clearValidate:re,validateField:pe,addField:L,removeField:z,...useFormLabelWidth()})),e({validate:de,validateField:pe,resetFields:j,clearValidate:re,scrollToField:he}),(xe,$e)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(V))},[renderSlot(xe.$slots,"default")],2))}});var Form=_export_sfc$1(_sfc_main$3m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]),define_process_env_default$1={};function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(n[g]=r[g])}return n},_extends.apply(this,arguments)}function _inheritsLoose(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_setPrototypeOf(n,e)}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(n)}function _setPrototypeOf(n,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,y){return g.__proto__=y,g},_setPrototypeOf(n,e)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(n,e,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(y,k,$){var V=[null];V.push.apply(V,k);var L=Function.bind.apply(y,V),z=new L;return $&&_setPrototypeOf(z,$.prototype),z},_construct.apply(null,arguments)}function _isNativeFunction(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function _wrapNativeSuper(n){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(g){if(g===null||!_isNativeFunction(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(g))return e.get(g);e.set(g,y)}function y(){return _construct(g,arguments,_getPrototypeOf(this).constructor)}return y.prototype=Object.create(g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(y,g)},_wrapNativeSuper(n)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process<"u";function convertFieldsError(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var g=r.field;e[g]=e[g]||[],e[g].push(r)}),e}function format$2(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),g=1;g<e;g++)r[g-1]=arguments[g];var y=0,k=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var $=n.replace(formatRegExp,function(V){if(V==="%%")return"%";if(y>=k)return V;switch(V){case"%s":return String(r[y++]);case"%d":return Number(r[y++]);case"%j":try{return JSON.stringify(r[y++])}catch{return"[Circular]"}break;default:return V}});return $}return n}function isNativeStringType(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function isEmptyValue(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||isNativeStringType(e)&&typeof n=="string"&&!n)}function asyncParallelArray(n,e,r){var g=[],y=0,k=n.length;function $(V){g.push.apply(g,V||[]),y++,y===k&&r(g)}n.forEach(function(V){e(V,$)})}function asyncSerialArray(n,e,r){var g=0,y=n.length;function k($){if($&&$.length){r($);return}var V=g;g=g+1,V<y?e(n[V],k):r([])}k([])}function flattenObjArr(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,n[r]||[])}),e}var AsyncValidationError=function(n){_inheritsLoose(e,n);function e(r,g){var y;return y=n.call(this,"Async Validation Error")||this,y.errors=r,y.fields=g,y}return e}(_wrapNativeSuper(Error));function asyncMap(n,e,r,g,y){if(e.first){var k=new Promise(function(oe,ae){var de=function(he){return g(he),he.length?ae(new AsyncValidationError(he,convertFieldsError(he))):oe(y)},ue=flattenObjArr(n);asyncSerialArray(ue,r,de)});return k.catch(function(oe){return oe}),k}var $=e.firstFields===!0?Object.keys(n):e.firstFields||[],V=Object.keys(n),L=V.length,z=0,j=[],re=new Promise(function(oe,ae){var de=function(pe){if(j.push.apply(j,pe),z++,z===L)return g(j),j.length?ae(new AsyncValidationError(j,convertFieldsError(j))):oe(y)};V.length||(g(j),oe(y)),V.forEach(function(ue){var pe=n[ue];$.indexOf(ue)!==-1?asyncSerialArray(pe,r,de):asyncParallelArray(pe,r,de)})});return re.catch(function(oe){return oe}),re}function isErrorObj(n){return!!(n&&n.message!==void 0)}function getValue(n,e){for(var r=n,g=0;g<e.length;g++){if(r==null)return r;r=r[e[g]]}return r}function complementError(n,e){return function(r){var g;return n.fullFields?g=getValue(e,n.fullFields):g=e[r.field||n.fullField],isErrorObj(r)?(r.field=r.field||n.fullField,r.fieldValue=g,r):{message:typeof r=="function"?r():r,fieldValue:g,field:r.field||n.fullField}}}function deepMerge(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var g=e[r];typeof g=="object"&&typeof n[r]=="object"?n[r]=_extends({},n[r],g):n[r]=g}}return n}var required$1=function(e,r,g,y,k,$){e.required&&(!g.hasOwnProperty(e.field)||isEmptyValue(r,$||e.type))&&y.push(format$2(k.messages.required,e.fullField))},whitespace=function(e,r,g,y,k){(/^\s+$/.test(r)||r==="")&&y.push(format$2(k.messages.whitespace,e.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var n="[a-fA-F\\d:]",e=function(Ne){return Ne&&Ne.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",g="[a-fA-F\\d]{1,4}",y=(`
(?:
(?:`+g+":){7}(?:"+g+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+g+":){6}(?:"+r+"|:"+g+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+g+":){5}(?::"+r+"|(?::"+g+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+g+":){4}(?:(?::"+g+"){0,1}:"+r+"|(?::"+g+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+g+":){3}(?:(?::"+g+"){0,2}:"+r+"|(?::"+g+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+g+":){2}(?:(?::"+g+"){0,3}:"+r+"|(?::"+g+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+g+":){1}(?:(?::"+g+"){0,4}:"+r+"|(?::"+g+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+g+"){0,5}:"+r+"|(?::"+g+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),k=new RegExp("(?:^"+r+"$)|(?:^"+y+"$)"),$=new RegExp("^"+r+"$"),V=new RegExp("^"+y+"$"),L=function(Ne){return Ne&&Ne.exact?k:new RegExp("(?:"+e(Ne)+r+e(Ne)+")|(?:"+e(Ne)+y+e(Ne)+")","g")};L.v4=function($e){return $e&&$e.exact?$:new RegExp(""+e($e)+r+e($e),"g")},L.v6=function($e){return $e&&$e.exact?V:new RegExp(""+e($e)+y+e($e),"g")};var z="(?:(?:[a-z]+:)?//)",j="(?:\\S+(?::\\S*)?@)?",re=L.v4().source,oe=L.v6().source,ae="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",de="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",ue="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",pe="(?::\\d{2,5})?",he='(?:[/?#][^\\s"]*)?',xe="(?:"+z+"|www\\.)"+j+"(?:localhost|"+re+"|"+oe+"|"+ae+de+ue+")"+pe+he;return urlReg=new RegExp("(?:^"+xe+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types$1={integer:function(e){return types$1.number(e)&&parseInt(e,10)===e},float:function(e){return types$1.number(e)&&!types$1.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!types$1.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(pattern$2.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(getUrlRegex())},hex:function(e){return typeof e=="string"&&!!e.match(pattern$2.hex)}},type$1=function(e,r,g,y,k){if(e.required&&r===void 0){required$1(e,r,g,y,k);return}var $=["integer","float","array","regexp","object","method","email","number","date","url","hex"],V=e.type;$.indexOf(V)>-1?types$1[V](r)||y.push(format$2(k.messages.types[V],e.fullField,e.type)):V&&typeof r!==e.type&&y.push(format$2(k.messages.types[V],e.fullField,e.type))},range=function(e,r,g,y,k){var $=typeof e.len=="number",V=typeof e.min=="number",L=typeof e.max=="number",z=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=r,re=null,oe=typeof r=="number",ae=typeof r=="string",de=Array.isArray(r);if(oe?re="number":ae?re="string":de&&(re="array"),!re)return!1;de&&(j=r.length),ae&&(j=r.replace(z,"_").length),$?j!==e.len&&y.push(format$2(k.messages[re].len,e.fullField,e.len)):V&&!L&&j<e.min?y.push(format$2(k.messages[re].min,e.fullField,e.min)):L&&!V&&j>e.max?y.push(format$2(k.messages[re].max,e.fullField,e.max)):V&&L&&(j<e.min||j>e.max)&&y.push(format$2(k.messages[re].range,e.fullField,e.min,e.max))},ENUM$1="enum",enumerable$1=function(e,r,g,y,k){e[ENUM$1]=Array.isArray(e[ENUM$1])?e[ENUM$1]:[],e[ENUM$1].indexOf(r)===-1&&y.push(format$2(k.messages[ENUM$1],e.fullField,e[ENUM$1].join(", ")))},pattern$1=function(e,r,g,y,k){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||y.push(format$2(k.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var $=new RegExp(e.pattern);$.test(r)||y.push(format$2(k.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string$1=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r,"string")&&!e.required)return g();rules.required(e,r,y,$,k,"string"),isEmptyValue(r,"string")||(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k),rules.pattern(e,r,y,$,k),e.whitespace===!0&&rules.whitespace(e,r,y,$,k))}g($)},method2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules.type(e,r,y,$,k)}g($)},number2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(r===""&&(r=void 0),isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},_boolean=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules.type(e,r,y,$,k)}g($)},regexp2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),isEmptyValue(r)||rules.type(e,r,y,$,k)}g($)},integer2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},floatFn=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},array2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(r==null&&!e.required)return g();rules.required(e,r,y,$,k,"array"),r!=null&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},object2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules.type(e,r,y,$,k)}g($)},ENUM="enum",enumerable2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules[ENUM](e,r,y,$,k)}g($)},pattern2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r,"string")&&!e.required)return g();rules.required(e,r,y,$,k),isEmptyValue(r,"string")||rules.pattern(e,r,y,$,k)}g($)},date2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r,"date")&&!e.required)return g();if(rules.required(e,r,y,$,k),!isEmptyValue(r,"date")){var L;r instanceof Date?L=r:L=new Date(r),rules.type(e,L,y,$,k),L&&rules.range(e,L.getTime(),y,$,k)}}g($)},required2=function(e,r,g,y,k){var $=[],V=Array.isArray(r)?"array":typeof r;rules.required(e,r,y,$,k,V),g($)},type2=function(e,r,g,y,k){var $=e.type,V=[],L=e.required||!e.required&&y.hasOwnProperty(e.field);if(L){if(isEmptyValue(r,$)&&!e.required)return g();rules.required(e,r,y,V,k,$),isEmptyValue(r,$)||rules.type(e,r,y,V,k)}g(V)},any=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k)}g($)},validators$1={string:string$1,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var messages$1=newMessages(),Schema=function(){function n(r){this.rules=null,this._messages=messages$1,this.define(r)}var e=n.prototype;return e.define=function(g){var y=this;if(!g)throw new Error("Cannot configure a schema with no rules");if(typeof g!="object"||Array.isArray(g))throw new Error("Rules must be an object");this.rules={},Object.keys(g).forEach(function(k){var $=g[k];y.rules[k]=Array.isArray($)?$:[$]})},e.messages=function(g){return g&&(this._messages=deepMerge(newMessages(),g)),this._messages},e.validate=function(g,y,k){var $=this;y===void 0&&(y={}),k===void 0&&(k=function(){});var V=g,L=y,z=k;if(typeof L=="function"&&(z=L,L={}),!this.rules||Object.keys(this.rules).length===0)return z&&z(null,V),Promise.resolve(V);function j(ue){var pe=[],he={};function xe(Ne){if(Array.isArray(Ne)){var Oe;pe=(Oe=pe).concat.apply(Oe,Ne)}else pe.push(Ne)}for(var $e=0;$e<ue.length;$e++)xe(ue[$e]);pe.length?(he=convertFieldsError(pe),z(pe,he)):z(null,V)}if(L.messages){var re=this.messages();re===messages$1&&(re=newMessages()),deepMerge(re,L.messages),L.messages=re}else L.messages=this.messages();var oe={},ae=L.keys||Object.keys(this.rules);ae.forEach(function(ue){var pe=$.rules[ue],he=V[ue];pe.forEach(function(xe){var $e=xe;typeof $e.transform=="function"&&(V===g&&(V=_extends({},V)),he=V[ue]=$e.transform(he)),typeof $e=="function"?$e={validator:$e}:$e=_extends({},$e),$e.validator=$.getValidationMethod($e),$e.validator&&($e.field=ue,$e.fullField=$e.fullField||ue,$e.type=$.getType($e),oe[ue]=oe[ue]||[],oe[ue].push({rule:$e,value:he,source:V,field:ue}))})});var de={};return asyncMap(oe,L,function(ue,pe){var he=ue.rule,xe=(he.type==="object"||he.type==="array")&&(typeof he.fields=="object"||typeof he.defaultField=="object");xe=xe&&(he.required||!he.required&&ue.value),he.field=ue.field;function $e(_e,Fe){return _extends({},Fe,{fullField:he.fullField+"."+_e,fullFields:he.fullFields?[].concat(he.fullFields,[_e]):[_e]})}function Ne(_e){_e===void 0&&(_e=[]);var Fe=Array.isArray(_e)?_e:[_e];!L.suppressWarning&&Fe.length&&n.warning("async-validator:",Fe),Fe.length&&he.message!==void 0&&(Fe=[].concat(he.message));var Ue=Fe.map(complementError(he,V));if(L.first&&Ue.length)return de[he.field]=1,pe(Ue);if(!xe)pe(Ue);else{if(he.required&&!ue.value)return he.message!==void 0?Ue=[].concat(he.message).map(complementError(he,V)):L.error&&(Ue=[L.error(he,format$2(L.messages.required,he.field))]),pe(Ue);var kt={};he.defaultField&&Object.keys(ue.value).map(function(Et){kt[Et]=he.defaultField}),kt=_extends({},kt,ue.rule.fields);var Lt={};Object.keys(kt).forEach(function(Et){var xn=kt[Et],jt=Array.isArray(xn)?xn:[xn];Lt[Et]=jt.map($e.bind(null,Et))});var wn=new n(Lt);wn.messages(L.messages),ue.rule.options&&(ue.rule.options.messages=L.messages,ue.rule.options.error=L.error),wn.validate(ue.value,ue.rule.options||L,function(Et){var xn=[];Ue&&Ue.length&&xn.push.apply(xn,Ue),Et&&Et.length&&xn.push.apply(xn,Et),pe(xn.length?xn:null)})}}var Oe;if(he.asyncValidator)Oe=he.asyncValidator(he,ue.value,Ne,ue.source,L);else if(he.validator){try{Oe=he.validator(he,ue.value,Ne,ue.source,L)}catch(_e){console.error?.(_e),L.suppressValidatorError||setTimeout(function(){throw _e},0),Ne(_e.message)}Oe===!0?Ne():Oe===!1?Ne(typeof he.message=="function"?he.message(he.fullField||he.field):he.message||(he.fullField||he.field)+" fails"):Oe instanceof Array?Ne(Oe):Oe instanceof Error&&Ne(Oe.message)}Oe&&Oe.then&&Oe.then(function(){return Ne()},function(_e){return Ne(_e)})},function(ue){j(ue)},V)},e.getType=function(g){if(g.type===void 0&&g.pattern instanceof RegExp&&(g.type="pattern"),typeof g.validator!="function"&&g.type&&!validators$1.hasOwnProperty(g.type))throw new Error(format$2("Unknown rule type %s",g.type));return g.type||"string"},e.getValidationMethod=function(g){if(typeof g.validator=="function")return g.validator;var y=Object.keys(g),k=y.indexOf("message");return k!==-1&&y.splice(k,1),y.length===1&&y[0]==="required"?validators$1.required:validators$1[this.getType(g)]||void 0},n}();Schema.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators$1[e]=r};Schema.warning=warning;Schema.messages=messages$1;Schema.validators=validators$1;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$l="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$l,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const r=inject(formContextKey,void 0),g=inject(formItemContextKey);g||throwError(COMPONENT_NAME$l,"usage: <el-form-item><label-wrap /></el-form-item>");const y=useNamespace("form"),k=ref(),$=ref(0),V=()=>{var j;if((j=k.value)!=null&&j.firstElementChild){const re=window.getComputedStyle(k.value.firstElementChild).width;return Math.ceil(Number.parseFloat(re))}else return 0},L=(j="update")=>{nextTick(()=>{e.default&&n.isAutoWidth&&(j==="update"?$.value=V():j==="remove"&&r?.deregisterLabelWidth($.value))})},z=()=>L("update");return onMounted(()=>{z()}),onBeforeUnmount(()=>{L("remove")}),onUpdated(()=>z()),watch($,(j,re)=>{n.updateAll&&r?.registerLabelWidth(j,re)}),useResizeObserver(computed(()=>{var j,re;return(re=(j=k.value)==null?void 0:j.firstElementChild)!=null?re:null}),z),()=>{var j,re;if(!e)return null;const{isAutoWidth:oe}=n;if(oe){const ae=r?.autoLabelWidth,de=g?.hasLabel,ue={};if(de&&ae&&ae!=="auto"){const pe=Math.max(0,Number.parseInt(ae,10)-$.value),he=r.labelPosition==="left"?"marginRight":"marginLeft";pe&&(ue[he]=`${pe}px`)}return createVNode("div",{ref:k,class:[y.be("item","label-wrap")],style:ue},[(j=e.default)==null?void 0:j.call(e)])}else return createVNode(Fragment,{ref:k},[(re=e.default)==null?void 0:re.call(e)])}}});const _hoisted_1$28=["role","aria-labelledby"],__default__$1y=defineComponent({name:"ElFormItem"}),_sfc_main$3l=defineComponent({...__default__$1y,props:formItemProps,setup(n,{expose:e}){const r=n,g=useSlots(),y=inject(formContextKey,void 0),k=inject(formItemContextKey,void 0),$=useFormSize(void 0,{formItem:!1}),V=useNamespace("form-item"),L=useId().value,z=ref([]),j=ref(""),re=refDebounced(j,100),oe=ref(""),ae=ref();let de,ue=!1;const pe=computed(()=>{if(y?.labelPosition==="top")return{};const Pn=addUnit(r.labelWidth||y?.labelWidth||"");return Pn?{width:Pn}:{}}),he=computed(()=>{if(y?.labelPosition==="top"||y?.inline)return{};if(!r.label&&!r.labelWidth&&kt)return{};const Pn=addUnit(r.labelWidth||y?.labelWidth||"");return!r.label&&!g.label?{marginLeft:Pn}:{}}),xe=computed(()=>[V.b(),V.m($.value),V.is("error",j.value==="error"),V.is("validating",j.value==="validating"),V.is("success",j.value==="success"),V.is("required",jt.value||r.required),V.is("no-asterisk",y?.hideRequiredAsterisk),y?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[V.m("feedback")]:y?.statusIcon}]),$e=computed(()=>isBoolean$1(r.inlineMessage)?r.inlineMessage:y?.inlineMessage||!1),Ne=computed(()=>[V.e("error"),{[V.em("error","inline")]:$e.value}]),Oe=computed(()=>r.prop?isString$3(r.prop)?r.prop:r.prop.join("."):""),_e=computed(()=>!!(r.label||g.label)),Fe=computed(()=>r.for||z.value.length===1?z.value[0]:void 0),Ue=computed(()=>!Fe.value&&_e.value),kt=!!k,Lt=computed(()=>{const Pn=y?.model;if(!(!Pn||!r.prop))return getProp(Pn,r.prop).value}),wn=computed(()=>{const{required:Pn}=r,jn=[];r.rules&&jn.push(...castArray$1(r.rules));const fr=y?.rules;if(fr&&r.prop){const yr=getProp(fr,r.prop).value;yr&&jn.push(...castArray$1(yr))}if(Pn!==void 0){const yr=jn.map((Cr,sr)=>[Cr,sr]).filter(([Cr])=>Object.keys(Cr).includes("required"));if(yr.length>0)for(const[Cr,sr]of yr)Cr.required!==Pn&&(jn[sr]={...Cr,required:Pn});else jn.push({required:Pn})}return jn}),Et=computed(()=>wn.value.length>0),xn=Pn=>wn.value.filter(fr=>!fr.trigger||!Pn?!0:Array.isArray(fr.trigger)?fr.trigger.includes(Pn):fr.trigger===Pn).map(({trigger:fr,...yr})=>yr),jt=computed(()=>wn.value.some(Pn=>Pn.required)),An=computed(()=>{var Pn;return re.value==="error"&&r.showMessage&&((Pn=y?.showMessage)!=null?Pn:!0)}),Dn=computed(()=>`${r.label||""}${y?.labelSuffix||""}`),En=Pn=>{j.value=Pn},Bn=Pn=>{var jn,fr;const{errors:yr,fields:Cr}=Pn;(!yr||!Cr)&&console.error(Pn),En("error"),oe.value=yr?(fr=(jn=yr?.[0])==null?void 0:jn.message)!=null?fr:`${r.prop} is required`:"",y?.emit("validate",r.prop,!1,oe.value)},$n=()=>{En("success"),y?.emit("validate",r.prop,!0,"")},Wn=async Pn=>{const jn=Oe.value;return new Schema({[jn]:Pn}).validate({[jn]:Lt.value},{firstFields:!0}).then(()=>($n(),!0)).catch(yr=>(Bn(yr),Promise.reject(yr)))},Gn=async(Pn,jn)=>{if(ue||!r.prop)return!1;const fr=isFunction$3(jn);if(!Et.value)return jn?.(!1),!1;const yr=xn(Pn);return yr.length===0?(jn?.(!0),!0):(En("validating"),Wn(yr).then(()=>(jn?.(!0),!0)).catch(Cr=>{const{fields:sr}=Cr;return jn?.(!1,sr),fr?!1:Promise.reject(sr)}))},Nn=()=>{En(""),oe.value="",ue=!1},Zn=async()=>{const Pn=y?.model;if(!Pn||!r.prop)return;const jn=getProp(Pn,r.prop);ue=!0,jn.value=clone(de),await nextTick(),Nn(),ue=!1},Hn=Pn=>{z.value.includes(Pn)||z.value.push(Pn)},rr=Pn=>{z.value=z.value.filter(jn=>jn!==Pn)};watch(()=>r.error,Pn=>{oe.value=Pn||"",En(Pn?"error":"")},{immediate:!0}),watch(()=>r.validateStatus,Pn=>En(Pn||""));const Xn=reactive({...toRefs(r),$el:ae,size:$,validateState:j,labelId:L,inputIds:z,isGroup:Ue,hasLabel:_e,addInputId:Hn,removeInputId:rr,resetField:Zn,clearValidate:Nn,validate:Gn});return provide(formItemContextKey,Xn),onMounted(()=>{r.prop&&(y?.addField(Xn),de=clone(Lt.value))}),onBeforeUnmount(()=>{y?.removeField(Xn)}),e({size:$,validateMessage:oe,validateState:j,validate:Gn,clearValidate:Nn,resetField:Zn}),(Pn,jn)=>{var fr;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:ae,class:normalizeClass(unref(xe)),role:unref(Ue)?"group":void 0,"aria-labelledby":unref(Ue)?unref(L):void 0},[createVNode(unref(FormLabelWrap),{"is-auto-width":unref(pe).width==="auto","update-all":((fr=unref(y))==null?void 0:fr.labelWidth)==="auto"},{default:withCtx(()=>[unref(_e)?(openBlock(),createBlock(resolveDynamicComponent(unref(Fe)?"label":"div"),{key:0,id:unref(L),for:unref(Fe),class:normalizeClass(unref(V).e("label")),style:normalizeStyle(unref(pe))},{default:withCtx(()=>[renderSlot(Pn.$slots,"label",{label:unref(Dn)},()=>[createTextVNode(toDisplayString$1(unref(Dn)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(V).e("content")),style:normalizeStyle(unref(he))},[renderSlot(Pn.$slots,"default"),createVNode(TransitionGroup,{name:`${unref(V).namespace.value}-zoom-in-top`},{default:withCtx(()=>[unref(An)?renderSlot(Pn.$slots,"error",{key:0,error:oe.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(Ne))},toDisplayString$1(oe.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$28)}}});var FormItem=_export_sfc$1(_sfc_main$3l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(n){const e=window.getComputedStyle(n),r=e.getPropertyValue("box-sizing"),g=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),y=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map($=>`${$}:${e.getPropertyValue($)}`).join(";"),paddingSize:g,borderSize:y,boxSizing:r}}function calcTextareaHeight(n,e=1,r){var g;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:y,borderSize:k,boxSizing:$,contextStyle:V}=calculateNodeStyling(n);hiddenTextarea.setAttribute("style",`${V};${HIDDEN_STYLE}`),hiddenTextarea.value=n.value||n.placeholder||"";let L=hiddenTextarea.scrollHeight;const z={};$==="border-box"?L=L+k:$==="content-box"&&(L=L-y),hiddenTextarea.value="";const j=hiddenTextarea.scrollHeight-y;if(isNumber$1(e)){let re=j*e;$==="border-box"&&(re=re+y+k),L=Math.max(re,L),z.minHeight=`${re}px`}if(isNumber$1(r)){let re=j*r;$==="border-box"&&(re=re+y+k),L=Math.min(re,L)}return z.height=`${L}px`,(g=hiddenTextarea.parentNode)==null||g.removeChild(hiddenTextarea),hiddenTextarea=void 0,z}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n),input:n=>isString$3(n),change:n=>isString$3(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},_hoisted_1$27=["role"],_hoisted_2$1I=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$Z=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$1x=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$3k=defineComponent({...__default__$1x,props:inputProps,emits:inputEmits,setup(n,{expose:e,emit:r}){const g=n,y=useAttrs$1(),k=useSlots(),$=computed(()=>{const ur={};return g.containerRole==="combobox"&&(ur["aria-haspopup"]=y["aria-haspopup"],ur["aria-owns"]=y["aria-owns"],ur["aria-expanded"]=y["aria-expanded"]),ur}),V=computed(()=>[g.type==="textarea"?pe.b():ue.b(),ue.m(ae.value),ue.is("disabled",de.value),ue.is("exceed",Hn.value),{[ue.b("group")]:k.prepend||k.append,[ue.bm("group","append")]:k.append,[ue.bm("group","prepend")]:k.prepend,[ue.m("prefix")]:k.prefix||g.prefixIcon,[ue.m("suffix")]:k.suffix||g.suffixIcon||g.clearable||g.showPassword,[ue.bm("suffix","password-clear")]:Wn.value&&Gn.value},y.class]),L=computed(()=>[ue.e("wrapper"),ue.is("focus",Lt.value)]),z=useAttrs({excludeKeys:computed(()=>Object.keys($.value))}),{form:j,formItem:re}=useFormItem(),{inputId:oe}=useFormItemInputId(g,{formItemContext:re}),ae=useFormSize(),de=useFormDisabled(),ue=useNamespace("input"),pe=useNamespace("textarea"),he=shallowRef(),xe=shallowRef(),$e=ref(!1),Ne=ref(!1),Oe=ref(!1),_e=ref(),Fe=shallowRef(g.inputStyle),Ue=computed(()=>he.value||xe.value),{wrapperRef:kt,isFocused:Lt,handleFocus:wn,handleBlur:Et}=useFocusController(Ue,{afterBlur(){var ur;g.validateEvent&&((ur=re?.validate)==null||ur.call(re,"blur").catch(le=>void 0))}}),xn=computed(()=>{var ur;return(ur=j?.statusIcon)!=null?ur:!1}),jt=computed(()=>re?.validateState||""),An=computed(()=>jt.value&&ValidateComponentsMap[jt.value]),Dn=computed(()=>Oe.value?view_default:hide_default),En=computed(()=>[y.style,g.inputStyle]),Bn=computed(()=>[g.inputStyle,Fe.value,{resize:g.resize}]),$n=computed(()=>isNil(g.modelValue)?"":String(g.modelValue)),Wn=computed(()=>g.clearable&&!de.value&&!g.readonly&&!!$n.value&&(Lt.value||$e.value)),Gn=computed(()=>g.showPassword&&!de.value&&!g.readonly&&!!$n.value&&(!!$n.value||Lt.value)),Nn=computed(()=>g.showWordLimit&&!!z.value.maxlength&&(g.type==="text"||g.type==="textarea")&&!de.value&&!g.readonly&&!g.showPassword),Zn=computed(()=>$n.value.length),Hn=computed(()=>!!Nn.value&&Zn.value>Number(z.value.maxlength)),rr=computed(()=>!!k.suffix||!!g.suffixIcon||Wn.value||g.showPassword||Nn.value||!!jt.value&&xn.value),[Xn,Pn]=useCursor(he);useResizeObserver(xe,ur=>{if(yr(),!Nn.value||g.resize!=="both")return;const le=ur[0],{width:Ce}=le.contentRect;_e.value={right:`calc(100% - ${Ce+15+6}px)`}});const jn=()=>{const{type:ur,autosize:le}=g;if(!(!isClient||ur!=="textarea"||!xe.value))if(le){const Ce=isObject$3(le)?le.minRows:void 0,Ie=isObject$3(le)?le.maxRows:void 0,ze=calcTextareaHeight(xe.value,Ce,Ie);Fe.value={overflowY:"hidden",...ze},nextTick(()=>{xe.value.offsetHeight,Fe.value=ze})}else Fe.value={minHeight:calcTextareaHeight(xe.value).minHeight}},yr=(ur=>{let le=!1;return()=>{var Ce;if(le||!g.autosize)return;((Ce=xe.value)==null?void 0:Ce.offsetParent)===null||(ur(),le=!0)}})(jn),Cr=()=>{const ur=Ue.value,le=g.formatter?g.formatter($n.value):$n.value;!ur||ur.value===le||(ur.value=le)},sr=async ur=>{Xn();let{value:le}=ur.target;if(g.formatter&&(le=g.parser?g.parser(le):le),!Ne.value){if(le===$n.value){Cr();return}r(UPDATE_MODEL_EVENT,le),r("input",le),await nextTick(),Cr(),Pn()}},zn=ur=>{r("change",ur.target.value)},vn=ur=>{r("compositionstart",ur),Ne.value=!0},Jn=ur=>{var le;r("compositionupdate",ur);const Ce=(le=ur.target)==null?void 0:le.value,Ie=Ce[Ce.length-1]||"";Ne.value=!isKorean(Ie)},Tn=ur=>{r("compositionend",ur),Ne.value&&(Ne.value=!1,sr(ur))},Dt=()=>{Oe.value=!Oe.value,hn()},hn=async()=>{var ur;await nextTick(),(ur=Ue.value)==null||ur.focus()},Vn=()=>{var ur;return(ur=Ue.value)==null?void 0:ur.blur()},Kn=ur=>{$e.value=!1,r("mouseleave",ur)},ar=ur=>{$e.value=!0,r("mouseenter",ur)},lr=ur=>{r("keydown",ur)},cr=()=>{var ur;(ur=Ue.value)==null||ur.select()},mr=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return watch(()=>g.modelValue,()=>{var ur;nextTick(()=>jn()),g.validateEvent&&((ur=re?.validate)==null||ur.call(re,"change").catch(le=>void 0))}),watch($n,()=>Cr()),watch(()=>g.type,async()=>{await nextTick(),Cr(),jn()}),onMounted(()=>{!g.formatter&&g.parser,Cr(),nextTick(jn)}),e({input:he,textarea:xe,ref:Ue,textareaStyle:Bn,autosize:toRef(g,"autosize"),focus:hn,blur:Vn,select:cr,clear:mr,resizeTextarea:jn}),(ur,le)=>withDirectives((openBlock(),createElementBlock("div",mergeProps(unref($),{class:unref(V),style:unref(En),role:ur.containerRole,onMouseenter:ar,onMouseleave:Kn}),[createCommentVNode(" input "),ur.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),ur.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(ue).be("group","prepend"))},[renderSlot(ur.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:kt,class:normalizeClass(unref(L))},[createCommentVNode(" prefix slot "),ur.$slots.prefix||ur.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ue).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(ue).e("prefix-inner"))},[renderSlot(ur.$slots,"prefix"),ur.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ue).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ur.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(oe),ref_key:"input",ref:he,class:unref(ue).e("inner")},unref(z),{type:ur.showPassword?Oe.value?"text":"password":ur.type,disabled:unref(de),formatter:ur.formatter,parser:ur.parser,readonly:ur.readonly,autocomplete:ur.autocomplete,tabindex:ur.tabindex,"aria-label":ur.label,placeholder:ur.placeholder,style:ur.inputStyle,form:g.form,onCompositionstart:vn,onCompositionupdate:Jn,onCompositionend:Tn,onInput:sr,onFocus:le[0]||(le[0]=(...Ce)=>unref(wn)&&unref(wn)(...Ce)),onBlur:le[1]||(le[1]=(...Ce)=>unref(Et)&&unref(Et)(...Ce)),onChange:zn,onKeydown:lr}),null,16,_hoisted_2$1I),createCommentVNode(" suffix slot "),unref(rr)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(ue).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(ue).e("suffix-inner"))},[!unref(Wn)||!unref(Gn)||!unref(Nn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(ur.$slots,"suffix"),ur.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ue).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ur.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Wn)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(ue).e("icon"),unref(ue).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:mr},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(Gn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(ue).e("icon"),unref(ue).e("password")]),onClick:Dt},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Dn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(Nn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(ue).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(ue).e("count-inner"))},toDisplayString$1(unref(Zn))+" / "+toDisplayString$1(unref(z).maxlength),3)],2)):createCommentVNode("v-if",!0),unref(jt)&&unref(An)&&unref(xn)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(ue).e("icon"),unref(ue).e("validateIcon"),unref(ue).is("loading",unref(jt)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(An))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),ur.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(ue).be("group","append"))},[renderSlot(ur.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(oe),ref_key:"textarea",ref:xe,class:unref(pe).e("inner")},unref(z),{tabindex:ur.tabindex,disabled:unref(de),readonly:ur.readonly,autocomplete:ur.autocomplete,style:unref(Bn),"aria-label":ur.label,placeholder:ur.placeholder,form:g.form,onCompositionstart:vn,onCompositionupdate:Jn,onCompositionend:Tn,onInput:sr,onFocus:le[2]||(le[2]=(...Ce)=>unref(wn)&&unref(wn)(...Ce)),onBlur:le[3]||(le[3]=(...Ce)=>unref(Et)&&unref(Et)(...Ce)),onChange:zn,onKeydown:lr}),null,16,_hoisted_3$Z),unref(Nn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(_e.value),class:normalizeClass(unref(ue).e("count"))},toDisplayString$1(unref(Zn))+" / "+toDisplayString$1(unref(z).maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$27)),[[vShow,ur.type!=="hidden"]])}});var Input=_export_sfc$1(_sfc_main$3k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle$1=({move:n,size:e,bar:r})=>({[r.size]:e,transform:`translate${r.axis}(${n}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$k="Thumb",_sfc_main$3j=defineComponent({__name:"thumb",props:thumbProps,setup(n){const e=n,r=inject(scrollbarContextKey),g=useNamespace("scrollbar");r||throwError(COMPONENT_NAME$k,"can not inject scrollbar context");const y=ref(),k=ref(),$=ref({}),V=ref(!1);let L=!1,z=!1,j=isClient?document.onselectstart:null;const re=computed(()=>BAR_MAP[e.vertical?"vertical":"horizontal"]),oe=computed(()=>renderThumbStyle$1({size:e.size,move:e.move,bar:re.value})),ae=computed(()=>y.value[re.value.offset]**2/r.wrapElement[re.value.scrollSize]/e.ratio/k.value[re.value.offset]),de=_e=>{var Fe;if(_e.stopPropagation(),_e.ctrlKey||[1,2].includes(_e.button))return;(Fe=window.getSelection())==null||Fe.removeAllRanges(),pe(_e);const Ue=_e.currentTarget;Ue&&($.value[re.value.axis]=Ue[re.value.offset]-(_e[re.value.client]-Ue.getBoundingClientRect()[re.value.direction]))},ue=_e=>{if(!k.value||!y.value||!r.wrapElement)return;const Fe=Math.abs(_e.target.getBoundingClientRect()[re.value.direction]-_e[re.value.client]),Ue=k.value[re.value.offset]/2,kt=(Fe-Ue)*100*ae.value/y.value[re.value.offset];r.wrapElement[re.value.scroll]=kt*r.wrapElement[re.value.scrollSize]/100},pe=_e=>{_e.stopImmediatePropagation(),L=!0,document.addEventListener("mousemove",he),document.addEventListener("mouseup",xe),j=document.onselectstart,document.onselectstart=()=>!1},he=_e=>{if(!y.value||!k.value||L===!1)return;const Fe=$.value[re.value.axis];if(!Fe)return;const Ue=(y.value.getBoundingClientRect()[re.value.direction]-_e[re.value.client])*-1,kt=k.value[re.value.offset]-Fe,Lt=(Ue-kt)*100*ae.value/y.value[re.value.offset];r.wrapElement[re.value.scroll]=Lt*r.wrapElement[re.value.scrollSize]/100},xe=()=>{L=!1,$.value[re.value.axis]=0,document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",xe),Oe(),z&&(V.value=!1)},$e=()=>{z=!1,V.value=!!e.size},Ne=()=>{z=!0,V.value=L};onBeforeUnmount(()=>{Oe(),document.removeEventListener("mouseup",xe)});const Oe=()=>{document.onselectstart!==j&&(document.onselectstart=j)};return useEventListener(toRef(r,"scrollbarElement"),"mousemove",$e),useEventListener(toRef(r,"scrollbarElement"),"mouseleave",Ne),(_e,Fe)=>(openBlock(),createBlock(Transition,{name:unref(g).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:y,class:normalizeClass([unref(g).e("bar"),unref(g).is(unref(re).key)]),onMousedown:ue},[createBaseVNode("div",{ref_key:"thumb",ref:k,class:normalizeClass(unref(g).e("thumb")),style:normalizeStyle(unref(oe)),onMousedown:de},null,38)],34),[[vShow,_e.always||V.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$3j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$3i=defineComponent({__name:"bar",props:barProps,setup(n,{expose:e}){const r=n,g=ref(0),y=ref(0);return e({handleScroll:$=>{if($){const V=$.offsetHeight-GAP,L=$.offsetWidth-GAP;y.value=$.scrollTop*100/V*r.ratioY,g.value=$.scrollLeft*100/L*r.ratioX}}}),($,V)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Thumb,{move:g.value,ratio:$.ratioX,size:$.width,always:$.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:y.value,ratio:$.ratioY,size:$.height,vertical:"",always:$.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$3i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(isNumber$1)},COMPONENT_NAME$j="ElScrollbar",__default__$1w=defineComponent({name:COMPONENT_NAME$j}),_sfc_main$3h=defineComponent({...__default__$1w,props:scrollbarProps,emits:scrollbarEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("scrollbar");let k,$;const V=ref(),L=ref(),z=ref(),j=ref("0"),re=ref("0"),oe=ref(),ae=ref(1),de=ref(1),ue=computed(()=>{const Fe={};return g.height&&(Fe.height=addUnit(g.height)),g.maxHeight&&(Fe.maxHeight=addUnit(g.maxHeight)),[g.wrapStyle,Fe]}),pe=computed(()=>[g.wrapClass,y.e("wrap"),{[y.em("wrap","hidden-default")]:!g.native}]),he=computed(()=>[y.e("view"),g.viewClass]),xe=()=>{var Fe;L.value&&((Fe=oe.value)==null||Fe.handleScroll(L.value),r("scroll",{scrollTop:L.value.scrollTop,scrollLeft:L.value.scrollLeft}))};function $e(Fe,Ue){isObject$3(Fe)?L.value.scrollTo(Fe):isNumber$1(Fe)&&isNumber$1(Ue)&&L.value.scrollTo(Fe,Ue)}const Ne=Fe=>{isNumber$1(Fe)&&(L.value.scrollTop=Fe)},Oe=Fe=>{isNumber$1(Fe)&&(L.value.scrollLeft=Fe)},_e=()=>{if(!L.value)return;const Fe=L.value.offsetHeight-GAP,Ue=L.value.offsetWidth-GAP,kt=Fe**2/L.value.scrollHeight,Lt=Ue**2/L.value.scrollWidth,wn=Math.max(kt,g.minSize),Et=Math.max(Lt,g.minSize);ae.value=kt/(Fe-kt)/(wn/(Fe-wn)),de.value=Lt/(Ue-Lt)/(Et/(Ue-Et)),re.value=wn+GAP<Fe?`${wn}px`:"",j.value=Et+GAP<Ue?`${Et}px`:""};return watch(()=>g.noresize,Fe=>{Fe?(k?.(),$?.()):({stop:k}=useResizeObserver(z,_e),$=useEventListener("resize",_e))},{immediate:!0}),watch(()=>[g.maxHeight,g.height],()=>{g.native||nextTick(()=>{var Fe;_e(),L.value&&((Fe=oe.value)==null||Fe.handleScroll(L.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:V,wrapElement:L})),onMounted(()=>{g.native||nextTick(()=>{_e()})}),onUpdated(()=>_e()),e({wrapRef:L,update:_e,scrollTo:$e,setScrollTop:Ne,setScrollLeft:Oe,handleScroll:xe}),(Fe,Ue)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:V,class:normalizeClass(unref(y).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:L,class:normalizeClass(unref(pe)),style:normalizeStyle(unref(ue)),onScroll:xe},[(openBlock(),createBlock(resolveDynamicComponent(Fe.tag),{ref_key:"resizeRef",ref:z,class:normalizeClass(unref(he)),style:normalizeStyle(Fe.viewStyle)},{default:withCtx(()=>[renderSlot(Fe.$slots,"default")]),_:3},8,["class","style"]))],38),Fe.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:oe,height:re.value,width:j.value,always:Fe.always,"ratio-x":de.value,"ratio-y":ae.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$3h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$1v=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$3g=defineComponent({...__default__$1v,props:popperProps,setup(n,{expose:e}){const r=n,g=ref(),y=ref(),k=ref(),$=ref(),V=computed(()=>r.role),L={triggerRef:g,popperInstanceRef:y,contentRef:k,referenceRef:$,role:V};return e(L),provide(POPPER_INJECTION_KEY,L),(z,j)=>renderSlot(z.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$3g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$1u=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$3f=defineComponent({...__default__$1u,props:popperArrowProps,setup(n,{expose:e}){const r=n,g=useNamespace("popper"),{arrowOffset:y,arrowRef:k,arrowStyle:$}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>r.arrowOffset,V=>{y.value=V}),onBeforeUnmount(()=>{k.value=void 0}),e({arrowRef:k}),(V,L)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:k,class:normalizeClass(unref(g).e("arrow")),style:normalizeStyle(unref($)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc$1(_sfc_main$3f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(n,{slots:e,attrs:r}){var g;const y=inject(FORWARD_REF_INJECTION_KEY),k=useForwardRefDirective((g=y?.setForwardRef)!=null?g:NOOP);return()=>{var $;const V=($=e.default)==null?void 0:$.call(e,r);if(!V||V.length>1)return null;const L=findFirstLegitChild(V);return L?withDirectives(cloneVNode(L,r),[[k]]):null}}});function findFirstLegitChild(n){if(!n)return null;const e=n;for(const r of e){if(isObject$3(r))switch(r.type){case Comment:continue;case Text$2:case"svg":return wrapTextContent(r);case Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(n){const e=useNamespace("only-child");return createVNode("span",{class:e.e("content")},[n])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$1t=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$3e=defineComponent({...__default__$1t,props:popperTriggerProps,setup(n,{expose:e}){const r=n,{role:g,triggerRef:y}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(y);const k=computed(()=>V.value?r.id:void 0),$=computed(()=>{if(g&&g.value==="tooltip")return r.open&&r.id?r.id:void 0}),V=computed(()=>{if(g&&g.value!=="tooltip")return g.value}),L=computed(()=>V.value?`${r.open}`:void 0);let z;return onMounted(()=>{watch(()=>r.virtualRef,j=>{j&&(y.value=unrefElement(j))},{immediate:!0}),watch(y,(j,re)=>{z?.(),z=void 0,isElement$1(j)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(oe=>{var ae;const de=r[oe];de&&(j.addEventListener(oe.slice(2).toLowerCase(),de),(ae=re?.removeEventListener)==null||ae.call(re,oe.slice(2).toLowerCase(),de))}),z=watch([k,$,V,L],oe=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((ae,de)=>{isNil(oe[de])?j.removeAttribute(ae):j.setAttribute(ae,oe[de])})},{immediate:!0})),isElement$1(re)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(oe=>re.removeAttribute(oe))},{immediate:!0})}),onBeforeUnmount(()=>{z?.(),z=void 0}),e({triggerRef:y}),(j,re)=>j.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},j.$attrs,{"aria-controls":unref(k),"aria-describedby":unref($),"aria-expanded":unref(L),"aria-haspopup":unref(V)}),{default:withCtx(()=>[renderSlot(j.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=n=>{const e=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:g=>{const y=g.tagName==="INPUT"&&g.type==="hidden";return g.disabled||g.hidden||y?NodeFilter.FILTER_SKIP:g.tabIndex>=0||g===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},getVisibleElement=(n,e)=>{for(const r of n)if(!isHidden(r,e))return r},isHidden=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},getEdges=n=>{const e=obtainAllFocusableElements(n),r=getVisibleElement(e,n),g=getVisibleElement(e.reverse(),n);return[r,g]},isSelectable=n=>n instanceof HTMLInputElement&&"select"in n,tryFocus=(n,e)=>{if(n&&n.focus){const r=document.activeElement;n.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),n!==r&&isSelectable(n)&&e&&n.select()}};function removeFromStack(n,e){const r=[...n],g=n.indexOf(e);return g!==-1&&r.splice(g,1),r}const createFocusableStack=()=>{let n=[];return{push:g=>{const y=n[0];y&&g!==y&&y.pause(),n=removeFromStack(n,g),n.unshift(g)},remove:g=>{var y,k;n=removeFromStack(n,g),(k=(y=n[0])==null?void 0:y.resume)==null||k.call(y)}}},focusFirstDescendant=(n,e=!1)=>{const r=document.activeElement;for(const g of n)if(tryFocus(g,e),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=n=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:n}),_sfc_main$3d=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const r=ref();let g,y;const{focusReason:k}=useFocusReason();useEscapeKeydown(de=>{n.trapped&&!$.paused&&e("release-requested",de)});const $={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},V=de=>{if(!n.loop&&!n.trapped||$.paused)return;const{key:ue,altKey:pe,ctrlKey:he,metaKey:xe,currentTarget:$e,shiftKey:Ne}=de,{loop:Oe}=n,_e=ue===EVENT_CODE.tab&&!pe&&!he&&!xe,Fe=document.activeElement;if(_e&&Fe){const Ue=$e,[kt,Lt]=getEdges(Ue);if(kt&&Lt){if(!Ne&&Fe===Lt){const Et=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",Et),Et.defaultPrevented||(de.preventDefault(),Oe&&tryFocus(kt,!0))}else if(Ne&&[kt,Ue].includes(Fe)){const Et=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",Et),Et.defaultPrevented||(de.preventDefault(),Oe&&tryFocus(Lt,!0))}}else if(Fe===Ue){const Et=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",Et),Et.defaultPrevented||de.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:V}),watch(()=>n.focusTrapEl,de=>{de&&(r.value=de)},{immediate:!0}),watch([r],([de],[ue])=>{de&&(de.addEventListener("keydown",V),de.addEventListener("focusin",j),de.addEventListener("focusout",re)),ue&&(ue.removeEventListener("keydown",V),ue.removeEventListener("focusin",j),ue.removeEventListener("focusout",re))});const L=de=>{e(ON_TRAP_FOCUS_EVT,de)},z=de=>e(ON_RELEASE_FOCUS_EVT,de),j=de=>{const ue=unref(r);if(!ue)return;const pe=de.target,he=de.relatedTarget,xe=pe&&ue.contains(pe);n.trapped||he&&ue.contains(he)||(g=he),xe&&e("focusin",de),!$.paused&&n.trapped&&(xe?y=pe:tryFocus(y,!0))},re=de=>{const ue=unref(r);if(!($.paused||!ue))if(n.trapped){const pe=de.relatedTarget;!isNil(pe)&&!ue.contains(pe)&&setTimeout(()=>{if(!$.paused&&n.trapped){const he=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",he),he.defaultPrevented||tryFocus(y,!0)}},0)}else{const pe=de.target;pe&&ue.contains(pe)||e("focusout",de)}};async function oe(){await nextTick();const de=unref(r);if(de){focusableStack.push($);const ue=de.contains(document.activeElement)?g:document.activeElement;if(g=ue,!de.contains(ue)){const he=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);de.addEventListener(FOCUS_AFTER_TRAPPED,L),de.dispatchEvent(he),he.defaultPrevented||nextTick(()=>{let xe=n.focusStartEl;isString$3(xe)||(tryFocus(xe),document.activeElement!==xe&&(xe="first")),xe==="first"&&focusFirstDescendant(obtainAllFocusableElements(de),!0),(document.activeElement===ue||xe==="container")&&tryFocus(de)})}}}function ae(){const de=unref(r);if(de){de.removeEventListener(FOCUS_AFTER_TRAPPED,L);const ue=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:k.value}});de.addEventListener(FOCUS_AFTER_RELEASED,z),de.dispatchEvent(ue),!ue.defaultPrevented&&(k.value=="keyboard"||!isFocusCausedByUserEvent()||de.contains(document.activeElement))&&tryFocus(g??document.body),de.removeEventListener(FOCUS_AFTER_RELEASED,z),focusableStack.remove($)}}return onMounted(()=>{n.trapped&&oe(),watch(()=>n.trapped,de=>{de?oe():ae()})}),onBeforeUnmount(()=>{n.trapped&&ae()}),{onKeydown:V}}});function _sfc_render$v(n,e,r,g,y,k){return renderSlot(n.$slots,"default",{handleKeydown:n.onKeydown})}var ElFocusTrap=_export_sfc$1(_sfc_main$3d,[["render",_sfc_render$v],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(n,e=[])=>{const{placement:r,strategy:g,popperOptions:y}=n,k={placement:r,strategy:g,...y,modifiers:[...genModifiers(n),...e]};return deriveExtraModifiers(k,y?.modifiers),k},unwrapMeasurableEl=n=>{if(isClient)return unrefElement(n)};function genModifiers(n){const{offset:e,gpuAcceleration:r,fallbackPlacements:g}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:g}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function deriveExtraModifiers(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=n=>{const{popperInstanceRef:e,contentRef:r,triggerRef:g,role:y}=inject(POPPER_INJECTION_KEY,void 0),k=ref(),$=ref(),V=computed(()=>({name:"eventListeners",enabled:!!n.visible})),L=computed(()=>{var he;const xe=unref(k),$e=(he=unref($))!=null?he:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(xe),options:{element:xe,padding:$e}}}),z=computed(()=>({onFirstUpdate:()=>{de()},...buildPopperOptions(n,[unref(L),unref(V)])})),j=computed(()=>unwrapMeasurableEl(n.referenceEl)||unref(g)),{attributes:re,state:oe,styles:ae,update:de,forceUpdate:ue,instanceRef:pe}=usePopper(j,r,z);return watch(pe,he=>e.value=he),onMounted(()=>{watch(()=>{var he;return(he=unref(j))==null?void 0:he.getBoundingClientRect()},()=>{de()})}),{attributes:re,arrowRef:k,contentRef:r,instanceRef:pe,state:oe,styles:ae,role:y,forceUpdate:ue,update:de}},usePopperContentDOM=(n,{attributes:e,styles:r,role:g})=>{const{nextZIndex:y}=useZIndex(),k=useNamespace("popper"),$=computed(()=>unref(e).popper),V=ref(n.zIndex||y()),L=computed(()=>[k.b(),k.is("pure",n.pure),k.is(n.effect),n.popperClass]),z=computed(()=>[{zIndex:unref(V)},unref(r).popper,n.popperStyle||{}]),j=computed(()=>g.value==="dialog"?"false":void 0),re=computed(()=>unref(r).arrow||{});return{ariaModal:j,arrowStyle:re,contentAttrs:$,contentClass:L,contentStyle:z,contentZIndex:V,updateZIndex:()=>{V.value=n.zIndex||y()}}},usePopperContentFocusTrap=(n,e)=>{const r=ref(!1),g=ref();return{focusStartRef:g,trapped:r,onFocusAfterReleased:z=>{var j;((j=z.detail)==null?void 0:j.focusReason)!=="pointer"&&(g.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:z=>{n.visible&&!r.value&&(z.target&&(g.value=z.target),r.value=!0)},onFocusoutPrevented:z=>{n.trapping||(z.detail.focusReason==="pointer"&&z.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},__default__$1s=defineComponent({name:"ElPopperContent"}),_sfc_main$3c=defineComponent({...__default__$1s,props:popperContentProps,emits:popperContentEmits,setup(n,{expose:e,emit:r}){const g=n,{focusStartRef:y,trapped:k,onFocusAfterReleased:$,onFocusAfterTrapped:V,onFocusInTrap:L,onFocusoutPrevented:z,onReleaseRequested:j}=usePopperContentFocusTrap(g,r),{attributes:re,arrowRef:oe,contentRef:ae,styles:de,instanceRef:ue,role:pe,update:he}=usePopperContent(g),{ariaModal:xe,arrowStyle:$e,contentAttrs:Ne,contentClass:Oe,contentStyle:_e,updateZIndex:Fe}=usePopperContentDOM(g,{styles:de,attributes:re,role:pe}),Ue=inject(formItemContextKey,void 0),kt=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:$e,arrowRef:oe,arrowOffset:kt}),Ue&&(Ue.addInputId||Ue.removeInputId)&&provide(formItemContextKey,{...Ue,addInputId:NOOP,removeInputId:NOOP});let Lt;const wn=(xn=!0)=>{he(),xn&&Fe()},Et=()=>{wn(!1),g.visible&&g.focusOnShow?k.value=!0:g.visible===!1&&(k.value=!1)};return onMounted(()=>{watch(()=>g.triggerTargetEl,(xn,jt)=>{Lt?.(),Lt=void 0;const An=unref(xn||ae.value),Dn=unref(jt||ae.value);isElement$1(An)&&(Lt=watch([pe,()=>g.ariaLabel,xe,()=>g.id],En=>{["role","aria-label","aria-modal","id"].forEach((Bn,$n)=>{isNil(En[$n])?An.removeAttribute(Bn):An.setAttribute(Bn,En[$n])})},{immediate:!0})),Dn!==An&&isElement$1(Dn)&&["role","aria-label","aria-modal","id"].forEach(En=>{Dn.removeAttribute(En)})},{immediate:!0}),watch(()=>g.visible,Et,{immediate:!0})}),onBeforeUnmount(()=>{Lt?.(),Lt=void 0}),e({popperContentRef:ae,popperInstanceRef:ue,updatePopper:wn,contentStyle:_e}),(xn,jt)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:ae},unref(Ne),{style:unref(_e),class:unref(Oe),tabindex:"-1",onMouseenter:jt[0]||(jt[0]=An=>xn.$emit("mouseenter",An)),onMouseleave:jt[1]||(jt[1]=An=>xn.$emit("mouseleave",An))}),[createVNode(unref(ElFocusTrap),{trapped:unref(k),"trap-on-focus-in":!0,"focus-trap-el":unref(ae),"focus-start-el":unref(y),onFocusAfterTrapped:unref(V),onFocusAfterReleased:unref($),onFocusin:unref(L),onFocusoutPrevented:unref(z),onReleaseRequested:unref(j)},{default:withCtx(()=>[renderSlot(xn.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc$1(_sfc_main$3c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(n,e)=>isArray$3(n)?n.includes(e):n===e,whenTrigger=(n,e,r)=>g=>{isTriggerType(unref(n),e)&&r(g)},__default__$1r=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$3b=defineComponent({...__default__$1r,props:useTooltipTriggerProps,setup(n,{expose:e}){const r=n,g=useNamespace("tooltip"),{controlled:y,id:k,open:$,onOpen:V,onClose:L,onToggle:z}=inject(TOOLTIP_INJECTION_KEY,void 0),j=ref(null),re=()=>{if(unref(y)||r.disabled)return!0},oe=toRef(r,"trigger"),ae=composeEventHandlers(re,whenTrigger(oe,"hover",V)),de=composeEventHandlers(re,whenTrigger(oe,"hover",L)),ue=composeEventHandlers(re,whenTrigger(oe,"click",Ne=>{Ne.button===0&&z(Ne)})),pe=composeEventHandlers(re,whenTrigger(oe,"focus",V)),he=composeEventHandlers(re,whenTrigger(oe,"focus",L)),xe=composeEventHandlers(re,whenTrigger(oe,"contextmenu",Ne=>{Ne.preventDefault(),z(Ne)})),$e=composeEventHandlers(re,Ne=>{const{code:Oe}=Ne;r.triggerKeys.includes(Oe)&&(Ne.preventDefault(),z(Ne))});return e({triggerRef:j}),(Ne,Oe)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(k),"virtual-ref":Ne.virtualRef,open:unref($),"virtual-triggering":Ne.virtualTriggering,class:normalizeClass(unref(g).e("trigger")),onBlur:unref(he),onClick:unref(ue),onContextmenu:unref(xe),onFocus:unref(pe),onMouseenter:unref(ae),onMouseleave:unref(de),onKeydown:unref($e)},{default:withCtx(()=>[renderSlot(Ne.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$3b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$1q=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$3a=defineComponent({...__default__$1q,props:useTooltipContentProps,setup(n,{expose:e}){const r=n,{selector:g}=usePopperContainerId(),y=useNamespace("tooltip"),k=ref(null),$=ref(!1),{controlled:V,id:L,open:z,trigger:j,onClose:re,onOpen:oe,onShow:ae,onHide:de,onBeforeShow:ue,onBeforeHide:pe}=inject(TOOLTIP_INJECTION_KEY,void 0),he=computed(()=>r.transition||`${y.namespace.value}-fade-in-linear`),xe=computed(()=>r.persistent);onBeforeUnmount(()=>{$.value=!0});const $e=computed(()=>unref(xe)?!0:unref(z)),Ne=computed(()=>r.disabled?!1:unref(z)),Oe=computed(()=>r.appendTo||g.value),_e=computed(()=>{var En;return(En=r.style)!=null?En:{}}),Fe=computed(()=>!unref(z)),Ue=()=>{de()},kt=()=>{if(unref(V))return!0},Lt=composeEventHandlers(kt,()=>{r.enterable&&unref(j)==="hover"&&oe()}),wn=composeEventHandlers(kt,()=>{unref(j)==="hover"&&re()}),Et=()=>{var En,Bn;(Bn=(En=k.value)==null?void 0:En.updatePopper)==null||Bn.call(En),ue?.()},xn=()=>{pe?.()},jt=()=>{ae(),Dn=onClickOutside(computed(()=>{var En;return(En=k.value)==null?void 0:En.popperContentRef}),()=>{if(unref(V))return;unref(j)!=="hover"&&re()})},An=()=>{r.virtualTriggering||re()};let Dn;return watch(()=>unref(z),En=>{En||Dn?.()},{flush:"post"}),watch(()=>r.content,()=>{var En,Bn;(Bn=(En=k.value)==null?void 0:En.updatePopper)==null||Bn.call(En)}),e({contentRef:k}),(En,Bn)=>(openBlock(),createBlock(Teleport,{disabled:!En.teleported,to:unref(Oe)},[createVNode(Transition,{name:unref(he),onAfterLeave:Ue,onBeforeEnter:Et,onAfterEnter:jt,onBeforeLeave:xn},{default:withCtx(()=>[unref($e)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(L),ref_key:"contentRef",ref:k},En.$attrs,{"aria-label":En.ariaLabel,"aria-hidden":unref(Fe),"boundaries-padding":En.boundariesPadding,"fallback-placements":En.fallbackPlacements,"gpu-acceleration":En.gpuAcceleration,offset:En.offset,placement:En.placement,"popper-options":En.popperOptions,strategy:En.strategy,effect:En.effect,enterable:En.enterable,pure:En.pure,"popper-class":En.popperClass,"popper-style":[En.popperStyle,unref(_e)],"reference-el":En.referenceEl,"trigger-target-el":En.triggerTargetEl,visible:unref(Ne),"z-index":En.zIndex,onMouseenter:unref(Lt),onMouseleave:unref(wn),onBlur:An,onClose:unref(re)}),{default:withCtx(()=>[$.value?createCommentVNode("v-if",!0):renderSlot(En.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(Ne)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$3a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$26=["innerHTML"],_hoisted_2$1H={key:1},__default__$1p=defineComponent({name:"ElTooltip"}),_sfc_main$39=defineComponent({...__default__$1p,props:useTooltipProps,emits:tooltipEmits,setup(n,{expose:e,emit:r}){const g=n;usePopperContainer();const y=useId(),k=ref(),$=ref(),V=()=>{var he;const xe=unref(k);xe&&((he=xe.popperInstanceRef)==null||he.update())},L=ref(!1),z=ref(),{show:j,hide:re,hasUpdateHandler:oe}=useTooltipModelToggle({indicator:L,toggleReason:z}),{onOpen:ae,onClose:de}=useDelayedToggle({showAfter:toRef(g,"showAfter"),hideAfter:toRef(g,"hideAfter"),autoClose:toRef(g,"autoClose"),open:j,close:re}),ue=computed(()=>isBoolean$1(g.visible)&&!oe.value);provide(TOOLTIP_INJECTION_KEY,{controlled:ue,id:y,open:readonly(L),trigger:toRef(g,"trigger"),onOpen:he=>{ae(he)},onClose:he=>{de(he)},onToggle:he=>{unref(L)?de(he):ae(he)},onShow:()=>{r("show",z.value)},onHide:()=>{r("hide",z.value)},onBeforeShow:()=>{r("before-show",z.value)},onBeforeHide:()=>{r("before-hide",z.value)},updatePopper:V}),watch(()=>g.disabled,he=>{he&&L.value&&(L.value=!1)});const pe=he=>{var xe,$e;const Ne=($e=(xe=$.value)==null?void 0:xe.contentRef)==null?void 0:$e.popperContentRef,Oe=he?.relatedTarget||document.activeElement;return Ne&&Ne.contains(Oe)};return onDeactivated(()=>L.value&&re()),e({popperRef:k,contentRef:$,isFocusInsideContent:pe,updatePopper:V,onOpen:ae,onClose:de,hide:re}),(he,xe)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:k,role:he.role},{default:withCtx(()=>[createVNode(ElTooltipTrigger,{disabled:he.disabled,trigger:he.trigger,"trigger-keys":he.triggerKeys,"virtual-ref":he.virtualRef,"virtual-triggering":he.virtualTriggering},{default:withCtx(()=>[he.$slots.default?renderSlot(he.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:$,"aria-label":he.ariaLabel,"boundaries-padding":he.boundariesPadding,content:he.content,disabled:he.disabled,effect:he.effect,enterable:he.enterable,"fallback-placements":he.fallbackPlacements,"hide-after":he.hideAfter,"gpu-acceleration":he.gpuAcceleration,offset:he.offset,persistent:he.persistent,"popper-class":he.popperClass,"popper-style":he.popperStyle,placement:he.placement,"popper-options":he.popperOptions,pure:he.pure,"raw-content":he.rawContent,"reference-el":he.referenceEl,"trigger-target-el":he.triggerTargetEl,"show-after":he.showAfter,strategy:he.strategy,teleported:he.teleported,transition:he.transition,"virtual-triggering":he.virtualTriggering,"z-index":he.zIndex,"append-to":he.appendTo},{default:withCtx(()=>[renderSlot(he.$slots,"content",{},()=>[he.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:he.content},null,8,_hoisted_1$26)):(openBlock(),createElementBlock("span",_hoisted_2$1H,toDisplayString$1(he.content),1))]),he.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":he.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$39,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),autocompleteProps=buildProps({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:definePropType(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:definePropType([Function,Array]),default:NOOP},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:useTooltipContentProps.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),autocompleteEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n),[INPUT_EVENT]:n=>isString$3(n),[CHANGE_EVENT]:n=>isString$3(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,select:n=>isObject$3(n)},_hoisted_1$25=["aria-expanded","aria-owns"],_hoisted_2$1G={key:0},_hoisted_3$Y=["id","aria-selected","onClick"],COMPONENT_NAME$i="ElAutocomplete",__default__$1o=defineComponent({name:COMPONENT_NAME$i,inheritAttrs:!1}),_sfc_main$38=defineComponent({...__default__$1o,props:autocompleteProps,emits:autocompleteEmits,setup(n,{expose:e,emit:r}){const g=n,y=useAttrs(),k=useAttrs$1(),$=useFormDisabled(),V=useNamespace("autocomplete"),L=ref(),z=ref(),j=ref(),re=ref();let oe=!1,ae=!1;const de=ref([]),ue=ref(-1),pe=ref(""),he=ref(!1),xe=ref(!1),$e=ref(!1),Ne=computed(()=>V.b(String(generateId()))),Oe=computed(()=>k.style),_e=computed(()=>(de.value.length>0||$e.value)&&he.value),Fe=computed(()=>!g.hideLoading&&$e.value),Ue=computed(()=>L.value?Array.from(L.value.$el.querySelectorAll("input")):[]),kt=()=>{_e.value&&(pe.value=`${L.value.$el.offsetWidth}px`)},Lt=()=>{ue.value=-1},Et=debounce(async Xn=>{if(xe.value)return;const Pn=jn=>{$e.value=!1,!xe.value&&(isArray$3(jn)?(de.value=jn,ue.value=g.highlightFirstItem?0:-1):throwError(COMPONENT_NAME$i,"autocomplete suggestions must be an array"))};if($e.value=!0,isArray$3(g.fetchSuggestions))Pn(g.fetchSuggestions);else{const jn=await g.fetchSuggestions(Xn,Pn);isArray$3(jn)&&Pn(jn)}},g.debounce),xn=Xn=>{const Pn=!!Xn;if(r(INPUT_EVENT,Xn),r(UPDATE_MODEL_EVENT,Xn),xe.value=!1,he.value||(he.value=Pn),!g.triggerOnFocus&&!Xn){xe.value=!0,de.value=[];return}Et(Xn)},jt=Xn=>{var Pn;$.value||(((Pn=Xn.target)==null?void 0:Pn.tagName)!=="INPUT"||Ue.value.includes(document.activeElement))&&(he.value=!0)},An=Xn=>{r(CHANGE_EVENT,Xn)},Dn=Xn=>{ae?ae=!1:(he.value=!0,r("focus",Xn),g.triggerOnFocus&&!oe&&Et(String(g.modelValue)))},En=Xn=>{setTimeout(()=>{var Pn;if((Pn=j.value)!=null&&Pn.isFocusInsideContent()){ae=!0;return}he.value&&Gn(),r("blur",Xn)})},Bn=()=>{he.value=!1,r(UPDATE_MODEL_EVENT,""),r("clear")},$n=async()=>{_e.value&&ue.value>=0&&ue.value<de.value.length?Hn(de.value[ue.value]):g.selectWhenUnmatched&&(r("select",{value:g.modelValue}),de.value=[],ue.value=-1)},Wn=Xn=>{_e.value&&(Xn.preventDefault(),Xn.stopPropagation(),Gn())},Gn=()=>{he.value=!1},Nn=()=>{var Xn;(Xn=L.value)==null||Xn.focus()},Zn=()=>{var Xn;(Xn=L.value)==null||Xn.blur()},Hn=async Xn=>{r(INPUT_EVENT,Xn[g.valueKey]),r(UPDATE_MODEL_EVENT,Xn[g.valueKey]),r("select",Xn),de.value=[],ue.value=-1},rr=Xn=>{if(!_e.value||$e.value)return;if(Xn<0){ue.value=-1;return}Xn>=de.value.length&&(Xn=de.value.length-1);const Pn=z.value.querySelector(`.${V.be("suggestion","wrap")}`),fr=Pn.querySelectorAll(`.${V.be("suggestion","list")} li`)[Xn],yr=Pn.scrollTop,{offsetTop:Cr,scrollHeight:sr}=fr;Cr+sr>yr+Pn.clientHeight&&(Pn.scrollTop+=sr),Cr<yr&&(Pn.scrollTop-=sr),ue.value=Xn,L.value.ref.setAttribute("aria-activedescendant",`${Ne.value}-item-${ue.value}`)};return onClickOutside(re,()=>{_e.value&&Gn()}),onMounted(()=>{L.value.ref.setAttribute("role","textbox"),L.value.ref.setAttribute("aria-autocomplete","list"),L.value.ref.setAttribute("aria-controls","id"),L.value.ref.setAttribute("aria-activedescendant",`${Ne.value}-item-${ue.value}`),oe=L.value.ref.hasAttribute("readonly")}),e({highlightedIndex:ue,activated:he,loading:$e,inputRef:L,popperRef:j,suggestions:de,handleSelect:Hn,handleKeyEnter:$n,focus:Nn,blur:Zn,close:Gn,highlight:rr}),(Xn,Pn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popperRef",ref:j,visible:unref(_e),placement:Xn.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[unref(V).e("popper"),Xn.popperClass],teleported:Xn.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${unref(V).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:kt,onHide:Lt},{content:withCtx(()=>[createBaseVNode("div",{ref_key:"regionRef",ref:z,class:normalizeClass([unref(V).b("suggestion"),unref(V).is("loading",unref(Fe))]),style:normalizeStyle({[Xn.fitInputWidth?"width":"minWidth"]:pe.value,outline:"none"}),role:"region"},[createVNode(unref(ElScrollbar),{id:unref(Ne),tag:"ul","wrap-class":unref(V).be("suggestion","wrap"),"view-class":unref(V).be("suggestion","list"),role:"listbox"},{default:withCtx(()=>[unref(Fe)?(openBlock(),createElementBlock("li",_hoisted_2$1G,[createVNode(unref(ElIcon),{class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(de.value,(jn,fr)=>(openBlock(),createElementBlock("li",{id:`${unref(Ne)}-item-${fr}`,key:fr,class:normalizeClass({highlighted:ue.value===fr}),role:"option","aria-selected":ue.value===fr,onClick:yr=>Hn(jn)},[renderSlot(Xn.$slots,"default",{item:jn},()=>[createTextVNode(toDisplayString$1(jn[Xn.valueKey]),1)])],10,_hoisted_3$Y))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"listboxRef",ref:re,class:normalizeClass([unref(V).b(),Xn.$attrs.class]),style:normalizeStyle(unref(Oe)),role:"combobox","aria-haspopup":"listbox","aria-expanded":unref(_e),"aria-owns":unref(Ne)},[createVNode(unref(ElInput),mergeProps({ref_key:"inputRef",ref:L},unref(y),{clearable:Xn.clearable,disabled:unref($),name:Xn.name,"model-value":Xn.modelValue,onInput:xn,onChange:An,onFocus:Dn,onBlur:En,onClear:Bn,onKeydown:[Pn[0]||(Pn[0]=withKeys(withModifiers(jn=>rr(ue.value-1),["prevent"]),["up"])),Pn[1]||(Pn[1]=withKeys(withModifiers(jn=>rr(ue.value+1),["prevent"]),["down"])),withKeys($n,["enter"]),withKeys(Gn,["tab"]),withKeys(Wn,["esc"])],onMousedown:jt}),createSlots({_:2},[Xn.$slots.prepend?{name:"prepend",fn:withCtx(()=>[renderSlot(Xn.$slots,"prepend")])}:void 0,Xn.$slots.append?{name:"append",fn:withCtx(()=>[renderSlot(Xn.$slots,"append")])}:void 0,Xn.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Xn.$slots,"prefix")])}:void 0,Xn.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(Xn.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,_hoisted_1$25)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Autocomplete=_export_sfc$1(_sfc_main$38,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const ElAutocomplete=withInstall(Autocomplete),avatarProps=buildProps({size:{type:[Number,String],values:componentSizes,default:"",validator:n=>isNumber$1(n)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:n=>n instanceof Event},_hoisted_1$24=["src","alt","srcset"],__default__$1n=defineComponent({name:"ElAvatar"}),_sfc_main$37=defineComponent({...__default__$1n,props:avatarProps,emits:avatarEmits,setup(n,{emit:e}){const r=n,g=useNamespace("avatar"),y=ref(!1),k=computed(()=>{const{size:z,icon:j,shape:re}=r,oe=[g.b()];return isString$3(z)&&oe.push(g.m(z)),j&&oe.push(g.m("icon")),re&&oe.push(g.m(re)),oe}),$=computed(()=>{const{size:z}=r;return isNumber$1(z)?g.cssVarBlock({size:addUnit(z)||""}):void 0}),V=computed(()=>({objectFit:r.fit}));watch(()=>r.src,()=>y.value=!1);function L(z){y.value=!0,e("error",z)}return(z,j)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(k)),style:normalizeStyle(unref($))},[(z.src||z.srcSet)&&!y.value?(openBlock(),createElementBlock("img",{key:0,src:z.src,alt:z.alt,srcset:z.srcSet,style:normalizeStyle(unref(V)),onError:L},null,44,_hoisted_1$24)):z.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(z.icon)))]),_:1})):renderSlot(z.$slots,"default",{key:2})],6))}});var Avatar=_export_sfc$1(_sfc_main$37,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const ElAvatar=withInstall(Avatar),backtopProps={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},backtopEmits={click:n=>n instanceof MouseEvent},useBackTop=(n,e,r)=>{const g=shallowRef(),y=shallowRef(),k=ref(!1),$=()=>{g.value&&(k.value=g.value.scrollTop>=n.visibilityHeight)},V=z=>{var j;(j=g.value)==null||j.scrollTo({top:0,behavior:"smooth"}),e("click",z)},L=useThrottleFn($,300,!0);return useEventListener(y,"scroll",L),onMounted(()=>{var z;y.value=document,g.value=document.documentElement,n.target&&(g.value=(z=document.querySelector(n.target))!=null?z:void 0,g.value||throwError(r,`target does not exist: ${n.target}`),y.value=g.value),$()}),{visible:k,handleClick:V}},COMPONENT_NAME$h="ElBacktop",__default__$1m=defineComponent({name:COMPONENT_NAME$h}),_sfc_main$36=defineComponent({...__default__$1m,props:backtopProps,emits:backtopEmits,setup(n,{emit:e}){const r=n,g=useNamespace("backtop"),{handleClick:y,visible:k}=useBackTop(r,e,COMPONENT_NAME$h),$=computed(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(V,L)=>(openBlock(),createBlock(Transition,{name:`${unref(g).namespace.value}-fade-in`},{default:withCtx(()=>[unref(k)?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle(unref($)),class:normalizeClass(unref(g).b()),onClick:L[0]||(L[0]=withModifiers((...z)=>unref(y)&&unref(y)(...z),["stop"]))},[renderSlot(V.$slots,"default",{},()=>[createVNode(unref(ElIcon),{class:normalizeClass(unref(g).e("icon"))},{default:withCtx(()=>[createVNode(unref(caret_top_default))]),_:1},8,["class"])])],6)):createCommentVNode("v-if",!0)]),_:3},8,["name"]))}});var Backtop=_export_sfc$1(_sfc_main$36,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ElBacktop=withInstall(Backtop),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_hoisted_1$23=["textContent"],__default__$1l=defineComponent({name:"ElBadge"}),_sfc_main$35=defineComponent({...__default__$1l,props:badgeProps,setup(n,{expose:e}){const r=n,g=useNamespace("badge"),y=computed(()=>r.isDot?"":isNumber$1(r.value)&&isNumber$1(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return e({content:y}),(k,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[renderSlot(k.$slots,"default"),createVNode(Transition,{name:`${unref(g).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(g).e("content"),unref(g).em("content",k.type),unref(g).is("fixed",!!k.$slots.default),unref(g).is("dot",k.isDot)]),textContent:toDisplayString$1(unref(y))},null,10,_hoisted_1$23),[[vShow,!k.hidden&&(unref(y)||k.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$35,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),__default__$1k=defineComponent({name:"ElBreadcrumb"}),_sfc_main$34=defineComponent({...__default__$1k,props:breadcrumbProps,setup(n){const e=n,r=useNamespace("breadcrumb"),g=ref();return provide(breadcrumbKey,e),onMounted(()=>{const y=g.value.querySelectorAll(`.${r.e("item")}`);y.length&&y[y.length-1].setAttribute("aria-current","page")}),(y,k)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:g,class:normalizeClass(unref(r).b()),"aria-label":"Breadcrumb",role:"navigation"},[renderSlot(y.$slots,"default")],2))}});var Breadcrumb=_export_sfc$1(_sfc_main$34,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:{type:Boolean,default:!1}}),__default__$1j=defineComponent({name:"ElBreadcrumbItem"}),_sfc_main$33=defineComponent({...__default__$1j,props:breadcrumbItemProps,setup(n){const e=n,r=getCurrentInstance(),g=inject(breadcrumbKey,void 0),y=useNamespace("breadcrumb"),k=r.appContext.config.globalProperties.$router,$=ref(),V=()=>{!e.to||!k||(e.replace?k.replace(e.to):k.push(e.to))};return(L,z)=>{var j,re;return openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("item"))},[createBaseVNode("span",{ref_key:"link",ref:$,class:normalizeClass([unref(y).e("inner"),unref(y).is("link",!!L.to)]),role:"link",onClick:V},[renderSlot(L.$slots,"default")],2),(j=unref(g))!=null&&j.separatorIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("separator"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(g).separatorIcon)))]),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(y).e("separator")),role:"presentation"},toDisplayString$1((re=unref(g))==null?void 0:re.separator),3))],2)}}});var BreadcrumbItem=_export_sfc$1(_sfc_main$33,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb,{BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(n,e)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>n.type==="text"));const r=inject(buttonGroupContextKey,void 0),g=useGlobalConfig("button"),{form:y}=useFormItem(),k=useFormSize(computed(()=>r?.size)),$=useFormDisabled(),V=ref(),L=useSlots(),z=computed(()=>n.type||r?.type||""),j=computed(()=>{var de,ue,pe;return(pe=(ue=n.autoInsertSpace)!=null?ue:(de=g.value)==null?void 0:de.autoInsertSpace)!=null?pe:!1}),re=computed(()=>n.tag==="button"?{ariaDisabled:$.value||n.loading,disabled:$.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),oe=computed(()=>{var de;const ue=(de=L.default)==null?void 0:de.call(L);if(j.value&&ue?.length===1){const pe=ue[0];if(pe?.type===Text$2){const he=pe.children;return/^\p{Unified_Ideograph}{2}$/u.test(he.trim())}}return!1});return{_disabled:$,_size:k,_type:z,_ref:V,_props:re,shouldAddSpace:oe,handleClick:de=>{n.nativeType==="reset"&&y?.resetFields(),e("click",de)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:n=>n instanceof MouseEvent};function bound01$1(n,e){isOnePointZero$1(n)&&(n="100%");var r=isPercentage$1(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function clamp01(n){return Math.min(1,Math.max(0,n))}function isOnePointZero$1(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function isPercentage$1(n){return typeof n=="string"&&n.indexOf("%")!==-1}function boundAlpha(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function convertToPercentage(n){return n<=1?"".concat(Number(n)*100,"%"):n}function pad2(n){return n.length===1?"0"+n:String(n)}function rgbToRgb(n,e,r){return{r:bound01$1(n,255)*255,g:bound01$1(e,255)*255,b:bound01$1(r,255)*255}}function rgbToHsl(n,e,r){n=bound01$1(n,255),e=bound01$1(e,255),r=bound01$1(r,255);var g=Math.max(n,e,r),y=Math.min(n,e,r),k=0,$=0,V=(g+y)/2;if(g===y)$=0,k=0;else{var L=g-y;switch($=V>.5?L/(2-g-y):L/(g+y),g){case n:k=(e-r)/L+(e<r?6:0);break;case e:k=(r-n)/L+2;break;case r:k=(n-e)/L+4;break}k/=6}return{h:k,s:$,l:V}}function hue2rgb(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*(6*r):r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function hslToRgb(n,e,r){var g,y,k;if(n=bound01$1(n,360),e=bound01$1(e,100),r=bound01$1(r,100),e===0)y=r,k=r,g=r;else{var $=r<.5?r*(1+e):r+e-r*e,V=2*r-$;g=hue2rgb(V,$,n+1/3),y=hue2rgb(V,$,n),k=hue2rgb(V,$,n-1/3)}return{r:g*255,g:y*255,b:k*255}}function rgbToHsv(n,e,r){n=bound01$1(n,255),e=bound01$1(e,255),r=bound01$1(r,255);var g=Math.max(n,e,r),y=Math.min(n,e,r),k=0,$=g,V=g-y,L=g===0?0:V/g;if(g===y)k=0;else{switch(g){case n:k=(e-r)/V+(e<r?6:0);break;case e:k=(r-n)/V+2;break;case r:k=(n-e)/V+4;break}k/=6}return{h:k,s:L,v:$}}function hsvToRgb(n,e,r){n=bound01$1(n,360)*6,e=bound01$1(e,100),r=bound01$1(r,100);var g=Math.floor(n),y=n-g,k=r*(1-e),$=r*(1-y*e),V=r*(1-(1-y)*e),L=g%6,z=[r,$,k,k,V,r][L],j=[V,r,r,$,k,k][L],re=[k,k,V,r,r,$][L];return{r:z*255,g:j*255,b:re*255}}function rgbToHex(n,e,r,g){var y=[pad2(Math.round(n).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16))];return g&&y[0].startsWith(y[0].charAt(1))&&y[1].startsWith(y[1].charAt(1))&&y[2].startsWith(y[2].charAt(1))?y[0].charAt(0)+y[1].charAt(0)+y[2].charAt(0):y.join("")}function rgbaToHex(n,e,r,g,y){var k=[pad2(Math.round(n).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex(g))];return y&&k[0].startsWith(k[0].charAt(1))&&k[1].startsWith(k[1].charAt(1))&&k[2].startsWith(k[2].charAt(1))&&k[3].startsWith(k[3].charAt(1))?k[0].charAt(0)+k[1].charAt(0)+k[2].charAt(0)+k[3].charAt(0):k.join("")}function convertDecimalToHex(n){return Math.round(parseFloat(n)*255).toString(16)}function convertHexToDecimal(n){return parseIntFromHex(n)/255}function parseIntFromHex(n){return parseInt(n,16)}function numberInputToObject(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(n){var e={r:0,g:0,b:0},r=1,g=null,y=null,k=null,$=!1,V=!1;return typeof n=="string"&&(n=stringInputToObject(n)),typeof n=="object"&&(isValidCSSUnit(n.r)&&isValidCSSUnit(n.g)&&isValidCSSUnit(n.b)?(e=rgbToRgb(n.r,n.g,n.b),$=!0,V=String(n.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(n.h)&&isValidCSSUnit(n.s)&&isValidCSSUnit(n.v)?(g=convertToPercentage(n.s),y=convertToPercentage(n.v),e=hsvToRgb(n.h,g,y),$=!0,V="hsv"):isValidCSSUnit(n.h)&&isValidCSSUnit(n.s)&&isValidCSSUnit(n.l)&&(g=convertToPercentage(n.s),k=convertToPercentage(n.l),e=hslToRgb(n.h,g,k),$=!0,V="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(r=n.a)),r=boundAlpha(r),{ok:$,format:n.format||V,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(names[n])n=names[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(n);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(n),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(n),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(n),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(n),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(n),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(n),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:e?"name":"hex8"}:(r=matchers.hex6.exec(n),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:e?"name":"hex"}:(r=matchers.hex4.exec(n),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:e?"name":"hex8"}:(r=matchers.hex3.exec(n),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function isValidCSSUnit(n){return!!matchers.CSS_UNIT.exec(String(n))}var TinyColor=function(){function n(e,r){e===void 0&&(e=""),r===void 0&&(r={});var g;if(e instanceof n)return e;typeof e=="number"&&(e=numberInputToObject(e)),this.originalInput=e;var y=inputToRGB(e);this.originalInput=e,this.r=y.r,this.g=y.g,this.b=y.b,this.a=y.a,this.roundA=Math.round(100*this.a)/100,this.format=(g=r.format)!==null&&g!==void 0?g:y.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=y.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),r,g,y,k=e.r/255,$=e.g/255,V=e.b/255;return k<=.03928?r=k/12.92:r=Math.pow((k+.055)/1.055,2.4),$<=.03928?g=$/12.92:g=Math.pow(($+.055)/1.055,2.4),V<=.03928?y=V/12.92:y=Math.pow((V+.055)/1.055,2.4),.2126*r+.7152*g+.0722*y},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=boundAlpha(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=rgbToHsv(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=rgbToHsv(this.r,this.g,this.b),r=Math.round(e.h*360),g=Math.round(e.s*100),y=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(g,"%, ").concat(y,"%)"):"hsva(".concat(r,", ").concat(g,"%, ").concat(y,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=rgbToHsl(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=rgbToHsl(this.r,this.g,this.b),r=Math.round(e.h*360),g=Math.round(e.s*100),y=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(g,"%, ").concat(y,"%)"):"hsla(".concat(r,", ").concat(g,"%, ").concat(y,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),rgbToHex(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),rgbaToHex(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),g=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(g,")"):"rgba(".concat(e,", ").concat(r,", ").concat(g,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(bound01$1(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(bound01$1(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,g=Object.entries(names);r<g.length;r++){var y=g[r],k=y[0],$=y[1];if(e===$)return k}return!1},n.prototype.toString=function(e){var r=!!e;e=e??this.format;var g=!1,y=this.a<1&&this.a>=0,k=!r&&y&&(e.startsWith("hex")||e==="name");return k?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(g=this.toRgbString()),e==="prgb"&&(g=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(g=this.toHexString()),e==="hex3"&&(g=this.toHexString(!0)),e==="hex4"&&(g=this.toHex8String(!0)),e==="hex8"&&(g=this.toHex8String()),e==="name"&&(g=this.toName()),e==="hsl"&&(g=this.toHslString()),e==="hsv"&&(g=this.toHsvString()),g||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=clamp01(r.l),new n(r)},n.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new n(r)},n.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=clamp01(r.l),new n(r)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=clamp01(r.s),new n(r)},n.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=clamp01(r.s),new n(r)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var r=this.toHsl(),g=(r.h+e)%360;return r.h=g<0?360+g:g,new n(r)},n.prototype.mix=function(e,r){r===void 0&&(r=50);var g=this.toRgb(),y=new n(e).toRgb(),k=r/100,$={r:(y.r-g.r)*k+g.r,g:(y.g-g.g)*k+g.g,b:(y.b-g.b)*k+g.b,a:(y.a-g.a)*k+g.a};return new n($)},n.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var g=this.toHsl(),y=360/r,k=[this];for(g.h=(g.h-(y*e>>1)+720)%360;--e;)g.h=(g.h+y)%360,k.push(new n(g));return k},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),g=r.h,y=r.s,k=r.v,$=[],V=1/e;e--;)$.push(new n({h:g,s:y,v:k})),k=(k+V)%1;return $},n.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new n({h:(r+72)%360,s:e.s,l:e.l}),new n({h:(r+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var r=this.toRgb(),g=new n(e).toRgb(),y=r.a+g.a*(1-r.a);return new n({r:(r.r*r.a+g.r*g.a*(1-r.a))/y,g:(r.g*r.a+g.g*g.a*(1-r.a))/y,b:(r.b*r.a+g.b*g.a*(1-r.a))/y,a:y})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var r=this.toHsl(),g=r.h,y=[this],k=360/e,$=1;$<e;$++)y.push(new n({h:(g+$*k)%360,s:r.s,l:r.l}));return y},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function darken(n,e=20){return n.mix("#141414",e).toString()}function useButtonCustomStyle(n){const e=useFormDisabled(),r=useNamespace("button");return computed(()=>{let g={};const y=n.color;if(y){const k=new TinyColor(y),$=n.dark?k.tint(20).toString():darken(k,20);if(n.plain)g=r.cssVarBlock({"bg-color":n.dark?darken(k,90):k.tint(90).toString(),"text-color":y,"border-color":n.dark?darken(k,50):k.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":y,"hover-border-color":y,"active-bg-color":$,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":$}),e.value&&(g[r.cssVarBlockName("disabled-bg-color")]=n.dark?darken(k,90):k.tint(90).toString(),g[r.cssVarBlockName("disabled-text-color")]=n.dark?darken(k,50):k.tint(50).toString(),g[r.cssVarBlockName("disabled-border-color")]=n.dark?darken(k,80):k.tint(80).toString());else{const V=n.dark?darken(k,30):k.tint(30).toString(),L=k.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(g=r.cssVarBlock({"bg-color":y,"text-color":L,"border-color":y,"hover-bg-color":V,"hover-text-color":L,"hover-border-color":V,"active-bg-color":$,"active-border-color":$}),e.value){const z=n.dark?darken(k,50):k.tint(50).toString();g[r.cssVarBlockName("disabled-bg-color")]=z,g[r.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,g[r.cssVarBlockName("disabled-border-color")]=z}}}return g})}const __default__$1i=defineComponent({name:"ElButton"}),_sfc_main$32=defineComponent({...__default__$1i,props:buttonProps,emits:buttonEmits,setup(n,{expose:e,emit:r}){const g=n,y=useButtonCustomStyle(g),k=useNamespace("button"),{_ref:$,_size:V,_type:L,_disabled:z,_props:j,shouldAddSpace:re,handleClick:oe}=useButton(g,r);return e({ref:$,size:V,type:L,disabled:z,shouldAddSpace:re}),(ae,de)=>(openBlock(),createBlock(resolveDynamicComponent(ae.tag),mergeProps({ref_key:"_ref",ref:$},unref(j),{class:[unref(k).b(),unref(k).m(unref(L)),unref(k).m(unref(V)),unref(k).is("disabled",unref(z)),unref(k).is("loading",ae.loading),unref(k).is("plain",ae.plain),unref(k).is("round",ae.round),unref(k).is("circle",ae.circle),unref(k).is("text",ae.text),unref(k).is("link",ae.link),unref(k).is("has-bg",ae.bg)],style:unref(y),onClick:unref(oe)}),{default:withCtx(()=>[ae.loading?(openBlock(),createElementBlock(Fragment,{key:0},[ae.$slots.loading?renderSlot(ae.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(k).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ae.loadingIcon)))]),_:1},8,["class"]))],64)):ae.icon||ae.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[ae.icon?(openBlock(),createBlock(resolveDynamicComponent(ae.icon),{key:0})):renderSlot(ae.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),ae.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(k).em("text","expand")]:unref(re)})},[renderSlot(ae.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc$1(_sfc_main$32,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$1h=defineComponent({name:"ElButtonGroup"}),_sfc_main$31=defineComponent({...__default__$1h,props:buttonGroupProps,setup(n){const e=n;provide(buttonGroupContextKey,reactive({size:toRef(e,"size"),type:toRef(e,"type")}));const r=useNamespace("button");return(g,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(r).b("group")}`)},[renderSlot(g.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$31,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var dayjs_min={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){var r=1e3,g=6e4,y=36e5,k="millisecond",$="second",V="minute",L="hour",z="day",j="week",re="month",oe="quarter",ae="year",de="date",ue="Invalid Date",pe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,he=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,xe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(xn){var jt=["th","st","nd","rd"],An=xn%100;return"["+xn+(jt[(An-20)%10]||jt[An]||jt[0])+"]"}},$e=function(xn,jt,An){var Dn=String(xn);return!Dn||Dn.length>=jt?xn:""+Array(jt+1-Dn.length).join(An)+xn},Ne={s:$e,z:function(xn){var jt=-xn.utcOffset(),An=Math.abs(jt),Dn=Math.floor(An/60),En=An%60;return(jt<=0?"+":"-")+$e(Dn,2,"0")+":"+$e(En,2,"0")},m:function xn(jt,An){if(jt.date()<An.date())return-xn(An,jt);var Dn=12*(An.year()-jt.year())+(An.month()-jt.month()),En=jt.clone().add(Dn,re),Bn=An-En<0,$n=jt.clone().add(Dn+(Bn?-1:1),re);return+(-(Dn+(An-En)/(Bn?En-$n:$n-En))||0)},a:function(xn){return xn<0?Math.ceil(xn)||0:Math.floor(xn)},p:function(xn){return{M:re,y:ae,w:j,d:z,D:de,h:L,m:V,s:$,ms:k,Q:oe}[xn]||String(xn||"").toLowerCase().replace(/s$/,"")},u:function(xn){return xn===void 0}},Oe="en",_e={};_e[Oe]=xe;var Fe=function(xn){return xn instanceof wn},Ue=function xn(jt,An,Dn){var En;if(!jt)return Oe;if(typeof jt=="string"){var Bn=jt.toLowerCase();_e[Bn]&&(En=Bn),An&&(_e[Bn]=An,En=Bn);var $n=jt.split("-");if(!En&&$n.length>1)return xn($n[0])}else{var Wn=jt.name;_e[Wn]=jt,En=Wn}return!Dn&&En&&(Oe=En),En||!Dn&&Oe},kt=function(xn,jt){if(Fe(xn))return xn.clone();var An=typeof jt=="object"?jt:{};return An.date=xn,An.args=arguments,new wn(An)},Lt=Ne;Lt.l=Ue,Lt.i=Fe,Lt.w=function(xn,jt){return kt(xn,{locale:jt.$L,utc:jt.$u,x:jt.$x,$offset:jt.$offset})};var wn=function(){function xn(An){this.$L=Ue(An.locale,null,!0),this.parse(An)}var jt=xn.prototype;return jt.parse=function(An){this.$d=function(Dn){var En=Dn.date,Bn=Dn.utc;if(En===null)return new Date(NaN);if(Lt.u(En))return new Date;if(En instanceof Date)return new Date(En);if(typeof En=="string"&&!/Z$/i.test(En)){var $n=En.match(pe);if($n){var Wn=$n[2]-1||0,Gn=($n[7]||"0").substring(0,3);return Bn?new Date(Date.UTC($n[1],Wn,$n[3]||1,$n[4]||0,$n[5]||0,$n[6]||0,Gn)):new Date($n[1],Wn,$n[3]||1,$n[4]||0,$n[5]||0,$n[6]||0,Gn)}}return new Date(En)}(An),this.$x=An.x||{},this.init()},jt.init=function(){var An=this.$d;this.$y=An.getFullYear(),this.$M=An.getMonth(),this.$D=An.getDate(),this.$W=An.getDay(),this.$H=An.getHours(),this.$m=An.getMinutes(),this.$s=An.getSeconds(),this.$ms=An.getMilliseconds()},jt.$utils=function(){return Lt},jt.isValid=function(){return this.$d.toString()!==ue},jt.isSame=function(An,Dn){var En=kt(An);return this.startOf(Dn)<=En&&En<=this.endOf(Dn)},jt.isAfter=function(An,Dn){return kt(An)<this.startOf(Dn)},jt.isBefore=function(An,Dn){return this.endOf(Dn)<kt(An)},jt.$g=function(An,Dn,En){return Lt.u(An)?this[Dn]:this.set(En,An)},jt.unix=function(){return Math.floor(this.valueOf()/1e3)},jt.valueOf=function(){return this.$d.getTime()},jt.startOf=function(An,Dn){var En=this,Bn=!!Lt.u(Dn)||Dn,$n=Lt.p(An),Wn=function(jn,fr){var yr=Lt.w(En.$u?Date.UTC(En.$y,fr,jn):new Date(En.$y,fr,jn),En);return Bn?yr:yr.endOf(z)},Gn=function(jn,fr){return Lt.w(En.toDate()[jn].apply(En.toDate("s"),(Bn?[0,0,0,0]:[23,59,59,999]).slice(fr)),En)},Nn=this.$W,Zn=this.$M,Hn=this.$D,rr="set"+(this.$u?"UTC":"");switch($n){case ae:return Bn?Wn(1,0):Wn(31,11);case re:return Bn?Wn(1,Zn):Wn(0,Zn+1);case j:var Xn=this.$locale().weekStart||0,Pn=(Nn<Xn?Nn+7:Nn)-Xn;return Wn(Bn?Hn-Pn:Hn+(6-Pn),Zn);case z:case de:return Gn(rr+"Hours",0);case L:return Gn(rr+"Minutes",1);case V:return Gn(rr+"Seconds",2);case $:return Gn(rr+"Milliseconds",3);default:return this.clone()}},jt.endOf=function(An){return this.startOf(An,!1)},jt.$set=function(An,Dn){var En,Bn=Lt.p(An),$n="set"+(this.$u?"UTC":""),Wn=(En={},En[z]=$n+"Date",En[de]=$n+"Date",En[re]=$n+"Month",En[ae]=$n+"FullYear",En[L]=$n+"Hours",En[V]=$n+"Minutes",En[$]=$n+"Seconds",En[k]=$n+"Milliseconds",En)[Bn],Gn=Bn===z?this.$D+(Dn-this.$W):Dn;if(Bn===re||Bn===ae){var Nn=this.clone().set(de,1);Nn.$d[Wn](Gn),Nn.init(),this.$d=Nn.set(de,Math.min(this.$D,Nn.daysInMonth())).$d}else Wn&&this.$d[Wn](Gn);return this.init(),this},jt.set=function(An,Dn){return this.clone().$set(An,Dn)},jt.get=function(An){return this[Lt.p(An)]()},jt.add=function(An,Dn){var En,Bn=this;An=Number(An);var $n=Lt.p(Dn),Wn=function(Zn){var Hn=kt(Bn);return Lt.w(Hn.date(Hn.date()+Math.round(Zn*An)),Bn)};if($n===re)return this.set(re,this.$M+An);if($n===ae)return this.set(ae,this.$y+An);if($n===z)return Wn(1);if($n===j)return Wn(7);var Gn=(En={},En[V]=g,En[L]=y,En[$]=r,En)[$n]||1,Nn=this.$d.getTime()+An*Gn;return Lt.w(Nn,this)},jt.subtract=function(An,Dn){return this.add(-1*An,Dn)},jt.format=function(An){var Dn=this,En=this.$locale();if(!this.isValid())return En.invalidDate||ue;var Bn=An||"YYYY-MM-DDTHH:mm:ssZ",$n=Lt.z(this),Wn=this.$H,Gn=this.$m,Nn=this.$M,Zn=En.weekdays,Hn=En.months,rr=En.meridiem,Xn=function(fr,yr,Cr,sr){return fr&&(fr[yr]||fr(Dn,Bn))||Cr[yr].slice(0,sr)},Pn=function(fr){return Lt.s(Wn%12||12,fr,"0")},jn=rr||function(fr,yr,Cr){var sr=fr<12?"AM":"PM";return Cr?sr.toLowerCase():sr};return Bn.replace(he,function(fr,yr){return yr||function(Cr){switch(Cr){case"YY":return String(Dn.$y).slice(-2);case"YYYY":return Lt.s(Dn.$y,4,"0");case"M":return Nn+1;case"MM":return Lt.s(Nn+1,2,"0");case"MMM":return Xn(En.monthsShort,Nn,Hn,3);case"MMMM":return Xn(Hn,Nn);case"D":return Dn.$D;case"DD":return Lt.s(Dn.$D,2,"0");case"d":return String(Dn.$W);case"dd":return Xn(En.weekdaysMin,Dn.$W,Zn,2);case"ddd":return Xn(En.weekdaysShort,Dn.$W,Zn,3);case"dddd":return Zn[Dn.$W];case"H":return String(Wn);case"HH":return Lt.s(Wn,2,"0");case"h":return Pn(1);case"hh":return Pn(2);case"a":return jn(Wn,Gn,!0);case"A":return jn(Wn,Gn,!1);case"m":return String(Gn);case"mm":return Lt.s(Gn,2,"0");case"s":return String(Dn.$s);case"ss":return Lt.s(Dn.$s,2,"0");case"SSS":return Lt.s(Dn.$ms,3,"0");case"Z":return $n}return null}(fr)||$n.replace(":","")})},jt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},jt.diff=function(An,Dn,En){var Bn,$n=this,Wn=Lt.p(Dn),Gn=kt(An),Nn=(Gn.utcOffset()-this.utcOffset())*g,Zn=this-Gn,Hn=function(){return Lt.m($n,Gn)};switch(Wn){case ae:Bn=Hn()/12;break;case re:Bn=Hn();break;case oe:Bn=Hn()/3;break;case j:Bn=(Zn-Nn)/6048e5;break;case z:Bn=(Zn-Nn)/864e5;break;case L:Bn=Zn/y;break;case V:Bn=Zn/g;break;case $:Bn=Zn/r;break;default:Bn=Zn}return En?Bn:Lt.a(Bn)},jt.daysInMonth=function(){return this.endOf(re).$D},jt.$locale=function(){return _e[this.$L]},jt.locale=function(An,Dn){if(!An)return this.$L;var En=this.clone(),Bn=Ue(An,Dn,!0);return Bn&&(En.$L=Bn),En},jt.clone=function(){return Lt.w(this.$d,this)},jt.toDate=function(){return new Date(this.valueOf())},jt.toJSON=function(){return this.isValid()?this.toISOString():null},jt.toISOString=function(){return this.$d.toISOString()},jt.toString=function(){return this.$d.toUTCString()},xn}(),Et=wn.prototype;return kt.prototype=Et,[["$ms",k],["$s",$],["$m",V],["$H",L],["$W",z],["$M",re],["$y",ae],["$D",de]].forEach(function(xn){Et[xn[1]]=function(jt){return this.$g(jt,xn[0],xn[1])}}),kt.extend=function(xn,jt){return xn.$i||(xn(jt,wn,kt),xn.$i=!0),kt},kt.locale=Ue,kt.isDayjs=Fe,kt.unix=function(xn){return kt(1e3*xn)},kt.en=_e[Oe],kt.Ls=_e,kt.p={},kt})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var customParseFormat$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},g=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,y=/\d\d/,k=/\d\d?/,$=/\d*[^-_:/,()\s\d]+/,V={},L=function(ue){return(ue=+ue)+(ue>68?1900:2e3)},z=function(ue){return function(pe){this[ue]=+pe}},j=[/[+-]\d\d:?(\d\d)?|Z/,function(ue){(this.zone||(this.zone={})).offset=function(pe){if(!pe||pe==="Z")return 0;var he=pe.match(/([+-]|\d\d)/g),xe=60*he[1]+(+he[2]||0);return xe===0?0:he[0]==="+"?-xe:xe}(ue)}],re=function(ue){var pe=V[ue];return pe&&(pe.indexOf?pe:pe.s.concat(pe.f))},oe=function(ue,pe){var he,xe=V.meridiem;if(xe){for(var $e=1;$e<=24;$e+=1)if(ue.indexOf(xe($e,0,pe))>-1){he=$e>12;break}}else he=ue===(pe?"pm":"PM");return he},ae={A:[$,function(ue){this.afternoon=oe(ue,!1)}],a:[$,function(ue){this.afternoon=oe(ue,!0)}],S:[/\d/,function(ue){this.milliseconds=100*+ue}],SS:[y,function(ue){this.milliseconds=10*+ue}],SSS:[/\d{3}/,function(ue){this.milliseconds=+ue}],s:[k,z("seconds")],ss:[k,z("seconds")],m:[k,z("minutes")],mm:[k,z("minutes")],H:[k,z("hours")],h:[k,z("hours")],HH:[k,z("hours")],hh:[k,z("hours")],D:[k,z("day")],DD:[y,z("day")],Do:[$,function(ue){var pe=V.ordinal,he=ue.match(/\d+/);if(this.day=he[0],pe)for(var xe=1;xe<=31;xe+=1)pe(xe).replace(/\[|\]/g,"")===ue&&(this.day=xe)}],M:[k,z("month")],MM:[y,z("month")],MMM:[$,function(ue){var pe=re("months"),he=(re("monthsShort")||pe.map(function(xe){return xe.slice(0,3)})).indexOf(ue)+1;if(he<1)throw new Error;this.month=he%12||he}],MMMM:[$,function(ue){var pe=re("months").indexOf(ue)+1;if(pe<1)throw new Error;this.month=pe%12||pe}],Y:[/[+-]?\d+/,z("year")],YY:[y,function(ue){this.year=L(ue)}],YYYY:[/\d{4}/,z("year")],Z:j,ZZ:j};function de(ue){var pe,he;pe=ue,he=V&&V.formats;for(var xe=(ue=pe.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(kt,Lt,wn){var Et=wn&&wn.toUpperCase();return Lt||he[wn]||r[wn]||he[Et].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(xn,jt,An){return jt||An.slice(1)})})).match(g),$e=xe.length,Ne=0;Ne<$e;Ne+=1){var Oe=xe[Ne],_e=ae[Oe],Fe=_e&&_e[0],Ue=_e&&_e[1];xe[Ne]=Ue?{regex:Fe,parser:Ue}:Oe.replace(/^\[|\]$/g,"")}return function(kt){for(var Lt={},wn=0,Et=0;wn<$e;wn+=1){var xn=xe[wn];if(typeof xn=="string")Et+=xn.length;else{var jt=xn.regex,An=xn.parser,Dn=kt.slice(Et),En=jt.exec(Dn)[0];An.call(Lt,En),kt=kt.replace(En,"")}}return function(Bn){var $n=Bn.afternoon;if($n!==void 0){var Wn=Bn.hours;$n?Wn<12&&(Bn.hours+=12):Wn===12&&(Bn.hours=0),delete Bn.afternoon}}(Lt),Lt}}return function(ue,pe,he){he.p.customParseFormat=!0,ue&&ue.parseTwoDigitYear&&(L=ue.parseTwoDigitYear);var xe=pe.prototype,$e=xe.parse;xe.parse=function(Ne){var Oe=Ne.date,_e=Ne.utc,Fe=Ne.args;this.$u=_e;var Ue=Fe[1];if(typeof Ue=="string"){var kt=Fe[2]===!0,Lt=Fe[3]===!0,wn=kt||Lt,Et=Fe[2];Lt&&(Et=Fe[2]),V=this.$locale(),!kt&&Et&&(V=he.Ls[Et]),this.$d=function(Dn,En,Bn){try{if(["x","X"].indexOf(En)>-1)return new Date((En==="X"?1e3:1)*Dn);var $n=de(En)(Dn),Wn=$n.year,Gn=$n.month,Nn=$n.day,Zn=$n.hours,Hn=$n.minutes,rr=$n.seconds,Xn=$n.milliseconds,Pn=$n.zone,jn=new Date,fr=Nn||(Wn||Gn?1:jn.getDate()),yr=Wn||jn.getFullYear(),Cr=0;Wn&&!Gn||(Cr=Gn>0?Gn-1:jn.getMonth());var sr=Zn||0,zn=Hn||0,vn=rr||0,Jn=Xn||0;return Pn?new Date(Date.UTC(yr,Cr,fr,sr,zn,vn,Jn+60*Pn.offset*1e3)):Bn?new Date(Date.UTC(yr,Cr,fr,sr,zn,vn,Jn)):new Date(yr,Cr,fr,sr,zn,vn,Jn)}catch{return new Date("")}}(Oe,Ue,_e),this.init(),Et&&Et!==!0&&(this.$L=this.locale(Et).$L),wn&&Oe!=this.format(Ue)&&(this.$d=new Date("")),V={}}else if(Ue instanceof Array)for(var xn=Ue.length,jt=1;jt<=xn;jt+=1){Fe[1]=Ue[jt-1];var An=he.apply(this,Fe);if(An.isValid()){this.$d=An.$d,this.$L=An.$L,this.init();break}jt===xn&&(this.$d=new Date(""))}else $e.call(this,Ne)}}})})(customParseFormat$1);var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs(customParseFormatExports),timeUnits$1=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},buildTimeList=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],rangeArr=n=>Array.from(Array.from({length:n}).keys()),extractDateFormat=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(n,e){const r=isDate$1(n),g=isDate$1(e);return r&&g?n.getTime()===e.getTime():!r&&!g?n===e:!1},valueEquals=function(n,e){const r=isArray$3(n),g=isArray$3(e);return r&&g?n.length!==e.length?!1:n.every((y,k)=>dateEquals(y,e[k])):!r&&!g?dateEquals(n,e):!1},parseDate=function(n,e,r){const g=isEmpty(e)||e==="x"?dayjs(n).locale(r):dayjs(n,e).locale(r);return g.isValid()?g:void 0},formatter=function(n,e,r){return isEmpty(e)?n:e==="x"?+n:dayjs(n).locale(r).format(e)},makeList=(n,e)=>{var r;const g=[],y=e?.();for(let k=0;k<n;k++)g.push((r=y?.includes(k))!=null?r:!1);return g},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:{type:Boolean,default:!1},...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),_hoisted_1$22=["id","name","placeholder","value","disabled","readonly"],_hoisted_2$1F=["id","name","placeholder","value","disabled","readonly"],__default__$1g=defineComponent({name:"Picker"}),_sfc_main$30=defineComponent({...__default__$1g,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:r}){const g=n,y=useAttrs$1(),{lang:k}=useLocale(),$=useNamespace("date"),V=useNamespace("input"),L=useNamespace("range"),{form:z,formItem:j}=useFormItem(),re=inject("ElPopperOptions",{}),oe=ref(),ae=ref(),de=ref(!1),ue=ref(!1),pe=ref(null);let he=!1,xe=!1;const $e=computed(()=>[$.b("editor"),$.bm("editor",g.type),V.e("wrapper"),$.is("disabled",Nn.value),$.is("active",de.value),L.b("editor"),Dt?L.bm("editor",Dt.value):"",y.class]),Ne=computed(()=>[V.e("icon"),L.e("close-icon"),fr.value?"":L.e("close-icon--hidden")]);watch(de,bn=>{bn?nextTick(()=>{bn&&(pe.value=g.modelValue)}):(Kn.value=null,nextTick(()=>{Oe(g.modelValue)}))});const Oe=(bn,In)=>{(In||!valueEquals(bn,pe.value))&&(r("change",bn),g.validateEvent&&j?.validate("change").catch(Ln=>void 0))},_e=bn=>{if(!valueEquals(g.modelValue,bn)){let In;isArray$3(bn)?In=bn.map(Ln=>formatter(Ln,g.valueFormat,k.value)):bn&&(In=formatter(bn,g.valueFormat,k.value)),r("update:modelValue",bn&&In,k.value)}},Fe=bn=>{r("keydown",bn)},Ue=computed(()=>{if(ae.value){const bn=Tn.value?ae.value:ae.value.$el;return Array.from(bn.querySelectorAll("input"))}return[]}),kt=(bn,In,Ln)=>{const Mn=Ue.value;Mn.length&&(!Ln||Ln==="min"?(Mn[0].setSelectionRange(bn,In),Mn[0].focus()):Ln==="max"&&(Mn[1].setSelectionRange(bn,In),Mn[1].focus()))},Lt=()=>{Bn(!0,!0),nextTick(()=>{xe=!1})},wn=(bn="",In=!1)=>{In||(xe=!0),de.value=In;let Ln;isArray$3(bn)?Ln=bn.map(Mn=>Mn.toDate()):Ln=bn&&bn.toDate(),Kn.value=null,_e(Ln)},Et=()=>{ue.value=!0},xn=()=>{r("visible-change",!0)},jt=bn=>{bn?.key===EVENT_CODE.esc&&Bn(!0,!0)},An=()=>{ue.value=!1,de.value=!1,xe=!1,r("visible-change",!1)},Dn=()=>{de.value=!0},En=()=>{de.value=!1},Bn=(bn=!0,In=!1)=>{xe=In;const[Ln,Mn]=unref(Ue);let Fn=Ln;!bn&&Tn.value&&(Fn=Mn),Fn&&Fn.focus()},$n=bn=>{g.readonly||Nn.value||de.value||xe||(de.value=!0,r("focus",bn))};let Wn;const Gn=bn=>{const In=async()=>{setTimeout(()=>{var Ln;Wn===In&&(!((Ln=oe.value)!=null&&Ln.isFocusInsideContent()&&!he)&&Ue.value.filter(Mn=>Mn.contains(document.activeElement)).length===0&&(ar(),de.value=!1,r("blur",bn),g.validateEvent&&j?.validate("blur").catch(Mn=>void 0)),he=!1)},0)};Wn=In,In()},Nn=computed(()=>g.disabled||z?.disabled),Zn=computed(()=>{let bn;if(Cr.value?Pt.value.getDefaultValue&&(bn=Pt.value.getDefaultValue()):isArray$3(g.modelValue)?bn=g.modelValue.map(In=>parseDate(In,g.valueFormat,k.value)):bn=parseDate(g.modelValue,g.valueFormat,k.value),Pt.value.getRangeAvailableTime){const In=Pt.value.getRangeAvailableTime(bn);isEqual$1(In,bn)||(bn=In,_e(isArray$3(bn)?bn.map(Ln=>Ln.toDate()):bn.toDate()))}return isArray$3(bn)&&bn.some(In=>!In)&&(bn=[]),bn}),Hn=computed(()=>{if(!Pt.value.panelReady)return"";const bn=cr(Zn.value);return isArray$3(Kn.value)?[Kn.value[0]||bn&&bn[0]||"",Kn.value[1]||bn&&bn[1]||""]:Kn.value!==null?Kn.value:!Xn.value&&Cr.value||!de.value&&Cr.value?"":bn?Pn.value?bn.join(", "):bn:""}),rr=computed(()=>g.type.includes("time")),Xn=computed(()=>g.type.startsWith("time")),Pn=computed(()=>g.type==="dates"),jn=computed(()=>g.prefixIcon||(rr.value?clock_default:calendar_default)),fr=ref(!1),yr=bn=>{g.readonly||Nn.value||fr.value&&(bn.stopPropagation(),Lt(),_e(null),Oe(null,!0),fr.value=!1,de.value=!1,Pt.value.handleClear&&Pt.value.handleClear())},Cr=computed(()=>{const{modelValue:bn}=g;return!bn||isArray$3(bn)&&!bn.filter(Boolean).length}),sr=async bn=>{var In;g.readonly||Nn.value||(((In=bn.target)==null?void 0:In.tagName)!=="INPUT"||Ue.value.includes(document.activeElement))&&(de.value=!0)},zn=()=>{g.readonly||Nn.value||!Cr.value&&g.clearable&&(fr.value=!0)},vn=()=>{fr.value=!1},Jn=bn=>{var In;g.readonly||Nn.value||(((In=bn.touches[0].target)==null?void 0:In.tagName)!=="INPUT"||Ue.value.includes(document.activeElement))&&(de.value=!0)},Tn=computed(()=>g.type.includes("range")),Dt=useFormSize(),hn=computed(()=>{var bn,In;return(In=(bn=unref(oe))==null?void 0:bn.popperRef)==null?void 0:In.contentRef}),Vn=computed(()=>{var bn;return unref(Tn)?unref(ae):(bn=unref(ae))==null?void 0:bn.$el});onClickOutside(Vn,bn=>{const In=unref(hn),Ln=unref(Vn);In&&(bn.target===In||bn.composedPath().includes(In))||bn.target===Ln||bn.composedPath().includes(Ln)||(de.value=!1)});const Kn=ref(null),ar=()=>{if(Kn.value){const bn=lr(Hn.value);bn&&mr(bn)&&(_e(isArray$3(bn)?bn.map(In=>In.toDate()):bn.toDate()),Kn.value=null)}Kn.value===""&&(_e(null),Oe(null),Kn.value=null)},lr=bn=>bn?Pt.value.parseUserInput(bn):null,cr=bn=>bn?Pt.value.formatToString(bn):null,mr=bn=>Pt.value.isValidValue(bn),ur=async bn=>{if(g.readonly||Nn.value)return;const{code:In}=bn;if(Fe(bn),In===EVENT_CODE.esc){de.value===!0&&(de.value=!1,bn.preventDefault(),bn.stopPropagation());return}if(In===EVENT_CODE.down&&(Pt.value.handleFocusPicker&&(bn.preventDefault(),bn.stopPropagation()),de.value===!1&&(de.value=!0,await nextTick()),Pt.value.handleFocusPicker)){Pt.value.handleFocusPicker();return}if(In===EVENT_CODE.tab){he=!0;return}if(In===EVENT_CODE.enter||In===EVENT_CODE.numpadEnter){(Kn.value===null||Kn.value===""||mr(lr(Hn.value)))&&(ar(),de.value=!1),bn.stopPropagation();return}if(Kn.value){bn.stopPropagation();return}Pt.value.handleKeydownInput&&Pt.value.handleKeydownInput(bn)},le=bn=>{Kn.value=bn,de.value||(de.value=!0)},Ce=bn=>{const In=bn.target;Kn.value?Kn.value=[In.value,Kn.value[1]]:Kn.value=[In.value,null]},Ie=bn=>{const In=bn.target;Kn.value?Kn.value=[Kn.value[0],In.value]:Kn.value=[null,In.value]},ze=()=>{var bn;const In=Kn.value,Ln=lr(In&&In[0]),Mn=unref(Zn);if(Ln&&Ln.isValid()){Kn.value=[cr(Ln),((bn=Hn.value)==null?void 0:bn[1])||null];const Fn=[Ln,Mn&&(Mn[1]||null)];mr(Fn)&&(_e(Fn),Kn.value=null)}},qe=()=>{var bn;const In=unref(Kn),Ln=lr(In&&In[1]),Mn=unref(Zn);if(Ln&&Ln.isValid()){Kn.value=[((bn=unref(Hn))==null?void 0:bn[0])||null,cr(Ln)];const Fn=[Mn&&Mn[0],Ln];mr(Fn)&&(_e(Fn),Kn.value=null)}},Pt=ref({}),_n=bn=>{Pt.value[bn[0]]=bn[1],Pt.value.panelReady=!0},At=bn=>{r("calendar-change",bn)},Cn=(bn,In,Ln)=>{r("panel-change",bn,In,Ln)};return provide("EP_PICKER_BASE",{props:g}),e({focus:Bn,handleFocusInput:$n,handleBlurInput:Gn,handleOpen:Dn,handleClose:En,onPick:wn}),(bn,In)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:oe,visible:de.value,effect:"light",pure:"",trigger:"click"},bn.$attrs,{role:"dialog",teleported:"",transition:`${unref($).namespace.value}-zoom-in-top`,"popper-class":[`${unref($).namespace.value}-picker__popper`,bn.popperClass],"popper-options":unref(re),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Et,onShow:xn,onHide:An}),{default:withCtx(()=>[unref(Tn)?(openBlock(),createElementBlock("div",{key:1,ref_key:"inputRef",ref:ae,class:normalizeClass(unref($e)),style:normalizeStyle(bn.$attrs.style),onClick:$n,onMouseenter:zn,onMouseleave:vn,onTouchstart:Jn,onKeydown:ur},[unref(jn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(V).e("icon"),unref(L).e("icon")]),onMousedown:withModifiers(sr,["prevent"]),onTouchstart:Jn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(jn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),createBaseVNode("input",{id:bn.id&&bn.id[0],autocomplete:"off",name:bn.name&&bn.name[0],placeholder:bn.startPlaceholder,value:unref(Hn)&&unref(Hn)[0],disabled:unref(Nn),readonly:!bn.editable||bn.readonly,class:normalizeClass(unref(L).b("input")),onMousedown:sr,onInput:Ce,onChange:ze,onFocus:$n,onBlur:Gn},null,42,_hoisted_1$22),renderSlot(bn.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(L).b("separator"))},toDisplayString$1(bn.rangeSeparator),3)]),createBaseVNode("input",{id:bn.id&&bn.id[1],autocomplete:"off",name:bn.name&&bn.name[1],placeholder:bn.endPlaceholder,value:unref(Hn)&&unref(Hn)[1],disabled:unref(Nn),readonly:!bn.editable||bn.readonly,class:normalizeClass(unref(L).b("input")),onMousedown:sr,onFocus:$n,onBlur:Gn,onInput:Ie,onChange:qe},null,42,_hoisted_2$1F),bn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(Ne)),onClick:yr},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(bn.clearIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],38)):(openBlock(),createBlock(unref(ElInput),{key:0,id:bn.id,ref_key:"inputRef",ref:ae,"container-role":"combobox","model-value":unref(Hn),name:bn.name,size:unref(Dt),disabled:unref(Nn),placeholder:bn.placeholder,class:normalizeClass([unref($).b("editor"),unref($).bm("editor",bn.type),bn.$attrs.class]),style:normalizeStyle(bn.$attrs.style),readonly:!bn.editable||bn.readonly||unref(Pn)||bn.type==="week",label:bn.label,tabindex:bn.tabindex,"validate-event":!1,onInput:le,onFocus:$n,onBlur:Gn,onKeydown:ur,onChange:ar,onMousedown:sr,onMouseenter:zn,onMouseleave:vn,onTouchstart:Jn,onClick:In[0]||(In[0]=withModifiers(()=>{},["stop"]))},{prefix:withCtx(()=>[unref(jn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).e("icon")),onMousedown:withModifiers(sr,["prevent"]),onTouchstart:Jn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(jn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[fr.value&&bn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(V).e("icon")} clear-icon`),onClick:withModifiers(yr,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(bn.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:withCtx(()=>[renderSlot(bn.$slots,"default",{visible:de.value,actualVisible:ue.value,parsedValue:unref(Zn),format:bn.format,unlinkPanels:bn.unlinkPanels,type:bn.type,defaultValue:bn.defaultValue,onPick:wn,onSelectRange:kt,onSetPickerOption:_n,onCalendarChange:At,onPanelChange:Cn,onKeydown:jt,onMousedown:In[1]||(In[1]=withModifiers(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var CommonPicker=_export_sfc$1(_sfc_main$30,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:r})=>{const g=($,V,L,z)=>{const j={hour:n,minute:e,second:r};let re=$;return["hour","minute","second"].forEach(oe=>{if(j[oe]){let ae;const de=j[oe];switch(oe){case"minute":{ae=de(re.hour(),V,z);break}case"second":{ae=de(re.hour(),re.minute(),V,z);break}default:{ae=de(V,z);break}}if(ae?.length&&!ae.includes(re[oe]())){const ue=L?0:ae.length-1;re=re[oe](ae[ue])}}}),re},y={};return{timePickerOptions:y,getAvailableTime:g,onSetOption:([$,V])=>{y[$]=V}}},makeAvailableArr=n=>{const e=(g,y)=>g||y,r=g=>g!==!0;return n.map(e).filter(r)},getTimeLists=(n,e,r)=>({getHoursList:($,V)=>makeList(24,n&&(()=>n?.($,V))),getMinutesList:($,V,L)=>makeList(60,e&&(()=>e?.($,V,L))),getSecondsList:($,V,L,z)=>makeList(60,r&&(()=>r?.($,V,L,z)))}),buildAvailableTimeSlotGetter=(n,e,r)=>{const{getHoursList:g,getMinutesList:y,getSecondsList:k}=getTimeLists(n,e,r);return{getAvailableHours:(z,j)=>makeAvailableArr(g(z,j)),getAvailableMinutes:(z,j,re)=>makeAvailableArr(y(z,j,re)),getAvailableSeconds:(z,j,re,oe)=>makeAvailableArr(k(z,j,re,oe))}},useOldValue=n=>{const e=ref(n.parsedValue);return watch(()=>n.visible,r=>{r||(e.value=n.parsedValue)}),e},nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",n=>startClick=n),document.addEventListener("mouseup",n=>{for(const e of nodeList.values())for(const{documentHandler:r}of e)r(n,startClick)}));function createDocumentHandler(n,e){let r=[];return Array.isArray(e.arg)?r=e.arg:isElement$1(e.arg)&&r.push(e.arg),function(g,y){const k=e.instance.popperRef,$=g.target,V=y?.target,L=!e||!e.instance,z=!$||!V,j=n.contains($)||n.contains(V),re=n===$,oe=r.length&&r.some(de=>de?.contains($))||r.length&&r.includes(V),ae=k&&(k.contains($)||k.contains(V));L||z||j||re||oe||ae||e.value(g,y)}}const ClickOutside={beforeMount(n,e){nodeList.has(n)||nodeList.set(n,[]),nodeList.get(n).push({documentHandler:createDocumentHandler(n,e),bindingFn:e.value})},updated(n,e){nodeList.has(n)||nodeList.set(n,[]);const r=nodeList.get(n),g=r.findIndex(k=>k.bindingFn===e.oldValue),y={documentHandler:createDocumentHandler(n,e),bindingFn:e.value};g>=0?r.splice(g,1,y):r.push(y)},unmounted(n){nodeList.delete(n)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(n,e){const r=e.value,{interval:g=REPEAT_INTERVAL,delay:y=REPEAT_DELAY}=isFunction$3(r)?{}:r;let k,$;const V=()=>isFunction$3(r)?r():r.handler(),L=()=>{$&&(clearTimeout($),$=void 0),k&&(clearInterval(k),k=void 0)};n.addEventListener("mousedown",z=>{z.button===0&&(L(),V(),document.addEventListener("mouseup",()=>L(),{once:!0}),$=setTimeout(()=>{k=setInterval(()=>{V()},g)},y))})}},FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=n=>{if(FOCUS_STACK.length===0)return;const e=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(e.length>0&&n.code===EVENT_CODE.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const r=n.shiftKey,g=n.target===e[0],y=n.target===e[e.length-1];g&&r&&(n.preventDefault(),e[e.length-1].focus()),y&&!r&&(n.preventDefault(),e[0].focus())}},TrapFocus={beforeMount(n){n[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(n),FOCUS_STACK.push(n),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(n){nextTick(()=>{n[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(n)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&document.removeEventListener("keydown",FOCUS_HANDLER)}};var v=!1,o,f,s,u,d$1,N,l,p$1,m,w$1,D,x,E,M,F;function a(){if(!v){v=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),r=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(x=/\b(iPhone|iP[ao]d)/.exec(n),E=/\b(iP[ao]d)/.exec(n),w$1=/Android/i.exec(n),M=/FBAN\/\w+;/i.exec(n),F=/Mobile/i.exec(n),D=!!/Win64/.exec(n),e){o=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var g=/(?:Trident\/(\d+.\d+))/.exec(n);N=g?parseFloat(g[1])+4:o,f=e[2]?parseFloat(e[2]):NaN,s=e[3]?parseFloat(e[3]):NaN,u=e[4]?parseFloat(e[4]):NaN,u?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),d$1=e&&e[1]?parseFloat(e[1]):NaN):d$1=NaN}else o=f=s=d$1=u=NaN;if(r){if(r[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);l=y?parseFloat(y[1].replace("_",".")):!0}else l=!1;p$1=!!r[2],m=!!r[3]}else l=p$1=m=!1}}var _={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N>o},ie64:function(){return _.ie()&&D},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _.webkit()},chrome:function(){return a()||d$1},windows:function(){return a()||p$1},osx:function(){return a()||l},linux:function(){return a()||m},iphone:function(){return a()||x},mobile:function(){return a()||x||E||w$1||F},nativeApp:function(){return a()||M},android:function(){return a()||w$1},ipad:function(){return a()||E}},A=_,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U={canUseDOM:c,canUseWorkers:typeof Worker<"u",canUseEventListeners:c&&!!(window.addEventListener||window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c},h=U,X;h.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(n,e){if(!h.canUseDOM||e&&!("addEventListener"in document))return!1;var r="on"+n,g=r in document;if(!g){var y=document.createElement("div");y.setAttribute(r,"return;"),g=typeof y[r]=="function"}return!g&&X&&n==="wheel"&&(g=document.implementation.hasFeature("Events.wheel","3.0")),g}var b=S,O=10,I=40,P=800;function T(n){var e=0,r=0,g=0,y=0;return"detail"in n&&(r=n.detail),"wheelDelta"in n&&(r=-n.wheelDelta/120),"wheelDeltaY"in n&&(r=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=r,r=0),g=e*O,y=r*O,"deltaY"in n&&(y=n.deltaY),"deltaX"in n&&(g=n.deltaX),(g||y)&&n.deltaMode&&(n.deltaMode==1?(g*=I,y*=I):(g*=P,y*=P)),g&&!e&&(e=g<1?-1:1),y&&!r&&(r=y<1?-1:1),{spinX:e,spinY:r,pixelX:g,pixelY:y}}T.getEventType=function(){return A.firefox()?"DOMMouseScroll":b("wheel")?"wheel":"mousewheel"};var Y=T;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const mousewheel=function(n,e){if(n&&n.addEventListener){const r=function(g){const y=Y(g);e&&Reflect.apply(e,this,[g,y])};n.addEventListener("wheel",r,{passive:!0})}},Mousewheel={beforeMount(n,e){mousewheel(n,e.value)}},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),_hoisted_1$21=["onClick"],_hoisted_2$1E=["onMouseenter"],_sfc_main$2$=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(n,{emit:e}){const r=n,g=useNamespace("time"),{getHoursList:y,getMinutesList:k,getSecondsList:$}=getTimeLists(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let V=!1;const L=ref(),z=ref(),j=ref(),re=ref(),oe={hours:z,minutes:j,seconds:re},ae=computed(()=>r.showSeconds?timeUnits$1:timeUnits$1.slice(0,2)),de=computed(()=>{const{spinnerDate:$n}=r,Wn=$n.hour(),Gn=$n.minute(),Nn=$n.second();return{hours:Wn,minutes:Gn,seconds:Nn}}),ue=computed(()=>{const{hours:$n,minutes:Wn}=unref(de);return{hours:y(r.role),minutes:k($n,r.role),seconds:$($n,Wn,r.role)}}),pe=computed(()=>{const{hours:$n,minutes:Wn,seconds:Gn}=unref(de);return{hours:buildTimeList($n,23),minutes:buildTimeList(Wn,59),seconds:buildTimeList(Gn,59)}}),he=debounce($n=>{V=!1,Ne($n)},200),xe=$n=>{if(!!!r.amPmMode)return"";const Gn=r.amPmMode==="A";let Nn=$n<12?" am":" pm";return Gn&&(Nn=Nn.toUpperCase()),Nn},$e=$n=>{let Wn;switch($n){case"hours":Wn=[0,2];break;case"minutes":Wn=[3,5];break;case"seconds":Wn=[6,8];break}const[Gn,Nn]=Wn;e("select-range",Gn,Nn),L.value=$n},Ne=$n=>{Fe($n,unref(de)[$n])},Oe=()=>{Ne("hours"),Ne("minutes"),Ne("seconds")},_e=$n=>$n.querySelector(`.${g.namespace.value}-scrollbar__wrap`),Fe=($n,Wn)=>{if(r.arrowControl)return;const Gn=unref(oe[$n]);Gn&&Gn.$el&&(_e(Gn.$el).scrollTop=Math.max(0,Wn*Ue($n)))},Ue=$n=>{const Wn=unref(oe[$n]),Gn=Wn?.$el.querySelector("li");return Gn&&Number.parseFloat(getStyle(Gn,"height"))||0},kt=()=>{wn(1)},Lt=()=>{wn(-1)},wn=$n=>{L.value||$e("hours");const Wn=L.value,Gn=unref(de)[Wn],Nn=L.value==="hours"?24:60,Zn=Et(Wn,Gn,$n,Nn);xn(Wn,Zn),Fe(Wn,Zn),nextTick(()=>$e(Wn))},Et=($n,Wn,Gn,Nn)=>{let Zn=(Wn+Gn+Nn)%Nn;const Hn=unref(ue)[$n];for(;Hn[Zn]&&Zn!==Wn;)Zn=(Zn+Gn+Nn)%Nn;return Zn},xn=($n,Wn)=>{if(unref(ue)[$n][Wn])return;const{hours:Zn,minutes:Hn,seconds:rr}=unref(de);let Xn;switch($n){case"hours":Xn=r.spinnerDate.hour(Wn).minute(Hn).second(rr);break;case"minutes":Xn=r.spinnerDate.hour(Zn).minute(Wn).second(rr);break;case"seconds":Xn=r.spinnerDate.hour(Zn).minute(Hn).second(Wn);break}e("change",Xn)},jt=($n,{value:Wn,disabled:Gn})=>{Gn||(xn($n,Wn),$e($n),Fe($n,Wn))},An=$n=>{V=!0,he($n);const Wn=Math.min(Math.round((_e(unref(oe[$n]).$el).scrollTop-(Dn($n)*.5-10)/Ue($n)+3)/Ue($n)),$n==="hours"?23:59);xn($n,Wn)},Dn=$n=>unref(oe[$n]).$el.offsetHeight,En=()=>{const $n=Wn=>{const Gn=unref(oe[Wn]);Gn&&Gn.$el&&(_e(Gn.$el).onscroll=()=>{An(Wn)})};$n("hours"),$n("minutes"),$n("seconds")};onMounted(()=>{nextTick(()=>{!r.arrowControl&&En(),Oe(),r.role==="start"&&$e("hours")})});const Bn=($n,Wn)=>{oe[Wn].value=$n};return e("set-option",[`${r.role}_scrollDown`,wn]),e("set-option",[`${r.role}_emitSelectRange`,$e]),watch(()=>r.spinnerDate,()=>{V||Oe()}),($n,Wn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b("spinner"),{"has-seconds":$n.showSeconds}])},[$n.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(ae),Gn=>(openBlock(),createBlock(unref(ElScrollbar),{key:Gn,ref_for:!0,ref:Nn=>Bn(Nn,Gn),class:normalizeClass(unref(g).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(g).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Nn=>$e(Gn),onMousemove:Nn=>Ne(Gn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ue)[Gn],(Nn,Zn)=>(openBlock(),createElementBlock("li",{key:Zn,class:normalizeClass([unref(g).be("spinner","item"),unref(g).is("active",Zn===unref(de)[Gn]),unref(g).is("disabled",Nn)]),onClick:Hn=>jt(Gn,{value:Zn,disabled:Nn})},[Gn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(("0"+($n.amPmMode?Zn%12||12:Zn)).slice(-2))+toDisplayString$1(xe(Zn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString$1(("0"+Zn).slice(-2)),1)],64))],10,_hoisted_1$21))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),$n.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(ae),Gn=>(openBlock(),createElementBlock("div",{key:Gn,class:normalizeClass([unref(g).be("spinner","wrapper"),unref(g).is("arrow")]),onMouseenter:Nn=>$e(Gn)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(g).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Lt]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(g).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),kt]]),createBaseVNode("ul",{class:normalizeClass(unref(g).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(pe)[Gn],(Nn,Zn)=>(openBlock(),createElementBlock("li",{key:Zn,class:normalizeClass([unref(g).be("spinner","item"),unref(g).is("active",Nn===unref(de)[Gn]),unref(g).is("disabled",unref(ue)[Gn][Nn])])},[typeof Nn=="number"?(openBlock(),createElementBlock(Fragment,{key:0},[Gn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(("0"+($n.amPmMode?Nn%12||12:Nn)).slice(-2))+toDisplayString$1(xe(Nn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString$1(("0"+Nn).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,_hoisted_2$1E))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc$1(_sfc_main$2$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const _sfc_main$2_=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const r=n,g=inject("EP_PICKER_BASE"),{arrowControl:y,disabledHours:k,disabledMinutes:$,disabledSeconds:V,defaultValue:L}=g.props,{getAvailableHours:z,getAvailableMinutes:j,getAvailableSeconds:re}=buildAvailableTimeSlotGetter(k,$,V),oe=useNamespace("time"),{t:ae,lang:de}=useLocale(),ue=ref([0,2]),pe=useOldValue(r),he=computed(()=>isUndefined(r.actualVisible)?`${oe.namespace.value}-zoom-in-top`:""),xe=computed(()=>r.format.includes("ss")),$e=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),Ne=Bn=>{const $n=dayjs(Bn).locale(de.value),Wn=jt($n);return $n.isSame(Wn)},Oe=()=>{e("pick",pe.value,!1)},_e=(Bn=!1,$n=!1)=>{$n||e("pick",r.parsedValue,Bn)},Fe=Bn=>{if(!r.visible)return;const $n=jt(Bn).millisecond(0);e("pick",$n,!0)},Ue=(Bn,$n)=>{e("select-range",Bn,$n),ue.value=[Bn,$n]},kt=Bn=>{const $n=[0,3].concat(xe.value?[6]:[]),Wn=["hours","minutes"].concat(xe.value?["seconds"]:[]),Nn=($n.indexOf(ue.value[0])+Bn+$n.length)%$n.length;wn.start_emitSelectRange(Wn[Nn])},Lt=Bn=>{const $n=Bn.code,{left:Wn,right:Gn,up:Nn,down:Zn}=EVENT_CODE;if([Wn,Gn].includes($n)){kt($n===Wn?-1:1),Bn.preventDefault();return}if([Nn,Zn].includes($n)){const Hn=$n===Nn?-1:1;wn.start_scrollDown(Hn),Bn.preventDefault();return}},{timePickerOptions:wn,onSetOption:Et,getAvailableTime:xn}=useTimePanel({getAvailableHours:z,getAvailableMinutes:j,getAvailableSeconds:re}),jt=Bn=>xn(Bn,r.datetimeRole||"",!0),An=Bn=>Bn?dayjs(Bn,r.format).locale(de.value):null,Dn=Bn=>Bn?Bn.format(r.format):null,En=()=>dayjs(L).locale(de.value);return e("set-picker-option",["isValidValue",Ne]),e("set-picker-option",["formatToString",Dn]),e("set-picker-option",["parseUserInput",An]),e("set-picker-option",["handleKeydownInput",Lt]),e("set-picker-option",["getRangeAvailableTime",jt]),e("set-picker-option",["getDefaultValue",En]),(Bn,$n)=>(openBlock(),createBlock(Transition,{name:unref(he)},{default:withCtx(()=>[Bn.actualVisible||Bn.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(oe).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(oe).be("panel","content"),{"has-seconds":unref(xe)}])},[createVNode(TimeSpinner,{ref:"spinner",role:Bn.datetimeRole||"start","arrow-control":unref(y),"show-seconds":unref(xe),"am-pm-mode":unref($e),"spinner-date":Bn.parsedValue,"disabled-hours":unref(k),"disabled-minutes":unref($),"disabled-seconds":unref(V),onChange:Fe,onSetOption:unref(Et),onSelectRange:Ue},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"cancel"]),onClick:Oe},toDisplayString$1(unref(ae)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"confirm"]),onClick:$n[0]||($n[0]=Wn=>_e())},toDisplayString$1(unref(ae)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc$1(_sfc_main$2_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$20=["disabled"],_sfc_main$2Z=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const r=n,g=(Cr,sr)=>{const zn=[];for(let vn=Cr;vn<=sr;vn++)zn.push(vn);return zn},{t:y,lang:k}=useLocale(),$=useNamespace("time"),V=useNamespace("picker"),L=inject("EP_PICKER_BASE"),{arrowControl:z,disabledHours:j,disabledMinutes:re,disabledSeconds:oe,defaultValue:ae}=L.props,de=computed(()=>[$.be("range-picker","body"),$.be("panel","content"),$.is("arrow",z),Ne.value?"has-seconds":""]),ue=computed(()=>[$.be("range-picker","body"),$.be("panel","content"),$.is("arrow",z),Ne.value?"has-seconds":""]),pe=computed(()=>r.parsedValue[0]),he=computed(()=>r.parsedValue[1]),xe=useOldValue(r),$e=()=>{e("pick",xe.value,!1)},Ne=computed(()=>r.format.includes("ss")),Oe=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),_e=(Cr=!1)=>{e("pick",[pe.value,he.value],Cr)},Fe=Cr=>{Lt(Cr.millisecond(0),he.value)},Ue=Cr=>{Lt(pe.value,Cr.millisecond(0))},kt=Cr=>{const sr=Cr.map(vn=>dayjs(vn).locale(k.value)),zn=Gn(sr);return sr[0].isSame(zn[0])&&sr[1].isSame(zn[1])},Lt=(Cr,sr)=>{e("pick",[Cr,sr],!0)},wn=computed(()=>pe.value>he.value),Et=ref([0,2]),xn=(Cr,sr)=>{e("select-range",Cr,sr,"min"),Et.value=[Cr,sr]},jt=computed(()=>Ne.value?11:8),An=(Cr,sr)=>{e("select-range",Cr,sr,"max");const zn=unref(jt);Et.value=[Cr+zn,sr+zn]},Dn=Cr=>{const sr=Ne.value?[0,3,6,11,14,17]:[0,3,8,11],zn=["hours","minutes"].concat(Ne.value?["seconds"]:[]),Jn=(sr.indexOf(Et.value[0])+Cr+sr.length)%sr.length,Tn=sr.length/2;Jn<Tn?rr.start_emitSelectRange(zn[Jn]):rr.end_emitSelectRange(zn[Jn-Tn])},En=Cr=>{const sr=Cr.code,{left:zn,right:vn,up:Jn,down:Tn}=EVENT_CODE;if([zn,vn].includes(sr)){Dn(sr===zn?-1:1),Cr.preventDefault();return}if([Jn,Tn].includes(sr)){const Dt=sr===Jn?-1:1,hn=Et.value[0]<jt.value?"start":"end";rr[`${hn}_scrollDown`](Dt),Cr.preventDefault();return}},Bn=(Cr,sr)=>{const zn=j?j(Cr):[],vn=Cr==="start",Tn=(sr||(vn?he.value:pe.value)).hour(),Dt=vn?g(Tn+1,23):g(0,Tn-1);return union(zn,Dt)},$n=(Cr,sr,zn)=>{const vn=re?re(Cr,sr):[],Jn=sr==="start",Tn=zn||(Jn?he.value:pe.value),Dt=Tn.hour();if(Cr!==Dt)return vn;const hn=Tn.minute(),Vn=Jn?g(hn+1,59):g(0,hn-1);return union(vn,Vn)},Wn=(Cr,sr,zn,vn)=>{const Jn=oe?oe(Cr,sr,zn):[],Tn=zn==="start",Dt=vn||(Tn?he.value:pe.value),hn=Dt.hour(),Vn=Dt.minute();if(Cr!==hn||sr!==Vn)return Jn;const Kn=Dt.second(),ar=Tn?g(Kn+1,59):g(0,Kn-1);return union(Jn,ar)},Gn=([Cr,sr])=>[Xn(Cr,"start",!0,sr),Xn(sr,"end",!1,Cr)],{getAvailableHours:Nn,getAvailableMinutes:Zn,getAvailableSeconds:Hn}=buildAvailableTimeSlotGetter(Bn,$n,Wn),{timePickerOptions:rr,getAvailableTime:Xn,onSetOption:Pn}=useTimePanel({getAvailableHours:Nn,getAvailableMinutes:Zn,getAvailableSeconds:Hn}),jn=Cr=>Cr?isArray$3(Cr)?Cr.map(sr=>dayjs(sr,r.format).locale(k.value)):dayjs(Cr,r.format).locale(k.value):null,fr=Cr=>Cr?isArray$3(Cr)?Cr.map(sr=>sr.format(r.format)):Cr.format(r.format):null,yr=()=>{if(isArray$3(ae))return ae.map(sr=>dayjs(sr).locale(k.value));const Cr=dayjs(ae).locale(k.value);return[Cr,Cr.add(60,"m")]};return e("set-picker-option",["formatToString",fr]),e("set-picker-option",["parseUserInput",jn]),e("set-picker-option",["isValidValue",kt]),e("set-picker-option",["handleKeydownInput",En]),e("set-picker-option",["getDefaultValue",yr]),e("set-picker-option",["getRangeAvailableTime",Gn]),(Cr,sr)=>Cr.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref($).b("range-picker"),unref(V).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","header"))},toDisplayString$1(unref(y)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(unref(de))},[createVNode(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(Ne),"am-pm-mode":unref(Oe),"arrow-control":unref(z),"spinner-date":unref(pe),"disabled-hours":Bn,"disabled-minutes":$n,"disabled-seconds":Wn,onChange:Fe,onSetOption:unref(Pn),onSelectRange:xn},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","header"))},toDisplayString$1(unref(y)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(unref(ue))},[createVNode(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(Ne),"am-pm-mode":unref(Oe),"arrow-control":unref(z),"spinner-date":unref(he),"disabled-hours":Bn,"disabled-minutes":$n,"disabled-seconds":Wn,onChange:Ue,onSetOption:unref(Pn),onSelectRange:An},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref($).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref($).be("panel","btn"),"cancel"]),onClick:sr[0]||(sr[0]=zn=>$e())},toDisplayString$1(unref(y)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref($).be("panel","btn"),"confirm"]),disabled:unref(wn),onClick:sr[1]||(sr[1]=zn=>_e())},toDisplayString$1(unref(y)("el.datepicker.confirm")),11,_hoisted_1$20)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc$1(_sfc_main$2Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,e){const r=ref(),[g,y]=n.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],k=$=>e.emit("update:modelValue",$);return provide("ElPopperOptions",n.popperOptions),e.expose({focus:$=>{var V;(V=r.value)==null||V.handleFocusInput($)},blur:$=>{var V;(V=r.value)==null||V.handleBlurInput($)},handleOpen:()=>{var $;($=r.value)==null||$.handleOpen()},handleClose:()=>{var $;($=r.value)==null||$.handleClose()}}),()=>{var $;const V=($=n.format)!=null?$:DEFAULT_FORMATS_TIME;return createVNode(CommonPicker,mergeProps(n,{ref:r,type:g,format:V,"onUpdate:modelValue":k}),{default:L=>createVNode(y,L,null)})}}});const _TimePicker=TimePicker;_TimePicker.install=n=>{n.component(_TimePicker.name,_TimePicker)};const ElTimePicker=_TimePicker,getPrevMonthLastDays=(n,e)=>{const r=n.subtract(1,"month").endOf("month").date();return rangeArr(e).map((g,y)=>r-(e-y-1))},getMonthDays=n=>{const e=n.daysInMonth();return rangeArr(e).map((r,g)=>g+1)},toNestedArr=n=>rangeArr(n.length/7).map(e=>{const r=e*7;return n.slice(r,r+7)}),dateTableProps=buildProps({selectedDay:{type:definePropType(Object)},range:{type:definePropType(Array)},date:{type:definePropType(Object),required:!0},hideHeader:{type:Boolean}}),dateTableEmits={pick:n=>isObject$3(n)};var localeData$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g,y){var k=g.prototype,$=function(re){return re&&(re.indexOf?re:re.s)},V=function(re,oe,ae,de,ue){var pe=re.name?re:re.$locale(),he=$(pe[oe]),xe=$(pe[ae]),$e=he||xe.map(function(Oe){return Oe.slice(0,de)});if(!ue)return $e;var Ne=pe.weekStart;return $e.map(function(Oe,_e){return $e[(_e+(Ne||0))%7]})},L=function(){return y.Ls[y.locale()]},z=function(re,oe){return re.formats[oe]||function(ae){return ae.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(de,ue,pe){return ue||pe.slice(1)})}(re.formats[oe.toUpperCase()])},j=function(){var re=this;return{months:function(oe){return oe?oe.format("MMMM"):V(re,"months")},monthsShort:function(oe){return oe?oe.format("MMM"):V(re,"monthsShort","months",3)},firstDayOfWeek:function(){return re.$locale().weekStart||0},weekdays:function(oe){return oe?oe.format("dddd"):V(re,"weekdays")},weekdaysMin:function(oe){return oe?oe.format("dd"):V(re,"weekdaysMin","weekdays",2)},weekdaysShort:function(oe){return oe?oe.format("ddd"):V(re,"weekdaysShort","weekdays",3)},longDateFormat:function(oe){return z(re.$locale(),oe)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};k.localeData=function(){return j.bind(this)()},y.localeData=function(){var re=L();return{firstDayOfWeek:function(){return re.weekStart||0},weekdays:function(){return y.weekdays()},weekdaysShort:function(){return y.weekdaysShort()},weekdaysMin:function(){return y.weekdaysMin()},months:function(){return y.months()},monthsShort:function(){return y.monthsShort()},longDateFormat:function(oe){return z(re,oe)},meridiem:re.meridiem,ordinal:re.ordinal}},y.months=function(){return V(L(),"months")},y.monthsShort=function(){return V(L(),"monthsShort","months",3)},y.weekdays=function(re){return V(L(),"weekdays",null,null,re)},y.weekdaysShort=function(re){return V(L(),"weekdaysShort","weekdays",3,re)},y.weekdaysMin=function(re){return V(L(),"weekdaysMin","weekdays",2,re)}}})})(localeData$1);var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs(localeDataExports),useDateTable=(n,e)=>{dayjs.extend(localeData);const r=dayjs.localeData().firstDayOfWeek(),{t:g,lang:y}=useLocale(),k=dayjs().locale(y.value),$=computed(()=>!!n.range&&!!n.range.length),V=computed(()=>{let oe=[];if($.value){const[ae,de]=n.range,ue=rangeArr(de.date()-ae.date()+1).map(xe=>({text:ae.date()+xe,type:"current"}));let pe=ue.length%7;pe=pe===0?0:7-pe;const he=rangeArr(pe).map((xe,$e)=>({text:$e+1,type:"next"}));oe=ue.concat(he)}else{const ae=n.date.startOf("month").day(),de=getPrevMonthLastDays(n.date,(ae-r+7)%7).map(xe=>({text:xe,type:"prev"})),ue=getMonthDays(n.date).map(xe=>({text:xe,type:"current"}));oe=[...de,...ue];const pe=7-(oe.length%7||7),he=rangeArr(pe).map((xe,$e)=>({text:$e+1,type:"next"}));oe=oe.concat(he)}return toNestedArr(oe)}),L=computed(()=>{const oe=r;return oe===0?WEEK_DAYS.map(ae=>g(`el.datepicker.weeks.${ae}`)):WEEK_DAYS.slice(oe).concat(WEEK_DAYS.slice(0,oe)).map(ae=>g(`el.datepicker.weeks.${ae}`))}),z=(oe,ae)=>{switch(ae){case"prev":return n.date.startOf("month").subtract(1,"month").date(oe);case"next":return n.date.startOf("month").add(1,"month").date(oe);case"current":return n.date.date(oe)}};return{now:k,isInRange:$,rows:V,weekDays:L,getFormattedDate:z,handlePickDay:({text:oe,type:ae})=>{const de=z(oe,ae);e("pick",de)},getSlotData:({text:oe,type:ae})=>{const de=z(oe,ae);return{isSelected:de.isSame(n.selectedDay),type:`${ae}-month`,day:de.format("YYYY-MM-DD"),date:de.toDate()}}}},_hoisted_1$1$={key:0},_hoisted_2$1D=["onClick"],__default__$1f=defineComponent({name:"DateTable"}),_sfc_main$2Y=defineComponent({...__default__$1f,props:dateTableProps,emits:dateTableEmits,setup(n,{expose:e,emit:r}){const g=n,{isInRange:y,now:k,rows:$,weekDays:V,getFormattedDate:L,handlePickDay:z,getSlotData:j}=useDateTable(g,r),re=useNamespace("calendar-table"),oe=useNamespace("calendar-day"),ae=({text:de,type:ue})=>{const pe=[ue];if(ue==="current"){const he=L(de,ue);he.isSame(g.selectedDay,"day")&&pe.push(oe.is("selected")),he.isSame(k,"day")&&pe.push(oe.is("today"))}return pe};return e({getFormattedDate:L}),(de,ue)=>(openBlock(),createElementBlock("table",{class:normalizeClass([unref(re).b(),unref(re).is("range",unref(y))]),cellspacing:"0",cellpadding:"0"},[de.hideHeader?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("thead",_hoisted_1$1$,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),pe=>(openBlock(),createElementBlock("th",{key:pe},toDisplayString$1(pe),1))),128))])),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(pe,he)=>(openBlock(),createElementBlock("tr",{key:he,class:normalizeClass({[unref(re).e("row")]:!0,[unref(re).em("row","hide-border")]:he===0&&de.hideHeader})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(pe,(xe,$e)=>(openBlock(),createElementBlock("td",{key:$e,class:normalizeClass(ae(xe)),onClick:Ne=>unref(z)(xe)},[createBaseVNode("div",{class:normalizeClass(unref(oe).b())},[renderSlot(de.$slots,"date-cell",{data:unref(j)(xe)},()=>[createBaseVNode("span",null,toDisplayString$1(xe.text),1)])],2)],10,_hoisted_2$1D))),128))],2))),128))])],2))}});var DateTable$1=_export_sfc$1(_sfc_main$2Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const adjacentMonth=(n,e)=>{const r=n.endOf("month"),g=e.startOf("month"),k=r.isSame(g,"week")?g.add(1,"week"):g;return[[n,r],[k.startOf("week"),e]]},threeConsecutiveMonth=(n,e)=>{const r=n.endOf("month"),g=n.add(1,"month").startOf("month"),y=r.isSame(g,"week")?g.add(1,"week"):g,k=y.endOf("month"),$=e.startOf("month"),V=k.isSame($,"week")?$.add(1,"week"):$;return[[n,r],[y.startOf("week"),k],[V.startOf("week"),e]]},useCalendar=(n,e,r)=>{const g=useSlots(),{lang:y}=useLocale(),k=ref(),$=dayjs().locale(y.value),V=computed({get(){return n.modelValue?z.value:k.value},set(he){if(!he)return;k.value=he;const xe=he.toDate();e(INPUT_EVENT,xe),e(UPDATE_MODEL_EVENT,xe)}}),L=computed(()=>{if(!n.range)return[];const he=n.range.map(Ne=>dayjs(Ne).locale(y.value)),[xe,$e]=he;return xe.isAfter($e)?[]:xe.isSame($e,"month")?de(xe,$e):xe.add(1,"month").month()!==$e.month()?[]:de(xe,$e)}),z=computed(()=>n.modelValue?dayjs(n.modelValue).locale(y.value):V.value||(L.value.length?L.value[0][0]:$)),j=computed(()=>z.value.subtract(1,"month").date(1)),re=computed(()=>z.value.add(1,"month").date(1)),oe=computed(()=>z.value.subtract(1,"year").date(1)),ae=computed(()=>z.value.add(1,"year").date(1)),de=(he,xe)=>{const $e=he.startOf("week"),Ne=xe.endOf("week"),Oe=$e.get("month"),_e=Ne.get("month");return Oe===_e?[[$e,Ne]]:(Oe+1)%12===_e?adjacentMonth($e,Ne):Oe+2===_e||(Oe+1)%11===_e?threeConsecutiveMonth($e,Ne):[]},ue=he=>{V.value=he},pe=he=>{const $e={"prev-month":j.value,"next-month":re.value,"prev-year":oe.value,"next-year":ae.value,today:$}[he];$e.isSame(z.value,"day")||ue($e)};return useDeprecated({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},computed(()=>!!g.dateCell)),{calculateValidatedDateRange:de,date:z,realSelectedDay:V,pickDay:ue,selectDate:pe,validatedRange:L}},isValidRange$1=n=>isArray$3(n)&&n.length===2&&n.every(e=>isDate$1(e)),calendarProps=buildProps({modelValue:{type:Date},range:{type:definePropType(Array),validator:isValidRange$1}}),calendarEmits={[UPDATE_MODEL_EVENT]:n=>isDate$1(n),[INPUT_EVENT]:n=>isDate$1(n)},COMPONENT_NAME$g="ElCalendar",__default__$1e=defineComponent({name:COMPONENT_NAME$g}),_sfc_main$2X=defineComponent({...__default__$1e,props:calendarProps,emits:calendarEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("calendar"),{calculateValidatedDateRange:k,date:$,pickDay:V,realSelectedDay:L,selectDate:z,validatedRange:j}=useCalendar(g,r),{t:re}=useLocale(),oe=computed(()=>{const ae=`el.datepicker.month${$.value.format("M")}`;return`${$.value.year()} ${re("el.datepicker.year")} ${re(ae)}`});return e({selectedDay:L,pickDay:V,selectDate:z,calculateValidatedDateRange:k}),(ae,de)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("header"))},[renderSlot(ae.$slots,"header",{date:unref(oe)},()=>[createBaseVNode("div",{class:normalizeClass(unref(y).e("title"))},toDisplayString$1(unref(oe)),3),unref(j).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("button-group"))},[createVNode(unref(ElButtonGroup$1),null,{default:withCtx(()=>[createVNode(unref(ElButton),{size:"small",onClick:de[0]||(de[0]=ue=>unref(z)("prev-month"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)("el.datepicker.prevMonth")),1)]),_:1}),createVNode(unref(ElButton),{size:"small",onClick:de[1]||(de[1]=ue=>unref(z)("today"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)("el.datepicker.today")),1)]),_:1}),createVNode(unref(ElButton),{size:"small",onClick:de[2]||(de[2]=ue=>unref(z)("next-month"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):createCommentVNode("v-if",!0)])],2),unref(j).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("body"))},[createVNode(DateTable$1,{date:unref($),"selected-day":unref(L),onPick:unref(V)},createSlots({_:2},[ae.$slots["date-cell"]||ae.$slots.dateCell?{name:"date-cell",fn:withCtx(ue=>[ae.$slots["date-cell"]?renderSlot(ae.$slots,"date-cell",normalizeProps(mergeProps({key:0},ue))):renderSlot(ae.$slots,"dateCell",normalizeProps(mergeProps({key:1},ue)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("body"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),(ue,pe)=>(openBlock(),createBlock(DateTable$1,{key:pe,date:ue[0],"selected-day":unref(L),range:ue,"hide-header":pe!==0,onPick:unref(V)},createSlots({_:2},[ae.$slots["date-cell"]||ae.$slots.dateCell?{name:"date-cell",fn:withCtx(he=>[ae.$slots["date-cell"]?renderSlot(ae.$slots,"date-cell",normalizeProps(mergeProps({key:0},he))):renderSlot(ae.$slots,"dateCell",normalizeProps(mergeProps({key:1},he)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Calendar=_export_sfc$1(_sfc_main$2X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const ElCalendar=withInstall(Calendar),cardProps=buildProps({header:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$1d=defineComponent({name:"ElCard"}),_sfc_main$2W=defineComponent({...__default__$1d,props:cardProps,setup(n){const e=useNamespace("card");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(e).b(),unref(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(e).e("header"))},[renderSlot(r.$slots,"header",{},()=>[createTextVNode(toDisplayString$1(r.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(e).e("body"),r.bodyClass]),style:normalizeStyle(r.bodyStyle)},[renderSlot(r.$slots,"default")],6)],2))}});var Card=_export_sfc$1(_sfc_main$2W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const ElCard=withInstall(Card),carouselProps=buildProps({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),carouselEmits={change:(n,e)=>[n,e].every(isNumber$1)},carouselContextKey=Symbol("carouselContextKey"),THROTTLE_TIME=300,useCarousel=(n,e,r)=>{const{children:g,addChild:y,removeChild:k}=useOrderedChildren(getCurrentInstance(),"ElCarouselItem"),$=ref(-1),V=ref(null),L=ref(!1),z=ref(),j=ref(0),re=computed(()=>n.arrow!=="never"&&!unref(de)),oe=computed(()=>g.value.some($n=>$n.props.label.toString().length>0)),ae=computed(()=>n.type==="card"),de=computed(()=>n.direction==="vertical"),ue=computed(()=>n.height!=="auto"?{height:n.height}:{height:`${j.value}px`,overflow:"hidden"}),pe=throttle($n=>{Oe($n)},THROTTLE_TIME,{trailing:!0}),he=throttle($n=>{xn($n)},THROTTLE_TIME);function xe(){V.value&&(clearInterval(V.value),V.value=null)}function $e(){n.interval<=0||!n.autoplay||V.value||(V.value=setInterval(()=>Ne(),n.interval))}const Ne=()=>{$.value<g.value.length-1?$.value=$.value+1:n.loop&&($.value=0)};function Oe($n){if(isString$3($n)){const Nn=g.value.filter(Zn=>Zn.props.name===$n);Nn.length>0&&($n=g.value.indexOf(Nn[0]))}if($n=Number($n),Number.isNaN($n)||$n!==Math.floor($n))return;const Wn=g.value.length,Gn=$.value;$n<0?$.value=n.loop?Wn-1:0:$n>=Wn?$.value=n.loop?0:Wn-1:$.value=$n,Gn===$.value&&_e(Gn),Dn()}function _e($n){g.value.forEach((Wn,Gn)=>{Wn.translateItem(Gn,$.value,$n)})}function Fe($n,Wn){var Gn,Nn,Zn,Hn;const rr=unref(g),Xn=rr.length;if(Xn===0||!$n.states.inStage)return!1;const Pn=Wn+1,jn=Wn-1,fr=Xn-1,yr=rr[fr].states.active,Cr=rr[0].states.active,sr=(Nn=(Gn=rr[Pn])==null?void 0:Gn.states)==null?void 0:Nn.active,zn=(Hn=(Zn=rr[jn])==null?void 0:Zn.states)==null?void 0:Hn.active;return Wn===fr&&Cr||sr?"left":Wn===0&&yr||zn?"right":!1}function Ue(){L.value=!0,n.pauseOnHover&&xe()}function kt(){L.value=!1,$e()}function Lt($n){unref(de)||g.value.forEach((Wn,Gn)=>{$n===Fe(Wn,Gn)&&(Wn.states.hover=!0)})}function wn(){unref(de)||g.value.forEach($n=>{$n.states.hover=!1})}function Et($n){$.value=$n}function xn($n){n.trigger==="hover"&&$n!==$.value&&($.value=$n)}function jt(){Oe($.value-1)}function An(){Oe($.value+1)}function Dn(){xe(),$e()}function En($n){n.height==="auto"&&(j.value=$n)}watch(()=>$.value,($n,Wn)=>{_e(Wn),Wn>-1&&e("change",$n,Wn)}),watch(()=>n.autoplay,$n=>{$n?$e():xe()}),watch(()=>n.loop,()=>{Oe($.value)}),watch(()=>n.interval,()=>{Dn()}),watch(()=>g.value,()=>{g.value.length>0&&Oe(n.initialIndex)});const Bn=shallowRef();return onMounted(()=>{Bn.value=useResizeObserver(z.value,()=>{_e()}),$e()}),onBeforeUnmount(()=>{xe(),z.value&&Bn.value&&Bn.value.stop()}),provide(carouselContextKey,{root:z,isCardType:ae,isVertical:de,items:g,loop:n.loop,addItem:y,removeItem:k,setActiveItem:Oe,setContainerHeight:En}),{root:z,activeIndex:$,arrowDisplay:re,hasLabel:oe,hover:L,isCardType:ae,items:g,isVertical:de,containerStyle:ue,handleButtonEnter:Lt,handleButtonLeave:wn,handleIndicatorClick:Et,handleMouseEnter:Ue,handleMouseLeave:kt,setActiveItem:Oe,prev:jt,next:An,throttledArrowClick:pe,throttledIndicatorHover:he}},_hoisted_1$1_=["onMouseenter","onClick"],_hoisted_2$1C={key:0},COMPONENT_NAME$f="ElCarousel",__default__$1c=defineComponent({name:COMPONENT_NAME$f}),_sfc_main$2V=defineComponent({...__default__$1c,props:carouselProps,emits:carouselEmits,setup(n,{expose:e,emit:r}){const g=n,{root:y,activeIndex:k,arrowDisplay:$,hasLabel:V,hover:L,isCardType:z,items:j,isVertical:re,containerStyle:oe,handleButtonEnter:ae,handleButtonLeave:de,handleIndicatorClick:ue,handleMouseEnter:pe,handleMouseLeave:he,setActiveItem:xe,prev:$e,next:Ne,throttledArrowClick:Oe,throttledIndicatorHover:_e}=useCarousel(g,r),Fe=useNamespace("carousel"),Ue=computed(()=>{const Lt=[Fe.b(),Fe.m(g.direction)];return unref(z)&&Lt.push(Fe.m("card")),Lt}),kt=computed(()=>{const Lt=[Fe.e("indicators"),Fe.em("indicators",g.direction)];return unref(V)&&Lt.push(Fe.em("indicators","labels")),g.indicatorPosition==="outside"&&Lt.push(Fe.em("indicators","outside")),unref(re)&&Lt.push(Fe.em("indicators","right")),Lt});return e({setActiveItem:xe,prev:$e,next:Ne}),(Lt,wn)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:y,class:normalizeClass(unref(Ue)),onMouseenter:wn[6]||(wn[6]=withModifiers((...Et)=>unref(pe)&&unref(pe)(...Et),["stop"])),onMouseleave:wn[7]||(wn[7]=withModifiers((...Et)=>unref(he)&&unref(he)(...Et),["stop"]))},[createBaseVNode("div",{class:normalizeClass(unref(Fe).e("container")),style:normalizeStyle(unref(oe))},[unref($)?(openBlock(),createBlock(Transition,{key:0,name:"carousel-arrow-left",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Fe).e("arrow"),unref(Fe).em("arrow","left")]),onMouseenter:wn[0]||(wn[0]=Et=>unref(ae)("left")),onMouseleave:wn[1]||(wn[1]=(...Et)=>unref(de)&&unref(de)(...Et)),onClick:wn[2]||(wn[2]=withModifiers(Et=>unref(Oe)(unref(k)-1),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],34),[[vShow,(Lt.arrow==="always"||unref(L))&&(g.loop||unref(k)>0)]])]),_:1})):createCommentVNode("v-if",!0),unref($)?(openBlock(),createBlock(Transition,{key:1,name:"carousel-arrow-right",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Fe).e("arrow"),unref(Fe).em("arrow","right")]),onMouseenter:wn[3]||(wn[3]=Et=>unref(ae)("right")),onMouseleave:wn[4]||(wn[4]=(...Et)=>unref(de)&&unref(de)(...Et)),onClick:wn[5]||(wn[5]=withModifiers(Et=>unref(Oe)(unref(k)+1),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],34),[[vShow,(Lt.arrow==="always"||unref(L))&&(g.loop||unref(k)<unref(j).length-1)]])]),_:1})):createCommentVNode("v-if",!0),renderSlot(Lt.$slots,"default")],6),Lt.indicatorPosition!=="none"?(openBlock(),createElementBlock("ul",{key:0,class:normalizeClass(unref(kt))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),(Et,xn)=>(openBlock(),createElementBlock("li",{key:xn,class:normalizeClass([unref(Fe).e("indicator"),unref(Fe).em("indicator",Lt.direction),unref(Fe).is("active",xn===unref(k))]),onMouseenter:jt=>unref(_e)(xn),onClick:withModifiers(jt=>unref(ue)(xn),["stop"])},[createBaseVNode("button",{class:normalizeClass(unref(Fe).e("button"))},[unref(V)?(openBlock(),createElementBlock("span",_hoisted_2$1C,toDisplayString$1(Et.props.label),1)):createCommentVNode("v-if",!0)],2)],42,_hoisted_1$1_))),128))],2)):createCommentVNode("v-if",!0)],34))}});var Carousel=_export_sfc$1(_sfc_main$2V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const carouselItemProps=buildProps({name:{type:String,default:""},label:{type:[String,Number],default:""}}),useCarouselItem=(n,e)=>{const r=inject(carouselContextKey),g=getCurrentInstance(),y=.83,k=ref(),$=ref(!1),V=ref(0),L=ref(1),z=ref(!1),j=ref(!1),re=ref(!1),oe=ref(!1),{isCardType:ae,isVertical:de}=r;function ue(Ne,Oe,_e){const Fe=_e-1,Ue=Oe-1,kt=Oe+1,Lt=_e/2;return Oe===0&&Ne===Fe?-1:Oe===Fe&&Ne===0?_e:Ne<Ue&&Oe-Ne>=Lt?_e+1:Ne>kt&&Ne-Oe>=Lt?-2:Ne}function pe(Ne,Oe){var _e,Fe;const Ue=unref(de)?((_e=r.root.value)==null?void 0:_e.offsetHeight)||0:((Fe=r.root.value)==null?void 0:Fe.offsetWidth)||0;return re.value?Ue*((2-y)*(Ne-Oe)+1)/4:Ne<Oe?-(1+y)*Ue/4:(3+y)*Ue/4}function he(Ne,Oe,_e){const Fe=r.root.value;return Fe?((_e?Fe.offsetHeight:Fe.offsetWidth)||0)*(Ne-Oe):0}const xe=(Ne,Oe,_e)=>{var Fe;const Ue=unref(ae),kt=(Fe=r.items.value.length)!=null?Fe:Number.NaN,Lt=Ne===Oe;!Ue&&!isUndefined(_e)&&(oe.value=Lt||Ne===_e),!Lt&&kt>2&&r.loop&&(Ne=ue(Ne,Oe,kt));const wn=unref(de);z.value=Lt,Ue?(re.value=Math.round(Math.abs(Ne-Oe))<=1,V.value=pe(Ne,Oe),L.value=unref(z)?1:y):V.value=he(Ne,Oe,wn),j.value=!0,Lt&&k.value&&r.setContainerHeight(k.value.offsetHeight)};function $e(){if(r&&unref(ae)){const Ne=r.items.value.findIndex(({uid:Oe})=>Oe===g.uid);r.setActiveItem(Ne)}}return onMounted(()=>{r.addItem({props:n,states:reactive({hover:$,translate:V,scale:L,active:z,ready:j,inStage:re,animating:oe}),uid:g.uid,translateItem:xe})}),onUnmounted(()=>{r.removeItem(g.uid)}),{carouselItemRef:k,active:z,animating:oe,hover:$,inStage:re,isVertical:de,translate:V,isCardType:ae,scale:L,ready:j,handleItemClick:$e}},__default__$1b=defineComponent({name:"ElCarouselItem"}),_sfc_main$2U=defineComponent({...__default__$1b,props:carouselItemProps,setup(n){const e=n,r=useNamespace("carousel"),{carouselItemRef:g,active:y,animating:k,hover:$,inStage:V,isVertical:L,translate:z,isCardType:j,scale:re,ready:oe,handleItemClick:ae}=useCarouselItem(e),de=computed(()=>{const pe=`${`translate${unref(L)?"Y":"X"}`}(${unref(z)}px)`,he=`scale(${unref(re)})`;return{transform:[pe,he].join(" ")}});return(ue,pe)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"carouselItemRef",ref:g,class:normalizeClass([unref(r).e("item"),unref(r).is("active",unref(y)),unref(r).is("in-stage",unref(V)),unref(r).is("hover",unref($)),unref(r).is("animating",unref(k)),{[unref(r).em("item","card")]:unref(j),[unref(r).em("item","card-vertical")]:unref(j)&&unref(L)}]),style:normalizeStyle(unref(de)),onClick:pe[0]||(pe[0]=(...he)=>unref(ae)&&unref(ae)(...he))},[unref(j)?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("mask"))},null,2)),[[vShow,!unref(y)]]):createCommentVNode("v-if",!0),renderSlot(ue.$slots,"default")],6)),[[vShow,unref(oe)]])}});var CarouselItem=_export_sfc$1(_sfc_main$2U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ElCarousel=withInstall(Carousel,{CarouselItem}),ElCarouselItem=withNoopInstall(CarouselItem),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},checkboxEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n),change:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:n,isChecked:e})=>{const r=inject(checkboxGroupContextKey,void 0),g=computed(()=>{var k,$;const V=(k=r?.max)==null?void 0:k.value,L=($=r?.min)==null?void 0:$.value;return!isUndefined(V)&&n.value.length>=V&&!e.value||!isUndefined(L)&&n.value.length<=L&&e.value});return{isDisabled:useFormDisabled(computed(()=>r?.disabled.value||g.value)),isLimitDisabled:g}},useCheckboxEvent=(n,{model:e,isLimitExceeded:r,hasOwnLabel:g,isDisabled:y,isLabeledByFormItem:k})=>{const $=inject(checkboxGroupContextKey,void 0),{formItem:V}=useFormItem(),{emit:L}=getCurrentInstance();function z(de){var ue,pe;return de===n.trueLabel||de===!0?(ue=n.trueLabel)!=null?ue:!0:(pe=n.falseLabel)!=null?pe:!1}function j(de,ue){L("change",z(de),ue)}function re(de){if(r.value)return;const ue=de.target;L("change",z(ue.checked),de)}async function oe(de){r.value||!g.value&&!y.value&&k.value&&(de.composedPath().some(he=>he.tagName==="LABEL")||(e.value=z([!1,n.falseLabel].includes(e.value)),await nextTick(),j(e.value,de)))}const ae=computed(()=>$?.validateEvent||n.validateEvent);return watch(()=>n.modelValue,()=>{ae.value&&V?.validate("change").catch(de=>void 0)}),{handleChange:re,onClickRoot:oe}},useCheckboxModel=n=>{const e=ref(!1),{emit:r}=getCurrentInstance(),g=inject(checkboxGroupContextKey,void 0),y=computed(()=>isUndefined(g)===!1),k=ref(!1);return{model:computed({get(){var V,L;return y.value?(V=g?.modelValue)==null?void 0:V.value:(L=n.modelValue)!=null?L:e.value},set(V){var L,z;y.value&&isArray$3(V)?(k.value=((L=g?.max)==null?void 0:L.value)!==void 0&&V.length>g?.max.value,k.value===!1&&((z=g?.changeEvent)==null||z.call(g,V))):(r(UPDATE_MODEL_EVENT,V),e.value=V)}}),isGroup:y,isLimitExceeded:k}},useCheckboxStatus=(n,e,{model:r})=>{const g=inject(checkboxGroupContextKey,void 0),y=ref(!1),k=computed(()=>{const z=r.value;return isBoolean$1(z)?z:isArray$3(z)?isObject$3(n.label)?z.map(toRaw).some(j=>isEqual$1(j,n.label)):z.map(toRaw).includes(n.label):z!=null?z===n.trueLabel:!!z}),$=useFormSize(computed(()=>{var z;return(z=g?.size)==null?void 0:z.value}),{prop:!0}),V=useFormSize(computed(()=>{var z;return(z=g?.size)==null?void 0:z.value})),L=computed(()=>!!(e.default||n.label));return{checkboxButtonSize:$,isChecked:k,isFocused:y,checkboxSize:V,hasOwnLabel:L}},setStoreValue=(n,{model:e})=>{function r(){isArray$3(e.value)&&!e.value.includes(n.label)?e.value.push(n.label):e.value=n.trueLabel||!0}n.checked&&r()},useCheckbox=(n,e)=>{const{formItem:r}=useFormItem(),{model:g,isGroup:y,isLimitExceeded:k}=useCheckboxModel(n),{isFocused:$,isChecked:V,checkboxButtonSize:L,checkboxSize:z,hasOwnLabel:j}=useCheckboxStatus(n,e,{model:g}),{isDisabled:re}=useCheckboxDisabled({model:g,isChecked:V}),{inputId:oe,isLabeledByFormItem:ae}=useFormItemInputId(n,{formItemContext:r,disableIdGeneration:j,disableIdManagement:y}),{handleChange:de,onClickRoot:ue}=useCheckboxEvent(n,{model:g,isLimitExceeded:k,hasOwnLabel:j,isDisabled:re,isLabeledByFormItem:ae});return setStoreValue(n,{model:g}),{inputId:oe,isLabeledByFormItem:ae,isChecked:V,isDisabled:re,isFocused:$,checkboxButtonSize:L,checkboxSize:z,hasOwnLabel:j,model:g,handleChange:de,onClickRoot:ue}},_hoisted_1$1Z=["tabindex","role","aria-checked"],_hoisted_2$1B=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],_hoisted_3$X=["id","aria-hidden","disabled","value","name","tabindex"],__default__$1a=defineComponent({name:"ElCheckbox"}),_sfc_main$2T=defineComponent({...__default__$1a,props:checkboxProps,emits:checkboxEmits,setup(n){const e=n,r=useSlots(),{inputId:g,isLabeledByFormItem:y,isChecked:k,isDisabled:$,isFocused:V,checkboxSize:L,hasOwnLabel:z,model:j,handleChange:re,onClickRoot:oe}=useCheckbox(e,r),ae=useNamespace("checkbox"),de=computed(()=>[ae.b(),ae.m(L.value),ae.is("disabled",$.value),ae.is("bordered",e.border),ae.is("checked",k.value)]),ue=computed(()=>[ae.e("input"),ae.is("disabled",$.value),ae.is("checked",k.value),ae.is("indeterminate",e.indeterminate),ae.is("focus",V.value)]);return(pe,he)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(z)&&unref(y)?"span":"label"),{class:normalizeClass(unref(de)),"aria-controls":pe.indeterminate?pe.controls:null,onClick:unref(oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(ue)),tabindex:pe.indeterminate?0:void 0,role:pe.indeterminate?"checkbox":void 0,"aria-checked":pe.indeterminate?"mixed":void 0},[pe.trueLabel||pe.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(g),"onUpdate:modelValue":he[0]||(he[0]=xe=>isRef(j)?j.value=xe:null),class:normalizeClass(unref(ae).e("original")),type:"checkbox","aria-hidden":pe.indeterminate?"true":"false",name:pe.name,tabindex:pe.tabindex,disabled:unref($),"true-value":pe.trueLabel,"false-value":pe.falseLabel,onChange:he[1]||(he[1]=(...xe)=>unref(re)&&unref(re)(...xe)),onFocus:he[2]||(he[2]=xe=>V.value=!0),onBlur:he[3]||(he[3]=xe=>V.value=!1),onClick:he[4]||(he[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$1B)),[[vModelCheckbox,unref(j)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(g),"onUpdate:modelValue":he[5]||(he[5]=xe=>isRef(j)?j.value=xe:null),class:normalizeClass(unref(ae).e("original")),type:"checkbox","aria-hidden":pe.indeterminate?"true":"false",disabled:unref($),value:pe.label,name:pe.name,tabindex:pe.tabindex,onChange:he[6]||(he[6]=(...xe)=>unref(re)&&unref(re)(...xe)),onFocus:he[7]||(he[7]=xe=>V.value=!0),onBlur:he[8]||(he[8]=xe=>V.value=!1),onClick:he[9]||(he[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_3$X)),[[vModelCheckbox,unref(j)]]),createBaseVNode("span",{class:normalizeClass(unref(ae).e("inner"))},null,2)],10,_hoisted_1$1Z),unref(z)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ae).e("label"))},[renderSlot(pe.$slots,"default"),pe.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(pe.label),1)],64))],2)):createCommentVNode("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$2T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _hoisted_1$1Y=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$1A=["name","tabindex","disabled","value"],__default__$19=defineComponent({name:"ElCheckboxButton"}),_sfc_main$2S=defineComponent({...__default__$19,props:checkboxProps,emits:checkboxEmits,setup(n){const e=n,r=useSlots(),{isFocused:g,isChecked:y,isDisabled:k,checkboxButtonSize:$,model:V,handleChange:L}=useCheckbox(e,r),z=inject(checkboxGroupContextKey,void 0),j=useNamespace("checkbox"),re=computed(()=>{var ae,de,ue,pe;const he=(de=(ae=z?.fill)==null?void 0:ae.value)!=null?de:"";return{backgroundColor:he,borderColor:he,color:(pe=(ue=z?.textColor)==null?void 0:ue.value)!=null?pe:"",boxShadow:he?`-1px 0 0 0 ${he}`:void 0}}),oe=computed(()=>[j.b("button"),j.bm("button",$.value),j.is("disabled",k.value),j.is("checked",y.value),j.is("focus",g.value)]);return(ae,de)=>(openBlock(),createElementBlock("label",{class:normalizeClass(unref(oe))},[ae.trueLabel||ae.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":de[0]||(de[0]=ue=>isRef(V)?V.value=ue:null),class:normalizeClass(unref(j).be("button","original")),type:"checkbox",name:ae.name,tabindex:ae.tabindex,disabled:unref(k),"true-value":ae.trueLabel,"false-value":ae.falseLabel,onChange:de[1]||(de[1]=(...ue)=>unref(L)&&unref(L)(...ue)),onFocus:de[2]||(de[2]=ue=>g.value=!0),onBlur:de[3]||(de[3]=ue=>g.value=!1),onClick:de[4]||(de[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1Y)),[[vModelCheckbox,unref(V)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":de[5]||(de[5]=ue=>isRef(V)?V.value=ue:null),class:normalizeClass(unref(j).be("button","original")),type:"checkbox",name:ae.name,tabindex:ae.tabindex,disabled:unref(k),value:ae.label,onChange:de[6]||(de[6]=(...ue)=>unref(L)&&unref(L)(...ue)),onFocus:de[7]||(de[7]=ue=>g.value=!0),onBlur:de[8]||(de[8]=ue=>g.value=!1),onClick:de[9]||(de[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$1A)),[[vModelCheckbox,unref(V)]]),ae.$slots.default||ae.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(j).be("button","inner")),style:normalizeStyle(unref(y)?unref(re):void 0)},[renderSlot(ae.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(ae.label),1)])],6)):createCommentVNode("v-if",!0)],2))}});var CheckboxButton=_export_sfc$1(_sfc_main$2S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:n=>isArray$3(n),change:n=>isArray$3(n)},__default__$18=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$2R=defineComponent({...__default__$18,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(n,{emit:e}){const r=n,g=useNamespace("checkbox"),{formItem:y}=useFormItem(),{inputId:k,isLabeledByFormItem:$}=useFormItemInputId(r,{formItemContext:y}),V=async z=>{e(UPDATE_MODEL_EVENT,z),await nextTick(),e("change",z)},L=computed({get(){return r.modelValue},set(z){V(z)}});return provide(checkboxGroupContextKey,{...pick(toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:L,changeEvent:V}),watch(()=>r.modelValue,()=>{r.validateEvent&&y?.validate("change").catch(z=>void 0)}),(z,j)=>{var re;return openBlock(),createBlock(resolveDynamicComponent(z.tag),{id:unref(k),class:normalizeClass(unref(g).b("group")),role:"group","aria-label":unref($)?void 0:z.label||"checkbox-group","aria-labelledby":unref($)?(re=unref(y))==null?void 0:re.labelId:void 0},{default:withCtx(()=>[renderSlot(z.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$2R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),ElCheckboxButton=withNoopInstall(CheckboxButton),ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),radioProps=buildProps({...radioPropsBase,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n),[CHANGE_EVENT]:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(n,e)=>{const r=ref(),g=inject(radioGroupKey,void 0),y=computed(()=>!!g),k=computed({get(){return y.value?g.modelValue:n.modelValue},set(j){y.value?g.changeEvent(j):e&&e(UPDATE_MODEL_EVENT,j),r.value.checked=n.modelValue===n.label}}),$=useFormSize(computed(()=>g?.size)),V=useFormDisabled(computed(()=>g?.disabled)),L=ref(!1),z=computed(()=>V.value||y.value&&k.value!==n.label?-1:0);return{radioRef:r,isGroup:y,radioGroup:g,focus:L,size:$,disabled:V,tabIndex:z,modelValue:k}},_hoisted_1$1X=["value","name","disabled"],__default__$17=defineComponent({name:"ElRadio"}),_sfc_main$2Q=defineComponent({...__default__$17,props:radioProps,emits:radioEmits,setup(n,{emit:e}){const r=n,g=useNamespace("radio"),{radioRef:y,radioGroup:k,focus:$,size:V,disabled:L,modelValue:z}=useRadio(r,e);function j(){nextTick(()=>e("change",z.value))}return(re,oe)=>{var ae;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(g).b(),unref(g).is("disabled",unref(L)),unref(g).is("focus",unref($)),unref(g).is("bordered",re.border),unref(g).is("checked",unref(z)===re.label),unref(g).m(unref(V))])},[createBaseVNode("span",{class:normalizeClass([unref(g).e("input"),unref(g).is("disabled",unref(L)),unref(g).is("checked",unref(z)===re.label)])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:y,"onUpdate:modelValue":oe[0]||(oe[0]=de=>isRef(z)?z.value=de:null),class:normalizeClass(unref(g).e("original")),value:re.label,name:re.name||((ae=unref(k))==null?void 0:ae.name),disabled:unref(L),type:"radio",onFocus:oe[1]||(oe[1]=de=>$.value=!0),onBlur:oe[2]||(oe[2]=de=>$.value=!1),onChange:j,onClick:oe[3]||(oe[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1X),[[vModelRadio,unref(z)]]),createBaseVNode("span",{class:normalizeClass(unref(g).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(g).e("label")),onKeydown:oe[4]||(oe[4]=withModifiers(()=>{},["stop"]))},[renderSlot(re.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(re.label),1)])],34)],2)}}});var Radio=_export_sfc$1(_sfc_main$2Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase,name:{type:String,default:""}}),_hoisted_1$1W=["value","name","disabled"],__default__$16=defineComponent({name:"ElRadioButton"}),_sfc_main$2P=defineComponent({...__default__$16,props:radioButtonProps,setup(n){const e=n,r=useNamespace("radio"),{radioRef:g,focus:y,size:k,disabled:$,modelValue:V,radioGroup:L}=useRadio(e),z=computed(()=>({backgroundColor:L?.fill||"",borderColor:L?.fill||"",boxShadow:L?.fill?`-1px 0 0 0 ${L.fill}`:"",color:L?.textColor||""}));return(j,re)=>{var oe;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b("button"),unref(r).is("active",unref(V)===j.label),unref(r).is("disabled",unref($)),unref(r).is("focus",unref(y)),unref(r).bm("button",unref(k))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:g,"onUpdate:modelValue":re[0]||(re[0]=ae=>isRef(V)?V.value=ae:null),class:normalizeClass(unref(r).be("button","original-radio")),value:j.label,type:"radio",name:j.name||((oe=unref(L))==null?void 0:oe.name),disabled:unref($),onFocus:re[1]||(re[1]=ae=>y.value=!0),onBlur:re[2]||(re[2]=ae=>y.value=!1),onClick:re[3]||(re[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1W),[[vModelRadio,unref(V)]]),createBaseVNode("span",{class:normalizeClass(unref(r).be("button","inner")),style:normalizeStyle(unref(V)===j.label?unref(z):{}),onKeydown:re[4]||(re[4]=withModifiers(()=>{},["stop"]))},[renderSlot(j.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(j.label),1)])],38)],2)}}});var RadioButton=_export_sfc$1(_sfc_main$2P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),radioGroupEmits=radioEmits,_hoisted_1$1V=["id","aria-label","aria-labelledby"],__default__$15=defineComponent({name:"ElRadioGroup"}),_sfc_main$2O=defineComponent({...__default__$15,props:radioGroupProps,emits:radioGroupEmits,setup(n,{emit:e}){const r=n,g=useNamespace("radio"),y=useId(),k=ref(),{formItem:$}=useFormItem(),{inputId:V,isLabeledByFormItem:L}=useFormItemInputId(r,{formItemContext:$}),z=re=>{e(UPDATE_MODEL_EVENT,re),nextTick(()=>e("change",re))};onMounted(()=>{const re=k.value.querySelectorAll("[type=radio]"),oe=re[0];!Array.from(re).some(ae=>ae.checked)&&oe&&(oe.tabIndex=0)});const j=computed(()=>r.name||y.value);return provide(radioGroupKey,reactive({...toRefs(r),changeEvent:z,name:j})),watch(()=>r.modelValue,()=>{r.validateEvent&&$?.validate("change").catch(re=>void 0)}),(re,oe)=>(openBlock(),createElementBlock("div",{id:unref(V),ref_key:"radioGroupRef",ref:k,class:normalizeClass(unref(g).b("group")),role:"radiogroup","aria-label":unref(L)?void 0:re.label||"radio-group","aria-labelledby":unref(L)?unref($).labelId:void 0},[renderSlot(re.$slots,"default")],10,_hoisted_1$1V))}});var RadioGroup=_export_sfc$1(_sfc_main$2O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton);var NodeContent$1=defineComponent({name:"NodeContent",setup(){return{ns:useNamespace("cascader-node")}},render(){const{ns:n}=this,{node:e,panel:r}=this.$parent,{data:g,label:y}=e,{renderLabelFn:k}=r;return h$1("span",{class:n.e("label")},k?k({node:e,data:g}):y)}});const CASCADER_PANEL_INJECTION_KEY=Symbol(),_sfc_main$2N=defineComponent({name:"ElCascaderNode",components:{ElCheckbox,ElRadio,NodeContent:NodeContent$1,ElIcon,Check:check_default,Loading:loading_default,ArrowRight:arrow_right_default},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const r=inject(CASCADER_PANEL_INJECTION_KEY),g=useNamespace("cascader-node"),y=computed(()=>r.isHoverMenu),k=computed(()=>r.config.multiple),$=computed(()=>r.config.checkStrictly),V=computed(()=>{var _e;return(_e=r.checkedNodes[0])==null?void 0:_e.uid}),L=computed(()=>n.node.isDisabled),z=computed(()=>n.node.isLeaf),j=computed(()=>$.value&&!z.value||!L.value),re=computed(()=>ae(r.expandingNode)),oe=computed(()=>$.value&&r.checkedNodes.some(ae)),ae=_e=>{var Fe;const{level:Ue,uid:kt}=n.node;return((Fe=_e?.pathNodes[Ue-1])==null?void 0:Fe.uid)===kt},de=()=>{re.value||r.expandNode(n.node)},ue=_e=>{const{node:Fe}=n;_e!==Fe.checked&&r.handleCheckChange(Fe,_e)},pe=()=>{r.lazyLoad(n.node,()=>{z.value||de()})},he=_e=>{y.value&&(xe(),!z.value&&e("expand",_e))},xe=()=>{const{node:_e}=n;!j.value||_e.loading||(_e.loaded?de():pe())},$e=()=>{y.value&&!z.value||(z.value&&!L.value&&!$.value&&!k.value?Oe(!0):xe())},Ne=_e=>{$.value?(ue(_e),n.node.loaded&&de()):Oe(_e)},Oe=_e=>{n.node.loaded?(ue(_e),!$.value&&de()):pe()};return{panel:r,isHoverMenu:y,multiple:k,checkStrictly:$,checkedNodeId:V,isDisabled:L,isLeaf:z,expandable:j,inExpandingPath:re,inCheckedPath:oe,ns:g,handleHoverExpand:he,handleExpand:xe,handleClick:$e,handleCheck:Oe,handleSelectCheck:Ne}}}),_hoisted_1$1U=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],_hoisted_2$1z=createBaseVNode("span",null,null,-1);function _sfc_render$u(n,e,r,g,y,k){const $=resolveComponent("el-checkbox"),V=resolveComponent("el-radio"),L=resolveComponent("check"),z=resolveComponent("el-icon"),j=resolveComponent("node-content"),re=resolveComponent("loading"),oe=resolveComponent("arrow-right");return openBlock(),createElementBlock("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:normalizeClass([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...ae)=>n.handleHoverExpand&&n.handleHoverExpand(...ae)),onFocus:e[3]||(e[3]=(...ae)=>n.handleHoverExpand&&n.handleHoverExpand(...ae)),onClick:e[4]||(e[4]=(...ae)=>n.handleClick&&n.handleClick(...ae))},[createCommentVNode(" prefix "),n.multiple?(openBlock(),createBlock($,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:e[0]||(e[0]=withModifiers(()=>{},["stop"])),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):n.checkStrictly?(openBlock(),createBlock(V,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:e[1]||(e[1]=withModifiers(()=>{},["stop"]))},{default:withCtx(()=>[createCommentVNode(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),_hoisted_2$1z]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):n.isLeaf&&n.node.checked?(openBlock(),createBlock(z,{key:2,class:normalizeClass(n.ns.e("prefix"))},{default:withCtx(()=>[createVNode(L)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode(j),createCommentVNode(" postfix "),n.isLeaf?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:3},[n.node.loading?(openBlock(),createBlock(z,{key:0,class:normalizeClass([n.ns.is("loading"),n.ns.e("postfix")])},{default:withCtx(()=>[createVNode(re)]),_:1},8,["class"])):(openBlock(),createBlock(z,{key:1,class:normalizeClass(["arrow-right",n.ns.e("postfix")])},{default:withCtx(()=>[createVNode(oe)]),_:1},8,["class"]))],64))],42,_hoisted_1$1U)}var ElCascaderNode=_export_sfc$1(_sfc_main$2N,[["render",_sfc_render$u],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const _sfc_main$2M=defineComponent({name:"ElCascaderMenu",components:{Loading:loading_default,ElIcon,ElScrollbar,ElCascaderNode},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=getCurrentInstance(),r=useNamespace("cascader-menu"),{t:g}=useLocale(),y=generateId();let k=null,$=null;const V=inject(CASCADER_PANEL_INJECTION_KEY),L=ref(null),z=computed(()=>!n.nodes.length),j=computed(()=>!V.initialLoaded),re=computed(()=>`cascader-menu-${y}-${n.index}`),oe=pe=>{k=pe.target},ae=pe=>{if(!(!V.isHoverMenu||!k||!L.value))if(k.contains(pe.target)){de();const he=e.vnode.el,{left:xe}=he.getBoundingClientRect(),{offsetWidth:$e,offsetHeight:Ne}=he,Oe=pe.clientX-xe,_e=k.offsetTop,Fe=_e+k.offsetHeight;L.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${Oe} ${_e} L${$e} 0 V${_e} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${Oe} ${Fe} L${$e} ${Ne} V${Fe} Z" />
        `}else $||($=window.setTimeout(ue,V.config.hoverThreshold))},de=()=>{$&&(clearTimeout($),$=null)},ue=()=>{L.value&&(L.value.innerHTML="",de())};return{ns:r,panel:V,hoverZone:L,isEmpty:z,isLoading:j,menuId:re,t:g,handleExpand:oe,handleMouseMove:ae,clearHoverZone:ue}}});function _sfc_render$t(n,e,r,g,y,k){const $=resolveComponent("el-cascader-node"),V=resolveComponent("loading"),L=resolveComponent("el-icon"),z=resolveComponent("el-scrollbar");return openBlock(),createBlock(z,{key:n.menuId,tag:"ul",role:"menu",class:normalizeClass(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:withCtx(()=>{var j;return[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.nodes,re=>(openBlock(),createBlock($,{key:re.uid,node:re,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.e("empty-text"))},[createVNode(L,{size:"14",class:normalizeClass(n.ns.is("loading"))},{default:withCtx(()=>[createVNode(V)]),_:1},8,["class"]),createTextVNode(" "+toDisplayString$1(n.t("el.cascader.loading")),1)],2)):n.isEmpty?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.e("empty-text"))},toDisplayString$1(n.t("el.cascader.noData")),3)):(j=n.panel)!=null&&j.isHoverMenu?(openBlock(),createElementBlock("svg",{key:2,ref:"hoverZone",class:normalizeClass(n.ns.e("hover-zone"))},null,2)):createCommentVNode("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ElCascaderMenu=_export_sfc$1(_sfc_main$2M,[["render",_sfc_render$t],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let uid=0;const calculatePathNodes=n=>{const e=[n];let{parent:r}=n;for(;r;)e.unshift(r),r=r.parent;return e};let Node$2=class Na{constructor(e,r,g,y=!1){this.data=e,this.config=r,this.parent=g,this.root=y,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:k,label:$,children:V}=r,L=e[V],z=calculatePathNodes(this);this.level=y?0:g?g.level+1:1,this.value=e[k],this.label=e[$],this.pathNodes=z,this.pathValues=z.map(j=>j.value),this.pathLabels=z.map(j=>j.label),this.childrenData=L,this.children=(L||[]).map(j=>new Na(j,r,this)),this.loaded=!r.lazy||this.isLeaf||!isEmpty(L)}get isDisabled(){const{data:e,parent:r,config:g}=this,{disabled:y,checkStrictly:k}=g;return(isFunction$3(y)?y(e,this):!!e[y])||!k&&r?.isDisabled}get isLeaf(){const{data:e,config:r,childrenData:g,loaded:y}=this,{lazy:k,leaf:$}=r,V=isFunction$3($)?$(e,this):e[$];return isUndefined(V)?k&&!y?!1:!(Array.isArray(g)&&g.length):!!V}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:r,children:g}=this,y=new Na(e,this.config,this);return Array.isArray(r)?r.push(e):this.childrenData=[e],g.push(y),y}calcText(e,r){const g=e?this.pathLabels.join(r):this.label;return this.text=g,g}broadcast(e,...r){const g=`onParent${capitalize$1(e)}`;this.children.forEach(y=>{y&&(y.broadcast(e,...r),y[g]&&y[g](...r))})}emit(e,...r){const{parent:g}=this,y=`onChild${capitalize$1(e)}`;g&&(g[y]&&g[y](...r),g.emit(e,...r))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,r=e.filter(y=>!y.isDisabled),g=r.length?r.every(y=>y.checked):!1;this.setCheckState(g)}setCheckState(e){const r=this.children.length,g=this.children.reduce((y,k)=>{const $=k.checked?1:k.indeterminate?.5:0;return y+$},0);this.checked=this.loaded&&this.children.filter(y=>!y.isDisabled).every(y=>y.loaded&&y.checked)&&e,this.indeterminate=this.loaded&&g!==r&&g>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:r,multiple:g}=this.config;r||!g?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const flatNodes=(n,e)=>n.reduce((r,g)=>(g.isLeaf?r.push(g):(!e&&r.push(g),r=r.concat(flatNodes(g.children,e))),r),[]);class Store{constructor(e,r){this.config=r;const g=(e||[]).map(y=>new Node$2(y,this.config));this.nodes=g,this.allNodes=flatNodes(g,!1),this.leafNodes=flatNodes(g,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,r){const g=r?r.appendChild(e):new Node$2(e,this.config);r||this.nodes.push(g),this.allNodes.push(g),g.isLeaf&&this.leafNodes.push(g)}appendNodes(e,r){e.forEach(g=>this.appendNode(g,r))}getNodeByValue(e,r=!1){return!e&&e!==0?null:this.getFlattedNodes(r).find(y=>isEqual$1(y.value,e)||isEqual$1(y.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:g,level:y})=>isEqual$1(e.value,g)&&e.level===y)||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},useCascaderConfig=n=>computed(()=>({...DefaultProps,...n.props})),getMenuIndex=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},checkNode=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():isLeaf(n)&&n.click()},sortByOriginalOrder=(n,e)=>{const r=e.slice(0),g=r.map(k=>k.uid),y=n.reduce((k,$)=>{const V=g.indexOf($.uid);return V>-1&&(k.push($),r.splice(V,1),g.splice(V,1)),k},[]);return y.push(...r),y},_sfc_main$2L=defineComponent({name:"ElCascaderPanel",components:{ElCascaderMenu},props:{...CommonProps,border:{type:Boolean,default:!0},renderLabel:Function},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"close","expand-change"],setup(n,{emit:e,slots:r}){let g=!1;const y=useNamespace("cascader"),k=useCascaderConfig(n);let $=null;const V=ref(!0),L=ref([]),z=ref(null),j=ref([]),re=ref(null),oe=ref([]),ae=computed(()=>k.value.expandTrigger==="hover"),de=computed(()=>n.renderLabel||r.default),ue=()=>{const{options:Et}=n,xn=k.value;g=!1,$=new Store(Et,xn),j.value=[$.getNodes()],xn.lazy&&isEmpty(n.options)?(V.value=!1,pe(void 0,jt=>{jt&&($=new Store(jt,xn),j.value=[$.getNodes()]),V.value=!0,Ue(!1,!0)})):Ue(!1,!0)},pe=(Et,xn)=>{const jt=k.value;Et=Et||new Node$2({},jt,void 0,!0),Et.loading=!0;const An=Dn=>{const En=Et,Bn=En.root?null:En;Dn&&$?.appendNodes(Dn,Bn),En.loading=!1,En.loaded=!0,En.childrenData=En.childrenData||[],xn&&xn(Dn)};jt.lazyLoad(Et,An)},he=(Et,xn)=>{var jt;const{level:An}=Et,Dn=j.value.slice(0,An);let En;Et.isLeaf?En=Et.pathNodes[An-2]:(En=Et,Dn.push(Et.children)),((jt=re.value)==null?void 0:jt.uid)!==En?.uid&&(re.value=Et,j.value=Dn,!xn&&e("expand-change",Et?.pathValues||[]))},xe=(Et,xn,jt=!0)=>{const{checkStrictly:An,multiple:Dn}=k.value,En=oe.value[0];g=!0,!Dn&&En?.doCheck(!1),Et.doCheck(xn),Fe(),jt&&!Dn&&!An&&e("close"),!jt&&!Dn&&!An&&$e(Et)},$e=Et=>{Et&&(Et=Et.parent,$e(Et),Et&&he(Et))},Ne=Et=>$?.getFlattedNodes(Et),Oe=Et=>{var xn;return(xn=Ne(Et))==null?void 0:xn.filter(jt=>jt.checked!==!1)},_e=()=>{oe.value.forEach(Et=>Et.doCheck(!1)),Fe(),j.value=j.value.slice(0,1),re.value=null,e("expand-change",[])},Fe=()=>{var Et;const{checkStrictly:xn,multiple:jt}=k.value,An=oe.value,Dn=Oe(!xn),En=sortByOriginalOrder(An,Dn),Bn=En.map($n=>$n.valueByOption);oe.value=En,z.value=jt?Bn:(Et=Bn[0])!=null?Et:null},Ue=(Et=!1,xn=!1)=>{const{modelValue:jt}=n,{lazy:An,multiple:Dn,checkStrictly:En}=k.value,Bn=!En;if(!(!V.value||g||!xn&&isEqual$1(jt,z.value)))if(An&&!Et){const Wn=unique(flattenDeep(castArray(jt))).map(Gn=>$?.getNodeByValue(Gn)).filter(Gn=>!!Gn&&!Gn.loaded&&!Gn.loading);Wn.length?Wn.forEach(Gn=>{pe(Gn,()=>Ue(!1,xn))}):Ue(!0,xn)}else{const $n=Dn?castArray(jt):[jt],Wn=unique($n.map(Gn=>$?.getNodeByValue(Gn,Bn)));kt(Wn,xn),z.value=cloneDeep(jt)}},kt=(Et,xn=!0)=>{const{checkStrictly:jt}=k.value,An=oe.value,Dn=Et.filter($n=>!!$n&&(jt||$n.isLeaf)),En=$?.getSameNode(re.value),Bn=xn&&En||Dn[0];Bn?Bn.pathNodes.forEach($n=>he($n,!0)):re.value=null,An.forEach($n=>$n.doCheck(!1)),n.props.multiple?reactive(Dn).forEach($n=>$n.doCheck(!0)):Dn.forEach($n=>$n.doCheck(!0)),oe.value=Dn,nextTick(Lt)},Lt=()=>{isClient&&L.value.forEach(Et=>{const xn=Et?.$el;if(xn){const jt=xn.querySelector(`.${y.namespace.value}-scrollbar__wrap`),An=xn.querySelector(`.${y.b("node")}.${y.is("active")}`)||xn.querySelector(`.${y.b("node")}.in-active-path`);scrollIntoView$2(jt,An)}})},wn=Et=>{const xn=Et.target,{code:jt}=Et;switch(jt){case EVENT_CODE.up:case EVENT_CODE.down:{Et.preventDefault();const An=jt===EVENT_CODE.up?-1:1;focusNode(getSibling(xn,An,`.${y.b("node")}[tabindex="-1"]`));break}case EVENT_CODE.left:{Et.preventDefault();const An=L.value[getMenuIndex(xn)-1],Dn=An?.$el.querySelector(`.${y.b("node")}[aria-expanded="true"]`);focusNode(Dn);break}case EVENT_CODE.right:{Et.preventDefault();const An=L.value[getMenuIndex(xn)+1],Dn=An?.$el.querySelector(`.${y.b("node")}[tabindex="-1"]`);focusNode(Dn);break}case EVENT_CODE.enter:checkNode(xn);break}};return provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:k,expandingNode:re,checkedNodes:oe,isHoverMenu:ae,initialLoaded:V,renderLabelFn:de,lazyLoad:pe,expandNode:he,handleCheckChange:xe})),watch([k,()=>n.options],ue,{deep:!0,immediate:!0}),watch(()=>n.modelValue,()=>{g=!1,Ue()},{deep:!0}),watch(()=>z.value,Et=>{isEqual$1(Et,n.modelValue)||(e(UPDATE_MODEL_EVENT,Et),e(CHANGE_EVENT,Et))}),onBeforeUpdate(()=>L.value=[]),onMounted(()=>!isEmpty(n.modelValue)&&Ue()),{ns:y,menuList:L,menus:j,checkedNodes:oe,handleKeyDown:wn,handleCheckChange:xe,getFlattedNodes:Ne,getCheckedNodes:Oe,clearCheckedNodes:_e,calculateCheckedValue:Fe,scrollToExpandingNode:Lt}}});function _sfc_render$s(n,e,r,g,y,k){const $=resolveComponent("el-cascader-menu");return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b("panel"),n.ns.is("bordered",n.border)]),onKeydown:e[0]||(e[0]=(...V)=>n.handleKeyDown&&n.handleKeyDown(...V))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.menus,(V,L)=>(openBlock(),createBlock($,{key:L,ref_for:!0,ref:z=>n.menuList[L]=z,index:L,nodes:[...V]},null,8,["index","nodes"]))),128))],34)}var CascaderPanel=_export_sfc$1(_sfc_main$2L,[["render",_sfc_render$s],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);CascaderPanel.install=n=>{n.component(CascaderPanel.name,CascaderPanel)};const _CascaderPanel=CascaderPanel,ElCascaderPanel=_CascaderPanel,tagProps=buildProps({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},__default__$14=defineComponent({name:"ElTag"}),_sfc_main$2K=defineComponent({...__default__$14,props:tagProps,emits:tagEmits,setup(n,{emit:e}){const r=n,g=useFormSize(),y=useNamespace("tag"),k=computed(()=>{const{type:L,hit:z,effect:j,closable:re,round:oe}=r;return[y.b(),y.is("closable",re),y.m(L),y.m(g.value),y.m(j),y.is("hit",z),y.is("round",oe)]}),$=L=>{e("close",L)},V=L=>{e("click",L)};return(L,z)=>L.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(k)),style:normalizeStyle({backgroundColor:L.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(L.$slots,"default")],2),L.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("close")),onClick:withModifiers($,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(y).namespace.value}-zoom-in-center`,appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(k)),style:normalizeStyle({backgroundColor:L.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(L.$slots,"default")],2),L.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("close")),onClick:withModifiers($,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag$1=_export_sfc$1(_sfc_main$2K,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag$1),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:definePropType(Function),default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:useTooltipContentProps.teleported,tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),cascaderEmits={[UPDATE_MODEL_EVENT]:n=>!!n||n===null,[CHANGE_EVENT]:n=>!!n||n===null,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,visibleChange:n=>isBoolean$1(n),expandChange:n=>!!n,removeTag:n=>!!n},_hoisted_1$1T={key:0},_hoisted_2$1y=["placeholder","onKeydown"],_hoisted_3$W=["onClick"],COMPONENT_NAME$e="ElCascader",__default__$13=defineComponent({name:COMPONENT_NAME$e}),_sfc_main$2J=defineComponent({...__default__$13,props:cascaderProps,emits:cascaderEmits,setup(n,{expose:e,emit:r}){const g=n,y={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:_n})=>{const{modifiersData:At,placement:Cn}=_n;["right","left","bottom","top"].includes(Cn)||(At.arrow.x=35)},requires:["arrow"]}]},k=useAttrs$1();let $=0,V=0;const L=useNamespace("cascader"),z=useNamespace("input"),{t:j}=useLocale(),{form:re,formItem:oe}=useFormItem(),ae=ref(null),de=ref(null),ue=ref(null),pe=ref(null),he=ref(null),xe=ref(!1),$e=ref(!1),Ne=ref(!1),Oe=ref(!1),_e=ref(""),Fe=ref(""),Ue=ref([]),kt=ref([]),Lt=ref([]),wn=ref(!1),Et=computed(()=>k.style),xn=computed(()=>g.disabled||re?.disabled),jt=computed(()=>g.placeholder||j("el.cascader.placeholder")),An=computed(()=>Fe.value||Ue.value.length>0||wn.value?"":jt.value),Dn=useFormSize(),En=computed(()=>["small"].includes(Dn.value)?"small":"default"),Bn=computed(()=>!!g.props.multiple),$n=computed(()=>!g.filterable||Bn.value),Wn=computed(()=>Bn.value?Fe.value:_e.value),Gn=computed(()=>{var _n;return((_n=pe.value)==null?void 0:_n.checkedNodes)||[]}),Nn=computed(()=>!g.clearable||xn.value||Ne.value||!$e.value?!1:!!Gn.value.length),Zn=computed(()=>{const{showAllLevels:_n,separator:At}=g,Cn=Gn.value;return Cn.length?Bn.value?"":Cn[0].calcText(_n,At):""}),Hn=computed({get(){return cloneDeep(g.modelValue)},set(_n){r(UPDATE_MODEL_EVENT,_n),r(CHANGE_EVENT,_n),g.validateEvent&&oe?.validate("change").catch(At=>void 0)}}),rr=computed(()=>[L.b(),L.m(Dn.value),L.is("disabled",xn.value),k.class]),Xn=computed(()=>[z.e("icon"),"icon-arrow-down",L.is("reverse",xe.value)]),Pn=computed(()=>L.is("focus",xe.value||Oe.value)),jn=computed(()=>{var _n,At;return(At=(_n=ae.value)==null?void 0:_n.popperRef)==null?void 0:At.contentRef}),fr=_n=>{var At,Cn,bn;xn.value||(_n=_n??!xe.value,_n!==xe.value&&(xe.value=_n,(Cn=(At=de.value)==null?void 0:At.input)==null||Cn.setAttribute("aria-expanded",`${_n}`),_n?(yr(),nextTick((bn=pe.value)==null?void 0:bn.scrollToExpandingNode)):g.filterable&&cr(),r("visibleChange",_n)))},yr=()=>{nextTick(()=>{var _n;(_n=ae.value)==null||_n.updatePopper()})},Cr=()=>{Ne.value=!1},sr=_n=>{const{showAllLevels:At,separator:Cn}=g;return{node:_n,key:_n.uid,text:_n.calcText(At,Cn),hitState:!1,closable:!xn.value&&!_n.isDisabled,isCollapseTag:!1}},zn=_n=>{var At;const Cn=_n.node;Cn.doCheck(!1),(At=pe.value)==null||At.calculateCheckedValue(),r("removeTag",Cn.valueByOption)},vn=()=>{if(!Bn.value)return;const _n=Gn.value,At=[],Cn=[];if(_n.forEach(bn=>Cn.push(sr(bn))),kt.value=Cn,_n.length){_n.slice(0,g.maxCollapseTags).forEach(Ln=>At.push(sr(Ln)));const bn=_n.slice(g.maxCollapseTags),In=bn.length;In&&(g.collapseTags?At.push({key:-1,text:`+ ${In}`,closable:!1,isCollapseTag:!0}):bn.forEach(Ln=>At.push(sr(Ln))))}Ue.value=At},Jn=()=>{var _n,At;const{filterMethod:Cn,showAllLevels:bn,separator:In}=g,Ln=(At=(_n=pe.value)==null?void 0:_n.getFlattedNodes(!g.props.checkStrictly))==null?void 0:At.filter(Mn=>Mn.isDisabled?!1:(Mn.calcText(bn,In),Cn(Mn,Wn.value)));Bn.value&&(Ue.value.forEach(Mn=>{Mn.hitState=!1}),kt.value.forEach(Mn=>{Mn.hitState=!1})),Ne.value=!0,Lt.value=Ln,yr()},Tn=()=>{var _n;let At;Ne.value&&he.value?At=he.value.$el.querySelector(`.${L.e("suggestion-item")}`):At=(_n=pe.value)==null?void 0:_n.$el.querySelector(`.${L.b("node")}[tabindex="-1"]`),At&&(At.focus(),!Ne.value&&At.click())},Dt=()=>{var _n,At;const Cn=(_n=de.value)==null?void 0:_n.input,bn=ue.value,In=(At=he.value)==null?void 0:At.$el;if(!(!isClient||!Cn)){if(In){const Ln=In.querySelector(`.${L.e("suggestion-list")}`);Ln.style.minWidth=`${Cn.offsetWidth}px`}if(bn){const{offsetHeight:Ln}=bn,Mn=Ue.value.length>0?`${Math.max(Ln+6,$)}px`:`${$}px`;Cn.style.height=Mn,yr()}}},hn=_n=>{var At;return(At=pe.value)==null?void 0:At.getCheckedNodes(_n)},Vn=_n=>{yr(),r("expandChange",_n)},Kn=_n=>{var At;const Cn=(At=_n.target)==null?void 0:At.value;if(_n.type==="compositionend")wn.value=!1,nextTick(()=>qe(Cn));else{const bn=Cn[Cn.length-1]||"";wn.value=!isKorean(bn)}},ar=_n=>{if(!wn.value)switch(_n.code){case EVENT_CODE.enter:fr();break;case EVENT_CODE.down:fr(!0),nextTick(Tn),_n.preventDefault();break;case EVENT_CODE.esc:xe.value===!0&&(_n.preventDefault(),_n.stopPropagation(),fr(!1));break;case EVENT_CODE.tab:fr(!1);break}},lr=()=>{var _n;(_n=pe.value)==null||_n.clearCheckedNodes(),!xe.value&&g.filterable&&cr(),fr(!1)},cr=()=>{const{value:_n}=Zn;_e.value=_n,Fe.value=_n},mr=_n=>{var At,Cn;const{checked:bn}=_n;Bn.value?(At=pe.value)==null||At.handleCheckChange(_n,!bn,!1):(!bn&&((Cn=pe.value)==null||Cn.handleCheckChange(_n,!0,!1)),fr(!1))},ur=_n=>{const At=_n.target,{code:Cn}=_n;switch(Cn){case EVENT_CODE.up:case EVENT_CODE.down:{const bn=Cn===EVENT_CODE.up?-1:1;focusNode(getSibling(At,bn,`.${L.e("suggestion-item")}[tabindex="-1"]`));break}case EVENT_CODE.enter:At.click();break}},le=()=>{const _n=Ue.value,At=_n[_n.length-1];V=Fe.value?0:V+1,!(!At||!V||g.collapseTags&&_n.length>1)&&(At.hitState?zn(At):At.hitState=!0)},Ce=_n=>{const At=_n.target,Cn=L.e("search-input");At.className===Cn&&(Oe.value=!0),r("focus",_n)},Ie=_n=>{Oe.value=!1,r("blur",_n)},ze=debounce(()=>{const{value:_n}=Wn;if(!_n)return;const At=g.beforeFilter(_n);isPromise(At)?At.then(Jn).catch(()=>{}):At!==!1?Jn():Cr()},g.debounce),qe=(_n,At)=>{!xe.value&&fr(!0),!At?.isComposing&&(_n?ze():Cr())},Pt=_n=>Number.parseFloat(useCssVar(z.cssVarName("input-height"),_n).value)-2;return watch(Ne,yr),watch([Gn,xn],vn),watch(Ue,()=>{nextTick(()=>Dt())}),watch(Dn,async()=>{await nextTick();const _n=de.value.input;$=Pt(_n)||$,Dt()}),watch(Zn,cr,{immediate:!0}),onMounted(()=>{const _n=de.value.input,At=Pt(_n);$=_n.offsetHeight||At,useResizeObserver(_n,Dt)}),e({getCheckedNodes:hn,cascaderPanelRef:pe,togglePopperVisible:fr,contentRef:jn}),(_n,At)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:ae,visible:xe.value,teleported:_n.teleported,"popper-class":[unref(L).e("dropdown"),_n.popperClass],"popper-options":y,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${unref(L).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Cr},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(unref(rr)),style:normalizeStyle(unref(Et)),onClick:At[5]||(At[5]=()=>fr(unref($n)?void 0:!0)),onKeydown:ar,onMouseenter:At[6]||(At[6]=Cn=>$e.value=!0),onMouseleave:At[7]||(At[7]=Cn=>$e.value=!1)},[createVNode(unref(ElInput),{ref_key:"input",ref:de,modelValue:_e.value,"onUpdate:modelValue":At[1]||(At[1]=Cn=>_e.value=Cn),placeholder:unref(An),readonly:unref($n),disabled:unref(xn),"validate-event":!1,size:unref(Dn),class:normalizeClass(unref(Pn)),tabindex:unref(Bn)&&_n.filterable&&!unref(xn)?-1:void 0,onCompositionstart:Kn,onCompositionupdate:Kn,onCompositionend:Kn,onFocus:Ce,onBlur:Ie,onInput:qe},{suffix:withCtx(()=>[unref(Nn)?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref(z).e("icon"),"icon-circle-close"]),onClick:withModifiers(lr,["stop"])},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onClick"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(unref(Xn)),onClick:At[0]||(At[0]=withModifiers(Cn=>fr(),["stop"]))},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),unref(Bn)?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:ue,class:normalizeClass(unref(L).e("tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ue.value,Cn=>(openBlock(),createBlock(unref(ElTag),{key:Cn.key,type:_n.tagType,size:unref(En),hit:Cn.hitState,closable:Cn.closable,"disable-transitions":"",onClose:bn=>zn(Cn)},{default:withCtx(()=>[Cn.isCollapseTag===!1?(openBlock(),createElementBlock("span",_hoisted_1$1T,toDisplayString$1(Cn.text),1)):(openBlock(),createBlock(unref(ElTooltip),{key:1,disabled:xe.value||!_n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(Cn.text),1)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(L).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(kt.value.slice(_n.maxCollapseTags),(bn,In)=>(openBlock(),createElementBlock("div",{key:In,class:normalizeClass(unref(L).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:bn.key,class:"in-tooltip",type:_n.tagType,size:unref(En),hit:bn.hitState,closable:bn.closable,"disable-transitions":"",onClose:Ln=>zn(bn)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(bn.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),_n.filterable&&!unref(xn)?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":At[2]||(At[2]=Cn=>Fe.value=Cn),type:"text",class:normalizeClass(unref(L).e("search-input")),placeholder:unref(Zn)?"":unref(jt),onInput:At[3]||(At[3]=Cn=>qe(Fe.value,Cn)),onClick:At[4]||(At[4]=withModifiers(Cn=>fr(!0),["stop"])),onKeydown:withKeys(le,["delete"]),onCompositionstart:Kn,onCompositionupdate:Kn,onCompositionend:Kn,onFocus:Ce,onBlur:Ie},null,42,_hoisted_2$1y)),[[vModelText,Fe.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],38)),[[unref(ClickOutside),()=>fr(!1),unref(jn)]])]),content:withCtx(()=>[withDirectives(createVNode(unref(_CascaderPanel),{ref_key:"cascaderPanelRef",ref:pe,modelValue:unref(Hn),"onUpdate:modelValue":At[8]||(At[8]=Cn=>isRef(Hn)?Hn.value=Cn:null),options:_n.options,props:g.props,border:!1,"render-label":_n.$slots.default,onExpandChange:Vn,onClose:At[9]||(At[9]=Cn=>_n.$nextTick(()=>fr(!1)))},null,8,["modelValue","options","props","render-label"]),[[vShow,!Ne.value]]),_n.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:0,ref_key:"suggestionPanel",ref:he,tag:"ul",class:normalizeClass(unref(L).e("suggestion-panel")),"view-class":unref(L).e("suggestion-list"),onKeydown:ur},{default:withCtx(()=>[Lt.value.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Lt.value,Cn=>(openBlock(),createElementBlock("li",{key:Cn.uid,class:normalizeClass([unref(L).e("suggestion-item"),unref(L).is("checked",Cn.checked)]),tabindex:-1,onClick:bn=>mr(Cn)},[createBaseVNode("span",null,toDisplayString$1(Cn.text),1),Cn.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1})):createCommentVNode("v-if",!0)],10,_hoisted_3$W))),128)):renderSlot(_n.$slots,"empty",{key:1},()=>[createBaseVNode("li",{class:normalizeClass(unref(L).e("empty-text"))},toDisplayString$1(unref(j)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vShow,Ne.value]]):createCommentVNode("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Cascader=_export_sfc$1(_sfc_main$2J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);Cascader.install=n=>{n.component(Cascader.name,Cascader)};const _Cascader=Cascader,ElCascader=_Cascader,checkTagProps=buildProps({checked:{type:Boolean,default:!1}}),checkTagEmits={"update:checked":n=>isBoolean$1(n),[CHANGE_EVENT]:n=>isBoolean$1(n)},__default__$12=defineComponent({name:"ElCheckTag"}),_sfc_main$2I=defineComponent({...__default__$12,props:checkTagProps,emits:checkTagEmits,setup(n,{emit:e}){const r=n,g=useNamespace("check-tag"),y=computed(()=>[g.b(),g.is("checked",r.checked)]),k=()=>{const $=!r.checked;e(CHANGE_EVENT,$),e("update:checked",$)};return($,V)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(y)),onClick:k},[renderSlot($.$slots,"default")],2))}});var CheckTag=_export_sfc$1(_sfc_main$2I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const ElCheckTag=withInstall(CheckTag),rowContextKey=Symbol("rowContextKey"),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),__default__$11=defineComponent({name:"ElRow"}),_sfc_main$2H=defineComponent({...__default__$11,props:rowProps,setup(n){const e=n,r=useNamespace("row"),g=computed(()=>e.gutter);provide(rowContextKey,{gutter:g});const y=computed(()=>{const $={};return e.gutter&&($.marginRight=$.marginLeft=`-${e.gutter/2}px`),$}),k=computed(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,!!e.align)]);return($,V)=>(openBlock(),createBlock(resolveDynamicComponent($.tag),{class:normalizeClass(unref(k)),style:normalizeStyle(unref(y))},{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},8,["class","style"]))}});var Row=_export_sfc$1(_sfc_main$2H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const ElRow=withInstall(Row),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$10=defineComponent({name:"ElCol"}),_sfc_main$2G=defineComponent({...__default__$10,props:colProps,setup(n){const e=n,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),g=useNamespace("col"),y=computed(()=>{const $={};return r.value&&($.paddingLeft=$.paddingRight=`${r.value/2}px`),$}),k=computed(()=>{const $=[];return["span","offset","pull","push"].forEach(z=>{const j=e[z];isNumber$1(j)&&(z==="span"?$.push(g.b(`${e[z]}`)):j>0&&$.push(g.b(`${z}-${e[z]}`)))}),["xs","sm","md","lg","xl"].forEach(z=>{isNumber$1(e[z])?$.push(g.b(`${z}-${e[z]}`)):isObject$3(e[z])&&Object.entries(e[z]).forEach(([j,re])=>{$.push(j!=="span"?g.b(`${z}-${j}-${re}`):g.b(`${z}-${re}`))})}),r.value&&$.push(g.is("guttered")),[g.b(),$]});return($,V)=>(openBlock(),createBlock(resolveDynamicComponent($.tag),{class:normalizeClass(unref(k)),style:normalizeStyle(unref(y))},{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$2G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=n=>typeof isNumber$1(n),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),useCollapse=(n,e)=>{const r=ref(castArray$1(n.modelValue)),g=k=>{r.value=k;const $=n.accordion?r.value[0]:r.value;e(UPDATE_MODEL_EVENT,$),e(CHANGE_EVENT,$)},y=k=>{if(n.accordion)g([r.value[0]===k?"":k]);else{const $=[...r.value],V=$.indexOf(k);V>-1?$.splice(V,1):$.push(k),g($)}};return watch(()=>n.modelValue,()=>r.value=castArray$1(n.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:r,handleItemClick:y}),{activeNames:r,setActiveNames:g}},useCollapseDOM=()=>{const n=useNamespace("collapse");return{rootKls:computed(()=>n.b())}},__default__$$=defineComponent({name:"ElCollapse"}),_sfc_main$2F=defineComponent({...__default__$$,props:collapseProps,emits:collapseEmits,setup(n,{expose:e,emit:r}){const g=n,{activeNames:y,setActiveNames:k}=useCollapse(g,r),{rootKls:$}=useCollapseDOM();return e({activeNames:y,setActiveNames:k}),(V,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($)),role:"tablist","aria-multiselectable":"true"},[renderSlot(V.$slots,"default")],2))}});var Collapse=_export_sfc$1(_sfc_main$2F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const __default__$_=defineComponent({name:"ElCollapseTransition"}),_sfc_main$2E=defineComponent({...__default__$_,setup(n){const e=useNamespace("collapse-transition"),r=y=>{y.style.maxHeight="",y.style.overflow=y.dataset.oldOverflow,y.style.paddingTop=y.dataset.oldPaddingTop,y.style.paddingBottom=y.dataset.oldPaddingBottom},g={beforeEnter(y){y.dataset||(y.dataset={}),y.dataset.oldPaddingTop=y.style.paddingTop,y.dataset.oldPaddingBottom=y.style.paddingBottom,y.style.maxHeight=0,y.style.paddingTop=0,y.style.paddingBottom=0},enter(y){y.dataset.oldOverflow=y.style.overflow,y.scrollHeight!==0?y.style.maxHeight=`${y.scrollHeight}px`:y.style.maxHeight=0,y.style.paddingTop=y.dataset.oldPaddingTop,y.style.paddingBottom=y.dataset.oldPaddingBottom,y.style.overflow="hidden"},afterEnter(y){y.style.maxHeight="",y.style.overflow=y.dataset.oldOverflow},enterCancelled(y){r(y)},beforeLeave(y){y.dataset||(y.dataset={}),y.dataset.oldPaddingTop=y.style.paddingTop,y.dataset.oldPaddingBottom=y.style.paddingBottom,y.dataset.oldOverflow=y.style.overflow,y.style.maxHeight=`${y.scrollHeight}px`,y.style.overflow="hidden"},leave(y){y.scrollHeight!==0&&(y.style.maxHeight=0,y.style.paddingTop=0,y.style.paddingBottom=0)},afterLeave(y){r(y)},leaveCancelled(y){r(y)}};return(y,k)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(e).b()},toHandlers(g)),{default:withCtx(()=>[renderSlot(y.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$2E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);CollapseTransition.install=n=>{n.component(CollapseTransition.name,CollapseTransition)};const _CollapseTransition=CollapseTransition,ElCollapseTransition=_CollapseTransition,collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:()=>generateId()},disabled:Boolean}),useCollapseItem=n=>{const e=inject(collapseContextKey),r=ref(!1),g=ref(!1),y=ref(generateId()),k=computed(()=>e?.activeNames.value.includes(n.name));return{focusing:r,id:y,isActive:k,handleFocus:()=>{setTimeout(()=>{g.value?g.value=!1:r.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e?.handleItemClick(n.name),r.value=!1,g.value=!0)},handleEnterClick:()=>{e?.handleItemClick(n.name)}}},useCollapseItemDOM=(n,{focusing:e,isActive:r,id:g})=>{const y=useNamespace("collapse"),k=computed(()=>[y.b("item"),y.is("active",unref(r)),y.is("disabled",n.disabled)]),$=computed(()=>[y.be("item","header"),y.is("active",unref(r)),{focusing:unref(e)&&!n.disabled}]),V=computed(()=>[y.be("item","arrow"),y.is("active",unref(r))]),L=computed(()=>y.be("item","wrap")),z=computed(()=>y.be("item","content")),j=computed(()=>y.b(`content-${unref(g)}`)),re=computed(()=>y.b(`head-${unref(g)}`));return{arrowKls:V,headKls:$,rootKls:k,itemWrapperKls:L,itemContentKls:z,scopedContentId:j,scopedHeadId:re}},_hoisted_1$1S=["aria-expanded","aria-controls","aria-describedby"],_hoisted_2$1x=["id","tabindex"],_hoisted_3$V=["id","aria-hidden","aria-labelledby"],__default__$Z=defineComponent({name:"ElCollapseItem"}),_sfc_main$2D=defineComponent({...__default__$Z,props:collapseItemProps,setup(n,{expose:e}){const r=n,{focusing:g,id:y,isActive:k,handleFocus:$,handleHeaderClick:V,handleEnterClick:L}=useCollapseItem(r),{arrowKls:z,headKls:j,rootKls:re,itemWrapperKls:oe,itemContentKls:ae,scopedContentId:de,scopedHeadId:ue}=useCollapseItemDOM(r,{focusing:g,isActive:k,id:y});return e({isActive:k}),(pe,he)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(re))},[createBaseVNode("div",{role:"tab","aria-expanded":unref(k),"aria-controls":unref(de),"aria-describedby":unref(de)},[createBaseVNode("div",{id:unref(ue),class:normalizeClass(unref(j)),role:"button",tabindex:pe.disabled?-1:0,onClick:he[0]||(he[0]=(...xe)=>unref(V)&&unref(V)(...xe)),onKeypress:he[1]||(he[1]=withKeys(withModifiers((...xe)=>unref(L)&&unref(L)(...xe),["stop","prevent"]),["space","enter"])),onFocus:he[2]||(he[2]=(...xe)=>unref($)&&unref($)(...xe)),onBlur:he[3]||(he[3]=xe=>g.value=!1)},[renderSlot(pe.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(pe.title),1)]),createVNode(unref(ElIcon),{class:normalizeClass(unref(z))},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1},8,["class"])],42,_hoisted_2$1x)],8,_hoisted_1$1S),createVNode(unref(_CollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(de),class:normalizeClass(unref(oe)),role:"tabpanel","aria-hidden":!unref(k),"aria-labelledby":unref(ue)},[createBaseVNode("div",{class:normalizeClass(unref(ae))},[renderSlot(pe.$slots,"default")],2)],10,_hoisted_3$V),[[vShow,unref(k)]])]),_:3})],2))}});var CollapseItem=_export_sfc$1(_sfc_main$2D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(n,e){if(!isClient)return;const r=function(k){var $;($=e.drag)==null||$.call(e,k)},g=function(k){var $;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",g),document.onselectstart=null,document.ondragstart=null,isDragging=!1,($=e.end)==null||$.call(e,k)},y=function(k){var $;isDragging||(k.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",g),document.addEventListener("touchmove",r),document.addEventListener("touchend",g),isDragging=!0,($=e.start)==null||$.call(e,k))};n.addEventListener("mousedown",y),n.addEventListener("touchstart",y)}const useAlphaSlider=n=>{const e=getCurrentInstance(),r=shallowRef(),g=shallowRef();function y($){$.target!==r.value&&k($)}function k($){if(!g.value||!r.value)return;const L=e.vnode.el.getBoundingClientRect(),{clientX:z,clientY:j}=getClientXY($);if(n.vertical){let re=j-L.top;re=Math.max(r.value.offsetHeight/2,re),re=Math.min(re,L.height-r.value.offsetHeight/2),n.color.set("alpha",Math.round((re-r.value.offsetHeight/2)/(L.height-r.value.offsetHeight)*100))}else{let re=z-L.left;re=Math.max(r.value.offsetWidth/2,re),re=Math.min(re,L.width-r.value.offsetWidth/2),n.color.set("alpha",Math.round((re-r.value.offsetWidth/2)/(L.width-r.value.offsetWidth)*100))}}return{thumb:r,bar:g,handleDrag:k,handleClick:y}},useAlphaSliderDOM=(n,{bar:e,thumb:r,handleDrag:g})=>{const y=getCurrentInstance(),k=useNamespace("color-alpha-slider"),$=ref(0),V=ref(0),L=ref();function z(){if(!r.value||n.vertical)return 0;const xe=y.vnode.el,$e=n.color.get("alpha");return xe?Math.round($e*(xe.offsetWidth-r.value.offsetWidth/2)/100):0}function j(){if(!r.value)return 0;const xe=y.vnode.el;if(!n.vertical)return 0;const $e=n.color.get("alpha");return xe?Math.round($e*(xe.offsetHeight-r.value.offsetHeight/2)/100):0}function re(){if(n.color&&n.color.value){const{r:xe,g:$e,b:Ne}=n.color.toRgb();return`linear-gradient(to right, rgba(${xe}, ${$e}, ${Ne}, 0) 0%, rgba(${xe}, ${$e}, ${Ne}, 1) 100%)`}return""}function oe(){$.value=z(),V.value=j(),L.value=re()}onMounted(()=>{if(!e.value||!r.value)return;const xe={drag:$e=>{g($e)},end:$e=>{g($e)}};draggable(e.value,xe),draggable(r.value,xe),oe()}),watch(()=>n.color.get("alpha"),()=>oe()),watch(()=>n.color.value,()=>oe());const ae=computed(()=>[k.b(),k.is("vertical",n.vertical)]),de=computed(()=>k.e("bar")),ue=computed(()=>k.e("thumb")),pe=computed(()=>({background:L.value})),he=computed(()=>({left:addUnit($.value),top:addUnit(V.value)}));return{rootKls:ae,barKls:de,barStyle:pe,thumbKls:ue,thumbStyle:he,update:oe}},COMPONENT_NAME$d="ElColorAlphaSlider",__default__$Y=defineComponent({name:COMPONENT_NAME$d}),_sfc_main$2C=defineComponent({...__default__$Y,props:alphaSliderProps,setup(n,{expose:e}){const r=n,{bar:g,thumb:y,handleDrag:k,handleClick:$}=useAlphaSlider(r),{rootKls:V,barKls:L,barStyle:z,thumbKls:j,thumbStyle:re,update:oe}=useAlphaSliderDOM(r,{bar:g,thumb:y,handleDrag:k});return e({update:oe,bar:g,thumb:y}),(ae,de)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V))},[createBaseVNode("div",{ref_key:"bar",ref:g,class:normalizeClass(unref(L)),style:normalizeStyle(unref(z)),onClick:de[0]||(de[0]=(...ue)=>unref($)&&unref($)(...ue))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:y,class:normalizeClass(unref(j)),style:normalizeStyle(unref(re))},null,6)],2))}});var AlphaSlider=_export_sfc$1(_sfc_main$2C,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const _sfc_main$2B=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=useNamespace("color-hue-slider"),r=getCurrentInstance(),g=ref(),y=ref(),k=ref(0),$=ref(0),V=computed(()=>n.color.get("hue"));watch(()=>V.value,()=>{oe()});function L(ae){ae.target!==g.value&&z(ae)}function z(ae){if(!y.value||!g.value)return;const ue=r.vnode.el.getBoundingClientRect(),{clientX:pe,clientY:he}=getClientXY(ae);let xe;if(n.vertical){let $e=he-ue.top;$e=Math.min($e,ue.height-g.value.offsetHeight/2),$e=Math.max(g.value.offsetHeight/2,$e),xe=Math.round(($e-g.value.offsetHeight/2)/(ue.height-g.value.offsetHeight)*360)}else{let $e=pe-ue.left;$e=Math.min($e,ue.width-g.value.offsetWidth/2),$e=Math.max(g.value.offsetWidth/2,$e),xe=Math.round(($e-g.value.offsetWidth/2)/(ue.width-g.value.offsetWidth)*360)}n.color.set("hue",xe)}function j(){if(!g.value)return 0;const ae=r.vnode.el;if(n.vertical)return 0;const de=n.color.get("hue");return ae?Math.round(de*(ae.offsetWidth-g.value.offsetWidth/2)/360):0}function re(){if(!g.value)return 0;const ae=r.vnode.el;if(!n.vertical)return 0;const de=n.color.get("hue");return ae?Math.round(de*(ae.offsetHeight-g.value.offsetHeight/2)/360):0}function oe(){k.value=j(),$.value=re()}return onMounted(()=>{if(!y.value||!g.value)return;const ae={drag:de=>{z(de)},end:de=>{z(de)}};draggable(y.value,ae),draggable(g.value,ae),oe()}),{bar:y,thumb:g,thumbLeft:k,thumbTop:$,hueValue:V,handleClick:L,update:oe,ns:e}}});function _sfc_render$r(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b(),n.ns.is("vertical",n.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(n.ns.e("bar")),onClick:e[0]||(e[0]=(...$)=>n.handleClick&&n.handleClick(...$))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(n.ns.e("thumb")),style:normalizeStyle({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc$1(_sfc_main$2B,[["render",_sfc_render$r],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0}}),colorPickerEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n)||isNil(n),[CHANGE_EVENT]:n=>isString$3(n)||isNil(n),activeChange:n=>isString$3(n)||isNil(n)},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(n,e,r){return[n,e*r/((n=(2-e)*r)<1?n:2-n)||0,n/2]},isOnePointZero=function(n){return typeof n=="string"&&n.includes(".")&&Number.parseFloat(n)===1},isPercentage=function(n){return typeof n=="string"&&n.includes("%")},bound01=function(n,e){isOnePointZero(n)&&(n="100%");const r=isPercentage(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),r&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),r=n%16;return`${INT_HEX_MAP[e]||e}${INT_HEX_MAP[r]||r}`},toHex$1=function({r:n,g:e,b:r}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+r)?"":`#${hexOne(n)}${hexOne(e)}${hexOne(r)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(n){return n.length===2?(HEX_INT_MAP[n[0].toUpperCase()]||+n[0])*16+(HEX_INT_MAP[n[1].toUpperCase()]||+n[1]):HEX_INT_MAP[n[1].toUpperCase()]||+n[1]},hsl2hsv=function(n,e,r){e=e/100,r=r/100;let g=e;const y=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,g*=y<=1?y:2-y;const k=(r+e)/2,$=r===0?2*g/(y+g):2*e/(r+e);return{h:n,s:$*100,v:k*100}},rgb2hsv=(n,e,r)=>{n=bound01(n,255),e=bound01(e,255),r=bound01(r,255);const g=Math.max(n,e,r),y=Math.min(n,e,r);let k;const $=g,V=g-y,L=g===0?0:V/g;if(g===y)k=0;else{switch(g){case n:{k=(e-r)/V+(e<r?6:0);break}case e:{k=(r-n)/V+2;break}case r:{k=(n-e)/V+4;break}}k/=6}return{h:k*360,s:L*100,v:$*100}},hsv2rgb=function(n,e,r){n=bound01(n,360)*6,e=bound01(e,100),r=bound01(r,100);const g=Math.floor(n),y=n-g,k=r*(1-e),$=r*(1-y*e),V=r*(1-(1-y)*e),L=g%6,z=[r,$,k,k,V,r][L],j=[V,r,r,$,k,k][L],re=[k,k,V,r,r,$][L];return{r:Math.round(z*255),g:Math.round(j*255),b:Math.round(re*255)}};class Color{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in e)hasOwn$1(e,r)&&(this[r]=e[r]);e.value?this.fromString(e.value):this.doOnChange()}set(e,r){if(arguments.length===1&&typeof e=="object"){for(const g in e)hasOwn$1(e,g)&&this.set(g,e[g]);return}this[`_${e}`]=r,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=(g,y,k)=>{this._hue=Math.max(0,Math.min(360,g)),this._saturation=Math.max(0,Math.min(100,y)),this._value=Math.max(0,Math.min(100,k)),this.doOnChange()};if(e.includes("hsl")){const g=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(y=>y!=="").map((y,k)=>k>2?Number.parseFloat(y):Number.parseInt(y,10));if(g.length===4?this._alpha=Number.parseFloat(g[3])*100:g.length===3&&(this._alpha=100),g.length>=3){const{h:y,s:k,v:$}=hsl2hsv(g[0],g[1],g[2]);r(y,k,$)}}else if(e.includes("hsv")){const g=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(y=>y!=="").map((y,k)=>k>2?Number.parseFloat(y):Number.parseInt(y,10));g.length===4?this._alpha=Number.parseFloat(g[3])*100:g.length===3&&(this._alpha=100),g.length>=3&&r(g[0],g[1],g[2])}else if(e.includes("rgb")){const g=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(y=>y!=="").map((y,k)=>k>2?Number.parseFloat(y):Number.parseInt(y,10));if(g.length===4?this._alpha=Number.parseFloat(g[3])*100:g.length===3&&(this._alpha=100),g.length>=3){const{h:y,s:k,v:$}=rgb2hsv(g[0],g[1],g[2]);r(y,k,$)}}else if(e.includes("#")){const g=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(g))return;let y,k,$;g.length===3?(y=parseHexChannel(g[0]+g[0]),k=parseHexChannel(g[1]+g[1]),$=parseHexChannel(g[2]+g[2])):(g.length===6||g.length===8)&&(y=parseHexChannel(g.slice(0,2)),k=parseHexChannel(g.slice(2,4)),$=parseHexChannel(g.slice(4,6))),g.length===8?this._alpha=parseHexChannel(g.slice(6))/255*100:(g.length===3||g.length===6)&&(this._alpha=100);const{h:V,s:L,v:z}=rgb2hsv(y,k,$);r(V,L,z)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:r,_value:g,_alpha:y,format:k}=this;if(this.enableAlpha)switch(k){case"hsl":{const $=hsv2hsl(e,r/100,g/100);this.value=`hsla(${e}, ${Math.round($[1]*100)}%, ${Math.round($[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(r)}%, ${Math.round(g)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${toHex$1(hsv2rgb(e,r,g))}${hexOne(y*255/100)}`;break}default:{const{r:$,g:V,b:L}=hsv2rgb(e,r,g);this.value=`rgba(${$}, ${V}, ${L}, ${this.get("alpha")/100})`}}else switch(k){case"hsl":{const $=hsv2hsl(e,r/100,g/100);this.value=`hsl(${e}, ${Math.round($[1]*100)}%, ${Math.round($[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(r)}%, ${Math.round(g)}%)`;break}case"rgb":{const{r:$,g:V,b:L}=hsv2rgb(e,r,g);this.value=`rgb(${$}, ${V}, ${L})`;break}default:this.value=toHex$1(hsv2rgb(e,r,g))}}}const _sfc_main$2A=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(n){const e=useNamespace("color-predefine"),{currentColor:r}=inject(colorPickerContextKey),g=ref(k(n.colors,n.color));watch(()=>r.value,$=>{const V=new Color;V.fromString($),g.value.forEach(L=>{L.selected=V.compare(L)})}),watchEffect(()=>{g.value=k(n.colors,n.color)});function y($){n.color.fromString(n.colors[$])}function k($,V){return $.map(L=>{const z=new Color;return z.enableAlpha=!0,z.format="rgba",z.fromString(L),z.selected=z.value===V.value,z})}return{rgbaColors:g,handleSelect:y,ns:e}}}),_hoisted_1$1R=["onClick"];function _sfc_render$q(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass(n.ns.b())},[createBaseVNode("div",{class:normalizeClass(n.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.rgbaColors,($,V)=>(openBlock(),createElementBlock("div",{key:n.colors[V],class:normalizeClass([n.ns.e("color-selector"),n.ns.is("alpha",$._alpha<100),{selected:$.selected}]),onClick:L=>n.handleSelect(V)},[createBaseVNode("div",{style:normalizeStyle({backgroundColor:$.value})},null,4)],10,_hoisted_1$1R))),128))],2)],2)}var Predefine=_export_sfc$1(_sfc_main$2A,[["render",_sfc_render$q],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const _sfc_main$2z=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=useNamespace("color-svpanel"),r=getCurrentInstance(),g=ref(0),y=ref(0),k=ref("hsl(0, 100%, 50%)"),$=computed(()=>{const z=n.color.get("hue"),j=n.color.get("value");return{hue:z,value:j}});function V(){const z=n.color.get("saturation"),j=n.color.get("value"),re=r.vnode.el,{clientWidth:oe,clientHeight:ae}=re;y.value=z*oe/100,g.value=(100-j)*ae/100,k.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function L(z){const re=r.vnode.el.getBoundingClientRect(),{clientX:oe,clientY:ae}=getClientXY(z);let de=oe-re.left,ue=ae-re.top;de=Math.max(0,de),de=Math.min(de,re.width),ue=Math.max(0,ue),ue=Math.min(ue,re.height),y.value=de,g.value=ue,n.color.set({saturation:de/re.width*100,value:100-ue/re.height*100})}return watch(()=>$.value,()=>{V()}),onMounted(()=>{draggable(r.vnode.el,{drag:z=>{L(z)},end:z=>{L(z)}}),V()}),{cursorTop:g,cursorLeft:y,background:k,colorValue:$,handleDrag:L,update:V,ns:e}}}),_hoisted_1$1Q=createBaseVNode("div",null,null,-1),_hoisted_2$1w=[_hoisted_1$1Q];function _sfc_render$p(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass(n.ns.b()),style:normalizeStyle({backgroundColor:n.background})},[createBaseVNode("div",{class:normalizeClass(n.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(n.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(n.ns.e("cursor")),style:normalizeStyle({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},_hoisted_2$1w,6)],6)}var SvPanel=_export_sfc$1(_sfc_main$2z,[["render",_sfc_render$p],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const _hoisted_1$1P=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],__default__$X=defineComponent({name:"ElColorPicker"}),_sfc_main$2y=defineComponent({...__default__$X,props:colorPickerProps,emits:colorPickerEmits,setup(n,{expose:e,emit:r}){const g=n,{t:y}=useLocale(),k=useNamespace("color"),{formItem:$}=useFormItem(),V=useFormSize(),L=useFormDisabled(),{inputId:z,isLabeledByFormItem:j}=useFormItemInputId(g,{formItemContext:$}),re=ref(),oe=ref(),ae=ref(),de=ref();let ue=!0;const pe=reactive(new Color({enableAlpha:g.showAlpha,format:g.colorFormat||"",value:g.modelValue})),he=ref(!1),xe=ref(!1),$e=ref(""),Ne=computed(()=>!g.modelValue&&!xe.value?"transparent":kt(pe,g.showAlpha)),Oe=computed(()=>!g.modelValue&&!xe.value?"":pe.value),_e=computed(()=>j.value?void 0:g.label||y("el.colorpicker.defaultLabel")),Fe=computed(()=>j.value?$?.labelId:void 0),Ue=computed(()=>[k.b("picker"),k.is("disabled",L.value),k.bm("picker",V.value)]);function kt($n,Wn){if(!($n instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:Gn,g:Nn,b:Zn}=$n.toRgb();return Wn?`rgba(${Gn}, ${Nn}, ${Zn}, ${$n.get("alpha")/100})`:`rgb(${Gn}, ${Nn}, ${Zn})`}function Lt($n){he.value=$n}const wn=debounce(Lt,100);function Et(){L.value||Lt(!0)}function xn(){wn(!1),jt()}function jt(){nextTick(()=>{g.modelValue?pe.fromString(g.modelValue):(pe.value="",nextTick(()=>{xe.value=!1}))})}function An(){L.value||wn(!he.value)}function Dn(){pe.fromString($e.value)}function En(){const $n=pe.value;r(UPDATE_MODEL_EVENT,$n),r("change",$n),g.validateEvent&&$?.validate("change").catch(Wn=>void 0),wn(!1),nextTick(()=>{const Wn=new Color({enableAlpha:g.showAlpha,format:g.colorFormat||"",value:g.modelValue});pe.compare(Wn)||jt()})}function Bn(){wn(!1),r(UPDATE_MODEL_EVENT,null),r("change",null),g.modelValue!==null&&g.validateEvent&&$?.validate("change").catch($n=>void 0),jt()}return onMounted(()=>{g.modelValue&&($e.value=Oe.value)}),watch(()=>g.modelValue,$n=>{$n?$n&&$n!==pe.value&&(ue=!1,pe.fromString($n)):xe.value=!1}),watch(()=>Oe.value,$n=>{$e.value=$n,ue&&r("activeChange",$n),ue=!0}),watch(()=>pe.value,()=>{!g.modelValue&&!xe.value&&(xe.value=!0)}),watch(()=>he.value,()=>{nextTick(()=>{var $n,Wn,Gn;($n=re.value)==null||$n.update(),(Wn=oe.value)==null||Wn.update(),(Gn=ae.value)==null||Gn.update()})}),provide(colorPickerContextKey,{currentColor:Oe}),e({color:pe,show:Et,hide:xn}),($n,Wn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:de,visible:he.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(k).be("picker","panel"),unref(k).b("dropdown"),$n.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${unref(k).namespace.value}-zoom-in-top`,persistent:""},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:normalizeClass(unref(k).be("dropdown","main-wrapper"))},[createVNode(HueSlider,{ref_key:"hue",ref:re,class:"hue-slider",color:unref(pe),vertical:""},null,8,["color"]),createVNode(SvPanel,{ref_key:"sv",ref:oe,color:unref(pe)},null,8,["color"])],2),$n.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:ae,color:unref(pe)},null,8,["color"])):createCommentVNode("v-if",!0),$n.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine",color:unref(pe),colors:$n.predefine},null,8,["color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(k).be("dropdown","value"))},[createVNode(unref(ElInput),{modelValue:$e.value,"onUpdate:modelValue":Wn[0]||(Wn[0]=Gn=>$e.value=Gn),"validate-event":!1,size:"small",onKeyup:withKeys(Dn,["enter"]),onBlur:Dn},null,8,["modelValue","onKeyup"])],2),createVNode(unref(ElButton),{class:normalizeClass(unref(k).be("dropdown","link-btn")),text:"",size:"small",onClick:Bn},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(y)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(k).be("dropdown","btn")),onClick:En},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(y)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[unref(ClickOutside),xn]])]),default:withCtx(()=>[createBaseVNode("div",{id:unref(z),class:normalizeClass(unref(Ue)),role:"button","aria-label":unref(_e),"aria-labelledby":unref(Fe),"aria-description":unref(y)("el.colorpicker.description",{color:$n.modelValue||""}),tabindex:$n.tabindex,onKeydown:withKeys(An,["enter"])},[unref(L)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).be("picker","trigger")),onClick:An},[createBaseVNode("span",{class:normalizeClass([unref(k).be("picker","color"),unref(k).is("alpha",$n.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(k).be("picker","color-inner")),style:normalizeStyle({backgroundColor:unref(Ne)})},[withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(k).be("picker","icon"),unref(k).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,$n.modelValue||xe.value]]),!$n.modelValue&&!xe.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(k).be("picker","empty"),unref(k).is("icon-close")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)],2)],2)],42,_hoisted_1$1P)]),_:1},8,["visible","popper-class","transition"]))}});var ColorPicker=_export_sfc$1(_sfc_main$2y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),__default__$W=defineComponent({name:"ElContainer"}),_sfc_main$2x=defineComponent({...__default__$W,props:{direction:{type:String}},setup(n){const e=n,r=useSlots(),g=useNamespace("container"),y=computed(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some($=>{const V=$.type.name;return V==="ElHeader"||V==="ElFooter"}):!1);return(k,$)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(g).b(),unref(g).is("vertical",unref(y))])},[renderSlot(k.$slots,"default")],2))}});var Container=_export_sfc$1(_sfc_main$2x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const __default__$V=defineComponent({name:"ElAside"}),_sfc_main$2w=defineComponent({...__default__$V,props:{width:{type:String,default:null}},setup(n){const e=n,r=useNamespace("aside"),g=computed(()=>e.width?r.cssVarBlock({width:e.width}):{});return(y,k)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Aside=_export_sfc$1(_sfc_main$2w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const __default__$U=defineComponent({name:"ElFooter"}),_sfc_main$2v=defineComponent({...__default__$U,props:{height:{type:String,default:null}},setup(n){const e=n,r=useNamespace("footer"),g=computed(()=>e.height?r.cssVarBlock({height:e.height}):{});return(y,k)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Footer$2=_export_sfc$1(_sfc_main$2v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const __default__$T=defineComponent({name:"ElHeader"}),_sfc_main$2u=defineComponent({...__default__$T,props:{height:{type:String,default:null}},setup(n){const e=n,r=useNamespace("header"),g=computed(()=>e.height?r.cssVarBlock({height:e.height}):{});return(y,k)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Header=_export_sfc$1(_sfc_main$2u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const __default__$S=defineComponent({name:"ElMain"}),_sfc_main$2t=defineComponent({...__default__$S,setup(n){const e=useNamespace("main");return(r,g)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(e).b())},[renderSlot(r.$slots,"default")],2))}});var Main=_export_sfc$1(_sfc_main$2t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer:Footer$2,Header,Main}),ElAside=withNoopInstall(Aside),ElFooter=withNoopInstall(Footer$2),ElHeader=withNoopInstall(Header),ElMain=withNoopInstall(Main);var advancedFormat$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){var y=g.prototype,k=y.format;y.format=function($){var V=this,L=this.$locale();if(!this.isValid())return k.bind(this)($);var z=this.$utils(),j=($||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(re){switch(re){case"Q":return Math.ceil((V.$M+1)/3);case"Do":return L.ordinal(V.$D);case"gggg":return V.weekYear();case"GGGG":return V.isoWeekYear();case"wo":return L.ordinal(V.week(),"W");case"w":case"ww":return z.s(V.week(),re==="w"?1:2,"0");case"W":case"WW":return z.s(V.isoWeek(),re==="W"?1:2,"0");case"k":case"kk":return z.s(String(V.$H===0?24:V.$H),re==="k"?1:2,"0");case"X":return Math.floor(V.$d.getTime()/1e3);case"x":return V.$d.getTime();case"z":return"["+V.offsetName()+"]";case"zzz":return"["+V.offsetName("long")+"]";default:return re}});return k.bind(this)(j)}}})})(advancedFormat$1);var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var weekOfYear$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){var r="week",g="year";return function(y,k,$){var V=k.prototype;V.week=function(L){if(L===void 0&&(L=null),L!==null)return this.add(7*(L-this.week()),"day");var z=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var j=$(this).startOf(g).add(1,g).date(z),re=$(this).endOf(r);if(j.isBefore(re))return 1}var oe=$(this).startOf(g).date(z).startOf(r).subtract(1,"millisecond"),ae=this.diff(oe,r,!0);return ae<0?$(this).startOf("week").week():Math.ceil(ae)},V.weeks=function(L){return L===void 0&&(L=null),this.week(L)}}})})(weekOfYear$1);var weekOfYearExports=weekOfYear$1.exports;const weekOfYear=getDefaultExportFromCjs(weekOfYearExports);var weekYear$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){g.prototype.weekYear=function(){var y=this.month(),k=this.week(),$=this.year();return k===1&&y===11?$+1:y===0&&k>=52?$-1:$}}})})(weekYear$1);var weekYearExports=weekYear$1.exports;const weekYear=getDefaultExportFromCjs(weekYearExports);var dayOfYear$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g,y){g.prototype.dayOfYear=function(k){var $=Math.round((y(this).startOf("day")-y(this).startOf("year"))/864e5)+1;return k==null?$:this.add(k-$,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);var isSameOrAfter$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){g.prototype.isSameOrAfter=function(y,k){return this.isSame(y,k)||this.isAfter(y,k)}}})})(isSameOrAfter$1);var isSameOrAfterExports=isSameOrAfter$1.exports;const isSameOrAfter=getDefaultExportFromCjs(isSameOrAfterExports);var isSameOrBefore$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){g.prototype.isSameOrBefore=function(y,k){return this.isSame(y,k)||this.isBefore(y,k)}}})})(isSameOrBefore$1);var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports),ROOT_PICKER_INJECTION_KEY=Symbol(),datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","month","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=n=>({type:String,values:selectionModes,default:n}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),isValidRange=n=>{if(!isArray$3(n))return!1;const[e,r]=n;return dayjs.isDayjs(e)&&dayjs.isDayjs(r)&&e.isSameOrBefore(r)},getDefaultValue=(n,{lang:e,unit:r,unlinkPanels:g})=>{let y;if(isArray$3(n)){let[k,$]=n.map(V=>dayjs(V).locale(e));return g||($=k.add(1,r)),[k,$]}else n?y=dayjs(n):y=dayjs();return y=y.locale(e),[y,y.add(1,r)]},buildPickerTable=(n,e,{columnIndexOffset:r,startDate:g,nextEndDate:y,now:k,unit:$,relativeDateGetter:V,setCellMetadata:L,setRowMetadata:z})=>{for(let j=0;j<n.row;j++){const re=e[j];for(let oe=0;oe<n.column;oe++){let ae=re[oe+r];ae||(ae={row:j,column:oe,type:"normal",inRange:!1,start:!1,end:!1});const de=j*n.column+oe,ue=V(de);ae.dayjs=ue,ae.date=ue.toDate(),ae.timestamp=ue.valueOf(),ae.type="normal",ae.inRange=!!(g&&ue.isSameOrAfter(g,$)&&y&&ue.isSameOrBefore(y,$))||!!(g&&ue.isSameOrBefore(g,$)&&y&&ue.isSameOrAfter(y,$)),g?.isSameOrAfter(y)?(ae.start=!!y&&ue.isSame(y,$),ae.end=g&&ue.isSame(g,$)):(ae.start=!!g&&ue.isSame(g,$),ae.end=!!y&&ue.isSame(y,$)),ue.isSame(k,$)&&(ae.type="today"),L?.(ae,{rowIndex:j,columnIndex:oe}),re[oe+r]=ae}z?.(re)}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(n){const e=useNamespace("date-table-cell"),{slots:r}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:g}=n;if(r.default){const y=r.default(g).filter(k=>k.patchFlag!==-2&&k.type.toString()!=="Symbol(Comment)");if(y.length)return y}return createVNode("div",{class:e.b()},[createVNode("span",{class:e.e("text")},[g?.text])])}}});const _hoisted_1$1O=["aria-label","onMousedown"],_hoisted_2$1v={key:0,scope:"col"},_hoisted_3$U=["aria-label"],_hoisted_4$L=["aria-current","aria-selected","tabindex"],_sfc_main$2s=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:["changerange","pick","select"],setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("date-table"),{t:k,lang:$}=useLocale(),V=ref(),L=ref(),z=ref(),j=ref(),re=ref([[],[],[],[],[],[]]);let oe=!1;const ae=g.date.$locale().weekStart||7,de=g.date.locale("en").localeData().weekdaysShort().map(Nn=>Nn.toLowerCase()),ue=computed(()=>ae>3?7-ae:-ae),pe=computed(()=>{const Nn=g.date.startOf("month");return Nn.subtract(Nn.day()||7,"day")}),he=computed(()=>de.concat(de).slice(ae,ae+7)),xe=computed(()=>flatten$1(Ue.value).some(Nn=>Nn.isCurrent)),$e=computed(()=>{const Nn=g.date.startOf("month"),Zn=Nn.day()||7,Hn=Nn.daysInMonth(),rr=Nn.subtract(1,"month").daysInMonth();return{startOfMonthDay:Zn,dateCountOfMonth:Hn,dateCountOfLastMonth:rr}}),Ne=computed(()=>g.selectionMode==="dates"?castArray(g.parsedValue):[]),Oe=(Nn,{count:Zn,rowIndex:Hn,columnIndex:rr})=>{const{startOfMonthDay:Xn,dateCountOfMonth:Pn,dateCountOfLastMonth:jn}=unref($e),fr=unref(ue);if(Hn>=0&&Hn<=1){const yr=Xn+fr<0?7+Xn+fr:Xn+fr;if(rr+Hn*7>=yr)return Nn.text=Zn,!0;Nn.text=jn-(yr-rr%7)+1+Hn*7,Nn.type="prev-month"}else return Zn<=Pn?Nn.text=Zn:(Nn.text=Zn-Pn,Nn.type="next-month"),!0;return!1},_e=(Nn,{columnIndex:Zn,rowIndex:Hn},rr)=>{const{disabledDate:Xn,cellClassName:Pn}=g,jn=unref(Ne),fr=Oe(Nn,{count:rr,rowIndex:Hn,columnIndex:Zn}),yr=Nn.dayjs.toDate();return Nn.selected=jn.find(Cr=>Cr.valueOf()===Nn.dayjs.valueOf()),Nn.isSelected=!!Nn.selected,Nn.isCurrent=wn(Nn),Nn.disabled=Xn?.(yr),Nn.customClass=Pn?.(yr),fr},Fe=Nn=>{if(g.selectionMode==="week"){const[Zn,Hn]=g.showWeekNumber?[1,7]:[0,6],rr=Gn(Nn[Zn+1]);Nn[Zn].inRange=rr,Nn[Zn].start=rr,Nn[Hn].inRange=rr,Nn[Hn].end=rr}},Ue=computed(()=>{const{minDate:Nn,maxDate:Zn,rangeState:Hn,showWeekNumber:rr}=g,Xn=ue.value,Pn=re.value,jn="day";let fr=1;if(rr)for(let yr=0;yr<6;yr++)Pn[yr][0]||(Pn[yr][0]={type:"week",text:pe.value.add(yr*7+1,jn).week()});return buildPickerTable({row:6,column:7},Pn,{startDate:Nn,columnIndexOffset:rr?1:0,nextEndDate:Hn.endDate||Zn||Hn.selecting&&Nn||null,now:dayjs().locale(unref($)).startOf(jn),unit:jn,relativeDateGetter:yr=>pe.value.add(yr-Xn,jn),setCellMetadata:(...yr)=>{_e(...yr,fr)&&(fr+=1)},setRowMetadata:Fe}),Pn});watch(()=>g.date,async()=>{var Nn,Zn;(Nn=V.value)!=null&&Nn.contains(document.activeElement)&&(await nextTick(),(Zn=L.value)==null||Zn.focus())});const kt=async()=>{var Nn;(Nn=L.value)==null||Nn.focus()},Lt=(Nn="")=>["normal","today"].includes(Nn),wn=Nn=>g.selectionMode==="date"&&Lt(Nn.type)&&Et(Nn,g.parsedValue),Et=(Nn,Zn)=>Zn?dayjs(Zn).locale($.value).isSame(g.date.date(Number(Nn.text)),"day"):!1,xn=Nn=>{const Zn=[];return Lt(Nn.type)&&!Nn.disabled?(Zn.push("available"),Nn.type==="today"&&Zn.push("today")):Zn.push(Nn.type),wn(Nn)&&Zn.push("current"),Nn.inRange&&(Lt(Nn.type)||g.selectionMode==="week")&&(Zn.push("in-range"),Nn.start&&Zn.push("start-date"),Nn.end&&Zn.push("end-date")),Nn.disabled&&Zn.push("disabled"),Nn.selected&&Zn.push("selected"),Nn.customClass&&Zn.push(Nn.customClass),Zn.join(" ")},jt=(Nn,Zn)=>{const Hn=Nn*7+(Zn-(g.showWeekNumber?1:0))-ue.value;return pe.value.add(Hn,"day")},An=Nn=>{var Zn;if(!g.rangeState.selecting)return;let Hn=Nn.target;if(Hn.tagName==="SPAN"&&(Hn=(Zn=Hn.parentNode)==null?void 0:Zn.parentNode),Hn.tagName==="DIV"&&(Hn=Hn.parentNode),Hn.tagName!=="TD")return;const rr=Hn.parentNode.rowIndex-1,Xn=Hn.cellIndex;Ue.value[rr][Xn].disabled||(rr!==z.value||Xn!==j.value)&&(z.value=rr,j.value=Xn,r("changerange",{selecting:!0,endDate:jt(rr,Xn)}))},Dn=Nn=>!xe.value&&Nn?.text===1&&Nn.type==="normal"||Nn.isCurrent,En=Nn=>{oe||xe.value||g.selectionMode!=="date"||Wn(Nn,!0)},Bn=Nn=>{Nn.target.closest("td")&&(oe=!0)},$n=Nn=>{Nn.target.closest("td")&&(oe=!1)},Wn=(Nn,Zn=!1)=>{const Hn=Nn.target.closest("td");if(!Hn)return;const rr=Hn.parentNode.rowIndex-1,Xn=Hn.cellIndex,Pn=Ue.value[rr][Xn];if(Pn.disabled||Pn.type==="week")return;const jn=jt(rr,Xn);if(g.selectionMode==="range")!g.rangeState.selecting||!g.minDate?(r("pick",{minDate:jn,maxDate:null}),r("select",!0)):(jn>=g.minDate?r("pick",{minDate:g.minDate,maxDate:jn}):r("pick",{minDate:jn,maxDate:g.minDate}),r("select",!1));else if(g.selectionMode==="date")r("pick",jn,Zn);else if(g.selectionMode==="week"){const fr=jn.week(),yr=`${jn.year()}w${fr}`;r("pick",{year:jn.year(),week:fr,value:yr,date:jn.startOf("week")})}else if(g.selectionMode==="dates"){const fr=Pn.selected?castArray(g.parsedValue).filter(yr=>yr?.valueOf()!==jn.valueOf()):castArray(g.parsedValue).concat([jn]);r("pick",fr)}},Gn=Nn=>{if(g.selectionMode!=="week")return!1;let Zn=g.date.startOf("day");if(Nn.type==="prev-month"&&(Zn=Zn.subtract(1,"month")),Nn.type==="next-month"&&(Zn=Zn.add(1,"month")),Zn=Zn.date(Number.parseInt(Nn.text,10)),g.parsedValue&&!Array.isArray(g.parsedValue)){const Hn=(g.parsedValue.day()-ae+7)%7-1;return g.parsedValue.subtract(Hn,"day").isSame(Zn,"day")}return!1};return e({focus:kt}),(Nn,Zn)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(k)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:normalizeClass([unref(y).b(),{"is-week-mode":Nn.selectionMode==="week"}]),onClick:Wn,onMousemove:An,onMousedown:withModifiers(Bn,["prevent"]),onMouseup:$n},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:V},[createBaseVNode("tr",null,[Nn.showWeekNumber?(openBlock(),createElementBlock("th",_hoisted_2$1v,toDisplayString$1(unref(k)("el.datepicker.week")),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(he),(Hn,rr)=>(openBlock(),createElementBlock("th",{key:rr,scope:"col","aria-label":unref(k)("el.datepicker.weeksFull."+Hn)},toDisplayString$1(unref(k)("el.datepicker.weeks."+Hn)),9,_hoisted_3$U))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ue),(Hn,rr)=>(openBlock(),createElementBlock("tr",{key:rr,class:normalizeClass([unref(y).e("row"),{current:Gn(Hn[1])}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Hn,(Xn,Pn)=>(openBlock(),createElementBlock("td",{key:`${rr}.${Pn}`,ref_for:!0,ref:jn=>Dn(Xn)&&(L.value=jn),class:normalizeClass(xn(Xn)),"aria-current":Xn.isCurrent?"date":void 0,"aria-selected":Xn.isCurrent,tabindex:Dn(Xn)?0:-1,onFocus:En},[createVNode(unref(ElDatePickerCell),{cell:Xn},null,8,["cell"])],42,_hoisted_4$L))),128))],2))),128))],512)],42,_hoisted_1$1O))}});var DateTable=_export_sfc$1(_sfc_main$2s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$1N=["aria-label"],_hoisted_2$1u=["aria-selected","aria-label","tabindex","onKeydown"],_hoisted_3$T={class:"cell"},_sfc_main$2r=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(n,{expose:e,emit:r}){const g=n,y=(Ne,Oe,_e)=>{const Fe=dayjs().locale(_e).startOf("month").month(Oe).year(Ne),Ue=Fe.daysInMonth();return rangeArr(Ue).map(kt=>Fe.add(kt,"day").toDate())},k=useNamespace("month-table"),{t:$,lang:V}=useLocale(),L=ref(),z=ref(),j=ref(g.date.locale("en").localeData().monthsShort().map(Ne=>Ne.toLowerCase())),re=ref([[],[],[]]),oe=ref(),ae=ref(),de=computed(()=>{var Ne,Oe;const _e=re.value,Fe=dayjs().locale(V.value).startOf("month");for(let Ue=0;Ue<3;Ue++){const kt=_e[Ue];for(let Lt=0;Lt<4;Lt++){const wn=kt[Lt]||(kt[Lt]={row:Ue,column:Lt,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});wn.type="normal";const Et=Ue*4+Lt,xn=g.date.startOf("year").month(Et),jt=g.rangeState.endDate||g.maxDate||g.rangeState.selecting&&g.minDate||null;wn.inRange=!!(g.minDate&&xn.isSameOrAfter(g.minDate,"month")&&jt&&xn.isSameOrBefore(jt,"month"))||!!(g.minDate&&xn.isSameOrBefore(g.minDate,"month")&&jt&&xn.isSameOrAfter(jt,"month")),(Ne=g.minDate)!=null&&Ne.isSameOrAfter(jt)?(wn.start=!!(jt&&xn.isSame(jt,"month")),wn.end=g.minDate&&xn.isSame(g.minDate,"month")):(wn.start=!!(g.minDate&&xn.isSame(g.minDate,"month")),wn.end=!!(jt&&xn.isSame(jt,"month"))),Fe.isSame(xn)&&(wn.type="today"),wn.text=Et,wn.disabled=((Oe=g.disabledDate)==null?void 0:Oe.call(g,xn.toDate()))||!1}}return _e}),ue=()=>{var Ne;(Ne=z.value)==null||Ne.focus()},pe=Ne=>{const Oe={},_e=g.date.year(),Fe=new Date,Ue=Ne.text;return Oe.disabled=g.disabledDate?y(_e,Ue,V.value).every(g.disabledDate):!1,Oe.current=castArray(g.parsedValue).findIndex(kt=>dayjs.isDayjs(kt)&&kt.year()===_e&&kt.month()===Ue)>=0,Oe.today=Fe.getFullYear()===_e&&Fe.getMonth()===Ue,Ne.inRange&&(Oe["in-range"]=!0,Ne.start&&(Oe["start-date"]=!0),Ne.end&&(Oe["end-date"]=!0)),Oe},he=Ne=>{const Oe=g.date.year(),_e=Ne.text;return castArray(g.date).findIndex(Fe=>Fe.year()===Oe&&Fe.month()===_e)>=0},xe=Ne=>{var Oe;if(!g.rangeState.selecting)return;let _e=Ne.target;if(_e.tagName==="A"&&(_e=(Oe=_e.parentNode)==null?void 0:Oe.parentNode),_e.tagName==="DIV"&&(_e=_e.parentNode),_e.tagName!=="TD")return;const Fe=_e.parentNode.rowIndex,Ue=_e.cellIndex;de.value[Fe][Ue].disabled||(Fe!==oe.value||Ue!==ae.value)&&(oe.value=Fe,ae.value=Ue,r("changerange",{selecting:!0,endDate:g.date.startOf("year").month(Fe*4+Ue)}))},$e=Ne=>{var Oe;const _e=(Oe=Ne.target)==null?void 0:Oe.closest("td");if(_e?.tagName!=="TD"||hasClass(_e,"disabled"))return;const Fe=_e.cellIndex,kt=_e.parentNode.rowIndex*4+Fe,Lt=g.date.startOf("year").month(kt);g.selectionMode==="range"?g.rangeState.selecting?(g.minDate&&Lt>=g.minDate?r("pick",{minDate:g.minDate,maxDate:Lt}):r("pick",{minDate:Lt,maxDate:g.minDate}),r("select",!1)):(r("pick",{minDate:Lt,maxDate:null}),r("select",!0)):r("pick",kt)};return watch(()=>g.date,async()=>{var Ne,Oe;(Ne=L.value)!=null&&Ne.contains(document.activeElement)&&(await nextTick(),(Oe=z.value)==null||Oe.focus())}),e({focus:ue}),(Ne,Oe)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref($)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(k).b()),onClick:$e,onMousemove:xe},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:L},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(de),(_e,Fe)=>(openBlock(),createElementBlock("tr",{key:Fe},[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e,(Ue,kt)=>(openBlock(),createElementBlock("td",{key:kt,ref_for:!0,ref:Lt=>he(Ue)&&(z.value=Lt),class:normalizeClass(pe(Ue)),"aria-selected":`${he(Ue)}`,"aria-label":unref($)(`el.datepicker.month${+Ue.text+1}`),tabindex:he(Ue)?0:-1,onKeydown:[withKeys(withModifiers($e,["prevent","stop"]),["space"]),withKeys(withModifiers($e,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$T,toDisplayString$1(unref($)("el.datepicker.months."+j.value[Ue.text])),1)])],42,_hoisted_2$1u))),128))]))),128))],512)],42,_hoisted_1$1N))}});var MonthTable=_export_sfc$1(_sfc_main$2r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date,disabledDate,parsedValue}=datePickerSharedProps,basicYearTableProps=buildProps({date,disabledDate,parsedValue}),_hoisted_1$1M=["aria-label"],_hoisted_2$1t=["aria-selected","tabindex","onKeydown"],_hoisted_3$S={class:"cell"},_hoisted_4$K={key:1},_sfc_main$2q=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["pick"],setup(n,{expose:e,emit:r}){const g=n,y=(ue,pe)=>{const he=dayjs(String(ue)).locale(pe).startOf("year"),$e=he.endOf("year").dayOfYear();return rangeArr($e).map(Ne=>he.add(Ne,"day").toDate())},k=useNamespace("year-table"),{t:$,lang:V}=useLocale(),L=ref(),z=ref(),j=computed(()=>Math.floor(g.date.year()/10)*10),re=()=>{var ue;(ue=z.value)==null||ue.focus()},oe=ue=>{const pe={},he=dayjs().locale(V.value);return pe.disabled=g.disabledDate?y(ue,V.value).every(g.disabledDate):!1,pe.current=castArray(g.parsedValue).findIndex(xe=>xe.year()===ue)>=0,pe.today=he.year()===ue,pe},ae=ue=>ue===j.value&&g.date.year()<j.value&&g.date.year()>j.value+9||castArray(g.date).findIndex(pe=>pe.year()===ue)>=0,de=ue=>{const he=ue.target.closest("td");if(he&&he.textContent){if(hasClass(he,"disabled"))return;const xe=he.textContent||he.innerText;r("pick",Number(xe))}};return watch(()=>g.date,async()=>{var ue,pe;(ue=L.value)!=null&&ue.contains(document.activeElement)&&(await nextTick(),(pe=z.value)==null||pe.focus())}),e({focus:re}),(ue,pe)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref($)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(k).b()),onClick:de},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:L},[(openBlock(),createElementBlock(Fragment,null,renderList(3,(he,xe)=>createBaseVNode("tr",{key:xe},[(openBlock(),createElementBlock(Fragment,null,renderList(4,($e,Ne)=>(openBlock(),createElementBlock(Fragment,{key:xe+"_"+Ne},[xe*4+Ne<10?(openBlock(),createElementBlock("td",{key:0,ref_for:!0,ref:Oe=>ae(unref(j)+xe*4+Ne)&&(z.value=Oe),class:normalizeClass(["available",oe(unref(j)+xe*4+Ne)]),"aria-selected":`${ae(unref(j)+xe*4+Ne)}`,tabindex:ae(unref(j)+xe*4+Ne)?0:-1,onKeydown:[withKeys(withModifiers(de,["prevent","stop"]),["space"]),withKeys(withModifiers(de,["prevent","stop"]),["enter"])]},[createBaseVNode("span",_hoisted_3$S,toDisplayString$1(unref(j)+xe*4+Ne),1)],42,_hoisted_2$1t)):(openBlock(),createElementBlock("td",_hoisted_4$K))],64))),64))])),64))],512)],10,_hoisted_1$1M))}});var YearTable=_export_sfc$1(_sfc_main$2q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const _hoisted_1$1L=["onClick"],_hoisted_2$1s=["aria-label"],_hoisted_3$R=["aria-label"],_hoisted_4$J=["aria-label"],_hoisted_5$D=["aria-label"],_sfc_main$2p=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const r=n,g=(Pt,_n,At)=>!0,y=useNamespace("picker-panel"),k=useNamespace("date-picker"),$=useAttrs$1(),V=useSlots(),{t:L,lang:z}=useLocale(),j=inject("EP_PICKER_BASE"),re=inject(TOOLTIP_INJECTION_KEY),{shortcuts:oe,disabledDate:ae,cellClassName:de,defaultTime:ue}=j.props,pe=toRef(j.props,"defaultValue"),he=ref(),xe=ref(dayjs().locale(z.value)),$e=ref(!1);let Ne=!1;const Oe=computed(()=>dayjs(ue).locale(z.value)),_e=computed(()=>xe.value.month()),Fe=computed(()=>xe.value.year()),Ue=ref([]),kt=ref(null),Lt=ref(null),wn=Pt=>Ue.value.length>0?g(Pt,Ue.value,r.format||"HH:mm:ss"):!0,Et=Pt=>ue&&!vn.value&&!$e.value&&!Ne?Oe.value.year(Pt.year()).month(Pt.month()).date(Pt.date()):Xn.value?Pt.millisecond(0):Pt.startOf("day"),xn=(Pt,..._n)=>{if(!Pt)e("pick",Pt,..._n);else if(isArray$3(Pt)){const At=Pt.map(Et);e("pick",At,..._n)}else e("pick",Et(Pt),..._n);kt.value=null,Lt.value=null,$e.value=!1,Ne=!1},jt=(Pt,_n)=>{if(Wn.value==="date"){Pt=Pt;let At=r.parsedValue?r.parsedValue.year(Pt.year()).month(Pt.month()).date(Pt.date()):Pt;wn(At)||(At=Ue.value[0][0].year(Pt.year()).month(Pt.month()).date(Pt.date())),xe.value=At,xn(At,Xn.value||_n)}else Wn.value==="week"?xn(Pt.date):Wn.value==="dates"&&xn(Pt,!0)},An=Pt=>{const _n=Pt?"add":"subtract";xe.value=xe.value[_n](1,"month"),qe("month")},Dn=Pt=>{const _n=xe.value,At=Pt?"add":"subtract";xe.value=En.value==="year"?_n[At](10,"year"):_n[At](1,"year"),qe("year")},En=ref("date"),Bn=computed(()=>{const Pt=L("el.datepicker.year");if(En.value==="year"){const _n=Math.floor(Fe.value/10)*10;return Pt?`${_n} ${Pt} - ${_n+9} ${Pt}`:`${_n} - ${_n+9}`}return`${Fe.value} ${Pt}`}),$n=Pt=>{const _n=isFunction$3(Pt.value)?Pt.value():Pt.value;if(_n){Ne=!0,xn(dayjs(_n).locale(z.value));return}Pt.onClick&&Pt.onClick({attrs:$,slots:V,emit:e})},Wn=computed(()=>{const{type:Pt}=r;return["week","month","year","dates"].includes(Pt)?Pt:"date"}),Gn=computed(()=>Wn.value==="date"?En.value:Wn.value),Nn=computed(()=>!!oe.length),Zn=async Pt=>{xe.value=xe.value.startOf("month").month(Pt),Wn.value==="month"?xn(xe.value,!1):(En.value="date",["month","year","date","week"].includes(Wn.value)&&(xn(xe.value,!0),await nextTick(),Ce())),qe("month")},Hn=async Pt=>{Wn.value==="year"?(xe.value=xe.value.startOf("year").year(Pt),xn(xe.value,!1)):(xe.value=xe.value.year(Pt),En.value="month",["month","year","date","week"].includes(Wn.value)&&(xn(xe.value,!0),await nextTick(),Ce())),qe("year")},rr=async Pt=>{En.value=Pt,await nextTick(),Ce()},Xn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Pn=computed(()=>Xn.value||Wn.value==="dates"),jn=computed(()=>ae?r.parsedValue?isArray$3(r.parsedValue)?ae(r.parsedValue[0].toDate()):ae(r.parsedValue.toDate()):!0:!1),fr=()=>{if(Wn.value==="dates")xn(r.parsedValue);else{let Pt=r.parsedValue;if(!Pt){const _n=dayjs(ue).locale(z.value),At=le();Pt=_n.year(At.year()).month(At.month()).date(At.date())}xe.value=Pt,xn(Pt)}},yr=computed(()=>ae?ae(dayjs().locale(z.value).toDate()):!1),Cr=()=>{const _n=dayjs().locale(z.value).toDate();$e.value=!0,(!ae||!ae(_n))&&wn(_n)&&(xe.value=dayjs().locale(z.value),xn(xe.value))},sr=computed(()=>extractTimeFormat(r.format)),zn=computed(()=>extractDateFormat(r.format)),vn=computed(()=>{if(Lt.value)return Lt.value;if(!(!r.parsedValue&&!pe.value))return(r.parsedValue||xe.value).format(sr.value)}),Jn=computed(()=>{if(kt.value)return kt.value;if(!(!r.parsedValue&&!pe.value))return(r.parsedValue||xe.value).format(zn.value)}),Tn=ref(!1),Dt=()=>{Tn.value=!0},hn=()=>{Tn.value=!1},Vn=Pt=>({hour:Pt.hour(),minute:Pt.minute(),second:Pt.second(),year:Pt.year(),month:Pt.month(),date:Pt.date()}),Kn=(Pt,_n,At)=>{const{hour:Cn,minute:bn,second:In}=Vn(Pt),Ln=r.parsedValue?r.parsedValue.hour(Cn).minute(bn).second(In):Pt;xe.value=Ln,xn(xe.value,!0),At||(Tn.value=_n)},ar=Pt=>{const _n=dayjs(Pt,sr.value).locale(z.value);if(_n.isValid()&&wn(_n)){const{year:At,month:Cn,date:bn}=Vn(xe.value);xe.value=_n.year(At).month(Cn).date(bn),Lt.value=null,Tn.value=!1,xn(xe.value,!0)}},lr=Pt=>{const _n=dayjs(Pt,zn.value).locale(z.value);if(_n.isValid()){if(ae&&ae(_n.toDate()))return;const{hour:At,minute:Cn,second:bn}=Vn(xe.value);xe.value=_n.hour(At).minute(Cn).second(bn),kt.value=null,xn(xe.value,!0)}},cr=Pt=>dayjs.isDayjs(Pt)&&Pt.isValid()&&(ae?!ae(Pt.toDate()):!0),mr=Pt=>Wn.value==="dates"?Pt.map(_n=>_n.format(r.format)):Pt.format(r.format),ur=Pt=>dayjs(Pt,r.format).locale(z.value),le=()=>{const Pt=dayjs(pe.value).locale(z.value);if(!pe.value){const _n=Oe.value;return dayjs().hour(_n.hour()).minute(_n.minute()).second(_n.second()).locale(z.value)}return Pt},Ce=async()=>{var Pt;["week","month","year","date"].includes(Wn.value)&&((Pt=he.value)==null||Pt.focus(),Wn.value==="week"&&ze(EVENT_CODE.down))},Ie=Pt=>{const{code:_n}=Pt;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(_n)&&(ze(_n),Pt.stopPropagation(),Pt.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(_n)&&kt.value===null&&Lt.value===null&&(Pt.preventDefault(),xn(xe.value,!1))},ze=Pt=>{var _n;const{up:At,down:Cn,left:bn,right:In,home:Ln,end:Mn,pageUp:Fn,pageDown:er}=EVENT_CODE,Qn={year:{[At]:-4,[Cn]:4,[bn]:-1,[In]:1,offset:(kn,Un)=>kn.setFullYear(kn.getFullYear()+Un)},month:{[At]:-4,[Cn]:4,[bn]:-1,[In]:1,offset:(kn,Un)=>kn.setMonth(kn.getMonth()+Un)},week:{[At]:-1,[Cn]:1,[bn]:-1,[In]:1,offset:(kn,Un)=>kn.setDate(kn.getDate()+Un*7)},date:{[At]:-7,[Cn]:7,[bn]:-1,[In]:1,[Ln]:kn=>-kn.getDay(),[Mn]:kn=>-kn.getDay()+6,[Fn]:kn=>-new Date(kn.getFullYear(),kn.getMonth(),0).getDate(),[er]:kn=>new Date(kn.getFullYear(),kn.getMonth()+1,0).getDate(),offset:(kn,Un)=>kn.setDate(kn.getDate()+Un)}},nr=xe.value.toDate();for(;Math.abs(xe.value.diff(nr,"year",!0))<1;){const kn=Qn[Gn.value];if(!kn)return;if(kn.offset(nr,isFunction$3(kn[Pt])?kn[Pt](nr):(_n=kn[Pt])!=null?_n:0),ae&&ae(nr))break;const Un=dayjs(nr).locale(z.value);xe.value=Un,e("pick",Un,!0);break}},qe=Pt=>{e("panel-change",xe.value.toDate(),Pt,En.value)};return watch(()=>Wn.value,Pt=>{if(["month","year"].includes(Pt)){En.value=Pt;return}En.value="date"},{immediate:!0}),watch(()=>En.value,()=>{re?.updatePopper()}),watch(()=>pe.value,Pt=>{Pt&&(xe.value=le())},{immediate:!0}),watch(()=>r.parsedValue,Pt=>{if(Pt){if(Wn.value==="dates"||Array.isArray(Pt))return;xe.value=Pt}else xe.value=le()},{immediate:!0}),e("set-picker-option",["isValidValue",cr]),e("set-picker-option",["formatToString",mr]),e("set-picker-option",["parseUserInput",ur]),e("set-picker-option",["handleFocusPicker",Ce]),(Pt,_n)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref(k).b(),{"has-sidebar":Pt.$slots.sidebar||unref(Nn),"has-time":unref(Xn)}])},[createBaseVNode("div",{class:normalizeClass(unref(y).e("body-wrapper"))},[renderSlot(Pt.$slots,"sidebar",{class:normalizeClass(unref(y).e("sidebar"))}),unref(Nn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(oe),(At,Cn)=>(openBlock(),createElementBlock("button",{key:Cn,type:"button",class:normalizeClass(unref(y).e("shortcut")),onClick:bn=>$n(At)},toDisplayString$1(At.text),11,_hoisted_1$1L))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("body"))},[unref(Xn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(k).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(L)("el.datepicker.selectDate"),"model-value":unref(Jn),size:"small","validate-event":!1,onInput:_n[0]||(_n[0]=At=>kt.value=At),onChange:lr},null,8,["placeholder","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(k).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(L)("el.datepicker.selectTime"),"model-value":unref(vn),size:"small","validate-event":!1,onFocus:Dt,onInput:_n[1]||(_n[1]=At=>Lt.value=At),onChange:ar},null,8,["placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:Tn.value,format:unref(sr),"parsed-value":xe.value,onPick:Kn},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),hn]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(k).e("header"),(En.value==="year"||En.value==="month")&&unref(k).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(k).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(y).e("icon-btn")]),onClick:_n[2]||(_n[2]=At=>Dn(!1))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_2$1s),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.prevMonth"),class:normalizeClass([unref(y).e("icon-btn"),"arrow-left"]),onClick:_n[3]||(_n[3]=At=>An(!1))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_3$R),[[vShow,En.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(k).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:_n[4]||(_n[4]=withKeys(At=>rr("year"),["enter"])),onClick:_n[5]||(_n[5]=At=>rr("year"))},toDisplayString$1(unref(Bn)),35),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(k).e("header-label"),{active:En.value==="month"}]),onKeydown:_n[6]||(_n[6]=withKeys(At=>rr("month"),["enter"])),onClick:_n[7]||(_n[7]=At=>rr("month"))},toDisplayString$1(unref(L)(`el.datepicker.month${unref(_e)+1}`)),35),[[vShow,En.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(k).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.nextMonth"),class:normalizeClass([unref(y).e("icon-btn"),"arrow-right"]),onClick:_n[8]||(_n[8]=At=>An(!0))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_4$J),[[vShow,En.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.nextYear"),class:normalizeClass([unref(y).e("icon-btn"),"d-arrow-right"]),onClick:_n[9]||(_n[9]=At=>Dn(!0))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_5$D)],2)],2),[[vShow,En.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref(y).e("content")),onKeydown:Ie},[En.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:he,"selection-mode":unref(Wn),date:xe.value,"parsed-value":Pt.parsedValue,"disabled-date":unref(ae),"cell-class-name":unref(de),onPick:jt},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),En.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:he,date:xe.value,"disabled-date":unref(ae),"parsed-value":Pt.parsedValue,onPick:Hn},null,8,["date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),En.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:he,date:xe.value,"parsed-value":Pt.parsedValue,"disabled-date":unref(ae),onPick:Zn},null,8,["date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(y).e("footer"))},[withDirectives(createVNode(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(y).e("link-btn")),disabled:unref(yr),onClick:Cr},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(L)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vShow,unref(Wn)!=="dates"]]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(y).e("link-btn")),disabled:unref(jn),onClick:fr},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(L)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[vShow,unref(Pn)&&En.value==="date"]])],2))}});var DatePickPanel=_export_sfc$1(_sfc_main$2p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=n=>{const{emit:e}=getCurrentInstance(),r=useAttrs$1(),g=useSlots();return k=>{const $=isFunction$3(k.value)?k.value():k.value;if($){e("pick",[dayjs($[0]).locale(n.value),dayjs($[1]).locale(n.value)]);return}k.onClick&&k.onClick({attrs:r,slots:g,emit:e})}},useRangePicker=(n,{defaultValue:e,leftDate:r,rightDate:g,unit:y,onParsedValueChanged:k})=>{const{emit:$}=getCurrentInstance(),{pickerNs:V}=inject(ROOT_PICKER_INJECTION_KEY),L=useNamespace("date-range-picker"),{t:z,lang:j}=useLocale(),re=useShortcut(j),oe=ref(),ae=ref(),de=ref({endDate:null,selecting:!1}),ue=$e=>{de.value=$e},pe=($e=!1)=>{const Ne=unref(oe),Oe=unref(ae);isValidRange([Ne,Oe])&&$("pick",[Ne,Oe],$e)},he=$e=>{de.value.selecting=$e,$e||(de.value.endDate=null)},xe=()=>{const[$e,Ne]=getDefaultValue(unref(e),{lang:unref(j),unit:y,unlinkPanels:n.unlinkPanels});oe.value=void 0,ae.value=void 0,r.value=$e,g.value=Ne};return watch(e,$e=>{$e&&xe()},{immediate:!0}),watch(()=>n.parsedValue,$e=>{if(isArray$3($e)&&$e.length===2){const[Ne,Oe]=$e;oe.value=Ne,r.value=Ne,ae.value=Oe,k(unref(oe),unref(ae))}else xe()},{immediate:!0}),{minDate:oe,maxDate:ae,rangeState:de,lang:j,ppNs:V,drpNs:L,handleChangeRange:ue,handleRangeConfirm:pe,handleShortcutClick:re,onSelect:he,t:z}},_hoisted_1$1K=["onClick"],_hoisted_2$1r=["disabled"],_hoisted_3$Q=["disabled"],_hoisted_4$I=["disabled"],_hoisted_5$C=["disabled"],unit$1="month",_sfc_main$2o=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const r=n,g=inject("EP_PICKER_BASE"),{disabledDate:y,cellClassName:k,format:$,defaultTime:V,clearable:L}=g.props,z=toRef(g.props,"shortcuts"),j=toRef(g.props,"defaultValue"),{lang:re}=useLocale(),oe=ref(dayjs().locale(re.value)),ae=ref(dayjs().locale(re.value).add(1,unit$1)),{minDate:de,maxDate:ue,rangeState:pe,ppNs:he,drpNs:xe,handleChangeRange:$e,handleRangeConfirm:Ne,handleShortcutClick:Oe,onSelect:_e,t:Fe}=useRangePicker(r,{defaultValue:j,leftDate:oe,rightDate:ae,unit:unit$1,onParsedValueChanged:_n}),Ue=ref({min:null,max:null}),kt=ref({min:null,max:null}),Lt=computed(()=>`${oe.value.year()} ${Fe("el.datepicker.year")} ${Fe(`el.datepicker.month${oe.value.month()+1}`)}`),wn=computed(()=>`${ae.value.year()} ${Fe("el.datepicker.year")} ${Fe(`el.datepicker.month${ae.value.month()+1}`)}`),Et=computed(()=>oe.value.year()),xn=computed(()=>oe.value.month()),jt=computed(()=>ae.value.year()),An=computed(()=>ae.value.month()),Dn=computed(()=>!!z.value.length),En=computed(()=>Ue.value.min!==null?Ue.value.min:de.value?de.value.format(Nn.value):""),Bn=computed(()=>Ue.value.max!==null?Ue.value.max:ue.value||de.value?(ue.value||de.value).format(Nn.value):""),$n=computed(()=>kt.value.min!==null?kt.value.min:de.value?de.value.format(Gn.value):""),Wn=computed(()=>kt.value.max!==null?kt.value.max:ue.value||de.value?(ue.value||de.value).format(Gn.value):""),Gn=computed(()=>extractTimeFormat($)),Nn=computed(()=>extractDateFormat($)),Zn=At=>isValidRange(At)&&(y?!y(At[0].toDate())&&!y(At[1].toDate()):!0),Hn=()=>{oe.value=oe.value.subtract(1,"year"),r.unlinkPanels||(ae.value=oe.value.add(1,"month")),sr("year")},rr=()=>{oe.value=oe.value.subtract(1,"month"),r.unlinkPanels||(ae.value=oe.value.add(1,"month")),sr("month")},Xn=()=>{r.unlinkPanels?ae.value=ae.value.add(1,"year"):(oe.value=oe.value.add(1,"year"),ae.value=oe.value.add(1,"month")),sr("year")},Pn=()=>{r.unlinkPanels?ae.value=ae.value.add(1,"month"):(oe.value=oe.value.add(1,"month"),ae.value=oe.value.add(1,"month")),sr("month")},jn=()=>{oe.value=oe.value.add(1,"year"),sr("year")},fr=()=>{oe.value=oe.value.add(1,"month"),sr("month")},yr=()=>{ae.value=ae.value.subtract(1,"year"),sr("year")},Cr=()=>{ae.value=ae.value.subtract(1,"month"),sr("month")},sr=At=>{e("panel-change",[oe.value.toDate(),ae.value.toDate()],At)},zn=computed(()=>{const At=(xn.value+1)%12,Cn=xn.value+1>=12?1:0;return r.unlinkPanels&&new Date(Et.value+Cn,At)<new Date(jt.value,An.value)}),vn=computed(()=>r.unlinkPanels&&jt.value*12+An.value-(Et.value*12+xn.value+1)>=12),Jn=computed(()=>!(de.value&&ue.value&&!pe.value.selecting&&isValidRange([de.value,ue.value]))),Tn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Dt=(At,Cn)=>{if(At)return V?dayjs(V[Cn]||V).locale(re.value).year(At.year()).month(At.month()).date(At.date()):At},hn=(At,Cn=!0)=>{const bn=At.minDate,In=At.maxDate,Ln=Dt(bn,0),Mn=Dt(In,1);ue.value===Mn&&de.value===Ln||(e("calendar-change",[bn.toDate(),In&&In.toDate()]),ue.value=Mn,de.value=Ln,!(!Cn||Tn.value)&&Ne())},Vn=ref(!1),Kn=ref(!1),ar=()=>{Vn.value=!1},lr=()=>{Kn.value=!1},cr=(At,Cn)=>{Ue.value[Cn]=At;const bn=dayjs(At,Nn.value).locale(re.value);if(bn.isValid()){if(y&&y(bn.toDate()))return;Cn==="min"?(oe.value=bn,de.value=(de.value||oe.value).year(bn.year()).month(bn.month()).date(bn.date()),!r.unlinkPanels&&(!ue.value||ue.value.isBefore(de.value))&&(ae.value=bn.add(1,"month"),ue.value=de.value.add(1,"month"))):(ae.value=bn,ue.value=(ue.value||ae.value).year(bn.year()).month(bn.month()).date(bn.date()),!r.unlinkPanels&&(!de.value||de.value.isAfter(ue.value))&&(oe.value=bn.subtract(1,"month"),de.value=ue.value.subtract(1,"month")))}},mr=(At,Cn)=>{Ue.value[Cn]=null},ur=(At,Cn)=>{kt.value[Cn]=At;const bn=dayjs(At,Gn.value).locale(re.value);bn.isValid()&&(Cn==="min"?(Vn.value=!0,de.value=(de.value||oe.value).hour(bn.hour()).minute(bn.minute()).second(bn.second()),(!ue.value||ue.value.isBefore(de.value))&&(ue.value=de.value)):(Kn.value=!0,ue.value=(ue.value||ae.value).hour(bn.hour()).minute(bn.minute()).second(bn.second()),ae.value=ue.value,ue.value&&ue.value.isBefore(de.value)&&(de.value=ue.value)))},le=(At,Cn)=>{kt.value[Cn]=null,Cn==="min"?(oe.value=de.value,Vn.value=!1):(ae.value=ue.value,Kn.value=!1)},Ce=(At,Cn,bn)=>{kt.value.min||(At&&(oe.value=At,de.value=(de.value||oe.value).hour(At.hour()).minute(At.minute()).second(At.second())),bn||(Vn.value=Cn),(!ue.value||ue.value.isBefore(de.value))&&(ue.value=de.value,ae.value=At))},Ie=(At,Cn,bn)=>{kt.value.max||(At&&(ae.value=At,ue.value=(ue.value||ae.value).hour(At.hour()).minute(At.minute()).second(At.second())),bn||(Kn.value=Cn),ue.value&&ue.value.isBefore(de.value)&&(de.value=ue.value))},ze=()=>{oe.value=getDefaultValue(unref(j),{lang:unref(re),unit:"month",unlinkPanels:r.unlinkPanels})[0],ae.value=oe.value.add(1,"month"),e("pick",null)},qe=At=>isArray$3(At)?At.map(Cn=>Cn.format($)):At.format($),Pt=At=>isArray$3(At)?At.map(Cn=>dayjs(Cn,$).locale(re.value)):dayjs(At,$).locale(re.value);function _n(At,Cn){if(r.unlinkPanels&&Cn){const bn=At?.year()||0,In=At?.month()||0,Ln=Cn.year(),Mn=Cn.month();ae.value=bn===Ln&&In===Mn?Cn.add(1,unit$1):Cn}else ae.value=oe.value.add(1,unit$1),Cn&&(ae.value=ae.value.hour(Cn.hour()).minute(Cn.minute()).second(Cn.second()))}return e("set-picker-option",["isValidValue",Zn]),e("set-picker-option",["parseUserInput",Pt]),e("set-picker-option",["formatToString",qe]),e("set-picker-option",["handleClear",ze]),(At,Cn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(he).b(),unref(xe).b(),{"has-sidebar":At.$slots.sidebar||unref(Dn),"has-time":unref(Tn)}])},[createBaseVNode("div",{class:normalizeClass(unref(he).e("body-wrapper"))},[renderSlot(At.$slots,"sidebar",{class:normalizeClass(unref(he).e("sidebar"))}),unref(Dn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(he).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(z),(bn,In)=>(openBlock(),createElementBlock("button",{key:In,type:"button",class:normalizeClass(unref(he).e("shortcut")),onClick:Ln=>unref(Oe)(bn)},toDisplayString$1(bn.text),11,_hoisted_1$1K))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(he).e("body"))},[unref(Tn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(xe).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(xe).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(xe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.startDate"),class:normalizeClass(unref(xe).e("editor")),"model-value":unref(En),"validate-event":!1,onInput:Cn[0]||(Cn[0]=bn=>cr(bn,"min")),onChange:Cn[1]||(Cn[1]=bn=>mr(bn,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(xe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(xe).e("editor")),disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.startTime"),"model-value":unref($n),"validate-event":!1,onFocus:Cn[2]||(Cn[2]=bn=>Vn.value=!0),onInput:Cn[3]||(Cn[3]=bn=>ur(bn,"min")),onChange:Cn[4]||(Cn[4]=bn=>le(bn,"min"))},null,8,["class","disabled","placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:Vn.value,format:unref(Gn),"datetime-role":"start","parsed-value":oe.value,onPick:Ce},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),ar]])],2),createBaseVNode("span",null,[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(xe).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(xe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(xe).e("editor")),disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.endDate"),"model-value":unref(Bn),readonly:!unref(de),"validate-event":!1,onInput:Cn[5]||(Cn[5]=bn=>cr(bn,"max")),onChange:Cn[6]||(Cn[6]=bn=>mr(bn,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(xe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(xe).e("editor")),disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.endTime"),"model-value":unref(Wn),readonly:!unref(de),"validate-event":!1,onFocus:Cn[7]||(Cn[7]=bn=>unref(de)&&(Kn.value=!0)),onInput:Cn[8]||(Cn[8]=bn=>ur(bn,"max")),onChange:Cn[9]||(Cn[9]=bn=>le(bn,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode(unref(TimePickPanel),{"datetime-role":"end",visible:Kn.value,format:unref(Gn),"parsed-value":ae.value,onPick:Ie},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),lr]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(he).e("content"),unref(xe).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(xe).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"d-arrow-left"]),onClick:Hn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"arrow-left"]),onClick:rr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],2),At.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(vn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(vn)}],"d-arrow-right"]),onClick:jn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$1r)):createCommentVNode("v-if",!0),At.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(zn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(zn)}],"arrow-right"]),onClick:fr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_3$Q)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString$1(unref(Lt)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:oe.value,"min-date":unref(de),"max-date":unref(ue),"range-state":unref(pe),"disabled-date":unref(y),"cell-class-name":unref(k),onChangerange:unref($e),onPick:hn,onSelect:unref(_e)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(he).e("content"),unref(xe).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(xe).e("header"))},[At.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(vn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(vn)}],"d-arrow-left"]),onClick:yr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_4$I)):createCommentVNode("v-if",!0),At.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(zn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(zn)}],"arrow-left"]),onClick:Cr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_5$C)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"d-arrow-right"]),onClick:Xn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"arrow-right"]),onClick:Pn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString$1(unref(wn)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:ae.value,"min-date":unref(de),"max-date":unref(ue),"range-state":unref(pe),"disabled-date":unref(y),"cell-class-name":unref(k),onChangerange:unref($e),onPick:hn,onSelect:unref(_e)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(Tn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(he).e("footer"))},[unref(L)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(he).e("link-btn")),onClick:ze},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(Fe)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(he).e("link-btn")),disabled:unref(Jn),onClick:Cn[10]||(Cn[10]=bn=>unref(Ne)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(Fe)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc$1(_sfc_main$2o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option"],useMonthRangeHeader=({unlinkPanels:n,leftDate:e,rightDate:r})=>{const{t:g}=useLocale(),y=()=>{e.value=e.value.subtract(1,"year"),n.value||(r.value=r.value.subtract(1,"year"))},k=()=>{n.value||(e.value=e.value.add(1,"year")),r.value=r.value.add(1,"year")},$=()=>{e.value=e.value.add(1,"year")},V=()=>{r.value=r.value.subtract(1,"year")},L=computed(()=>`${e.value.year()} ${g("el.datepicker.year")}`),z=computed(()=>`${r.value.year()} ${g("el.datepicker.year")}`),j=computed(()=>e.value.year()),re=computed(()=>r.value.year()===e.value.year()?e.value.year()+1:r.value.year());return{leftPrevYear:y,rightNextYear:k,leftNextYear:$,rightPrevYear:V,leftLabel:L,rightLabel:z,leftYear:j,rightYear:re}},_hoisted_1$1J=["onClick"],_hoisted_2$1q=["disabled"],_hoisted_3$P=["disabled"],unit="year",__default__$R=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$2n=defineComponent({...__default__$R,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(n,{emit:e}){const r=n,{lang:g}=useLocale(),y=inject("EP_PICKER_BASE"),{shortcuts:k,disabledDate:$,format:V}=y.props,L=toRef(y.props,"defaultValue"),z=ref(dayjs().locale(g.value)),j=ref(dayjs().locale(g.value).add(1,unit)),{minDate:re,maxDate:oe,rangeState:ae,ppNs:de,drpNs:ue,handleChangeRange:pe,handleRangeConfirm:he,handleShortcutClick:xe,onSelect:$e}=useRangePicker(r,{defaultValue:L,leftDate:z,rightDate:j,unit,onParsedValueChanged:Dn}),Ne=computed(()=>!!k.length),{leftPrevYear:Oe,rightNextYear:_e,leftNextYear:Fe,rightPrevYear:Ue,leftLabel:kt,rightLabel:Lt,leftYear:wn,rightYear:Et}=useMonthRangeHeader({unlinkPanels:toRef(r,"unlinkPanels"),leftDate:z,rightDate:j}),xn=computed(()=>r.unlinkPanels&&Et.value>wn.value+1),jt=(En,Bn=!0)=>{const $n=En.minDate,Wn=En.maxDate;oe.value===Wn&&re.value===$n||(oe.value=Wn,re.value=$n,Bn&&he())},An=En=>En.map(Bn=>Bn.format(V));function Dn(En,Bn){if(r.unlinkPanels&&Bn){const $n=En?.year()||0,Wn=Bn.year();j.value=$n===Wn?Bn.add(1,unit):Bn}else j.value=z.value.add(1,unit)}return e("set-picker-option",["formatToString",An]),(En,Bn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(de).b(),unref(ue).b(),{"has-sidebar":!!En.$slots.sidebar||unref(Ne)}])},[createBaseVNode("div",{class:normalizeClass(unref(de).e("body-wrapper"))},[renderSlot(En.$slots,"sidebar",{class:normalizeClass(unref(de).e("sidebar"))}),unref(Ne)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(de).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(k),($n,Wn)=>(openBlock(),createElementBlock("button",{key:Wn,type:"button",class:normalizeClass(unref(de).e("shortcut")),onClick:Gn=>unref(xe)($n)},toDisplayString$1($n.text),11,_hoisted_1$1J))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(de).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(de).e("content"),unref(ue).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(ue).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(de).e("icon-btn"),"d-arrow-left"]),onClick:Bn[0]||(Bn[0]=(...$n)=>unref(Oe)&&unref(Oe)(...$n))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],2),En.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(xn),class:normalizeClass([[unref(de).e("icon-btn"),{[unref(de).is("disabled")]:!unref(xn)}],"d-arrow-right"]),onClick:Bn[1]||(Bn[1]=(...$n)=>unref(Fe)&&unref(Fe)(...$n))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$1q)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString$1(unref(kt)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:z.value,"min-date":unref(re),"max-date":unref(oe),"range-state":unref(ae),"disabled-date":unref($),onChangerange:unref(pe),onPick:jt,onSelect:unref($e)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(de).e("content"),unref(ue).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(ue).e("header"))},[En.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(xn),class:normalizeClass([[unref(de).e("icon-btn"),{"is-disabled":!unref(xn)}],"d-arrow-left"]),onClick:Bn[2]||(Bn[2]=(...$n)=>unref(Ue)&&unref(Ue)(...$n))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_3$P)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(de).e("icon-btn"),"d-arrow-right"]),onClick:Bn[3]||(Bn[3]=(...$n)=>unref(_e)&&unref(_e)(...$n))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString$1(unref(Lt)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:j.value,"min-date":unref(re),"max-date":unref(oe),"range-state":unref(ae),"disabled-date":unref($),onChangerange:unref(pe),onPick:jt,onSelect:unref($e)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc$1(_sfc_main$2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const getPanel$1=function(n){switch(n){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData);dayjs.extend(advancedFormat);dayjs.extend(customParseFormat);dayjs.extend(weekOfYear);dayjs.extend(weekYear);dayjs.extend(dayOfYear);dayjs.extend(isSameOrAfter);dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:["update:modelValue"],setup(n,{expose:e,emit:r,slots:g}){const y=useNamespace("picker-panel");provide("ElPopperOptions",reactive(toRef(n,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:g,pickerNs:y});const k=ref();e({focus:(L=!0)=>{var z;(z=k.value)==null||z.focus(L)},handleOpen:()=>{var L;(L=k.value)==null||L.handleOpen()},handleClose:()=>{var L;(L=k.value)==null||L.handleClose()}});const V=L=>{r("update:modelValue",L)};return()=>{var L;const z=(L=n.format)!=null?L:DEFAULT_FORMATS_DATEPICKER[n.type]||DEFAULT_FORMATS_DATE,j=getPanel$1(n.type);return createVNode(CommonPicker,mergeProps(n,{format:z,type:n.type,ref:k,"onUpdate:modelValue":V}),{default:re=>createVNode(j,re,null),"range-separator":g["range-separator"]})}}});const _DatePicker=DatePicker;_DatePicker.install=n=>{n.component(_DatePicker.name,_DatePicker)};const ElDatePicker=_DatePicker,descriptionsKey=Symbol("elDescriptions");var ElDescriptionsCell=defineComponent({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:inject(descriptionsKey,{})}},render(){var n,e,r,g,y,k;const $=getNormalizedProps(this.cell),{border:V,direction:L}=this.descriptions,z=L==="vertical",j=((r=(e=(n=this.cell)==null?void 0:n.children)==null?void 0:e.label)==null?void 0:r.call(e))||$.label,re=(k=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.default)==null?void 0:k.call(y),oe=$.span,ae=$.align?`is-${$.align}`:"",de=$.labelAlign?`is-${$.labelAlign}`:ae,ue=$.className,pe=$.labelClassName,he={width:addUnit($.width),minWidth:addUnit($.minWidth)},xe=useNamespace("descriptions");switch(this.type){case"label":return h$1(this.tag,{style:he,class:[xe.e("cell"),xe.e("label"),xe.is("bordered-label",V),xe.is("vertical-label",z),de,pe],colSpan:z?oe:1},j);case"content":return h$1(this.tag,{style:he,class:[xe.e("cell"),xe.e("content"),xe.is("bordered-content",V),xe.is("vertical-content",z),ae,ue],colSpan:z?oe:oe*2-1},re);default:return h$1("td",{style:he,class:[xe.e("cell"),ae],colSpan:oe},[isNil(j)?void 0:h$1("span",{class:[xe.e("label"),pe]},j),h$1("span",{class:[xe.e("content"),ue]},re)])}}});const descriptionsRowProps=buildProps({row:{type:Array,default:()=>[]}}),_hoisted_1$1I={key:1},__default__$Q=defineComponent({name:"ElDescriptionsRow"}),_sfc_main$2m=defineComponent({...__default__$Q,props:descriptionsRowProps,setup(n){const e=inject(descriptionsKey,{});return(r,g)=>unref(e).direction==="vertical"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,k)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr1-${k}`,cell:y,tag:"th",type:"label"},null,8,["cell"]))),128))]),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,k)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr2-${k}`,cell:y,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(openBlock(),createElementBlock("tr",_hoisted_1$1I,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,k)=>(openBlock(),createElementBlock(Fragment,{key:`tr3-${k}`},[unref(e).border?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(ElDescriptionsCell),{cell:y,tag:"td",type:"label"},null,8,["cell"]),createVNode(unref(ElDescriptionsCell),{cell:y,tag:"td",type:"content"},null,8,["cell"])],64)):(openBlock(),createBlock(unref(ElDescriptionsCell),{key:1,cell:y,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ElDescriptionsRow=_export_sfc$1(_sfc_main$2m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const descriptionProps=buildProps({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:useSizeProp,title:{type:String,default:""},extra:{type:String,default:""}}),__default__$P=defineComponent({name:"ElDescriptions"}),_sfc_main$2l=defineComponent({...__default__$P,props:descriptionProps,setup(n){const e=n,r=useNamespace("descriptions"),g=useFormSize(),y=useSlots();provide(descriptionsKey,e);const k=computed(()=>[r.b(),r.m(g.value)]),$=(L,z,j,re=!1)=>(L.props||(L.props={}),z>j&&(L.props.span=j),re&&(L.props.span=z),L),V=()=>{var L;const z=flattedChildren((L=y.default)==null?void 0:L.call(y)).filter(de=>{var ue;return((ue=de?.type)==null?void 0:ue.name)==="ElDescriptionsItem"}),j=[];let re=[],oe=e.column,ae=0;return z.forEach((de,ue)=>{var pe;const he=((pe=de.props)==null?void 0:pe.span)||1;if(ue<z.length-1&&(ae+=he>oe?oe:he),ue===z.length-1){const xe=e.column-ae%e.column;re.push($(de,xe,oe,!0)),j.push(re);return}he<oe?(oe-=he,re.push(de)):(re.push($(de,he,oe)),j.push(re),oe=e.column,re=[])}),j};return(L,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(k))},[L.title||L.extra||L.$slots.title||L.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(r).e("title"))},[renderSlot(L.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(L.title),1)])],2),createBaseVNode("div",{class:normalizeClass(unref(r).e("extra"))},[renderSlot(L.$slots,"extra",{},()=>[createTextVNode(toDisplayString$1(L.extra),1)])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("body"))},[createBaseVNode("table",{class:normalizeClass([unref(r).e("table"),unref(r).is("bordered",L.border)])},[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(V(),(j,re)=>(openBlock(),createBlock(ElDescriptionsRow,{key:re,row:j},null,8,["row"]))),128))])],2)],2)],2))}});var Descriptions=_export_sfc$1(_sfc_main$2l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),DescriptionsItem=defineComponent({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const ElDescriptions=withInstall(Descriptions,{DescriptionsItem}),ElDescriptionsItem=withNoopInstall(DescriptionsItem),overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:n=>n instanceof MouseEvent},BLOCK="overlay";var Overlay$1=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(n,{slots:e,emit:r}){const g=useNamespace(BLOCK),y=L=>{r("click",L)},{onClick:k,onMousedown:$,onMouseup:V}=useSameTarget(n.customMaskEvent?void 0:y);return()=>n.mask?createVNode("div",{class:[g.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:k,onMousedown:$,onMouseup:V},[renderSlot(e,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(e,"default")])}});const ElOverlay=Overlay$1,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},_hoisted_1$1H=["aria-level"],_hoisted_2$1p=["aria-label"],_hoisted_3$O=["id"],__default__$O=defineComponent({name:"ElDialogContent"}),_sfc_main$2k=defineComponent({...__default__$O,props:dialogContentProps,emits:dialogContentEmits,setup(n){const e=n,{t:r}=useLocale(),{Close:g}=CloseComponents,{dialogRef:y,headerRef:k,bodyId:$,ns:V,style:L}=inject(dialogInjectionKey),{focusTrapRef:z}=inject(FOCUS_TRAP_INJECTION_KEY),j=computed(()=>[V.b(),V.is("fullscreen",e.fullscreen),V.is("draggable",e.draggable),V.is("align-center",e.alignCenter),{[V.m("center")]:e.center},e.customClass]),re=composeRefs(z,y),oe=computed(()=>e.draggable);return useDraggable(y,k,oe),(ae,de)=>(openBlock(),createElementBlock("div",{ref:unref(re),class:normalizeClass(unref(j)),style:normalizeStyle(unref(L)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:k,class:normalizeClass(unref(V).e("header"))},[renderSlot(ae.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":ae.ariaLevel,class:normalizeClass(unref(V).e("title"))},toDisplayString$1(ae.title),11,_hoisted_1$1H)]),ae.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(r)("el.dialog.close"),class:normalizeClass(unref(V).e("headerbtn")),type:"button",onClick:de[0]||(de[0]=ue=>ae.$emit("close"))},[createVNode(unref(ElIcon),{class:normalizeClass(unref(V).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ae.closeIcon||unref(g))))]),_:1},8,["class"])],10,_hoisted_2$1p)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref($),class:normalizeClass(unref(V).e("body"))},[renderSlot(ae.$slots,"default")],10,_hoisted_3$O),ae.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(unref(V).e("footer"))},[renderSlot(ae.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc$1(_sfc_main$2k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:n=>isBoolean$1(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useDialog=(n,e)=>{const g=getCurrentInstance().emit,{nextZIndex:y}=useZIndex();let k="";const $=useId(),V=useId(),L=ref(!1),z=ref(!1),j=ref(!1),re=ref(n.zIndex||y());let oe,ae;const de=useGlobalConfig("namespace",defaultNamespace),ue=computed(()=>{const jt={},An=`--${de.value}-dialog`;return n.fullscreen||(n.top&&(jt[`${An}-margin-top`]=n.top),n.width&&(jt[`${An}-width`]=addUnit(n.width))),jt}),pe=computed(()=>n.alignCenter?{display:"flex"}:{});function he(){g("opened")}function xe(){g("closed"),g(UPDATE_MODEL_EVENT,!1),n.destroyOnClose&&(j.value=!1)}function $e(){g("close")}function Ne(){ae?.(),oe?.(),n.openDelay&&n.openDelay>0?{stop:oe}=useTimeoutFn(()=>Ue(),n.openDelay):Ue()}function Oe(){oe?.(),ae?.(),n.closeDelay&&n.closeDelay>0?{stop:ae}=useTimeoutFn(()=>kt(),n.closeDelay):kt()}function _e(){function jt(An){An||(z.value=!0,L.value=!1)}n.beforeClose?n.beforeClose(jt):Oe()}function Fe(){n.closeOnClickModal&&_e()}function Ue(){isClient&&(L.value=!0)}function kt(){L.value=!1}function Lt(){g("openAutoFocus")}function wn(){g("closeAutoFocus")}function Et(jt){var An;((An=jt.detail)==null?void 0:An.focusReason)==="pointer"&&jt.preventDefault()}n.lockScroll&&useLockscreen(L);function xn(){n.closeOnPressEscape&&_e()}return watch(()=>n.modelValue,jt=>{jt?(z.value=!1,Ne(),j.value=!0,re.value=n.zIndex?re.value++:y(),nextTick(()=>{g("open"),e.value&&(e.value.scrollTop=0)})):L.value&&Oe()}),watch(()=>n.fullscreen,jt=>{e.value&&(jt?(k=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=k)}),onMounted(()=>{n.modelValue&&(L.value=!0,j.value=!0,Ne())}),{afterEnter:he,afterLeave:xe,beforeLeave:$e,handleClose:_e,onModalClick:Fe,close:Oe,doClose:kt,onOpenAutoFocus:Lt,onCloseAutoFocus:wn,onCloseRequested:xn,onFocusoutPrevented:Et,titleId:$,bodyId:V,closed:z,style:ue,overlayDialogStyle:pe,rendered:j,visible:L,zIndex:re}},_hoisted_1$1G=["aria-label","aria-labelledby","aria-describedby"],__default__$N=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$2j=defineComponent({...__default__$N,props:dialogProps,emits:dialogEmits,setup(n,{expose:e}){const r=n,g=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!g.title)),useDeprecated({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},computed(()=>!!r.customClass));const y=useNamespace("dialog"),k=ref(),$=ref(),V=ref(),{visible:L,titleId:z,bodyId:j,style:re,overlayDialogStyle:oe,rendered:ae,zIndex:de,afterEnter:ue,afterLeave:pe,beforeLeave:he,handleClose:xe,onModalClick:$e,onOpenAutoFocus:Ne,onCloseAutoFocus:Oe,onCloseRequested:_e,onFocusoutPrevented:Fe}=useDialog(r,k);provide(dialogInjectionKey,{dialogRef:k,headerRef:$,bodyId:j,ns:y,rendered:ae,style:re});const Ue=useSameTarget($e),kt=computed(()=>r.draggable&&!r.fullscreen);return e({visible:L,dialogContentRef:V}),(Lt,wn)=>(openBlock(),createBlock(Teleport,{to:"body",disabled:!Lt.appendToBody},[createVNode(Transition,{name:"dialog-fade",onAfterEnter:unref(ue),onAfterLeave:unref(pe),onBeforeLeave:unref(he),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(unref(ElOverlay),{"custom-mask-event":"",mask:Lt.modal,"overlay-class":Lt.modalClass,"z-index":unref(de)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":Lt.title||void 0,"aria-labelledby":Lt.title?void 0:unref(z),"aria-describedby":unref(j),class:normalizeClass(`${unref(y).namespace.value}-overlay-dialog`),style:normalizeStyle(unref(oe)),onClick:wn[0]||(wn[0]=(...Et)=>unref(Ue).onClick&&unref(Ue).onClick(...Et)),onMousedown:wn[1]||(wn[1]=(...Et)=>unref(Ue).onMousedown&&unref(Ue).onMousedown(...Et)),onMouseup:wn[2]||(wn[2]=(...Et)=>unref(Ue).onMouseup&&unref(Ue).onMouseup(...Et))},[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(L),"focus-start-el":"container",onFocusAfterTrapped:unref(Ne),onFocusAfterReleased:unref(Oe),onFocusoutPrevented:unref(Fe),onReleaseRequested:unref(_e)},{default:withCtx(()=>[unref(ae)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:V},Lt.$attrs,{"custom-class":Lt.customClass,center:Lt.center,"align-center":Lt.alignCenter,"close-icon":Lt.closeIcon,draggable:unref(kt),fullscreen:Lt.fullscreen,"show-close":Lt.showClose,title:Lt.title,"aria-level":Lt.headerAriaLevel,onClose:unref(xe)}),createSlots({header:withCtx(()=>[Lt.$slots.title?renderSlot(Lt.$slots,"title",{key:1}):renderSlot(Lt.$slots,"header",{key:0,close:unref(xe),titleId:unref(z),titleClass:unref(y).e("title")})]),default:withCtx(()=>[renderSlot(Lt.$slots,"default")]),_:2},[Lt.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(Lt.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,_hoisted_1$1G)]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(L)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Dialog=_export_sfc$1(_sfc_main$2j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),__default__$M=defineComponent({name:"ElDivider"}),_sfc_main$2i=defineComponent({...__default__$M,props:dividerProps,setup(n){const e=n,r=useNamespace("divider"),g=computed(()=>r.cssVar({"border-style":e.borderStyle}));return(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(y.direction)]),style:normalizeStyle(unref(g)),role:"separator"},[y.$slots.default&&y.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("text"),unref(r).is(y.contentPosition)])},[renderSlot(y.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc$1(_sfc_main$2i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const ElDivider=withInstall(Divider),drawerProps=buildProps({...dialogProps,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),drawerEmits=dialogEmits,_sfc_main$2h=defineComponent({name:"ElDrawer",components:{ElOverlay,ElFocusTrap,ElIcon,Close:close_default},inheritAttrs:!1,props:drawerProps,emits:drawerEmits,setup(n,{slots:e}){useDeprecated({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},computed(()=>!!e.title)),useDeprecated({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},computed(()=>!!n.customClass));const r=ref(),g=ref(),y=useNamespace("drawer"),{t:k}=useLocale(),$=computed(()=>n.direction==="rtl"||n.direction==="ltr"),V=computed(()=>addUnit(n.size));return{...useDialog(n,r),drawerRef:r,focusStartRef:g,isHorizontal:$,drawerSize:V,ns:y,t:k}}}),_hoisted_1$1F=["aria-label","aria-labelledby","aria-describedby"],_hoisted_2$1o=["id","aria-level"],_hoisted_3$N=["aria-label"],_hoisted_4$H=["id"];function _sfc_render$o(n,e,r,g,y,k){const $=resolveComponent("close"),V=resolveComponent("el-icon"),L=resolveComponent("el-focus-trap"),z=resolveComponent("el-overlay");return openBlock(),createBlock(Teleport,{to:"body",disabled:!n.appendToBody},[createVNode(Transition,{name:n.ns.b("fade"),onAfterEnter:n.afterEnter,onAfterLeave:n.afterLeave,onBeforeLeave:n.beforeLeave,persisted:""},{default:withCtx(()=>[withDirectives(createVNode(z,{mask:n.modal,"overlay-class":n.modalClass,"z-index":n.zIndex,onClick:n.onModalClick},{default:withCtx(()=>[createVNode(L,{loop:"",trapped:n.visible,"focus-trap-el":n.drawerRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",mergeProps({ref:"drawerRef","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:n.titleId,"aria-describedby":n.bodyId},n.$attrs,{class:[n.ns.b(),n.direction,n.visible&&"open",n.customClass],style:n.isHorizontal?"width: "+n.drawerSize:"height: "+n.drawerSize,role:"dialog",onClick:e[1]||(e[1]=withModifiers(()=>{},["stop"]))}),[createBaseVNode("span",{ref:"focusStartRef",class:normalizeClass(n.ns.e("sr-focus")),tabindex:"-1"},null,2),n.withHeader?(openBlock(),createElementBlock("header",{key:0,class:normalizeClass(n.ns.e("header"))},[n.$slots.title?renderSlot(n.$slots,"title",{key:1},()=>[createCommentVNode(" DEPRECATED SLOT ")]):renderSlot(n.$slots,"header",{key:0,close:n.handleClose,titleId:n.titleId,titleClass:n.ns.e("title")},()=>[n.$slots.title?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,id:n.titleId,role:"heading","aria-level":n.headerAriaLevel,class:normalizeClass(n.ns.e("title"))},toDisplayString$1(n.title),11,_hoisted_2$1o))]),n.showClose?(openBlock(),createElementBlock("button",{key:2,"aria-label":n.t("el.drawer.close"),class:normalizeClass(n.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...j)=>n.handleClose&&n.handleClose(...j))},[createVNode(V,{class:normalizeClass(n.ns.e("close"))},{default:withCtx(()=>[createVNode($)]),_:1},8,["class"])],10,_hoisted_3$N)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),n.rendered?(openBlock(),createElementBlock("div",{key:1,id:n.bodyId,class:normalizeClass(n.ns.e("body"))},[renderSlot(n.$slots,"default")],10,_hoisted_4$H)):createCommentVNode("v-if",!0),n.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(n.ns.e("footer"))},[renderSlot(n.$slots,"footer")],2)):createCommentVNode("v-if",!0)],16,_hoisted_1$1F)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vShow,n.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Drawer=_export_sfc$1(_sfc_main$2h,[["render",_sfc_render$o],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const ElDrawer=withInstall(Drawer),_sfc_main$2g=defineComponent({inheritAttrs:!1});function _sfc_render$n(n,e,r,g,y,k){return renderSlot(n.$slots,"default")}var Collection=_export_sfc$1(_sfc_main$2g,[["render",_sfc_render$n],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const _sfc_main$2f=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$m(n,e,r,g,y,k){return renderSlot(n.$slots,"default")}var CollectionItem=_export_sfc$1(_sfc_main$2f,[["render",_sfc_render$m],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=n=>{const e=`El${n}Collection`,r=`${e}Item`,g=Symbol(e),y=Symbol(r),k={...Collection,name:e,setup(){const V=ref(null),L=new Map;provide(g,{itemMap:L,getItems:()=>{const j=unref(V);if(!j)return[];const re=Array.from(j.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...L.values()].sort((ae,de)=>re.indexOf(ae.ref)-re.indexOf(de.ref))},collectionRef:V})}},$={...CollectionItem,name:r,setup(V,{attrs:L}){const z=ref(null),j=inject(g,void 0);provide(y,{collectionItemRef:z}),onMounted(()=>{const re=unref(z);re&&j.itemMap.set(re,{ref:re,...L})}),onBeforeUnmount(()=>{const re=unref(z);j.itemMap.delete(re)})}};return{COLLECTION_INJECTION_KEY:g,COLLECTION_ITEM_INJECTION_KEY:y,ElCollection:k,ElCollectionItem:$}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(n,e)=>{if(e!=="rtl")return n;switch(n){case EVENT_CODE.right:return EVENT_CODE.left;case EVENT_CODE.left:return EVENT_CODE.right;default:return n}},getFocusIntent=(n,e,r)=>{const g=getDirectionAwareKey(n.key,r);if(!(e==="vertical"&&[EVENT_CODE.left,EVENT_CODE.right].includes(g))&&!(e==="horizontal"&&[EVENT_CODE.up,EVENT_CODE.down].includes(g)))return MAP_KEY_TO_FOCUS_INTENT[g]},reorderArray=(n,e)=>n.map((r,g)=>n[(g+e)%n.length]),focusFirst=n=>{const{activeElement:e}=document;for(const r of n)if(r===e||(r.focus(),e!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$2e=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(n,{emit:e}){var r;const g=ref((r=n.currentTabId||n.defaultCurrentTabId)!=null?r:null),y=ref(!1),k=ref(!1),$=ref(null),{getItems:V}=inject(COLLECTION_INJECTION_KEY$1,void 0),L=computed(()=>[{outline:"none"},n.style]),z=ue=>{e(CURRENT_TAB_ID_CHANGE_EVT,ue)},j=()=>{y.value=!0},re=composeEventHandlers(ue=>{var pe;(pe=n.onMousedown)==null||pe.call(n,ue)},()=>{k.value=!0}),oe=composeEventHandlers(ue=>{var pe;(pe=n.onFocus)==null||pe.call(n,ue)},ue=>{const pe=!unref(k),{target:he,currentTarget:xe}=ue;if(he===xe&&pe&&!unref(y)){const $e=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(xe?.dispatchEvent($e),!$e.defaultPrevented){const Ne=V().filter(kt=>kt.focusable),Oe=Ne.find(kt=>kt.active),_e=Ne.find(kt=>kt.id===unref(g)),Ue=[Oe,_e,...Ne].filter(Boolean).map(kt=>kt.ref);focusFirst(Ue)}}k.value=!1}),ae=composeEventHandlers(ue=>{var pe;(pe=n.onBlur)==null||pe.call(n,ue)},()=>{y.value=!1}),de=(...ue)=>{e("entryFocus",...ue)};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(g),loop:toRef(n,"loop"),tabIndex:computed(()=>unref(y)?-1:0),rovingFocusGroupRef:$,rovingFocusGroupRootStyle:L,orientation:toRef(n,"orientation"),dir:toRef(n,"dir"),onItemFocus:z,onItemShiftTab:j,onBlur:ae,onFocus:oe,onMousedown:re}),watch(()=>n.currentTabId,ue=>{g.value=ue??null}),useEventListener($,ENTRY_FOCUS_EVT,de)}});function _sfc_render$l(n,e,r,g,y,k){return renderSlot(n.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc$1(_sfc_main$2e,[["render",_sfc_render$l],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const _sfc_main$2d=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl}});function _sfc_render$k(n,e,r,g,y,k){const $=resolveComponent("el-roving-focus-group-impl"),V=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(V,null,{default:withCtx(()=>[createVNode($,normalizeProps(guardReactiveProps(n.$attrs)),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc$1(_sfc_main$2d,[["render",_sfc_render$k],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const _sfc_main$2c=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:r,loop:g,onItemFocus:y,onItemShiftTab:k}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:$}=inject(COLLECTION_INJECTION_KEY$1,void 0),V=useId(),L=ref(null),z=composeEventHandlers(ae=>{e("mousedown",ae)},ae=>{n.focusable?y(unref(V)):ae.preventDefault()}),j=composeEventHandlers(ae=>{e("focus",ae)},()=>{y(unref(V))}),re=composeEventHandlers(ae=>{e("keydown",ae)},ae=>{const{key:de,shiftKey:ue,target:pe,currentTarget:he}=ae;if(de===EVENT_CODE.tab&&ue){k();return}if(pe!==he)return;const xe=getFocusIntent(ae);if(xe){ae.preventDefault();let Ne=$().filter(Oe=>Oe.focusable).map(Oe=>Oe.ref);switch(xe){case"last":{Ne.reverse();break}case"prev":case"next":{xe==="prev"&&Ne.reverse();const Oe=Ne.indexOf(he);Ne=g.value?reorderArray(Ne,Oe+1):Ne.slice(Oe+1);break}}nextTick(()=>{focusFirst(Ne)})}}),oe=computed(()=>r.value===unref(V));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:L,tabIndex:computed(()=>unref(oe)?0:-1),handleMousedown:z,handleFocus:j,handleKeydown:re}),{id:V,handleKeydown:re,handleFocus:j,handleMousedown:z}}});function _sfc_render$j(n,e,r,g,y,k){const $=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock($,{id:n.id,focusable:n.focusable,active:n.active},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc$1(_sfc_main$2c,[["render",_sfc_render$j],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$2b=defineComponent({name:"ElDropdown",components:{ElButton,ElButtonGroup,ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip,ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(n,{emit:e}){const r=getCurrentInstance(),g=useNamespace("dropdown"),{t:y}=useLocale(),k=ref(),$=ref(),V=ref(null),L=ref(null),z=ref(null),j=ref(null),re=ref(!1),oe=[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.down],ae=computed(()=>({maxHeight:addUnit(n.maxHeight)})),de=computed(()=>[g.m(Oe.value)]),ue=computed(()=>castArray$1(n.trigger)),pe=useId().value,he=computed(()=>n.id||pe);watch([k,ue],([En,Bn],[$n])=>{var Wn,Gn,Nn;(Wn=$n?.$el)!=null&&Wn.removeEventListener&&$n.$el.removeEventListener("pointerenter",Fe),(Gn=En?.$el)!=null&&Gn.removeEventListener&&En.$el.removeEventListener("pointerenter",Fe),(Nn=En?.$el)!=null&&Nn.addEventListener&&Bn.includes("hover")&&En.$el.addEventListener("pointerenter",Fe)},{immediate:!0}),onBeforeUnmount(()=>{var En,Bn;(Bn=(En=k.value)==null?void 0:En.$el)!=null&&Bn.removeEventListener&&k.value.$el.removeEventListener("pointerenter",Fe)});function xe(){$e()}function $e(){var En;(En=V.value)==null||En.onClose()}function Ne(){var En;(En=V.value)==null||En.onOpen()}const Oe=useFormSize();function _e(...En){e("command",...En)}function Fe(){var En,Bn;(Bn=(En=k.value)==null?void 0:En.$el)==null||Bn.focus()}function Ue(){}function kt(){const En=unref(L);ue.value.includes("hover")&&En?.focus(),j.value=null}function Lt(En){j.value=En}function wn(En){re.value||(En.preventDefault(),En.stopImmediatePropagation())}function Et(){e("visible-change",!0)}function xn(En){En?.type==="keydown"&&L.value.focus()}function jt(){e("visible-change",!1)}return provide(DROPDOWN_INJECTION_KEY,{contentRef:L,role:computed(()=>n.role),triggerId:he,isUsingKeyboard:re,onItemEnter:Ue,onItemLeave:kt}),provide("elDropdown",{instance:r,dropdownSize:Oe,handleClick:xe,commandHandler:_e,trigger:toRef(n,"trigger"),hideOnClick:toRef(n,"hideOnClick")}),{t:y,ns:g,scrollbar:z,wrapStyle:ae,dropdownTriggerKls:de,dropdownSize:Oe,triggerId:he,triggerKeys:oe,currentTabId:j,handleCurrentTabIdChange:Lt,handlerMainButtonClick:En=>{e("click",En)},handleEntryFocus:wn,handleClose:$e,handleOpen:Ne,handleBeforeShowTooltip:Et,handleShowTooltip:xn,handleBeforeHideTooltip:jt,onFocusAfterTrapped:En=>{var Bn,$n;En.preventDefault(),($n=(Bn=L.value)==null?void 0:Bn.focus)==null||$n.call(Bn,{preventScroll:!0})},popperRef:V,contentRef:L,triggeringElementRef:k,referenceElementRef:$}}});function _sfc_render$i(n,e,r,g,y,k){var $;const V=resolveComponent("el-dropdown-collection"),L=resolveComponent("el-roving-focus-group"),z=resolveComponent("el-scrollbar"),j=resolveComponent("el-only-child"),re=resolveComponent("el-tooltip"),oe=resolveComponent("el-button"),ae=resolveComponent("arrow-down"),de=resolveComponent("el-icon"),ue=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b(),n.ns.is("disabled",n.disabled)])},[createVNode(re,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":($=n.referenceElementRef)==null?void 0:$.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},createSlots({content:withCtx(()=>[createVNode(z,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:withCtx(()=>[createVNode(L,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[renderSlot(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:withCtx(()=>[createVNode(j,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(openBlock(),createBlock(ue,{key:0},{default:withCtx(()=>[createVNode(oe,mergeProps({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode(oe,mergeProps({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:withCtx(()=>[createVNode(de,{class:normalizeClass(n.ns.e("icon"))},{default:withCtx(()=>[createVNode(ae)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc$1(_sfc_main$2b,[["render",_sfc_render$i],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const _sfc_main$2a=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const r=useNamespace("dropdown"),{role:g}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:y}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:k}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:$,tabIndex:V,handleFocus:L,handleKeydown:z,handleMousedown:j}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),re=composeRefs(y,k,$),oe=computed(()=>g.value==="menu"?"menuitem":g.value==="navigation"?"link":"button"),ae=composeEventHandlers(de=>{const{code:ue}=de;if(ue===EVENT_CODE.enter||ue===EVENT_CODE.space)return de.preventDefault(),de.stopImmediatePropagation(),e("clickimpl",de),!0},z);return{ns:r,itemRef:re,dataset:{[COLLECTION_ITEM_SIGN]:""},role:oe,tabIndex:V,handleFocus:L,handleKeydown:ae,handleMousedown:j}}}),_hoisted_1$1E=["aria-disabled","tabindex","role"];function _sfc_render$h(n,e,r,g,y,k){const $=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[n.divided?(openBlock(),createElementBlock("li",mergeProps({key:0,role:"separator",class:n.ns.bem("menu","item","divided")},n.$attrs),null,16)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:e[0]||(e[0]=V=>n.$emit("clickimpl",V)),onFocus:e[1]||(e[1]=(...V)=>n.handleFocus&&n.handleFocus(...V)),onKeydown:e[2]||(e[2]=withModifiers((...V)=>n.handleKeydown&&n.handleKeydown(...V),["self"])),onMousedown:e[3]||(e[3]=(...V)=>n.handleMousedown&&n.handleMousedown(...V)),onPointermove:e[4]||(e[4]=V=>n.$emit("pointermove",V)),onPointerleave:e[5]||(e[5]=V=>n.$emit("pointerleave",V))}),[n.icon?(openBlock(),createBlock($,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(n.$slots,"default")],16,_hoisted_1$1E)],64)}var ElDropdownItemImpl=_export_sfc$1(_sfc_main$2a,[["render",_sfc_render$h],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const useDropdown=()=>{const n=inject("elDropdown",{}),e=computed(()=>n?.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},_sfc_main$29=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:r}){const{elDropdown:g}=useDropdown(),y=getCurrentInstance(),k=ref(null),$=computed(()=>{var ae,de;return(de=(ae=unref(k))==null?void 0:ae.textContent)!=null?de:""}),{onItemEnter:V,onItemLeave:L}=inject(DROPDOWN_INJECTION_KEY,void 0),z=composeEventHandlers(ae=>(e("pointermove",ae),ae.defaultPrevented),whenMouse(ae=>{if(n.disabled){L(ae);return}const de=ae.currentTarget;de===document.activeElement||de.contains(document.activeElement)||(V(ae),ae.defaultPrevented||de?.focus())})),j=composeEventHandlers(ae=>(e("pointerleave",ae),ae.defaultPrevented),whenMouse(ae=>{L(ae)})),re=composeEventHandlers(ae=>{if(!n.disabled)return e("click",ae),ae.type!=="keydown"&&ae.defaultPrevented},ae=>{var de,ue,pe;if(n.disabled){ae.stopImmediatePropagation();return}(de=g?.hideOnClick)!=null&&de.value&&((ue=g.handleClick)==null||ue.call(g)),(pe=g.commandHandler)==null||pe.call(g,n.command,y,ae)}),oe=computed(()=>({...n,...r}));return{handleClick:re,handlePointerMove:z,handlePointerLeave:j,textContent:$,propsAndAttrs:oe}}});function _sfc_render$g(n,e,r,g,y,k){var $;const V=resolveComponent("el-dropdown-item-impl"),L=resolveComponent("el-roving-focus-item"),z=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(z,{disabled:n.disabled,"text-value":($=n.textValue)!=null?$:n.textContent},{default:withCtx(()=>[createVNode(L,{focusable:!n.disabled},{default:withCtx(()=>[createVNode(V,mergeProps(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc$1(_sfc_main$29,[["render",_sfc_render$g],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const _sfc_main$28=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(n){const e=useNamespace("dropdown"),{_elDropdownSize:r}=useDropdown(),g=r.value,{focusTrapRef:y,onKeydown:k}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:$,role:V,triggerId:L}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:z,getItems:j}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:re,rovingFocusGroupRootStyle:oe,tabIndex:ae,onBlur:de,onFocus:ue,onMousedown:pe}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:he}=inject(COLLECTION_INJECTION_KEY$1,void 0),xe=computed(()=>[e.b("menu"),e.bm("menu",g?.value)]),$e=composeRefs($,z,y,re,he),Ne=composeEventHandlers(_e=>{var Fe;(Fe=n.onKeydown)==null||Fe.call(n,_e)},_e=>{const{currentTarget:Fe,code:Ue,target:kt}=_e;if(Fe.contains(kt),EVENT_CODE.tab===Ue&&_e.stopImmediatePropagation(),_e.preventDefault(),kt!==unref($)||!FIRST_LAST_KEYS.includes(Ue))return;const wn=j().filter(Et=>!Et.disabled).map(Et=>Et.ref);LAST_KEYS.includes(Ue)&&wn.reverse(),focusFirst(wn)});return{size:g,rovingFocusGroupRootStyle:oe,tabIndex:ae,dropdownKls:xe,role:V,triggerId:L,dropdownListWrapperRef:$e,handleKeydown:_e=>{Ne(_e),k(_e)},onBlur:de,onFocus:ue,onMousedown:pe}}}),_hoisted_1$1D=["role","aria-labelledby"];function _sfc_render$f(n,e,r,g,y,k){return openBlock(),createElementBlock("ul",{ref:n.dropdownListWrapperRef,class:normalizeClass(n.dropdownKls),style:normalizeStyle(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:e[0]||(e[0]=(...$)=>n.onBlur&&n.onBlur(...$)),onFocus:e[1]||(e[1]=(...$)=>n.onFocus&&n.onFocus(...$)),onKeydown:e[2]||(e[2]=withModifiers((...$)=>n.handleKeydown&&n.handleKeydown(...$),["self"])),onMousedown:e[3]||(e[3]=withModifiers((...$)=>n.onMousedown&&n.onMousedown(...$),["self"]))},[renderSlot(n.$slots,"default")],46,_hoisted_1$1D)}var DropdownMenu=_export_sfc$1(_sfc_main$28,[["render",_sfc_render$f],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),_hoisted_1$1C={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_hoisted_2$1n=["id"],_hoisted_3$M=["stop-color"],_hoisted_4$G=["stop-color"],_hoisted_5$B=["id"],_hoisted_6$w=["stop-color"],_hoisted_7$r=["stop-color"],_hoisted_8$q=["id"],_hoisted_9$q={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_hoisted_10$o={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},_hoisted_11$n={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},_hoisted_12$k=["fill"],_hoisted_13$k=["fill"],_hoisted_14$k={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},_hoisted_15$h=["fill"],_hoisted_16$f=["fill"],_hoisted_17$d=["fill"],_hoisted_18$c=["fill"],_hoisted_19$c=["fill"],_hoisted_20$c={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},_hoisted_21$a=["fill","xlink:href"],_hoisted_22$8=["fill","mask"],_hoisted_23$8=["fill"],__default__$L=defineComponent({name:"ImgEmpty"}),_sfc_main$27=defineComponent({...__default__$L,setup(n){const e=useNamespace("empty"),r=useId();return(g,y)=>(openBlock(),createElementBlock("svg",_hoisted_1$1C,[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:`linearGradient-1-${unref(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_3$M),createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,_hoisted_4$G)],8,_hoisted_2$1n),createBaseVNode("linearGradient",{id:`linearGradient-2-${unref(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_6$w),createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,_hoisted_7$r)],8,_hoisted_5$B),createBaseVNode("rect",{id:`path-3-${unref(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,_hoisted_8$q)]),createBaseVNode("g",_hoisted_9$q,[createBaseVNode("g",_hoisted_10$o,[createBaseVNode("g",_hoisted_11$n,[createBaseVNode("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${unref(e).cssVarBlockName("fill-color-3")})`},null,8,_hoisted_12$k),createBaseVNode("polygon",{id:"Rectangle-Copy-14",fill:`var(${unref(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,_hoisted_13$k),createBaseVNode("g",_hoisted_14$k,[createBaseVNode("polygon",{id:"Rectangle-Copy-10",fill:`var(${unref(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,_hoisted_15$h),createBaseVNode("polygon",{id:"Rectangle-Copy-11",fill:`var(${unref(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,_hoisted_16$f),createBaseVNode("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${unref(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,_hoisted_17$d),createBaseVNode("polygon",{id:"Rectangle-Copy-13",fill:`var(${unref(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,_hoisted_18$c)]),createBaseVNode("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${unref(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,_hoisted_19$c),createBaseVNode("g",_hoisted_20$c,[createBaseVNode("use",{id:"Mask",fill:`var(${unref(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${unref(r)}`},null,8,_hoisted_21$a),createBaseVNode("polygon",{id:"Rectangle-Copy",fill:`var(${unref(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${unref(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,_hoisted_22$8)]),createBaseVNode("polygon",{id:"Rectangle-Copy-18",fill:`var(${unref(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,_hoisted_23$8)])])])]))}});var ImgEmpty=_export_sfc$1(_sfc_main$27,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const emptyProps=buildProps({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),_hoisted_1$1B=["src"],_hoisted_2$1m={key:1},__default__$K=defineComponent({name:"ElEmpty"}),_sfc_main$26=defineComponent({...__default__$K,props:emptyProps,setup(n){const e=n,{t:r}=useLocale(),g=useNamespace("empty"),y=computed(()=>e.description||r("el.table.emptyText")),k=computed(()=>({width:addUnit(e.imageSize)}));return($,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[createBaseVNode("div",{class:normalizeClass(unref(g).e("image")),style:normalizeStyle(unref(k))},[$.image?(openBlock(),createElementBlock("img",{key:0,src:$.image,ondragstart:"return false"},null,8,_hoisted_1$1B)):renderSlot($.$slots,"image",{key:1},()=>[createVNode(ImgEmpty)])],6),createBaseVNode("div",{class:normalizeClass(unref(g).e("description"))},[$.$slots.description?renderSlot($.$slots,"description",{key:0}):(openBlock(),createElementBlock("p",_hoisted_2$1m,toDisplayString$1(unref(y)),1))],2),$.$slots.default?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("bottom"))},[renderSlot($.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var Empty=_export_sfc$1(_sfc_main$26,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const ElEmpty=withInstall(Empty),imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),imageViewerEmits={close:()=>!0,switch:n=>isNumber$1(n)},_hoisted_1$1A=["src"],__default__$J=defineComponent({name:"ElImageViewer"}),_sfc_main$25=defineComponent({...__default__$J,props:imageViewerProps,emits:imageViewerEmits,setup(n,{expose:e,emit:r}){const g=n,y={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}},{t:k}=useLocale(),$=useNamespace("image-viewer"),{nextZIndex:V}=useZIndex(),L=ref(),z=ref([]),j=effectScope(),re=ref(!0),oe=ref(g.initialIndex),ae=shallowRef(y.CONTAIN),de=ref({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),ue=computed(()=>{const{urlList:$n}=g;return $n.length<=1}),pe=computed(()=>oe.value===0),he=computed(()=>oe.value===g.urlList.length-1),xe=computed(()=>g.urlList[oe.value]),$e=computed(()=>[$.e("btn"),$.e("prev"),$.is("disabled",!g.infinite&&pe.value)]),Ne=computed(()=>[$.e("btn"),$.e("next"),$.is("disabled",!g.infinite&&he.value)]),Oe=computed(()=>{const{scale:$n,deg:Wn,offsetX:Gn,offsetY:Nn,enableTransition:Zn}=de.value;let Hn=Gn/$n,rr=Nn/$n;switch(Wn%360){case 90:case-270:[Hn,rr]=[rr,-Hn];break;case 180:case-180:[Hn,rr]=[-Hn,-rr];break;case 270:case-90:[Hn,rr]=[-rr,Hn];break}const Xn={transform:`scale(${$n}) rotate(${Wn}deg) translate(${Hn}px, ${rr}px)`,transition:Zn?"transform .3s":""};return ae.value.name===y.CONTAIN.name&&(Xn.maxWidth=Xn.maxHeight="100%"),Xn}),_e=computed(()=>isNumber$1(g.zIndex)?g.zIndex:V());function Fe(){kt(),r("close")}function Ue(){const $n=throttle(Gn=>{switch(Gn.code){case EVENT_CODE.esc:g.closeOnPressEscape&&Fe();break;case EVENT_CODE.space:jt();break;case EVENT_CODE.left:Dn();break;case EVENT_CODE.up:Bn("zoomIn");break;case EVENT_CODE.right:En();break;case EVENT_CODE.down:Bn("zoomOut");break}}),Wn=throttle(Gn=>{const Nn=Gn.deltaY||Gn.deltaX;Bn(Nn<0?"zoomIn":"zoomOut",{zoomRate:g.zoomRate,enableTransition:!1})});j.run(()=>{useEventListener(document,"keydown",$n),useEventListener(document,"wheel",Wn)})}function kt(){j.stop()}function Lt(){re.value=!1}function wn($n){re.value=!1,$n.target.alt=k("el.image.error")}function Et($n){if(re.value||$n.button!==0||!L.value)return;de.value.enableTransition=!1;const{offsetX:Wn,offsetY:Gn}=de.value,Nn=$n.pageX,Zn=$n.pageY,Hn=throttle(Xn=>{de.value={...de.value,offsetX:Wn+Xn.pageX-Nn,offsetY:Gn+Xn.pageY-Zn}}),rr=useEventListener(document,"mousemove",Hn);useEventListener(document,"mouseup",()=>{rr()}),$n.preventDefault()}function xn(){de.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function jt(){if(re.value)return;const $n=keysOf(y),Wn=Object.values(y),Gn=ae.value.name,Zn=(Wn.findIndex(Hn=>Hn.name===Gn)+1)%$n.length;ae.value=y[$n[Zn]],xn()}function An($n){const Wn=g.urlList.length;oe.value=($n+Wn)%Wn}function Dn(){pe.value&&!g.infinite||An(oe.value-1)}function En(){he.value&&!g.infinite||An(oe.value+1)}function Bn($n,Wn={}){if(re.value)return;const{zoomRate:Gn,rotateDeg:Nn,enableTransition:Zn}={zoomRate:g.zoomRate,rotateDeg:90,enableTransition:!0,...Wn};switch($n){case"zoomOut":de.value.scale>.2&&(de.value.scale=Number.parseFloat((de.value.scale/Gn).toFixed(3)));break;case"zoomIn":de.value.scale<7&&(de.value.scale=Number.parseFloat((de.value.scale*Gn).toFixed(3)));break;case"clockwise":de.value.deg+=Nn;break;case"anticlockwise":de.value.deg-=Nn;break}de.value.enableTransition=Zn}return watch(xe,()=>{nextTick(()=>{const $n=z.value[0];$n?.complete||(re.value=!0)})}),watch(oe,$n=>{xn(),r("switch",$n)}),onMounted(()=>{var $n,Wn;Ue(),(Wn=($n=L.value)==null?void 0:$n.focus)==null||Wn.call($n)}),e({setActiveItem:An}),($n,Wn)=>(openBlock(),createBlock(Teleport,{to:"body",disabled:!$n.teleported},[createVNode(Transition,{name:"viewer-fade",appear:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"wrapper",ref:L,tabindex:-1,class:normalizeClass(unref($).e("wrapper")),style:normalizeStyle({zIndex:unref(_e)})},[createBaseVNode("div",{class:normalizeClass(unref($).e("mask")),onClick:Wn[0]||(Wn[0]=withModifiers(Gn=>$n.hideOnClickModal&&Fe(),["self"]))},null,2),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref($).e("btn"),unref($).e("close")]),onClick:Fe},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],2),createCommentVNode(" ARROW "),unref(ue)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:normalizeClass(unref($e)),onClick:Dn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],2),createBaseVNode("span",{class:normalizeClass(unref(Ne)),onClick:En},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],2)],64)),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref($).e("btn"),unref($).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref($).e("actions__inner"))},[createVNode(unref(ElIcon),{onClick:Wn[1]||(Wn[1]=Gn=>Bn("zoomOut"))},{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Wn[2]||(Wn[2]=Gn=>Bn("zoomIn"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref($).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:jt},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ae).icon)))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref($).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:Wn[3]||(Wn[3]=Gn=>Bn("anticlockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_left_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Wn[4]||(Wn[4]=Gn=>Bn("clockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_right_default))]),_:1})],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref($).e("canvas"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList($n.urlList,(Gn,Nn)=>withDirectives((openBlock(),createElementBlock("img",{ref_for:!0,ref:Zn=>z.value[Nn]=Zn,key:Gn,src:Gn,style:normalizeStyle(unref(Oe)),class:normalizeClass(unref($).e("img")),onLoad:Lt,onError:wn,onMousedown:Et},null,46,_hoisted_1$1A)),[[vShow,Nn===oe.value]])),128))],2),renderSlot($n.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var ImageViewer=_export_sfc$1(_sfc_main$25,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const ElImageViewer=withInstall(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),imageEmits={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>isNumber$1(n),close:()=>!0,show:()=>!0},_hoisted_1$1z=["src","loading"],_hoisted_2$1l={key:0},__default__$I=defineComponent({name:"ElImage",inheritAttrs:!1}),_sfc_main$24=defineComponent({...__default__$I,props:imageProps,emits:imageEmits,setup(n,{emit:e}){const r=n;let g="";const{t:y}=useLocale(),k=useNamespace("image"),$=useAttrs$1(),V=useAttrs(),L=ref(),z=ref(!1),j=ref(!0),re=ref(!1),oe=ref(),ae=ref(),de=isClient&&"loading"in HTMLImageElement.prototype;let ue,pe;const he=computed(()=>[k.e("inner"),Ne.value&&k.e("preview"),j.value&&k.is("loading")]),xe=computed(()=>$.style),$e=computed(()=>{const{fit:Bn}=r;return isClient&&Bn?{objectFit:Bn}:{}}),Ne=computed(()=>{const{previewSrcList:Bn}=r;return Array.isArray(Bn)&&Bn.length>0}),Oe=computed(()=>{const{previewSrcList:Bn,initialIndex:$n}=r;let Wn=$n;return $n>Bn.length-1&&(Wn=0),Wn}),_e=computed(()=>r.loading==="eager"?!1:!de&&r.loading==="lazy"||r.lazy),Fe=()=>{isClient&&(j.value=!0,z.value=!1,L.value=r.src)};function Ue(Bn){j.value=!1,z.value=!1,e("load",Bn)}function kt(Bn){j.value=!1,z.value=!0,e("error",Bn)}function Lt(){isInContainer(oe.value,ae.value)&&(Fe(),xn())}const wn=useThrottleFn(Lt,200,!0);async function Et(){var Bn;if(!isClient)return;await nextTick();const{scrollContainer:$n}=r;isElement$1($n)?ae.value=$n:isString$3($n)&&$n!==""?ae.value=(Bn=document.querySelector($n))!=null?Bn:void 0:oe.value&&(ae.value=getScrollContainer(oe.value)),ae.value&&(ue=useEventListener(ae,"scroll",wn),setTimeout(()=>Lt(),100))}function xn(){!isClient||!ae.value||!wn||(ue?.(),ae.value=void 0)}function jt(Bn){if(Bn.ctrlKey){if(Bn.deltaY<0)return Bn.preventDefault(),!1;if(Bn.deltaY>0)return Bn.preventDefault(),!1}}function An(){Ne.value&&(pe=useEventListener("wheel",jt,{passive:!1}),g=document.body.style.overflow,document.body.style.overflow="hidden",re.value=!0,e("show"))}function Dn(){pe?.(),document.body.style.overflow=g,re.value=!1,e("close")}function En(Bn){e("switch",Bn)}return watch(()=>r.src,()=>{_e.value?(j.value=!0,z.value=!1,xn(),Et()):Fe()}),onMounted(()=>{_e.value?Et():Fe()}),(Bn,$n)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:oe,class:normalizeClass([unref(k).b(),Bn.$attrs.class]),style:normalizeStyle(unref(xe))},[z.value?renderSlot(Bn.$slots,"error",{key:0},()=>[createBaseVNode("div",{class:normalizeClass(unref(k).e("error"))},toDisplayString$1(unref(y)("el.image.error")),3)]):(openBlock(),createElementBlock(Fragment,{key:1},[L.value!==void 0?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(V),{src:L.value,loading:Bn.loading,style:unref($e),class:unref(he),onClick:An,onLoad:Ue,onError:kt}),null,16,_hoisted_1$1z)):createCommentVNode("v-if",!0),j.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(k).e("wrapper"))},[renderSlot(Bn.$slots,"placeholder",{},()=>[createBaseVNode("div",{class:normalizeClass(unref(k).e("placeholder"))},null,2)])],2)):createCommentVNode("v-if",!0)],64)),unref(Ne)?(openBlock(),createElementBlock(Fragment,{key:2},[re.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":Bn.zIndex,"initial-index":unref(Oe),infinite:Bn.infinite,"zoom-rate":Bn.zoomRate,"url-list":Bn.previewSrcList,"hide-on-click-modal":Bn.hideOnClickModal,teleported:Bn.previewTeleported,"close-on-press-escape":Bn.closeOnPressEscape,onClose:Dn,onSwitch:En},{default:withCtx(()=>[Bn.$slots.viewer?(openBlock(),createElementBlock("div",_hoisted_2$1l,[renderSlot(Bn.$slots,"viewer")])):createCommentVNode("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],6))}});var Image$1=_export_sfc$1(_sfc_main$24,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const ElImage=withInstall(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||isNumber$1(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0}}),inputNumberEmits={[CHANGE_EVENT]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[INPUT_EVENT]:n=>isNumber$1(n)||isNil(n),[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)||isNil(n)},_hoisted_1$1y=["aria-label","onKeydown"],_hoisted_2$1k=["aria-label","onKeydown"],__default__$H=defineComponent({name:"ElInputNumber"}),_sfc_main$23=defineComponent({...__default__$H,props:inputNumberProps,emits:inputNumberEmits,setup(n,{expose:e,emit:r}){const g=n,{t:y}=useLocale(),k=useNamespace("input-number"),$=ref(),V=reactive({currentValue:g.modelValue,userInput:null}),{formItem:L}=useFormItem(),z=computed(()=>isNumber$1(g.modelValue)&&g.modelValue<=g.min),j=computed(()=>isNumber$1(g.modelValue)&&g.modelValue>=g.max),re=computed(()=>{const xn=he(g.step);return isUndefined(g.precision)?Math.max(he(g.modelValue),xn):(xn>g.precision,g.precision)}),oe=computed(()=>g.controls&&g.controlsPosition==="right"),ae=useFormSize(),de=useFormDisabled(),ue=computed(()=>{if(V.userInput!==null)return V.userInput;let xn=V.currentValue;if(isNil(xn))return"";if(isNumber$1(xn)){if(Number.isNaN(xn))return"";isUndefined(g.precision)||(xn=xn.toFixed(g.precision))}return xn}),pe=(xn,jt)=>{if(isUndefined(jt)&&(jt=re.value),jt===0)return Math.round(xn);let An=String(xn);const Dn=An.indexOf(".");if(Dn===-1||!An.replace(".","").split("")[Dn+jt])return xn;const $n=An.length;return An.charAt($n-1)==="5"&&(An=`${An.slice(0,Math.max(0,$n-1))}6`),Number.parseFloat(Number(An).toFixed(jt))},he=xn=>{if(isNil(xn))return 0;const jt=xn.toString(),An=jt.indexOf(".");let Dn=0;return An!==-1&&(Dn=jt.length-An-1),Dn},xe=(xn,jt=1)=>isNumber$1(xn)?pe(xn+g.step*jt):V.currentValue,$e=()=>{if(g.readonly||de.value||j.value)return;const xn=Number(ue.value)||0,jt=xe(xn);_e(jt),r(INPUT_EVENT,V.currentValue)},Ne=()=>{if(g.readonly||de.value||z.value)return;const xn=Number(ue.value)||0,jt=xe(xn,-1);_e(jt),r(INPUT_EVENT,V.currentValue)},Oe=(xn,jt)=>{const{max:An,min:Dn,step:En,precision:Bn,stepStrictly:$n,valueOnClear:Wn}=g;An<Dn&&throwError("InputNumber","min should not be greater than max.");let Gn=Number(xn);if(isNil(xn)||Number.isNaN(Gn))return null;if(xn===""){if(Wn===null)return null;Gn=isString$3(Wn)?{min:Dn,max:An}[Wn]:Wn}return $n&&(Gn=pe(Math.round(Gn/En)*En,Bn)),isUndefined(Bn)||(Gn=pe(Gn,Bn)),(Gn>An||Gn<Dn)&&(Gn=Gn>An?An:Dn,jt&&r(UPDATE_MODEL_EVENT,Gn)),Gn},_e=(xn,jt=!0)=>{var An;const Dn=V.currentValue,En=Oe(xn);if(!jt){r(UPDATE_MODEL_EVENT,En);return}Dn!==En&&(V.userInput=null,r(UPDATE_MODEL_EVENT,En),r(CHANGE_EVENT,En,Dn),g.validateEvent&&((An=L?.validate)==null||An.call(L,"change").catch(Bn=>void 0)),V.currentValue=En)},Fe=xn=>{V.userInput=xn;const jt=xn===""?null:Number(xn);r(INPUT_EVENT,jt),_e(jt,!1)},Ue=xn=>{const jt=xn!==""?Number(xn):"";(isNumber$1(jt)&&!Number.isNaN(jt)||xn==="")&&_e(jt),V.userInput=null},kt=()=>{var xn,jt;(jt=(xn=$.value)==null?void 0:xn.focus)==null||jt.call(xn)},Lt=()=>{var xn,jt;(jt=(xn=$.value)==null?void 0:xn.blur)==null||jt.call(xn)},wn=xn=>{r("focus",xn)},Et=xn=>{var jt;r("blur",xn),g.validateEvent&&((jt=L?.validate)==null||jt.call(L,"blur").catch(An=>void 0))};return watch(()=>g.modelValue,xn=>{const jt=Oe(V.userInput),An=Oe(xn,!0);!isNumber$1(jt)&&(!jt||jt!==An)&&(V.currentValue=An,V.userInput=null)},{immediate:!0}),onMounted(()=>{var xn;const{min:jt,max:An,modelValue:Dn}=g,En=(xn=$.value)==null?void 0:xn.input;if(En.setAttribute("role","spinbutton"),Number.isFinite(An)?En.setAttribute("aria-valuemax",String(An)):En.removeAttribute("aria-valuemax"),Number.isFinite(jt)?En.setAttribute("aria-valuemin",String(jt)):En.removeAttribute("aria-valuemin"),En.setAttribute("aria-valuenow",V.currentValue||V.currentValue===0?String(V.currentValue):""),En.setAttribute("aria-disabled",String(de.value)),!isNumber$1(Dn)&&Dn!=null){let Bn=Number(Dn);Number.isNaN(Bn)&&(Bn=null),r(UPDATE_MODEL_EVENT,Bn)}}),onUpdated(()=>{var xn,jt;const An=(xn=$.value)==null?void 0:xn.input;An?.setAttribute("aria-valuenow",`${(jt=V.currentValue)!=null?jt:""}`)}),e({focus:kt,blur:Lt}),(xn,jt)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(k).b(),unref(k).m(unref(ae)),unref(k).is("disabled",unref(de)),unref(k).is("without-controls",!xn.controls),unref(k).is("controls-right",unref(oe))]),onDragstart:jt[1]||(jt[1]=withModifiers(()=>{},["prevent"]))},[xn.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(y)("el.inputNumber.decrease"),class:normalizeClass([unref(k).e("decrease"),unref(k).is("disabled",unref(z))]),onKeydown:withKeys(Ne,["enter"])},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(oe)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})],42,_hoisted_1$1y)),[[unref(vRepeatClick),Ne]]):createCommentVNode("v-if",!0),xn.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(y)("el.inputNumber.increase"),class:normalizeClass([unref(k).e("increase"),unref(k).is("disabled",unref(j))]),onKeydown:withKeys($e,["enter"])},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(oe)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})],42,_hoisted_2$1k)),[[unref(vRepeatClick),$e]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:xn.id,ref_key:"input",ref:$,type:"number",step:xn.step,"model-value":unref(ue),placeholder:xn.placeholder,readonly:xn.readonly,disabled:unref(de),size:unref(ae),max:xn.max,min:xn.min,name:xn.name,label:xn.label,"validate-event":!1,onWheel:jt[0]||(jt[0]=withModifiers(()=>{},["prevent"])),onKeydown:[withKeys(withModifiers($e,["prevent"]),["up"]),withKeys(withModifiers(Ne,["prevent"]),["down"])],onBlur:Et,onFocus:wn,onInput:Fe,onChange:Ue},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var InputNumber=_export_sfc$1(_sfc_main$23,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),linkProps=buildProps({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:iconPropType}}),linkEmits={click:n=>n instanceof MouseEvent},_hoisted_1$1x=["href"],__default__$G=defineComponent({name:"ElLink"}),_sfc_main$22=defineComponent({...__default__$G,props:linkProps,emits:linkEmits,setup(n,{emit:e}){const r=n,g=useNamespace("link"),y=computed(()=>[g.b(),g.m(r.type),g.is("disabled",r.disabled),g.is("underline",r.underline&&!r.disabled)]);function k($){r.disabled||e("click",$)}return($,V)=>(openBlock(),createElementBlock("a",{class:normalizeClass(unref(y)),href:$.disabled||!$.href?void 0:$.href,onClick:k},[$.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.icon)))]),_:1})):createCommentVNode("v-if",!0),$.$slots.default?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(g).e("inner"))},[renderSlot($.$slots,"default")],2)):createCommentVNode("v-if",!0),$.$slots.icon?renderSlot($.$slots,"icon",{key:2}):createCommentVNode("v-if",!0)],10,_hoisted_1$1x))}});var Link=_export_sfc$1(_sfc_main$22,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const ElLink=withInstall(Link);let SubMenu$1=class{constructor(e,r){this.parent=e,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",g=>{let y=!1;switch(g.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),y=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),y=!0;break}case EVENT_CODE.tab:{triggerEvent(e,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{y=!0,g.currentTarget.click();break}}return y&&(g.preventDefault(),g.stopPropagation()),!1})})}},MenuItem$1=class{constructor(e,r){this.domNode=e,this.submenu=null,this.submenu=null,this.init(r)}init(e){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${e}-menu`);r&&(this.submenu=new SubMenu$1(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let r=!1;switch(e.code){case EVENT_CODE.down:{triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case EVENT_CODE.up:{triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case EVENT_CODE.tab:{triggerEvent(e.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},Menu$1=class{constructor(e,r){this.domNode=e,this.init(r)}init(e){const r=this.domNode.childNodes;Array.from(r).forEach(g=>{g.nodeType===1&&new MenuItem$1(g,e)})}};const _sfc_main$21=defineComponent({name:"ElMenuCollapseTransition",setup(){const n=useNamespace("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,g){addClass(r,`${n.namespace.value}-opacity-transition`),r.style.opacity="1",g()},onAfterEnter(r){removeClass(r,`${n.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),hasClass(r,n.m("collapse"))?(removeClass(r,n.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),addClass(r,n.m("collapse"))):(addClass(r,n.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),removeClass(r,n.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){addClass(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function _sfc_render$e(n,e,r,g,y,k){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},n.listeners),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16)}var ElMenuCollapseTransition=_export_sfc$1(_sfc_main$21,[["render",_sfc_render$e],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function useMenu(n,e){const r=computed(()=>{let y=n.parent;const k=[e.value];for(;y.type.name!=="ElMenu";)y.props.index&&k.unshift(y.props.index),y=y.parent;return k});return{parentMenu:computed(()=>{let y=n.parent;for(;y&&!["ElMenu","ElSubMenu"].includes(y.type.name);)y=y.parent;return y}),indexPath:r}}function useMenuColor(n){return computed(()=>{const r=n.backgroundColor;return r?new TinyColor(r).shade(20).toString():""})}const useMenuCssVar=(n,e)=>{const r=useNamespace("menu");return computed(()=>r.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":useMenuColor(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$c="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$c,props:subMenuProps,setup(n,{slots:e,expose:r}){useDeprecated({from:"popper-append-to-body",replacement:"teleported",scope:COMPONENT_NAME$c,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},computed(()=>n.popperAppendToBody!==void 0));const g=getCurrentInstance(),{indexPath:y,parentMenu:k}=useMenu(g,computed(()=>n.index)),$=useNamespace("menu"),V=useNamespace("sub-menu"),L=inject("rootMenu");L||throwError(COMPONENT_NAME$c,"can not inject root menu");const z=inject(`subMenu:${k.value.uid}`);z||throwError(COMPONENT_NAME$c,"can not inject sub menu");const j=ref({}),re=ref({});let oe;const ae=ref(!1),de=ref(),ue=ref(null),pe=computed(()=>wn.value==="horizontal"&&xe.value?"bottom-start":"right-start"),he=computed(()=>wn.value==="horizontal"&&xe.value||wn.value==="vertical"&&!L.props.collapse?n.expandCloseIcon&&n.expandOpenIcon?_e.value?n.expandOpenIcon:n.expandCloseIcon:arrow_down_default:n.collapseCloseIcon&&n.collapseOpenIcon?_e.value?n.collapseOpenIcon:n.collapseCloseIcon:arrow_right_default),xe=computed(()=>z.level===0),$e=computed(()=>{var Wn;const Gn=(Wn=n.teleported)!=null?Wn:n.popperAppendToBody;return Gn===void 0?xe.value:Gn}),Ne=computed(()=>L.props.collapse?`${$.namespace.value}-zoom-in-left`:`${$.namespace.value}-zoom-in-top`),Oe=computed(()=>wn.value==="horizontal"&&xe.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),_e=computed(()=>L.openedMenus.includes(n.index)),Fe=computed(()=>{let Wn=!1;return Object.values(j.value).forEach(Gn=>{Gn.active&&(Wn=!0)}),Object.values(re.value).forEach(Gn=>{Gn.active&&(Wn=!0)}),Wn}),Ue=computed(()=>L.props.backgroundColor||""),kt=computed(()=>L.props.activeTextColor||""),Lt=computed(()=>L.props.textColor||""),wn=computed(()=>L.props.mode),Et=reactive({index:n.index,indexPath:y,active:Fe}),xn=useMenuCssVar(L.props,z.level+1),jt=computed(()=>wn.value!=="horizontal"?{color:Lt.value}:{borderBottomColor:Fe.value?L.props.activeTextColor?kt.value:"":"transparent",color:Fe.value?kt.value:Lt.value}),An=()=>{var Wn,Gn,Nn;return(Nn=(Gn=(Wn=ue.value)==null?void 0:Wn.popperRef)==null?void 0:Gn.popperInstanceRef)==null?void 0:Nn.destroy()},Dn=Wn=>{Wn||An()},En=()=>{L.props.menuTrigger==="hover"&&L.props.mode==="horizontal"||L.props.collapse&&L.props.mode==="vertical"||n.disabled||L.handleSubMenuClick({index:n.index,indexPath:y.value,active:Fe.value})},Bn=(Wn,Gn=n.showTimeout)=>{var Nn;Wn.type!=="focus"&&(L.props.menuTrigger==="click"&&L.props.mode==="horizontal"||!L.props.collapse&&L.props.mode==="vertical"||n.disabled||(z.mouseInChild.value=!0,oe?.(),{stop:oe}=useTimeoutFn(()=>{L.openMenu(n.index,y.value)},Gn),$e.value&&((Nn=k.value.vnode.el)==null||Nn.dispatchEvent(new MouseEvent("mouseenter")))))},$n=(Wn=!1)=>{var Gn,Nn;L.props.menuTrigger==="click"&&L.props.mode==="horizontal"||!L.props.collapse&&L.props.mode==="vertical"||(oe?.(),z.mouseInChild.value=!1,{stop:oe}=useTimeoutFn(()=>!ae.value&&L.closeMenu(n.index,y.value),n.hideTimeout),$e.value&&Wn&&((Gn=g.parent)==null?void 0:Gn.type.name)==="ElSubMenu"&&((Nn=z.handleMouseleave)==null||Nn.call(z,!0)))};watch(()=>L.props.collapse,Wn=>Dn(!!Wn));{const Wn=Nn=>{re.value[Nn.index]=Nn},Gn=Nn=>{delete re.value[Nn.index]};provide(`subMenu:${g.uid}`,{addSubMenu:Wn,removeSubMenu:Gn,handleMouseleave:$n,mouseInChild:ae,level:z.level+1})}return r({opened:_e}),onMounted(()=>{L.addSubMenu(Et),z.addSubMenu(Et)}),onBeforeUnmount(()=>{z.removeSubMenu(Et),L.removeSubMenu(Et)}),()=>{var Wn;const Gn=[(Wn=e.title)==null?void 0:Wn.call(e),h$1(ElIcon,{class:V.e("icon-arrow"),style:{transform:_e.value?n.expandCloseIcon&&n.expandOpenIcon||n.collapseCloseIcon&&n.collapseOpenIcon&&L.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$3(he.value)?h$1(g.appContext.components[he.value]):h$1(he.value)})],Nn=L.isMenuPopup?h$1(ElTooltip,{ref:ue,visible:_e.value,effect:"light",pure:!0,offset:n.popperOffset,showArrow:!1,persistent:!0,popperClass:n.popperClass,placement:pe.value,teleported:$e.value,fallbackPlacements:Oe.value,transition:Ne.value,gpuAcceleration:!1},{content:()=>{var Zn;return h$1("div",{class:[$.m(wn.value),$.m("popup-container"),n.popperClass],onMouseenter:Hn=>Bn(Hn,100),onMouseleave:()=>$n(!0),onFocus:Hn=>Bn(Hn,100)},[h$1("ul",{class:[$.b(),$.m("popup"),$.m(`popup-${pe.value}`)],style:xn.value},[(Zn=e.default)==null?void 0:Zn.call(e)])])},default:()=>h$1("div",{class:V.e("title"),style:[jt.value,{backgroundColor:Ue.value}],onClick:En},Gn)}):h$1(Fragment,{},[h$1("div",{class:V.e("title"),style:[jt.value,{backgroundColor:Ue.value}],ref:de,onClick:En},Gn),h$1(_CollapseTransition,{},{default:()=>{var Zn;return withDirectives(h$1("ul",{role:"menu",class:[$.b(),$.m("inline")],style:xn.value},[(Zn=e.default)==null?void 0:Zn.call(e)]),[[vShow,_e.value]])}})]);return h$1("li",{class:[V.b(),V.is("active",Fe.value),V.is("opened",_e.value),V.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:_e.value,onMouseenter:Bn,onMouseleave:()=>$n(!0),onFocus:Bn},[Nn])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),checkIndexPath=n=>Array.isArray(n)&&n.every(e=>isString$3(e)),menuEmits={close:(n,e)=>isString$3(n)&&checkIndexPath(e),open:(n,e)=>isString$3(n)&&checkIndexPath(e),select:(n,e,r,g)=>isString$3(n)&&checkIndexPath(e)&&isObject$3(r)&&(g===void 0||g instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(n,{emit:e,slots:r,expose:g}){const y=getCurrentInstance(),k=y.appContext.config.globalProperties.$router,$=ref(),V=useNamespace("menu"),L=useNamespace("sub-menu"),z=ref(-1),j=ref(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),re=ref(n.defaultActive),oe=ref({}),ae=ref({}),de=computed(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),ue=()=>{const wn=re.value&&oe.value[re.value];if(!wn||n.mode==="horizontal"||n.collapse)return;wn.indexPath.forEach(xn=>{const jt=ae.value[xn];jt&&pe(xn,jt.indexPath)})},pe=(wn,Et)=>{j.value.includes(wn)||(n.uniqueOpened&&(j.value=j.value.filter(xn=>Et.includes(xn))),j.value.push(wn),e("open",wn,Et))},he=wn=>{const Et=j.value.indexOf(wn);Et!==-1&&j.value.splice(Et,1)},xe=(wn,Et)=>{he(wn),e("close",wn,Et)},$e=({index:wn,indexPath:Et})=>{j.value.includes(wn)?xe(wn,Et):pe(wn,Et)},Ne=wn=>{(n.mode==="horizontal"||n.collapse)&&(j.value=[]);const{index:Et,indexPath:xn}=wn;if(!(isNil(Et)||isNil(xn)))if(n.router&&k){const jt=wn.route||Et,An=k.push(jt).then(Dn=>(Dn||(re.value=Et),Dn));e("select",Et,xn,{index:Et,indexPath:xn,route:jt},An)}else re.value=Et,e("select",Et,xn,{index:Et,indexPath:xn})},Oe=wn=>{const Et=oe.value,xn=Et[wn]||re.value&&Et[re.value]||Et[n.defaultActive];xn?re.value=xn.index:re.value=wn},_e=()=>{var wn,Et;if(!$.value)return-1;const xn=Array.from((Et=(wn=$.value)==null?void 0:wn.childNodes)!=null?Et:[]).filter(Wn=>Wn.nodeName!=="#comment"&&(Wn.nodeName!=="#text"||Wn.nodeValue)),jt=64,An=Number.parseInt(getComputedStyle($.value).paddingLeft,10),Dn=Number.parseInt(getComputedStyle($.value).paddingRight,10),En=$.value.clientWidth-An-Dn;let Bn=0,$n=0;return xn.forEach((Wn,Gn)=>{Bn+=Wn.offsetWidth||0,Bn<=En-jt&&($n=Gn+1)}),$n===xn.length?-1:$n},Fe=(wn,Et=33.34)=>{let xn;return()=>{xn&&clearTimeout(xn),xn=setTimeout(()=>{wn()},Et)}};let Ue=!0;const kt=()=>{const wn=()=>{z.value=-1,nextTick(()=>{z.value=_e()})};Ue?wn():Fe(wn)(),Ue=!1};watch(()=>n.defaultActive,wn=>{oe.value[wn]||(re.value=""),Oe(wn)}),watch(()=>n.collapse,wn=>{wn&&(j.value=[])}),watch(oe.value,ue);let Lt;watchEffect(()=>{n.mode==="horizontal"&&n.ellipsis?Lt=useResizeObserver($,kt).stop:Lt?.()});{const wn=An=>{ae.value[An.index]=An},Et=An=>{delete ae.value[An.index]};provide("rootMenu",reactive({props:n,openedMenus:j,items:oe,subMenus:ae,activeIndex:re,isMenuPopup:de,addMenuItem:An=>{oe.value[An.index]=An},removeMenuItem:An=>{delete oe.value[An.index]},addSubMenu:wn,removeSubMenu:Et,openMenu:pe,closeMenu:xe,handleMenuItemClick:Ne,handleSubMenuClick:$e})),provide(`subMenu:${y.uid}`,{addSubMenu:wn,removeSubMenu:Et,mouseInChild:ref(!1),level:0})}return onMounted(()=>{n.mode==="horizontal"&&new Menu$1(y.vnode.el,V.namespace.value)}),g({open:Et=>{const{indexPath:xn}=ae.value[Et];xn.forEach(jt=>pe(jt,xn))},close:he,handleResize:kt}),()=>{var wn,Et;let xn=(Et=(wn=r.default)==null?void 0:wn.call(r))!=null?Et:[];const jt=[];if(n.mode==="horizontal"&&$.value){const En=flattedChildren(xn),Bn=z.value===-1?En:En.slice(0,z.value),$n=z.value===-1?[]:En.slice(z.value);$n?.length&&n.ellipsis&&(xn=Bn,jt.push(h$1(SubMenu,{index:"sub-menu-more",class:L.e("hide-arrow")},{title:()=>h$1(ElIcon,{class:L.e("icon-more")},{default:()=>h$1(more_default)}),default:()=>$n})))}const An=useMenuCssVar(n,0),Dn=h$1("ul",{key:String(n.collapse),role:"menubar",ref:$,style:An.value,class:{[V.b()]:!0,[V.m(n.mode)]:!0,[V.m("collapse")]:n.collapse}},[...xn,...jt]);return n.collapseTransition&&n.mode==="vertical"?h$1(ElMenuCollapseTransition,()=>Dn):Dn}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:n=>isString$3(n.index)&&Array.isArray(n.indexPath)},COMPONENT_NAME$b="ElMenuItem",_sfc_main$20=defineComponent({name:COMPONENT_NAME$b,components:{ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(n,{emit:e}){const r=getCurrentInstance(),g=inject("rootMenu"),y=useNamespace("menu"),k=useNamespace("menu-item");g||throwError(COMPONENT_NAME$b,"can not inject root menu");const{parentMenu:$,indexPath:V}=useMenu(r,toRef(n,"index")),L=inject(`subMenu:${$.value.uid}`);L||throwError(COMPONENT_NAME$b,"can not inject sub menu");const z=computed(()=>n.index===g.activeIndex),j=reactive({index:n.index,indexPath:V,active:z}),re=()=>{n.disabled||(g.handleMenuItemClick({index:n.index,indexPath:V.value,route:n.route}),e("click",j))};return onMounted(()=>{L.addSubMenu(j),g.addMenuItem(j)}),onBeforeUnmount(()=>{L.removeSubMenu(j),g.removeMenuItem(j)}),{parentMenu:$,rootMenu:g,active:z,nsMenu:y,nsMenuItem:k,handleClick:re}}});function _sfc_render$d(n,e,r,g,y,k){const $=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...V)=>n.handleClick&&n.handleClick(...V))},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(openBlock(),createBlock($,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx(()=>[renderSlot(n.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.nsMenu.be("tooltip","trigger"))},[renderSlot(n.$slots,"default")],2)]),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(n.$slots,"default"),renderSlot(n.$slots,"title")],64))],2)}var MenuItem=_export_sfc$1(_sfc_main$20,[["render",_sfc_render$d],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$a="ElMenuItemGroup",_sfc_main$1$=defineComponent({name:COMPONENT_NAME$a,props:menuItemGroupProps,setup(){return{ns:useNamespace("menu-item-group")}}});function _sfc_render$c(n,e,r,g,y,k){return openBlock(),createElementBlock("li",{class:normalizeClass(n.ns.b())},[createBaseVNode("div",{class:normalizeClass(n.ns.e("title"))},[n.$slots.title?renderSlot(n.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(n.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(n.$slots,"default")])],2)}var MenuItemGroup=_export_sfc$1(_sfc_main$1$,[["render",_sfc_render$c],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem),ElMenuItemGroup=withNoopInstall(MenuItemGroup),ElSubMenu=withNoopInstall(SubMenu),pageHeaderProps=buildProps({icon:{type:iconPropType,default:()=>back_default},title:String,content:{type:String,default:""}}),pageHeaderEmits={back:()=>!0},_hoisted_1$1w=["aria-label"],__default__$F=defineComponent({name:"ElPageHeader"}),_sfc_main$1_=defineComponent({...__default__$F,props:pageHeaderProps,emits:pageHeaderEmits,setup(n,{emit:e}){const r=useSlots(),{t:g}=useLocale(),y=useNamespace("page-header"),k=computed(()=>[y.b(),{[y.m("has-breadcrumb")]:!!r.breadcrumb,[y.m("has-extra")]:!!r.extra,[y.is("contentful")]:!!r.default}]);function $(){e("back")}return(V,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(k))},[V.$slots.breadcrumb?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("breadcrumb"))},[renderSlot(V.$slots,"breadcrumb")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("left"))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("back")),role:"button",tabindex:"0",onClick:$},[V.icon||V.$slots.icon?(openBlock(),createElementBlock("div",{key:0,"aria-label":V.title||unref(g)("el.pageHeader.title"),class:normalizeClass(unref(y).e("icon"))},[renderSlot(V.$slots,"icon",{},()=>[V.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(V.icon)))]),_:1})):createCommentVNode("v-if",!0)])],10,_hoisted_1$1w)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("title"))},[renderSlot(V.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(V.title||unref(g)("el.pageHeader.title")),1)])],2)],2),createVNode(unref(ElDivider),{direction:"vertical"}),createBaseVNode("div",{class:normalizeClass(unref(y).e("content"))},[renderSlot(V.$slots,"content",{},()=>[createTextVNode(toDisplayString$1(V.content),1)])],2)],2),V.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("extra"))},[renderSlot(V.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2),V.$slots.default?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("main"))},[renderSlot(V.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var PageHeader=_export_sfc$1(_sfc_main$1_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const ElPageHeader=withInstall(PageHeader),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:n=>n instanceof MouseEvent},_hoisted_1$1v=["disabled","aria-label","aria-disabled"],_hoisted_2$1j={key:0},__default__$E=defineComponent({name:"ElPaginationPrev"}),_sfc_main$1Z=defineComponent({...__default__$E,props:paginationPrevProps,emits:paginationPrevEmits,setup(n){const e=n,{t:r}=useLocale(),g=computed(()=>e.disabled||e.currentPage<=1);return(y,k)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:unref(g),"aria-label":y.prevText||unref(r)("el.pagination.prev"),"aria-disabled":unref(g),onClick:k[0]||(k[0]=$=>y.$emit("click",$))},[y.prevText?(openBlock(),createElementBlock("span",_hoisted_2$1j,toDisplayString$1(y.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.prevIcon)))]),_:1}))],8,_hoisted_1$1v))}});var Prev=_export_sfc$1(_sfc_main$1Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),_hoisted_1$1u=["disabled","aria-label","aria-disabled"],_hoisted_2$1i={key:0},__default__$D=defineComponent({name:"ElPaginationNext"}),_sfc_main$1Y=defineComponent({...__default__$D,props:paginationNextProps,emits:["click"],setup(n){const e=n,{t:r}=useLocale(),g=computed(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(y,k)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:unref(g),"aria-label":y.nextText||unref(r)("el.pagination.next"),"aria-disabled":unref(g),onClick:k[0]||(k[0]=$=>y.$emit("click",$))},[y.nextText?(openBlock(),createElementBlock("span",_hoisted_2$1i,toDisplayString$1(y.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.nextIcon)))]),_:1}))],8,_hoisted_1$1u))}});var Next=_export_sfc$1(_sfc_main$1Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption$1(n,e){const r=inject(selectKey),g=inject(selectGroupKey,{disabled:!1}),y=computed(()=>Object.prototype.toString.call(n.value).toLowerCase()==="[object object]"),k=computed(()=>r.props.multiple?re(r.props.modelValue,n.value):oe(n.value,r.props.modelValue)),$=computed(()=>{if(r.props.multiple){const ue=r.props.modelValue||[];return!k.value&&ue.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),V=computed(()=>n.label||(y.value?"":n.value)),L=computed(()=>n.value||n.label||""),z=computed(()=>n.disabled||e.groupDisabled||$.value),j=getCurrentInstance(),re=(ue=[],pe)=>{if(y.value){const he=r.props.valueKey;return ue&&ue.some(xe=>toRaw(get(xe,he))===get(pe,he))}else return ue&&ue.includes(pe)},oe=(ue,pe)=>{if(y.value){const{valueKey:he}=r.props;return get(ue,he)===get(pe,he)}else return ue===pe},ae=()=>{!n.disabled&&!g.disabled&&(r.hoverIndex=r.optionsArray.indexOf(j.proxy))};watch(()=>V.value,()=>{!n.created&&!r.props.remote&&r.setSelected()}),watch(()=>n.value,(ue,pe)=>{const{remote:he,valueKey:xe}=r.props;if(Object.is(ue,pe)||(r.onOptionDestroy(pe,j.proxy),r.onOptionCreate(j.proxy)),!n.created&&!he){if(xe&&typeof ue=="object"&&typeof pe=="object"&&ue[xe]===pe[xe])return;r.setSelected()}}),watch(()=>g.disabled,()=>{e.groupDisabled=g.disabled},{immediate:!0});const{queryChange:de}=toRaw(r);return watch(de,ue=>{const{query:pe}=unref(ue),he=new RegExp(escapeStringRegexp(pe),"i");e.visible=he.test(V.value)||n.created,e.visible||r.filteredOptionsCount--},{immediate:!0}),{select:r,currentLabel:V,currentValue:L,itemSelected:k,isDisabled:z,hoverItem:ae}}const _sfc_main$1X=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=useNamespace("select"),r=computed(()=>[e.be("dropdown","item"),e.is("disabled",unref($)),{selected:unref(k),hover:unref(j)}]),g=reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:y,itemSelected:k,isDisabled:$,select:V,hoverItem:L}=useOption$1(n,g),{visible:z,hover:j}=toRefs(g),re=getCurrentInstance().proxy;V.onOptionCreate(re),onBeforeUnmount(()=>{const ae=re.value,{selected:de}=V,pe=(V.props.multiple?de:[de]).some(he=>he.value===re.value);nextTick(()=>{V.cachedOptions.get(ae)===re&&!pe&&V.cachedOptions.delete(ae)}),V.onOptionDestroy(ae,re)});function oe(){n.disabled!==!0&&g.groupDisabled!==!0&&V.handleOptionSelect(re)}return{ns:e,containerKls:r,currentLabel:y,itemSelected:k,isDisabled:$,select:V,hoverItem:L,visible:z,hover:j,selectOptionClick:oe,states:g}}});function _sfc_render$b(n,e,r,g,y,k){return withDirectives((openBlock(),createElementBlock("li",{class:normalizeClass(n.containerKls),onMouseenter:e[0]||(e[0]=(...$)=>n.hoverItem&&n.hoverItem(...$)),onClick:e[1]||(e[1]=withModifiers((...$)=>n.selectOptionClick&&n.selectOptionClick(...$),["stop"]))},[renderSlot(n.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString$1(n.currentLabel),1)])],34)),[[vShow,n.visible]])}var Option$1=_export_sfc$1(_sfc_main$1X,[["render",_sfc_render$b],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$1W=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=inject(selectKey),e=useNamespace("select"),r=computed(()=>n.props.popperClass),g=computed(()=>n.props.multiple),y=computed(()=>n.props.fitInputWidth),k=ref("");function $(){var V;k.value=`${(V=n.selectWrapper)==null?void 0:V.offsetWidth}px`}return onMounted(()=>{$(),useResizeObserver(n.selectWrapper,$)}),{ns:e,minWidth:k,popperClass:r,isMultiple:g,isFitInputWidth:y}}});function _sfc_render$a(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:normalizeStyle({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[renderSlot(n.$slots,"default")],6)}var ElSelectMenu$1=_export_sfc$1(_sfc_main$1W,[["render",_sfc_render$a],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(n){const{t:e}=useLocale();return reactive({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:n.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const useSelect$2=(n,e,r)=>{const{t:g}=useLocale(),y=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},computed(()=>n.suffixTransition===!1));const k=ref(null),$=ref(null),V=ref(null),L=ref(null),z=ref(null),j=ref(null),re=ref(null),oe=ref(null),ae=ref(-1),de=shallowRef({query:""}),ue=shallowRef(""),pe=ref([]);let he=0;const{form:xe,formItem:$e}=useFormItem(),Ne=computed(()=>!n.filterable||n.multiple||!e.visible),Oe=computed(()=>n.disabled||xe?.disabled),_e=computed(()=>{const kn=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!=="";return n.clearable&&!Oe.value&&e.inputHovering&&kn}),Fe=computed(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),Ue=computed(()=>y.is("reverse",Fe.value&&e.visible&&n.suffixTransition)),kt=computed(()=>xe?.statusIcon&&$e?.validateState&&ValidateComponentsMap[$e?.validateState]),Lt=computed(()=>n.remote?300:0),wn=computed(()=>n.loading?n.loadingText||g("el.select.loading"):n.remote&&e.query===""&&e.options.size===0?!1:n.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?n.noMatchText||g("el.select.noMatch"):e.options.size===0?n.noDataText||g("el.select.noData"):null),Et=computed(()=>{const kn=Array.from(e.options.values()),Un=[];return pe.value.forEach(On=>{const Rn=kn.findIndex(Yn=>Yn.currentLabel===On);Rn>-1&&Un.push(kn[Rn])}),Un.length?Un:kn}),xn=computed(()=>Array.from(e.cachedOptions.values())),jt=computed(()=>{const kn=Et.value.filter(Un=>!Un.created).some(Un=>Un.currentLabel===e.query);return n.filterable&&n.allowCreate&&e.query!==""&&!kn}),An=useFormSize(),Dn=computed(()=>["small"].includes(An.value)?"small":"default"),En=computed({get(){return e.visible&&wn.value!==!1},set(kn){e.visible=kn}});watch([()=>Oe.value,()=>An.value,()=>xe?.size],()=>{nextTick(()=>{Bn()})}),watch(()=>n.placeholder,kn=>{e.cachedPlaceHolder=e.currentPlaceholder=kn,n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(e.currentPlaceholder="")}),watch(()=>n.modelValue,(kn,Un)=>{n.multiple&&(Bn(),kn&&kn.length>0||$.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,n.filterable&&!n.reserveKeyword&&(e.query="",$n(e.query))),Nn(),n.filterable&&!n.multiple&&(e.inputLength=20),!isEqual$1(kn,Un)&&n.validateEvent&&$e?.validate("change").catch(On=>void 0)},{flush:"post",deep:!0}),watch(()=>e.visible,kn=>{var Un,On,Rn,Yn,or;kn?((On=(Un=L.value)==null?void 0:Un.updatePopper)==null||On.call(Un),n.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=n.remote?"":e.selectedLabel,(Yn=(Rn=V.value)==null?void 0:Rn.focus)==null||Yn.call(Rn),n.multiple?(or=$.value)==null||or.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),$n(e.query),!n.multiple&&!n.remote&&(de.value.query="",triggerRef(de),triggerRef(ue)))):(n.filterable&&(isFunction$3(n.filterMethod)&&n.filterMethod(""),isFunction$3(n.remoteMethod)&&n.remoteMethod("")),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,Hn(),nextTick(()=>{$.value&&$.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),n.multiple||(e.selected&&(n.filterable&&n.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,n.filterable&&(e.query=e.selectedLabel)),n.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),r.emit("visible-change",kn)}),watch(()=>e.options.entries(),()=>{var kn,Un,On;if(!isClient)return;(Un=(kn=L.value)==null?void 0:kn.updatePopper)==null||Un.call(kn),n.multiple&&Bn();const Rn=((On=re.value)==null?void 0:On.querySelectorAll("input"))||[];(!n.filterable&&!n.defaultFirstOption&&!isUndefined(n.modelValue)||!Array.from(Rn).includes(document.activeElement))&&Nn(),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&Gn()},{flush:"post"}),watch(()=>e.hoverIndex,kn=>{isNumber$1(kn)&&kn>-1?ae.value=Et.value[kn]||{}:ae.value={},Et.value.forEach(Un=>{Un.hover=ae.value===Un})});const Bn=()=>{nextTick(()=>{var kn,Un;if(!k.value)return;const On=k.value.$el.querySelector("input");he=he||(On.clientHeight>0?On.clientHeight+2:0);const Rn=j.value,Yn=getComponentSize(An.value||xe?.size),or=An.value||Yn===he||he<=0?Yn:he;!(On.offsetParent===null)&&(On.style.height=`${(e.selected.length===0?or:Math.max(Rn?Rn.clientHeight+(Rn.clientHeight>or?6:0):0,or))-2}px`),e.visible&&wn.value!==!1&&((Un=(kn=L.value)==null?void 0:kn.updatePopper)==null||Un.call(kn))})},$n=async kn=>{if(!(e.previousQuery===kn||e.isOnComposition)){if(e.previousQuery===null&&(isFunction$3(n.filterMethod)||isFunction$3(n.remoteMethod))){e.previousQuery=kn;return}e.previousQuery=kn,nextTick(()=>{var Un,On;e.visible&&((On=(Un=L.value)==null?void 0:Un.updatePopper)==null||On.call(Un))}),e.hoverIndex=-1,n.multiple&&n.filterable&&nextTick(()=>{if(!Oe.value){const Un=$.value.value.length*15+20;e.inputLength=n.collapseTags?Math.min(50,Un):Un,Wn()}Bn()}),n.remote&&isFunction$3(n.remoteMethod)?(e.hoverIndex=-1,n.remoteMethod(kn)):isFunction$3(n.filterMethod)?(n.filterMethod(kn),triggerRef(ue)):(e.filteredOptionsCount=e.optionsCount,de.value.query=kn,triggerRef(de),triggerRef(ue)),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&(await nextTick(),Gn())}},Wn=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=$.value.value?"":e.cachedPlaceHolder)},Gn=()=>{const kn=Et.value.filter(Rn=>Rn.visible&&!Rn.disabled&&!Rn.states.groupDisabled),Un=kn.find(Rn=>Rn.created),On=kn[0];e.hoverIndex=Tn(Et.value,Un||On)},Nn=()=>{var kn;if(n.multiple)e.selectedLabel="";else{const On=Zn(n.modelValue);(kn=On.props)!=null&&kn.created?(e.createdLabel=On.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=On.currentLabel,e.selected=On,n.filterable&&(e.query=e.selectedLabel);return}const Un=[];Array.isArray(n.modelValue)&&n.modelValue.forEach(On=>{Un.push(Zn(On))}),e.selected=Un,nextTick(()=>{Bn()})},Zn=kn=>{let Un;const On=toRawType(kn).toLowerCase()==="object",Rn=toRawType(kn).toLowerCase()==="null",Yn=toRawType(kn).toLowerCase()==="undefined";for(let hr=e.cachedOptions.size-1;hr>=0;hr--){const pr=xn.value[hr];if(On?get(pr.value,n.valueKey)===get(kn,n.valueKey):pr.value===kn){Un={value:kn,currentLabel:pr.currentLabel,isDisabled:pr.isDisabled};break}}if(Un)return Un;const or=On?kn.label:!Rn&&!Yn?kn:"",tr={value:kn,currentLabel:or};return n.multiple&&(tr.hitState=!1),tr},Hn=()=>{setTimeout(()=>{const kn=n.valueKey;n.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(Un=>Et.value.findIndex(On=>get(On,kn)===get(Un,kn)))):e.hoverIndex=-1:e.hoverIndex=Et.value.findIndex(Un=>Cn(Un)===Cn(e.selected))},300)},rr=()=>{var kn,Un;Xn(),(Un=(kn=L.value)==null?void 0:kn.updatePopper)==null||Un.call(kn),n.multiple&&Bn()},Xn=()=>{var kn;e.inputWidth=(kn=k.value)==null?void 0:kn.$el.offsetWidth},Pn=()=>{n.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,$n(e.query))},jn=debounce(()=>{Pn()},Lt.value),fr=debounce(kn=>{$n(kn.target.value)},Lt.value),yr=kn=>{isEqual$1(n.modelValue,kn)||r.emit(CHANGE_EVENT,kn)},Cr=kn=>findLastIndex(kn,Un=>!e.disabledOptions.has(Un)),sr=kn=>{if(kn.code!==EVENT_CODE.delete){if(kn.target.value.length<=0&&!lr()){const Un=n.modelValue.slice(),On=Cr(Un);if(On<0)return;Un.splice(On,1),r.emit(UPDATE_MODEL_EVENT,Un),yr(Un)}kn.target.value.length===1&&n.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}},zn=(kn,Un)=>{const On=e.selected.indexOf(Un);if(On>-1&&!Oe.value){const Rn=n.modelValue.slice();Rn.splice(On,1),r.emit(UPDATE_MODEL_EVENT,Rn),yr(Rn),r.emit("remove-tag",Un.value)}kn.stopPropagation(),le()},vn=kn=>{kn.stopPropagation();const Un=n.multiple?[]:"";if(!isString$3(Un))for(const On of e.selected)On.isDisabled&&Un.push(On.value);r.emit(UPDATE_MODEL_EVENT,Un),yr(Un),e.hoverIndex=-1,e.visible=!1,r.emit("clear"),le()},Jn=kn=>{var Un;if(n.multiple){const On=(n.modelValue||[]).slice(),Rn=Tn(On,kn.value);Rn>-1?On.splice(Rn,1):(n.multipleLimit<=0||On.length<n.multipleLimit)&&On.push(kn.value),r.emit(UPDATE_MODEL_EVENT,On),yr(On),kn.created&&(e.query="",$n(""),e.inputLength=20),n.filterable&&((Un=$.value)==null||Un.focus())}else r.emit(UPDATE_MODEL_EVENT,kn.value),yr(kn.value),e.visible=!1;Dt(),!e.visible&&nextTick(()=>{hn(kn)})},Tn=(kn=[],Un)=>{if(!isObject$3(Un))return kn.indexOf(Un);const On=n.valueKey;let Rn=-1;return kn.some((Yn,or)=>toRaw(get(Yn,On))===get(Un,On)?(Rn=or,!0):!1),Rn},Dt=()=>{const kn=$.value||k.value;kn&&kn?.focus()},hn=kn=>{var Un,On,Rn,Yn,or;const tr=Array.isArray(kn)?kn[0]:kn;let hr=null;if(tr?.value){const pr=Et.value.filter(_r=>_r.value===tr.value);pr.length>0&&(hr=pr[0].$el)}if(L.value&&hr){const pr=(Yn=(Rn=(On=(Un=L.value)==null?void 0:Un.popperRef)==null?void 0:On.contentRef)==null?void 0:Rn.querySelector)==null?void 0:Yn.call(Rn,`.${y.be("dropdown","wrap")}`);pr&&scrollIntoView$2(pr,hr)}(or=oe.value)==null||or.handleScroll()},Vn=kn=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(kn.value,kn),e.cachedOptions.set(kn.value,kn),kn.disabled&&e.disabledOptions.set(kn.value,kn)},Kn=(kn,Un)=>{e.options.get(kn)===Un&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(kn))},ar=kn=>{kn.code!==EVENT_CODE.backspace&&lr(!1),e.inputLength=$.value.value.length*15+20,Bn()},lr=kn=>{if(!Array.isArray(e.selected))return;const Un=Cr(e.selected.map(Rn=>Rn.value)),On=e.selected[Un];if(On)return kn===!0||kn===!1?(On.hitState=kn,kn):(On.hitState=!On.hitState,On.hitState)},cr=kn=>{const Un=kn.target.value;if(kn.type==="compositionend")e.isOnComposition=!1,nextTick(()=>$n(Un));else{const On=Un[Un.length-1]||"";e.isOnComposition=!isKorean(On)}},mr=()=>{nextTick(()=>hn(e.selected))},ur=kn=>{e.focused||((n.automaticDropdown||n.filterable)&&(n.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),e.focused=!0,r.emit("focus",kn))},le=()=>{var kn,Un;e.visible?(kn=$.value||k.value)==null||kn.focus():(Un=k.value)==null||Un.focus()},Ce=()=>{var kn,Un,On;e.visible=!1,(kn=k.value)==null||kn.blur(),(On=(Un=V.value)==null?void 0:Un.blur)==null||On.call(Un)},Ie=kn=>{var Un,On,Rn;(Un=L.value)!=null&&Un.isFocusInsideContent(kn)||(On=z.value)!=null&&On.isFocusInsideContent(kn)||(Rn=re.value)!=null&&Rn.contains(kn.relatedTarget)||(e.visible&&qe(),e.focused=!1,r.emit("blur",kn))},ze=kn=>{vn(kn)},qe=()=>{e.visible=!1},Pt=kn=>{e.visible&&(kn.preventDefault(),kn.stopPropagation(),e.visible=!1)},_n=kn=>{kn&&!e.mouseEnter||Oe.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!L.value||!L.value.isFocusInsideContent())&&(e.visible=!e.visible),le())},At=()=>{e.visible?Et.value[e.hoverIndex]&&Jn(Et.value[e.hoverIndex]):_n()},Cn=kn=>isObject$3(kn.value)?get(kn.value,n.valueKey):kn.value,bn=computed(()=>Et.value.filter(kn=>kn.visible).every(kn=>kn.disabled)),In=computed(()=>e.selected.slice(0,n.maxCollapseTags)),Ln=computed(()=>e.selected.slice(n.maxCollapseTags)),Mn=kn=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!bn.value){kn==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):kn==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const Un=Et.value[e.hoverIndex];(Un.disabled===!0||Un.states.groupDisabled===!0||!Un.visible)&&Mn(kn),nextTick(()=>hn(ae.value))}},Fn=()=>{e.mouseEnter=!0},er=()=>{e.mouseEnter=!1},Qn=(kn,Un)=>{var On,Rn;zn(kn,Un),(Rn=(On=z.value)==null?void 0:On.updatePopper)==null||Rn.call(On)},nr=computed(()=>({maxWidth:`${unref(e.inputWidth)-32-(kt.value?22:0)}px`,width:"100%"}));return{optionList:pe,optionsArray:Et,selectSize:An,handleResize:rr,debouncedOnInputChange:jn,debouncedQueryChange:fr,deletePrevTag:sr,deleteTag:zn,deleteSelected:vn,handleOptionSelect:Jn,scrollToOption:hn,readonly:Ne,resetInputHeight:Bn,showClose:_e,iconComponent:Fe,iconReverse:Ue,showNewOption:jt,collapseTagSize:Dn,setSelected:Nn,managePlaceholder:Wn,selectDisabled:Oe,emptyText:wn,toggleLastOptionHitState:lr,resetInputState:ar,handleComposition:cr,onOptionCreate:Vn,onOptionDestroy:Kn,handleMenuEnter:mr,handleFocus:ur,focus:le,blur:Ce,handleBlur:Ie,handleClearClick:ze,handleClose:qe,handleKeydownEscape:Pt,toggleMenu:_n,selectOption:At,getValueKey:Cn,navigateOptions:Mn,handleDeleteTooltipTag:Qn,dropMenuVisible:En,queryChange:de,groupQueryChange:ue,showTagList:In,collapseTagList:Ln,selectTagsStyle:nr,reference:k,input:$,iOSInput:V,tooltipRef:L,tagTooltipRef:z,tags:j,selectWrapper:re,scrollbar:oe,handleMouseEnter:Fn,handleMouseLeave:er}};var ElOptions=defineComponent({name:"ElOptions",emits:["update-options"],setup(n,{slots:e,emit:r}){let g=[];function y(k,$){if(k.length!==$.length)return!1;for(const[V]of k.entries())if(k[V]!=$[V])return!1;return!0}return()=>{var k,$;const V=(k=e.default)==null?void 0:k.call(e),L=[];function z(j){Array.isArray(j)&&j.forEach(re=>{var oe,ae,de,ue;const pe=(oe=re?.type||{})==null?void 0:oe.name;pe==="ElOptionGroup"?z(!isString$3(re.children)&&!Array.isArray(re.children)&&isFunction$3((ae=re.children)==null?void 0:ae.default)?(de=re.children)==null?void 0:de.default():re.children):pe==="ElOption"?L.push((ue=re.props)==null?void 0:ue.label):Array.isArray(re.children)&&z(re.children)})}return V.length&&z(($=V[0])==null?void 0:$.children),y(L,g)||(g=L,r("update-options",L)),V}}});const COMPONENT_NAME$9="ElSelect",_sfc_main$1V=defineComponent({name:COMPONENT_NAME$9,componentName:COMPONENT_NAME$9,components:{ElInput,ElSelectMenu:ElSelectMenu$1,ElOption:Option$1,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(n,e){const r=useNamespace("select"),g=useNamespace("input"),{t:y}=useLocale(),k=useSelectStates(n),{optionList:$,optionsArray:V,selectSize:L,readonly:z,handleResize:j,collapseTagSize:re,debouncedOnInputChange:oe,debouncedQueryChange:ae,deletePrevTag:de,deleteTag:ue,deleteSelected:pe,handleOptionSelect:he,scrollToOption:xe,setSelected:$e,resetInputHeight:Ne,managePlaceholder:Oe,showClose:_e,selectDisabled:Fe,iconComponent:Ue,iconReverse:kt,showNewOption:Lt,emptyText:wn,toggleLastOptionHitState:Et,resetInputState:xn,handleComposition:jt,onOptionCreate:An,onOptionDestroy:Dn,handleMenuEnter:En,handleFocus:Bn,focus:$n,blur:Wn,handleBlur:Gn,handleClearClick:Nn,handleClose:Zn,handleKeydownEscape:Hn,toggleMenu:rr,selectOption:Xn,getValueKey:Pn,navigateOptions:jn,handleDeleteTooltipTag:fr,dropMenuVisible:yr,reference:Cr,input:sr,iOSInput:zn,tooltipRef:vn,tagTooltipRef:Jn,tags:Tn,selectWrapper:Dt,scrollbar:hn,queryChange:Vn,groupQueryChange:Kn,handleMouseEnter:ar,handleMouseLeave:lr,showTagList:cr,collapseTagList:mr,selectTagsStyle:ur}=useSelect$2(n,k,e),{inputWidth:le,selected:Ce,inputLength:Ie,filteredOptionsCount:ze,visible:qe,selectedLabel:Pt,hoverIndex:_n,query:At,inputHovering:Cn,currentPlaceholder:bn,menuVisibleOnFocus:In,isOnComposition:Ln,options:Mn,cachedOptions:Fn,optionsCount:er,prefixWidth:Qn}=toRefs(k),nr=computed(()=>{const _r=[r.b()],Or=unref(L);return Or&&_r.push(r.m(Or)),n.disabled&&_r.push(r.m("disabled")),_r}),kn=computed(()=>[r.e("tags"),r.is("disabled",unref(Fe))]),Un=computed(()=>[r.b("tags-wrapper"),{"has-prefix":unref(Qn)&&unref(Ce).length}]),On=computed(()=>[r.e("input"),r.is(unref(L)),r.is("disabled",unref(Fe))]),Rn=computed(()=>[r.e("input"),r.is(unref(L)),r.em("input","iOS")]),Yn=computed(()=>[r.is("empty",!n.allowCreate&&!!unref(At)&&unref(ze)===0)]),or=computed(()=>({maxWidth:`${unref(le)>123?unref(le)-123:unref(le)-75}px`})),tr=computed(()=>({marginLeft:`${unref(Qn)}px`,flexGrow:1,width:`${unref(Ie)/(unref(le)-32)}%`,maxWidth:`${unref(le)-42}px`}));provide(selectKey,reactive({props:n,options:Mn,optionsArray:V,cachedOptions:Fn,optionsCount:er,filteredOptionsCount:ze,hoverIndex:_n,handleOptionSelect:he,onOptionCreate:An,onOptionDestroy:Dn,selectWrapper:Dt,selected:Ce,setSelected:$e,queryChange:Vn,groupQueryChange:Kn})),onMounted(()=>{k.cachedPlaceHolder=bn.value=n.placeholder||(()=>y("el.select.placeholder")),n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(bn.value=""),useResizeObserver(Dt,j),n.remote&&n.multiple&&Ne(),nextTick(()=>{const _r=Cr.value&&Cr.value.$el;if(_r&&(le.value=_r.getBoundingClientRect().width,e.slots.prefix)){const Or=_r.querySelector(`.${g.e("prefix")}`);Qn.value=Math.max(Or.getBoundingClientRect().width+11,30)}}),$e()}),n.multiple&&!Array.isArray(n.modelValue)&&e.emit(UPDATE_MODEL_EVENT,[]),!n.multiple&&Array.isArray(n.modelValue)&&e.emit(UPDATE_MODEL_EVENT,"");const hr=computed(()=>{var _r,Or;return(Or=(_r=vn.value)==null?void 0:_r.popperRef)==null?void 0:Or.contentRef});return{isIOS,onOptionsRendered:_r=>{$.value=_r},prefixWidth:Qn,selectSize:L,readonly:z,handleResize:j,collapseTagSize:re,debouncedOnInputChange:oe,debouncedQueryChange:ae,deletePrevTag:de,deleteTag:ue,handleDeleteTooltipTag:fr,deleteSelected:pe,handleOptionSelect:he,scrollToOption:xe,inputWidth:le,selected:Ce,inputLength:Ie,filteredOptionsCount:ze,visible:qe,selectedLabel:Pt,hoverIndex:_n,query:At,inputHovering:Cn,currentPlaceholder:bn,menuVisibleOnFocus:In,isOnComposition:Ln,options:Mn,resetInputHeight:Ne,managePlaceholder:Oe,showClose:_e,selectDisabled:Fe,iconComponent:Ue,iconReverse:kt,showNewOption:Lt,emptyText:wn,toggleLastOptionHitState:Et,resetInputState:xn,handleComposition:jt,handleMenuEnter:En,handleFocus:Bn,focus:$n,blur:Wn,handleBlur:Gn,handleClearClick:Nn,handleClose:Zn,handleKeydownEscape:Hn,toggleMenu:rr,selectOption:Xn,getValueKey:Pn,navigateOptions:jn,dropMenuVisible:yr,reference:Cr,input:sr,iOSInput:zn,tooltipRef:vn,popperPaneRef:hr,tags:Tn,selectWrapper:Dt,scrollbar:hn,wrapperKls:nr,tagsKls:kn,tagWrapperKls:Un,inputKls:On,iOSInputKls:Rn,scrollbarKls:Yn,selectTagsStyle:ur,nsSelect:r,tagTextStyle:or,inputStyle:tr,handleMouseEnter:ar,handleMouseLeave:lr,showTagList:cr,collapseTagList:mr,tagTooltipRef:Jn}}}),_hoisted_1$1t=["disabled","autocomplete","aria-label"],_hoisted_2$1h=["disabled"],_hoisted_3$L={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$9(n,e,r,g,y,k){const $=resolveComponent("el-tag"),V=resolveComponent("el-tooltip"),L=resolveComponent("el-icon"),z=resolveComponent("el-input"),j=resolveComponent("el-option"),re=resolveComponent("el-options"),oe=resolveComponent("el-scrollbar"),ae=resolveComponent("el-select-menu"),de=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectWrapper",class:normalizeClass(n.wrapperKls),onMouseenter:e[22]||(e[22]=(...ue)=>n.handleMouseEnter&&n.handleMouseEnter(...ue)),onMouseleave:e[23]||(e[23]=(...ue)=>n.handleMouseLeave&&n.handleMouseLeave(...ue)),onClick:e[24]||(e[24]=withModifiers((...ue)=>n.toggleMenu&&n.toggleMenu(...ue),["stop"]))},[createVNode(V,{ref:"tooltipRef",visible:n.dropMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onShow:n.handleMenuEnter},{default:withCtx(()=>[createBaseVNode("div",{class:"select-trigger",onMouseenter:e[20]||(e[20]=ue=>n.inputHovering=!0),onMouseleave:e[21]||(e[21]=ue=>n.inputHovering=!1)},[n.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"tags",tabindex:"-1",class:normalizeClass(n.tagsKls),style:normalizeStyle(n.selectTagsStyle),onClick:e[15]||(e[15]=(...ue)=>n.focus&&n.focus(...ue))},[n.collapseTags&&n.selected.length?(openBlock(),createBlock(Transition,{key:0,onAfterLeave:n.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.tagWrapperKls)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.showTagList,ue=>(openBlock(),createBlock($,{key:n.getValueKey(ue),closable:!n.selectDisabled&&!ue.isDisabled,size:n.collapseTagSize,hit:ue.hitState,type:n.tagType,"disable-transitions":"",onClose:pe=>n.deleteTag(pe,ue)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text")),style:normalizeStyle(n.tagTextStyle)},toDisplayString$1(ue.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),n.selected.length>n.maxCollapseTags?(openBlock(),createBlock($,{key:0,closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":""},{default:withCtx(()=>[n.collapseTagsTooltip?(openBlock(),createBlock(V,{key:0,ref:"tagTooltipRef",disabled:n.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text"))},"+ "+toDisplayString$1(n.selected.length-n.maxCollapseTags),3)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.nsSelect.e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.collapseTagList,ue=>(openBlock(),createElementBlock("div",{key:n.getValueKey(ue),class:normalizeClass(n.nsSelect.e("collapse-tag"))},[createVNode($,{class:"in-tooltip",closable:!n.selectDisabled&&!ue.isDisabled,size:n.collapseTagSize,hit:ue.hitState,type:n.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:pe=>n.handleDeleteTooltipTag(pe,ue)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:n.inputWidth-75+"px"})},toDisplayString$1(ue.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(n.nsSelect.e("tags-text"))},"+ "+toDisplayString$1(n.selected.length-n.maxCollapseTags),3))]),_:1},8,["size","type"])):createCommentVNode("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):createCommentVNode("v-if",!0),n.collapseTags?createCommentVNode("v-if",!0):(openBlock(),createBlock(Transition,{key:1,onAfterLeave:n.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.tagWrapperKls),style:normalizeStyle(n.prefixWidth&&n.selected.length?{marginLeft:`${n.prefixWidth}px`}:"")},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.selected,ue=>(openBlock(),createBlock($,{key:n.getValueKey(ue),closable:!n.selectDisabled&&!ue.isDisabled,size:n.collapseTagSize,hit:ue.hitState,type:n.tagType,"disable-transitions":"",onClose:pe=>n.deleteTag(pe,ue)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:n.inputWidth-75+"px"})},toDisplayString$1(ue.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),n.filterable&&!n.selectDisabled?withDirectives((openBlock(),createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":e[0]||(e[0]=ue=>n.query=ue),type:"text",class:normalizeClass(n.inputKls),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:normalizeStyle(n.inputStyle),"aria-label":n.ariaLabel,onFocus:e[1]||(e[1]=(...ue)=>n.handleFocus&&n.handleFocus(...ue)),onBlur:e[2]||(e[2]=(...ue)=>n.handleBlur&&n.handleBlur(...ue)),onKeyup:e[3]||(e[3]=(...ue)=>n.managePlaceholder&&n.managePlaceholder(...ue)),onKeydown:[e[4]||(e[4]=(...ue)=>n.resetInputState&&n.resetInputState(...ue)),e[5]||(e[5]=withKeys(withModifiers(ue=>n.navigateOptions("next"),["prevent"]),["down"])),e[6]||(e[6]=withKeys(withModifiers(ue=>n.navigateOptions("prev"),["prevent"]),["up"])),e[7]||(e[7]=withKeys((...ue)=>n.handleKeydownEscape&&n.handleKeydownEscape(...ue),["esc"])),e[8]||(e[8]=withKeys(withModifiers((...ue)=>n.selectOption&&n.selectOption(...ue),["stop","prevent"]),["enter"])),e[9]||(e[9]=withKeys((...ue)=>n.deletePrevTag&&n.deletePrevTag(...ue),["delete"])),e[10]||(e[10]=withKeys(ue=>n.visible=!1,["tab"]))],onCompositionstart:e[11]||(e[11]=(...ue)=>n.handleComposition&&n.handleComposition(...ue)),onCompositionupdate:e[12]||(e[12]=(...ue)=>n.handleComposition&&n.handleComposition(...ue)),onCompositionend:e[13]||(e[13]=(...ue)=>n.handleComposition&&n.handleComposition(...ue)),onInput:e[14]||(e[14]=(...ue)=>n.debouncedQueryChange&&n.debouncedQueryChange(...ue))},null,46,_hoisted_1$1t)),[[vModelText,n.query]]):createCommentVNode("v-if",!0)],6)):createCommentVNode("v-if",!0),createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),n.isIOS&&!n.multiple&&n.filterable&&n.readonly?(openBlock(),createElementBlock("input",{key:1,ref:"iOSInput",class:normalizeClass(n.iOSInputKls),disabled:n.selectDisabled,type:"text"},null,10,_hoisted_2$1h)):createCommentVNode("v-if",!0),createVNode(z,{id:n.id,ref:"reference",modelValue:n.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=ue=>n.selectedLabel=ue),type:"text",placeholder:typeof n.currentPlaceholder=="function"?n.currentPlaceholder():n.currentPlaceholder,name:n.name,autocomplete:n.autocomplete,size:n.selectSize,disabled:n.selectDisabled,readonly:n.readonly,"validate-event":!1,class:normalizeClass([n.nsSelect.is("focus",n.visible)]),tabindex:n.multiple&&n.filterable?-1:void 0,label:n.ariaLabel,onFocus:n.handleFocus,onBlur:n.handleBlur,onInput:n.debouncedOnInputChange,onPaste:n.debouncedOnInputChange,onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onKeydown:[e[17]||(e[17]=withKeys(withModifiers(ue=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=withKeys(withModifiers(ue=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),withKeys(withModifiers(n.selectOption,["stop","prevent"]),["enter"]),withKeys(n.handleKeydownEscape,["esc"]),e[19]||(e[19]=withKeys(ue=>n.visible=!1,["tab"]))]},createSlots({suffix:withCtx(()=>[n.iconComponent&&!n.showClose?(openBlock(),createBlock(L,{key:0,class:normalizeClass([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),n.showClose&&n.clearIcon?(openBlock(),createBlock(L,{key:1,class:normalizeClass([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:2},[n.$slots.prefix?{name:"prefix",fn:withCtx(()=>[createBaseVNode("div",_hoisted_3$L,[renderSlot(n.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[withDirectives(createVNode(oe,{ref:"scrollbar",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:normalizeClass(n.scrollbarKls)},{default:withCtx(()=>[n.showNewOption?(openBlock(),createBlock(j,{key:0,value:n.query,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(re,{onUpdateOptions:n.onOptionsRendered},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[vShow,n.options.size>0&&!n.loading]]),n.emptyText&&(!n.allowCreate||n.loading||n.allowCreate&&n.options.size===0)?(openBlock(),createElementBlock(Fragment,{key:0},[n.$slots.empty?renderSlot(n.$slots,"empty",{key:0}):(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(n.nsSelect.be("dropdown","empty"))},toDisplayString$1(n.emptyText),3))],64)):createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[de,n.handleClose,n.popperPaneRef]])}var Select$1=_export_sfc$1(_sfc_main$1V,[["render",_sfc_render$9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$1U=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=useNamespace("select"),r=ref(!0),g=getCurrentInstance(),y=ref([]);provide(selectGroupKey,reactive({...toRefs(n)}));const k=inject(selectKey);onMounted(()=>{y.value=$(g.subTree)});const $=L=>{const z=[];return Array.isArray(L.children)&&L.children.forEach(j=>{var re;j.type&&j.type.name==="ElOption"&&j.component&&j.component.proxy?z.push(j.component.proxy):(re=j.children)!=null&&re.length&&z.push(...$(j))}),z},{groupQueryChange:V}=toRaw(k);return watch(V,()=>{r.value=y.value.some(L=>L.visible===!0)},{flush:"post"}),{visible:r,ns:e}}});function _sfc_render$8(n,e,r,g,y,k){return withDirectives((openBlock(),createElementBlock("ul",{class:normalizeClass(n.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(n.ns.be("group","title"))},toDisplayString$1(n.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(n.ns.b("group"))},[renderSlot(n.$slots,"default")],2)])],2)),[[vShow,n.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$1U,[["render",_sfc_render$8],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const ElSelect=withInstall(Select$1,{Option:Option$1,OptionGroup}),ElOption=withNoopInstall(Option$1),ElOptionGroup=withNoopInstall(OptionGroup),usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:componentSizes}}),__default__$C=defineComponent({name:"ElPaginationSizes"}),_sfc_main$1T=defineComponent({...__default__$C,props:paginationSizesProps,emits:["page-size-change"],setup(n,{emit:e}){const r=n,{t:g}=useLocale(),y=useNamespace("pagination"),k=usePagination(),$=ref(r.pageSize);watch(()=>r.pageSizes,(z,j)=>{if(!isEqual$1(z,j)&&Array.isArray(z)){const re=z.includes(r.pageSize)?r.pageSize:r.pageSizes[0];e("page-size-change",re)}}),watch(()=>r.pageSize,z=>{$.value=z});const V=computed(()=>r.pageSizes);function L(z){var j;z!==$.value&&($.value=z,(j=k.handleSizeChange)==null||j.call(k,Number(z)))}return(z,j)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("sizes"))},[createVNode(unref(ElSelect),{"model-value":$.value,disabled:z.disabled,"popper-class":z.popperClass,size:z.size,"validate-event":!1,onChange:L},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),re=>(openBlock(),createBlock(unref(ElOption),{key:re,value:re,label:re+unref(g)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Sizes=_export_sfc$1(_sfc_main$1T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),_hoisted_1$1s=["disabled"],__default__$B=defineComponent({name:"ElPaginationJumper"}),_sfc_main$1S=defineComponent({...__default__$B,props:paginationJumperProps,setup(n){const{t:e}=useLocale(),r=useNamespace("pagination"),{pageCount:g,disabled:y,currentPage:k,changeEvent:$}=usePagination(),V=ref(),L=computed(()=>{var re;return(re=V.value)!=null?re:k?.value});function z(re){V.value=re?+re:""}function j(re){re=Math.trunc(+re),$?.(re),V.value=void 0}return(re,oe)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("jump")),disabled:unref(y)},[createBaseVNode("span",{class:normalizeClass([unref(r).e("goto")])},toDisplayString$1(unref(e)("el.pagination.goto")),3),createVNode(unref(ElInput),{size:re.size,class:normalizeClass([unref(r).e("editor"),unref(r).is("in-pagination")]),min:1,max:unref(g),disabled:unref(y),"model-value":unref(L),"validate-event":!1,label:unref(e)("el.pagination.page"),type:"number","onUpdate:modelValue":z,onChange:j},null,8,["size","class","max","disabled","model-value","label"]),createBaseVNode("span",{class:normalizeClass([unref(r).e("classifier")])},toDisplayString$1(unref(e)("el.pagination.pageClassifier")),3)],10,_hoisted_1$1s))}});var Jumper=_export_sfc$1(_sfc_main$1S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),_hoisted_1$1r=["disabled"],__default__$A=defineComponent({name:"ElPaginationTotal"}),_sfc_main$1R=defineComponent({...__default__$A,props:paginationTotalProps,setup(n){const{t:e}=useLocale(),r=useNamespace("pagination"),{disabled:g}=usePagination();return(y,k)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("total")),disabled:unref(g)},toDisplayString$1(unref(e)("el.pagination.total",{total:y.total})),11,_hoisted_1$1r))}});var Total=_export_sfc$1(_sfc_main$1R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),_hoisted_1$1q=["onKeyup"],_hoisted_2$1g=["aria-current","aria-label","tabindex"],_hoisted_3$K=["tabindex","aria-label"],_hoisted_4$F=["aria-current","aria-label","tabindex"],_hoisted_5$A=["tabindex","aria-label"],_hoisted_6$v=["aria-current","aria-label","tabindex"],__default__$z=defineComponent({name:"ElPaginationPager"}),_sfc_main$1Q=defineComponent({...__default__$z,props:paginationPagerProps,emits:["change"],setup(n,{emit:e}){const r=n,g=useNamespace("pager"),y=useNamespace("icon"),{t:k}=useLocale(),$=ref(!1),V=ref(!1),L=ref(!1),z=ref(!1),j=ref(!1),re=ref(!1),oe=computed(()=>{const Ne=r.pagerCount,Oe=(Ne-1)/2,_e=Number(r.currentPage),Fe=Number(r.pageCount);let Ue=!1,kt=!1;Fe>Ne&&(_e>Ne-Oe&&(Ue=!0),_e<Fe-Oe&&(kt=!0));const Lt=[];if(Ue&&!kt){const wn=Fe-(Ne-2);for(let Et=wn;Et<Fe;Et++)Lt.push(Et)}else if(!Ue&&kt)for(let wn=2;wn<Ne;wn++)Lt.push(wn);else if(Ue&&kt){const wn=Math.floor(Ne/2)-1;for(let Et=_e-wn;Et<=_e+wn;Et++)Lt.push(Et)}else for(let wn=2;wn<Fe;wn++)Lt.push(wn);return Lt}),ae=computed(()=>["more","btn-quickprev",y.b(),g.is("disabled",r.disabled)]),de=computed(()=>["more","btn-quicknext",y.b(),g.is("disabled",r.disabled)]),ue=computed(()=>r.disabled?-1:0);watchEffect(()=>{const Ne=(r.pagerCount-1)/2;$.value=!1,V.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-Ne&&($.value=!0),r.currentPage<r.pageCount-Ne&&(V.value=!0))});function pe(Ne=!1){r.disabled||(Ne?L.value=!0:z.value=!0)}function he(Ne=!1){Ne?j.value=!0:re.value=!0}function xe(Ne){const Oe=Ne.target;if(Oe.tagName.toLowerCase()==="li"&&Array.from(Oe.classList).includes("number")){const _e=Number(Oe.textContent);_e!==r.currentPage&&e("change",_e)}else Oe.tagName.toLowerCase()==="li"&&Array.from(Oe.classList).includes("more")&&$e(Ne)}function $e(Ne){const Oe=Ne.target;if(Oe.tagName.toLowerCase()==="ul"||r.disabled)return;let _e=Number(Oe.textContent);const Fe=r.pageCount,Ue=r.currentPage,kt=r.pagerCount-2;Oe.className.includes("more")&&(Oe.className.includes("quickprev")?_e=Ue-kt:Oe.className.includes("quicknext")&&(_e=Ue+kt)),Number.isNaN(+_e)||(_e<1&&(_e=1),_e>Fe&&(_e=Fe)),_e!==Ue&&e("change",_e)}return(Ne,Oe)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref(g).b()),onClick:$e,onKeyup:withKeys(xe,["enter"])},[Ne.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref(g).is("active",Ne.currentPage===1),unref(g).is("disabled",Ne.disabled)],"number"]),"aria-current":Ne.currentPage===1,"aria-label":unref(k)("el.pagination.currentPage",{pager:1}),tabindex:unref(ue)}," 1 ",10,_hoisted_2$1g)):createCommentVNode("v-if",!0),$.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(unref(ae)),tabindex:unref(ue),"aria-label":unref(k)("el.pagination.prevPages",{pager:Ne.pagerCount-2}),onMouseenter:Oe[0]||(Oe[0]=_e=>pe(!0)),onMouseleave:Oe[1]||(Oe[1]=_e=>L.value=!1),onFocus:Oe[2]||(Oe[2]=_e=>he(!0)),onBlur:Oe[3]||(Oe[3]=_e=>j.value=!1)},[(L.value||j.value)&&!Ne.disabled?(openBlock(),createBlock(unref(d_arrow_left_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_3$K)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(oe),_e=>(openBlock(),createElementBlock("li",{key:_e,class:normalizeClass([[unref(g).is("active",Ne.currentPage===_e),unref(g).is("disabled",Ne.disabled)],"number"]),"aria-current":Ne.currentPage===_e,"aria-label":unref(k)("el.pagination.currentPage",{pager:_e}),tabindex:unref(ue)},toDisplayString$1(_e),11,_hoisted_4$F))),128)),V.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(unref(de)),tabindex:unref(ue),"aria-label":unref(k)("el.pagination.nextPages",{pager:Ne.pagerCount-2}),onMouseenter:Oe[4]||(Oe[4]=_e=>pe()),onMouseleave:Oe[5]||(Oe[5]=_e=>z.value=!1),onFocus:Oe[6]||(Oe[6]=_e=>he()),onBlur:Oe[7]||(Oe[7]=_e=>re.value=!1)},[(z.value||re.value)&&!Ne.disabled?(openBlock(),createBlock(unref(d_arrow_right_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_5$A)):createCommentVNode("v-if",!0),Ne.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref(g).is("active",Ne.currentPage===Ne.pageCount),unref(g).is("disabled",Ne.disabled)],"number"]),"aria-current":Ne.currentPage===Ne.pageCount,"aria-label":unref(k)("el.pagination.currentPage",{pager:Ne.pageCount}),tabindex:unref(ue)},toDisplayString$1(Ne.pageCount),11,_hoisted_6$v)):createCommentVNode("v-if",!0)],42,_hoisted_1$1q))}});var Pager=_export_sfc$1(_sfc_main$1Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const isAbsent=n=>typeof n!="number",paginationProps=buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>isNumber$1(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),paginationEmits={"update:current-page":n=>isNumber$1(n),"update:page-size":n=>isNumber$1(n),"size-change":n=>isNumber$1(n),"current-change":n=>isNumber$1(n),"prev-click":n=>isNumber$1(n),"next-click":n=>isNumber$1(n)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(n,{emit:e,slots:r}){const{t:g}=useLocale(),y=useNamespace("pagination"),k=getCurrentInstance().vnode.props||{},$="onUpdate:currentPage"in k||"onUpdate:current-page"in k||"onCurrentChange"in k,V="onUpdate:pageSize"in k||"onUpdate:page-size"in k||"onSizeChange"in k,L=computed(()=>{if(isAbsent(n.total)&&isAbsent(n.pageCount)||!isAbsent(n.currentPage)&&!$)return!1;if(n.layout.includes("sizes")){if(isAbsent(n.pageCount)){if(!isAbsent(n.total)&&!isAbsent(n.pageSize)&&!V)return!1}else if(!V)return!1}return!0}),z=ref(isAbsent(n.defaultPageSize)?10:n.defaultPageSize),j=ref(isAbsent(n.defaultCurrentPage)?1:n.defaultCurrentPage),re=computed({get(){return isAbsent(n.pageSize)?z.value:n.pageSize},set($e){isAbsent(n.pageSize)&&(z.value=$e),V&&(e("update:page-size",$e),e("size-change",$e))}}),oe=computed(()=>{let $e=0;return isAbsent(n.pageCount)?isAbsent(n.total)||($e=Math.max(1,Math.ceil(n.total/re.value))):$e=n.pageCount,$e}),ae=computed({get(){return isAbsent(n.currentPage)?j.value:n.currentPage},set($e){let Ne=$e;$e<1?Ne=1:$e>oe.value&&(Ne=oe.value),isAbsent(n.currentPage)&&(j.value=Ne),$&&(e("update:current-page",Ne),e("current-change",Ne))}});watch(oe,$e=>{ae.value>$e&&(ae.value=$e)});function de($e){ae.value=$e}function ue($e){re.value=$e;const Ne=oe.value;ae.value>Ne&&(ae.value=Ne)}function pe(){n.disabled||(ae.value-=1,e("prev-click",ae.value))}function he(){n.disabled||(ae.value+=1,e("next-click",ae.value))}function xe($e,Ne){$e&&($e.props||($e.props={}),$e.props.class=[$e.props.class,Ne].join(" "))}return provide(elPaginationKey,{pageCount:oe,disabled:computed(()=>n.disabled),currentPage:ae,changeEvent:de,handleSizeChange:ue}),()=>{var $e,Ne;if(!L.value)return g("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&oe.value<=1)return null;const Oe=[],_e=[],Fe=h$1("div",{class:y.e("rightwrapper")},_e),Ue={prev:h$1(Prev,{disabled:n.disabled,currentPage:ae.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:pe}),jumper:h$1(Jumper,{size:n.small?"small":"default"}),pager:h$1(Pager,{currentPage:ae.value,pageCount:oe.value,pagerCount:n.pagerCount,onChange:de,disabled:n.disabled}),next:h$1(Next,{disabled:n.disabled,currentPage:ae.value,pageCount:oe.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:he}),sizes:h$1(Sizes,{pageSize:re.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,size:n.small?"small":"default"}),slot:(Ne=($e=r?.default)==null?void 0:$e.call(r))!=null?Ne:null,total:h$1(Total,{total:isAbsent(n.total)?0:n.total})},kt=n.layout.split(",").map(wn=>wn.trim());let Lt=!1;return kt.forEach(wn=>{if(wn==="->"){Lt=!0;return}Lt?_e.push(Ue[wn]):Oe.push(Ue[wn])}),xe(Oe[0],y.is("first")),xe(Oe[Oe.length-1],y.is("last")),Lt&&_e.length>0&&(xe(_e[0],y.is("first")),xe(_e[_e.length-1],y.is("last")),Oe.push(Fe)),h$1("div",{class:[y.b(),y.is("background",n.background),{[y.m("small")]:n.small}]},Oe)}}});const ElPagination=withInstall(Pagination),popconfirmProps=buildProps({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:buttonTypes,default:"primary"},cancelButtonType:{type:String,values:buttonTypes,default:"text"},icon:{type:iconPropType,default:()=>question_filled_default},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:useTooltipContentProps.teleported,persistent:useTooltipContentProps.persistent,width:{type:[String,Number],default:150}}),popconfirmEmits={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},__default__$y=defineComponent({name:"ElPopconfirm"}),_sfc_main$1P=defineComponent({...__default__$y,props:popconfirmProps,emits:popconfirmEmits,setup(n,{emit:e}){const r=n,{t:g}=useLocale(),y=useNamespace("popconfirm"),k=ref(),$=()=>{var oe,ae;(ae=(oe=k.value)==null?void 0:oe.onClose)==null||ae.call(oe)},V=computed(()=>({width:addUnit(r.width)})),L=oe=>{e("confirm",oe),$()},z=oe=>{e("cancel",oe),$()},j=computed(()=>r.confirmButtonText||g("el.popconfirm.confirmButtonText")),re=computed(()=>r.cancelButtonText||g("el.popconfirm.cancelButtonText"));return(oe,ae)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:k,trigger:"click",effect:"light"},oe.$attrs,{"popper-class":`${unref(y).namespace.value}-popover`,"popper-style":unref(V),teleported:oe.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":oe.hideAfter,persistent:oe.persistent}),{content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("main"))},[!oe.hideIcon&&oe.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("icon")),style:normalizeStyle({color:oe.iconColor})},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(oe.icon)))]),_:1},8,["class","style"])):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString$1(oe.title),1)],2),createBaseVNode("div",{class:normalizeClass(unref(y).e("action"))},[createVNode(unref(ElButton),{size:"small",type:oe.cancelButtonType==="text"?"":oe.cancelButtonType,text:oe.cancelButtonType==="text",onClick:z},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)),1)]),_:1},8,["type","text"]),createVNode(unref(ElButton),{size:"small",type:oe.confirmButtonType==="text"?"":oe.confirmButtonType,text:oe.confirmButtonType==="text",onClick:L},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(j)),1)]),_:1},8,["type","text"])],2)],2)]),default:withCtx(()=>[oe.$slots.reference?renderSlot(oe.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Popconfirm=_export_sfc$1(_sfc_main$1P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ElPopconfirm=withInstall(Popconfirm),popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":n=>isBoolean$1(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$x=defineComponent({name:"ElPopover"}),_sfc_main$1O=defineComponent({...__default__$x,props:popoverProps,emits:popoverEmits,setup(n,{expose:e,emit:r}){const g=n,y=computed(()=>g[updateEventKeyRaw]),k=useNamespace("popover"),$=ref(),V=computed(()=>{var pe;return(pe=unref($))==null?void 0:pe.popperRef}),L=computed(()=>[{width:addUnit(g.width)},g.popperStyle]),z=computed(()=>[k.b(),g.popperClass,{[k.m("plain")]:!!g.content}]),j=computed(()=>g.transition===`${k.namespace.value}-fade-in-linear`),re=()=>{var pe;(pe=$.value)==null||pe.hide()},oe=()=>{r("before-enter")},ae=()=>{r("before-leave")},de=()=>{r("after-enter")},ue=()=>{r("update:visible",!1),r("after-leave")};return e({popperRef:V,hide:re}),(pe,he)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:$},pe.$attrs,{trigger:pe.trigger,placement:pe.placement,disabled:pe.disabled,visible:pe.visible,transition:pe.transition,"popper-options":pe.popperOptions,tabindex:pe.tabindex,content:pe.content,offset:pe.offset,"show-after":pe.showAfter,"hide-after":pe.hideAfter,"auto-close":pe.autoClose,"show-arrow":pe.showArrow,"aria-label":pe.title,effect:pe.effect,enterable:pe.enterable,"popper-class":unref(z),"popper-style":unref(L),teleported:pe.teleported,persistent:pe.persistent,"gpu-acceleration":unref(j),"onUpdate:visible":unref(y),onBeforeShow:oe,onBeforeHide:ae,onShow:de,onHide:ue}),{content:withCtx(()=>[pe.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).e("title")),role:"title"},toDisplayString$1(pe.title),3)):createCommentVNode("v-if",!0),renderSlot(pe.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(pe.content),1)])]),default:withCtx(()=>[pe.$slots.reference?renderSlot(pe.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc$1(_sfc_main$1O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const attachEvents=(n,e)=>{const r=e.arg||e.value,g=r?.popperRef;g&&(g.triggerRef=n)};var PopoverDirective={mounted(n,e){attachEvents(n,e)},updated(n,e){attachEvents(n,e)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:n=>`${n}%`}}),_hoisted_1$1p=["aria-valuenow"],_hoisted_2$1f={viewBox:"0 0 100 100"},_hoisted_3$J=["d","stroke","stroke-linecap","stroke-width"],_hoisted_4$E=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$z={key:0},__default__$w=defineComponent({name:"ElProgress"}),_sfc_main$1N=defineComponent({...__default__$w,props:progressProps,setup(n){const e=n,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},g=useNamespace("progress"),y=computed(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:xe(e.percentage)})),k=computed(()=>(e.strokeWidth/e.width*100).toFixed(1)),$=computed(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(k.value)/2}`,10):0),V=computed(()=>{const $e=$.value,Ne=e.type==="dashboard";return`
          M 50 50
          m 0 ${Ne?"":"-"}${$e}
          a ${$e} ${$e} 0 1 1 0 ${Ne?"-":""}${$e*2}
          a ${$e} ${$e} 0 1 1 0 ${Ne?"":"-"}${$e*2}
          `}),L=computed(()=>2*Math.PI*$.value),z=computed(()=>e.type==="dashboard"?.75:1),j=computed(()=>`${-1*L.value*(1-z.value)/2}px`),re=computed(()=>({strokeDasharray:`${L.value*z.value}px, ${L.value}px`,strokeDashoffset:j.value})),oe=computed(()=>({strokeDasharray:`${L.value*z.value*(e.percentage/100)}px, ${L.value}px`,strokeDashoffset:j.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),ae=computed(()=>{let $e;return e.color?$e=xe(e.percentage):$e=r[e.status]||r.default,$e}),de=computed(()=>e.status==="warning"?warning_filled_default:e.type==="line"?e.status==="success"?circle_check_default:circle_close_default:e.status==="success"?check_default:close_default),ue=computed(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),pe=computed(()=>e.format(e.percentage));function he($e){const Ne=100/$e.length;return $e.map((_e,Fe)=>isString$3(_e)?{color:_e,percentage:(Fe+1)*Ne}:_e).sort((_e,Fe)=>_e.percentage-Fe.percentage)}const xe=$e=>{var Ne;const{color:Oe}=e;if(isFunction$3(Oe))return Oe($e);if(isString$3(Oe))return Oe;{const _e=he(Oe);for(const Fe of _e)if(Fe.percentage>$e)return Fe.color;return(Ne=_e[_e.length-1])==null?void 0:Ne.color}};return($e,Ne)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m($e.type),unref(g).is($e.status),{[unref(g).m("without-text")]:!$e.showText,[unref(g).m("text-inside")]:$e.textInside}]),role:"progressbar","aria-valuenow":$e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[$e.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(g).be("bar","outer")),style:normalizeStyle({height:`${$e.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(g).be("bar","inner"),{[unref(g).bem("bar","inner","indeterminate")]:$e.indeterminate},{[unref(g).bem("bar","inner","striped")]:$e.striped},{[unref(g).bem("bar","inner","striped-flow")]:$e.stripedFlow}]),style:normalizeStyle(unref(y))},[($e.showText||$e.$slots.default)&&$e.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).be("bar","innerText"))},[renderSlot($e.$slots,"default",{percentage:$e.percentage},()=>[createBaseVNode("span",null,toDisplayString$1(unref(pe)),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).b("circle")),style:normalizeStyle({height:`${$e.width}px`,width:`${$e.width}px`})},[(openBlock(),createElementBlock("svg",_hoisted_2$1f,[createBaseVNode("path",{class:normalizeClass(unref(g).be("circle","track")),d:unref(V),stroke:`var(${unref(g).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":$e.strokeLinecap,"stroke-width":unref(k),fill:"none",style:normalizeStyle(unref(re))},null,14,_hoisted_3$J),createBaseVNode("path",{class:normalizeClass(unref(g).be("circle","path")),d:unref(V),stroke:unref(ae),fill:"none",opacity:$e.percentage?1:0,"stroke-linecap":$e.strokeLinecap,"stroke-width":unref(k),style:normalizeStyle(unref(oe))},null,14,_hoisted_4$E)]))],6)),($e.showText||$e.$slots.default)&&!$e.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(g).e("text")),style:normalizeStyle({fontSize:`${unref(ue)}px`})},[renderSlot($e.$slots,"default",{percentage:$e.percentage},()=>[$e.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de))))]),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$z,toDisplayString$1(unref(pe)),1))])],6)):createCommentVNode("v-if",!0)],10,_hoisted_1$1p))}});var Progress=_export_sfc$1(_sfc_main$1N,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ElProgress=withInstall(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),rateEmits={[CHANGE_EVENT]:n=>isNumber$1(n),[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)},_hoisted_1$1o=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],_hoisted_2$1e=["onMousemove","onClick"],__default__$v=defineComponent({name:"ElRate"}),_sfc_main$1M=defineComponent({...__default__$v,props:rateProps,emits:rateEmits,setup(n,{expose:e,emit:r}){const g=n;function y(Dn,En){const Bn=Gn=>isObject$3(Gn),$n=Object.keys(En).map(Gn=>+Gn).filter(Gn=>{const Nn=En[Gn];return(Bn(Nn)?Nn.excluded:!1)?Dn<Gn:Dn<=Gn}).sort((Gn,Nn)=>Gn-Nn),Wn=En[$n[0]];return Bn(Wn)&&Wn.value||Wn}const k=inject(formContextKey,void 0),$=inject(formItemContextKey,void 0),V=useFormSize(),L=useNamespace("rate"),{inputId:z,isLabeledByFormItem:j}=useFormItemInputId(g,{formItemContext:$}),re=ref(g.modelValue),oe=ref(-1),ae=ref(!0),de=computed(()=>[L.b(),L.m(V.value)]),ue=computed(()=>g.disabled||k?.disabled),pe=computed(()=>L.cssVarBlock({"void-color":g.voidColor,"disabled-void-color":g.disabledVoidColor,"fill-color":Ne.value})),he=computed(()=>{let Dn="";return g.showScore?Dn=g.scoreTemplate.replace(/\{\s*value\s*\}/,ue.value?`${g.modelValue}`:`${re.value}`):g.showText&&(Dn=g.texts[Math.ceil(re.value)-1]),Dn}),xe=computed(()=>g.modelValue*100-Math.floor(g.modelValue)*100),$e=computed(()=>isArray$3(g.colors)?{[g.lowThreshold]:g.colors[0],[g.highThreshold]:{value:g.colors[1],excluded:!0},[g.max]:g.colors[2]}:g.colors),Ne=computed(()=>{const Dn=y(re.value,$e.value);return isObject$3(Dn)?"":Dn}),Oe=computed(()=>{let Dn="";return ue.value?Dn=`${xe.value}%`:g.allowHalf&&(Dn="50%"),{color:Ne.value,width:Dn}}),_e=computed(()=>{let Dn=isArray$3(g.icons)?[...g.icons]:{...g.icons};return Dn=markRaw(Dn),isArray$3(Dn)?{[g.lowThreshold]:Dn[0],[g.highThreshold]:{value:Dn[1],excluded:!0},[g.max]:Dn[2]}:Dn}),Fe=computed(()=>y(g.modelValue,_e.value)),Ue=computed(()=>ue.value?isString$3(g.disabledVoidIcon)?g.disabledVoidIcon:markRaw(g.disabledVoidIcon):isString$3(g.voidIcon)?g.voidIcon:markRaw(g.voidIcon)),kt=computed(()=>y(re.value,_e.value));function Lt(Dn){const En=ue.value&&xe.value>0&&Dn-1<g.modelValue&&Dn>g.modelValue,Bn=g.allowHalf&&ae.value&&Dn-.5<=re.value&&Dn>re.value;return En||Bn}function wn(Dn){g.clearable&&Dn===g.modelValue&&(Dn=0),r(UPDATE_MODEL_EVENT,Dn),g.modelValue!==Dn&&r("change",Dn)}function Et(Dn){ue.value||(g.allowHalf&&ae.value?wn(re.value):wn(Dn))}function xn(Dn){if(ue.value)return;let En=re.value;const Bn=Dn.code;return Bn===EVENT_CODE.up||Bn===EVENT_CODE.right?(g.allowHalf?En+=.5:En+=1,Dn.stopPropagation(),Dn.preventDefault()):(Bn===EVENT_CODE.left||Bn===EVENT_CODE.down)&&(g.allowHalf?En-=.5:En-=1,Dn.stopPropagation(),Dn.preventDefault()),En=En<0?0:En,En=En>g.max?g.max:En,r(UPDATE_MODEL_EVENT,En),r("change",En),En}function jt(Dn,En){if(!ue.value){if(g.allowHalf&&En){let Bn=En.target;hasClass(Bn,L.e("item"))&&(Bn=Bn.querySelector(`.${L.e("icon")}`)),(Bn.clientWidth===0||hasClass(Bn,L.e("decimal")))&&(Bn=Bn.parentNode),ae.value=En.offsetX*2<=Bn.clientWidth,re.value=ae.value?Dn-.5:Dn}else re.value=Dn;oe.value=Dn}}function An(){ue.value||(g.allowHalf&&(ae.value=g.modelValue!==Math.floor(g.modelValue)),re.value=g.modelValue,oe.value=-1)}return watch(()=>g.modelValue,Dn=>{re.value=Dn,ae.value=g.modelValue!==Math.floor(g.modelValue)}),g.modelValue||r(UPDATE_MODEL_EVENT,0),e({setCurrentValue:jt,resetCurrentValue:An}),(Dn,En)=>{var Bn;return openBlock(),createElementBlock("div",{id:unref(z),class:normalizeClass([unref(de),unref(L).is("disabled",unref(ue))]),role:"slider","aria-label":unref(j)?void 0:Dn.label||"rating","aria-labelledby":unref(j)?(Bn=unref($))==null?void 0:Bn.labelId:void 0,"aria-valuenow":re.value,"aria-valuetext":unref(he)||void 0,"aria-valuemin":"0","aria-valuemax":Dn.max,tabindex:"0",style:normalizeStyle(unref(pe)),onKeydown:xn},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Dn.max,($n,Wn)=>(openBlock(),createElementBlock("span",{key:Wn,class:normalizeClass(unref(L).e("item")),onMousemove:Gn=>jt($n,Gn),onMouseleave:An,onClick:Gn=>Et($n)},[createVNode(unref(ElIcon),{class:normalizeClass([unref(L).e("icon"),{hover:oe.value===$n},unref(L).is("active",$n<=re.value)])},{default:withCtx(()=>[Lt($n)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(kt)),null,null,512)),[[vShow,$n<=re.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Ue)),null,null,512)),[[vShow,!($n<=re.value)]])],64)),Lt($n)?(openBlock(),createBlock(unref(ElIcon),{key:1,style:normalizeStyle(unref(Oe)),class:normalizeClass([unref(L).e("icon"),unref(L).e("decimal")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Fe))))]),_:1},8,["style","class"])):createCommentVNode("v-if",!0)]),_:2},1032,["class"])],42,_hoisted_2$1e))),128)),Dn.showText||Dn.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(L).e("text"))},toDisplayString$1(unref(he)),3)):createCommentVNode("v-if",!0)],46,_hoisted_1$1o)}}});var Rate=_export_sfc$1(_sfc_main$1M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ElRate=withInstall(Rate),IconMap={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IconComponentMap={[IconMap.success]:circle_check_filled_default,[IconMap.warning]:warning_filled_default,[IconMap.error]:circle_close_filled_default,[IconMap.info]:info_filled_default},resultProps=buildProps({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),__default__$u=defineComponent({name:"ElResult"}),_sfc_main$1L=defineComponent({...__default__$u,props:resultProps,setup(n){const e=n,r=useNamespace("result"),g=computed(()=>{const y=e.icon,k=y&&IconMap[y]?IconMap[y]:"icon-info",$=IconComponentMap[k]||IconComponentMap["icon-info"];return{class:k,component:$}});return(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[createBaseVNode("div",{class:normalizeClass(unref(r).e("icon"))},[renderSlot(y.$slots,"icon",{},()=>[unref(g).component?(openBlock(),createBlock(resolveDynamicComponent(unref(g).component),{key:0,class:normalizeClass(unref(g).class)},null,8,["class"])):createCommentVNode("v-if",!0)])],2),y.title||y.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("title"))},[renderSlot(y.$slots,"title",{},()=>[createBaseVNode("p",null,toDisplayString$1(y.title),1)])],2)):createCommentVNode("v-if",!0),y.subTitle||y.$slots["sub-title"]?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("subtitle"))},[renderSlot(y.$slots,"sub-title",{},()=>[createBaseVNode("p",null,toDisplayString$1(y.subTitle),1)])],2)):createCommentVNode("v-if",!0),y.$slots.extra?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(r).e("extra"))},[renderSlot(y.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2))}});var Result=_export_sfc$1(_sfc_main$1L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const ElResult=withInstall(Result);var safeIsNaN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function isEqual(n,e){return!!(n===e||safeIsNaN(n)&&safeIsNaN(e))}function areInputsEqual(n,e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(!isEqual(n[r],e[r]))return!1;return!0}function memoizeOne(n,e){e===void 0&&(e=areInputsEqual);var r=null;function g(){for(var y=[],k=0;k<arguments.length;k++)y[k]=arguments[k];if(r&&r.lastThis===this&&e(y,r.lastArgs))return r.lastResult;var $=n.apply(this,y);return r={lastResult:$,lastArgs:y,lastThis:this},$}return g.clear=function(){r=null},g}const useCache=()=>{const e=getCurrentInstance().proxy.$props;return computed(()=>{const r=(g,y,k)=>({});return e.perfMode?memoize(r):memoizeOne(r)})},DEFAULT_DYNAMIC_LIST_ITEM_SIZE=50,ITEM_RENDER_EVT="itemRendered",SCROLL_EVT="scroll",FORWARD="forward",BACKWARD="backward",AUTO_ALIGNMENT="auto",SMART_ALIGNMENT="smart",START_ALIGNMENT="start",CENTERED_ALIGNMENT="center",END_ALIGNMENT="end",HORIZONTAL="horizontal",VERTICAL="vertical",LTR$1="ltr",RTL$1="rtl",RTL_OFFSET_NAG="negative",RTL_OFFSET_POS_ASC="positive-ascending",RTL_OFFSET_POS_DESC="positive-descending",ScrollbarDirKey={[HORIZONTAL]:"left",[VERTICAL]:"top"},SCROLLBAR_MIN_SIZE=20,LayoutKeys={[HORIZONTAL]:"deltaX",[VERTICAL]:"deltaY"},useWheel=({atEndEdge:n,atStartEdge:e,layout:r},g)=>{let y,k=0;const $=L=>L<0&&e.value||L>0&&n.value;return{hasReachedEdge:$,onWheel:L=>{cAF(y);const z=L[LayoutKeys[r.value]];$(k)&&$(k+z)||(k+=z,isFirefox()||L.preventDefault(),y=rAF(()=>{g(k),k=0}))}}},itemSize$1=buildProp({type:definePropType([Number,Function]),required:!0}),estimatedItemSize=buildProp({type:Number}),cache$2=buildProp({type:Number,default:2}),direction=buildProp({type:String,values:["ltr","rtl"],default:"ltr"}),initScrollOffset=buildProp({type:Number,default:0}),total=buildProp({type:Number,required:!0}),layout=buildProp({type:String,values:["horizontal","vertical"],default:VERTICAL}),virtualizedProps=buildProps({className:{type:String,default:""},containerElement:{type:definePropType([String,Object]),default:"div"},data:{type:definePropType(Array),default:()=>mutable([])},direction,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:definePropType([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),virtualizedListProps=buildProps({cache:cache$2,estimatedItemSize,layout,initScrollOffset,total,itemSize:itemSize$1,...virtualizedProps}),scrollbarSize={type:Number,default:6},startGap={type:Number,default:0},endGap={type:Number,default:2},virtualizedGridProps=buildProps({columnCache:cache$2,columnWidth:itemSize$1,estimatedColumnWidth:estimatedItemSize,estimatedRowHeight:estimatedItemSize,initScrollLeft:initScrollOffset,initScrollTop:initScrollOffset,itemKey:{type:definePropType(Function),default:({columnIndex:n,rowIndex:e})=>`${e}:${n}`},rowCache:cache$2,rowHeight:itemSize$1,totalColumn:total,totalRow:total,hScrollbarSize:scrollbarSize,vScrollbarSize:scrollbarSize,scrollbarStartGap:startGap,scrollbarEndGap:endGap,role:String,...virtualizedProps}),virtualizedScrollbarProps=buildProps({alwaysOn:Boolean,class:String,layout,total,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize,startGap,endGap,visible:Boolean}),getScrollDir=(n,e)=>n<e?FORWARD:BACKWARD,isHorizontal=n=>n===LTR$1||n===RTL$1||n===HORIZONTAL,isRTL=n=>n===RTL$1;let cachedRTLResult=null;function getRTLOffsetType(n=!1){if(cachedRTLResult===null||n){const e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";const g=document.createElement("div"),y=g.style;return y.width="100px",y.height="100px",e.appendChild(g),document.body.appendChild(e),e.scrollLeft>0?cachedRTLResult=RTL_OFFSET_POS_DESC:(e.scrollLeft=1,e.scrollLeft===0?cachedRTLResult=RTL_OFFSET_NAG:cachedRTLResult=RTL_OFFSET_POS_ASC),document.body.removeChild(e),cachedRTLResult}return cachedRTLResult}function renderThumbStyle({move:n,size:e,bar:r},g){const y={},k=`translate${r.axis}(${n}px)`;return y[r.size]=e,y.transform=k,y.msTransform=k,y.webkitTransform=k,g==="horizontal"?y.height="100%":y.width="100%",y}const ScrollBar=defineComponent({name:"ElVirtualScrollBar",props:virtualizedScrollbarProps,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const r=computed(()=>n.startGap+n.endGap),g=useNamespace("virtual-scrollbar"),y=useNamespace("scrollbar"),k=ref(),$=ref();let V=null,L=null;const z=reactive({isDragging:!1,traveled:0}),j=computed(()=>BAR_MAP[n.layout]),re=computed(()=>n.clientSize-unref(r)),oe=computed(()=>({position:"absolute",width:`${HORIZONTAL===n.layout?re.value:n.scrollbarSize}px`,height:`${HORIZONTAL===n.layout?n.scrollbarSize:re.value}px`,[ScrollbarDirKey[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),ae=computed(()=>{const _e=n.ratio,Fe=n.clientSize;if(_e>=100)return Number.POSITIVE_INFINITY;if(_e>=50)return _e*Fe/100;const Ue=Fe/3;return Math.floor(Math.min(Math.max(_e*Fe,SCROLLBAR_MIN_SIZE),Ue))}),de=computed(()=>{if(!Number.isFinite(ae.value))return{display:"none"};const _e=`${ae.value}px`;return renderThumbStyle({bar:j.value,size:_e,move:z.traveled},n.layout)}),ue=computed(()=>Math.floor(n.clientSize-ae.value-unref(r))),pe=()=>{window.addEventListener("mousemove",Ne),window.addEventListener("mouseup",$e);const _e=unref($);_e&&(L=document.onselectstart,document.onselectstart=()=>!1,_e.addEventListener("touchmove",Ne),_e.addEventListener("touchend",$e))},he=()=>{window.removeEventListener("mousemove",Ne),window.removeEventListener("mouseup",$e),document.onselectstart=L,L=null;const _e=unref($);_e&&(_e.removeEventListener("touchmove",Ne),_e.removeEventListener("touchend",$e))},xe=_e=>{_e.stopImmediatePropagation(),!(_e.ctrlKey||[1,2].includes(_e.button))&&(z.isDragging=!0,z[j.value.axis]=_e.currentTarget[j.value.offset]-(_e[j.value.client]-_e.currentTarget.getBoundingClientRect()[j.value.direction]),e("start-move"),pe())},$e=()=>{z.isDragging=!1,z[j.value.axis]=0,e("stop-move"),he()},Ne=_e=>{const{isDragging:Fe}=z;if(!Fe||!$.value||!k.value)return;const Ue=z[j.value.axis];if(!Ue)return;cAF(V);const kt=(k.value.getBoundingClientRect()[j.value.direction]-_e[j.value.client])*-1,Lt=$.value[j.value.offset]-Ue,wn=kt-Lt;V=rAF(()=>{z.traveled=Math.max(n.startGap,Math.min(wn,ue.value)),e("scroll",wn,ue.value)})},Oe=_e=>{const Fe=Math.abs(_e.target.getBoundingClientRect()[j.value.direction]-_e[j.value.client]),Ue=$.value[j.value.offset]/2,kt=Fe-Ue;z.traveled=Math.max(0,Math.min(kt,ue.value)),e("scroll",kt,ue.value)};return watch(()=>n.scrollFrom,_e=>{z.isDragging||(z.traveled=Math.ceil(_e*ue.value))}),onBeforeUnmount(()=>{he()}),()=>h$1("div",{role:"presentation",ref:k,class:[g.b(),n.class,(n.alwaysOn||z.isDragging)&&"always-on"],style:oe.value,onMousedown:withModifiers(Oe,["stop","prevent"]),onTouchstartPrevent:xe},h$1("div",{ref:$,class:y.e("thumb"),style:de.value,onMousedown:xe},[]))}}),createList=({name:n,getOffset:e,getItemSize:r,getItemOffset:g,getEstimatedTotalSize:y,getStartIndexForOffset:k,getStopIndexForStartIndex:$,initCache:V,clearCache:L,validateProps:z})=>defineComponent({name:n??"ElVirtualList",props:virtualizedListProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(j,{emit:re,expose:oe}){z(j);const ae=getCurrentInstance(),de=useNamespace("vl"),ue=ref(V(j,ae)),pe=useCache(),he=ref(),xe=ref(),$e=ref(),Ne=ref({isScrolling:!1,scrollDir:"forward",scrollOffset:isNumber$1(j.initScrollOffset)?j.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:j.scrollbarAlwaysOn}),Oe=computed(()=>{const{total:Zn,cache:Hn}=j,{isScrolling:rr,scrollDir:Xn,scrollOffset:Pn}=unref(Ne);if(Zn===0)return[0,0,0,0];const jn=k(j,Pn,unref(ue)),fr=$(j,jn,Pn,unref(ue)),yr=!rr||Xn===BACKWARD?Math.max(1,Hn):1,Cr=!rr||Xn===FORWARD?Math.max(1,Hn):1;return[Math.max(0,jn-yr),Math.max(0,Math.min(Zn-1,fr+Cr)),jn,fr]}),_e=computed(()=>y(j,unref(ue))),Fe=computed(()=>isHorizontal(j.layout)),Ue=computed(()=>[{position:"relative",[`overflow-${Fe.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:j.direction,height:isNumber$1(j.height)?`${j.height}px`:j.height,width:isNumber$1(j.width)?`${j.width}px`:j.width},j.style]),kt=computed(()=>{const Zn=unref(_e),Hn=unref(Fe);return{height:Hn?"100%":`${Zn}px`,pointerEvents:unref(Ne).isScrolling?"none":void 0,width:Hn?`${Zn}px`:"100%"}}),Lt=computed(()=>Fe.value?j.width:j.height),{onWheel:wn}=useWheel({atStartEdge:computed(()=>Ne.value.scrollOffset<=0),atEndEdge:computed(()=>Ne.value.scrollOffset>=_e.value),layout:computed(()=>j.layout)},Zn=>{var Hn,rr;(rr=(Hn=$e.value).onMouseUp)==null||rr.call(Hn),En(Math.min(Ne.value.scrollOffset+Zn,_e.value-Lt.value))}),Et=()=>{const{total:Zn}=j;if(Zn>0){const[Pn,jn,fr,yr]=unref(Oe);re(ITEM_RENDER_EVT,Pn,jn,fr,yr)}const{scrollDir:Hn,scrollOffset:rr,updateRequested:Xn}=unref(Ne);re(SCROLL_EVT,Hn,rr,Xn)},xn=Zn=>{const{clientHeight:Hn,scrollHeight:rr,scrollTop:Xn}=Zn.currentTarget,Pn=unref(Ne);if(Pn.scrollOffset===Xn)return;const jn=Math.max(0,Math.min(Xn,rr-Hn));Ne.value={...Pn,isScrolling:!0,scrollDir:getScrollDir(Pn.scrollOffset,jn),scrollOffset:jn,updateRequested:!1},nextTick(Wn)},jt=Zn=>{const{clientWidth:Hn,scrollLeft:rr,scrollWidth:Xn}=Zn.currentTarget,Pn=unref(Ne);if(Pn.scrollOffset===rr)return;const{direction:jn}=j;let fr=rr;if(jn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{fr=-rr;break}case RTL_OFFSET_POS_DESC:{fr=Xn-Hn-rr;break}}fr=Math.max(0,Math.min(fr,Xn-Hn)),Ne.value={...Pn,isScrolling:!0,scrollDir:getScrollDir(Pn.scrollOffset,fr),scrollOffset:fr,updateRequested:!1},nextTick(Wn)},An=Zn=>{unref(Fe)?jt(Zn):xn(Zn),Et()},Dn=(Zn,Hn)=>{const rr=(_e.value-Lt.value)/Hn*Zn;En(Math.min(_e.value-Lt.value,rr))},En=Zn=>{Zn=Math.max(Zn,0),Zn!==unref(Ne).scrollOffset&&(Ne.value={...unref(Ne),scrollOffset:Zn,scrollDir:getScrollDir(unref(Ne).scrollOffset,Zn),updateRequested:!0},nextTick(Wn))},Bn=(Zn,Hn=AUTO_ALIGNMENT)=>{const{scrollOffset:rr}=unref(Ne);Zn=Math.max(0,Math.min(Zn,j.total-1)),En(e(j,Zn,Hn,rr,unref(ue)))},$n=Zn=>{const{direction:Hn,itemSize:rr,layout:Xn}=j,Pn=pe.value(L&&rr,L&&Xn,L&&Hn);let jn;if(hasOwn$1(Pn,String(Zn)))jn=Pn[Zn];else{const fr=g(j,Zn,unref(ue)),yr=r(j,Zn,unref(ue)),Cr=unref(Fe),sr=Hn===RTL$1,zn=Cr?fr:0;Pn[Zn]=jn={position:"absolute",left:sr?void 0:`${zn}px`,right:sr?`${zn}px`:void 0,top:Cr?0:`${fr}px`,height:Cr?"100%":`${yr}px`,width:Cr?`${yr}px`:"100%"}}return jn},Wn=()=>{Ne.value.isScrolling=!1,nextTick(()=>{pe.value(-1,null,null)})},Gn=()=>{const Zn=he.value;Zn&&(Zn.scrollTop=0)};onMounted(()=>{if(!isClient)return;const{initScrollOffset:Zn}=j,Hn=unref(he);isNumber$1(Zn)&&Hn&&(unref(Fe)?Hn.scrollLeft=Zn:Hn.scrollTop=Zn),Et()}),onUpdated(()=>{const{direction:Zn,layout:Hn}=j,{scrollOffset:rr,updateRequested:Xn}=unref(Ne),Pn=unref(he);if(Xn&&Pn)if(Hn===HORIZONTAL)if(Zn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{Pn.scrollLeft=-rr;break}case RTL_OFFSET_POS_ASC:{Pn.scrollLeft=rr;break}default:{const{clientWidth:jn,scrollWidth:fr}=Pn;Pn.scrollLeft=fr-jn-rr;break}}else Pn.scrollLeft=rr;else Pn.scrollTop=rr});const Nn={ns:de,clientSize:Lt,estimatedTotalSize:_e,windowStyle:Ue,windowRef:he,innerRef:xe,innerStyle:kt,itemsToRender:Oe,scrollbarRef:$e,states:Ne,getItemStyle:$n,onScroll:An,onScrollbarScroll:Dn,onWheel:wn,scrollTo:En,scrollToItem:Bn,resetScrollTop:Gn};return oe({windowRef:he,innerRef:xe,getItemStyleCache:pe,scrollTo:En,scrollToItem:Bn,resetScrollTop:Gn,states:Ne}),Nn},render(j){var re;const{$slots:oe,className:ae,clientSize:de,containerElement:ue,data:pe,getItemStyle:he,innerElement:xe,itemsToRender:$e,innerStyle:Ne,layout:Oe,total:_e,onScroll:Fe,onScrollbarScroll:Ue,onWheel:kt,states:Lt,useIsScrolling:wn,windowStyle:Et,ns:xn}=j,[jt,An]=$e,Dn=resolveDynamicComponent(ue),En=resolveDynamicComponent(xe),Bn=[];if(_e>0)for(let Nn=jt;Nn<=An;Nn++)Bn.push((re=oe.default)==null?void 0:re.call(oe,{data:pe,key:Nn,index:Nn,isScrolling:wn?Lt.isScrolling:void 0,style:he(Nn)}));const $n=[h$1(En,{style:Ne,ref:"innerRef"},isString$3(En)?Bn:{default:()=>Bn})],Wn=h$1(ScrollBar,{ref:"scrollbarRef",clientSize:de,layout:Oe,onScroll:Ue,ratio:de*100/this.estimatedTotalSize,scrollFrom:Lt.scrollOffset/(this.estimatedTotalSize-de),total:_e}),Gn=h$1(Dn,{class:[xn.e("window"),ae],style:Et,onScroll:Fe,onWheel:kt,ref:"windowRef",key:0},isString$3(Dn)?[$n]:{default:()=>[$n]});return h$1("div",{key:0,class:[xn.e("wrapper"),Lt.scrollbarAlwaysOn?"always-on":""]},[Gn,Wn])}}),FixedSizeList=createList({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:r,layout:g,width:y},k,$,V)=>{const L=isHorizontal(g)?y:n,z=Math.max(0,e*r-L),j=Math.min(z,k*r),re=Math.max(0,(k+1)*r-L);switch($===SMART_ALIGNMENT&&(V>=re-L&&V<=j+L?$=AUTO_ALIGNMENT:$=CENTERED_ALIGNMENT),$){case START_ALIGNMENT:return j;case END_ALIGNMENT:return re;case CENTERED_ALIGNMENT:{const oe=Math.round(re+(j-re)/2);return oe<Math.ceil(L/2)?0:oe>z+Math.floor(L/2)?z:oe}case AUTO_ALIGNMENT:default:return V>=re&&V<=j?V:V<re?re:j}},getStartIndexForOffset:({total:n,itemSize:e},r)=>Math.max(0,Math.min(n-1,Math.floor(r/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:r,layout:g,width:y},k,$)=>{const V=k*r,L=isHorizontal(g)?y:n,z=Math.ceil((L+$-V)/r);return Math.max(0,Math.min(e-1,k+z-1))},initCache(){},clearCache:!0,validateProps(){}}),getItemFromCache$1=(n,e,r)=>{const{itemSize:g}=n,{items:y,lastVisitedIndex:k}=r;if(e>k){let $=0;if(k>=0){const V=y[k];$=V.offset+V.size}for(let V=k+1;V<=e;V++){const L=g(V);y[V]={offset:$,size:L},$+=L}r.lastVisitedIndex=e}return y[e]},findItem$1=(n,e,r)=>{const{items:g,lastVisitedIndex:y}=e;return(y>0?g[y].offset:0)>=r?bs$1(n,e,0,y,r):es$1(n,e,Math.max(0,y),r)},bs$1=(n,e,r,g,y)=>{for(;r<=g;){const k=r+Math.floor((g-r)/2),$=getItemFromCache$1(n,k,e).offset;if($===y)return k;$<y?r=k+1:$>y&&(g=k-1)}return Math.max(0,r-1)},es$1=(n,e,r,g)=>{const{total:y}=n;let k=1;for(;r<y&&getItemFromCache$1(n,r,e).offset<g;)r+=k,k*=2;return bs$1(n,e,Math.floor(r/2),Math.min(r,y-1),g)},getEstimatedTotalSize=({total:n},{items:e,estimatedItemSize:r,lastVisitedIndex:g})=>{let y=0;if(g>=n&&(g=n-1),g>=0){const V=e[g];y=V.offset+V.size}const $=(n-g-1)*r;return y+$},DynamicSizeList=createList({name:"ElDynamicSizeList",getItemOffset:(n,e,r)=>getItemFromCache$1(n,e,r).offset,getItemSize:(n,e,{items:r})=>r[e].size,getEstimatedTotalSize,getOffset:(n,e,r,g,y)=>{const{height:k,layout:$,width:V}=n,L=isHorizontal($)?V:k,z=getItemFromCache$1(n,e,y),j=getEstimatedTotalSize(n,y),re=Math.max(0,Math.min(j-L,z.offset)),oe=Math.max(0,z.offset-L+z.size);switch(r===SMART_ALIGNMENT&&(g>=oe-L&&g<=re+L?r=AUTO_ALIGNMENT:r=CENTERED_ALIGNMENT),r){case START_ALIGNMENT:return re;case END_ALIGNMENT:return oe;case CENTERED_ALIGNMENT:return Math.round(oe+(re-oe)/2);case AUTO_ALIGNMENT:default:return g>=oe&&g<=re?g:g<oe?oe:re}},getStartIndexForOffset:(n,e,r)=>findItem$1(n,r,e),getStopIndexForStartIndex:(n,e,r,g)=>{const{height:y,total:k,layout:$,width:V}=n,L=isHorizontal($)?V:y,z=getItemFromCache$1(n,e,g),j=r+L;let re=z.offset+z.size,oe=e;for(;oe<k-1&&re<j;)oe++,re+=getItemFromCache$1(n,oe,g).size;return oe},initCache({estimatedItemSize:n=DEFAULT_DYNAMIC_LIST_ITEM_SIZE},e){const r={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return r.clearCacheAfterIndex=(g,y=!0)=>{var k,$;r.lastVisitedIndex=Math.min(r.lastVisitedIndex,g-1),(k=e.exposed)==null||k.getItemStyleCache(-1),y&&(($=e.proxy)==null||$.$forceUpdate())},r},clearCache:!1,validateProps:({itemSize:n})=>{}}),useGridWheel=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:r,atYStartEdge:g},y)=>{let k=null,$=0,V=0;const L=(j,re)=>{const oe=j<=0&&e.value||j>=0&&n.value,ae=re<=0&&g.value||re>=0&&r.value;return oe&&ae};return{hasReachedEdge:L,onWheel:j=>{cAF(k);let re=j.deltaX,oe=j.deltaY;Math.abs(re)>Math.abs(oe)?oe=0:re=0,j.shiftKey&&oe!==0&&(re=oe,oe=0),!(L($,V)&&L($+re,V+oe))&&($+=re,V+=oe,j.preventDefault(),k=rAF(()=>{y($,V),$=0,V=0}))}}},createGrid=({name:n,clearCache:e,getColumnPosition:r,getColumnStartIndexForOffset:g,getColumnStopIndexForStartIndex:y,getEstimatedTotalHeight:k,getEstimatedTotalWidth:$,getColumnOffset:V,getRowOffset:L,getRowPosition:z,getRowStartIndexForOffset:j,getRowStopIndexForStartIndex:re,initCache:oe,injectToInstance:ae,validateProps:de})=>defineComponent({name:n??"ElVirtualList",props:virtualizedGridProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(ue,{emit:pe,expose:he,slots:xe}){const $e=useNamespace("vl");de(ue);const Ne=getCurrentInstance(),Oe=ref(oe(ue,Ne));ae?.(Ne,Oe);const _e=ref(),Fe=ref(),Ue=ref(),kt=ref(null),Lt=ref({isScrolling:!1,scrollLeft:isNumber$1(ue.initScrollLeft)?ue.initScrollLeft:0,scrollTop:isNumber$1(ue.initScrollTop)?ue.initScrollTop:0,updateRequested:!1,xAxisScrollDir:FORWARD,yAxisScrollDir:FORWARD}),wn=useCache(),Et=computed(()=>Number.parseInt(`${ue.height}`,10)),xn=computed(()=>Number.parseInt(`${ue.width}`,10)),jt=computed(()=>{const{totalColumn:Dt,totalRow:hn,columnCache:Vn}=ue,{isScrolling:Kn,xAxisScrollDir:ar,scrollLeft:lr}=unref(Lt);if(Dt===0||hn===0)return[0,0,0,0];const cr=g(ue,lr,unref(Oe)),mr=y(ue,cr,lr,unref(Oe)),ur=!Kn||ar===BACKWARD?Math.max(1,Vn):1,le=!Kn||ar===FORWARD?Math.max(1,Vn):1;return[Math.max(0,cr-ur),Math.max(0,Math.min(Dt-1,mr+le)),cr,mr]}),An=computed(()=>{const{totalColumn:Dt,totalRow:hn,rowCache:Vn}=ue,{isScrolling:Kn,yAxisScrollDir:ar,scrollTop:lr}=unref(Lt);if(Dt===0||hn===0)return[0,0,0,0];const cr=j(ue,lr,unref(Oe)),mr=re(ue,cr,lr,unref(Oe)),ur=!Kn||ar===BACKWARD?Math.max(1,Vn):1,le=!Kn||ar===FORWARD?Math.max(1,Vn):1;return[Math.max(0,cr-ur),Math.max(0,Math.min(hn-1,mr+le)),cr,mr]}),Dn=computed(()=>k(ue,unref(Oe))),En=computed(()=>$(ue,unref(Oe))),Bn=computed(()=>{var Dt;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:ue.direction,height:isNumber$1(ue.height)?`${ue.height}px`:ue.height,width:isNumber$1(ue.width)?`${ue.width}px`:ue.width},(Dt=ue.style)!=null?Dt:{}]}),$n=computed(()=>{const Dt=`${unref(En)}px`;return{height:`${unref(Dn)}px`,pointerEvents:unref(Lt).isScrolling?"none":void 0,width:Dt}}),Wn=()=>{const{totalColumn:Dt,totalRow:hn}=ue;if(Dt>0&&hn>0){const[mr,ur,le,Ce]=unref(jt),[Ie,ze,qe,Pt]=unref(An);pe(ITEM_RENDER_EVT,{columnCacheStart:mr,columnCacheEnd:ur,rowCacheStart:Ie,rowCacheEnd:ze,columnVisibleStart:le,columnVisibleEnd:Ce,rowVisibleStart:qe,rowVisibleEnd:Pt})}const{scrollLeft:Vn,scrollTop:Kn,updateRequested:ar,xAxisScrollDir:lr,yAxisScrollDir:cr}=unref(Lt);pe(SCROLL_EVT,{xAxisScrollDir:lr,scrollLeft:Vn,yAxisScrollDir:cr,scrollTop:Kn,updateRequested:ar})},Gn=Dt=>{const{clientHeight:hn,clientWidth:Vn,scrollHeight:Kn,scrollLeft:ar,scrollTop:lr,scrollWidth:cr}=Dt.currentTarget,mr=unref(Lt);if(mr.scrollTop===lr&&mr.scrollLeft===ar)return;let ur=ar;if(isRTL(ue.direction))switch(getRTLOffsetType()){case RTL_OFFSET_NAG:ur=-ar;break;case RTL_OFFSET_POS_DESC:ur=cr-Vn-ar;break}Lt.value={...mr,isScrolling:!0,scrollLeft:ur,scrollTop:Math.max(0,Math.min(lr,Kn-hn)),updateRequested:!0,xAxisScrollDir:getScrollDir(mr.scrollLeft,ur),yAxisScrollDir:getScrollDir(mr.scrollTop,lr)},nextTick(()=>jn()),fr(),Wn()},Nn=(Dt,hn)=>{const Vn=unref(Et),Kn=(Dn.value-Vn)/hn*Dt;rr({scrollTop:Math.min(Dn.value-Vn,Kn)})},Zn=(Dt,hn)=>{const Vn=unref(xn),Kn=(En.value-Vn)/hn*Dt;rr({scrollLeft:Math.min(En.value-Vn,Kn)})},{onWheel:Hn}=useGridWheel({atXStartEdge:computed(()=>Lt.value.scrollLeft<=0),atXEndEdge:computed(()=>Lt.value.scrollLeft>=En.value-unref(xn)),atYStartEdge:computed(()=>Lt.value.scrollTop<=0),atYEndEdge:computed(()=>Lt.value.scrollTop>=Dn.value-unref(Et))},(Dt,hn)=>{var Vn,Kn,ar,lr;(Kn=(Vn=Fe.value)==null?void 0:Vn.onMouseUp)==null||Kn.call(Vn),(lr=(ar=Ue.value)==null?void 0:ar.onMouseUp)==null||lr.call(ar);const cr=unref(xn),mr=unref(Et);rr({scrollLeft:Math.min(Lt.value.scrollLeft+Dt,En.value-cr),scrollTop:Math.min(Lt.value.scrollTop+hn,Dn.value-mr)})}),rr=({scrollLeft:Dt=Lt.value.scrollLeft,scrollTop:hn=Lt.value.scrollTop})=>{Dt=Math.max(Dt,0),hn=Math.max(hn,0);const Vn=unref(Lt);hn===Vn.scrollTop&&Dt===Vn.scrollLeft||(Lt.value={...Vn,xAxisScrollDir:getScrollDir(Vn.scrollLeft,Dt),yAxisScrollDir:getScrollDir(Vn.scrollTop,hn),scrollLeft:Dt,scrollTop:hn,updateRequested:!0},nextTick(()=>jn()),fr(),Wn())},Xn=(Dt=0,hn=0,Vn=AUTO_ALIGNMENT)=>{const Kn=unref(Lt);hn=Math.max(0,Math.min(hn,ue.totalColumn-1)),Dt=Math.max(0,Math.min(Dt,ue.totalRow-1));const ar=getScrollBarWidth($e.namespace.value),lr=unref(Oe),cr=k(ue,lr),mr=$(ue,lr);rr({scrollLeft:V(ue,hn,Vn,Kn.scrollLeft,lr,mr>ue.width?ar:0),scrollTop:L(ue,Dt,Vn,Kn.scrollTop,lr,cr>ue.height?ar:0)})},Pn=(Dt,hn)=>{const{columnWidth:Vn,direction:Kn,rowHeight:ar}=ue,lr=wn.value(e&&Vn,e&&ar,e&&Kn),cr=`${Dt},${hn}`;if(hasOwn$1(lr,cr))return lr[cr];{const[,mr]=r(ue,hn,unref(Oe)),ur=unref(Oe),le=isRTL(Kn),[Ce,Ie]=z(ue,Dt,ur),[ze]=r(ue,hn,ur);return lr[cr]={position:"absolute",left:le?void 0:`${mr}px`,right:le?`${mr}px`:void 0,top:`${Ie}px`,height:`${Ce}px`,width:`${ze}px`},lr[cr]}},jn=()=>{Lt.value.isScrolling=!1,nextTick(()=>{wn.value(-1,null,null)})};onMounted(()=>{if(!isClient)return;const{initScrollLeft:Dt,initScrollTop:hn}=ue,Vn=unref(_e);Vn&&(isNumber$1(Dt)&&(Vn.scrollLeft=Dt),isNumber$1(hn)&&(Vn.scrollTop=hn)),Wn()});const fr=()=>{const{direction:Dt}=ue,{scrollLeft:hn,scrollTop:Vn,updateRequested:Kn}=unref(Lt),ar=unref(_e);if(Kn&&ar){if(Dt===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{ar.scrollLeft=-hn;break}case RTL_OFFSET_POS_ASC:{ar.scrollLeft=hn;break}default:{const{clientWidth:lr,scrollWidth:cr}=ar;ar.scrollLeft=cr-lr-hn;break}}else ar.scrollLeft=Math.max(0,hn);ar.scrollTop=Math.max(0,Vn)}},{resetAfterColumnIndex:yr,resetAfterRowIndex:Cr,resetAfter:sr}=Ne.proxy;he({windowRef:_e,innerRef:kt,getItemStyleCache:wn,scrollTo:rr,scrollToItem:Xn,states:Lt,resetAfterColumnIndex:yr,resetAfterRowIndex:Cr,resetAfter:sr});const zn=()=>{const{scrollbarAlwaysOn:Dt,scrollbarStartGap:hn,scrollbarEndGap:Vn,totalColumn:Kn,totalRow:ar}=ue,lr=unref(xn),cr=unref(Et),mr=unref(En),ur=unref(Dn),{scrollLeft:le,scrollTop:Ce}=unref(Lt),Ie=h$1(ScrollBar,{ref:Fe,alwaysOn:Dt,startGap:hn,endGap:Vn,class:$e.e("horizontal"),clientSize:lr,layout:"horizontal",onScroll:Zn,ratio:lr*100/mr,scrollFrom:le/(mr-lr),total:ar,visible:!0}),ze=h$1(ScrollBar,{ref:Ue,alwaysOn:Dt,startGap:hn,endGap:Vn,class:$e.e("vertical"),clientSize:cr,layout:"vertical",onScroll:Nn,ratio:cr*100/ur,scrollFrom:Ce/(ur-cr),total:Kn,visible:!0});return{horizontalScrollbar:Ie,verticalScrollbar:ze}},vn=()=>{var Dt;const[hn,Vn]=unref(jt),[Kn,ar]=unref(An),{data:lr,totalColumn:cr,totalRow:mr,useIsScrolling:ur,itemKey:le}=ue,Ce=[];if(mr>0&&cr>0)for(let Ie=Kn;Ie<=ar;Ie++)for(let ze=hn;ze<=Vn;ze++)Ce.push((Dt=xe.default)==null?void 0:Dt.call(xe,{columnIndex:ze,data:lr,key:le({columnIndex:ze,data:lr,rowIndex:Ie}),isScrolling:ur?unref(Lt).isScrolling:void 0,style:Pn(Ie,ze),rowIndex:Ie}));return Ce},Jn=()=>{const Dt=resolveDynamicComponent(ue.innerElement),hn=vn();return[h$1(Dt,{style:unref($n),ref:kt},isString$3(Dt)?hn:{default:()=>hn})]};return()=>{const Dt=resolveDynamicComponent(ue.containerElement),{horizontalScrollbar:hn,verticalScrollbar:Vn}=zn(),Kn=Jn();return h$1("div",{key:0,class:$e.e("wrapper"),role:ue.role},[h$1(Dt,{class:ue.className,style:unref(Bn),onScroll:Gn,onWheel:Hn,ref:_e},isString$3(Dt)?Kn:{default:()=>Kn}),hn,Vn])}}}),FixedSizeGrid=createGrid({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:r},g,y,k,$,V)=>{r=Number(r);const L=Math.max(0,n*e-r),z=Math.min(L,g*e),j=Math.max(0,g*e-r+V+e);switch(y==="smart"&&(k>=j-r&&k<=z+r?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return z;case END_ALIGNMENT:return j;case CENTERED_ALIGNMENT:{const re=Math.round(j+(z-j)/2);return re<Math.ceil(r/2)?0:re>L+Math.floor(r/2)?L:re}case AUTO_ALIGNMENT:default:return k>=j&&k<=z?k:j>z||k<j?j:z}},getRowOffset:({rowHeight:n,height:e,totalRow:r},g,y,k,$,V)=>{e=Number(e);const L=Math.max(0,r*n-e),z=Math.min(L,g*n),j=Math.max(0,g*n-e+V+n);switch(y===SMART_ALIGNMENT&&(k>=j-e&&k<=z+e?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return z;case END_ALIGNMENT:return j;case CENTERED_ALIGNMENT:{const re=Math.round(j+(z-j)/2);return re<Math.ceil(e/2)?0:re>L+Math.floor(e/2)?L:re}case AUTO_ALIGNMENT:default:return k>=j&&k<=z?k:j>z||k<j?j:z}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},r)=>Math.max(0,Math.min(e-1,Math.floor(r/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:r},g,y)=>{const k=g*n,$=Math.ceil((r+y-k)/n);return Math.max(0,Math.min(e-1,g+$-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},r)=>Math.max(0,Math.min(e-1,Math.floor(r/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:r},g,y)=>{const k=g*n,$=Math.ceil((r+y-k)/n);return Math.max(0,Math.min(e-1,g+$-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}}),{max,min,floor}=Math,ACCESS_SIZER_KEY_MAP={column:"columnWidth",row:"rowHeight"},ACCESS_LAST_VISITED_KEY_MAP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},getItemFromCache=(n,e,r,g)=>{const[y,k,$]=[r[g],n[ACCESS_SIZER_KEY_MAP[g]],r[ACCESS_LAST_VISITED_KEY_MAP[g]]];if(e>$){let V=0;if($>=0){const L=y[$];V=L.offset+L.size}for(let L=$+1;L<=e;L++){const z=k(L);y[L]={offset:V,size:z},V+=z}r[ACCESS_LAST_VISITED_KEY_MAP[g]]=e}return y[e]},bs=(n,e,r,g,y,k)=>{for(;r<=g;){const $=r+floor((g-r)/2),V=getItemFromCache(n,$,e,k).offset;if(V===y)return $;V<y?r=$+1:g=$-1}return max(0,r-1)},es=(n,e,r,g,y)=>{const k=y==="column"?n.totalColumn:n.totalRow;let $=1;for(;r<k&&getItemFromCache(n,r,e,y).offset<g;)r+=$,$*=2;return bs(n,e,floor(r/2),min(r,k-1),g,y)},findItem=(n,e,r,g)=>{const[y,k]=[e[g],e[ACCESS_LAST_VISITED_KEY_MAP[g]]];return(k>0?y[k].offset:0)>=r?bs(n,e,0,k,r,g):es(n,e,max(0,k),r,g)},getEstimatedTotalHeight=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:r,row:g})=>{let y=0;if(r>=n&&(r=n-1),r>=0){const V=g[r];y=V.offset+V.size}const $=(n-r-1)*e;return y+$},getEstimatedTotalWidth=({totalColumn:n},{column:e,estimatedColumnWidth:r,lastVisitedColumnIndex:g})=>{let y=0;if(g>n&&(g=n-1),g>=0){const V=e[g];y=V.offset+V.size}const $=(n-g-1)*r;return y+$},ACCESS_ESTIMATED_SIZE_KEY_MAP={column:getEstimatedTotalWidth,row:getEstimatedTotalHeight},getOffset$1=(n,e,r,g,y,k,$)=>{const[V,L]=[k==="row"?n.height:n.width,ACCESS_ESTIMATED_SIZE_KEY_MAP[k]],z=getItemFromCache(n,e,y,k),j=L(n,y),re=max(0,min(j-V,z.offset)),oe=max(0,z.offset-V+$+z.size);switch(r===SMART_ALIGNMENT&&(g>=oe-V&&g<=re+V?r=AUTO_ALIGNMENT:r=CENTERED_ALIGNMENT),r){case START_ALIGNMENT:return re;case END_ALIGNMENT:return oe;case CENTERED_ALIGNMENT:return Math.round(oe+(re-oe)/2);case AUTO_ALIGNMENT:default:return g>=oe&&g<=re?g:oe>re||g<oe?oe:re}},DynamicSizeGrid=createGrid({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,r)=>{const g=getItemFromCache(n,e,r,"column");return[g.size,g.offset]},getRowPosition:(n,e,r)=>{const g=getItemFromCache(n,e,r,"row");return[g.size,g.offset]},getColumnOffset:(n,e,r,g,y,k)=>getOffset$1(n,e,r,g,y,"column",k),getRowOffset:(n,e,r,g,y,k)=>getOffset$1(n,e,r,g,y,"row",k),getColumnStartIndexForOffset:(n,e,r)=>findItem(n,r,e,"column"),getColumnStopIndexForStartIndex:(n,e,r,g)=>{const y=getItemFromCache(n,e,g,"column"),k=r+n.width;let $=y.offset+y.size,V=e;for(;V<n.totalColumn-1&&$<k;)V++,$+=getItemFromCache(n,e,g,"column").size;return V},getEstimatedTotalHeight,getEstimatedTotalWidth,getRowStartIndexForOffset:(n,e,r)=>findItem(n,r,e,"row"),getRowStopIndexForStartIndex:(n,e,r,g)=>{const{totalRow:y,height:k}=n,$=getItemFromCache(n,e,g,"row"),V=r+k;let L=$.size+$.offset,z=e;for(;z<y-1&&L<V;)z++,L+=getItemFromCache(n,z,g,"row").size;return z},injectToInstance:(n,e)=>{const r=({columnIndex:k,rowIndex:$},V)=>{var L,z;V=isUndefined(V)?!0:V,isNumber$1(k)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,k-1)),isNumber$1($)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,$-1)),(L=n.exposed)==null||L.getItemStyleCache.value(-1,null,null),V&&((z=n.proxy)==null||z.$forceUpdate())},g=(k,$)=>{r({columnIndex:k},$)},y=(k,$)=>{r({rowIndex:k},$)};Object.assign(n.proxy,{resetAfterColumnIndex:g,resetAfterRowIndex:y,resetAfter:r})},initCache:({estimatedColumnWidth:n=DEFAULT_DYNAMIC_LIST_ITEM_SIZE,estimatedRowHeight:e=DEFAULT_DYNAMIC_LIST_ITEM_SIZE})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:n,rowHeight:e})=>{}}),_sfc_main$1K=defineComponent({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:useNamespace("select")}}});function _sfc_render$7(n,e,r,g,y,k){return n.item.isTitle?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.be("group","title")),style:normalizeStyle([n.style,{lineHeight:`${n.height}px`}])},toDisplayString$1(n.item.label),7)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.be("group","split")),style:normalizeStyle(n.style)},[createBaseVNode("span",{class:normalizeClass(n.ns.be("group","split-dash")),style:normalizeStyle({top:`${n.height/2}px`})},null,6)],6))}var GroupItem=_export_sfc$1(_sfc_main$1K,[["render",_sfc_render$7],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function useOption(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const SelectProps={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:circle_close_default},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:isValidComponentSize},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"}},OptionProps={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},_sfc_main$1J=defineComponent({props:OptionProps,emits:["select","hover"],setup(n,{emit:e}){const r=useNamespace("select"),{hoverItem:g,selectOptionClick:y}=useOption(n,{emit:e});return{ns:r,hoverItem:g,selectOptionClick:y}}}),_hoisted_1$1n=["aria-selected"];function _sfc_render$6(n,e,r,g,y,k){return openBlock(),createElementBlock("li",{"aria-selected":n.selected,style:normalizeStyle(n.style),class:normalizeClass([n.ns.be("dropdown","option-item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),{hover:n.hovering}]),onMouseenter:e[0]||(e[0]=(...$)=>n.hoverItem&&n.hoverItem(...$)),onClick:e[1]||(e[1]=withModifiers((...$)=>n.selectOptionClick&&n.selectOptionClick(...$),["stop"]))},[renderSlot(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[createBaseVNode("span",null,toDisplayString$1(n.item.label),1)])],46,_hoisted_1$1n)}var OptionItem=_export_sfc$1(_sfc_main$1J,[["render",_sfc_render$6],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const selectV2InjectionKey=Symbol("ElSelectV2Injection");var ElSelectMenu=defineComponent({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(n,{slots:e,expose:r}){const g=inject(selectV2InjectionKey),y=useNamespace("select"),k=ref([]),$=ref(),V=computed(()=>n.data.length);watch(()=>V.value,()=>{var Ue,kt;(kt=(Ue=g.popper.value).updatePopper)==null||kt.call(Ue)});const L=computed(()=>isUndefined(g.props.estimatedOptionHeight)),z=computed(()=>L.value?{itemSize:g.props.itemHeight}:{estimatedSize:g.props.estimatedOptionHeight,itemSize:Ue=>k.value[Ue]}),j=(Ue=[],kt)=>{const{props:{valueKey:Lt}}=g;return isObject$3(kt)?Ue&&Ue.some(wn=>get(wn,Lt)===get(kt,Lt)):Ue.includes(kt)},re=(Ue,kt)=>{if(isObject$3(kt)){const{valueKey:Lt}=g.props;return get(Ue,Lt)===get(kt,Lt)}else return Ue===kt},oe=(Ue,kt)=>{const{valueKey:Lt}=g.props;return g.props.multiple?j(Ue,get(kt,Lt)):re(Ue,get(kt,Lt))},ae=(Ue,kt)=>{const{disabled:Lt,multiple:wn,multipleLimit:Et}=g.props;return Lt||!kt&&(wn?Et>0&&Ue.length>=Et:!1)},de=Ue=>n.hoveringIndex===Ue;r({listRef:$,isSized:L,isItemDisabled:ae,isItemHovering:de,isItemSelected:oe,scrollToItem:Ue=>{const kt=$.value;kt&&kt.scrollToItem(Ue)},resetScrollTop:()=>{const Ue=$.value;Ue&&Ue.resetScrollTop()}});const he=Ue=>{const{index:kt,data:Lt,style:wn}=Ue,Et=unref(L),{itemSize:xn,estimatedSize:jt}=unref(z),{modelValue:An}=g.props,{onSelect:Dn,onHover:En}=g,Bn=Lt[kt];if(Bn.type==="Group")return createVNode(GroupItem,{item:Bn,style:wn,height:Et?xn:jt},null);const $n=oe(An,Bn),Wn=ae(An,$n),Gn=de(kt);return createVNode(OptionItem,mergeProps(Ue,{selected:$n,disabled:Bn.disabled||Wn,created:!!Bn.created,hovering:Gn,item:Bn,onSelect:Dn,onHover:En}),{default:Nn=>{var Zn;return((Zn=e.default)==null?void 0:Zn.call(e,Nn))||createVNode("span",null,[Bn.label])}})},{onKeyboardNavigate:xe,onKeyboardSelect:$e}=g,Ne=()=>{xe("forward")},Oe=()=>{xe("backward")},_e=()=>{g.expanded=!1},Fe=Ue=>{const{code:kt}=Ue,{tab:Lt,esc:wn,down:Et,up:xn,enter:jt}=EVENT_CODE;switch(kt!==Lt&&(Ue.preventDefault(),Ue.stopPropagation()),kt){case Lt:case wn:{_e();break}case Et:{Ne();break}case xn:{Oe();break}case jt:{$e();break}}};return()=>{var Ue;const{data:kt,width:Lt}=n,{height:wn,multiple:Et,scrollbarAlwaysOn:xn}=g.props;if(kt.length===0)return createVNode("div",{class:y.b("dropdown"),style:{width:`${Lt}px`}},[(Ue=e.empty)==null?void 0:Ue.call(e)]);const jt=unref(L)?FixedSizeList:DynamicSizeList;return createVNode("div",{class:[y.b("dropdown"),y.is("multiple",Et)]},[createVNode(jt,mergeProps({ref:$},unref(z),{className:y.be("dropdown","list"),scrollbarAlwaysOn:xn,data:kt,height:wn,width:Lt,total:kt.length,onKeydown:Fe}),{default:An=>createVNode(he,An,null)})])}}});function useAllowCreate(n,e){const r=ref(0),g=ref(null),y=computed(()=>n.allowCreate&&n.filterable);function k(j){const re=oe=>oe.value===j;return n.options&&n.options.some(re)||e.createdOptions.some(re)}function $(j){y.value&&(n.multiple&&j.created?r.value++:g.value=j)}function V(j){if(y.value)if(j&&j.length>0&&!k(j)){const re={value:j,label:j,created:!0,disabled:!1};e.createdOptions.length>=r.value?e.createdOptions[r.value]=re:e.createdOptions.push(re)}else if(n.multiple)e.createdOptions.length=r.value;else{const re=g.value;e.createdOptions.length=0,re&&re.created&&e.createdOptions.push(re)}}function L(j){if(!y.value||!j||!j.created||j.created&&n.reserveKeyword&&e.inputValue===j.label)return;const re=e.createdOptions.findIndex(oe=>oe.value===j.value);~re&&(e.createdOptions.splice(re,1),r.value--)}function z(){y.value&&(e.createdOptions.length=0,r.value=0)}return{createNewOption:V,removeNewOption:L,selectNewOption:$,clearAllNewOption:z}}const flattenOptions=n=>{const e=[];return n.forEach(r=>{isArray$3(r.options)?(e.push({label:r.label,isTitle:!0,type:"Group"}),r.options.forEach(g=>{e.push(g)}),e.push({type:"Group"})):e.push(r)}),e};function useInput(n){const e=ref(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:k=>{const $=k.target.value,V=$[$.length-1]||"";e.value=!isKorean(V)},handleCompositionEnd:k=>{e.value&&(e.value=!1,isFunction$3(n)&&n(k))}}}const DEFAULT_INPUT_PLACEHOLDER="",MINIMUM_INPUT_WIDTH=11,TAG_BASE_WIDTH={larget:51,default:42,small:33},useSelect$1=(n,e)=>{const{t:r}=useLocale(),g=useNamespace("select-v2"),y=useNamespace("input"),{form:k,formItem:$}=useFormItem(),V=reactive({inputValue:DEFAULT_INPUT_PLACEHOLDER,displayInputValue:DEFAULT_INPUT_PLACEHOLDER,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),L=ref(-1),z=ref(-1),j=ref(null),re=ref(null),oe=ref(null),ae=ref(null),de=ref(null),ue=ref(null),pe=ref(null),he=ref(!1),xe=computed(()=>n.disabled||k?.disabled),$e=computed(()=>{const On=Et.value.length*34;return On>n.height?n.height:On}),Ne=computed(()=>!isNil(n.modelValue)),Oe=computed(()=>{const On=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:Ne.value;return n.clearable&&!xe.value&&V.comboBoxHovering&&On}),_e=computed(()=>n.remote&&n.filterable?"":arrow_up_default),Fe=computed(()=>_e.value&&g.is("reverse",he.value)),Ue=computed(()=>$?.validateState||""),kt=computed(()=>ValidateComponentsMap[Ue.value]),Lt=computed(()=>n.remote?300:0),wn=computed(()=>{const On=Et.value;return n.loading?n.loadingText||r("el.select.loading"):n.remote&&V.inputValue===""&&On.length===0?!1:n.filterable&&V.inputValue&&On.length>0?n.noMatchText||r("el.select.noMatch"):On.length===0?n.noDataText||r("el.select.noData"):null}),Et=computed(()=>{const On=Rn=>{const Yn=V.inputValue,or=new RegExp(escapeStringRegexp(Yn),"i");return Yn?or.test(Rn.label||""):!0};return n.loading?[]:flattenOptions(n.options.concat(V.createdOptions).map(Rn=>{if(isArray$3(Rn.options)){const Yn=Rn.options.filter(On);if(Yn.length>0)return{...Rn,options:Yn}}else if(n.remote||On(Rn))return Rn;return null}).filter(Rn=>Rn!==null))}),xn=computed(()=>{const On=new Map;return Et.value.forEach((Rn,Yn)=>{On.set(lr(Rn),{option:Rn,index:Yn})}),On}),jt=computed(()=>Et.value.every(On=>On.disabled)),An=useFormSize(),Dn=computed(()=>An.value==="small"?"small":"default"),En=computed(()=>{const On=ue.value,Rn=Dn.value||"default",Yn=On?Number.parseInt(getComputedStyle(On).paddingLeft):0,or=On?Number.parseInt(getComputedStyle(On).paddingRight):0;return V.selectWidth-or-Yn-TAG_BASE_WIDTH[Rn]}),Bn=()=>{var On;z.value=((On=de.value)==null?void 0:On.offsetWidth)||200},$n=computed(()=>({width:`${V.calculatedWidth===0?MINIMUM_INPUT_WIDTH:Math.ceil(V.calculatedWidth)+MINIMUM_INPUT_WIDTH}px`})),Wn=computed(()=>isArray$3(n.modelValue)?n.modelValue.length===0&&!V.displayInputValue:n.filterable?V.displayInputValue.length===0:!0),Gn=computed(()=>{const On=n.placeholder||r("el.select.placeholder");return n.multiple||isNil(n.modelValue)?On:V.selectedLabel}),Nn=computed(()=>{var On,Rn;return(Rn=(On=ae.value)==null?void 0:On.popperRef)==null?void 0:Rn.contentRef}),Zn=computed(()=>{if(n.multiple){const On=n.modelValue.length;if(n.modelValue.length>0&&xn.value.has(n.modelValue[On-1])){const{index:Rn}=xn.value.get(n.modelValue[On-1]);return Rn}}else if(n.modelValue&&xn.value.has(n.modelValue)){const{index:On}=xn.value.get(n.modelValue);return On}return-1}),Hn=computed({get(){return he.value&&wn.value!==!1},set(On){he.value=On}}),rr=computed(()=>V.cachedOptions.slice(0,n.maxCollapseTags)),Xn=computed(()=>V.cachedOptions.slice(n.maxCollapseTags)),{createNewOption:Pn,removeNewOption:jn,selectNewOption:fr,clearAllNewOption:yr}=useAllowCreate(n,V),{handleCompositionStart:Cr,handleCompositionUpdate:sr,handleCompositionEnd:zn}=useInput(On=>er(On)),vn=()=>{var On,Rn,Yn;(Rn=(On=re.value)==null?void 0:On.focus)==null||Rn.call(On),(Yn=ae.value)==null||Yn.updatePopper()},Jn=()=>{if(!n.automaticDropdown&&!xe.value)return V.isComposing&&(V.softFocus=!0),nextTick(()=>{var On,Rn;he.value=!he.value,(Rn=(On=re.value)==null?void 0:On.focus)==null||Rn.call(On)})},Tn=()=>(n.filterable&&V.inputValue!==V.selectedLabel&&(V.query=V.selectedLabel),hn(V.inputValue),nextTick(()=>{Pn(V.inputValue)})),Dt=debounce(Tn,Lt.value),hn=On=>{V.previousQuery!==On&&(V.previousQuery=On,n.filterable&&isFunction$3(n.filterMethod)?n.filterMethod(On):n.filterable&&n.remote&&isFunction$3(n.remoteMethod)&&n.remoteMethod(On))},Vn=On=>{isEqual$1(n.modelValue,On)||e(CHANGE_EVENT,On)},Kn=On=>{e(UPDATE_MODEL_EVENT,On),Vn(On),V.previousValue=On?.toString()},ar=(On=[],Rn)=>{if(!isObject$3(Rn))return On.indexOf(Rn);const Yn=n.valueKey;let or=-1;return On.some((tr,hr)=>get(tr,Yn)===get(Rn,Yn)?(or=hr,!0):!1),or},lr=On=>isObject$3(On)?get(On,n.valueKey):On,cr=On=>isObject$3(On)?On.label:On,mr=()=>nextTick(()=>{var On,Rn;if(!re.value)return;const Yn=ue.value;de.value.height=Yn.offsetHeight,he.value&&wn.value!==!1&&((Rn=(On=ae.value)==null?void 0:On.updatePopper)==null||Rn.call(On))}),ur=()=>{var On,Rn;if(le(),Bn(),(Rn=(On=ae.value)==null?void 0:On.updatePopper)==null||Rn.call(On),n.multiple)return mr()},le=()=>{const On=ue.value;On&&(V.selectWidth=On.getBoundingClientRect().width)},Ce=(On,Rn,Yn=!0)=>{var or,tr;if(n.multiple){let hr=n.modelValue.slice();const pr=ar(hr,lr(On));pr>-1?(hr=[...hr.slice(0,pr),...hr.slice(pr+1)],V.cachedOptions.splice(pr,1),jn(On)):(n.multipleLimit<=0||hr.length<n.multipleLimit)&&(hr=[...hr,lr(On)],V.cachedOptions.push(On),fr(On),Ln(Rn)),Kn(hr),On.created&&(V.query="",hn(""),V.inputLength=20),n.filterable&&!n.reserveKeyword&&((tr=(or=re.value).focus)==null||tr.call(or),Cn("")),n.filterable&&(V.calculatedWidth=pe.value.getBoundingClientRect().width),mr(),Fn()}else L.value=Rn,V.selectedLabel=On.label,Kn(lr(On)),he.value=!1,V.isComposing=!1,V.isSilentBlur=Yn,fr(On),On.created||yr(),Ln(Rn)},Ie=(On,Rn)=>{const{valueKey:Yn}=n,or=n.modelValue.indexOf(get(Rn,Yn));if(or>-1&&!xe.value){const tr=[...n.modelValue.slice(0,or),...n.modelValue.slice(or+1)];return V.cachedOptions.splice(or,1),Kn(tr),e("remove-tag",get(Rn,Yn)),V.softFocus=!0,jn(Rn),nextTick(vn)}On.stopPropagation()},ze=On=>{const Rn=V.isComposing;V.isComposing=!0,V.softFocus?V.softFocus=!1:Rn||e("focus",On)},qe=On=>(V.softFocus=!1,nextTick(()=>{var Rn,Yn;(Yn=(Rn=re.value)==null?void 0:Rn.blur)==null||Yn.call(Rn),pe.value&&(V.calculatedWidth=pe.value.getBoundingClientRect().width),V.isSilentBlur?V.isSilentBlur=!1:V.isComposing&&e("blur",On),V.isComposing=!1})),Pt=()=>{V.displayInputValue.length>0?Cn(""):he.value=!1},_n=On=>{if(V.displayInputValue.length===0){On.preventDefault();const Rn=n.modelValue.slice();Rn.pop(),jn(V.cachedOptions.pop()),Kn(Rn)}},At=()=>{let On;return isArray$3(n.modelValue)?On=[]:On=void 0,V.softFocus=!0,n.multiple?V.cachedOptions=[]:V.selectedLabel="",he.value=!1,Kn(On),e("clear"),yr(),nextTick(vn)},Cn=On=>{V.displayInputValue=On,V.inputValue=On},bn=(On,Rn=void 0)=>{const Yn=Et.value;if(!["forward","backward"].includes(On)||xe.value||Yn.length<=0||jt.value)return;if(!he.value)return Jn();Rn===void 0&&(Rn=V.hoveringIndex);let or=-1;On==="forward"?(or=Rn+1,or>=Yn.length&&(or=0)):On==="backward"&&(or=Rn-1,(or<0||or>=Yn.length)&&(or=Yn.length-1));const tr=Yn[or];if(tr.disabled||tr.type==="Group")return bn(On,or);Ln(or),kn(or)},In=()=>{if(he.value)~V.hoveringIndex&&Et.value[V.hoveringIndex]&&Ce(Et.value[V.hoveringIndex],V.hoveringIndex,!1);else return Jn()},Ln=On=>{V.hoveringIndex=On},Mn=()=>{V.hoveringIndex=-1},Fn=()=>{var On;const Rn=re.value;Rn&&((On=Rn.focus)==null||On.call(Rn))},er=On=>{const Rn=On.target.value;if(Cn(Rn),V.displayInputValue.length>0&&!he.value&&(he.value=!0),V.calculatedWidth=pe.value.getBoundingClientRect().width,n.multiple&&mr(),n.remote)Dt();else return Tn()},Qn=()=>(he.value=!1,qe()),nr=()=>(V.inputValue=V.displayInputValue,nextTick(()=>{~Zn.value&&(Ln(Zn.value),kn(V.hoveringIndex))})),kn=On=>{oe.value.scrollToItem(On)},Un=()=>{if(Mn(),n.multiple)if(n.modelValue.length>0){let On=!1;V.cachedOptions.length=0,V.previousValue=n.modelValue.toString();for(const Rn of n.modelValue)if(xn.value.has(Rn)){const{index:Yn,option:or}=xn.value.get(Rn);V.cachedOptions.push(or),On||Ln(Yn),On=!0}}else V.cachedOptions=[],V.previousValue=void 0;else if(Ne.value){V.previousValue=n.modelValue;const On=Et.value,Rn=On.findIndex(Yn=>lr(Yn)===lr(n.modelValue));~Rn?(V.selectedLabel=On[Rn].label,Ln(Rn)):V.selectedLabel=`${n.modelValue}`}else V.selectedLabel="",V.previousValue=void 0;yr(),Bn()};return watch(he,On=>{var Rn,Yn;e("visible-change",On),On?(Yn=(Rn=ae.value).update)==null||Yn.call(Rn):(V.displayInputValue="",V.previousQuery=null,Pn(""))}),watch(()=>n.modelValue,(On,Rn)=>{var Yn;(!On||On.toString()!==V.previousValue)&&Un(),!isEqual$1(On,Rn)&&n.validateEvent&&((Yn=$?.validate)==null||Yn.call($,"change").catch(or=>void 0))},{deep:!0}),watch(()=>n.options,()=>{const On=re.value;(!On||On&&document.activeElement!==On)&&Un()},{deep:!0}),watch(Et,()=>nextTick(oe.value.resetScrollTop)),watch(()=>Hn.value,On=>{On||Mn()}),onMounted(()=>{Un()}),useResizeObserver(de,ur),{collapseTagSize:Dn,currentPlaceholder:Gn,expanded:he,emptyText:wn,popupHeight:$e,debounce:Lt,filteredOptions:Et,iconComponent:_e,iconReverse:Fe,inputWrapperStyle:$n,popperSize:z,dropdownMenuVisible:Hn,hasModelValue:Ne,shouldShowPlaceholder:Wn,selectDisabled:xe,selectSize:An,showClearBtn:Oe,states:V,tagMaxWidth:En,nsSelectV2:g,nsInput:y,calculatorRef:pe,controlRef:j,inputRef:re,menuRef:oe,popper:ae,selectRef:de,selectionRef:ue,popperRef:Nn,validateState:Ue,validateIcon:kt,showTagList:rr,collapseTagList:Xn,debouncedOnInputChange:Dt,deleteTag:Ie,getLabel:cr,getValueKey:lr,handleBlur:qe,handleClear:At,handleClickOutside:Qn,handleDel:_n,handleEsc:Pt,handleFocus:ze,handleMenuEnter:nr,handleResize:ur,toggleMenu:Jn,scrollTo:kn,onInput:er,onKeyboardNavigate:bn,onKeyboardSelect:In,onSelect:Ce,onHover:Ln,onUpdateInputValue:Cn,handleCompositionStart:Cr,handleCompositionEnd:zn,handleCompositionUpdate:sr}},_sfc_main$1I=defineComponent({name:"ElSelectV2",components:{ElSelectMenu,ElTag,ElTooltip,ElIcon},directives:{ClickOutside,ModelText:vModelText},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const r=computed(()=>{const{modelValue:y,multiple:k}=n,$=k?[]:void 0;return isArray$3(y)?k?y:$:k?$:y}),g=useSelect$1(reactive({...toRefs(n),modelValue:r}),e);return provide(selectV2InjectionKey,{props:reactive({...toRefs(n),height:g.popupHeight,modelValue:r}),popper:g.popper,onSelect:g.onSelect,onHover:g.onHover,onKeyboardNavigate:g.onKeyboardNavigate,onKeyboardSelect:g.onKeyboardSelect}),{...g,modelValue:r}}}),_hoisted_1$1m={key:0},_hoisted_2$1d=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],_hoisted_3$I=["textContent"],_hoisted_4$D=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],_hoisted_5$y=["textContent"];function _sfc_render$5(n,e,r,g,y,k){const $=resolveComponent("el-tag"),V=resolveComponent("el-tooltip"),L=resolveComponent("el-icon"),z=resolveComponent("el-select-menu"),j=resolveDirective("model-text"),re=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([n.nsSelectV2.b(),n.nsSelectV2.m(n.selectSize)]),onClick:e[24]||(e[24]=withModifiers((...oe)=>n.toggleMenu&&n.toggleMenu(...oe),["stop"])),onMouseenter:e[25]||(e[25]=oe=>n.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=oe=>n.states.comboBoxHovering=!1)},[createVNode(V,{ref:"popper",visible:n.dropdownMenuVisible,teleported:n.teleported,"popper-class":[n.nsSelectV2.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,placement:n.placement,pure:"",transition:`${n.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:n.persistent,onBeforeShow:n.handleMenuEnter,onHide:e[23]||(e[23]=oe=>n.states.inputValue=n.states.displayInputValue)},{default:withCtx(()=>[createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([n.nsSelectV2.e("wrapper"),n.nsSelectV2.is("focused",n.states.isComposing||n.expanded),n.nsSelectV2.is("hovering",n.states.comboBoxHovering),n.nsSelectV2.is("filterable",n.filterable),n.nsSelectV2.is("disabled",n.selectDisabled)])},[n.$slots.prefix?(openBlock(),createElementBlock("div",_hoisted_1$1m,[renderSlot(n.$slots,"prefix")])):createCommentVNode("v-if",!0),n.multiple?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.nsSelectV2.e("selection"))},[n.collapseTags&&n.modelValue.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.showTagList,oe=>(openBlock(),createElementBlock("div",{key:n.getValueKey(oe),class:normalizeClass(n.nsSelectV2.e("selected-item"))},[createVNode($,{closable:!n.selectDisabled&&!oe?.disable,size:n.collapseTagSize,type:"info","disable-transitions":"",onClose:ae=>n.deleteTag(ae,oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},toDisplayString$1(oe?.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),createBaseVNode("div",{class:normalizeClass(n.nsSelectV2.e("selected-item"))},[n.modelValue.length>n.maxCollapseTags?(openBlock(),createBlock($,{key:0,closable:!1,size:n.collapseTagSize,type:"info","disable-transitions":""},{default:withCtx(()=>[n.collapseTagsTooltip?(openBlock(),createBlock(V,{key:0,disabled:n.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:!1},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},"+ "+toDisplayString$1(n.modelValue.length-n.maxCollapseTags),7)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.nsSelectV2.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.collapseTagList,oe=>(openBlock(),createElementBlock("div",{key:n.getValueKey(oe),class:normalizeClass(n.nsSelectV2.e("selected-item"))},[createVNode($,{closable:!n.selectDisabled&&!oe.disabled,size:n.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:ae=>n.deleteTag(ae,oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},toDisplayString$1(n.getLabel(oe)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},"+ "+toDisplayString$1(n.modelValue.length-n.maxCollapseTags),7))]),_:1},8,["size"])):createCommentVNode("v-if",!0)],2)],64)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(n.states.cachedOptions,oe=>(openBlock(),createElementBlock("div",{key:n.getValueKey(oe),class:normalizeClass(n.nsSelectV2.e("selected-item"))},[createVNode($,{closable:!n.selectDisabled&&!oe.disabled,size:n.collapseTagSize,type:"info","disable-transitions":"",onClose:ae=>n.deleteTag(ae,oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},toDisplayString$1(n.getLabel(oe)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),createBaseVNode("div",{class:normalizeClass([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-wrapper")]),style:normalizeStyle(n.inputWrapperStyle)},[withDirectives(createBaseVNode("input",{id:n.id,ref:"inputRef",autocomplete:n.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-labelledby":n.label,class:normalizeClass([n.nsSelectV2.is(n.selectSize),n.nsSelectV2.e("combobox-input")]),disabled:n.disabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,unselectable:n.expanded?"on":void 0,"onUpdate:modelValue":e[0]||(e[0]=(...oe)=>n.onUpdateInputValue&&n.onUpdateInputValue(...oe)),onFocus:e[1]||(e[1]=(...oe)=>n.handleFocus&&n.handleFocus(...oe)),onBlur:e[2]||(e[2]=(...oe)=>n.handleBlur&&n.handleBlur(...oe)),onInput:e[3]||(e[3]=(...oe)=>n.onInput&&n.onInput(...oe)),onCompositionstart:e[4]||(e[4]=(...oe)=>n.handleCompositionStart&&n.handleCompositionStart(...oe)),onCompositionupdate:e[5]||(e[5]=(...oe)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...oe)),onCompositionend:e[6]||(e[6]=(...oe)=>n.handleCompositionEnd&&n.handleCompositionEnd(...oe)),onKeydown:[e[7]||(e[7]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=withKeys(withModifiers((...oe)=>n.onKeyboardSelect&&n.onKeyboardSelect(...oe),["stop","prevent"]),["enter"])),e[10]||(e[10]=withKeys(withModifiers((...oe)=>n.handleEsc&&n.handleEsc(...oe),["stop","prevent"]),["esc"])),e[11]||(e[11]=withKeys(withModifiers((...oe)=>n.handleDel&&n.handleDel(...oe),["stop"]),["delete"]))]},null,42,_hoisted_2$1d),[[j,n.states.displayInputValue]]),n.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(n.nsSelectV2.e("input-calculator")),textContent:toDisplayString$1(n.states.displayInputValue)},null,10,_hoisted_3$I)):createCommentVNode("v-if",!0)],6)],2)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",{class:normalizeClass([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-wrapper")])},[withDirectives(createBaseVNode("input",{id:n.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":n.label,"aria-expanded":n.expanded,autocapitalize:"off",autocomplete:n.autocomplete,class:normalizeClass(n.nsSelectV2.e("combobox-input")),disabled:n.disabled,name:n.name,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",unselectable:n.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...oe)=>n.handleCompositionStart&&n.handleCompositionStart(...oe)),onCompositionupdate:e[13]||(e[13]=(...oe)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...oe)),onCompositionend:e[14]||(e[14]=(...oe)=>n.handleCompositionEnd&&n.handleCompositionEnd(...oe)),onFocus:e[15]||(e[15]=(...oe)=>n.handleFocus&&n.handleFocus(...oe)),onBlur:e[16]||(e[16]=(...oe)=>n.handleBlur&&n.handleBlur(...oe)),onInput:e[17]||(e[17]=(...oe)=>n.onInput&&n.onInput(...oe)),onKeydown:[e[18]||(e[18]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[19]||(e[19]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[20]||(e[20]=withKeys(withModifiers((...oe)=>n.onKeyboardSelect&&n.onKeyboardSelect(...oe),["stop","prevent"]),["enter"])),e[21]||(e[21]=withKeys(withModifiers((...oe)=>n.handleEsc&&n.handleEsc(...oe),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[22]||(e[22]=(...oe)=>n.onUpdateInputValue&&n.onUpdateInputValue(...oe))},null,42,_hoisted_4$D),[[j,n.states.displayInputValue]])],2),n.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-calculator")]),textContent:toDisplayString$1(n.states.displayInputValue)},null,10,_hoisted_5$y)):createCommentVNode("v-if",!0)],64)),n.shouldShowPlaceholder?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass([n.nsSelectV2.e("placeholder"),n.nsSelectV2.is("transparent",n.multiple?n.modelValue.length===0:!n.hasModelValue)])},toDisplayString$1(n.currentPlaceholder),3)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("suffix"))},[n.iconComponent?withDirectives((openBlock(),createBlock(L,{key:0,class:normalizeClass([n.nsSelectV2.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])),[[vShow,!n.showClearBtn]]):createCommentVNode("v-if",!0),n.showClearBtn&&n.clearIcon?(openBlock(),createBlock(L,{key:1,class:normalizeClass([n.nsSelectV2.e("caret"),n.nsInput.e("icon")]),onClick:withModifiers(n.handleClear,["prevent","stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),n.validateState&&n.validateIcon?(openBlock(),createBlock(L,{key:2,class:normalizeClass([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)]),content:withCtx(()=>[createVNode(z,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},{default:withCtx(oe=>[renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps(oe)))]),empty:withCtx(()=>[renderSlot(n.$slots,"empty",{},()=>[createBaseVNode("p",{class:normalizeClass(n.nsSelectV2.e("empty"))},toDisplayString$1(n.emptyText?n.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[re,n.handleClickOutside,n.popperRef]])}var Select=_export_sfc$1(_sfc_main$1I,[["render",_sfc_render$5],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Select.install=n=>{n.component(Select.name,Select)};const _Select=Select,ElSelectV2=_Select,skeletonProps=buildProps({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),__default__$t=defineComponent({name:"ElSkeletonItem"}),_sfc_main$1H=defineComponent({...__default__$t,props:skeletonItemProps,setup(n){const e=useNamespace("skeleton");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(e).e("item"),unref(e).e(r.variant)])},[r.variant==="image"?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc$1(_sfc_main$1H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const __default__$s=defineComponent({name:"ElSkeleton"}),_sfc_main$1G=defineComponent({...__default__$s,props:skeletonProps,setup(n,{expose:e}){const r=n,g=useNamespace("skeleton"),y=useThrottleRender(toRef(r,"loading"),r.throttle);return e({uiLoading:y}),(k,$)=>unref(y)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(g).b(),unref(g).is("animated",k.animated)]},k.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.count,V=>(openBlock(),createElementBlock(Fragment,{key:V},[k.loading?renderSlot(k.$slots,"template",{key:V},()=>[createVNode(SkeletonItem,{class:normalizeClass(unref(g).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(k.rows,L=>(openBlock(),createBlock(SkeletonItem,{key:L,class:normalizeClass([unref(g).e("paragraph"),unref(g).is("last",L===k.rows&&k.rows>1)]),variant:"p"},null,8,["class"]))),128))]):createCommentVNode("v-if",!0)],64))),128))],16)):renderSlot(k.$slots,"default",normalizeProps(mergeProps({key:1},k.$attrs)))}});var Skeleton$1=_export_sfc$1(_sfc_main$1G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton$1,{SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0}}),isValidValue$1=n=>isNumber$1(n)||isArray$3(n)&&n.every(isNumber$1),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},useLifecycle=(n,e,r)=>{const g=ref();return onMounted(async()=>{n.range?(Array.isArray(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof n.modelValue!="number"||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),useEventListener(window,"resize",r),await nextTick(),r()}),{sliderWrapper:g}},useMarks=n=>computed(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((r,g)=>r-g).filter(r=>r<=n.max&&r>=n.min).map(r=>({point:r,position:(r-n.min)*100/(n.max-n.min),mark:n.marks[r]})):[]),useSlide=(n,e,r)=>{const{form:g,formItem:y}=useFormItem(),k=shallowRef(),$=ref(),V=ref(),L={firstButton:$,secondButton:V},z=computed(()=>n.disabled||g?.disabled||!1),j=computed(()=>Math.min(e.firstValue,e.secondValue)),re=computed(()=>Math.max(e.firstValue,e.secondValue)),oe=computed(()=>n.range?`${100*(re.value-j.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),ae=computed(()=>n.range?`${100*(j.value-n.min)/(n.max-n.min)}%`:"0%"),de=computed(()=>n.vertical?{height:n.height}:{}),ue=computed(()=>n.vertical?{height:oe.value,bottom:ae.value}:{width:oe.value,left:ae.value}),pe=()=>{k.value&&(e.sliderSize=k.value[`client${n.vertical?"Height":"Width"}`])},he=wn=>{const Et=n.min+wn*(n.max-n.min)/100;if(!n.range)return $;let xn;return Math.abs(j.value-Et)<Math.abs(re.value-Et)?xn=e.firstValue<e.secondValue?"firstButton":"secondButton":xn=e.firstValue>e.secondValue?"firstButton":"secondButton",L[xn]},xe=wn=>{const Et=he(wn);return Et.value.setPosition(wn),Et},$e=wn=>{e.firstValue=wn,Oe(n.range?[j.value,re.value]:wn)},Ne=wn=>{e.secondValue=wn,n.range&&Oe([j.value,re.value])},Oe=wn=>{r(UPDATE_MODEL_EVENT,wn),r(INPUT_EVENT,wn)},_e=async()=>{await nextTick(),r(CHANGE_EVENT,n.range?[j.value,re.value]:n.modelValue)},Fe=wn=>{var Et,xn,jt,An,Dn,En;if(z.value||e.dragging)return;pe();let Bn=0;if(n.vertical){const $n=(jt=(xn=(Et=wn.touches)==null?void 0:Et.item(0))==null?void 0:xn.clientY)!=null?jt:wn.clientY;Bn=(k.value.getBoundingClientRect().bottom-$n)/e.sliderSize*100}else{const $n=(En=(Dn=(An=wn.touches)==null?void 0:An.item(0))==null?void 0:Dn.clientX)!=null?En:wn.clientX,Wn=k.value.getBoundingClientRect().left;Bn=($n-Wn)/e.sliderSize*100}if(!(Bn<0||Bn>100))return xe(Bn)};return{elFormItem:y,slider:k,firstButton:$,secondButton:V,sliderDisabled:z,minValue:j,maxValue:re,runwayStyle:de,barStyle:ue,resetSize:pe,setPosition:xe,emitChange:_e,onSliderWrapperPrevent:wn=>{var Et,xn;((Et=L.firstButton.value)!=null&&Et.dragging||(xn=L.secondButton.value)!=null&&xn.dragging)&&wn.preventDefault()},onSliderClick:wn=>{Fe(wn)&&_e()},onSliderDown:async wn=>{const Et=Fe(wn);Et&&(await nextTick(),Et.value.onButtonDown(wn))},setFirstValue:$e,setSecondValue:Ne}},{left,down,right,up,home,end:end$1,pageUp,pageDown}=EVENT_CODE,useTooltip=(n,e,r)=>{const g=ref(),y=ref(!1),k=computed(()=>e.value instanceof Function),$=computed(()=>k.value&&e.value(n.modelValue)||n.modelValue),V=debounce(()=>{r.value&&(y.value=!0)},50),L=debounce(()=>{r.value&&(y.value=!1)},50);return{tooltip:g,tooltipVisible:y,formatValue:$,displayTooltip:V,hideTooltip:L}},useSliderButton=(n,e,r)=>{const{disabled:g,min:y,max:k,step:$,showTooltip:V,precision:L,sliderSize:z,formatTooltip:j,emitChange:re,resetSize:oe,updateDragging:ae}=inject(sliderContextKey),{tooltip:de,tooltipVisible:ue,formatValue:pe,displayTooltip:he,hideTooltip:xe}=useTooltip(n,j,V),$e=ref(),Ne=computed(()=>`${(n.modelValue-y.value)/(k.value-y.value)*100}%`),Oe=computed(()=>n.vertical?{bottom:Ne.value}:{left:Ne.value}),_e=()=>{e.hovering=!0,he()},Fe=()=>{e.hovering=!1,e.dragging||xe()},Ue=Nn=>{g.value||(Nn.preventDefault(),Bn(Nn),window.addEventListener("mousemove",$n),window.addEventListener("touchmove",$n),window.addEventListener("mouseup",Wn),window.addEventListener("touchend",Wn),window.addEventListener("contextmenu",Wn),$e.value.focus())},kt=Nn=>{g.value||(e.newPosition=Number.parseFloat(Ne.value)+Nn/(k.value-y.value)*100,Gn(e.newPosition),re())},Lt=()=>{kt(-$.value)},wn=()=>{kt($.value)},Et=()=>{kt(-$.value*4)},xn=()=>{kt($.value*4)},jt=()=>{g.value||(Gn(0),re())},An=()=>{g.value||(Gn(100),re())},Dn=Nn=>{let Zn=!0;[left,down].includes(Nn.key)?Lt():[right,up].includes(Nn.key)?wn():Nn.key===home?jt():Nn.key===end$1?An():Nn.key===pageDown?Et():Nn.key===pageUp?xn():Zn=!1,Zn&&Nn.preventDefault()},En=Nn=>{let Zn,Hn;return Nn.type.startsWith("touch")?(Hn=Nn.touches[0].clientY,Zn=Nn.touches[0].clientX):(Hn=Nn.clientY,Zn=Nn.clientX),{clientX:Zn,clientY:Hn}},Bn=Nn=>{e.dragging=!0,e.isClick=!0;const{clientX:Zn,clientY:Hn}=En(Nn);n.vertical?e.startY=Hn:e.startX=Zn,e.startPosition=Number.parseFloat(Ne.value),e.newPosition=e.startPosition},$n=Nn=>{if(e.dragging){e.isClick=!1,he(),oe();let Zn;const{clientX:Hn,clientY:rr}=En(Nn);n.vertical?(e.currentY=rr,Zn=(e.startY-e.currentY)/z.value*100):(e.currentX=Hn,Zn=(e.currentX-e.startX)/z.value*100),e.newPosition=e.startPosition+Zn,Gn(e.newPosition)}},Wn=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||xe(),e.isClick||Gn(e.newPosition),re()},0),window.removeEventListener("mousemove",$n),window.removeEventListener("touchmove",$n),window.removeEventListener("mouseup",Wn),window.removeEventListener("touchend",Wn),window.removeEventListener("contextmenu",Wn))},Gn=async Nn=>{if(Nn===null||Number.isNaN(+Nn))return;Nn<0?Nn=0:Nn>100&&(Nn=100);const Zn=100/((k.value-y.value)/$.value);let rr=Math.round(Nn/Zn)*Zn*(k.value-y.value)*.01+y.value;rr=Number.parseFloat(rr.toFixed(L.value)),rr!==n.modelValue&&r(UPDATE_MODEL_EVENT,rr),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await nextTick(),e.dragging&&he(),de.value.updatePopper()};return watch(()=>e.dragging,Nn=>{ae(Nn)}),{disabled:g,button:$e,tooltip:de,tooltipVisible:ue,showTooltip:V,wrapperStyle:Oe,formatValue:pe,handleMouseEnter:_e,handleMouseLeave:Fe,onButtonDown:Ue,onKeyDown:Dn,setPosition:Gn}},useStops=(n,e,r,g)=>({stops:computed(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const $=(n.max-n.min)/n.step,V=100*n.step/(n.max-n.min),L=Array.from({length:$-1}).map((z,j)=>(j+1)*V);return n.range?L.filter(z=>z<100*(r.value-n.min)/(n.max-n.min)||z>100*(g.value-n.min)/(n.max-n.min)):L.filter(z=>z>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:$=>n.vertical?{bottom:`${$}%`}:{left:`${$}%`}}),useWatch=(n,e,r,g,y,k)=>{const $=z=>{y(UPDATE_MODEL_EVENT,z),y(INPUT_EVENT,z)},V=()=>n.range?![r.value,g.value].every((z,j)=>z===e.oldValue[j]):n.modelValue!==e.oldValue,L=()=>{var z,j;n.min>n.max&&throwError("Slider","min should not be greater than max.");const re=n.modelValue;n.range&&Array.isArray(re)?re[1]<n.min?$([n.min,n.min]):re[0]>n.max?$([n.max,n.max]):re[0]<n.min?$([n.min,re[1]]):re[1]>n.max?$([re[0],n.max]):(e.firstValue=re[0],e.secondValue=re[1],V()&&(n.validateEvent&&((z=k?.validate)==null||z.call(k,"change").catch(oe=>void 0)),e.oldValue=re.slice())):!n.range&&typeof re=="number"&&!Number.isNaN(re)&&(re<n.min?$(n.min):re>n.max?$(n.max):(e.firstValue=re,V()&&(n.validateEvent&&((j=k?.validate)==null||j.call(k,"change").catch(oe=>void 0)),e.oldValue=re)))};L(),watch(()=>e.dragging,z=>{z||L()}),watch(()=>n.modelValue,(z,j)=>{e.dragging||Array.isArray(z)&&Array.isArray(j)&&z.every((re,oe)=>re===j[oe])&&e.firstValue===z[0]&&e.secondValue===z[1]||L()},{deep:!0}),watch(()=>[n.min,n.max],()=>{L()})},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)},_hoisted_1$1l=["tabindex"],__default__$r=defineComponent({name:"ElSliderButton"}),_sfc_main$1F=defineComponent({...__default__$r,props:sliderButtonProps,emits:sliderButtonEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("slider"),k=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:g.modelValue}),{disabled:$,button:V,tooltip:L,showTooltip:z,tooltipVisible:j,wrapperStyle:re,formatValue:oe,handleMouseEnter:ae,handleMouseLeave:de,onButtonDown:ue,onKeyDown:pe,setPosition:he}=useSliderButton(g,k,r),{hovering:xe,dragging:$e}=toRefs(k);return e({onButtonDown:ue,onKeyDown:pe,setPosition:he,hovering:xe,dragging:$e}),(Ne,Oe)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:V,class:normalizeClass([unref(y).e("button-wrapper"),{hover:unref(xe),dragging:unref($e)}]),style:normalizeStyle(unref(re)),tabindex:unref($)?-1:0,onMouseenter:Oe[0]||(Oe[0]=(..._e)=>unref(ae)&&unref(ae)(..._e)),onMouseleave:Oe[1]||(Oe[1]=(..._e)=>unref(de)&&unref(de)(..._e)),onMousedown:Oe[2]||(Oe[2]=(..._e)=>unref(ue)&&unref(ue)(..._e)),onTouchstart:Oe[3]||(Oe[3]=(..._e)=>unref(ue)&&unref(ue)(..._e)),onFocus:Oe[4]||(Oe[4]=(..._e)=>unref(ae)&&unref(ae)(..._e)),onBlur:Oe[5]||(Oe[5]=(..._e)=>unref(de)&&unref(de)(..._e)),onKeydown:Oe[6]||(Oe[6]=(..._e)=>unref(pe)&&unref(pe)(..._e))},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:L,visible:unref(j),placement:Ne.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":Ne.tooltipClass,disabled:!unref(z),persistent:""},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(unref(oe)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(y).e("button"),{hover:unref(xe),dragging:unref($e)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,_hoisted_1$1l))}});var SliderButton=_export_sfc$1(_sfc_main$1F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(n){const e=useNamespace("slider"),r=computed(()=>isString$3(n.mark)?n.mark:n.mark.label),g=computed(()=>isString$3(n.mark)?void 0:n.mark.style);return()=>h$1("div",{class:e.e("marks-text"),style:g.value},r.value)}});const _hoisted_1$1k=["id","role","aria-label","aria-labelledby"],_hoisted_2$1c={key:1},__default__$q=defineComponent({name:"ElSlider"}),_sfc_main$1E=defineComponent({...__default__$q,props:sliderProps,emits:sliderEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("slider"),{t:k}=useLocale(),$=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:V,slider:L,firstButton:z,secondButton:j,sliderDisabled:re,minValue:oe,maxValue:ae,runwayStyle:de,barStyle:ue,resetSize:pe,emitChange:he,onSliderWrapperPrevent:xe,onSliderClick:$e,onSliderDown:Ne,setFirstValue:Oe,setSecondValue:_e}=useSlide(g,$,r),{stops:Fe,getStopStyle:Ue}=useStops(g,$,oe,ae),{inputId:kt,isLabeledByFormItem:Lt}=useFormItemInputId(g,{formItemContext:V}),wn=useFormSize(),Et=computed(()=>g.inputSize||wn.value),xn=computed(()=>g.label||k("el.slider.defaultLabel",{min:g.min,max:g.max})),jt=computed(()=>g.range?g.rangeStartLabel||k("el.slider.defaultRangeStartLabel"):xn.value),An=computed(()=>g.formatValueText?g.formatValueText(Nn.value):`${Nn.value}`),Dn=computed(()=>g.rangeEndLabel||k("el.slider.defaultRangeEndLabel")),En=computed(()=>g.formatValueText?g.formatValueText(Zn.value):`${Zn.value}`),Bn=computed(()=>[y.b(),y.m(wn.value),y.is("vertical",g.vertical),{[y.m("with-input")]:g.showInput}]),$n=useMarks(g);useWatch(g,$,oe,ae,r,V);const Wn=computed(()=>{const Xn=[g.min,g.max,g.step].map(Pn=>{const jn=`${Pn}`.split(".")[1];return jn?jn.length:0});return Math.max.apply(null,Xn)}),{sliderWrapper:Gn}=useLifecycle(g,$,pe),{firstValue:Nn,secondValue:Zn,sliderSize:Hn}=toRefs($),rr=Xn=>{$.dragging=Xn};return provide(sliderContextKey,{...toRefs(g),sliderSize:Hn,disabled:re,precision:Wn,emitChange:he,resetSize:pe,updateDragging:rr}),e({onSliderClick:$e}),(Xn,Pn)=>{var jn,fr;return openBlock(),createElementBlock("div",{id:Xn.range?unref(kt):void 0,ref_key:"sliderWrapper",ref:Gn,class:normalizeClass(unref(Bn)),role:Xn.range?"group":void 0,"aria-label":Xn.range&&!unref(Lt)?unref(xn):void 0,"aria-labelledby":Xn.range&&unref(Lt)?(jn=unref(V))==null?void 0:jn.labelId:void 0,onTouchstart:Pn[2]||(Pn[2]=(...yr)=>unref(xe)&&unref(xe)(...yr)),onTouchmove:Pn[3]||(Pn[3]=(...yr)=>unref(xe)&&unref(xe)(...yr))},[createBaseVNode("div",{ref_key:"slider",ref:L,class:normalizeClass([unref(y).e("runway"),{"show-input":Xn.showInput&&!Xn.range},unref(y).is("disabled",unref(re))]),style:normalizeStyle(unref(de)),onMousedown:Pn[0]||(Pn[0]=(...yr)=>unref(Ne)&&unref(Ne)(...yr)),onTouchstart:Pn[1]||(Pn[1]=(...yr)=>unref(Ne)&&unref(Ne)(...yr))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("bar")),style:normalizeStyle(unref(ue))},null,6),createVNode(SliderButton,{id:Xn.range?void 0:unref(kt),ref_key:"firstButton",ref:z,"model-value":unref(Nn),vertical:Xn.vertical,"tooltip-class":Xn.tooltipClass,placement:Xn.placement,role:"slider","aria-label":Xn.range||!unref(Lt)?unref(jt):void 0,"aria-labelledby":!Xn.range&&unref(Lt)?(fr=unref(V))==null?void 0:fr.labelId:void 0,"aria-valuemin":Xn.min,"aria-valuemax":Xn.range?unref(Zn):Xn.max,"aria-valuenow":unref(Nn),"aria-valuetext":unref(An),"aria-orientation":Xn.vertical?"vertical":"horizontal","aria-disabled":unref(re),"onUpdate:modelValue":unref(Oe)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Xn.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:j,"model-value":unref(Zn),vertical:Xn.vertical,"tooltip-class":Xn.tooltipClass,placement:Xn.placement,role:"slider","aria-label":unref(Dn),"aria-valuemin":unref(Nn),"aria-valuemax":Xn.max,"aria-valuenow":unref(Zn),"aria-valuetext":unref(En),"aria-orientation":Xn.vertical?"vertical":"horizontal","aria-disabled":unref(re),"onUpdate:modelValue":unref(_e)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),Xn.showStops?(openBlock(),createElementBlock("div",_hoisted_2$1c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Fe),(yr,Cr)=>(openBlock(),createElementBlock("div",{key:Cr,class:normalizeClass(unref(y).e("stop")),style:normalizeStyle(unref(Ue)(yr))},null,6))),128))])):createCommentVNode("v-if",!0),unref($n).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($n),(yr,Cr)=>(openBlock(),createElementBlock("div",{key:Cr,style:normalizeStyle(unref(Ue)(yr.position)),class:normalizeClass([unref(y).e("stop"),unref(y).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref(y).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($n),(yr,Cr)=>(openBlock(),createBlock(unref(SliderMarker),{key:Cr,mark:yr.mark,style:normalizeStyle(unref(Ue)(yr.position))},null,8,["mark","style"]))),128))],2)],64)):createCommentVNode("v-if",!0)],38),Xn.showInput&&!Xn.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(Nn),class:normalizeClass(unref(y).e("input")),step:Xn.step,disabled:unref(re),controls:Xn.showInputControls,min:Xn.min,max:Xn.max,debounce:Xn.debounce,size:unref(Et),"onUpdate:modelValue":unref(Oe),onChange:unref(he)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],42,_hoisted_1$1k)}}});var Slider=_export_sfc$1(_sfc_main$1E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(n,{slots:e}){const r=useNamespace("space"),g=computed(()=>`${n.prefixCls||r.b()}__item`);return()=>h$1("div",{class:g.value},renderSlot(e,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(n){const e=useNamespace("space"),r=computed(()=>[e.b(),e.m(n.direction),n.class]),g=ref(0),y=ref(0),k=computed(()=>{const V=n.wrap||n.fill?{flexWrap:"wrap",marginBottom:`-${y.value}px`}:{},L={alignItems:n.alignment};return[V,L,n.style]}),$=computed(()=>{const V={paddingBottom:`${y.value}px`,marginRight:`${g.value}px`},L=n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{};return[V,L]});return watchEffect(()=>{const{size:V="small",wrap:L,direction:z,fill:j}=n;if(isArray$3(V)){const[re=0,oe=0]=V;g.value=re,y.value=oe}else{let re;isNumber$1(V)?re=V:re=SIZE_MAP[V||"small"]||SIZE_MAP.small,(L||j)&&z==="horizontal"?g.value=y.value=re:z==="horizontal"?(g.value=re,y.value=0):(y.value=re,g.value=0)}}),{classes:r,containerStyle:k,itemStyle:$}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:n=>isVNode$1(n)||isNumber$1(n)||isString$3(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:n=>isNumber$1(n)||isArray$3(n)&&n.length===2&&n.every(isNumber$1)}}),Space=defineComponent({name:"ElSpace",props:spaceProps,setup(n,{slots:e}){const{classes:r,containerStyle:g,itemStyle:y}=useSpace(n);function k($,V="",L=[]){const{prefixCls:z}=n;return $.forEach((j,re)=>{isFragment(j)?isArray$3(j.children)&&j.children.forEach((oe,ae)=>{isFragment(oe)&&isArray$3(oe.children)?k(oe.children,`${V+ae}-`,L):L.push(createVNode(SpaceItem,{style:y.value,prefixCls:z,key:`nested-${V+ae}`},{default:()=>[oe]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}):isValidElementNode(j)&&L.push(createVNode(SpaceItem,{style:y.value,prefixCls:z,key:`LoopKey${V+re}`},{default:()=>[j]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}),L}return()=>{var $;const{spacer:V,direction:L}=n,z=renderSlot(e,"default",{key:0},()=>[]);if((($=z.children)!=null?$:[]).length===0)return null;if(isArray$3(z.children)){let j=k(z.children);if(V){const re=j.length-1;j=j.reduce((oe,ae,de)=>{const ue=[...oe,ae];return de!==re&&ue.push(createVNode("span",{style:[y.value,L==="vertical"?"width: 100%":null],key:de},[isVNode$1(V)?V:createTextVNode(V,PatchFlags.TEXT)],PatchFlags.STYLE)),ue},[])}return createVNode("div",{class:r.value,style:g.value},j,PatchFlags.STYLE|PatchFlags.CLASS)}return z.children}}}),ElSpace=withInstall(Space),statisticProps=buildProps({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:definePropType([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:definePropType([String,Object,Array])}}),__default__$p=defineComponent({name:"ElStatistic"}),_sfc_main$1D=defineComponent({...__default__$p,props:statisticProps,setup(n,{expose:e}){const r=n,g=useNamespace("statistic"),y=computed(()=>{const{value:k,formatter:$,precision:V,decimalSeparator:L,groupSeparator:z}=r;if(isFunction$3($))return $(k);if(!isNumber$1(k))return k;let[j,re=""]=String(k).split(".");return re=re.padEnd(V,"0").slice(0,V>0?V:0),j=j.replace(/\B(?=(\d{3})+(?!\d))/g,z),[j,re].join(re?L:"")});return e({displayValue:y}),(k,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[k.$slots.title||k.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("head"))},[renderSlot(k.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(k.title),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("content"))},[k.$slots.prefix||k.prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("prefix"))},[renderSlot(k.$slots,"prefix",{},()=>[createBaseVNode("span",null,toDisplayString$1(k.prefix),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(g).e("number")),style:normalizeStyle(k.valueStyle)},toDisplayString$1(unref(y)),7),k.$slots.suffix||k.suffix?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("suffix"))},[renderSlot(k.$slots,"suffix",{},()=>[createBaseVNode("span",null,toDisplayString$1(k.suffix),1)])],2)):createCommentVNode("v-if",!0)],2)],2))}});var Statistic=_export_sfc$1(_sfc_main$1D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const ElStatistic=withInstall(Statistic),countdownProps=buildProps({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:definePropType([Number,Object]),default:0},valueStyle:{type:definePropType([String,Object,Array])}}),countdownEmits={finish:()=>!0,[CHANGE_EVENT]:n=>isNumber$1(n)},timeUnits=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],getTime=n=>isNumber$1(n)?new Date(n).getTime():n.valueOf(),formatTime$1=(n,e)=>{let r=n;const g=/\[([^\]]*)]/g;return timeUnits.reduce((k,[$,V])=>{const L=new RegExp(`${$}+(?![^\\[\\]]*\\])`,"g");if(L.test(k)){const z=Math.floor(r/V);return r-=z*V,k.replace(L,j=>String(z).padStart(j.length,"0"))}return k},e).replace(g,"$1")},__default__$o=defineComponent({name:"ElCountdown"}),_sfc_main$1C=defineComponent({...__default__$o,props:countdownProps,emits:countdownEmits,setup(n,{expose:e,emit:r}){const g=n;let y;const k=ref(getTime(g.value)-Date.now()),$=computed(()=>formatTime$1(k.value,g.format)),V=j=>formatTime$1(j,g.format),L=()=>{y&&(cAF(y),y=void 0)},z=()=>{const j=getTime(g.value),re=()=>{let oe=j-Date.now();r("change",oe),oe<=0?(oe=0,L(),r("finish")):y=rAF(re),k.value=oe};y=rAF(re)};return watch(()=>[g.value,g.format],()=>{L(),z()},{immediate:!0}),onBeforeUnmount(()=>{L()}),e({displayValue:$}),(j,re)=>(openBlock(),createBlock(unref(ElStatistic),{value:k.value,title:j.title,prefix:j.prefix,suffix:j.suffix,"value-style":j.valueStyle,formatter:V},createSlots({_:2},[renderList(j.$slots,(oe,ae)=>({name:ae,fn:withCtx(()=>[renderSlot(j.$slots,ae)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Countdown=_export_sfc$1(_sfc_main$1C,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const ElCountdown=withInstall(Countdown),stepsProps=buildProps({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),stepsEmits={[CHANGE_EVENT]:(n,e)=>[n,e].every(isNumber$1)},__default__$n=defineComponent({name:"ElSteps"}),_sfc_main$1B=defineComponent({...__default__$n,props:stepsProps,emits:stepsEmits,setup(n,{emit:e}){const r=n,g=useNamespace("steps"),{children:y,addChild:k,removeChild:$}=useOrderedChildren(getCurrentInstance(),"ElStep");return watch(y,()=>{y.value.forEach((V,L)=>{V.setIndex(L)})}),provide("ElSteps",{props:r,steps:y,addStep:k,removeStep:$}),watch(()=>r.active,(V,L)=>{e(CHANGE_EVENT,V,L)}),(V,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(V.simple?"simple":V.direction)])},[renderSlot(V.$slots,"default")],2))}});var Steps=_export_sfc$1(_sfc_main$1B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const stepProps=buildProps({title:{type:String,default:""},icon:{type:iconPropType},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),__default__$m=defineComponent({name:"ElStep"}),_sfc_main$1A=defineComponent({...__default__$m,props:stepProps,setup(n){const e=n,r=useNamespace("step"),g=ref(-1),y=ref({}),k=ref(""),$=inject("ElSteps"),V=getCurrentInstance();onMounted(()=>{watch([()=>$.props.active,()=>$.props.processStatus,()=>$.props.finishStatus],([_e])=>{Ne(_e)},{immediate:!0})}),onBeforeUnmount(()=>{$.removeStep(Oe.uid)});const L=computed(()=>e.status||k.value),z=computed(()=>{const _e=$.steps.value[g.value-1];return _e?_e.currentStatus:"wait"}),j=computed(()=>$.props.alignCenter),re=computed(()=>$.props.direction==="vertical"),oe=computed(()=>$.props.simple),ae=computed(()=>$.steps.value.length),de=computed(()=>{var _e;return((_e=$.steps.value[ae.value-1])==null?void 0:_e.uid)===V?.uid}),ue=computed(()=>oe.value?"":$.props.space),pe=computed(()=>[r.b(),r.is(oe.value?"simple":$.props.direction),r.is("flex",de.value&&!ue.value&&!j.value),r.is("center",j.value&&!re.value&&!oe.value)]),he=computed(()=>{const _e={flexBasis:isNumber$1(ue.value)?`${ue.value}px`:ue.value?ue.value:`${100/(ae.value-(j.value?0:1))}%`};return re.value||de.value&&(_e.maxWidth=`${100/ae.value}%`),_e}),xe=_e=>{g.value=_e},$e=_e=>{const Fe=_e==="wait",Ue={transitionDelay:`${Fe?"-":""}${150*g.value}ms`},kt=_e===$.props.processStatus||Fe?0:100;Ue.borderWidth=kt&&!oe.value?"1px":0,Ue[$.props.direction==="vertical"?"height":"width"]=`${kt}%`,y.value=Ue},Ne=_e=>{_e>g.value?k.value=$.props.finishStatus:_e===g.value&&z.value!=="error"?k.value=$.props.processStatus:k.value="wait";const Fe=$.steps.value[g.value-1];Fe&&Fe.calcProgress(k.value)},Oe=reactive({uid:V.uid,currentStatus:L,setIndex:xe,calcProgress:$e});return $.addStep(Oe),(_e,Fe)=>(openBlock(),createElementBlock("div",{style:normalizeStyle(unref(he)),class:normalizeClass(unref(pe))},[createCommentVNode(" icon & line "),createBaseVNode("div",{class:normalizeClass([unref(r).e("head"),unref(r).is(unref(L))])},[unref(oe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("line"))},[createBaseVNode("i",{class:normalizeClass(unref(r).e("line-inner")),style:normalizeStyle(y.value)},null,6)],2)),createBaseVNode("div",{class:normalizeClass([unref(r).e("icon"),unref(r).is(_e.icon||_e.$slots.icon?"icon":"text")])},[renderSlot(_e.$slots,"icon",{},()=>[_e.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("icon-inner"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_e.icon)))]),_:1},8,["class"])):unref(L)==="success"?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(r).e("icon-inner"),unref(r).is("status")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):unref(L)==="error"?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(r).e("icon-inner"),unref(r).is("status")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"])):unref(oe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(unref(r).e("icon-inner"))},toDisplayString$1(g.value+1),3))])],2)],2),createCommentVNode(" title & description "),createBaseVNode("div",{class:normalizeClass(unref(r).e("main"))},[createBaseVNode("div",{class:normalizeClass([unref(r).e("title"),unref(r).is(unref(L))])},[renderSlot(_e.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(_e.title),1)])],2),unref(oe)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("arrow"))},null,2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(r).e("description"),unref(r).is(unref(L))])},[renderSlot(_e.$slots,"description",{},()=>[createTextVNode(toDisplayString$1(_e.description),1)])],2))],2)],6))}});var Step=_export_sfc$1(_sfc_main$1A,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const ElSteps=withInstall(Steps,{Step}),ElStep=withNoopInstall(Step),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),switchEmits={[UPDATE_MODEL_EVENT]:n=>isBoolean$1(n)||isString$3(n)||isNumber$1(n),[CHANGE_EVENT]:n=>isBoolean$1(n)||isString$3(n)||isNumber$1(n),[INPUT_EVENT]:n=>isBoolean$1(n)||isString$3(n)||isNumber$1(n)},_hoisted_1$1j=["onClick"],_hoisted_2$1b=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$H=["aria-hidden"],_hoisted_4$C=["aria-hidden"],_hoisted_5$x=["aria-hidden"],COMPONENT_NAME$8="ElSwitch",__default__$l=defineComponent({name:COMPONENT_NAME$8}),_sfc_main$1z=defineComponent({...__default__$l,props:switchProps,emits:switchEmits,setup(n,{expose:e,emit:r}){const g=n,y=getCurrentInstance(),{formItem:k}=useFormItem(),$=useFormSize(),V=useNamespace("switch");(Ue=>{Ue.forEach(kt=>{useDeprecated({from:kt[0],replacement:kt[1],scope:COMPONENT_NAME$8,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},computed(()=>{var Lt;return!!((Lt=y.vnode.props)!=null&&Lt[kt[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:z}=useFormItemInputId(g,{formItemContext:k}),j=useFormDisabled(computed(()=>g.loading)),re=ref(g.modelValue!==!1),oe=ref(),ae=ref(),de=computed(()=>[V.b(),V.m($.value),V.is("disabled",j.value),V.is("checked",$e.value)]),ue=computed(()=>[V.e("label"),V.em("label","left"),V.is("active",!$e.value)]),pe=computed(()=>[V.e("label"),V.em("label","right"),V.is("active",$e.value)]),he=computed(()=>({width:addUnit(g.width)}));watch(()=>g.modelValue,()=>{re.value=!0}),watch(()=>g.value,()=>{re.value=!1});const xe=computed(()=>re.value?g.modelValue:g.value),$e=computed(()=>xe.value===g.activeValue);[g.activeValue,g.inactiveValue].includes(xe.value)||(r(UPDATE_MODEL_EVENT,g.inactiveValue),r(CHANGE_EVENT,g.inactiveValue),r(INPUT_EVENT,g.inactiveValue)),watch($e,Ue=>{var kt;oe.value.checked=Ue,g.validateEvent&&((kt=k?.validate)==null||kt.call(k,"change").catch(Lt=>void 0))});const Ne=()=>{const Ue=$e.value?g.inactiveValue:g.activeValue;r(UPDATE_MODEL_EVENT,Ue),r(CHANGE_EVENT,Ue),r(INPUT_EVENT,Ue),nextTick(()=>{oe.value.checked=$e.value})},Oe=()=>{if(j.value)return;const{beforeChange:Ue}=g;if(!Ue){Ne();return}const kt=Ue();[isPromise(kt),isBoolean$1(kt)].includes(!0)||throwError(COMPONENT_NAME$8,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(kt)?kt.then(wn=>{wn&&Ne()}).catch(wn=>{}):kt&&Ne()},_e=computed(()=>V.cssVarBlock({...g.activeColor?{"on-color":g.activeColor}:null,...g.inactiveColor?{"off-color":g.inactiveColor}:null,...g.borderColor?{"border-color":g.borderColor}:null})),Fe=()=>{var Ue,kt;(kt=(Ue=oe.value)==null?void 0:Ue.focus)==null||kt.call(Ue)};return onMounted(()=>{oe.value.checked=$e.value}),e({focus:Fe,checked:$e}),(Ue,kt)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(de)),style:normalizeStyle(unref(_e)),onClick:withModifiers(Oe,["prevent"])},[createBaseVNode("input",{id:unref(z),ref_key:"input",ref:oe,class:normalizeClass(unref(V).e("input")),type:"checkbox",role:"switch","aria-checked":unref($e),"aria-disabled":unref(j),name:Ue.name,"true-value":Ue.activeValue,"false-value":Ue.inactiveValue,disabled:unref(j),tabindex:Ue.tabindex,onChange:Ne,onKeydown:withKeys(Oe,["enter"])},null,42,_hoisted_2$1b),!Ue.inlinePrompt&&(Ue.inactiveIcon||Ue.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ue))},[Ue.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!Ue.inactiveIcon&&Ue.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref($e)},toDisplayString$1(Ue.inactiveText),9,_hoisted_3$H)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:ae,class:normalizeClass(unref(V).e("core")),style:normalizeStyle(unref(he))},[Ue.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).e("inner"))},[Ue.activeIcon||Ue.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref($e)?Ue.activeIcon:Ue.inactiveIcon)))]),_:1},8,["class"])):Ue.activeText||Ue.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(V).is("text")),"aria-hidden":!unref($e)},toDisplayString$1(unref($e)?Ue.activeText:Ue.inactiveText),11,_hoisted_4$C)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(V).e("action"))},[Ue.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):Ue.activeActionIcon&&unref($e)?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.activeActionIcon)))]),_:1})):Ue.inactiveActionIcon&&!unref($e)?(openBlock(),createBlock(unref(ElIcon),{key:2},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)],2)],6),!Ue.inlinePrompt&&(Ue.activeIcon||Ue.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(pe))},[Ue.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!Ue.activeIcon&&Ue.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref($e)},toDisplayString$1(Ue.activeText),9,_hoisted_5$x)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$1j))}});var Switch=_export_sfc$1(_sfc_main$1z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ElSwitch=withInstall(Switch);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml$1;function escapeHtml$1(n){var e=""+n,r=matchHtmlRegExp.exec(e);if(!r)return e;var g,y="",k=0,$=0;for(k=r.index;k<e.length;k++){switch(e.charCodeAt(k)){case 34:g="&quot;";break;case 38:g="&amp;";break;case 39:g="&#39;";break;case 60:g="&lt;";break;case 62:g="&gt;";break;default:continue}$!==k&&(y+=e.substring($,k)),$=k+1,y+=g}return $!==k?y+e.substring($,k):y}const escapeHtml$2=getDefaultExportFromCjs(escapeHtml_1),getCell=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},orderBy=function(n,e,r,g,y){if(!e&&!g&&(!y||Array.isArray(y)&&!y.length))return n;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const k=g?null:function(V,L){return y?(Array.isArray(y)||(y=[y]),y.map(z=>typeof z=="string"?get(V,z):z(V,L,n))):(e!=="$key"&&isObject$3(V)&&"$value"in V&&(V=V.$value),[isObject$3(V)?get(V,e):V])},$=function(V,L){if(g)return g(V.value,L.value);for(let z=0,j=V.key.length;z<j;z++){if(V.key[z]<L.key[z])return-1;if(V.key[z]>L.key[z])return 1}return 0};return n.map((V,L)=>({value:V,index:L,key:k?k(V,L):null})).sort((V,L)=>{let z=$(V,L);return z||(z=V.index-L.index),z*+r}).map(V=>V.value)},getColumnById=function(n,e){let r=null;return n.columns.forEach(g=>{g.id===e&&(r=g)}),r},getColumnByKey=function(n,e){let r=null;for(let g=0;g<n.columns.length;g++){const y=n.columns[g];if(y.columnKey===e){r=y;break}}return r||throwError("ElTable",`No column matching with column-key: ${e}`),r},getColumnByCell=function(n,e,r){const g=(e.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return g?getColumnById(n,g[0]):null},getRowIdentity=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${n[e]}`;const r=e.split(".");let g=n;for(const y of r)g=g[y];return`${g}`}else if(typeof e=="function")return e.call(null,n)},getKeysMap=function(n,e){const r={};return(n||[]).forEach((g,y)=>{r[getRowIdentity(g,e)]={row:g,index:y}}),r};function mergeOptions(n,e){const r={};let g;for(g in n)r[g]=n[g];for(g in e)if(hasOwn$1(e,g)){const y=e[g];typeof y<"u"&&(r[g]=y)}return r}function parseWidth(n){return n===""||n!==void 0&&(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function parseMinWidth(n){return n===""||n!==void 0&&(n=parseWidth(n),Number.isNaN(n)&&(n=80)),n}function parseHeight(n){return typeof n=="number"?n:typeof n=="string"?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function compose(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,r)=>(...g)=>e(r(...g)))}function toggleRowStatus(n,e,r){let g=!1;const y=n.indexOf(e),k=y!==-1,$=V=>{V==="add"?n.push(e):n.splice(y,1),g=!0,isArray$3(e.children)&&e.children.forEach(L=>{toggleRowStatus(n,L,r??!k)})};return isBoolean$1(r)?r&&!k?$("add"):!r&&k&&$("remove"):$(k?"remove":"add"),g}function walkTreeNode(n,e,r="children",g="hasChildren"){const y=$=>!(Array.isArray($)&&$.length);function k($,V,L){e($,V,L),V.forEach(z=>{if(z[g]){e(z,null,L+1);return}const j=z[r];y(j)||k(z,j,L+1)})}n.forEach($=>{if($[g]){e($,null,0);return}const V=$[r];y(V)||k($,V,0)})}let removePopper;function createTablePopper(n,e,r,g,y){y=merge$1({enterable:!0,showArrow:!0},y);const k=n?.dataset.prefix,$=n?.querySelector(`.${k}-scrollbar__wrap`);function V(){const pe=y.effect==="light",he=document.createElement("div");return he.className=[`${k}-popper`,pe?"is-light":"is-dark",y.popperClass||""].join(" "),r=escapeHtml$2(r),he.innerHTML=r,he.style.zIndex=String(g()),n?.appendChild(he),he}function L(){const pe=document.createElement("div");return pe.className=`${k}-popper__arrow`,pe}function z(){j&&j.update()}removePopper?.(),removePopper=()=>{try{j&&j.destroy(),ae&&n?.removeChild(ae),e.removeEventListener("mouseenter",re),e.removeEventListener("mouseleave",oe),$?.removeEventListener("scroll",removePopper),removePopper=void 0}catch{}};let j=null,re=z,oe=removePopper;y.enterable&&({onOpen:re,onClose:oe}=useDelayedToggle({showAfter:y.showAfter,hideAfter:y.hideAfter,open:z,close:removePopper}));const ae=V();ae.onmouseenter=re,ae.onmouseleave=oe;const de=[];if(y.offset&&de.push({name:"offset",options:{offset:[0,y.offset]}}),y.showArrow){const pe=ae.appendChild(L());de.push({name:"arrow",options:{element:pe,padding:10}})}const ue=y.popperOptions||{};return j=yn(e,ae,{placement:y.placement||"top",strategy:"fixed",...ue,modifiers:ue.modifiers?de.concat(ue.modifiers):de}),e.addEventListener("mouseenter",re),e.addEventListener("mouseleave",oe),$?.addEventListener("scroll",removePopper),j}function getCurrentColumns(n){return n.children?flatMap(n.children,getCurrentColumns):[n]}function getColSpan(n,e){return n+e.colSpan}const isFixedColumn=(n,e,r,g)=>{let y=0,k=n;const $=r.states.columns.value;if(g){const L=getCurrentColumns(g[n]);y=$.slice(0,$.indexOf(L[0])).reduce(getColSpan,0),k=y+L.reduce(getColSpan,0)-1}else y=n;let V;switch(e){case"left":k<r.states.fixedLeafColumnsLength.value&&(V="left");break;case"right":y>=$.length-r.states.rightFixedLeafColumnsLength.value&&(V="right");break;default:k<r.states.fixedLeafColumnsLength.value?V="left":y>=$.length-r.states.rightFixedLeafColumnsLength.value&&(V="right")}return V?{direction:V,start:y,after:k}:{}},getFixedColumnsClass=(n,e,r,g,y,k=0)=>{const $=[],{direction:V,start:L,after:z}=isFixedColumn(e,r,g,y);if(V){const j=V==="left";$.push(`${n}-fixed-column--${V}`),j&&z+k===g.states.fixedLeafColumnsLength.value-1?$.push("is-last-column"):!j&&L-k===g.states.columns.value.length-g.states.rightFixedLeafColumnsLength.value&&$.push("is-first-column")}return $};function getOffset(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const getFixedColumnOffset=(n,e,r,g)=>{const{direction:y,start:k=0,after:$=0}=isFixedColumn(n,e,r,g);if(!y)return;const V={},L=y==="left",z=r.states.columns.value;return L?V.left=z.slice(0,k).reduce(getOffset,0):V.right=z.slice($+1).reverse().reduce(getOffset,0),V},ensurePosition=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};function useExpand(n){const e=getCurrentInstance(),r=ref(!1),g=ref([]);return{updateExpandRows:()=>{const L=n.data.value||[],z=n.rowKey.value;if(r.value)g.value=L.slice();else if(z){const j=getKeysMap(g.value,z);g.value=L.reduce((re,oe)=>{const ae=getRowIdentity(oe,z);return j[ae]&&re.push(oe),re},[])}else g.value=[]},toggleRowExpansion:(L,z)=>{toggleRowStatus(g.value,L,z)&&e.emit("expand-change",L,g.value.slice())},setExpandRowKeys:L=>{e.store.assertRowKey();const z=n.data.value||[],j=n.rowKey.value,re=getKeysMap(z,j);g.value=L.reduce((oe,ae)=>{const de=re[ae];return de&&oe.push(de.row),oe},[])},isRowExpanded:L=>{const z=n.rowKey.value;return z?!!getKeysMap(g.value,z)[getRowIdentity(L,z)]:g.value.includes(L)},states:{expandRows:g,defaultExpandAll:r}}}function useCurrent(n){const e=getCurrentInstance(),r=ref(null),g=ref(null),y=z=>{e.store.assertRowKey(),r.value=z,$(z)},k=()=>{r.value=null},$=z=>{const{data:j,rowKey:re}=n;let oe=null;re.value&&(oe=(unref(j)||[]).find(ae=>getRowIdentity(ae,re.value)===z)),g.value=oe,e.emit("current-change",g.value,null)};return{setCurrentRowKey:y,restoreCurrentRowKey:k,setCurrentRowByKey:$,updateCurrentRow:z=>{const j=g.value;if(z&&z!==j){g.value=z,e.emit("current-change",g.value,j);return}!z&&j&&(g.value=null,e.emit("current-change",null,j))},updateCurrentRowData:()=>{const z=n.rowKey.value,j=n.data.value||[],re=g.value;if(!j.includes(re)&&re){if(z){const oe=getRowIdentity(re,z);$(oe)}else g.value=null;g.value===null&&e.emit("current-change",null,re)}else r.value&&($(r.value),k())},states:{_currentRowKey:r,currentRow:g}}}function useTree$2(n){const e=ref([]),r=ref({}),g=ref(16),y=ref(!1),k=ref({}),$=ref("hasChildren"),V=ref("children"),L=getCurrentInstance(),z=computed(()=>{if(!n.rowKey.value)return{};const he=n.data.value||[];return re(he)}),j=computed(()=>{const he=n.rowKey.value,xe=Object.keys(k.value),$e={};return xe.length&&xe.forEach(Ne=>{if(k.value[Ne].length){const Oe={children:[]};k.value[Ne].forEach(_e=>{const Fe=getRowIdentity(_e,he);Oe.children.push(Fe),_e[$.value]&&!$e[Fe]&&($e[Fe]={children:[]})}),$e[Ne]=Oe}}),$e}),re=he=>{const xe=n.rowKey.value,$e={};return walkTreeNode(he,(Ne,Oe,_e)=>{const Fe=getRowIdentity(Ne,xe);Array.isArray(Oe)?$e[Fe]={children:Oe.map(Ue=>getRowIdentity(Ue,xe)),level:_e}:y.value&&($e[Fe]={children:[],lazy:!0,level:_e})},V.value,$.value),$e},oe=(he=!1,xe=($e=>($e=L.store)==null?void 0:$e.states.defaultExpandAll.value)())=>{var $e;const Ne=z.value,Oe=j.value,_e=Object.keys(Ne),Fe={};if(_e.length){const Ue=unref(r),kt=[],Lt=(Et,xn)=>{if(he)return e.value?xe||e.value.includes(xn):!!(xe||Et?.expanded);{const jt=xe||e.value&&e.value.includes(xn);return!!(Et?.expanded||jt)}};_e.forEach(Et=>{const xn=Ue[Et],jt={...Ne[Et]};if(jt.expanded=Lt(xn,Et),jt.lazy){const{loaded:An=!1,loading:Dn=!1}=xn||{};jt.loaded=!!An,jt.loading=!!Dn,kt.push(Et)}Fe[Et]=jt});const wn=Object.keys(Oe);y.value&&wn.length&&kt.length&&wn.forEach(Et=>{const xn=Ue[Et],jt=Oe[Et].children;if(kt.includes(Et)){if(Fe[Et].children.length!==0)throw new Error("[ElTable]children must be an empty array.");Fe[Et].children=jt}else{const{loaded:An=!1,loading:Dn=!1}=xn||{};Fe[Et]={lazy:!0,loaded:!!An,loading:!!Dn,expanded:Lt(xn,Et),children:jt,level:""}}})}r.value=Fe,($e=L.store)==null||$e.updateTableScrollY()};watch(()=>e.value,()=>{oe(!0)}),watch(()=>z.value,()=>{oe()}),watch(()=>j.value,()=>{oe()});const ae=he=>{e.value=he,oe()},de=(he,xe)=>{L.store.assertRowKey();const $e=n.rowKey.value,Ne=getRowIdentity(he,$e),Oe=Ne&&r.value[Ne];if(Ne&&Oe&&"expanded"in Oe){const _e=Oe.expanded;xe=typeof xe>"u"?!Oe.expanded:xe,r.value[Ne].expanded=xe,_e!==xe&&L.emit("expand-change",he,xe),L.store.updateTableScrollY()}},ue=he=>{L.store.assertRowKey();const xe=n.rowKey.value,$e=getRowIdentity(he,xe),Ne=r.value[$e];y.value&&Ne&&"loaded"in Ne&&!Ne.loaded?pe(he,$e,Ne):de(he,void 0)},pe=(he,xe,$e)=>{const{load:Ne}=L.props;Ne&&!r.value[xe].loaded&&(r.value[xe].loading=!0,Ne(he,$e,Oe=>{if(!Array.isArray(Oe))throw new TypeError("[ElTable] data must be an array");r.value[xe].loading=!1,r.value[xe].loaded=!0,r.value[xe].expanded=!0,Oe.length&&(k.value[xe]=Oe),L.emit("expand-change",he,!0)}))};return{loadData:pe,loadOrToggle:ue,toggleTreeExpansion:de,updateTreeExpandKeys:ae,updateTreeData:oe,normalize:re,states:{expandRowKeys:e,treeData:r,indent:g,lazy:y,lazyTreeNodeMap:k,lazyColumnIdentifier:$,childrenColumnName:V}}}const sortData=(n,e)=>{const r=e.sortingColumn;return!r||typeof r.sortable=="string"?n:orderBy(n,e.sortProp,e.sortOrder,r.sortMethod,r.sortBy)},doFlattenColumns=n=>{const e=[];return n.forEach(r=>{r.children&&r.children.length>0?e.push.apply(e,doFlattenColumns(r.children)):e.push(r)}),e};function useWatcher$1(){var n;const e=getCurrentInstance(),{size:r}=toRefs((n=e.proxy)==null?void 0:n.$props),g=ref(null),y=ref([]),k=ref([]),$=ref(!1),V=ref([]),L=ref([]),z=ref([]),j=ref([]),re=ref([]),oe=ref([]),ae=ref([]),de=ref([]),ue=[],pe=ref(0),he=ref(0),xe=ref(0),$e=ref(!1),Ne=ref([]),Oe=ref(!1),_e=ref(!1),Fe=ref(null),Ue=ref({}),kt=ref(null),Lt=ref(null),wn=ref(null),Et=ref(null),xn=ref(null);watch(y,()=>e.state&&En(!1),{deep:!0});const jt=()=>{if(!g.value)throw new Error("[ElTable] prop row-key is required")},An=qe=>{var Pt;(Pt=qe.children)==null||Pt.forEach(_n=>{_n.fixed=qe.fixed,An(_n)})},Dn=()=>{V.value.forEach(Cn=>{An(Cn)}),j.value=V.value.filter(Cn=>Cn.fixed===!0||Cn.fixed==="left"),re.value=V.value.filter(Cn=>Cn.fixed==="right"),j.value.length>0&&V.value[0]&&V.value[0].type==="selection"&&!V.value[0].fixed&&(V.value[0].fixed=!0,j.value.unshift(V.value[0]));const qe=V.value.filter(Cn=>!Cn.fixed);L.value=[].concat(j.value).concat(qe).concat(re.value);const Pt=doFlattenColumns(qe),_n=doFlattenColumns(j.value),At=doFlattenColumns(re.value);pe.value=Pt.length,he.value=_n.length,xe.value=At.length,z.value=[].concat(_n).concat(Pt).concat(At),$.value=j.value.length>0||re.value.length>0},En=(qe,Pt=!1)=>{qe&&Dn(),Pt?e.state.doLayout():e.state.debouncedUpdateLayout()},Bn=qe=>Ne.value.includes(qe),$n=()=>{$e.value=!1,Ne.value.length&&(Ne.value=[],e.emit("selection-change",[]))},Wn=()=>{let qe;if(g.value){qe=[];const Pt=getKeysMap(Ne.value,g.value),_n=getKeysMap(y.value,g.value);for(const At in Pt)hasOwn$1(Pt,At)&&!_n[At]&&qe.push(Pt[At].row)}else qe=Ne.value.filter(Pt=>!y.value.includes(Pt));if(qe.length){const Pt=Ne.value.filter(_n=>!qe.includes(_n));Ne.value=Pt,e.emit("selection-change",Pt.slice())}},Gn=()=>(Ne.value||[]).slice(),Nn=(qe,Pt=void 0,_n=!0)=>{if(toggleRowStatus(Ne.value,qe,Pt)){const Cn=(Ne.value||[]).slice();_n&&e.emit("select",Cn,qe),e.emit("selection-change",Cn)}},Zn=()=>{var qe,Pt;const _n=_e.value?!$e.value:!($e.value||Ne.value.length);$e.value=_n;let At=!1,Cn=0;const bn=(Pt=(qe=e?.store)==null?void 0:qe.states)==null?void 0:Pt.rowKey.value;y.value.forEach((In,Ln)=>{const Mn=Ln+Cn;Fe.value?Fe.value.call(null,In,Mn)&&toggleRowStatus(Ne.value,In,_n)&&(At=!0):toggleRowStatus(Ne.value,In,_n)&&(At=!0),Cn+=Xn(getRowIdentity(In,bn))}),At&&e.emit("selection-change",Ne.value?Ne.value.slice():[]),e.emit("select-all",Ne.value)},Hn=()=>{const qe=getKeysMap(Ne.value,g.value);y.value.forEach(Pt=>{const _n=getRowIdentity(Pt,g.value),At=qe[_n];At&&(Ne.value[At.index]=Pt)})},rr=()=>{var qe,Pt,_n;if(((qe=y.value)==null?void 0:qe.length)===0){$e.value=!1;return}let At;g.value&&(At=getKeysMap(Ne.value,g.value));const Cn=function(Mn){return At?!!At[getRowIdentity(Mn,g.value)]:Ne.value.includes(Mn)};let bn=!0,In=0,Ln=0;for(let Mn=0,Fn=(y.value||[]).length;Mn<Fn;Mn++){const er=(_n=(Pt=e?.store)==null?void 0:Pt.states)==null?void 0:_n.rowKey.value,Qn=Mn+Ln,nr=y.value[Mn],kn=Fe.value&&Fe.value.call(null,nr,Qn);if(Cn(nr))In++;else if(!Fe.value||kn){bn=!1;break}Ln+=Xn(getRowIdentity(nr,er))}In===0&&(bn=!1),$e.value=bn},Xn=qe=>{var Pt;if(!e||!e.store)return 0;const{treeData:_n}=e.store.states;let At=0;const Cn=(Pt=_n.value[qe])==null?void 0:Pt.children;return Cn&&(At+=Cn.length,Cn.forEach(bn=>{At+=Xn(bn)})),At},Pn=(qe,Pt)=>{Array.isArray(qe)||(qe=[qe]);const _n={};return qe.forEach(At=>{Ue.value[At.id]=Pt,_n[At.columnKey||At.id]=Pt}),_n},jn=(qe,Pt,_n)=>{Lt.value&&Lt.value!==qe&&(Lt.value.order=null),Lt.value=qe,wn.value=Pt,Et.value=_n},fr=()=>{let qe=unref(k);Object.keys(Ue.value).forEach(Pt=>{const _n=Ue.value[Pt];if(!_n||_n.length===0)return;const At=getColumnById({columns:z.value},Pt);At&&At.filterMethod&&(qe=qe.filter(Cn=>_n.some(bn=>At.filterMethod.call(null,bn,Cn,At))))}),kt.value=qe},yr=()=>{y.value=sortData(kt.value,{sortingColumn:Lt.value,sortProp:wn.value,sortOrder:Et.value})},Cr=(qe=void 0)=>{qe&&qe.filter||fr(),yr()},sr=qe=>{const{tableHeaderRef:Pt}=e.refs;if(!Pt)return;const _n=Object.assign({},Pt.filterPanels),At=Object.keys(_n);if(At.length)if(typeof qe=="string"&&(qe=[qe]),Array.isArray(qe)){const Cn=qe.map(bn=>getColumnByKey({columns:z.value},bn));At.forEach(bn=>{const In=Cn.find(Ln=>Ln.id===bn);In&&(In.filteredValue=[])}),e.store.commit("filterChange",{column:Cn,values:[],silent:!0,multi:!0})}else At.forEach(Cn=>{const bn=z.value.find(In=>In.id===Cn);bn&&(bn.filteredValue=[])}),Ue.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},zn=()=>{Lt.value&&(jn(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:vn,toggleRowExpansion:Jn,updateExpandRows:Tn,states:Dt,isRowExpanded:hn}=useExpand({data:y,rowKey:g}),{updateTreeExpandKeys:Vn,toggleTreeExpansion:Kn,updateTreeData:ar,loadOrToggle:lr,states:cr}=useTree$2({data:y,rowKey:g}),{updateCurrentRowData:mr,updateCurrentRow:ur,setCurrentRowKey:le,states:Ce}=useCurrent({data:y,rowKey:g});return{assertRowKey:jt,updateColumns:Dn,scheduleLayout:En,isSelected:Bn,clearSelection:$n,cleanSelection:Wn,getSelectionRows:Gn,toggleRowSelection:Nn,_toggleAllSelection:Zn,toggleAllSelection:null,updateSelectionByRowKey:Hn,updateAllSelected:rr,updateFilters:Pn,updateCurrentRow:ur,updateSort:jn,execFilter:fr,execSort:yr,execQuery:Cr,clearFilter:sr,clearSort:zn,toggleRowExpansion:Jn,setExpandRowKeysAdapter:qe=>{vn(qe),Vn(qe)},setCurrentRowKey:le,toggleRowExpansionAdapter:(qe,Pt)=>{z.value.some(({type:At})=>At==="expand")?Jn(qe,Pt):Kn(qe,Pt)},isRowExpanded:hn,updateExpandRows:Tn,updateCurrentRowData:mr,loadOrToggle:lr,updateTreeData:ar,states:{tableSize:r,rowKey:g,data:y,_data:k,isComplex:$,_columns:V,originColumns:L,columns:z,fixedColumns:j,rightFixedColumns:re,leafColumns:oe,fixedLeafColumns:ae,rightFixedLeafColumns:de,updateOrderFns:ue,leafColumnsLength:pe,fixedLeafColumnsLength:he,rightFixedLeafColumnsLength:xe,isAllSelected:$e,selection:Ne,reserveSelection:Oe,selectOnIndeterminate:_e,selectable:Fe,filters:Ue,filteredData:kt,sortingColumn:Lt,sortProp:wn,sortOrder:Et,hoverRow:xn,...Dt,...cr,...Ce}}}function replaceColumn(n,e){return n.map(r=>{var g;return r.id===e.id?e:((g=r.children)!=null&&g.length&&(r.children=replaceColumn(r.children,e)),r)})}function sortColumn(n){n.forEach(e=>{var r,g;e.no=(r=e.getColumnIndex)==null?void 0:r.call(e),(g=e.children)!=null&&g.length&&sortColumn(e.children)}),n.sort((e,r)=>e.no-r.no)}function useStore(){const n=getCurrentInstance(),e=useWatcher$1();return{ns:useNamespace("table"),...e,mutations:{setData($,V){const L=unref($._data)!==V;$.data.value=V,$._data.value=V,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),unref($.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):L?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn($,V,L,z){const j=unref($._columns);let re=[];L?(L&&!L.children&&(L.children=[]),L.children.push(V),re=replaceColumn(j,L)):(j.push(V),re=j),sortColumn(re),$._columns.value=re,$.updateOrderFns.push(z),V.type==="selection"&&($.selectable.value=V.selectable,$.reserveSelection.value=V.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},updateColumnOrder($,V){var L;((L=V.getColumnIndex)==null?void 0:L.call(V))!==V.no&&(sortColumn($._columns.value),n.$ready&&n.store.updateColumns())},removeColumn($,V,L,z){const j=unref($._columns)||[];if(L)L.children.splice(L.children.findIndex(oe=>oe.id===V.id),1),nextTick(()=>{var oe;((oe=L.children)==null?void 0:oe.length)===0&&delete L.children}),$._columns.value=replaceColumn(j,L);else{const oe=j.indexOf(V);oe>-1&&(j.splice(oe,1),$._columns.value=j)}const re=$.updateOrderFns.indexOf(z);re>-1&&$.updateOrderFns.splice(re,1),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort($,V){const{prop:L,order:z,init:j}=V;if(L){const re=unref($.columns).find(oe=>oe.property===L);re&&(re.order=z,n.store.updateSort(re,L,z),n.store.commit("changeSortCondition",{init:j}))}},changeSortCondition($,V){const{sortingColumn:L,sortProp:z,sortOrder:j}=$,re=unref(L),oe=unref(z),ae=unref(j);ae===null&&($.sortingColumn.value=null,$.sortProp.value=null);const de={filter:!0};n.store.execQuery(de),(!V||!(V.silent||V.init))&&n.emit("sort-change",{column:re,prop:oe,order:ae}),n.store.updateTableScrollY()},filterChange($,V){const{column:L,values:z,silent:j}=V,re=n.store.updateFilters(L,z);n.store.execQuery(),j||n.emit("filter-change",re),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged($,V){n.store.toggleRowSelection(V),n.store.updateAllSelected()},setHoverRow($,V){$.hoverRow.value=V},setCurrentRow($,V){n.store.updateCurrentRow(V)}},commit:function($,...V){const L=n.store.mutations;if(L[$])L[$].apply(n,[n.store.states].concat(V));else throw new Error(`Action not found: ${$}`)},updateTableScrollY:function(){nextTick(()=>n.layout.updateScrollY.apply(n.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function createStore(n,e){if(!n)throw new Error("Table is required.");const r=useStore();return r.toggleAllSelection=debounce(r._toggleAllSelection,10),Object.keys(InitialStateMap).forEach(g=>{handleValue(getArrKeysValue(e,g),g,r)}),proxyTableProps(r,e),r}function proxyTableProps(n,e){Object.keys(InitialStateMap).forEach(r=>{watch(()=>getArrKeysValue(e,r),g=>{handleValue(g,r,n)})})}function handleValue(n,e,r){let g=n,y=InitialStateMap[e];typeof InitialStateMap[e]=="object"&&(y=y.key,g=g||InitialStateMap[e].default),r.states[y].value=g}function getArrKeysValue(n,e){if(e.includes(".")){const r=e.split(".");let g=n;return r.forEach(y=>{g=g[y]}),g}else return n[e]}class TableLayout{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const r in e)hasOwn$1(e,r)&&(isRef(this[r])?this[r].value=e[r]:this[r]=e[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&r?.wrapRef){let g=!0;const y=this.scrollY.value;return g=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=g,y!==g}return!1}setHeight(e,r="height"){if(!isClient)return;const g=this.table.vnode.el;if(e=parseHeight(e),this.height.value=Number(e),!g&&(e||e===0))return nextTick(()=>this.setHeight(e,r));typeof e=="number"?(g.style[r]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(g.style[r]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(g=>{g.isColumnGroup?e.push.apply(e,g.columns):e.push(g)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let r=e;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!isClient)return;const e=this.fit,r=this.table.vnode.el.clientWidth;let g=0;const y=this.getFlattenColumns(),k=y.filter(L=>typeof L.width!="number");if(y.forEach(L=>{typeof L.width=="number"&&L.realWidth&&(L.realWidth=null)}),k.length>0&&e){if(y.forEach(L=>{g+=Number(L.width||L.minWidth||80)}),g<=r){this.scrollX.value=!1;const L=r-g;if(k.length===1)k[0].realWidth=Number(k[0].minWidth||80)+L;else{const z=k.reduce((oe,ae)=>oe+Number(ae.minWidth||80),0),j=L/z;let re=0;k.forEach((oe,ae)=>{if(ae===0)return;const de=Math.floor(Number(oe.minWidth||80)*j);re+=de,oe.realWidth=Number(oe.minWidth||80)+de}),k[0].realWidth=Number(k[0].minWidth||80)+L-re}}else this.scrollX.value=!0,k.forEach(L=>{L.realWidth=Number(L.minWidth)});this.bodyWidth.value=Math.max(g,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else y.forEach(L=>{!L.width&&!L.minWidth?L.realWidth=80:L.realWidth=Number(L.width||L.minWidth),g+=L.realWidth}),this.scrollX.value=g>r,this.bodyWidth.value=g;const $=this.store.states.fixedColumns.value;if($.length>0){let L=0;$.forEach(z=>{L+=Number(z.realWidth||z.width)}),this.fixedWidth.value=L}const V=this.store.states.rightFixedColumns.value;if(V.length>0){let L=0;V.forEach(z=>{L+=Number(z.realWidth||z.width)}),this.rightFixedWidth.value=L}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const r=this.observers.indexOf(e);r!==-1&&this.observers.splice(r,1)}notifyObservers(e){this.observers.forEach(g=>{var y,k;switch(e){case"columns":(y=g.state)==null||y.onColumnsChange(this);break;case"scrollable":(k=g.state)==null||k.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$1y=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(n){const e=getCurrentInstance(),{t:r}=useLocale(),g=useNamespace("table-filter"),y=e?.parent;y.filterPanels.value[n.column.id]||(y.filterPanels.value[n.column.id]=e);const k=ref(!1),$=ref(null),V=computed(()=>n.column&&n.column.filters),L=computed({get:()=>{var Ne;return(((Ne=n.column)==null?void 0:Ne.filteredValue)||[])[0]},set:Ne=>{z.value&&(typeof Ne<"u"&&Ne!==null?z.value.splice(0,1,Ne):z.value.splice(0,1))}}),z=computed({get(){return n.column?n.column.filteredValue||[]:[]},set(Ne){n.column&&n.upDataColumn("filteredValue",Ne)}}),j=computed(()=>n.column?n.column.filterMultiple:!0),re=Ne=>Ne.value===L.value,oe=()=>{k.value=!1},ae=Ne=>{Ne.stopPropagation(),k.value=!k.value},de=()=>{k.value=!1},ue=()=>{xe(z.value),oe()},pe=()=>{z.value=[],xe(z.value),oe()},he=Ne=>{L.value=Ne,xe(typeof Ne<"u"&&Ne!==null?z.value:[]),oe()},xe=Ne=>{n.store.commit("filterChange",{column:n.column,values:Ne}),n.store.updateAllSelected()};watch(k,Ne=>{n.column&&n.upDataColumn("filterOpened",Ne)},{immediate:!0});const $e=computed(()=>{var Ne,Oe;return(Oe=(Ne=$.value)==null?void 0:Ne.popperRef)==null?void 0:Oe.contentRef});return{tooltipVisible:k,multiple:j,filteredValue:z,filterValue:L,filters:V,handleConfirm:ue,handleReset:pe,handleSelect:he,isActive:re,t:r,ns:g,showFilterPanel:ae,hideFilterPanel:de,popperPaneRef:$e,tooltip:$}}}),_hoisted_1$1i={key:0},_hoisted_2$1a=["disabled"],_hoisted_3$G=["label","onClick"];function _sfc_render$4(n,e,r,g,y,k){const $=resolveComponent("el-checkbox"),V=resolveComponent("el-checkbox-group"),L=resolveComponent("el-scrollbar"),z=resolveComponent("arrow-up"),j=resolveComponent("arrow-down"),re=resolveComponent("el-icon"),oe=resolveComponent("el-tooltip"),ae=resolveDirective("click-outside");return openBlock(),createBlock(oe,{ref:"tooltip",visible:n.tooltipVisible,offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":n.ns.b(),persistent:""},{content:withCtx(()=>[n.multiple?(openBlock(),createElementBlock("div",_hoisted_1$1i,[createBaseVNode("div",{class:normalizeClass(n.ns.e("content"))},[createVNode(L,{"wrap-class":n.ns.e("wrap")},{default:withCtx(()=>[createVNode(V,{modelValue:n.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=de=>n.filteredValue=de),class:normalizeClass(n.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filters,de=>(openBlock(),createBlock($,{key:de.value,label:de.value},{default:withCtx(()=>[createTextVNode(toDisplayString$1(de.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(n.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...de)=>n.handleConfirm&&n.handleConfirm(...de))},toDisplayString$1(n.t("el.table.confirmFilter")),11,_hoisted_2$1a),createBaseVNode("button",{type:"button",onClick:e[2]||(e[2]=(...de)=>n.handleReset&&n.handleReset(...de))},toDisplayString$1(n.t("el.table.resetFilter")),1)],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(n.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:e[3]||(e[3]=de=>n.handleSelect(null))},toDisplayString$1(n.t("el.table.clearFilter")),3),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filters,de=>(openBlock(),createElementBlock("li",{key:de.value,class:normalizeClass([n.ns.e("list-item"),n.ns.is("active",n.isActive(de))]),label:de.value,onClick:ue=>n.handleSelect(de.value)},toDisplayString$1(de.text),11,_hoisted_3$G))),128))],2))]),default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...de)=>n.showFilterPanel&&n.showFilterPanel(...de))},[createVNode(re,null,{default:withCtx(()=>[n.column.filterOpened?(openBlock(),createBlock(z,{key:0})):(openBlock(),createBlock(j,{key:1}))]),_:1})],2)),[[ae,n.hideFilterPanel,n.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var FilterPanel=_export_sfc$1(_sfc_main$1y,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function useLayoutObserver(n){const e=getCurrentInstance();onBeforeMount(()=>{r.value.addObserver(e)}),onMounted(()=>{g(r.value),y(r.value)}),onUpdated(()=>{g(r.value),y(r.value)}),onUnmounted(()=>{r.value.removeObserver(e)});const r=computed(()=>{const k=n.layout;if(!k)throw new Error("Can not find table layout.");return k}),g=k=>{var $;const V=(($=n.vnode.el)==null?void 0:$.querySelectorAll("colgroup > col"))||[];if(!V.length)return;const L=k.getFlattenColumns(),z={};L.forEach(j=>{z[j.id]=j});for(let j=0,re=V.length;j<re;j++){const oe=V[j],ae=oe.getAttribute("name"),de=z[ae];de&&oe.setAttribute("width",de.realWidth||de.width)}},y=k=>{var $,V;const L=(($=n.vnode.el)==null?void 0:$.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let j=0,re=L.length;j<re;j++)L[j].setAttribute("width",k.scrollY.value?k.gutterWidth:"0");const z=((V=n.vnode.el)==null?void 0:V.querySelectorAll("th.gutter"))||[];for(let j=0,re=z.length;j<re;j++){const oe=z[j];oe.style.width=k.scrollY.value?`${k.gutterWidth}px`:"0",oe.style.display=k.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:g,onScrollableChange:y}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(n,e){const r=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=ue=>{ue.stopPropagation()},k=(ue,pe)=>{!pe.filters&&pe.sortable?de(ue,pe,!1):pe.filterable&&!pe.sortable&&y(ue),g?.emit("header-click",pe,ue)},$=(ue,pe)=>{g?.emit("header-contextmenu",pe,ue)},V=ref(null),L=ref(!1),z=ref({}),j=(ue,pe)=>{if(isClient&&!(pe.children&&pe.children.length>0)&&V.value&&n.border){L.value=!0;const he=g;e("set-drag-visible",!0);const $e=(he?.vnode.el).getBoundingClientRect().left,Ne=r.vnode.el.querySelector(`th.${pe.id}`),Oe=Ne.getBoundingClientRect(),_e=Oe.left-$e+30;addClass(Ne,"noclick"),z.value={startMouseLeft:ue.clientX,startLeft:Oe.right-$e,startColumnLeft:Oe.left-$e,tableLeft:$e};const Fe=he?.refs.resizeProxy;Fe.style.left=`${z.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Ue=Lt=>{const wn=Lt.clientX-z.value.startMouseLeft,Et=z.value.startLeft+wn;Fe.style.left=`${Math.max(_e,Et)}px`},kt=()=>{if(L.value){const{startColumnLeft:Lt,startLeft:wn}=z.value,xn=Number.parseInt(Fe.style.left,10)-Lt;pe.width=pe.realWidth=xn,he?.emit("header-dragend",pe.width,wn-Lt,pe,ue),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",L.value=!1,V.value=null,z.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",Ue),document.removeEventListener("mouseup",kt),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass(Ne,"noclick")},0)};document.addEventListener("mousemove",Ue),document.addEventListener("mouseup",kt)}},re=(ue,pe)=>{if(pe.children&&pe.children.length>0)return;const he=ue.target;if(!isElement$1(he))return;const xe=he?.closest("th");if(!(!pe||!pe.resizable)&&!L.value&&n.border){const $e=xe.getBoundingClientRect(),Ne=document.body.style;$e.width>12&&$e.right-ue.pageX<8?(Ne.cursor="col-resize",hasClass(xe,"is-sortable")&&(xe.style.cursor="col-resize"),V.value=pe):L.value||(Ne.cursor="",hasClass(xe,"is-sortable")&&(xe.style.cursor="pointer"),V.value=null)}},oe=()=>{isClient&&(document.body.style.cursor="")},ae=({order:ue,sortOrders:pe})=>{if(ue==="")return pe[0];const he=pe.indexOf(ue||null);return pe[he>pe.length-2?0:he+1]},de=(ue,pe,he)=>{var xe;ue.stopPropagation();const $e=pe.order===he?null:he||ae(pe),Ne=(xe=ue.target)==null?void 0:xe.closest("th");if(Ne&&hasClass(Ne,"noclick")){removeClass(Ne,"noclick");return}if(!pe.sortable)return;const Oe=n.store.states;let _e=Oe.sortProp.value,Fe;const Ue=Oe.sortingColumn.value;(Ue!==pe||Ue===pe&&Ue.order===null)&&(Ue&&(Ue.order=null),Oe.sortingColumn.value=pe,_e=pe.property),$e?Fe=pe.order=$e:Fe=pe.order=null,Oe.sortProp.value=_e,Oe.sortOrder.value=Fe,g?.store.commit("changeSortCondition")};return{handleHeaderClick:k,handleHeaderContextMenu:$,handleMouseDown:j,handleMouseMove:re,handleMouseOut:oe,handleSortClick:de,handleFilterClick:y}}function useStyle$2(n){const e=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getHeaderRowStyle:V=>{const L=e?.props.headerRowStyle;return typeof L=="function"?L.call(null,{rowIndex:V}):L},getHeaderRowClass:V=>{const L=[],z=e?.props.headerRowClassName;return typeof z=="string"?L.push(z):typeof z=="function"&&L.push(z.call(null,{rowIndex:V})),L.join(" ")},getHeaderCellStyle:(V,L,z,j)=>{var re;let oe=(re=e?.props.headerCellStyle)!=null?re:{};typeof oe=="function"&&(oe=oe.call(null,{rowIndex:V,columnIndex:L,row:z,column:j}));const ae=getFixedColumnOffset(L,j.fixed,n.store,z);return ensurePosition(ae,"left"),ensurePosition(ae,"right"),Object.assign({},oe,ae)},getHeaderCellClass:(V,L,z,j)=>{const re=getFixedColumnsClass(r.b(),L,j.fixed,n.store,z),oe=[j.id,j.order,j.headerAlign,j.className,j.labelClassName,...re];j.children||oe.push("is-leaf"),j.sortable&&oe.push("is-sortable");const ae=e?.props.headerCellClassName;return typeof ae=="string"?oe.push(ae):typeof ae=="function"&&oe.push(ae.call(null,{rowIndex:V,columnIndex:L,row:z,column:j})),oe.push(r.e("cell")),oe.filter(de=>!!de).join(" ")}}}const getAllColumns=n=>{const e=[];return n.forEach(r=>{r.children?(e.push(r),e.push.apply(e,getAllColumns(r.children))):e.push(r)}),e},convertToRows=n=>{let e=1;const r=(k,$)=>{if($&&(k.level=$.level+1,e<k.level&&(e=k.level)),k.children){let V=0;k.children.forEach(L=>{r(L,k),V+=L.colSpan}),k.colSpan=V}else k.colSpan=1};n.forEach(k=>{k.level=1,r(k,void 0)});const g=[];for(let k=0;k<e;k++)g.push([]);return getAllColumns(n).forEach(k=>{k.children?(k.rowSpan=1,k.children.forEach($=>$.isSubColumn=!0)):k.rowSpan=e-k.level+1,g[k.level-1].push(k)}),g};function useUtils$1(n){const e=inject(TABLE_INJECTION_KEY),r=computed(()=>convertToRows(n.store.states.originColumns.value));return{isGroup:computed(()=>{const k=r.value.length>1;return k&&e&&(e.state.isGroup.value=!0),k}),toggleAllSelection:k=>{k.stopPropagation(),e?.store.commit("toggleAllSelection")},columnRows:r}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n,{emit:e}){const r=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=useNamespace("table"),k=ref({}),{onColumnsChange:$,onScrollableChange:V}=useLayoutObserver(g);onMounted(async()=>{await nextTick(),await nextTick();const{prop:_e,order:Fe}=n.defaultSort;g?.store.commit("sort",{prop:_e,order:Fe,init:!0})});const{handleHeaderClick:L,handleHeaderContextMenu:z,handleMouseDown:j,handleMouseMove:re,handleMouseOut:oe,handleSortClick:ae,handleFilterClick:de}=useEvent(n,e),{getHeaderRowStyle:ue,getHeaderRowClass:pe,getHeaderCellStyle:he,getHeaderCellClass:xe}=useStyle$2(n),{isGroup:$e,toggleAllSelection:Ne,columnRows:Oe}=useUtils$1(n);return r.state={onColumnsChange:$,onScrollableChange:V},r.filterPanels=k,{ns:y,filterPanels:k,onColumnsChange:$,onScrollableChange:V,columnRows:Oe,getHeaderRowClass:pe,getHeaderRowStyle:ue,getHeaderCellClass:xe,getHeaderCellStyle:he,handleHeaderClick:L,handleHeaderContextMenu:z,handleMouseDown:j,handleMouseMove:re,handleMouseOut:oe,handleSortClick:ae,handleFilterClick:de,isGroup:$e,toggleAllSelection:Ne}},render(){const{ns:n,isGroup:e,columnRows:r,getHeaderCellStyle:g,getHeaderCellClass:y,getHeaderRowClass:k,getHeaderRowStyle:$,handleHeaderClick:V,handleHeaderContextMenu:L,handleMouseDown:z,handleMouseMove:j,handleSortClick:re,handleMouseOut:oe,store:ae,$parent:de}=this;let ue=1;return h$1("thead",{class:{[n.is("group")]:e}},r.map((pe,he)=>h$1("tr",{class:k(he),key:he,style:$(he)},pe.map((xe,$e)=>(xe.rowSpan>ue&&(ue=xe.rowSpan),h$1("th",{class:y(he,$e,pe,xe),colspan:xe.colSpan,key:`${xe.id}-thead`,rowspan:xe.rowSpan,style:g(he,$e,pe,xe),onClick:Ne=>V(Ne,xe),onContextmenu:Ne=>L(Ne,xe),onMousedown:Ne=>z(Ne,xe),onMousemove:Ne=>j(Ne,xe),onMouseout:oe},[h$1("div",{class:["cell",xe.filteredValue&&xe.filteredValue.length>0?"highlight":""]},[xe.renderHeader?xe.renderHeader({column:xe,$index:$e,store:ae,_self:de}):xe.label,xe.sortable&&h$1("span",{onClick:Ne=>re(Ne,xe),class:"caret-wrapper"},[h$1("i",{onClick:Ne=>re(Ne,xe,"ascending"),class:"sort-caret ascending"}),h$1("i",{onClick:Ne=>re(Ne,xe,"descending"),class:"sort-caret descending"})]),xe.filterable&&h$1(FilterPanel,{store:ae,placement:xe.filterPlacement||"bottom-start",column:xe,upDataColumn:(Ne,Oe)=>{xe[Ne]=Oe}})])]))))))}});function useEvents(n){const e=inject(TABLE_INJECTION_KEY),r=ref(""),g=ref(h$1("div")),{nextZIndex:y}=useZIndex(),k=(de,ue,pe)=>{var he;const xe=e,$e=getCell(de);let Ne;const Oe=(he=xe?.vnode.el)==null?void 0:he.dataset.prefix;$e&&(Ne=getColumnByCell({columns:n.store.states.columns.value},$e,Oe),Ne&&xe?.emit(`cell-${pe}`,ue,Ne,$e,de)),xe?.emit(`row-${pe}`,ue,Ne,de)},$=(de,ue)=>{k(de,ue,"dblclick")},V=(de,ue)=>{n.store.commit("setCurrentRow",ue),k(de,ue,"click")},L=(de,ue)=>{k(de,ue,"contextmenu")},z=debounce(de=>{n.store.commit("setHoverRow",de)},30),j=debounce(()=>{n.store.commit("setHoverRow",null)},30),re=de=>{const ue=window.getComputedStyle(de,null),pe=Number.parseInt(ue.paddingLeft,10)||0,he=Number.parseInt(ue.paddingRight,10)||0,xe=Number.parseInt(ue.paddingTop,10)||0,$e=Number.parseInt(ue.paddingBottom,10)||0;return{left:pe,right:he,top:xe,bottom:$e}};return{handleDoubleClick:$,handleClick:V,handleContextMenu:L,handleMouseEnter:z,handleMouseLeave:j,handleCellMouseEnter:(de,ue,pe)=>{var he;const xe=e,$e=getCell(de),Ne=(he=xe?.vnode.el)==null?void 0:he.dataset.prefix;if($e){const En=getColumnByCell({columns:n.store.states.columns.value},$e,Ne),Bn=xe.hoverState={cell:$e,column:En,row:ue};xe?.emit("cell-mouse-enter",Bn.row,Bn.column,Bn.cell,de)}if(!pe)return;const Oe=de.target.querySelector(".cell");if(!(hasClass(Oe,`${Ne}-tooltip`)&&Oe.childNodes.length))return;const _e=document.createRange();_e.setStart(Oe,0),_e.setEnd(Oe,Oe.childNodes.length);let Fe=_e.getBoundingClientRect().width,Ue=_e.getBoundingClientRect().height;Fe-Math.floor(Fe)<.001&&(Fe=Math.floor(Fe)),Ue-Math.floor(Ue)<.001&&(Ue=Math.floor(Ue));const{top:wn,left:Et,right:xn,bottom:jt}=re(Oe),An=Et+xn,Dn=wn+jt;(Fe+An>Oe.offsetWidth||Ue+Dn>Oe.offsetHeight||Oe.scrollWidth>Oe.offsetWidth)&&createTablePopper(e?.refs.tableWrapper,$e,$e.innerText||$e.textContent,y,pe)},handleCellMouseLeave:de=>{if(!getCell(de))return;const pe=e?.hoverState;e?.emit("cell-mouse-leave",pe?.row,pe?.column,pe?.cell,de)},tooltipContent:r,tooltipTrigger:g}}function useStyles$1(n){const e=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getRowStyle:(z,j)=>{const re=e?.props.rowStyle;return typeof re=="function"?re.call(null,{row:z,rowIndex:j}):re||null},getRowClass:(z,j)=>{const re=[r.e("row")];e?.props.highlightCurrentRow&&z===n.store.states.currentRow.value&&re.push("current-row"),n.stripe&&j%2===1&&re.push(r.em("row","striped"));const oe=e?.props.rowClassName;return typeof oe=="string"?re.push(oe):typeof oe=="function"&&re.push(oe.call(null,{row:z,rowIndex:j})),re},getCellStyle:(z,j,re,oe)=>{const ae=e?.props.cellStyle;let de=ae??{};typeof ae=="function"&&(de=ae.call(null,{rowIndex:z,columnIndex:j,row:re,column:oe}));const ue=getFixedColumnOffset(j,n?.fixed,n.store);return ensurePosition(ue,"left"),ensurePosition(ue,"right"),Object.assign({},de,ue)},getCellClass:(z,j,re,oe,ae)=>{const de=getFixedColumnsClass(r.b(),j,n?.fixed,n.store,void 0,ae),ue=[oe.id,oe.align,oe.className,...de],pe=e?.props.cellClassName;return typeof pe=="string"?ue.push(pe):typeof pe=="function"&&ue.push(pe.call(null,{rowIndex:z,columnIndex:j,row:re,column:oe})),ue.push(r.e("cell")),ue.filter(he=>!!he).join(" ")},getSpan:(z,j,re,oe)=>{let ae=1,de=1;const ue=e?.props.spanMethod;if(typeof ue=="function"){const pe=ue({row:z,column:j,rowIndex:re,columnIndex:oe});Array.isArray(pe)?(ae=pe[0],de=pe[1]):typeof pe=="object"&&(ae=pe.rowspan,de=pe.colspan)}return{rowspan:ae,colspan:de}},getColspanRealWidth:(z,j,re)=>{if(j<1)return z[re].realWidth;const oe=z.map(({realWidth:ae,width:de})=>ae||de).slice(re,re+j);return Number(oe.reduce((ae,de)=>Number(ae)+Number(de),-1))}}}function useRender$1(n){const e=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{handleDoubleClick:g,handleClick:y,handleContextMenu:k,handleMouseEnter:$,handleMouseLeave:V,handleCellMouseEnter:L,handleCellMouseLeave:z,tooltipContent:j,tooltipTrigger:re}=useEvents(n),{getRowStyle:oe,getRowClass:ae,getCellStyle:de,getCellClass:ue,getSpan:pe,getColspanRealWidth:he}=useStyles$1(n),xe=computed(()=>n.store.states.columns.value.findIndex(({type:Fe})=>Fe==="default")),$e=(Fe,Ue)=>{const kt=e.props.rowKey;return kt?getRowIdentity(Fe,kt):Ue},Ne=(Fe,Ue,kt,Lt=!1)=>{const{tooltipEffect:wn,tooltipOptions:Et,store:xn}=n,{indent:jt,columns:An}=xn.states,Dn=ae(Fe,Ue);let En=!0;return kt&&(Dn.push(r.em("row",`level-${kt.level}`)),En=kt.display),h$1("tr",{style:[En?null:{display:"none"},oe(Fe,Ue)],class:Dn,key:$e(Fe,Ue),onDblclick:$n=>g($n,Fe),onClick:$n=>y($n,Fe),onContextmenu:$n=>k($n,Fe),onMouseenter:()=>$(Ue),onMouseleave:V},An.value.map(($n,Wn)=>{const{rowspan:Gn,colspan:Nn}=pe(Fe,$n,Ue,Wn);if(!Gn||!Nn)return null;const Zn=Object.assign({},$n);Zn.realWidth=he(An.value,Nn,Wn);const Hn={store:n.store,_self:n.context||e,column:Zn,row:Fe,$index:Ue,cellIndex:Wn,expanded:Lt};Wn===xe.value&&kt&&(Hn.treeNode={indent:kt.level*jt.value,level:kt.level},typeof kt.expanded=="boolean"&&(Hn.treeNode.expanded=kt.expanded,"loading"in kt&&(Hn.treeNode.loading=kt.loading),"noLazyChildren"in kt&&(Hn.treeNode.noLazyChildren=kt.noLazyChildren)));const rr=`${Ue},${Wn}`,Xn=Zn.columnKey||Zn.rawColumnKey||"",Pn=Oe(Wn,$n,Hn),jn=$n.showOverflowTooltip&&merge$1({effect:wn},Et,$n.showOverflowTooltip);return h$1("td",{style:de(Ue,Wn,Fe,$n),class:ue(Ue,Wn,Fe,$n,Nn-1),key:`${Xn}${rr}`,rowspan:Gn,colspan:Nn,onMouseenter:fr=>L(fr,Fe,jn),onMouseleave:z},[Pn])}))},Oe=(Fe,Ue,kt)=>Ue.renderCell(kt);return{wrappedRowRender:(Fe,Ue)=>{const kt=n.store,{isRowExpanded:Lt,assertRowKey:wn}=kt,{treeData:Et,lazyTreeNodeMap:xn,childrenColumnName:jt,rowKey:An}=kt.states,Dn=kt.states.columns.value;if(Dn.some(({type:Bn})=>Bn==="expand")){const Bn=Lt(Fe),$n=Ne(Fe,Ue,void 0,Bn),Wn=e.renderExpanded;return Bn?Wn?[[$n,h$1("tr",{key:`expanded-row__${$n.key}`},[h$1("td",{colspan:Dn.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[Wn({row:Fe,$index:Ue,store:kt,expanded:Bn})])])]]:(console.error("[Element Error]renderExpanded is required."),$n):[[$n]]}else if(Object.keys(Et.value).length){wn();const Bn=getRowIdentity(Fe,An.value);let $n=Et.value[Bn],Wn=null;$n&&(Wn={expanded:$n.expanded,level:$n.level,display:!0},typeof $n.lazy=="boolean"&&(typeof $n.loaded=="boolean"&&$n.loaded&&(Wn.noLazyChildren=!($n.children&&$n.children.length)),Wn.loading=$n.loading));const Gn=[Ne(Fe,Ue,Wn)];if($n){let Nn=0;const Zn=(rr,Xn)=>{rr&&rr.length&&Xn&&rr.forEach(Pn=>{const jn={display:Xn.display&&Xn.expanded,level:Xn.level+1,expanded:!1,noLazyChildren:!1,loading:!1},fr=getRowIdentity(Pn,An.value);if(fr==null)throw new Error("For nested data item, row-key is required.");if($n={...Et.value[fr]},$n&&(jn.expanded=$n.expanded,$n.level=$n.level||jn.level,$n.display=!!($n.expanded&&jn.display),typeof $n.lazy=="boolean"&&(typeof $n.loaded=="boolean"&&$n.loaded&&(jn.noLazyChildren=!($n.children&&$n.children.length)),jn.loading=$n.loading)),Nn++,Gn.push(Ne(Pn,Ue+Nn,jn)),$n){const yr=xn.value[fr]||Pn[jt.value];Zn(yr,$n)}})};$n.display=!0;const Hn=xn.value[Bn]||Fe[jt.value];Zn(Hn,$n)}return Gn}else return Ne(Fe,Ue,void 0)},tooltipContent:j,tooltipTrigger:re}}const defaultProps$2={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$2,setup(n){const e=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),g=useNamespace("table"),{wrappedRowRender:y,tooltipContent:k,tooltipTrigger:$}=useRender$1(n),{onColumnsChange:V,onScrollableChange:L}=useLayoutObserver(r);return watch(n.store.states.hoverRow,(z,j)=>{!n.store.states.isComplex.value||!isClient||rAF(()=>{const re=e?.vnode.el,oe=Array.from(re?.children||[]).filter(ue=>ue?.classList.contains(`${g.e("row")}`)),ae=oe[j],de=oe[z];ae&&removeClass(ae,"hover-row"),de&&addClass(de,"hover-row")})}),onUnmounted(()=>{var z;(z=removePopper)==null||z()}),{ns:g,onColumnsChange:V,onScrollableChange:L,wrappedRowRender:y,tooltipContent:k,tooltipTrigger:$}},render(){const{wrappedRowRender:n,store:e}=this,r=e.states.data.value||[];return h$1("tbody",{},[r.reduce((g,y)=>g.concat(n(y,g.length)),[])])}});function hColgroup(n){const e=n.tableLayout==="auto";let r=n.columns||[];e&&r.every(y=>y.width===void 0)&&(r=[]);const g=y=>{const k={key:`${n.tableLayout}_${y.id}`,style:{},name:void 0};return e?k.style={width:`${y.width}px`}:k.name=y.id,k};return h$1("colgroup",{},r.map(y=>h$1("col",g(y))))}hColgroup.props=["columns","tableLayout"];function useMapState(){const n=inject(TABLE_INJECTION_KEY),e=n?.store,r=computed(()=>e.states.fixedLeafColumnsLength.value),g=computed(()=>e.states.rightFixedColumns.value.length),y=computed(()=>e.states.columns.value.length),k=computed(()=>e.states.fixedColumns.value.length),$=computed(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:g,columnsCount:y,leftFixedCount:k,rightFixedCount:$,columns:e.states.columns}}function useStyle$1(n){const{columns:e}=useMapState(),r=useNamespace("table");return{getCellClasses:(k,$)=>{const V=k[$],L=[r.e("cell"),V.id,V.align,V.labelClassName,...getFixedColumnsClass(r.b(),$,V.fixed,n.store)];return V.className&&L.push(V.className),V.children||L.push(r.is("leaf")),L},getCellStyles:(k,$)=>{const V=getFixedColumnOffset($,k.fixed,n.store);return ensurePosition(V,"left"),ensurePosition(V,"right"),V},columns:e}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:r,columns:g}=useStyle$1(n);return{ns:useNamespace("table"),getCellClasses:e,getCellStyles:r,columns:g}},render(){const{columns:n,getCellStyles:e,getCellClasses:r,summaryMethod:g,sumText:y,ns:k}=this,$=this.store.states.data.value;let V=[];return g?V=g({columns:n,data:$}):n.forEach((L,z)=>{if(z===0){V[z]=y;return}const j=$.map(de=>Number(de[L.property])),re=[];let oe=!0;j.forEach(de=>{if(!Number.isNaN(+de)){oe=!1;const ue=`${de}`.split(".")[1];re.push(ue?ue.length:0)}});const ae=Math.max.apply(null,re);oe?V[z]="":V[z]=j.reduce((de,ue)=>{const pe=Number(ue);return Number.isNaN(+pe)?de:Number.parseFloat((de+ue).toFixed(Math.min(ae,20)))},0)}),h$1("table",{class:k.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[hColgroup({columns:n}),h$1("tbody",[h$1("tr",{},[...n.map((L,z)=>h$1("td",{key:z,colspan:L.colSpan,rowspan:L.rowSpan,class:r(n,z),style:e(L,z)},[h$1("div",{class:["cell",L.labelClassName]},[V[z]])]))])])])}});function useUtils(n){return{setCurrentRow:j=>{n.commit("setCurrentRow",j)},getSelectionRows:()=>n.getSelectionRows(),toggleRowSelection:(j,re)=>{n.toggleRowSelection(j,re,!1),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:j=>{n.clearFilter(j)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(j,re)=>{n.toggleRowExpansionAdapter(j,re)},clearSort:()=>{n.clearSort()},sort:(j,re)=>{n.commit("sort",{prop:j,order:re})}}}function useStyle(n,e,r,g){const y=ref(!1),k=ref(null),$=ref(!1),V=$n=>{$.value=$n},L=ref({width:null,height:null,headerHeight:null}),z=ref(!1),j={display:"inline-block",verticalAlign:"middle"},re=ref(),oe=ref(0),ae=ref(0),de=ref(0),ue=ref(0),pe=ref(0);watchEffect(()=>{e.setHeight(n.height)}),watchEffect(()=>{e.setMaxHeight(n.maxHeight)}),watch(()=>[n.currentRowKey,r.states.rowKey],([$n,Wn])=>{!unref(Wn)||!unref($n)||r.setCurrentRowKey(`${$n}`)},{immediate:!0}),watch(()=>n.data,$n=>{g.store.commit("setData",$n)},{immediate:!0,deep:!0}),watchEffect(()=>{n.expandRowKeys&&r.setExpandRowKeysAdapter(n.expandRowKeys)});const he=()=>{g.store.commit("setHoverRow",null),g.hoverState&&(g.hoverState=null)},xe=($n,Wn)=>{const{pixelX:Gn,pixelY:Nn}=Wn;Math.abs(Gn)>=Math.abs(Nn)&&(g.refs.bodyWrapper.scrollLeft+=Wn.pixelX/5)},$e=computed(()=>n.height||n.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),Ne=computed(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),Oe=()=>{$e.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(kt)};onMounted(async()=>{await nextTick(),r.updateColumns(),Lt(),requestAnimationFrame(Oe);const $n=g.vnode.el,Wn=g.refs.headerWrapper;n.flexible&&$n&&$n.parentElement&&($n.parentElement.style.minWidth="0"),L.value={width:re.value=$n.offsetWidth,height:$n.offsetHeight,headerHeight:n.showHeader&&Wn?Wn.offsetHeight:null},r.states.columns.value.forEach(Gn=>{Gn.filteredValue&&Gn.filteredValue.length&&g.store.commit("filterChange",{column:Gn,values:Gn.filteredValue,silent:!0})}),g.$ready=!0});const _e=($n,Wn)=>{if(!$n)return;const Gn=Array.from($n.classList).filter(Nn=>!Nn.startsWith("is-scrolling-"));Gn.push(e.scrollX.value?Wn:"is-scrolling-none"),$n.className=Gn.join(" ")},Fe=$n=>{const{tableWrapper:Wn}=g.refs;_e(Wn,$n)},Ue=$n=>{const{tableWrapper:Wn}=g.refs;return!!(Wn&&Wn.classList.contains($n))},kt=function(){if(!g.refs.scrollBarRef)return;if(!e.scrollX.value){const Xn="is-scrolling-none";Ue(Xn)||Fe(Xn);return}const $n=g.refs.scrollBarRef.wrapRef;if(!$n)return;const{scrollLeft:Wn,offsetWidth:Gn,scrollWidth:Nn}=$n,{headerWrapper:Zn,footerWrapper:Hn}=g.refs;Zn&&(Zn.scrollLeft=Wn),Hn&&(Hn.scrollLeft=Wn);const rr=Nn-Gn-1;Wn>=rr?Fe("is-scrolling-right"):Fe(Wn===0?"is-scrolling-left":"is-scrolling-middle")},Lt=()=>{g.refs.scrollBarRef&&(g.refs.scrollBarRef.wrapRef&&useEventListener(g.refs.scrollBarRef.wrapRef,"scroll",kt,{passive:!0}),n.fit?useResizeObserver(g.vnode.el,wn):useEventListener(window,"resize",wn),useResizeObserver(g.refs.bodyWrapper,()=>{var $n,Wn;wn(),(Wn=($n=g.refs)==null?void 0:$n.scrollBarRef)==null||Wn.update()}))},wn=()=>{var $n,Wn,Gn,Nn;const Zn=g.vnode.el;if(!g.$ready||!Zn)return;let Hn=!1;const{width:rr,height:Xn,headerHeight:Pn}=L.value,jn=re.value=Zn.offsetWidth;rr!==jn&&(Hn=!0);const fr=Zn.offsetHeight;(n.height||$e.value)&&Xn!==fr&&(Hn=!0);const yr=n.tableLayout==="fixed"?g.refs.headerWrapper:($n=g.refs.tableHeaderRef)==null?void 0:$n.$el;n.showHeader&&yr?.offsetHeight!==Pn&&(Hn=!0),oe.value=((Wn=g.refs.tableWrapper)==null?void 0:Wn.scrollHeight)||0,de.value=yr?.scrollHeight||0,ue.value=((Gn=g.refs.footerWrapper)==null?void 0:Gn.offsetHeight)||0,pe.value=((Nn=g.refs.appendWrapper)==null?void 0:Nn.offsetHeight)||0,ae.value=oe.value-de.value-ue.value-pe.value,Hn&&(L.value={width:jn,height:fr,headerHeight:n.showHeader&&yr?.offsetHeight||0},Oe())},Et=useFormSize(),xn=computed(()=>{const{bodyWidth:$n,scrollY:Wn,gutterWidth:Gn}=e;return $n.value?`${$n.value-(Wn.value?Gn:0)}px`:""}),jt=computed(()=>n.maxHeight?"fixed":n.tableLayout),An=computed(()=>{if(n.data&&n.data.length)return null;let $n="100%";n.height&&ae.value&&($n=`${ae.value}px`);const Wn=re.value;return{width:Wn?`${Wn}px`:"",height:$n}}),Dn=computed(()=>n.height?{height:Number.isNaN(Number(n.height))?n.height:`${n.height}px`}:n.maxHeight?{maxHeight:Number.isNaN(Number(n.maxHeight))?n.maxHeight:`${n.maxHeight}px`}:{}),En=computed(()=>n.height?{height:"100%"}:n.maxHeight?Number.isNaN(Number(n.maxHeight))?{maxHeight:`calc(${n.maxHeight} - ${de.value+ue.value}px)`}:{maxHeight:`${n.maxHeight-de.value-ue.value}px`}:{});return{isHidden:y,renderExpanded:k,setDragVisible:V,isGroup:z,handleMouseLeave:he,handleHeaderFooterMousewheel:xe,tableSize:Et,emptyBlockStyle:An,handleFixedMousewheel:($n,Wn)=>{const Gn=g.refs.bodyWrapper;if(Math.abs(Wn.spinY)>0){const Nn=Gn.scrollTop;Wn.pixelY<0&&Nn!==0&&$n.preventDefault(),Wn.pixelY>0&&Gn.scrollHeight-Gn.clientHeight>Nn&&$n.preventDefault(),Gn.scrollTop+=Math.ceil(Wn.pixelY/5)}else Gn.scrollLeft+=Math.ceil(Wn.pixelX/5)},resizeProxyVisible:$,bodyWidth:xn,resizeState:L,doLayout:Oe,tableBodyStyles:Ne,tableLayout:jt,scrollbarViewStyle:j,tableInnerStyle:Dn,scrollbarStyle:En}}function useKeyRender(n){const e=ref(),r=()=>{const y=n.vnode.el.querySelector(".hidden-columns"),k={childList:!0,subtree:!0},$=n.store.states.updateOrderFns;e.value=new MutationObserver(()=>{$.forEach(V=>V())}),e.value.observe(y,k)};onMounted(()=>{r()}),onUnmounted(()=>{var g;(g=e.value)==null||g.disconnect()})}var defaultProps$1={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean,showOverflowTooltip:[Boolean,Object]};const useScrollbar$1=()=>{const n=ref(),e=(k,$)=>{const V=n.value;V&&V.scrollTo(k,$)},r=(k,$)=>{const V=n.value;V&&isNumber$1($)&&["Top","Left"].includes(k)&&V[`setScroll${k}`]($)};return{scrollBarRef:n,scrollTo:e,setScrollTop:k=>r("Top",k),setScrollLeft:k=>r("Left",k)}};let tableIdSeed=1;const _sfc_main$1x=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$1,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(n){const{t:e}=useLocale(),r=useNamespace("table"),g=getCurrentInstance();provide(TABLE_INJECTION_KEY,g);const y=createStore(g,n);g.store=y;const k=new TableLayout({store:g.store,table:g,fit:n.fit,showHeader:n.showHeader});g.layout=k;const $=computed(()=>(y.states.data.value||[]).length===0),{setCurrentRow:V,getSelectionRows:L,toggleRowSelection:z,clearSelection:j,clearFilter:re,toggleAllSelection:oe,toggleRowExpansion:ae,clearSort:de,sort:ue}=useUtils(y),{isHidden:pe,renderExpanded:he,setDragVisible:xe,isGroup:$e,handleMouseLeave:Ne,handleHeaderFooterMousewheel:Oe,tableSize:_e,emptyBlockStyle:Fe,handleFixedMousewheel:Ue,resizeProxyVisible:kt,bodyWidth:Lt,resizeState:wn,doLayout:Et,tableBodyStyles:xn,tableLayout:jt,scrollbarViewStyle:An,tableInnerStyle:Dn,scrollbarStyle:En}=useStyle(n,k,y,g),{scrollBarRef:Bn,scrollTo:$n,setScrollLeft:Wn,setScrollTop:Gn}=useScrollbar$1(),Nn=debounce(Et,50),Zn=`${r.namespace.value}-table_${tableIdSeed++}`;g.tableId=Zn,g.state={isGroup:$e,resizeState:wn,doLayout:Et,debouncedUpdateLayout:Nn};const Hn=computed(()=>n.sumText||e("el.table.sumText")),rr=computed(()=>n.emptyText||e("el.table.emptyText"));return useKeyRender(g),{ns:r,layout:k,store:y,handleHeaderFooterMousewheel:Oe,handleMouseLeave:Ne,tableId:Zn,tableSize:_e,isHidden:pe,isEmpty:$,renderExpanded:he,resizeProxyVisible:kt,resizeState:wn,isGroup:$e,bodyWidth:Lt,tableBodyStyles:xn,emptyBlockStyle:Fe,debouncedUpdateLayout:Nn,handleFixedMousewheel:Ue,setCurrentRow:V,getSelectionRows:L,toggleRowSelection:z,clearSelection:j,clearFilter:re,toggleAllSelection:oe,toggleRowExpansion:ae,clearSort:de,doLayout:Et,sort:ue,t:e,setDragVisible:xe,context:g,computedSumText:Hn,computedEmptyText:rr,tableLayout:jt,scrollbarViewStyle:An,tableInnerStyle:Dn,scrollbarStyle:En,scrollBarRef:Bn,scrollTo:$n,setScrollLeft:Wn,setScrollTop:Gn}}}),_hoisted_1$1h=["data-prefix"],_hoisted_2$19={ref:"hiddenColumns",class:"hidden-columns"};function _sfc_render$3(n,e,r,g,y,k){const $=resolveComponent("hColgroup"),V=resolveComponent("table-header"),L=resolveComponent("table-body"),z=resolveComponent("el-scrollbar"),j=resolveComponent("table-footer"),re=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:normalizeStyle(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...oe)=>n.handleMouseLeave&&n.handleMouseLeave(...oe))},[createBaseVNode("div",{class:normalizeClass(n.ns.e("inner-wrapper")),style:normalizeStyle(n.tableInnerStyle)},[createBaseVNode("div",_hoisted_2$19,[renderSlot(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(n.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(n.ns.e("header")),style:normalizeStyle(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode($,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),createVNode(V,{ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[re,n.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(n.ns.e("body-wrapper"))},[createVNode(z,{ref:"scrollBarRef","view-style":n.scrollbarViewStyle,"wrap-style":n.scrollbarStyle,always:n.scrollbarAlwaysOn},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle({width:n.bodyWidth,tableLayout:n.tableLayout})},[createVNode($,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?(openBlock(),createBlock(V,{key:0,ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode(L,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"tooltip-options":n.tooltipOptions,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"])],6),n.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle(n.emptyBlockStyle),class:normalizeClass(n.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(n.ns.e("empty-text"))},[renderSlot(n.$slots,"empty",{},()=>[createTextVNode(toDisplayString$1(n.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),n.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(n.ns.e("append-wrapper"))},[renderSlot(n.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),n.showSummary?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(n.ns.e("footer-wrapper"))},[createVNode(j,{border:n.border,"default-sort":n.defaultSort,store:n.store,style:normalizeStyle(n.tableBodyStyles),"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[vShow,!n.isEmpty],[re,n.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),n.border||n.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(n.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],6),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(n.ns.e("column-resize-proxy"))},null,2),[[vShow,n.resizeProxyVisible]])],46,_hoisted_1$1h)}var Table=_export_sfc$1(_sfc_main$1x,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=n=>defaultClassNames[n]||"",cellForced={selection:{renderHeader({store:n,column:e}){function r(){return n.states.data.value&&n.states.data.value.length===0}return h$1(ElCheckbox,{disabled:r(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:n,column:e,store:r,$index:g}){return h$1(ElCheckbox,{disabled:e.selectable?!e.selectable.call(null,n,g):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",n)},onClick:y=>y.stopPropagation(),modelValue:r.isSelected(n),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let r=e+1;const g=n.index;return typeof g=="number"?r=e+g:typeof g=="function"&&(r=g(e)),h$1("div",{},[r])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e,expanded:r}){const{ns:g}=e,y=[g.e("expand-icon")];return r&&y.push(g.em("expand-icon","expanded")),h$1("div",{class:y,onClick:function($){$.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[h$1(ElIcon,null,{default:()=>[h$1(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:n,column:e,$index:r}){var g;const y=e.property,k=y&&getProp(n,y).value;return e&&e.formatter?e.formatter(n,e,k,r):((g=k?.toString)==null?void 0:g.call(k))||""}function treeCellPrefix({row:n,treeNode:e,store:r},g=!1){const{ns:y}=r;if(!e)return g?[h$1("span",{class:y.e("placeholder")})]:null;const k=[],$=function(V){V.stopPropagation(),!e.loading&&r.loadOrToggle(n)};if(e.indent&&k.push(h$1("span",{class:y.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const V=[y.e("expand-icon"),e.expanded?y.em("expand-icon","expanded"):""];let L=arrow_right_default;e.loading&&(L=loading_default),k.push(h$1("div",{class:V,onClick:$},{default:()=>[h$1(ElIcon,{class:{[y.is("loading")]:e.loading}},{default:()=>[h$1(L)]})]}))}else k.push(h$1("span",{class:y.e("placeholder")}));return k}function getAllAliases(n,e){return n.reduce((r,g)=>(r[g]=g,r),e)}function useWatcher(n,e){const r=getCurrentInstance();return{registerComplexWatchers:()=>{const k=["fixed"],$={realWidth:"width",realMinWidth:"minWidth"},V=getAllAliases(k,$);Object.keys(V).forEach(L=>{const z=$[L];hasOwn$1(e,z)&&watch(()=>e[z],j=>{let re=j;z==="width"&&L==="realWidth"&&(re=parseWidth(j)),z==="minWidth"&&L==="realMinWidth"&&(re=parseMinWidth(j)),r.columnConfig.value[z]=re,r.columnConfig.value[L]=re;const oe=z==="fixed";n.value.store.scheduleLayout(oe)})})},registerNormalWatchers:()=>{const k=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],$={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},V=getAllAliases(k,$);Object.keys(V).forEach(L=>{const z=$[L];hasOwn$1(e,z)&&watch(()=>e[z],j=>{r.columnConfig.value[L]=j})})}}}function useRender(n,e,r){const g=getCurrentInstance(),y=ref(""),k=ref(!1),$=ref(),V=ref(),L=useNamespace("table");watchEffect(()=>{$.value=n.align?`is-${n.align}`:null,$.value}),watchEffect(()=>{V.value=n.headerAlign?`is-${n.headerAlign}`:$.value,V.value});const z=computed(()=>{let Ne=g.vnode.vParent||g.parent;for(;Ne&&!Ne.tableId&&!Ne.columnId;)Ne=Ne.vnode.vParent||Ne.parent;return Ne}),j=computed(()=>{const{store:Ne}=g.parent;if(!Ne)return!1;const{treeData:Oe}=Ne.states,_e=Oe.value;return _e&&Object.keys(_e).length>0}),re=ref(parseWidth(n.width)),oe=ref(parseMinWidth(n.minWidth)),ae=Ne=>(re.value&&(Ne.width=re.value),oe.value&&(Ne.minWidth=oe.value),!re.value&&oe.value&&(Ne.width=void 0),Ne.minWidth||(Ne.minWidth=80),Ne.realWidth=Number(Ne.width===void 0?Ne.minWidth:Ne.width),Ne),de=Ne=>{const Oe=Ne.type,_e=cellForced[Oe]||{};Object.keys(_e).forEach(Ue=>{const kt=_e[Ue];Ue!=="className"&&kt!==void 0&&(Ne[Ue]=kt)});const Fe=getDefaultClassName(Oe);if(Fe){const Ue=`${unref(L.namespace)}-${Fe}`;Ne.className=Ne.className?`${Ne.className} ${Ue}`:Ue}return Ne},ue=Ne=>{Array.isArray(Ne)?Ne.forEach(_e=>Oe(_e)):Oe(Ne);function Oe(_e){var Fe;((Fe=_e?.type)==null?void 0:Fe.name)==="ElTableColumn"&&(_e.vParent=g)}};return{columnId:y,realAlign:$,isSubColumn:k,realHeaderAlign:V,columnOrTableParent:z,setColumnWidth:ae,setColumnForcedProps:de,setColumnRenders:Ne=>{n.renderHeader||Ne.type!=="selection"&&(Ne.renderHeader=_e=>{g.columnConfig.value.label;const Fe=e.header;return Fe?Fe(_e):Ne.label});let Oe=Ne.renderCell;return Ne.type==="expand"?(Ne.renderCell=_e=>h$1("div",{class:"cell"},[Oe(_e)]),r.value.renderExpanded=_e=>e.default?e.default(_e):e.default):(Oe=Oe||defaultRenderCell,Ne.renderCell=_e=>{let Fe=null;if(e.default){const xn=e.default(_e);Fe=xn.some(jt=>jt.type!==Comment)?xn:Oe(_e)}else Fe=Oe(_e);const{columns:Ue}=r.value.store.states,kt=Ue.value.findIndex(xn=>xn.type==="default"),Lt=j.value&&_e.cellIndex===kt,wn=treeCellPrefix(_e,Lt),Et={class:"cell",style:{}};return Ne.showOverflowTooltip&&(Et.class=`${Et.class} ${unref(L.namespace)}-tooltip`,Et.style={width:`${(_e.column.realWidth||Number(_e.column.width))-1}px`}),ue(Fe),h$1("div",Et,[wn,Fe])}),Ne},getPropsData:(...Ne)=>Ne.reduce((Oe,_e)=>(Array.isArray(_e)&&_e.forEach(Fe=>{Oe[Fe]=n[Fe]}),Oe),{}),getColumnElIndex:(Ne,Oe)=>Array.prototype.indexOf.call(Ne,Oe),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",g.columnConfig.value)}}}var defaultProps={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].includes(e))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps,setup(n,{slots:e}){const r=getCurrentInstance(),g=ref({}),y=computed(()=>{let $e=r.parent;for(;$e&&!$e.tableId;)$e=$e.parent;return $e}),{registerNormalWatchers:k,registerComplexWatchers:$}=useWatcher(y,n),{columnId:V,isSubColumn:L,realHeaderAlign:z,columnOrTableParent:j,setColumnWidth:re,setColumnForcedProps:oe,setColumnRenders:ae,getPropsData:de,getColumnElIndex:ue,realAlign:pe,updateColumnOrder:he}=useRender(n,e,y),xe=j.value;V.value=`${xe.tableId||xe.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{L.value=y.value!==xe;const $e=n.type||"default",Ne=n.sortable===""?!0:n.sortable,Oe=isUndefined(n.showOverflowTooltip)?xe.props.showOverflowTooltip:n.showOverflowTooltip,_e={...cellStarts[$e],id:V.value,type:$e,property:n.prop||n.property,align:pe,headerAlign:z,showOverflowTooltip:Oe,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:Ne,index:n.index,rawColumnKey:r.vnode.key};let wn=de(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);wn=mergeOptions(_e,wn),wn=compose(ae,re,oe)(wn),g.value=wn,k(),$()}),onMounted(()=>{var $e;const Ne=j.value,Oe=L.value?Ne.vnode.el.children:($e=Ne.refs.hiddenColumns)==null?void 0:$e.children,_e=()=>ue(Oe||[],r.vnode.el);g.value.getColumnIndex=_e,_e()>-1&&y.value.store.commit("insertColumn",g.value,L.value?Ne.columnConfig.value:null,he)}),onBeforeUnmount(()=>{y.value.store.commit("removeColumn",g.value,L.value?xe.columnConfig.value:null,he)}),r.columnId=V.value,r.columnConfig=g},render(){var n,e,r;try{const g=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1}),y=[];if(Array.isArray(g))for(const $ of g)((r=$.type)==null?void 0:r.name)==="ElTableColumn"||$.shapeFlag&2?y.push($):$.type===Fragment&&Array.isArray($.children)&&$.children.forEach(V=>{V?.patchFlag!==1024&&!isString$3(V?.children)&&y.push(V)});return h$1("div",y)}catch{return h$1("div",[])}}});const ElTable=withInstall(Table,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1);var SortOrder=(n=>(n.ASC="asc",n.DESC="desc",n))(SortOrder||{}),Alignment=(n=>(n.CENTER="center",n.RIGHT="right",n))(Alignment||{}),FixedDir=(n=>(n.LEFT="left",n.RIGHT="right",n))(FixedDir||{});const oppositeOrderMap={asc:"desc",desc:"asc"},placeholderSign=Symbol("placeholder"),calcColumnStyle=(n,e,r)=>{var g;const y={flexGrow:0,flexShrink:0,...r?{}:{flexGrow:n.flexGrow||0,flexShrink:n.flexShrink||1}};r||(y.flexShrink=1);const k={...(g=n.style)!=null?g:{},...y,flexBasis:"auto",width:n.width};return e||(n.maxWidth&&(k.maxWidth=n.maxWidth),n.minWidth&&(k.minWidth=n.minWidth)),k};function useColumns(n,e,r){const g=computed(()=>unref(e).filter(ue=>!ue.hidden)),y=computed(()=>unref(g).filter(ue=>ue.fixed==="left"||ue.fixed===!0)),k=computed(()=>unref(g).filter(ue=>ue.fixed==="right")),$=computed(()=>unref(g).filter(ue=>!ue.fixed)),V=computed(()=>{const ue=[];return unref(y).forEach(pe=>{ue.push({...pe,placeholderSign})}),unref($).forEach(pe=>{ue.push(pe)}),unref(k).forEach(pe=>{ue.push({...pe,placeholderSign})}),ue}),L=computed(()=>unref(y).length||unref(k).length),z=computed(()=>unref(e).reduce((pe,he)=>(pe[he.key]=calcColumnStyle(he,unref(r),n.fixed),pe),{})),j=computed(()=>unref(g).reduce((ue,pe)=>ue+pe.width,0)),re=ue=>unref(e).find(pe=>pe.key===ue),oe=ue=>unref(z)[ue],ae=(ue,pe)=>{ue.width=pe};function de(ue){var pe;const{key:he}=ue.currentTarget.dataset;if(!he)return;const{sortState:xe,sortBy:$e}=n;let Ne=SortOrder.ASC;isObject$3(xe)?Ne=oppositeOrderMap[xe[he]]:Ne=oppositeOrderMap[$e.order],(pe=n.onColumnSort)==null||pe.call(n,{column:re(he),key:he,order:Ne})}return{columns:e,columnsStyles:z,columnsTotalWidth:j,fixedColumnsOnLeft:y,fixedColumnsOnRight:k,hasFixedColumns:L,mainColumns:V,normalColumns:$,visibleColumns:g,getColumn:re,getColumnStyle:oe,updateColumnWidth:ae,onColumnSorted:de}}const useScrollbar=(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g,onMaybeEndReached:y})=>{const k=ref({scrollLeft:0,scrollTop:0});function $(ae){var de,ue,pe;const{scrollTop:he}=ae;(de=e.value)==null||de.scrollTo(ae),(ue=r.value)==null||ue.scrollToTop(he),(pe=g.value)==null||pe.scrollToTop(he)}function V(ae){k.value=ae,$(ae)}function L(ae){k.value.scrollTop=ae,$(unref(k))}function z(ae){var de,ue;k.value.scrollLeft=ae,(ue=(de=e.value)==null?void 0:de.scrollTo)==null||ue.call(de,unref(k))}function j(ae){var de;V(ae),(de=n.onScroll)==null||de.call(n,ae)}function re({scrollTop:ae}){const{scrollTop:de}=unref(k);ae!==de&&L(ae)}function oe(ae,de="auto"){var ue;(ue=e.value)==null||ue.scrollToRow(ae,de)}return watch(()=>unref(k).scrollTop,(ae,de)=>{ae>de&&y()}),{scrollPos:k,scrollTo:V,scrollToLeft:z,scrollToTop:L,scrollToRow:oe,onScroll:j,onVerticalScroll:re}},useRow=(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g})=>{const y=getCurrentInstance(),{emit:k}=y,$=shallowRef(!1),V=shallowRef(null),L=ref(n.defaultExpandedRowKeys||[]),z=ref(-1),j=shallowRef(null),re=ref({}),oe=ref({}),ae=shallowRef({}),de=shallowRef({}),ue=shallowRef({}),pe=computed(()=>isNumber$1(n.estimatedRowHeight));function he(Ue){var kt;(kt=n.onRowsRendered)==null||kt.call(n,Ue),Ue.rowCacheEnd>unref(z)&&(z.value=Ue.rowCacheEnd)}function xe({hovered:Ue,rowKey:kt}){V.value=Ue?kt:null}function $e({expanded:Ue,rowData:kt,rowIndex:Lt,rowKey:wn}){var Et,xn;const jt=[...unref(L)],An=jt.indexOf(wn);Ue?An===-1&&jt.push(wn):An>-1&&jt.splice(An,1),L.value=jt,k("update:expandedRowKeys",jt),(Et=n.onRowExpand)==null||Et.call(n,{expanded:Ue,rowData:kt,rowIndex:Lt,rowKey:wn}),(xn=n.onExpandedRowsChange)==null||xn.call(n,jt)}const Ne=debounce(()=>{var Ue,kt,Lt,wn;$.value=!0,re.value={...unref(re),...unref(oe)},Oe(unref(j),!1),oe.value={},j.value=null,(Ue=e.value)==null||Ue.forceUpdate(),(kt=r.value)==null||kt.forceUpdate(),(Lt=g.value)==null||Lt.forceUpdate(),(wn=y.proxy)==null||wn.$forceUpdate(),$.value=!1},0);function Oe(Ue,kt=!1){unref(pe)&&[e,r,g].forEach(Lt=>{const wn=unref(Lt);wn&&wn.resetAfterRowIndex(Ue,kt)})}function _e(Ue,kt,Lt){const wn=unref(j);(wn===null||wn>Lt)&&(j.value=Lt),oe.value[Ue]=kt}function Fe({rowKey:Ue,height:kt,rowIndex:Lt},wn){wn?wn===FixedDir.RIGHT?ue.value[Ue]=kt:ae.value[Ue]=kt:de.value[Ue]=kt;const Et=Math.max(...[ae,ue,de].map(xn=>xn.value[Ue]||0));unref(re)[Ue]!==Et&&(_e(Ue,Et,Lt),Ne())}return{hoveringRowKey:V,expandedRowKeys:L,lastRenderedRowIndex:z,isDynamic:pe,isResetting:$,rowHeights:re,resetAfterIndex:Oe,onRowExpanded:$e,onRowHovered:xe,onRowsRendered:he,onRowHeightChange:Fe}},useData=(n,{expandedRowKeys:e,lastRenderedRowIndex:r,resetAfterIndex:g})=>{const y=ref({}),k=computed(()=>{const V={},{data:L,rowKey:z}=n,j=unref(e);if(!j||!j.length)return L;const re=[],oe=new Set;j.forEach(de=>oe.add(de));let ae=L.slice();for(ae.forEach(de=>V[de[z]]=0);ae.length>0;){const de=ae.shift();re.push(de),oe.has(de[z])&&Array.isArray(de.children)&&de.children.length>0&&(ae=[...de.children,...ae],de.children.forEach(ue=>V[ue[z]]=V[de[z]]+1))}return y.value=V,re}),$=computed(()=>{const{data:V,expandColumnKey:L}=n;return L?unref(k):V});return watch($,(V,L)=>{V!==L&&(r.value=-1,g(0,!0))}),{data:$,depthMap:y}},sumReducer=(n,e)=>n+e,sum=n=>isArray$3(n)?n.reduce(sumReducer,0):n,tryCall=(n,e,r={})=>isFunction$3(n)?n(e):n??r,enforceUnit=n=>(["width","maxWidth","minWidth","height"].forEach(e=>{n[e]=addUnit(n[e])}),n),componentToSlot=n=>isVNode$1(n)?e=>h$1(n,e):n,useStyles=(n,{columnsTotalWidth:e,data:r,fixedColumnsOnLeft:g,fixedColumnsOnRight:y})=>{const k=computed(()=>{const{fixed:$e,width:Ne,vScrollbarSize:Oe}=n,_e=Ne-Oe;return $e?Math.max(Math.round(unref(e)),_e):_e}),$=computed(()=>unref(k)+(n.fixed?n.vScrollbarSize:0)),V=computed(()=>{const{height:$e=0,maxHeight:Ne=0,footerHeight:Oe,hScrollbarSize:_e}=n;if(Ne>0){const Fe=unref(de),Ue=unref(L),Lt=unref(ae)+Fe+Ue+_e;return Math.min(Lt,Ne-Oe)}return $e-Oe}),L=computed(()=>{const{rowHeight:$e,estimatedRowHeight:Ne}=n,Oe=unref(r);return isNumber$1(Ne)?Oe.length*Ne:Oe.length*$e}),z=computed(()=>{const{maxHeight:$e}=n,Ne=unref(V);if(isNumber$1($e)&&$e>0)return Ne;const Oe=unref(L)+unref(ae)+unref(de);return Math.min(Ne,Oe)}),j=$e=>$e.width,re=computed(()=>sum(unref(g).map(j))),oe=computed(()=>sum(unref(y).map(j))),ae=computed(()=>sum(n.headerHeight)),de=computed(()=>{var $e;return((($e=n.fixedData)==null?void 0:$e.length)||0)*n.rowHeight}),ue=computed(()=>unref(V)-unref(ae)-unref(de)),pe=computed(()=>{const{style:$e={},height:Ne,width:Oe}=n;return enforceUnit({...$e,height:Ne,width:Oe})}),he=computed(()=>enforceUnit({height:n.footerHeight})),xe=computed(()=>({top:addUnit(unref(ae)),bottom:addUnit(n.footerHeight),width:addUnit(n.width)}));return{bodyWidth:k,fixedTableHeight:z,mainTableHeight:V,leftTableWidth:re,rightTableWidth:oe,headerWidth:$,rowsHeight:L,windowHeight:ue,footerHeight:he,emptyStyle:xe,rootStyle:pe,headerHeight:ae}},useAutoResize=n=>{const e=ref(),r=ref(0),g=ref(0);let y;return onMounted(()=>{y=useResizeObserver(e,([k])=>{const{width:$,height:V}=k.contentRect,{paddingLeft:L,paddingRight:z,paddingTop:j,paddingBottom:re}=getComputedStyle(k.target),oe=Number.parseInt(L)||0,ae=Number.parseInt(z)||0,de=Number.parseInt(j)||0,ue=Number.parseInt(re)||0;r.value=$-oe-ae,g.value=V-de-ue}).stop}),onBeforeUnmount(()=>{y?.()}),watch([r,g],([k,$])=>{var V;(V=n.onResize)==null||V.call(n,{width:k,height:$})}),{sizer:e,width:r,height:g}};function useTable(n){const e=ref(),r=ref(),g=ref(),{columns:y,columnsStyles:k,columnsTotalWidth:$,fixedColumnsOnLeft:V,fixedColumnsOnRight:L,hasFixedColumns:z,mainColumns:j,onColumnSorted:re}=useColumns(n,toRef(n,"columns"),toRef(n,"fixed")),{scrollTo:oe,scrollToLeft:ae,scrollToTop:de,scrollToRow:ue,onScroll:pe,onVerticalScroll:he,scrollPos:xe}=useScrollbar(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g,onMaybeEndReached:sr}),{expandedRowKeys:$e,hoveringRowKey:Ne,lastRenderedRowIndex:Oe,isDynamic:_e,isResetting:Fe,rowHeights:Ue,resetAfterIndex:kt,onRowExpanded:Lt,onRowHeightChange:wn,onRowHovered:Et,onRowsRendered:xn}=useRow(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g}),{data:jt,depthMap:An}=useData(n,{expandedRowKeys:$e,lastRenderedRowIndex:Oe,resetAfterIndex:kt}),{bodyWidth:Dn,fixedTableHeight:En,mainTableHeight:Bn,leftTableWidth:$n,rightTableWidth:Wn,headerWidth:Gn,rowsHeight:Nn,windowHeight:Zn,footerHeight:Hn,emptyStyle:rr,rootStyle:Xn,headerHeight:Pn}=useStyles(n,{columnsTotalWidth:$,data:jt,fixedColumnsOnLeft:V,fixedColumnsOnRight:L}),jn=shallowRef(!1),fr=ref(),yr=computed(()=>{const zn=unref(jt).length===0;return isArray$3(n.fixedData)?n.fixedData.length===0&&zn:zn});function Cr(zn){const{estimatedRowHeight:vn,rowHeight:Jn,rowKey:Tn}=n;return vn?unref(Ue)[unref(jt)[zn][Tn]]||vn:Jn}function sr(){const{onEndReached:zn}=n;if(!zn)return;const{scrollTop:vn}=unref(xe),Jn=unref(Nn),Tn=unref(Zn),Dt=Jn-(vn+Tn)+n.hScrollbarSize;unref(Oe)>=0&&Jn===vn+unref(Bn)-unref(Pn)&&zn(Dt)}return watch(()=>n.expandedRowKeys,zn=>$e.value=zn,{deep:!0}),{columns:y,containerRef:fr,mainTableRef:e,leftTableRef:r,rightTableRef:g,isDynamic:_e,isResetting:Fe,isScrolling:jn,hoveringRowKey:Ne,hasFixedColumns:z,columnsStyles:k,columnsTotalWidth:$,data:jt,expandedRowKeys:$e,depthMap:An,fixedColumnsOnLeft:V,fixedColumnsOnRight:L,mainColumns:j,bodyWidth:Dn,emptyStyle:rr,rootStyle:Xn,headerWidth:Gn,footerHeight:Hn,mainTableHeight:Bn,fixedTableHeight:En,leftTableWidth:$n,rightTableWidth:Wn,showEmpty:yr,getRowHeight:Cr,onColumnSorted:re,onRowHovered:Et,onRowExpanded:Lt,onRowsRendered:xn,onRowHeightChange:wn,scrollTo:oe,scrollToLeft:ae,scrollToTop:de,scrollToRow:ue,onScroll:pe,onVerticalScroll:he}}const TableV2InjectionKey=Symbol("tableV2"),classType=String,columns={type:definePropType(Array),required:!0},fixedDataType={type:definePropType(Array)},dataType={...fixedDataType,required:!0},expandColumnKey=String,expandKeys={type:definePropType(Array),default:()=>mutable([])},requiredNumber={type:Number,required:!0},rowKey={type:definePropType([String,Number,Symbol]),default:"id"},styleType={type:definePropType(Object)},tableV2RowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},depth:Number,expandColumnKey,estimatedRowHeight:{...virtualizedGridProps.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:definePropType(Function)},onRowHover:{type:definePropType(Function)},onRowHeightChange:{type:definePropType(Function)},rowData:{type:definePropType(Object),required:!0},rowEventHandlers:{type:definePropType(Object)},rowIndex:{type:Number,required:!0},rowKey,style:{type:definePropType(Object)}}),requiredNumberType={type:Number,required:!0},tableV2HeaderProps=buildProps({class:String,columns,fixedHeaderData:{type:definePropType(Array)},headerData:{type:definePropType(Array),required:!0},headerHeight:{type:definePropType([Number,Array]),default:50},rowWidth:requiredNumberType,rowHeight:{type:Number,default:50},height:requiredNumberType,width:requiredNumberType}),tableV2GridProps=buildProps({columns,data:dataType,fixedData:fixedDataType,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,width:requiredNumber,height:requiredNumber,headerWidth:requiredNumber,headerHeight:tableV2HeaderProps.headerHeight,bodyWidth:requiredNumber,rowHeight:requiredNumber,cache:virtualizedListProps.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:virtualizedGridProps.scrollbarAlwaysOn,scrollbarStartGap:virtualizedGridProps.scrollbarStartGap,scrollbarEndGap:virtualizedGridProps.scrollbarEndGap,class:classType,style:styleType,containerStyle:styleType,getRowHeight:{type:definePropType(Function),required:!0},rowKey:tableV2RowProps.rowKey,onRowsRendered:{type:definePropType(Function)},onScroll:{type:definePropType(Function)}}),tableV2Props=buildProps({cache:tableV2GridProps.cache,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,rowKey,headerClass:{type:definePropType([String,Function])},headerProps:{type:definePropType([Object,Function])},headerCellProps:{type:definePropType([Object,Function])},headerHeight:tableV2HeaderProps.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:definePropType([String,Function])},rowProps:{type:definePropType([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:definePropType([Object,Function])},columns,data:dataType,dataGetter:{type:definePropType(Function)},fixedData:fixedDataType,expandColumnKey:tableV2RowProps.expandColumnKey,expandedRowKeys:expandKeys,defaultExpandedRowKeys:expandKeys,class:classType,fixed:Boolean,style:{type:definePropType(Object)},width:requiredNumber,height:requiredNumber,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:virtualizedGridProps.hScrollbarSize,vScrollbarSize:virtualizedGridProps.vScrollbarSize,scrollbarAlwaysOn:virtualizedScrollbarProps.alwaysOn,sortBy:{type:definePropType(Object),default:()=>({})},sortState:{type:definePropType(Object),default:void 0},onColumnSort:{type:definePropType(Function)},onExpandedRowsChange:{type:definePropType(Function)},onEndReached:{type:definePropType(Function)},onRowExpand:tableV2RowProps.onRowExpand,onScroll:tableV2GridProps.onScroll,onRowsRendered:tableV2GridProps.onRowsRendered,rowEventHandlers:tableV2RowProps.rowEventHandlers}),TableV2Cell=(n,{slots:e})=>{var r;const{cellData:g,style:y}=n,k=((r=g?.toString)==null?void 0:r.call(g))||"";return createVNode("div",{class:n.class,title:k,style:y},[e.default?e.default(n):k])};TableV2Cell.displayName="ElTableV2Cell";TableV2Cell.inheritAttrs=!1;const HeaderCell=(n,{slots:e})=>{var r,g;return e.default?e.default(n):createVNode("div",{class:n.class,title:(r=n.column)==null?void 0:r.title},[(g=n.column)==null?void 0:g.title])};HeaderCell.displayName="ElTableV2HeaderCell";HeaderCell.inheritAttrs=!1;const tableV2HeaderRowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},headerIndex:Number,style:{type:definePropType(Object)}}),TableV2HeaderRow=defineComponent({name:"ElTableV2HeaderRow",props:tableV2HeaderRowProps,setup(n,{slots:e}){return()=>{const{columns:r,columnsStyles:g,headerIndex:y,style:k}=n;let $=r.map((V,L)=>e.cell({columns:r,column:V,columnIndex:L,headerIndex:y,style:g[V.key]}));return e.header&&($=e.header({cells:$.map(V=>isArray$3(V)&&V.length===1?V[0]:V),columns:r,headerIndex:y})),createVNode("div",{class:n.class,style:k,role:"row"},[$])}}}),COMPONENT_NAME$7="ElTableV2Header",TableV2Header=defineComponent({name:COMPONENT_NAME$7,props:tableV2HeaderProps,setup(n,{slots:e,expose:r}){const g=useNamespace("table-v2"),y=ref(),k=computed(()=>enforceUnit({width:n.width,height:n.height})),$=computed(()=>enforceUnit({width:n.rowWidth,height:n.height})),V=computed(()=>castArray$1(unref(n.headerHeight))),L=re=>{const oe=unref(y);nextTick(()=>{oe?.scroll&&oe.scroll({left:re})})},z=()=>{const re=g.e("fixed-header-row"),{columns:oe,fixedHeaderData:ae,rowHeight:de}=n;return ae?.map((ue,pe)=>{var he;const xe=enforceUnit({height:de,width:"100%"});return(he=e.fixed)==null?void 0:he.call(e,{class:re,columns:oe,rowData:ue,rowIndex:-(pe+1),style:xe})})},j=()=>{const re=g.e("dynamic-header-row"),{columns:oe}=n;return unref(V).map((ae,de)=>{var ue;const pe=enforceUnit({width:"100%",height:ae});return(ue=e.dynamic)==null?void 0:ue.call(e,{class:re,columns:oe,headerIndex:de,style:pe})})};return r({scrollToLeft:L}),()=>{if(!(n.height<=0))return createVNode("div",{ref:y,class:n.class,style:unref(k),role:"rowgroup"},[createVNode("div",{style:unref($),class:g.e("header")},[j(),z()])])}}}),useTableRow=n=>{const{isScrolling:e}=inject(TableV2InjectionKey),r=ref(!1),g=ref(),y=computed(()=>isNumber$1(n.estimatedRowHeight)&&n.rowIndex>=0),k=(L=!1)=>{const z=unref(g);if(!z)return;const{columns:j,onRowHeightChange:re,rowKey:oe,rowIndex:ae,style:de}=n,{height:ue}=z.getBoundingClientRect();r.value=!0,nextTick(()=>{if(L||ue!==Number.parseInt(de.height)){const pe=j[0],he=pe?.placeholderSign===placeholderSign;re?.({rowKey:oe,height:ue,rowIndex:ae},pe&&!he&&pe.fixed)}})},$=computed(()=>{const{rowData:L,rowIndex:z,rowKey:j,onRowHover:re}=n,oe=n.rowEventHandlers||{},ae={};return Object.entries(oe).forEach(([de,ue])=>{isFunction$3(ue)&&(ae[de]=pe=>{ue({event:pe,rowData:L,rowIndex:z,rowKey:j})})}),re&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:de,hovered:ue})=>{const pe=ae[de];ae[de]=he=>{re({event:he,hovered:ue,rowData:L,rowIndex:z,rowKey:j}),pe?.(he)}}),ae}),V=L=>{const{onRowExpand:z,rowData:j,rowIndex:re,rowKey:oe}=n;z?.({expanded:L,rowData:j,rowIndex:re,rowKey:oe})};return onMounted(()=>{unref(y)&&k(!0)}),{isScrolling:e,measurable:y,measured:r,rowRef:g,eventHandlers:$,onExpand:V}},COMPONENT_NAME$6="ElTableV2TableRow",TableV2Row=defineComponent({name:COMPONENT_NAME$6,props:tableV2RowProps,setup(n,{expose:e,slots:r,attrs:g}){const{eventHandlers:y,isScrolling:k,measurable:$,measured:V,rowRef:L,onExpand:z}=useTableRow(n);return e({onExpand:z}),()=>{const{columns:j,columnsStyles:re,expandColumnKey:oe,depth:ae,rowData:de,rowIndex:ue,style:pe}=n;let he=j.map((xe,$e)=>{const Ne=isArray$3(de.children)&&de.children.length>0&&xe.key===oe;return r.cell({column:xe,columns:j,columnIndex:$e,depth:ae,style:re[xe.key],rowData:de,rowIndex:ue,isScrolling:unref(k),expandIconProps:Ne?{rowData:de,rowIndex:ue,onExpand:z}:void 0})});if(r.row&&(he=r.row({cells:he.map(xe=>isArray$3(xe)&&xe.length===1?xe[0]:xe),style:pe,columns:j,depth:ae,rowData:de,rowIndex:ue,isScrolling:unref(k)})),unref($)){const{height:xe,...$e}=pe||{},Ne=unref(V);return createVNode("div",mergeProps({ref:L,class:n.class,style:Ne?pe:$e,role:"row"},g,unref(y)),[he])}return createVNode("div",mergeProps(g,{ref:L,class:n.class,style:pe,role:"row"},unref(y)),[he])}}}),SortIcon=n=>{const{sortOrder:e}=n;return createVNode(ElIcon,{size:14,class:n.class},{default:()=>[e===SortOrder.ASC?createVNode(sort_up_default,null,null):createVNode(sort_down_default,null,null)]})},ExpandIcon=n=>{const{expanded:e,expandable:r,onExpand:g,style:y,size:k}=n,$={onClick:r?()=>g(!e):void 0,class:n.class};return createVNode(ElIcon,mergeProps($,{size:k,style:y}),{default:()=>[createVNode(arrow_right_default,null,null)]})},COMPONENT_NAME$5="ElTableV2Grid",useTableGrid=n=>{const e=ref(),r=ref(),g=computed(()=>{const{data:ue,rowHeight:pe,estimatedRowHeight:he}=n;if(!he)return ue.length*pe}),y=computed(()=>{const{fixedData:ue,rowHeight:pe}=n;return(ue?.length||0)*pe}),k=computed(()=>sum(n.headerHeight)),$=computed(()=>{const{height:ue}=n;return Math.max(0,ue-unref(k)-unref(y))}),V=computed(()=>unref(k)+unref(y)>0),L=({data:ue,rowIndex:pe})=>ue[pe][n.rowKey];function z({rowCacheStart:ue,rowCacheEnd:pe,rowVisibleStart:he,rowVisibleEnd:xe}){var $e;($e=n.onRowsRendered)==null||$e.call(n,{rowCacheStart:ue,rowCacheEnd:pe,rowVisibleStart:he,rowVisibleEnd:xe})}function j(ue,pe){var he;(he=r.value)==null||he.resetAfterRowIndex(ue,pe)}function re(ue,pe){const he=unref(e),xe=unref(r);!he||!xe||(isObject$3(ue)?(he.scrollToLeft(ue.scrollLeft),xe.scrollTo(ue)):(he.scrollToLeft(ue),xe.scrollTo({scrollLeft:ue,scrollTop:pe})))}function oe(ue){var pe;(pe=unref(r))==null||pe.scrollTo({scrollTop:ue})}function ae(ue,pe){var he;(he=unref(r))==null||he.scrollToItem(ue,1,pe)}function de(){var ue,pe;(ue=unref(r))==null||ue.$forceUpdate(),(pe=unref(e))==null||pe.$forceUpdate()}return{bodyRef:r,forceUpdate:de,fixedRowHeight:y,gridHeight:$,hasHeader:V,headerHeight:k,headerRef:e,totalHeight:g,itemKey:L,onItemRendered:z,resetAfterRowIndex:j,scrollTo:re,scrollToTop:oe,scrollToRow:ae}},TableGrid=defineComponent({name:COMPONENT_NAME$5,props:tableV2GridProps,setup(n,{slots:e,expose:r}){const{ns:g}=inject(TableV2InjectionKey),{bodyRef:y,fixedRowHeight:k,gridHeight:$,hasHeader:V,headerRef:L,headerHeight:z,totalHeight:j,forceUpdate:re,itemKey:oe,onItemRendered:ae,resetAfterRowIndex:de,scrollTo:ue,scrollToTop:pe,scrollToRow:he}=useTableGrid(n);r({forceUpdate:re,totalHeight:j,scrollTo:ue,scrollToTop:pe,scrollToRow:he,resetAfterRowIndex:de});const xe=()=>n.bodyWidth;return()=>{const{cache:$e,columns:Ne,data:Oe,fixedData:_e,useIsScrolling:Fe,scrollbarAlwaysOn:Ue,scrollbarEndGap:kt,scrollbarStartGap:Lt,style:wn,rowHeight:Et,bodyWidth:xn,estimatedRowHeight:jt,headerWidth:An,height:Dn,width:En,getRowHeight:Bn,onScroll:$n}=n,Wn=isNumber$1(jt),Gn=Wn?DynamicSizeGrid:FixedSizeGrid,Nn=unref(z);return createVNode("div",{role:"table",class:[g.e("table"),n.class],style:wn},[createVNode(Gn,{ref:y,data:Oe,useIsScrolling:Fe,itemKey:oe,columnCache:0,columnWidth:Wn?xe:xn,totalColumn:1,totalRow:Oe.length,rowCache:$e,rowHeight:Wn?Bn:Et,width:En,height:unref($),class:g.e("body"),role:"rowgroup",scrollbarStartGap:Lt,scrollbarEndGap:kt,scrollbarAlwaysOn:Ue,onScroll:$n,onItemRendered:ae,perfMode:!1},{default:Zn=>{var Hn;const rr=Oe[Zn.rowIndex];return(Hn=e.row)==null?void 0:Hn.call(e,{...Zn,columns:Ne,rowData:rr})}}),unref(V)&&createVNode(TableV2Header,{ref:L,class:g.e("header-wrapper"),columns:Ne,headerData:Oe,headerHeight:n.headerHeight,fixedHeaderData:_e,rowWidth:An,rowHeight:Et,width:En,height:Math.min(Nn+unref(k),Dn)},{dynamic:e.header,fixed:e.row})])}}});function _isSlot$5(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const MainTable=(n,{slots:e})=>{const{mainTableRef:r,...g}=n;return createVNode(TableGrid,mergeProps({ref:r},g),_isSlot$5(e)?e:{default:()=>[e]})};function _isSlot$4(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const LeftTable$1=(n,{slots:e})=>{if(!n.columns.length)return;const{leftTableRef:r,...g}=n;return createVNode(TableGrid,mergeProps({ref:r},g),_isSlot$4(e)?e:{default:()=>[e]})};function _isSlot$3(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const LeftTable=(n,{slots:e})=>{if(!n.columns.length)return;const{rightTableRef:r,...g}=n;return createVNode(TableGrid,mergeProps({ref:r},g),_isSlot$3(e)?e:{default:()=>[e]})};function _isSlot$2(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const RowRenderer=(n,{slots:e})=>{const{columns:r,columnsStyles:g,depthMap:y,expandColumnKey:k,expandedRowKeys:$,estimatedRowHeight:V,hasFixedColumns:L,hoveringRowKey:z,rowData:j,rowIndex:re,style:oe,isScrolling:ae,rowProps:de,rowClass:ue,rowKey:pe,rowEventHandlers:he,ns:xe,onRowHovered:$e,onRowExpanded:Ne}=n,Oe=tryCall(ue,{columns:r,rowData:j,rowIndex:re},""),_e=tryCall(de,{columns:r,rowData:j,rowIndex:re}),Fe=j[pe],Ue=y[Fe]||0,kt=!!k,Lt=re<0,wn=[xe.e("row"),Oe,{[xe.e(`row-depth-${Ue}`)]:kt&&re>=0,[xe.is("expanded")]:kt&&$.includes(Fe),[xe.is("hovered")]:!ae&&Fe===z,[xe.is("fixed")]:!Ue&&Lt,[xe.is("customized")]:!!e.row}],Et=L?$e:void 0,xn={..._e,columns:r,columnsStyles:g,class:wn,depth:Ue,expandColumnKey:k,estimatedRowHeight:Lt?void 0:V,isScrolling:ae,rowIndex:re,rowData:j,rowKey:Fe,rowEventHandlers:he,style:oe};return createVNode(TableV2Row,mergeProps(xn,{onRowHover:Et,onRowExpand:Ne}),_isSlot$2(e)?e:{default:()=>[e]})},CellRenderer=({columns:n,column:e,columnIndex:r,depth:g,expandIconProps:y,isScrolling:k,rowData:$,rowIndex:V,style:L,expandedRowKeys:z,ns:j,cellProps:re,expandColumnKey:oe,indentSize:ae,iconSize:de,rowKey:ue},{slots:pe})=>{const he=enforceUnit(L);if(e.placeholderSign===placeholderSign)return createVNode("div",{class:j.em("row-cell","placeholder"),style:he},null);const{cellRenderer:xe,dataKey:$e,dataGetter:Ne}=e,_e=componentToSlot(xe)||pe.default||(Dn=>createVNode(TableV2Cell,Dn,null)),Fe=isFunction$3(Ne)?Ne({columns:n,column:e,columnIndex:r,rowData:$,rowIndex:V}):get($,$e??""),Ue=tryCall(re,{cellData:Fe,columns:n,column:e,columnIndex:r,rowIndex:V,rowData:$}),kt={class:j.e("cell-text"),columns:n,column:e,columnIndex:r,cellData:Fe,isScrolling:k,rowData:$,rowIndex:V},Lt=_e(kt),wn=[j.e("row-cell"),e.class,e.align===Alignment.CENTER&&j.is("align-center"),e.align===Alignment.RIGHT&&j.is("align-right")],Et=V>=0&&oe&&e.key===oe,xn=V>=0&&z.includes($[ue]);let jt;const An=`margin-inline-start: ${g*ae}px;`;return Et&&(isObject$3(y)?jt=createVNode(ExpandIcon,mergeProps(y,{class:[j.e("expand-icon"),j.is("expanded",xn)],size:de,expanded:xn,style:An,expandable:!0}),null):jt=createVNode("div",{style:[An,`width: ${de}px; height: ${de}px;`].join(" ")},null)),createVNode("div",mergeProps({class:wn,style:he},Ue,{role:"cell"}),[jt,Lt])};CellRenderer.inheritAttrs=!1;function _isSlot$1(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const HeaderRenderer=({columns:n,columnsStyles:e,headerIndex:r,style:g,headerClass:y,headerProps:k,ns:$},{slots:V})=>{const L={columns:n,headerIndex:r},z=[$.e("header-row"),tryCall(y,L,""),{[$.is("customized")]:!!V.header}],j={...tryCall(k,L),columnsStyles:e,class:z,columns:n,headerIndex:r,style:g};return createVNode(TableV2HeaderRow,j,_isSlot$1(V)?V:{default:()=>[V]})},HeaderCellRenderer=(n,{slots:e})=>{const{column:r,ns:g,style:y,onColumnSorted:k}=n,$=enforceUnit(y);if(r.placeholderSign===placeholderSign)return createVNode("div",{class:g.em("header-row-cell","placeholder"),style:$},null);const{headerCellRenderer:V,headerClass:L,sortable:z}=r,j={...n,class:g.e("header-cell-text")},oe=(componentToSlot(V)||e.default||(Ne=>createVNode(HeaderCell,Ne,null)))(j),{sortBy:ae,sortState:de,headerCellProps:ue}=n;let pe,he;if(de){const Ne=de[r.key];pe=!!oppositeOrderMap[Ne],he=pe?Ne:SortOrder.ASC}else pe=r.key===ae.key,he=pe?ae.order:SortOrder.ASC;const xe=[g.e("header-cell"),tryCall(L,n,""),r.align===Alignment.CENTER&&g.is("align-center"),r.align===Alignment.RIGHT&&g.is("align-right"),z&&g.is("sortable")],$e={...tryCall(ue,n),onClick:r.sortable?k:void 0,class:xe,style:$,"data-key":r.key};return createVNode("div",mergeProps($e,{role:"columnheader"}),[oe,z&&createVNode(SortIcon,{class:[g.e("sort-icon"),pe&&g.is("sorting")],sortOrder:he},null)])},Footer$1=(n,{slots:e})=>{var r;return createVNode("div",{class:n.class,style:n.style},[(r=e.default)==null?void 0:r.call(e)])};Footer$1.displayName="ElTableV2Footer";const Footer=(n,{slots:e})=>createVNode("div",{class:n.class,style:n.style},[e.default?e.default():createVNode(ElEmpty,null,null)]);Footer.displayName="ElTableV2Empty";const Overlay=(n,{slots:e})=>{var r;return createVNode("div",{class:n.class,style:n.style},[(r=e.default)==null?void 0:r.call(e)])};Overlay.displayName="ElTableV2Overlay";function _isSlot(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const COMPONENT_NAME$4="ElTableV2",TableV2=defineComponent({name:COMPONENT_NAME$4,props:tableV2Props,setup(n,{slots:e,expose:r}){const g=useNamespace("table-v2"),{columnsStyles:y,fixedColumnsOnLeft:k,fixedColumnsOnRight:$,mainColumns:V,mainTableHeight:L,fixedTableHeight:z,leftTableWidth:j,rightTableWidth:re,data:oe,depthMap:ae,expandedRowKeys:de,hasFixedColumns:ue,hoveringRowKey:pe,mainTableRef:he,leftTableRef:xe,rightTableRef:$e,isDynamic:Ne,isResetting:Oe,isScrolling:_e,bodyWidth:Fe,emptyStyle:Ue,rootStyle:kt,headerWidth:Lt,footerHeight:wn,showEmpty:Et,scrollTo:xn,scrollToLeft:jt,scrollToTop:An,scrollToRow:Dn,getRowHeight:En,onColumnSorted:Bn,onRowHeightChange:$n,onRowHovered:Wn,onRowExpanded:Gn,onRowsRendered:Nn,onScroll:Zn,onVerticalScroll:Hn}=useTable(n);return r({scrollTo:xn,scrollToLeft:jt,scrollToTop:An,scrollToRow:Dn}),provide(TableV2InjectionKey,{ns:g,isResetting:Oe,hoveringRowKey:pe,isScrolling:_e}),()=>{const{cache:rr,cellProps:Xn,estimatedRowHeight:Pn,expandColumnKey:jn,fixedData:fr,headerHeight:yr,headerClass:Cr,headerProps:sr,headerCellProps:zn,sortBy:vn,sortState:Jn,rowHeight:Tn,rowClass:Dt,rowEventHandlers:hn,rowKey:Vn,rowProps:Kn,scrollbarAlwaysOn:ar,indentSize:lr,iconSize:cr,useIsScrolling:mr,vScrollbarSize:ur,width:le}=n,Ce=unref(oe),Ie={cache:rr,class:g.e("main"),columns:unref(V),data:Ce,fixedData:fr,estimatedRowHeight:Pn,bodyWidth:unref(Fe)+ur,headerHeight:yr,headerWidth:unref(Lt),height:unref(L),mainTableRef:he,rowKey:Vn,rowHeight:Tn,scrollbarAlwaysOn:ar,scrollbarStartGap:2,scrollbarEndGap:ur,useIsScrolling:mr,width:le,getRowHeight:En,onRowsRendered:Nn,onScroll:Zn},ze=unref(j),qe=unref(z),Pt={cache:rr,class:g.e("left"),columns:unref(k),data:Ce,estimatedRowHeight:Pn,leftTableRef:xe,rowHeight:Tn,bodyWidth:ze,headerWidth:ze,headerHeight:yr,height:qe,rowKey:Vn,scrollbarAlwaysOn:ar,scrollbarStartGap:2,scrollbarEndGap:ur,useIsScrolling:mr,width:ze,getRowHeight:En,onScroll:Hn},At=unref(re)+ur,Cn={cache:rr,class:g.e("right"),columns:unref($),data:Ce,estimatedRowHeight:Pn,rightTableRef:$e,rowHeight:Tn,bodyWidth:At,headerWidth:At,headerHeight:yr,height:qe,rowKey:Vn,scrollbarAlwaysOn:ar,scrollbarStartGap:2,scrollbarEndGap:ur,width:At,style:`--${unref(g.namespace)}-table-scrollbar-size: ${ur}px`,useIsScrolling:mr,getRowHeight:En,onScroll:Hn},bn=unref(y),In={ns:g,depthMap:unref(ae),columnsStyles:bn,expandColumnKey:jn,expandedRowKeys:unref(de),estimatedRowHeight:Pn,hasFixedColumns:unref(ue),hoveringRowKey:unref(pe),rowProps:Kn,rowClass:Dt,rowKey:Vn,rowEventHandlers:hn,onRowHovered:Wn,onRowExpanded:Gn,onRowHeightChange:$n},Ln={cellProps:Xn,expandColumnKey:jn,indentSize:lr,iconSize:cr,rowKey:Vn,expandedRowKeys:unref(de),ns:g},Mn={ns:g,headerClass:Cr,headerProps:sr,columnsStyles:bn},Fn={ns:g,sortBy:vn,sortState:Jn,headerCellProps:zn,onColumnSorted:Bn},er={row:kn=>createVNode(RowRenderer,mergeProps(kn,In),{row:e.row,cell:Un=>{let On;return e.cell?createVNode(CellRenderer,mergeProps(Un,Ln,{style:bn[Un.column.key]}),_isSlot(On=e.cell(Un))?On:{default:()=>[On]}):createVNode(CellRenderer,mergeProps(Un,Ln,{style:bn[Un.column.key]}),null)}}),header:kn=>createVNode(HeaderRenderer,mergeProps(kn,Mn),{header:e.header,cell:Un=>{let On;return e["header-cell"]?createVNode(HeaderCellRenderer,mergeProps(Un,Fn,{style:bn[Un.column.key]}),_isSlot(On=e["header-cell"](Un))?On:{default:()=>[On]}):createVNode(HeaderCellRenderer,mergeProps(Un,Fn,{style:bn[Un.column.key]}),null)}})},Qn=[n.class,g.b(),g.e("root"),{[g.is("dynamic")]:unref(Ne)}],nr={class:g.e("footer"),style:unref(wn)};return createVNode("div",{class:Qn,style:unref(kt)},[createVNode(MainTable,Ie,_isSlot(er)?er:{default:()=>[er]}),createVNode(LeftTable$1,Pt,_isSlot(er)?er:{default:()=>[er]}),createVNode(LeftTable,Cn,_isSlot(er)?er:{default:()=>[er]}),e.footer&&createVNode(Footer$1,nr,{default:e.footer}),unref(Et)&&createVNode(Footer,{class:g.e("empty"),style:unref(Ue)},{default:e.empty}),e.overlay&&createVNode(Overlay,{class:g.e("overlay")},{default:e.overlay})])}}}),autoResizerProps=buildProps({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:definePropType(Function)}}),AutoResizer=defineComponent({name:"ElAutoResizer",props:autoResizerProps,setup(n,{slots:e}){const r=useNamespace("auto-resizer"),{height:g,width:y,sizer:k}=useAutoResize(n),$={width:"100%",height:"100%"};return()=>{var V;return createVNode("div",{ref:k,class:r.b(),style:$},[(V=e.default)==null?void 0:V.call(e,{height:g.value,width:y.value})])}}}),ElTableV2=withInstall(TableV2),ElAutoResizer=withInstall(AutoResizer),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),COMPONENT_NAME$3="ElTabBar",__default__$k=defineComponent({name:COMPONENT_NAME$3}),_sfc_main$1w=defineComponent({...__default__$k,props:tabBarProps,setup(n,{expose:e}){const r=n,g=getCurrentInstance(),y=inject(tabsRootContextKey);y||throwError(COMPONENT_NAME$3,"<el-tabs><el-tab-bar /></el-tabs>");const k=useNamespace("tabs"),$=ref(),V=ref(),L=()=>{let j=0,re=0;const oe=["top","bottom"].includes(y.props.tabPosition)?"width":"height",ae=oe==="width"?"x":"y",de=ae==="x"?"left":"top";return r.tabs.every(ue=>{var pe,he;const xe=(he=(pe=g.parent)==null?void 0:pe.refs)==null?void 0:he[`tab-${ue.uid}`];if(!xe)return!1;if(!ue.active)return!0;j=xe[`offset${capitalize$1(de)}`],re=xe[`client${capitalize$1(oe)}`];const $e=window.getComputedStyle(xe);return oe==="width"&&(r.tabs.length>1&&(re-=Number.parseFloat($e.paddingLeft)+Number.parseFloat($e.paddingRight)),j+=Number.parseFloat($e.paddingLeft)),!1}),{[oe]:`${re}px`,transform:`translate${capitalize$1(ae)}(${j}px)`}},z=()=>V.value=L();return watch(()=>r.tabs,async()=>{await nextTick(),z()},{immediate:!0}),useResizeObserver($,()=>z()),e({ref:$,update:z}),(j,re)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:$,class:normalizeClass([unref(k).e("active-bar"),unref(k).is(unref(y).props.tabPosition)]),style:normalizeStyle(V.value)},null,6))}});var TabBar=_export_sfc$1(_sfc_main$1w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(n,e,r)=>r instanceof Event,tabRemove:(n,e)=>e instanceof Event},COMPONENT_NAME$2="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$2,props:tabNavProps,emits:tabNavEmits,setup(n,{expose:e,emit:r}){const g=getCurrentInstance(),y=inject(tabsRootContextKey);y||throwError(COMPONENT_NAME$2,"<el-tabs><tab-nav /></el-tabs>");const k=useNamespace("tabs"),$=useDocumentVisibility(),V=useWindowFocus(),L=ref(),z=ref(),j=ref(),re=ref(),oe=ref(!1),ae=ref(0),de=ref(!1),ue=ref(!0),pe=computed(()=>["top","bottom"].includes(y.props.tabPosition)?"width":"height"),he=computed(()=>({transform:`translate${pe.value==="width"?"X":"Y"}(-${ae.value}px)`})),xe=()=>{if(!L.value)return;const kt=L.value[`offset${capitalize$1(pe.value)}`],Lt=ae.value;if(!Lt)return;const wn=Lt>kt?Lt-kt:0;ae.value=wn},$e=()=>{if(!L.value||!z.value)return;const kt=z.value[`offset${capitalize$1(pe.value)}`],Lt=L.value[`offset${capitalize$1(pe.value)}`],wn=ae.value;if(kt-wn<=Lt)return;const Et=kt-wn>Lt*2?wn+Lt:kt-Lt;ae.value=Et},Ne=async()=>{const kt=z.value;if(!oe.value||!j.value||!L.value||!kt)return;await nextTick();const Lt=j.value.querySelector(".is-active");if(!Lt)return;const wn=L.value,Et=["top","bottom"].includes(y.props.tabPosition),xn=Lt.getBoundingClientRect(),jt=wn.getBoundingClientRect(),An=Et?kt.offsetWidth-jt.width:kt.offsetHeight-jt.height,Dn=ae.value;let En=Dn;Et?(xn.left<jt.left&&(En=Dn-(jt.left-xn.left)),xn.right>jt.right&&(En=Dn+xn.right-jt.right)):(xn.top<jt.top&&(En=Dn-(jt.top-xn.top)),xn.bottom>jt.bottom&&(En=Dn+(xn.bottom-jt.bottom))),En=Math.max(En,0),ae.value=Math.min(En,An)},Oe=()=>{var kt;if(!z.value||!L.value)return;n.stretch&&((kt=re.value)==null||kt.update());const Lt=z.value[`offset${capitalize$1(pe.value)}`],wn=L.value[`offset${capitalize$1(pe.value)}`],Et=ae.value;wn<Lt?(oe.value=oe.value||{},oe.value.prev=Et,oe.value.next=Et+wn<Lt,Lt-Et<wn&&(ae.value=Lt-wn)):(oe.value=!1,Et>0&&(ae.value=0))},_e=kt=>{const Lt=kt.code,{up:wn,down:Et,left:xn,right:jt}=EVENT_CODE;if(![wn,Et,xn,jt].includes(Lt))return;const An=Array.from(kt.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Dn=An.indexOf(kt.target);let En;Lt===xn||Lt===wn?Dn===0?En=An.length-1:En=Dn-1:Dn<An.length-1?En=Dn+1:En=0,An[En].focus({preventScroll:!0}),An[En].click(),Fe()},Fe=()=>{ue.value&&(de.value=!0)},Ue=()=>de.value=!1;return watch($,kt=>{kt==="hidden"?ue.value=!1:kt==="visible"&&setTimeout(()=>ue.value=!0,50)}),watch(V,kt=>{kt?setTimeout(()=>ue.value=!0,50):ue.value=!1}),useResizeObserver(j,Oe),onMounted(()=>setTimeout(()=>Ne(),0)),onUpdated(()=>Oe()),e({scrollToActiveTab:Ne,removeFocus:Ue}),watch(()=>n.panes,()=>g.update(),{flush:"post",deep:!0}),()=>{const kt=oe.value?[createVNode("span",{class:[k.e("nav-prev"),k.is("disabled",!oe.value.prev)],onClick:xe},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[k.e("nav-next"),k.is("disabled",!oe.value.next)],onClick:$e},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,Lt=n.panes.map((wn,Et)=>{var xn,jt,An,Dn;const En=wn.uid,Bn=wn.props.disabled,$n=(jt=(xn=wn.props.name)!=null?xn:wn.index)!=null?jt:`${Et}`,Wn=!Bn&&(wn.isClosable||n.editable);wn.index=`${Et}`;const Gn=Wn?createVNode(ElIcon,{class:"is-icon-close",onClick:Hn=>r("tabRemove",wn,Hn)},{default:()=>[createVNode(close_default,null,null)]}):null,Nn=((Dn=(An=wn.slots).label)==null?void 0:Dn.call(An))||wn.props.label,Zn=!Bn&&wn.active?0:-1;return createVNode("div",{ref:`tab-${En}`,class:[k.e("item"),k.is(y.props.tabPosition),k.is("active",wn.active),k.is("disabled",Bn),k.is("closable",Wn),k.is("focus",de.value)],id:`tab-${$n}`,key:`tab-${En}`,"aria-controls":`pane-${$n}`,role:"tab","aria-selected":wn.active,tabindex:Zn,onFocus:()=>Fe(),onBlur:()=>Ue(),onClick:Hn=>{Ue(),r("tabClick",wn,$n,Hn)},onKeydown:Hn=>{Wn&&(Hn.code===EVENT_CODE.delete||Hn.code===EVENT_CODE.backspace)&&r("tabRemove",wn,Hn)}},[Nn,Gn])});return createVNode("div",{ref:j,class:[k.e("nav-wrap"),k.is("scrollable",!!oe.value),k.is(y.props.tabPosition)]},[kt,createVNode("div",{class:k.e("nav-scroll"),ref:L},[createVNode("div",{class:[k.e("nav"),k.is(y.props.tabPosition),k.is("stretch",n.stretch&&["top","bottom"].includes(y.props.tabPosition))],ref:z,style:he.value,role:"tablist",onKeydown:_e},[n.type?null:createVNode(TabBar,{ref:re,tabs:[...n.panes]},null),Lt])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=n=>isString$3(n)||isNumber$1(n),tabsEmits={[UPDATE_MODEL_EVENT]:n=>isPaneName(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>isPaneName(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>isPaneName(n),tabAdd:()=>!0};var Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(n,{emit:e,slots:r,expose:g}){var y,k;const $=useNamespace("tabs"),{children:V,addChild:L,removeChild:z}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),j=ref(),re=ref((k=(y=n.modelValue)!=null?y:n.activeName)!=null?k:"0"),oe=he=>{re.value=he,e(UPDATE_MODEL_EVENT,he),e("tabChange",he)},ae=async he=>{var xe,$e,Ne;if(!(re.value===he||isUndefined(he)))try{await((xe=n.beforeLeave)==null?void 0:xe.call(n,he,re.value))!==!1&&(oe(he),(Ne=($e=j.value)==null?void 0:$e.removeFocus)==null||Ne.call($e))}catch{}},de=(he,xe,$e)=>{he.props.disabled||(ae(xe),e("tabClick",he,$e))},ue=(he,xe)=>{he.props.disabled||isUndefined(he.props.name)||(xe.stopPropagation(),e("edit",he.props.name,"remove"),e("tabRemove",he.props.name))},pe=()=>{e("edit",void 0,"add"),e("tabAdd")};return useDeprecated({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},computed(()=>!!n.activeName)),watch(()=>n.activeName,he=>ae(he)),watch(()=>n.modelValue,he=>ae(he)),watch(re,async()=>{var he;await nextTick(),(he=j.value)==null||he.scrollToActiveTab()}),provide(tabsRootContextKey,{props:n,currentName:re,registerPane:L,unregisterPane:z}),g({currentName:re}),()=>{const he=n.editable||n.addable?createVNode("span",{class:$.e("new-tab"),tabindex:"0",onClick:pe,onKeydown:Ne=>{Ne.code===EVENT_CODE.enter&&pe()}},[createVNode(ElIcon,{class:$.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,xe=createVNode("div",{class:[$.e("header"),$.is(n.tabPosition)]},[he,createVNode(TabNav,{ref:j,currentName:re.value,editable:n.editable,type:n.type,panes:V.value,stretch:n.stretch,onTabClick:de,onTabRemove:ue},null)]),$e=createVNode("div",{class:$.e("content")},[renderSlot(r,"default")]);return createVNode("div",{class:[$.b(),$.m(n.tabPosition),{[$.m("card")]:n.type==="card",[$.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[xe,$e]:[$e,xe]])}}});const tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_hoisted_1$1g=["id","aria-hidden","aria-labelledby"],COMPONENT_NAME$1="ElTabPane",__default__$j=defineComponent({name:COMPONENT_NAME$1}),_sfc_main$1v=defineComponent({...__default__$j,props:tabPaneProps,setup(n){const e=n,r=getCurrentInstance(),g=useSlots(),y=inject(tabsRootContextKey);y||throwError(COMPONENT_NAME$1,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const k=useNamespace("tab-pane"),$=ref(),V=computed(()=>e.closable||y.props.closable),L=computedEager(()=>{var ae;return y.currentName.value===((ae=e.name)!=null?ae:$.value)}),z=ref(L.value),j=computed(()=>{var ae;return(ae=e.name)!=null?ae:$.value}),re=computedEager(()=>!e.lazy||z.value||L.value);watch(L,ae=>{ae&&(z.value=!0)});const oe=reactive({uid:r.uid,slots:g,props:e,paneName:j,active:L,index:$,isClosable:V});return onMounted(()=>{y.registerPane(oe)}),onUnmounted(()=>{y.unregisterPane(oe.uid)}),(ae,de)=>unref(re)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(j)}`,class:normalizeClass(unref(k).b()),role:"tabpanel","aria-hidden":!unref(L),"aria-labelledby":`tab-${unref(j)}`},[renderSlot(ae.$slots,"default")],10,_hoisted_1$1g)),[[vShow,unref(L)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc$1(_sfc_main$1v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ElTabs=withInstall(Tabs,{TabPane}),ElTabPane=withNoopInstall(TabPane),textProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:componentSizes,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),__default__$i=defineComponent({name:"ElText"}),_sfc_main$1u=defineComponent({...__default__$i,props:textProps,setup(n){const e=n,r=useFormSize(),g=useNamespace("text"),y=computed(()=>[g.b(),g.m(e.type),g.m(r.value),g.is("truncated",e.truncated)]);return(k,$)=>(openBlock(),createBlock(resolveDynamicComponent(k.tag),{class:normalizeClass(unref(y))},{default:withCtx(()=>[renderSlot(k.$slots,"default")]),_:3},8,["class"]))}});var Text$1=_export_sfc$1(_sfc_main$1u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const ElText=withInstall(Text$1),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default}}),parseTime=n=>{const e=(n||"").split(":");if(e.length>=2){let r=Number.parseInt(e[0],10);const g=Number.parseInt(e[1],10),y=n.toUpperCase();return y.includes("AM")&&r===12?r=0:y.includes("PM")&&r!==12&&(r+=12),{hours:r,minutes:g}}return null},compareTime=(n,e)=>{const r=parseTime(n);if(!r)return-1;const g=parseTime(e);if(!g)return-1;const y=r.minutes+r.hours*60,k=g.minutes+g.hours*60;return y===k?0:y>k?1:-1},padTime=n=>`${n}`.padStart(2,"0"),formatTime=n=>`${padTime(n.hours)}:${padTime(n.minutes)}`,nextTime=(n,e)=>{const r=parseTime(n);if(!r)return"";const g=parseTime(e);if(!g)return"";const y={hours:r.hours,minutes:r.minutes};return y.minutes+=g.minutes,y.hours+=g.hours,y.hours+=Math.floor(y.minutes/60),y.minutes=y.minutes%60,formatTime(y)},__default__$h=defineComponent({name:"ElTimeSelect"}),_sfc_main$1t=defineComponent({...__default__$h,props:timeSelectProps,emits:["change","blur","focus","update:modelValue"],setup(n,{expose:e}){const r=n;dayjs.extend(customParseFormat);const{Option:g}=ElSelect,y=useNamespace("input"),k=ref(),$=useFormDisabled(),V=computed(()=>r.modelValue),L=computed(()=>{const pe=parseTime(r.start);return pe?formatTime(pe):null}),z=computed(()=>{const pe=parseTime(r.end);return pe?formatTime(pe):null}),j=computed(()=>{const pe=parseTime(r.step);return pe?formatTime(pe):null}),re=computed(()=>{const pe=parseTime(r.minTime||"");return pe?formatTime(pe):null}),oe=computed(()=>{const pe=parseTime(r.maxTime||"");return pe?formatTime(pe):null}),ae=computed(()=>{const pe=[];if(r.start&&r.end&&r.step){let he=L.value,xe;for(;he&&z.value&&compareTime(he,z.value)<=0;)xe=dayjs(he,"HH:mm").format(r.format),pe.push({value:xe,disabled:compareTime(he,re.value||"-1:-1")<=0||compareTime(he,oe.value||"100:100")>=0}),he=nextTime(he,j.value)}return pe});return e({blur:()=>{var pe,he;(he=(pe=k.value)==null?void 0:pe.blur)==null||he.call(pe)},focus:()=>{var pe,he;(he=(pe=k.value)==null?void 0:pe.focus)==null||he.call(pe)}}),(pe,he)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:k,"model-value":unref(V),disabled:unref($),clearable:pe.clearable,"clear-icon":pe.clearIcon,size:pe.size,effect:pe.effect,placeholder:pe.placeholder,"default-first-option":"",filterable:pe.editable,"onUpdate:modelValue":he[0]||(he[0]=xe=>pe.$emit("update:modelValue",xe)),onChange:he[1]||(he[1]=xe=>pe.$emit("change",xe)),onBlur:he[2]||(he[2]=xe=>pe.$emit("blur",xe)),onFocus:he[3]||(he[3]=xe=>pe.$emit("focus",xe))},{prefix:withCtx(()=>[pe.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("prefix-icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(pe.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ae),xe=>(openBlock(),createBlock(unref(g),{key:xe.value,label:xe.value,value:xe.value,disabled:xe.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var TimeSelect=_export_sfc$1(_sfc_main$1t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);TimeSelect.install=n=>{n.component(TimeSelect.name,TimeSelect)};const _TimeSelect=TimeSelect,ElTimeSelect=_TimeSelect,Timeline=defineComponent({name:"ElTimeline",setup(n,{slots:e}){const r=useNamespace("timeline");return provide("timeline",e),()=>h$1("ul",{class:[r.b()]},[renderSlot(e,"default")])}}),timelineItemProps=buildProps({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:iconPropType},hollow:{type:Boolean,default:!1}}),__default__$g=defineComponent({name:"ElTimelineItem"}),_sfc_main$1s=defineComponent({...__default__$g,props:timelineItemProps,setup(n){const e=n,r=useNamespace("timeline-item"),g=computed(()=>[r.e("node"),r.em("node",e.size||""),r.em("node",e.type||""),r.is("hollow",e.hollow)]);return(y,k)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(r).b(),{[unref(r).e("center")]:y.center}])},[createBaseVNode("div",{class:normalizeClass(unref(r).e("tail"))},null,2),y.$slots.dot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g)),style:normalizeStyle({backgroundColor:y.color})},[y.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.icon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)),y.$slots.dot?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("dot"))},[renderSlot(y.$slots,"dot")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("wrapper"))},[!y.hideTimestamp&&y.placement==="top"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("timestamp"),unref(r).is("top")])},toDisplayString$1(y.timestamp),3)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("content"))},[renderSlot(y.$slots,"default")],2),!y.hideTimestamp&&y.placement==="bottom"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(r).e("timestamp"),unref(r).is("bottom")])},toDisplayString$1(y.timestamp),3)):createCommentVNode("v-if",!0)],2)],2))}});var TimelineItem=_export_sfc$1(_sfc_main$1s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const ElTimeline=withInstall(Timeline,{TimelineItem}),ElTimelineItem=withNoopInstall(TimelineItem),tooltipV2CommonProps=buildProps({nowrap:Boolean});var TooltipV2Sides=(n=>(n.top="top",n.bottom="bottom",n.left="left",n.right="right",n))(TooltipV2Sides||{});const tooltipV2Sides=Object.values(TooltipV2Sides),tooltipV2ArrowProps=buildProps({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:definePropType(Object),default:null}}),tooltipV2ArrowSpecialProps=buildProps({side:{type:definePropType(String),values:tooltipV2Sides,required:!0}}),tooltipV2Strategies=["absolute","fixed"],tooltipV2Placements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tooltipV2ContentProps=buildProps({ariaLabel:String,arrowPadding:{type:definePropType(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:definePropType(String),values:tooltipV2Placements,default:"bottom"},reference:{type:definePropType(Object),default:null},offset:{type:Number,default:8},strategy:{type:definePropType(String),values:tooltipV2Strategies,default:"absolute"},showArrow:{type:Boolean,default:!1}}),tooltipV2RootProps=buildProps({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:definePropType(Function)},"onUpdate:open":{type:definePropType(Function)}}),EventHandler={type:definePropType(Function)},tooltipV2TriggerProps=buildProps({onBlur:EventHandler,onClick:EventHandler,onFocus:EventHandler,onMouseDown:EventHandler,onMouseEnter:EventHandler,onMouseLeave:EventHandler}),tooltipV2Props=buildProps({...tooltipV2RootProps,...tooltipV2ArrowProps,...tooltipV2TriggerProps,...tooltipV2ContentProps,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:definePropType(Object),default:null},teleported:Boolean,to:{type:definePropType(String),default:"body"}}),tooltipV2RootKey=Symbol("tooltipV2"),tooltipV2ContentKey=Symbol("tooltipV2Content"),TOOLTIP_V2_OPEN="tooltip_v2.open",__default__$f=defineComponent({name:"ElTooltipV2Root"}),_sfc_main$1r=defineComponent({...__default__$f,props:tooltipV2RootProps,setup(n,{expose:e}){const r=n,g=ref(r.defaultOpen),y=ref(null),k=computed({get:()=>isPropAbsent(r.open)?g.value:r.open,set:pe=>{var he;g.value=pe,(he=r["onUpdate:open"])==null||he.call(r,pe)}}),$=computed(()=>isNumber$1(r.delayDuration)&&r.delayDuration>0),{start:V,stop:L}=useTimeoutFn(()=>{k.value=!0},computed(()=>r.delayDuration),{immediate:!1}),z=useNamespace("tooltip-v2"),j=useId(),re=()=>{L(),k.value=!0},oe=()=>{unref($)?V():re()},ae=re,de=()=>{L(),k.value=!1};return watch(k,pe=>{var he;pe&&(document.dispatchEvent(new CustomEvent(TOOLTIP_V2_OPEN)),ae()),(he=r.onOpenChange)==null||he.call(r,pe)}),onMounted(()=>{document.addEventListener(TOOLTIP_V2_OPEN,de)}),onBeforeUnmount(()=>{L(),document.removeEventListener(TOOLTIP_V2_OPEN,de)}),provide(tooltipV2RootKey,{contentId:j,triggerRef:y,ns:z,onClose:de,onDelayOpen:oe,onOpen:ae}),e({onOpen:ae,onClose:de}),(pe,he)=>renderSlot(pe.$slots,"default",{open:unref(k)})}});var TooltipV2Root=_export_sfc$1(_sfc_main$1r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const __default__$e=defineComponent({name:"ElTooltipV2Arrow"}),_sfc_main$1q=defineComponent({...__default__$e,props:{...tooltipV2ArrowProps,...tooltipV2ArrowSpecialProps},setup(n){const e=n,{ns:r}=inject(tooltipV2RootKey),{arrowRef:g}=inject(tooltipV2ContentKey),y=computed(()=>{const{style:k,width:$,height:V}=e,L=r.namespace.value;return{[`--${L}-tooltip-v2-arrow-width`]:`${$}px`,[`--${L}-tooltip-v2-arrow-height`]:`${V}px`,[`--${L}-tooltip-v2-arrow-border-width`]:`${$/2}px`,[`--${L}-tooltip-v2-arrow-cover-width`]:$/2-1,...k||{}}});return(k,$)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:g,style:normalizeStyle(unref(y)),class:normalizeClass(unref(r).e("arrow"))},null,6))}});var TooltipV2Arrow=_export_sfc$1(_sfc_main$1q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const visualHiddenProps=buildProps({style:{type:definePropType([String,Object,Array]),default:()=>({})}}),__default__$d=defineComponent({name:"ElVisuallyHidden"}),_sfc_main$1p=defineComponent({...__default__$d,props:visualHiddenProps,setup(n){const e=n,r=computed(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(g,y)=>(openBlock(),createElementBlock("span",mergeProps(g.$attrs,{style:unref(r)}),[renderSlot(g.$slots,"default")],16))}});var ElVisuallyHidden=_export_sfc$1(_sfc_main$1p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const _hoisted_1$1f=["data-side"],__default__$c=defineComponent({name:"ElTooltipV2Content"}),_sfc_main$1o=defineComponent({...__default__$c,props:{...tooltipV2ContentProps,...tooltipV2CommonProps},setup(n){const e=n,{triggerRef:r,contentId:g}=inject(tooltipV2RootKey),y=ref(e.placement),k=ref(e.strategy),$=ref(null),{referenceRef:V,contentRef:L,middlewareData:z,x:j,y:re,update:oe}=useFloating({placement:y,strategy:k,middleware:computed(()=>{const $e=[offset(e.offset)];return e.showArrow&&$e.push(arrowMiddleware({arrowRef:$})),$e})}),ae=useZIndex().nextZIndex(),de=useNamespace("tooltip-v2"),ue=computed(()=>y.value.split("-")[0]),pe=computed(()=>({position:unref(k),top:`${unref(re)||0}px`,left:`${unref(j)||0}px`,zIndex:ae})),he=computed(()=>{if(!e.showArrow)return{};const{arrow:$e}=unref(z);return{[`--${de.namespace.value}-tooltip-v2-arrow-x`]:`${$e?.x}px`||"",[`--${de.namespace.value}-tooltip-v2-arrow-y`]:`${$e?.y}px`||""}}),xe=computed(()=>[de.e("content"),de.is("dark",e.effect==="dark"),de.is(unref(k)),e.contentClass]);return watch($,()=>oe()),watch(()=>e.placement,$e=>y.value=$e),onMounted(()=>{watch(()=>e.reference||r.value,$e=>{V.value=$e||void 0},{immediate:!0})}),provide(tooltipV2ContentKey,{arrowRef:$}),($e,Ne)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:L,style:normalizeStyle(unref(pe)),"data-tooltip-v2-root":""},[$e.nowrap?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,"data-side":unref(ue),class:normalizeClass(unref(xe))},[renderSlot($e.$slots,"default",{contentStyle:unref(pe),contentClass:unref(xe)}),createVNode(unref(ElVisuallyHidden),{id:unref(g),role:"tooltip"},{default:withCtx(()=>[$e.ariaLabel?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1($e.ariaLabel),1)],64)):renderSlot($e.$slots,"default",{key:1})]),_:3},8,["id"]),renderSlot($e.$slots,"arrow",{style:normalizeStyle(unref(he)),side:unref(ue)})],10,_hoisted_1$1f))],4))}});var TooltipV2Content=_export_sfc$1(_sfc_main$1o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const forwardRefProps=buildProps({setRef:{type:definePropType(Function),required:!0},onlyChild:Boolean});var ForwardRef=defineComponent({props:forwardRefProps,setup(n,{slots:e}){const r=ref(),g=composeRefs(r,y=>{y?n.setRef(y.nextElementSibling):n.setRef(null)});return()=>{var y;const[k]=((y=e.default)==null?void 0:y.call(e))||[],$=n.onlyChild?ensureOnlyChild(k.children):k.children;return createVNode(Fragment,{ref:g},[$])}}});const __default__$b=defineComponent({name:"ElTooltipV2Trigger"}),_sfc_main$1n=defineComponent({...__default__$b,props:{...tooltipV2CommonProps,...tooltipV2TriggerProps},setup(n){const e=n,{onClose:r,onOpen:g,onDelayOpen:y,triggerRef:k,contentId:$}=inject(tooltipV2RootKey);let V=!1;const L=xe=>{k.value=xe},z=()=>{V=!1},j=composeEventHandlers(e.onMouseEnter,y),re=composeEventHandlers(e.onMouseLeave,r),oe=composeEventHandlers(e.onMouseDown,()=>{r(),V=!0,document.addEventListener("mouseup",z,{once:!0})}),ae=composeEventHandlers(e.onFocus,()=>{V||g()}),de=composeEventHandlers(e.onBlur,r),ue=composeEventHandlers(e.onClick,xe=>{xe.detail===0&&r()}),pe={blur:de,click:ue,focus:ae,mousedown:oe,mouseenter:j,mouseleave:re},he=(xe,$e,Ne)=>{xe&&Object.entries($e).forEach(([Oe,_e])=>{xe[Ne](Oe,_e)})};return watch(k,(xe,$e)=>{he(xe,pe,"addEventListener"),he($e,pe,"removeEventListener"),xe&&xe.setAttribute("aria-describedby",$.value)}),onBeforeUnmount(()=>{he(k.value,pe,"removeEventListener"),document.removeEventListener("mouseup",z)}),(xe,$e)=>xe.nowrap?(openBlock(),createBlock(unref(ForwardRef),{key:0,"set-ref":L,"only-child":""},{default:withCtx(()=>[renderSlot(xe.$slots,"default")]),_:3})):(openBlock(),createElementBlock("button",mergeProps({key:1,ref_key:"triggerRef",ref:k},xe.$attrs),[renderSlot(xe.$slots,"default")],16))}});var TooltipV2Trigger=_export_sfc$1(_sfc_main$1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const __default__$a=defineComponent({name:"ElTooltipV2"}),_sfc_main$1m=defineComponent({...__default__$a,props:tooltipV2Props,setup(n){const r=toRefs(n),g=reactive(pick(r,Object.keys(tooltipV2ArrowProps))),y=reactive(pick(r,Object.keys(tooltipV2ContentProps))),k=reactive(pick(r,Object.keys(tooltipV2RootProps))),$=reactive(pick(r,Object.keys(tooltipV2TriggerProps)));return(V,L)=>(openBlock(),createBlock(TooltipV2Root,normalizeProps(guardReactiveProps(k)),{default:withCtx(({open:z})=>[createVNode(TooltipV2Trigger,mergeProps($,{nowrap:""}),{default:withCtx(()=>[renderSlot(V.$slots,"trigger")]),_:3},16),(openBlock(),createBlock(Teleport,{to:V.to,disabled:!V.teleported},[V.fullTransition?(openBlock(),createBlock(Transition,normalizeProps(mergeProps({key:0},V.transitionProps)),{default:withCtx(()=>[V.alwaysOn||z?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},y)),{arrow:withCtx(({style:j,side:re})=>[V.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},g,{style:j,side:re}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)]),_:2},1040)):(openBlock(),createElementBlock(Fragment,{key:1},[V.alwaysOn||z?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},y)),{arrow:withCtx(({style:j,side:re})=>[V.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},g,{style:j,side:re}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var TooltipV2=_export_sfc$1(_sfc_main$1m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const ElTooltipV2=withInstall(TooltipV2),LEFT_CHECK_CHANGE_EVENT="left-check-change",RIGHT_CHECK_CHANGE_EVENT="right-check-change",transferProps=buildProps({data:{type:definePropType(Array),default:()=>[]},titles:{type:definePropType(Array),default:()=>[]},buttonTexts:{type:definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:definePropType(Function)},leftDefaultChecked:{type:definePropType(Array),default:()=>[]},rightDefaultChecked:{type:definePropType(Array),default:()=>[]},renderContent:{type:definePropType(Function)},modelValue:{type:definePropType(Array),default:()=>[]},format:{type:definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:definePropType(Object),default:()=>mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),transferCheckedChangeFn=(n,e)=>[n,e].every(isArray$3)||isArray$3(n)&&isNil(e),transferEmits={[CHANGE_EVENT]:(n,e,r)=>[n,r].every(isArray$3)&&["left","right"].includes(e),[UPDATE_MODEL_EVENT]:n=>isArray$3(n),[LEFT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn,[RIGHT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn},CHECKED_CHANGE_EVENT="checked-change",transferPanelProps=buildProps({data:transferProps.data,optionRender:{type:definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:transferProps.format,filterMethod:transferProps.filterMethod,defaultChecked:transferProps.leftDefaultChecked,props:transferProps.props}),transferPanelEmits={[CHECKED_CHANGE_EVENT]:transferCheckedChangeFn},usePropsAlias=n=>{const e={label:"label",key:"key",disabled:"disabled"};return computed(()=>({...e,...n.props}))},useCheck$1=(n,e,r)=>{const g=usePropsAlias(n),y=computed(()=>n.data.filter(j=>isFunction$3(n.filterMethod)?n.filterMethod(e.query,j):String(j[g.value.label]||j[g.value.key]).toLowerCase().includes(e.query.toLowerCase()))),k=computed(()=>y.value.filter(j=>!j[g.value.disabled])),$=computed(()=>{const j=e.checked.length,re=n.data.length,{noChecked:oe,hasChecked:ae}=n.format;return oe&&ae?j>0?ae.replace(/\${checked}/g,j.toString()).replace(/\${total}/g,re.toString()):oe.replace(/\${total}/g,re.toString()):`${j}/${re}`}),V=computed(()=>{const j=e.checked.length;return j>0&&j<k.value.length}),L=()=>{const j=k.value.map(re=>re[g.value.key]);e.allChecked=j.length>0&&j.every(re=>e.checked.includes(re))},z=j=>{e.checked=j?k.value.map(re=>re[g.value.key]):[]};return watch(()=>e.checked,(j,re)=>{if(L(),e.checkChangeByUser){const oe=j.concat(re).filter(ae=>!j.includes(ae)||!re.includes(ae));r(CHECKED_CHANGE_EVENT,j,oe)}else r(CHECKED_CHANGE_EVENT,j),e.checkChangeByUser=!0}),watch(k,()=>{L()}),watch(()=>n.data,()=>{const j=[],re=y.value.map(oe=>oe[g.value.key]);e.checked.forEach(oe=>{re.includes(oe)&&j.push(oe)}),e.checkChangeByUser=!1,e.checked=j}),watch(()=>n.defaultChecked,(j,re)=>{if(re&&j.length===re.length&&j.every(de=>re.includes(de)))return;const oe=[],ae=k.value.map(de=>de[g.value.key]);j.forEach(de=>{ae.includes(de)&&oe.push(de)}),e.checkChangeByUser=!1,e.checked=oe},{immediate:!0}),{filteredData:y,checkableData:k,checkedSummary:$,isIndeterminate:V,updateAllChecked:L,handleAllCheckedChange:z}},useCheckedChange=(n,e)=>({onSourceCheckedChange:(y,k)=>{n.leftChecked=y,k&&e(LEFT_CHECK_CHANGE_EVENT,y,k)},onTargetCheckedChange:(y,k)=>{n.rightChecked=y,k&&e(RIGHT_CHECK_CHANGE_EVENT,y,k)}}),useComputedData=n=>{const e=usePropsAlias(n),r=computed(()=>n.data.reduce((k,$)=>(k[$[e.value.key]]=$)&&k,{})),g=computed(()=>n.data.filter(k=>!n.modelValue.includes(k[e.value.key]))),y=computed(()=>n.targetOrder==="original"?n.data.filter(k=>n.modelValue.includes(k[e.value.key])):n.modelValue.reduce((k,$)=>{const V=r.value[$];return V&&k.push(V),k},[]));return{sourceData:g,targetData:y}},useMove=(n,e,r)=>{const g=usePropsAlias(n),y=(V,L,z)=>{r(UPDATE_MODEL_EVENT,V),r(CHANGE_EVENT,V,L,z)};return{addToLeft:()=>{const V=n.modelValue.slice();e.rightChecked.forEach(L=>{const z=V.indexOf(L);z>-1&&V.splice(z,1)}),y(V,"left",e.rightChecked)},addToRight:()=>{let V=n.modelValue.slice();const L=n.data.filter(z=>{const j=z[g.value.key];return e.leftChecked.includes(j)&&!n.modelValue.includes(j)}).map(z=>z[g.value.key]);V=n.targetOrder==="unshift"?L.concat(V):V.concat(L),n.targetOrder==="original"&&(V=n.data.filter(z=>V.includes(z[g.value.key])).map(z=>z[g.value.key])),y(V,"right",e.leftChecked)}}},__default__$9=defineComponent({name:"ElTransferPanel"}),_sfc_main$1l=defineComponent({...__default__$9,props:transferPanelProps,emits:transferPanelEmits,setup(n,{expose:e,emit:r}){const g=n,y=useSlots(),k=({option:$e})=>$e,{t:$}=useLocale(),V=useNamespace("transfer"),L=reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),z=usePropsAlias(g),{filteredData:j,checkedSummary:re,isIndeterminate:oe,handleAllCheckedChange:ae}=useCheck$1(g,L,r),de=computed(()=>!isEmpty(L.query)&&isEmpty(j.value)),ue=computed(()=>!isEmpty(y.default()[0].children)),{checked:pe,allChecked:he,query:xe}=toRefs(L);return e({query:xe}),($e,Ne)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V).b("panel"))},[createBaseVNode("p",{class:normalizeClass(unref(V).be("panel","header"))},[createVNode(unref(ElCheckbox),{modelValue:unref(he),"onUpdate:modelValue":Ne[0]||(Ne[0]=Oe=>isRef(he)?he.value=Oe:null),indeterminate:unref(oe),"validate-event":!1,onChange:unref(ae)},{default:withCtx(()=>[createTextVNode(toDisplayString$1($e.title)+" ",1),createBaseVNode("span",null,toDisplayString$1(unref(re)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),createBaseVNode("div",{class:normalizeClass([unref(V).be("panel","body"),unref(V).is("with-footer",unref(ue))])},[$e.filterable?(openBlock(),createBlock(unref(ElInput),{key:0,modelValue:unref(xe),"onUpdate:modelValue":Ne[1]||(Ne[1]=Oe=>isRef(xe)?xe.value=Oe:null),class:normalizeClass(unref(V).be("panel","filter")),size:"default",placeholder:$e.placeholder,"prefix-icon":unref(search_default),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):createCommentVNode("v-if",!0),withDirectives(createVNode(unref(ElCheckboxGroup$1),{modelValue:unref(pe),"onUpdate:modelValue":Ne[2]||(Ne[2]=Oe=>isRef(pe)?pe.value=Oe:null),"validate-event":!1,class:normalizeClass([unref(V).is("filterable",$e.filterable),unref(V).be("panel","list")])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),Oe=>(openBlock(),createBlock(unref(ElCheckbox),{key:Oe[unref(z).key],class:normalizeClass(unref(V).be("panel","item")),label:Oe[unref(z).key],disabled:Oe[unref(z).disabled],"validate-event":!1},{default:withCtx(()=>{var _e;return[createVNode(k,{option:(_e=$e.optionRender)==null?void 0:_e.call($e,Oe)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[vShow,!unref(de)&&!unref(isEmpty)($e.data)]]),withDirectives(createBaseVNode("p",{class:normalizeClass(unref(V).be("panel","empty"))},toDisplayString$1(unref(de)?unref($)("el.transfer.noMatch"):unref($)("el.transfer.noData")),3),[[vShow,unref(de)||unref(isEmpty)($e.data)]])],2),unref(ue)?(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(V).be("panel","footer"))},[renderSlot($e.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var TransferPanel=_export_sfc$1(_sfc_main$1l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const _hoisted_1$1e={key:0},_hoisted_2$18={key:0},__default__$8=defineComponent({name:"ElTransfer"}),_sfc_main$1k=defineComponent({...__default__$8,props:transferProps,emits:transferEmits,setup(n,{expose:e,emit:r}){const g=n,y=useSlots(),{t:k}=useLocale(),$=useNamespace("transfer"),{formItem:V}=useFormItem(),L=reactive({leftChecked:[],rightChecked:[]}),z=usePropsAlias(g),{sourceData:j,targetData:re}=useComputedData(g),{onSourceCheckedChange:oe,onTargetCheckedChange:ae}=useCheckedChange(L,r),{addToLeft:de,addToRight:ue}=useMove(g,L,r),pe=ref(),he=ref(),xe=Ue=>{switch(Ue){case"left":pe.value.query="";break;case"right":he.value.query="";break}},$e=computed(()=>g.buttonTexts.length===2),Ne=computed(()=>g.titles[0]||k("el.transfer.titles.0")),Oe=computed(()=>g.titles[1]||k("el.transfer.titles.1")),_e=computed(()=>g.filterPlaceholder||k("el.transfer.filterPlaceholder"));watch(()=>g.modelValue,()=>{var Ue;g.validateEvent&&((Ue=V?.validate)==null||Ue.call(V,"change").catch(kt=>void 0))});const Fe=computed(()=>Ue=>g.renderContent?g.renderContent(h$1,Ue):y.default?y.default({option:Ue}):h$1("span",Ue[z.value.label]||Ue[z.value.key]));return e({clearQuery:xe,leftPanel:pe,rightPanel:he}),(Ue,kt)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($).b())},[createVNode(TransferPanel,{ref_key:"leftPanel",ref:pe,data:unref(j),"option-render":unref(Fe),placeholder:unref(_e),title:unref(Ne),filterable:Ue.filterable,format:Ue.format,"filter-method":Ue.filterMethod,"default-checked":Ue.leftDefaultChecked,props:g.props,onCheckedChange:unref(oe)},{default:withCtx(()=>[renderSlot(Ue.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),createBaseVNode("div",{class:normalizeClass(unref($).e("buttons"))},[createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref($).e("button"),unref($).is("with-texts",unref($e))]),disabled:unref(isEmpty)(L.rightChecked),onClick:unref(de)},{default:withCtx(()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1}),unref(isUndefined)(Ue.buttonTexts[0])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_1$1e,toDisplayString$1(Ue.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref($).e("button"),unref($).is("with-texts",unref($e))]),disabled:unref(isEmpty)(L.leftChecked),onClick:unref(ue)},{default:withCtx(()=>[unref(isUndefined)(Ue.buttonTexts[1])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_2$18,toDisplayString$1(Ue.buttonTexts[1]),1)),createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),createVNode(TransferPanel,{ref_key:"rightPanel",ref:he,data:unref(re),"option-render":unref(Fe),placeholder:unref(_e),filterable:Ue.filterable,format:Ue.format,"filter-method":Ue.filterMethod,title:unref(Oe),"default-checked":Ue.rightDefaultChecked,props:g.props,onCheckedChange:unref(ae)},{default:withCtx(()=>[renderSlot(Ue.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Transfer=_export_sfc$1(_sfc_main$1k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const ElTransfer=withInstall(Transfer),NODE_KEY="$treeNodeId",markNodeData=function(n,e){!e||e[NODE_KEY]||Object.defineProperty(e,NODE_KEY,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=function(n,e){return n?e[n]:e[NODE_KEY]},handleCurrentChange=(n,e,r)=>{const g=n.value.currentNode;r();const y=n.value.currentNode;g!==y&&e("current-change",y?y.data:null,y)},getChildState=n=>{let e=!0,r=!0,g=!0;for(let y=0,k=n.length;y<k;y++){const $=n[y];($.checked!==!0||$.indeterminate)&&(e=!1,$.disabled||(g=!1)),($.checked!==!1||$.indeterminate)&&(r=!1)}return{all:e,none:r,allWithoutDisable:g,half:!e&&!r}},reInitChecked=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:r,half:g}=getChildState(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):g?(n.checked=!1,n.indeterminate=!0):r&&(n.checked=!1,n.indeterminate=!1);const y=n.parent;!y||y.level===0||n.store.checkStrictly||reInitChecked(y)},getPropertyFromData=function(n,e){const r=n.store.props,g=n.data||{},y=r[e];if(typeof y=="function")return y(g,n);if(typeof y=="string")return g[y];if(typeof y>"u"){const k=g[e];return k===void 0?"":k}};let nodeIdSeed=0,Node$1=class ga{constructor(e){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const r in e)hasOwn$1(e,r)&&(this[r]=e[r]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const r=e.props;if(r&&typeof r.isLeaf<"u"){const k=getPropertyFromData(this,"isLeaf");typeof k=="boolean"&&(this.isLeafByUser=k)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||markNodeData(this,this.data),!this.data)return;const g=e.defaultExpandedKeys,y=e.key;y&&g&&g.includes(this.key)&&this.expand(null,e.autoExpandParent),y&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||markNodeData(this,e),this.data=e,this.childNodes=[];let r;this.level===0&&Array.isArray(this.data)?r=this.data:r=getPropertyFromData(this,"children")||[];for(let g=0,y=r.length;g<y;g++)this.insertChild({data:r[g]})}get label(){return getPropertyFromData(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const r=e.childNodes.indexOf(this);if(r>-1)return e.childNodes[r+1]}return null}get previousSibling(){const e=this.parent;if(e){const r=e.childNodes.indexOf(this);if(r>-1)return r>0?e.childNodes[r-1]:null}return null}contains(e,r=!0){return(this.childNodes||[]).some(g=>g===e||r&&g.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,r,g){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof ga)){if(!g){const y=this.getChildren(!0);y.includes(e.data)||(typeof r>"u"||r<0?y.push(e.data):y.splice(r,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=reactive(new ga(e)),e instanceof ga&&e.initialize()}e.level=this.level+1,typeof r>"u"||r<0?this.childNodes.push(e):this.childNodes.splice(r,0,e),this.updateLeafState()}insertBefore(e,r){let g;r&&(g=this.childNodes.indexOf(r)),this.insertChild(e,g)}insertAfter(e,r){let g;r&&(g=this.childNodes.indexOf(r),g!==-1&&(g+=1)),this.insertChild(e,g)}removeChild(e){const r=this.getChildren()||[],g=r.indexOf(e.data);g>-1&&r.splice(g,1);const y=this.childNodes.indexOf(e);y>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(y,1)),this.updateLeafState()}removeChildByData(e){let r=null;for(let g=0;g<this.childNodes.length;g++)if(this.childNodes[g].data===e){r=this.childNodes[g];break}r&&this.removeChild(r)}expand(e,r){const g=()=>{if(r){let y=this.parent;for(;y.level>0;)y.expanded=!0,y=y.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(y=>{y.canFocus=!0})};this.shouldLoadData()?this.loadData(y=>{Array.isArray(y)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),g())}):g()}doCreateChildren(e,r={}){e.forEach(g=>{this.insertChild(Object.assign({data:g},r),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,r,g,y){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:$,allWithoutDisable:V}=getChildState(this.childNodes);!this.isLeaf&&!$&&V&&(this.checked=!1,e=!1);const L=()=>{if(r){const z=this.childNodes;for(let oe=0,ae=z.length;oe<ae;oe++){const de=z[oe];y=y||e!==!1;const ue=de.disabled?de.checked:y;de.setChecked(ue,r,!0,y)}const{half:j,all:re}=getChildState(z);re||(this.checked=re,this.indeterminate=j)}};if(this.shouldLoadData()){this.loadData(()=>{L(),reInitChecked(this)},{checked:e!==!1});return}else L()}const k=this.parent;!k||k.level===0||g||reInitChecked(k)}getChildren(e=!1){if(this.level===0)return this.data;const r=this.data;if(!r)return null;const g=this.store.props;let y="children";return g&&(y=g.children||"children"),r[y]===void 0&&(r[y]=null),e&&!r[y]&&(r[y]=[]),r[y]}updateChildren(){const e=this.getChildren()||[],r=this.childNodes.map(k=>k.data),g={},y=[];e.forEach((k,$)=>{const V=k[NODE_KEY];!!V&&r.findIndex(z=>z[NODE_KEY]===V)>=0?g[V]={index:$,data:k}:y.push({index:$,data:k})}),this.store.lazy||r.forEach(k=>{g[k[NODE_KEY]]||this.removeChildByData(k)}),y.forEach(({index:k,data:$})=>{this.insertChild({data:$},k)}),this.updateLeafState()}loadData(e,r={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(r).length)){this.loading=!0;const g=y=>{this.childNodes=[],this.doCreateChildren(y,r),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,y)};this.store.load(this,g)}else e&&e.call(this)}};class TreeStore{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const r in e)hasOwn$1(e,r)&&(this[r]=e[r]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,r=>{this.root.doCreateChildren(r),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const r=this.filterNodeMethod,g=this.lazy,y=function(k){const $=k.root?k.root.childNodes:k.childNodes;if($.forEach(V=>{V.visible=r.call(V,e,V.data,V),y(V)}),!k.visible&&$.length){let V=!0;V=!$.some(L=>L.visible),k.root?k.root.visible=V===!1:k.visible=V===!1}e&&k.visible&&!k.isLeaf&&!g&&k.expand()};y(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Node$1)return e;const r=isObject$3(e)?getNodeKey(this.key,e):e;return this.nodesMap[r]||null}insertBefore(e,r){const g=this.getNode(r);g.parent.insertBefore({data:e},g)}insertAfter(e,r){const g=this.getNode(r);g.parent.insertAfter({data:e},g)}remove(e){const r=this.getNode(e);r&&r.parent&&(r===this.currentNode&&(this.currentNode=null),r.parent.removeChild(r))}append(e,r){const g=r?this.getNode(r):this.root;g&&g.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],r=this.nodesMap;e.forEach(g=>{const y=r[g];y&&y.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const r=this.key;!e||!e.data||(r?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(g=>{this.deregisterNode(g)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,r=!1){const g=[],y=function(k){(k.root?k.root.childNodes:k.childNodes).forEach(V=>{(V.checked||r&&V.indeterminate)&&(!e||e&&V.isLeaf)&&g.push(V.data),y(V)})};return y(this),g}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(r=>(r||{})[this.key])}getHalfCheckedNodes(){const e=[],r=function(g){(g.root?g.root.childNodes:g.childNodes).forEach(k=>{k.indeterminate&&e.push(k.data),r(k)})};return r(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],r=this.nodesMap;for(const g in r)hasOwn$1(r,g)&&e.push(r[g]);return e}updateChildren(e,r){const g=this.nodesMap[e];if(!g)return;const y=g.childNodes;for(let k=y.length-1;k>=0;k--){const $=y[k];this.remove($.data)}for(let k=0,$=r.length;k<$;k++){const V=r[k];this.append(V,g.data)}}_setCheckedKeys(e,r=!1,g){const y=this._getAllNodes().sort((V,L)=>L.level-V.level),k=Object.create(null),$=Object.keys(g);y.forEach(V=>V.setChecked(!1,!1));for(let V=0,L=y.length;V<L;V++){const z=y[V],j=z.data[e].toString();if(!$.includes(j)){z.checked&&!k[j]&&z.setChecked(!1,!1);continue}let oe=z.parent;for(;oe&&oe.level>0;)k[oe.data[e]]=!0,oe=oe.parent;if(z.isLeaf||this.checkStrictly){z.setChecked(!0,!1);continue}if(z.setChecked(!0,!0),r){z.setChecked(!1,!1);const ae=function(de){de.childNodes.forEach(pe=>{pe.isLeaf||pe.setChecked(!1,!1),ae(pe)})};ae(z)}}}setCheckedNodes(e,r=!1){const g=this.key,y={};e.forEach(k=>{y[(k||{})[g]]=!0}),this._setCheckedKeys(g,r,y)}setCheckedKeys(e,r=!1){this.defaultCheckedKeys=e;const g=this.key,y={};e.forEach(k=>{y[k]=!0}),this._setCheckedKeys(g,r,y)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(r=>{const g=this.getNode(r);g&&g.expand(null,this.autoExpandParent)})}setChecked(e,r,g){const y=this.getNode(e);y&&y.setChecked(!!r,g)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const r=this.currentNode;r&&(r.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,r=!0){const g=e[this.key],y=this.nodesMap[g];this.setCurrentNode(y),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,r=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const g=this.getNode(e);g&&(this.setCurrentNode(g),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _sfc_main$1j=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=useNamespace("tree"),r=inject("NodeInstance"),g=inject("RootTree");return()=>{const y=n.node,{data:k,store:$}=y;return n.renderContent?n.renderContent(h$1,{_self:r,node:y,data:k,store:$}):g.ctx.slots.default?g.ctx.slots.default({node:y,data:k}):h$1("span",{class:e.be("node","label")},[y.label])}}});var NodeContent=_export_sfc$1(_sfc_main$1j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function useNodeExpandEventBroadcast(n){const e=inject("TreeNodeMap",null),r={treeNodeExpand:g=>{n.node!==g&&n.node.collapse()},children:[]};return e&&e.children.push(r),provide("TreeNodeMap",r),{broadcastExpanded:g=>{if(n.accordion)for(const y of r.children)y.treeNodeExpand(g)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:n,ctx:e,el$:r,dropIndicator$:g,store:y}){const k=useNamespace("tree"),$=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:j,treeNode:re})=>{if(typeof n.allowDrag=="function"&&!n.allowDrag(re.node))return j.preventDefault(),!1;j.dataTransfer.effectAllowed="move";try{j.dataTransfer.setData("text/plain","")}catch{}$.value.draggingNode=re,e.emit("node-drag-start",re.node,j)},treeNodeDragOver:({event:j,treeNode:re})=>{const oe=re,ae=$.value.dropNode;ae&&ae.node.id!==oe.node.id&&removeClass(ae.$el,k.is("drop-inner"));const de=$.value.draggingNode;if(!de||!oe)return;let ue=!0,pe=!0,he=!0,xe=!0;typeof n.allowDrop=="function"&&(ue=n.allowDrop(de.node,oe.node,"prev"),xe=pe=n.allowDrop(de.node,oe.node,"inner"),he=n.allowDrop(de.node,oe.node,"next")),j.dataTransfer.dropEffect=pe||ue||he?"move":"none",(ue||pe||he)&&ae?.node.id!==oe.node.id&&(ae&&e.emit("node-drag-leave",de.node,ae.node,j),e.emit("node-drag-enter",de.node,oe.node,j)),(ue||pe||he)&&($.value.dropNode=oe),oe.node.nextSibling===de.node&&(he=!1),oe.node.previousSibling===de.node&&(ue=!1),oe.node.contains(de.node,!1)&&(pe=!1),(de.node===oe.node||de.node.contains(oe.node))&&(ue=!1,pe=!1,he=!1);const $e=oe.$el.querySelector(`.${k.be("node","content")}`).getBoundingClientRect(),Ne=r.value.getBoundingClientRect();let Oe;const _e=ue?pe?.25:he?.45:1:-1,Fe=he?pe?.75:ue?.55:0:1;let Ue=-9999;const kt=j.clientY-$e.top;kt<$e.height*_e?Oe="before":kt>$e.height*Fe?Oe="after":pe?Oe="inner":Oe="none";const Lt=oe.$el.querySelector(`.${k.be("node","expand-icon")}`).getBoundingClientRect(),wn=g.value;Oe==="before"?Ue=Lt.top-Ne.top:Oe==="after"&&(Ue=Lt.bottom-Ne.top),wn.style.top=`${Ue}px`,wn.style.left=`${Lt.right-Ne.left}px`,Oe==="inner"?addClass(oe.$el,k.is("drop-inner")):removeClass(oe.$el,k.is("drop-inner")),$.value.showDropIndicator=Oe==="before"||Oe==="after",$.value.allowDrop=$.value.showDropIndicator||xe,$.value.dropType=Oe,e.emit("node-drag-over",de.node,oe.node,j)},treeNodeDragEnd:j=>{const{draggingNode:re,dropType:oe,dropNode:ae}=$.value;if(j.preventDefault(),j.dataTransfer.dropEffect="move",re&&ae){const de={data:re.node.data};oe!=="none"&&re.node.remove(),oe==="before"?ae.node.parent.insertBefore(de,ae.node):oe==="after"?ae.node.parent.insertAfter(de,ae.node):oe==="inner"&&ae.node.insertChild(de),oe!=="none"&&y.value.registerNode(de),removeClass(ae.$el,k.is("drop-inner")),e.emit("node-drag-end",re.node,ae.node,oe,j),oe!=="none"&&e.emit("node-drop",re.node,ae.node,oe,j)}re&&!ae&&e.emit("node-drag-end",re.node,null,oe,j),$.value.showDropIndicator=!1,$.value.draggingNode=null,$.value.dropNode=null,$.value.allowDrop=!0}}),{dragState:$}}const _sfc_main$1i=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition:_CollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const r=useNamespace("tree"),{broadcastExpanded:g}=useNodeExpandEventBroadcast(n),y=inject("RootTree"),k=ref(!1),$=ref(!1),V=ref(null),L=ref(null),z=ref(null),j=inject(dragEventsKey),re=getCurrentInstance();provide("NodeInstance",re),n.node.expanded&&(k.value=!0,$.value=!0);const oe=y.props.props.children||"children";watch(()=>{const kt=n.node.data[oe];return kt&&[...kt]},()=>{n.node.updateChildren()}),watch(()=>n.node.indeterminate,kt=>{ue(n.node.checked,kt)}),watch(()=>n.node.checked,kt=>{ue(kt,n.node.indeterminate)}),watch(()=>n.node.expanded,kt=>{nextTick(()=>k.value=kt),kt&&($.value=!0)});const ae=kt=>getNodeKey(y.props.nodeKey,kt.data),de=kt=>{const Lt=n.props.class;if(!Lt)return{};let wn;if(isFunction$3(Lt)){const{data:Et}=kt;wn=Lt(Et,kt)}else wn=Lt;return isString$3(wn)?{[wn]:!0}:wn},ue=(kt,Lt)=>{(V.value!==kt||L.value!==Lt)&&y.ctx.emit("check-change",n.node.data,kt,Lt),V.value=kt,L.value=Lt},pe=kt=>{handleCurrentChange(y.store,y.ctx.emit,()=>y.store.value.setCurrentNode(n.node)),y.currentNode.value=n.node,y.props.expandOnClickNode&&xe(),y.props.checkOnClickNode&&!n.node.disabled&&$e(null,{target:{checked:!n.node.checked}}),y.ctx.emit("node-click",n.node.data,n.node,re,kt)},he=kt=>{y.instance.vnode.props.onNodeContextmenu&&(kt.stopPropagation(),kt.preventDefault()),y.ctx.emit("node-contextmenu",kt,n.node.data,n.node,re)},xe=()=>{n.node.isLeaf||(k.value?(y.ctx.emit("node-collapse",n.node.data,n.node,re),n.node.collapse()):(n.node.expand(),e.emit("node-expand",n.node.data,n.node,re)))},$e=(kt,Lt)=>{n.node.setChecked(Lt.target.checked,!y.props.checkStrictly),nextTick(()=>{const wn=y.store.value;y.ctx.emit("check",n.node.data,{checkedNodes:wn.getCheckedNodes(),checkedKeys:wn.getCheckedKeys(),halfCheckedNodes:wn.getHalfCheckedNodes(),halfCheckedKeys:wn.getHalfCheckedKeys()})})};return{ns:r,node$:z,tree:y,expanded:k,childNodeRendered:$,oldChecked:V,oldIndeterminate:L,getNodeKey:ae,getNodeClass:de,handleSelectChange:ue,handleClick:pe,handleContextMenu:he,handleExpandIconClick:xe,handleCheckChange:$e,handleChildNodeExpand:(kt,Lt,wn)=>{g(Lt),y.ctx.emit("node-expand",kt,Lt,wn)},handleDragStart:kt=>{y.props.draggable&&j.treeNodeDragStart({event:kt,treeNode:n})},handleDragOver:kt=>{kt.preventDefault(),y.props.draggable&&j.treeNodeDragOver({event:kt,treeNode:{$el:z.value,node:n.node}})},handleDrop:kt=>{kt.preventDefault()},handleDragEnd:kt=>{y.props.draggable&&j.treeNodeDragEnd(kt)},CaretRight:caret_right_default}}}),_hoisted_1$1d=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_hoisted_2$17=["aria-expanded"];function _sfc_render$2(n,e,r,g,y,k){const $=resolveComponent("el-icon"),V=resolveComponent("el-checkbox"),L=resolveComponent("loading"),z=resolveComponent("node-content"),j=resolveComponent("el-tree-node"),re=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:e[1]||(e[1]=withModifiers((...oe)=>n.handleClick&&n.handleClick(...oe),["stop"])),onContextmenu:e[2]||(e[2]=(...oe)=>n.handleContextMenu&&n.handleContextMenu(...oe)),onDragstart:e[3]||(e[3]=withModifiers((...oe)=>n.handleDragStart&&n.handleDragStart(...oe),["stop"])),onDragover:e[4]||(e[4]=withModifiers((...oe)=>n.handleDragOver&&n.handleDragOver(...oe),["stop"])),onDragend:e[5]||(e[5]=withModifiers((...oe)=>n.handleDragEnd&&n.handleDragEnd(...oe),["stop"])),onDrop:e[6]||(e[6]=withModifiers((...oe)=>n.handleDrop&&n.handleDrop(...oe),["stop"]))},[createBaseVNode("div",{class:normalizeClass(n.ns.be("node","content")),style:normalizeStyle({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(openBlock(),createBlock($,{key:0,class:normalizeClass([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:withModifiers(n.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),n.showCheckbox?(openBlock(),createBlock(V,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:e[0]||(e[0]=withModifiers(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):createCommentVNode("v-if",!0),n.node.loading?(openBlock(),createBlock($,{key:2,class:normalizeClass([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:withCtx(()=>[createVNode(L)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(z,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),createVNode(re,null,{default:withCtx(()=>[!n.renderAfterExpand||n.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.node.childNodes,oe=>(openBlock(),createBlock(j,{key:n.getNodeKey(oe),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:oe,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,_hoisted_2$17)),[[vShow,n.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,_hoisted_1$1d)),[[vShow,n.node.visible]])}var ElTreeNode$1=_export_sfc$1(_sfc_main$1i,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function useKeydown({el$:n},e){const r=useNamespace("tree"),g=shallowRef([]),y=shallowRef([]);onMounted(()=>{$()}),onUpdated(()=>{g.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),y.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),watch(y,V=>{V.forEach(L=>{L.setAttribute("tabindex","-1")})}),useEventListener(n,"keydown",V=>{const L=V.target;if(!L.className.includes(r.b("node")))return;const z=V.code;g.value=Array.from(n.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`));const j=g.value.indexOf(L);let re;if([EVENT_CODE.up,EVENT_CODE.down].includes(z)){if(V.preventDefault(),z===EVENT_CODE.up){re=j===-1?0:j!==0?j-1:g.value.length-1;const ae=re;for(;!e.value.getNode(g.value[re].dataset.key).canFocus;){if(re--,re===ae){re=-1;break}re<0&&(re=g.value.length-1)}}else{re=j===-1?0:j<g.value.length-1?j+1:0;const ae=re;for(;!e.value.getNode(g.value[re].dataset.key).canFocus;){if(re++,re===ae){re=-1;break}re>=g.value.length&&(re=0)}}re!==-1&&g.value[re].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(z)&&(V.preventDefault(),L.click());const oe=L.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.space].includes(z)&&oe&&(V.preventDefault(),oe.click())});const $=()=>{var V;g.value=Array.from(n.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`)),y.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const L=n.value.querySelectorAll(`.${r.is("checked")}[role=treeitem]`);if(L.length){L[0].setAttribute("tabindex","0");return}(V=g.value[0])==null||V.setAttribute("tabindex","0")}}const _sfc_main$1h=defineComponent({name:"ElTree",components:{ElTreeNode:ElTreeNode$1},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t:r}=useLocale(),g=useNamespace("tree"),y=ref(new TreeStore({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));y.value.initialize();const k=ref(y.value.root),$=ref(null),V=ref(null),L=ref(null),{broadcastExpanded:z}=useNodeExpandEventBroadcast(n),{dragState:j}=useDragNodeHandler({props:n,ctx:e,el$:V,dropIndicator$:L,store:y});useKeydown({el$:V},y);const re=computed(()=>{const{childNodes:En}=k.value;return!En||En.length===0||En.every(({visible:Bn})=>!Bn)});watch(()=>n.currentNodeKey,En=>{y.value.setCurrentNodeKey(En)}),watch(()=>n.defaultCheckedKeys,En=>{y.value.setDefaultCheckedKey(En)}),watch(()=>n.defaultExpandedKeys,En=>{y.value.setDefaultExpandedKeys(En)}),watch(()=>n.data,En=>{y.value.setData(En)},{deep:!0}),watch(()=>n.checkStrictly,En=>{y.value.checkStrictly=En});const oe=En=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");y.value.filter(En)},ae=En=>getNodeKey(n.nodeKey,En.data),de=En=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const Bn=y.value.getNode(En);if(!Bn)return[];const $n=[Bn.data];let Wn=Bn.parent;for(;Wn&&Wn!==k.value;)$n.push(Wn.data),Wn=Wn.parent;return $n.reverse()},ue=(En,Bn)=>y.value.getCheckedNodes(En,Bn),pe=En=>y.value.getCheckedKeys(En),he=()=>{const En=y.value.getCurrentNode();return En?En.data:null},xe=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const En=he();return En?En[n.nodeKey]:null},$e=(En,Bn)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");y.value.setCheckedNodes(En,Bn)},Ne=(En,Bn)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");y.value.setCheckedKeys(En,Bn)},Oe=(En,Bn,$n)=>{y.value.setChecked(En,Bn,$n)},_e=()=>y.value.getHalfCheckedNodes(),Fe=()=>y.value.getHalfCheckedKeys(),Ue=(En,Bn=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange(y,e.emit,()=>y.value.setUserCurrentNode(En,Bn))},kt=(En,Bn=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange(y,e.emit,()=>y.value.setCurrentNodeKey(En,Bn))},Lt=En=>y.value.getNode(En),wn=En=>{y.value.remove(En)},Et=(En,Bn)=>{y.value.append(En,Bn)},xn=(En,Bn)=>{y.value.insertBefore(En,Bn)},jt=(En,Bn)=>{y.value.insertAfter(En,Bn)},An=(En,Bn,$n)=>{z(Bn),e.emit("node-expand",En,Bn,$n)},Dn=(En,Bn)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");y.value.updateChildren(En,Bn)};return provide("RootTree",{ctx:e,props:n,store:y,root:k,currentNode:$,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:g,store:y,root:k,currentNode:$,dragState:j,el$:V,dropIndicator$:L,isEmpty:re,filter:oe,getNodeKey:ae,getNodePath:de,getCheckedNodes:ue,getCheckedKeys:pe,getCurrentNode:he,getCurrentKey:xe,setCheckedNodes:$e,setCheckedKeys:Ne,setChecked:Oe,getHalfCheckedNodes:_e,getHalfCheckedKeys:Fe,setCurrentNode:Ue,setCurrentKey:kt,t:r,getNode:Lt,remove:wn,append:Et,insertBefore:xn,insertAfter:jt,handleNodeExpand:An,updateKeyChildren:Dn}}});function _sfc_render$1(n,e,r,g,y,k){const $=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.root.childNodes,V=>(openBlock(),createBlock($,{key:n.getNodeKey(V),node:V,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.e("empty-block"))},[renderSlot(n.$slots,"empty",{},()=>{var V;return[createBaseVNode("span",{class:normalizeClass(n.ns.e("empty-text"))},toDisplayString$1((V=n.emptyText)!=null?V:n.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(n.ns.e("drop-indicator"))},null,2),[[vShow,n.dragState.showDropIndicator]])],2)}var Tree$1=_export_sfc$1(_sfc_main$1h,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Tree$1.install=n=>{n.component(Tree$1.name,Tree$1)};const _Tree=Tree$1,ElTree=_Tree,useSelect=(n,{attrs:e},{tree:r,key:g})=>{const y=useNamespace("tree-select"),k={...pick(toRefs(n),Object.keys(ElSelect.props)),...e,valueKey:g,popperClass:computed(()=>{const $=[y.e("popper")];return n.popperClass&&$.push(n.popperClass),$.join(" ")}),filterMethod:($="")=>{n.filterMethod&&n.filterMethod($),nextTick(()=>{var V;(V=r.value)==null||V.filter($)})},onVisibleChange:$=>{var V;(V=e.onVisibleChange)==null||V.call(e,$),n.filterable&&$&&k.filterMethod()}};return k},component=defineComponent({extends:ElOption,setup(n,e){const r=ElOption.setup(n,e);delete r.selectOptionClick;const g=getCurrentInstance().proxy;return nextTick(()=>{r.select.cachedOptions.get(g.value)||r.select.onOptionCreate(g)}),r},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(n){return n||n===0}function isValidArray(n){return Array.isArray(n)&&n.length}function toValidArray(n){return Array.isArray(n)?n:isValidValue(n)?[n]:[]}function treeFind(n,e,r,g,y){for(let k=0;k<n.length;k++){const $=n[k];if(e($,k,n,y))return g?g($,k,n,y):$;{const V=r($);if(isValidArray(V)){const L=treeFind(V,e,r,g,$);if(L)return L}}}}function treeEach(n,e,r,g){for(let y=0;y<n.length;y++){const k=n[y];e(k,y,n,g);const $=r(k);isValidArray($)&&treeEach($,e,r,k)}}const useTree$1=(n,{attrs:e,slots:r,emit:g},{select:y,tree:k,key:$})=>{watch(()=>n.modelValue,()=>{n.showCheckbox&&nextTick(()=>{const oe=k.value;oe&&!isEqual$1(oe.getCheckedKeys(),toValidArray(n.modelValue))&&oe.setCheckedKeys(toValidArray(n.modelValue))})},{immediate:!0,deep:!0});const V=computed(()=>({value:$.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...n.props})),L=(oe,ae)=>{var de;const ue=V.value[oe];return isFunction$3(ue)?ue(ae,(de=k.value)==null?void 0:de.getNode(L("value",ae))):ae[ue]},z=toValidArray(n.modelValue).map(oe=>treeFind(n.data||[],ae=>L("value",ae)===oe,ae=>L("children",ae),(ae,de,ue,pe)=>pe&&L("value",pe))).filter(oe=>isValidValue(oe)),j=computed(()=>{if(!n.renderAfterExpand&&!n.lazy)return[];const oe=[];return treeEach(n.data.concat(n.cacheData),ae=>{const de=L("value",ae);oe.push({value:de,currentLabel:L("label",ae),isDisabled:L("disabled",ae)})},ae=>L("children",ae)),oe}),re=computed(()=>j.value.reduce((oe,ae)=>({...oe,[ae.value]:ae}),{}));return{...pick(toRefs(n),Object.keys(_Tree.props)),...e,nodeKey:$,expandOnClickNode:computed(()=>!n.checkStrictly&&n.expandOnClickNode),defaultExpandedKeys:computed(()=>n.defaultExpandedKeys?n.defaultExpandedKeys.concat(z):z),renderContent:(oe,{node:ae,data:de,store:ue})=>oe(component,{value:L("value",de),label:L("label",de),disabled:L("disabled",de)},n.renderContent?()=>n.renderContent(oe,{node:ae,data:de,store:ue}):r.default?()=>r.default({node:ae,data:de,store:ue}):void 0),filterNodeMethod:(oe,ae,de)=>{var ue;return n.filterNodeMethod?n.filterNodeMethod(oe,ae,de):oe?(ue=L("label",ae))==null?void 0:ue.includes(oe):!0},onNodeClick:(oe,ae,de)=>{var ue,pe,he;if((ue=e.onNodeClick)==null||ue.call(e,oe,ae,de),!(n.showCheckbox&&n.checkOnClickNode))if(!n.showCheckbox&&(n.checkStrictly||ae.isLeaf)){if(!L("disabled",oe)){const xe=(pe=y.value)==null?void 0:pe.options.get(L("value",oe));(he=y.value)==null||he.handleOptionSelect(xe)}}else n.expandOnClickNode&&de.proxy.handleExpandIconClick()},onCheck:(oe,ae)=>{if(!n.showCheckbox)return;const de=L("value",oe),ue=ae.checkedKeys,pe=n.multiple?toValidArray(n.modelValue).filter(xe=>xe in re.value&&!k.value.getNode(xe)&&!ue.includes(xe)):[],he=ue.concat(pe);if(n.checkStrictly)g(UPDATE_MODEL_EVENT,n.multiple?he:he.includes(de)?de:void 0);else if(n.multiple)g(UPDATE_MODEL_EVENT,k.value.getCheckedKeys(!0));else{const xe=treeFind([oe],Oe=>!isValidArray(L("children",Oe))&&!L("disabled",Oe),Oe=>L("children",Oe)),$e=xe?L("value",xe):void 0,Ne=isValidValue(n.modelValue)&&!!treeFind([oe],Oe=>L("value",Oe)===n.modelValue,Oe=>L("children",Oe));g(UPDATE_MODEL_EVENT,$e===n.modelValue||Ne?void 0:$e)}nextTick(()=>{var xe;const $e=toValidArray(n.modelValue);k.value.setCheckedKeys($e),(xe=e.onCheck)==null||xe.call(e,oe,{checkedKeys:k.value.getCheckedKeys(),checkedNodes:k.value.getCheckedNodes(),halfCheckedKeys:k.value.getHalfCheckedKeys(),halfCheckedNodes:k.value.getHalfCheckedNodes()})})},cacheOptions:j}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(n){const e=inject(selectKey);return watch(()=>n.data,()=>{var r;n.data.forEach(y=>{e.cachedOptions.has(y.value)||e.cachedOptions.set(y.value,y)});const g=((r=e.selectWrapper)==null?void 0:r.querySelectorAll("input"))||[];Array.from(g).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$1g=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...ElSelect.props,..._Tree.props,cacheData:{type:Array,default:()=>[]}},setup(n,e){const{slots:r,expose:g}=e,y=ref(),k=ref(),$=computed(()=>n.nodeKey||n.valueKey||"value"),V=useSelect(n,e,{select:y,tree:k,key:$}),{cacheOptions:L,...z}=useTree$1(n,e,{select:y,tree:k,key:$}),j=reactive({});return g(j),onMounted(()=>{Object.assign(j,{...pick(k.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick(y.value,["focus","blur"])})}),()=>h$1(ElSelect,reactive({...V,ref:re=>y.value=re}),{...r,default:()=>[h$1(CacheOptions,{data:L.value}),h$1(_Tree,reactive({...z,ref:re=>k.value=re}))]})}});var TreeSelect=_export_sfc$1(_sfc_main$1g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);TreeSelect.install=n=>{n.component(TreeSelect.name,TreeSelect)};const _TreeSelect=TreeSelect,ElTreeSelect=_TreeSelect,ROOT_TREE_INJECTION_KEY=Symbol(),EMPTY_NODE={key:-1,level:-1,data:{}};var TreeOptionsEnum=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n))(TreeOptionsEnum||{}),SetOperationEnum=(n=>(n.ADD="add",n.DELETE="delete",n))(SetOperationEnum||{});const itemSize={type:Number,default:26},treeProps=buildProps({data:{type:definePropType(Array),default:()=>mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:definePropType(Object),default:()=>mutable({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:definePropType(Array),default:()=>mutable([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:definePropType(Array),default:()=>mutable([])},indent:{type:Number,default:16},itemSize,icon:{type:iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:definePropType([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:definePropType(Function)},perfMode:{type:Boolean,default:!0}}),treeNodeProps=buildProps({node:{type:definePropType(Object),default:()=>mutable(EMPTY_NODE)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize}),treeNodeContentProps=buildProps({node:{type:definePropType(Object),required:!0}}),NODE_CLICK="node-click",NODE_EXPAND="node-expand",NODE_COLLAPSE="node-collapse",CURRENT_CHANGE="current-change",NODE_CHECK="check",NODE_CHECK_CHANGE="check-change",NODE_CONTEXTMENU="node-contextmenu",treeEmits={[NODE_CLICK]:(n,e,r)=>n&&e&&r,[NODE_EXPAND]:(n,e)=>n&&e,[NODE_COLLAPSE]:(n,e)=>n&&e,[CURRENT_CHANGE]:(n,e)=>n&&e,[NODE_CHECK]:(n,e)=>n&&e,[NODE_CHECK_CHANGE]:(n,e)=>n&&typeof e=="boolean",[NODE_CONTEXTMENU]:(n,e,r)=>n&&e&&r},treeNodeEmits={click:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&typeof e=="boolean"};function useCheck(n,e){const r=ref(new Set),g=ref(new Set),{emit:y}=getCurrentInstance();watch([()=>e.value,()=>n.defaultCheckedKeys],()=>nextTick(()=>{xe(n.defaultCheckedKeys)}),{immediate:!0});const k=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:$e,maxLevel:Ne}=e.value,Oe=r.value,_e=new Set;for(let Fe=Ne-1;Fe>=1;--Fe){const Ue=$e.get(Fe);Ue&&Ue.forEach(kt=>{const Lt=kt.children;if(Lt){let wn=!0,Et=!1;for(const xn of Lt){const jt=xn.key;if(Oe.has(jt))Et=!0;else if(_e.has(jt)){wn=!1,Et=!0;break}else wn=!1}wn?Oe.add(kt.key):Et?(_e.add(kt.key),Oe.delete(kt.key)):(Oe.delete(kt.key),_e.delete(kt.key))}})}g.value=_e},$=$e=>r.value.has($e.key),V=$e=>g.value.has($e.key),L=($e,Ne,Oe=!0)=>{const _e=r.value,Fe=(Ue,kt)=>{_e[kt?SetOperationEnum.ADD:SetOperationEnum.DELETE](Ue.key);const Lt=Ue.children;!n.checkStrictly&&Lt&&Lt.forEach(wn=>{wn.disabled||Fe(wn,kt)})};Fe($e,Ne),k(),Oe&&z($e,Ne)},z=($e,Ne)=>{const{checkedNodes:Oe,checkedKeys:_e}=de(),{halfCheckedNodes:Fe,halfCheckedKeys:Ue}=ue();y(NODE_CHECK,$e.data,{checkedKeys:_e,checkedNodes:Oe,halfCheckedKeys:Ue,halfCheckedNodes:Fe}),y(NODE_CHECK_CHANGE,$e.data,Ne)};function j($e=!1){return de($e).checkedKeys}function re($e=!1){return de($e).checkedNodes}function oe(){return ue().halfCheckedKeys}function ae(){return ue().halfCheckedNodes}function de($e=!1){const Ne=[],Oe=[];if(e?.value&&n.showCheckbox){const{treeNodeMap:_e}=e.value;r.value.forEach(Fe=>{const Ue=_e.get(Fe);Ue&&(!$e||$e&&Ue.isLeaf)&&(Oe.push(Fe),Ne.push(Ue.data))})}return{checkedKeys:Oe,checkedNodes:Ne}}function ue(){const $e=[],Ne=[];if(e?.value&&n.showCheckbox){const{treeNodeMap:Oe}=e.value;g.value.forEach(_e=>{const Fe=Oe.get(_e);Fe&&(Ne.push(_e),$e.push(Fe.data))})}return{halfCheckedNodes:$e,halfCheckedKeys:Ne}}function pe($e){r.value.clear(),g.value.clear(),xe($e)}function he($e,Ne){if(e?.value&&n.showCheckbox){const Oe=e.value.treeNodeMap.get($e);Oe&&L(Oe,Ne,!1)}}function xe($e){if(e?.value){const{treeNodeMap:Ne}=e.value;if(n.showCheckbox&&Ne&&$e)for(const Oe of $e){const _e=Ne.get(Oe);_e&&!$(_e)&&L(_e,!0,!1)}}}return{updateCheckedKeys:k,toggleCheckbox:L,isChecked:$,isIndeterminate:V,getCheckedKeys:j,getCheckedNodes:re,getHalfCheckedKeys:oe,getHalfCheckedNodes:ae,setChecked:he,setCheckedKeys:pe}}function useFilter(n,e){const r=ref(new Set([])),g=ref(new Set([])),y=computed(()=>isFunction$3(n.filterMethod));function k(V){var L;if(!y.value)return;const z=new Set,j=g.value,re=r.value,oe=[],ae=((L=e.value)==null?void 0:L.treeNodes)||[],de=n.filterMethod;re.clear();function ue(pe){pe.forEach(he=>{oe.push(he),de?.(V,he.data)?oe.forEach($e=>{z.add($e.key)}):he.isLeaf&&re.add(he.key);const xe=he.children;if(xe&&ue(xe),!he.isLeaf){if(!z.has(he.key))re.add(he.key);else if(xe){let $e=!0;for(const Ne of xe)if(!re.has(Ne.key)){$e=!1;break}$e?j.add(he.key):j.delete(he.key)}}oe.pop()})}return ue(ae),z}function $(V){return g.value.has(V.key)}return{hiddenExpandIconKeySet:g,hiddenNodeKeySet:r,doFilter:k,isForceHiddenExpandIcon:$}}function useTree(n,e){const r=ref(new Set(n.defaultExpandedKeys)),g=ref(),y=shallowRef();watch(()=>n.currentNodeKey,jn=>{g.value=jn},{immediate:!0}),watch(()=>n.data,jn=>{Xn(jn)},{immediate:!0});const{isIndeterminate:k,isChecked:$,toggleCheckbox:V,getCheckedKeys:L,getCheckedNodes:z,getHalfCheckedKeys:j,getHalfCheckedNodes:re,setChecked:oe,setCheckedKeys:ae}=useCheck(n,y),{doFilter:de,hiddenNodeKeySet:ue,isForceHiddenExpandIcon:pe}=useFilter(n,y),he=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.value)||TreeOptionsEnum.KEY}),xe=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.children)||TreeOptionsEnum.CHILDREN}),$e=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.disabled)||TreeOptionsEnum.DISABLED}),Ne=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.label)||TreeOptionsEnum.LABEL}),Oe=computed(()=>{const jn=r.value,fr=ue.value,yr=[],Cr=y.value&&y.value.treeNodes||[];function sr(){const zn=[];for(let vn=Cr.length-1;vn>=0;--vn)zn.push(Cr[vn]);for(;zn.length;){const vn=zn.pop();if(vn&&(fr.has(vn.key)||yr.push(vn),jn.has(vn.key))){const Jn=vn.children;if(Jn){const Tn=Jn.length;for(let Dt=Tn-1;Dt>=0;--Dt)zn.push(Jn[Dt])}}}}return sr(),yr}),_e=computed(()=>Oe.value.length>0);function Fe(jn){const fr=new Map,yr=new Map;let Cr=1;function sr(vn,Jn=1,Tn=void 0){var Dt;const hn=[];for(const Vn of vn){const Kn=Lt(Vn),ar={level:Jn,key:Kn,data:Vn};ar.label=Et(Vn),ar.parent=Tn;const lr=kt(Vn);ar.disabled=wn(Vn),ar.isLeaf=!lr||lr.length===0,lr&&lr.length&&(ar.children=sr(lr,Jn+1,ar)),hn.push(ar),fr.set(Kn,ar),yr.has(Jn)||yr.set(Jn,[]),(Dt=yr.get(Jn))==null||Dt.push(ar)}return Jn>Cr&&(Cr=Jn),hn}const zn=sr(jn);return{treeNodeMap:fr,levelTreeNodeMap:yr,maxLevel:Cr,treeNodes:zn}}function Ue(jn){const fr=de(jn);fr&&(r.value=fr)}function kt(jn){return jn[xe.value]}function Lt(jn){return jn?jn[he.value]:""}function wn(jn){return jn[$e.value]}function Et(jn){return jn[Ne.value]}function xn(jn){r.value.has(jn.key)?$n(jn):Bn(jn)}function jt(jn){r.value=new Set(jn)}function An(jn,fr){e(NODE_CLICK,jn.data,jn,fr),Dn(jn),n.expandOnClickNode&&xn(jn),n.showCheckbox&&n.checkOnClickNode&&!jn.disabled&&V(jn,!$(jn),!0)}function Dn(jn){Nn(jn)||(g.value=jn.key,e(CURRENT_CHANGE,jn.data,jn))}function En(jn,fr){V(jn,fr)}function Bn(jn){const fr=r.value;if(y.value&&n.accordion){const{treeNodeMap:yr}=y.value;fr.forEach(Cr=>{const sr=yr.get(Cr);jn&&jn.level===sr?.level&&fr.delete(Cr)})}fr.add(jn.key),e(NODE_EXPAND,jn.data,jn)}function $n(jn){r.value.delete(jn.key),e(NODE_COLLAPSE,jn.data,jn)}function Wn(jn){return r.value.has(jn.key)}function Gn(jn){return!!jn.disabled}function Nn(jn){const fr=g.value;return fr!==void 0&&fr===jn.key}function Zn(){var jn,fr;if(g.value)return(fr=(jn=y.value)==null?void 0:jn.treeNodeMap.get(g.value))==null?void 0:fr.data}function Hn(){return g.value}function rr(jn){g.value=jn}function Xn(jn){nextTick(()=>y.value=Fe(jn))}function Pn(jn){var fr;const yr=isObject$3(jn)?Lt(jn):jn;return(fr=y.value)==null?void 0:fr.treeNodeMap.get(yr)}return{tree:y,flattenTree:Oe,isNotEmpty:_e,getKey:Lt,getChildren:kt,toggleExpand:xn,toggleCheckbox:V,isExpanded:Wn,isChecked:$,isIndeterminate:k,isDisabled:Gn,isCurrent:Nn,isForceHiddenExpandIcon:pe,handleNodeClick:An,handleNodeCheck:En,getCurrentNode:Zn,getCurrentKey:Hn,setCurrentKey:rr,getCheckedKeys:L,getCheckedNodes:z,getHalfCheckedKeys:j,getHalfCheckedNodes:re,setChecked:oe,setCheckedKeys:ae,filter:Ue,setData:Xn,getNode:Pn,expandNode:Bn,collapseNode:$n,setExpandedKeys:jt}}var ElNodeContent=defineComponent({name:"ElTreeNodeContent",props:treeNodeContentProps,setup(n){const e=inject(ROOT_TREE_INJECTION_KEY),r=useNamespace("tree");return()=>{const g=n.node,{data:y}=g;return e?.ctx.slots.default?e.ctx.slots.default({node:g,data:y}):h$1("span",{class:r.be("node","label")},[g?.label])}}});const _hoisted_1$1c=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],__default__$7=defineComponent({name:"ElTreeNode"}),_sfc_main$1f=defineComponent({...__default__$7,props:treeNodeProps,emits:treeNodeEmits,setup(n,{emit:e}){const r=n,g=inject(ROOT_TREE_INJECTION_KEY),y=useNamespace("tree"),k=computed(()=>{var re;return(re=g?.props.indent)!=null?re:16}),$=computed(()=>{var re;return(re=g?.props.icon)!=null?re:caret_right_default}),V=re=>{e("click",r.node,re)},L=()=>{e("toggle",r.node)},z=re=>{e("check",r.node,re)},j=re=>{var oe,ae,de,ue;(de=(ae=(oe=g?.instance)==null?void 0:oe.vnode)==null?void 0:ae.props)!=null&&de.onNodeContextmenu&&(re.stopPropagation(),re.preventDefault()),g?.ctx.emit(NODE_CONTEXTMENU,re,(ue=r.node)==null?void 0:ue.data,r.node)};return(re,oe)=>{var ae,de,ue;return openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([unref(y).b("node"),unref(y).is("expanded",re.expanded),unref(y).is("current",re.current),unref(y).is("focusable",!re.disabled),unref(y).is("checked",!re.disabled&&re.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":re.expanded,"aria-disabled":re.disabled,"aria-checked":re.checked,"data-key":(ae=re.node)==null?void 0:ae.key,onClick:withModifiers(V,["stop"]),onContextmenu:j},[createBaseVNode("div",{class:normalizeClass(unref(y).be("node","content")),style:normalizeStyle({paddingLeft:`${(re.node.level-1)*unref(k)}px`,height:re.itemSize+"px"})},[unref($)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).is("leaf",!!((de=re.node)!=null&&de.isLeaf)),unref(y).is("hidden",re.hiddenExpandIcon),{expanded:!((ue=re.node)!=null&&ue.isLeaf)&&re.expanded},unref(y).be("node","expand-icon")]),onClick:withModifiers(L,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref($))))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),re.showCheckbox?(openBlock(),createBlock(unref(ElCheckbox),{key:1,"model-value":re.checked,indeterminate:re.indeterminate,disabled:re.disabled,onChange:z,onClick:oe[0]||(oe[0]=withModifiers(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):createCommentVNode("v-if",!0),createVNode(unref(ElNodeContent),{node:re.node},null,8,["node"])],6)],42,_hoisted_1$1c)}}});var ElTreeNode=_export_sfc$1(_sfc_main$1f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const __default__$6=defineComponent({name:"ElTreeV2"}),_sfc_main$1e=defineComponent({...__default__$6,props:treeProps,emits:treeEmits,setup(n,{expose:e,emit:r}){const g=n,y=useSlots(),k=computed(()=>g.itemSize);provide(ROOT_TREE_INJECTION_KEY,{ctx:{emit:r,slots:y},props:g,instance:getCurrentInstance()}),provide(formItemContextKey,void 0);const{t:$}=useLocale(),V=useNamespace("tree"),{flattenTree:L,isNotEmpty:z,toggleExpand:j,isExpanded:re,isIndeterminate:oe,isChecked:ae,isDisabled:de,isCurrent:ue,isForceHiddenExpandIcon:pe,handleNodeClick:he,handleNodeCheck:xe,toggleCheckbox:$e,getCurrentNode:Ne,getCurrentKey:Oe,setCurrentKey:_e,getCheckedKeys:Fe,getCheckedNodes:Ue,getHalfCheckedKeys:kt,getHalfCheckedNodes:Lt,setChecked:wn,setCheckedKeys:Et,filter:xn,setData:jt,getNode:An,expandNode:Dn,collapseNode:En,setExpandedKeys:Bn}=useTree(g,r);return e({toggleCheckbox:$e,getCurrentNode:Ne,getCurrentKey:Oe,setCurrentKey:_e,getCheckedKeys:Fe,getCheckedNodes:Ue,getHalfCheckedKeys:kt,getHalfCheckedNodes:Lt,setChecked:wn,setCheckedKeys:Et,filter:xn,setData:jt,getNode:An,expandNode:Dn,collapseNode:En,setExpandedKeys:Bn}),($n,Wn)=>{var Gn;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(V).b(),{[unref(V).m("highlight-current")]:$n.highlightCurrent}]),role:"tree"},[unref(z)?(openBlock(),createBlock(unref(FixedSizeList),{key:0,"class-name":unref(V).b("virtual-list"),data:unref(L),total:unref(L).length,height:$n.height,"item-size":unref(k),"perf-mode":$n.perfMode},{default:withCtx(({data:Nn,index:Zn,style:Hn})=>[(openBlock(),createBlock(ElTreeNode,{key:Nn[Zn].key,style:normalizeStyle(Hn),node:Nn[Zn],expanded:unref(re)(Nn[Zn]),"show-checkbox":$n.showCheckbox,checked:unref(ae)(Nn[Zn]),indeterminate:unref(oe)(Nn[Zn]),"item-size":unref(k),disabled:unref(de)(Nn[Zn]),current:unref(ue)(Nn[Zn]),"hidden-expand-icon":unref(pe)(Nn[Zn]),onClick:unref(he),onToggle:unref(j),onCheck:unref(xe)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(V).e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(unref(V).e("empty-text"))},toDisplayString$1((Gn=$n.emptyText)!=null?Gn:unref($)("el.tree.emptyText")),3)],2))],2)}}});var TreeV2=_export_sfc$1(_sfc_main$1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const ElTreeV2=withInstall(TreeV2),uploadContextKey=Symbol("uploadContextKey"),SCOPE$2="ElUpload";class UploadAjaxError extends Error{constructor(e,r,g,y){super(e),this.name="UploadAjaxError",this.status=r,this.method=g,this.url=y}}function getError(n,e,r){let g;return r.response?g=`${r.response.error||r.response}`:r.responseText?g=`${r.responseText}`:g=`fail to ${e.method} ${n} ${r.status}`,new UploadAjaxError(g,r.status,e.method,n)}function getBody(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const ajaxUpload=n=>{typeof XMLHttpRequest>"u"&&throwError(SCOPE$2,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,r=n.action;e.upload&&e.upload.addEventListener("progress",k=>{const $=k;$.percent=k.total>0?k.loaded/k.total*100:0,n.onProgress($)});const g=new FormData;if(n.data)for(const[k,$]of Object.entries(n.data))isArray$3($)&&$.length?g.append(k,...$):g.append(k,$);g.append(n.filename,n.file,n.file.name),e.addEventListener("error",()=>{n.onError(getError(r,n,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return n.onError(getError(r,n,e));n.onSuccess(getBody(e))}),e.open(n.method,r,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const y=n.headers||{};if(y instanceof Headers)y.forEach((k,$)=>e.setRequestHeader($,k));else for(const[k,$]of Object.entries(y))isNil($)||e.setRequestHeader(k,String($));return e.send(g),e},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>mutable({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"}}),uploadListEmits={remove:n=>!!n},_hoisted_1$1b=["onKeydown"],_hoisted_2$16=["src"],_hoisted_3$F=["onClick"],_hoisted_4$B=["title"],_hoisted_5$w=["onClick"],_hoisted_6$u=["onClick"],__default__$5=defineComponent({name:"ElUploadList"}),_sfc_main$1d=defineComponent({...__default__$5,props:uploadListProps,emits:uploadListEmits,setup(n,{emit:e}){const{t:r}=useLocale(),g=useNamespace("upload"),y=useNamespace("icon"),k=useNamespace("list"),$=useFormDisabled(),V=ref(!1),L=z=>{e("remove",z)};return(z,j)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass([unref(g).b("list"),unref(g).bm("list",z.listType),unref(g).is("disabled",unref($))]),name:unref(k).b()},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(z.files,re=>(openBlock(),createElementBlock("li",{key:re.uid||re.name,class:normalizeClass([unref(g).be("list","item"),unref(g).is(re.status),{focusing:V.value}]),tabindex:"0",onKeydown:withKeys(oe=>!unref($)&&L(re),["delete"]),onFocus:j[0]||(j[0]=oe=>V.value=!0),onBlur:j[1]||(j[1]=oe=>V.value=!1),onClick:j[2]||(j[2]=oe=>V.value=!1)},[renderSlot(z.$slots,"default",{file:re},()=>[z.listType==="picture"||re.status!=="uploading"&&z.listType==="picture-card"?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref(g).be("list","item-thumbnail")),src:re.url,alt:""},null,10,_hoisted_2$16)):createCommentVNode("v-if",!0),re.status==="uploading"||z.listType!=="picture-card"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref(g).be("list","item-name")),onClick:withModifiers(oe=>z.handlePreview(re),["prevent"])},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("document"))},{default:withCtx(()=>[createVNode(unref(document_default))]),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref(g).be("list","item-file-name")),title:re.name},toDisplayString$1(re.name),11,_hoisted_4$B)],10,_hoisted_3$F),re.status==="uploading"?(openBlock(),createBlock(unref(ElProgress),{key:0,type:z.listType==="picture-card"?"circle":"line","stroke-width":z.listType==="picture-card"?6:2,percentage:Number(re.percentage),style:normalizeStyle(z.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref(g).be("list","item-status-label"))},[z.listType==="text"?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).m("upload-success"),unref(y).m("circle-check")])},{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1},8,["class"])):["picture-card","picture"].includes(z.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(y).m("upload-success"),unref(y).m("check")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref($)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(y).m("close")),onClick:oe=>L(re)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref($)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(y).m("close-tip"))},toDisplayString$1(unref(r)("el.upload.deleteTip")),3)),z.listType==="picture-card"?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref(g).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref(g).be("list","item-preview")),onClick:oe=>z.handlePreview(re)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("zoom-in"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1},8,["class"])],10,_hoisted_5$w),unref($)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(g).be("list","item-delete")),onClick:oe=>L(re)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("delete"))},{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1},8,["class"])],10,_hoisted_6$u))],2)):createCommentVNode("v-if",!0)])],42,_hoisted_1$1b))),128)),renderSlot(z.$slots,"append")]),_:3},8,["class","name"]))}});var UploadList=_export_sfc$1(_sfc_main$1d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:n=>isArray$3(n)},_hoisted_1$1a=["onDrop","onDragover"],COMPONENT_NAME="ElUploadDrag",__default__$4=defineComponent({name:COMPONENT_NAME}),_sfc_main$1c=defineComponent({...__default__$4,props:uploadDraggerProps,emits:uploadDraggerEmits,setup(n,{emit:e}){const r=inject(uploadContextKey);r||throwError(COMPONENT_NAME,"usage: <el-upload><el-upload-dragger /></el-upload>");const g=useNamespace("upload"),y=ref(!1),k=useFormDisabled(),$=L=>{if(k.value)return;y.value=!1,L.stopPropagation();const z=Array.from(L.dataTransfer.files),j=r.accept.value;if(!j){e("file",z);return}const re=z.filter(oe=>{const{type:ae,name:de}=oe,ue=de.includes(".")?`.${de.split(".").pop()}`:"",pe=ae.replace(/\/.*$/,"");return j.split(",").map(he=>he.trim()).filter(he=>he).some(he=>he.startsWith(".")?ue===he:/\/\*$/.test(he)?pe===he.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(he)?ae===he:!1)});e("file",re)},V=()=>{k.value||(y.value=!0)};return(L,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b("dragger"),unref(g).is("dragover",y.value)]),onDrop:withModifiers($,["prevent"]),onDragover:withModifiers(V,["prevent"]),onDragleave:z[0]||(z[0]=withModifiers(j=>y.value=!1,["prevent"]))},[renderSlot(L.$slots,"default")],42,_hoisted_1$1a))}});var UploadDragger=_export_sfc$1(_sfc_main$1c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),_hoisted_1$19=["onKeydown"],_hoisted_2$15=["name","multiple","accept"],__default__$3=defineComponent({name:"ElUploadContent",inheritAttrs:!1}),_sfc_main$1b=defineComponent({...__default__$3,props:uploadContentProps,setup(n,{expose:e}){const r=n,g=useNamespace("upload"),y=useFormDisabled(),k=shallowRef({}),$=shallowRef(),V=de=>{if(de.length===0)return;const{autoUpload:ue,limit:pe,fileList:he,multiple:xe,onStart:$e,onExceed:Ne}=r;if(pe&&he.length+de.length>pe){Ne(de,he);return}xe||(de=de.slice(0,1));for(const Oe of de){const _e=Oe;_e.uid=genFileId(),$e(_e),ue&&L(_e)}},L=async de=>{if($.value.value="",!r.beforeUpload)return z(de);let ue,pe={};try{const xe=r.data,$e=r.beforeUpload(de);pe=isObject$3(r.data)?cloneDeep(r.data):r.data,ue=await $e,isObject$3(r.data)&&isEqual$1(xe,pe)&&(pe=cloneDeep(r.data))}catch{ue=!1}if(ue===!1){r.onRemove(de);return}let he=de;ue instanceof Blob&&(ue instanceof File?he=ue:he=new File([ue],de.name,{type:de.type})),z(Object.assign(he,{uid:de.uid}),pe)},z=(de,ue)=>{const{headers:pe,data:he,method:xe,withCredentials:$e,name:Ne,action:Oe,onProgress:_e,onSuccess:Fe,onError:Ue,httpRequest:kt}=r,{uid:Lt}=de,wn={headers:pe||{},withCredentials:$e,file:de,data:ue??he,method:xe,filename:Ne,action:Oe,onProgress:xn=>{_e(xn,de)},onSuccess:xn=>{Fe(xn,de),delete k.value[Lt]},onError:xn=>{Ue(xn,de),delete k.value[Lt]}},Et=kt(wn);k.value[Lt]=Et,Et instanceof Promise&&Et.then(wn.onSuccess,wn.onError)},j=de=>{const ue=de.target.files;ue&&V(Array.from(ue))},re=()=>{y.value||($.value.value="",$.value.click())},oe=()=>{re()};return e({abort:de=>{entriesOf(k.value).filter(de?([pe])=>String(de.uid)===pe:()=>!0).forEach(([pe,he])=>{he instanceof XMLHttpRequest&&he.abort(),delete k.value[pe]})},upload:L}),(de,ue)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(de.listType),unref(g).is("drag",de.drag)]),tabindex:"0",onClick:re,onKeydown:withKeys(withModifiers(oe,["self"]),["enter","space"])},[de.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref(y),onFile:V},{default:withCtx(()=>[renderSlot(de.$slots,"default")]),_:3},8,["disabled"])):renderSlot(de.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:$,class:normalizeClass(unref(g).e("input")),name:de.name,multiple:de.multiple,accept:de.accept,type:"file",onChange:j,onClick:ue[0]||(ue[0]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$15)],42,_hoisted_1$19))}});var UploadContent=_export_sfc$1(_sfc_main$1b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const SCOPE$1="ElUpload",revokeObjectURL=n=>{var e;(e=n.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(n.url)},useHandlers=(n,e)=>{const r=useVModel(n,"fileList",void 0,{passive:!0}),g=oe=>r.value.find(ae=>ae.uid===oe.uid);function y(oe){var ae;(ae=e.value)==null||ae.abort(oe)}function k(oe=["ready","uploading","success","fail"]){r.value=r.value.filter(ae=>!oe.includes(ae.status))}const $=(oe,ae)=>{const de=g(ae);de&&(console.error(oe),de.status="fail",r.value.splice(r.value.indexOf(de),1),n.onError(oe,de,r.value),n.onChange(de,r.value))},V=(oe,ae)=>{const de=g(ae);de&&(n.onProgress(oe,de,r.value),de.status="uploading",de.percentage=Math.round(oe.percent))},L=(oe,ae)=>{const de=g(ae);de&&(de.status="success",de.response=oe,n.onSuccess(oe,de,r.value),n.onChange(de,r.value))},z=oe=>{isNil(oe.uid)&&(oe.uid=genFileId());const ae={name:oe.name,percentage:0,status:"ready",size:oe.size,raw:oe,uid:oe.uid};if(n.listType==="picture-card"||n.listType==="picture")try{ae.url=URL.createObjectURL(oe)}catch(de){de.message,n.onError(de,ae,r.value)}r.value=[...r.value,ae],n.onChange(ae,r.value)},j=async oe=>{const ae=oe instanceof File?g(oe):oe;ae||throwError(SCOPE$1,"file to be removed not found");const de=ue=>{y(ue);const pe=r.value;pe.splice(pe.indexOf(ue),1),n.onRemove(ue,pe),revokeObjectURL(ue)};n.beforeRemove?await n.beforeRemove(ae,r.value)!==!1&&de(ae):de(ae)};function re(){r.value.filter(({status:oe})=>oe==="ready").forEach(({raw:oe})=>{var ae;return oe&&((ae=e.value)==null?void 0:ae.upload(oe))})}return watch(()=>n.listType,oe=>{oe!=="picture-card"&&oe!=="picture"||(r.value=r.value.map(ae=>{const{raw:de,url:ue}=ae;if(!ue&&de)try{ae.url=URL.createObjectURL(de)}catch(pe){n.onError(pe,ae,r.value)}return ae}))}),watch(r,oe=>{for(const ae of oe)ae.uid||(ae.uid=genFileId()),ae.status||(ae.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:y,clearFiles:k,handleError:$,handleProgress:V,handleStart:z,handleSuccess:L,handleRemove:j,submit:re}},__default__$2=defineComponent({name:"ElUpload"}),_sfc_main$1a=defineComponent({...__default__$2,props:uploadProps,setup(n,{expose:e}){const r=n,g=useFormDisabled(),y=shallowRef(),{abort:k,submit:$,clearFiles:V,uploadFiles:L,handleStart:z,handleError:j,handleRemove:re,handleSuccess:oe,handleProgress:ae}=useHandlers(r,y),de=computed(()=>r.listType==="picture-card"),ue=computed(()=>({...r,fileList:L.value,onStart:z,onProgress:ae,onSuccess:oe,onError:j,onRemove:re}));return onBeforeUnmount(()=>{L.value.forEach(({url:pe})=>{pe?.startsWith("blob:")&&URL.revokeObjectURL(pe)})}),provide(uploadContextKey,{accept:toRef(r,"accept")}),e({abort:k,submit:$,clearFiles:V,handleStart:z,handleRemove:re}),(pe,he)=>(openBlock(),createElementBlock("div",null,[unref(de)&&pe.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(g),"list-type":pe.listType,files:unref(L),"handle-preview":pe.onPreview,onRemove:unref(re)},createSlots({append:withCtx(()=>[createVNode(UploadContent,mergeProps({ref_key:"uploadRef",ref:y},unref(ue)),{default:withCtx(()=>[pe.$slots.trigger?renderSlot(pe.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!pe.$slots.trigger&&pe.$slots.default?renderSlot(pe.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)]),_:2},[pe.$slots.file?{name:"default",fn:withCtx(({file:xe})=>[renderSlot(pe.$slots,"file",{file:xe})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!unref(de)||unref(de)&&!pe.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:y},unref(ue)),{default:withCtx(()=>[pe.$slots.trigger?renderSlot(pe.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!pe.$slots.trigger&&pe.$slots.default?renderSlot(pe.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)):createCommentVNode("v-if",!0),pe.$slots.trigger?renderSlot(pe.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(pe.$slots,"tip"),!unref(de)&&pe.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(g),"list-type":pe.listType,files:unref(L),"handle-preview":pe.onPreview,onRemove:unref(re)},createSlots({_:2},[pe.$slots.file?{name:"default",fn:withCtx(({file:xe})=>[renderSlot(pe.$slots,"file",{file:xe})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc$1(_sfc_main$1a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ElUpload=withInstall(Upload);var Components=[ElAffix,ElAlert,ElAutocomplete,ElAutoResizer,ElAvatar,ElBacktop,ElBadge,ElBreadcrumb,ElBreadcrumbItem,ElButton,ElButtonGroup$1,ElCalendar,ElCard,ElCarousel,ElCarouselItem,ElCascader,ElCascaderPanel,ElCheckTag,ElCheckbox,ElCheckboxButton,ElCheckboxGroup$1,ElCol,ElCollapse,ElCollapseItem,ElCollapseTransition,ElColorPicker,ElConfigProvider,ElContainer,ElAside,ElFooter,ElHeader,ElMain,ElDatePicker,ElDescriptions,ElDescriptionsItem,ElDialog,ElDivider,ElDrawer,ElDropdown,ElDropdownItem,ElDropdownMenu,ElEmpty,ElForm,ElFormItem,ElIcon,ElImage,ElImageViewer,ElInput,ElInputNumber,ElLink,ElMenu,ElMenuItem,ElMenuItemGroup,ElSubMenu,ElPageHeader,ElPagination,ElPopconfirm,ElPopover,ElPopper,ElProgress,ElRadio,ElRadioButton,ElRadioGroup,ElRate,ElResult,ElRow,ElScrollbar,ElSelect,ElOption,ElOptionGroup,ElSelectV2,ElSkeleton,ElSkeletonItem,ElSlider,ElSpace,ElStatistic,ElCountdown,ElSteps,ElStep,ElSwitch,ElTable,ElTableColumn,ElTableV2,ElTabs,ElTabPane,ElTag,ElText,ElTimePicker,ElTimeSelect,ElTimeline,ElTimelineItem,ElTooltip,ElTooltipV2,ElTransfer,ElTree,ElTreeSelect,ElTreeV2,ElUpload];const SCOPE="ElInfiniteScroll",CHECK_INTERVAL=50,DEFAULT_DELAY=200,DEFAULT_DISTANCE=0,attributes={delay:{type:Number,default:DEFAULT_DELAY},distance:{type:Number,default:DEFAULT_DISTANCE},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},getScrollOptions=(n,e)=>Object.entries(attributes).reduce((r,[g,y])=>{var k,$;const{type:V,default:L}=y,z=n.getAttribute(`infinite-scroll-${g}`);let j=($=(k=e[z])!=null?k:z)!=null?$:L;return j=j==="false"?!1:j,j=V(j),r[g]=Number.isNaN(j)?L:j,r},{}),destroyObserver=n=>{const{observer:e}=n[SCOPE];e&&(e.disconnect(),delete n[SCOPE].observer)},handleScroll=(n,e)=>{const{container:r,containerEl:g,instance:y,observer:k,lastScrollTop:$}=n[SCOPE],{disabled:V,distance:L}=getScrollOptions(n,y),{clientHeight:z,scrollHeight:j,scrollTop:re}=g,oe=re-$;if(n[SCOPE].lastScrollTop=re,k||V||oe<0)return;let ae=!1;if(r===n)ae=j-(z+re)<=L;else{const{clientTop:de,scrollHeight:ue}=n,pe=getOffsetTopDistance(n,g);ae=re+z>=pe+de+ue-L}ae&&e.call(y)};function checkFull(n,e){const{containerEl:r,instance:g}=n[SCOPE],{disabled:y}=getScrollOptions(n,g);y||r.clientHeight===0||(r.scrollHeight<=r.clientHeight?e.call(g):destroyObserver(n))}const InfiniteScroll={async mounted(n,e){const{instance:r,value:g}=e;isFunction$3(g)||throwError(SCOPE,"'v-infinite-scroll' binding value must be a function"),await nextTick();const{delay:y,immediate:k}=getScrollOptions(n,r),$=getScrollContainer(n,!0),V=$===window?document.documentElement:$,L=throttle(handleScroll.bind(null,n,g),y);if($){if(n[SCOPE]={instance:r,container:$,containerEl:V,delay:y,cb:g,onScroll:L,lastScrollTop:V.scrollTop},k){const z=new MutationObserver(throttle(checkFull.bind(null,n,g),CHECK_INTERVAL));n[SCOPE].observer=z,z.observe(n,{childList:!0,subtree:!0}),checkFull(n,g)}$.addEventListener("scroll",L)}},unmounted(n){const{container:e,onScroll:r}=n[SCOPE];e?.removeEventListener("scroll",r),destroyObserver(n)},async updated(n){if(!n[SCOPE])await nextTick();else{const{containerEl:e,cb:r,observer:g}=n[SCOPE];e.clientHeight&&g&&checkFull(n,r)}}},_InfiniteScroll=InfiniteScroll;_InfiniteScroll.install=n=>{n.directive("InfiniteScroll",_InfiniteScroll)};const ElInfiniteScroll=_InfiniteScroll;function createLoadingComponent(n){let e;const r=ref(!1),g=reactive({...n,originalPosition:"",originalOverflow:"",visible:!1});function y(oe){g.text=oe}function k(){const oe=g.parent,ae=re.ns;if(!oe.vLoadingAddClassList){let de=oe.getAttribute("loading-number");de=Number.parseInt(de)-1,de?oe.setAttribute("loading-number",de.toString()):(removeClass(oe,ae.bm("parent","relative")),oe.removeAttribute("loading-number")),removeClass(oe,ae.bm("parent","hidden"))}$(),j.unmount()}function $(){var oe,ae;(ae=(oe=re.$el)==null?void 0:oe.parentNode)==null||ae.removeChild(re.$el)}function V(){var oe;n.beforeClose&&!n.beforeClose()||(r.value=!0,clearTimeout(e),e=window.setTimeout(L,400),g.visible=!1,(oe=n.closed)==null||oe.call(n))}function L(){if(!r.value)return;const oe=g.parent;r.value=!1,oe.vLoadingAddClassList=void 0,k()}const z=defineComponent({name:"ElLoading",setup(oe,{expose:ae}){const{ns:de,zIndex:ue}=useGlobalComponentSettings("loading");return ae({ns:de,zIndex:ue}),()=>{const pe=g.spinner||g.svg,he=h$1("svg",{class:"circular",viewBox:g.svgViewBox?g.svgViewBox:"0 0 50 50",...pe?{innerHTML:pe}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),xe=g.text?h$1("p",{class:de.b("text")},[g.text]):void 0;return h$1(Transition,{name:de.b("fade"),onAfterLeave:L},{default:withCtx(()=>[withDirectives(createVNode("div",{style:{backgroundColor:g.background||""},class:[de.b("mask"),g.customClass,g.fullscreen?"is-fullscreen":""]},[h$1("div",{class:de.b("spinner")},[he,xe])]),[[vShow,g.visible]])])})}}}),j=createApp(z),re=j.mount(document.createElement("div"));return{...toRefs(g),setText:y,removeElLoadingChild:$,close:V,handleAfterLeave:L,vm:re,get $el(){return re.$el}}}let fullscreenInstance;const Loading=function(n={}){if(!isClient)return;const e=resolveOptions(n);if(e.fullscreen&&fullscreenInstance)return fullscreenInstance;const r=createLoadingComponent({...e,closed:()=>{var y;(y=e.closed)==null||y.call(e),e.fullscreen&&(fullscreenInstance=void 0)}});addStyle(e,e.parent,r),addClassList(e,e.parent,r),e.parent.vLoadingAddClassList=()=>addClassList(e,e.parent,r);let g=e.parent.getAttribute("loading-number");return g?g=`${Number.parseInt(g)+1}`:g="1",e.parent.setAttribute("loading-number",g),e.parent.appendChild(r.$el),nextTick(()=>r.visible.value=e.visible),e.fullscreen&&(fullscreenInstance=r),r},resolveOptions=n=>{var e,r,g,y;let k;return isString$3(n.target)?k=(e=document.querySelector(n.target))!=null?e:document.body:k=n.target||document.body,{parent:k===document.body||n.body?document.body:k,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:k===document.body&&((r=n.fullscreen)!=null?r:!0),lock:(g=n.lock)!=null?g:!1,customClass:n.customClass||"",visible:(y=n.visible)!=null?y:!0,target:k}},addStyle=async(n,e,r)=>{const{nextZIndex:g}=r.vm.zIndex||r.vm._.exposed.zIndex,y={};if(n.fullscreen)r.originalPosition.value=getStyle(document.body,"position"),r.originalOverflow.value=getStyle(document.body,"overflow"),y.zIndex=g();else if(n.parent===document.body){r.originalPosition.value=getStyle(document.body,"position"),await nextTick();for(const k of["top","left"]){const $=k==="top"?"scrollTop":"scrollLeft";y[k]=`${n.target.getBoundingClientRect()[k]+document.body[$]+document.documentElement[$]-Number.parseInt(getStyle(document.body,`margin-${k}`),10)}px`}for(const k of["height","width"])y[k]=`${n.target.getBoundingClientRect()[k]}px`}else r.originalPosition.value=getStyle(e,"position");for(const[k,$]of Object.entries(y))r.$el.style[k]=$},addClassList=(n,e,r)=>{const g=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?removeClass(e,g.bm("parent","relative")):addClass(e,g.bm("parent","relative")),n.fullscreen&&n.lock?addClass(e,g.bm("parent","hidden")):removeClass(e,g.bm("parent","hidden"))},INSTANCE_KEY=Symbol("ElLoading"),createInstance=(n,e)=>{var r,g,y,k;const $=e.instance,V=oe=>isObject$3(e.value)?e.value[oe]:void 0,L=oe=>{const ae=isString$3(oe)&&$?.[oe]||oe;return ae&&ref(ae)},z=oe=>L(V(oe)||n.getAttribute(`element-loading-${hyphenate(oe)}`)),j=(r=V("fullscreen"))!=null?r:e.modifiers.fullscreen,re={text:z("text"),svg:z("svg"),svgViewBox:z("svgViewBox"),spinner:z("spinner"),background:z("background"),customClass:z("customClass"),fullscreen:j,target:(g=V("target"))!=null?g:j?void 0:n,body:(y=V("body"))!=null?y:e.modifiers.body,lock:(k=V("lock"))!=null?k:e.modifiers.lock};n[INSTANCE_KEY]={options:re,instance:Loading(re)}},updateOptions=(n,e)=>{for(const r of Object.keys(e))isRef(e[r])&&(e[r].value=n[r])},vLoading={mounted(n,e){e.value&&createInstance(n,e)},updated(n,e){const r=n[INSTANCE_KEY];e.oldValue!==e.value&&(e.value&&!e.oldValue?createInstance(n,e):e.value&&e.oldValue?isObject$3(e.value)&&updateOptions(e.value,r.options):r?.instance.close())},unmounted(n){var e;(e=n[INSTANCE_KEY])==null||e.instance.close()}},ElLoading={install(n){n.directive("loading",vLoading),n.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),required:!1},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances=shallowReactive([]),getInstance=n=>{const e=instances.findIndex(y=>y.id===n),r=instances[e];let g;return e>0&&(g=instances[e-1]),{current:r,prev:g}},getLastOffset=n=>{const{prev:e}=getInstance(n);return e?e.vm.exposed.bottom.value:0},getOffsetOrSpace=(n,e)=>instances.findIndex(g=>g.id===n)>0?20:e,_hoisted_1$18=["id"],_hoisted_2$14=["innerHTML"],__default__$1=defineComponent({name:"ElMessage"}),_sfc_main$19=defineComponent({...__default__$1,props:messageProps,emits:messageEmits,setup(n,{expose:e}){const r=n,{Close:g}=TypeComponents,{ns:y,zIndex:k}=useGlobalComponentSettings("message"),{currentZIndex:$,nextZIndex:V}=k,L=ref(),z=ref(!1),j=ref(0);let re;const oe=computed(()=>r.type?r.type==="error"?"danger":r.type:"info"),ae=computed(()=>{const Fe=r.type;return{[y.bm("icon",Fe)]:Fe&&TypeComponentsMap[Fe]}}),de=computed(()=>r.icon||TypeComponentsMap[r.type]||""),ue=computed(()=>getLastOffset(r.id)),pe=computed(()=>getOffsetOrSpace(r.id,r.offset)+ue.value),he=computed(()=>j.value+pe.value),xe=computed(()=>({top:`${pe.value}px`,zIndex:$.value}));function $e(){r.duration!==0&&({stop:re}=useTimeoutFn(()=>{Oe()},r.duration))}function Ne(){re?.()}function Oe(){z.value=!1}function _e({code:Fe}){Fe===EVENT_CODE.esc&&Oe()}return onMounted(()=>{$e(),V(),z.value=!0}),watch(()=>r.repeatNum,()=>{Ne(),$e()}),useEventListener(document,"keydown",_e),useResizeObserver(L,()=>{j.value=L.value.getBoundingClientRect().height}),e({visible:z,bottom:he,close:Oe}),(Fe,Ue)=>(openBlock(),createBlock(Transition,{name:unref(y).b("fade"),onBeforeLeave:Fe.onClose,onAfterLeave:Ue[0]||(Ue[0]=kt=>Fe.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:Fe.id,ref_key:"messageRef",ref:L,class:normalizeClass([unref(y).b(),{[unref(y).m(Fe.type)]:Fe.type&&!Fe.icon},unref(y).is("center",Fe.center),unref(y).is("closable",Fe.showClose),Fe.customClass]),style:normalizeStyle(unref(xe)),role:"alert",onMouseenter:Ne,onMouseleave:$e},[Fe.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:Fe.repeatNum,type:unref(oe),class:normalizeClass(unref(y).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(de)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(y).e("icon"),unref(ae)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(Fe.$slots,"default",{},()=>[Fe.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(y).e("content")),innerHTML:Fe.message},null,10,_hoisted_2$14)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(y).e("content"))},toDisplayString$1(Fe.message),3))]),Fe.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(y).e("closeBtn")),onClick:withModifiers(Oe,["stop"])},{default:withCtx(()=>[createVNode(unref(g))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$18),[[vShow,z.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$19,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let seed$1=1;const normalizeOptions=n=>{const e=!n||isString$3(n)||isVNode$1(n)||isFunction$3(n)?{message:n}:n,r={...messageDefaults,...e};if(!r.appendTo)r.appendTo=document.body;else if(isString$3(r.appendTo)){let g=document.querySelector(r.appendTo);isElement$1(g)||(g=document.body),r.appendTo=g}return r},closeMessage=n=>{const e=instances.indexOf(n);if(e===-1)return;instances.splice(e,1);const{handler:r}=n;r.close()},createMessage=({appendTo:n,...e},r)=>{const g=`message_${seed$1++}`,y=e.onClose,k=document.createElement("div"),$={...e,id:g,onClose:()=>{y?.(),closeMessage(j)},onDestroy:()=>{render$2(null,k)}},V=createVNode(MessageConstructor,$,isFunction$3($.message)||isVNode$1($.message)?{default:isFunction$3($.message)?$.message:()=>$.message}:null);V.appContext=r||message._context,render$2(V,k),n.appendChild(k.firstElementChild);const L=V.component,j={id:g,vnode:V,vm:L,handler:{close:()=>{L.exposed.visible.value=!1}},props:V.component.props};return j},message=(n={},e)=>{if(!isClient)return{close:()=>{}};if(isNumber$1(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};const r=normalizeOptions(n);if(r.grouping&&instances.length){const y=instances.find(({vnode:k})=>{var $;return(($=k.props)==null?void 0:$.message)===r.message});if(y)return y.props.repeatNum+=1,y.props.type=r.type,y.handler}const g=createMessage(r,e);return instances.push(g),g.handler};messageTypes.forEach(n=>{message[n]=(e={},r)=>{const g=normalizeOptions(e);return message({...g,type:n},r)}});function closeAll$1(n){for(const e of instances)(!n||n===e.props.type)&&e.handler.close()}message.closeAll=closeAll$1;message._context=null;const ElMessage=withInstallFunction(message,"$message"),_sfc_main$18=defineComponent({name:"ElMessageBox",directives:{TrapFocus},components:{ElButton,ElFocusTrap,ElInput,ElOverlay,ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{locale:r,zIndex:g,ns:y,size:k}=useGlobalComponentSettings("message-box",computed(()=>n.buttonSize)),{t:$}=r,{nextZIndex:V}=g,L=ref(!1),z=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:V()}),j=computed(()=>{const An=z.type;return{[y.bm("icon",An)]:An&&TypeComponentsMap[An]}}),re=useId(),oe=useId(),ae=computed(()=>z.icon||TypeComponentsMap[z.type]||""),de=computed(()=>!!z.message),ue=ref(),pe=ref(),he=ref(),xe=ref(),$e=ref(),Ne=computed(()=>z.confirmButtonClass);watch(()=>z.inputValue,async An=>{await nextTick(),n.boxType==="prompt"&&An!==null&&wn()},{immediate:!0}),watch(()=>L.value,An=>{var Dn,En;An&&(n.boxType!=="prompt"&&(z.autofocus?he.value=(En=(Dn=$e.value)==null?void 0:Dn.$el)!=null?En:ue.value:he.value=ue.value),z.zIndex=V()),n.boxType==="prompt"&&(An?nextTick().then(()=>{var Bn;xe.value&&xe.value.$el&&(z.autofocus?he.value=(Bn=Et())!=null?Bn:ue.value:he.value=ue.value)}):(z.editorErrorMessage="",z.validateError=!1))});const Oe=computed(()=>n.draggable);useDraggable(ue,pe,Oe),onMounted(async()=>{await nextTick(),n.closeOnHashChange&&window.addEventListener("hashchange",_e)}),onBeforeUnmount(()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",_e)});function _e(){L.value&&(L.value=!1,nextTick(()=>{z.action&&e("action",z.action)}))}const Fe=()=>{n.closeOnClickModal&&Lt(z.distinguishCancelAndClose?"close":"cancel")},Ue=useSameTarget(Fe),kt=An=>{if(z.inputType!=="textarea")return An.preventDefault(),Lt("confirm")},Lt=An=>{var Dn;n.boxType==="prompt"&&An==="confirm"&&!wn()||(z.action=An,z.beforeClose?(Dn=z.beforeClose)==null||Dn.call(z,An,z,_e):_e())},wn=()=>{if(n.boxType==="prompt"){const An=z.inputPattern;if(An&&!An.test(z.inputValue||""))return z.editorErrorMessage=z.inputErrorMessage||$("el.messagebox.error"),z.validateError=!0,!1;const Dn=z.inputValidator;if(typeof Dn=="function"){const En=Dn(z.inputValue);if(En===!1)return z.editorErrorMessage=z.inputErrorMessage||$("el.messagebox.error"),z.validateError=!0,!1;if(typeof En=="string")return z.editorErrorMessage=En,z.validateError=!0,!1}}return z.editorErrorMessage="",z.validateError=!1,!0},Et=()=>{const An=xe.value.$refs;return An.input||An.textarea},xn=()=>{Lt("close")},jt=()=>{n.closeOnPressEscape&&xn()};return n.lockScroll&&useLockscreen(L),{...toRefs(z),ns:y,overlayEvent:Ue,visible:L,hasMessage:de,typeClass:j,contentId:re,inputId:oe,btnSize:k,iconComponent:ae,confirmButtonClasses:Ne,rootRef:ue,focusStartRef:he,headerRef:pe,inputRef:xe,confirmRef:$e,doClose:_e,handleClose:xn,onCloseRequested:jt,handleWrapperClick:Fe,handleInputEnter:kt,handleAction:Lt,t:$}}}),_hoisted_1$17=["aria-label","aria-describedby"],_hoisted_2$13=["aria-label"],_hoisted_3$E=["id"];function _sfc_render(n,e,r,g,y,k){const $=resolveComponent("el-icon"),V=resolveComponent("close"),L=resolveComponent("el-input"),z=resolveComponent("el-button"),j=resolveComponent("el-focus-trap"),re=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=oe=>n.$emit("vanish")),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(re,{"z-index":n.zIndex,"overlay-class":[n.ns.is("message-box"),n.modalClass],mask:n.modal},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-label":n.title,"aria-modal":"true","aria-describedby":n.showInput?void 0:n.contentId,class:normalizeClass(`${n.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...oe)=>n.overlayEvent.onClick&&n.overlayEvent.onClick(...oe)),onMousedown:e[9]||(e[9]=(...oe)=>n.overlayEvent.onMousedown&&n.overlayEvent.onMousedown(...oe)),onMouseup:e[10]||(e[10]=(...oe)=>n.overlayEvent.onMouseup&&n.overlayEvent.onMouseup(...oe))},[createVNode(j,{loop:"",trapped:n.visible,"focus-trap-el":n.rootRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([n.ns.b(),n.customClass,n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center}]),style:normalizeStyle(n.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=withModifiers(()=>{},["stop"]))},[n.title!==null&&n.title!==void 0?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass(n.ns.e("header"))},[createBaseVNode("div",{class:normalizeClass(n.ns.e("title"))},[n.iconComponent&&n.center?(openBlock(),createBlock($,{key:0,class:normalizeClass([n.ns.e("status"),n.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString$1(n.title),1)],2),n.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(n.ns.e("headerbtn")),"aria-label":n.t("el.messagebox.close"),onClick:e[0]||(e[0]=oe=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=withKeys(withModifiers(oe=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[createVNode($,{class:normalizeClass(n.ns.e("close"))},{default:withCtx(()=>[createVNode(V)]),_:1},8,["class"])],42,_hoisted_2$13)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:n.contentId,class:normalizeClass(n.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(n.ns.e("container"))},[n.iconComponent&&!n.center&&n.hasMessage?(openBlock(),createBlock($,{key:0,class:normalizeClass([n.ns.e("status"),n.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),n.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.e("message"))},[renderSlot(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(n.showInput?"label":"p"),{key:1,for:n.showInput?n.inputId:void 0,innerHTML:n.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(n.showInput?"label":"p"),{key:0,for:n.showInput?n.inputId:void 0},{default:withCtx(()=>[createTextVNode(toDisplayString$1(n.dangerouslyUseHTMLString?"":n.message),1)]),_:1},8,["for"]))])],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(n.ns.e("input"))},[createVNode(L,{id:n.inputId,ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":e[2]||(e[2]=oe=>n.inputValue=oe),type:n.inputType,placeholder:n.inputPlaceholder,"aria-invalid":n.validateError,class:normalizeClass({invalid:n.validateError}),onKeydown:withKeys(n.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(n.ns.e("errormsg")),style:normalizeStyle({visibility:n.editorErrorMessage?"visible":"hidden"})},toDisplayString$1(n.editorErrorMessage),7)],2),[[vShow,n.showInput]])],10,_hoisted_3$E),createBaseVNode("div",{class:normalizeClass(n.ns.e("btns"))},[n.showCancelButton?(openBlock(),createBlock(z,{key:0,loading:n.cancelButtonLoading,class:normalizeClass([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:e[3]||(e[3]=oe=>n.handleAction("cancel")),onKeydown:e[4]||(e[4]=withKeys(withModifiers(oe=>n.handleAction("cancel"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):createCommentVNode("v-if",!0),withDirectives(createVNode(z,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,class:normalizeClass([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:e[5]||(e[5]=oe=>n.handleAction("confirm")),onKeydown:e[6]||(e[6]=withKeys(withModifiers(oe=>n.handleAction("confirm"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[vShow,n.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,_hoisted_1$17)]),_:3},8,["z-index","overlay-class","mask"]),[[vShow,n.visible]])]),_:3})}var MessageBoxConstructor=_export_sfc$1(_sfc_main$18,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const messageInstance=new Map,getAppendToElement=n=>{let e=document.body;return n.appendTo&&(isString$3(n.appendTo)&&(e=document.querySelector(n.appendTo)),isElement$1(n.appendTo)&&(e=n.appendTo),isElement$1(e)||(e=document.body)),e},initInstance=(n,e,r=null)=>{const g=createVNode(MessageBoxConstructor,n,isFunction$3(n.message)||isVNode$1(n.message)?{default:isFunction$3(n.message)?n.message:()=>n.message}:null);return g.appContext=r,render$2(g,e),getAppendToElement(n).appendChild(e.firstElementChild),g.component},genContainer=()=>document.createElement("div"),showMessage=(n,e)=>{const r=genContainer();n.onVanish=()=>{render$2(null,r),messageInstance.delete(y)},n.onAction=k=>{const $=messageInstance.get(y);let V;n.showInput?V={value:y.inputValue,action:k}:V=k,n.callback?n.callback(V,g.proxy):k==="cancel"||k==="close"?n.distinguishCancelAndClose&&k!=="cancel"?$.reject("close"):$.reject("cancel"):$.resolve(V)};const g=initInstance(n,r,e),y=g.proxy;for(const k in n)hasOwn$1(n,k)&&!hasOwn$1(y.$props,k)&&(y[k]=n[k]);return y.visible=!0,y};function MessageBox(n,e=null){if(!isClient)return Promise.reject();let r;return isString$3(n)||isVNode$1(n)?n={message:n}:r=n.callback,new Promise((g,y)=>{const k=showMessage(n,e??MessageBox._context);messageInstance.set(k,{options:n,callback:r,resolve:g,reject:y})})}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MESSAGE_BOX_VARIANTS.forEach(n=>{MessageBox[n]=messageBoxFactory(n)});function messageBoxFactory(n){return(e,r,g,y)=>{let k="";return isObject$3(r)?(g=r,k=""):isUndefined(r)?k="":k=r,MessageBox(Object.assign({title:k,message:e,type:"",...MESSAGE_BOX_DEFAULT_OPTS[n]},g,{boxType:n}),y)}}MessageBox.close=()=>{messageInstance.forEach((n,e)=>{e.doClose()}),messageInstance.clear()};MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=n=>{_MessageBox._context=n._context,n.config.globalProperties.$msgbox=_MessageBox,n.config.globalProperties.$messageBox=_MessageBox,n.config.globalProperties.$alert=_MessageBox.alert,n.config.globalProperties.$confirm=_MessageBox.confirm,n.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number}),notificationEmits={destroy:()=>!0},_hoisted_1$16=["id"],_hoisted_2$12=["textContent"],_hoisted_3$D={key:0},_hoisted_4$A=["innerHTML"],__default__=defineComponent({name:"ElNotification"}),_sfc_main$17=defineComponent({...__default__,props:notificationProps,emits:notificationEmits,setup(n,{expose:e}){const r=n,{ns:g,zIndex:y}=useGlobalComponentSettings("notification"),{nextZIndex:k,currentZIndex:$}=y,{Close:V}=CloseComponents,L=ref(!1);let z;const j=computed(()=>{const $e=r.type;return $e&&TypeComponentsMap[r.type]?g.m($e):""}),re=computed(()=>r.type&&TypeComponentsMap[r.type]||r.icon),oe=computed(()=>r.position.endsWith("right")?"right":"left"),ae=computed(()=>r.position.startsWith("top")?"top":"bottom"),de=computed(()=>{var $e;return{[ae.value]:`${r.offset}px`,zIndex:($e=r.zIndex)!=null?$e:$.value}});function ue(){r.duration>0&&({stop:z}=useTimeoutFn(()=>{L.value&&he()},r.duration))}function pe(){z?.()}function he(){L.value=!1}function xe({code:$e}){$e===EVENT_CODE.delete||$e===EVENT_CODE.backspace?pe():$e===EVENT_CODE.esc?L.value&&he():ue()}return onMounted(()=>{ue(),k(),L.value=!0}),useEventListener(document,"keydown",xe),e({visible:L,close:he}),($e,Ne)=>(openBlock(),createBlock(Transition,{name:unref(g).b("fade"),onBeforeLeave:$e.onClose,onAfterLeave:Ne[1]||(Ne[1]=Oe=>$e.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:$e.id,class:normalizeClass([unref(g).b(),$e.customClass,unref(oe)]),style:normalizeStyle(unref(de)),role:"alert",onMouseenter:pe,onMouseleave:ue,onClick:Ne[0]||(Ne[0]=(...Oe)=>$e.onClick&&$e.onClick(...Oe))},[unref(re)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(g).e("icon"),unref(j)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(re))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(g).e("title")),textContent:toDisplayString$1($e.title)},null,10,_hoisted_2$12),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(g).e("content")),style:normalizeStyle($e.title?void 0:{margin:0})},[renderSlot($e.$slots,"default",{},()=>[$e.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:$e.message},null,8,_hoisted_4$A)],2112)):(openBlock(),createElementBlock("p",_hoisted_3$D,toDisplayString$1($e.message),1))])],6),[[vShow,$e.message]]),$e.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("closeBtn")),onClick:withModifiers(he,["stop"])},{default:withCtx(()=>[createVNode(unref(V))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,_hoisted_1$16),[[vShow,L.value]])]),_:3},8,["name","onBeforeLeave"]))}});var NotificationConstructor=_export_sfc$1(_sfc_main$17,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed=1;const notify=function(n={},e=null){if(!isClient)return{close:()=>{}};(typeof n=="string"||isVNode$1(n))&&(n={message:n});const r=n.position||"top-right";let g=n.offset||0;notifications[r].forEach(({vm:j})=>{var re;g+=(((re=j.el)==null?void 0:re.offsetHeight)||0)+GAP_SIZE}),g+=GAP_SIZE;const y=`notification_${seed++}`,k=n.onClose,$={...n,offset:g,id:y,onClose:()=>{close(y,r,k)}};let V=document.body;isElement$1(n.appendTo)?V=n.appendTo:isString$3(n.appendTo)&&(V=document.querySelector(n.appendTo)),isElement$1(V)||(V=document.body);const L=document.createElement("div"),z=createVNode(NotificationConstructor,$,isVNode$1($.message)?{default:()=>$.message}:null);return z.appContext=e??notify._context,z.props.onDestroy=()=>{render$2(null,L)},render$2(z,L),notifications[r].push({vm:z}),V.appendChild(L.firstElementChild),{close:()=>{z.component.exposed.visible.value=!1}}};notificationTypes.forEach(n=>{notify[n]=(e={})=>((typeof e=="string"||isVNode$1(e))&&(e={message:e}),notify({...e,type:n}))});function close(n,e,r){const g=notifications[e],y=g.findIndex(({vm:z})=>{var j;return((j=z.component)==null?void 0:j.props.id)===n});if(y===-1)return;const{vm:k}=g[y];if(!k)return;r?.(k);const $=k.el.offsetHeight,V=e.split("-")[0];g.splice(y,1);const L=g.length;if(!(L<1))for(let z=y;z<L;z++){const{el:j,component:re}=g[z].vm,oe=Number.parseInt(j.style[V],10)-$-GAP_SIZE;re.props.offset=oe}}function closeAll(){for(const n of Object.values(notifications))n.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}notify.closeAll=closeAll;notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");var Plugins=[ElInfiniteScroll,ElLoading,ElMessage,ElMessageBox,ElNotification,ElPopoverDirective],installer=makeInstaller([...Components,...Plugins]);const redoStack=[],undoStack=[];var StoreType=(n=>(n[n.EditCharacter=0]="EditCharacter",n[n.EditGlyph=1]="EditGlyph",n[n.Tools=2]="Tools",n[n.Pen=3]="Pen",n[n.Polygon=4]="Polygon",n[n.Rectangle=5]="Rectangle",n[n.Ellipse=6]="Ellipse",n[n.GlyphCompnent=7]="GlyphCompnent",n[n.Status=8]="Status",n[n.Grid=9]="Grid",n))(StoreType||{}),OpType=(n=>(n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n))(OpType||{});const saveState=(n,e,r,g={newRecord:!0,undoTip:"",redoTip:""})=>{let y=[];r===1?y=redoStack:r===0&&(redoStack.length=0,y=undoStack);let k={};for(let $=0;$<e.length;$++)switch(e[$]){case 0:{k.editCharacterFile=clone$1(g.editCharacterFile||editCharacterFile.value);break}case 7:{k.draggable=g.draggable||draggable$1.value,k.dragOption=clone$1(g.dragOption||dragOption.value),k.checkRefLines=g.checkRefLines||checkRefLines.value,k.checkJoints=g.checkJoints||checkJoints.value;break}case 1:{k.editGlyph=clone$1(g.editGlyph||editGlyph.value);break}case 8:{k.editStatus=g.editStatus||editStatus.value;break}case 2:{k.tool=clone$1(g.tool||tool.value);break}case 3:{k.editingPen=clone$1(editing$7.value),k.pointsPen=clone$1(points$1.value),k.selectAnchor=clone$1(selectAnchor.value),k.selectPenPoint=clone$1(selectPenPoint.value),k.mousedownPen=mousedown$1.value,k.mousemovePen=mousemove$1.value;break}case 4:{k.editingPolygon=clone$1(editing$6.value),k.pointsPolygon=clone$1(points.value),k.mousedownPolygon=mousedown.value,k.mousemovePolygon=mousemove.value;break}case 5:{k.editingRectangle=clone$1(editing$5.value),k.rectX=clone$1(rectX.value),k.rectY=clone$1(rectY.value),k.rectWidth=clone$1(rectWidth.value),k.rectHeight=clone$1(rectHeight.value);break}case 6:{k.editingEllipse=clone$1(editing$4.value),k.ellipseX=clone$1(ellipseX.value),k.ellipseY=clone$1(ellipseY.value),k.radiusX=clone$1(radiusX.value),k.radiusY=clone$1(radiusY.value);break}case 9:{k.gridSettings=clone$1(g.gridSettings||gridSettings$1.value),k.gridChanged=clone$1(g.gridChanged||gridChanged.value);break}}if(g.newRecord||!y.length)y.push({opName:n,opStores:e,states:k,options:g});else{const $=y.pop();$.opName=n,$.opStores=e,$.states=k,$.options=g,y.push($)}},undo$2=()=>{if(!undoStack.length)return;const n=undoStack[undoStack.length-1];n.options.undoTip?ElMessageBox.confirm(n.options.undoTip,`${n.opName}`,{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{undoStack.pop(),saveState(n.opName,n.opStores,1,n.options),updateState(n),ElMessage({type:"success",message:`${n.opName}`})}).catch(()=>{}):(undoStack.pop(),saveState(n.opName,n.opStores,1,n.options),updateState(n))},redo$2=()=>{if(!redoStack.length)return;const n=redoStack[redoStack.length-1];n.options.redoTip?ElMessageBox.confirm(n.options.redoTip,`${n.opName}`,{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{redoStack.pop(),updateState(n),saveState(n.opName,n.opStores,0,n.options),ElMessage({type:"success",message:`${n.opName}`})}).catch(()=>{}):(redoStack.pop(),updateState(n),saveState(n.opName,n.opStores,0,n.options))},updateState=n=>{for(let e=0;e<n.opStores.length;e++)switch(n.opStores[e]){case 0:{for(let g=0;g<selectedFile.value.characterList.length;g++)editCharacterFileUUID.value===selectedFile.value.characterList[g].uuid&&(selectedFile.value.characterList[g]=n.states.editCharacterFile);break}case 1:{for(let g=0;g<glyphs.value.length;g++)glyphs.value[g].uuid===editGlyphUUID.value&&(glyphs.value[g]=n.states.editGlyph);for(let g=0;g<radical_glyphs.value.length;g++)radical_glyphs.value[g].uuid===editGlyphUUID.value&&(radical_glyphs.value[g]=n.states.editGlyph);for(let g=0;g<stroke_glyphs.value.length;g++)stroke_glyphs.value[g].uuid===editGlyphUUID.value&&(stroke_glyphs.value[g]=n.states.editGlyph);for(let g=0;g<comp_glyphs.value.length;g++)comp_glyphs.value[g].uuid===editGlyphUUID.value&&(comp_glyphs.value[g]=n.states.editGlyph);break}case 2:{tool.value=n.states.tool;break}case 8:{editStatus.value=n.states.editStatus;break}case 3:{points$1.value=n.states.pointsPen,editing$7.value=n.states.editingPen,selectAnchor.value=n.states.selectAnchor,selectPenPoint.value=n.states.selectPenPoint,mousedown$1.value=n.states.mousedownPen,mousemove$1.value=n.states.mousemovePen;break}case 4:{points.value=n.states.pointsPolygon,editing$6.value=n.states.editingPolygon,mousedown.value=n.states.mousedownPolygon,mousemove.value=n.states.mousemovePolygon;break}case 5:{editing$5.value=n.states.editingRectangle,rectX.value=n.states.rectX,rectY.value=n.states.rectY,rectWidth.value=n.states.rectWidth,rectHeight.value=n.states.rectHeight;break}case 6:{editing$4.value=n.states.editingEllipse,ellipseX.value=n.states.ellipseY,ellipseY.value=n.states.ellipseX,radiusX.value=n.states.radiusX,radiusY.value=n.states.radiusY;break}case 9:{gridSettings$1.value=n.gridSettings,gridChanged.value=n.gridChanged;break}}},clearState=()=>{redoStack.length=0,undoStack.length=0},initPen=(n,e=!1)=>{mousedown$1.value=!1,mousemove$1.value=!1;let r=null;const g=5;let y=!1,k,$;const V=ae=>{if(points$1.value.length||saveState("",[StoreType.Pen,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),mousedown$1.value=!0,setEditing$5(!0),points$1.value.length)r={uuid:points$1.value[points$1.value.length-2].uuid,index:points$1.value.length-2};else{const de={uuid:genUUID(),type:"anchor",x:getCoord(ae.offsetX),y:getCoord(ae.offsetY),origin:null,isShow:!0},ue={uuid:genUUID(),type:"control",x:getCoord(ae.offsetX),y:getCoord(ae.offsetY),origin:de.uuid,isShow:!0};r={uuid:de.uuid,index:0},setPoints$1([de,ue]),r={uuid:points$1.value[0].uuid,index:0}}},L=ae=>{if(!points$1.value.length||!editing$7)return;const de=clone$1(points$1.value);if(mousedown$1.value){if(k&&(de[$]=k),r.index===0){de[r.index];let ue=de[r.index+1];ue.x=getCoord(ae.offsetX),ue.y=getCoord(ae.offsetY),ue.isShow=!0}else{let ue=de[r.index],pe=de[r.index-1],he=de[r.index+1];he.x=getCoord(ae.offsetX),he.y=getCoord(ae.offsetY),he.isShow=!0,pe.x=ue.x-(getCoord(ae.offsetX)-ue.x),pe.y=ue.y-(getCoord(ae.offsetY)-ue.y),pe.isShow=!0}mousemove$1.value=!0,setPoints$1(de)}if(!mousedown$1.value){if(!mousemove$1.value&&de.length){saveState("",[StoreType.Pen,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),k=Object.assign({},de[de.length-1]),$=de.length-1;const ue={uuid:genUUID(),type:"anchor",x:getCoord(ae.offsetX),y:getCoord(ae.offsetY),origin:null,isShow:!0},pe={uuid:genUUID(),type:"control",x:ue.x,y:ue.y,origin:ue.uuid,isShow:!1},he={uuid:genUUID(),type:"control",x:ue.x,y:ue.y,origin:ue.uuid,isShow:!1};de.push(pe,ue,he),setPoints$1(de),mousemove$1.value=!0}else if(de.length){$=de.length-4;const ue=de[de.length-2],pe=de[de.length-3],he=de[de.length-1];ue.x=getCoord(ae.offsetX),ue.y=getCoord(ae.offsetY),he.x=getCoord(ae.offsetX),he.y=getCoord(ae.offsetY),y=!1,isNearPoint(getCoord(ae.offsetX),getCoord(ae.offsetY),points$1.value[0].x,points$1.value[0].y,g)&&(ue.x=points$1.value[0].x,ue.y=points$1.value[0].y,he.x=points$1.value[1].x,he.y=points$1.value[1].y,pe.x=points$1.value[0].x-(points$1.value[1].x-points$1.value[0].x),pe.y=points$1.value[0].y-(points$1.value[1].y-points$1.value[0].y),y=!0),setPoints$1(de),mousemove$1.value=!0}}},z=ae=>{if(!(!points$1.value.length||!editing$7)&&(mousedown$1.value=!1,mousemove$1.value=!1,r=null,y)){setEditing$5(!1);const de=genPenComponent(clone$1(points$1).value,!0);setPoints$1([]),e?addComponentForCurrentGlyph(de):addComponentForCurrentCharacterFile(de),k=void 0,$=void 0,y=!1,r=null}},j=ae=>{if(!points$1.value.length||!editing$7)return;const de=clone$1(points$1.value);if(points$1.value.length>=2){const ue={uuid:genUUID(),type:"anchor",x:points$1.value[0].x,y:points$1.value[0].y,origin:null,isShow:!0},pe={uuid:genUUID(),type:"control",x:points$1.value[0].x,y:points$1.value[0].y,origin:ue.uuid,isShow:!1},he={uuid:genUUID(),type:"control",x:points$1.value[0].x,y:points$1.value[0].y,origin:ue.uuid,isShow:!1};de.push(pe,ue,he),setPoints$1(de)}setEditing$5(!1),e?addComponentForCurrentGlyph(genPenComponent(clone$1(points$1).value,!0)):addComponentForCurrentCharacterFile(genPenComponent(clone$1(points$1).value,!0)),setPoints$1([]),k=void 0,$=void 0,y=!1,r=null},re=ae=>{ae.code==="Enter"&&j()};return n.addEventListener("mousedown",V),n.addEventListener("mousemove",L),window.addEventListener("mouseup",z),window.addEventListener("keydown",re),()=>{n.removeEventListener("mousedown",V),n.removeEventListener("mousemove",L),window.removeEventListener("mouseup",z),window.removeEventListener("keydown",re),setEditing$5(!1),setPoints$1([]),k=void 0,$=void 0,y=!1,r=null}},renderPenEditor=n=>{const e=n.getContext("2d"),r=points$1.value.map(y=>({isShow:y.isShow,...mapCanvasCoords({x:y.x,y:y.y})}));if(!r.length)return;const g=10;e.strokeStyle="#000",e.fillStyle="#000",e.beginPath(),e.moveTo(r[0].x,r[0].y),r.length>=4&&e.bezierCurveTo(r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y);for(let y=3;y<r.length-1&&!(y+3>=r.length);y+=3)e.bezierCurveTo(r[y+1].x,r[y+1].y,r[y+2].x,r[y+2].y,r[y+3].x,r[y+3].y);e.stroke(),e.closePath();for(let y=0;y<r.length-1&&(r[y].isShow&&e.fillRect(r[y].x-g/2,r[y].y-g/2,g,g),r[y+1].isShow&&e.strokeRect(r[y+1].x-g/2,r[y+1].y-g/2,g,g),!(y+2>r.length-1));y+=3)r[y+2].isShow&&e.strokeRect(r[y+2].x-g/2,r[y+2].y-g/2,g,g);e.beginPath(),e.moveTo(r[0].x,r[0].y),e.lineTo(r[1].x,r[1].y),e.stroke(),e.closePath();for(let y=3;y<r.length-1;y+=3)r[y-1].isShow&&(e.beginPath(),e.moveTo(r[y].x,r[y].y),e.lineTo(r[y-1].x,r[y-1].y),e.stroke(),e.closePath()),r[y+1].isShow&&(e.beginPath(),e.moveTo(r[y].x,r[y].y),e.lineTo(r[y+1].x,r[y+1].y),e.stroke(),e.closePath())},genPenComponent=(n,e,r="",g="#000")=>{const{x:y,y:k,w:$,h:V}=getBound$4(n.reduce((xe,$e)=>(xe.push({x:$e.x,y:$e.y}),xe),[])),L=0,z=!1,j=!1;let re={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(re.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,re.descender=selectedFile.value.fontSettings.descender,re.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let oe=transformPoints(n,{x:y,y:k,w:$,h:V,rotation:L,flipX:z,flipY:j});const ae=formatPoints(oe,re,1),de=genPenContour(ae),ue=100/re.unitsPerEm,pe=oe.map(xe=>Object.assign({},xe,{x:xe.x*ue,y:xe.y*ue})),he=genPenContour(pe);return{uuid:genUUID(),type:"pen",name:"pen",lock:!1,visible:!0,value:{points:n,fillColor:r,strokeColor:g,closePath:e,editMode:!1,preview:he,contour:de},x:y,y:k,w:$,h:V,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},bezierCurve={q:(n,e)=>{const r=n[0],g=n[1],y=n[2],k=n[3],$=r.x*Math.pow(1-e,3)+3*g.x*e*Math.pow(1-e,2)+3*y.x*e*e*(1-e)+k.x*Math.pow(e,3),V=r.y*Math.pow(1-e,3)+3*g.y*e*Math.pow(1-e,2)+3*y.y*e*e*(1-e)+k.y*Math.pow(e,3);return{x:$,y:V}},qprime:(n,e)=>{const r=n[0],g=n[1],y=n[2],k=n[3],$=3*Math.pow(1-e,2)*(g.x-r.x)+6*(1-e)*e*(y.x-g.x)+3*Math.pow(e,2)*(k.x-y.x),V=3*Math.pow(1-e,2)*(g.y-r.y)+6*(1-e)*e*(y.y-g.y)+3*Math.pow(e,2)*(k.y-y.y);return{x:$,y:V}},qprimeprime:(n,e)=>{const r=n[0],g=n[1],y=n[2],k=n[3],$=6*(1-e)*(y.x-2*g.x+r.x)+6*e*(k.x-2*y.x+g.x),V=6*(1-e)*(y.y-2*g.y+r.y)+6*e*(k.y-2*y.y+g.y);return{x:$,y:V}}},fitCurve=(n,e)=>{const r=e,g=normalize({x:n[1].x-n[0].x,y:n[1].y-n[0].y}),y=normalize({x:n[n.length-2].x-n[n.length-1].x,y:n[n.length-2].y-n[n.length-1].y});return fitCubic(n,g,y,r)},fitCubic=(n,e,r,g)=>{if(n.length===2){const re=norm({x:n[1].x-n[0].x,y:n[1].y-n[0].y})/3;return[[n[0],{x:n[0].x+e.x*re,y:n[0].y+e.y*re},{x:n[1].x+r.x*re,y:n[1].y+r.y*re},n[1]]]}let y=chordLengthParamerize(n),k=generateBezier(n,y,e,r);const{maxDist:$,splitPoint:V}=computeMaxError(n,k,y);if($<g)return[k];if($<Math.pow(g,2))for(let re=0;re<20;re++){const oe=reparameterize(k,n,y);k=generateBezier(n,oe,e,r);const{maxDist:ae,splitPoint:de}=computeMaxError(n,k,y);if(ae<g)return[k];y=oe}const L=[],z=normalize({x:n[V-1].x-n[V+1].x,y:n[V-1].y-n[V+1].y}),j={x:-z.x,y:-z.y};return L.push(...fitCubic(n.slice(0,V+1),e,z,g)),L.push(...fitCubic(n.slice(V),j,r,g)),L},generateBezier=(n,e,r,g)=>{const y=[n[0],null,null,n[n.length-1]],k=[];for(let ue=0;ue<e.length;ue++){const pe=e[ue];k[ue]=[],k[ue].push([r.x*3*Math.pow(1-pe,2)*pe,r.y*3*Math.pow(1-pe,2)*pe]),k[ue].push([g.x*3*(1-pe)*Math.pow(pe,2),g.y*3*(1-pe)*Math.pow(pe,2)])}const $=[[0,0],[0,0]],V=[0,0];for(let ue=0;ue<n.length;ue++){const pe=n[ue],he=e[ue];$[0][0]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},{x:k[ue][0][0],y:k[ue][0][1]}),$[0][1]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},{x:k[ue][1][0],y:k[ue][1][1]}),$[1][0]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},{x:k[ue][1][0],y:k[ue][1][1]}),$[1][1]+=dot$1({x:k[ue][1][0],y:k[ue][1][1]},{x:k[ue][1][0],y:k[ue][1][1]});const xe=bezierCurve.q([n[0],n[0],n[n.length-1],n[n.length-1]],he),$e={x:pe.x-xe.x,y:pe.y-xe.y};V[0]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},$e),V[1]+=dot$1({x:k[ue][1][0],y:k[ue][1][1]},$e)}const L=$[0][0]*$[1][1]-$[1][0]*$[0][1],z=$[0][0]*V[1]-$[1][0]*V[0],j=V[0]*$[1][1]-V[1]*$[0][1],re=L===0?0:j/L,oe=L===0?0:z/L,ae=norm({x:n[0].x-n[n.length-1].x,y:n[0].y-n[n.length-1].y}),de=1e-6*ae;return re<de||oe<de?(y[1]={x:y[0].x+r.x*(ae/3),y:y[0].y+r.y*(ae/3)},y[2]={x:y[3].x+g.x*(ae/3),y:y[3].y+g.y*(ae/3)}):(y[1]={x:y[0].x+r.x*re,y:y[0].y+r.y*re},y[2]={x:y[3].x+g.x*oe,y:y[3].y+g.y*oe}),y},reparameterize=(n,e,r)=>{const g=[];for(let y=0;y<r.length;y++){const k=r[y],$=e[y];g.push(newtonRaphsonRootFind(n,$,k))}return g},newtonRaphsonRootFind=(n,e,r)=>{const g=bezierCurve.q(n,r),y={x:g.x-e.x,y:g.y-e.y},k=bezierCurve.qprime(n,r),$=bezierCurve.qprimeprime(n,r),V=y.x*k.x+y.y*k.y,L=Math.pow(k.x,2)+y.x*$.x+Math.pow(k.y,2)+y.y*$.y;return L===0?r:r-V/L},chordLengthParamerize=n=>{const e=[0];for(let r=1;r<n.length;r++)e.push(e[r-1]+norm({x:n[r].x-n[r-1].x,y:n[r].y-n[r-1].y}));for(let r=0;r<e.length;r++)e[r]=e[r]/e[e.length-1];return e},computeMaxError=(n,e,r)=>{let g=0,y=n.length/2;for(let k=0;k<n.length;k++){const $=bezierCurve.q(e,r[k]),V=n[k],L=norm({x:$.x-V.x,y:$.y-V.y});L>g&&(g=L,y=k)}return{maxDist:g,splitPoint:y}},normalize=n=>n.x===0&&n.y===0?{x:0,y:0}:{x:n.x/norm(n),y:n.y/norm(n)},norm=n=>Math.sqrt(n.x*n.x+n.y*n.y),dot$1=(n,e)=>n.x*e.x+n.y*e.y,mesh=(n,e)=>{const{unitsPerEm:r,descender:g}=selectedFile.value.fontSettings,y=.8*r,k=.6*r,$=16,V=n.width,L=n.height,z=n.getContext("2d");z.fillStyle="#dcdfe6",z.fillRect(0,0,V,L);const j=(V-mapCanvasWidth(y))/2,re=j+mapCanvasWidth(y),oe=L+mapCanvasHeight(g)-mapCanvasHeight(k),ae=[0,8,16],de=oe+mapCanvasHeight(k);for(let ue=0;ue<=$;ue++){const pe=j+mapCanvasWidth(y)/$*ue;z.strokeStyle=ae.indexOf(ue)!==-1?"#811616":"#cda2a2",z.beginPath(),z.moveTo(pe,oe),z.lineTo(pe,de),z.closePath(),z.stroke()}for(let ue=0;ue<=$;ue++){const pe=oe+mapCanvasHeight(k)/$*ue;z.strokeStyle=ae.indexOf(ue)!==-1?"#811616":"#cda2a2",z.beginPath(),z.moveTo(j,pe),z.lineTo(re,pe),z.closePath(),z.stroke()}},transparent=n=>{const e=n.width,r=n.height,g=n.getContext("2d"),y=mapCanvasWidth(grid.precision);for(let k=0;k<e;k+=2*y)for(let $=0;$<r;$+=2*y)g.fillStyle="#FFFFFF",g.fillRect(k,$,y,y),g.fillRect(k+y,$+y,y,y),g.fillStyle="#EFEFEF",g.fillRect(k+y,$,y,y),g.fillRect(k,$+y,y,y)};class PenComponent{points;hasPathBegan=!1;type="glyph-pen";usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(){}beginPath(){this.hasPathBegan=!0,this.points=[]}closePath(){this.hasPathBegan=!1}moveTo(e,r){this.hasPathBegan&&!this.points.length&&(this.points[0]={uuid:genUUID(),type:"anchor",x:e,y:r,origin:null})}bezierTo(e,r,g,y,k,$){if(this.hasPathBegan&&this.points.length){const V=this.points[this.points.length-1].uuid,L=genUUID();this.points.push({uuid:genUUID(),type:"control",x:e,y:r,origin:V}),this.points.push({uuid:genUUID(),type:"control",x:g,y,origin:L}),this.points.push({uuid:L,type:"anchor",x:k,y:$,origin:null})}}quadraticBezierTo(e,r,g,y){if(this.hasPathBegan&&this.points.length){const k=this.points[this.points.length-1].uuid,$=genUUID();this.points.push({uuid:genUUID(),type:"control",x:this.points[this.points.length-1].x+2/3*(e-this.points[this.points.length-1].x),y:this.points[this.points.length-1].y+2/3*(r-this.points[this.points.length-1].y),origin:k}),this.points.push({uuid:genUUID(),type:"control",x:g+2/3*(e-g),y:y+2/3*(r-y),origin:$}),this.points.push({uuid:$,type:"anchor",x:g,y,origin:null})}}lineTo(e,r){if(this.hasPathBegan&&this.points.length){const g=this.points[this.points.length-1].uuid,y=genUUID();this.points.push({uuid:genUUID(),type:"control",x:this.points[this.points.length-1].x,y:this.points[this.points.length-1].y,origin:g}),this.points.push({uuid:genUUID(),type:"control",x:e,y:r,origin:y}),this.points.push({uuid:y,type:"anchor",x:e,y:r,origin:null})}}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale;if(this.points.length>=4){const y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.moveTo(mapCanvasX(this.points[0].x)*g,mapCanvasY(this.points[0].y)*g);for(let k=1;k<this.points.length;k+=3)y.bezierCurveTo(mapCanvasX(this.points[k].x)*g,mapCanvasY(this.points[k].y)*g,mapCanvasX(this.points[k+1].x)*g,mapCanvasY(this.points[k+1].y)*g,mapCanvasX(this.points[k+2].x)*g,mapCanvasY(this.points[k+2].y)*g);y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=k=>({x:r.offset.x+k.x,y:r.offset.y+k.y}),y=r.scale;if(this.points.length>=4){const k=e.getContext("2d");k.strokeStyle="#000",k.beginPath();const $=computeCoords(r.grid,g(this.points[0]));k.moveTo(mapCanvasX($.x)*y,mapCanvasY($.y)*y);for(let V=1;V<this.points.length;V+=3){const L=computeCoords(r.grid,g(this.points[V])),z=computeCoords(r.grid,g(this.points[V+1])),j=computeCoords(r.grid,g(this.points[V+2]));k.bezierCurveTo(mapCanvasX(L.x)*y,mapCanvasY(L.y)*y,mapCanvasX(z.x)*y,mapCanvasY(z.y)*y,mapCanvasX(j.x)*y,mapCanvasY(j.y)*y)}k.stroke(),k.closePath(),k.setTransform(1,0,0,1,0,0)}}getData=()=>({points:clone$1(this.points),type:this.type,hasPathBegan:this.hasPathBegan,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.points=clone$1(e.points),this.type=e.type,this.hasPathBegan=e.hasPathBegan,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=this.points;y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe});let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value?.fontSettings.unitsPerEm||1e3,k.descender=selectedFile.value?.fontSettings.descender||-200,k.advanceWidth=selectedFile.value?.fontSettings.unitsPerEm||1e3);const $=formatPoints(y,k,1),V=genPenContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genPenContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=this.points,r=genPenContour(e);this.contour2=r}}class PolygonComponent{points;type="glyph-polygon";hasPathBegan=!1;usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(){}beginPath(){this.hasPathBegan=!0,this.points=[]}closePath(){this.hasPathBegan=!1}moveTo(e,r){this.hasPathBegan&&!this.points.length&&(this.points[0]={uuid:genUUID(),x:e,y:r})}lineTo(e,r){this.hasPathBegan&&this.points.length&&this.points.push({uuid:genUUID(),x:e,y:r})}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale;if(this.points.length>=4){const y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.moveTo(mapCanvasX(this.points[0].x)*g,mapCanvasY(this.points[0].y)*g);for(let k=1;k<this.points.length;k++)y.lineTo(mapCanvasX(this.points[k].x)*g,mapCanvasY(this.points[k].y)*g);y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=k=>({x:r.offset.x+k.x,y:r.offset.y+k.y}),y=r.scale;if(this.points.length>=4){const k=e.getContext("2d");k.strokeStyle="#000",k.beginPath();const $=computeCoords(r.grid,g(this.points[0]));k.moveTo(mapCanvasX($.x)*y,mapCanvasY($.y)*y);for(let V=1;V<this.points.length;V++){const{x:L,y:z}=computeCoords(r.grid,g(this.points[V]));k.lineTo(mapCanvasX(L)*y,mapCanvasY(z)*y)}k.stroke(),k.closePath(),k.setTransform(1,0,0,1,0,0)}}getData=()=>({points:clone$1(this.points),type:this.type,hasPathBegan:this.hasPathBegan,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.points=clone$1(e.points),this.type=e.type,this.hasPathBegan=e.hasPathBegan,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=this.points;y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe});let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genPolygonContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genPolygonContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=this.points,r=genPolygonContour(e);this.contour2=r}}class RectangleComponent{x;y;width;height;type="glyph-rectangle";usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(e,r,g,y){this.x=e,this.y=r,this.width=g,this.height=y}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale,y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.rect(mapCanvasX(this.x)*g,mapCanvasY(this.y)*g,mapCanvasX(this.width)*g,mapCanvasY(this.height)*g),y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=L=>({x:r.offset.x+L.x,y:r.offset.y+L.y}),y=getRectanglePoints(this.width,this.height,this.x,this.y),k=r.scale,$=e.getContext("2d");$.strokeStyle="#000",$.beginPath();const V=computeCoords(r.grid,g({x:y[0].x,y:y[0].y}));$.moveTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k);for(let L=1;L<y.length;L++){const{x:z,y:j}=computeCoords(r.grid,g({x:y[L].x,y:y[L].y}));$.lineTo(mapCanvasX(z)*k,mapCanvasY(j)*k)}$.lineTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k),$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}getData=()=>({x:this.x,y:this.y,width:this.width,height:this.height,type:this.type,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.type=e.type,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=getRectanglePoints(this.width,this.height,this.x,this.y);y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe}),g&&(y=y.map(re=>computeCoords(g,re)));let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genRectangleContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genRectangleContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=getRectanglePoints(this.width,this.height,this.x,this.y),r=genRectangleContour(e);this.contour2=r}}class Joint{_x;_y;uuid;name;constructor(e,r){this._x=r.x,this._y=r.y,this.name=e,this.uuid=genUUID()}render(e){const g=e.getContext("2d");g.beginPath(),g.fillStyle="blue",g.fillRect(mapCanvasX(this.x)-4,mapCanvasY(this.y)-4,4*2,4*2),g.closePath(),g.setTransform(1,0,0,1,0,0)}getCoords(){return{x:this.x,y:this.y}}getPlainCoords(){return{x:this.x,y:this.y}}get x(){return this._x}get y(){return this._y}getData=()=>({_x:this._x,_y:this._y,uuid:this.uuid,name:this.name});setData=e=>{this._x=e._x,this._y=e._y,this.uuid=e.uuid,this.name=e.name}}const renderJoint=(n,e)=>{const g=n.getContext("2d");g.beginPath(),g.fillStyle="blue",g.fillRect(mapCanvasX(e.x)-4,mapCanvasY(e.y)-4,4*2,4*2),g.closePath(),g.setTransform(1,0,0,1,0,0)},renderRefLine=(n,e)=>{const r=n.getContext("2d"),g=e.start,y=e.end;r.strokeStyle=e.type==="ref"?"red":"blue",r.beginPath(),r.moveTo(mapCanvasX(g.x),mapCanvasY(g.y)),r.lineTo(mapCanvasX(y.x),mapCanvasY(y.y)),r.stroke()},renderJoints=(n,e)=>{const r=(g,y,k)=>{const $=g.ox+y,V=g.oy+k;g.value._o.getJoints().map(L=>{const{x:z,y:j}=L.getCoords();renderJoint(e,{x:z+$,y:j+V})}),g.type==="glyph"&&g.value.components&&g.value.components.length&&g.value.components.map(L=>{r(L,$,V)})};r(n,0,0)},renderRefLines=(n,e)=>{const r=(g,y,k)=>{const $=g.ox+y,V=g.oy+k;g.value._o.getRefLines().map(L=>{const z=g.value._o.getJoint(L.start),j=g.value._o.getJoint(L.end),re={start:{x:z.x+$,y:z.y+V},end:{x:j.x+$,y:j.y+V},type:L.type};renderRefLine(e,re)}),g.type==="glyph"&&g.value.components&&g.value.components.length&&g.value.components.map(L=>{r(L,$,V)})};r(n,0,0)},getJoints=(n,e)=>{let r=[];const g=(y,k,$)=>{const V=y.ox+k,L=y.oy+$;e===y.uuid&&(r=y.value._o.getJoints().map(z=>{const{x:j,y:re}=z.getCoords();return{name:z.name,x:j+V,y:re+L}})),y.type==="glyph"&&y.value.components&&y.value.components.length&&y.value.components.map(z=>{g(z,V,L)})};return g(n,0,0),r};class CustomGlyph{_glyph;_joints=[];_reflines=[];_components=[];onSkeletonDrag=null;onSkeletonDragEnd=null;onSkeletonDragStart=null;getSkeleton=null;getComponentsBySkeleton=null;tempData=null;constructor(e){this._glyph=e,e._o=this}getJoints(){return this._glyph.joints?[...this._glyph.joints,...this._joints]:this._joints}getRefLines(){return this._glyph.reflines?this._glyph.reflines.concat(this._reflines):[].concat(this._reflines)}addJoint(e){this._joints.push(e)}addComponent(e){this._components.push(e)}clear(){this._joints=[],this._components=[],this._reflines=[]}render(e,r=!0,g={x:0,y:0},y=!1,k=1){const $=e.getContext("2d");renderCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!1}),this._components.forEach(V=>{V.render(e,{offset:g,scale:k})}),(fontRenderStyle.value==="color"||y)&&($.fillStyle="#000",$.fill())}render_forceUpdate(e,r=!0,g={x:0,y:0},y=!1,k=1){const $=e.getContext("2d");renderCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!0}),this._components.forEach(V=>{V.render(e,{offset:g,scale:k})}),(fontRenderStyle.value==="color"||y)&&($.fillStyle="#000",$.fill())}render_grid(e,r=!0,g={x:0,y:0},y=!1,k=1,$,V=!1){const L=e.getContext("2d");if(renderGridCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!1,grid:$,useSkeletonGrid:V}),!V)this._components.forEach(z=>{z.render_grid(e,{offset:g,scale:k,grid:$})});else if(this.getSkeleton&&this.getComponentsBySkeleton){const z=this.getSkeleton(),j={},re=Object.keys(z);for(let ae=0;ae<re.length;ae++){const de=re[ae],ue=z[de],pe={x:ue.x+g.x,y:ue.y+g.y};j[de]=computeCoords($,pe)}const oe=this.getComponentsBySkeleton(j);for(let ae=0;ae<oe.length;ae++)oe[ae].render(e,{offset:{x:0,y:0},scale:.5})}(fontRenderStyle.value==="color"||y)&&(L.fillStyle="#000",L.fill())}render_grid_forceUpdate(e,r=!0,g={x:0,y:0},y=!1,k=1,$,V=!1){const L=e.getContext("2d");renderCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!0,grid:$,useSkeletonGrid:V}),this._components.forEach(z=>{z.render_grid(e,{offset:g,scale:k,grid:$})}),(fontRenderStyle.value==="color"||y)&&(L.fillStyle="#000",L.fill())}renderJoints(e,r={type:"all"}){r.type==="all"?this.getJoints().forEach(g=>{g.render(e)}):r.type==="selected"&&r.joints.length&&this.getJoints().forEach(g=>{r.joints.indexOf(g.name)!==-1&&g.render(e)})}renderRefLines(e,r={type:"all"}){r.type==="all"?this.getRefLines().forEach(g=>{const y=e.getContext("2d"),k=this.getJoint(g.start).getCoords(),$=this.getJoint(g.end).getCoords();y.strokeStyle=g.type==="ref"?"red":"blue",y.beginPath(),y.moveTo(mapCanvasX(k.x),mapCanvasY(k.y)),y.lineTo(mapCanvasX($.x),mapCanvasY($.y)),y.stroke()}):r.type==="selected"&&r.reflines.length&&this.getRefLines().forEach(g=>{if(r.reflines.indexOf(g.name)!==-1){const y=e.getContext("2d"),k=this.getJoint(g.start).getCoords(),$=this.getJoint(g.end).getCoords();y.strokeStyle=g.type==="ref"?"red":"blue",y.beginPath(),y.moveTo(mapCanvasX(k.x),mapCanvasY(k.y)),y.lineTo(mapCanvasX($.x),mapCanvasY($.y)),y.stroke()}})}addRefLine(e){this._reflines.push(e)}getParam(e){return this._glyph.parameters.get(e)}getParamRange(e){return this._glyph.parameters.getRange(e)}setParam(e,r){this._glyph.parameters.set(e,r)}getJoint(e){const r=this.getJoints().filter(g=>g.name===e);return r.length?r[0]:null}get components(){return orderedListWithItemsForGlyph(this._glyph).concat(this._components)}getRatioLayout(e){return getRatioLayout2(this._glyph,e)}getComponent(e){for(let r=0;r<this._glyph.components.length;r++)if(this._glyph.components[r].name===e)return this._glyph.components[r];return null}getGlyph(e){for(let r=0;r<this._glyph.components.length;r++)if(this._glyph.components[r].name===e)return this._glyph.components[r].value._o;return null}getData=()=>({_joints:this._joints.map(e=>e?.getData()),_reflines:this._reflines,_components:this._components.map(e=>e.getData())});setData=e=>{this._joints=e._joints.map(r=>{const g=new Joint(r.name,{x:r._x,y:r._y});return g.setData(r),g}),this._reflines=e._reflines,this._components=e._components.map(r=>{let g=null;switch(r.type){case"glyph-pen":{g=new PenComponent;break}case"glyph-ellipse":{g=new EllipseComponent(r.centerX,r.centerY,r.radiusX,r.radiusY);break}case"glyph-polygon":{g=new PolygonComponent;break}case"glyph-rectangle":{g=new RectangleComponent(r.x,r.y,r.width,r.height);break}}return g.setData(r),g})}}const getRatioCoords=(n,e,r,g,y)=>{const{x1:k,x2:$,y1:V,y2:L,l:z}=y,{x:j,y:re,w:oe,h:ae}=n.rect,de=g*z/ae,ue=re/z*de+r;let pe=0;ue<=de/3?pe=Math.round(ue/(de/3)*V):ue<=de/3*2?pe=V+Math.round((ue-de/3)/(de/3)*(L-V)):pe=L+Math.round((ue-de/3*2)/(de/3)*(z-L));const he=g*z/oe,xe=j/z*he+e;let $e=0;return xe<=he/3?$e=Math.round(xe/(he/3)*k):xe<=he/3*2?$e=k+Math.round((xe-he/3)/(he/3)*($-k)):$e=$+Math.round((xe-he/3*2)/(he/3)*(z-$)),{x:$e,y:pe}},renderLayout=(layoutTree,rect,level,params,canvas)=>{const ctx=canvas.getContext("2d");ctx.strokeStyle="red",ctx.fillStyle="rgba(255, 0, 0, 0.2)";const{x1,x2,y1,y2,l}=params,mapCanvas=n=>n/l*canvas.width,d=5*level;let dir="H";layoutTree[0].label===""&&(dir="V");for(let i=0;i<layoutTree.length;i++){const node=layoutTree[i];let{x:_x,y:_y,w:_w,h:_h}=rect;if(dir==="H"?(_y=rect.y,_x=eval(node.coords[0]),_w=eval(node.coords[1])-_x,_h=rect.h):dir==="V"&&(_x=rect.x,_y=eval(node.coords[0]),_w=rect.w,_h=eval(node.coords[1])-_y),ctx.fillRect(mapCanvas(_x)+d,mapCanvas(_y)+d,mapCanvas(_w)-2*d,mapCanvas(_h)-2*d),ctx.strokeRect(mapCanvas(_x)+d,mapCanvas(_y)+d,mapCanvas(_w)-2*d,mapCanvas(_h)-2*d),node.children&&node.children.length)renderLayout(node.children,{x:_x,y:_y,w:_w,h:_h},level+1,params,canvas);else if(node.showCoords==="ratio"){ctx.fillStyle="red";const n=5;for(let e=0;e<node.coordsSegment;e++)for(let r=0;r<node.coordsSegment;r++){const g=getRatioCoords(node,e,r,node.coordsSegment,params);ctx.fillRect(mapCanvas(g.x)-n,mapCanvas(g.y)-n,2*n,2*n)}ctx.fillStyle="rgba(255, 0, 0, 0.2)"}}},layoutGrid=n=>{const{dx:e,dy:r,centerSquareSize:g,size:y}=editCharacterFile.value.info.gridSettings,k=editCharacterFile.value.info.layoutTree,$=Math.round((y-g)/2)+e,V=Math.round((y-g)/2+g)+e,L=Math.round((y-g)/2)+r,z=Math.round((y-g)/2+g)+r,j=[mapCanvasWidth(y/2)+mapCanvasWidth(e),mapCanvasHeight(y/2)+mapCanvasHeight(r)],re=n.getContext("2d");re.strokeStyle="#811616",re.lineWidth=2,re.beginPath(),re.moveTo(0,mapCanvasHeight(L)),re.lineTo(mapCanvasWidth(y),mapCanvasHeight(L)),re.stroke(),re.closePath(),re.beginPath(),re.moveTo(0,mapCanvasHeight(z)),re.lineTo(mapCanvasWidth(y),mapCanvasHeight(z)),re.stroke(),re.closePath(),re.beginPath(),re.moveTo(mapCanvasWidth($),0),re.lineTo(mapCanvasWidth($),mapCanvasHeight(y)),re.stroke(),re.closePath(),re.beginPath(),re.moveTo(mapCanvasWidth(V),0),re.lineTo(mapCanvasWidth(V),mapCanvasHeight(y)),re.stroke(),re.closePath(),re.beginPath(),re.strokeStyle="#153063",re.rect(mapCanvasWidth(y/2-g/4),mapCanvasHeight(y/2-g/4),mapCanvasWidth(g/2),mapCanvasHeight(g/2)),re.stroke(),re.closePath(),re.fillStyle="#153063",re.lineWidth=0,re.beginPath(),re.arc(j[0],j[1],20,0,2*Math.PI),re.closePath(),re.fill(),k.length&&renderLayout(k,{x:0,y:0,w:y,h:y},1,{x1:$,x2:V,y1:L,y2:z,l:y},n)},editing$3=ref(!1),setEditing$1=n=>{editing$3.value=n},draggingJoint$1=ref(null),putAtCoord$1=ref(null),movingJoint$1=ref(null),editCharacterFileOnDragging=ref(null);computed(()=>{if(!editCharacterFileOnDragging.value)return null;const n=editCharacterFileOnDragging.value;if(!editCharacterFile.value?.selectedComponentsTree||!editCharacterFile?.selectedComponentsTree.length)return null;let e=null;for(let g=0;g<editCharacterFile.value?.selectedComponentsTree.length-1;g++){const y=editCharacterFile.value?.selectedComponentsTree[g];e?e=selectedItemByUUID(e.value.components,y):e=selectedItemByUUID(n.components,y)}return e.value.components.map(g=>selectedItemByUUID(e.value.components,g.uuid))});const SubComponentsRootOnDragging$1=computed(()=>{if(!editCharacterFileOnDragging.value)return null;const n=editCharacterFileOnDragging.value;if(!editCharacterFile.value?.selectedComponentsTree||!editCharacterFile.value?.selectedComponentsTree.length)return null;let e=null;for(let r=0;r<editCharacterFile.value?.selectedComponentsTree.length-1;r++){const g=editCharacterFile.value?.selectedComponentsTree[r];e?e=selectedItemByUUID(e.value.components,g):e=selectedItemByUUID(n.components,g)}return e}),selectedSubComponentOnDragging$1=computed(()=>{let n=null;if(!editCharacterFileOnDragging.value)n=null;else{const e=editCharacterFileOnDragging.value;if(!editCharacterFile.value?.selectedComponentsTree||!editCharacterFile.value?.selectedComponentsTree.length)n=null;else{let r=null;for(let y=0;y<editCharacterFile.value?.selectedComponentsTree.length-1;y++){const k=editCharacterFile.value?.selectedComponentsTree[y];r?r=selectedItemByUUID(r.value.components,k):r=selectedItemByUUID(e.components,k)}const g=editCharacterFile.value?.selectedComponentsTree[editCharacterFile.value?.selectedComponentsTree.length-1];g!=="null"&&(n=selectedItemByUUID(r.value.components,g))}}return n}),selectedComponentsOnDragging$1=computed(()=>{if(!editCharacterFileOnDragging.value)return null;const n=editCharacterFileOnDragging.value;return editCharacterFile.value?.selectedComponentsUUIDs.map(r=>traverseComponents(n.components,r))}),selectedComponentOnDragging$1=computed(()=>!selectedComponentsOnDragging$1.value||selectedComponentsOnDragging$1.value.length===0?null:selectedComponentsOnDragging$1.value.length===1?selectedComponentsOnDragging$1.value[0]:"multi"),clearCanvas=n=>{const e=n.getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height)},fillBackground=(n,e,r)=>{const g=n.width,y=n.height,k=n.getContext("2d");e.type===BackgroundType.Color&&(k.fillStyle=e.color,k.fillRect(0,0,g,y)),e.type===BackgroundType.Transparent&&transparent(n),r.type===GridType.Mesh?mesh(n,r.precision):r.type===GridType.LayoutGrid&&layoutGrid(n)},renderCanvas=(n,e,r={fill:!1,offset:{x:0,y:0},scale:1,forceUpdate:!1})=>{const g=r.scale,y=e.getContext("2d");y.beginPath(),n.map((k,$)=>{if(k.visible){if(k.type==="pen"){const{x:V,y:L,w:z,h:j,rotation:re,flipX:oe,flipY:ae}=k,de=mapCanvasX(V)*g,ue=mapCanvasY(L)*g,pe=mapCanvasWidth(z)*g,he=mapCanvasHeight(j)*g,{strokeColor:xe,fillColor:$e,points:Ne,closePath:Oe}=k.value;y.strokeStyle=xe||"#000",y.fillStyle=$e||"rgba(0, 0, 0, 0)",$e==="none"&&(y.fillStyle="rgba(0, 0, 0, 0)");let _e=transformPoints(Ne,{x:V,y:L,w:z,h:j,rotation:0,flipX:oe,flipY:ae});_e=_e.map(Fe=>mapCanvasCoords({x:Fe.x*g,y:Fe.y*g})),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(de+pe/2,ue+he/2),y.rotate(re*Math.PI/180),y.translate(-(de+pe/2),-(ue+he/2)),y.moveTo(_e[0].x,_e[0].y),_e.length>=4&&y.bezierCurveTo(_e[1].x,_e[1].y,_e[2].x,_e[2].y,_e[3].x,_e[3].y);for(let Fe=3;Fe<_e.length-1&&!(Fe+3>=_e.length);Fe+=3)y.bezierCurveTo(_e[Fe+1].x,_e[Fe+1].y,_e[Fe+2].x,_e[Fe+2].y,_e[Fe+3].x,_e[Fe+3].y);y.setTransform(1,0,0,1,0,0)}if(k.type==="polygon"){const{x:V,y:L,w:z,h:j,rotation:re,flipX:oe,flipY:ae}=k,de=mapCanvasX(V)*g,ue=mapCanvasY(L)*g,pe=mapCanvasWidth(z)*g,he=mapCanvasHeight(j)*g,{strokeColor:xe,fillColor:$e,points:Ne,closePath:Oe}=k.value;y.strokeStyle=xe||"#000",y.fillStyle=$e||"rgba(0, 0, 0, 0)";let _e=transformPoints(Ne,{x:V,y:L,w:z,h:j,rotation:0,flipX:oe,flipY:ae});_e=_e.map(Fe=>mapCanvasCoords({x:Fe.x*g,y:Fe.y*g})),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(de+pe/2,ue+he/2),y.rotate(re*Math.PI/180),y.translate(-(de+pe/2),-(ue+he/2)),y.moveTo(_e[0].x,_e[0].y);for(let Fe=1;Fe<_e.length;Fe++)y.lineTo(_e[Fe].x,_e[Fe].y);y.setTransform(1,0,0,1,0,0)}if(k.type==="ellipse"){const{x:V,y:L,w:z,h:j,rotation:re}=k,oe=mapCanvasX(V)*g,ae=mapCanvasY(L)*g,de=mapCanvasWidth(z)*g,ue=mapCanvasHeight(j)*g,{strokeColor:pe,fillColor:he,closePath:xe}=k.value,$e=de/2,Ne=ue/2,Oe=oe,_e=ae;y.strokeStyle=pe||"#000",y.fillStyle=he||"rgba(0, 0, 0, 0)",y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2)),y.moveTo(Oe+2*$e,_e+Ne),y.ellipse(Oe+$e,_e+Ne,$e,Ne,0,0,2*Math.PI),y.setTransform(1,0,0,1,0,0)}if(k.type==="rectangle"){const{x:V,y:L,w:z,h:j,rotation:re}=k,oe=mapCanvasX(V)*g,ae=mapCanvasY(L)*g,de=mapCanvasWidth(z)*g,ue=mapCanvasHeight(j)*g,{strokeColor:pe,fillColor:he,closePath:xe}=k.value,$e=de,Ne=ue,Oe=oe,_e=ae;y.strokeStyle=pe||"#000",y.fillStyle=he||"rgba(0, 0, 0, 0)",y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2)),y.rect(Oe,_e,$e,Ne),y.setTransform(1,0,0,1,0,0)}if(k.type==="picture"){const{x:V,y:L,w:z,h:j,rotation:re}=k,oe=mapCanvasX(V)*g,ae=mapCanvasY(L)*g,de=mapCanvasWidth(z)*g,ue=mapCanvasHeight(j)*g,{img:pe,pixelMode:he,pixels:xe}=k.value;if(!he)k.opacity&&(y.globalAlpha=k.opacity),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2)),y.drawImage(pe,oe,ae,de,ue),y.setTransform(1,0,0,1,0,0),k.opacity&&(y.globalAlpha=1);else{k.opacity&&(y.globalAlpha=k.opacity),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2));for(let $e=0;$e<de;$e++)for(let Ne=0;Ne<ue;Ne++){const Oe=pe.width,_e=pe.height,Fe=Math.floor($e*Oe/de),kt=(Math.floor(Ne*_e/ue)*Oe+Fe)*4;y.fillStyle=`rgba(${xe[kt]}, ${xe[kt+1]}, ${xe[kt+2]}, ${xe[kt+3]})`,y.fillRect($e,Ne,1,1)}k.opacity&&(y.globalAlpha=1),y.setTransform(1,0,0,1,0,0)}}if(k.type==="glyph"){(!k.value._o||!k.value._o.components||!k.value._o.components.length||r.forceUpdate)&&executeScript(k.value);const V=k.value._o?k.value._o:new CustomGlyph(k.value);r.forceUpdate?V.render_forceUpdate(e,!0,{x:r.offset.x+k.ox,y:r.offset.y+k.oy},!1,g):V.render(e,!0,{x:r.offset.x+k.ox,y:r.offset.y+k.oy},!1,g)}}}),y.closePath(),(fontRenderStyle.value==="color"||r.fill)&&(y.fillStyle="#000",y.fill("nonzero")),y.stroke()},computeCoords=(n,e)=>{let{dx:r,dy:g,size:y,centerSquareSize:k,x1:$,x2:V,y1:L,y2:z}=n;(!$||!V||!L||!z)&&($=Math.round((y-k)/2)+r,V=Math.round((y-k)/2+k)+r,L=Math.round((y-k)/2)+g,z=Math.round((y-k)/2+k)+g);const{x:j,y:re}=e;let oe=j,ae=re;return j<y/3?oe=j*$/(y/3):j>=y/3&&j<y*2/3?oe=$+(j-y/3)*(V-$)/(y/3):oe=V+(j-y*2/3)*(y-V)/(y/3),re<y/3?ae=re*L/(y/3):re>=y/3&&re<y*2/3?ae=L+(re-y/3)*(z-L)/(y/3):ae=z+(re-y*2/3)*(y-z)/(y/3),{x:oe,y:ae}},renderGridCanvas=(n,e,r={fill:!1,offset:{x:0,y:0},scale:1,forceUpdate:!1,grid:null,useSkeletonGrid:!1})=>{if(!r.grid)return;const g=L=>({x:r.offset.x+L.x,y:r.offset.y+L.y}),y=r.grid,k=r.scale,$=r.useSkeletonGrid,V=e.getContext("2d");V.beginPath(),n.map((L,z)=>{if(L.visible){if(L.type==="pen"){if($)return;const{x:j,y:re,w:oe,h:ae,rotation:de,flipX:ue,flipY:pe}=L,{strokeColor:he,fillColor:xe,points:$e,closePath:Ne}=L.value;V.strokeStyle=he||"#000",V.fillStyle=xe||"rgba(0, 0, 0, 0)",xe==="none"&&(V.fillStyle="rgba(0, 0, 0, 0)");let Oe=transformPoints($e,{x:j,y:re,w:oe,h:ae,rotation:de,flipX:ue,flipY:pe});Oe=Oe.map(_e=>{const{x:Fe,y:Ue}=computeCoords(y,g(_e));return mapCanvasCoords({x:Fe*k,y:Ue*k})}),V.moveTo(Oe[0].x,Oe[0].y);for(let _e=1;_e<Oe.length-2;_e+=3)V.bezierCurveTo(Oe[_e].x,Oe[_e].y,Oe[_e+1].x,Oe[_e+1].y,Oe[_e+2].x,Oe[_e+2].y);V.stroke(),V.closePath(),V.setTransform(1,0,0,1,0,0)}if(L.type==="polygon"){if($)return;const{x:j,y:re,w:oe,h:ae,rotation:de,flipX:ue,flipY:pe}=L,{strokeColor:he,fillColor:xe,points:$e,closePath:Ne}=L.value;V.strokeStyle=he||"#000",V.fillStyle=xe||"rgba(0, 0, 0, 0)";let Oe=transformPoints($e,{x:j,y:re,w:oe,h:ae,rotation:de,flipX:ue,flipY:pe});Oe=Oe.map(_e=>{const{x:Fe,y:Ue}=computeCoords(y,g(_e));return mapCanvasCoords({x:Fe*k,y:Ue*k})}),V.beginPath(),V.moveTo(Oe[0].x,Oe[0].y);for(let _e=1;_e<Oe.length;_e++)V.lineTo(Oe[_e].x,Oe[_e].y);V.stroke(),V.closePath(),V.setTransform(1,0,0,1,0,0)}if(L.type==="ellipse"){if($)return;const{x:j,y:re,w:oe,h:ae,rotation:de}=L,ue=oe/2,pe=ae/2,he=j,xe=re;let $e=getEllipsePoints(ue,pe,1e3,he+ue,xe+pe),Ne=transformPoints($e,{x:j,y:re,w:oe,h:ae,rotation:de,flipX:!1,flipY:!1});Ne=Ne.map(Oe=>{const{x:_e,y:Fe}=computeCoords(y,g(Oe));return mapCanvasCoords({x:_e*k,y:Fe*k})}),L.value,V.beginPath(),V.moveTo(Ne[0].x,Ne[0].y);for(let Oe=1;Oe<Ne.length;Oe++)V.lineTo(Ne[Oe].x,Ne[Oe].y);V.lineTo(Ne[0].x,Ne[0].y),V.stroke(),V.closePath(),V.setTransform(1,0,0,1,0,0)}if(L.type==="rectangle"){if($)return;const{x:j,y:re,w:oe,h:ae,rotation:de}=L,ue=getRectanglePoints(oe,ae,j,re);let pe=transformPoints(ue,{x:j,y:re,w:oe,h:ae,rotation:de,flipX:!1,flipY:!1});pe=pe.map(Oe=>{const{x:_e,y:Fe}=computeCoords(y,g(Oe));return mapCanvasCoords({x:_e*he,y:Fe*he})});const he=r.scale,{strokeColor:xe,fillColor:$e,closePath:Ne}=L.value;V.strokeStyle=xe||"#000",V.fillStyle=$e||"rgba(0, 0, 0, 0)",V.translate(mapCanvasX(r.offset.x)*he,mapCanvasY(r.offset.y)*he),V.beginPath(),V.moveTo(pe[0].x,pe[0].y);for(let Oe=1;Oe<pe.length;Oe++)V.lineTo(pe[Oe].x,pe[Oe].y);V.lineTo(pe[0].x,pe[0].y),V.stroke(),V.closePath(),V.setTransform(1,0,0,1,0,0)}if(L.type==="glyph"){(!L.value._o||!L.value._o.components||!L.value._o.components.length||r.forceUpdate)&&executeScript(L.value);const j=L.value._o?L.value._o:new CustomGlyph(L.value);r.forceUpdate?j.render_grid_forceUpdate(e,!0,{x:r.offset.x+L.ox,y:r.offset.y+L.oy},!1,k,y,$):j.render_grid(e,!0,{x:r.offset.x+L.ox,y:r.offset.y+L.oy},!1,k,y,$)}}}),V.closePath(),(fontRenderStyle.value==="color"||r.fill)&&(V.fillStyle="#000",V.fill("nonzero")),V.stroke()},render$1=(n,e=!0,r=!1)=>{if(clearCanvas(n),e)fillBackground(n,background$1,grid);else if(background$1.color){const g=n.getContext("2d");g.fillStyle=background$1.color,g.fillRect(0,0,n.width,n.height)}if(editStatus.value===Status.Edit)editCharacterFileOnDragging.value?renderCanvas(orderedListWithItemsForCharacterFile(editCharacterFileOnDragging.value),n,{forceUpdate:r,fill:!1,offset:{x:0,y:0},scale:1}):renderCanvas(orderedListWithItemsForCurrentCharacterFile.value,n,{forceUpdate:r,fill:!1,offset:{x:0,y:0},scale:1});else if(editStatus.value===Status.Glyph){const g=editGlyph.value._o?editGlyph.value._o:new CustomGlyph(editGlyph.value);renderGlyph(g,n,e,!1,!1)}},renderGlyph=(n,e,r=!0,g=!0,y=!0,k=!1)=>{if(clearCanvas(e),r)fillBackground(e,background$1,grid);else if(background$1.color){const $=e.getContext("2d");$.fillStyle=background$1.color,$.fillRect(0,0,e.width,e.height)}n.render_forceUpdate(e),g&&n.renderJoints(e),y&&n.renderJoints(e)},renderPreview2=(n,e)=>{const r=n.getContext("2d");if(r){r.fillStyle="white",r.fillRect(0,0,n.width,n.height),r.beginPath();for(let g=0;g<e.length;g++){const y=e[g];if(!(!y||!y.length)){r.moveTo(y[0].start.x,y[0].start.y);for(let k=0;k<y.length;k++){const $=y[k];$.type===PathType.LINE?r.lineTo($.end.x,$.end.y):$.type===PathType.CUBIC_BEZIER&&r.bezierCurveTo($.control1.x,$.control1.y,$.control2.x,$.control2.y,$.end.x,$.end.y)}}}r.closePath(),r.fillStyle="#000",r.fill("nonzero")}};function mitt(n){return{all:n=n||new Map,on:function(e,r){var g=n.get(e);g?g.push(r):n.set(e,[r])},off:function(e,r){var g=n.get(e);g&&(r?g.splice(g.indexOf(r)>>>0,1):n.set(e,[]))},emit:function(e,r){var g=n.get(e);g&&g.slice().map(function(y){y(r)}),(g=n.get("*"))&&g.slice().map(function(y){y(e,r)})}}}const emitter=mitt();var FileSaver_min={exports:{}};(function(n,e){(function(r,g){g()})(commonjsGlobal$1,function(){function r(z,j){return typeof j>"u"?j={autoBom:!1}:typeof j!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),j={autoBom:!j}),j.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\uFEFF",z],{type:z.type}):z}function g(z,j,re){var oe=new XMLHttpRequest;oe.open("GET",z),oe.responseType="blob",oe.onload=function(){L(oe.response,j,re)},oe.onerror=function(){console.error("could not download file")},oe.send()}function y(z){var j=new XMLHttpRequest;j.open("HEAD",z,!1);try{j.send()}catch{}return 200<=j.status&&299>=j.status}function k(z){try{z.dispatchEvent(new MouseEvent("click"))}catch{var j=document.createEvent("MouseEvents");j.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),z.dispatchEvent(j)}}var $=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$1=="object"&&commonjsGlobal$1.global===commonjsGlobal$1?commonjsGlobal$1:void 0,V=$.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),L=$.saveAs||(typeof window!="object"||window!==$?function(){}:"download"in HTMLAnchorElement.prototype&&!V?function(z,j,re){var oe=$.URL||$.webkitURL,ae=document.createElement("a");j=j||z.name||"download",ae.download=j,ae.rel="noopener",typeof z=="string"?(ae.href=z,ae.origin===location.origin?k(ae):y(ae.href)?g(z,j,re):k(ae,ae.target="_blank")):(ae.href=oe.createObjectURL(z),setTimeout(function(){oe.revokeObjectURL(ae.href)},4e4),setTimeout(function(){k(ae)},0))}:"msSaveOrOpenBlob"in navigator?function(z,j,re){if(j=j||z.name||"download",typeof z!="string")navigator.msSaveOrOpenBlob(r(z,re),j);else if(y(z))g(z,j,re);else{var oe=document.createElement("a");oe.href=z,oe.target="_blank",setTimeout(function(){k(oe)})}}:function(z,j,re,oe){if(oe=oe||open("","_blank"),oe&&(oe.document.title=oe.document.body.innerText="downloading..."),typeof z=="string")return g(z,j,re);var ae=z.type==="application/octet-stream",de=/constructor/i.test($.HTMLElement)||$.safari,ue=/CriOS\/[\d]+/.test(navigator.userAgent);if((ue||ae&&de||V)&&typeof FileReader<"u"){var pe=new FileReader;pe.onloadend=function(){var $e=pe.result;$e=ue?$e:$e.replace(/^data:[^;]*;/,"data:attachment/file;"),oe?oe.location.href=$e:location=$e,oe=null},pe.readAsDataURL(z)}else{var he=$.URL||$.webkitURL,xe=he.createObjectURL(z);oe?oe.location=xe:location.href=xe,oe=null,setTimeout(function(){he.revokeObjectURL(xe)},4e4)}});$.saveAs=L.saveAs=L,n.exports=L})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const saveAs=getDefaultExportFromCjs(FileSaver_minExports);var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(r){n.exports=r()})(function(){return function r(g,y,k){function $(z,j){if(!y[z]){if(!g[z]){var re=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&re)return re(z,!0);if(V)return V(z,!0);var oe=new Error("Cannot find module '"+z+"'");throw oe.code="MODULE_NOT_FOUND",oe}var ae=y[z]={exports:{}};g[z][0].call(ae.exports,function(de){var ue=g[z][1][de];return $(ue||de)},ae,ae.exports,r,g,y,k)}return y[z].exports}for(var V=typeof commonjsRequire=="function"&&commonjsRequire,L=0;L<k.length;L++)$(k[L]);return $}({1:[function(r,g,y){var k=r("./utils"),$=r("./support"),V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(L){for(var z,j,re,oe,ae,de,ue,pe=[],he=0,xe=L.length,$e=xe,Ne=k.getTypeOf(L)!=="string";he<L.length;)$e=xe-he,re=Ne?(z=L[he++],j=he<xe?L[he++]:0,he<xe?L[he++]:0):(z=L.charCodeAt(he++),j=he<xe?L.charCodeAt(he++):0,he<xe?L.charCodeAt(he++):0),oe=z>>2,ae=(3&z)<<4|j>>4,de=1<$e?(15&j)<<2|re>>6:64,ue=2<$e?63&re:64,pe.push(V.charAt(oe)+V.charAt(ae)+V.charAt(de)+V.charAt(ue));return pe.join("")},y.decode=function(L){var z,j,re,oe,ae,de,ue=0,pe=0,he="data:";if(L.substr(0,he.length)===he)throw new Error("Invalid base64 input, it looks like a data url.");var xe,$e=3*(L=L.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(L.charAt(L.length-1)===V.charAt(64)&&$e--,L.charAt(L.length-2)===V.charAt(64)&&$e--,$e%1!=0)throw new Error("Invalid base64 input, bad content length.");for(xe=$.uint8array?new Uint8Array(0|$e):new Array(0|$e);ue<L.length;)z=V.indexOf(L.charAt(ue++))<<2|(oe=V.indexOf(L.charAt(ue++)))>>4,j=(15&oe)<<4|(ae=V.indexOf(L.charAt(ue++)))>>2,re=(3&ae)<<6|(de=V.indexOf(L.charAt(ue++))),xe[pe++]=z,ae!==64&&(xe[pe++]=j),de!==64&&(xe[pe++]=re);return xe}},{"./support":30,"./utils":32}],2:[function(r,g,y){var k=r("./external"),$=r("./stream/DataWorker"),V=r("./stream/Crc32Probe"),L=r("./stream/DataLengthProbe");function z(j,re,oe,ae,de){this.compressedSize=j,this.uncompressedSize=re,this.crc32=oe,this.compression=ae,this.compressedContent=de}z.prototype={getContentWorker:function(){var j=new $(k.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new L("data_length")),re=this;return j.on("end",function(){if(this.streamInfo.data_length!==re.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),j},getCompressedWorker:function(){return new $(k.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},z.createWorkerFrom=function(j,re,oe){return j.pipe(new V).pipe(new L("uncompressedSize")).pipe(re.compressWorker(oe)).pipe(new L("compressedSize")).withStreamInfo("compression",re)},g.exports=z},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,g,y){var k=r("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new k("STORE compression")},uncompressWorker:function(){return new k("STORE decompression")}},y.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,g,y){var k=r("./utils"),$=function(){for(var V,L=[],z=0;z<256;z++){V=z;for(var j=0;j<8;j++)V=1&V?3988292384^V>>>1:V>>>1;L[z]=V}return L}();g.exports=function(V,L){return V!==void 0&&V.length?k.getTypeOf(V)!=="string"?function(z,j,re,oe){var ae=$,de=oe+re;z^=-1;for(var ue=oe;ue<de;ue++)z=z>>>8^ae[255&(z^j[ue])];return-1^z}(0|L,V,V.length,0):function(z,j,re,oe){var ae=$,de=oe+re;z^=-1;for(var ue=oe;ue<de;ue++)z=z>>>8^ae[255&(z^j.charCodeAt(ue))];return-1^z}(0|L,V,V.length,0):0}},{"./utils":32}],5:[function(r,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(r,g,y){var k=null;k=typeof Promise<"u"?Promise:r("lie"),g.exports={Promise:k}},{lie:37}],7:[function(r,g,y){var k=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",$=r("pako"),V=r("./utils"),L=r("./stream/GenericWorker"),z=k?"uint8array":"array";function j(re,oe){L.call(this,"FlateWorker/"+re),this._pako=null,this._pakoAction=re,this._pakoOptions=oe,this.meta={}}y.magic="\b\0",V.inherits(j,L),j.prototype.processChunk=function(re){this.meta=re.meta,this._pako===null&&this._createPako(),this._pako.push(V.transformTo(z,re.data),!1)},j.prototype.flush=function(){L.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},j.prototype.cleanUp=function(){L.prototype.cleanUp.call(this),this._pako=null},j.prototype._createPako=function(){this._pako=new $[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var re=this;this._pako.onData=function(oe){re.push({data:oe,meta:re.meta})}},y.compressWorker=function(re){return new j("Deflate",re)},y.uncompressWorker=function(){return new j("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,g,y){function k(ae,de){var ue,pe="";for(ue=0;ue<de;ue++)pe+=String.fromCharCode(255&ae),ae>>>=8;return pe}function $(ae,de,ue,pe,he,xe){var $e,Ne,Oe=ae.file,_e=ae.compression,Fe=xe!==z.utf8encode,Ue=V.transformTo("string",xe(Oe.name)),kt=V.transformTo("string",z.utf8encode(Oe.name)),Lt=Oe.comment,wn=V.transformTo("string",xe(Lt)),Et=V.transformTo("string",z.utf8encode(Lt)),xn=kt.length!==Oe.name.length,jt=Et.length!==Lt.length,An="",Dn="",En="",Bn=Oe.dir,$n=Oe.date,Wn={crc32:0,compressedSize:0,uncompressedSize:0};de&&!ue||(Wn.crc32=ae.crc32,Wn.compressedSize=ae.compressedSize,Wn.uncompressedSize=ae.uncompressedSize);var Gn=0;de&&(Gn|=8),Fe||!xn&&!jt||(Gn|=2048);var Nn=0,Zn=0;Bn&&(Nn|=16),he==="UNIX"?(Zn=798,Nn|=function(rr,Xn){var Pn=rr;return rr||(Pn=Xn?16893:33204),(65535&Pn)<<16}(Oe.unixPermissions,Bn)):(Zn=20,Nn|=function(rr){return 63&(rr||0)}(Oe.dosPermissions)),$e=$n.getUTCHours(),$e<<=6,$e|=$n.getUTCMinutes(),$e<<=5,$e|=$n.getUTCSeconds()/2,Ne=$n.getUTCFullYear()-1980,Ne<<=4,Ne|=$n.getUTCMonth()+1,Ne<<=5,Ne|=$n.getUTCDate(),xn&&(Dn=k(1,1)+k(j(Ue),4)+kt,An+="up"+k(Dn.length,2)+Dn),jt&&(En=k(1,1)+k(j(wn),4)+Et,An+="uc"+k(En.length,2)+En);var Hn="";return Hn+=`
\0`,Hn+=k(Gn,2),Hn+=_e.magic,Hn+=k($e,2),Hn+=k(Ne,2),Hn+=k(Wn.crc32,4),Hn+=k(Wn.compressedSize,4),Hn+=k(Wn.uncompressedSize,4),Hn+=k(Ue.length,2),Hn+=k(An.length,2),{fileRecord:re.LOCAL_FILE_HEADER+Hn+Ue+An,dirRecord:re.CENTRAL_FILE_HEADER+k(Zn,2)+Hn+k(wn.length,2)+"\0\0\0\0"+k(Nn,4)+k(pe,4)+Ue+An+wn}}var V=r("../utils"),L=r("../stream/GenericWorker"),z=r("../utf8"),j=r("../crc32"),re=r("../signature");function oe(ae,de,ue,pe){L.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=de,this.zipPlatform=ue,this.encodeFileName=pe,this.streamFiles=ae,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}V.inherits(oe,L),oe.prototype.push=function(ae){var de=ae.meta.percent||0,ue=this.entriesCount,pe=this._sources.length;this.accumulate?this.contentBuffer.push(ae):(this.bytesWritten+=ae.data.length,L.prototype.push.call(this,{data:ae.data,meta:{currentFile:this.currentFile,percent:ue?(de+100*(ue-pe-1))/ue:100}}))},oe.prototype.openedSource=function(ae){this.currentSourceOffset=this.bytesWritten,this.currentFile=ae.file.name;var de=this.streamFiles&&!ae.file.dir;if(de){var ue=$(ae,de,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ue.fileRecord,meta:{percent:0}})}else this.accumulate=!0},oe.prototype.closedSource=function(ae){this.accumulate=!1;var de=this.streamFiles&&!ae.file.dir,ue=$(ae,de,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ue.dirRecord),de)this.push({data:function(pe){return re.DATA_DESCRIPTOR+k(pe.crc32,4)+k(pe.compressedSize,4)+k(pe.uncompressedSize,4)}(ae),meta:{percent:100}});else for(this.push({data:ue.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},oe.prototype.flush=function(){for(var ae=this.bytesWritten,de=0;de<this.dirRecords.length;de++)this.push({data:this.dirRecords[de],meta:{percent:100}});var ue=this.bytesWritten-ae,pe=function(he,xe,$e,Ne,Oe){var _e=V.transformTo("string",Oe(Ne));return re.CENTRAL_DIRECTORY_END+"\0\0\0\0"+k(he,2)+k(he,2)+k(xe,4)+k($e,4)+k(_e.length,2)+_e}(this.dirRecords.length,ue,ae,this.zipComment,this.encodeFileName);this.push({data:pe,meta:{percent:100}})},oe.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},oe.prototype.registerPrevious=function(ae){this._sources.push(ae);var de=this;return ae.on("data",function(ue){de.processChunk(ue)}),ae.on("end",function(){de.closedSource(de.previous.streamInfo),de._sources.length?de.prepareNextSource():de.end()}),ae.on("error",function(ue){de.error(ue)}),this},oe.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},oe.prototype.error=function(ae){var de=this._sources;if(!L.prototype.error.call(this,ae))return!1;for(var ue=0;ue<de.length;ue++)try{de[ue].error(ae)}catch{}return!0},oe.prototype.lock=function(){L.prototype.lock.call(this);for(var ae=this._sources,de=0;de<ae.length;de++)ae[de].lock()},g.exports=oe},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,g,y){var k=r("../compressions"),$=r("./ZipFileWorker");y.generateWorker=function(V,L,z){var j=new $(L.streamFiles,z,L.platform,L.encodeFileName),re=0;try{V.forEach(function(oe,ae){re++;var de=function(xe,$e){var Ne=xe||$e,Oe=k[Ne];if(!Oe)throw new Error(Ne+" is not a valid compression method !");return Oe}(ae.options.compression,L.compression),ue=ae.options.compressionOptions||L.compressionOptions||{},pe=ae.dir,he=ae.date;ae._compressWorker(de,ue).withStreamInfo("file",{name:oe,dir:pe,date:he,comment:ae.comment||"",unixPermissions:ae.unixPermissions,dosPermissions:ae.dosPermissions}).pipe(j)}),j.entriesCount=re}catch(oe){j.error(oe)}return j}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,g,y){function k(){if(!(this instanceof k))return new k;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var $=new k;for(var V in this)typeof this[V]!="function"&&($[V]=this[V]);return $}}(k.prototype=r("./object")).loadAsync=r("./load"),k.support=r("./support"),k.defaults=r("./defaults"),k.version="3.10.1",k.loadAsync=function($,V){return new k().loadAsync($,V)},k.external=r("./external"),g.exports=k},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,g,y){var k=r("./utils"),$=r("./external"),V=r("./utf8"),L=r("./zipEntries"),z=r("./stream/Crc32Probe"),j=r("./nodejsUtils");function re(oe){return new $.Promise(function(ae,de){var ue=oe.decompressed.getContentWorker().pipe(new z);ue.on("error",function(pe){de(pe)}).on("end",function(){ue.streamInfo.crc32!==oe.decompressed.crc32?de(new Error("Corrupted zip : CRC32 mismatch")):ae()}).resume()})}g.exports=function(oe,ae){var de=this;return ae=k.extend(ae||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:V.utf8decode}),j.isNode&&j.isStream(oe)?$.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):k.prepareContent("the loaded zip file",oe,!0,ae.optimizedBinaryString,ae.base64).then(function(ue){var pe=new L(ae);return pe.load(ue),pe}).then(function(ue){var pe=[$.Promise.resolve(ue)],he=ue.files;if(ae.checkCRC32)for(var xe=0;xe<he.length;xe++)pe.push(re(he[xe]));return $.Promise.all(pe)}).then(function(ue){for(var pe=ue.shift(),he=pe.files,xe=0;xe<he.length;xe++){var $e=he[xe],Ne=$e.fileNameStr,Oe=k.resolve($e.fileNameStr);de.file(Oe,$e.decompressed,{binary:!0,optimizedBinaryString:!0,date:$e.date,dir:$e.dir,comment:$e.fileCommentStr.length?$e.fileCommentStr:null,unixPermissions:$e.unixPermissions,dosPermissions:$e.dosPermissions,createFolders:ae.createFolders}),$e.dir||(de.file(Oe).unsafeOriginalName=Ne)}return pe.zipComment.length&&(de.comment=pe.zipComment),de})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,g,y){var k=r("../utils"),$=r("../stream/GenericWorker");function V(L,z){$.call(this,"Nodejs stream input adapter for "+L),this._upstreamEnded=!1,this._bindStream(z)}k.inherits(V,$),V.prototype._bindStream=function(L){var z=this;(this._stream=L).pause(),L.on("data",function(j){z.push({data:j,meta:{percent:0}})}).on("error",function(j){z.isPaused?this.generatedError=j:z.error(j)}).on("end",function(){z.isPaused?z._upstreamEnded=!0:z.end()})},V.prototype.pause=function(){return!!$.prototype.pause.call(this)&&(this._stream.pause(),!0)},V.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=V},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,g,y){var k=r("readable-stream").Readable;function $(V,L,z){k.call(this,L),this._helper=V;var j=this;V.on("data",function(re,oe){j.push(re)||j._helper.pause(),z&&z(oe)}).on("error",function(re){j.emit("error",re)}).on("end",function(){j.push(null)})}r("../utils").inherits($,k),$.prototype._read=function(){this._helper.resume()},g.exports=$},{"../utils":32,"readable-stream":16}],14:[function(r,g,y){g.exports={isNode:typeof Buffer<"u",newBufferFrom:function(k,$){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(k,$);if(typeof k=="number")throw new Error('The "data" argument must not be a number');return new Buffer(k,$)},allocBuffer:function(k){if(Buffer.alloc)return Buffer.alloc(k);var $=new Buffer(k);return $.fill(0),$},isBuffer:function(k){return Buffer.isBuffer(k)},isStream:function(k){return k&&typeof k.on=="function"&&typeof k.pause=="function"&&typeof k.resume=="function"}}},{}],15:[function(r,g,y){function k(Oe,_e,Fe){var Ue,kt=V.getTypeOf(_e),Lt=V.extend(Fe||{},j);Lt.date=Lt.date||new Date,Lt.compression!==null&&(Lt.compression=Lt.compression.toUpperCase()),typeof Lt.unixPermissions=="string"&&(Lt.unixPermissions=parseInt(Lt.unixPermissions,8)),Lt.unixPermissions&&16384&Lt.unixPermissions&&(Lt.dir=!0),Lt.dosPermissions&&16&Lt.dosPermissions&&(Lt.dir=!0),Lt.dir&&(Oe=he(Oe)),Lt.createFolders&&(Ue=pe(Oe))&&xe.call(this,Ue,!0);var wn=kt==="string"&&Lt.binary===!1&&Lt.base64===!1;Fe&&Fe.binary!==void 0||(Lt.binary=!wn),(_e instanceof re&&_e.uncompressedSize===0||Lt.dir||!_e||_e.length===0)&&(Lt.base64=!1,Lt.binary=!0,_e="",Lt.compression="STORE",kt="string");var Et=null;Et=_e instanceof re||_e instanceof L?_e:de.isNode&&de.isStream(_e)?new ue(Oe,_e):V.prepareContent(Oe,_e,Lt.binary,Lt.optimizedBinaryString,Lt.base64);var xn=new oe(Oe,Et,Lt);this.files[Oe]=xn}var $=r("./utf8"),V=r("./utils"),L=r("./stream/GenericWorker"),z=r("./stream/StreamHelper"),j=r("./defaults"),re=r("./compressedObject"),oe=r("./zipObject"),ae=r("./generate"),de=r("./nodejsUtils"),ue=r("./nodejs/NodejsStreamInputAdapter"),pe=function(Oe){Oe.slice(-1)==="/"&&(Oe=Oe.substring(0,Oe.length-1));var _e=Oe.lastIndexOf("/");return 0<_e?Oe.substring(0,_e):""},he=function(Oe){return Oe.slice(-1)!=="/"&&(Oe+="/"),Oe},xe=function(Oe,_e){return _e=_e!==void 0?_e:j.createFolders,Oe=he(Oe),this.files[Oe]||k.call(this,Oe,null,{dir:!0,createFolders:_e}),this.files[Oe]};function $e(Oe){return Object.prototype.toString.call(Oe)==="[object RegExp]"}var Ne={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Oe){var _e,Fe,Ue;for(_e in this.files)Ue=this.files[_e],(Fe=_e.slice(this.root.length,_e.length))&&_e.slice(0,this.root.length)===this.root&&Oe(Fe,Ue)},filter:function(Oe){var _e=[];return this.forEach(function(Fe,Ue){Oe(Fe,Ue)&&_e.push(Ue)}),_e},file:function(Oe,_e,Fe){if(arguments.length!==1)return Oe=this.root+Oe,k.call(this,Oe,_e,Fe),this;if($e(Oe)){var Ue=Oe;return this.filter(function(Lt,wn){return!wn.dir&&Ue.test(Lt)})}var kt=this.files[this.root+Oe];return kt&&!kt.dir?kt:null},folder:function(Oe){if(!Oe)return this;if($e(Oe))return this.filter(function(kt,Lt){return Lt.dir&&Oe.test(kt)});var _e=this.root+Oe,Fe=xe.call(this,_e),Ue=this.clone();return Ue.root=Fe.name,Ue},remove:function(Oe){Oe=this.root+Oe;var _e=this.files[Oe];if(_e||(Oe.slice(-1)!=="/"&&(Oe+="/"),_e=this.files[Oe]),_e&&!_e.dir)delete this.files[Oe];else for(var Fe=this.filter(function(kt,Lt){return Lt.name.slice(0,Oe.length)===Oe}),Ue=0;Ue<Fe.length;Ue++)delete this.files[Fe[Ue].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Oe){var _e,Fe={};try{if((Fe=V.extend(Oe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:$.utf8encode})).type=Fe.type.toLowerCase(),Fe.compression=Fe.compression.toUpperCase(),Fe.type==="binarystring"&&(Fe.type="string"),!Fe.type)throw new Error("No output type specified.");V.checkSupport(Fe.type),Fe.platform!=="darwin"&&Fe.platform!=="freebsd"&&Fe.platform!=="linux"&&Fe.platform!=="sunos"||(Fe.platform="UNIX"),Fe.platform==="win32"&&(Fe.platform="DOS");var Ue=Fe.comment||this.comment||"";_e=ae.generateWorker(this,Fe,Ue)}catch(kt){(_e=new L("error")).error(kt)}return new z(_e,Fe.type||"string",Fe.mimeType)},generateAsync:function(Oe,_e){return this.generateInternalStream(Oe).accumulate(_e)},generateNodeStream:function(Oe,_e){return(Oe=Oe||{}).type||(Oe.type="nodebuffer"),this.generateInternalStream(Oe).toNodejsStream(_e)}};g.exports=Ne},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,g,y){g.exports=r("stream")},{stream:void 0}],17:[function(r,g,y){var k=r("./DataReader");function $(V){k.call(this,V);for(var L=0;L<this.data.length;L++)V[L]=255&V[L]}r("../utils").inherits($,k),$.prototype.byteAt=function(V){return this.data[this.zero+V]},$.prototype.lastIndexOfSignature=function(V){for(var L=V.charCodeAt(0),z=V.charCodeAt(1),j=V.charCodeAt(2),re=V.charCodeAt(3),oe=this.length-4;0<=oe;--oe)if(this.data[oe]===L&&this.data[oe+1]===z&&this.data[oe+2]===j&&this.data[oe+3]===re)return oe-this.zero;return-1},$.prototype.readAndCheckSignature=function(V){var L=V.charCodeAt(0),z=V.charCodeAt(1),j=V.charCodeAt(2),re=V.charCodeAt(3),oe=this.readData(4);return L===oe[0]&&z===oe[1]&&j===oe[2]&&re===oe[3]},$.prototype.readData=function(V){if(this.checkOffset(V),V===0)return[];var L=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./DataReader":18}],18:[function(r,g,y){var k=r("../utils");function $(V){this.data=V,this.length=V.length,this.index=0,this.zero=0}$.prototype={checkOffset:function(V){this.checkIndex(this.index+V)},checkIndex:function(V){if(this.length<this.zero+V||V<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+V+"). Corrupted zip ?")},setIndex:function(V){this.checkIndex(V),this.index=V},skip:function(V){this.setIndex(this.index+V)},byteAt:function(){},readInt:function(V){var L,z=0;for(this.checkOffset(V),L=this.index+V-1;L>=this.index;L--)z=(z<<8)+this.byteAt(L);return this.index+=V,z},readString:function(V){return k.transformTo("string",this.readData(V))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var V=this.readInt(4);return new Date(Date.UTC(1980+(V>>25&127),(V>>21&15)-1,V>>16&31,V>>11&31,V>>5&63,(31&V)<<1))}},g.exports=$},{"../utils":32}],19:[function(r,g,y){var k=r("./Uint8ArrayReader");function $(V){k.call(this,V)}r("../utils").inherits($,k),$.prototype.readData=function(V){this.checkOffset(V);var L=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,g,y){var k=r("./DataReader");function $(V){k.call(this,V)}r("../utils").inherits($,k),$.prototype.byteAt=function(V){return this.data.charCodeAt(this.zero+V)},$.prototype.lastIndexOfSignature=function(V){return this.data.lastIndexOf(V)-this.zero},$.prototype.readAndCheckSignature=function(V){return V===this.readData(4)},$.prototype.readData=function(V){this.checkOffset(V);var L=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./DataReader":18}],21:[function(r,g,y){var k=r("./ArrayReader");function $(V){k.call(this,V)}r("../utils").inherits($,k),$.prototype.readData=function(V){if(this.checkOffset(V),V===0)return new Uint8Array(0);var L=this.data.subarray(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./ArrayReader":17}],22:[function(r,g,y){var k=r("../utils"),$=r("../support"),V=r("./ArrayReader"),L=r("./StringReader"),z=r("./NodeBufferReader"),j=r("./Uint8ArrayReader");g.exports=function(re){var oe=k.getTypeOf(re);return k.checkSupport(oe),oe!=="string"||$.uint8array?oe==="nodebuffer"?new z(re):$.uint8array?new j(k.transformTo("uint8array",re)):new V(k.transformTo("array",re)):new L(re)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,g,y){var k=r("./GenericWorker"),$=r("../utils");function V(L){k.call(this,"ConvertWorker to "+L),this.destType=L}$.inherits(V,k),V.prototype.processChunk=function(L){this.push({data:$.transformTo(this.destType,L.data),meta:L.meta})},g.exports=V},{"../utils":32,"./GenericWorker":28}],25:[function(r,g,y){var k=r("./GenericWorker"),$=r("../crc32");function V(){k.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(V,k),V.prototype.processChunk=function(L){this.streamInfo.crc32=$(L.data,this.streamInfo.crc32||0),this.push(L)},g.exports=V},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,g,y){var k=r("../utils"),$=r("./GenericWorker");function V(L){$.call(this,"DataLengthProbe for "+L),this.propName=L,this.withStreamInfo(L,0)}k.inherits(V,$),V.prototype.processChunk=function(L){if(L){var z=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=z+L.data.length}$.prototype.processChunk.call(this,L)},g.exports=V},{"../utils":32,"./GenericWorker":28}],27:[function(r,g,y){var k=r("../utils"),$=r("./GenericWorker");function V(L){$.call(this,"DataWorker");var z=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,L.then(function(j){z.dataIsReady=!0,z.data=j,z.max=j&&j.length||0,z.type=k.getTypeOf(j),z.isPaused||z._tickAndRepeat()},function(j){z.error(j)})}k.inherits(V,$),V.prototype.cleanUp=function(){$.prototype.cleanUp.call(this),this.data=null},V.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,k.delay(this._tickAndRepeat,[],this)),!0)},V.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(k.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},V.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var L=null,z=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":L=this.data.substring(this.index,z);break;case"uint8array":L=this.data.subarray(this.index,z);break;case"array":case"nodebuffer":L=this.data.slice(this.index,z)}return this.index=z,this.push({data:L,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=V},{"../utils":32,"./GenericWorker":28}],28:[function(r,g,y){function k($){this.name=$||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}k.prototype={push:function($){this.emit("data",$)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch($){this.emit("error",$)}return!0},error:function($){return!this.isFinished&&(this.isPaused?this.generatedError=$:(this.isFinished=!0,this.emit("error",$),this.previous&&this.previous.error($),this.cleanUp()),!0)},on:function($,V){return this._listeners[$].push(V),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function($,V){if(this._listeners[$])for(var L=0;L<this._listeners[$].length;L++)this._listeners[$][L].call(this,V)},pipe:function($){return $.registerPrevious(this)},registerPrevious:function($){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=$.streamInfo,this.mergeStreamInfo(),this.previous=$;var V=this;return $.on("data",function(L){V.processChunk(L)}),$.on("end",function(){V.end()}),$.on("error",function(L){V.error(L)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var $=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),$=!0),this.previous&&this.previous.resume(),!$},flush:function(){},processChunk:function($){this.push($)},withStreamInfo:function($,V){return this.extraStreamInfo[$]=V,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var $ in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,$)&&(this.streamInfo[$]=this.extraStreamInfo[$])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var $="Worker "+this.name;return this.previous?this.previous+" -> "+$:$}},g.exports=k},{}],29:[function(r,g,y){var k=r("../utils"),$=r("./ConvertWorker"),V=r("./GenericWorker"),L=r("../base64"),z=r("../support"),j=r("../external"),re=null;if(z.nodestream)try{re=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function oe(de,ue){return new j.Promise(function(pe,he){var xe=[],$e=de._internalType,Ne=de._outputType,Oe=de._mimeType;de.on("data",function(_e,Fe){xe.push(_e),ue&&ue(Fe)}).on("error",function(_e){xe=[],he(_e)}).on("end",function(){try{var _e=function(Fe,Ue,kt){switch(Fe){case"blob":return k.newBlob(k.transformTo("arraybuffer",Ue),kt);case"base64":return L.encode(Ue);default:return k.transformTo(Fe,Ue)}}(Ne,function(Fe,Ue){var kt,Lt=0,wn=null,Et=0;for(kt=0;kt<Ue.length;kt++)Et+=Ue[kt].length;switch(Fe){case"string":return Ue.join("");case"array":return Array.prototype.concat.apply([],Ue);case"uint8array":for(wn=new Uint8Array(Et),kt=0;kt<Ue.length;kt++)wn.set(Ue[kt],Lt),Lt+=Ue[kt].length;return wn;case"nodebuffer":return Buffer.concat(Ue);default:throw new Error("concat : unsupported type '"+Fe+"'")}}($e,xe),Oe);pe(_e)}catch(Fe){he(Fe)}xe=[]}).resume()})}function ae(de,ue,pe){var he=ue;switch(ue){case"blob":case"arraybuffer":he="uint8array";break;case"base64":he="string"}try{this._internalType=he,this._outputType=ue,this._mimeType=pe,k.checkSupport(he),this._worker=de.pipe(new $(he)),de.lock()}catch(xe){this._worker=new V("error"),this._worker.error(xe)}}ae.prototype={accumulate:function(de){return oe(this,de)},on:function(de,ue){var pe=this;return de==="data"?this._worker.on(de,function(he){ue.call(pe,he.data,he.meta)}):this._worker.on(de,function(){k.delay(ue,arguments,pe)}),this},resume:function(){return k.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(de){if(k.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new re(this,{objectMode:this._outputType!=="nodebuffer"},de)}},g.exports=ae},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=typeof Buffer<"u",y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var k=new ArrayBuffer(0);try{y.blob=new Blob([k],{type:"application/zip"}).size===0}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);$.append(k),y.blob=$.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!r("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(r,g,y){for(var k=r("./utils"),$=r("./support"),V=r("./nodejsUtils"),L=r("./stream/GenericWorker"),z=new Array(256),j=0;j<256;j++)z[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;z[254]=z[254]=1;function re(){L.call(this,"utf-8 decode"),this.leftOver=null}function oe(){L.call(this,"utf-8 encode")}y.utf8encode=function(ae){return $.nodebuffer?V.newBufferFrom(ae,"utf-8"):function(de){var ue,pe,he,xe,$e,Ne=de.length,Oe=0;for(xe=0;xe<Ne;xe++)(64512&(pe=de.charCodeAt(xe)))==55296&&xe+1<Ne&&(64512&(he=de.charCodeAt(xe+1)))==56320&&(pe=65536+(pe-55296<<10)+(he-56320),xe++),Oe+=pe<128?1:pe<2048?2:pe<65536?3:4;for(ue=$.uint8array?new Uint8Array(Oe):new Array(Oe),xe=$e=0;$e<Oe;xe++)(64512&(pe=de.charCodeAt(xe)))==55296&&xe+1<Ne&&(64512&(he=de.charCodeAt(xe+1)))==56320&&(pe=65536+(pe-55296<<10)+(he-56320),xe++),pe<128?ue[$e++]=pe:(pe<2048?ue[$e++]=192|pe>>>6:(pe<65536?ue[$e++]=224|pe>>>12:(ue[$e++]=240|pe>>>18,ue[$e++]=128|pe>>>12&63),ue[$e++]=128|pe>>>6&63),ue[$e++]=128|63&pe);return ue}(ae)},y.utf8decode=function(ae){return $.nodebuffer?k.transformTo("nodebuffer",ae).toString("utf-8"):function(de){var ue,pe,he,xe,$e=de.length,Ne=new Array(2*$e);for(ue=pe=0;ue<$e;)if((he=de[ue++])<128)Ne[pe++]=he;else if(4<(xe=z[he]))Ne[pe++]=65533,ue+=xe-1;else{for(he&=xe===2?31:xe===3?15:7;1<xe&&ue<$e;)he=he<<6|63&de[ue++],xe--;1<xe?Ne[pe++]=65533:he<65536?Ne[pe++]=he:(he-=65536,Ne[pe++]=55296|he>>10&1023,Ne[pe++]=56320|1023&he)}return Ne.length!==pe&&(Ne.subarray?Ne=Ne.subarray(0,pe):Ne.length=pe),k.applyFromCharCode(Ne)}(ae=k.transformTo($.uint8array?"uint8array":"array",ae))},k.inherits(re,L),re.prototype.processChunk=function(ae){var de=k.transformTo($.uint8array?"uint8array":"array",ae.data);if(this.leftOver&&this.leftOver.length){if($.uint8array){var ue=de;(de=new Uint8Array(ue.length+this.leftOver.length)).set(this.leftOver,0),de.set(ue,this.leftOver.length)}else de=this.leftOver.concat(de);this.leftOver=null}var pe=function(xe,$e){var Ne;for(($e=$e||xe.length)>xe.length&&($e=xe.length),Ne=$e-1;0<=Ne&&(192&xe[Ne])==128;)Ne--;return Ne<0||Ne===0?$e:Ne+z[xe[Ne]]>$e?Ne:$e}(de),he=de;pe!==de.length&&($.uint8array?(he=de.subarray(0,pe),this.leftOver=de.subarray(pe,de.length)):(he=de.slice(0,pe),this.leftOver=de.slice(pe,de.length))),this.push({data:y.utf8decode(he),meta:ae.meta})},re.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=re,k.inherits(oe,L),oe.prototype.processChunk=function(ae){this.push({data:y.utf8encode(ae.data),meta:ae.meta})},y.Utf8EncodeWorker=oe},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,g,y){var k=r("./support"),$=r("./base64"),V=r("./nodejsUtils"),L=r("./external");function z(ue){return ue}function j(ue,pe){for(var he=0;he<ue.length;++he)pe[he]=255&ue.charCodeAt(he);return pe}r("setimmediate"),y.newBlob=function(ue,pe){y.checkSupport("blob");try{return new Blob([ue],{type:pe})}catch{try{var he=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return he.append(ue),he.getBlob(pe)}catch{throw new Error("Bug : can't construct the Blob.")}}};var re={stringifyByChunk:function(ue,pe,he){var xe=[],$e=0,Ne=ue.length;if(Ne<=he)return String.fromCharCode.apply(null,ue);for(;$e<Ne;)pe==="array"||pe==="nodebuffer"?xe.push(String.fromCharCode.apply(null,ue.slice($e,Math.min($e+he,Ne)))):xe.push(String.fromCharCode.apply(null,ue.subarray($e,Math.min($e+he,Ne)))),$e+=he;return xe.join("")},stringifyByChar:function(ue){for(var pe="",he=0;he<ue.length;he++)pe+=String.fromCharCode(ue[he]);return pe},applyCanBeUsed:{uint8array:function(){try{return k.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return k.nodebuffer&&String.fromCharCode.apply(null,V.allocBuffer(1)).length===1}catch{return!1}}()}};function oe(ue){var pe=65536,he=y.getTypeOf(ue),xe=!0;if(he==="uint8array"?xe=re.applyCanBeUsed.uint8array:he==="nodebuffer"&&(xe=re.applyCanBeUsed.nodebuffer),xe)for(;1<pe;)try{return re.stringifyByChunk(ue,he,pe)}catch{pe=Math.floor(pe/2)}return re.stringifyByChar(ue)}function ae(ue,pe){for(var he=0;he<ue.length;he++)pe[he]=ue[he];return pe}y.applyFromCharCode=oe;var de={};de.string={string:z,array:function(ue){return j(ue,new Array(ue.length))},arraybuffer:function(ue){return de.string.uint8array(ue).buffer},uint8array:function(ue){return j(ue,new Uint8Array(ue.length))},nodebuffer:function(ue){return j(ue,V.allocBuffer(ue.length))}},de.array={string:oe,array:z,arraybuffer:function(ue){return new Uint8Array(ue).buffer},uint8array:function(ue){return new Uint8Array(ue)},nodebuffer:function(ue){return V.newBufferFrom(ue)}},de.arraybuffer={string:function(ue){return oe(new Uint8Array(ue))},array:function(ue){return ae(new Uint8Array(ue),new Array(ue.byteLength))},arraybuffer:z,uint8array:function(ue){return new Uint8Array(ue)},nodebuffer:function(ue){return V.newBufferFrom(new Uint8Array(ue))}},de.uint8array={string:oe,array:function(ue){return ae(ue,new Array(ue.length))},arraybuffer:function(ue){return ue.buffer},uint8array:z,nodebuffer:function(ue){return V.newBufferFrom(ue)}},de.nodebuffer={string:oe,array:function(ue){return ae(ue,new Array(ue.length))},arraybuffer:function(ue){return de.nodebuffer.uint8array(ue).buffer},uint8array:function(ue){return ae(ue,new Uint8Array(ue.length))},nodebuffer:z},y.transformTo=function(ue,pe){if(pe=pe||"",!ue)return pe;y.checkSupport(ue);var he=y.getTypeOf(pe);return de[he][ue](pe)},y.resolve=function(ue){for(var pe=ue.split("/"),he=[],xe=0;xe<pe.length;xe++){var $e=pe[xe];$e==="."||$e===""&&xe!==0&&xe!==pe.length-1||($e===".."?he.pop():he.push($e))}return he.join("/")},y.getTypeOf=function(ue){return typeof ue=="string"?"string":Object.prototype.toString.call(ue)==="[object Array]"?"array":k.nodebuffer&&V.isBuffer(ue)?"nodebuffer":k.uint8array&&ue instanceof Uint8Array?"uint8array":k.arraybuffer&&ue instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(ue){if(!k[ue.toLowerCase()])throw new Error(ue+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(ue){var pe,he,xe="";for(he=0;he<(ue||"").length;he++)xe+="\\x"+((pe=ue.charCodeAt(he))<16?"0":"")+pe.toString(16).toUpperCase();return xe},y.delay=function(ue,pe,he){setImmediate(function(){ue.apply(he||null,pe||[])})},y.inherits=function(ue,pe){function he(){}he.prototype=pe.prototype,ue.prototype=new he},y.extend=function(){var ue,pe,he={};for(ue=0;ue<arguments.length;ue++)for(pe in arguments[ue])Object.prototype.hasOwnProperty.call(arguments[ue],pe)&&he[pe]===void 0&&(he[pe]=arguments[ue][pe]);return he},y.prepareContent=function(ue,pe,he,xe,$e){return L.Promise.resolve(pe).then(function(Ne){return k.blob&&(Ne instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Ne))!==-1)&&typeof FileReader<"u"?new L.Promise(function(Oe,_e){var Fe=new FileReader;Fe.onload=function(Ue){Oe(Ue.target.result)},Fe.onerror=function(Ue){_e(Ue.target.error)},Fe.readAsArrayBuffer(Ne)}):Ne}).then(function(Ne){var Oe=y.getTypeOf(Ne);return Oe?(Oe==="arraybuffer"?Ne=y.transformTo("uint8array",Ne):Oe==="string"&&($e?Ne=$.decode(Ne):he&&xe!==!0&&(Ne=function(_e){return j(_e,k.uint8array?new Uint8Array(_e.length):new Array(_e.length))}(Ne))),Ne):L.Promise.reject(new Error("Can't read the data of '"+ue+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,g,y){var k=r("./reader/readerFor"),$=r("./utils"),V=r("./signature"),L=r("./zipEntry"),z=r("./support");function j(re){this.files=[],this.loadOptions=re}j.prototype={checkSignature:function(re){if(!this.reader.readAndCheckSignature(re)){this.reader.index-=4;var oe=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+$.pretty(oe)+", expected "+$.pretty(re)+")")}},isSignature:function(re,oe){var ae=this.reader.index;this.reader.setIndex(re);var de=this.reader.readString(4)===oe;return this.reader.setIndex(ae),de},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var re=this.reader.readData(this.zipCommentLength),oe=z.uint8array?"uint8array":"array",ae=$.transformTo(oe,re);this.zipComment=this.loadOptions.decodeFileName(ae)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var re,oe,ae,de=this.zip64EndOfCentralSize-44;0<de;)re=this.reader.readInt(2),oe=this.reader.readInt(4),ae=this.reader.readData(oe),this.zip64ExtensibleData[re]={id:re,length:oe,value:ae}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var re,oe;for(re=0;re<this.files.length;re++)oe=this.files[re],this.reader.setIndex(oe.localHeaderOffset),this.checkSignature(V.LOCAL_FILE_HEADER),oe.readLocalPart(this.reader),oe.handleUTF8(),oe.processAttributes()},readCentralDir:function(){var re;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(V.CENTRAL_FILE_HEADER);)(re=new L({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(re);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var re=this.reader.lastIndexOfSignature(V.CENTRAL_DIRECTORY_END);if(re<0)throw this.isSignature(0,V.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(re);var oe=re;if(this.checkSignature(V.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===$.MAX_VALUE_16BITS||this.diskWithCentralDirStart===$.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===$.MAX_VALUE_16BITS||this.centralDirRecords===$.MAX_VALUE_16BITS||this.centralDirSize===$.MAX_VALUE_32BITS||this.centralDirOffset===$.MAX_VALUE_32BITS){if(this.zip64=!0,(re=this.reader.lastIndexOfSignature(V.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(re),this.checkSignature(V.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,V.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(V.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(V.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ae=this.centralDirOffset+this.centralDirSize;this.zip64&&(ae+=20,ae+=12+this.zip64EndOfCentralSize);var de=oe-ae;if(0<de)this.isSignature(oe,V.CENTRAL_FILE_HEADER)||(this.reader.zero=de);else if(de<0)throw new Error("Corrupted zip: missing "+Math.abs(de)+" bytes.")},prepareReader:function(re){this.reader=k(re)},load:function(re){this.prepareReader(re),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=j},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,g,y){var k=r("./reader/readerFor"),$=r("./utils"),V=r("./compressedObject"),L=r("./crc32"),z=r("./utf8"),j=r("./compressions"),re=r("./support");function oe(ae,de){this.options=ae,this.loadOptions=de}oe.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(ae){var de,ue;if(ae.skip(22),this.fileNameLength=ae.readInt(2),ue=ae.readInt(2),this.fileName=ae.readData(this.fileNameLength),ae.skip(ue),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((de=function(pe){for(var he in j)if(Object.prototype.hasOwnProperty.call(j,he)&&j[he].magic===pe)return j[he];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+$.pretty(this.compressionMethod)+" unknown (inner file : "+$.transformTo("string",this.fileName)+")");this.decompressed=new V(this.compressedSize,this.uncompressedSize,this.crc32,de,ae.readData(this.compressedSize))},readCentralPart:function(ae){this.versionMadeBy=ae.readInt(2),ae.skip(2),this.bitFlag=ae.readInt(2),this.compressionMethod=ae.readString(2),this.date=ae.readDate(),this.crc32=ae.readInt(4),this.compressedSize=ae.readInt(4),this.uncompressedSize=ae.readInt(4);var de=ae.readInt(2);if(this.extraFieldsLength=ae.readInt(2),this.fileCommentLength=ae.readInt(2),this.diskNumberStart=ae.readInt(2),this.internalFileAttributes=ae.readInt(2),this.externalFileAttributes=ae.readInt(4),this.localHeaderOffset=ae.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");ae.skip(de),this.readExtraFields(ae),this.parseZIP64ExtraField(ae),this.fileComment=ae.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var ae=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),ae==0&&(this.dosPermissions=63&this.externalFileAttributes),ae==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var ae=k(this.extraFields[1].value);this.uncompressedSize===$.MAX_VALUE_32BITS&&(this.uncompressedSize=ae.readInt(8)),this.compressedSize===$.MAX_VALUE_32BITS&&(this.compressedSize=ae.readInt(8)),this.localHeaderOffset===$.MAX_VALUE_32BITS&&(this.localHeaderOffset=ae.readInt(8)),this.diskNumberStart===$.MAX_VALUE_32BITS&&(this.diskNumberStart=ae.readInt(4))}},readExtraFields:function(ae){var de,ue,pe,he=ae.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});ae.index+4<he;)de=ae.readInt(2),ue=ae.readInt(2),pe=ae.readData(ue),this.extraFields[de]={id:de,length:ue,value:pe};ae.setIndex(he)},handleUTF8:function(){var ae=re.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=z.utf8decode(this.fileName),this.fileCommentStr=z.utf8decode(this.fileComment);else{var de=this.findExtraFieldUnicodePath();if(de!==null)this.fileNameStr=de;else{var ue=$.transformTo(ae,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ue)}var pe=this.findExtraFieldUnicodeComment();if(pe!==null)this.fileCommentStr=pe;else{var he=$.transformTo(ae,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(he)}}},findExtraFieldUnicodePath:function(){var ae=this.extraFields[28789];if(ae){var de=k(ae.value);return de.readInt(1)!==1||L(this.fileName)!==de.readInt(4)?null:z.utf8decode(de.readData(ae.length-5))}return null},findExtraFieldUnicodeComment:function(){var ae=this.extraFields[25461];if(ae){var de=k(ae.value);return de.readInt(1)!==1||L(this.fileComment)!==de.readInt(4)?null:z.utf8decode(de.readData(ae.length-5))}return null}},g.exports=oe},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,g,y){function k(de,ue,pe){this.name=de,this.dir=pe.dir,this.date=pe.date,this.comment=pe.comment,this.unixPermissions=pe.unixPermissions,this.dosPermissions=pe.dosPermissions,this._data=ue,this._dataBinary=pe.binary,this.options={compression:pe.compression,compressionOptions:pe.compressionOptions}}var $=r("./stream/StreamHelper"),V=r("./stream/DataWorker"),L=r("./utf8"),z=r("./compressedObject"),j=r("./stream/GenericWorker");k.prototype={internalStream:function(de){var ue=null,pe="string";try{if(!de)throw new Error("No output type specified.");var he=(pe=de.toLowerCase())==="string"||pe==="text";pe!=="binarystring"&&pe!=="text"||(pe="string"),ue=this._decompressWorker();var xe=!this._dataBinary;xe&&!he&&(ue=ue.pipe(new L.Utf8EncodeWorker)),!xe&&he&&(ue=ue.pipe(new L.Utf8DecodeWorker))}catch($e){(ue=new j("error")).error($e)}return new $(ue,pe,"")},async:function(de,ue){return this.internalStream(de).accumulate(ue)},nodeStream:function(de,ue){return this.internalStream(de||"nodebuffer").toNodejsStream(ue)},_compressWorker:function(de,ue){if(this._data instanceof z&&this._data.compression.magic===de.magic)return this._data.getCompressedWorker();var pe=this._decompressWorker();return this._dataBinary||(pe=pe.pipe(new L.Utf8EncodeWorker)),z.createWorkerFrom(pe,de,ue)},_decompressWorker:function(){return this._data instanceof z?this._data.getContentWorker():this._data instanceof j?this._data:new V(this._data)}};for(var re=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],oe=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ae=0;ae<re.length;ae++)k.prototype[re[ae]]=oe;g.exports=k},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,g,y){(function(k){var $,V,L=k.MutationObserver||k.WebKitMutationObserver;if(L){var z=0,j=new L(de),re=k.document.createTextNode("");j.observe(re,{characterData:!0}),$=function(){re.data=z=++z%2}}else if(k.setImmediate||k.MessageChannel===void 0)$="document"in k&&"onreadystatechange"in k.document.createElement("script")?function(){var ue=k.document.createElement("script");ue.onreadystatechange=function(){de(),ue.onreadystatechange=null,ue.parentNode.removeChild(ue),ue=null},k.document.documentElement.appendChild(ue)}:function(){setTimeout(de,0)};else{var oe=new k.MessageChannel;oe.port1.onmessage=de,$=function(){oe.port2.postMessage(0)}}var ae=[];function de(){var ue,pe;V=!0;for(var he=ae.length;he;){for(pe=ae,ae=[],ue=-1;++ue<he;)pe[ue]();he=ae.length}V=!1}g.exports=function(ue){ae.push(ue)!==1||V||$()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,g,y){var k=r("immediate");function $(){}var V={},L=["REJECTED"],z=["FULFILLED"],j=["PENDING"];function re(he){if(typeof he!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,he!==$&&ue(this,he)}function oe(he,xe,$e){this.promise=he,typeof xe=="function"&&(this.onFulfilled=xe,this.callFulfilled=this.otherCallFulfilled),typeof $e=="function"&&(this.onRejected=$e,this.callRejected=this.otherCallRejected)}function ae(he,xe,$e){k(function(){var Ne;try{Ne=xe($e)}catch(Oe){return V.reject(he,Oe)}Ne===he?V.reject(he,new TypeError("Cannot resolve promise with itself")):V.resolve(he,Ne)})}function de(he){var xe=he&&he.then;if(he&&(typeof he=="object"||typeof he=="function")&&typeof xe=="function")return function(){xe.apply(he,arguments)}}function ue(he,xe){var $e=!1;function Ne(Fe){$e||($e=!0,V.reject(he,Fe))}function Oe(Fe){$e||($e=!0,V.resolve(he,Fe))}var _e=pe(function(){xe(Oe,Ne)});_e.status==="error"&&Ne(_e.value)}function pe(he,xe){var $e={};try{$e.value=he(xe),$e.status="success"}catch(Ne){$e.status="error",$e.value=Ne}return $e}(g.exports=re).prototype.finally=function(he){if(typeof he!="function")return this;var xe=this.constructor;return this.then(function($e){return xe.resolve(he()).then(function(){return $e})},function($e){return xe.resolve(he()).then(function(){throw $e})})},re.prototype.catch=function(he){return this.then(null,he)},re.prototype.then=function(he,xe){if(typeof he!="function"&&this.state===z||typeof xe!="function"&&this.state===L)return this;var $e=new this.constructor($);return this.state!==j?ae($e,this.state===z?he:xe,this.outcome):this.queue.push(new oe($e,he,xe)),$e},oe.prototype.callFulfilled=function(he){V.resolve(this.promise,he)},oe.prototype.otherCallFulfilled=function(he){ae(this.promise,this.onFulfilled,he)},oe.prototype.callRejected=function(he){V.reject(this.promise,he)},oe.prototype.otherCallRejected=function(he){ae(this.promise,this.onRejected,he)},V.resolve=function(he,xe){var $e=pe(de,xe);if($e.status==="error")return V.reject(he,$e.value);var Ne=$e.value;if(Ne)ue(he,Ne);else{he.state=z,he.outcome=xe;for(var Oe=-1,_e=he.queue.length;++Oe<_e;)he.queue[Oe].callFulfilled(xe)}return he},V.reject=function(he,xe){he.state=L,he.outcome=xe;for(var $e=-1,Ne=he.queue.length;++$e<Ne;)he.queue[$e].callRejected(xe);return he},re.resolve=function(he){return he instanceof this?he:V.resolve(new this($),he)},re.reject=function(he){var xe=new this($);return V.reject(xe,he)},re.all=function(he){var xe=this;if(Object.prototype.toString.call(he)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $e=he.length,Ne=!1;if(!$e)return this.resolve([]);for(var Oe=new Array($e),_e=0,Fe=-1,Ue=new this($);++Fe<$e;)kt(he[Fe],Fe);return Ue;function kt(Lt,wn){xe.resolve(Lt).then(function(Et){Oe[wn]=Et,++_e!==$e||Ne||(Ne=!0,V.resolve(Ue,Oe))},function(Et){Ne||(Ne=!0,V.reject(Ue,Et))})}},re.race=function(he){var xe=this;if(Object.prototype.toString.call(he)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $e=he.length,Ne=!1;if(!$e)return this.resolve([]);for(var Oe=-1,_e=new this($);++Oe<$e;)Fe=he[Oe],xe.resolve(Fe).then(function(Ue){Ne||(Ne=!0,V.resolve(_e,Ue))},function(Ue){Ne||(Ne=!0,V.reject(_e,Ue))});var Fe;return _e}},{immediate:36}],38:[function(r,g,y){var k={};(0,r("./lib/utils/common").assign)(k,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),g.exports=k},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,g,y){var k=r("./zlib/deflate"),$=r("./utils/common"),V=r("./utils/strings"),L=r("./zlib/messages"),z=r("./zlib/zstream"),j=Object.prototype.toString,re=0,oe=-1,ae=0,de=8;function ue(he){if(!(this instanceof ue))return new ue(he);this.options=$.assign({level:oe,method:de,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae,to:""},he||{});var xe=this.options;xe.raw&&0<xe.windowBits?xe.windowBits=-xe.windowBits:xe.gzip&&0<xe.windowBits&&xe.windowBits<16&&(xe.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var $e=k.deflateInit2(this.strm,xe.level,xe.method,xe.windowBits,xe.memLevel,xe.strategy);if($e!==re)throw new Error(L[$e]);if(xe.header&&k.deflateSetHeader(this.strm,xe.header),xe.dictionary){var Ne;if(Ne=typeof xe.dictionary=="string"?V.string2buf(xe.dictionary):j.call(xe.dictionary)==="[object ArrayBuffer]"?new Uint8Array(xe.dictionary):xe.dictionary,($e=k.deflateSetDictionary(this.strm,Ne))!==re)throw new Error(L[$e]);this._dict_set=!0}}function pe(he,xe){var $e=new ue(xe);if($e.push(he,!0),$e.err)throw $e.msg||L[$e.err];return $e.result}ue.prototype.push=function(he,xe){var $e,Ne,Oe=this.strm,_e=this.options.chunkSize;if(this.ended)return!1;Ne=xe===~~xe?xe:xe===!0?4:0,typeof he=="string"?Oe.input=V.string2buf(he):j.call(he)==="[object ArrayBuffer]"?Oe.input=new Uint8Array(he):Oe.input=he,Oe.next_in=0,Oe.avail_in=Oe.input.length;do{if(Oe.avail_out===0&&(Oe.output=new $.Buf8(_e),Oe.next_out=0,Oe.avail_out=_e),($e=k.deflate(Oe,Ne))!==1&&$e!==re)return this.onEnd($e),!(this.ended=!0);Oe.avail_out!==0&&(Oe.avail_in!==0||Ne!==4&&Ne!==2)||(this.options.to==="string"?this.onData(V.buf2binstring($.shrinkBuf(Oe.output,Oe.next_out))):this.onData($.shrinkBuf(Oe.output,Oe.next_out)))}while((0<Oe.avail_in||Oe.avail_out===0)&&$e!==1);return Ne===4?($e=k.deflateEnd(this.strm),this.onEnd($e),this.ended=!0,$e===re):Ne!==2||(this.onEnd(re),!(Oe.avail_out=0))},ue.prototype.onData=function(he){this.chunks.push(he)},ue.prototype.onEnd=function(he){he===re&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=he,this.msg=this.strm.msg},y.Deflate=ue,y.deflate=pe,y.deflateRaw=function(he,xe){return(xe=xe||{}).raw=!0,pe(he,xe)},y.gzip=function(he,xe){return(xe=xe||{}).gzip=!0,pe(he,xe)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,g,y){var k=r("./zlib/inflate"),$=r("./utils/common"),V=r("./utils/strings"),L=r("./zlib/constants"),z=r("./zlib/messages"),j=r("./zlib/zstream"),re=r("./zlib/gzheader"),oe=Object.prototype.toString;function ae(ue){if(!(this instanceof ae))return new ae(ue);this.options=$.assign({chunkSize:16384,windowBits:0,to:""},ue||{});var pe=this.options;pe.raw&&0<=pe.windowBits&&pe.windowBits<16&&(pe.windowBits=-pe.windowBits,pe.windowBits===0&&(pe.windowBits=-15)),!(0<=pe.windowBits&&pe.windowBits<16)||ue&&ue.windowBits||(pe.windowBits+=32),15<pe.windowBits&&pe.windowBits<48&&!(15&pe.windowBits)&&(pe.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var he=k.inflateInit2(this.strm,pe.windowBits);if(he!==L.Z_OK)throw new Error(z[he]);this.header=new re,k.inflateGetHeader(this.strm,this.header)}function de(ue,pe){var he=new ae(pe);if(he.push(ue,!0),he.err)throw he.msg||z[he.err];return he.result}ae.prototype.push=function(ue,pe){var he,xe,$e,Ne,Oe,_e,Fe=this.strm,Ue=this.options.chunkSize,kt=this.options.dictionary,Lt=!1;if(this.ended)return!1;xe=pe===~~pe?pe:pe===!0?L.Z_FINISH:L.Z_NO_FLUSH,typeof ue=="string"?Fe.input=V.binstring2buf(ue):oe.call(ue)==="[object ArrayBuffer]"?Fe.input=new Uint8Array(ue):Fe.input=ue,Fe.next_in=0,Fe.avail_in=Fe.input.length;do{if(Fe.avail_out===0&&(Fe.output=new $.Buf8(Ue),Fe.next_out=0,Fe.avail_out=Ue),(he=k.inflate(Fe,L.Z_NO_FLUSH))===L.Z_NEED_DICT&&kt&&(_e=typeof kt=="string"?V.string2buf(kt):oe.call(kt)==="[object ArrayBuffer]"?new Uint8Array(kt):kt,he=k.inflateSetDictionary(this.strm,_e)),he===L.Z_BUF_ERROR&&Lt===!0&&(he=L.Z_OK,Lt=!1),he!==L.Z_STREAM_END&&he!==L.Z_OK)return this.onEnd(he),!(this.ended=!0);Fe.next_out&&(Fe.avail_out!==0&&he!==L.Z_STREAM_END&&(Fe.avail_in!==0||xe!==L.Z_FINISH&&xe!==L.Z_SYNC_FLUSH)||(this.options.to==="string"?($e=V.utf8border(Fe.output,Fe.next_out),Ne=Fe.next_out-$e,Oe=V.buf2string(Fe.output,$e),Fe.next_out=Ne,Fe.avail_out=Ue-Ne,Ne&&$.arraySet(Fe.output,Fe.output,$e,Ne,0),this.onData(Oe)):this.onData($.shrinkBuf(Fe.output,Fe.next_out)))),Fe.avail_in===0&&Fe.avail_out===0&&(Lt=!0)}while((0<Fe.avail_in||Fe.avail_out===0)&&he!==L.Z_STREAM_END);return he===L.Z_STREAM_END&&(xe=L.Z_FINISH),xe===L.Z_FINISH?(he=k.inflateEnd(this.strm),this.onEnd(he),this.ended=!0,he===L.Z_OK):xe!==L.Z_SYNC_FLUSH||(this.onEnd(L.Z_OK),!(Fe.avail_out=0))},ae.prototype.onData=function(ue){this.chunks.push(ue)},ae.prototype.onEnd=function(ue){ue===L.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=ue,this.msg=this.strm.msg},y.Inflate=ae,y.inflate=de,y.inflateRaw=function(ue,pe){return(pe=pe||{}).raw=!0,de(ue,pe)},y.ungzip=de},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,g,y){var k=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(L){for(var z=Array.prototype.slice.call(arguments,1);z.length;){var j=z.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var re in j)j.hasOwnProperty(re)&&(L[re]=j[re])}}return L},y.shrinkBuf=function(L,z){return L.length===z?L:L.subarray?L.subarray(0,z):(L.length=z,L)};var $={arraySet:function(L,z,j,re,oe){if(z.subarray&&L.subarray)L.set(z.subarray(j,j+re),oe);else for(var ae=0;ae<re;ae++)L[oe+ae]=z[j+ae]},flattenChunks:function(L){var z,j,re,oe,ae,de;for(z=re=0,j=L.length;z<j;z++)re+=L[z].length;for(de=new Uint8Array(re),z=oe=0,j=L.length;z<j;z++)ae=L[z],de.set(ae,oe),oe+=ae.length;return de}},V={arraySet:function(L,z,j,re,oe){for(var ae=0;ae<re;ae++)L[oe+ae]=z[j+ae]},flattenChunks:function(L){return[].concat.apply([],L)}};y.setTyped=function(L){L?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,$)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,V))},y.setTyped(k)},{}],42:[function(r,g,y){var k=r("./common"),$=!0,V=!0;try{String.fromCharCode.apply(null,[0])}catch{$=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{V=!1}for(var L=new k.Buf8(256),z=0;z<256;z++)L[z]=252<=z?6:248<=z?5:240<=z?4:224<=z?3:192<=z?2:1;function j(re,oe){if(oe<65537&&(re.subarray&&V||!re.subarray&&$))return String.fromCharCode.apply(null,k.shrinkBuf(re,oe));for(var ae="",de=0;de<oe;de++)ae+=String.fromCharCode(re[de]);return ae}L[254]=L[254]=1,y.string2buf=function(re){var oe,ae,de,ue,pe,he=re.length,xe=0;for(ue=0;ue<he;ue++)(64512&(ae=re.charCodeAt(ue)))==55296&&ue+1<he&&(64512&(de=re.charCodeAt(ue+1)))==56320&&(ae=65536+(ae-55296<<10)+(de-56320),ue++),xe+=ae<128?1:ae<2048?2:ae<65536?3:4;for(oe=new k.Buf8(xe),ue=pe=0;pe<xe;ue++)(64512&(ae=re.charCodeAt(ue)))==55296&&ue+1<he&&(64512&(de=re.charCodeAt(ue+1)))==56320&&(ae=65536+(ae-55296<<10)+(de-56320),ue++),ae<128?oe[pe++]=ae:(ae<2048?oe[pe++]=192|ae>>>6:(ae<65536?oe[pe++]=224|ae>>>12:(oe[pe++]=240|ae>>>18,oe[pe++]=128|ae>>>12&63),oe[pe++]=128|ae>>>6&63),oe[pe++]=128|63&ae);return oe},y.buf2binstring=function(re){return j(re,re.length)},y.binstring2buf=function(re){for(var oe=new k.Buf8(re.length),ae=0,de=oe.length;ae<de;ae++)oe[ae]=re.charCodeAt(ae);return oe},y.buf2string=function(re,oe){var ae,de,ue,pe,he=oe||re.length,xe=new Array(2*he);for(ae=de=0;ae<he;)if((ue=re[ae++])<128)xe[de++]=ue;else if(4<(pe=L[ue]))xe[de++]=65533,ae+=pe-1;else{for(ue&=pe===2?31:pe===3?15:7;1<pe&&ae<he;)ue=ue<<6|63&re[ae++],pe--;1<pe?xe[de++]=65533:ue<65536?xe[de++]=ue:(ue-=65536,xe[de++]=55296|ue>>10&1023,xe[de++]=56320|1023&ue)}return j(xe,de)},y.utf8border=function(re,oe){var ae;for((oe=oe||re.length)>re.length&&(oe=re.length),ae=oe-1;0<=ae&&(192&re[ae])==128;)ae--;return ae<0||ae===0?oe:ae+L[re[ae]]>oe?ae:oe}},{"./common":41}],43:[function(r,g,y){g.exports=function(k,$,V,L){for(var z=65535&k|0,j=k>>>16&65535|0,re=0;V!==0;){for(V-=re=2e3<V?2e3:V;j=j+(z=z+$[L++]|0)|0,--re;);z%=65521,j%=65521}return z|j<<16|0}},{}],44:[function(r,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,g,y){var k=function(){for(var $,V=[],L=0;L<256;L++){$=L;for(var z=0;z<8;z++)$=1&$?3988292384^$>>>1:$>>>1;V[L]=$}return V}();g.exports=function($,V,L,z){var j=k,re=z+L;$^=-1;for(var oe=z;oe<re;oe++)$=$>>>8^j[255&($^V[oe])];return-1^$}},{}],46:[function(r,g,y){var k,$=r("../utils/common"),V=r("./trees"),L=r("./adler32"),z=r("./crc32"),j=r("./messages"),re=0,oe=4,ae=0,de=-2,ue=-1,pe=4,he=2,xe=8,$e=9,Ne=286,Oe=30,_e=19,Fe=2*Ne+1,Ue=15,kt=3,Lt=258,wn=Lt+kt+1,Et=42,xn=113,jt=1,An=2,Dn=3,En=4;function Bn(vn,Jn){return vn.msg=j[Jn],Jn}function $n(vn){return(vn<<1)-(4<vn?9:0)}function Wn(vn){for(var Jn=vn.length;0<=--Jn;)vn[Jn]=0}function Gn(vn){var Jn=vn.state,Tn=Jn.pending;Tn>vn.avail_out&&(Tn=vn.avail_out),Tn!==0&&($.arraySet(vn.output,Jn.pending_buf,Jn.pending_out,Tn,vn.next_out),vn.next_out+=Tn,Jn.pending_out+=Tn,vn.total_out+=Tn,vn.avail_out-=Tn,Jn.pending-=Tn,Jn.pending===0&&(Jn.pending_out=0))}function Nn(vn,Jn){V._tr_flush_block(vn,0<=vn.block_start?vn.block_start:-1,vn.strstart-vn.block_start,Jn),vn.block_start=vn.strstart,Gn(vn.strm)}function Zn(vn,Jn){vn.pending_buf[vn.pending++]=Jn}function Hn(vn,Jn){vn.pending_buf[vn.pending++]=Jn>>>8&255,vn.pending_buf[vn.pending++]=255&Jn}function rr(vn,Jn){var Tn,Dt,hn=vn.max_chain_length,Vn=vn.strstart,Kn=vn.prev_length,ar=vn.nice_match,lr=vn.strstart>vn.w_size-wn?vn.strstart-(vn.w_size-wn):0,cr=vn.window,mr=vn.w_mask,ur=vn.prev,le=vn.strstart+Lt,Ce=cr[Vn+Kn-1],Ie=cr[Vn+Kn];vn.prev_length>=vn.good_match&&(hn>>=2),ar>vn.lookahead&&(ar=vn.lookahead);do if(cr[(Tn=Jn)+Kn]===Ie&&cr[Tn+Kn-1]===Ce&&cr[Tn]===cr[Vn]&&cr[++Tn]===cr[Vn+1]){Vn+=2,Tn++;do;while(cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&cr[++Vn]===cr[++Tn]&&Vn<le);if(Dt=Lt-(le-Vn),Vn=le-Lt,Kn<Dt){if(vn.match_start=Jn,ar<=(Kn=Dt))break;Ce=cr[Vn+Kn-1],Ie=cr[Vn+Kn]}}while((Jn=ur[Jn&mr])>lr&&--hn!=0);return Kn<=vn.lookahead?Kn:vn.lookahead}function Xn(vn){var Jn,Tn,Dt,hn,Vn,Kn,ar,lr,cr,mr,ur=vn.w_size;do{if(hn=vn.window_size-vn.lookahead-vn.strstart,vn.strstart>=ur+(ur-wn)){for($.arraySet(vn.window,vn.window,ur,ur,0),vn.match_start-=ur,vn.strstart-=ur,vn.block_start-=ur,Jn=Tn=vn.hash_size;Dt=vn.head[--Jn],vn.head[Jn]=ur<=Dt?Dt-ur:0,--Tn;);for(Jn=Tn=ur;Dt=vn.prev[--Jn],vn.prev[Jn]=ur<=Dt?Dt-ur:0,--Tn;);hn+=ur}if(vn.strm.avail_in===0)break;if(Kn=vn.strm,ar=vn.window,lr=vn.strstart+vn.lookahead,cr=hn,mr=void 0,mr=Kn.avail_in,cr<mr&&(mr=cr),Tn=mr===0?0:(Kn.avail_in-=mr,$.arraySet(ar,Kn.input,Kn.next_in,mr,lr),Kn.state.wrap===1?Kn.adler=L(Kn.adler,ar,mr,lr):Kn.state.wrap===2&&(Kn.adler=z(Kn.adler,ar,mr,lr)),Kn.next_in+=mr,Kn.total_in+=mr,mr),vn.lookahead+=Tn,vn.lookahead+vn.insert>=kt)for(Vn=vn.strstart-vn.insert,vn.ins_h=vn.window[Vn],vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[Vn+1])&vn.hash_mask;vn.insert&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[Vn+kt-1])&vn.hash_mask,vn.prev[Vn&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=Vn,Vn++,vn.insert--,!(vn.lookahead+vn.insert<kt)););}while(vn.lookahead<wn&&vn.strm.avail_in!==0)}function Pn(vn,Jn){for(var Tn,Dt;;){if(vn.lookahead<wn){if(Xn(vn),vn.lookahead<wn&&Jn===re)return jt;if(vn.lookahead===0)break}if(Tn=0,vn.lookahead>=kt&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+kt-1])&vn.hash_mask,Tn=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart),Tn!==0&&vn.strstart-Tn<=vn.w_size-wn&&(vn.match_length=rr(vn,Tn)),vn.match_length>=kt)if(Dt=V._tr_tally(vn,vn.strstart-vn.match_start,vn.match_length-kt),vn.lookahead-=vn.match_length,vn.match_length<=vn.max_lazy_match&&vn.lookahead>=kt){for(vn.match_length--;vn.strstart++,vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+kt-1])&vn.hash_mask,Tn=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart,--vn.match_length!=0;);vn.strstart++}else vn.strstart+=vn.match_length,vn.match_length=0,vn.ins_h=vn.window[vn.strstart],vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+1])&vn.hash_mask;else Dt=V._tr_tally(vn,0,vn.window[vn.strstart]),vn.lookahead--,vn.strstart++;if(Dt&&(Nn(vn,!1),vn.strm.avail_out===0))return jt}return vn.insert=vn.strstart<kt-1?vn.strstart:kt-1,Jn===oe?(Nn(vn,!0),vn.strm.avail_out===0?Dn:En):vn.last_lit&&(Nn(vn,!1),vn.strm.avail_out===0)?jt:An}function jn(vn,Jn){for(var Tn,Dt,hn;;){if(vn.lookahead<wn){if(Xn(vn),vn.lookahead<wn&&Jn===re)return jt;if(vn.lookahead===0)break}if(Tn=0,vn.lookahead>=kt&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+kt-1])&vn.hash_mask,Tn=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart),vn.prev_length=vn.match_length,vn.prev_match=vn.match_start,vn.match_length=kt-1,Tn!==0&&vn.prev_length<vn.max_lazy_match&&vn.strstart-Tn<=vn.w_size-wn&&(vn.match_length=rr(vn,Tn),vn.match_length<=5&&(vn.strategy===1||vn.match_length===kt&&4096<vn.strstart-vn.match_start)&&(vn.match_length=kt-1)),vn.prev_length>=kt&&vn.match_length<=vn.prev_length){for(hn=vn.strstart+vn.lookahead-kt,Dt=V._tr_tally(vn,vn.strstart-1-vn.prev_match,vn.prev_length-kt),vn.lookahead-=vn.prev_length-1,vn.prev_length-=2;++vn.strstart<=hn&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+kt-1])&vn.hash_mask,Tn=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart),--vn.prev_length!=0;);if(vn.match_available=0,vn.match_length=kt-1,vn.strstart++,Dt&&(Nn(vn,!1),vn.strm.avail_out===0))return jt}else if(vn.match_available){if((Dt=V._tr_tally(vn,0,vn.window[vn.strstart-1]))&&Nn(vn,!1),vn.strstart++,vn.lookahead--,vn.strm.avail_out===0)return jt}else vn.match_available=1,vn.strstart++,vn.lookahead--}return vn.match_available&&(Dt=V._tr_tally(vn,0,vn.window[vn.strstart-1]),vn.match_available=0),vn.insert=vn.strstart<kt-1?vn.strstart:kt-1,Jn===oe?(Nn(vn,!0),vn.strm.avail_out===0?Dn:En):vn.last_lit&&(Nn(vn,!1),vn.strm.avail_out===0)?jt:An}function fr(vn,Jn,Tn,Dt,hn){this.good_length=vn,this.max_lazy=Jn,this.nice_length=Tn,this.max_chain=Dt,this.func=hn}function yr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(2*Fe),this.dyn_dtree=new $.Buf16(2*(2*Oe+1)),this.bl_tree=new $.Buf16(2*(2*_e+1)),Wn(this.dyn_ltree),Wn(this.dyn_dtree),Wn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(Ue+1),this.heap=new $.Buf16(2*Ne+1),Wn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(2*Ne+1),Wn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Cr(vn){var Jn;return vn&&vn.state?(vn.total_in=vn.total_out=0,vn.data_type=he,(Jn=vn.state).pending=0,Jn.pending_out=0,Jn.wrap<0&&(Jn.wrap=-Jn.wrap),Jn.status=Jn.wrap?Et:xn,vn.adler=Jn.wrap===2?0:1,Jn.last_flush=re,V._tr_init(Jn),ae):Bn(vn,de)}function sr(vn){var Jn=Cr(vn);return Jn===ae&&function(Tn){Tn.window_size=2*Tn.w_size,Wn(Tn.head),Tn.max_lazy_match=k[Tn.level].max_lazy,Tn.good_match=k[Tn.level].good_length,Tn.nice_match=k[Tn.level].nice_length,Tn.max_chain_length=k[Tn.level].max_chain,Tn.strstart=0,Tn.block_start=0,Tn.lookahead=0,Tn.insert=0,Tn.match_length=Tn.prev_length=kt-1,Tn.match_available=0,Tn.ins_h=0}(vn.state),Jn}function zn(vn,Jn,Tn,Dt,hn,Vn){if(!vn)return de;var Kn=1;if(Jn===ue&&(Jn=6),Dt<0?(Kn=0,Dt=-Dt):15<Dt&&(Kn=2,Dt-=16),hn<1||$e<hn||Tn!==xe||Dt<8||15<Dt||Jn<0||9<Jn||Vn<0||pe<Vn)return Bn(vn,de);Dt===8&&(Dt=9);var ar=new yr;return(vn.state=ar).strm=vn,ar.wrap=Kn,ar.gzhead=null,ar.w_bits=Dt,ar.w_size=1<<ar.w_bits,ar.w_mask=ar.w_size-1,ar.hash_bits=hn+7,ar.hash_size=1<<ar.hash_bits,ar.hash_mask=ar.hash_size-1,ar.hash_shift=~~((ar.hash_bits+kt-1)/kt),ar.window=new $.Buf8(2*ar.w_size),ar.head=new $.Buf16(ar.hash_size),ar.prev=new $.Buf16(ar.w_size),ar.lit_bufsize=1<<hn+6,ar.pending_buf_size=4*ar.lit_bufsize,ar.pending_buf=new $.Buf8(ar.pending_buf_size),ar.d_buf=1*ar.lit_bufsize,ar.l_buf=3*ar.lit_bufsize,ar.level=Jn,ar.strategy=Vn,ar.method=Tn,sr(vn)}k=[new fr(0,0,0,0,function(vn,Jn){var Tn=65535;for(Tn>vn.pending_buf_size-5&&(Tn=vn.pending_buf_size-5);;){if(vn.lookahead<=1){if(Xn(vn),vn.lookahead===0&&Jn===re)return jt;if(vn.lookahead===0)break}vn.strstart+=vn.lookahead,vn.lookahead=0;var Dt=vn.block_start+Tn;if((vn.strstart===0||vn.strstart>=Dt)&&(vn.lookahead=vn.strstart-Dt,vn.strstart=Dt,Nn(vn,!1),vn.strm.avail_out===0)||vn.strstart-vn.block_start>=vn.w_size-wn&&(Nn(vn,!1),vn.strm.avail_out===0))return jt}return vn.insert=0,Jn===oe?(Nn(vn,!0),vn.strm.avail_out===0?Dn:En):(vn.strstart>vn.block_start&&(Nn(vn,!1),vn.strm.avail_out),jt)}),new fr(4,4,8,4,Pn),new fr(4,5,16,8,Pn),new fr(4,6,32,32,Pn),new fr(4,4,16,16,jn),new fr(8,16,32,32,jn),new fr(8,16,128,128,jn),new fr(8,32,128,256,jn),new fr(32,128,258,1024,jn),new fr(32,258,258,4096,jn)],y.deflateInit=function(vn,Jn){return zn(vn,Jn,xe,15,8,0)},y.deflateInit2=zn,y.deflateReset=sr,y.deflateResetKeep=Cr,y.deflateSetHeader=function(vn,Jn){return vn&&vn.state?vn.state.wrap!==2?de:(vn.state.gzhead=Jn,ae):de},y.deflate=function(vn,Jn){var Tn,Dt,hn,Vn;if(!vn||!vn.state||5<Jn||Jn<0)return vn?Bn(vn,de):de;if(Dt=vn.state,!vn.output||!vn.input&&vn.avail_in!==0||Dt.status===666&&Jn!==oe)return Bn(vn,vn.avail_out===0?-5:de);if(Dt.strm=vn,Tn=Dt.last_flush,Dt.last_flush=Jn,Dt.status===Et)if(Dt.wrap===2)vn.adler=0,Zn(Dt,31),Zn(Dt,139),Zn(Dt,8),Dt.gzhead?(Zn(Dt,(Dt.gzhead.text?1:0)+(Dt.gzhead.hcrc?2:0)+(Dt.gzhead.extra?4:0)+(Dt.gzhead.name?8:0)+(Dt.gzhead.comment?16:0)),Zn(Dt,255&Dt.gzhead.time),Zn(Dt,Dt.gzhead.time>>8&255),Zn(Dt,Dt.gzhead.time>>16&255),Zn(Dt,Dt.gzhead.time>>24&255),Zn(Dt,Dt.level===9?2:2<=Dt.strategy||Dt.level<2?4:0),Zn(Dt,255&Dt.gzhead.os),Dt.gzhead.extra&&Dt.gzhead.extra.length&&(Zn(Dt,255&Dt.gzhead.extra.length),Zn(Dt,Dt.gzhead.extra.length>>8&255)),Dt.gzhead.hcrc&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending,0)),Dt.gzindex=0,Dt.status=69):(Zn(Dt,0),Zn(Dt,0),Zn(Dt,0),Zn(Dt,0),Zn(Dt,0),Zn(Dt,Dt.level===9?2:2<=Dt.strategy||Dt.level<2?4:0),Zn(Dt,3),Dt.status=xn);else{var Kn=xe+(Dt.w_bits-8<<4)<<8;Kn|=(2<=Dt.strategy||Dt.level<2?0:Dt.level<6?1:Dt.level===6?2:3)<<6,Dt.strstart!==0&&(Kn|=32),Kn+=31-Kn%31,Dt.status=xn,Hn(Dt,Kn),Dt.strstart!==0&&(Hn(Dt,vn.adler>>>16),Hn(Dt,65535&vn.adler)),vn.adler=1}if(Dt.status===69)if(Dt.gzhead.extra){for(hn=Dt.pending;Dt.gzindex<(65535&Dt.gzhead.extra.length)&&(Dt.pending!==Dt.pending_buf_size||(Dt.gzhead.hcrc&&Dt.pending>hn&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending-hn,hn)),Gn(vn),hn=Dt.pending,Dt.pending!==Dt.pending_buf_size));)Zn(Dt,255&Dt.gzhead.extra[Dt.gzindex]),Dt.gzindex++;Dt.gzhead.hcrc&&Dt.pending>hn&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending-hn,hn)),Dt.gzindex===Dt.gzhead.extra.length&&(Dt.gzindex=0,Dt.status=73)}else Dt.status=73;if(Dt.status===73)if(Dt.gzhead.name){hn=Dt.pending;do{if(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>hn&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending-hn,hn)),Gn(vn),hn=Dt.pending,Dt.pending===Dt.pending_buf_size)){Vn=1;break}Vn=Dt.gzindex<Dt.gzhead.name.length?255&Dt.gzhead.name.charCodeAt(Dt.gzindex++):0,Zn(Dt,Vn)}while(Vn!==0);Dt.gzhead.hcrc&&Dt.pending>hn&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending-hn,hn)),Vn===0&&(Dt.gzindex=0,Dt.status=91)}else Dt.status=91;if(Dt.status===91)if(Dt.gzhead.comment){hn=Dt.pending;do{if(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>hn&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending-hn,hn)),Gn(vn),hn=Dt.pending,Dt.pending===Dt.pending_buf_size)){Vn=1;break}Vn=Dt.gzindex<Dt.gzhead.comment.length?255&Dt.gzhead.comment.charCodeAt(Dt.gzindex++):0,Zn(Dt,Vn)}while(Vn!==0);Dt.gzhead.hcrc&&Dt.pending>hn&&(vn.adler=z(vn.adler,Dt.pending_buf,Dt.pending-hn,hn)),Vn===0&&(Dt.status=103)}else Dt.status=103;if(Dt.status===103&&(Dt.gzhead.hcrc?(Dt.pending+2>Dt.pending_buf_size&&Gn(vn),Dt.pending+2<=Dt.pending_buf_size&&(Zn(Dt,255&vn.adler),Zn(Dt,vn.adler>>8&255),vn.adler=0,Dt.status=xn)):Dt.status=xn),Dt.pending!==0){if(Gn(vn),vn.avail_out===0)return Dt.last_flush=-1,ae}else if(vn.avail_in===0&&$n(Jn)<=$n(Tn)&&Jn!==oe)return Bn(vn,-5);if(Dt.status===666&&vn.avail_in!==0)return Bn(vn,-5);if(vn.avail_in!==0||Dt.lookahead!==0||Jn!==re&&Dt.status!==666){var ar=Dt.strategy===2?function(lr,cr){for(var mr;;){if(lr.lookahead===0&&(Xn(lr),lr.lookahead===0)){if(cr===re)return jt;break}if(lr.match_length=0,mr=V._tr_tally(lr,0,lr.window[lr.strstart]),lr.lookahead--,lr.strstart++,mr&&(Nn(lr,!1),lr.strm.avail_out===0))return jt}return lr.insert=0,cr===oe?(Nn(lr,!0),lr.strm.avail_out===0?Dn:En):lr.last_lit&&(Nn(lr,!1),lr.strm.avail_out===0)?jt:An}(Dt,Jn):Dt.strategy===3?function(lr,cr){for(var mr,ur,le,Ce,Ie=lr.window;;){if(lr.lookahead<=Lt){if(Xn(lr),lr.lookahead<=Lt&&cr===re)return jt;if(lr.lookahead===0)break}if(lr.match_length=0,lr.lookahead>=kt&&0<lr.strstart&&(ur=Ie[le=lr.strstart-1])===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]){Ce=lr.strstart+Lt;do;while(ur===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]&&ur===Ie[++le]&&le<Ce);lr.match_length=Lt-(Ce-le),lr.match_length>lr.lookahead&&(lr.match_length=lr.lookahead)}if(lr.match_length>=kt?(mr=V._tr_tally(lr,1,lr.match_length-kt),lr.lookahead-=lr.match_length,lr.strstart+=lr.match_length,lr.match_length=0):(mr=V._tr_tally(lr,0,lr.window[lr.strstart]),lr.lookahead--,lr.strstart++),mr&&(Nn(lr,!1),lr.strm.avail_out===0))return jt}return lr.insert=0,cr===oe?(Nn(lr,!0),lr.strm.avail_out===0?Dn:En):lr.last_lit&&(Nn(lr,!1),lr.strm.avail_out===0)?jt:An}(Dt,Jn):k[Dt.level].func(Dt,Jn);if(ar!==Dn&&ar!==En||(Dt.status=666),ar===jt||ar===Dn)return vn.avail_out===0&&(Dt.last_flush=-1),ae;if(ar===An&&(Jn===1?V._tr_align(Dt):Jn!==5&&(V._tr_stored_block(Dt,0,0,!1),Jn===3&&(Wn(Dt.head),Dt.lookahead===0&&(Dt.strstart=0,Dt.block_start=0,Dt.insert=0))),Gn(vn),vn.avail_out===0))return Dt.last_flush=-1,ae}return Jn!==oe?ae:Dt.wrap<=0?1:(Dt.wrap===2?(Zn(Dt,255&vn.adler),Zn(Dt,vn.adler>>8&255),Zn(Dt,vn.adler>>16&255),Zn(Dt,vn.adler>>24&255),Zn(Dt,255&vn.total_in),Zn(Dt,vn.total_in>>8&255),Zn(Dt,vn.total_in>>16&255),Zn(Dt,vn.total_in>>24&255)):(Hn(Dt,vn.adler>>>16),Hn(Dt,65535&vn.adler)),Gn(vn),0<Dt.wrap&&(Dt.wrap=-Dt.wrap),Dt.pending!==0?ae:1)},y.deflateEnd=function(vn){var Jn;return vn&&vn.state?(Jn=vn.state.status)!==Et&&Jn!==69&&Jn!==73&&Jn!==91&&Jn!==103&&Jn!==xn&&Jn!==666?Bn(vn,de):(vn.state=null,Jn===xn?Bn(vn,-3):ae):de},y.deflateSetDictionary=function(vn,Jn){var Tn,Dt,hn,Vn,Kn,ar,lr,cr,mr=Jn.length;if(!vn||!vn.state||(Vn=(Tn=vn.state).wrap)===2||Vn===1&&Tn.status!==Et||Tn.lookahead)return de;for(Vn===1&&(vn.adler=L(vn.adler,Jn,mr,0)),Tn.wrap=0,mr>=Tn.w_size&&(Vn===0&&(Wn(Tn.head),Tn.strstart=0,Tn.block_start=0,Tn.insert=0),cr=new $.Buf8(Tn.w_size),$.arraySet(cr,Jn,mr-Tn.w_size,Tn.w_size,0),Jn=cr,mr=Tn.w_size),Kn=vn.avail_in,ar=vn.next_in,lr=vn.input,vn.avail_in=mr,vn.next_in=0,vn.input=Jn,Xn(Tn);Tn.lookahead>=kt;){for(Dt=Tn.strstart,hn=Tn.lookahead-(kt-1);Tn.ins_h=(Tn.ins_h<<Tn.hash_shift^Tn.window[Dt+kt-1])&Tn.hash_mask,Tn.prev[Dt&Tn.w_mask]=Tn.head[Tn.ins_h],Tn.head[Tn.ins_h]=Dt,Dt++,--hn;);Tn.strstart=Dt,Tn.lookahead=kt-1,Xn(Tn)}return Tn.strstart+=Tn.lookahead,Tn.block_start=Tn.strstart,Tn.insert=Tn.lookahead,Tn.lookahead=0,Tn.match_length=Tn.prev_length=kt-1,Tn.match_available=0,vn.next_in=ar,vn.input=lr,vn.avail_in=Kn,Tn.wrap=Vn,ae},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,g,y){g.exports=function(k,$){var V,L,z,j,re,oe,ae,de,ue,pe,he,xe,$e,Ne,Oe,_e,Fe,Ue,kt,Lt,wn,Et,xn,jt,An;V=k.state,L=k.next_in,jt=k.input,z=L+(k.avail_in-5),j=k.next_out,An=k.output,re=j-($-k.avail_out),oe=j+(k.avail_out-257),ae=V.dmax,de=V.wsize,ue=V.whave,pe=V.wnext,he=V.window,xe=V.hold,$e=V.bits,Ne=V.lencode,Oe=V.distcode,_e=(1<<V.lenbits)-1,Fe=(1<<V.distbits)-1;e:do{$e<15&&(xe+=jt[L++]<<$e,$e+=8,xe+=jt[L++]<<$e,$e+=8),Ue=Ne[xe&_e];t:for(;;){if(xe>>>=kt=Ue>>>24,$e-=kt,(kt=Ue>>>16&255)===0)An[j++]=65535&Ue;else{if(!(16&kt)){if(!(64&kt)){Ue=Ne[(65535&Ue)+(xe&(1<<kt)-1)];continue t}if(32&kt){V.mode=12;break e}k.msg="invalid literal/length code",V.mode=30;break e}Lt=65535&Ue,(kt&=15)&&($e<kt&&(xe+=jt[L++]<<$e,$e+=8),Lt+=xe&(1<<kt)-1,xe>>>=kt,$e-=kt),$e<15&&(xe+=jt[L++]<<$e,$e+=8,xe+=jt[L++]<<$e,$e+=8),Ue=Oe[xe&Fe];n:for(;;){if(xe>>>=kt=Ue>>>24,$e-=kt,!(16&(kt=Ue>>>16&255))){if(!(64&kt)){Ue=Oe[(65535&Ue)+(xe&(1<<kt)-1)];continue n}k.msg="invalid distance code",V.mode=30;break e}if(wn=65535&Ue,$e<(kt&=15)&&(xe+=jt[L++]<<$e,($e+=8)<kt&&(xe+=jt[L++]<<$e,$e+=8)),ae<(wn+=xe&(1<<kt)-1)){k.msg="invalid distance too far back",V.mode=30;break e}if(xe>>>=kt,$e-=kt,(kt=j-re)<wn){if(ue<(kt=wn-kt)&&V.sane){k.msg="invalid distance too far back",V.mode=30;break e}if(xn=he,(Et=0)===pe){if(Et+=de-kt,kt<Lt){for(Lt-=kt;An[j++]=he[Et++],--kt;);Et=j-wn,xn=An}}else if(pe<kt){if(Et+=de+pe-kt,(kt-=pe)<Lt){for(Lt-=kt;An[j++]=he[Et++],--kt;);if(Et=0,pe<Lt){for(Lt-=kt=pe;An[j++]=he[Et++],--kt;);Et=j-wn,xn=An}}}else if(Et+=pe-kt,kt<Lt){for(Lt-=kt;An[j++]=he[Et++],--kt;);Et=j-wn,xn=An}for(;2<Lt;)An[j++]=xn[Et++],An[j++]=xn[Et++],An[j++]=xn[Et++],Lt-=3;Lt&&(An[j++]=xn[Et++],1<Lt&&(An[j++]=xn[Et++]))}else{for(Et=j-wn;An[j++]=An[Et++],An[j++]=An[Et++],An[j++]=An[Et++],2<(Lt-=3););Lt&&(An[j++]=An[Et++],1<Lt&&(An[j++]=An[Et++]))}break}}break}}while(L<z&&j<oe);L-=Lt=$e>>3,xe&=(1<<($e-=Lt<<3))-1,k.next_in=L,k.next_out=j,k.avail_in=L<z?z-L+5:5-(L-z),k.avail_out=j<oe?oe-j+257:257-(j-oe),V.hold=xe,V.bits=$e}},{}],49:[function(r,g,y){var k=r("../utils/common"),$=r("./adler32"),V=r("./crc32"),L=r("./inffast"),z=r("./inftrees"),j=1,re=2,oe=0,ae=-2,de=1,ue=852,pe=592;function he(Et){return(Et>>>24&255)+(Et>>>8&65280)+((65280&Et)<<8)+((255&Et)<<24)}function xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $e(Et){var xn;return Et&&Et.state?(xn=Et.state,Et.total_in=Et.total_out=xn.total=0,Et.msg="",xn.wrap&&(Et.adler=1&xn.wrap),xn.mode=de,xn.last=0,xn.havedict=0,xn.dmax=32768,xn.head=null,xn.hold=0,xn.bits=0,xn.lencode=xn.lendyn=new k.Buf32(ue),xn.distcode=xn.distdyn=new k.Buf32(pe),xn.sane=1,xn.back=-1,oe):ae}function Ne(Et){var xn;return Et&&Et.state?((xn=Et.state).wsize=0,xn.whave=0,xn.wnext=0,$e(Et)):ae}function Oe(Et,xn){var jt,An;return Et&&Et.state?(An=Et.state,xn<0?(jt=0,xn=-xn):(jt=1+(xn>>4),xn<48&&(xn&=15)),xn&&(xn<8||15<xn)?ae:(An.window!==null&&An.wbits!==xn&&(An.window=null),An.wrap=jt,An.wbits=xn,Ne(Et))):ae}function _e(Et,xn){var jt,An;return Et?(An=new xe,(Et.state=An).window=null,(jt=Oe(Et,xn))!==oe&&(Et.state=null),jt):ae}var Fe,Ue,kt=!0;function Lt(Et){if(kt){var xn;for(Fe=new k.Buf32(512),Ue=new k.Buf32(32),xn=0;xn<144;)Et.lens[xn++]=8;for(;xn<256;)Et.lens[xn++]=9;for(;xn<280;)Et.lens[xn++]=7;for(;xn<288;)Et.lens[xn++]=8;for(z(j,Et.lens,0,288,Fe,0,Et.work,{bits:9}),xn=0;xn<32;)Et.lens[xn++]=5;z(re,Et.lens,0,32,Ue,0,Et.work,{bits:5}),kt=!1}Et.lencode=Fe,Et.lenbits=9,Et.distcode=Ue,Et.distbits=5}function wn(Et,xn,jt,An){var Dn,En=Et.state;return En.window===null&&(En.wsize=1<<En.wbits,En.wnext=0,En.whave=0,En.window=new k.Buf8(En.wsize)),An>=En.wsize?(k.arraySet(En.window,xn,jt-En.wsize,En.wsize,0),En.wnext=0,En.whave=En.wsize):(An<(Dn=En.wsize-En.wnext)&&(Dn=An),k.arraySet(En.window,xn,jt-An,Dn,En.wnext),(An-=Dn)?(k.arraySet(En.window,xn,jt-An,An,0),En.wnext=An,En.whave=En.wsize):(En.wnext+=Dn,En.wnext===En.wsize&&(En.wnext=0),En.whave<En.wsize&&(En.whave+=Dn))),0}y.inflateReset=Ne,y.inflateReset2=Oe,y.inflateResetKeep=$e,y.inflateInit=function(Et){return _e(Et,15)},y.inflateInit2=_e,y.inflate=function(Et,xn){var jt,An,Dn,En,Bn,$n,Wn,Gn,Nn,Zn,Hn,rr,Xn,Pn,jn,fr,yr,Cr,sr,zn,vn,Jn,Tn,Dt,hn=0,Vn=new k.Buf8(4),Kn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Et||!Et.state||!Et.output||!Et.input&&Et.avail_in!==0)return ae;(jt=Et.state).mode===12&&(jt.mode=13),Bn=Et.next_out,Dn=Et.output,Wn=Et.avail_out,En=Et.next_in,An=Et.input,$n=Et.avail_in,Gn=jt.hold,Nn=jt.bits,Zn=$n,Hn=Wn,Jn=oe;e:for(;;)switch(jt.mode){case de:if(jt.wrap===0){jt.mode=13;break}for(;Nn<16;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(2&jt.wrap&&Gn===35615){Vn[jt.check=0]=255&Gn,Vn[1]=Gn>>>8&255,jt.check=V(jt.check,Vn,2,0),Nn=Gn=0,jt.mode=2;break}if(jt.flags=0,jt.head&&(jt.head.done=!1),!(1&jt.wrap)||(((255&Gn)<<8)+(Gn>>8))%31){Et.msg="incorrect header check",jt.mode=30;break}if((15&Gn)!=8){Et.msg="unknown compression method",jt.mode=30;break}if(Nn-=4,vn=8+(15&(Gn>>>=4)),jt.wbits===0)jt.wbits=vn;else if(vn>jt.wbits){Et.msg="invalid window size",jt.mode=30;break}jt.dmax=1<<vn,Et.adler=jt.check=1,jt.mode=512&Gn?10:12,Nn=Gn=0;break;case 2:for(;Nn<16;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(jt.flags=Gn,(255&jt.flags)!=8){Et.msg="unknown compression method",jt.mode=30;break}if(57344&jt.flags){Et.msg="unknown header flags set",jt.mode=30;break}jt.head&&(jt.head.text=Gn>>8&1),512&jt.flags&&(Vn[0]=255&Gn,Vn[1]=Gn>>>8&255,jt.check=V(jt.check,Vn,2,0)),Nn=Gn=0,jt.mode=3;case 3:for(;Nn<32;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}jt.head&&(jt.head.time=Gn),512&jt.flags&&(Vn[0]=255&Gn,Vn[1]=Gn>>>8&255,Vn[2]=Gn>>>16&255,Vn[3]=Gn>>>24&255,jt.check=V(jt.check,Vn,4,0)),Nn=Gn=0,jt.mode=4;case 4:for(;Nn<16;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}jt.head&&(jt.head.xflags=255&Gn,jt.head.os=Gn>>8),512&jt.flags&&(Vn[0]=255&Gn,Vn[1]=Gn>>>8&255,jt.check=V(jt.check,Vn,2,0)),Nn=Gn=0,jt.mode=5;case 5:if(1024&jt.flags){for(;Nn<16;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}jt.length=Gn,jt.head&&(jt.head.extra_len=Gn),512&jt.flags&&(Vn[0]=255&Gn,Vn[1]=Gn>>>8&255,jt.check=V(jt.check,Vn,2,0)),Nn=Gn=0}else jt.head&&(jt.head.extra=null);jt.mode=6;case 6:if(1024&jt.flags&&($n<(rr=jt.length)&&(rr=$n),rr&&(jt.head&&(vn=jt.head.extra_len-jt.length,jt.head.extra||(jt.head.extra=new Array(jt.head.extra_len)),k.arraySet(jt.head.extra,An,En,rr,vn)),512&jt.flags&&(jt.check=V(jt.check,An,rr,En)),$n-=rr,En+=rr,jt.length-=rr),jt.length))break e;jt.length=0,jt.mode=7;case 7:if(2048&jt.flags){if($n===0)break e;for(rr=0;vn=An[En+rr++],jt.head&&vn&&jt.length<65536&&(jt.head.name+=String.fromCharCode(vn)),vn&&rr<$n;);if(512&jt.flags&&(jt.check=V(jt.check,An,rr,En)),$n-=rr,En+=rr,vn)break e}else jt.head&&(jt.head.name=null);jt.length=0,jt.mode=8;case 8:if(4096&jt.flags){if($n===0)break e;for(rr=0;vn=An[En+rr++],jt.head&&vn&&jt.length<65536&&(jt.head.comment+=String.fromCharCode(vn)),vn&&rr<$n;);if(512&jt.flags&&(jt.check=V(jt.check,An,rr,En)),$n-=rr,En+=rr,vn)break e}else jt.head&&(jt.head.comment=null);jt.mode=9;case 9:if(512&jt.flags){for(;Nn<16;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(Gn!==(65535&jt.check)){Et.msg="header crc mismatch",jt.mode=30;break}Nn=Gn=0}jt.head&&(jt.head.hcrc=jt.flags>>9&1,jt.head.done=!0),Et.adler=jt.check=0,jt.mode=12;break;case 10:for(;Nn<32;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}Et.adler=jt.check=he(Gn),Nn=Gn=0,jt.mode=11;case 11:if(jt.havedict===0)return Et.next_out=Bn,Et.avail_out=Wn,Et.next_in=En,Et.avail_in=$n,jt.hold=Gn,jt.bits=Nn,2;Et.adler=jt.check=1,jt.mode=12;case 12:if(xn===5||xn===6)break e;case 13:if(jt.last){Gn>>>=7&Nn,Nn-=7&Nn,jt.mode=27;break}for(;Nn<3;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}switch(jt.last=1&Gn,Nn-=1,3&(Gn>>>=1)){case 0:jt.mode=14;break;case 1:if(Lt(jt),jt.mode=20,xn!==6)break;Gn>>>=2,Nn-=2;break e;case 2:jt.mode=17;break;case 3:Et.msg="invalid block type",jt.mode=30}Gn>>>=2,Nn-=2;break;case 14:for(Gn>>>=7&Nn,Nn-=7&Nn;Nn<32;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if((65535&Gn)!=(Gn>>>16^65535)){Et.msg="invalid stored block lengths",jt.mode=30;break}if(jt.length=65535&Gn,Nn=Gn=0,jt.mode=15,xn===6)break e;case 15:jt.mode=16;case 16:if(rr=jt.length){if($n<rr&&(rr=$n),Wn<rr&&(rr=Wn),rr===0)break e;k.arraySet(Dn,An,En,rr,Bn),$n-=rr,En+=rr,Wn-=rr,Bn+=rr,jt.length-=rr;break}jt.mode=12;break;case 17:for(;Nn<14;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(jt.nlen=257+(31&Gn),Gn>>>=5,Nn-=5,jt.ndist=1+(31&Gn),Gn>>>=5,Nn-=5,jt.ncode=4+(15&Gn),Gn>>>=4,Nn-=4,286<jt.nlen||30<jt.ndist){Et.msg="too many length or distance symbols",jt.mode=30;break}jt.have=0,jt.mode=18;case 18:for(;jt.have<jt.ncode;){for(;Nn<3;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}jt.lens[Kn[jt.have++]]=7&Gn,Gn>>>=3,Nn-=3}for(;jt.have<19;)jt.lens[Kn[jt.have++]]=0;if(jt.lencode=jt.lendyn,jt.lenbits=7,Tn={bits:jt.lenbits},Jn=z(0,jt.lens,0,19,jt.lencode,0,jt.work,Tn),jt.lenbits=Tn.bits,Jn){Et.msg="invalid code lengths set",jt.mode=30;break}jt.have=0,jt.mode=19;case 19:for(;jt.have<jt.nlen+jt.ndist;){for(;fr=(hn=jt.lencode[Gn&(1<<jt.lenbits)-1])>>>16&255,yr=65535&hn,!((jn=hn>>>24)<=Nn);){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(yr<16)Gn>>>=jn,Nn-=jn,jt.lens[jt.have++]=yr;else{if(yr===16){for(Dt=jn+2;Nn<Dt;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(Gn>>>=jn,Nn-=jn,jt.have===0){Et.msg="invalid bit length repeat",jt.mode=30;break}vn=jt.lens[jt.have-1],rr=3+(3&Gn),Gn>>>=2,Nn-=2}else if(yr===17){for(Dt=jn+3;Nn<Dt;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}Nn-=jn,vn=0,rr=3+(7&(Gn>>>=jn)),Gn>>>=3,Nn-=3}else{for(Dt=jn+7;Nn<Dt;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}Nn-=jn,vn=0,rr=11+(127&(Gn>>>=jn)),Gn>>>=7,Nn-=7}if(jt.have+rr>jt.nlen+jt.ndist){Et.msg="invalid bit length repeat",jt.mode=30;break}for(;rr--;)jt.lens[jt.have++]=vn}}if(jt.mode===30)break;if(jt.lens[256]===0){Et.msg="invalid code -- missing end-of-block",jt.mode=30;break}if(jt.lenbits=9,Tn={bits:jt.lenbits},Jn=z(j,jt.lens,0,jt.nlen,jt.lencode,0,jt.work,Tn),jt.lenbits=Tn.bits,Jn){Et.msg="invalid literal/lengths set",jt.mode=30;break}if(jt.distbits=6,jt.distcode=jt.distdyn,Tn={bits:jt.distbits},Jn=z(re,jt.lens,jt.nlen,jt.ndist,jt.distcode,0,jt.work,Tn),jt.distbits=Tn.bits,Jn){Et.msg="invalid distances set",jt.mode=30;break}if(jt.mode=20,xn===6)break e;case 20:jt.mode=21;case 21:if(6<=$n&&258<=Wn){Et.next_out=Bn,Et.avail_out=Wn,Et.next_in=En,Et.avail_in=$n,jt.hold=Gn,jt.bits=Nn,L(Et,Hn),Bn=Et.next_out,Dn=Et.output,Wn=Et.avail_out,En=Et.next_in,An=Et.input,$n=Et.avail_in,Gn=jt.hold,Nn=jt.bits,jt.mode===12&&(jt.back=-1);break}for(jt.back=0;fr=(hn=jt.lencode[Gn&(1<<jt.lenbits)-1])>>>16&255,yr=65535&hn,!((jn=hn>>>24)<=Nn);){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(fr&&!(240&fr)){for(Cr=jn,sr=fr,zn=yr;fr=(hn=jt.lencode[zn+((Gn&(1<<Cr+sr)-1)>>Cr)])>>>16&255,yr=65535&hn,!(Cr+(jn=hn>>>24)<=Nn);){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}Gn>>>=Cr,Nn-=Cr,jt.back+=Cr}if(Gn>>>=jn,Nn-=jn,jt.back+=jn,jt.length=yr,fr===0){jt.mode=26;break}if(32&fr){jt.back=-1,jt.mode=12;break}if(64&fr){Et.msg="invalid literal/length code",jt.mode=30;break}jt.extra=15&fr,jt.mode=22;case 22:if(jt.extra){for(Dt=jt.extra;Nn<Dt;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}jt.length+=Gn&(1<<jt.extra)-1,Gn>>>=jt.extra,Nn-=jt.extra,jt.back+=jt.extra}jt.was=jt.length,jt.mode=23;case 23:for(;fr=(hn=jt.distcode[Gn&(1<<jt.distbits)-1])>>>16&255,yr=65535&hn,!((jn=hn>>>24)<=Nn);){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(!(240&fr)){for(Cr=jn,sr=fr,zn=yr;fr=(hn=jt.distcode[zn+((Gn&(1<<Cr+sr)-1)>>Cr)])>>>16&255,yr=65535&hn,!(Cr+(jn=hn>>>24)<=Nn);){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}Gn>>>=Cr,Nn-=Cr,jt.back+=Cr}if(Gn>>>=jn,Nn-=jn,jt.back+=jn,64&fr){Et.msg="invalid distance code",jt.mode=30;break}jt.offset=yr,jt.extra=15&fr,jt.mode=24;case 24:if(jt.extra){for(Dt=jt.extra;Nn<Dt;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}jt.offset+=Gn&(1<<jt.extra)-1,Gn>>>=jt.extra,Nn-=jt.extra,jt.back+=jt.extra}if(jt.offset>jt.dmax){Et.msg="invalid distance too far back",jt.mode=30;break}jt.mode=25;case 25:if(Wn===0)break e;if(rr=Hn-Wn,jt.offset>rr){if((rr=jt.offset-rr)>jt.whave&&jt.sane){Et.msg="invalid distance too far back",jt.mode=30;break}Xn=rr>jt.wnext?(rr-=jt.wnext,jt.wsize-rr):jt.wnext-rr,rr>jt.length&&(rr=jt.length),Pn=jt.window}else Pn=Dn,Xn=Bn-jt.offset,rr=jt.length;for(Wn<rr&&(rr=Wn),Wn-=rr,jt.length-=rr;Dn[Bn++]=Pn[Xn++],--rr;);jt.length===0&&(jt.mode=21);break;case 26:if(Wn===0)break e;Dn[Bn++]=jt.length,Wn--,jt.mode=21;break;case 27:if(jt.wrap){for(;Nn<32;){if($n===0)break e;$n--,Gn|=An[En++]<<Nn,Nn+=8}if(Hn-=Wn,Et.total_out+=Hn,jt.total+=Hn,Hn&&(Et.adler=jt.check=jt.flags?V(jt.check,Dn,Hn,Bn-Hn):$(jt.check,Dn,Hn,Bn-Hn)),Hn=Wn,(jt.flags?Gn:he(Gn))!==jt.check){Et.msg="incorrect data check",jt.mode=30;break}Nn=Gn=0}jt.mode=28;case 28:if(jt.wrap&&jt.flags){for(;Nn<32;){if($n===0)break e;$n--,Gn+=An[En++]<<Nn,Nn+=8}if(Gn!==(4294967295&jt.total)){Et.msg="incorrect length check",jt.mode=30;break}Nn=Gn=0}jt.mode=29;case 29:Jn=1;break e;case 30:Jn=-3;break e;case 31:return-4;case 32:default:return ae}return Et.next_out=Bn,Et.avail_out=Wn,Et.next_in=En,Et.avail_in=$n,jt.hold=Gn,jt.bits=Nn,(jt.wsize||Hn!==Et.avail_out&&jt.mode<30&&(jt.mode<27||xn!==4))&&wn(Et,Et.output,Et.next_out,Hn-Et.avail_out)?(jt.mode=31,-4):(Zn-=Et.avail_in,Hn-=Et.avail_out,Et.total_in+=Zn,Et.total_out+=Hn,jt.total+=Hn,jt.wrap&&Hn&&(Et.adler=jt.check=jt.flags?V(jt.check,Dn,Hn,Et.next_out-Hn):$(jt.check,Dn,Hn,Et.next_out-Hn)),Et.data_type=jt.bits+(jt.last?64:0)+(jt.mode===12?128:0)+(jt.mode===20||jt.mode===15?256:0),(Zn==0&&Hn===0||xn===4)&&Jn===oe&&(Jn=-5),Jn)},y.inflateEnd=function(Et){if(!Et||!Et.state)return ae;var xn=Et.state;return xn.window&&(xn.window=null),Et.state=null,oe},y.inflateGetHeader=function(Et,xn){var jt;return Et&&Et.state&&2&(jt=Et.state).wrap?((jt.head=xn).done=!1,oe):ae},y.inflateSetDictionary=function(Et,xn){var jt,An=xn.length;return Et&&Et.state?(jt=Et.state).wrap!==0&&jt.mode!==11?ae:jt.mode===11&&$(1,xn,An,0)!==jt.check?-3:wn(Et,xn,An,An)?(jt.mode=31,-4):(jt.havedict=1,oe):ae},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,g,y){var k=r("../utils/common"),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],V=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],z=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(j,re,oe,ae,de,ue,pe,he){var xe,$e,Ne,Oe,_e,Fe,Ue,kt,Lt,wn=he.bits,Et=0,xn=0,jt=0,An=0,Dn=0,En=0,Bn=0,$n=0,Wn=0,Gn=0,Nn=null,Zn=0,Hn=new k.Buf16(16),rr=new k.Buf16(16),Xn=null,Pn=0;for(Et=0;Et<=15;Et++)Hn[Et]=0;for(xn=0;xn<ae;xn++)Hn[re[oe+xn]]++;for(Dn=wn,An=15;1<=An&&Hn[An]===0;An--);if(An<Dn&&(Dn=An),An===0)return de[ue++]=20971520,de[ue++]=20971520,he.bits=1,0;for(jt=1;jt<An&&Hn[jt]===0;jt++);for(Dn<jt&&(Dn=jt),Et=$n=1;Et<=15;Et++)if($n<<=1,($n-=Hn[Et])<0)return-1;if(0<$n&&(j===0||An!==1))return-1;for(rr[1]=0,Et=1;Et<15;Et++)rr[Et+1]=rr[Et]+Hn[Et];for(xn=0;xn<ae;xn++)re[oe+xn]!==0&&(pe[rr[re[oe+xn]]++]=xn);if(Fe=j===0?(Nn=Xn=pe,19):j===1?(Nn=$,Zn-=257,Xn=V,Pn-=257,256):(Nn=L,Xn=z,-1),Et=jt,_e=ue,Bn=xn=Gn=0,Ne=-1,Oe=(Wn=1<<(En=Dn))-1,j===1&&852<Wn||j===2&&592<Wn)return 1;for(;;){for(Ue=Et-Bn,Lt=pe[xn]<Fe?(kt=0,pe[xn]):pe[xn]>Fe?(kt=Xn[Pn+pe[xn]],Nn[Zn+pe[xn]]):(kt=96,0),xe=1<<Et-Bn,jt=$e=1<<En;de[_e+(Gn>>Bn)+($e-=xe)]=Ue<<24|kt<<16|Lt|0,$e!==0;);for(xe=1<<Et-1;Gn&xe;)xe>>=1;if(xe!==0?(Gn&=xe-1,Gn+=xe):Gn=0,xn++,--Hn[Et]==0){if(Et===An)break;Et=re[oe+pe[xn]]}if(Dn<Et&&(Gn&Oe)!==Ne){for(Bn===0&&(Bn=Dn),_e+=jt,$n=1<<(En=Et-Bn);En+Bn<An&&!(($n-=Hn[En+Bn])<=0);)En++,$n<<=1;if(Wn+=1<<En,j===1&&852<Wn||j===2&&592<Wn)return 1;de[Ne=Gn&Oe]=Dn<<24|En<<16|_e-ue|0}}return Gn!==0&&(de[_e+Gn]=Et-Bn<<24|64<<16|0),he.bits=Dn,0}},{"../utils/common":41}],51:[function(r,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,g,y){var k=r("../utils/common"),$=0,V=1;function L(hn){for(var Vn=hn.length;0<=--Vn;)hn[Vn]=0}var z=0,j=29,re=256,oe=re+1+j,ae=30,de=19,ue=2*oe+1,pe=15,he=16,xe=7,$e=256,Ne=16,Oe=17,_e=18,Fe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],kt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],wn=new Array(2*(oe+2));L(wn);var Et=new Array(2*ae);L(Et);var xn=new Array(512);L(xn);var jt=new Array(256);L(jt);var An=new Array(j);L(An);var Dn,En,Bn,$n=new Array(ae);function Wn(hn,Vn,Kn,ar,lr){this.static_tree=hn,this.extra_bits=Vn,this.extra_base=Kn,this.elems=ar,this.max_length=lr,this.has_stree=hn&&hn.length}function Gn(hn,Vn){this.dyn_tree=hn,this.max_code=0,this.stat_desc=Vn}function Nn(hn){return hn<256?xn[hn]:xn[256+(hn>>>7)]}function Zn(hn,Vn){hn.pending_buf[hn.pending++]=255&Vn,hn.pending_buf[hn.pending++]=Vn>>>8&255}function Hn(hn,Vn,Kn){hn.bi_valid>he-Kn?(hn.bi_buf|=Vn<<hn.bi_valid&65535,Zn(hn,hn.bi_buf),hn.bi_buf=Vn>>he-hn.bi_valid,hn.bi_valid+=Kn-he):(hn.bi_buf|=Vn<<hn.bi_valid&65535,hn.bi_valid+=Kn)}function rr(hn,Vn,Kn){Hn(hn,Kn[2*Vn],Kn[2*Vn+1])}function Xn(hn,Vn){for(var Kn=0;Kn|=1&hn,hn>>>=1,Kn<<=1,0<--Vn;);return Kn>>>1}function Pn(hn,Vn,Kn){var ar,lr,cr=new Array(pe+1),mr=0;for(ar=1;ar<=pe;ar++)cr[ar]=mr=mr+Kn[ar-1]<<1;for(lr=0;lr<=Vn;lr++){var ur=hn[2*lr+1];ur!==0&&(hn[2*lr]=Xn(cr[ur]++,ur))}}function jn(hn){var Vn;for(Vn=0;Vn<oe;Vn++)hn.dyn_ltree[2*Vn]=0;for(Vn=0;Vn<ae;Vn++)hn.dyn_dtree[2*Vn]=0;for(Vn=0;Vn<de;Vn++)hn.bl_tree[2*Vn]=0;hn.dyn_ltree[2*$e]=1,hn.opt_len=hn.static_len=0,hn.last_lit=hn.matches=0}function fr(hn){8<hn.bi_valid?Zn(hn,hn.bi_buf):0<hn.bi_valid&&(hn.pending_buf[hn.pending++]=hn.bi_buf),hn.bi_buf=0,hn.bi_valid=0}function yr(hn,Vn,Kn,ar){var lr=2*Vn,cr=2*Kn;return hn[lr]<hn[cr]||hn[lr]===hn[cr]&&ar[Vn]<=ar[Kn]}function Cr(hn,Vn,Kn){for(var ar=hn.heap[Kn],lr=Kn<<1;lr<=hn.heap_len&&(lr<hn.heap_len&&yr(Vn,hn.heap[lr+1],hn.heap[lr],hn.depth)&&lr++,!yr(Vn,ar,hn.heap[lr],hn.depth));)hn.heap[Kn]=hn.heap[lr],Kn=lr,lr<<=1;hn.heap[Kn]=ar}function sr(hn,Vn,Kn){var ar,lr,cr,mr,ur=0;if(hn.last_lit!==0)for(;ar=hn.pending_buf[hn.d_buf+2*ur]<<8|hn.pending_buf[hn.d_buf+2*ur+1],lr=hn.pending_buf[hn.l_buf+ur],ur++,ar===0?rr(hn,lr,Vn):(rr(hn,(cr=jt[lr])+re+1,Vn),(mr=Fe[cr])!==0&&Hn(hn,lr-=An[cr],mr),rr(hn,cr=Nn(--ar),Kn),(mr=Ue[cr])!==0&&Hn(hn,ar-=$n[cr],mr)),ur<hn.last_lit;);rr(hn,$e,Vn)}function zn(hn,Vn){var Kn,ar,lr,cr=Vn.dyn_tree,mr=Vn.stat_desc.static_tree,ur=Vn.stat_desc.has_stree,le=Vn.stat_desc.elems,Ce=-1;for(hn.heap_len=0,hn.heap_max=ue,Kn=0;Kn<le;Kn++)cr[2*Kn]!==0?(hn.heap[++hn.heap_len]=Ce=Kn,hn.depth[Kn]=0):cr[2*Kn+1]=0;for(;hn.heap_len<2;)cr[2*(lr=hn.heap[++hn.heap_len]=Ce<2?++Ce:0)]=1,hn.depth[lr]=0,hn.opt_len--,ur&&(hn.static_len-=mr[2*lr+1]);for(Vn.max_code=Ce,Kn=hn.heap_len>>1;1<=Kn;Kn--)Cr(hn,cr,Kn);for(lr=le;Kn=hn.heap[1],hn.heap[1]=hn.heap[hn.heap_len--],Cr(hn,cr,1),ar=hn.heap[1],hn.heap[--hn.heap_max]=Kn,hn.heap[--hn.heap_max]=ar,cr[2*lr]=cr[2*Kn]+cr[2*ar],hn.depth[lr]=(hn.depth[Kn]>=hn.depth[ar]?hn.depth[Kn]:hn.depth[ar])+1,cr[2*Kn+1]=cr[2*ar+1]=lr,hn.heap[1]=lr++,Cr(hn,cr,1),2<=hn.heap_len;);hn.heap[--hn.heap_max]=hn.heap[1],function(Ie,ze){var qe,Pt,_n,At,Cn,bn,In=ze.dyn_tree,Ln=ze.max_code,Mn=ze.stat_desc.static_tree,Fn=ze.stat_desc.has_stree,er=ze.stat_desc.extra_bits,Qn=ze.stat_desc.extra_base,nr=ze.stat_desc.max_length,kn=0;for(At=0;At<=pe;At++)Ie.bl_count[At]=0;for(In[2*Ie.heap[Ie.heap_max]+1]=0,qe=Ie.heap_max+1;qe<ue;qe++)nr<(At=In[2*In[2*(Pt=Ie.heap[qe])+1]+1]+1)&&(At=nr,kn++),In[2*Pt+1]=At,Ln<Pt||(Ie.bl_count[At]++,Cn=0,Qn<=Pt&&(Cn=er[Pt-Qn]),bn=In[2*Pt],Ie.opt_len+=bn*(At+Cn),Fn&&(Ie.static_len+=bn*(Mn[2*Pt+1]+Cn)));if(kn!==0){do{for(At=nr-1;Ie.bl_count[At]===0;)At--;Ie.bl_count[At]--,Ie.bl_count[At+1]+=2,Ie.bl_count[nr]--,kn-=2}while(0<kn);for(At=nr;At!==0;At--)for(Pt=Ie.bl_count[At];Pt!==0;)Ln<(_n=Ie.heap[--qe])||(In[2*_n+1]!==At&&(Ie.opt_len+=(At-In[2*_n+1])*In[2*_n],In[2*_n+1]=At),Pt--)}}(hn,Vn),Pn(cr,Ce,hn.bl_count)}function vn(hn,Vn,Kn){var ar,lr,cr=-1,mr=Vn[1],ur=0,le=7,Ce=4;for(mr===0&&(le=138,Ce=3),Vn[2*(Kn+1)+1]=65535,ar=0;ar<=Kn;ar++)lr=mr,mr=Vn[2*(ar+1)+1],++ur<le&&lr===mr||(ur<Ce?hn.bl_tree[2*lr]+=ur:lr!==0?(lr!==cr&&hn.bl_tree[2*lr]++,hn.bl_tree[2*Ne]++):ur<=10?hn.bl_tree[2*Oe]++:hn.bl_tree[2*_e]++,cr=lr,Ce=(ur=0)===mr?(le=138,3):lr===mr?(le=6,3):(le=7,4))}function Jn(hn,Vn,Kn){var ar,lr,cr=-1,mr=Vn[1],ur=0,le=7,Ce=4;for(mr===0&&(le=138,Ce=3),ar=0;ar<=Kn;ar++)if(lr=mr,mr=Vn[2*(ar+1)+1],!(++ur<le&&lr===mr)){if(ur<Ce)for(;rr(hn,lr,hn.bl_tree),--ur!=0;);else lr!==0?(lr!==cr&&(rr(hn,lr,hn.bl_tree),ur--),rr(hn,Ne,hn.bl_tree),Hn(hn,ur-3,2)):ur<=10?(rr(hn,Oe,hn.bl_tree),Hn(hn,ur-3,3)):(rr(hn,_e,hn.bl_tree),Hn(hn,ur-11,7));cr=lr,Ce=(ur=0)===mr?(le=138,3):lr===mr?(le=6,3):(le=7,4)}}L($n);var Tn=!1;function Dt(hn,Vn,Kn,ar){Hn(hn,(z<<1)+(ar?1:0),3),function(lr,cr,mr,ur){fr(lr),ur&&(Zn(lr,mr),Zn(lr,~mr)),k.arraySet(lr.pending_buf,lr.window,cr,mr,lr.pending),lr.pending+=mr}(hn,Vn,Kn,!0)}y._tr_init=function(hn){Tn||(function(){var Vn,Kn,ar,lr,cr,mr=new Array(pe+1);for(lr=ar=0;lr<j-1;lr++)for(An[lr]=ar,Vn=0;Vn<1<<Fe[lr];Vn++)jt[ar++]=lr;for(jt[ar-1]=lr,lr=cr=0;lr<16;lr++)for($n[lr]=cr,Vn=0;Vn<1<<Ue[lr];Vn++)xn[cr++]=lr;for(cr>>=7;lr<ae;lr++)for($n[lr]=cr<<7,Vn=0;Vn<1<<Ue[lr]-7;Vn++)xn[256+cr++]=lr;for(Kn=0;Kn<=pe;Kn++)mr[Kn]=0;for(Vn=0;Vn<=143;)wn[2*Vn+1]=8,Vn++,mr[8]++;for(;Vn<=255;)wn[2*Vn+1]=9,Vn++,mr[9]++;for(;Vn<=279;)wn[2*Vn+1]=7,Vn++,mr[7]++;for(;Vn<=287;)wn[2*Vn+1]=8,Vn++,mr[8]++;for(Pn(wn,oe+1,mr),Vn=0;Vn<ae;Vn++)Et[2*Vn+1]=5,Et[2*Vn]=Xn(Vn,5);Dn=new Wn(wn,Fe,re+1,oe,pe),En=new Wn(Et,Ue,0,ae,pe),Bn=new Wn(new Array(0),kt,0,de,xe)}(),Tn=!0),hn.l_desc=new Gn(hn.dyn_ltree,Dn),hn.d_desc=new Gn(hn.dyn_dtree,En),hn.bl_desc=new Gn(hn.bl_tree,Bn),hn.bi_buf=0,hn.bi_valid=0,jn(hn)},y._tr_stored_block=Dt,y._tr_flush_block=function(hn,Vn,Kn,ar){var lr,cr,mr=0;0<hn.level?(hn.strm.data_type===2&&(hn.strm.data_type=function(ur){var le,Ce=4093624447;for(le=0;le<=31;le++,Ce>>>=1)if(1&Ce&&ur.dyn_ltree[2*le]!==0)return $;if(ur.dyn_ltree[18]!==0||ur.dyn_ltree[20]!==0||ur.dyn_ltree[26]!==0)return V;for(le=32;le<re;le++)if(ur.dyn_ltree[2*le]!==0)return V;return $}(hn)),zn(hn,hn.l_desc),zn(hn,hn.d_desc),mr=function(ur){var le;for(vn(ur,ur.dyn_ltree,ur.l_desc.max_code),vn(ur,ur.dyn_dtree,ur.d_desc.max_code),zn(ur,ur.bl_desc),le=de-1;3<=le&&ur.bl_tree[2*Lt[le]+1]===0;le--);return ur.opt_len+=3*(le+1)+5+5+4,le}(hn),lr=hn.opt_len+3+7>>>3,(cr=hn.static_len+3+7>>>3)<=lr&&(lr=cr)):lr=cr=Kn+5,Kn+4<=lr&&Vn!==-1?Dt(hn,Vn,Kn,ar):hn.strategy===4||cr===lr?(Hn(hn,2+(ar?1:0),3),sr(hn,wn,Et)):(Hn(hn,4+(ar?1:0),3),function(ur,le,Ce,Ie){var ze;for(Hn(ur,le-257,5),Hn(ur,Ce-1,5),Hn(ur,Ie-4,4),ze=0;ze<Ie;ze++)Hn(ur,ur.bl_tree[2*Lt[ze]+1],3);Jn(ur,ur.dyn_ltree,le-1),Jn(ur,ur.dyn_dtree,Ce-1)}(hn,hn.l_desc.max_code+1,hn.d_desc.max_code+1,mr+1),sr(hn,hn.dyn_ltree,hn.dyn_dtree)),jn(hn),ar&&fr(hn)},y._tr_tally=function(hn,Vn,Kn){return hn.pending_buf[hn.d_buf+2*hn.last_lit]=Vn>>>8&255,hn.pending_buf[hn.d_buf+2*hn.last_lit+1]=255&Vn,hn.pending_buf[hn.l_buf+hn.last_lit]=255&Kn,hn.last_lit++,Vn===0?hn.dyn_ltree[2*Kn]++:(hn.matches++,Vn--,hn.dyn_ltree[2*(jt[Kn]+re+1)]++,hn.dyn_dtree[2*Nn(Vn)]++),hn.last_lit===hn.lit_bufsize-1},y._tr_align=function(hn){Hn(hn,2,3),rr(hn,$e,wn),function(Vn){Vn.bi_valid===16?(Zn(Vn,Vn.bi_buf),Vn.bi_buf=0,Vn.bi_valid=0):8<=Vn.bi_valid&&(Vn.pending_buf[Vn.pending++]=255&Vn.bi_buf,Vn.bi_buf>>=8,Vn.bi_valid-=8)}(hn)}},{"../utils/common":41}],53:[function(r,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,g,y){(function(k){(function($,V){if(!$.setImmediate){var L,z,j,re,oe=1,ae={},de=!1,ue=$.document,pe=Object.getPrototypeOf&&Object.getPrototypeOf($);pe=pe&&pe.setTimeout?pe:$,L={}.toString.call($.process)==="[object process]"?function(Ne){process.nextTick(function(){xe(Ne)})}:function(){if($.postMessage&&!$.importScripts){var Ne=!0,Oe=$.onmessage;return $.onmessage=function(){Ne=!1},$.postMessage("","*"),$.onmessage=Oe,Ne}}()?(re="setImmediate$"+Math.random()+"$",$.addEventListener?$.addEventListener("message",$e,!1):$.attachEvent("onmessage",$e),function(Ne){$.postMessage(re+Ne,"*")}):$.MessageChannel?((j=new MessageChannel).port1.onmessage=function(Ne){xe(Ne.data)},function(Ne){j.port2.postMessage(Ne)}):ue&&"onreadystatechange"in ue.createElement("script")?(z=ue.documentElement,function(Ne){var Oe=ue.createElement("script");Oe.onreadystatechange=function(){xe(Ne),Oe.onreadystatechange=null,z.removeChild(Oe),Oe=null},z.appendChild(Oe)}):function(Ne){setTimeout(xe,0,Ne)},pe.setImmediate=function(Ne){typeof Ne!="function"&&(Ne=new Function(""+Ne));for(var Oe=new Array(arguments.length-1),_e=0;_e<Oe.length;_e++)Oe[_e]=arguments[_e+1];var Fe={callback:Ne,args:Oe};return ae[oe]=Fe,L(oe),oe++},pe.clearImmediate=he}function he(Ne){delete ae[Ne]}function xe(Ne){if(de)setTimeout(xe,0,Ne);else{var Oe=ae[Ne];if(Oe){de=!0;try{(function(_e){var Fe=_e.callback,Ue=_e.args;switch(Ue.length){case 0:Fe();break;case 1:Fe(Ue[0]);break;case 2:Fe(Ue[0],Ue[1]);break;case 3:Fe(Ue[0],Ue[1],Ue[2]);break;default:Fe.apply(V,Ue)}})(Oe)}finally{he(Ne),de=!1}}}}function $e(Ne){Ne.source===$&&typeof Ne.data=="string"&&Ne.data.indexOf(re)===0&&xe(+Ne.data.slice(re.length))}})(typeof self>"u"?k===void 0?this:k:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports),strokes=[{name:"",uuid:"KXIDGV2F_Pyd7r0C6_TB1",params:[{name:"",default:500,min:50,max:1e3},{name:"",default:50,min:10,max:100}]},{name:"",uuid:"aH2ns8O1EHIIESpjVzSy8",params:[{name:"",default:500,min:50,max:1e3},{name:"",default:50,min:10,max:100}]},{name:"",uuid:"LrdRipEgPadhamoHzTuJ1",params:[{name:"",default:500,min:0,max:1e3},{name:"",default:500,min:0,max:1e3},{name:"",default:.5,min:0,max:1},{name:"",default:150,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"HcR12pTrOLu4ZOAuQuriM",params:[{name:"-",default:200,min:0,max:1e3},{name:"-",default:200,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"-ubJbIG2A8mc-nSDlljeb",params:[{name:"",default:500,min:0,max:1e3},{name:"",default:500,min:0,max:1e3},{name:"",default:.5,min:0,max:1},{name:"",default:150,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"NhmE6WShXfKTOUOH4V7zk",params:[{name:"",default:500,min:0,max:1e3},{name:"",default:150,min:0,max:1e3},{name:"",default:.2,min:0,max:.5},{name:"",default:150,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"QcHLqxGmyKRhv4yyA0HqR",params:[{name:"-",default:100,min:0,max:500},{name:"-",default:150,min:0,max:500},{name:"-",default:500,min:0,max:1e3},{name:"-",default:150,min:0,max:1e3},{name:"-",default:.2,min:0,max:.5},{name:"-",default:150,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"ioUJIJq5204Sa43hz5iev",params:[{name:"",default:100,min:0,max:500},{name:"",default:150,min:0,max:500},{name:"",default:.5,min:0,max:1},{name:"",default:30,min:0,max:200},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"krVrPdyfoe9sKIT_wQX-7",params:[{name:"",default:200,min:0,max:500},{name:"",default:200,min:0,max:500},{name:"",default:.5,min:0,max:1},{name:"",default:30,min:0,max:200},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"lbMVwrKP_q4p1oPHu4anJ",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:500,min:0,max:1e3},{name:"-",default:500,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"EPBo33qt9wCQ1qYj1u71k",params:[{name:"-",default:220,min:0,max:1e3},{name:"1-",default:150,min:0,max:1e3},{name:"1-",default:200,min:0,max:1e3},{name:"2-",default:150,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:420,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"fMIzxBo7oSEFUayQx_cCO",params:[{name:"-",default:100,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:50,min:0,max:500},{name:"-",default:100,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:50,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"OXQCmaRKaoLjigiNIwicW",params:[{name:"-",default:300,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:50,min:0,max:500},{name:"-",default:500,min:0,max:1e3},{name:"-",default:100,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:50,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"aiqF1SoB4nhfEDkhRmB3k",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:160,min:0,max:1e3},{name:"-",default:120,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"JYSKwaS9xvilKQMcRZ3E0",params:[{name:"-",default:150,min:0,max:1e3},{name:"-",default:500,min:0,max:1e3},{name:"-",default:120,min:0,max:1e3},{name:"-",default:120,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"1Qdp3QzLK64BtwctXszQZ",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:100,min:0,max:300},{name:"-",default:-15,min:-300,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"YENGMQs6EL4dBiMrf1-nh",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:100,min:0,max:300},{name:"-",default:100,min:0,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"equYbH1yyUiKQ6b34jZea",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:100,min:0,max:350},{name:"-",default:100,min:0,max:300},{name:"-",default:-30,min:-300,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"hfyoooj2emaeJLcgRctnc",params:[{name:"-",default:300,min:0,max:1e3},{name:"-",default:500,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:200,min:0,max:500},{name:"-",default:100,min:0,max:300},{name:"-",default:100,min:0,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"fr4w85QKX0poi7nSBmjFK",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:260,min:0,max:1e3},{name:"-",default:25,min:-150,max:150},{name:"-",default:80,min:0,max:200},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"FuEXpS2xyTJA73Z2WcrOz",params:[{name:"-",default:200,min:0,max:1e3},{name:"1-",default:500,min:0,max:1e3},{name:"2-",default:100,min:0,max:1e3},{name:"2-",default:300,min:0,max:1e3},{name:"-",default:80,min:0,max:300},{name:"-",default:-60,min:-300,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"c8Pd8VSPjClASnXbxipaV",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:100,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:80,min:0,max:300},{name:"-",default:-60,min:-300,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"3RKgyX_a2ZvPsfushHJg2",params:[{name:"-",default:300,min:0,max:1e3},{name:"-",default:100,min:0,max:1e3},{name:"-",default:500,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:100,min:0,max:350},{name:"-",default:60,min:0,max:300},{name:"-",default:60,min:0,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"R6GeGWSWvEc-yqfuzSuKo",params:[{name:"-",default:300,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:380,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:100,min:0,max:300},{name:"-",default:380,min:0,max:1e3},{name:"-",default:60,min:0,max:300},{name:"-",default:60,min:0,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"F6ywDDM5lvSxM5XkMnT35",params:[{name:"-",default:260,min:0,max:1e3},{name:"-",default:120,min:0,max:1e3},{name:"-",default:200,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:.5,min:0,max:1},{name:"-",default:150,min:0,max:500},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"vLtc_ON5tYCc27bn2gl9f",params:[{name:"-",default:350,min:0,max:1e3},{name:"1-",default:120,min:0,max:1e3},{name:"1-",default:180,min:0,max:1e3},{name:"2-",default:200,min:0,max:1e3},{name:"-",default:100,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"-",default:80,min:0,max:300},{name:"-",default:-60,min:-300,max:300},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"SeF5EncRABMJnvz2sfGC0",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:100,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"2",uuid:"IInqUl_DAjYg-8Tmw_NHE",params:[{name:"-",default:500,min:0,max:1e3},{name:"-",default:300,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"Di0BaW5M-zifjadwEdyPh",params:[{name:"1-",default:300,min:0,max:1e3},{name:"1-",default:50,min:0,max:1e3},{name:"1-",default:200,min:0,max:1e3},{name:"2-",default:200,min:0,max:1e3},{name:"2-",default:50,min:0,max:1e3},{name:"2-",default:200,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"MqIp7k0ZDGTDWdQIrVHD0",params:[{name:"-",default:0,min:-200,max:200},{name:"-",default:500,min:0,max:1e3},{name:"-",default:500,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"oyP7Yql1-auw4uJDNpxxw",params:[{name:"-",default:300,min:0,max:1e3},{name:"-",default:200,min:0,max:1e3},{name:"",default:50,min:0,max:200}]},{name:"",uuid:"3ogIJZDcPTAUT67ob1mmH",params:[{name:"-",default:200,min:0,max:1e3},{name:"-",default:0,min:-500,max:500},{name:"-",default:300,min:0,max:1e3},{name:"-",default:200,min:0,max:1e3},{name:"",default:50,min:0,max:200}]}];class ParametersMap{parameters;constructor(e){this.parameters=e}get(e){for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name===e)return this.getValue(this.parameters[r])}getRange(e){for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name===e)return{min:this.parameters[r].min||0,max:this.parameters[r].max||1e3}}set(e,r){for(let g=0;g<this.parameters.length;g++){const y=this.parameters[g];y.name===e&&(r<y.min?y.value=y.min:r>y.max?y.value=y.max:y.value=r,y.type===ParameterType.Constant&&(y.type=ParameterType.Number))}}getByUUID(e){for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].uuid===e)return this.getValue(this.parameters[r])}getValue(e){if(e.type===ParameterType.Number||e.type===ParameterType.RingController)return e.value;if(e.type===ParameterType.Constant)return constantsMap.getByUUID(e.value);if(e.type===ParameterType.PlaygroundConstant)return constantsMap$1.getByUUID(e.value);if(e.type===ParameterType.Enum)return e.value}}var paperFull={exports:{}},acorn={exports:{}},hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(n,e){(function(r,g){g(e)})(commonjsGlobal$1,function(r){var g=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],y=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],k="-----------------------------------------------------------------------------------------------------------------------------------------------------",$="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",V={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},L="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",z={5:L,"5module":L+" export import",6:L+" const class extends export import super"},j=/^in(stanceof)?$/,re=new RegExp("["+$+"]"),oe=new RegExp("["+$+k+"]");function ae(Ve,Sn){for(var qn=65536,ir=0;ir<Sn.length;ir+=2){if(qn+=Sn[ir],qn>Ve)return!1;if(qn+=Sn[ir+1],qn>=Ve)return!0}return!1}function de(Ve,Sn){return Ve<65?Ve===36:Ve<91?!0:Ve<97?Ve===95:Ve<123?!0:Ve<=65535?Ve>=170&&re.test(String.fromCharCode(Ve)):Sn===!1?!1:ae(Ve,y)}function ue(Ve,Sn){return Ve<48?Ve===36:Ve<58?!0:Ve<65?!1:Ve<91?!0:Ve<97?Ve===95:Ve<123?!0:Ve<=65535?Ve>=170&&oe.test(String.fromCharCode(Ve)):Sn===!1?!1:ae(Ve,y)||ae(Ve,g)}var pe=function(Sn,qn){qn===void 0&&(qn={}),this.label=Sn,this.keyword=qn.keyword,this.beforeExpr=!!qn.beforeExpr,this.startsExpr=!!qn.startsExpr,this.isLoop=!!qn.isLoop,this.isAssign=!!qn.isAssign,this.prefix=!!qn.prefix,this.postfix=!!qn.postfix,this.binop=qn.binop||null,this.updateContext=null};function he(Ve,Sn){return new pe(Ve,{beforeExpr:!0,binop:Sn})}var xe={beforeExpr:!0},$e={startsExpr:!0},Ne={};function Oe(Ve,Sn){return Sn===void 0&&(Sn={}),Sn.keyword=Ve,Ne[Ve]=new pe(Ve,Sn)}var _e={num:new pe("num",$e),regexp:new pe("regexp",$e),string:new pe("string",$e),name:new pe("name",$e),privateId:new pe("privateId",$e),eof:new pe("eof"),bracketL:new pe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pe("]"),braceL:new pe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pe("}"),parenL:new pe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pe(")"),comma:new pe(",",xe),semi:new pe(";",xe),colon:new pe(":",xe),dot:new pe("."),question:new pe("?",xe),questionDot:new pe("?."),arrow:new pe("=>",xe),template:new pe("template"),invalidTemplate:new pe("invalidTemplate"),ellipsis:new pe("...",xe),backQuote:new pe("`",$e),dollarBraceL:new pe("${",{beforeExpr:!0,startsExpr:!0}),eq:new pe("=",{beforeExpr:!0,isAssign:!0}),assign:new pe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:he("||",1),logicalAND:he("&&",2),bitwiseOR:he("|",3),bitwiseXOR:he("^",4),bitwiseAND:he("&",5),equality:he("==/!=/===/!==",6),relational:he("</>/<=/>=",7),bitShift:he("<</>>/>>>",8),plusMin:new pe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:he("%",10),star:he("*",10),slash:he("/",10),starstar:new pe("**",{beforeExpr:!0}),coalesce:he("??",1),_break:Oe("break"),_case:Oe("case",xe),_catch:Oe("catch"),_continue:Oe("continue"),_debugger:Oe("debugger"),_default:Oe("default",xe),_do:Oe("do",{isLoop:!0,beforeExpr:!0}),_else:Oe("else",xe),_finally:Oe("finally"),_for:Oe("for",{isLoop:!0}),_function:Oe("function",$e),_if:Oe("if"),_return:Oe("return",xe),_switch:Oe("switch"),_throw:Oe("throw",xe),_try:Oe("try"),_var:Oe("var"),_const:Oe("const"),_while:Oe("while",{isLoop:!0}),_with:Oe("with"),_new:Oe("new",{beforeExpr:!0,startsExpr:!0}),_this:Oe("this",$e),_super:Oe("super",$e),_class:Oe("class",$e),_extends:Oe("extends",xe),_export:Oe("export"),_import:Oe("import",$e),_null:Oe("null",$e),_true:Oe("true",$e),_false:Oe("false",$e),_in:Oe("in",{beforeExpr:!0,binop:7}),_instanceof:Oe("instanceof",{beforeExpr:!0,binop:7}),_typeof:Oe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Oe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Oe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Fe=/\r\n?|\n|\u2028|\u2029/,Ue=new RegExp(Fe.source,"g");function kt(Ve){return Ve===10||Ve===13||Ve===8232||Ve===8233}function Lt(Ve,Sn,qn){qn===void 0&&(qn=Ve.length);for(var ir=Sn;ir<qn;ir++){var br=Ve.charCodeAt(ir);if(kt(br))return ir<qn-1&&br===13&&Ve.charCodeAt(ir+1)===10?ir+2:ir+1}return-1}var wn=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Et=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,xn=Object.prototype,jt=xn.hasOwnProperty,An=xn.toString,Dn=Object.hasOwn||function(Ve,Sn){return jt.call(Ve,Sn)},En=Array.isArray||function(Ve){return An.call(Ve)==="[object Array]"};function Bn(Ve){return new RegExp("^(?:"+Ve.replace(/ /g,"|")+")$")}function $n(Ve){return Ve<=65535?String.fromCharCode(Ve):(Ve-=65536,String.fromCharCode((Ve>>10)+55296,(Ve&1023)+56320))}var Wn=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Gn=function(Sn,qn){this.line=Sn,this.column=qn};Gn.prototype.offset=function(Sn){return new Gn(this.line,this.column+Sn)};var Nn=function(Sn,qn,ir){this.start=qn,this.end=ir,Sn.sourceFile!==null&&(this.source=Sn.sourceFile)};function Zn(Ve,Sn){for(var qn=1,ir=0;;){var br=Lt(Ve,ir,Sn);if(br<0)return new Gn(qn,Sn-ir);++qn,ir=br}}var Hn={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},rr=!1;function Xn(Ve){var Sn={};for(var qn in Hn)Sn[qn]=Ve&&Dn(Ve,qn)?Ve[qn]:Hn[qn];if(Sn.ecmaVersion==="latest"?Sn.ecmaVersion=1e8:Sn.ecmaVersion==null?(!rr&&typeof console=="object"&&console.warn&&(rr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Sn.ecmaVersion=11):Sn.ecmaVersion>=2015&&(Sn.ecmaVersion-=2009),Sn.allowReserved==null&&(Sn.allowReserved=Sn.ecmaVersion<5),(!Ve||Ve.allowHashBang==null)&&(Sn.allowHashBang=Sn.ecmaVersion>=14),En(Sn.onToken)){var ir=Sn.onToken;Sn.onToken=function(br){return ir.push(br)}}return En(Sn.onComment)&&(Sn.onComment=Pn(Sn,Sn.onComment)),Sn}function Pn(Ve,Sn){return function(qn,ir,br,Vr,Dr,Zr){var Yr={type:qn?"Block":"Line",value:ir,start:br,end:Vr};Ve.locations&&(Yr.loc=new Nn(this,Dr,Zr)),Ve.ranges&&(Yr.range=[br,Vr]),Sn.push(Yr)}}var jn=1,fr=2,yr=4,Cr=8,sr=16,zn=32,vn=64,Jn=128,Tn=256,Dt=jn|fr|Tn;function hn(Ve,Sn){return fr|(Ve?yr:0)|(Sn?Cr:0)}var Vn=0,Kn=1,ar=2,lr=3,cr=4,mr=5,ur=function(Sn,qn,ir){this.options=Sn=Xn(Sn),this.sourceFile=Sn.sourceFile,this.keywords=Bn(z[Sn.ecmaVersion>=6?6:Sn.sourceType==="module"?"5module":5]);var br="";Sn.allowReserved!==!0&&(br=V[Sn.ecmaVersion>=6?6:Sn.ecmaVersion===5?5:3],Sn.sourceType==="module"&&(br+=" await")),this.reservedWords=Bn(br);var Vr=(br?br+" ":"")+V.strict;this.reservedWordsStrict=Bn(Vr),this.reservedWordsStrictBind=Bn(Vr+" "+V.strictBind),this.input=String(qn),this.containsEsc=!1,ir?(this.pos=ir,this.lineStart=this.input.lastIndexOf(`
`,ir-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Fe).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_e.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Sn.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Sn.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(jn),this.regexpState=null,this.privateNameStack=[]},le={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ur.prototype.parse=function(){var Sn=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Sn)},le.inFunction.get=function(){return(this.currentVarScope().flags&fr)>0},le.inGenerator.get=function(){return(this.currentVarScope().flags&Cr)>0&&!this.currentVarScope().inClassFieldInit},le.inAsync.get=function(){return(this.currentVarScope().flags&yr)>0&&!this.currentVarScope().inClassFieldInit},le.canAwait.get=function(){for(var Ve=this.scopeStack.length-1;Ve>=0;Ve--){var Sn=this.scopeStack[Ve];if(Sn.inClassFieldInit||Sn.flags&Tn)return!1;if(Sn.flags&fr)return(Sn.flags&yr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},le.allowSuper.get=function(){var Ve=this.currentThisScope(),Sn=Ve.flags,qn=Ve.inClassFieldInit;return(Sn&vn)>0||qn||this.options.allowSuperOutsideMethod},le.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Jn)>0},le.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},le.allowNewDotTarget.get=function(){var Ve=this.currentThisScope(),Sn=Ve.flags,qn=Ve.inClassFieldInit;return(Sn&(fr|Tn))>0||qn},le.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Tn)>0},ur.extend=function(){for(var Sn=[],qn=arguments.length;qn--;)Sn[qn]=arguments[qn];for(var ir=this,br=0;br<Sn.length;br++)ir=Sn[br](ir);return ir},ur.parse=function(Sn,qn){return new this(qn,Sn).parse()},ur.parseExpressionAt=function(Sn,qn,ir){var br=new this(ir,Sn,qn);return br.nextToken(),br.parseExpression()},ur.tokenizer=function(Sn,qn){return new this(qn,Sn)},Object.defineProperties(ur.prototype,le);var Ce=ur.prototype,Ie=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ce.strictDirective=function(Ve){if(this.options.ecmaVersion<5)return!1;for(;;){Et.lastIndex=Ve,Ve+=Et.exec(this.input)[0].length;var Sn=Ie.exec(this.input.slice(Ve));if(!Sn)return!1;if((Sn[1]||Sn[2])==="use strict"){Et.lastIndex=Ve+Sn[0].length;var qn=Et.exec(this.input),ir=qn.index+qn[0].length,br=this.input.charAt(ir);return br===";"||br==="}"||Fe.test(qn[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(br)||br==="!"&&this.input.charAt(ir+1)==="=")}Ve+=Sn[0].length,Et.lastIndex=Ve,Ve+=Et.exec(this.input)[0].length,this.input[Ve]===";"&&Ve++}},Ce.eat=function(Ve){return this.type===Ve?(this.next(),!0):!1},Ce.isContextual=function(Ve){return this.type===_e.name&&this.value===Ve&&!this.containsEsc},Ce.eatContextual=function(Ve){return this.isContextual(Ve)?(this.next(),!0):!1},Ce.expectContextual=function(Ve){this.eatContextual(Ve)||this.unexpected()},Ce.canInsertSemicolon=function(){return this.type===_e.eof||this.type===_e.braceR||Fe.test(this.input.slice(this.lastTokEnd,this.start))},Ce.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Ce.semicolon=function(){!this.eat(_e.semi)&&!this.insertSemicolon()&&this.unexpected()},Ce.afterTrailingComma=function(Ve,Sn){if(this.type===Ve)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Sn||this.next(),!0},Ce.expect=function(Ve){this.eat(Ve)||this.unexpected()},Ce.unexpected=function(Ve){this.raise(Ve??this.start,"Unexpected token")};var ze=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ce.checkPatternErrors=function(Ve,Sn){if(Ve){Ve.trailingComma>-1&&this.raiseRecoverable(Ve.trailingComma,"Comma is not permitted after the rest element");var qn=Sn?Ve.parenthesizedAssign:Ve.parenthesizedBind;qn>-1&&this.raiseRecoverable(qn,Sn?"Assigning to rvalue":"Parenthesized pattern")}},Ce.checkExpressionErrors=function(Ve,Sn){if(!Ve)return!1;var qn=Ve.shorthandAssign,ir=Ve.doubleProto;if(!Sn)return qn>=0||ir>=0;qn>=0&&this.raise(qn,"Shorthand property assignments are valid only in destructuring patterns"),ir>=0&&this.raiseRecoverable(ir,"Redefinition of __proto__ property")},Ce.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Ce.isSimpleAssignTarget=function(Ve){return Ve.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(Ve.expression):Ve.type==="Identifier"||Ve.type==="MemberExpression"};var qe=ur.prototype;qe.parseTopLevel=function(Ve){var Sn=Object.create(null);for(Ve.body||(Ve.body=[]);this.type!==_e.eof;){var qn=this.parseStatement(null,!0,Sn);Ve.body.push(qn)}if(this.inModule)for(var ir=0,br=Object.keys(this.undefinedExports);ir<br.length;ir+=1){var Vr=br[ir];this.raiseRecoverable(this.undefinedExports[Vr].start,"Export '"+Vr+"' is not defined")}return this.adaptDirectivePrologue(Ve.body),this.next(),Ve.sourceType=this.options.sourceType,this.finishNode(Ve,"Program")};var Pt={kind:"loop"},_n={kind:"switch"};qe.isLet=function(Ve){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Et.lastIndex=this.pos;var Sn=Et.exec(this.input),qn=this.pos+Sn[0].length,ir=this.input.charCodeAt(qn);if(ir===91||ir===92)return!0;if(Ve)return!1;if(ir===123||ir>55295&&ir<56320)return!0;if(de(ir,!0)){for(var br=qn+1;ue(ir=this.input.charCodeAt(br),!0);)++br;if(ir===92||ir>55295&&ir<56320)return!0;var Vr=this.input.slice(qn,br);if(!j.test(Vr))return!0}return!1},qe.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Et.lastIndex=this.pos;var Ve=Et.exec(this.input),Sn=this.pos+Ve[0].length,qn;return!Fe.test(this.input.slice(this.pos,Sn))&&this.input.slice(Sn,Sn+8)==="function"&&(Sn+8===this.input.length||!(ue(qn=this.input.charCodeAt(Sn+8))||qn>55295&&qn<56320))},qe.parseStatement=function(Ve,Sn,qn){var ir=this.type,br=this.startNode(),Vr;switch(this.isLet(Ve)&&(ir=_e._var,Vr="let"),ir){case _e._break:case _e._continue:return this.parseBreakContinueStatement(br,ir.keyword);case _e._debugger:return this.parseDebuggerStatement(br);case _e._do:return this.parseDoStatement(br);case _e._for:return this.parseForStatement(br);case _e._function:return Ve&&(this.strict||Ve!=="if"&&Ve!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(br,!1,!Ve);case _e._class:return Ve&&this.unexpected(),this.parseClass(br,!0);case _e._if:return this.parseIfStatement(br);case _e._return:return this.parseReturnStatement(br);case _e._switch:return this.parseSwitchStatement(br);case _e._throw:return this.parseThrowStatement(br);case _e._try:return this.parseTryStatement(br);case _e._const:case _e._var:return Vr=Vr||this.value,Ve&&Vr!=="var"&&this.unexpected(),this.parseVarStatement(br,Vr);case _e._while:return this.parseWhileStatement(br);case _e._with:return this.parseWithStatement(br);case _e.braceL:return this.parseBlock(!0,br);case _e.semi:return this.parseEmptyStatement(br);case _e._export:case _e._import:if(this.options.ecmaVersion>10&&ir===_e._import){Et.lastIndex=this.pos;var Dr=Et.exec(this.input),Zr=this.pos+Dr[0].length,Yr=this.input.charCodeAt(Zr);if(Yr===40||Yr===46)return this.parseExpressionStatement(br,this.parseExpression())}return this.options.allowImportExportEverywhere||(Sn||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),ir===_e._import?this.parseImport(br):this.parseExport(br,qn);default:if(this.isAsyncFunction())return Ve&&this.unexpected(),this.next(),this.parseFunctionStatement(br,!0,!Ve);var ho=this.value,po=this.parseExpression();return ir===_e.name&&po.type==="Identifier"&&this.eat(_e.colon)?this.parseLabeledStatement(br,ho,po,Ve):this.parseExpressionStatement(br,po)}},qe.parseBreakContinueStatement=function(Ve,Sn){var qn=Sn==="break";this.next(),this.eat(_e.semi)||this.insertSemicolon()?Ve.label=null:this.type!==_e.name?this.unexpected():(Ve.label=this.parseIdent(),this.semicolon());for(var ir=0;ir<this.labels.length;++ir){var br=this.labels[ir];if((Ve.label==null||br.name===Ve.label.name)&&(br.kind!=null&&(qn||br.kind==="loop")||Ve.label&&qn))break}return ir===this.labels.length&&this.raise(Ve.start,"Unsyntactic "+Sn),this.finishNode(Ve,qn?"BreakStatement":"ContinueStatement")},qe.parseDebuggerStatement=function(Ve){return this.next(),this.semicolon(),this.finishNode(Ve,"DebuggerStatement")},qe.parseDoStatement=function(Ve){return this.next(),this.labels.push(Pt),Ve.body=this.parseStatement("do"),this.labels.pop(),this.expect(_e._while),Ve.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_e.semi):this.semicolon(),this.finishNode(Ve,"DoWhileStatement")},qe.parseForStatement=function(Ve){this.next();var Sn=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Pt),this.enterScope(0),this.expect(_e.parenL),this.type===_e.semi)return Sn>-1&&this.unexpected(Sn),this.parseFor(Ve,null);var qn=this.isLet();if(this.type===_e._var||this.type===_e._const||qn){var ir=this.startNode(),br=qn?"let":this.value;return this.next(),this.parseVar(ir,!0,br),this.finishNode(ir,"VariableDeclaration"),(this.type===_e._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&ir.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===_e._in?Sn>-1&&this.unexpected(Sn):Ve.await=Sn>-1),this.parseForIn(Ve,ir)):(Sn>-1&&this.unexpected(Sn),this.parseFor(Ve,ir))}var Vr=this.isContextual("let"),Dr=!1,Zr=new ze,Yr=this.parseExpression(Sn>-1?"await":!0,Zr);return this.type===_e._in||(Dr=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===_e._in?Sn>-1&&this.unexpected(Sn):Ve.await=Sn>-1),Vr&&Dr&&this.raise(Yr.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Yr,!1,Zr),this.checkLValPattern(Yr),this.parseForIn(Ve,Yr)):(this.checkExpressionErrors(Zr,!0),Sn>-1&&this.unexpected(Sn),this.parseFor(Ve,Yr))},qe.parseFunctionStatement=function(Ve,Sn,qn){return this.next(),this.parseFunction(Ve,Cn|(qn?0:bn),!1,Sn)},qe.parseIfStatement=function(Ve){return this.next(),Ve.test=this.parseParenExpression(),Ve.consequent=this.parseStatement("if"),Ve.alternate=this.eat(_e._else)?this.parseStatement("if"):null,this.finishNode(Ve,"IfStatement")},qe.parseReturnStatement=function(Ve){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_e.semi)||this.insertSemicolon()?Ve.argument=null:(Ve.argument=this.parseExpression(),this.semicolon()),this.finishNode(Ve,"ReturnStatement")},qe.parseSwitchStatement=function(Ve){this.next(),Ve.discriminant=this.parseParenExpression(),Ve.cases=[],this.expect(_e.braceL),this.labels.push(_n),this.enterScope(0);for(var Sn,qn=!1;this.type!==_e.braceR;)if(this.type===_e._case||this.type===_e._default){var ir=this.type===_e._case;Sn&&this.finishNode(Sn,"SwitchCase"),Ve.cases.push(Sn=this.startNode()),Sn.consequent=[],this.next(),ir?Sn.test=this.parseExpression():(qn&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),qn=!0,Sn.test=null),this.expect(_e.colon)}else Sn||this.unexpected(),Sn.consequent.push(this.parseStatement(null));return this.exitScope(),Sn&&this.finishNode(Sn,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(Ve,"SwitchStatement")},qe.parseThrowStatement=function(Ve){return this.next(),Fe.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),Ve.argument=this.parseExpression(),this.semicolon(),this.finishNode(Ve,"ThrowStatement")};var At=[];qe.parseCatchClauseParam=function(){var Ve=this.parseBindingAtom(),Sn=Ve.type==="Identifier";return this.enterScope(Sn?zn:0),this.checkLValPattern(Ve,Sn?cr:ar),this.expect(_e.parenR),Ve},qe.parseTryStatement=function(Ve){if(this.next(),Ve.block=this.parseBlock(),Ve.handler=null,this.type===_e._catch){var Sn=this.startNode();this.next(),this.eat(_e.parenL)?Sn.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Sn.param=null,this.enterScope(0)),Sn.body=this.parseBlock(!1),this.exitScope(),Ve.handler=this.finishNode(Sn,"CatchClause")}return Ve.finalizer=this.eat(_e._finally)?this.parseBlock():null,!Ve.handler&&!Ve.finalizer&&this.raise(Ve.start,"Missing catch or finally clause"),this.finishNode(Ve,"TryStatement")},qe.parseVarStatement=function(Ve,Sn,qn){return this.next(),this.parseVar(Ve,!1,Sn,qn),this.semicolon(),this.finishNode(Ve,"VariableDeclaration")},qe.parseWhileStatement=function(Ve){return this.next(),Ve.test=this.parseParenExpression(),this.labels.push(Pt),Ve.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(Ve,"WhileStatement")},qe.parseWithStatement=function(Ve){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),Ve.object=this.parseParenExpression(),Ve.body=this.parseStatement("with"),this.finishNode(Ve,"WithStatement")},qe.parseEmptyStatement=function(Ve){return this.next(),this.finishNode(Ve,"EmptyStatement")},qe.parseLabeledStatement=function(Ve,Sn,qn,ir){for(var br=0,Vr=this.labels;br<Vr.length;br+=1){var Dr=Vr[br];Dr.name===Sn&&this.raise(qn.start,"Label '"+Sn+"' is already declared")}for(var Zr=this.type.isLoop?"loop":this.type===_e._switch?"switch":null,Yr=this.labels.length-1;Yr>=0;Yr--){var ho=this.labels[Yr];if(ho.statementStart===Ve.start)ho.statementStart=this.start,ho.kind=Zr;else break}return this.labels.push({name:Sn,kind:Zr,statementStart:this.start}),Ve.body=this.parseStatement(ir?ir.indexOf("label")===-1?ir+"label":ir:"label"),this.labels.pop(),Ve.label=qn,this.finishNode(Ve,"LabeledStatement")},qe.parseExpressionStatement=function(Ve,Sn){return Ve.expression=Sn,this.semicolon(),this.finishNode(Ve,"ExpressionStatement")},qe.parseBlock=function(Ve,Sn,qn){for(Ve===void 0&&(Ve=!0),Sn===void 0&&(Sn=this.startNode()),Sn.body=[],this.expect(_e.braceL),Ve&&this.enterScope(0);this.type!==_e.braceR;){var ir=this.parseStatement(null);Sn.body.push(ir)}return qn&&(this.strict=!1),this.next(),Ve&&this.exitScope(),this.finishNode(Sn,"BlockStatement")},qe.parseFor=function(Ve,Sn){return Ve.init=Sn,this.expect(_e.semi),Ve.test=this.type===_e.semi?null:this.parseExpression(),this.expect(_e.semi),Ve.update=this.type===_e.parenR?null:this.parseExpression(),this.expect(_e.parenR),Ve.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(Ve,"ForStatement")},qe.parseForIn=function(Ve,Sn){var qn=this.type===_e._in;return this.next(),Sn.type==="VariableDeclaration"&&Sn.declarations[0].init!=null&&(!qn||this.options.ecmaVersion<8||this.strict||Sn.kind!=="var"||Sn.declarations[0].id.type!=="Identifier")&&this.raise(Sn.start,(qn?"for-in":"for-of")+" loop variable declaration may not have an initializer"),Ve.left=Sn,Ve.right=qn?this.parseExpression():this.parseMaybeAssign(),this.expect(_e.parenR),Ve.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(Ve,qn?"ForInStatement":"ForOfStatement")},qe.parseVar=function(Ve,Sn,qn,ir){for(Ve.declarations=[],Ve.kind=qn;;){var br=this.startNode();if(this.parseVarId(br,qn),this.eat(_e.eq)?br.init=this.parseMaybeAssign(Sn):!ir&&qn==="const"&&!(this.type===_e._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!ir&&br.id.type!=="Identifier"&&!(Sn&&(this.type===_e._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):br.init=null,Ve.declarations.push(this.finishNode(br,"VariableDeclarator")),!this.eat(_e.comma))break}return Ve},qe.parseVarId=function(Ve,Sn){Ve.id=this.parseBindingAtom(),this.checkLValPattern(Ve.id,Sn==="var"?Kn:ar,!1)};var Cn=1,bn=2,In=4;qe.parseFunction=function(Ve,Sn,qn,ir,br){this.initFunction(Ve),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!ir)&&(this.type===_e.star&&Sn&bn&&this.unexpected(),Ve.generator=this.eat(_e.star)),this.options.ecmaVersion>=8&&(Ve.async=!!ir),Sn&Cn&&(Ve.id=Sn&In&&this.type!==_e.name?null:this.parseIdent(),Ve.id&&!(Sn&bn)&&this.checkLValSimple(Ve.id,this.strict||Ve.generator||Ve.async?this.treatFunctionsAsVar?Kn:ar:lr));var Vr=this.yieldPos,Dr=this.awaitPos,Zr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(hn(Ve.async,Ve.generator)),Sn&Cn||(Ve.id=this.type===_e.name?this.parseIdent():null),this.parseFunctionParams(Ve),this.parseFunctionBody(Ve,qn,!1,br),this.yieldPos=Vr,this.awaitPos=Dr,this.awaitIdentPos=Zr,this.finishNode(Ve,Sn&Cn?"FunctionDeclaration":"FunctionExpression")},qe.parseFunctionParams=function(Ve){this.expect(_e.parenL),Ve.params=this.parseBindingList(_e.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},qe.parseClass=function(Ve,Sn){this.next();var qn=this.strict;this.strict=!0,this.parseClassId(Ve,Sn),this.parseClassSuper(Ve);var ir=this.enterClassBody(),br=this.startNode(),Vr=!1;for(br.body=[],this.expect(_e.braceL);this.type!==_e.braceR;){var Dr=this.parseClassElement(Ve.superClass!==null);Dr&&(br.body.push(Dr),Dr.type==="MethodDefinition"&&Dr.kind==="constructor"?(Vr&&this.raiseRecoverable(Dr.start,"Duplicate constructor in the same class"),Vr=!0):Dr.key&&Dr.key.type==="PrivateIdentifier"&&Ln(ir,Dr)&&this.raiseRecoverable(Dr.key.start,"Identifier '#"+Dr.key.name+"' has already been declared"))}return this.strict=qn,this.next(),Ve.body=this.finishNode(br,"ClassBody"),this.exitClassBody(),this.finishNode(Ve,Sn?"ClassDeclaration":"ClassExpression")},qe.parseClassElement=function(Ve){if(this.eat(_e.semi))return null;var Sn=this.options.ecmaVersion,qn=this.startNode(),ir="",br=!1,Vr=!1,Dr="method",Zr=!1;if(this.eatContextual("static")){if(Sn>=13&&this.eat(_e.braceL))return this.parseClassStaticBlock(qn),qn;this.isClassElementNameStart()||this.type===_e.star?Zr=!0:ir="static"}if(qn.static=Zr,!ir&&Sn>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===_e.star)&&!this.canInsertSemicolon()?Vr=!0:ir="async"),!ir&&(Sn>=9||!Vr)&&this.eat(_e.star)&&(br=!0),!ir&&!Vr&&!br){var Yr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Dr=Yr:ir=Yr)}if(ir?(qn.computed=!1,qn.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),qn.key.name=ir,this.finishNode(qn.key,"Identifier")):this.parseClassElementName(qn),Sn<13||this.type===_e.parenL||Dr!=="method"||br||Vr){var ho=!qn.static&&Mn(qn,"constructor"),po=ho&&Ve;ho&&Dr!=="method"&&this.raise(qn.key.start,"Constructor can't have get/set modifier"),qn.kind=ho?"constructor":Dr,this.parseClassMethod(qn,br,Vr,po)}else this.parseClassField(qn);return qn},qe.isClassElementNameStart=function(){return this.type===_e.name||this.type===_e.privateId||this.type===_e.num||this.type===_e.string||this.type===_e.bracketL||this.type.keyword},qe.parseClassElementName=function(Ve){this.type===_e.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),Ve.computed=!1,Ve.key=this.parsePrivateIdent()):this.parsePropertyName(Ve)},qe.parseClassMethod=function(Ve,Sn,qn,ir){var br=Ve.key;Ve.kind==="constructor"?(Sn&&this.raise(br.start,"Constructor can't be a generator"),qn&&this.raise(br.start,"Constructor can't be an async method")):Ve.static&&Mn(Ve,"prototype")&&this.raise(br.start,"Classes may not have a static property named prototype");var Vr=Ve.value=this.parseMethod(Sn,qn,ir);return Ve.kind==="get"&&Vr.params.length!==0&&this.raiseRecoverable(Vr.start,"getter should have no params"),Ve.kind==="set"&&Vr.params.length!==1&&this.raiseRecoverable(Vr.start,"setter should have exactly one param"),Ve.kind==="set"&&Vr.params[0].type==="RestElement"&&this.raiseRecoverable(Vr.params[0].start,"Setter cannot use rest params"),this.finishNode(Ve,"MethodDefinition")},qe.parseClassField=function(Ve){if(Mn(Ve,"constructor")?this.raise(Ve.key.start,"Classes can't have a field named 'constructor'"):Ve.static&&Mn(Ve,"prototype")&&this.raise(Ve.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_e.eq)){var Sn=this.currentThisScope(),qn=Sn.inClassFieldInit;Sn.inClassFieldInit=!0,Ve.value=this.parseMaybeAssign(),Sn.inClassFieldInit=qn}else Ve.value=null;return this.semicolon(),this.finishNode(Ve,"PropertyDefinition")},qe.parseClassStaticBlock=function(Ve){Ve.body=[];var Sn=this.labels;for(this.labels=[],this.enterScope(Tn|vn);this.type!==_e.braceR;){var qn=this.parseStatement(null);Ve.body.push(qn)}return this.next(),this.exitScope(),this.labels=Sn,this.finishNode(Ve,"StaticBlock")},qe.parseClassId=function(Ve,Sn){this.type===_e.name?(Ve.id=this.parseIdent(),Sn&&this.checkLValSimple(Ve.id,ar,!1)):(Sn===!0&&this.unexpected(),Ve.id=null)},qe.parseClassSuper=function(Ve){Ve.superClass=this.eat(_e._extends)?this.parseExprSubscripts(null,!1):null},qe.enterClassBody=function(){var Ve={declared:Object.create(null),used:[]};return this.privateNameStack.push(Ve),Ve.declared},qe.exitClassBody=function(){var Ve=this.privateNameStack.pop(),Sn=Ve.declared,qn=Ve.used;if(this.options.checkPrivateFields)for(var ir=this.privateNameStack.length,br=ir===0?null:this.privateNameStack[ir-1],Vr=0;Vr<qn.length;++Vr){var Dr=qn[Vr];Dn(Sn,Dr.name)||(br?br.used.push(Dr):this.raiseRecoverable(Dr.start,"Private field '#"+Dr.name+"' must be declared in an enclosing class"))}};function Ln(Ve,Sn){var qn=Sn.key.name,ir=Ve[qn],br="true";return Sn.type==="MethodDefinition"&&(Sn.kind==="get"||Sn.kind==="set")&&(br=(Sn.static?"s":"i")+Sn.kind),ir==="iget"&&br==="iset"||ir==="iset"&&br==="iget"||ir==="sget"&&br==="sset"||ir==="sset"&&br==="sget"?(Ve[qn]="true",!1):ir?!0:(Ve[qn]=br,!1)}function Mn(Ve,Sn){var qn=Ve.computed,ir=Ve.key;return!qn&&(ir.type==="Identifier"&&ir.name===Sn||ir.type==="Literal"&&ir.value===Sn)}qe.parseExportAllDeclaration=function(Ve,Sn){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(Ve.exported=this.parseModuleExportName(),this.checkExport(Sn,Ve.exported,this.lastTokStart)):Ve.exported=null),this.expectContextual("from"),this.type!==_e.string&&this.unexpected(),Ve.source=this.parseExprAtom(),this.semicolon(),this.finishNode(Ve,"ExportAllDeclaration")},qe.parseExport=function(Ve,Sn){if(this.next(),this.eat(_e.star))return this.parseExportAllDeclaration(Ve,Sn);if(this.eat(_e._default))return this.checkExport(Sn,"default",this.lastTokStart),Ve.declaration=this.parseExportDefaultDeclaration(),this.finishNode(Ve,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())Ve.declaration=this.parseExportDeclaration(Ve),Ve.declaration.type==="VariableDeclaration"?this.checkVariableExport(Sn,Ve.declaration.declarations):this.checkExport(Sn,Ve.declaration.id,Ve.declaration.id.start),Ve.specifiers=[],Ve.source=null;else{if(Ve.declaration=null,Ve.specifiers=this.parseExportSpecifiers(Sn),this.eatContextual("from"))this.type!==_e.string&&this.unexpected(),Ve.source=this.parseExprAtom();else{for(var qn=0,ir=Ve.specifiers;qn<ir.length;qn+=1){var br=ir[qn];this.checkUnreserved(br.local),this.checkLocalExport(br.local),br.local.type==="Literal"&&this.raise(br.local.start,"A string literal cannot be used as an exported binding without `from`.")}Ve.source=null}this.semicolon()}return this.finishNode(Ve,"ExportNamedDeclaration")},qe.parseExportDeclaration=function(Ve){return this.parseStatement(null)},qe.parseExportDefaultDeclaration=function(){var Ve;if(this.type===_e._function||(Ve=this.isAsyncFunction())){var Sn=this.startNode();return this.next(),Ve&&this.next(),this.parseFunction(Sn,Cn|In,!1,Ve)}else if(this.type===_e._class){var qn=this.startNode();return this.parseClass(qn,"nullableID")}else{var ir=this.parseMaybeAssign();return this.semicolon(),ir}},qe.checkExport=function(Ve,Sn,qn){Ve&&(typeof Sn!="string"&&(Sn=Sn.type==="Identifier"?Sn.name:Sn.value),Dn(Ve,Sn)&&this.raiseRecoverable(qn,"Duplicate export '"+Sn+"'"),Ve[Sn]=!0)},qe.checkPatternExport=function(Ve,Sn){var qn=Sn.type;if(qn==="Identifier")this.checkExport(Ve,Sn,Sn.start);else if(qn==="ObjectPattern")for(var ir=0,br=Sn.properties;ir<br.length;ir+=1){var Vr=br[ir];this.checkPatternExport(Ve,Vr)}else if(qn==="ArrayPattern")for(var Dr=0,Zr=Sn.elements;Dr<Zr.length;Dr+=1){var Yr=Zr[Dr];Yr&&this.checkPatternExport(Ve,Yr)}else qn==="Property"?this.checkPatternExport(Ve,Sn.value):qn==="AssignmentPattern"?this.checkPatternExport(Ve,Sn.left):qn==="RestElement"?this.checkPatternExport(Ve,Sn.argument):qn==="ParenthesizedExpression"&&this.checkPatternExport(Ve,Sn.expression)},qe.checkVariableExport=function(Ve,Sn){if(Ve)for(var qn=0,ir=Sn;qn<ir.length;qn+=1){var br=ir[qn];this.checkPatternExport(Ve,br.id)}},qe.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},qe.parseExportSpecifier=function(Ve){var Sn=this.startNode();return Sn.local=this.parseModuleExportName(),Sn.exported=this.eatContextual("as")?this.parseModuleExportName():Sn.local,this.checkExport(Ve,Sn.exported,Sn.exported.start),this.finishNode(Sn,"ExportSpecifier")},qe.parseExportSpecifiers=function(Ve){var Sn=[],qn=!0;for(this.expect(_e.braceL);!this.eat(_e.braceR);){if(qn)qn=!1;else if(this.expect(_e.comma),this.afterTrailingComma(_e.braceR))break;Sn.push(this.parseExportSpecifier(Ve))}return Sn},qe.parseImport=function(Ve){return this.next(),this.type===_e.string?(Ve.specifiers=At,Ve.source=this.parseExprAtom()):(Ve.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),Ve.source=this.type===_e.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(Ve,"ImportDeclaration")},qe.parseImportSpecifier=function(){var Ve=this.startNode();return Ve.imported=this.parseModuleExportName(),this.eatContextual("as")?Ve.local=this.parseIdent():(this.checkUnreserved(Ve.imported),Ve.local=Ve.imported),this.checkLValSimple(Ve.local,ar),this.finishNode(Ve,"ImportSpecifier")},qe.parseImportDefaultSpecifier=function(){var Ve=this.startNode();return Ve.local=this.parseIdent(),this.checkLValSimple(Ve.local,ar),this.finishNode(Ve,"ImportDefaultSpecifier")},qe.parseImportNamespaceSpecifier=function(){var Ve=this.startNode();return this.next(),this.expectContextual("as"),Ve.local=this.parseIdent(),this.checkLValSimple(Ve.local,ar),this.finishNode(Ve,"ImportNamespaceSpecifier")},qe.parseImportSpecifiers=function(){var Ve=[],Sn=!0;if(this.type===_e.name&&(Ve.push(this.parseImportDefaultSpecifier()),!this.eat(_e.comma)))return Ve;if(this.type===_e.star)return Ve.push(this.parseImportNamespaceSpecifier()),Ve;for(this.expect(_e.braceL);!this.eat(_e.braceR);){if(Sn)Sn=!1;else if(this.expect(_e.comma),this.afterTrailingComma(_e.braceR))break;Ve.push(this.parseImportSpecifier())}return Ve},qe.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_e.string){var Ve=this.parseLiteral(this.value);return Wn.test(Ve.value)&&this.raise(Ve.start,"An export name cannot include a lone surrogate."),Ve}return this.parseIdent(!0)},qe.adaptDirectivePrologue=function(Ve){for(var Sn=0;Sn<Ve.length&&this.isDirectiveCandidate(Ve[Sn]);++Sn)Ve[Sn].directive=Ve[Sn].expression.raw.slice(1,-1)},qe.isDirectiveCandidate=function(Ve){return this.options.ecmaVersion>=5&&Ve.type==="ExpressionStatement"&&Ve.expression.type==="Literal"&&typeof Ve.expression.value=="string"&&(this.input[Ve.start]==='"'||this.input[Ve.start]==="'")};var Fn=ur.prototype;Fn.toAssignable=function(Ve,Sn,qn){if(this.options.ecmaVersion>=6&&Ve)switch(Ve.type){case"Identifier":this.inAsync&&Ve.name==="await"&&this.raise(Ve.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":Ve.type="ObjectPattern",qn&&this.checkPatternErrors(qn,!0);for(var ir=0,br=Ve.properties;ir<br.length;ir+=1){var Vr=br[ir];this.toAssignable(Vr,Sn),Vr.type==="RestElement"&&(Vr.argument.type==="ArrayPattern"||Vr.argument.type==="ObjectPattern")&&this.raise(Vr.argument.start,"Unexpected token")}break;case"Property":Ve.kind!=="init"&&this.raise(Ve.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(Ve.value,Sn);break;case"ArrayExpression":Ve.type="ArrayPattern",qn&&this.checkPatternErrors(qn,!0),this.toAssignableList(Ve.elements,Sn);break;case"SpreadElement":Ve.type="RestElement",this.toAssignable(Ve.argument,Sn),Ve.argument.type==="AssignmentPattern"&&this.raise(Ve.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":Ve.operator!=="="&&this.raise(Ve.left.end,"Only '=' operator can be used for specifying default value."),Ve.type="AssignmentPattern",delete Ve.operator,this.toAssignable(Ve.left,Sn);break;case"ParenthesizedExpression":this.toAssignable(Ve.expression,Sn,qn);break;case"ChainExpression":this.raiseRecoverable(Ve.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Sn)break;default:this.raise(Ve.start,"Assigning to rvalue")}else qn&&this.checkPatternErrors(qn,!0);return Ve},Fn.toAssignableList=function(Ve,Sn){for(var qn=Ve.length,ir=0;ir<qn;ir++){var br=Ve[ir];br&&this.toAssignable(br,Sn)}if(qn){var Vr=Ve[qn-1];this.options.ecmaVersion===6&&Sn&&Vr&&Vr.type==="RestElement"&&Vr.argument.type!=="Identifier"&&this.unexpected(Vr.argument.start)}return Ve},Fn.parseSpread=function(Ve){var Sn=this.startNode();return this.next(),Sn.argument=this.parseMaybeAssign(!1,Ve),this.finishNode(Sn,"SpreadElement")},Fn.parseRestBinding=function(){var Ve=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==_e.name&&this.unexpected(),Ve.argument=this.parseBindingAtom(),this.finishNode(Ve,"RestElement")},Fn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _e.bracketL:var Ve=this.startNode();return this.next(),Ve.elements=this.parseBindingList(_e.bracketR,!0,!0),this.finishNode(Ve,"ArrayPattern");case _e.braceL:return this.parseObj(!0)}return this.parseIdent()},Fn.parseBindingList=function(Ve,Sn,qn,ir){for(var br=[],Vr=!0;!this.eat(Ve);)if(Vr?Vr=!1:this.expect(_e.comma),Sn&&this.type===_e.comma)br.push(null);else{if(qn&&this.afterTrailingComma(Ve))break;if(this.type===_e.ellipsis){var Dr=this.parseRestBinding();this.parseBindingListItem(Dr),br.push(Dr),this.type===_e.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(Ve);break}else br.push(this.parseAssignableListItem(ir))}return br},Fn.parseAssignableListItem=function(Ve){var Sn=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Sn),Sn},Fn.parseBindingListItem=function(Ve){return Ve},Fn.parseMaybeDefault=function(Ve,Sn,qn){if(qn=qn||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_e.eq))return qn;var ir=this.startNodeAt(Ve,Sn);return ir.left=qn,ir.right=this.parseMaybeAssign(),this.finishNode(ir,"AssignmentPattern")},Fn.checkLValSimple=function(Ve,Sn,qn){Sn===void 0&&(Sn=Vn);var ir=Sn!==Vn;switch(Ve.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(Ve.name)&&this.raiseRecoverable(Ve.start,(ir?"Binding ":"Assigning to ")+Ve.name+" in strict mode"),ir&&(Sn===ar&&Ve.name==="let"&&this.raiseRecoverable(Ve.start,"let is disallowed as a lexically bound name"),qn&&(Dn(qn,Ve.name)&&this.raiseRecoverable(Ve.start,"Argument name clash"),qn[Ve.name]=!0),Sn!==mr&&this.declareName(Ve.name,Sn,Ve.start));break;case"ChainExpression":this.raiseRecoverable(Ve.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":ir&&this.raiseRecoverable(Ve.start,"Binding member expression");break;case"ParenthesizedExpression":return ir&&this.raiseRecoverable(Ve.start,"Binding parenthesized expression"),this.checkLValSimple(Ve.expression,Sn,qn);default:this.raise(Ve.start,(ir?"Binding":"Assigning to")+" rvalue")}},Fn.checkLValPattern=function(Ve,Sn,qn){switch(Sn===void 0&&(Sn=Vn),Ve.type){case"ObjectPattern":for(var ir=0,br=Ve.properties;ir<br.length;ir+=1){var Vr=br[ir];this.checkLValInnerPattern(Vr,Sn,qn)}break;case"ArrayPattern":for(var Dr=0,Zr=Ve.elements;Dr<Zr.length;Dr+=1){var Yr=Zr[Dr];Yr&&this.checkLValInnerPattern(Yr,Sn,qn)}break;default:this.checkLValSimple(Ve,Sn,qn)}},Fn.checkLValInnerPattern=function(Ve,Sn,qn){switch(Sn===void 0&&(Sn=Vn),Ve.type){case"Property":this.checkLValInnerPattern(Ve.value,Sn,qn);break;case"AssignmentPattern":this.checkLValPattern(Ve.left,Sn,qn);break;case"RestElement":this.checkLValPattern(Ve.argument,Sn,qn);break;default:this.checkLValPattern(Ve,Sn,qn)}};var er=function(Sn,qn,ir,br,Vr){this.token=Sn,this.isExpr=!!qn,this.preserveSpace=!!ir,this.override=br,this.generator=!!Vr},Qn={b_stat:new er("{",!1),b_expr:new er("{",!0),b_tmpl:new er("${",!1),p_stat:new er("(",!1),p_expr:new er("(",!0),q_tmpl:new er("`",!0,!0,function(Ve){return Ve.tryReadTemplateToken()}),f_stat:new er("function",!1),f_expr:new er("function",!0),f_expr_gen:new er("function",!0,!1,null,!0),f_gen:new er("function",!1,!1,null,!0)},nr=ur.prototype;nr.initialContext=function(){return[Qn.b_stat]},nr.curContext=function(){return this.context[this.context.length-1]},nr.braceIsBlock=function(Ve){var Sn=this.curContext();return Sn===Qn.f_expr||Sn===Qn.f_stat?!0:Ve===_e.colon&&(Sn===Qn.b_stat||Sn===Qn.b_expr)?!Sn.isExpr:Ve===_e._return||Ve===_e.name&&this.exprAllowed?Fe.test(this.input.slice(this.lastTokEnd,this.start)):Ve===_e._else||Ve===_e.semi||Ve===_e.eof||Ve===_e.parenR||Ve===_e.arrow?!0:Ve===_e.braceL?Sn===Qn.b_stat:Ve===_e._var||Ve===_e._const||Ve===_e.name?!1:!this.exprAllowed},nr.inGeneratorContext=function(){for(var Ve=this.context.length-1;Ve>=1;Ve--){var Sn=this.context[Ve];if(Sn.token==="function")return Sn.generator}return!1},nr.updateContext=function(Ve){var Sn,qn=this.type;qn.keyword&&Ve===_e.dot?this.exprAllowed=!1:(Sn=qn.updateContext)?Sn.call(this,Ve):this.exprAllowed=qn.beforeExpr},nr.overrideContext=function(Ve){this.curContext()!==Ve&&(this.context[this.context.length-1]=Ve)},_e.parenR.updateContext=_e.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var Ve=this.context.pop();Ve===Qn.b_stat&&this.curContext().token==="function"&&(Ve=this.context.pop()),this.exprAllowed=!Ve.isExpr},_e.braceL.updateContext=function(Ve){this.context.push(this.braceIsBlock(Ve)?Qn.b_stat:Qn.b_expr),this.exprAllowed=!0},_e.dollarBraceL.updateContext=function(){this.context.push(Qn.b_tmpl),this.exprAllowed=!0},_e.parenL.updateContext=function(Ve){var Sn=Ve===_e._if||Ve===_e._for||Ve===_e._with||Ve===_e._while;this.context.push(Sn?Qn.p_stat:Qn.p_expr),this.exprAllowed=!0},_e.incDec.updateContext=function(){},_e._function.updateContext=_e._class.updateContext=function(Ve){Ve.beforeExpr&&Ve!==_e._else&&!(Ve===_e.semi&&this.curContext()!==Qn.p_stat)&&!(Ve===_e._return&&Fe.test(this.input.slice(this.lastTokEnd,this.start)))&&!((Ve===_e.colon||Ve===_e.braceL)&&this.curContext()===Qn.b_stat)?this.context.push(Qn.f_expr):this.context.push(Qn.f_stat),this.exprAllowed=!1},_e.backQuote.updateContext=function(){this.curContext()===Qn.q_tmpl?this.context.pop():this.context.push(Qn.q_tmpl),this.exprAllowed=!1},_e.star.updateContext=function(Ve){if(Ve===_e._function){var Sn=this.context.length-1;this.context[Sn]===Qn.f_expr?this.context[Sn]=Qn.f_expr_gen:this.context[Sn]=Qn.f_gen}this.exprAllowed=!0},_e.name.updateContext=function(Ve){var Sn=!1;this.options.ecmaVersion>=6&&Ve!==_e.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Sn=!0),this.exprAllowed=Sn};var kn=ur.prototype;kn.checkPropClash=function(Ve,Sn,qn){if(!(this.options.ecmaVersion>=9&&Ve.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(Ve.computed||Ve.method||Ve.shorthand))){var ir=Ve.key,br;switch(ir.type){case"Identifier":br=ir.name;break;case"Literal":br=String(ir.value);break;default:return}var Vr=Ve.kind;if(this.options.ecmaVersion>=6){br==="__proto__"&&Vr==="init"&&(Sn.proto&&(qn?qn.doubleProto<0&&(qn.doubleProto=ir.start):this.raiseRecoverable(ir.start,"Redefinition of __proto__ property")),Sn.proto=!0);return}br="$"+br;var Dr=Sn[br];if(Dr){var Zr;Vr==="init"?Zr=this.strict&&Dr.init||Dr.get||Dr.set:Zr=Dr.init||Dr[Vr],Zr&&this.raiseRecoverable(ir.start,"Redefinition of property")}else Dr=Sn[br]={init:!1,get:!1,set:!1};Dr[Vr]=!0}},kn.parseExpression=function(Ve,Sn){var qn=this.start,ir=this.startLoc,br=this.parseMaybeAssign(Ve,Sn);if(this.type===_e.comma){var Vr=this.startNodeAt(qn,ir);for(Vr.expressions=[br];this.eat(_e.comma);)Vr.expressions.push(this.parseMaybeAssign(Ve,Sn));return this.finishNode(Vr,"SequenceExpression")}return br},kn.parseMaybeAssign=function(Ve,Sn,qn){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(Ve);this.exprAllowed=!1}var ir=!1,br=-1,Vr=-1,Dr=-1;Sn?(br=Sn.parenthesizedAssign,Vr=Sn.trailingComma,Dr=Sn.doubleProto,Sn.parenthesizedAssign=Sn.trailingComma=-1):(Sn=new ze,ir=!0);var Zr=this.start,Yr=this.startLoc;(this.type===_e.parenL||this.type===_e.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=Ve==="await");var ho=this.parseMaybeConditional(Ve,Sn);if(qn&&(ho=qn.call(this,ho,Zr,Yr)),this.type.isAssign){var po=this.startNodeAt(Zr,Yr);return po.operator=this.value,this.type===_e.eq&&(ho=this.toAssignable(ho,!1,Sn)),ir||(Sn.parenthesizedAssign=Sn.trailingComma=Sn.doubleProto=-1),Sn.shorthandAssign>=ho.start&&(Sn.shorthandAssign=-1),this.type===_e.eq?this.checkLValPattern(ho):this.checkLValSimple(ho),po.left=ho,this.next(),po.right=this.parseMaybeAssign(Ve),Dr>-1&&(Sn.doubleProto=Dr),this.finishNode(po,"AssignmentExpression")}else ir&&this.checkExpressionErrors(Sn,!0);return br>-1&&(Sn.parenthesizedAssign=br),Vr>-1&&(Sn.trailingComma=Vr),ho},kn.parseMaybeConditional=function(Ve,Sn){var qn=this.start,ir=this.startLoc,br=this.parseExprOps(Ve,Sn);if(this.checkExpressionErrors(Sn))return br;if(this.eat(_e.question)){var Vr=this.startNodeAt(qn,ir);return Vr.test=br,Vr.consequent=this.parseMaybeAssign(),this.expect(_e.colon),Vr.alternate=this.parseMaybeAssign(Ve),this.finishNode(Vr,"ConditionalExpression")}return br},kn.parseExprOps=function(Ve,Sn){var qn=this.start,ir=this.startLoc,br=this.parseMaybeUnary(Sn,!1,!1,Ve);return this.checkExpressionErrors(Sn)||br.start===qn&&br.type==="ArrowFunctionExpression"?br:this.parseExprOp(br,qn,ir,-1,Ve)},kn.parseExprOp=function(Ve,Sn,qn,ir,br){var Vr=this.type.binop;if(Vr!=null&&(!br||this.type!==_e._in)&&Vr>ir){var Dr=this.type===_e.logicalOR||this.type===_e.logicalAND,Zr=this.type===_e.coalesce;Zr&&(Vr=_e.logicalAND.binop);var Yr=this.value;this.next();var ho=this.start,po=this.startLoc,To=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,br),ho,po,Vr,br),zo=this.buildBinary(Sn,qn,Ve,To,Yr,Dr||Zr);return(Dr&&this.type===_e.coalesce||Zr&&(this.type===_e.logicalOR||this.type===_e.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(zo,Sn,qn,ir,br)}return Ve},kn.buildBinary=function(Ve,Sn,qn,ir,br,Vr){ir.type==="PrivateIdentifier"&&this.raise(ir.start,"Private identifier can only be left side of binary expression");var Dr=this.startNodeAt(Ve,Sn);return Dr.left=qn,Dr.operator=br,Dr.right=ir,this.finishNode(Dr,Vr?"LogicalExpression":"BinaryExpression")},kn.parseMaybeUnary=function(Ve,Sn,qn,ir){var br=this.start,Vr=this.startLoc,Dr;if(this.isContextual("await")&&this.canAwait)Dr=this.parseAwait(ir),Sn=!0;else if(this.type.prefix){var Zr=this.startNode(),Yr=this.type===_e.incDec;Zr.operator=this.value,Zr.prefix=!0,this.next(),Zr.argument=this.parseMaybeUnary(null,!0,Yr,ir),this.checkExpressionErrors(Ve,!0),Yr?this.checkLValSimple(Zr.argument):this.strict&&Zr.operator==="delete"&&Zr.argument.type==="Identifier"?this.raiseRecoverable(Zr.start,"Deleting local variable in strict mode"):Zr.operator==="delete"&&Un(Zr.argument)?this.raiseRecoverable(Zr.start,"Private fields can not be deleted"):Sn=!0,Dr=this.finishNode(Zr,Yr?"UpdateExpression":"UnaryExpression")}else if(!Sn&&this.type===_e.privateId)(ir||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Dr=this.parsePrivateIdent(),this.type!==_e._in&&this.unexpected();else{if(Dr=this.parseExprSubscripts(Ve,ir),this.checkExpressionErrors(Ve))return Dr;for(;this.type.postfix&&!this.canInsertSemicolon();){var ho=this.startNodeAt(br,Vr);ho.operator=this.value,ho.prefix=!1,ho.argument=Dr,this.checkLValSimple(Dr),this.next(),Dr=this.finishNode(ho,"UpdateExpression")}}if(!qn&&this.eat(_e.starstar))if(Sn)this.unexpected(this.lastTokStart);else return this.buildBinary(br,Vr,Dr,this.parseMaybeUnary(null,!1,!1,ir),"**",!1);else return Dr};function Un(Ve){return Ve.type==="MemberExpression"&&Ve.property.type==="PrivateIdentifier"||Ve.type==="ChainExpression"&&Un(Ve.expression)}kn.parseExprSubscripts=function(Ve,Sn){var qn=this.start,ir=this.startLoc,br=this.parseExprAtom(Ve,Sn);if(br.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return br;var Vr=this.parseSubscripts(br,qn,ir,!1,Sn);return Ve&&Vr.type==="MemberExpression"&&(Ve.parenthesizedAssign>=Vr.start&&(Ve.parenthesizedAssign=-1),Ve.parenthesizedBind>=Vr.start&&(Ve.parenthesizedBind=-1),Ve.trailingComma>=Vr.start&&(Ve.trailingComma=-1)),Vr},kn.parseSubscripts=function(Ve,Sn,qn,ir,br){for(var Vr=this.options.ecmaVersion>=8&&Ve.type==="Identifier"&&Ve.name==="async"&&this.lastTokEnd===Ve.end&&!this.canInsertSemicolon()&&Ve.end-Ve.start===5&&this.potentialArrowAt===Ve.start,Dr=!1;;){var Zr=this.parseSubscript(Ve,Sn,qn,ir,Vr,Dr,br);if(Zr.optional&&(Dr=!0),Zr===Ve||Zr.type==="ArrowFunctionExpression"){if(Dr){var Yr=this.startNodeAt(Sn,qn);Yr.expression=Zr,Zr=this.finishNode(Yr,"ChainExpression")}return Zr}Ve=Zr}},kn.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_e.arrow)},kn.parseSubscriptAsyncArrow=function(Ve,Sn,qn,ir){return this.parseArrowExpression(this.startNodeAt(Ve,Sn),qn,!0,ir)},kn.parseSubscript=function(Ve,Sn,qn,ir,br,Vr,Dr){var Zr=this.options.ecmaVersion>=11,Yr=Zr&&this.eat(_e.questionDot);ir&&Yr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var ho=this.eat(_e.bracketL);if(ho||Yr&&this.type!==_e.parenL&&this.type!==_e.backQuote||this.eat(_e.dot)){var po=this.startNodeAt(Sn,qn);po.object=Ve,ho?(po.property=this.parseExpression(),this.expect(_e.bracketR)):this.type===_e.privateId&&Ve.type!=="Super"?po.property=this.parsePrivateIdent():po.property=this.parseIdent(this.options.allowReserved!=="never"),po.computed=!!ho,Zr&&(po.optional=Yr),Ve=this.finishNode(po,"MemberExpression")}else if(!ir&&this.eat(_e.parenL)){var To=new ze,zo=this.yieldPos,qo=this.awaitPos,jo=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ea=this.parseExprList(_e.parenR,this.options.ecmaVersion>=8,!1,To);if(br&&!Yr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(To,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=zo,this.awaitPos=qo,this.awaitIdentPos=jo,this.parseSubscriptAsyncArrow(Sn,qn,ea,Dr);this.checkExpressionErrors(To,!0),this.yieldPos=zo||this.yieldPos,this.awaitPos=qo||this.awaitPos,this.awaitIdentPos=jo||this.awaitIdentPos;var Qo=this.startNodeAt(Sn,qn);Qo.callee=Ve,Qo.arguments=ea,Zr&&(Qo.optional=Yr),Ve=this.finishNode(Qo,"CallExpression")}else if(this.type===_e.backQuote){(Yr||Vr)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ho=this.startNodeAt(Sn,qn);Ho.tag=Ve,Ho.quasi=this.parseTemplate({isTagged:!0}),Ve=this.finishNode(Ho,"TaggedTemplateExpression")}return Ve},kn.parseExprAtom=function(Ve,Sn,qn){this.type===_e.slash&&this.readRegexp();var ir,br=this.potentialArrowAt===this.start;switch(this.type){case _e._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),ir=this.startNode(),this.next(),this.type===_e.parenL&&!this.allowDirectSuper&&this.raise(ir.start,"super() call outside constructor of a subclass"),this.type!==_e.dot&&this.type!==_e.bracketL&&this.type!==_e.parenL&&this.unexpected(),this.finishNode(ir,"Super");case _e._this:return ir=this.startNode(),this.next(),this.finishNode(ir,"ThisExpression");case _e.name:var Vr=this.start,Dr=this.startLoc,Zr=this.containsEsc,Yr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Zr&&Yr.name==="async"&&!this.canInsertSemicolon()&&this.eat(_e._function))return this.overrideContext(Qn.f_expr),this.parseFunction(this.startNodeAt(Vr,Dr),0,!1,!0,Sn);if(br&&!this.canInsertSemicolon()){if(this.eat(_e.arrow))return this.parseArrowExpression(this.startNodeAt(Vr,Dr),[Yr],!1,Sn);if(this.options.ecmaVersion>=8&&Yr.name==="async"&&this.type===_e.name&&!Zr&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Yr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(_e.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Vr,Dr),[Yr],!0,Sn)}return Yr;case _e.regexp:var ho=this.value;return ir=this.parseLiteral(ho.value),ir.regex={pattern:ho.pattern,flags:ho.flags},ir;case _e.num:case _e.string:return this.parseLiteral(this.value);case _e._null:case _e._true:case _e._false:return ir=this.startNode(),ir.value=this.type===_e._null?null:this.type===_e._true,ir.raw=this.type.keyword,this.next(),this.finishNode(ir,"Literal");case _e.parenL:var po=this.start,To=this.parseParenAndDistinguishExpression(br,Sn);return Ve&&(Ve.parenthesizedAssign<0&&!this.isSimpleAssignTarget(To)&&(Ve.parenthesizedAssign=po),Ve.parenthesizedBind<0&&(Ve.parenthesizedBind=po)),To;case _e.bracketL:return ir=this.startNode(),this.next(),ir.elements=this.parseExprList(_e.bracketR,!0,!0,Ve),this.finishNode(ir,"ArrayExpression");case _e.braceL:return this.overrideContext(Qn.b_expr),this.parseObj(!1,Ve);case _e._function:return ir=this.startNode(),this.next(),this.parseFunction(ir,0);case _e._class:return this.parseClass(this.startNode(),!1);case _e._new:return this.parseNew();case _e.backQuote:return this.parseTemplate();case _e._import:return this.options.ecmaVersion>=11?this.parseExprImport(qn):this.unexpected();default:return this.parseExprAtomDefault()}},kn.parseExprAtomDefault=function(){this.unexpected()},kn.parseExprImport=function(Ve){var Sn=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var qn=this.parseIdent(!0);if(this.type===_e.parenL&&!Ve)return this.parseDynamicImport(Sn);if(this.type===_e.dot)return Sn.meta=qn,this.parseImportMeta(Sn);this.unexpected()},kn.parseDynamicImport=function(Ve){if(this.next(),Ve.source=this.parseMaybeAssign(),!this.eat(_e.parenR)){var Sn=this.start;this.eat(_e.comma)&&this.eat(_e.parenR)?this.raiseRecoverable(Sn,"Trailing comma is not allowed in import()"):this.unexpected(Sn)}return this.finishNode(Ve,"ImportExpression")},kn.parseImportMeta=function(Ve){this.next();var Sn=this.containsEsc;return Ve.property=this.parseIdent(!0),Ve.property.name!=="meta"&&this.raiseRecoverable(Ve.property.start,"The only valid meta property for import is 'import.meta'"),Sn&&this.raiseRecoverable(Ve.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(Ve.start,"Cannot use 'import.meta' outside a module"),this.finishNode(Ve,"MetaProperty")},kn.parseLiteral=function(Ve){var Sn=this.startNode();return Sn.value=Ve,Sn.raw=this.input.slice(this.start,this.end),Sn.raw.charCodeAt(Sn.raw.length-1)===110&&(Sn.bigint=Sn.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Sn,"Literal")},kn.parseParenExpression=function(){this.expect(_e.parenL);var Ve=this.parseExpression();return this.expect(_e.parenR),Ve},kn.shouldParseArrow=function(Ve){return!this.canInsertSemicolon()},kn.parseParenAndDistinguishExpression=function(Ve,Sn){var qn=this.start,ir=this.startLoc,br,Vr=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Dr=this.start,Zr=this.startLoc,Yr=[],ho=!0,po=!1,To=new ze,zo=this.yieldPos,qo=this.awaitPos,jo;for(this.yieldPos=0,this.awaitPos=0;this.type!==_e.parenR;)if(ho?ho=!1:this.expect(_e.comma),Vr&&this.afterTrailingComma(_e.parenR,!0)){po=!0;break}else if(this.type===_e.ellipsis){jo=this.start,Yr.push(this.parseParenItem(this.parseRestBinding())),this.type===_e.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Yr.push(this.parseMaybeAssign(!1,To,this.parseParenItem));var ea=this.lastTokEnd,Qo=this.lastTokEndLoc;if(this.expect(_e.parenR),Ve&&this.shouldParseArrow(Yr)&&this.eat(_e.arrow))return this.checkPatternErrors(To,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=zo,this.awaitPos=qo,this.parseParenArrowList(qn,ir,Yr,Sn);(!Yr.length||po)&&this.unexpected(this.lastTokStart),jo&&this.unexpected(jo),this.checkExpressionErrors(To,!0),this.yieldPos=zo||this.yieldPos,this.awaitPos=qo||this.awaitPos,Yr.length>1?(br=this.startNodeAt(Dr,Zr),br.expressions=Yr,this.finishNodeAt(br,"SequenceExpression",ea,Qo)):br=Yr[0]}else br=this.parseParenExpression();if(this.options.preserveParens){var Ho=this.startNodeAt(qn,ir);return Ho.expression=br,this.finishNode(Ho,"ParenthesizedExpression")}else return br},kn.parseParenItem=function(Ve){return Ve},kn.parseParenArrowList=function(Ve,Sn,qn,ir){return this.parseArrowExpression(this.startNodeAt(Ve,Sn),qn,!1,ir)};var On=[];kn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var Ve=this.startNode(),Sn=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(_e.dot)){Ve.meta=Sn;var qn=this.containsEsc;return Ve.property=this.parseIdent(!0),Ve.property.name!=="target"&&this.raiseRecoverable(Ve.property.start,"The only valid meta property for new is 'new.target'"),qn&&this.raiseRecoverable(Ve.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(Ve.start,"'new.target' can only be used in functions and class static block"),this.finishNode(Ve,"MetaProperty")}var ir=this.start,br=this.startLoc;return Ve.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),ir,br,!0,!1),this.eat(_e.parenL)?Ve.arguments=this.parseExprList(_e.parenR,this.options.ecmaVersion>=8,!1):Ve.arguments=On,this.finishNode(Ve,"NewExpression")},kn.parseTemplateElement=function(Ve){var Sn=Ve.isTagged,qn=this.startNode();return this.type===_e.invalidTemplate?(Sn||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),qn.value={raw:this.value,cooked:null}):qn.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),qn.tail=this.type===_e.backQuote,this.finishNode(qn,"TemplateElement")},kn.parseTemplate=function(Ve){Ve===void 0&&(Ve={});var Sn=Ve.isTagged;Sn===void 0&&(Sn=!1);var qn=this.startNode();this.next(),qn.expressions=[];var ir=this.parseTemplateElement({isTagged:Sn});for(qn.quasis=[ir];!ir.tail;)this.type===_e.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_e.dollarBraceL),qn.expressions.push(this.parseExpression()),this.expect(_e.braceR),qn.quasis.push(ir=this.parseTemplateElement({isTagged:Sn}));return this.next(),this.finishNode(qn,"TemplateLiteral")},kn.isAsyncProp=function(Ve){return!Ve.computed&&Ve.key.type==="Identifier"&&Ve.key.name==="async"&&(this.type===_e.name||this.type===_e.num||this.type===_e.string||this.type===_e.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_e.star)&&!Fe.test(this.input.slice(this.lastTokEnd,this.start))},kn.parseObj=function(Ve,Sn){var qn=this.startNode(),ir=!0,br={};for(qn.properties=[],this.next();!this.eat(_e.braceR);){if(ir)ir=!1;else if(this.expect(_e.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_e.braceR))break;var Vr=this.parseProperty(Ve,Sn);Ve||this.checkPropClash(Vr,br,Sn),qn.properties.push(Vr)}return this.finishNode(qn,Ve?"ObjectPattern":"ObjectExpression")},kn.parseProperty=function(Ve,Sn){var qn=this.startNode(),ir,br,Vr,Dr;if(this.options.ecmaVersion>=9&&this.eat(_e.ellipsis))return Ve?(qn.argument=this.parseIdent(!1),this.type===_e.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(qn,"RestElement")):(qn.argument=this.parseMaybeAssign(!1,Sn),this.type===_e.comma&&Sn&&Sn.trailingComma<0&&(Sn.trailingComma=this.start),this.finishNode(qn,"SpreadElement"));this.options.ecmaVersion>=6&&(qn.method=!1,qn.shorthand=!1,(Ve||Sn)&&(Vr=this.start,Dr=this.startLoc),Ve||(ir=this.eat(_e.star)));var Zr=this.containsEsc;return this.parsePropertyName(qn),!Ve&&!Zr&&this.options.ecmaVersion>=8&&!ir&&this.isAsyncProp(qn)?(br=!0,ir=this.options.ecmaVersion>=9&&this.eat(_e.star),this.parsePropertyName(qn)):br=!1,this.parsePropertyValue(qn,Ve,ir,br,Vr,Dr,Sn,Zr),this.finishNode(qn,"Property")},kn.parseGetterSetter=function(Ve){Ve.kind=Ve.key.name,this.parsePropertyName(Ve),Ve.value=this.parseMethod(!1);var Sn=Ve.kind==="get"?0:1;if(Ve.value.params.length!==Sn){var qn=Ve.value.start;Ve.kind==="get"?this.raiseRecoverable(qn,"getter should have no params"):this.raiseRecoverable(qn,"setter should have exactly one param")}else Ve.kind==="set"&&Ve.value.params[0].type==="RestElement"&&this.raiseRecoverable(Ve.value.params[0].start,"Setter cannot use rest params")},kn.parsePropertyValue=function(Ve,Sn,qn,ir,br,Vr,Dr,Zr){(qn||ir)&&this.type===_e.colon&&this.unexpected(),this.eat(_e.colon)?(Ve.value=Sn?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Dr),Ve.kind="init"):this.options.ecmaVersion>=6&&this.type===_e.parenL?(Sn&&this.unexpected(),Ve.kind="init",Ve.method=!0,Ve.value=this.parseMethod(qn,ir)):!Sn&&!Zr&&this.options.ecmaVersion>=5&&!Ve.computed&&Ve.key.type==="Identifier"&&(Ve.key.name==="get"||Ve.key.name==="set")&&this.type!==_e.comma&&this.type!==_e.braceR&&this.type!==_e.eq?((qn||ir)&&this.unexpected(),this.parseGetterSetter(Ve)):this.options.ecmaVersion>=6&&!Ve.computed&&Ve.key.type==="Identifier"?((qn||ir)&&this.unexpected(),this.checkUnreserved(Ve.key),Ve.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=br),Ve.kind="init",Sn?Ve.value=this.parseMaybeDefault(br,Vr,this.copyNode(Ve.key)):this.type===_e.eq&&Dr?(Dr.shorthandAssign<0&&(Dr.shorthandAssign=this.start),Ve.value=this.parseMaybeDefault(br,Vr,this.copyNode(Ve.key))):Ve.value=this.copyNode(Ve.key),Ve.shorthand=!0):this.unexpected()},kn.parsePropertyName=function(Ve){if(this.options.ecmaVersion>=6){if(this.eat(_e.bracketL))return Ve.computed=!0,Ve.key=this.parseMaybeAssign(),this.expect(_e.bracketR),Ve.key;Ve.computed=!1}return Ve.key=this.type===_e.num||this.type===_e.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},kn.initFunction=function(Ve){Ve.id=null,this.options.ecmaVersion>=6&&(Ve.generator=Ve.expression=!1),this.options.ecmaVersion>=8&&(Ve.async=!1)},kn.parseMethod=function(Ve,Sn,qn){var ir=this.startNode(),br=this.yieldPos,Vr=this.awaitPos,Dr=this.awaitIdentPos;return this.initFunction(ir),this.options.ecmaVersion>=6&&(ir.generator=Ve),this.options.ecmaVersion>=8&&(ir.async=!!Sn),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(hn(Sn,ir.generator)|vn|(qn?Jn:0)),this.expect(_e.parenL),ir.params=this.parseBindingList(_e.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(ir,!1,!0,!1),this.yieldPos=br,this.awaitPos=Vr,this.awaitIdentPos=Dr,this.finishNode(ir,"FunctionExpression")},kn.parseArrowExpression=function(Ve,Sn,qn,ir){var br=this.yieldPos,Vr=this.awaitPos,Dr=this.awaitIdentPos;return this.enterScope(hn(qn,!1)|sr),this.initFunction(Ve),this.options.ecmaVersion>=8&&(Ve.async=!!qn),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,Ve.params=this.toAssignableList(Sn,!0),this.parseFunctionBody(Ve,!0,!1,ir),this.yieldPos=br,this.awaitPos=Vr,this.awaitIdentPos=Dr,this.finishNode(Ve,"ArrowFunctionExpression")},kn.parseFunctionBody=function(Ve,Sn,qn,ir){var br=Sn&&this.type!==_e.braceL,Vr=this.strict,Dr=!1;if(br)Ve.body=this.parseMaybeAssign(ir),Ve.expression=!0,this.checkParams(Ve,!1);else{var Zr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(Ve.params);(!Vr||Zr)&&(Dr=this.strictDirective(this.end),Dr&&Zr&&this.raiseRecoverable(Ve.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Yr=this.labels;this.labels=[],Dr&&(this.strict=!0),this.checkParams(Ve,!Vr&&!Dr&&!Sn&&!qn&&this.isSimpleParamList(Ve.params)),this.strict&&Ve.id&&this.checkLValSimple(Ve.id,mr),Ve.body=this.parseBlock(!1,void 0,Dr&&!Vr),Ve.expression=!1,this.adaptDirectivePrologue(Ve.body.body),this.labels=Yr}this.exitScope()},kn.isSimpleParamList=function(Ve){for(var Sn=0,qn=Ve;Sn<qn.length;Sn+=1){var ir=qn[Sn];if(ir.type!=="Identifier")return!1}return!0},kn.checkParams=function(Ve,Sn){for(var qn=Object.create(null),ir=0,br=Ve.params;ir<br.length;ir+=1){var Vr=br[ir];this.checkLValInnerPattern(Vr,Kn,Sn?null:qn)}},kn.parseExprList=function(Ve,Sn,qn,ir){for(var br=[],Vr=!0;!this.eat(Ve);){if(Vr)Vr=!1;else if(this.expect(_e.comma),Sn&&this.afterTrailingComma(Ve))break;var Dr=void 0;qn&&this.type===_e.comma?Dr=null:this.type===_e.ellipsis?(Dr=this.parseSpread(ir),ir&&this.type===_e.comma&&ir.trailingComma<0&&(ir.trailingComma=this.start)):Dr=this.parseMaybeAssign(!1,ir),br.push(Dr)}return br},kn.checkUnreserved=function(Ve){var Sn=Ve.start,qn=Ve.end,ir=Ve.name;if(this.inGenerator&&ir==="yield"&&this.raiseRecoverable(Sn,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&ir==="await"&&this.raiseRecoverable(Sn,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&ir==="arguments"&&this.raiseRecoverable(Sn,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(ir==="arguments"||ir==="await")&&this.raise(Sn,"Cannot use "+ir+" in class static initialization block"),this.keywords.test(ir)&&this.raise(Sn,"Unexpected keyword '"+ir+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Sn,qn).indexOf("\\")!==-1)){var br=this.strict?this.reservedWordsStrict:this.reservedWords;br.test(ir)&&(!this.inAsync&&ir==="await"&&this.raiseRecoverable(Sn,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Sn,"The keyword '"+ir+"' is reserved"))}},kn.parseIdent=function(Ve){var Sn=this.parseIdentNode();return this.next(!!Ve),this.finishNode(Sn,"Identifier"),Ve||(this.checkUnreserved(Sn),Sn.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Sn.start)),Sn},kn.parseIdentNode=function(){var Ve=this.startNode();return this.type===_e.name?Ve.name=this.value:this.type.keyword?(Ve.name=this.type.keyword,(Ve.name==="class"||Ve.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),Ve},kn.parsePrivateIdent=function(){var Ve=this.startNode();return this.type===_e.privateId?Ve.name=this.value:this.unexpected(),this.next(),this.finishNode(Ve,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(Ve.start,"Private field '#"+Ve.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(Ve)),Ve},kn.parseYield=function(Ve){this.yieldPos||(this.yieldPos=this.start);var Sn=this.startNode();return this.next(),this.type===_e.semi||this.canInsertSemicolon()||this.type!==_e.star&&!this.type.startsExpr?(Sn.delegate=!1,Sn.argument=null):(Sn.delegate=this.eat(_e.star),Sn.argument=this.parseMaybeAssign(Ve)),this.finishNode(Sn,"YieldExpression")},kn.parseAwait=function(Ve){this.awaitPos||(this.awaitPos=this.start);var Sn=this.startNode();return this.next(),Sn.argument=this.parseMaybeUnary(null,!0,!1,Ve),this.finishNode(Sn,"AwaitExpression")};var Rn=ur.prototype;Rn.raise=function(Ve,Sn){var qn=Zn(this.input,Ve);Sn+=" ("+qn.line+":"+qn.column+")";var ir=new SyntaxError(Sn);throw ir.pos=Ve,ir.loc=qn,ir.raisedAt=this.pos,ir},Rn.raiseRecoverable=Rn.raise,Rn.curPosition=function(){if(this.options.locations)return new Gn(this.curLine,this.pos-this.lineStart)};var Yn=ur.prototype,or=function(Sn){this.flags=Sn,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Yn.enterScope=function(Ve){this.scopeStack.push(new or(Ve))},Yn.exitScope=function(){this.scopeStack.pop()},Yn.treatFunctionsAsVarInScope=function(Ve){return Ve.flags&fr||!this.inModule&&Ve.flags&jn},Yn.declareName=function(Ve,Sn,qn){var ir=!1;if(Sn===ar){var br=this.currentScope();ir=br.lexical.indexOf(Ve)>-1||br.functions.indexOf(Ve)>-1||br.var.indexOf(Ve)>-1,br.lexical.push(Ve),this.inModule&&br.flags&jn&&delete this.undefinedExports[Ve]}else if(Sn===cr){var Vr=this.currentScope();Vr.lexical.push(Ve)}else if(Sn===lr){var Dr=this.currentScope();this.treatFunctionsAsVar?ir=Dr.lexical.indexOf(Ve)>-1:ir=Dr.lexical.indexOf(Ve)>-1||Dr.var.indexOf(Ve)>-1,Dr.functions.push(Ve)}else for(var Zr=this.scopeStack.length-1;Zr>=0;--Zr){var Yr=this.scopeStack[Zr];if(Yr.lexical.indexOf(Ve)>-1&&!(Yr.flags&zn&&Yr.lexical[0]===Ve)||!this.treatFunctionsAsVarInScope(Yr)&&Yr.functions.indexOf(Ve)>-1){ir=!0;break}if(Yr.var.push(Ve),this.inModule&&Yr.flags&jn&&delete this.undefinedExports[Ve],Yr.flags&Dt)break}ir&&this.raiseRecoverable(qn,"Identifier '"+Ve+"' has already been declared")},Yn.checkLocalExport=function(Ve){this.scopeStack[0].lexical.indexOf(Ve.name)===-1&&this.scopeStack[0].var.indexOf(Ve.name)===-1&&(this.undefinedExports[Ve.name]=Ve)},Yn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Yn.currentVarScope=function(){for(var Ve=this.scopeStack.length-1;;Ve--){var Sn=this.scopeStack[Ve];if(Sn.flags&Dt)return Sn}},Yn.currentThisScope=function(){for(var Ve=this.scopeStack.length-1;;Ve--){var Sn=this.scopeStack[Ve];if(Sn.flags&Dt&&!(Sn.flags&sr))return Sn}};var tr=function(Sn,qn,ir){this.type="",this.start=qn,this.end=0,Sn.options.locations&&(this.loc=new Nn(Sn,ir)),Sn.options.directSourceFile&&(this.sourceFile=Sn.options.directSourceFile),Sn.options.ranges&&(this.range=[qn,0])},hr=ur.prototype;hr.startNode=function(){return new tr(this,this.start,this.startLoc)},hr.startNodeAt=function(Ve,Sn){return new tr(this,Ve,Sn)};function pr(Ve,Sn,qn,ir){return Ve.type=Sn,Ve.end=qn,this.options.locations&&(Ve.loc.end=ir),this.options.ranges&&(Ve.range[1]=qn),Ve}hr.finishNode=function(Ve,Sn){return pr.call(this,Ve,Sn,this.lastTokEnd,this.lastTokEndLoc)},hr.finishNodeAt=function(Ve,Sn,qn,ir){return pr.call(this,Ve,Sn,qn,ir)},hr.copyNode=function(Ve){var Sn=new tr(this,Ve.start,this.startLoc);for(var qn in Ve)Sn[qn]=Ve[qn];return Sn};var _r="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Or=_r+" Extended_Pictographic",gr=Or,Sr=gr+" EBase EComp EMod EPres ExtPict",kr=Sr,Nr=kr,Pr={9:_r,10:Or,11:gr,12:Sr,13:kr,14:Nr},Br="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Ur={9:"",10:"",11:"",12:"",13:"",14:Br},jr="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Hr="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Kr=Hr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Mr=Kr+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Lr=Mr+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",qr=Lr+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",eo=qr+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Jr={9:Hr,10:Kr,11:Mr,12:Lr,13:qr,14:eo},oo={};function ro(Ve){var Sn=oo[Ve]={binary:Bn(Pr[Ve]+" "+jr),binaryOfStrings:Bn(Ur[Ve]),nonBinary:{General_Category:Bn(jr),Script:Bn(Jr[Ve])}};Sn.nonBinary.Script_Extensions=Sn.nonBinary.Script,Sn.nonBinary.gc=Sn.nonBinary.General_Category,Sn.nonBinary.sc=Sn.nonBinary.Script,Sn.nonBinary.scx=Sn.nonBinary.Script_Extensions}for(var ao=0,lo=[9,10,11,12,13,14];ao<lo.length;ao+=1){var io=lo[ao];ro(io)}var Xr=ur.prototype,yo=function(Sn){this.parser=Sn,this.validFlags="gim"+(Sn.options.ecmaVersion>=6?"uy":"")+(Sn.options.ecmaVersion>=9?"s":"")+(Sn.options.ecmaVersion>=13?"d":"")+(Sn.options.ecmaVersion>=15?"v":""),this.unicodeProperties=oo[Sn.options.ecmaVersion>=14?14:Sn.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};yo.prototype.reset=function(Sn,qn,ir){var br=ir.indexOf("v")!==-1,Vr=ir.indexOf("u")!==-1;this.start=Sn|0,this.source=qn+"",this.flags=ir,br&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Vr&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Vr&&this.parser.options.ecmaVersion>=9)},yo.prototype.raise=function(Sn){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Sn)},yo.prototype.at=function(Sn,qn){qn===void 0&&(qn=!1);var ir=this.source,br=ir.length;if(Sn>=br)return-1;var Vr=ir.charCodeAt(Sn);if(!(qn||this.switchU)||Vr<=55295||Vr>=57344||Sn+1>=br)return Vr;var Dr=ir.charCodeAt(Sn+1);return Dr>=56320&&Dr<=57343?(Vr<<10)+Dr-56613888:Vr},yo.prototype.nextIndex=function(Sn,qn){qn===void 0&&(qn=!1);var ir=this.source,br=ir.length;if(Sn>=br)return br;var Vr=ir.charCodeAt(Sn),Dr;return!(qn||this.switchU)||Vr<=55295||Vr>=57344||Sn+1>=br||(Dr=ir.charCodeAt(Sn+1))<56320||Dr>57343?Sn+1:Sn+2},yo.prototype.current=function(Sn){return Sn===void 0&&(Sn=!1),this.at(this.pos,Sn)},yo.prototype.lookahead=function(Sn){return Sn===void 0&&(Sn=!1),this.at(this.nextIndex(this.pos,Sn),Sn)},yo.prototype.advance=function(Sn){Sn===void 0&&(Sn=!1),this.pos=this.nextIndex(this.pos,Sn)},yo.prototype.eat=function(Sn,qn){return qn===void 0&&(qn=!1),this.current(qn)===Sn?(this.advance(qn),!0):!1},yo.prototype.eatChars=function(Sn,qn){qn===void 0&&(qn=!1);for(var ir=this.pos,br=0,Vr=Sn;br<Vr.length;br+=1){var Dr=Vr[br],Zr=this.at(ir,qn);if(Zr===-1||Zr!==Dr)return!1;ir=this.nextIndex(ir,qn)}return this.pos=ir,!0},Xr.validateRegExpFlags=function(Ve){for(var Sn=Ve.validFlags,qn=Ve.flags,ir=!1,br=!1,Vr=0;Vr<qn.length;Vr++){var Dr=qn.charAt(Vr);Sn.indexOf(Dr)===-1&&this.raise(Ve.start,"Invalid regular expression flag"),qn.indexOf(Dr,Vr+1)>-1&&this.raise(Ve.start,"Duplicate regular expression flag"),Dr==="u"&&(ir=!0),Dr==="v"&&(br=!0)}this.options.ecmaVersion>=15&&ir&&br&&this.raise(Ve.start,"Invalid regular expression flag")},Xr.validateRegExpPattern=function(Ve){this.regexp_pattern(Ve),!Ve.switchN&&this.options.ecmaVersion>=9&&Ve.groupNames.length>0&&(Ve.switchN=!0,this.regexp_pattern(Ve))},Xr.regexp_pattern=function(Ve){Ve.pos=0,Ve.lastIntValue=0,Ve.lastStringValue="",Ve.lastAssertionIsQuantifiable=!1,Ve.numCapturingParens=0,Ve.maxBackReference=0,Ve.groupNames.length=0,Ve.backReferenceNames.length=0,this.regexp_disjunction(Ve),Ve.pos!==Ve.source.length&&(Ve.eat(41)&&Ve.raise("Unmatched ')'"),(Ve.eat(93)||Ve.eat(125))&&Ve.raise("Lone quantifier brackets")),Ve.maxBackReference>Ve.numCapturingParens&&Ve.raise("Invalid escape");for(var Sn=0,qn=Ve.backReferenceNames;Sn<qn.length;Sn+=1){var ir=qn[Sn];Ve.groupNames.indexOf(ir)===-1&&Ve.raise("Invalid named capture referenced")}},Xr.regexp_disjunction=function(Ve){for(this.regexp_alternative(Ve);Ve.eat(124);)this.regexp_alternative(Ve);this.regexp_eatQuantifier(Ve,!0)&&Ve.raise("Nothing to repeat"),Ve.eat(123)&&Ve.raise("Lone quantifier brackets")},Xr.regexp_alternative=function(Ve){for(;Ve.pos<Ve.source.length&&this.regexp_eatTerm(Ve););},Xr.regexp_eatTerm=function(Ve){return this.regexp_eatAssertion(Ve)?(Ve.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(Ve)&&Ve.switchU&&Ve.raise("Invalid quantifier"),!0):(Ve.switchU?this.regexp_eatAtom(Ve):this.regexp_eatExtendedAtom(Ve))?(this.regexp_eatQuantifier(Ve),!0):!1},Xr.regexp_eatAssertion=function(Ve){var Sn=Ve.pos;if(Ve.lastAssertionIsQuantifiable=!1,Ve.eat(94)||Ve.eat(36))return!0;if(Ve.eat(92)){if(Ve.eat(66)||Ve.eat(98))return!0;Ve.pos=Sn}if(Ve.eat(40)&&Ve.eat(63)){var qn=!1;if(this.options.ecmaVersion>=9&&(qn=Ve.eat(60)),Ve.eat(61)||Ve.eat(33))return this.regexp_disjunction(Ve),Ve.eat(41)||Ve.raise("Unterminated group"),Ve.lastAssertionIsQuantifiable=!qn,!0}return Ve.pos=Sn,!1},Xr.regexp_eatQuantifier=function(Ve,Sn){return Sn===void 0&&(Sn=!1),this.regexp_eatQuantifierPrefix(Ve,Sn)?(Ve.eat(63),!0):!1},Xr.regexp_eatQuantifierPrefix=function(Ve,Sn){return Ve.eat(42)||Ve.eat(43)||Ve.eat(63)||this.regexp_eatBracedQuantifier(Ve,Sn)},Xr.regexp_eatBracedQuantifier=function(Ve,Sn){var qn=Ve.pos;if(Ve.eat(123)){var ir=0,br=-1;if(this.regexp_eatDecimalDigits(Ve)&&(ir=Ve.lastIntValue,Ve.eat(44)&&this.regexp_eatDecimalDigits(Ve)&&(br=Ve.lastIntValue),Ve.eat(125)))return br!==-1&&br<ir&&!Sn&&Ve.raise("numbers out of order in {} quantifier"),!0;Ve.switchU&&!Sn&&Ve.raise("Incomplete quantifier"),Ve.pos=qn}return!1},Xr.regexp_eatAtom=function(Ve){return this.regexp_eatPatternCharacters(Ve)||Ve.eat(46)||this.regexp_eatReverseSolidusAtomEscape(Ve)||this.regexp_eatCharacterClass(Ve)||this.regexp_eatUncapturingGroup(Ve)||this.regexp_eatCapturingGroup(Ve)},Xr.regexp_eatReverseSolidusAtomEscape=function(Ve){var Sn=Ve.pos;if(Ve.eat(92)){if(this.regexp_eatAtomEscape(Ve))return!0;Ve.pos=Sn}return!1},Xr.regexp_eatUncapturingGroup=function(Ve){var Sn=Ve.pos;if(Ve.eat(40)){if(Ve.eat(63)&&Ve.eat(58)){if(this.regexp_disjunction(Ve),Ve.eat(41))return!0;Ve.raise("Unterminated group")}Ve.pos=Sn}return!1},Xr.regexp_eatCapturingGroup=function(Ve){if(Ve.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(Ve):Ve.current()===63&&Ve.raise("Invalid group"),this.regexp_disjunction(Ve),Ve.eat(41))return Ve.numCapturingParens+=1,!0;Ve.raise("Unterminated group")}return!1},Xr.regexp_eatExtendedAtom=function(Ve){return Ve.eat(46)||this.regexp_eatReverseSolidusAtomEscape(Ve)||this.regexp_eatCharacterClass(Ve)||this.regexp_eatUncapturingGroup(Ve)||this.regexp_eatCapturingGroup(Ve)||this.regexp_eatInvalidBracedQuantifier(Ve)||this.regexp_eatExtendedPatternCharacter(Ve)},Xr.regexp_eatInvalidBracedQuantifier=function(Ve){return this.regexp_eatBracedQuantifier(Ve,!0)&&Ve.raise("Nothing to repeat"),!1},Xr.regexp_eatSyntaxCharacter=function(Ve){var Sn=Ve.current();return ko(Sn)?(Ve.lastIntValue=Sn,Ve.advance(),!0):!1};function ko(Ve){return Ve===36||Ve>=40&&Ve<=43||Ve===46||Ve===63||Ve>=91&&Ve<=94||Ve>=123&&Ve<=125}Xr.regexp_eatPatternCharacters=function(Ve){for(var Sn=Ve.pos,qn=0;(qn=Ve.current())!==-1&&!ko(qn);)Ve.advance();return Ve.pos!==Sn},Xr.regexp_eatExtendedPatternCharacter=function(Ve){var Sn=Ve.current();return Sn!==-1&&Sn!==36&&!(Sn>=40&&Sn<=43)&&Sn!==46&&Sn!==63&&Sn!==91&&Sn!==94&&Sn!==124?(Ve.advance(),!0):!1},Xr.regexp_groupSpecifier=function(Ve){if(Ve.eat(63)){if(this.regexp_eatGroupName(Ve)){Ve.groupNames.indexOf(Ve.lastStringValue)!==-1&&Ve.raise("Duplicate capture group name"),Ve.groupNames.push(Ve.lastStringValue);return}Ve.raise("Invalid group")}},Xr.regexp_eatGroupName=function(Ve){if(Ve.lastStringValue="",Ve.eat(60)){if(this.regexp_eatRegExpIdentifierName(Ve)&&Ve.eat(62))return!0;Ve.raise("Invalid capture group name")}return!1},Xr.regexp_eatRegExpIdentifierName=function(Ve){if(Ve.lastStringValue="",this.regexp_eatRegExpIdentifierStart(Ve)){for(Ve.lastStringValue+=$n(Ve.lastIntValue);this.regexp_eatRegExpIdentifierPart(Ve);)Ve.lastStringValue+=$n(Ve.lastIntValue);return!0}return!1},Xr.regexp_eatRegExpIdentifierStart=function(Ve){var Sn=Ve.pos,qn=this.options.ecmaVersion>=11,ir=Ve.current(qn);return Ve.advance(qn),ir===92&&this.regexp_eatRegExpUnicodeEscapeSequence(Ve,qn)&&(ir=Ve.lastIntValue),Oo(ir)?(Ve.lastIntValue=ir,!0):(Ve.pos=Sn,!1)};function Oo(Ve){return de(Ve,!0)||Ve===36||Ve===95}Xr.regexp_eatRegExpIdentifierPart=function(Ve){var Sn=Ve.pos,qn=this.options.ecmaVersion>=11,ir=Ve.current(qn);return Ve.advance(qn),ir===92&&this.regexp_eatRegExpUnicodeEscapeSequence(Ve,qn)&&(ir=Ve.lastIntValue),_o(ir)?(Ve.lastIntValue=ir,!0):(Ve.pos=Sn,!1)};function _o(Ve){return ue(Ve,!0)||Ve===36||Ve===95||Ve===8204||Ve===8205}Xr.regexp_eatAtomEscape=function(Ve){return this.regexp_eatBackReference(Ve)||this.regexp_eatCharacterClassEscape(Ve)||this.regexp_eatCharacterEscape(Ve)||Ve.switchN&&this.regexp_eatKGroupName(Ve)?!0:(Ve.switchU&&(Ve.current()===99&&Ve.raise("Invalid unicode escape"),Ve.raise("Invalid escape")),!1)},Xr.regexp_eatBackReference=function(Ve){var Sn=Ve.pos;if(this.regexp_eatDecimalEscape(Ve)){var qn=Ve.lastIntValue;if(Ve.switchU)return qn>Ve.maxBackReference&&(Ve.maxBackReference=qn),!0;if(qn<=Ve.numCapturingParens)return!0;Ve.pos=Sn}return!1},Xr.regexp_eatKGroupName=function(Ve){if(Ve.eat(107)){if(this.regexp_eatGroupName(Ve))return Ve.backReferenceNames.push(Ve.lastStringValue),!0;Ve.raise("Invalid named reference")}return!1},Xr.regexp_eatCharacterEscape=function(Ve){return this.regexp_eatControlEscape(Ve)||this.regexp_eatCControlLetter(Ve)||this.regexp_eatZero(Ve)||this.regexp_eatHexEscapeSequence(Ve)||this.regexp_eatRegExpUnicodeEscapeSequence(Ve,!1)||!Ve.switchU&&this.regexp_eatLegacyOctalEscapeSequence(Ve)||this.regexp_eatIdentityEscape(Ve)},Xr.regexp_eatCControlLetter=function(Ve){var Sn=Ve.pos;if(Ve.eat(99)){if(this.regexp_eatControlLetter(Ve))return!0;Ve.pos=Sn}return!1},Xr.regexp_eatZero=function(Ve){return Ve.current()===48&&!Gr(Ve.lookahead())?(Ve.lastIntValue=0,Ve.advance(),!0):!1},Xr.regexp_eatControlEscape=function(Ve){var Sn=Ve.current();return Sn===116?(Ve.lastIntValue=9,Ve.advance(),!0):Sn===110?(Ve.lastIntValue=10,Ve.advance(),!0):Sn===118?(Ve.lastIntValue=11,Ve.advance(),!0):Sn===102?(Ve.lastIntValue=12,Ve.advance(),!0):Sn===114?(Ve.lastIntValue=13,Ve.advance(),!0):!1},Xr.regexp_eatControlLetter=function(Ve){var Sn=Ve.current();return So(Sn)?(Ve.lastIntValue=Sn%32,Ve.advance(),!0):!1};function So(Ve){return Ve>=65&&Ve<=90||Ve>=97&&Ve<=122}Xr.regexp_eatRegExpUnicodeEscapeSequence=function(Ve,Sn){Sn===void 0&&(Sn=!1);var qn=Ve.pos,ir=Sn||Ve.switchU;if(Ve.eat(117)){if(this.regexp_eatFixedHexDigits(Ve,4)){var br=Ve.lastIntValue;if(ir&&br>=55296&&br<=56319){var Vr=Ve.pos;if(Ve.eat(92)&&Ve.eat(117)&&this.regexp_eatFixedHexDigits(Ve,4)){var Dr=Ve.lastIntValue;if(Dr>=56320&&Dr<=57343)return Ve.lastIntValue=(br-55296)*1024+(Dr-56320)+65536,!0}Ve.pos=Vr,Ve.lastIntValue=br}return!0}if(ir&&Ve.eat(123)&&this.regexp_eatHexDigits(Ve)&&Ve.eat(125)&&Io(Ve.lastIntValue))return!0;ir&&Ve.raise("Invalid unicode escape"),Ve.pos=qn}return!1};function Io(Ve){return Ve>=0&&Ve<=1114111}Xr.regexp_eatIdentityEscape=function(Ve){if(Ve.switchU)return this.regexp_eatSyntaxCharacter(Ve)?!0:Ve.eat(47)?(Ve.lastIntValue=47,!0):!1;var Sn=Ve.current();return Sn!==99&&(!Ve.switchN||Sn!==107)?(Ve.lastIntValue=Sn,Ve.advance(),!0):!1},Xr.regexp_eatDecimalEscape=function(Ve){Ve.lastIntValue=0;var Sn=Ve.current();if(Sn>=49&&Sn<=57){do Ve.lastIntValue=10*Ve.lastIntValue+(Sn-48),Ve.advance();while((Sn=Ve.current())>=48&&Sn<=57);return!0}return!1};var $o=0,dr=1,xr=2;Xr.regexp_eatCharacterClassEscape=function(Ve){var Sn=Ve.current();if(vr(Sn))return Ve.lastIntValue=-1,Ve.advance(),dr;var qn=!1;if(Ve.switchU&&this.options.ecmaVersion>=9&&((qn=Sn===80)||Sn===112)){Ve.lastIntValue=-1,Ve.advance();var ir;if(Ve.eat(123)&&(ir=this.regexp_eatUnicodePropertyValueExpression(Ve))&&Ve.eat(125))return qn&&ir===xr&&Ve.raise("Invalid property name"),ir;Ve.raise("Invalid property name")}return $o};function vr(Ve){return Ve===100||Ve===68||Ve===115||Ve===83||Ve===119||Ve===87}Xr.regexp_eatUnicodePropertyValueExpression=function(Ve){var Sn=Ve.pos;if(this.regexp_eatUnicodePropertyName(Ve)&&Ve.eat(61)){var qn=Ve.lastStringValue;if(this.regexp_eatUnicodePropertyValue(Ve)){var ir=Ve.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(Ve,qn,ir),dr}}if(Ve.pos=Sn,this.regexp_eatLoneUnicodePropertyNameOrValue(Ve)){var br=Ve.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(Ve,br)}return $o},Xr.regexp_validateUnicodePropertyNameAndValue=function(Ve,Sn,qn){Dn(Ve.unicodeProperties.nonBinary,Sn)||Ve.raise("Invalid property name"),Ve.unicodeProperties.nonBinary[Sn].test(qn)||Ve.raise("Invalid property value")},Xr.regexp_validateUnicodePropertyNameOrValue=function(Ve,Sn){if(Ve.unicodeProperties.binary.test(Sn))return dr;if(Ve.switchV&&Ve.unicodeProperties.binaryOfStrings.test(Sn))return xr;Ve.raise("Invalid property name")},Xr.regexp_eatUnicodePropertyName=function(Ve){var Sn=0;for(Ve.lastStringValue="";Tr(Sn=Ve.current());)Ve.lastStringValue+=$n(Sn),Ve.advance();return Ve.lastStringValue!==""};function Tr(Ve){return So(Ve)||Ve===95}Xr.regexp_eatUnicodePropertyValue=function(Ve){var Sn=0;for(Ve.lastStringValue="";Ir(Sn=Ve.current());)Ve.lastStringValue+=$n(Sn),Ve.advance();return Ve.lastStringValue!==""};function Ir(Ve){return Tr(Ve)||Gr(Ve)}Xr.regexp_eatLoneUnicodePropertyNameOrValue=function(Ve){return this.regexp_eatUnicodePropertyValue(Ve)},Xr.regexp_eatCharacterClass=function(Ve){if(Ve.eat(91)){var Sn=Ve.eat(94),qn=this.regexp_classContents(Ve);return Ve.eat(93)||Ve.raise("Unterminated character class"),Sn&&qn===xr&&Ve.raise("Negated character class may contain strings"),!0}return!1},Xr.regexp_classContents=function(Ve){return Ve.current()===93?dr:Ve.switchV?this.regexp_classSetExpression(Ve):(this.regexp_nonEmptyClassRanges(Ve),dr)},Xr.regexp_nonEmptyClassRanges=function(Ve){for(;this.regexp_eatClassAtom(Ve);){var Sn=Ve.lastIntValue;if(Ve.eat(45)&&this.regexp_eatClassAtom(Ve)){var qn=Ve.lastIntValue;Ve.switchU&&(Sn===-1||qn===-1)&&Ve.raise("Invalid character class"),Sn!==-1&&qn!==-1&&Sn>qn&&Ve.raise("Range out of order in character class")}}},Xr.regexp_eatClassAtom=function(Ve){var Sn=Ve.pos;if(Ve.eat(92)){if(this.regexp_eatClassEscape(Ve))return!0;if(Ve.switchU){var qn=Ve.current();(qn===99||no(qn))&&Ve.raise("Invalid class escape"),Ve.raise("Invalid escape")}Ve.pos=Sn}var ir=Ve.current();return ir!==93?(Ve.lastIntValue=ir,Ve.advance(),!0):!1},Xr.regexp_eatClassEscape=function(Ve){var Sn=Ve.pos;if(Ve.eat(98))return Ve.lastIntValue=8,!0;if(Ve.switchU&&Ve.eat(45))return Ve.lastIntValue=45,!0;if(!Ve.switchU&&Ve.eat(99)){if(this.regexp_eatClassControlLetter(Ve))return!0;Ve.pos=Sn}return this.regexp_eatCharacterClassEscape(Ve)||this.regexp_eatCharacterEscape(Ve)},Xr.regexp_classSetExpression=function(Ve){var Sn=dr,qn;if(!this.regexp_eatClassSetRange(Ve))if(qn=this.regexp_eatClassSetOperand(Ve)){qn===xr&&(Sn=xr);for(var ir=Ve.pos;Ve.eatChars([38,38]);){if(Ve.current()!==38&&(qn=this.regexp_eatClassSetOperand(Ve))){qn!==xr&&(Sn=dr);continue}Ve.raise("Invalid character in character class")}if(ir!==Ve.pos)return Sn;for(;Ve.eatChars([45,45]);)this.regexp_eatClassSetOperand(Ve)||Ve.raise("Invalid character in character class");if(ir!==Ve.pos)return Sn}else Ve.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(Ve)){if(qn=this.regexp_eatClassSetOperand(Ve),!qn)return Sn;qn===xr&&(Sn=xr)}},Xr.regexp_eatClassSetRange=function(Ve){var Sn=Ve.pos;if(this.regexp_eatClassSetCharacter(Ve)){var qn=Ve.lastIntValue;if(Ve.eat(45)&&this.regexp_eatClassSetCharacter(Ve)){var ir=Ve.lastIntValue;return qn!==-1&&ir!==-1&&qn>ir&&Ve.raise("Range out of order in character class"),!0}Ve.pos=Sn}return!1},Xr.regexp_eatClassSetOperand=function(Ve){return this.regexp_eatClassSetCharacter(Ve)?dr:this.regexp_eatClassStringDisjunction(Ve)||this.regexp_eatNestedClass(Ve)},Xr.regexp_eatNestedClass=function(Ve){var Sn=Ve.pos;if(Ve.eat(91)){var qn=Ve.eat(94),ir=this.regexp_classContents(Ve);if(Ve.eat(93))return qn&&ir===xr&&Ve.raise("Negated character class may contain strings"),ir;Ve.pos=Sn}if(Ve.eat(92)){var br=this.regexp_eatCharacterClassEscape(Ve);if(br)return br;Ve.pos=Sn}return null},Xr.regexp_eatClassStringDisjunction=function(Ve){var Sn=Ve.pos;if(Ve.eatChars([92,113])){if(Ve.eat(123)){var qn=this.regexp_classStringDisjunctionContents(Ve);if(Ve.eat(125))return qn}else Ve.raise("Invalid escape");Ve.pos=Sn}return null},Xr.regexp_classStringDisjunctionContents=function(Ve){for(var Sn=this.regexp_classString(Ve);Ve.eat(124);)this.regexp_classString(Ve)===xr&&(Sn=xr);return Sn},Xr.regexp_classString=function(Ve){for(var Sn=0;this.regexp_eatClassSetCharacter(Ve);)Sn++;return Sn===1?dr:xr},Xr.regexp_eatClassSetCharacter=function(Ve){var Sn=Ve.pos;if(Ve.eat(92))return this.regexp_eatCharacterEscape(Ve)||this.regexp_eatClassSetReservedPunctuator(Ve)?!0:Ve.eat(98)?(Ve.lastIntValue=8,!0):(Ve.pos=Sn,!1);var qn=Ve.current();return qn<0||qn===Ve.lookahead()&&Er(qn)||Rr(qn)?!1:(Ve.advance(),Ve.lastIntValue=qn,!0)};function Er(Ve){return Ve===33||Ve>=35&&Ve<=38||Ve>=42&&Ve<=44||Ve===46||Ve>=58&&Ve<=64||Ve===94||Ve===96||Ve===126}function Rr(Ve){return Ve===40||Ve===41||Ve===45||Ve===47||Ve>=91&&Ve<=93||Ve>=123&&Ve<=125}Xr.regexp_eatClassSetReservedPunctuator=function(Ve){var Sn=Ve.current();return zr(Sn)?(Ve.lastIntValue=Sn,Ve.advance(),!0):!1};function zr(Ve){return Ve===33||Ve===35||Ve===37||Ve===38||Ve===44||Ve===45||Ve>=58&&Ve<=62||Ve===64||Ve===96||Ve===126}Xr.regexp_eatClassControlLetter=function(Ve){var Sn=Ve.current();return Gr(Sn)||Sn===95?(Ve.lastIntValue=Sn%32,Ve.advance(),!0):!1},Xr.regexp_eatHexEscapeSequence=function(Ve){var Sn=Ve.pos;if(Ve.eat(120)){if(this.regexp_eatFixedHexDigits(Ve,2))return!0;Ve.switchU&&Ve.raise("Invalid escape"),Ve.pos=Sn}return!1},Xr.regexp_eatDecimalDigits=function(Ve){var Sn=Ve.pos,qn=0;for(Ve.lastIntValue=0;Gr(qn=Ve.current());)Ve.lastIntValue=10*Ve.lastIntValue+(qn-48),Ve.advance();return Ve.pos!==Sn};function Gr(Ve){return Ve>=48&&Ve<=57}Xr.regexp_eatHexDigits=function(Ve){var Sn=Ve.pos,qn=0;for(Ve.lastIntValue=0;Qr(qn=Ve.current());)Ve.lastIntValue=16*Ve.lastIntValue+Wr(qn),Ve.advance();return Ve.pos!==Sn};function Qr(Ve){return Ve>=48&&Ve<=57||Ve>=65&&Ve<=70||Ve>=97&&Ve<=102}function Wr(Ve){return Ve>=65&&Ve<=70?10+(Ve-65):Ve>=97&&Ve<=102?10+(Ve-97):Ve-48}Xr.regexp_eatLegacyOctalEscapeSequence=function(Ve){if(this.regexp_eatOctalDigit(Ve)){var Sn=Ve.lastIntValue;if(this.regexp_eatOctalDigit(Ve)){var qn=Ve.lastIntValue;Sn<=3&&this.regexp_eatOctalDigit(Ve)?Ve.lastIntValue=Sn*64+qn*8+Ve.lastIntValue:Ve.lastIntValue=Sn*8+qn}else Ve.lastIntValue=Sn;return!0}return!1},Xr.regexp_eatOctalDigit=function(Ve){var Sn=Ve.current();return no(Sn)?(Ve.lastIntValue=Sn-48,Ve.advance(),!0):(Ve.lastIntValue=0,!1)};function no(Ve){return Ve>=48&&Ve<=55}Xr.regexp_eatFixedHexDigits=function(Ve,Sn){var qn=Ve.pos;Ve.lastIntValue=0;for(var ir=0;ir<Sn;++ir){var br=Ve.current();if(!Qr(br))return Ve.pos=qn,!1;Ve.lastIntValue=16*Ve.lastIntValue+Wr(br),Ve.advance()}return!0};var uo=function(Sn){this.type=Sn.type,this.value=Sn.value,this.start=Sn.start,this.end=Sn.end,Sn.options.locations&&(this.loc=new Nn(Sn,Sn.startLoc,Sn.endLoc)),Sn.options.ranges&&(this.range=[Sn.start,Sn.end])},to=ur.prototype;to.next=function(Ve){!Ve&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new uo(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},to.getToken=function(){return this.next(),new uo(this)},typeof Symbol<"u"&&(to[Symbol.iterator]=function(){var Ve=this;return{next:function(){var Sn=Ve.getToken();return{done:Sn.type===_e.eof,value:Sn}}}}),to.nextToken=function(){var Ve=this.curContext();if((!Ve||!Ve.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(_e.eof);if(Ve.override)return Ve.override(this);this.readToken(this.fullCharCodeAtPos())},to.readToken=function(Ve){return de(Ve,this.options.ecmaVersion>=6)||Ve===92?this.readWord():this.getTokenFromCode(Ve)},to.fullCharCodeAtPos=function(){var Ve=this.input.charCodeAt(this.pos);if(Ve<=55295||Ve>=56320)return Ve;var Sn=this.input.charCodeAt(this.pos+1);return Sn<=56319||Sn>=57344?Ve:(Ve<<10)+Sn-56613888},to.skipBlockComment=function(){var Ve=this.options.onComment&&this.curPosition(),Sn=this.pos,qn=this.input.indexOf("*/",this.pos+=2);if(qn===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=qn+2,this.options.locations)for(var ir=void 0,br=Sn;(ir=Lt(this.input,br,this.pos))>-1;)++this.curLine,br=this.lineStart=ir;this.options.onComment&&this.options.onComment(!0,this.input.slice(Sn+2,qn),Sn,this.pos,Ve,this.curPosition())},to.skipLineComment=function(Ve){for(var Sn=this.pos,qn=this.options.onComment&&this.curPosition(),ir=this.input.charCodeAt(this.pos+=Ve);this.pos<this.input.length&&!kt(ir);)ir=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Sn+Ve,this.pos),Sn,this.pos,qn,this.curPosition())},to.skipSpace=function(){e:for(;this.pos<this.input.length;){var Ve=this.input.charCodeAt(this.pos);switch(Ve){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(Ve>8&&Ve<14||Ve>=5760&&wn.test(String.fromCharCode(Ve)))++this.pos;else break e}}},to.finishToken=function(Ve,Sn){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var qn=this.type;this.type=Ve,this.value=Sn,this.updateContext(qn)},to.readToken_dot=function(){var Ve=this.input.charCodeAt(this.pos+1);if(Ve>=48&&Ve<=57)return this.readNumber(!0);var Sn=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&Ve===46&&Sn===46?(this.pos+=3,this.finishToken(_e.ellipsis)):(++this.pos,this.finishToken(_e.dot))},to.readToken_slash=function(){var Ve=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):Ve===61?this.finishOp(_e.assign,2):this.finishOp(_e.slash,1)},to.readToken_mult_modulo_exp=function(Ve){var Sn=this.input.charCodeAt(this.pos+1),qn=1,ir=Ve===42?_e.star:_e.modulo;return this.options.ecmaVersion>=7&&Ve===42&&Sn===42&&(++qn,ir=_e.starstar,Sn=this.input.charCodeAt(this.pos+2)),Sn===61?this.finishOp(_e.assign,qn+1):this.finishOp(ir,qn)},to.readToken_pipe_amp=function(Ve){var Sn=this.input.charCodeAt(this.pos+1);if(Sn===Ve){if(this.options.ecmaVersion>=12){var qn=this.input.charCodeAt(this.pos+2);if(qn===61)return this.finishOp(_e.assign,3)}return this.finishOp(Ve===124?_e.logicalOR:_e.logicalAND,2)}return Sn===61?this.finishOp(_e.assign,2):this.finishOp(Ve===124?_e.bitwiseOR:_e.bitwiseAND,1)},to.readToken_caret=function(){var Ve=this.input.charCodeAt(this.pos+1);return Ve===61?this.finishOp(_e.assign,2):this.finishOp(_e.bitwiseXOR,1)},to.readToken_plus_min=function(Ve){var Sn=this.input.charCodeAt(this.pos+1);return Sn===Ve?Sn===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Fe.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(_e.incDec,2):Sn===61?this.finishOp(_e.assign,2):this.finishOp(_e.plusMin,1)},to.readToken_lt_gt=function(Ve){var Sn=this.input.charCodeAt(this.pos+1),qn=1;return Sn===Ve?(qn=Ve===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+qn)===61?this.finishOp(_e.assign,qn+1):this.finishOp(_e.bitShift,qn)):Sn===33&&Ve===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Sn===61&&(qn=2),this.finishOp(_e.relational,qn))},to.readToken_eq_excl=function(Ve){var Sn=this.input.charCodeAt(this.pos+1);return Sn===61?this.finishOp(_e.equality,this.input.charCodeAt(this.pos+2)===61?3:2):Ve===61&&Sn===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_e.arrow)):this.finishOp(Ve===61?_e.eq:_e.prefix,1)},to.readToken_question=function(){var Ve=this.options.ecmaVersion;if(Ve>=11){var Sn=this.input.charCodeAt(this.pos+1);if(Sn===46){var qn=this.input.charCodeAt(this.pos+2);if(qn<48||qn>57)return this.finishOp(_e.questionDot,2)}if(Sn===63){if(Ve>=12){var ir=this.input.charCodeAt(this.pos+2);if(ir===61)return this.finishOp(_e.assign,3)}return this.finishOp(_e.coalesce,2)}}return this.finishOp(_e.question,1)},to.readToken_numberSign=function(){var Ve=this.options.ecmaVersion,Sn=35;if(Ve>=13&&(++this.pos,Sn=this.fullCharCodeAtPos(),de(Sn,!0)||Sn===92))return this.finishToken(_e.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+$n(Sn)+"'")},to.getTokenFromCode=function(Ve){switch(Ve){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_e.parenL);case 41:return++this.pos,this.finishToken(_e.parenR);case 59:return++this.pos,this.finishToken(_e.semi);case 44:return++this.pos,this.finishToken(_e.comma);case 91:return++this.pos,this.finishToken(_e.bracketL);case 93:return++this.pos,this.finishToken(_e.bracketR);case 123:return++this.pos,this.finishToken(_e.braceL);case 125:return++this.pos,this.finishToken(_e.braceR);case 58:return++this.pos,this.finishToken(_e.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_e.backQuote);case 48:var Sn=this.input.charCodeAt(this.pos+1);if(Sn===120||Sn===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Sn===111||Sn===79)return this.readRadixNumber(8);if(Sn===98||Sn===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(Ve);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(Ve);case 124:case 38:return this.readToken_pipe_amp(Ve);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(Ve);case 60:case 62:return this.readToken_lt_gt(Ve);case 61:case 33:return this.readToken_eq_excl(Ve);case 63:return this.readToken_question();case 126:return this.finishOp(_e.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+$n(Ve)+"'")},to.finishOp=function(Ve,Sn){var qn=this.input.slice(this.pos,this.pos+Sn);return this.pos+=Sn,this.finishToken(Ve,qn)},to.readRegexp=function(){for(var Ve,Sn,qn=this.pos;;){this.pos>=this.input.length&&this.raise(qn,"Unterminated regular expression");var ir=this.input.charAt(this.pos);if(Fe.test(ir)&&this.raise(qn,"Unterminated regular expression"),Ve)Ve=!1;else{if(ir==="[")Sn=!0;else if(ir==="]"&&Sn)Sn=!1;else if(ir==="/"&&!Sn)break;Ve=ir==="\\"}++this.pos}var br=this.input.slice(qn,this.pos);++this.pos;var Vr=this.pos,Dr=this.readWord1();this.containsEsc&&this.unexpected(Vr);var Zr=this.regexpState||(this.regexpState=new yo(this));Zr.reset(qn,br,Dr),this.validateRegExpFlags(Zr),this.validateRegExpPattern(Zr);var Yr=null;try{Yr=new RegExp(br,Dr)}catch{}return this.finishToken(_e.regexp,{pattern:br,flags:Dr,value:Yr})},to.readInt=function(Ve,Sn,qn){for(var ir=this.options.ecmaVersion>=12&&Sn===void 0,br=qn&&this.input.charCodeAt(this.pos)===48,Vr=this.pos,Dr=0,Zr=0,Yr=0,ho=Sn??1/0;Yr<ho;++Yr,++this.pos){var po=this.input.charCodeAt(this.pos),To=void 0;if(ir&&po===95){br&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Zr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Yr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Zr=po;continue}if(po>=97?To=po-97+10:po>=65?To=po-65+10:po>=48&&po<=57?To=po-48:To=1/0,To>=Ve)break;Zr=po,Dr=Dr*Ve+To}return ir&&Zr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Vr||Sn!=null&&this.pos-Vr!==Sn?null:Dr};function vo(Ve,Sn){return Sn?parseInt(Ve,8):parseFloat(Ve.replace(/_/g,""))}function xo(Ve){return typeof BigInt!="function"?null:BigInt(Ve.replace(/_/g,""))}to.readRadixNumber=function(Ve){var Sn=this.pos;this.pos+=2;var qn=this.readInt(Ve);return qn==null&&this.raise(this.start+2,"Expected number in radix "+Ve),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(qn=xo(this.input.slice(Sn,this.pos)),++this.pos):de(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_e.num,qn)},to.readNumber=function(Ve){var Sn=this.pos;!Ve&&this.readInt(10,void 0,!0)===null&&this.raise(Sn,"Invalid number");var qn=this.pos-Sn>=2&&this.input.charCodeAt(Sn)===48;qn&&this.strict&&this.raise(Sn,"Invalid number");var ir=this.input.charCodeAt(this.pos);if(!qn&&!Ve&&this.options.ecmaVersion>=11&&ir===110){var br=xo(this.input.slice(Sn,this.pos));return++this.pos,de(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_e.num,br)}qn&&/[89]/.test(this.input.slice(Sn,this.pos))&&(qn=!1),ir===46&&!qn&&(++this.pos,this.readInt(10),ir=this.input.charCodeAt(this.pos)),(ir===69||ir===101)&&!qn&&(ir=this.input.charCodeAt(++this.pos),(ir===43||ir===45)&&++this.pos,this.readInt(10)===null&&this.raise(Sn,"Invalid number")),de(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Vr=vo(this.input.slice(Sn,this.pos),qn);return this.finishToken(_e.num,Vr)},to.readCodePoint=function(){var Ve=this.input.charCodeAt(this.pos),Sn;if(Ve===123){this.options.ecmaVersion<6&&this.unexpected();var qn=++this.pos;Sn=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Sn>1114111&&this.invalidStringToken(qn,"Code point out of bounds")}else Sn=this.readHexChar(4);return Sn},to.readString=function(Ve){for(var Sn="",qn=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ir=this.input.charCodeAt(this.pos);if(ir===Ve)break;ir===92?(Sn+=this.input.slice(qn,this.pos),Sn+=this.readEscapedChar(!1),qn=this.pos):ir===8232||ir===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(kt(ir)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Sn+=this.input.slice(qn,this.pos++),this.finishToken(_e.string,Sn)};var wo={};to.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(Ve){if(Ve===wo)this.readInvalidTemplateToken();else throw Ve}this.inTemplateElement=!1},to.invalidStringToken=function(Ve,Sn){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wo;this.raise(Ve,Sn)},to.readTmplToken=function(){for(var Ve="",Sn=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var qn=this.input.charCodeAt(this.pos);if(qn===96||qn===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===_e.template||this.type===_e.invalidTemplate)?qn===36?(this.pos+=2,this.finishToken(_e.dollarBraceL)):(++this.pos,this.finishToken(_e.backQuote)):(Ve+=this.input.slice(Sn,this.pos),this.finishToken(_e.template,Ve));if(qn===92)Ve+=this.input.slice(Sn,this.pos),Ve+=this.readEscapedChar(!0),Sn=this.pos;else if(kt(qn)){switch(Ve+=this.input.slice(Sn,this.pos),++this.pos,qn){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:Ve+=`
`;break;default:Ve+=String.fromCharCode(qn);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Sn=this.pos}else++this.pos}},to.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(_e.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},to.readEscapedChar=function(Ve){var Sn=this.input.charCodeAt(++this.pos);switch(++this.pos,Sn){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return $n(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),Ve){var qn=this.pos-1;this.invalidStringToken(qn,"Invalid escape sequence in template string")}default:if(Sn>=48&&Sn<=55){var ir=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],br=parseInt(ir,8);return br>255&&(ir=ir.slice(0,-1),br=parseInt(ir,8)),this.pos+=ir.length-1,Sn=this.input.charCodeAt(this.pos),(ir!=="0"||Sn===56||Sn===57)&&(this.strict||Ve)&&this.invalidStringToken(this.pos-1-ir.length,Ve?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(br)}return kt(Sn)?"":String.fromCharCode(Sn)}},to.readHexChar=function(Ve){var Sn=this.pos,qn=this.readInt(16,Ve);return qn===null&&this.invalidStringToken(Sn,"Bad character escape sequence"),qn},to.readWord1=function(){this.containsEsc=!1;for(var Ve="",Sn=!0,qn=this.pos,ir=this.options.ecmaVersion>=6;this.pos<this.input.length;){var br=this.fullCharCodeAtPos();if(ue(br,ir))this.pos+=br<=65535?1:2;else if(br===92){this.containsEsc=!0,Ve+=this.input.slice(qn,this.pos);var Vr=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Dr=this.readCodePoint();(Sn?de:ue)(Dr,ir)||this.invalidStringToken(Vr,"Invalid Unicode escape"),Ve+=$n(Dr),qn=this.pos}else break;Sn=!1}return Ve+this.input.slice(qn,this.pos)},to.readWord=function(){var Ve=this.readWord1(),Sn=_e.name;return this.keywords.test(Ve)&&(Sn=Ne[Ve]),this.finishToken(Sn,Ve)};var No="8.10.0";ur.acorn={Parser:ur,version:No,defaultOptions:Hn,Position:Gn,SourceLocation:Nn,getLineInfo:Zn,Node:tr,TokenType:pe,tokTypes:_e,keywordTypes:Ne,TokContext:er,tokContexts:Qn,isIdentifierChar:ue,isIdentifierStart:de,Token:uo,isNewLine:kt,lineBreak:Fe,lineBreakG:Ue,nonASCIIwhitespace:wn};function Mo(Ve,Sn){return ur.parse(Ve,Sn)}function Lo(Ve,Sn,qn){return ur.parseExpressionAt(Ve,Sn,qn)}function Ro(Ve,Sn){return ur.tokenizer(Ve,Sn)}r.Node=tr,r.Parser=ur,r.Position=Gn,r.SourceLocation=Nn,r.TokContext=er,r.Token=uo,r.TokenType=pe,r.defaultOptions=Hn,r.getLineInfo=Zn,r.isIdentifierChar=ue,r.isIdentifierStart=de,r.isNewLine=kt,r.keywordTypes=Ne,r.lineBreak=Fe,r.lineBreakG=Ue,r.nonASCIIwhitespace=wn,r.parse=Mo,r.parseExpressionAt=Lo,r.tokContexts=Qn,r.tokTypes=_e,r.tokenizer=Ro,r.version=No})}(acorn,acorn.exports)),acorn.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(e,r){e=e||require$$2;var g=e.window,y=e.document,k=new function(){var le=/^(statics|enumerable|beans|preserve)$/,Ce=[],Ie=Ce.slice,ze=Object.create,qe=Object.getOwnPropertyDescriptor,Pt=Object.defineProperty,_n=Ce.forEach||function(Mn,Fn){for(var er=0,Qn=this.length;er<Qn;er++)Mn.call(Fn,this[er],er,this)},At=function(Mn,Fn){for(var er in this)this.hasOwnProperty(er)&&Mn.call(Fn,this[er],er,this)},Cn=Object.assign||function(Mn){for(var Fn=1,er=arguments.length;Fn<er;Fn++){var Qn=arguments[Fn];for(var nr in Qn)Qn.hasOwnProperty(nr)&&(Mn[nr]=Qn[nr])}return Mn},bn=function(Mn,Fn,er){if(Mn){var Qn=qe(Mn,"length");(Qn&&typeof Qn.value=="number"?_n:At).call(Mn,Fn,er=er||Mn)}return er};function In(Mn,Fn,er,Qn,nr){var kn={};function Un(tr,hr){hr=hr||(hr=qe(Fn,tr))&&(hr.get?hr:hr.value),typeof hr=="string"&&hr[0]==="#"&&(hr=Mn[hr.substring(1)]||hr);var pr=typeof hr=="function",_r=hr,Or=nr||pr&&!hr.base?hr&&hr.get?tr in Mn:Mn[tr]:null,gr;(!nr||!Or)&&(pr&&Or&&(hr.base=Or),pr&&Qn!==!1&&(gr=tr.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(kn[gr[3].toLowerCase()+gr[4]]=gr[2]),(!_r||pr||!_r.get||typeof _r.get!="function"||!Ln.isPlainObject(_r))&&(_r={value:_r,writable:!0}),(qe(Mn,tr)||{configurable:!0}).configurable&&(_r.configurable=!0,_r.enumerable=er??!gr),Pt(Mn,tr,_r))}if(Fn){for(var On in Fn)Fn.hasOwnProperty(On)&&!le.test(On)&&Un(On);for(var On in kn){var Rn=kn[On],Yn=Mn["set"+Rn],or=Mn["get"+Rn]||Yn&&Mn["is"+Rn];or&&(Qn===!0||or.length===0)&&Un(On,{get:or,set:Yn})}}return Mn}function Ln(){for(var Mn=0,Fn=arguments.length;Mn<Fn;Mn++){var er=arguments[Mn];er&&Cn(this,er)}return this}return In(Ln,{inject:function(Mn){if(Mn){var Fn=Mn.statics===!0?Mn:Mn.statics,er=Mn.beans,Qn=Mn.preserve;Fn!==Mn&&In(this.prototype,Mn,Mn.enumerable,er,Qn),In(this,Fn,null,er,Qn)}for(var nr=1,kn=arguments.length;nr<kn;nr++)this.inject(arguments[nr]);return this},extend:function(){for(var Mn=this,Fn,er,Qn=0,nr,kn=arguments.length;Qn<kn&&!(Fn&&er);Qn++)nr=arguments[Qn],Fn=Fn||nr.initialize,er=er||nr.prototype;return Fn=Fn||function(){Mn.apply(this,arguments)},er=Fn.prototype=er||ze(this.prototype),Pt(er,"constructor",{value:Fn,writable:!0,configurable:!0}),In(Fn,this),arguments.length&&this.inject.apply(Fn,arguments),Fn.base=Mn,Fn}}).inject({enumerable:!1,initialize:Ln,set:Ln,inject:function(){for(var Mn=0,Fn=arguments.length;Mn<Fn;Mn++){var er=arguments[Mn];er&&In(this,er,er.enumerable,er.beans,er.preserve)}return this},extend:function(){var Mn=ze(this);return Mn.inject.apply(Mn,arguments)},each:function(Mn,Fn){return bn(this,Mn,Fn)},clone:function(){return new this.constructor(this)},statics:{set:Cn,each:bn,create:ze,define:Pt,describe:qe,clone:function(Mn){return Cn(new Mn.constructor,Mn)},isPlainObject:function(Mn){var Fn=Mn!=null&&Mn.constructor;return Fn&&(Fn===Object||Fn===Ln||Fn.name==="Object")},pick:function(Mn,Fn){return Mn!==r?Mn:Fn},slice:function(Mn,Fn,er){return Ie.call(Mn,Fn,er)}}})};n.exports=k,k.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+k.each(this,function(le,Ce){if(!/^_/.test(Ce)){var Ie=typeof le;this.push(Ce+": "+(Ie==="number"?j.instance.number(le):Ie==="string"?"'"+le+"'":le))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(le){return k.importJSON(le,this)},exportJSON:function(le){return k.exportJSON(this,le)},toJSON:function(){return k.serialize(this)},set:function(le,Ce){return le&&k.filter(this,le,Ce,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function le(){var Ce=le.base.apply(this,arguments),Ie=Ce.prototype._class;return Ie&&!k.exports[Ie]&&(k.exports[Ie]=Ce),Ce},equals:function(le,Ce){if(le===Ce)return!0;if(le&&le.equals)return le.equals(Ce);if(Ce&&Ce.equals)return Ce.equals(le);if(le&&Ce&&typeof le=="object"&&typeof Ce=="object"){if(Array.isArray(le)&&Array.isArray(Ce)){var Ie=le.length;if(Ie!==Ce.length)return!1;for(;Ie--;)if(!k.equals(le[Ie],Ce[Ie]))return!1}else{var ze=Object.keys(le),Ie=ze.length;if(Ie!==Object.keys(Ce).length)return!1;for(;Ie--;){var qe=ze[Ie];if(!(Ce.hasOwnProperty(qe)&&k.equals(le[qe],Ce[qe])))return!1}}return!0}return!1},read:function(le,Ce,Ie,ze){if(this===k){var qe=this.peek(le,Ce);return le.__index++,qe}var Pt=this.prototype,_n=Pt._readIndex,At=Ce||_n&&le.__index||0,Cn=le.length,bn=le[At];if(ze=ze||Cn-At,bn instanceof this||Ie&&Ie.readNull&&bn==null&&ze<=1)return _n&&(le.__index=At+1),bn&&Ie&&Ie.clone?bn.clone():bn;if(bn=k.create(Pt),_n&&(bn.__read=!0),bn=bn.initialize.apply(bn,At>0||At+ze<Cn?k.slice(le,At,At+ze):le)||bn,_n){le.__index=At+bn.__read;var In=bn.__filtered;In&&(le.__filtered=In,bn.__filtered=r),bn.__read=r}return bn},peek:function(le,Ce){return le[le.__index=Ce||le.__index||0]},remain:function(le){return le.length-(le.__index||0)},readList:function(le,Ce,Ie,ze){for(var qe=[],Pt,_n=Ce||0,At=ze?_n+ze:le.length,Cn=_n;Cn<At;Cn++)qe.push(Array.isArray(Pt=le[Cn])?this.read(Pt,0,Ie):this.read(le,Cn,Ie,1));return qe},readNamed:function(le,Ce,Ie,ze,qe){var Pt=this.getNamed(le,Ce),_n=Pt!==r;if(_n){var At=le.__filtered;if(!At){var Cn=this.getSource(le);At=le.__filtered=k.create(Cn),At.__unfiltered=Cn}At[Ce]=r}return this.read(_n?[Pt]:le,Ie,ze,qe)},readSupported:function(le,Ce){var Ie=this.getSource(le),ze=this,qe=!1;return Ie&&Object.keys(Ie).forEach(function(Pt){if(Pt in Ce){var _n=ze.readNamed(le,Pt);_n!==r&&(Ce[Pt]=_n),qe=!0}}),qe},getSource:function(le){var Ce=le.__source;if(Ce===r){var Ie=le.length===1&&le[0];Ce=le.__source=Ie&&k.isPlainObject(Ie)?Ie:null}return Ce},getNamed:function(le,Ce){var Ie=this.getSource(le);if(Ie)return Ce?Ie[Ce]:le.__filtered||Ie},hasNamed:function(le,Ce){return!!this.getNamed(le,Ce)},filter:function(le,Ce,Ie,ze){var qe;function Pt(In){if(!(Ie&&In in Ie)&&!(qe&&In in qe)){var Ln=Ce[In];Ln!==r&&(le[In]=Ln)}}if(ze){for(var _n={},At=0,Cn,bn=ze.length;At<bn;At++)(Cn=ze[At])in Ce&&(Pt(Cn),_n[Cn]=!0);qe=_n}return Object.keys(Ce.__unfiltered||Ce).forEach(Pt),le},isPlainValue:function(le,Ce){return k.isPlainObject(le)||Array.isArray(le)||Ce&&typeof le=="string"},serialize:function(le,Ce,Ie,ze){Ce=Ce||{};var qe=!ze,Pt;if(qe&&(Ce.formatter=new j(Ce.precision),ze={length:0,definitions:{},references:{},add:function(Ln,Mn){var Fn="#"+Ln._id,er=this.references[Fn];if(!er){this.length++;var Qn=Mn.call(Ln),nr=Ln._class;nr&&Qn[0]!==nr&&Qn.unshift(nr),this.definitions[Fn]=Qn,er=this.references[Fn]=[Fn]}return er}}),le&&le._serialize){Pt=le._serialize(Ce,ze);var _n=le._class;_n&&!le._compactSerialize&&(qe||!Ie)&&Pt[0]!==_n&&Pt.unshift(_n)}else if(Array.isArray(le)){Pt=[];for(var At=0,Cn=le.length;At<Cn;At++)Pt[At]=k.serialize(le[At],Ce,Ie,ze)}else if(k.isPlainObject(le)){Pt={};for(var bn=Object.keys(le),At=0,Cn=bn.length;At<Cn;At++){var In=bn[At];Pt[In]=k.serialize(le[In],Ce,Ie,ze)}}else typeof le=="number"?Pt=Ce.formatter.number(le,Ce.precision):Pt=le;return qe&&ze.length>0?[["dictionary",ze.definitions],Pt]:Pt},deserialize:function(le,Ce,Ie,ze,qe){var Pt=le,_n=!Ie,At=_n&&le&&le.length&&le[0][0]==="dictionary";if(Ie=Ie||{},Array.isArray(le)){var Cn=le[0],bn=Cn==="dictionary";if(le.length==1&&/^#/.test(Cn))return Ie.dictionary[Cn];Cn=k.exports[Cn],Pt=[];for(var In=Cn?1:0,Ln=le.length;In<Ln;In++)Pt.push(k.deserialize(le[In],Ce,Ie,bn,At));if(Cn){var Mn=Pt;Ce?Pt=Ce(Cn,Mn,_n||qe):Pt=new Cn(Mn)}}else if(k.isPlainObject(le)){Pt={},ze&&(Ie.dictionary=Pt);for(var Fn in le)Pt[Fn]=k.deserialize(le[Fn],Ce,Ie)}return At?Pt[1]:Pt},exportJSON:function(le,Ce){var Ie=k.serialize(le,Ce);return Ce&&Ce.asString==!1?Ie:JSON.stringify(Ie)},importJSON:function(le,Ce){return k.deserialize(typeof le=="string"?JSON.parse(le):le,function(Ie,ze,qe){var Pt=qe&&Ce&&Ce.constructor===Ie,_n=Pt?Ce:k.create(Ie.prototype);if(ze.length===1&&_n instanceof _e&&(Pt||!(_n instanceof Ue))){var At=ze[0];k.isPlainObject(At)&&(At.insert=!1,Pt&&(ze=ze.concat([_e.INSERT])))}return(Pt?_n.set:Ie).apply(_n,ze),Pt&&(Ce=null),_n})},push:function(le,Ce){var Ie=Ce.length;if(Ie<4096)le.push.apply(le,Ce);else{var ze=le.length;le.length+=Ie;for(var qe=0;qe<Ie;qe++)le[ze+qe]=Ce[qe]}return le},splice:function(le,Ce,Ie,ze){var qe=Ce&&Ce.length,Pt=Ie===r;Ie=Pt?le.length:Ie,Ie>le.length&&(Ie=le.length);for(var _n=0;_n<qe;_n++)Ce[_n]._index=Ie+_n;if(Pt)return k.push(le,Ce),[];var At=[Ie,ze];Ce&&k.push(At,Ce);for(var Cn=le.splice.apply(le,At),_n=0,bn=Cn.length;_n<bn;_n++)Cn[_n]._index=r;for(var _n=Ie+qe,bn=le.length;_n<bn;_n++)le[_n]._index=_n;return Cn},capitalize:function(le){return le.replace(/\b[a-z]/g,function(Ce){return Ce.toUpperCase()})},camelize:function(le){return le.replace(/-(.)/g,function(Ce,Ie){return Ie.toUpperCase()})},hyphenate:function(le){return le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var $={on:function(le,Ce){if(typeof le!="string")k.each(le,function(Pt,_n){this.on(_n,Pt)},this);else{var Ie=this._eventTypes,ze=Ie&&Ie[le],qe=this._callbacks=this._callbacks||{};qe=qe[le]=qe[le]||[],qe.indexOf(Ce)===-1&&(qe.push(Ce),ze&&ze.install&&qe.length===1&&ze.install.call(this,le))}return this},off:function(le,Ce){if(typeof le!="string"){k.each(le,function(_n,At){this.off(At,_n)},this);return}var Ie=this._eventTypes,ze=Ie&&Ie[le],qe=this._callbacks&&this._callbacks[le],Pt;return qe&&(!Ce||(Pt=qe.indexOf(Ce))!==-1&&qe.length===1?(ze&&ze.uninstall&&ze.uninstall.call(this,le),delete this._callbacks[le]):Pt!==-1&&qe.splice(Pt,1)),this},once:function(le,Ce){return this.on(le,function Ie(){Ce.apply(this,arguments),this.off(le,Ie)})},emit:function(le,Ce){var Ie=this._callbacks&&this._callbacks[le];if(!Ie)return!1;var ze=k.slice(arguments,1),qe=Ce&&Ce.target&&!Ce.currentTarget;Ie=Ie.slice(),qe&&(Ce.currentTarget=this);for(var Pt=0,_n=Ie.length;Pt<_n;Pt++)if(Ie[Pt].apply(this,ze)==!1){Ce&&Ce.stop&&Ce.stop();break}return qe&&delete Ce.currentTarget,!0},responds:function(le){return!!(this._callbacks&&this._callbacks[le])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(le){var Ce=this._eventTypes,Ie=this._callbacks,ze=le?"install":"uninstall";if(Ce){for(var qe in Ie)if(Ie[qe].length>0){var Pt=Ce[qe],_n=Pt&&Pt[ze];_n&&_n.call(this,qe)}}},statics:{inject:function le(Ce){var Ie=Ce._events;if(Ie){var ze={};k.each(Ie,function(qe,Pt){var _n=typeof qe=="string",At=_n?qe:Pt,Cn=k.capitalize(At),bn=At.substring(2).toLowerCase();ze[bn]=_n?{}:qe,At="_"+At,Ce["get"+Cn]=function(){return this[At]},Ce["set"+Cn]=function(In){var Ln=this[At];Ln&&this.off(bn,Ln),In&&this.on(bn,In),this[At]=In}}),Ce._eventTypes=ze}return le.base.apply(this,arguments)}}},V=k.extend({_class:"PaperScope",initialize:function le(){ur=this,this.settings=new k({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=le._id++,le._scopes[this._id]=this;var Ce=le.prototype;if(!this.support){var Ie=ar.getContext(1,1)||{};Ce.support={nativeDash:"setLineDash"in Ie||"mozDash"in Ie,nativeBlendModes:lr.nativeModes},ar.release(Ie)}if(!this.agent){var ze=e.navigator.userAgent.toLowerCase(),qe=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(ze)||[])[0],Pt=qe==="darwin"?"mac":qe,_n=Ce.agent=Ce.browser={platform:Pt};Pt&&(_n[Pt]=!0),ze.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(At,Cn,bn,In,Ln){if(!_n.chrome){var Mn=Cn==="opera"?In:/^(node|trident)$/.test(Cn)?Ln:bn;_n.version=Mn,_n.versionNumber=parseFloat(Mn),Cn={trident:"msie",jsdom:"node"}[Cn]||Cn,_n.name=Cn,_n[Cn]=!0}}),_n.chrome&&delete _n.webkit,_n.atom&&delete _n.chrome}},version:"0.12.18",getView:function(){var le=this.project;return le&&le._view},getPaper:function(){return this},execute:function(le,Ce){var Ie=ur.PaperScript.execute(le,this,Ce);return Cr.updateFocus(),Ie},install:function(le){var Ce=this;k.each(["project","view","tool"],function(ze){k.define(le,ze,{configurable:!0,get:function(){return Ce[ze]}})});for(var Ie in this)!/^_/.test(Ie)&&this[Ie]&&(le[Ie]=this[Ie])},setup:function(le){return ur=this,this.project=new Oe(le),this},createCanvas:function(le,Ce){return ar.getCanvas(le,Ce)},activate:function(){ur=this},clear:function(){for(var le=this.projects,Ce=this.tools,Ie=le.length-1;Ie>=0;Ie--)le[Ie].remove();for(var Ie=Ce.length-1;Ie>=0;Ie--)Ce[Ie].remove()},remove:function(){this.clear(),delete V._scopes[this._id]},statics:new function(){function le(Ce){return Ce+="Attribute",function(Ie,ze){return Ie[Ce](ze)||Ie[Ce]("data-paper-"+ze)}}return{_scopes:{},_id:0,get:function(Ce){return this._scopes[Ce]||null},getAttribute:le("get"),hasAttribute:le("has")}}}),L=k.extend($,{initialize:function(le){this._scope=ur,this._index=this._scope[this._list].push(this)-1,(le||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var le=this._scope[this._reference];return le&&le!==this&&le.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",le),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(k.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),z={findItemBoundsCollisions:function(le,Ce,Ie){function ze(_n){for(var At=new Array(_n.length),Cn=0;Cn<_n.length;Cn++){var bn=_n[Cn].getBounds();At[Cn]=[bn.left,bn.top,bn.right,bn.bottom]}return At}var qe=ze(le),Pt=!Ce||Ce===le?qe:ze(Ce);return this.findBoundsCollisions(qe,Pt,Ie||0)},findCurveBoundsCollisions:function(le,Ce,Ie,ze){function qe(Mn){for(var Fn=Math.min,er=Math.max,Qn=new Array(Mn.length),nr=0;nr<Mn.length;nr++){var kn=Mn[nr];Qn[nr]=[Fn(kn[0],kn[2],kn[4],kn[6]),Fn(kn[1],kn[3],kn[5],kn[7]),er(kn[0],kn[2],kn[4],kn[6]),er(kn[1],kn[3],kn[5],kn[7])]}return Qn}var Pt=qe(le),_n=!Ce||Ce===le?Pt:qe(Ce);if(ze){for(var At=this.findBoundsCollisions(Pt,_n,Ie||0,!1,!0),Cn=this.findBoundsCollisions(Pt,_n,Ie||0,!0,!0),bn=[],In=0,Ln=At.length;In<Ln;In++)bn[In]={hor:At[In],ver:Cn[In]};return bn}return this.findBoundsCollisions(Pt,_n,Ie||0)},findBoundsCollisions:function(le,Ce,Ie,ze,qe){var Pt=!Ce||le===Ce,_n=Pt?le:le.concat(Ce),At=le.length,Cn=_n.length;function bn(jr,Hr,Kr){for(var Mr=0,Lr=jr.length;Mr<Lr;){var qr=Lr+Mr>>>1;_n[jr[qr]][Hr]<Kr?Mr=qr+1:Lr=qr}return Mr-1}for(var In=ze?1:0,Ln=In+2,Mn=ze?0:1,Fn=Mn+2,er=new Array(Cn),Qn=0;Qn<Cn;Qn++)er[Qn]=Qn;er.sort(function(jr,Hr){return _n[jr][In]-_n[Hr][In]});for(var nr=[],kn=new Array(At),Qn=0;Qn<Cn;Qn++){var Un=er[Qn],On=_n[Un],Rn=Pt?Un:Un-At,Yn=Un<At,or=Pt||!Yn,tr=Yn?[]:null;if(nr.length){var hr=bn(nr,Ln,On[In]-Ie)+1;if(nr.splice(0,hr),Pt&&qe){tr=tr.concat(nr);for(var pr=0;pr<nr.length;pr++){var _r=nr[pr];kn[_r].push(Rn)}}else for(var Or=On[Fn],gr=On[Mn],pr=0;pr<nr.length;pr++){var _r=nr[pr],Sr=_n[_r],kr=_r<At,Nr=Pt||_r>=At;(qe||(Yn&&Nr||or&&kr)&&Or>=Sr[Mn]-Ie&&gr<=Sr[Fn]+Ie)&&(Yn&&Nr&&tr.push(Pt?_r:_r-At),or&&kr&&kn[_r].push(Rn))}}if(Yn&&(le===Ce&&tr.push(Un),kn[Un]=tr),nr.length){var Pr=On[Ln],Br=bn(nr,Ln,Pr);nr.splice(Br+1,0,Un)}else nr.push(Un)}for(var Qn=0;Qn<kn.length;Qn++){var Ur=kn[Qn];Ur&&Ur.sort(function(Hr,Kr){return Hr-Kr})}return kn}},j=k.extend({initialize:function(le){this.precision=k.pick(le,5),this.multiplier=Math.pow(10,this.precision)},number:function(le){return this.precision<16?Math.round(le*this.multiplier)/this.multiplier:le},pair:function(le,Ce,Ie){return this.number(le)+(Ie||",")+this.number(Ce)},point:function(le,Ce){return this.number(le.x)+(Ce||",")+this.number(le.y)},size:function(le,Ce){return this.number(le.width)+(Ce||",")+this.number(le.height)},rectangle:function(le,Ce){return this.point(le,Ce)+(Ce||",")+this.size(le,Ce)}});j.instance=new j;var re=new function(){var le=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],Ce=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],Ie=Math.abs,ze=Math.sqrt,qe=Math.pow,Pt=Math.log2||function(Ln){return Math.log(Ln)*Math.LOG2E},_n=1e-12,At=112e-18;function Cn(Ln,Mn,Fn){return Ln<Mn?Mn:Ln>Fn?Fn:Ln}function bn(Ln,Mn,Fn){function er(hr){var pr=hr*134217729,_r=hr-pr,Or=_r+pr,gr=hr-Or;return[Or,gr]}var Qn=Mn*Mn-Ln*Fn,nr=Mn*Mn+Ln*Fn;if(Ie(Qn)*3<nr){var kn=er(Ln),Un=er(Mn),On=er(Fn),Rn=Mn*Mn,Yn=Un[0]*Un[0]-Rn+2*Un[0]*Un[1]+Un[1]*Un[1],or=Ln*Fn,tr=kn[0]*On[0]-or+kn[0]*On[1]+kn[1]*On[0]+kn[1]*On[1];Qn=Rn-or+(Yn-tr)}return Qn}function In(){var Ln=Math.max.apply(Math,arguments);return Ln&&(Ln<1e-8||Ln>1e8)?qe(2,-Math.round(Pt(Ln))):0}return{EPSILON:_n,MACHINE_EPSILON:At,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(ze(2)-1)/3,isZero:function(Ln){return Ln>=-_n&&Ln<=_n},isMachineZero:function(Ln){return Ln>=-At&&Ln<=At},clamp:Cn,integrate:function(Ln,Mn,Fn,er){for(var Qn=le[er-2],nr=Ce[er-2],kn=(Fn-Mn)*.5,Un=kn+Mn,On=0,Rn=er+1>>1,Yn=er&1?nr[On++]*Ln(Un):0;On<Rn;){var or=kn*Qn[On];Yn+=nr[On++]*(Ln(Un+or)+Ln(Un-or))}return kn*Yn},findRoot:function(Ln,Mn,Fn,er,Qn,nr,kn){for(var Un=0;Un<nr;Un++){var On=Ln(Fn),Rn=On/Mn(Fn),Yn=Fn-Rn;if(Ie(Rn)<kn){Fn=Yn;break}On>0?(Qn=Fn,Fn=Yn<=er?(er+Qn)*.5:Yn):(er=Fn,Fn=Yn>=Qn?(er+Qn)*.5:Yn)}return Cn(Fn,er,Qn)},solveQuadratic:function(Ln,Mn,Fn,er,Qn,nr){var kn,Un=1/0;if(Ie(Ln)<_n){if(Ie(Mn)<_n)return Ie(Fn)<_n?-1:0;kn=-Fn/Mn}else{Mn*=-.5;var On=bn(Ln,Mn,Fn);if(On&&Ie(On)<At){var Rn=In(Ie(Ln),Ie(Mn),Ie(Fn));Rn&&(Ln*=Rn,Mn*=Rn,Fn*=Rn,On=bn(Ln,Mn,Fn))}if(On>=-At){var Yn=On<0?0:ze(On),or=Mn+(Mn<0?-Yn:Yn);or===0?(kn=Fn/Ln,Un=-kn):(kn=or/Ln,Un=Fn/or)}}var tr=0,hr=Qn==null,pr=Qn-_n,_r=nr+_n;return isFinite(kn)&&(hr||kn>pr&&kn<_r)&&(er[tr++]=hr?kn:Cn(kn,Qn,nr)),Un!==kn&&isFinite(Un)&&(hr||Un>pr&&Un<_r)&&(er[tr++]=hr?Un:Cn(Un,Qn,nr)),tr},solveCubic:function(Ln,Mn,Fn,er,Qn,nr,kn){var Un=In(Ie(Ln),Ie(Mn),Ie(Fn),Ie(er)),On,Rn,Yn,or,tr;Un&&(Ln*=Un,Mn*=Un,Fn*=Un,er*=Un);function hr(Br){On=Br;var Ur=Ln*On;Rn=Ur+Mn,Yn=Rn*On+Fn,or=(Ur+Rn)*On+Yn,tr=Yn*On+er}if(Ie(Ln)<_n)Ln=Mn,Rn=Fn,Yn=er,On=1/0;else if(Ie(er)<_n)Rn=Mn,Yn=Fn,On=0;else{hr(-(Mn/Ln)/3);var pr=tr/Ln,_r=qe(Ie(pr),1/3),Or=pr<0?-1:1,gr=-or/Ln,Sr=gr>0?1.324717957244746*Math.max(_r,ze(gr)):_r,kr=On-Or*Sr;if(kr!==On){do hr(kr),kr=or===0?On:On-tr/or/(1+At);while(Or*kr>Or*On);Ie(Ln)*On*On>Ie(er/On)&&(Yn=-er/On,Rn=(Yn-Fn)/On)}}var Nr=re.solveQuadratic(Ln,Rn,Yn,Qn,nr,kn),Pr=nr==null;return isFinite(On)&&(Nr===0||Nr>0&&On!==Qn[0]&&On!==Qn[1])&&(Pr||On>nr-_n&&On<kn+_n)&&(Qn[Nr++]=Pr?On:Cn(On,nr,kn)),Nr}}},oe={_id:1,_pools:{},get:function(le){if(le){var Ce=this._pools[le];return Ce||(Ce=this._pools[le]={_id:1}),Ce._id++}else return this._id++}},ae=k.extend({_class:"Point",_readIndex:!0,initialize:function(Ce,Ie){var ze=typeof Ce,qe=this.__read,Pt=0;if(ze==="number"){var _n=typeof Ie=="number";this._set(Ce,_n?Ie:Ce),qe&&(Pt=_n?2:1)}else if(ze==="undefined"||Ce===null)this._set(0,0),qe&&(Pt=Ce===null?1:0);else{var At=ze==="string"?Ce.split(/[\s,]+/)||[]:Ce;Pt=1,Array.isArray(At)?this._set(+At[0],+(At.length>1?At[1]:At[0])):"x"in At?this._set(At.x||0,At.y||0):"width"in At?this._set(At.width||0,At.height||0):"angle"in At?(this._set(At.length||0,0),this.setAngle(At.angle||0)):(this._set(0,0),Pt=0)}return qe&&(this.__read=Pt),this},set:"#initialize",_set:function(le,Ce){return this.x=le,this.y=Ce,this},equals:function(le){return this===le||le&&(this.x===le.x&&this.y===le.y||Array.isArray(le)&&this.x===le[0]&&this.y===le[1])||!1},clone:function(){return new ae(this.x,this.y)},toString:function(){var le=j.instance;return"{ x: "+le.number(this.x)+", y: "+le.number(this.y)+" }"},_serialize:function(le){var Ce=le.formatter;return[Ce.number(this.x),Ce.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(le){if(this.isZero()){var Ce=this._angle||0;this._set(Math.cos(Ce)*le,Math.sin(Ce)*le)}else{var Ie=le/this.getLength();re.isZero(Ie)&&this.getAngle(),this._set(this.x*Ie,this.y*Ie)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(le){this.setAngleInRadians.call(this,le*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var le=ae.read(arguments),Ce=this.getLength()*le.getLength();if(re.isZero(Ce))return NaN;var Ie=this.dot(le)/Ce;return Math.acos(Ie<-1?-1:Ie>1?1:Ie)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(le){if(this._angle=le,!this.isZero()){var Ce=this.getLength();this._set(Math.cos(le)*Ce,Math.sin(le)*Ce)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var le=ae.read(arguments);return Math.atan2(this.cross(le),this.dot(le))*180/Math.PI},getDistance:function(){var le=arguments,Ce=ae.read(le),Ie=Ce.x-this.x,ze=Ce.y-this.y,qe=Ie*Ie+ze*ze,Pt=k.read(le);return Pt?qe:Math.sqrt(qe)},normalize:function(le){le===r&&(le=1);var Ce=this.getLength(),Ie=Ce!==0?le/Ce:0,ze=new ae(this.x*Ie,this.y*Ie);return Ie>=0&&(ze._angle=this._angle),ze},rotate:function(le,Ce){if(le===0)return this.clone();le=le*Math.PI/180;var Ie=Ce?this.subtract(Ce):this,ze=Math.sin(le),qe=Math.cos(le);return Ie=new ae(Ie.x*qe-Ie.y*ze,Ie.x*ze+Ie.y*qe),Ce?Ie.add(Ce):Ie},transform:function(le){return le?le._transformPoint(this):this},add:function(){var le=ae.read(arguments);return new ae(this.x+le.x,this.y+le.y)},subtract:function(){var le=ae.read(arguments);return new ae(this.x-le.x,this.y-le.y)},multiply:function(){var le=ae.read(arguments);return new ae(this.x*le.x,this.y*le.y)},divide:function(){var le=ae.read(arguments);return new ae(this.x/le.x,this.y/le.y)},modulo:function(){var le=ae.read(arguments);return new ae(this.x%le.x,this.y%le.y)},negate:function(){return new ae(-this.x,-this.y)},isInside:function(){return he.read(arguments).contains(this)},isClose:function(){var le=arguments,Ce=ae.read(le),Ie=k.read(le);return this.getDistance(Ce)<=Ie},isCollinear:function(){var le=ae.read(arguments);return ae.isCollinear(this.x,this.y,le.x,le.y)},isColinear:"#isCollinear",isOrthogonal:function(){var le=ae.read(arguments);return ae.isOrthogonal(this.x,this.y,le.x,le.y)},isZero:function(){var le=re.isZero;return le(this.x)&&le(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(le){return this.x*(le>1&&le<4?-1:1)>=0&&this.y*(le>2?-1:1)>=0},dot:function(){var le=ae.read(arguments);return this.x*le.x+this.y*le.y},cross:function(){var le=ae.read(arguments);return this.x*le.y-this.y*le.x},project:function(){var le=ae.read(arguments),Ce=le.isZero()?0:this.dot(le)/le.dot(le);return new ae(le.x*Ce,le.y*Ce)},statics:{min:function(){var le=arguments,Ce=ae.read(le),Ie=ae.read(le);return new ae(Math.min(Ce.x,Ie.x),Math.min(Ce.y,Ie.y))},max:function(){var le=arguments,Ce=ae.read(le),Ie=ae.read(le);return new ae(Math.max(Ce.x,Ie.x),Math.max(Ce.y,Ie.y))},random:function(){return new ae(Math.random(),Math.random())},isCollinear:function(le,Ce,Ie,ze){return Math.abs(le*ze-Ce*Ie)<=Math.sqrt((le*le+Ce*Ce)*(Ie*Ie+ze*ze))*1e-8},isOrthogonal:function(le,Ce,Ie,ze){return Math.abs(le*Ie+Ce*ze)<=Math.sqrt((le*le+Ce*Ce)*(Ie*Ie+ze*ze))*1e-8}}},k.each(["round","ceil","floor","abs"],function(le){var Ce=Math[le];this[le]=function(){return new ae(Ce(this.x),Ce(this.y))}},{})),de=ae.extend({initialize:function(Ce,Ie,ze,qe){this._x=Ce,this._y=Ie,this._owner=ze,this._setter=qe},_set:function(le,Ce,Ie){return this._x=le,this._y=Ce,Ie||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(le){this._x=le,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(le){this._y=le,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(le){this._owner._changeSelection(this._getSelection(),le)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ue=k.extend({_class:"Size",_readIndex:!0,initialize:function(Ce,Ie){var ze=typeof Ce,qe=this.__read,Pt=0;if(ze==="number"){var _n=typeof Ie=="number";this._set(Ce,_n?Ie:Ce),qe&&(Pt=_n?2:1)}else if(ze==="undefined"||Ce===null)this._set(0,0),qe&&(Pt=Ce===null?1:0);else{var At=ze==="string"?Ce.split(/[\s,]+/)||[]:Ce;Pt=1,Array.isArray(At)?this._set(+At[0],+(At.length>1?At[1]:At[0])):"width"in At?this._set(At.width||0,At.height||0):"x"in At?this._set(At.x||0,At.y||0):(this._set(0,0),Pt=0)}return qe&&(this.__read=Pt),this},set:"#initialize",_set:function(le,Ce){return this.width=le,this.height=Ce,this},equals:function(le){return le===this||le&&(this.width===le.width&&this.height===le.height||Array.isArray(le)&&this.width===le[0]&&this.height===le[1])||!1},clone:function(){return new ue(this.width,this.height)},toString:function(){var le=j.instance;return"{ width: "+le.number(this.width)+", height: "+le.number(this.height)+" }"},_serialize:function(le){var Ce=le.formatter;return[Ce.number(this.width),Ce.number(this.height)]},add:function(){var le=ue.read(arguments);return new ue(this.width+le.width,this.height+le.height)},subtract:function(){var le=ue.read(arguments);return new ue(this.width-le.width,this.height-le.height)},multiply:function(){var le=ue.read(arguments);return new ue(this.width*le.width,this.height*le.height)},divide:function(){var le=ue.read(arguments);return new ue(this.width/le.width,this.height/le.height)},modulo:function(){var le=ue.read(arguments);return new ue(this.width%le.width,this.height%le.height)},negate:function(){return new ue(-this.width,-this.height)},isZero:function(){var le=re.isZero;return le(this.width)&&le(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(le,Ce){return new ue(Math.min(le.width,Ce.width),Math.min(le.height,Ce.height))},max:function(le,Ce){return new ue(Math.max(le.width,Ce.width),Math.max(le.height,Ce.height))},random:function(){return new ue(Math.random(),Math.random())}}},k.each(["round","ceil","floor","abs"],function(le){var Ce=Math[le];this[le]=function(){return new ue(Ce(this.width),Ce(this.height))}},{})),pe=ue.extend({initialize:function(Ce,Ie,ze,qe){this._width=Ce,this._height=Ie,this._owner=ze,this._setter=qe},_set:function(le,Ce,Ie){return this._width=le,this._height=Ce,Ie||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(le){this._width=le,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(le){this._height=le,this._owner[this._setter](this)}}),he=k.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(Ce,Ie,ze,qe){var Pt=arguments,_n=typeof Ce,At;if(_n==="number"?(this._set(Ce,Ie,ze,qe),At=4):_n==="undefined"||Ce===null?(this._set(0,0,0,0),At=Ce===null?1:0):Pt.length===1&&(Array.isArray(Ce)?(this._set.apply(this,Ce),At=1):Ce.x!==r||Ce.width!==r?(this._set(Ce.x||0,Ce.y||0,Ce.width||0,Ce.height||0),At=1):Ce.from===r&&Ce.to===r&&(this._set(0,0,0,0),k.readSupported(Pt,this)&&(At=1))),At===r){var Cn=ae.readNamed(Pt,"from"),bn=k.peek(Pt),In=Cn.x,Ln=Cn.y,Mn,Fn;if(bn&&bn.x!==r||k.hasNamed(Pt,"to")){var er=ae.readNamed(Pt,"to");Mn=er.x-In,Fn=er.y-Ln,Mn<0&&(In=er.x,Mn=-Mn),Fn<0&&(Ln=er.y,Fn=-Fn)}else{var Qn=ue.read(Pt);Mn=Qn.width,Fn=Qn.height}this._set(In,Ln,Mn,Fn),At=Pt.__index}var nr=Pt.__filtered;return nr&&(this.__filtered=nr),this.__read&&(this.__read=At),this},set:"#initialize",_set:function(le,Ce,Ie,ze){return this.x=le,this.y=Ce,this.width=Ie,this.height=ze,this},clone:function(){return new he(this.x,this.y,this.width,this.height)},equals:function(le){var Ce=k.isPlainValue(le)?he.read(arguments):le;return Ce===this||Ce&&this.x===Ce.x&&this.y===Ce.y&&this.width===Ce.width&&this.height===Ce.height||!1},toString:function(){var le=j.instance;return"{ x: "+le.number(this.x)+", y: "+le.number(this.y)+", width: "+le.number(this.width)+", height: "+le.number(this.height)+" }"},_serialize:function(le){var Ce=le.formatter;return[Ce.number(this.x),Ce.number(this.y),Ce.number(this.width),Ce.number(this.height)]},getPoint:function(le){var Ce=le?ae:de;return new Ce(this.x,this.y,this,"setPoint")},setPoint:function(){var le=ae.read(arguments);this.x=le.x,this.y=le.y},getSize:function(le){var Ce=le?ue:pe;return new Ce(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var le=ue.read(arguments),Ce=this._sx,Ie=this._sy,ze=le.width,qe=le.height;Ce&&(this.x+=(this.width-ze)*Ce),Ie&&(this.y+=(this.height-qe)*Ie),this.width=ze,this.height=qe,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(le){if(!this._fw){var Ce=le-this.x;this.width-=this._sx===.5?Ce*2:Ce}this.x=le,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(le){if(!this._fh){var Ce=le-this.y;this.height-=this._sy===.5?Ce*2:Ce}this.y=le,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(le){if(!this._fw){var Ce=le-this.x;this.width=this._sx===.5?Ce*2:Ce}this.x=le-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(le){if(!this._fh){var Ce=le-this.y;this.height=this._sy===.5?Ce*2:Ce}this.y=le-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(le){this._fw||this._sx===.5?this.x=le-this.width/2:(this._sx&&(this.x+=(le-this.x)*2*this._sx),this.width=(le-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(le){this._fh||this._sy===.5?this.y=le-this.height/2:(this._sy&&(this.y+=(le-this.y)*2*this._sy),this.height=(le-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(le){var Ce=le?ae:de;return new Ce(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var le=ae.read(arguments);return this.setCenterX(le.x),this.setCenterY(le.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(le){return le&&le.width!==r||(Array.isArray(le)?le:arguments).length===4?this._containsRectangle(he.read(arguments)):this._containsPoint(ae.read(arguments))},_containsPoint:function(le){var Ce=le.x,Ie=le.y;return Ce>=this.x&&Ie>=this.y&&Ce<=this.x+this.width&&Ie<=this.y+this.height},_containsRectangle:function(le){var Ce=le.x,Ie=le.y;return Ce>=this.x&&Ie>=this.y&&Ce+le.width<=this.x+this.width&&Ie+le.height<=this.y+this.height},intersects:function(){var le=he.read(arguments),Ce=k.read(arguments)||0;return le.x+le.width>this.x-Ce&&le.y+le.height>this.y-Ce&&le.x<this.x+this.width+Ce&&le.y<this.y+this.height+Ce},intersect:function(){var le=he.read(arguments),Ce=Math.max(this.x,le.x),Ie=Math.max(this.y,le.y),ze=Math.min(this.x+this.width,le.x+le.width),qe=Math.min(this.y+this.height,le.y+le.height);return new he(Ce,Ie,ze-Ce,qe-Ie)},unite:function(){var le=he.read(arguments),Ce=Math.min(this.x,le.x),Ie=Math.min(this.y,le.y),ze=Math.max(this.x+this.width,le.x+le.width),qe=Math.max(this.y+this.height,le.y+le.height);return new he(Ce,Ie,ze-Ce,qe-Ie)},include:function(){var le=ae.read(arguments),Ce=Math.min(this.x,le.x),Ie=Math.min(this.y,le.y),ze=Math.max(this.x+this.width,le.x),qe=Math.max(this.y+this.height,le.y);return new he(Ce,Ie,ze-Ce,qe-Ie)},expand:function(){var le=ue.read(arguments),Ce=le.width,Ie=le.height;return new he(this.x-Ce/2,this.y-Ie/2,this.width+Ce,this.height+Ie)},scale:function(le,Ce){return this.expand(this.width*le-this.width,this.height*(Ce===r?le:Ce)-this.height)}},k.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(le,Ce){var Ie=le.join(""),ze=/^[RL]/.test(Ie);Ce>=4&&(le[1]+=ze?"Y":"X");var qe=le[ze?0:1],Pt=le[ze?1:0],_n="get"+qe,At="get"+Pt,Cn="set"+qe,bn="set"+Pt,In="get"+Ie,Ln="set"+Ie;this[In]=function(Mn){var Fn=Mn?ae:de;return new Fn(this[_n](),this[At](),this,Ln)},this[Ln]=function(){var Mn=ae.read(arguments);this[Cn](Mn.x),this[bn](Mn.y)}},{beans:!0})),xe=he.extend({initialize:function(Ce,Ie,ze,qe,Pt,_n){this._set(Ce,Ie,ze,qe,!0),this._owner=Pt,this._setter=_n},_set:function(le,Ce,Ie,ze,qe){return this._x=le,this._y=Ce,this._width=Ie,this._height=ze,qe||this._owner[this._setter](this),this}},new function(){var le=he.prototype;return k.each(["x","y","width","height"],function(Ce){var Ie=k.capitalize(Ce),ze="_"+Ce;this["get"+Ie]=function(){return this[ze]},this["set"+Ie]=function(qe){this[ze]=qe,this._dontNotify||this._owner[this._setter](this)}},k.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(Ce){var Ie="set"+Ce;this[Ie]=function(){this._dontNotify=!0,le[Ie].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(Ce){var Ie=this._owner;Ie._changeSelection&&Ie._changeSelection(2,Ce)}}))}),$e=k.extend({_class:"Matrix",initialize:function le(Ce,Ie){var ze=arguments,qe=ze.length,Pt=!0;if(qe>=6?this._set.apply(this,ze):qe===1||qe===2?Ce instanceof le?this._set(Ce._a,Ce._b,Ce._c,Ce._d,Ce._tx,Ce._ty,Ie):Array.isArray(Ce)?this._set.apply(this,Ie?Ce.concat([Ie]):Ce):Pt=!1:qe?Pt=!1:this.reset(),!Pt)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(le,Ce,Ie,ze,qe,Pt,_n){return this._a=le,this._b=Ce,this._c=Ie,this._d=ze,this._tx=qe,this._ty=Pt,_n||this._changed(),this},_serialize:function(le,Ce){return k.serialize(this.getValues(),le,!0,Ce)},_changed:function(){var le=this._owner;le&&(le._applyMatrix?le.transform(null,!0):le._changed(25))},clone:function(){return new $e(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(le){return le===this||le&&this._a===le._a&&this._b===le._b&&this._c===le._c&&this._d===le._d&&this._tx===le._tx&&this._ty===le._ty},toString:function(){var le=j.instance;return"[["+[le.number(this._a),le.number(this._c),le.number(this._tx)].join(", ")+"], ["+[le.number(this._b),le.number(this._d),le.number(this._ty)].join(", ")+"]]"},reset:function(le){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,le||this._changed(),this},apply:function(le,Ce){var Ie=this._owner;return Ie?(Ie.transform(null,k.pick(le,!0),Ce),this.isIdentity()):!1},translate:function(){var le=ae.read(arguments),Ce=le.x,Ie=le.y;return this._tx+=Ce*this._a+Ie*this._c,this._ty+=Ce*this._b+Ie*this._d,this._changed(),this},scale:function(){var le=arguments,Ce=ae.read(le),Ie=ae.read(le,0,{readNull:!0});return Ie&&this.translate(Ie),this._a*=Ce.x,this._b*=Ce.x,this._c*=Ce.y,this._d*=Ce.y,Ie&&this.translate(Ie.negate()),this._changed(),this},rotate:function(le){le*=Math.PI/180;var Ce=ae.read(arguments,1),Ie=Ce.x,ze=Ce.y,qe=Math.cos(le),Pt=Math.sin(le),_n=Ie-Ie*qe+ze*Pt,At=ze-Ie*Pt-ze*qe,Cn=this._a,bn=this._b,In=this._c,Ln=this._d;return this._a=qe*Cn+Pt*In,this._b=qe*bn+Pt*Ln,this._c=-Pt*Cn+qe*In,this._d=-Pt*bn+qe*Ln,this._tx+=_n*Cn+At*In,this._ty+=_n*bn+At*Ln,this._changed(),this},shear:function(){var le=arguments,Ce=ae.read(le),Ie=ae.read(le,0,{readNull:!0});Ie&&this.translate(Ie);var ze=this._a,qe=this._b;return this._a+=Ce.y*this._c,this._b+=Ce.y*this._d,this._c+=Ce.x*ze,this._d+=Ce.x*qe,Ie&&this.translate(Ie.negate()),this._changed(),this},skew:function(){var le=arguments,Ce=ae.read(le),Ie=ae.read(le,0,{readNull:!0}),ze=Math.PI/180,qe=new ae(Math.tan(Ce.x*ze),Math.tan(Ce.y*ze));return this.shear(qe,Ie)},append:function(le,Ce){if(le){var Ie=this._a,ze=this._b,qe=this._c,Pt=this._d,_n=le._a,At=le._c,Cn=le._b,bn=le._d,In=le._tx,Ln=le._ty;this._a=_n*Ie+Cn*qe,this._c=At*Ie+bn*qe,this._b=_n*ze+Cn*Pt,this._d=At*ze+bn*Pt,this._tx+=In*Ie+Ln*qe,this._ty+=In*ze+Ln*Pt,Ce||this._changed()}return this},prepend:function(le,Ce){if(le){var Ie=this._a,ze=this._b,qe=this._c,Pt=this._d,_n=this._tx,At=this._ty,Cn=le._a,bn=le._c,In=le._b,Ln=le._d,Mn=le._tx,Fn=le._ty;this._a=Cn*Ie+bn*ze,this._c=Cn*qe+bn*Pt,this._b=In*Ie+Ln*ze,this._d=In*qe+Ln*Pt,this._tx=Cn*_n+bn*At+Mn,this._ty=In*_n+Ln*At+Fn,Ce||this._changed()}return this},appended:function(le){return this.clone().append(le)},prepended:function(le){return this.clone().prepend(le)},invert:function(){var le=this._a,Ce=this._b,Ie=this._c,ze=this._d,qe=this._tx,Pt=this._ty,_n=le*ze-Ce*Ie,At=null;return _n&&!isNaN(_n)&&isFinite(qe)&&isFinite(Pt)&&(this._a=ze/_n,this._b=-Ce/_n,this._c=-Ie/_n,this._d=le/_n,this._tx=(Ie*Pt-ze*qe)/_n,this._ty=(Ce*qe-le*Pt)/_n,At=this),At},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new $e(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var le=this._a*this._d-this._c*this._b;return le&&!isNaN(le)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(le,Ce,Ie){return arguments.length<3?this._transformPoint(ae.read(arguments)):this._transformCoordinates(le,Ce,Ie)},_transformPoint:function(le,Ce,Ie){var ze=le.x,qe=le.y;return Ce||(Ce=new ae),Ce._set(ze*this._a+qe*this._c+this._tx,ze*this._b+qe*this._d+this._ty,Ie)},_transformCoordinates:function(le,Ce,Ie){for(var ze=0,qe=2*Ie;ze<qe;ze+=2){var Pt=le[ze],_n=le[ze+1];Ce[ze]=Pt*this._a+_n*this._c+this._tx,Ce[ze+1]=Pt*this._b+_n*this._d+this._ty}return Ce},_transformCorners:function(le){var Ce=le.x,Ie=le.y,ze=Ce+le.width,qe=Ie+le.height,Pt=[Ce,Ie,ze,Ie,ze,qe,Ce,qe];return this._transformCoordinates(Pt,Pt,4)},_transformBounds:function(le,Ce,Ie){for(var ze=this._transformCorners(le),qe=ze.slice(0,2),Pt=qe.slice(),_n=2;_n<8;_n++){var At=ze[_n],Cn=_n&1;At<qe[Cn]?qe[Cn]=At:At>Pt[Cn]&&(Pt[Cn]=At)}return Ce||(Ce=new he),Ce._set(qe[0],qe[1],Pt[0]-qe[0],Pt[1]-qe[1],Ie)},inverseTransform:function(){return this._inverseTransform(ae.read(arguments))},_inverseTransform:function(le,Ce,Ie){var ze=this._a,qe=this._b,Pt=this._c,_n=this._d,At=this._tx,Cn=this._ty,bn=ze*_n-qe*Pt,In=null;if(bn&&!isNaN(bn)&&isFinite(At)&&isFinite(Cn)){var Ln=le.x-this._tx,Mn=le.y-this._ty;Ce||(Ce=new ae),In=Ce._set((Ln*_n-Mn*Pt)/bn,(Mn*ze-Ln*qe)/bn,Ie)}return In},decompose:function(){var le=this._a,Ce=this._b,Ie=this._c,ze=this._d,qe=le*ze-Ce*Ie,Pt=Math.sqrt,_n=Math.atan2,At=180/Math.PI,Cn,bn,In;if(le!==0||Ce!==0){var Ln=Pt(le*le+Ce*Ce);Cn=Math.acos(le/Ln)*(Ce>0?1:-1),bn=[Ln,qe/Ln],In=[_n(le*Ie+Ce*ze,Ln*Ln),0]}else if(Ie!==0||ze!==0){var Mn=Pt(Ie*Ie+ze*ze);Cn=Math.asin(Ie/Mn)*(ze>0?1:-1),bn=[qe/Mn,Mn],In=[0,_n(le*Ie+Ce*ze,Mn*Mn)]}else Cn=0,In=bn=[0,0];return{translation:this.getTranslation(),rotation:Cn*At,scaling:new ae(bn),skewing:new ae(In[0]*At,In[1]*At)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ae(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(le){this.isIdentity()||le.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},k.each(["a","b","c","d","tx","ty"],function(le){var Ce=k.capitalize(le),Ie="_"+le;this["get"+Ce]=function(){return this[Ie]},this["set"+Ce]=function(ze){this[Ie]=ze,this._changed()}},{})),Ne=k.extend({_class:"Line",initialize:function(Ce,Ie,ze,qe,Pt){var _n=!1;arguments.length>=4?(this._px=Ce,this._py=Ie,this._vx=ze,this._vy=qe,_n=Pt):(this._px=Ce.x,this._py=Ce.y,this._vx=Ie.x,this._vy=Ie.y,_n=ze),_n||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ae(this._px,this._py)},getVector:function(){return new ae(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(le,Ce){return Ne.intersect(this._px,this._py,this._vx,this._vy,le._px,le._py,le._vx,le._vy,!0,Ce)},getSide:function(le,Ce){return Ne.getSide(this._px,this._py,this._vx,this._vy,le.x,le.y,!0,Ce)},getDistance:function(le){return Math.abs(this.getSignedDistance(le))},getSignedDistance:function(le){return Ne.getSignedDistance(this._px,this._py,this._vx,this._vy,le.x,le.y,!0)},isCollinear:function(le){return ae.isCollinear(this._vx,this._vy,le._vx,le._vy)},isOrthogonal:function(le){return ae.isOrthogonal(this._vx,this._vy,le._vx,le._vy)},statics:{intersect:function(le,Ce,Ie,ze,qe,Pt,_n,At,Cn,bn){Cn||(Ie-=le,ze-=Ce,_n-=qe,At-=Pt);var In=Ie*At-ze*_n;if(!re.isMachineZero(In)){var Ln=le-qe,Mn=Ce-Pt,Fn=(_n*Mn-At*Ln)/In,er=(Ie*Mn-ze*Ln)/In,Qn=1e-12,nr=-Qn,kn=1+Qn;if(bn||nr<Fn&&Fn<kn&&nr<er&&er<kn)return bn||(Fn=Fn<=0?0:Fn>=1?1:Fn),new ae(le+Fn*Ie,Ce+Fn*ze)}},getSide:function(le,Ce,Ie,ze,qe,Pt,_n,At){_n||(Ie-=le,ze-=Ce);var Cn=qe-le,bn=Pt-Ce,In=Cn*ze-bn*Ie;return!At&&re.isMachineZero(In)&&(In=(Cn*Ie+Cn*Ie)/(Ie*Ie+ze*ze),In>=0&&In<=1&&(In=0)),In<0?-1:In>0?1:0},getSignedDistance:function(le,Ce,Ie,ze,qe,Pt,_n){return _n||(Ie-=le,ze-=Ce),Ie===0?ze>0?qe-le:le-qe:ze===0?Ie<0?Pt-Ce:Ce-Pt:((qe-le)*ze-(Pt-Ce)*Ie)/(ze>Ie?ze*Math.sqrt(1+Ie*Ie/(ze*ze)):Ie*Math.sqrt(1+ze*ze/(Ie*Ie)))},getDistance:function(le,Ce,Ie,ze,qe,Pt,_n){return Math.abs(Ne.getSignedDistance(le,Ce,Ie,ze,qe,Pt,_n))}}}),Oe=L.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(Ce){L.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new jn(null,null,this),this._view=Cr.create(this,Ce||ar.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(le,Ce){return k.serialize(this._children,le,!0,Ce)},_changed:function(le,Ce){if(le&1){var Ie=this._view;Ie&&(Ie._needsUpdate=!0,!Ie._requested&&Ie._autoUpdate&&Ie.requestUpdate())}var ze=this._changes;if(ze&&Ce){var qe=this._changesById,Pt=Ce._id,_n=qe[Pt];_n?_n.flags|=le:ze.push(qe[Pt]={item:Ce,flags:le})}},clear:function(){for(var le=this._children,Ce=le.length-1;Ce>=0;Ce--)le[Ce].remove()},isEmpty:function(){return!this._children.length},remove:function le(){return le.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(le){this._currentStyle.set(le)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Ue({project:this,insert:!0})},getSymbolDefinitions:function(){var le=[],Ce={};return this.getItems({class:wn,match:function(Ie){var ze=Ie._definition,qe=ze._id;return Ce[qe]||(Ce[qe]=!0,le.push(ze)),!1}}),le},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var le=this._selectionItems,Ce=[];for(var Ie in le){var ze=le[Ie],qe=ze._selection;qe&1&&ze.isInserted()?Ce.push(ze):qe||this._updateSelection(ze)}return Ce},_updateSelection:function(le){var Ce=le._id,Ie=this._selectionItems;le._selection?Ie[Ce]!==le&&(this._selectionCount++,Ie[Ce]=le):Ie[Ce]===le&&(this._selectionCount--,delete Ie[Ce])},selectAll:function(){for(var le=this._children,Ce=0,Ie=le.length;Ce<Ie;Ce++)le[Ce].setFullySelected(!0)},deselectAll:function(){var le=this._selectionItems;for(var Ce in le)le[Ce].setFullySelected(!1)},addLayer:function(le){return this.insertLayer(r,le)},insertLayer:function(le,Ce){if(Ce instanceof Ue){Ce._remove(!1,!0),k.splice(this._children,[Ce],le,0),Ce._setProject(this,!0);var Ie=Ce._name;Ie&&Ce.setName(Ie),this._changes&&Ce._changed(5),this._activeLayer||(this._activeLayer=Ce)}else Ce=null;return Ce},_insertItem:function(le,Ce,Ie){return Ce=this.insertLayer(le,Ce)||(this._activeLayer||this._insertItem(r,new Ue(_e.NO_INSERT),!0)).insertChild(le,Ce),Ie&&Ce.activate&&Ce.activate(),Ce},getItems:function(le){return _e._getItems(this,le)},getItem:function(le){return _e._getItems(this,le,null,null,!0)[0]||null},importJSON:function(le){this.activate();var Ce=this._activeLayer;return k.importJSON(le,Ce&&Ce.isEmpty()&&Ce)},removeOn:function(le){var Ce=this._removeSets;if(Ce){le==="mouseup"&&(Ce.mousedrag=null);var Ie=Ce[le];if(Ie){for(var ze in Ie){var qe=Ie[ze];for(var Pt in Ce){var _n=Ce[Pt];_n&&_n!=Ie&&delete _n[qe._id]}qe.remove()}Ce[le]=null}}},draw:function(le,Ce,Ie){this._updateVersion++,le.save(),Ce.applyToContext(le);for(var ze=this._children,qe=new k({offset:new ae(0,0),pixelRatio:Ie,viewMatrix:Ce.isIdentity()?null:Ce,matrices:[new $e],updateMatrix:!0}),Pt=0,_n=ze.length;Pt<_n;Pt++)ze[Pt].draw(le,qe);if(le.restore(),this._selectionCount>0){le.save(),le.strokeWidth=1;var At=this._selectionItems,Cn=this._scope.settings.handleSize,bn=this._updateVersion;for(var In in At)At[In]._drawSelection(le,Ce,Cn,At,bn);le.restore()}}}),_e=k.extend($,{statics:{extend:function le(Ce){return Ce._serializeFields&&(Ce._serializeFields=k.set({},this.prototype._serializeFields,Ce._serializeFields)),le.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new $e,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var le=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return k.each(le,function(Ce){this._events[Ce]={install:function(Ie){this.getView()._countItemEvent(Ie,1)},uninstall:function(Ie){this.getView()._countItemEvent(Ie,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:le}})},{initialize:function(){},_initialize:function(le,Ce){var Ie=le&&k.isPlainObject(le),ze=Ie&&le.internal===!0,qe=this._matrix=new $e,Pt=Ie&&le.project||ur.project,_n=ur.settings;return this._id=ze?null:oe.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&_n.applyMatrix,Ce&&qe.translate(Ce),qe._owner=this,this._style=new jn(Pt._currentStyle,this,Pt),ze||Ie&&le.insert==!1||!_n.insertItems&&!(Ie&&le.insert==!0)?this._setProject(Pt):(Ie&&le.parent||Pt)._insertItem(r,this,!0),Ie&&le!==_e.NO_INSERT&&le!==_e.INSERT&&this.set(le,{internal:!0,insert:!0,project:!0,parent:!0}),Ie},_serialize:function(le,Ce){var Ie={},ze=this;function qe(Pt){for(var _n in Pt){var At=ze[_n];k.equals(At,_n==="leading"?Pt.fontSize*1.2:Pt[_n])||(Ie[_n]=k.serialize(At,le,_n!=="data",Ce))}}return qe(this._serializeFields),this instanceof Fe||qe(this._style._defaults),[this._class,Ie]},_changed:function(le){var Ce=this._symbol,Ie=this._parent||Ce,ze=this._project;le&8&&(this._bounds=this._position=this._decomposed=r),le&16&&(this._globalMatrix=r),Ie&&le&72&&_e._clearBoundsCache(Ie),le&2&&_e._clearBoundsCache(this),ze&&ze._changed(le,this),Ce&&Ce._changed(le)},getId:function(){return this._id},getName:function(){return this._name},setName:function(le){if(this._name&&this._removeNamed(),le===+le+"")throw new Error("Names consisting only of numbers are not supported.");var Ce=this._getOwner();if(le&&Ce){var Ie=Ce._children,ze=Ce._namedChildren;(ze[le]=ze[le]||[]).push(this),le in Ie||(Ie[le]=this)}this._name=le||r,this._changed(256)},getStyle:function(){return this._style},setStyle:function(le){this.getStyle().set(le)}},k.each(["locked","visible","blendMode","opacity","guide"],function(le){var Ce=k.capitalize(le),Ie="_"+le,ze={locked:256,visible:265};this["get"+Ce]=function(){return this[Ie]},this["set"+Ce]=function(qe){qe!=this[Ie]&&(this[Ie]=qe,this._changed(ze[le]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(le){if(le!==this._selection){this._selection=le;var Ce=this._project;Ce&&(Ce._updateSelection(this),this._changed(257))}},_changeSelection:function(le,Ce){var Ie=this._selection;this.setSelection(Ce?Ie|le:Ie&~le)},isSelected:function(){if(this._selectChildren){for(var le=this._children,Ce=0,Ie=le.length;Ce<Ie;Ce++)if(le[Ce].isSelected())return!0}return!!(this._selection&1)},setSelected:function(le){if(this._selectChildren)for(var Ce=this._children,Ie=0,ze=Ce.length;Ie<ze;Ie++)Ce[Ie].setSelected(le);this._changeSelection(1,le)},isFullySelected:function(){var le=this._children,Ce=!!(this._selection&1);if(le&&Ce){for(var Ie=0,ze=le.length;Ie<ze;Ie++)if(!le[Ie].isFullySelected())return!1;return!0}return Ce},setFullySelected:function(le){var Ce=this._children;if(Ce)for(var Ie=0,ze=Ce.length;Ie<ze;Ie++)Ce[Ie].setFullySelected(le);this._changeSelection(1,le)},isClipMask:function(){return this._clipMask},setClipMask:function(le){this._clipMask!=(le=!!le)&&(this._clipMask=le,le&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(le){this._data=le},getPosition:function(le){var Ce=le?ae:de,Ie=this._position||(this._position=this._getPositionFromBounds());return new Ce(Ie.x,Ie.y,this,"setPosition")},setPosition:function(){this.translate(ae.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(le){return this._pivot?this._matrix._transformPoint(this._pivot):(le||this.getBounds()).getCenter(!0)},getPivot:function(){var le=this._pivot;return le?new de(le.x,le.y,this,"setPivot"):null},setPivot:function(){this._pivot=ae.read(arguments,0,{clone:!0,readNull:!0}),this._position=r}},k.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(le,Ce){this[Ce]=function(Ie){return this.getBounds(Ie,le)}},{beans:!0,getBounds:function(le,Ce){var Ie=Ce||le instanceof $e,ze=k.set({},Ie?Ce:le,this._boundsOptions);(!ze.stroke||this.getStrokeScaling())&&(ze.cacheItem=this);var qe=this._getCachedBounds(Ie&&le,ze).rect;return arguments.length?qe:new xe(qe.x,qe.y,qe.width,qe.height,this,"setBounds")},setBounds:function(){var le=he.read(arguments),Ce=this.getBounds(),Ie=this._matrix,ze=new $e,qe=le.getCenter();ze.translate(qe),(le.width!=Ce.width||le.height!=Ce.height)&&(Ie.isInvertible()||(Ie.set(Ie._backup||new $e().translate(Ie.getTranslation())),Ce=this.getBounds()),ze.scale(Ce.width!==0?le.width/Ce.width:0,Ce.height!==0?le.height/Ce.height:0)),qe=Ce.getCenter(),ze.translate(-qe.x,-qe.y),this.transform(ze)},_getBounds:function(le,Ce){var Ie=this._children;return!Ie||!Ie.length?new he:(_e._updateBoundsCache(this,Ce.cacheItem),_e._getBounds(Ie,le,Ce))},_getBoundsCacheKey:function(le,Ce){return[le.stroke?1:0,le.handle?1:0,Ce?1:0].join("")},_getCachedBounds:function(le,Ce,Ie){le=le&&le._orNullIfIdentity();var ze=Ce.internal&&!Ie,qe=Ce.cacheItem,Pt=ze?null:this._matrix._orNullIfIdentity(),_n=qe&&(!le||le.equals(Pt))&&this._getBoundsCacheKey(Ce,ze),At=this._bounds;if(_e._updateBoundsCache(this._parent||this._symbol,qe),_n&&At&&_n in At){var Cn=At[_n];return{rect:Cn.rect.clone(),nonscaling:Cn.nonscaling}}var bn=this._getBounds(le||Pt,Ce),In=bn.rect||bn,Ln=this._style,Mn=bn.nonscaling||Ln.hasStroke()&&!Ln.getStrokeScaling();if(_n){At||(this._bounds=At={});var Cn=At[_n]={rect:In.clone(),nonscaling:Mn,internal:ze}}return{rect:In,nonscaling:Mn}},_getStrokeMatrix:function(le,Ce){var Ie=this.getStrokeScaling()?null:Ce&&Ce.internal?this:this._parent||this._symbol&&this._symbol._item,ze=Ie?Ie.getViewMatrix().invert():le;return ze&&ze._shiftless()},statics:{_updateBoundsCache:function(le,Ce){if(le&&Ce){var Ie=Ce._id,ze=le._boundsCache=le._boundsCache||{ids:{},list:[]};ze.ids[Ie]||(ze.list.push(Ce),ze.ids[Ie]=Ce)}},_clearBoundsCache:function(le){var Ce=le._boundsCache;if(Ce){le._bounds=le._position=le._boundsCache=r;for(var Ie=0,ze=Ce.list,qe=ze.length;Ie<qe;Ie++){var Pt=ze[Ie];Pt!==le&&(Pt._bounds=Pt._position=r,Pt._boundsCache&&_e._clearBoundsCache(Pt))}}},_getBounds:function(le,Ce,Ie){var ze=1/0,qe=-ze,Pt=ze,_n=qe,At=!1;Ie=Ie||{};for(var Cn=0,bn=le.length;Cn<bn;Cn++){var In=le[Cn];if(In._visible&&!In.isEmpty(!0)){var Ln=In._getCachedBounds(Ce&&Ce.appended(In._matrix),Ie,!0),Mn=Ln.rect;ze=Math.min(Mn.x,ze),Pt=Math.min(Mn.y,Pt),qe=Math.max(Mn.x+Mn.width,qe),_n=Math.max(Mn.y+Mn.height,_n),Ln.nonscaling&&(At=!0)}}return{rect:isFinite(ze)?new he(ze,Pt,qe-ze,_n-Pt):new he,nonscaling:At}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var le=this._decompose();return le?le.rotation:0},setRotation:function(le){var Ce=this.getRotation();if(Ce!=null&&le!=null){var Ie=this._decomposed;this.rotate(le-Ce),Ie&&(Ie.rotation=le,this._decomposed=Ie)}},getScaling:function(){var le=this._decompose(),Ce=le&&le.scaling;return new de(Ce?Ce.x:1,Ce?Ce.y:1,this,"setScaling")},setScaling:function(){var le=this.getScaling(),Ce=ae.read(arguments,0,{clone:!0,readNull:!0});if(le&&Ce&&!le.equals(Ce)){var Ie=this.getRotation(),ze=this._decomposed,qe=new $e,Pt=re.isZero;if(Pt(le.x)||Pt(le.y))qe.translate(ze.translation),Ie&&qe.rotate(Ie),qe.scale(Ce.x,Ce.y),this._matrix.set(qe);else{var _n=this.getPosition(!0);qe.translate(_n),Ie&&qe.rotate(Ie),qe.scale(Ce.x/le.x,Ce.y/le.y),Ie&&qe.rotate(-Ie),qe.translate(_n.negate()),this.transform(qe)}ze&&(ze.scaling=Ce,this._decomposed=ze)}},getMatrix:function(){return this._matrix},setMatrix:function(){var le=this._matrix;le.set.apply(le,arguments)},getGlobalMatrix:function(le){var Ce=this._globalMatrix;if(Ce)for(var Ie=this._parent,ze=[];Ie;){if(!Ie._globalMatrix){Ce=null;for(var qe=0,Pt=ze.length;qe<Pt;qe++)ze[qe]._globalMatrix=null;break}ze.push(Ie),Ie=Ie._parent}if(!Ce){Ce=this._globalMatrix=this._matrix.clone();var Ie=this._parent;Ie&&Ce.prepend(Ie.getGlobalMatrix(!0))}return le?Ce:Ce.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(le){(this._applyMatrix=this._canApplyMatrix&&!!le)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(le,Ce){if(this._project!==le){this._project&&this._installEvents(!1),this._project=le;for(var Ie=this._children,ze=0,qe=Ie&&Ie.length;ze<qe;ze++)Ie[ze]._setProject(le);Ce=!0}Ce&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function le(Ce){le.base.call(this,Ce);for(var Ie=this._children,ze=0,qe=Ie&&Ie.length;ze<qe;ze++)Ie[ze]._installEvents(Ce)},getLayer:function(){for(var le=this;le=le._parent;)if(le instanceof Ue)return le;return null},getParent:function(){return this._parent},setParent:function(le){return le.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(le){this.removeChildren(),this.addChildren(le)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var le=this._getOwner();return le&&le._children[this._index+1]||null},getPreviousSibling:function(){var le=this._getOwner();return le&&le._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(le){var Ce=this._parent,Ie=Ce&&Ce._children;Ie&&Ce.insertChildren(le in Ie?le:r,[this])},equals:function(le){return le===this||le&&this._class===le._class&&this._style.equals(le._style)&&this._matrix.equals(le._matrix)&&this._locked===le._locked&&this._visible===le._visible&&this._blendMode===le._blendMode&&this._opacity===le._opacity&&this._clipMask===le._clipMask&&this._guide===le._guide&&this._equals(le)||!1},_equals:function(le){return k.equals(this._children,le._children)},clone:function(le){var Ce=new this.constructor(_e.NO_INSERT),Ie=this._children,ze=k.pick(le?le.insert:r,le===r||le===!0),qe=k.pick(le?le.deep:r,!0);Ie&&Ce.copyAttributes(this),(!Ie||qe)&&Ce.copyContent(this),Ie||Ce.copyAttributes(this),ze&&Ce.insertAbove(this);var Pt=this._name,_n=this._parent;if(Pt&&_n){for(var Ie=_n._children,At=Pt,Cn=1;Ie[Pt];)Pt=At+" "+Cn++;Pt!==At&&Ce.setName(Pt)}return Ce},copyContent:function(le){for(var Ce=le._children,Ie=0,ze=Ce&&Ce.length;Ie<ze;Ie++)this.addChild(Ce[Ie].clone(!1),!0)},copyAttributes:function(le,Ce){this.setStyle(le._style);for(var Ie=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],ze=0,qe=Ie.length;ze<qe;ze++){var Pt=Ie[ze];le.hasOwnProperty(Pt)&&(this[Pt]=le[Pt])}Ce||this._matrix.set(le._matrix,!0),this.setApplyMatrix(le._applyMatrix),this.setPivot(le._pivot),this.setSelection(le._selection);var _n=le._data,At=le._name;this._data=_n?k.clone(_n):null,At&&this.setName(At)},rasterize:function(le,Ce){var Ie,ze,qe;k.isPlainObject(le)?(Ie=le.resolution,ze=le.insert,qe=le.raster):(Ie=le,ze=Ce),qe||(qe=new Lt(_e.NO_INSERT));var Pt=this.getStrokeBounds(),_n=(Ie||this.getView().getResolution())/72,At=Pt.getTopLeft().floor(),Cn=Pt.getBottomRight().ceil(),bn=new ue(Cn.subtract(At)),In=bn.multiply(_n);if(qe.setSize(In,!0),!In.isZero()){var Ln=qe.getContext(!0),Mn=new $e().scale(_n).translate(At.negate());Ln.save(),Mn.applyToContext(Ln),this.draw(Ln,new k({matrices:[Mn]})),Ln.restore()}return qe._matrix.set(new $e().translate(At.add(bn.divide(2))).scale(1/_n)),(ze===r||ze)&&qe.insertAbove(this),qe},contains:function(){var le=this._matrix;return le.isInvertible()&&!!this._contains(le._inverseTransform(ae.read(arguments)))},_contains:function(le){var Ce=this._children;if(Ce){for(var Ie=Ce.length-1;Ie>=0;Ie--)if(Ce[Ie].contains(le))return!0;return!1}return le.isInside(this.getInternalBounds())},isInside:function(){return he.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new $n.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(le,Ce){return le instanceof _e?this._asPathItem().getIntersections(le._asPathItem(),null,Ce,!0).length>0:!1}},new function(){function le(){var ze=arguments;return this._hitTest(ae.read(ze),xn.getOptions(ze))}function Ce(){var ze=arguments,qe=ae.read(ze),Pt=xn.getOptions(ze),_n=[];return this._hitTest(qe,new k({all:_n},Pt)),_n}function Ie(ze,qe,Pt,_n){var At=this._children;if(At)for(var Cn=At.length-1;Cn>=0;Cn--){var bn=At[Cn],In=bn!==_n&&bn._hitTest(ze,qe,Pt);if(In&&!qe.all)return In}return null}return Oe.inject({hitTest:le,hitTestAll:Ce,_hitTest:Ie}),{hitTest:le,hitTestAll:Ce,_hitTestChildren:Ie}},{_hitTest:function(le,Ce,Ie){if(this._locked||!this._visible||this._guide&&!Ce.guides||this.isEmpty())return null;var ze=this._matrix,qe=Ie?Ie.appended(ze):this.getGlobalMatrix().prepend(this.getView()._matrix),Pt=Math.max(Ce.tolerance,1e-12),_n=Ce._tolerancePadding=new ue($n._getStrokePadding(Pt,ze._shiftless().invert()));if(le=ze._inverseTransform(le),!le||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(_n.multiply(2))._containsPoint(le))return null;var At=!(Ce.guides&&!this._guide||Ce.selected&&!this.isSelected()||Ce.type&&Ce.type!==k.hyphenate(this._class)||Ce.class&&!(this instanceof Ce.class)),Cn=Ce.match,bn=this,In,Ln;function Mn(On){return On&&Cn&&!Cn(On)&&(On=null),On&&Ce.all&&Ce.all.push(On),On}function Fn(On,Rn){var Yn=Rn?In["get"+Rn]():bn.getPosition();if(le.subtract(Yn).divide(_n).length<=1)return new xn(On,bn,{name:Rn?k.hyphenate(Rn):On,point:Yn})}var er=Ce.position,Qn=Ce.center,nr=Ce.bounds;if(At&&this._parent&&(er||Qn||nr)){if((Qn||nr)&&(In=this.getInternalBounds()),Ln=er&&Fn("position")||Qn&&Fn("center","Center"),!Ln&&nr)for(var kn=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],Un=0;Un<8&&!Ln;Un++)Ln=Fn("bounds",kn[Un]);Ln=Mn(Ln)}return Ln||(Ln=this._hitTestChildren(le,Ce,qe)||At&&Mn(this._hitTestSelf(le,Ce,qe,this.getStrokeScaling()?null:qe._shiftless().invert()))||null),Ln&&Ln.point&&(Ln.point=ze.transform(Ln.point)),Ln},_hitTestSelf:function(le,Ce){if(Ce.fill&&this.hasFill()&&this._contains(le))return new xn("fill",this)},matches:function(le,Ce){function Ie(_n,At){for(var Cn in _n)if(_n.hasOwnProperty(Cn)){var bn=_n[Cn],In=At[Cn];if(k.isPlainObject(bn)&&k.isPlainObject(In)){if(!Ie(bn,In))return!1}else if(!k.equals(bn,In))return!1}return!0}var ze=typeof le;if(ze==="object"){for(var qe in le)if(le.hasOwnProperty(qe)&&!this.matches(qe,le[qe]))return!1;return!0}else{if(ze==="function")return le(this);if(le==="match")return Ce(this);var Pt=/^(empty|editable)$/.test(le)?this["is"+k.capitalize(le)]():le==="type"?k.hyphenate(this._class):this[le];if(le==="class"){if(typeof Ce=="function")return this instanceof Ce;Pt=this._class}if(typeof Ce=="function")return!!Ce(Pt);if(Ce){if(Ce.test)return Ce.test(Pt);if(k.isPlainObject(Ce))return Ie(Ce,Pt)}return k.equals(Pt,Ce)}},getItems:function(le){return _e._getItems(this,le,this._matrix)},getItem:function(le){return _e._getItems(this,le,this._matrix,null,!0)[0]||null},statics:{_getItems:function le(Ce,Ie,ze,qe,Pt){if(!qe){var _n=typeof Ie=="object"&&Ie,At=_n&&_n.overlapping,Cn=_n&&_n.inside,bn=At||Cn,Mn=bn&&he.read([bn]);qe={items:[],recursive:_n&&_n.recursive!==!1,inside:!!Cn,overlapping:!!At,rect:Mn,path:At&&new $n.Rectangle({rectangle:Mn,insert:!1})},_n&&(Ie=k.filter({},Ie,{recursive:!0,inside:!0,overlapping:!0}))}var In=Ce._children,Ln=qe.items,Mn=qe.rect;ze=Mn&&(ze||new $e);for(var Fn=0,er=In&&In.length;Fn<er;Fn++){var Qn=In[Fn],nr=ze&&ze.appended(Qn._matrix),kn=!0;if(Mn){var bn=Qn.getBounds(nr);if(!Mn.intersects(bn))continue;Mn.contains(bn)||qe.overlapping&&(bn.contains(Mn)||qe.path.intersects(Qn,nr))||(kn=!1)}if(kn&&Qn.matches(Ie)&&(Ln.push(Qn),Pt)||(qe.recursive!==!1&&le(Qn,Ie,nr,qe,Pt),Pt&&Ln.length>0))break}return Ln}}},{importJSON:function(le){var Ce=k.importJSON(le,this);return Ce!==this?this.addChild(Ce):Ce},addChild:function(le){return this.insertChild(r,le)},insertChild:function(le,Ce){var Ie=Ce?this.insertChildren(le,[Ce]):null;return Ie&&Ie[0]},addChildren:function(le){return this.insertChildren(this._children.length,le)},insertChildren:function(le,Ce){var Ie=this._children;if(Ie&&Ce&&Ce.length>0){Ce=k.slice(Ce);for(var ze={},qe=Ce.length-1;qe>=0;qe--){var Pt=Ce[qe],_n=Pt&&Pt._id;!Pt||ze[_n]?Ce.splice(qe,1):(Pt._remove(!1,!0),ze[_n]=!0)}k.splice(Ie,Ce,le,0);for(var At=this._project,Cn=At._changes,qe=0,bn=Ce.length;qe<bn;qe++){var Pt=Ce[qe],In=Pt._name;Pt._parent=this,Pt._setProject(At,!0),In&&Pt.setName(In),Cn&&Pt._changed(5)}this._changed(11)}else Ce=null;return Ce},_insertItem:"#insertChild",_insertAt:function(le,Ce){var Ie=le&&le._getOwner(),ze=le!==this&&Ie?this:null;return ze&&(ze._remove(!1,!0),Ie._insertItem(le._index+Ce,ze)),ze},insertAbove:function(le){return this._insertAt(le,1)},insertBelow:function(le){return this._insertAt(le,0)},sendToBack:function(){var le=this._getOwner();return le?le._insertItem(0,this):null},bringToFront:function(){var le=this._getOwner();return le?le._insertItem(r,this):null},appendTop:"#addChild",appendBottom:function(le){return this.insertChild(0,le)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(le){return le._insertItem(r,this)},copyTo:function(le){return this.clone(!1).addTo(le)},reduce:function(le){var Ce=this._children;if(Ce&&Ce.length===1){var Ie=Ce[0].reduce(le);return this._parent?(Ie.insertAbove(this),this.remove()):Ie.remove(),Ie}return this},_removeNamed:function(){var le=this._getOwner();if(le){var Ce=le._children,Ie=le._namedChildren,ze=this._name,qe=Ie[ze],Pt=qe?qe.indexOf(this):-1;Pt!==-1&&(Ce[ze]==this&&delete Ce[ze],qe.splice(Pt,1),qe.length?Ce[ze]=qe[0]:delete Ie[ze])}},_remove:function(le,Ce){var Ie=this._getOwner(),ze=this._project,qe=this._index;return this._style&&this._style._dispose(),Ie?(this._name&&this._removeNamed(),qe!=null&&(ze._activeLayer===this&&(ze._activeLayer=this.getNextSibling()||this.getPreviousSibling()),k.splice(Ie._children,null,qe,1)),this._installEvents(!1),le&&ze._changes&&this._changed(5),Ce&&Ie._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(le){var Ce=le&&le.insertBelow(this);return Ce&&this.remove(),Ce},removeChildren:function(le,Ce){if(!this._children)return null;le=le||0,Ce=k.pick(Ce,this._children.length);for(var Ie=k.splice(this._children,null,le,Ce-le),ze=Ie.length-1;ze>=0;ze--)Ie[ze]._remove(!0,!1);return Ie.length>0&&this._changed(11),Ie},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var le=0,Ce=this._children.length;le<Ce;le++)this._children[le]._index=le;this._changed(11)}},isEmpty:function(le){var Ce=this._children,Ie=Ce?Ce.length:0;if(le){for(var ze=0;ze<Ie;ze++)if(!Ce[ze].isEmpty(le))return!1;return!0}return!Ie},isEditable:function(){for(var le=this;le;){if(!le._visible||le._locked)return!1;le=le._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(le){function Ce(_n){var At=[];do At.unshift(_n);while(_n=_n._parent);return At}for(var Ie=Ce(this),ze=Ce(le),qe=0,Pt=Math.min(Ie.length,ze.length);qe<Pt;qe++)if(Ie[qe]!=ze[qe])return Ie[qe]._index<ze[qe]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(le){return this._getOrder(le)===-1},isBelow:function(le){return this._getOrder(le)===1},isParent:function(le){return this._parent===le},isChild:function(le){return le&&le._parent===this},isDescendant:function(le){for(var Ce=this;Ce=Ce._parent;)if(Ce===le)return!0;return!1},isAncestor:function(le){return le?le.isDescendant(this):!1},isSibling:function(le){return this._parent===le._parent},isGroupedWith:function(le){for(var Ce=this._parent;Ce;){if(Ce._parent&&/^(Group|Layer|CompoundPath)$/.test(Ce._class)&&le.isDescendant(Ce))return!0;Ce=Ce._parent}return!1}},k.each(["rotate","scale","shear","skew"],function(le){var Ce=le==="rotate";this[le]=function(){var Ie=arguments,ze=(Ce?k:ae).read(Ie),qe=ae.read(Ie,0,{readNull:!0});return this.transform(new $e()[le](ze,qe||this.getPosition(!0)))}},{translate:function(){var le=new $e;return this.transform(le.translate.apply(le,arguments))},transform:function(le,Ce,Ie){var ze=this._matrix,qe=le&&!le.isIdentity(),Pt=Ie&&this._canApplyMatrix||this._applyMatrix&&(qe||!ze.isIdentity()||Ce&&this._children);if(!qe&&!Pt)return this;if(qe){!le.isInvertible()&&ze.isInvertible()&&(ze._backup=ze.getValues()),ze.prepend(le,!0);var _n=this._style,At=_n.getFillColor(!0),Cn=_n.getStrokeColor(!0);At&&At.transform(le),Cn&&Cn.transform(le)}if(Pt&&(Pt=this._transformContent(ze,Ce,Ie))){var bn=this._pivot;bn&&ze._transformPoint(bn,bn,!0),ze.reset(!0),Ie&&this._canApplyMatrix&&(this._applyMatrix=!0)}var In=this._bounds,Ln=this._position;(qe||Pt)&&this._changed(25);var Mn=qe&&In&&le.decompose();if(Mn&&Mn.skewing.isZero()&&Mn.rotation%90===0){for(var Fn in In){var er=In[Fn];if(er.nonscaling)delete In[Fn];else if(Pt||!er.internal){var Qn=er.rect;le._transformBounds(Qn,Qn)}}this._bounds=In;var nr=In[this._getBoundsCacheKey(this._boundsOptions||{})];nr&&(this._position=this._getPositionFromBounds(nr.rect))}else qe&&Ln&&this._pivot&&(this._position=le._transformPoint(Ln,Ln));return this},_transformContent:function(le,Ce,Ie){var ze=this._children;if(ze){for(var qe=0,Pt=ze.length;qe<Pt;qe++)ze[qe].transform(le,Ce,Ie);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ae.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ae.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ae.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ae.read(arguments))},fitBounds:function(le,Ce){le=he.read(arguments);var Ie=this.getBounds(),ze=Ie.height/Ie.width,qe=le.height/le.width,Pt=(Ce?ze>qe:ze<qe)?le.width/Ie.width:le.height/Ie.height,_n=new he(new ae,new ue(Ie.width*Pt,Ie.height*Pt));_n.setCenter(le.getCenter()),this.setBounds(_n)}}),{_setStyles:function(le,Ce,Ie){var ze=this._style,qe=this._matrix;if(ze.hasFill()&&(le.fillStyle=ze.getFillColor().toCanvasStyle(le,qe)),ze.hasStroke()){le.strokeStyle=ze.getStrokeColor().toCanvasStyle(le,qe),le.lineWidth=ze.getStrokeWidth();var Pt=ze.getStrokeJoin(),_n=ze.getStrokeCap(),At=ze.getMiterLimit();if(Pt&&(le.lineJoin=Pt),_n&&(le.lineCap=_n),At&&(le.miterLimit=At),ur.support.nativeDash){var Cn=ze.getDashArray(),bn=ze.getDashOffset();Cn&&Cn.length&&("setLineDash"in le?(le.setLineDash(Cn),le.lineDashOffset=bn):(le.mozDash=Cn,le.mozDashOffset=bn))}}if(ze.hasShadow()){var In=Ce.pixelRatio||1,Ln=Ie._shiftless().prepend(new $e().scale(In,In)),Mn=Ln.transform(new ae(ze.getShadowBlur(),0)),Fn=Ln.transform(this.getShadowOffset());le.shadowColor=ze.getShadowColor().toCanvasStyle(le),le.shadowBlur=Mn.getLength(),le.shadowOffsetX=Fn.x,le.shadowOffsetY=Fn.y}},draw:function(le,Ce,Ie){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var ze=Ce.matrices,qe=Ce.viewMatrix,Pt=this._matrix,_n=ze[ze.length-1].appended(Pt);if(_n.isInvertible()){qe=qe?qe.appended(_n):_n,ze.push(_n),Ce.updateMatrix&&(this._globalMatrix=_n);var At=this._blendMode,Cn=re.clamp(this._opacity,0,1),bn=At==="normal",In=lr.nativeModes[At],Ln=bn&&Cn===1||Ce.dontStart||Ce.clip||(In||bn&&Cn<1)&&this._canComposite(),Mn=Ce.pixelRatio||1,Fn,er,Qn;if(!Ln){var nr=this.getStrokeBounds(qe);if(!nr.width||!nr.height){ze.pop();return}Qn=Ce.offset,er=Ce.offset=nr.getTopLeft().floor(),Fn=le,le=ar.getContext(nr.getSize().ceil().add(1).multiply(Mn)),Mn!==1&&le.scale(Mn,Mn)}le.save();var kn=Ie?Ie.appended(Pt):this._canScaleStroke&&!this.getStrokeScaling(!0)&&qe,Un=!Ln&&Ce.clipItem,On=!kn||Un;if(Ln?(le.globalAlpha=Cn,In&&(le.globalCompositeOperation=At)):On&&le.translate(-er.x,-er.y),On&&(Ln?Pt:qe).applyToContext(le),Un&&Ce.clipItem.draw(le,Ce.extend({clip:!0})),kn){le.setTransform(Mn,0,0,Mn,0,0);var Rn=Ce.offset;Rn&&le.translate(-Rn.x,-Rn.y)}this._draw(le,Ce,qe,kn),le.restore(),ze.pop(),Ce.clip&&!Ce.dontFinish&&le.clip(this.getFillRule()),Ln||(lr.process(At,le,Fn,Cn,er.subtract(Qn).multiply(Mn)),ar.release(le),Ce.offset=Qn)}}},_isUpdated:function(le){var Ce=this._parent;if(Ce instanceof Wn)return Ce._isUpdated(le);var Ie=this._updateVersion===le;return!Ie&&Ce&&Ce._visible&&Ce._isUpdated(le)&&(this._updateVersion=le,Ie=!0),Ie},_drawSelection:function(le,Ce,Ie,ze,qe){var Pt=this._selection,_n=Pt&1,At=Pt&2||_n&&this._selectBounds,Cn=Pt&4;if(this._drawSelected||(_n=!1),(_n||At||Cn)&&this._isUpdated(qe)){var bn,In=this.getSelectedColor(!0)||(bn=this.getLayer())&&bn.getSelectedColor(!0),Ln=Ce.appended(this.getGlobalMatrix(!0)),Mn=Ie/2;if(le.strokeStyle=le.fillStyle=In?In.toCanvasStyle(le):"#009dec",_n&&this._drawSelected(le,Ln,ze),Cn){var Fn=this.getPosition(!0),er=this._parent,Qn=er?er.localToGlobal(Fn):Fn,nr=Qn.x,kn=Qn.y;le.beginPath(),le.arc(nr,kn,Mn,0,Math.PI*2,!0),le.stroke();for(var Un=[[0,-1],[1,0],[0,1],[-1,0]],On=Mn,Rn=Ie+1,Yn=0;Yn<4;Yn++){var or=Un[Yn],tr=or[0],hr=or[1];le.moveTo(nr+tr*On,kn+hr*On),le.lineTo(nr+tr*Rn,kn+hr*Rn),le.stroke()}}if(At){var pr=Ln._transformCorners(this.getInternalBounds());le.beginPath();for(var Yn=0;Yn<8;Yn++)le[Yn?"lineTo":"moveTo"](pr[Yn],pr[++Yn]);le.closePath(),le.stroke();for(var Yn=0;Yn<8;Yn++)le.fillRect(pr[Yn]-Mn,pr[++Yn]-Mn,Ie,Ie)}}},_canComposite:function(){return!1}},k.each(["down","drag","up","move"],function(le){this["removeOn"+k.capitalize(le)]=function(){var Ce={};return Ce[le]=!0,this.removeOn(Ce)}},{removeOn:function(le){for(var Ce in le)if(le[Ce]){var Ie="mouse"+Ce,ze=this._project,qe=ze._removeSets=ze._removeSets||{};qe[Ie]=qe[Ie]||{},qe[Ie][this._id]=this}return this}}),{tween:function(le,Ce,Ie){Ie||(Ie=Ce,Ce=le,le=null,Ie||(Ie=Ce,Ce=null));var ze=Ie&&Ie.easing,qe=Ie&&Ie.start,Pt=Ie!=null&&(typeof Ie=="number"?Ie:Ie.duration),_n=new Vn(this,le,Ce,Pt,ze,qe);function At(Cn){_n._handleFrame(Cn.time*1e3),_n.running||this.off("frame",At)}return Pt&&this.on("frame",At),_n},tweenTo:function(le,Ce){return this.tween(null,le,Ce)},tweenFrom:function(le,Ce){return this.tween(le,null,Ce)}}),Fe=_e.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(Ce){this._children=[],this._namedChildren={},this._initialize(Ce)||this.addChildren(Array.isArray(Ce)?Ce:arguments)},_changed:function le(Ce){le.base.call(this,Ce),Ce&2050&&(this._clipItem=r)},_getClipItem:function(){var le=this._clipItem;if(le===r){le=null;for(var Ce=this._children,Ie=0,ze=Ce.length;Ie<ze;Ie++)if(Ce[Ie]._clipMask){le=Ce[Ie];break}this._clipItem=le}return le},isClipped:function(){return!!this._getClipItem()},setClipped:function(le){var Ce=this.getFirstChild();Ce&&Ce.setClipMask(le)},_getBounds:function le(Ce,Ie){var ze=this._getClipItem();return ze?ze._getCachedBounds(ze._matrix.prepended(Ce),k.set({},Ie,{stroke:!1})):le.base.call(this,Ce,Ie)},_hitTestChildren:function le(Ce,Ie,ze){var qe=this._getClipItem();return(!qe||qe.contains(Ce))&&le.base.call(this,Ce,Ie,ze,qe)},_draw:function(le,Ce){var Ie=Ce.clip,ze=!Ie&&this._getClipItem();Ce=Ce.extend({clipItem:ze,clip:!1}),Ie?(le.beginPath(),Ce.dontStart=Ce.dontFinish=!0):ze&&ze.draw(le,Ce.extend({clip:!0}));for(var qe=this._children,Pt=0,_n=qe.length;Pt<_n;Pt++){var At=qe[Pt];At!==ze&&At.draw(le,Ce)}}}),Ue=Fe.extend({_class:"Layer",initialize:function(){Fe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function le(){return this._parent?le.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),kt=_e.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(Ce,Ie){this._initialize(Ce,Ie)},_equals:function(le){return this._type===le._type&&this._size.equals(le._size)&&k.equals(this._radius,le._radius)},copyContent:function(le){this.setType(le._type),this.setSize(le._size),this.setRadius(le._radius)},getType:function(){return this._type},setType:function(le){this._type=le},getShape:"#getType",setShape:"#setType",getSize:function(){var le=this._size;return new pe(le.width,le.height,this,"setSize")},setSize:function(){var le=ue.read(arguments);if(!this._size)this._size=le.clone();else if(!this._size.equals(le)){var Ce=this._type,Ie=le.width,ze=le.height;Ce==="rectangle"?this._radius.set(ue.min(this._radius,le.divide(2).abs())):Ce==="circle"?(Ie=ze=(Ie+ze)/2,this._radius=Ie/2):Ce==="ellipse"&&this._radius._set(Ie/2,ze/2),this._size._set(Ie,ze),this._changed(9)}},getRadius:function(){var le=this._radius;return this._type==="circle"?le:new pe(le.width,le.height,this,"setRadius")},setRadius:function(le){var Ce=this._type;if(Ce==="circle"){if(le===this._radius)return;var Ie=le*2;this._radius=le,this._size._set(Ie,Ie)}else if(le=ue.read(arguments),!this._radius)this._radius=le.clone();else{if(this._radius.equals(le))return;if(this._radius.set(le),Ce==="rectangle"){var Ie=ue.max(this._size,le.multiply(2));this._size.set(Ie)}else Ce==="ellipse"&&this._size._set(le.width*2,le.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(le){var Ce=new $n[k.capitalize(this._type)]({center:new ae,size:this._size,radius:this._radius,insert:!1});return Ce.copyAttributes(this),ur.settings.applyMatrix&&Ce.setApplyMatrix(!0),(le===r||le)&&Ce.insertAbove(this),Ce},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(le,Ce,Ie,ze){var qe=this._style,Pt=qe.hasFill(),_n=qe.hasStroke(),At=Ce.dontFinish||Ce.clip,Cn=!ze;if(Pt||_n||At){var bn=this._type,In=this._radius,Ln=bn==="circle";if(Ce.dontStart||le.beginPath(),Cn&&Ln)le.arc(0,0,In,0,Math.PI*2,!0);else{var Mn=Ln?In:In.width,Fn=Ln?In:In.height,er=this._size,Qn=er.width,nr=er.height;if(Cn&&bn==="rectangle"&&Mn===0&&Fn===0)le.rect(-Qn/2,-nr/2,Qn,nr);else{var kn=Qn/2,Un=nr/2,On=1-.5522847498307936,Rn=Mn*On,Yn=Fn*On,or=[-kn,-Un+Fn,-kn,-Un+Yn,-kn+Rn,-Un,-kn+Mn,-Un,kn-Mn,-Un,kn-Rn,-Un,kn,-Un+Yn,kn,-Un+Fn,kn,Un-Fn,kn,Un-Yn,kn-Rn,Un,kn-Mn,Un,-kn+Mn,Un,-kn+Rn,Un,-kn,Un-Yn,-kn,Un-Fn];ze&&ze.transform(or,or,32),le.moveTo(or[0],or[1]),le.bezierCurveTo(or[2],or[3],or[4],or[5],or[6],or[7]),kn!==Mn&&le.lineTo(or[8],or[9]),le.bezierCurveTo(or[10],or[11],or[12],or[13],or[14],or[15]),Un!==Fn&&le.lineTo(or[16],or[17]),le.bezierCurveTo(or[18],or[19],or[20],or[21],or[22],or[23]),kn!==Mn&&le.lineTo(or[24],or[25]),le.bezierCurveTo(or[26],or[27],or[28],or[29],or[30],or[31])}}le.closePath()}!At&&(Pt||_n)&&(this._setStyles(le,Ce,Ie),Pt&&(le.fill(qe.getFillRule()),le.shadowColor="rgba(0,0,0,0)"),_n&&le.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(le,Ce){var Ie=new he(this._size).setCenter(0,0),ze=this._style,qe=Ce.stroke&&ze.hasStroke()&&ze.getStrokeWidth();return le&&(Ie=le._transformBounds(Ie)),qe?Ie.expand($n._getStrokePadding(qe,this._getStrokeMatrix(le,Ce))):Ie}},new function(){function le(Ie,ze,qe){var Pt=Ie._radius;if(!Pt.isZero())for(var _n=Ie._size.divide(2),At=1;At<=4;At++){var Cn=new ae(At>1&&At<4?-1:1,At>2?-1:1),bn=Cn.multiply(_n),In=bn.subtract(Cn.multiply(Pt)),Ln=new he(qe?bn.add(Cn.multiply(qe)):bn,In);if(Ln.contains(ze))return{point:In,quadrant:At}}}function Ce(Ie,ze,qe,Pt){var _n=Ie.divide(ze);return(!Pt||_n.isInQuadrant(Pt))&&_n.subtract(_n.normalize()).multiply(ze).divide(qe).length<=1}return{_contains:function Ie(ze){if(this._type==="rectangle"){var qe=le(this,ze);return qe?ze.subtract(qe.point).divide(this._radius).getLength()<=1:Ie.base.call(this,ze)}else return ze.divide(this.size).getLength()<=.5},_hitTestSelf:function Ie(ze,qe,Pt,_n){var At=!1,Cn=this._style,bn=qe.stroke&&Cn.hasStroke(),In=qe.fill&&Cn.hasFill();if(bn||In){var Ln=this._type,Mn=this._radius,Fn=bn?Cn.getStrokeWidth()/2:0,er=qe._tolerancePadding.add($n._getStrokePadding(Fn,!Cn.getStrokeScaling()&&_n));if(Ln==="rectangle"){var Qn=er.multiply(2),nr=le(this,ze,Qn);if(nr)At=Ce(ze.subtract(nr.point),Mn,er,nr.quadrant);else{var kn=new he(this._size).setCenter(0,0),Un=kn.expand(Qn),On=kn.expand(Qn.negate());At=Un._containsPoint(ze)&&!On._containsPoint(ze)}}else At=Ce(ze,Mn,er)}return At?new xn(bn?"stroke":"fill",this):Ie.base.apply(this,arguments)}}},{statics:new function(){function le(Ce,Ie,ze,qe,Pt){var _n=k.create(kt.prototype);return _n._type=Ce,_n._size=ze,_n._radius=qe,_n._initialize(k.getNamed(Pt),Ie),_n}return{Circle:function(){var Ce=arguments,Ie=ae.readNamed(Ce,"center"),ze=k.readNamed(Ce,"radius");return le("circle",Ie,new ue(ze*2),ze,Ce)},Rectangle:function(){var Ce=arguments,Ie=he.readNamed(Ce,"rectangle"),ze=ue.min(ue.readNamed(Ce,"radius"),Ie.getSize(!0).divide(2));return le("rectangle",Ie.getCenter(!0),Ie.getSize(!0),ze,Ce)},Ellipse:function(){var Ce=arguments,Ie=kt._readEllipse(Ce),ze=Ie.radius;return le("ellipse",Ie.center,ze.multiply(2),ze,Ce)},_readEllipse:function(Ce){var Ie,ze;if(k.hasNamed(Ce,"radius"))Ie=ae.readNamed(Ce,"center"),ze=ue.readNamed(Ce,"radius");else{var qe=he.readNamed(Ce,"rectangle");Ie=qe.getCenter(!0),ze=qe.getSize(!0).divide(2)}return{center:Ie,radius:ze}}}}}),Lt=_e.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(Ce,Ie){if(!this._initialize(Ce,Ie!==r&&ae.read(arguments))){var ze,qe=typeof Ce,Pt=qe==="string"?y.getElementById(Ce):qe==="object"?Ce:null;if(Pt&&Pt!==_e.NO_INSERT){if(Pt.getContext||Pt.naturalHeight!=null)ze=Pt;else if(Pt){var _n=ue.read(arguments);_n.isZero()||(ze=ar.getCanvas(_n))}}ze?this.setImage(ze):this.setSource(Ce)}this._size||(this._size=new ue,this._loaded=!1)},_equals:function(le){return this.getSource()===le.getSource()},copyContent:function(le){var Ce=le._image,Ie=le._canvas;if(Ce)this._setImage(Ce);else if(Ie){var ze=ar.getCanvas(le._size);ze.getContext("2d").drawImage(Ie,0,0),this._setImage(ze)}this._crossOrigin=le._crossOrigin},getSize:function(){var le=this._size;return new pe(le?le.width:0,le?le.height:0,this,"setSize")},setSize:function(le,Ce){var Ie=ue.read(arguments);if(Ie.equals(this._size))Ce&&this.clear();else if(Ie.width>0&&Ie.height>0){var ze=!Ce&&this.getElement();this._setImage(ar.getCanvas(Ie)),ze&&this.getContext(!0).drawImage(ze,0,0,Ie.width,Ie.height)}else this._canvas&&ar.release(this._canvas),this._size=Ie.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(le){this.setSize(le,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(le){this.setSize(this.getWidth(),le)},getLoaded:function(){return this._loaded},isEmpty:function(){var le=this._size;return!le||le.width===0&&le.height===0},getResolution:function(){var le=this._matrix,Ce=new ae(0,0).transform(le),Ie=new ae(1,0).transform(le).subtract(Ce),ze=new ae(0,1).transform(le).subtract(Ce);return new ue(72/Ie.getLength(),72/ze.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(le){var Ce=this;function Ie(ze){var qe=Ce.getView(),Pt=ze&&ze.type||"load";qe&&Ce.responds(Pt)&&(ur=qe._scope,Ce.emit(Pt,new zn(ze)))}this._setImage(le),this._loaded?setTimeout(Ie,0):le&&yr.add(le,{load:function(ze){Ce._setImage(le),Ie(ze)},error:Ie})},_setImage:function(le){this._canvas&&ar.release(this._canvas),le&&le.getContext?(this._image=null,this._canvas=le,this._loaded=!0):(this._image=le,this._canvas=null,this._loaded=!!(le&&le.src&&le.complete)),this._size=new ue(le?le.naturalWidth||le.width:0,le?le.naturalHeight||le.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var le=ar.getContext(this._size);try{this._image&&le.drawImage(this._image,0,0),this._canvas=le.canvas}catch{ar.release(le)}}return this._canvas},setCanvas:"#setImage",getContext:function(le){return this._context||(this._context=this.getCanvas().getContext("2d")),le&&(this._image=null,this._changed(1025)),this._context},setContext:function(le){this._context=le},getSource:function(){var le=this._image;return le&&le.src||this.toDataURL()},setSource:function(le){var Ce=new e.Image,Ie=this._crossOrigin;Ie&&(Ce.crossOrigin=Ie),le&&(Ce.src=le),this.setImage(Ce)},getCrossOrigin:function(){var le=this._image;return le&&le.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(le){this._crossOrigin=le;var Ce=this._image;Ce&&(Ce.crossOrigin=le)},getSmoothing:function(){return this._smoothing},setSmoothing:function(le){this._smoothing=typeof le=="string"?le:le?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var le=he.read(arguments),Ce=ar.getContext(le.getSize());return Ce.drawImage(this.getCanvas(),le.x,le.y,le.width,le.height,0,0,le.width,le.height),Ce.canvas},getSubRaster:function(){var le=he.read(arguments),Ce=new Lt(_e.NO_INSERT);return Ce._setImage(this.getSubCanvas(le)),Ce.translate(le.getCenter().subtract(this.getSize().divide(2))),Ce._matrix.prepend(this._matrix),Ce.insertAbove(this),Ce},toDataURL:function(){var le=this._image,Ce=le&&le.src;if(/^data:/.test(Ce))return Ce;var Ie=this.getCanvas();return Ie?Ie.toDataURL.apply(Ie,arguments):null},drawImage:function(le){var Ce=ae.read(arguments,1);this.getContext(!0).drawImage(le,Ce.x,Ce.y)},getAverageColor:function(le){var Ce,Ie;if(le?le instanceof Bn?(Ie=le,Ce=le.getBounds()):typeof le=="object"&&("width"in le?Ce=new he(le):"x"in le&&(Ce=new he(le.x-.5,le.y-.5,1,1))):Ce=this.getBounds(),!Ce)return null;var ze=32,qe=Math.min(Ce.width,ze),Pt=Math.min(Ce.height,ze),_n=Lt._sampleContext;_n?_n.clearRect(0,0,ze+1,ze+1):_n=Lt._sampleContext=ar.getContext(new ue(ze)),_n.save();var At=new $e().scale(qe/Ce.width,Pt/Ce.height).translate(-Ce.x,-Ce.y);At.applyToContext(_n),Ie&&Ie.draw(_n,new k({clip:!0,matrices:[At]})),this._matrix.applyToContext(_n);var Cn=this.getElement(),bn=this._size;Cn&&_n.drawImage(Cn,-bn.width/2,-bn.height/2),_n.restore();for(var In=_n.getImageData(.5,.5,Math.ceil(qe),Math.ceil(Pt)).data,Ln=[0,0,0],Mn=0,Fn=0,er=In.length;Fn<er;Fn+=4){var Qn=In[Fn+3];Mn+=Qn,Qn/=255,Ln[0]+=In[Fn]*Qn,Ln[1]+=In[Fn+1]*Qn,Ln[2]+=In[Fn+2]*Qn}for(var Fn=0;Fn<3;Fn++)Ln[Fn]/=Mn;return Mn?rr.read(Ln):null},getPixel:function(){var le=ae.read(arguments),Ce=this.getContext().getImageData(le.x,le.y,1,1).data;return new rr("rgb",[Ce[0]/255,Ce[1]/255,Ce[2]/255],Ce[3]/255)},setPixel:function(){var le=arguments,Ce=ae.read(le),Ie=rr.read(le),ze=Ie._convert("rgb"),qe=Ie._alpha,Pt=this.getContext(!0),_n=Pt.createImageData(1,1),At=_n.data;At[0]=ze[0]*255,At[1]=ze[1]*255,At[2]=ze[2]*255,At[3]=qe!=null?qe*255:255,Pt.putImageData(_n,Ce.x,Ce.y)},clear:function(){var le=this._size;this.getContext(!0).clearRect(0,0,le.width+1,le.height+1)},createImageData:function(){var le=ue.read(arguments);return this.getContext().createImageData(le.width,le.height)},getImageData:function(){var le=he.read(arguments);return le.isEmpty()&&(le=new he(this._size)),this.getContext().getImageData(le.x,le.y,le.width,le.height)},putImageData:function(le){var Ce=ae.read(arguments,1);this.getContext(!0).putImageData(le,Ce.x,Ce.y)},setImageData:function(le){this.setSize(le),this.getContext(!0).putImageData(le,0,0)},_getBounds:function(le,Ce){var Ie=new he(this._size).setCenter(0,0);return le?le._transformBounds(Ie):Ie},_hitTestSelf:function(le){if(this._contains(le)){var Ce=this;return new xn("pixel",Ce,{offset:le.add(Ce._size.divide(2)).round(),color:{get:function(){return Ce.getPixel(this.offset)}}})}},_draw:function(le,Ce,Ie){var ze=this.getElement();if(ze&&ze.width>0&&ze.height>0){le.globalAlpha=re.clamp(this._opacity,0,1),this._setStyles(le,Ce,Ie);var qe=this._smoothing,Pt=qe==="off";fr.setPrefixed(le,Pt?"imageSmoothingEnabled":"imageSmoothingQuality",Pt?!1:qe),le.drawImage(ze,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),wn=_e.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(Ce,Ie){this._initialize(Ce,Ie!==r&&ae.read(arguments,1))||this.setDefinition(Ce instanceof Et?Ce:new Et(Ce))},_equals:function(le){return this._definition===le._definition},copyContent:function(le){this.setDefinition(le._definition)},getDefinition:function(){return this._definition},setDefinition:function(le){this._definition=le,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(le,Ce){var Ie=this._definition._item;return Ie._getCachedBounds(Ie._matrix.prepended(le),Ce)},_hitTestSelf:function(le,Ce,Ie){var ze=Ce.extend({all:!1}),qe=this._definition._item._hitTest(le,ze,Ie);return qe&&(qe.item=this),qe},_draw:function(le,Ce){this._definition._item.draw(le,Ce)}}),Et=k.extend({_class:"SymbolDefinition",initialize:function(Ce,Ie){this._id=oe.get(),this.project=ur.project,Ce&&this.setItem(Ce,Ie)},_serialize:function(le,Ce){return Ce.add(this,function(){return k.serialize([this._class,this._item],le,!1,Ce)})},_changed:function(le){le&8&&_e._clearBoundsCache(this),le&1&&this.project._changed(le)},getItem:function(){return this._item},setItem:function(le,Ce){le._symbol&&(le=le.clone()),this._item&&(this._item._symbol=null),this._item=le,le.remove(),le.setSelected(!1),Ce||le.setPosition(new ae),le._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(le){return new wn(this,le)},clone:function(){return new Et(this._item.clone(!1))},equals:function(le){return le===this||le&&this._item.equals(le._item)||!1}}),xn=k.extend({_class:"HitResult",initialize:function(Ce,Ie,ze){this.type=Ce,this.item=Ie,ze&&this.inject(ze)},statics:{getOptions:function(le){var Ce=le&&k.read(le);return new k({type:null,tolerance:ur.settings.hitTolerance,fill:!Ce,stroke:!Ce,segments:!Ce,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},Ce)}}}),jt=k.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(Ce,Ie,ze,qe,Pt,_n){var At=arguments.length,Cn,bn,In,Ln;At>0&&(Ce==null||typeof Ce=="object"?At===1&&Ce&&"point"in Ce?(Cn=Ce.point,bn=Ce.handleIn,In=Ce.handleOut,Ln=Ce.selection):(Cn=Ce,bn=Ie,In=ze,Ln=qe):(Cn=[Ce,Ie],bn=ze!==r?[ze,qe]:null,In=Pt!==r?[Pt,_n]:null)),new An(Cn,this,"_point"),new An(bn,this,"_handleIn"),new An(In,this,"_handleOut"),Ln&&this.setSelection(Ln)},_serialize:function(le,Ce){var Ie=this._point,ze=this._selection,qe=ze||this.hasHandles()?[Ie,this._handleIn,this._handleOut]:Ie;return ze&&qe.push(ze),k.serialize(qe,le,!0,Ce)},_changed:function(le){var Ce=this._path;if(Ce){var Ie=Ce._curves,ze=this._index,qe;Ie&&((!le||le===this._point||le===this._handleIn)&&(qe=ze>0?Ie[ze-1]:Ce._closed?Ie[Ie.length-1]:null)&&qe._changed(),(!le||le===this._point||le===this._handleOut)&&(qe=Ie[ze])&&qe._changed()),Ce._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ae.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ae.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ae.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var le=this._handleIn,Ce=this._handleOut;return!le.isZero()&&!Ce.isZero()&&le.isCollinear(Ce)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(le){var Ce=this._selection,Ie=this._path;this._selection=le=le||0,Ie&&le!==Ce&&(Ie._updateSelection(this,Ce,le),Ie._changed(257))},_changeSelection:function(le,Ce){var Ie=this._selection;this.setSelection(Ce?Ie|le:Ie&~le)},isSelected:function(){return!!(this._selection&7)},setSelected:function(le){this._changeSelection(7,le)},getIndex:function(){return this._index!==r?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var le=this._path,Ce=this._index;return le?(Ce>0&&!le._closed&&Ce===le._segments.length-1&&Ce--,le.getCurves()[Ce]||null):null},getLocation:function(){var le=this.getCurve();return le?new En(le,this===le._segment1?0:1):null},getNext:function(){var le=this._path&&this._path._segments;return le&&(le[this._index+1]||this._path._closed&&le[0])||null},smooth:function(le,Ce,Ie){var ze=le||{},qe=ze.type,Pt=ze.factor,_n=this.getPrevious(),At=this.getNext(),Cn=(_n||this)._point,bn=this._point,In=(At||this)._point,Ln=Cn.getDistance(bn),Mn=bn.getDistance(In);if(!qe||qe==="catmull-rom"){var Fn=Pt===r?.5:Pt,er=Math.pow(Ln,Fn),Qn=er*er,nr=Math.pow(Mn,Fn),kn=nr*nr;if(!Ce&&_n){var Un=2*kn+3*nr*er+Qn,On=3*nr*(nr+er);this.setHandleIn(On!==0?new ae((kn*Cn._x+Un*bn._x-Qn*In._x)/On-bn._x,(kn*Cn._y+Un*bn._y-Qn*In._y)/On-bn._y):new ae)}if(!Ie&&At){var Un=2*Qn+3*er*nr+kn,On=3*er*(er+nr);this.setHandleOut(On!==0?new ae((Qn*In._x+Un*bn._x-kn*Cn._x)/On-bn._x,(Qn*In._y+Un*bn._y-kn*Cn._y)/On-bn._y):new ae)}}else if(qe==="geometric"){if(_n&&At){var Rn=Cn.subtract(In),Yn=Pt===r?.4:Pt,or=Yn*Ln/(Ln+Mn);Ce||this.setHandleIn(Rn.multiply(or)),Ie||this.setHandleOut(Rn.multiply(or-Yn))}}else throw new Error("Smoothing method '"+qe+"' not supported.")},getPrevious:function(){var le=this._path&&this._path._segments;return le&&(le[this._index-1]||this._path._closed&&le[le.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var le=this._path;return le&&this._index===le._segments.length-1||!1},reverse:function(){var le=this._handleIn,Ce=this._handleOut,Ie=le.clone();le.set(Ce),Ce.set(Ie)},reversed:function(){return new jt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new jt(this._point,this._handleIn,this._handleOut)},equals:function(le){return le===this||le&&this._class===le._class&&this._point.equals(le._point)&&this._handleIn.equals(le._handleIn)&&this._handleOut.equals(le._handleOut)||!1},toString:function(){var le=["point: "+this._point];return this._handleIn.isZero()||le.push("handleIn: "+this._handleIn),this._handleOut.isZero()||le.push("handleOut: "+this._handleOut),"{ "+le.join(", ")+" }"},transform:function(le){this._transformCoordinates(le,new Array(6),!0),this._changed()},interpolate:function(le,Ce,Ie){var ze=1-Ie,qe=Ie,Pt=le._point,_n=Ce._point,At=le._handleIn,Cn=Ce._handleIn,bn=Ce._handleOut,In=le._handleOut;this._point._set(ze*Pt._x+qe*_n._x,ze*Pt._y+qe*_n._y,!0),this._handleIn._set(ze*At._x+qe*Cn._x,ze*At._y+qe*Cn._y,!0),this._handleOut._set(ze*In._x+qe*bn._x,ze*In._y+qe*bn._y,!0),this._changed()},_transformCoordinates:function(le,Ce,Ie){var ze=this._point,qe=!Ie||!this._handleIn.isZero()?this._handleIn:null,Pt=!Ie||!this._handleOut.isZero()?this._handleOut:null,_n=ze._x,At=ze._y,Cn=2;return Ce[0]=_n,Ce[1]=At,qe&&(Ce[Cn++]=qe._x+_n,Ce[Cn++]=qe._y+At),Pt&&(Ce[Cn++]=Pt._x+_n,Ce[Cn++]=Pt._y+At),le&&(le._transformCoordinates(Ce,Ce,Cn/2),_n=Ce[0],At=Ce[1],Ie?(ze._x=_n,ze._y=At,Cn=2,qe&&(qe._x=Ce[Cn++]-_n,qe._y=Ce[Cn++]-At),Pt&&(Pt._x=Ce[Cn++]-_n,Pt._y=Ce[Cn++]-At)):(qe||(Ce[Cn++]=_n,Ce[Cn++]=At),Pt||(Ce[Cn++]=_n,Ce[Cn++]=At))),Ce}}),An=ae.extend({initialize:function(Ce,Ie,ze){var qe,Pt,_n;if(!Ce)qe=Pt=0;else if((qe=Ce[0])!==r)Pt=Ce[1];else{var At=Ce;(qe=At.x)===r&&(At=ae.read(arguments),qe=At.x),Pt=At.y,_n=At.selected}this._x=qe,this._y=Pt,this._owner=Ie,Ie[ze]=this,_n&&this.setSelected(!0)},_set:function(le,Ce){return this._x=le,this._y=Ce,this._owner._changed(this),this},getX:function(){return this._x},setX:function(le){this._x=le,this._owner._changed(this)},getY:function(){return this._y},setY:function(le){this._y=le,this._owner._changed(this)},isZero:function(){var le=re.isZero;return le(this._x)&&le(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(le){this._owner._changeSelection(this._getSelection(),le)},_getSelection:function(){var le=this._owner;return this===le._point?1:this===le._handleIn?2:this===le._handleOut?4:0}}),Dn=k.extend({_class:"Curve",beans:!0,initialize:function(Ce,Ie,ze,qe,Pt,_n,At,Cn){var bn=arguments.length,In,Ln,Mn,Fn,er,Qn;bn===3?(this._path=Ce,In=Ie,Ln=ze):bn?bn===1?"segment1"in Ce?(In=new jt(Ce.segment1),Ln=new jt(Ce.segment2)):"point1"in Ce?(Mn=Ce.point1,er=Ce.handle1,Qn=Ce.handle2,Fn=Ce.point2):Array.isArray(Ce)&&(Mn=[Ce[0],Ce[1]],Fn=[Ce[6],Ce[7]],er=[Ce[2]-Ce[0],Ce[3]-Ce[1]],Qn=[Ce[4]-Ce[6],Ce[5]-Ce[7]]):bn===2?(In=new jt(Ce),Ln=new jt(Ie)):bn===4?(Mn=Ce,er=Ie,Qn=ze,Fn=qe):bn===8&&(Mn=[Ce,Ie],Fn=[At,Cn],er=[ze-Ce,qe-Ie],Qn=[Pt-At,_n-Cn]):(In=new jt,Ln=new jt),this._segment1=In||new jt(Mn,null,er),this._segment2=Ln||new jt(Fn,Qn,null)},_serialize:function(le,Ce){return k.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],le,!0,Ce)},_changed:function(){this._length=this._bounds=r},clone:function(){return new Dn(this._segment1,this._segment2)},toString:function(){var le=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||le.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||le.push("handle2: "+this._segment2._handleIn),le.push("point2: "+this._segment2._point),"{ "+le.join(", ")+" }"},classify:function(){return Dn.classify(this.getValues())},remove:function(){var le=!1;if(this._path){var Ce=this._segment2,Ie=Ce._handleOut;le=Ce.remove(),le&&this._segment1._handleOut.set(Ie)}return le},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ae.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ae.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ae.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ae.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var le=this._path&&this._path._curves;return le&&(le[this._segment1._index+1]||this._path._closed&&le[0])||null},getPrevious:function(){var le=this._path&&this._path._curves;return le&&(le[this._segment1._index-1]||this._path._closed&&le[le.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var le=this._path;return le&&this._segment1._index===le._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(le){this.getPoint1().setSelected(le),this.getHandle1().setSelected(le),this.getHandle2().setSelected(le),this.getPoint2().setSelected(le)},getValues:function(le){return Dn.getValues(this._segment1,this._segment2,le)},getPoints:function(){for(var le=this.getValues(),Ce=[],Ie=0;Ie<8;Ie+=2)Ce.push(new ae(le[Ie],le[Ie+1]));return Ce}},{getLength:function(){return this._length==null&&(this._length=Dn.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Dn.getArea(this.getValues())},getLine:function(){return new Ne(this._segment1._point,this._segment2._point)},getPart:function(le,Ce){return new Dn(Dn.getPart(this.getValues(),le,Ce))},getPartLength:function(le,Ce){return Dn.getLength(this.getValues(),le,Ce)},divideAt:function(le){return this.divideAtTime(le&&le.curve===this?le.time:this.getTimeAt(le))},divideAtTime:function(le,Ce){var Ie=1e-8,ze=1-Ie,qe=null;if(le>=Ie&&le<=ze){var Pt=Dn.subdivide(this.getValues(),le),_n=Pt[0],At=Pt[1],Cn=Ce||this.hasHandles(),bn=this._segment1,In=this._segment2,Ln=this._path;Cn&&(bn._handleOut._set(_n[2]-_n[0],_n[3]-_n[1]),In._handleIn._set(At[4]-At[6],At[5]-At[7]));var Mn=_n[6],Fn=_n[7],er=new jt(new ae(Mn,Fn),Cn&&new ae(_n[4]-Mn,_n[5]-Fn),Cn&&new ae(At[2]-Mn,At[3]-Fn));Ln?(Ln.insert(bn._index+1,er),qe=this.getNext()):(this._segment2=er,this._changed(),qe=new Dn(er,In))}return qe},splitAt:function(le){var Ce=this._path;return Ce?Ce.splitAt(le):null},splitAtTime:function(le){return this.splitAt(this.getLocationAtTime(le))},divide:function(le,Ce){return this.divideAtTime(le===r?.5:Ce?le:this.getTimeAt(le))},split:function(le,Ce){return this.splitAtTime(le===r?.5:Ce?le:this.getTimeAt(le))},reversed:function(){return new Dn(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(le,Ce,Ie,ze){var qe=le._point,Pt=le._handleOut,_n=Ce._handleIn,At=Ce._point,Cn=qe.x,bn=qe.y,In=At.x,Ln=At.y,Mn=ze?[Cn,bn,Cn,bn,In,Ln,In,Ln]:[Cn,bn,Cn+Pt._x,bn+Pt._y,In+_n._x,Ln+_n._y,In,Ln];return Ie&&Ie._transformCoordinates(Mn,Mn,4),Mn},subdivide:function(le,Ce){var Ie=le[0],ze=le[1],qe=le[2],Pt=le[3],_n=le[4],At=le[5],Cn=le[6],bn=le[7];Ce===r&&(Ce=.5);var In=1-Ce,Ln=In*Ie+Ce*qe,Mn=In*ze+Ce*Pt,Fn=In*qe+Ce*_n,er=In*Pt+Ce*At,Qn=In*_n+Ce*Cn,nr=In*At+Ce*bn,kn=In*Ln+Ce*Fn,Un=In*Mn+Ce*er,On=In*Fn+Ce*Qn,Rn=In*er+Ce*nr,Yn=In*kn+Ce*On,or=In*Un+Ce*Rn;return[[Ie,ze,Ln,Mn,kn,Un,Yn,or],[Yn,or,On,Rn,Qn,nr,Cn,bn]]},getMonoCurves:function(le,Ce){var Ie=[],ze=Ce?0:1,qe=le[ze+0],Pt=le[ze+2],_n=le[ze+4],At=le[ze+6];if(qe>=Pt==Pt>=_n&&Pt>=_n==_n>=At||Dn.isStraight(le))Ie.push(le);else{var Cn=3*(Pt-_n)-qe+At,bn=2*(qe+_n)-4*Pt,In=Pt-qe,Ln=1e-8,Mn=1-Ln,Fn=[],er=re.solveQuadratic(Cn,bn,In,Fn,Ln,Mn);if(!er)Ie.push(le);else{Fn.sort();var Qn=Fn[0],nr=Dn.subdivide(le,Qn);Ie.push(nr[0]),er>1&&(Qn=(Fn[1]-Qn)/(1-Qn),nr=Dn.subdivide(nr[1],Qn),Ie.push(nr[0])),Ie.push(nr[1])}}return Ie},solveCubic:function(le,Ce,Ie,ze,qe,Pt){var _n=le[Ce],At=le[Ce+2],Cn=le[Ce+4],bn=le[Ce+6],In=0;if(!(_n<Ie&&bn<Ie&&At<Ie&&Cn<Ie||_n>Ie&&bn>Ie&&At>Ie&&Cn>Ie)){var Ln=3*(At-_n),Mn=3*(Cn-At)-Ln,Fn=bn-_n-Ln-Mn;In=re.solveCubic(Fn,Mn,Ln,_n-Ie,ze,qe,Pt)}return In},getTimeOf:function(le,Ce){var Ie=new ae(le[0],le[1]),ze=new ae(le[6],le[7]),qe=1e-12,Pt=1e-7,_n=Ce.isClose(Ie,qe)?0:Ce.isClose(ze,qe)?1:null;if(_n===null)for(var At=[Ce.x,Ce.y],Cn=[],bn=0;bn<2;bn++)for(var In=Dn.solveCubic(le,bn,At[bn],Cn,0,1),Ln=0;Ln<In;Ln++){var Mn=Cn[Ln];if(Ce.isClose(Dn.getPoint(le,Mn),Pt))return Mn}return Ce.isClose(Ie,Pt)?0:Ce.isClose(ze,Pt)?1:null},getNearestTime:function(le,Ce){if(Dn.isStraight(le)){var Ie=le[0],ze=le[1],qe=le[6],Pt=le[7],_n=qe-Ie,At=Pt-ze,Cn=_n*_n+At*At;if(Cn===0)return 0;var bn=((Ce.x-Ie)*_n+(Ce.y-ze)*At)/Cn;return bn<1e-12?0:bn>.999999999999?1:Dn.getTimeOf(le,new ae(Ie+bn*_n,ze+bn*At))}var In=100,Ln=1/0,Mn=0;function Fn(nr){if(nr>=0&&nr<=1){var kn=Ce.getDistance(Dn.getPoint(le,nr),!0);if(kn<Ln)return Ln=kn,Mn=nr,!0}}for(var er=0;er<=In;er++)Fn(er/In);for(var Qn=1/(In*2);Qn>1e-8;)!Fn(Mn-Qn)&&!Fn(Mn+Qn)&&(Qn/=2);return Mn},getPart:function(le,Ce,Ie){var ze=Ce>Ie;if(ze){var qe=Ce;Ce=Ie,Ie=qe}return Ce>0&&(le=Dn.subdivide(le,Ce)[1]),Ie<1&&(le=Dn.subdivide(le,(Ie-Ce)/(1-Ce))[0]),ze?[le[6],le[7],le[4],le[5],le[2],le[3],le[0],le[1]]:le},isFlatEnough:function(le,Ce){var Ie=le[0],ze=le[1],qe=le[2],Pt=le[3],_n=le[4],At=le[5],Cn=le[6],bn=le[7],In=3*qe-2*Ie-Cn,Ln=3*Pt-2*ze-bn,Mn=3*_n-2*Cn-Ie,Fn=3*At-2*bn-ze;return Math.max(In*In,Mn*Mn)+Math.max(Ln*Ln,Fn*Fn)<=16*Ce*Ce},getArea:function(le){var Ce=le[0],Ie=le[1],ze=le[2],qe=le[3],Pt=le[4],_n=le[5],At=le[6],Cn=le[7];return 3*((Cn-Ie)*(ze+Pt)-(At-Ce)*(qe+_n)+qe*(Ce-Pt)-ze*(Ie-_n)+Cn*(Pt+Ce/3)-At*(_n+Ie/3))/20},getBounds:function(le){for(var Ce=le.slice(0,2),Ie=Ce.slice(),ze=[0,0],qe=0;qe<2;qe++)Dn._addBounds(le[qe],le[qe+2],le[qe+4],le[qe+6],qe,0,Ce,Ie,ze);return new he(Ce[0],Ce[1],Ie[0]-Ce[0],Ie[1]-Ce[1])},_addBounds:function(le,Ce,Ie,ze,qe,Pt,_n,At,Cn){function bn(Yn,or){var tr=Yn-or,hr=Yn+or;tr<_n[qe]&&(_n[qe]=tr),hr>At[qe]&&(At[qe]=hr)}Pt/=2;var In=_n[qe]+Pt,Ln=At[qe]-Pt;if(le<In||Ce<In||Ie<In||ze<In||le>Ln||Ce>Ln||Ie>Ln||ze>Ln)if(Ce<le!=Ce<ze&&Ie<le!=Ie<ze)bn(le,0),bn(ze,0);else{var Mn=3*(Ce-Ie)-le+ze,Fn=2*(le+Ie)-4*Ce,er=Ce-le,Qn=re.solveQuadratic(Mn,Fn,er,Cn),nr=1e-8,kn=1-nr;bn(ze,0);for(var Un=0;Un<Qn;Un++){var On=Cn[Un],Rn=1-On;nr<=On&&On<=kn&&bn(Rn*Rn*Rn*le+3*Rn*Rn*On*Ce+3*Rn*On*On*Ie+On*On*On*ze,Pt)}}}}},k.each(["getBounds","getStrokeBounds","getHandleBounds"],function(le){this[le]=function(){this._bounds||(this._bounds={});var Ce=this._bounds[le];return Ce||(Ce=this._bounds[le]=$n[le]([this._segment1,this._segment2],!1,this._path)),Ce.clone()}},{}),k.each({isStraight:function(le,Ce,Ie,ze){if(Ce.isZero()&&Ie.isZero())return!0;var qe=ze.subtract(le);if(qe.isZero())return!1;if(qe.isCollinear(Ce)&&qe.isCollinear(Ie)){var Pt=new Ne(le,ze),_n=1e-7;if(Pt.getDistance(le.add(Ce))<_n&&Pt.getDistance(ze.add(Ie))<_n){var At=qe.dot(qe),Cn=qe.dot(Ce)/At,bn=qe.dot(Ie)/At;return Cn>=0&&Cn<=1&&bn<=0&&bn>=-1}}return!1},isLinear:function(le,Ce,Ie,ze){var qe=ze.subtract(le).divide(3);return Ce.equals(qe)&&Ie.negate().equals(qe)}},function(le,Ce){this[Ce]=function(Ie){var ze=this._segment1,qe=this._segment2;return le(ze._point,ze._handleOut,qe._handleIn,qe._point,Ie)},this.statics[Ce]=function(Ie,ze){var qe=Ie[0],Pt=Ie[1],_n=Ie[6],At=Ie[7];return le(new ae(qe,Pt),new ae(Ie[2]-qe,Ie[3]-Pt),new ae(Ie[4]-_n,Ie[5]-At),new ae(_n,At),ze)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(le){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(le||0)},isCollinear:function(le){return le&&this.isStraight()&&le.isStraight()&&this.getLine().isCollinear(le.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(le,Ce){return this.getLocationAtTime(Ce?le:this.getTimeAt(le))},getLocationAtTime:function(le){return le!=null&&le>=0&&le<=1?new En(this,le):null},getTimeAt:function(le,Ce){return Dn.getTimeAt(this.getValues(),le,Ce)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var le=ae.read(arguments);return le.isZero()?[]:Dn.getTimesWithTangent(this.getValues(),le)},getOffsetAtTime:function(le){return this.getPartLength(0,le)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ae.read(arguments)))},getOffsetOf:function(){var le=this.getLocationOf.apply(this,arguments);return le?le.getOffset():null},getTimeOf:function(){return Dn.getTimeOf(this.getValues(),ae.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var le=ae.read(arguments),Ce=this.getValues(),Ie=Dn.getNearestTime(Ce,le),ze=Dn.getPoint(Ce,Ie);return new En(this,Ie,ze,null,le.getDistance(ze))},getNearestPoint:function(){var le=this.getNearestLocation.apply(this,arguments);return le&&le.getPoint()}},new function(){var le=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return k.each(le,function(Ce){this[Ce+"At"]=function(Ie,ze){var qe=this.getValues();return Dn[Ce](qe,ze?Ie:Dn.getTimeAt(qe,Ie))},this[Ce+"AtTime"]=function(Ie){return Dn[Ce](this.getValues(),Ie)}},{statics:{_evaluateMethods:le}})},new function(){function le(ze){var qe=ze[0],Pt=ze[1],_n=ze[2],At=ze[3],Cn=ze[4],bn=ze[5],In=ze[6],Ln=ze[7],Mn=9*(_n-Cn)+3*(In-qe),Fn=6*(qe+Cn)-12*_n,er=3*(_n-qe),Qn=9*(At-bn)+3*(Ln-Pt),nr=6*(Pt+bn)-12*At,kn=3*(At-Pt);return function(Un){var On=(Mn*Un+Fn)*Un+er,Rn=(Qn*Un+nr)*Un+kn;return Math.sqrt(On*On+Rn*Rn)}}function Ce(ze,qe){return Math.max(2,Math.min(16,Math.ceil(Math.abs(qe-ze)*32)))}function Ie(ze,qe,Pt,_n){if(qe==null||qe<0||qe>1)return null;var At=ze[0],Cn=ze[1],bn=ze[2],In=ze[3],Ln=ze[4],Mn=ze[5],Fn=ze[6],er=ze[7],Qn=re.isZero;Qn(bn-At)&&Qn(In-Cn)&&(bn=At,In=Cn),Qn(Ln-Fn)&&Qn(Mn-er)&&(Ln=Fn,Mn=er);var nr=3*(bn-At),kn=3*(Ln-bn)-nr,Un=Fn-At-nr-kn,On=3*(In-Cn),Rn=3*(Mn-In)-On,Yn=er-Cn-On-Rn,or,tr;if(Pt===0)or=qe===0?At:qe===1?Fn:((Un*qe+kn)*qe+nr)*qe+At,tr=qe===0?Cn:qe===1?er:((Yn*qe+Rn)*qe+On)*qe+Cn;else{var hr=1e-8,pr=1-hr;if(qe<hr?(or=nr,tr=On):qe>pr?(or=3*(Fn-Ln),tr=3*(er-Mn)):(or=(3*Un*qe+2*kn)*qe+nr,tr=(3*Yn*qe+2*Rn)*qe+On),_n){or===0&&tr===0&&(qe<hr||qe>pr)&&(or=Ln-bn,tr=Mn-In);var _r=Math.sqrt(or*or+tr*tr);_r&&(or/=_r,tr/=_r)}if(Pt===3){var Ln=6*Un*qe+2*kn,Mn=6*Yn*qe+2*Rn,Or=Math.pow(or*or+tr*tr,3/2);or=Or!==0?(or*Mn-tr*Ln)/Or:0,tr=0}}return Pt===2?new ae(tr,-or):new ae(or,tr)}return{statics:{classify:function(ze){var qe=ze[0],Pt=ze[1],_n=ze[2],At=ze[3],Cn=ze[4],bn=ze[5],In=ze[6],Ln=ze[7],Mn=qe*(Ln-bn)+Pt*(Cn-In)+In*bn-Ln*Cn,Fn=_n*(Pt-Ln)+At*(In-qe)+qe*Ln-Pt*In,er=Cn*(At-Pt)+bn*(qe-_n)+_n*Pt-At*qe,Qn=3*er,nr=Qn-Fn,kn=nr-Fn+Mn,Un=Math.sqrt(kn*kn+nr*nr+Qn*Qn),On=Un!==0?1/Un:0,Rn=re.isZero,Yn="serpentine";kn*=On,nr*=On,Qn*=On;function or(_r,Or,gr){var Sr=Or!==r,kr=Sr&&Or>0&&Or<1,Nr=Sr&&gr>0&&gr<1;return Sr&&(!(kr||Nr)||_r==="loop"&&!(kr&&Nr))&&(_r="arch",kr=Nr=!1),{type:_r,roots:kr||Nr?kr&&Nr?Or<gr?[Or,gr]:[gr,Or]:[kr?Or:gr]:null}}if(Rn(kn))return Rn(nr)?or(Rn(Qn)?"line":"quadratic"):or(Yn,Qn/(3*nr));var tr=3*nr*nr-4*kn*Qn;if(Rn(tr))return or("cusp",nr/(2*kn));var hr=tr>0?Math.sqrt(tr/3):Math.sqrt(-tr),pr=2*kn;return or(tr>0?Yn:"loop",(nr+hr)/pr,(nr-hr)/pr)},getLength:function(ze,qe,Pt,_n){if(qe===r&&(qe=0),Pt===r&&(Pt=1),Dn.isStraight(ze)){var At=ze;Pt<1&&(At=Dn.subdivide(At,Pt)[0],qe/=Pt),qe>0&&(At=Dn.subdivide(At,qe)[1]);var Cn=At[6]-At[0],bn=At[7]-At[1];return Math.sqrt(Cn*Cn+bn*bn)}return re.integrate(_n||le(ze),qe,Pt,Ce(qe,Pt))},getTimeAt:function(ze,qe,Pt){if(Pt===r&&(Pt=qe<0?1:0),qe===0)return Pt;var _n=Math.abs,At=1e-12,Cn=qe>0,bn=Cn?Pt:0,In=Cn?1:Pt,Ln=le(ze),Mn=Dn.getLength(ze,bn,In,Ln),Fn=_n(qe)-Mn;if(_n(Fn)<At)return Cn?In:bn;if(Fn>At)return null;var er=qe/Mn,Qn=0;function nr(kn){return Qn+=re.integrate(Ln,Pt,kn,Ce(Pt,kn)),Pt=kn,Qn-qe}return re.findRoot(nr,Ln,Pt+er,bn,In,32,1e-12)},getPoint:function(ze,qe){return Ie(ze,qe,0,!1)},getTangent:function(ze,qe){return Ie(ze,qe,1,!0)},getWeightedTangent:function(ze,qe){return Ie(ze,qe,1,!1)},getNormal:function(ze,qe){return Ie(ze,qe,2,!0)},getWeightedNormal:function(ze,qe){return Ie(ze,qe,2,!1)},getCurvature:function(ze,qe){return Ie(ze,qe,3,!1).x},getPeaks:function(ze){var qe=ze[0],Pt=ze[1],_n=ze[2],At=ze[3],Cn=ze[4],bn=ze[5],In=ze[6],Ln=ze[7],Mn=-qe+3*_n-3*Cn+In,Fn=3*qe-6*_n+3*Cn,er=-3*qe+3*_n,Qn=-Pt+3*At-3*bn+Ln,nr=3*Pt-6*At+3*bn,kn=-3*Pt+3*At,Un=1e-8,On=1-Un,Rn=[];return re.solveCubic(9*(Mn*Mn+Qn*Qn),9*(Mn*Fn+nr*Qn),2*(Fn*Fn+nr*nr)+3*(er*Mn+kn*Qn),er*Fn+nr*kn,Rn,Un,On),Rn.sort()}}}},new function(){function le(Fn,er,Qn,nr,kn,Un,On){var Rn=!On&&Qn.getPrevious()===kn,Yn=!On&&Qn!==kn&&Qn.getNext()===kn,or=1e-8,tr=1-or;if(nr!==null&&nr>=(Rn?or:0)&&nr<=(Yn?tr:1)&&Un!==null&&Un>=(Yn?or:0)&&Un<=(Rn?tr:1)){var hr=new En(Qn,nr,null,On),pr=new En(kn,Un,null,On);hr._intersection=pr,pr._intersection=hr,(!er||er(hr))&&En.insert(Fn,hr,!0)}}function Ce(Fn,er,Qn,nr,kn,Un,On,Rn,Yn,or,tr,hr,pr){if(++Yn>=4096||++Rn>=40)return Yn;var _r=1e-9,Or=er[0],gr=er[1],Sr=er[6],kr=er[7],Nr=Ne.getSignedDistance,Pr=Nr(Or,gr,Sr,kr,er[2],er[3]),Br=Nr(Or,gr,Sr,kr,er[4],er[5]),Ur=Pr*Br>0?3/4:4/9,jr=Ur*Math.min(0,Pr,Br),Hr=Ur*Math.max(0,Pr,Br),Kr=Nr(Or,gr,Sr,kr,Fn[0],Fn[1]),Mr=Nr(Or,gr,Sr,kr,Fn[2],Fn[3]),Lr=Nr(Or,gr,Sr,kr,Fn[4],Fn[5]),qr=Nr(Or,gr,Sr,kr,Fn[6],Fn[7]),eo=Ie(Kr,Mr,Lr,qr),Jr=eo[0],oo=eo[1],ro,ao;if(Pr===0&&Br===0&&Kr===0&&Mr===0&&Lr===0&&qr===0||(ro=ze(Jr,oo,jr,Hr))==null||(ao=ze(Jr.reverse(),oo.reverse(),jr,Hr))==null)return Yn;var lo=or+(tr-or)*ro,io=or+(tr-or)*ao;if(Math.max(pr-hr,io-lo)<_r){var Xr=(lo+io)/2,yo=(hr+pr)/2;le(kn,Un,On?nr:Qn,On?yo:Xr,On?Qn:nr,On?Xr:yo)}else{Fn=Dn.getPart(Fn,ro,ao);var ko=pr-hr;if(ao-ro>.8)if(io-lo>ko){var Oo=Dn.subdivide(Fn,.5),Xr=(lo+io)/2;Yn=Ce(er,Oo[0],nr,Qn,kn,Un,!On,Rn,Yn,hr,pr,lo,Xr),Yn=Ce(er,Oo[1],nr,Qn,kn,Un,!On,Rn,Yn,hr,pr,Xr,io)}else{var Oo=Dn.subdivide(er,.5),yo=(hr+pr)/2;Yn=Ce(Oo[0],Fn,nr,Qn,kn,Un,!On,Rn,Yn,hr,yo,lo,io),Yn=Ce(Oo[1],Fn,nr,Qn,kn,Un,!On,Rn,Yn,yo,pr,lo,io)}else ko===0||ko>=_r?Yn=Ce(er,Fn,nr,Qn,kn,Un,!On,Rn,Yn,hr,pr,lo,io):Yn=Ce(Fn,er,Qn,nr,kn,Un,On,Rn,Yn,lo,io,hr,pr)}return Yn}function Ie(Fn,er,Qn,nr){var kn=[0,Fn],Un=[1/3,er],On=[2/3,Qn],Rn=[1,nr],Yn=er-(2*Fn+nr)/3,or=Qn-(Fn+2*nr)/3,tr;if(Yn*or<0)tr=[[kn,Un,Rn],[kn,On,Rn]];else{var hr=Yn/or;tr=[hr>=2?[kn,Un,Rn]:hr<=.5?[kn,On,Rn]:[kn,Un,On,Rn],[kn,Rn]]}return(Yn||or)<0?tr.reverse():tr}function ze(Fn,er,Qn,nr){return Fn[0][1]<Qn?qe(Fn,!0,Qn):er[0][1]>nr?qe(er,!1,nr):Fn[0][0]}function qe(Fn,er,Qn){for(var nr=Fn[0][0],kn=Fn[0][1],Un=1,On=Fn.length;Un<On;Un++){var Rn=Fn[Un][0],Yn=Fn[Un][1];if(er?Yn>=Qn:Yn<=Qn)return Yn===Qn?Rn:nr+(Qn-kn)*(Rn-nr)/(Yn-kn);nr=Rn,kn=Yn}return null}function Pt(Fn,er,Qn,nr,kn){var Un=re.isZero;if(Un(nr)&&Un(kn)){var On=Dn.getTimeOf(Fn,new ae(er,Qn));return On===null?[]:[On]}for(var Rn=Math.atan2(-kn,nr),Yn=Math.sin(Rn),or=Math.cos(Rn),tr=[],hr=[],pr=0;pr<8;pr+=2){var _r=Fn[pr]-er,Or=Fn[pr+1]-Qn;tr.push(_r*or-Or*Yn,_r*Yn+Or*or)}return Dn.solveCubic(tr,1,0,hr,0,1),hr}function _n(Fn,er,Qn,nr,kn,Un,On){for(var Rn=er[0],Yn=er[1],or=er[6],tr=er[7],hr=Pt(Fn,Rn,Yn,or-Rn,tr-Yn),pr=0,_r=hr.length;pr<_r;pr++){var Or=hr[pr],gr=Dn.getPoint(Fn,Or),Sr=Dn.getTimeOf(er,gr);Sr!==null&&le(kn,Un,On?nr:Qn,On?Sr:Or,On?Qn:nr,On?Or:Sr)}}function At(Fn,er,Qn,nr,kn,Un){var On=Ne.intersect(Fn[0],Fn[1],Fn[6],Fn[7],er[0],er[1],er[6],er[7]);On&&le(kn,Un,Qn,Dn.getTimeOf(Fn,On),nr,Dn.getTimeOf(er,On))}function Cn(Fn,er,Qn,nr,kn,Un){var On=1e-12,Rn=Math.min,Yn=Math.max;if(Yn(Fn[0],Fn[2],Fn[4],Fn[6])+On>Rn(er[0],er[2],er[4],er[6])&&Rn(Fn[0],Fn[2],Fn[4],Fn[6])-On<Yn(er[0],er[2],er[4],er[6])&&Yn(Fn[1],Fn[3],Fn[5],Fn[7])+On>Rn(er[1],er[3],er[5],er[7])&&Rn(Fn[1],Fn[3],Fn[5],Fn[7])-On<Yn(er[1],er[3],er[5],er[7])){var or=Ln(Fn,er);if(or)for(var tr=0;tr<2;tr++){var hr=or[tr];le(kn,Un,Qn,hr[0],nr,hr[1],!0)}else{var pr=Dn.isStraight(Fn),_r=Dn.isStraight(er),Or=pr&&_r,gr=pr&&!_r,Sr=kn.length;if((Or?At:pr||_r?_n:Ce)(gr?er:Fn,gr?Fn:er,gr?nr:Qn,gr?Qn:nr,kn,Un,gr,0,0,0,1,0,1),!Or||kn.length===Sr)for(var tr=0;tr<4;tr++){var kr=tr>>1,Nr=tr&1,Pr=kr*6,Br=Nr*6,Ur=new ae(Fn[Pr],Fn[Pr+1]),jr=new ae(er[Br],er[Br+1]);Ur.isClose(jr,On)&&le(kn,Un,Qn,kr,nr,Nr)}}}return kn}function bn(Fn,er,Qn,nr){var kn=Dn.classify(Fn);if(kn.type==="loop"){var Un=kn.roots;le(Qn,nr,er,Un[0],er,Un[1])}return Qn}function In(Fn,er,Qn,nr,kn,Un){var On=1e-7,Rn=!er;Rn&&(er=Fn);for(var Yn=Fn.length,or=er.length,tr=new Array(Yn),hr=Rn?tr:new Array(or),pr=[],_r=0;_r<Yn;_r++)tr[_r]=Fn[_r].getValues(nr);if(!Rn)for(var _r=0;_r<or;_r++)hr[_r]=er[_r].getValues(kn);for(var Or=z.findCurveBoundsCollisions(tr,hr,On),gr=0;gr<Yn;gr++){var Sr=Fn[gr],kr=tr[gr];Rn&&bn(kr,Sr,pr,Qn);var Nr=Or[gr];if(Nr)for(var Pr=0;Pr<Nr.length;Pr++){if(Un&&pr.length)return pr;var Br=Nr[Pr];if(!Rn||Br>gr){var Ur=er[Br],jr=hr[Br];Cn(kr,jr,Sr,Ur,pr,Qn)}}}return pr}function Ln(Fn,er){function Qn(qr){var eo=qr[6]-qr[0],Jr=qr[7]-qr[1];return eo*eo+Jr*Jr}var nr=Math.abs,kn=Ne.getDistance,Un=1e-8,On=1e-7,Rn=Dn.isStraight(Fn),Yn=Dn.isStraight(er),or=Rn&&Yn,tr=Qn(Fn)<Qn(er),hr=tr?er:Fn,pr=tr?Fn:er,_r=hr[0],Or=hr[1],gr=hr[6]-_r,Sr=hr[7]-Or;if(kn(_r,Or,gr,Sr,pr[0],pr[1],!0)<On&&kn(_r,Or,gr,Sr,pr[6],pr[7],!0)<On)!or&&kn(_r,Or,gr,Sr,hr[2],hr[3],!0)<On&&kn(_r,Or,gr,Sr,hr[4],hr[5],!0)<On&&kn(_r,Or,gr,Sr,pr[2],pr[3],!0)<On&&kn(_r,Or,gr,Sr,pr[4],pr[5],!0)<On&&(Rn=Yn=or=!0);else if(or)return null;if(Rn^Yn)return null;for(var kr=[Fn,er],Nr=[],Pr=0;Pr<4&&Nr.length<2;Pr++){var Br=Pr&1,Ur=Br^1,jr=Pr>>1,Hr=Dn.getTimeOf(kr[Br],new ae(kr[Ur][jr?6:0],kr[Ur][jr?7:1]));if(Hr!=null){var Kr=Br?[jr,Hr]:[Hr,jr];(!Nr.length||nr(Kr[0]-Nr[0][0])>Un&&nr(Kr[1]-Nr[0][1])>Un)&&Nr.push(Kr)}if(Pr>2&&!Nr.length)break}if(Nr.length!==2)Nr=null;else if(!or){var Mr=Dn.getPart(Fn,Nr[0][0],Nr[1][0]),Lr=Dn.getPart(er,Nr[0][1],Nr[1][1]);(nr(Lr[2]-Mr[2])>On||nr(Lr[3]-Mr[3])>On||nr(Lr[4]-Mr[4])>On||nr(Lr[5]-Mr[5])>On)&&(Nr=null)}return Nr}function Mn(Fn,er){var Qn=Fn[0],nr=Fn[1],kn=Fn[2],Un=Fn[3],On=Fn[4],Rn=Fn[5],Yn=Fn[6],or=Fn[7],tr=er.normalize(),hr=tr.x,pr=tr.y,_r=3*Yn-9*On+9*kn-3*Qn,Or=3*or-9*Rn+9*Un-3*nr,gr=6*On-12*kn+6*Qn,Sr=6*Rn-12*Un+6*nr,kr=3*kn-3*Qn,Nr=3*Un-3*nr,Pr=2*_r*pr-2*Or*hr,Br=[];if(Math.abs(Pr)<re.CURVETIME_EPSILON){var Ur=_r*Nr-Or*kr,Pr=_r*Sr-Or*gr;if(Pr!=0){var jr=-Ur/Pr;jr>=0&&jr<=1&&Br.push(jr)}}else{var Hr=(gr*gr-4*_r*kr)*pr*pr+(-2*gr*Sr+4*Or*kr+4*_r*Nr)*hr*pr+(Sr*Sr-4*Or*Nr)*hr*hr,Kr=gr*pr-Sr*hr;if(Hr>=0&&Pr!=0){var Mr=Math.sqrt(Hr),Lr=-(Kr+Mr)/Pr,qr=(-Kr+Mr)/Pr;Lr>=0&&Lr<=1&&Br.push(Lr),qr>=0&&qr<=1&&Br.push(qr)}}return Br}return{getIntersections:function(Fn){var er=this.getValues(),Qn=Fn&&Fn!==this&&Fn.getValues();return Qn?Cn(er,Qn,this,Fn,[]):bn(er,this,[])},statics:{getOverlaps:Ln,getIntersections:In,getCurveLineIntersections:Pt,getTimesWithTangent:Mn}}}),En=k.extend({_class:"CurveLocation",initialize:function(Ce,Ie,ze,qe,Pt){if(Ie>=.99999999){var _n=Ce.getNext();_n&&(Ie=0,Ce=_n)}this._setCurve(Ce),this._time=Ie,this._point=ze||Ce.getPointAtTime(Ie),this._overlap=qe,this._distance=Pt,this._intersection=this._next=this._previous=null},_setPath:function(le){this._path=le,this._version=le?le._version:0},_setCurve:function(le){this._setPath(le._path),this._curve=le,this._segment=null,this._segment1=le._segment1,this._segment2=le._segment2},_setSegment:function(le){var Ce=le.getCurve();Ce?this._setCurve(Ce):(this._setPath(le._path),this._segment1=le,this._segment2=null),this._segment=le,this._time=le===this._segment1?0:1,this._point=le._point.clone()},getSegment:function(){var le=this._segment;if(!le){var Ce=this.getCurve(),Ie=this.getTime();Ie===0?le=Ce._segment1:Ie===1?le=Ce._segment2:Ie!=null&&(le=Ce.getPartLength(0,Ie)<Ce.getPartLength(Ie,1)?Ce._segment1:Ce._segment2),this._segment=le}return le},getCurve:function(){var le=this._path,Ce=this;le&&le._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function Ie(ze){var qe=ze&&ze.getCurve();if(qe&&(Ce._time=qe.getTimeOf(Ce._point))!=null)return Ce._setCurve(qe),qe}return this._curve||Ie(this._segment)||Ie(this._segment1)||Ie(this._segment2.getPrevious())},getPath:function(){var le=this.getCurve();return le&&le._path},getIndex:function(){var le=this.getCurve();return le&&le.getIndex()},getTime:function(){var le=this.getCurve(),Ce=this._time;return le&&Ce==null?this._time=le.getTimeOf(this._point):Ce},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var le=this._offset;if(le==null){le=0;var Ce=this.getPath(),Ie=this.getIndex();if(Ce&&Ie!=null)for(var ze=Ce.getCurves(),qe=0;qe<Ie;qe++)le+=ze[qe].getLength();this._offset=le+=this.getCurveOffset()}return le},getCurveOffset:function(){var le=this._curveOffset;if(le==null){var Ce=this.getCurve(),Ie=this.getTime();this._curveOffset=le=Ie!=null&&Ce&&Ce.getPartLength(0,Ie)}return le},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var le=this.getCurve(),Ce=le&&le.divideAtTime(this.getTime());return Ce&&this._setSegment(Ce._segment1),Ce},split:function(){var le=this.getCurve(),Ce=le._path,Ie=le&&le.splitAtTime(this.getTime());return Ie&&this._setSegment(Ce.getLastSegment()),Ie},equals:function(le,Ce){var Ie=this===le;if(!Ie&&le instanceof En){var ze=this.getCurve(),qe=le.getCurve(),Pt=ze._path,_n=qe._path;if(Pt===_n){var At=Math.abs,Cn=1e-7,bn=At(this.getOffset()-le.getOffset()),In=!Ce&&this._intersection,Ln=!Ce&&le._intersection;Ie=(bn<Cn||Pt&&At(Pt.getLength()-bn)<Cn)&&(!In&&!Ln||In&&Ln&&In.equals(Ln,!0))}}return Ie},toString:function(){var le=[],Ce=this.getPoint(),Ie=j.instance;Ce&&le.push("point: "+Ce);var ze=this.getIndex();ze!=null&&le.push("index: "+ze);var qe=this.getTime();return qe!=null&&le.push("time: "+Ie.number(qe)),this._distance!=null&&le.push("distance: "+Ie.number(this._distance)),"{ "+le.join(", ")+" }"},isTouching:function(){var le=this._intersection;if(le&&this.getTangent().isCollinear(le.getTangent())){var Ce=this.getCurve(),Ie=le.getCurve();return!(Ce.isStraight()&&Ie.isStraight()&&Ce.getLine().intersect(Ie.getLine()))}return!1},isCrossing:function(){var le=this._intersection;if(!le)return!1;var Ce=this.getTime(),Ie=le.getTime(),ze=1e-8,qe=1-ze,Pt=Ce>=ze&&Ce<=qe,_n=Ie>=ze&&Ie<=qe;if(Pt&&_n)return!this.isTouching();var At=this.getCurve(),Cn=At&&Ce<ze?At.getPrevious():At,bn=le.getCurve(),In=bn&&Ie<ze?bn.getPrevious():bn;if(Ce>qe&&(At=At.getNext()),Ie>qe&&(bn=bn.getNext()),!Cn||!At||!In||!bn)return!1;var Ln=[];function Mn(hr,pr){var _r=hr.getValues(),Or=Dn.classify(_r).roots||Dn.getPeaks(_r),gr=Or.length,Sr=Dn.getLength(_r,pr&&gr?Or[gr-1]:0,!pr&&gr?Or[0]:1);Ln.push(gr?Sr:Sr/32)}function Fn(hr,pr,_r){return pr<_r?hr>pr&&hr<_r:hr>pr||hr<_r}Pt||(Mn(Cn,!0),Mn(At,!1)),_n||(Mn(In,!0),Mn(bn,!1));var er=this.getPoint(),Qn=Math.min.apply(Math,Ln),nr=Pt?At.getTangentAtTime(Ce):At.getPointAt(Qn).subtract(er),kn=Pt?nr.negate():Cn.getPointAt(-Qn).subtract(er),Un=_n?bn.getTangentAtTime(Ie):bn.getPointAt(Qn).subtract(er),On=_n?Un.negate():In.getPointAt(-Qn).subtract(er),Rn=kn.getAngle(),Yn=nr.getAngle(),or=On.getAngle(),tr=Un.getAngle();return!!(Pt?Fn(Rn,or,tr)^Fn(Yn,or,tr)&&Fn(Rn,tr,or)^Fn(Yn,tr,or):Fn(or,Rn,Yn)^Fn(tr,Rn,Yn)&&Fn(or,Yn,Rn)^Fn(tr,Yn,Rn))},hasOverlap:function(){return!!this._overlap}},k.each(Dn._evaluateMethods,function(le){var Ce=le+"At";this[le]=function(){var Ie=this.getCurve(),ze=this.getTime();return ze!=null&&Ie&&Ie[Ce](ze,!0)}},{preserve:!0}),new function(){function le(Ce,Ie,ze){var qe=Ce.length,Pt=0,_n=qe-1;function At(er,Qn){for(var nr=er+Qn;nr>=-1&&nr<=qe;nr+=Qn){var kn=Ce[(nr%qe+qe)%qe];if(!Ie.getPoint().isClose(kn.getPoint(),1e-7))break;if(Ie.equals(kn))return kn}return null}for(;Pt<=_n;){var Cn=Pt+_n>>>1,bn=Ce[Cn],In;if(ze&&(In=Ie.equals(bn)?bn:At(Cn,-1)||At(Cn,1)))return Ie._overlap&&(In._overlap=In._intersection._overlap=!0),In;var Ln=Ie.getPath(),Mn=bn.getPath(),Fn=Ln!==Mn?Ln._id-Mn._id:Ie.getIndex()+Ie.getTime()-(bn.getIndex()+bn.getTime());Fn<0?_n=Cn-1:Pt=Cn+1}return Ce.splice(Pt,0,Ie),Ie}return{statics:{insert:le,expand:function(Ce){for(var Ie=Ce.slice(),ze=Ce.length-1;ze>=0;ze--)le(Ie,Ce[ze]._intersection,!1);return Ie}}}}),Bn=_e.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(le){var Ce,Ie,ze;if(k.isPlainObject(le)?(Ie=le.segments,Ce=le.pathData):Array.isArray(le)?Ie=le:typeof le=="string"&&(Ce=le),Ie){var qe=Ie[0];ze=qe&&Array.isArray(qe[0])}else Ce&&(ze=(Ce.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(Ce));var Pt=ze?Wn:$n;return new Pt(le)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(le){this.isClockwise()!=(le=!!le)&&this.reverse()},setPathData:function(le){var Ce=le&&le.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),Ie,ze=!1,qe,Pt,_n=new ae,At=new ae;function Cn(On,Rn){var Yn=+Ie[On];return ze&&(Yn+=_n[Rn]),Yn}function bn(On){return new ae(Cn(On,"x"),Cn(On+1,"y"))}this.clear();for(var In=0,Ln=Ce&&Ce.length;In<Ln;In++){var Mn=Ce[In],Fn=Mn[0],er=Fn.toLowerCase();Ie=Mn.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var Qn=Ie&&Ie.length;switch(ze=Fn===er,qe==="z"&&!/[mz]/.test(er)&&this.moveTo(_n),er){case"m":case"l":for(var nr=er==="m",kn=0;kn<Qn;kn+=2)this[nr?"moveTo":"lineTo"](_n=bn(kn)),nr&&(At=_n,nr=!1);Pt=_n;break;case"h":case"v":var Un=er==="h"?"x":"y";_n=_n.clone();for(var kn=0;kn<Qn;kn++)_n[Un]=Cn(kn,Un),this.lineTo(_n);Pt=_n;break;case"c":for(var kn=0;kn<Qn;kn+=6)this.cubicCurveTo(bn(kn),Pt=bn(kn+2),_n=bn(kn+4));break;case"s":for(var kn=0;kn<Qn;kn+=4)this.cubicCurveTo(/[cs]/.test(qe)?_n.multiply(2).subtract(Pt):_n,Pt=bn(kn),_n=bn(kn+2)),qe=er;break;case"q":for(var kn=0;kn<Qn;kn+=4)this.quadraticCurveTo(Pt=bn(kn),_n=bn(kn+2));break;case"t":for(var kn=0;kn<Qn;kn+=2)this.quadraticCurveTo(Pt=/[qt]/.test(qe)?_n.multiply(2).subtract(Pt):_n,_n=bn(kn)),qe=er;break;case"a":for(var kn=0;kn<Qn;kn+=7)this.arcTo(_n=bn(kn+5),new ue(+Ie[kn],+Ie[kn+1]),+Ie[kn+2],+Ie[kn+4],+Ie[kn+3]);break;case"z":this.closePath(1e-12),_n=At;break}qe=er}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(le){var Ce=le.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(le):{};return Ce.onPath||!!(this.getFillRule()==="evenodd"?Ce.windingL&1||Ce.windingR&1:Ce.winding)},getIntersections:function(le,Ce,Ie,ze){var qe=this===le||!le,Pt=this._matrix._orNullIfIdentity(),_n=qe?Pt:(Ie||le._matrix)._orNullIfIdentity();return qe||this.getBounds(Pt).intersects(le.getBounds(_n),1e-12)?Dn.getIntersections(this.getCurves(),!qe&&le.getCurves(),Ce,Pt,_n,ze):[]},getCrossings:function(le){return this.getIntersections(le,function(Ce){return Ce.isCrossing()})},getNearestLocation:function(){for(var le=ae.read(arguments),Ce=this.getCurves(),Ie=1/0,ze=null,qe=0,Pt=Ce.length;qe<Pt;qe++){var _n=Ce[qe].getNearestLocation(le);_n._distance<Ie&&(Ie=_n._distance,ze=_n)}return ze},getNearestPoint:function(){var le=this.getNearestLocation.apply(this,arguments);return le&&le.getPoint()},interpolate:function(le,Ce,Ie){var ze=!this._children,qe=ze?"_segments":"_children",Pt=le[qe],_n=Ce[qe],At=this[qe];if(!Pt||!_n||Pt.length!==_n.length)throw new Error("Invalid operands in interpolate() call: "+le+", "+Ce);var Cn=At.length,bn=_n.length;if(Cn<bn)for(var In=ze?jt:$n,Ln=Cn;Ln<bn;Ln++)this.add(new In);else Cn>bn&&this[ze?"removeSegments":"removeChildren"](bn,Cn);for(var Ln=0;Ln<bn;Ln++)At[Ln].interpolate(Pt[Ln],_n[Ln],Ie);ze&&(this.setClosed(le._closed),this._changed(9))},compare:function(le){var Ce=!1;if(le){var Ie=this._children||[this],ze=le._children?le._children.slice():[le],qe=Ie.length,Pt=ze.length,_n=[],At=0;Ce=!0;for(var Cn=z.findItemBoundsCollisions(Ie,ze,re.GEOMETRIC_EPSILON),bn=qe-1;bn>=0&&Ce;bn--){var In=Ie[bn];Ce=!1;var Ln=Cn[bn];if(Ln)for(var Mn=Ln.length-1;Mn>=0&&!Ce;Mn--)In.compare(ze[Ln[Mn]])&&(_n[Ln[Mn]]||(_n[Ln[Mn]]=!0,At++),Ce=!0)}Ce=Ce&&At===Pt}return Ce}}),$n=Bn.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(Ce){this._closed=!1,this._segments=[],this._version=0;var Ie=arguments,ze=Array.isArray(Ce)?typeof Ce[0]=="object"?Ce:Ie:Ce&&Ce.size===r&&(Ce.x!==r||Ce.point!==r)?Ie:null;ze&&ze.length>0?this.setSegments(ze):(this._curves=r,this._segmentSelection=0,!ze&&typeof Ce=="string"&&(this.setPathData(Ce),Ce=null)),this._initialize(!ze&&Ce)},_equals:function(le){return this._closed===le._closed&&k.equals(this._segments,le._segments)},copyContent:function(le){this.setSegments(le._segments),this._closed=le._closed},_changed:function le(Ce){if(le.base.call(this,Ce),Ce&8){if(this._length=this._area=r,Ce&32)this._version++;else if(this._curves)for(var Ie=0,ze=this._curves.length;Ie<ze;Ie++)this._curves[Ie]._changed()}else Ce&64&&(this._bounds=r)},getStyle:function(){var le=this._parent;return(le instanceof Wn?le:this)._style},getSegments:function(){return this._segments},setSegments:function(le){var Ce=this.isFullySelected(),Ie=le&&le.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=r,Ie){var ze=le[Ie-1];typeof ze=="boolean"&&(this.setClosed(ze),Ie--),this._add(jt.readList(le,0,{},Ie))}Ce&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var le=this._curves,Ce=this._segments;if(!le){var Ie=this._countCurves();le=this._curves=new Array(Ie);for(var ze=0;ze<Ie;ze++)le[ze]=new Dn(this,Ce[ze],Ce[ze+1]||Ce[0])}return le},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var le=this.getCurves();return le[le.length-1]},isClosed:function(){return this._closed},setClosed:function(le){if(this._closed!=(le=!!le)){if(this._closed=le,this._curves){var Ce=this._curves.length=this._countCurves();le&&(this._curves[Ce-1]=new Dn(this,this._segments[Ce-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(le,Ce){var Ie=this._segments,ze=Ie.length,qe=new j(Ce),Pt=new Array(6),_n=!0,At,Cn,bn,In,Ln,Mn,Fn,er,Qn=[];function nr(Un,On){if(Un._transformCoordinates(le,Pt),At=Pt[0],Cn=Pt[1],_n)Qn.push("M"+qe.pair(At,Cn)),_n=!1;else if(Ln=Pt[2],Mn=Pt[3],Ln===At&&Mn===Cn&&Fn===bn&&er===In){if(!On){var Rn=At-bn,Yn=Cn-In;Qn.push(Rn===0?"v"+qe.number(Yn):Yn===0?"h"+qe.number(Rn):"l"+qe.pair(Rn,Yn))}}else Qn.push("c"+qe.pair(Fn-bn,er-In)+" "+qe.pair(Ln-bn,Mn-In)+" "+qe.pair(At-bn,Cn-In));bn=At,In=Cn,Fn=Pt[4],er=Pt[5]}if(!ze)return"";for(var kn=0;kn<ze;kn++)nr(Ie[kn]);return this._closed&&ze>0&&(nr(Ie[0],!0),Qn.push("z")),Qn.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(le){for(var Ce=this._segments,Ie=new Array(6),ze=0,qe=Ce.length;ze<qe;ze++)Ce[ze]._transformCoordinates(le,Ie,!0);return!0},_add:function(le,_n){for(var Ie=this._segments,ze=this._curves,qe=le.length,Pt=_n==null,_n=Pt?Ie.length:_n,At=0;At<qe;At++){var Cn=le[At];Cn._path&&(Cn=le[At]=Cn.clone()),Cn._path=this,Cn._index=_n+At,Cn._selection&&this._updateSelection(Cn,0,Cn._selection)}if(Pt)k.push(Ie,le);else{Ie.splice.apply(Ie,[_n,0].concat(le));for(var At=_n+qe,bn=Ie.length;At<bn;At++)Ie[At]._index=At}if(ze){var In=this._countCurves(),Ln=_n>0&&_n+qe-1===In?_n-1:_n,Mn=Ln,Fn=Math.min(Ln+qe,In);le._curves&&(ze.splice.apply(ze,[Ln,0].concat(le._curves)),Mn+=le._curves.length);for(var At=Mn;At<Fn;At++)ze.splice(At,0,new Dn(this,null,null));this._adjustCurves(Ln,Fn)}return this._changed(41),le},_adjustCurves:function(le,Ce){for(var Ie=this._segments,ze=this._curves,qe,Pt=le;Pt<Ce;Pt++)qe=ze[Pt],qe._path=this,qe._segment1=Ie[Pt],qe._segment2=Ie[Pt+1]||Ie[0],qe._changed();(qe=ze[this._closed&&!le?Ie.length-1:le-1])&&(qe._segment2=Ie[le]||Ie[0],qe._changed()),(qe=ze[Ce])&&(qe._segment1=Ie[Ce],qe._changed())},_countCurves:function(){var le=this._segments.length;return!this._closed&&le>0?le-1:le},add:function(le){var Ce=arguments;return Ce.length>1&&typeof le!="number"?this._add(jt.readList(Ce)):this._add([jt.read(Ce)])[0]},insert:function(le,Ce){var Ie=arguments;return Ie.length>2&&typeof Ce!="number"?this._add(jt.readList(Ie,1),le):this._add([jt.read(Ie,1)],le)[0]},addSegment:function(){return this._add([jt.read(arguments)])[0]},insertSegment:function(le){return this._add([jt.read(arguments,1)],le)[0]},addSegments:function(le){return this._add(jt.readList(le))},insertSegments:function(le,Ce){return this._add(jt.readList(Ce),le)},removeSegment:function(le){return this.removeSegments(le,le+1)[0]||null},removeSegments:function(le,Ce,Ie){le=le||0,Ce=k.pick(Ce,this._segments.length);var ze=this._segments,qe=this._curves,Pt=ze.length,_n=ze.splice(le,Ce-le),At=_n.length;if(!At)return _n;for(var Cn=0;Cn<At;Cn++){var bn=_n[Cn];bn._selection&&this._updateSelection(bn,bn._selection,0),bn._index=bn._path=null}for(var Cn=le,In=ze.length;Cn<In;Cn++)ze[Cn]._index=Cn;if(qe){for(var Ln=le>0&&Ce===Pt+(this._closed?1:0)?le-1:le,qe=qe.splice(Ln,At),Cn=qe.length-1;Cn>=0;Cn--)qe[Cn]._path=null;Ie&&(_n._curves=qe.slice(1)),this._adjustCurves(Ln,Ln)}return this._changed(41),_n},clear:"#removeSegments",hasHandles:function(){for(var le=this._segments,Ce=0,Ie=le.length;Ce<Ie;Ce++)if(le[Ce].hasHandles())return!0;return!1},clearHandles:function(){for(var le=this._segments,Ce=0,Ie=le.length;Ce<Ie;Ce++)le[Ce].clearHandles()},getLength:function(){if(this._length==null){for(var le=this.getCurves(),Ce=0,Ie=0,ze=le.length;Ie<ze;Ie++)Ce+=le[Ie].getLength();this._length=Ce}return this._length},getArea:function(){var le=this._area;if(le==null){var Ce=this._segments,Ie=this._closed;le=0;for(var ze=0,qe=Ce.length;ze<qe;ze++){var Pt=ze+1===qe;le+=Dn.getArea(Dn.getValues(Ce[ze],Ce[Pt?0:ze+1],null,Pt&&!Ie))}this._area=le}return le},isFullySelected:function(){var le=this._segments.length;return this.isSelected()&&le>0&&this._segmentSelection===le*7},setFullySelected:function(le){le&&this._selectSegments(!0),this.setSelected(le)},setSelection:function le(Ce){Ce&1||this._selectSegments(!1),le.base.call(this,Ce)},_selectSegments:function(le){var Ce=this._segments,Ie=Ce.length,ze=le?7:0;this._segmentSelection=ze*Ie;for(var qe=0;qe<Ie;qe++)Ce[qe]._selection=ze},_updateSelection:function(le,Ce,Ie){le._selection=Ie;var ze=this._segmentSelection+=Ie-Ce;ze>0&&this.setSelected(!0)},divideAt:function(le){var Ce=this.getLocationAt(le),Ie;return Ce&&(Ie=Ce.getCurve().divideAt(Ce.getCurveOffset()))?Ie._segment1:null},splitAt:function(le){var Ce=this.getLocationAt(le),Ie=Ce&&Ce.index,ze=Ce&&Ce.time,qe=1e-8,Pt=1-qe;ze>Pt&&(Ie++,ze=0);var _n=this.getCurves();if(Ie>=0&&Ie<_n.length){ze>=qe&&_n[Ie++].divideAtTime(ze);var At=this.removeSegments(Ie,this._segments.length,!0),Cn;return this._closed?(this.setClosed(!1),Cn=this):(Cn=new $n(_e.NO_INSERT),Cn.insertAbove(this),Cn.copyAttributes(this)),Cn._add(At,0),this.addSegment(At[0]),Cn}return null},split:function(le,Ce){var Ie,ze=Ce===r?le:(Ie=this.getCurves()[le])&&Ie.getLocationAtTime(Ce);return ze!=null?this.splitAt(ze):null},join:function(le,Ce){var Ie=Ce||0;if(le&&le!==this){var ze=le._segments,qe=this.getLastSegment(),Pt=le.getLastSegment();if(!Pt)return this;qe&&qe._point.isClose(Pt._point,Ie)&&le.reverse();var _n=le.getFirstSegment();if(qe&&qe._point.isClose(_n._point,Ie))qe.setHandleOut(_n._handleOut),this._add(ze.slice(1));else{var At=this.getFirstSegment();At&&At._point.isClose(_n._point,Ie)&&le.reverse(),Pt=le.getLastSegment(),At&&At._point.isClose(Pt._point,Ie)?(At.setHandleIn(Pt._handleIn),this._add(ze.slice(0,ze.length-1),0)):this._add(ze.slice())}le._closed&&this._add([ze[0]]),le.remove()}var Cn=this.getFirstSegment(),bn=this.getLastSegment();return Cn!==bn&&Cn._point.isClose(bn._point,Ie)&&(Cn.setHandleIn(bn._handleIn),bn.remove(),this.setClosed(!0)),this},reduce:function(le){for(var Ce=this.getCurves(),Ie=le&&le.simplify,ze=Ie?1e-7:0,qe=Ce.length-1;qe>=0;qe--){var Pt=Ce[qe];!Pt.hasHandles()&&(!Pt.hasLength(ze)||Ie&&Pt.isCollinear(Pt.getNext()))&&Pt.remove()}return this},reverse:function(){this._segments.reverse();for(var le=0,Ce=this._segments.length;le<Ce;le++){var Ie=this._segments[le],ze=Ie._handleIn;Ie._handleIn=Ie._handleOut,Ie._handleOut=ze,Ie._index=le}this._curves=null,this._changed(9)},flatten:function(le){for(var Ce=new Gn(this,le||.25,256,!0),Ie=Ce.parts,ze=Ie.length,qe=[],Pt=0;Pt<ze;Pt++)qe.push(new jt(Ie[Pt].curve.slice(0,2)));!this._closed&&ze>0&&qe.push(new jt(Ie[ze-1].curve.slice(6))),this.setSegments(qe)},simplify:function(le){var Ce=new Nn(this).fit(le||2.5);return Ce&&this.setSegments(Ce),!!Ce},smooth:function(le){var Ce=this,Ie=le||{},ze=Ie.type||"asymmetric",qe=this._segments,Pt=qe.length,_n=this._closed;function At(Jr,oo){var ro=Jr&&Jr.index;if(ro!=null){var ao=Jr.path;if(ao&&ao!==Ce)throw new Error(Jr._class+" "+ro+" of "+ao+" is not part of "+Ce);oo&&Jr instanceof Dn&&ro++}else ro=typeof Jr=="number"?Jr:oo;return Math.min(ro<0&&_n?ro%Pt:ro<0?ro+Pt:ro,Pt-1)}var Cn=_n&&Ie.from===r&&Ie.to===r,bn=At(Ie.from,0),In=At(Ie.to,Pt-1);if(bn>In)if(_n)bn-=Pt;else{var Ln=bn;bn=In,In=Ln}if(/^(?:asymmetric|continuous)$/.test(ze)){var Mn=ze==="asymmetric",Fn=Math.min,er=In-bn+1,Qn=er-1,nr=Cn?Fn(er,4):1,kn=nr,Un=nr,On=[];if(_n||(kn=Fn(1,bn),Un=Fn(1,Pt-In-1)),Qn+=kn+Un,Qn<=1)return;for(var Rn=0,Yn=bn-kn;Rn<=Qn;Rn++,Yn++)On[Rn]=qe[(Yn<0?Yn+Pt:Yn)%Pt]._point;for(var or=On[0]._x+2*On[1]._x,tr=On[0]._y+2*On[1]._y,hr=2,pr=Qn-1,_r=[or],Or=[tr],gr=[hr],Sr=[],kr=[],Rn=1;Rn<Qn;Rn++){var Nr=Rn<pr,Pr=Nr||Mn?1:2,Br=Nr?4:Mn?2:7,Ur=Nr?4:Mn?3:8,jr=Nr?2:Mn?0:1,Hr=Pr/hr;hr=gr[Rn]=Br-Hr,or=_r[Rn]=Ur*On[Rn]._x+jr*On[Rn+1]._x-Hr*or,tr=Or[Rn]=Ur*On[Rn]._y+jr*On[Rn+1]._y-Hr*tr}Sr[pr]=_r[pr]/gr[pr],kr[pr]=Or[pr]/gr[pr];for(var Rn=Qn-2;Rn>=0;Rn--)Sr[Rn]=(_r[Rn]-Sr[Rn+1])/gr[Rn],kr[Rn]=(Or[Rn]-kr[Rn+1])/gr[Rn];Sr[Qn]=(3*On[Qn]._x-Sr[pr])/2,kr[Qn]=(3*On[Qn]._y-kr[pr])/2;for(var Rn=kn,Kr=Qn-Un,Yn=bn;Rn<=Kr;Rn++,Yn++){var Mr=qe[Yn<0?Yn+Pt:Yn],Lr=Mr._point,qr=Sr[Rn]-Lr._x,eo=kr[Rn]-Lr._y;(Cn||Rn<Kr)&&Mr.setHandleOut(qr,eo),(Cn||Rn>kn)&&Mr.setHandleIn(-qr,-eo)}}else for(var Rn=bn;Rn<=In;Rn++)qe[Rn<0?Rn+Pt:Rn].smooth(Ie,!Cn&&Rn===bn,!Cn&&Rn===In)},toShape:function(le){if(!this._closed)return null;var Ce=this._segments,Ie,ze,qe,Pt;function _n(Mn,Fn){var er=Ce[Mn],Qn=er.getNext(),nr=Ce[Fn],kn=nr.getNext();return er._handleOut.isZero()&&Qn._handleIn.isZero()&&nr._handleOut.isZero()&&kn._handleIn.isZero()&&Qn._point.subtract(er._point).isCollinear(kn._point.subtract(nr._point))}function At(Mn){var Fn=Ce[Mn],er=Fn.getPrevious(),Qn=Fn.getNext();return er._handleOut.isZero()&&Fn._handleIn.isZero()&&Fn._handleOut.isZero()&&Qn._handleIn.isZero()&&Fn._point.subtract(er._point).isOrthogonal(Qn._point.subtract(Fn._point))}function Cn(Mn){var Fn=Ce[Mn],er=Fn.getNext(),Qn=Fn._handleOut,nr=er._handleIn,kn=.5522847498307936;if(Qn.isOrthogonal(nr)){var Un=Fn._point,On=er._point,Rn=new Ne(Un,Qn,!0).intersect(new Ne(On,nr,!0),!0);return Rn&&re.isZero(Qn.getLength()/Rn.subtract(Un).getLength()-kn)&&re.isZero(nr.getLength()/Rn.subtract(On).getLength()-kn)}return!1}function bn(Mn,Fn){return Ce[Mn]._point.getDistance(Ce[Fn]._point)}if(!this.hasHandles()&&Ce.length===4&&_n(0,2)&&_n(1,3)&&At(1)?(Ie=kt.Rectangle,ze=new ue(bn(0,3),bn(0,1)),Pt=Ce[1]._point.add(Ce[2]._point).divide(2)):Ce.length===8&&Cn(0)&&Cn(2)&&Cn(4)&&Cn(6)&&_n(1,5)&&_n(3,7)?(Ie=kt.Rectangle,ze=new ue(bn(1,6),bn(0,3)),qe=ze.subtract(new ue(bn(0,7),bn(1,2))).divide(2),Pt=Ce[3]._point.add(Ce[4]._point).divide(2)):Ce.length===4&&Cn(0)&&Cn(1)&&Cn(2)&&Cn(3)&&(re.isZero(bn(0,2)-bn(1,3))?(Ie=kt.Circle,qe=bn(0,2)/2):(Ie=kt.Ellipse,qe=new ue(bn(2,0)/2,bn(3,1)/2)),Pt=Ce[1]._point),Ie){var In=this.getPosition(!0),Ln=new Ie({center:In,size:ze,radius:qe,insert:!1});return Ln.copyAttributes(this,!0),Ln._matrix.prepend(this._matrix),Ln.rotate(Pt.subtract(In).getAngle()+90),(le===r||le)&&Ln.insertAbove(this),Ln}return null},toPath:"#clone",compare:function le(Ce){if(!Ce||Ce instanceof Wn)return le.base.call(this,Ce);var Ie=this.getCurves(),ze=Ce.getCurves(),qe=Ie.length,Pt=ze.length;if(!qe||!Pt)return qe==Pt;for(var _n=Ie[0].getValues(),At=[],Cn=0,bn,In=0,Ln,Mn=0;Mn<Pt;Mn++){var nr=ze[Mn].getValues();At.push(nr);var Fn=Dn.getOverlaps(_n,nr);if(Fn){bn=!Mn&&Fn[0][0]>0?Pt-1:Mn,Ln=Fn[0][1];break}}for(var er=Math.abs,Qn=1e-8,nr=At[bn],kn;_n&&nr;){var Fn=Dn.getOverlaps(_n,nr);if(Fn){var Un=Fn[0][0];if(er(Un-In)<Qn){In=Fn[1][0],In===1&&(_n=++Cn<qe?Ie[Cn].getValues():null,In=0);var On=Fn[0][1];if(er(On-Ln)<Qn){if(kn||(kn=[bn,On]),Ln=Fn[1][1],Ln===1&&(++bn>=Pt&&(bn=0),nr=At[bn]||ze[bn].getValues(),Ln=0),!_n)return kn[0]===bn&&kn[1]===Ln;continue}}}break}return!1},_hitTestSelf:function(le,Ce,Ie,ze){var qe=this,Pt=this.getStyle(),_n=this._segments,At=_n.length,Cn=this._closed,bn=Ce._tolerancePadding,In=bn,Ln,Mn,Fn,er,Qn,nr,kn=Ce.stroke&&Pt.hasStroke(),Un=Ce.fill&&Pt.hasFill(),On=Ce.curves,Rn=kn?Pt.getStrokeWidth()/2:Un&&Ce.tolerance>0||On?0:null;Rn!==null&&(Rn>0?(Ln=Pt.getStrokeJoin(),Mn=Pt.getStrokeCap(),Fn=Pt.getMiterLimit(),In=In.add($n._getStrokePadding(Rn,ze))):Ln=Mn="round");function Yn(Sr,kr){return le.subtract(Sr).divide(kr).length<=1}function or(Sr,kr,Nr){if(!Ce.selected||kr.isSelected()){var Pr=Sr._point;if(kr!==Pr&&(kr=kr.add(Pr)),Yn(kr,In))return new xn(Nr,qe,{segment:Sr,point:kr})}}function tr(Sr,kr){return(kr||Ce.segments)&&or(Sr,Sr._point,"segment")||!kr&&Ce.handles&&(or(Sr,Sr._handleIn,"handle-in")||or(Sr,Sr._handleOut,"handle-out"))}function hr(Sr){er.add(Sr)}function pr(Sr){var kr=Cn||Sr._index>0&&Sr._index<At-1;if((kr?Ln:Mn)==="round")return Yn(Sr._point,In);if(er=new $n({internal:!0,closed:!0}),kr?Sr.isSmooth()||$n._addBevelJoin(Sr,Ln,Rn,Fn,null,ze,hr,!0):Mn==="square"&&$n._addSquareCap(Sr,Mn,Rn,null,ze,hr,!0),!er.isEmpty()){var Nr;return er.contains(le)||(Nr=er.getNearestLocation(le))&&Yn(Nr.getPoint(),bn)}}if(Ce.ends&&!Ce.segments&&!Cn){if(nr=tr(_n[0],!0)||tr(_n[At-1],!0))return nr}else if(Ce.segments||Ce.handles){for(var _r=0;_r<At;_r++)if(nr=tr(_n[_r]))return nr}if(Rn!==null){if(Qn=this.getNearestLocation(le),Qn){var Or=Qn.getTime();Or===0||Or===1&&At>1?pr(Qn.getSegment())||(Qn=null):Yn(Qn.getPoint(),In)||(Qn=null)}if(!Qn&&Ln==="miter"&&At>1)for(var _r=0;_r<At;_r++){var gr=_n[_r];if(le.getDistance(gr._point)<=Fn*Rn&&pr(gr)){Qn=gr.getLocation();break}}}return!Qn&&Un&&this._contains(le)||Qn&&!kn&&!On?new xn("fill",this):Qn?new xn(kn?"stroke":"curve",this,{location:Qn,point:Qn.getPoint()}):null}},k.each(Dn._evaluateMethods,function(le){this[le+"At"]=function(Ce){var Ie=this.getLocationAt(Ce);return Ie&&Ie[le]()}},{beans:!1,getLocationOf:function(){for(var le=ae.read(arguments),Ce=this.getCurves(),Ie=0,ze=Ce.length;Ie<ze;Ie++){var qe=Ce[Ie].getLocationOf(le);if(qe)return qe}return null},getOffsetOf:function(){var le=this.getLocationOf.apply(this,arguments);return le?le.getOffset():null},getLocationAt:function(le){if(typeof le=="number"){for(var Ce=this.getCurves(),Ie=0,ze=0,qe=Ce.length;ze<qe;ze++){var Pt=Ie,_n=Ce[ze];if(Ie+=_n.getLength(),Ie>le)return _n.getLocationAt(le-Pt)}if(Ce.length>0&&le<=this.getLength())return new En(Ce[Ce.length-1],1)}else if(le&&le.getPath&&le.getPath()===this)return le;return null},getOffsetsWithTangent:function(){var le=ae.read(arguments);if(le.isZero())return[];for(var Ce=[],Ie=0,ze=this.getCurves(),qe=0,Pt=ze.length;qe<Pt;qe++){for(var _n=ze[qe],At=_n.getTimesWithTangent(le),Cn=0,bn=At.length;Cn<bn;Cn++){var In=Ie+_n.getOffsetAtTime(At[Cn]);Ce.indexOf(In)<0&&Ce.push(In)}Ie+=_n.length}return Ce}}),new function(){function le(Ie,ze,qe,Pt){if(Pt<=0)return;var _n=Pt/2,At=Pt-2,Cn=_n-1,bn=new Array(6),In,Ln;function Mn(Un){var On=bn[Un],Rn=bn[Un+1];(In!=On||Ln!=Rn)&&(Ie.beginPath(),Ie.moveTo(In,Ln),Ie.lineTo(On,Rn),Ie.stroke(),Ie.beginPath(),Ie.arc(On,Rn,_n,0,Math.PI*2,!0),Ie.fill())}for(var Fn=0,er=ze.length;Fn<er;Fn++){var Qn=ze[Fn],nr=Qn._selection;if(Qn._transformCoordinates(qe,bn),In=bn[0],Ln=bn[1],nr&2&&Mn(2),nr&4&&Mn(4),Ie.fillRect(In-_n,Ln-_n,Pt,Pt),At>0&&!(nr&1)){var kn=Ie.fillStyle;Ie.fillStyle="#ffffff",Ie.fillRect(In-Cn,Ln-Cn,At,At),Ie.fillStyle=kn}}}function Ce(Ie,ze,qe){var Pt=ze._segments,_n=Pt.length,At=new Array(6),Cn=!0,bn,In,Ln,Mn,Fn,er,Qn,nr;function kn(On){if(qe)On._transformCoordinates(qe,At),bn=At[0],In=At[1];else{var Rn=On._point;bn=Rn._x,In=Rn._y}if(Cn)Ie.moveTo(bn,In),Cn=!1;else{if(qe)Fn=At[2],er=At[3];else{var Yn=On._handleIn;Fn=bn+Yn._x,er=In+Yn._y}Fn===bn&&er===In&&Qn===Ln&&nr===Mn?Ie.lineTo(bn,In):Ie.bezierCurveTo(Qn,nr,Fn,er,bn,In)}if(Ln=bn,Mn=In,qe)Qn=At[4],nr=At[5];else{var Yn=On._handleOut;Qn=Ln+Yn._x,nr=Mn+Yn._y}}for(var Un=0;Un<_n;Un++)kn(Pt[Un]);ze._closed&&_n>0&&kn(Pt[0])}return{_draw:function(Ie,ze,qe,Pt){var _n=ze.dontStart,At=ze.dontFinish||ze.clip,Cn=this.getStyle(),bn=Cn.hasFill(),In=Cn.hasStroke(),Ln=Cn.getDashArray(),Mn=!ur.support.nativeDash&&In&&Ln&&Ln.length;_n||Ie.beginPath(),(bn||In&&!Mn||At)&&(Ce(Ie,this,Pt),this._closed&&Ie.closePath());function Fn(On){return Ln[(On%Mn+Mn)%Mn]}if(!At&&(bn||In)&&(this._setStyles(Ie,ze,qe),bn&&(Ie.fill(Cn.getFillRule()),Ie.shadowColor="rgba(0,0,0,0)"),In)){if(Mn){_n||Ie.beginPath();for(var er=new Gn(this,.25,32,!1,Pt),Qn=er.length,nr=-Cn.getDashOffset(),kn,Un=0;nr>0;)nr-=Fn(Un--)+Fn(Un--);for(;nr<Qn;)kn=nr+Fn(Un++),(nr>0||kn>0)&&er.drawPart(Ie,Math.max(nr,0),Math.max(kn,0)),nr=kn+Fn(Un++)}Ie.stroke()}},_drawSelected:function(Ie,ze){Ie.beginPath(),Ce(Ie,this,ze),Ie.stroke(),le(Ie,this._segments,ze,ur.settings.handleSize)}}},new function(){function le(Ce){var Ie=Ce._segments;if(!Ie.length)throw new Error("Use a moveTo() command first");return Ie[Ie.length-1]}return{moveTo:function(){var Ce=this._segments;Ce.length===1&&this.removeSegment(0),Ce.length||this._add([new jt(ae.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new jt(ae.read(arguments))])},cubicCurveTo:function(){var Ce=arguments,Ie=ae.read(Ce),ze=ae.read(Ce),qe=ae.read(Ce),Pt=le(this);Pt.setHandleOut(Ie.subtract(Pt._point)),this._add([new jt(qe,ze.subtract(qe))])},quadraticCurveTo:function(){var Ce=arguments,Ie=ae.read(Ce),ze=ae.read(Ce),qe=le(this)._point;this.cubicCurveTo(Ie.add(qe.subtract(Ie).multiply(1/3)),Ie.add(ze.subtract(Ie).multiply(1/3)),ze)},curveTo:function(){var Ce=arguments,Ie=ae.read(Ce),ze=ae.read(Ce),qe=k.pick(k.read(Ce),.5),Pt=1-qe,_n=le(this)._point,At=Ie.subtract(_n.multiply(Pt*Pt)).subtract(ze.multiply(qe*qe)).divide(2*qe*Pt);if(At.isNaN())throw new Error("Cannot put a curve through points with parameter = "+qe);this.quadraticCurveTo(At,ze)},arcTo:function(){var Ce=arguments,Ie=Math.abs,ze=Math.sqrt,qe=le(this),Pt=qe._point,_n=ae.read(Ce),At,Cn=k.peek(Ce),bn=k.pick(Cn,!0),In,Ln,Mn,Fn;if(typeof bn=="boolean")var er=Pt.add(_n).divide(2),At=er.add(er.subtract(Pt).rotate(bn?-90:90));else if(k.remain(Ce)<=2)At=_n,_n=ae.read(Ce);else if(!Pt.equals(_n)){var Qn=ue.read(Ce),nr=re.isZero;if(nr(Qn.width)||nr(Qn.height))return this.lineTo(_n);var kn=k.read(Ce),bn=!!k.read(Ce),Un=!!k.read(Ce),er=Pt.add(_n).divide(2),On=Pt.subtract(er).rotate(-kn),Rn=On.x,Yn=On.y,or=Ie(Qn.width),tr=Ie(Qn.height),hr=or*or,pr=tr*tr,_r=Rn*Rn,Or=Yn*Yn,gr=ze(_r/hr+Or/pr);if(gr>1&&(or*=gr,tr*=gr,hr=or*or,pr=tr*tr),gr=(hr*pr-hr*Or-pr*_r)/(hr*Or+pr*_r),Ie(gr)<1e-12&&(gr=0),gr<0)throw new Error("Cannot create an arc with the given arguments");In=new ae(or*Yn/tr,-tr*Rn/or).multiply((Un===bn?-1:1)*ze(gr)).rotate(kn).add(er),Fn=new $e().translate(In).rotate(kn).scale(or,tr),Mn=Fn._inverseTransform(Pt),Ln=Mn.getDirectedAngle(Fn._inverseTransform(_n)),!bn&&Ln>0?Ln-=360:bn&&Ln<0&&(Ln+=360)}if(At){var Sr=new Ne(Pt.add(At).divide(2),At.subtract(Pt).rotate(90),!0),kr=new Ne(At.add(_n).divide(2),_n.subtract(At).rotate(90),!0),Nr=new Ne(Pt,_n),Pr=Nr.getSide(At);if(In=Sr.intersect(kr,!0),!In){if(!Pr)return this.lineTo(_n);throw new Error("Cannot create an arc with the given arguments")}Mn=Pt.subtract(In),Ln=Mn.getDirectedAngle(_n.subtract(In));var Br=Nr.getSide(In,!0);Br===0?Ln=Pr*Ie(Ln):Pr===Br&&(Ln+=Ln<0?360:-360)}if(Ln){for(var Ur=1e-5,jr=Ie(Ln),Hr=jr>=360?4:Math.ceil((jr-Ur)/90),Kr=Ln/Hr,Mr=Kr*Math.PI/360,Lr=4/3*Math.sin(Mr)/(1+Math.cos(Mr)),qr=[],eo=0;eo<=Hr;eo++){var On=_n,Jr=null;if(eo<Hr&&(Jr=Mn.rotate(90).multiply(Lr),Fn?(On=Fn._transformPoint(Mn),Jr=Fn._transformPoint(Mn.add(Jr)).subtract(On)):On=In.add(Mn)),!eo)qe.setHandleOut(Jr);else{var oo=Mn.rotate(-90).multiply(Lr);Fn&&(oo=Fn._transformPoint(Mn.add(oo)).subtract(On)),qr.push(new jt(On,oo,Jr))}Mn=Mn.rotate(Kr)}this._add(qr)}},lineBy:function(){var Ce=ae.read(arguments),Ie=le(this)._point;this.lineTo(Ie.add(Ce))},curveBy:function(){var Ce=arguments,Ie=ae.read(Ce),ze=ae.read(Ce),qe=k.read(Ce),Pt=le(this)._point;this.curveTo(Pt.add(Ie),Pt.add(ze),qe)},cubicCurveBy:function(){var Ce=arguments,Ie=ae.read(Ce),ze=ae.read(Ce),qe=ae.read(Ce),Pt=le(this)._point;this.cubicCurveTo(Pt.add(Ie),Pt.add(ze),Pt.add(qe))},quadraticCurveBy:function(){var Ce=arguments,Ie=ae.read(Ce),ze=ae.read(Ce),qe=le(this)._point;this.quadraticCurveTo(qe.add(Ie),qe.add(ze))},arcBy:function(){var Ce=arguments,Ie=le(this)._point,ze=Ie.add(ae.read(Ce)),qe=k.pick(k.peek(Ce),!0);typeof qe=="boolean"?this.arcTo(ze,qe):this.arcTo(ze,Ie.add(ae.read(Ce)))},closePath:function(Ce){this.setClosed(!0),this.join(this,Ce)}}},{_getBounds:function(le,Ce){var Ie=Ce.handle?"getHandleBounds":Ce.stroke?"getStrokeBounds":"getBounds";return $n[Ie](this._segments,this._closed,this,le,Ce)},statics:{getBounds:function(le,Ce,Ie,ze,qe,Pt){var _n=le[0];if(!_n)return new he;var At=new Array(6),Cn=_n._transformCoordinates(ze,new Array(6)),bn=Cn.slice(0,2),In=bn.slice(),Ln=new Array(2);function Mn(Qn){Qn._transformCoordinates(ze,At);for(var nr=0;nr<2;nr++)Dn._addBounds(Cn[nr],Cn[nr+4],At[nr+2],At[nr],nr,Pt?Pt[nr]:0,bn,In,Ln);var kn=Cn;Cn=At,At=kn}for(var Fn=1,er=le.length;Fn<er;Fn++)Mn(le[Fn]);return Ce&&Mn(_n),new he(bn[0],bn[1],In[0]-bn[0],In[1]-bn[1])},getStrokeBounds:function(le,Ce,Ie,ze,qe){var Pt=Ie.getStyle(),_n=Pt.hasStroke(),At=Pt.getStrokeWidth(),Cn=_n&&Ie._getStrokeMatrix(ze,qe),bn=_n&&$n._getStrokePadding(At,Cn),In=$n.getBounds(le,Ce,Ie,ze,qe,bn);if(!_n)return In;var Ln=At/2,Mn=Pt.getStrokeJoin(),Fn=Pt.getStrokeCap(),er=Pt.getMiterLimit(),Qn=new he(new ue(bn));function nr(or){In=In.include(or)}function kn(or){In=In.unite(Qn.setCenter(or._point.transform(ze)))}function Un(or,tr){tr==="round"||or.isSmooth()?kn(or):$n._addBevelJoin(or,tr,Ln,er,ze,Cn,nr)}function On(or,tr){tr==="round"?kn(or):$n._addSquareCap(or,tr,Ln,ze,Cn,nr)}var Rn=le.length-(Ce?0:1);if(Rn>0){for(var Yn=1;Yn<Rn;Yn++)Un(le[Yn],Mn);Ce?Un(le[0],Mn):(On(le[0],Fn),On(le[le.length-1],Fn))}return In},_getStrokePadding:function(le,Ce){if(!Ce)return[le,le];var Ie=new ae(le,0).transform(Ce),ze=new ae(0,le).transform(Ce),qe=Ie.getAngleInRadians(),Pt=Ie.getLength(),_n=ze.getLength(),At=Math.sin(qe),Cn=Math.cos(qe),bn=Math.tan(qe),In=Math.atan2(_n*bn,Pt),Ln=Math.atan2(_n,bn*Pt);return[Math.abs(Pt*Math.cos(In)*Cn+_n*Math.sin(In)*At),Math.abs(_n*Math.sin(Ln)*Cn+Pt*Math.cos(Ln)*At)]},_addBevelJoin:function(le,Ce,Ie,ze,qe,Pt,_n,At){var Cn=le.getCurve(),bn=Cn.getPrevious(),In=Cn.getPoint1().transform(qe),Ln=bn.getNormalAtTime(1).multiply(Ie).transform(Pt),Mn=Cn.getNormalAtTime(0).multiply(Ie).transform(Pt),Fn=Ln.getDirectedAngle(Mn);if((Fn<0||Fn>=180)&&(Ln=Ln.negate(),Mn=Mn.negate()),At&&_n(In),_n(In.add(Ln)),Ce==="miter"){var er=new Ne(In.add(Ln),new ae(-Ln.y,Ln.x),!0).intersect(new Ne(In.add(Mn),new ae(-Mn.y,Mn.x),!0),!0);er&&In.getDistance(er)<=ze*Ie&&_n(er)}_n(In.add(Mn))},_addSquareCap:function(le,Ce,Ie,ze,qe,Pt,_n){var At=le._point.transform(ze),Cn=le.getLocation(),bn=Cn.getNormal().multiply(Cn.getTime()===0?Ie:-Ie).transform(qe);Ce==="square"&&(_n&&(Pt(At.subtract(bn)),Pt(At.add(bn))),At=At.add(bn.rotate(-90))),Pt(At.add(bn)),Pt(At.subtract(bn))},getHandleBounds:function(le,Ce,Ie,ze,qe){var Pt=Ie.getStyle(),_n=qe.stroke&&Pt.hasStroke(),At,Cn;if(_n){var bn=Ie._getStrokeMatrix(ze,qe),In=Pt.getStrokeWidth()/2,Ln=In;Pt.getStrokeJoin()==="miter"&&(Ln=In*Pt.getMiterLimit()),Pt.getStrokeCap()==="square"&&(Ln=Math.max(Ln,In*Math.SQRT2)),At=$n._getStrokePadding(In,bn),Cn=$n._getStrokePadding(Ln,bn)}for(var Mn=new Array(6),Fn=1/0,er=-Fn,Qn=Fn,nr=er,kn=0,Un=le.length;kn<Un;kn++){var On=le[kn];On._transformCoordinates(ze,Mn);for(var Rn=0;Rn<6;Rn+=2){var Yn=Rn?At:Cn,or=Yn?Yn[0]:0,tr=Yn?Yn[1]:0,hr=Mn[Rn],pr=Mn[Rn+1],_r=hr-or,Or=hr+or,gr=pr-tr,Sr=pr+tr;_r<Fn&&(Fn=_r),Or>er&&(er=Or),gr<Qn&&(Qn=gr),Sr>nr&&(nr=Sr)}}return new he(Fn,Qn,er-Fn,nr-Qn)}}});$n.inject({statics:new function(){var le=.5522847498307936,Ce=[new jt([-1,0],[0,le],[0,-le]),new jt([0,-1],[-le,0],[le,0]),new jt([1,0],[0,-le],[0,le]),new jt([0,1],[le,0],[-le,0])];function Ie(qe,Pt,_n){var At=k.getNamed(_n),Cn=new $n(At&&(At.insert==!0?_e.INSERT:At.insert==!1?_e.NO_INSERT:null));return Cn._add(qe),Cn._closed=Pt,Cn.set(At,_e.INSERT)}function ze(qe,Pt,_n){for(var At=new Array(4),Cn=0;Cn<4;Cn++){var bn=Ce[Cn];At[Cn]=new jt(bn._point.multiply(Pt).add(qe),bn._handleIn.multiply(Pt),bn._handleOut.multiply(Pt))}return Ie(At,!0,_n)}return{Line:function(){var qe=arguments;return Ie([new jt(ae.readNamed(qe,"from")),new jt(ae.readNamed(qe,"to"))],!1,qe)},Circle:function(){var qe=arguments,Pt=ae.readNamed(qe,"center"),_n=k.readNamed(qe,"radius");return ze(Pt,new ue(_n),qe)},Rectangle:function(){var qe=arguments,Pt=he.readNamed(qe,"rectangle"),_n=ue.readNamed(qe,"radius",0,{readNull:!0}),At=Pt.getBottomLeft(!0),Cn=Pt.getTopLeft(!0),bn=Pt.getTopRight(!0),In=Pt.getBottomRight(!0),Ln;if(!_n||_n.isZero())Ln=[new jt(At),new jt(Cn),new jt(bn),new jt(In)];else{_n=ue.min(_n,Pt.getSize(!0).divide(2));var Mn=_n.width,Fn=_n.height,er=Mn*le,Qn=Fn*le;Ln=[new jt(At.add(Mn,0),null,[-er,0]),new jt(At.subtract(0,Fn),[0,Qn]),new jt(Cn.add(0,Fn),null,[0,-Qn]),new jt(Cn.add(Mn,0),[-er,0],null),new jt(bn.subtract(Mn,0),null,[er,0]),new jt(bn.add(0,Fn),[0,-Qn],null),new jt(In.subtract(0,Fn),null,[0,Qn]),new jt(In.subtract(Mn,0),[er,0])]}return Ie(Ln,!0,qe)},RoundRectangle:"#Rectangle",Ellipse:function(){var qe=arguments,Pt=kt._readEllipse(qe);return ze(Pt.center,Pt.radius,qe)},Oval:"#Ellipse",Arc:function(){var qe=arguments,Pt=ae.readNamed(qe,"from"),_n=ae.readNamed(qe,"through"),At=ae.readNamed(qe,"to"),Cn=k.getNamed(qe),bn=new $n(Cn&&Cn.insert==!1&&_e.NO_INSERT);return bn.moveTo(Pt),bn.arcTo(_n,At),bn.set(Cn)},RegularPolygon:function(){for(var qe=arguments,Pt=ae.readNamed(qe,"center"),_n=k.readNamed(qe,"sides"),At=k.readNamed(qe,"radius"),Cn=360/_n,bn=_n%3===0,In=new ae(0,bn?-At:At),Ln=bn?-1:.5,Mn=new Array(_n),Fn=0;Fn<_n;Fn++)Mn[Fn]=new jt(Pt.add(In.rotate((Fn+Ln)*Cn)));return Ie(Mn,!0,qe)},Star:function(){for(var qe=arguments,Pt=ae.readNamed(qe,"center"),_n=k.readNamed(qe,"points")*2,At=k.readNamed(qe,"radius1"),Cn=k.readNamed(qe,"radius2"),bn=360/_n,In=new ae(0,-1),Ln=new Array(_n),Mn=0;Mn<_n;Mn++)Ln[Mn]=new jt(Pt.add(In.rotate(bn*Mn).multiply(Mn%2?Cn:At)));return Ie(Ln,!0,qe)}}}});var Wn=Bn.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(Ce){this._children=[],this._namedChildren={},this._initialize(Ce)||(typeof Ce=="string"?this.setPathData(Ce):this.addChildren(Array.isArray(Ce)?Ce:arguments))},insertChildren:function le(Ce,Ie){var ze=Ie,qe=ze[0];qe&&typeof qe[0]=="number"&&(ze=[ze]);for(var Pt=Ie.length-1;Pt>=0;Pt--){var _n=ze[Pt];ze===Ie&&!(_n instanceof $n)&&(ze=k.slice(ze)),Array.isArray(_n)?ze[Pt]=new $n({segments:_n,insert:!1}):_n instanceof Wn&&(ze.splice.apply(ze,[Pt,1].concat(_n.removeChildren())),_n.remove())}return le.base.call(this,Ce,ze)},reduce:function le(Ce){for(var Ie=this._children,ze=Ie.length-1;ze>=0;ze--){var qe=Ie[ze].reduce(Ce);qe.isEmpty()&&qe.remove()}if(!Ie.length){var qe=new $n(_e.NO_INSERT);return qe.copyAttributes(this),qe.insertAbove(this),this.remove(),qe}return le.base.call(this)},isClosed:function(){for(var le=this._children,Ce=0,Ie=le.length;Ce<Ie;Ce++)if(!le[Ce]._closed)return!1;return!0},setClosed:function(le){for(var Ce=this._children,Ie=0,ze=Ce.length;Ie<ze;Ie++)Ce[Ie].setClosed(le)},getFirstSegment:function(){var le=this.getFirstChild();return le&&le.getFirstSegment()},getLastSegment:function(){var le=this.getLastChild();return le&&le.getLastSegment()},getCurves:function(){for(var le=this._children,Ce=[],Ie=0,ze=le.length;Ie<ze;Ie++)k.push(Ce,le[Ie].getCurves());return Ce},getFirstCurve:function(){var le=this.getFirstChild();return le&&le.getFirstCurve()},getLastCurve:function(){var le=this.getLastChild();return le&&le.getLastCurve()},getArea:function(){for(var le=this._children,Ce=0,Ie=0,ze=le.length;Ie<ze;Ie++)Ce+=le[Ie].getArea();return Ce},getLength:function(){for(var le=this._children,Ce=0,Ie=0,ze=le.length;Ie<ze;Ie++)Ce+=le[Ie].getLength();return Ce},getPathData:function(le,Ce){for(var Ie=this._children,ze=[],qe=0,Pt=Ie.length;qe<Pt;qe++){var _n=Ie[qe],At=_n._matrix;ze.push(_n.getPathData(le&&!At.isIdentity()?le.appended(At):le,Ce))}return ze.join("")},_hitTestChildren:function le(Ce,Ie,ze){return le.base.call(this,Ce,Ie.class===$n||Ie.type==="path"?Ie:k.set({},Ie,{fill:!1}),ze)},_draw:function(le,Ce,Ie,ze){var qe=this._children;if(qe.length){Ce=Ce.extend({dontStart:!0,dontFinish:!0}),le.beginPath();for(var Pt=0,_n=qe.length;Pt<_n;Pt++)qe[Pt].draw(le,Ce,ze);if(!Ce.clip){this._setStyles(le,Ce,Ie);var At=this._style;At.hasFill()&&(le.fill(At.getFillRule()),le.shadowColor="rgba(0,0,0,0)"),At.hasStroke()&&le.stroke()}}},_drawSelected:function(le,Ce,Ie){for(var ze=this._children,qe=0,Pt=ze.length;qe<Pt;qe++){var _n=ze[qe],At=_n._matrix;Ie[_n._id]||_n._drawSelected(le,At.isIdentity()?Ce:Ce.appended(At))}}},new function(){function le(Ce,Ie){var ze=Ce._children;if(Ie&&!ze.length)throw new Error("Use a moveTo() command first");return ze[ze.length-1]}return k.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(Ce){this[Ce]=function(){var Ie=le(this,!0);Ie[Ce].apply(Ie,arguments)}},{moveTo:function(){var Ce=le(this),Ie=Ce&&Ce.isEmpty()?Ce:new $n(_e.NO_INSERT);Ie!==Ce&&this.addChild(Ie),Ie.moveTo.apply(Ie,arguments)},moveBy:function(){var Ce=le(this,!0),Ie=Ce&&Ce.getLastSegment(),ze=ae.read(arguments);this.moveTo(Ie?ze.add(Ie._point):ze)},closePath:function(Ce){le(this,!0).closePath(Ce)}})},k.each(["reverse","flatten","simplify","smooth"],function(le){this[le]=function(Ce){for(var Ie=this._children,ze,qe=0,Pt=Ie.length;qe<Pt;qe++)ze=Ie[qe][le](Ce)||ze;return ze}},{}));Bn.inject(new function(){var le=Math.min,Ce=Math.max,Ie=Math.abs,ze={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function qe(kn){return kn._children||[kn]}function Pt(kn,Un){var On=kn.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(Un){for(var Rn=qe(On),Yn=0,or=Rn.length;Yn<or;Yn++){var kn=Rn[Yn];!kn._closed&&!kn.isEmpty()&&(kn.closePath(1e-12),kn.getFirstSegment().setHandleIn(0,0),kn.getLastSegment().setHandleOut(0,0))}On=On.resolveCrossings().reorient(On.getFillRule()==="nonzero",!0)}return On}function _n(kn,Un,On,Rn,Yn){var or=new Wn(_e.NO_INSERT);return or.addChildren(kn,!0),or=or.reduce({simplify:Un}),Yn&&Yn.insert==!1||or.insertAbove(Rn&&On.isSibling(Rn)&&On.getIndex()<Rn.getIndex()?Rn:On),or.copyAttributes(On,!0),or}function At(kn){return kn.hasOverlap()||kn.isCrossing()}function Cn(kn,Un,On,Rn){if(Rn&&(Rn.trace==!1||Rn.stroke)&&/^(subtract|intersect)$/.test(On))return bn(kn,Un,On);var Yn=Pt(kn,!0),or=Un&&kn!==Un&&Pt(Un,!0),tr=ze[On];tr[On]=!0,or&&(tr.subtract||tr.exclude)^(or.isClockwise()^Yn.isClockwise())&&or.reverse();var hr=Fn(En.expand(Yn.getIntersections(or,At))),pr=qe(Yn),_r=or&&qe(or),Or=[],gr=[],Sr;function kr(Jr){for(var oo=0,ro=Jr.length;oo<ro;oo++){var ao=Jr[oo];k.push(Or,ao._segments),k.push(gr,ao.getCurves()),ao._overlapsOnly=!0}}function Nr(Jr){for(var oo=[],ro=0,ao=Jr&&Jr.length;ro<ao;ro++)oo.push(gr[Jr[ro]]);return oo}if(hr.length){kr(pr),_r&&kr(_r);for(var Pr=new Array(gr.length),Br=0,Ur=gr.length;Br<Ur;Br++)Pr[Br]=gr[Br].getValues();for(var jr=z.findCurveBoundsCollisions(Pr,Pr,0,!0),Hr={},Br=0;Br<gr.length;Br++){var Kr=gr[Br],Mr=Kr._path._id,Lr=Hr[Mr]=Hr[Mr]||{};Lr[Kr.getIndex()]={hor:Nr(jr[Br].hor),ver:Nr(jr[Br].ver)}}for(var Br=0,Ur=hr.length;Br<Ur;Br++)Qn(hr[Br]._segment,Yn,or,Hr,tr);for(var Br=0,Ur=Or.length;Br<Ur;Br++){var qr=Or[Br],eo=qr._intersection;qr._winding||Qn(qr,Yn,or,Hr,tr),eo&&eo._overlap||(qr._path._overlapsOnly=!1)}Sr=nr(Or,tr)}else Sr=Mn(_r?pr.concat(_r):pr.slice(),function(Jr){return!!tr[Jr]});return _n(Sr,!0,kn,Un,Rn)}function bn(kn,Un,On){var Rn=Pt(kn),Yn=Pt(Un),or=Rn.getIntersections(Yn,At),tr=On==="subtract",hr=On==="divide",pr={},_r=[];function Or(kr){if(!pr[kr._id]&&(hr||Yn.contains(kr.getPointAt(kr.getLength()/2))^tr))return _r.unshift(kr),pr[kr._id]=!0}for(var gr=or.length-1;gr>=0;gr--){var Sr=or[gr].split();Sr&&(Or(Sr)&&Sr.getFirstSegment().setHandleIn(0,0),Rn.getLastSegment().setHandleOut(0,0))}return Or(Rn),_n(_r,!1,kn,Un)}function In(kn,Un){for(var On=kn;On;){if(On===Un)return;On=On._previous}for(;kn._next&&kn._next!==Un;)kn=kn._next;if(!kn._next){for(;Un._previous;)Un=Un._previous;kn._next=Un,Un._previous=kn}}function Ln(kn){for(var Un=kn.length-1;Un>=0;Un--)kn[Un].clearHandles()}function Mn(kn,Un,On){var Rn=kn&&kn.length;if(Rn){var Yn=k.each(kn,function(jr,Hr){this[jr._id]={container:null,winding:jr.isClockwise()?1:-1,index:Hr}},{}),or=kn.slice().sort(function(jr,Hr){return Ie(Hr.getArea())-Ie(jr.getArea())}),tr=or[0],hr=z.findItemBoundsCollisions(or,null,re.GEOMETRIC_EPSILON);On==null&&(On=tr.isClockwise());for(var pr=0;pr<Rn;pr++){var _r=or[pr],Or=Yn[_r._id],gr=0,Sr=hr[pr];if(Sr){for(var kr=null,Nr=Sr.length-1;Nr>=0;Nr--)if(Sr[Nr]<pr){kr=kr||_r.getInteriorPoint();var Pr=or[Sr[Nr]];if(Pr.contains(kr)){var Br=Yn[Pr._id];gr=Br.winding,Or.winding+=gr,Or.container=Br.exclude?Br.container:Pr;break}}}if(Un(Or.winding)===Un(gr))Or.exclude=!0,kn[Or.index]=null;else{var Ur=Or.container;_r.setClockwise(Ur?!Ur.isClockwise():On)}}}return kn}function Fn(kn,Un,On){var Rn=Un&&[],Yn=1e-8,or=1-Yn,tr=!1,hr=On||[],pr=On&&{},_r,Or,gr;function Sr(oo){return oo._path._id+"."+oo._segment1._index}for(var kr=(On&&On.length)-1;kr>=0;kr--){var Nr=On[kr];Nr._path&&(pr[Sr(Nr)]=!0)}for(var kr=kn.length-1;kr>=0;kr--){var Pr=kn[kr],Br=Pr._time,Ur=Br,jr=Un&&!Un(Pr),Nr=Pr._curve,Hr;if(Nr&&(Nr!==Or?(tr=!Nr.hasHandles()||pr&&pr[Sr(Nr)],_r=[],gr=null,Or=Nr):gr>=Yn&&(Br/=gr)),jr){_r&&_r.push(Pr);continue}else Un&&Rn.unshift(Pr);if(gr=Ur,Br<Yn)Hr=Nr._segment1;else if(Br>or)Hr=Nr._segment2;else{var Kr=Nr.divideAtTime(Br,!0);tr&&hr.push(Nr,Kr),Hr=Kr._segment1;for(var Mr=_r.length-1;Mr>=0;Mr--){var Lr=_r[Mr];Lr._time=(Lr._time-Br)/(1-Br)}}Pr._setSegment(Hr);var qr=Hr._intersection,eo=Pr._intersection;if(qr){In(qr,eo);for(var Jr=qr;Jr;)In(Jr._intersection,qr),Jr=Jr._next}else Hr._intersection=eo}return On||Ln(hr),Rn||kn}function er(kn,Un,On,Rn,Yn){var or=Array.isArray(Un)?Un:Un[On?"hor":"ver"],tr=On?1:0,hr=tr^1,pr=[kn.x,kn.y],_r=pr[tr],Or=pr[hr],gr=1e-9,Sr=1e-6,kr=_r-gr,Nr=_r+gr,Pr=0,Br=0,Ur=0,jr=0,Hr=!1,Kr=!1,Mr=1,Lr=[],qr,eo;function Jr(_o){var So=_o[hr+0],Io=_o[hr+6];if(!(Or<le(So,Io)||Or>Ce(So,Io))){var $o=_o[tr+0],dr=_o[tr+2],xr=_o[tr+4],vr=_o[tr+6];if(So===Io){($o<Nr&&vr>kr||vr<Nr&&$o>kr)&&(Hr=!0);return}var Tr=Or===So?0:Or===Io||kr>Ce($o,dr,xr,vr)||Nr<le($o,dr,xr,vr)?1:Dn.solveCubic(_o,hr,Or,Lr,0,1)>0?Lr[0]:1,Ir=Tr===0?$o:Tr===1?vr:Dn.getPoint(_o,Tr)[On?"y":"x"],Er=So>Io?1:-1,Rr=qr[hr]>qr[hr+6]?1:-1,zr=qr[tr+6];return Or!==So?(Ir<kr?Ur+=Er:Ir>Nr?jr+=Er:Hr=!0,Ir>_r-Sr&&Ir<_r+Sr&&(Mr/=2)):(Er!==Rr?$o<kr?Ur+=Er:$o>Nr&&(jr+=Er):$o!=zr&&(zr<Nr&&Ir>Nr?(jr+=Er,Hr=!0):zr>kr&&Ir<kr&&(Ur+=Er,Hr=!0)),Mr/=4),qr=_o,!Yn&&Ir>kr&&Ir<Nr&&Dn.getTangent(_o,Tr)[On?"x":"y"]===0&&er(kn,Un,!On,Rn,!0)}}function oo(_o){var So=_o[hr+0],Io=_o[hr+2],$o=_o[hr+4],dr=_o[hr+6];if(Or<=Ce(So,Io,$o,dr)&&Or>=le(So,Io,$o,dr)){for(var xr=_o[tr+0],vr=_o[tr+2],Tr=_o[tr+4],Ir=_o[tr+6],Er=kr>Ce(xr,vr,Tr,Ir)||Nr<le(xr,vr,Tr,Ir)?[_o]:Dn.getMonoCurves(_o,On),Rr,zr=0,Gr=Er.length;zr<Gr;zr++)if(Rr=Jr(Er[zr]))return Rr}}for(var ro=0,ao=or.length;ro<ao;ro++){var lo=or[ro],io=lo._path,Xr=lo.getValues(),yo;if((!ro||or[ro-1]._path!==io)&&(qr=null,io._closed||(eo=Dn.getValues(io.getLastCurve().getSegment2(),lo.getSegment1(),null,!Rn),eo[hr]!==eo[hr+6]&&(qr=eo)),!qr)){qr=Xr;for(var ko=io.getLastCurve();ko&&ko!==lo;){var Oo=ko.getValues();if(Oo[hr]!==Oo[hr+6]){qr=Oo;break}ko=ko.getPrevious()}}if(yo=oo(Xr))return yo;if(ro+1===ao||or[ro+1]._path!==io){if(eo&&(yo=oo(eo)))return yo;Hr&&!Ur&&!jr&&(Ur=jr=io.isClockwise(Rn)^On?1:-1),Pr+=Ur,Br+=jr,Ur=jr=0,Hr&&(Kr=!0,Hr=!1),eo=null}}return Pr=Ie(Pr),Br=Ie(Br),{winding:Ce(Pr,Br),windingL:Pr,windingR:Br,quality:Mr,onPath:Kr}}function Qn(kn,Un,On,Rn,Yn){var or=[],tr=kn,hr=0,gr;do{var pr=kn.getCurve();if(pr){var _r=pr.getLength();or.push({segment:kn,curve:pr,length:_r}),hr+=_r}kn=kn.getNext()}while(kn&&!kn._intersection&&kn!==tr);for(var Or=[.5,.25,.75],gr={winding:0,quality:-1},Sr=.001,kr=1-Sr,Nr=0;Nr<Or.length&&gr.quality<.5;Nr++)for(var _r=hr*Or[Nr],Pr=0,Br=or.length;Pr<Br;Pr++){var Ur=or[Pr],jr=Ur.length;if(_r<=jr){var pr=Ur.curve,Hr=pr._path,Kr=Hr._parent,Mr=Kr instanceof Wn?Kr:Hr,Lr=re.clamp(pr.getTimeAt(_r),Sr,kr),qr=pr.getPointAtTime(Lr),eo=Ie(pr.getTangentAtTime(Lr).y)<Math.SQRT1_2,Jr=null;if(Yn.subtract&&On){var oo=Mr===Un?On:Un,ro=oo._getWinding(qr,eo,!0);if(Mr===Un&&ro.winding||Mr===On&&!ro.winding){if(ro.quality<1)continue;Jr={winding:0,quality:1}}}Jr=Jr||er(qr,Rn[Hr._id][pr.getIndex()],eo,!0),Jr.quality>gr.quality&&(gr=Jr);break}_r-=jr}for(var Pr=or.length-1;Pr>=0;Pr--)or[Pr].segment._winding=gr}function nr(kn,Un){var On=[],Rn;function Yn(ao){var lo;return!!(ao&&!ao._visited&&(!Un||Un[(lo=ao._winding||{}).winding]&&!(Un.unite&&lo.winding===2&&lo.windingL&&lo.windingR)))}function or(ao){if(ao){for(var lo=0,io=Rn.length;lo<io;lo++)if(ao===Rn[lo])return!0}return!1}function tr(ao){for(var lo=ao._segments,io=0,Xr=lo.length;io<Xr;io++)lo[io]._visited=!0}function hr(ao,lo){var io=ao._intersection,Xr=io,yo=[];lo&&(Rn=[ao]);function ko(Oo,_o){for(;Oo&&Oo!==_o;){var So=Oo._segment,Io=So&&So._path;if(Io){var $o=So.getNext()||Io.getFirstSegment(),dr=$o._intersection;So!==ao&&(or(So)||or($o)||$o&&Yn(So)&&(Yn($o)||dr&&Yn(dr._segment)))&&yo.push(So),lo&&Rn.push(So)}Oo=Oo._next}}if(io){for(ko(io);io&&io._previous;)io=io._previous;ko(io,Xr)}return yo}kn.sort(function(ao,lo){var io=ao._intersection,Xr=lo._intersection,yo=!!(io&&io._overlap),ko=!!(Xr&&Xr._overlap),Oo=ao._path,_o=lo._path;return yo^ko?yo?1:-1:!io^!Xr?io?1:-1:Oo!==_o?Oo._id-_o._id:ao._index-lo._index});for(var pr=0,_r=kn.length;pr<_r;pr++){var Or=kn[pr],gr=Yn(Or),Sr=null,kr=!1,Nr=!0,Pr=[],Br,Ur,jr;if(gr&&Or._path._overlapsOnly){var Hr=Or._path,Kr=Or._intersection._segment._path;Hr.compare(Kr)&&(Hr.getArea()&&On.push(Hr.clone(!1)),tr(Hr),tr(Kr),gr=!1)}for(;gr;){var Mr=!Sr,Lr=hr(Or,Mr),qr=Lr.shift(),kr=!Mr&&(or(Or)||or(qr)),eo=!kr&&qr;if(Mr&&(Sr=new $n(_e.NO_INSERT),Br=null),kr){(Or.isFirst()||Or.isLast())&&(Nr=Or._path._closed),Or._visited=!0;break}if(eo&&Br&&(Pr.push(Br),Br=null),Br||(eo&&Lr.push(Or),Br={start:Sr._segments.length,crossings:Lr,visited:Ur=[],handleIn:jr}),eo&&(Or=qr),!Yn(Or)){Sr.removeSegments(Br.start);for(var Jr=0,oo=Ur.length;Jr<oo;Jr++)Ur[Jr]._visited=!1;Ur.length=0;do Or=Br&&Br.crossings.shift(),(!Or||!Or._path)&&(Or=null,Br=Pr.pop(),Br&&(Ur=Br.visited,jr=Br.handleIn));while(Br&&!Yn(Or));if(!Or)break}var ro=Or.getNext();Sr.add(new jt(Or._point,jr,ro&&Or._handleOut)),Or._visited=!0,Ur.push(Or),Or=ro||Or._path.getFirstSegment(),jr=ro&&ro._handleIn}kr&&(Nr&&(Sr.getFirstSegment().setHandleIn(jr),Sr.setClosed(Nr)),Sr.getArea()!==0&&On.push(Sr))}return On}return{_getWinding:function(kn,Un,On){return er(kn,this.getCurves(),Un,On)},unite:function(kn,Un){return Cn(this,kn,"unite",Un)},intersect:function(kn,Un){return Cn(this,kn,"intersect",Un)},subtract:function(kn,Un){return Cn(this,kn,"subtract",Un)},exclude:function(kn,Un){return Cn(this,kn,"exclude",Un)},divide:function(kn,Un){return Un&&(Un.trace==!1||Un.stroke)?bn(this,kn,"divide"):_n([this.subtract(kn,Un),this.intersect(kn,Un)],!0,this,kn,Un)},resolveCrossings:function(){var kn=this._children,Un=kn||[this];function On(Br,Ur){var jr=Br&&Br._intersection;return jr&&jr._overlap&&jr._path===Ur}var Rn=!1,Yn=!1,or=this.getIntersections(null,function(Br){return Br.hasOverlap()&&(Rn=!0)||Br.isCrossing()&&(Yn=!0)}),tr=Rn&&Yn&&[];if(or=En.expand(or),Rn)for(var hr=Fn(or,function(Br){return Br.hasOverlap()},tr),pr=hr.length-1;pr>=0;pr--){var _r=hr[pr],Or=_r._path,gr=_r._segment,Sr=gr.getPrevious(),kr=gr.getNext();On(Sr,Or)&&On(kr,Or)&&(gr.remove(),Sr._handleOut._set(0,0),kr._handleIn._set(0,0),Sr!==gr&&!Sr.getCurve().hasLength()&&(kr._handleIn.set(Sr._handleIn),Sr.remove()))}Yn&&(Fn(or,Rn&&function(Br){var Ur=Br.getCurve(),jr=Br.getSegment(),Hr=Br._intersection,Kr=Hr._curve,Mr=Hr._segment;if(Ur&&Kr&&Ur._path&&Kr._path)return!0;jr&&(jr._intersection=null),Mr&&(Mr._intersection=null)},tr),tr&&Ln(tr),Un=nr(k.each(Un,function(Br){k.push(this,Br._segments)},[])));var Nr=Un.length,Pr;return Nr>1&&kn?(Un!==kn&&this.setChildren(Un),Pr=this):Nr===1&&!kn&&(Un[0]!==this&&this.setSegments(Un[0].removeSegments()),Pr=this),Pr||(Pr=new Wn(_e.NO_INSERT),Pr.addChildren(Un),Pr=Pr.reduce(),Pr.copyAttributes(this),this.replaceWith(Pr)),Pr},reorient:function(kn,Un){var On=this._children;return On&&On.length?this.setChildren(Mn(this.removeChildren(),function(Rn){return!!(kn?Rn:Rn&1)},Un)):Un!==r&&this.setClockwise(Un),this},getInteriorPoint:function(){var kn=this.getBounds(),Un=kn.getCenter(!0);if(!this.contains(Un)){for(var On=this.getCurves(),Rn=Un.y,Yn=[],or=[],tr=0,hr=On.length;tr<hr;tr++){var pr=On[tr].getValues(),_r=pr[1],Or=pr[3],gr=pr[5],Sr=pr[7];if(Rn>=le(_r,Or,gr,Sr)&&Rn<=Ce(_r,Or,gr,Sr))for(var kr=Dn.getMonoCurves(pr),Nr=0,Pr=kr.length;Nr<Pr;Nr++){var Br=kr[Nr],Ur=Br[1],jr=Br[7];if(Ur!==jr&&(Rn>=Ur&&Rn<=jr||Rn>=jr&&Rn<=Ur)){var Hr=Rn===Ur?Br[0]:Rn===jr?Br[6]:Dn.solveCubic(Br,1,Rn,or,0,1)===1?Dn.getPoint(Br,or[0]).x:(Br[0]+Br[6])/2;Yn.push(Hr)}}}Yn.length>1&&(Yn.sort(function(Kr,Mr){return Kr-Mr}),Un.x=(Yn[0]+Yn[1])/2)}return Un}}});var Gn=k.extend({_class:"PathFlattener",initialize:function(le,Ce,Ie,ze,qe){var Pt=[],_n=[],At=0,Cn=1/(Ie||32),bn=le._segments,In=bn[0],Ln;function Mn(nr,kn){var Un=Dn.getValues(nr,kn,qe);Pt.push(Un),Fn(Un,nr._index,0,1)}function Fn(nr,kn,Un,On){if(On-Un>Cn&&!(ze&&Dn.isStraight(nr))&&!Dn.isFlatEnough(nr,Ce||.25)){var Rn=Dn.subdivide(nr,.5),Yn=(Un+On)/2;Fn(Rn[0],kn,Un,Yn),Fn(Rn[1],kn,Yn,On)}else{var or=nr[6]-nr[0],tr=nr[7]-nr[1],hr=Math.sqrt(or*or+tr*tr);hr>0&&(At+=hr,_n.push({offset:At,curve:nr,index:kn,time:On}))}}for(var er=1,Qn=bn.length;er<Qn;er++)Ln=bn[er],Mn(In,Ln),In=Ln;le._closed&&Mn(Ln||In,bn[0]),this.curves=Pt,this.parts=_n,this.length=At,this.index=0},_get:function(le){for(var Ce=this.parts,Ie=Ce.length,ze,qe=this.index;ze=qe,!(!qe||Ce[--qe].offset<le););for(;ze<Ie;ze++){var Pt=Ce[ze];if(Pt.offset>=le){this.index=ze;var _n=Ce[ze-1],At=_n&&_n.index===Pt.index?_n.time:0,Cn=_n?_n.offset:0;return{index:Pt.index,time:At+(Pt.time-At)*(le-Cn)/(Pt.offset-Cn)}}}return{index:Ce[Ie-1].index,time:1}},drawPart:function(le,Ce,Ie){for(var ze=this._get(Ce),qe=this._get(Ie),Pt=ze.index,_n=qe.index;Pt<=_n;Pt++){var At=Dn.getPart(this.curves[Pt],Pt===ze.index?ze.time:0,Pt===qe.index?qe.time:1);Pt===ze.index&&le.moveTo(At[0],At[1]),le.bezierCurveTo.apply(le,At.slice(2))}}},k.each(Dn._evaluateMethods,function(le){this[le+"At"]=function(Ce){var Ie=this._get(Ce);return Dn[le](this.curves[Ie.index],Ie.time)}},{})),Nn=k.extend({initialize:function(le){for(var Ce=this.points=[],Ie=le._segments,ze=le._closed,qe=0,Pt,_n=Ie.length;qe<_n;qe++){var At=Ie[qe].point;(!Pt||!Pt.equals(At))&&Ce.push(Pt=At.clone())}ze&&(Ce.unshift(Ce[Ce.length-1]),Ce.push(Ce[1])),this.closed=ze},fit:function(le){var Ce=this.points,Ie=Ce.length,ze=null;return Ie>0&&(ze=[new jt(Ce[0])],Ie>1&&(this.fitCubic(ze,le,0,Ie-1,Ce[1].subtract(Ce[0]),Ce[Ie-2].subtract(Ce[Ie-1])),this.closed&&(ze.shift(),ze.pop()))),ze},fitCubic:function(le,Ce,Ie,ze,qe,Pt){var _n=this.points;if(ze-Ie===1){var At=_n[Ie],Cn=_n[ze],bn=At.getDistance(Cn)/3;this.addCurve(le,[At,At.add(qe.normalize(bn)),Cn.add(Pt.normalize(bn)),Cn]);return}for(var In=this.chordLengthParameterize(Ie,ze),Ln=Math.max(Ce,Ce*Ce),Mn,Fn=!0,er=0;er<=4;er++){var Qn=this.generateBezier(Ie,ze,In,qe,Pt),nr=this.findMaxError(Ie,ze,Qn,In);if(nr.error<Ce&&Fn){this.addCurve(le,Qn);return}if(Mn=nr.index,nr.error>=Ln)break;Fn=this.reparameterize(Ie,ze,In,Qn),Ln=nr.error}var kn=_n[Mn-1].subtract(_n[Mn+1]);this.fitCubic(le,Ce,Ie,Mn,qe,kn),this.fitCubic(le,Ce,Mn,ze,kn.negate(),Pt)},addCurve:function(le,Ce){var Ie=le[le.length-1];Ie.setHandleOut(Ce[1].subtract(Ce[0])),le.push(new jt(Ce[3],Ce[2].subtract(Ce[3])))},generateBezier:function(le,Ce,Ie,ze,qe){for(var Pt=1e-12,_n=Math.abs,At=this.points,Cn=At[le],bn=At[Ce],In=[[0,0],[0,0]],Ln=[0,0],Mn=0,Fn=Ce-le+1;Mn<Fn;Mn++){var er=Ie[Mn],Qn=1-er,nr=3*er*Qn,kn=Qn*Qn*Qn,Un=nr*Qn,On=nr*er,Rn=er*er*er,Yn=ze.normalize(Un),or=qe.normalize(On),tr=At[le+Mn].subtract(Cn.multiply(kn+Un)).subtract(bn.multiply(On+Rn));In[0][0]+=Yn.dot(Yn),In[0][1]+=Yn.dot(or),In[1][0]=In[0][1],In[1][1]+=or.dot(or),Ln[0]+=Yn.dot(tr),Ln[1]+=or.dot(tr)}var hr=In[0][0]*In[1][1]-In[1][0]*In[0][1],pr,_r;if(_n(hr)>Pt){var Or=In[0][0]*Ln[1]-In[1][0]*Ln[0],gr=Ln[0]*In[1][1]-Ln[1]*In[0][1];pr=gr/hr,_r=Or/hr}else{var Sr=In[0][0]+In[0][1],kr=In[1][0]+In[1][1];pr=_r=_n(Sr)>Pt?Ln[0]/Sr:_n(kr)>Pt?Ln[1]/kr:0}var Nr=bn.getDistance(Cn),Pr=Pt*Nr,Br,Ur;if(pr<Pr||_r<Pr)pr=_r=Nr/3;else{var jr=bn.subtract(Cn);Br=ze.normalize(pr),Ur=qe.normalize(_r),Br.dot(jr)-Ur.dot(jr)>Nr*Nr&&(pr=_r=Nr/3,Br=Ur=null)}return[Cn,Cn.add(Br||ze.normalize(pr)),bn.add(Ur||qe.normalize(_r)),bn]},reparameterize:function(le,Ce,Ie,ze){for(var qe=le;qe<=Ce;qe++)Ie[qe-le]=this.findRoot(ze,this.points[qe],Ie[qe-le]);for(var qe=1,Pt=Ie.length;qe<Pt;qe++)if(Ie[qe]<=Ie[qe-1])return!1;return!0},findRoot:function(le,Ce,Ie){for(var ze=[],qe=[],Pt=0;Pt<=2;Pt++)ze[Pt]=le[Pt+1].subtract(le[Pt]).multiply(3);for(var Pt=0;Pt<=1;Pt++)qe[Pt]=ze[Pt+1].subtract(ze[Pt]).multiply(2);var _n=this.evaluate(3,le,Ie),At=this.evaluate(2,ze,Ie),Cn=this.evaluate(1,qe,Ie),bn=_n.subtract(Ce),In=At.dot(At)+bn.dot(Cn);return re.isMachineZero(In)?Ie:Ie-bn.dot(At)/In},evaluate:function(le,Ce,Ie){for(var ze=Ce.slice(),qe=1;qe<=le;qe++)for(var Pt=0;Pt<=le-qe;Pt++)ze[Pt]=ze[Pt].multiply(1-Ie).add(ze[Pt+1].multiply(Ie));return ze[0]},chordLengthParameterize:function(le,Ce){for(var Ie=[0],ze=le+1;ze<=Ce;ze++)Ie[ze-le]=Ie[ze-le-1]+this.points[ze].getDistance(this.points[ze-1]);for(var ze=1,qe=Ce-le;ze<=qe;ze++)Ie[ze]/=Ie[qe];return Ie},findMaxError:function(le,Ce,Ie,ze){for(var qe=Math.floor((Ce-le+1)/2),Pt=0,_n=le+1;_n<Ce;_n++){var At=this.evaluate(3,Ie,ze[_n-le]),Cn=At.subtract(this.points[_n]),bn=Cn.x*Cn.x+Cn.y*Cn.y;bn>=Pt&&(Pt=bn,qe=_n)}return{error:Pt,index:qe}}}),Zn=_e.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(Ce){this._content="",this._lines=[];var Ie=Ce&&k.isPlainObject(Ce)&&Ce.x===r&&Ce.y===r;this._initialize(Ie&&Ce,!Ie&&ae.read(arguments))},_equals:function(le){return this._content===le._content},copyContent:function(le){this.setContent(le._content)},getContent:function(){return this._content},setContent:function(le){this._content=""+le,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Hn=Zn.extend({_class:"PointText",initialize:function(){Zn.apply(this,arguments)},getPoint:function(){var le=this._matrix.getTranslation();return new de(le.x,le.y,this,"setPoint")},setPoint:function(){var le=ae.read(arguments);this.translate(le.subtract(this._matrix.getTranslation()))},_draw:function(le,Ce,Ie){if(this._content){this._setStyles(le,Ce,Ie);var ze=this._lines,qe=this._style,Pt=qe.hasFill(),_n=qe.hasStroke(),At=qe.getLeading(),Cn=le.shadowColor;le.font=qe.getFontStyle(),le.textAlign=qe.getJustification();for(var bn=0,In=ze.length;bn<In;bn++){le.shadowColor=Cn;var Ln=ze[bn];Pt&&(le.fillText(Ln,0,0),le.shadowColor="rgba(0,0,0,0)"),_n&&le.strokeText(Ln,0,0),le.translate(0,At)}}},_getBounds:function(le,Ce){var Ie=this._style,ze=this._lines,qe=ze.length,Pt=Ie.getJustification(),_n=Ie.getLeading(),At=this.getView().getTextWidth(Ie.getFontStyle(),ze),Cn=0;Pt!=="left"&&(Cn-=At/(Pt==="center"?2:1));var bn=new he(Cn,qe?-.75*_n:0,At,qe*_n);return le?le._transformBounds(bn,bn):bn}}),rr=k.extend(new function(){var le={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},Ce={},Ie={transparent:[0,0,0,0]},ze;function qe(At){var Cn=At.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||At.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),bn="rgb",In;if(Cn){var Ln=Cn[4]?4:3;In=new Array(Ln);for(var Mn=0;Mn<Ln;Mn++){var Fn=Cn[Mn+1];In[Mn]=parseInt(Fn.length==1?Fn+Fn:Fn,16)/255}}else if(Cn=At.match(/^(rgb|hsl)a?\((.*)\)$/)){bn=Cn[1],In=Cn[2].trim().split(/[,\s]+/g);for(var er=bn==="hsl",Mn=0,Qn=Math.min(In.length,4);Mn<Qn;Mn++){var nr=In[Mn],Fn=parseFloat(nr);if(er)if(Mn===0){var kn=nr.match(/([a-z]*)$/)[1];Fn*={turn:360,rad:180/Math.PI,grad:.9}[kn]||1}else Mn<3&&(Fn/=100);else Mn<3&&(Fn/=/%$/.test(nr)?100:255);In[Mn]=Fn}}else{var Un=Ie[At];if(!Un)if(g){ze||(ze=ar.getContext(1,1,{willReadFrequently:!0}),ze.globalCompositeOperation="copy"),ze.fillStyle="rgba(0,0,0,0)",ze.fillStyle=At,ze.fillRect(0,0,1,1);var On=ze.getImageData(0,0,1,1).data;Un=Ie[At]=[On[0]/255,On[1]/255,On[2]/255]}else Un=[0,0,0];In=Un.slice()}return[bn,In]}var Pt=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],_n={"rgb-hsb":function(At,Cn,bn){var In=Math.max(At,Cn,bn),Ln=Math.min(At,Cn,bn),Mn=In-Ln,Fn=Mn===0?0:(In==At?(Cn-bn)/Mn+(Cn<bn?6:0):In==Cn?(bn-At)/Mn+2:(At-Cn)/Mn+4)*60;return[Fn,In===0?0:Mn/In,In]},"hsb-rgb":function(At,Cn,bn){At=(At/60%6+6)%6;var Ln=Math.floor(At),In=At-Ln,Ln=Pt[Ln],Mn=[bn,bn*(1-Cn),bn*(1-Cn*In),bn*(1-Cn*(1-In))];return[Mn[Ln[0]],Mn[Ln[1]],Mn[Ln[2]]]},"rgb-hsl":function(At,Cn,bn){var In=Math.max(At,Cn,bn),Ln=Math.min(At,Cn,bn),Mn=In-Ln,Fn=Mn===0,er=Fn?0:(In==At?(Cn-bn)/Mn+(Cn<bn?6:0):In==Cn?(bn-At)/Mn+2:(At-Cn)/Mn+4)*60,Qn=(In+Ln)/2,nr=Fn?0:Qn<.5?Mn/(In+Ln):Mn/(2-In-Ln);return[er,nr,Qn]},"hsl-rgb":function(At,Cn,bn){if(At=(At/360%1+1)%1,Cn===0)return[bn,bn,bn];for(var In=[At+1/3,At,At-1/3],Ln=bn<.5?bn*(1+Cn):bn+Cn-bn*Cn,Mn=2*bn-Ln,Fn=[],er=0;er<3;er++){var Qn=In[er];Qn<0&&(Qn+=1),Qn>1&&(Qn-=1),Fn[er]=6*Qn<1?Mn+(Ln-Mn)*6*Qn:2*Qn<1?Ln:3*Qn<2?Mn+(Ln-Mn)*(2/3-Qn)*6:Mn}return Fn},"rgb-gray":function(At,Cn,bn){return[At*.2989+Cn*.587+bn*.114]},"gray-rgb":function(At){return[At,At,At]},"gray-hsb":function(At){return[0,0,At]},"gray-hsl":function(At){return[0,0,At]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return k.each(le,function(At,Cn){Ce[Cn]=[],k.each(At,function(bn,In){var Ln=k.capitalize(bn),Mn=/^(hue|saturation)$/.test(bn),Fn=Ce[Cn][In]=Cn==="gradient"?bn==="gradient"?function(er){var Qn=this._components[0];return er=Xn.read(Array.isArray(er)?er:arguments,0,{readNull:!0}),Qn!==er&&(Qn&&Qn._removeOwner(this),er&&er._addOwner(this)),er}:function(){return ae.read(arguments,0,{readNull:bn==="highlight",clone:!0})}:function(er){return er==null||isNaN(er)?0:+er};this["get"+Ln]=function(){return this._type===Cn||Mn&&/^hs[bl]$/.test(this._type)?this._components[In]:this._convert(Cn)[In]},this["set"+Ln]=function(er){this._type!==Cn&&!(Mn&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(Cn),this._properties=le[Cn],this._type=Cn),this._components[In]=Fn.call(this,er),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function At(Cn){var bn=arguments,In=this.__read,Ln=0,Mn,Fn,er,Qn;Array.isArray(Cn)&&(bn=Cn,Cn=bn[0]);var nr=Cn!=null&&typeof Cn;if(nr==="string"&&Cn in le&&(Mn=Cn,Cn=bn[1],Array.isArray(Cn)?(Fn=Cn,er=bn[2]):(In&&(Ln=1),bn=k.slice(bn,1),nr=typeof Cn)),!Fn){if(Qn=nr==="number"?bn:nr==="object"&&Cn.length!=null?Cn:null,Qn){Mn||(Mn=Qn.length>=3?"rgb":"gray");var kn=le[Mn].length;er=Qn[kn],In&&(Ln+=Qn===arguments?kn+(er!=null?1:0):1),Qn.length>kn&&(Qn=k.slice(Qn,0,kn))}else if(nr==="string"){var Un=qe(Cn);Mn=Un[0],Fn=Un[1],Fn.length===4&&(er=Fn[3],Fn.length--)}else if(nr==="object")if(Cn.constructor===At){if(Mn=Cn._type,Fn=Cn._components.slice(),er=Cn._alpha,Mn==="gradient")for(var On=1,Rn=Fn.length;On<Rn;On++){var Yn=Fn[On];Yn&&(Fn[On]=Yn.clone())}}else if(Cn.constructor===Xn)Mn="gradient",Qn=bn;else{Mn="hue"in Cn?"lightness"in Cn?"hsl":"hsb":"gradient"in Cn||"stops"in Cn||"radial"in Cn?"gradient":"gray"in Cn?"gray":"rgb";var or=le[Mn],tr=Ce[Mn];this._components=Fn=[];for(var On=0,Rn=or.length;On<Rn;On++){var hr=Cn[or[On]];hr==null&&!On&&Mn==="gradient"&&"stops"in Cn&&(hr={stops:Cn.stops,radial:Cn.radial}),hr=tr[On].call(this,hr),hr!=null&&(Fn[On]=hr)}er=Cn.alpha}In&&Mn&&(Ln=1)}if(this._type=Mn||"rgb",!Fn){this._components=Fn=[];for(var tr=Ce[this._type],On=0,Rn=tr.length;On<Rn;On++){var hr=tr[On].call(this,Qn&&Qn[On]);hr!=null&&(Fn[On]=hr)}}return this._components=Fn,this._properties=le[this._type],this._alpha=er,In&&(this.__read=Ln),this},set:"#initialize",_serialize:function(At,Cn){var bn=this.getComponents();return k.serialize(/^(gray|rgb)$/.test(this._type)?bn:[this._type].concat(bn),At,!0,Cn)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(At){var Cn;return this._type===At?this._components.slice():(Cn=_n[this._type+"-"+At])?Cn.apply(this,this._components):_n["rgb-"+At].apply(this,_n[this._type+"-rgb"].apply(this,this._components))},convert:function(At){return new rr(At,this._convert(At),this._alpha)},getType:function(){return this._type},setType:function(At){this._components=this._convert(At),this._properties=le[At],this._type=At},getComponents:function(){var At=this._components.slice();return this._alpha!=null&&At.push(this._alpha),At},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(At){this._alpha=At==null?null:Math.min(Math.max(At,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(At){var Cn=k.isPlainValue(At,!0)?rr.read(arguments):At;return Cn===this||Cn&&this._class===Cn._class&&this._type===Cn._type&&this.getAlpha()===Cn.getAlpha()&&k.equals(this._components,Cn._components)||!1},toString:function(){for(var At=this._properties,Cn=[],bn=this._type==="gradient",In=j.instance,Ln=0,Mn=At.length;Ln<Mn;Ln++){var Fn=this._components[Ln];Fn!=null&&Cn.push(At[Ln]+": "+(bn?Fn:In.number(Fn)))}return this._alpha!=null&&Cn.push("alpha: "+In.number(this._alpha)),"{ "+Cn.join(", ")+" }"},toCSS:function(At){var Cn=this._convert("rgb"),bn=At||this._alpha==null?1:this._alpha;function In(Ln){return Math.round((Ln<0?0:Ln>1?1:Ln)*255)}return Cn=[In(Cn[0]),In(Cn[1]),In(Cn[2])],bn<1&&Cn.push(bn<0?0:bn),At?"#"+((1<<24)+(Cn[0]<<16)+(Cn[1]<<8)+Cn[2]).toString(16).slice(1):(Cn.length==4?"rgba(":"rgb(")+Cn.join(",")+")"},toCanvasStyle:function(At,Cn){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var bn=this._components,In=bn[0],Ln=In._stops,Mn=bn[1],Fn=bn[2],er=bn[3],Qn=Cn&&Cn.inverted(),nr;if(Qn&&(Mn=Qn._transformPoint(Mn),Fn=Qn._transformPoint(Fn),er&&(er=Qn._transformPoint(er))),In._radial){var kn=Fn.getDistance(Mn);if(er){var Un=er.subtract(Mn);Un.getLength()>kn&&(er=Mn.add(Un.normalize(kn-.1)))}var On=er||Mn;nr=At.createRadialGradient(On.x,On.y,0,Mn.x,Mn.y,kn)}else nr=At.createLinearGradient(Mn.x,Mn.y,Fn.x,Fn.y);for(var Rn=0,Yn=Ln.length;Rn<Yn;Rn++){var or=Ln[Rn],tr=or._offset;nr.addColorStop(tr??Rn/(Yn-1),or._color.toCanvasStyle())}return this._canvasStyle=nr},transform:function(At){if(this._type==="gradient"){for(var Cn=this._components,bn=1,In=Cn.length;bn<In;bn++){var Ln=Cn[bn];At._transformPoint(Ln,Ln,!0)}this._changed()}},statics:{_types:le,random:function(){var At=Math.random;return new rr(At(),At(),At())},_setOwner:function(At,Cn,bn){return At&&(At._owner&&Cn&&At._owner!==Cn&&(At=At.clone()),!At._owner^!Cn&&(At._owner=Cn||null,At._setter=bn||null)),At}}})},new function(){var le={add:function(Ce,Ie){return Ce+Ie},subtract:function(Ce,Ie){return Ce-Ie},multiply:function(Ce,Ie){return Ce*Ie},divide:function(Ce,Ie){return Ce/Ie}};return k.each(le,function(Ce,Ie){this[Ie]=function(ze){ze=rr.read(arguments);for(var qe=this._type,Pt=this._components,_n=ze._convert(qe),At=0,Cn=Pt.length;At<Cn;At++)_n[At]=Ce(Pt[At],_n[At]);return new rr(qe,_n,this._alpha!=null?Ce(this._alpha,ze.getAlpha()):null)}},{})}),Xn=k.extend({_class:"Gradient",initialize:function(Ce,Ie){this._id=oe.get(),Ce&&k.isPlainObject(Ce)&&(this.set(Ce),Ce=Ie=null),this._stops==null&&this.setStops(Ce||["white","black"]),this._radial==null&&this.setRadial(typeof Ie=="string"&&Ie==="radial"||Ie||!1)},_serialize:function(le,Ce){return Ce.add(this,function(){return k.serialize([this._stops,this._radial],le,!0,Ce)})},_changed:function(){for(var le=0,Ce=this._owners&&this._owners.length;le<Ce;le++)this._owners[le]._changed()},_addOwner:function(le){this._owners||(this._owners=[]),this._owners.push(le)},_removeOwner:function(le){var Ce=this._owners?this._owners.indexOf(le):-1;Ce!=-1&&(this._owners.splice(Ce,1),this._owners.length||(this._owners=r))},clone:function(){for(var le=[],Ce=0,Ie=this._stops.length;Ce<Ie;Ce++)le[Ce]=this._stops[Ce].clone();return new Xn(le,this._radial)},getStops:function(){return this._stops},setStops:function(le){if(le.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var Ce=this._stops;if(Ce)for(var Ie=0,ze=Ce.length;Ie<ze;Ie++)Ce[Ie]._owner=r;Ce=this._stops=Pn.readList(le,0,{clone:!0});for(var Ie=0,ze=Ce.length;Ie<ze;Ie++)Ce[Ie]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(le){this._radial=le,this._changed()},equals:function(le){if(le===this)return!0;if(le&&this._class===le._class){var Ce=this._stops,Ie=le._stops,ze=Ce.length;if(ze===Ie.length){for(var qe=0;qe<ze;qe++)if(!Ce[qe].equals(Ie[qe]))return!1;return!0}}return!1}}),Pn=k.extend({_class:"GradientStop",initialize:function(Ce,Ie){var ze=Ce,qe=Ie;typeof Ce=="object"&&Ie===r&&(Array.isArray(Ce)&&typeof Ce[0]!="number"?(ze=Ce[0],qe=Ce[1]):("color"in Ce||"offset"in Ce||"rampPoint"in Ce)&&(ze=Ce.color,qe=Ce.offset||Ce.rampPoint||0)),this.setColor(ze),this.setOffset(qe)},clone:function(){return new Pn(this._color.clone(),this._offset)},_serialize:function(le,Ce){var Ie=this._color,ze=this._offset;return k.serialize(ze==null?[Ie]:[Ie,ze],le,!0,Ce)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(le){this._offset=le,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){rr._setOwner(this._color,null),this._color=rr._setOwner(rr.read(arguments,0),this,"setColor"),this._changed()},equals:function(le){return le===this||le&&this._class===le._class&&this._color.equals(le._color)&&this._offset==le._offset||!1}}),jn=k.extend(new function(){var le={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ae,selectedColor:null},Ce=k.set({},le,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),Ie=k.set({},Ce,{fillColor:new rr}),ze={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},qe={beans:!0},Pt={_class:"Style",beans:!0,initialize:function(At,Cn,bn){this._values={},this._owner=Cn,this._project=Cn&&Cn._project||bn||ur.project,this._defaults=!Cn||Cn instanceof Fe?Ce:Cn instanceof Zn?Ie:le,At&&this.set(At)}};return k.each(Ce,function(_n,At){var Cn=/Color$/.test(At),bn=At==="shadowOffset",In=k.capitalize(At),Ln=ze[At],Mn="set"+In,Fn="get"+In;Pt[Mn]=function(er){var Qn=this._owner,nr=Qn&&Qn._children,kn=nr&&nr.length>0&&!(Qn instanceof Wn);if(kn)for(var Un=0,On=nr.length;Un<On;Un++)nr[Un]._style[Mn](er);if((At==="selectedColor"||!kn)&&At in this._defaults){var Rn=this._values[At];Rn!==er&&(Cn&&(Rn&&(rr._setOwner(Rn,null),Rn._canvasStyle=null),er&&er.constructor===rr&&(er=rr._setOwner(er,Qn,kn&&Mn))),this._values[At]=er,Qn&&Qn._changed(Ln||129))}},Pt[Fn]=function(er){var Qn=this._owner,nr=Qn&&Qn._children,kn=nr&&nr.length>0&&!(Qn instanceof Wn),Un;if(kn&&!er)for(var On=0,Rn=nr.length;On<Rn;On++){var Yn=nr[On]._style[Fn]();if(!On)Un=Yn;else if(!k.equals(Un,Yn))return r}else if(At in this._defaults){var Un=this._values[At];if(Un===r)Un=this._defaults[At],Un&&Un.clone&&(Un=Un.clone());else{var or=Cn?rr:bn?ae:null;or&&!(Un&&Un.constructor===or)&&(this._values[At]=Un=or.read([Un],0,{readNull:!0,clone:!0}))}}return Un&&Cn&&(Un=rr._setOwner(Un,Qn,kn&&Mn)),Un},qe[Fn]=function(er){return this._style[Fn](er)},qe[Mn]=function(er){this._style[Mn](er)}}),k.each({Font:"FontFamily",WindingRule:"FillRule"},function(_n,At){var Cn="get"+At,bn="set"+At;Pt[Cn]=qe[Cn]="#get"+_n,Pt[bn]=qe[bn]="#set"+_n}),_e.inject(qe),Pt},{set:function(le){var Ce=le instanceof jn,Ie=Ce?le._values:le;if(Ie){for(var ze in Ie)if(ze in this._defaults){var qe=Ie[ze];this[ze]=qe&&Ce&&qe.clone?qe.clone():qe}}},equals:function(le){function Ce(Ie,ze,qe){var Pt=Ie._values,_n=ze._values,At=ze._defaults;for(var Cn in Pt){var bn=Pt[Cn],In=_n[Cn];if(!(qe&&Cn in _n)&&!k.equals(bn,In===r?At[Cn]:In))return!1}return!0}return le===this||le&&this._class===le._class&&Ce(this,le)&&Ce(le,this,!0)||!1},_dispose:function(){var le;le=this.getFillColor(),le&&(le._canvasStyle=null),le=this.getStrokeColor(),le&&(le._canvasStyle=null),le=this.getShadowColor(),le&&(le._canvasStyle=null)},hasFill:function(){var le=this.getFillColor();return!!le&&le.alpha>0},hasStroke:function(){var le=this.getStrokeColor();return!!le&&le.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var le=this.getShadowColor();return!!le&&le.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var le=this.getFontSize();return this.getFontWeight()+" "+le+(/[a-z]/i.test(le+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function le(){var Ce=le.base.call(this),Ie=this.getFontSize();return/pt|em|%|px/.test(Ie)&&(Ie=this.getView().getPixelSize(Ie)),Ce??Ie*1.2}}),fr=new function(){function le(Ce,Ie,ze,qe){for(var Pt=["","webkit","moz","Moz","ms","o"],_n=Ie[0].toUpperCase()+Ie.substring(1),At=0;At<6;At++){var Cn=Pt[At],bn=Cn?Cn+_n:Ie;if(bn in Ce){if(ze)Ce[bn]=qe;else return Ce[bn];break}}}return{getStyles:function(Ce){var Ie=Ce&&Ce.nodeType!==9?Ce.ownerDocument:Ce,ze=Ie&&Ie.defaultView;return ze&&ze.getComputedStyle(Ce,"")},getBounds:function(Ce,Ie){var ze=Ce.ownerDocument,qe=ze.body,Pt=ze.documentElement,_n;try{_n=Ce.getBoundingClientRect()}catch{_n={left:0,top:0,width:0,height:0}}var At=_n.left-(Pt.clientLeft||qe.clientLeft||0),Cn=_n.top-(Pt.clientTop||qe.clientTop||0);if(!Ie){var bn=ze.defaultView;At+=bn.pageXOffset||Pt.scrollLeft||qe.scrollLeft,Cn+=bn.pageYOffset||Pt.scrollTop||qe.scrollTop}return new he(At,Cn,_n.width,_n.height)},getViewportBounds:function(Ce){var Ie=Ce.ownerDocument,ze=Ie.defaultView,qe=Ie.documentElement;return new he(0,0,ze.innerWidth||qe.clientWidth,ze.innerHeight||qe.clientHeight)},getOffset:function(Ce,Ie){return fr.getBounds(Ce,Ie).getPoint()},getSize:function(Ce){return fr.getBounds(Ce,!0).getSize()},isInvisible:function(Ce){return fr.getSize(Ce).equals(new ue(0,0))},isInView:function(Ce){return!fr.isInvisible(Ce)&&fr.getViewportBounds(Ce).intersects(fr.getBounds(Ce,!0))},isInserted:function(Ce){return y.body.contains(Ce)},getPrefixed:function(Ce,Ie){return Ce&&le(Ce,Ie)},setPrefixed:function(Ce,Ie,ze){if(typeof Ie=="object")for(var qe in Ie)le(Ce,qe,!0,Ie[qe]);else le(Ce,Ie,!0,ze)}}},yr={add:function(le,Ce){if(le)for(var Ie in Ce)for(var ze=Ce[Ie],qe=Ie.split(/[\s,]+/g),Pt=0,_n=qe.length;Pt<_n;Pt++){var At=qe[Pt],Cn=le===y&&(At==="touchstart"||At==="touchmove")?{passive:!1}:!1;le.addEventListener(At,ze,Cn)}},remove:function(le,Ce){if(le)for(var Ie in Ce)for(var ze=Ce[Ie],qe=Ie.split(/[\s,]+/g),Pt=0,_n=qe.length;Pt<_n;Pt++)le.removeEventListener(qe[Pt],ze,!1)},getPoint:function(le){var Ce=le.targetTouches?le.targetTouches.length?le.targetTouches[0]:le.changedTouches[0]:le;return new ae(Ce.pageX||Ce.clientX+y.documentElement.scrollLeft,Ce.pageY||Ce.clientY+y.documentElement.scrollTop)},getTarget:function(le){return le.target||le.srcElement},getRelatedTarget:function(le){return le.relatedTarget||le.toElement},getOffset:function(le,Ce){return yr.getPoint(le).subtract(fr.getOffset(Ce||yr.getTarget(le)))}};yr.requestAnimationFrame=new function(){var le=fr.getPrefixed(g,"requestAnimationFrame"),Ce=!1,Ie=[],ze;function qe(){var Pt=Ie;Ie=[];for(var _n=0,At=Pt.length;_n<At;_n++)Pt[_n]();Ce=le&&Ie.length,Ce&&le(qe)}return function(Pt){Ie.push(Pt),le?Ce||(le(qe),Ce=!0):ze||(ze=setInterval(qe,1e3/60))}};var Cr=k.extend($,{_class:"View",initialize:function le(Ce,Ie){function ze(Ln){return Ie[Ln]||parseInt(Ie.getAttribute(Ln),10)}function qe(){var Ln=fr.getSize(Ie);return Ln.isNaN()||Ln.isZero()?new ue(ze("width"),ze("height")):Ln}var Pt;if(g&&Ie){this._id=Ie.getAttribute("id"),this._id==null&&Ie.setAttribute("id",this._id="paper-view-"+le._id++),yr.add(Ie,this._viewEvents);var _n="none";if(fr.setPrefixed(Ie.style,{userDrag:_n,userSelect:_n,touchCallout:_n,contentZooming:_n,tapHighlightColor:"rgba(0,0,0,0)"}),V.hasAttribute(Ie,"resize")){var At=this;yr.add(g,this._windowEvents={resize:function(){At.setViewSize(qe())}})}if(Pt=qe(),V.hasAttribute(Ie,"stats")&&typeof Stats<"u"){this._stats=new Stats;var Cn=this._stats.domElement,bn=Cn.style,In=fr.getOffset(Ie);bn.position="absolute",bn.left=In.x+"px",bn.top=In.y+"px",y.body.appendChild(Cn)}}else Pt=new ue(Ie),Ie=null;this._project=Ce,this._scope=Ce._scope,this._element=Ie,this._pixelRatio||(this._pixelRatio=g&&g.devicePixelRatio||1),this._setElementSize(Pt.width,Pt.height),this._viewSize=Pt,le._views.push(this),le._viewsById[this._id]=this,(this._matrix=new $e)._owner=this,le._focused||(le._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!ur.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Cr._focused===this&&(Cr._focused=null),Cr._views.splice(Cr._views.indexOf(this),1),delete Cr._viewsById[this._id];var le=this._project;return le._view===this&&(le._view=null),yr.remove(this._element,this._viewEvents),yr.remove(g,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:k.each(_e._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(le){this[le]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(le){this._autoUpdate=le,le&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var le=this;yr.requestAnimationFrame(function(){if(le._requested=!1,le._animate){le.requestUpdate();var Ce=le._element;(!fr.getPrefixed(y,"hidden")||V.getAttribute(Ce,"keepalive")==="true")&&fr.isInView(Ce)&&le._handleFrame()}le._autoUpdate&&le.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){ur=this._scope;var le=Date.now()/1e3,Ce=this._last?le-this._last:0;this._last=le,this.emit("frame",new k({delta:Ce,time:this._time+=Ce,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(le,Ce){var Ie=this._frameItems;Ce?(Ie[le._id]={item:le,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete Ie[le._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(le){for(var Ce in this._frameItems){var Ie=this._frameItems[Ce];Ie.item.emit("frame",new k(le,{time:Ie.time+=le.delta,count:Ie.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=r},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var le=this._viewSize;return new pe(le.width,le.height,this,"setViewSize")},setViewSize:function(){var le=ue.read(arguments),Ce=le.subtract(this._viewSize);Ce.isZero()||(this._setElementSize(le.width,le.height),this._viewSize.set(le),this._changed(),this.emit("resize",{size:le,delta:Ce}),this._autoUpdate&&this.update())},_setElementSize:function(le,Ce){var Ie=this._element;Ie&&(Ie.width!==le&&(Ie.width=le),Ie.height!==Ce&&(Ie.height=Ce))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new he(new ae,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return fr.isInView(this._element)},isInserted:function(){return fr.isInserted(this._element)},getPixelSize:function(le){var Ce=this._element,Ie;if(Ce){var ze=Ce.parentNode,qe=y.createElement("div");qe.style.fontSize=le,ze.appendChild(qe),Ie=parseFloat(fr.getStyles(qe).fontSize),ze.removeChild(qe)}else Ie=parseFloat(Ie);return Ie},getTextWidth:function(le,Ce){return 0}},k.each(["rotate","scale","shear","skew"],function(le){var Ce=le==="rotate";this[le]=function(){var Ie=arguments,ze=(Ce?k:ae).read(Ie),qe=ae.read(Ie,0,{readNull:!0});return this.transform(new $e()[le](ze,qe||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var le=new $e;return this.transform(le.translate.apply(le,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var le=ae.read(arguments);this.translate(this.getCenter().subtract(le))},getZoom:function(){var le=this._decompose().scaling;return(le.x+le.y)/2},setZoom:function(le){this.transform(new $e().scale(le/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(le){var Ce=this.getRotation();Ce!=null&&le!=null&&this.rotate(le-Ce)},getScaling:function(){var le=this._decompose().scaling;return new de(le.x,le.y,this,"setScaling")},setScaling:function(){var le=this.getScaling(),Ce=ae.read(arguments,0,{clone:!0,readNull:!0});le&&Ce&&this.scale(Ce.x/le.x,Ce.y/le.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var le=this._matrix;le.set.apply(le,arguments)},transform:function(le){this._matrix.append(le)},scrollBy:function(){this.translate(ae.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ae.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ae.read(arguments))},getEventPoint:function(le){return this.viewToProject(yr.getOffset(le,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(le,Ce){y&&typeof Ce=="string"&&(Ce=y.getElementById(Ce));var Ie=g?sr:Cr;return new Ie(le,Ce)}}},new function(){if(!g)return;var le,Ce,Ie=!1,ze=!1;function qe(gr){var Sr=yr.getTarget(gr);return Sr.getAttribute&&Cr._viewsById[Sr.getAttribute("id")]}function Pt(){var gr=Cr._focused;if(!gr||!gr.isVisible()){for(var Sr=0,kr=Cr._views.length;Sr<kr;Sr++)if((gr=Cr._views[Sr]).isVisible()){Cr._focused=Ce=gr;break}}}function _n(gr,Sr,kr){gr._handleMouseEvent("mousemove",Sr,kr)}var At=g.navigator,Cn,bn,In;At.pointerEnabled||At.msPointerEnabled?(Cn="pointerdown MSPointerDown",bn="pointermove MSPointerMove",In="pointerup pointercancel MSPointerUp MSPointerCancel"):(Cn="touchstart",bn="touchmove",In="touchend touchcancel","ontouchstart"in g&&At.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(Cn+=" mousedown",bn+=" mousemove",In+=" mouseup"));var Ln={},Mn={mouseout:function(gr){var Sr=Cr._focused,kr=yr.getRelatedTarget(gr);if(Sr&&(!kr||kr.nodeName==="HTML")){var Nr=yr.getOffset(gr,Sr._element),Pr=Nr.x,Br=Math.abs,Ur=Br(Pr),jr=1<<25,Hr=Ur-jr;Nr.x=Br(Hr)<Ur?Hr*(Pr<0?-1:1):Pr,_n(Sr,gr,Sr.viewToProject(Nr))}},scroll:Pt};Ln[Cn]=function(gr){var Sr=Cr._focused=qe(gr);Ie||(Ie=!0,Sr._handleMouseEvent("mousedown",gr))},Mn[bn]=function(gr){var Sr=Cr._focused;if(!ze){var kr=qe(gr);kr?Sr!==kr&&(Sr&&_n(Sr,gr),le||(le=Sr),Sr=Cr._focused=Ce=kr):Ce&&Ce===Sr&&(le&&!le.isInserted()&&(le=null),Sr=Cr._focused=le,le=null,Pt())}Sr&&_n(Sr,gr)},Mn[Cn]=function(){ze=!0},Mn[In]=function(gr){var Sr=Cr._focused;Sr&&Ie&&Sr._handleMouseEvent("mouseup",gr),ze=Ie=!1},yr.add(y,Mn),yr.add(g,{load:Pt});var Fn=!1,er=!1,Qn={doubleclick:"click",mousedrag:"mousemove"},nr=!1,kn,Un,On,Rn,Yn,or,tr,hr;function pr(gr,Sr,kr,Nr,Pr,Br,Ur){var jr=!1,Hr;function Kr(Mr,Lr){if(Mr.responds(Lr)){if(Hr||(Hr=new Tn(Lr,Nr,Pr,Sr||Mr,Br?Pr.subtract(Br):null)),Mr.emit(Lr,Hr)&&(Fn=!0,Hr.prevented&&(er=!0),Hr.stopped))return jr=!0}else{var qr=Qn[Lr];if(qr)return Kr(Mr,qr)}}for(;gr&&gr!==Ur&&!Kr(gr,kr);)gr=gr._parent;return jr}function _r(gr,Sr,kr,Nr,Pr,Br){return gr._project.removeOn(kr),er=Fn=!1,Yn&&pr(Yn,null,kr,Nr,Pr,Br)||Sr&&Sr!==Yn&&!Sr.isDescendant(Yn)&&pr(Sr,null,kr==="mousedrag"?"mousemove":kr,Nr,Pr,Br,Yn)||pr(gr,Yn||Sr||gr,kr,Nr,Pr,Br)}var Or={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:Ln,_handleMouseEvent:function(gr,Sr,kr){var Nr=this._itemEvents,Pr=Nr.native[gr],Br=gr==="mousemove",Ur=this._scope.tool,jr=this;function Hr(oo){return Nr.virtual[oo]||jr.responds(oo)||Ur&&Ur.responds(oo)}Br&&Ie&&Hr("mousedrag")&&(gr="mousedrag"),kr||(kr=this.getEventPoint(Sr));var Kr=this.getBounds().contains(kr),Mr=Pr&&Kr&&jr._project.hitTest(kr,{tolerance:0,fill:!0,stroke:!0}),Lr=Mr&&Mr.item||null,qr=!1,eo={};if(eo[gr.substr(5)]=!0,Pr&&Lr!==Rn&&(Rn&&pr(Rn,null,"mouseleave",Sr,kr),Lr&&pr(Lr,null,"mouseenter",Sr,kr),Rn=Lr),nr^Kr&&(pr(this,null,Kr?"mouseenter":"mouseleave",Sr,kr),qr=!0),(Kr||eo.drag)&&!kr.equals(Un)&&(_r(this,Lr,Br?gr:"mousemove",Sr,kr,Un),qr=!0),nr=Kr,eo.down&&Kr||eo.up&&kn){if(_r(this,Lr,gr,Sr,kr,kn),eo.down){if(hr=Lr===or&&Date.now()-tr<300,On=or=Lr,!er&&Lr){for(var Jr=Lr;Jr&&!Jr.responds("mousedrag");)Jr=Jr._parent;Jr&&(Yn=Lr)}kn=kr}else eo.up&&(!er&&Lr===On&&(tr=Date.now(),_r(this,Lr,hr?"doubleclick":"click",Sr,kr,kn),hr=!1),On=Yn=null);nr=!1,qr=!0}Un=kr,qr&&Ur&&(Fn=Ur._handleMouseEvent(gr,Sr,kr,eo)||Fn),Sr.cancelable!==!1&&(Fn&&!eo.move||eo.down&&Hr("mouseup"))&&Sr.preventDefault()},_handleKeyEvent:function(gr,Sr,kr,Nr){var Pr=this._scope,Br=Pr.tool,Ur;function jr(Hr){Hr.responds(gr)&&(ur=Pr,Hr.emit(gr,Ur=Ur||new vn(gr,Sr,kr,Nr)))}this.isVisible()&&(jr(this),Br&&Br.responds(gr)&&jr(Br))},_countItemEvent:function(gr,Sr){var kr=this._itemEvents,Nr=kr.native,Pr=kr.virtual;for(var Br in Or)Nr[Br]=(Nr[Br]||0)+(Or[Br][gr]||0)*Sr;Pr[gr]=(Pr[gr]||0)+Sr},statics:{updateFocus:Pt,_resetState:function(){Ie=ze=Fn=nr=!1,le=Ce=kn=Un=On=Rn=Yn=or=tr=hr=null}}}}),sr=Cr.extend({_class:"CanvasView",initialize:function(Ce,Ie){if(!(Ie instanceof g.HTMLCanvasElement)){var ze=ue.read(arguments,1);if(ze.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+k.slice(arguments,1));Ie=ar.getCanvas(ze)}var qe=this._context=Ie.getContext("2d");if(qe.save(),this._pixelRatio=1,!/^off|false$/.test(V.getAttribute(Ie,"hidpi"))){var Pt=g.devicePixelRatio||1,_n=fr.getPrefixed(qe,"backingStorePixelRatio")||1;this._pixelRatio=Pt/_n}Cr.call(this,Ce,Ie),this._needsUpdate=!0},remove:function le(){return this._context.restore(),le.base.call(this)},_setElementSize:function le(Ce,Ie){var ze=this._pixelRatio;if(le.base.call(this,Ce*ze,Ie*ze),ze!==1){var qe=this._element,Pt=this._context;if(!V.hasAttribute(qe,"resize")){var _n=qe.style;_n.width=Ce+"px",_n.height=Ie+"px"}Pt.restore(),Pt.save(),Pt.scale(ze,ze)}},getContext:function(){return this._context},getPixelSize:function le(Ce){var Ie=ur.agent,ze;if(Ie&&Ie.firefox)ze=le.base.call(this,Ce);else{var qe=this._context,Pt=qe.font;qe.font=Ce+" serif",ze=parseFloat(qe.font),qe.font=Pt}return ze},getTextWidth:function(le,Ce){var Ie=this._context,ze=Ie.font,qe=0;Ie.font=le;for(var Pt=0,_n=Ce.length;Pt<_n;Pt++)qe=Math.max(qe,Ie.measureText(Ce[Pt]).width);return Ie.font=ze,qe},update:function(){if(!this._needsUpdate)return!1;var le=this._project,Ce=this._context,Ie=this._viewSize;return Ce.clearRect(0,0,Ie.width+1,Ie.height+1),le&&le.draw(Ce,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),zn=k.extend({_class:"Event",initialize:function(Ce){this.event=Ce,this.type=Ce&&Ce.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Jn.modifiers}}),vn=zn.extend({_class:"KeyEvent",initialize:function(Ce,Ie,ze,qe){this.type=Ce,this.event=Ie,this.key=ze,this.character=qe},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Jn=new function(){var le={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},Ce={tab:"	",space:" ",enter:"\r"},Ie={},ze={},qe,Pt,_n=new k({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var bn=ur&&ur.agent;return bn&&bn.mac?this.meta:this.control}}});function At(bn){var In=bn.key||bn.keyIdentifier;return In=/^U\+/.test(In)?String.fromCharCode(parseInt(In.substr(2),16)):/^Arrow[A-Z]/.test(In)?In.substr(5):In==="Unidentified"||In===r?String.fromCharCode(bn.keyCode):In,le[In]||(In.length>1?k.hyphenate(In):In.toLowerCase())}function Cn(bn,In,Ln,Mn){var Fn=Cr._focused,er;if(Ie[In]=bn,bn?ze[In]=Ln:delete ze[In],In.length>1&&(er=k.camelize(In))in _n){_n[er]=bn;var Qn=ur&&ur.agent;if(er==="meta"&&Qn&&Qn.mac)if(bn)qe={};else{for(var nr in qe)nr in ze&&Cn(!1,nr,qe[nr],Mn);qe=null}}else bn&&qe&&(qe[In]=Ln);Fn&&Fn._handleKeyEvent(bn?"keydown":"keyup",Mn,In,Ln)}return yr.add(y,{keydown:function(bn){var In=At(bn),Ln=ur&&ur.agent;In.length>1||Ln&&Ln.chrome&&(bn.altKey||Ln.mac&&bn.metaKey||!Ln.mac&&bn.ctrlKey)?Cn(!0,In,Ce[In]||(In.length>1?"":In),bn):Pt=In},keypress:function(bn){if(Pt){var In=At(bn),Ln=bn.charCode,Mn=Ln>=32?String.fromCharCode(Ln):In.length>1?"":In;In!==Pt&&(In=Mn.toLowerCase()),Cn(!0,In,Mn,bn),Pt=null}},keyup:function(bn){var In=At(bn);In in ze&&Cn(!1,In,ze[In],bn)}}),yr.add(g,{blur:function(bn){for(var In in ze)Cn(!1,In,ze[In],bn)}}),{modifiers:_n,isDown:function(bn){return!!Ie[bn]}}},Tn=zn.extend({_class:"MouseEvent",initialize:function(Ce,Ie,ze,qe,Pt){this.type=Ce,this.event=Ie,this.point=ze,this.target=qe,this.delta=Pt},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Dt=zn.extend({_class:"ToolEvent",_item:null,initialize:function(Ce,Ie,ze){this.tool=Ce,this.type=Ie,this.event=ze},_choosePoint:function(le,Ce){return le||(Ce?Ce.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(le){this._point=le},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(le){this._lastPoint=le},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(le){this._downPoint=le},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(le){this._middlePoint=le},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(le){this._delta=le},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(le){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=le},getItem:function(){if(!this._item){var le=this.tool._scope.project.hitTest(this.getPoint());if(le){for(var Ce=le.item,Ie=Ce._parent;/^(Group|CompoundPath)$/.test(Ie._class);)Ce=Ie,Ie=Ie._parent;this._item=Ce}}return this._item},setItem:function(le){this._item=le},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),hn=L.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(Ce){L.call(this),this._moveCount=-1,this._downCount=-1,this.set(Ce)},getMinDistance:function(){return this._minDistance},setMinDistance:function(le){this._minDistance=le,le!=null&&this._maxDistance!=null&&le>this._maxDistance&&(this._maxDistance=le)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(le){this._maxDistance=le,this._minDistance!=null&&le!=null&&le<this._minDistance&&(this._minDistance=le)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(le){this._minDistance=this._maxDistance=le},_handleMouseEvent:function(le,Ce,Ie,ze){ur=this._scope,ze.drag&&!this.responds(le)&&(le="mousemove");var qe=ze.move||ze.drag,Pt=this.responds(le),_n=!1,At=this;function Cn(In,Ln){var Mn=Ie,Fn=qe?At._point:At._downPoint||Mn;if(qe){if(At._moveCount>=0&&Mn.equals(Fn))return!1;if(Fn&&(In!=null||Ln!=null)){var er=Mn.subtract(Fn),Qn=er.getLength();if(Qn<(In||0))return!1;Ln&&(Mn=Fn.add(er.normalize(Math.min(Qn,Ln))))}At._moveCount++}return At._point=Mn,At._lastPoint=Fn||Mn,ze.down&&(At._moveCount=-1,At._downPoint=Mn,At._downCount++),!0}function bn(){Pt&&(_n=At.emit(le,new Dt(At,le,Ce))||_n)}if(ze.down)Cn(),bn();else if(ze.up)Cn(null,this._maxDistance),bn();else if(Pt)for(;Cn(this._minDistance,this._maxDistance);)bn();return _n}}),Vn=k.extend($,{_class:"Tween",statics:{easings:new k({linear:function(le){return le},easeInQuad:function(le){return le*le},easeOutQuad:function(le){return le*(2-le)},easeInOutQuad:function(le){return le<.5?2*le*le:-1+2*(2-le)*le},easeInCubic:function(le){return le*le*le},easeOutCubic:function(le){return--le*le*le+1},easeInOutCubic:function(le){return le<.5?4*le*le*le:(le-1)*(2*le-2)*(2*le-2)+1},easeInQuart:function(le){return le*le*le*le},easeOutQuart:function(le){return 1- --le*le*le*le},easeInOutQuart:function(le){return le<.5?8*le*le*le*le:1-8*--le*le*le*le},easeInQuint:function(le){return le*le*le*le*le},easeOutQuint:function(le){return 1+--le*le*le*le*le},easeInOutQuint:function(le){return le<.5?16*le*le*le*le*le:1+16*--le*le*le*le*le}})},initialize:function le(Ce,Ie,ze,qe,Pt,_n){this.object=Ce;var At=typeof Pt,Cn=At==="function";this.type=Cn?At:At==="string"?Pt:"linear",this.easing=Cn?Pt:le.easings[this.type],this.duration=qe,this.running=!1,this._then=null,this._startTime=null;var bn=Ie||ze;this._keys=bn?Object.keys(bn):[],this._parsedKeys=this._parseKeys(this._keys),this._from=bn&&this._getState(Ie),this._to=bn&&this._getState(ze),_n!==!1&&this.start()},then:function(le){return this._then=le,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(le){if(this.running){le>=1&&(le=1,this.running=!1);for(var Ce=this.easing(le),Ie=this._keys,ze=function(In){return typeof In=="function"?In(Ce,le):In},qe=0,Pt=Ie&&Ie.length;qe<Pt;qe++){var _n=Ie[qe],At=ze(this._from[_n]),Cn=ze(this._to[_n]),bn=At&&Cn&&At.__add&&Cn.__add?Cn.__subtract(At).__multiply(Ce).__add(At):(Cn-At)*Ce+At;this._setProperty(this._parsedKeys[_n],bn)}this.responds("update")&&this.emit("update",new k({progress:le,factor:Ce})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(le){var Ce=this._startTime,Ie=Ce?(le-Ce)/this.duration:0;Ce||(this._startTime=le),this.update(Ie)},_getState:function(le){for(var Ce=this._keys,Ie={},ze=0,qe=Ce.length;ze<qe;ze++){var Pt=Ce[ze],_n=this._parsedKeys[Pt],At=this._getProperty(_n),Cn;if(le){var bn=this._resolveValue(At,le[Pt]);this._setProperty(_n,bn),Cn=this._getProperty(_n),Cn=Cn&&Cn.clone?Cn.clone():Cn,this._setProperty(_n,At)}else Cn=At&&At.clone?At.clone():At;Ie[Pt]=Cn}return Ie},_resolveValue:function(le,Ce){if(Ce){if(Array.isArray(Ce)&&Ce.length===2){var Ie=Ce[0];return Ie&&Ie.match&&Ie.match(/^[+\-\*\/]=/)?this._calculate(le,Ie[0],Ce[1]):Ce}else if(typeof Ce=="string"){var ze=Ce.match(/^[+\-*/]=(.*)/);if(ze){var qe=JSON.parse(ze[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(le,Ce[0],qe)}}}return Ce},_calculate:function(le,Ce,Ie){return ur.PaperScript.calculateBinary(le,Ce,Ie)},_parseKeys:function(le){for(var Ce={},Ie=0,ze=le.length;Ie<ze;Ie++){var qe=le[Ie],Pt=qe.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");Ce[qe]=Pt.split("/")}return Ce},_getProperty:function(le,Ce){for(var Ie=this.object,ze=0,qe=le.length-(Ce||0);ze<qe&&Ie;ze++)Ie=Ie[le[ze]];return Ie},_setProperty:function(le,Ce){var Ie=this._getProperty(le,1);Ie&&(Ie[le[le.length-1]]=Ce)}}),Kn={request:function(le){var Ce=new e.XMLHttpRequest;return Ce.open((le.method||"get").toUpperCase(),le.url,k.pick(le.async,!0)),le.mimeType&&Ce.overrideMimeType(le.mimeType),Ce.onload=function(){var Ie=Ce.status;Ie===0||Ie===200?le.onLoad&&le.onLoad.call(Ce,Ce.responseText):Ce.onerror()},Ce.onerror=function(){var Ie=Ce.status,ze='Could not load "'+le.url+'" (Status: '+Ie+")";if(le.onError)le.onError(ze,Ie);else throw new Error(ze)},Ce.send(null)}},ar=k.exports.CanvasProvider={canvases:[],getCanvas:function(le,Ce,Ie){if(!g)return null;var ze,qe=!0;typeof le=="object"&&(Ce=le.height,le=le.width),this.canvases.length?ze=this.canvases.pop():(ze=y.createElement("canvas"),qe=!1);var Pt=ze.getContext("2d",Ie||{});if(!Pt)throw new Error("Canvas "+ze+" is unable to provide a 2D context.");return ze.width===le&&ze.height===Ce?qe&&Pt.clearRect(0,0,le+1,Ce+1):(ze.width=le,ze.height=Ce),Pt.save(),ze},getContext:function(le,Ce,Ie){var ze=this.getCanvas(le,Ce,Ie);return ze?ze.getContext("2d",Ie||{}):null},release:function(le){var Ce=le&&le.canvas?le.canvas:le;Ce&&Ce.getContext&&(Ce.getContext("2d").restore(),this.canvases.push(Ce))}},lr=new function(){var le=Math.min,Ce=Math.max,Ie=Math.abs,ze,qe,Pt,_n,At,Cn,bn,In,Ln,Mn,Fn;function er(Yn,or,tr){return .2989*Yn+.587*or+.114*tr}function Qn(Yn,or,tr,_r){var pr=_r-er(Yn,or,tr);Ln=Yn+pr,Mn=or+pr,Fn=tr+pr;var _r=er(Ln,Mn,Fn),Or=le(Ln,Mn,Fn),gr=Ce(Ln,Mn,Fn);if(Or<0){var Sr=_r-Or;Ln=_r+(Ln-_r)*_r/Sr,Mn=_r+(Mn-_r)*_r/Sr,Fn=_r+(Fn-_r)*_r/Sr}if(gr>255){var kr=255-_r,Nr=gr-_r;Ln=_r+(Ln-_r)*kr/Nr,Mn=_r+(Mn-_r)*kr/Nr,Fn=_r+(Fn-_r)*kr/Nr}}function nr(Yn,or,tr){return Ce(Yn,or,tr)-le(Yn,or,tr)}function kn(Yn,or,tr,hr){var pr=[Yn,or,tr],_r=Ce(Yn,or,tr),Or=le(Yn,or,tr),gr;Or=Or===Yn?0:Or===or?1:2,_r=_r===Yn?0:_r===or?1:2,gr=le(Or,_r)===0?Ce(Or,_r)===1?2:1:0,pr[_r]>pr[Or]?(pr[gr]=(pr[gr]-pr[Or])*hr/(pr[_r]-pr[Or]),pr[_r]=hr):pr[gr]=pr[_r]=0,pr[Or]=0,Ln=pr[0],Mn=pr[1],Fn=pr[2]}var Un={multiply:function(){Ln=At*ze/255,Mn=Cn*qe/255,Fn=bn*Pt/255},screen:function(){Ln=At+ze-At*ze/255,Mn=Cn+qe-Cn*qe/255,Fn=bn+Pt-bn*Pt/255},overlay:function(){Ln=At<128?2*At*ze/255:255-2*(255-At)*(255-ze)/255,Mn=Cn<128?2*Cn*qe/255:255-2*(255-Cn)*(255-qe)/255,Fn=bn<128?2*bn*Pt/255:255-2*(255-bn)*(255-Pt)/255},"soft-light":function(){var Yn=ze*At/255;Ln=Yn+At*(255-(255-At)*(255-ze)/255-Yn)/255,Yn=qe*Cn/255,Mn=Yn+Cn*(255-(255-Cn)*(255-qe)/255-Yn)/255,Yn=Pt*bn/255,Fn=Yn+bn*(255-(255-bn)*(255-Pt)/255-Yn)/255},"hard-light":function(){Ln=ze<128?2*ze*At/255:255-2*(255-ze)*(255-At)/255,Mn=qe<128?2*qe*Cn/255:255-2*(255-qe)*(255-Cn)/255,Fn=Pt<128?2*Pt*bn/255:255-2*(255-Pt)*(255-bn)/255},"color-dodge":function(){Ln=At===0?0:ze===255?255:le(255,255*At/(255-ze)),Mn=Cn===0?0:qe===255?255:le(255,255*Cn/(255-qe)),Fn=bn===0?0:Pt===255?255:le(255,255*bn/(255-Pt))},"color-burn":function(){Ln=At===255?255:ze===0?0:Ce(0,255-(255-At)*255/ze),Mn=Cn===255?255:qe===0?0:Ce(0,255-(255-Cn)*255/qe),Fn=bn===255?255:Pt===0?0:Ce(0,255-(255-bn)*255/Pt)},darken:function(){Ln=At<ze?At:ze,Mn=Cn<qe?Cn:qe,Fn=bn<Pt?bn:Pt},lighten:function(){Ln=At>ze?At:ze,Mn=Cn>qe?Cn:qe,Fn=bn>Pt?bn:Pt},difference:function(){Ln=At-ze,Ln<0&&(Ln=-Ln),Mn=Cn-qe,Mn<0&&(Mn=-Mn),Fn=bn-Pt,Fn<0&&(Fn=-Fn)},exclusion:function(){Ln=At+ze*(255-At-At)/255,Mn=Cn+qe*(255-Cn-Cn)/255,Fn=bn+Pt*(255-bn-bn)/255},hue:function(){kn(ze,qe,Pt,nr(At,Cn,bn)),Qn(Ln,Mn,Fn,er(At,Cn,bn))},saturation:function(){kn(At,Cn,bn,nr(ze,qe,Pt)),Qn(Ln,Mn,Fn,er(At,Cn,bn))},luminosity:function(){Qn(At,Cn,bn,er(ze,qe,Pt))},color:function(){Qn(ze,qe,Pt,er(At,Cn,bn))},add:function(){Ln=le(At+ze,255),Mn=le(Cn+qe,255),Fn=le(bn+Pt,255)},subtract:function(){Ln=Ce(At-ze,0),Mn=Ce(Cn-qe,0),Fn=Ce(bn-Pt,0)},average:function(){Ln=(At+ze)/2,Mn=(Cn+qe)/2,Fn=(bn+Pt)/2},negation:function(){Ln=255-Ie(255-ze-At),Mn=255-Ie(255-qe-Cn),Fn=255-Ie(255-Pt-bn)}},On=this.nativeModes=k.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(Yn){this[Yn]=!0},{}),Rn=ar.getContext(1,1,{willReadFrequently:!0});Rn&&(k.each(Un,function(Yn,or){var tr=or==="darken",hr=!1;Rn.save();try{Rn.fillStyle=tr?"#300":"#a00",Rn.fillRect(0,0,1,1),Rn.globalCompositeOperation=or,Rn.globalCompositeOperation===or&&(Rn.fillStyle=tr?"#a00":"#300",Rn.fillRect(0,0,1,1),hr=Rn.getImageData(0,0,1,1).data[0]!==tr?170:51)}catch{}Rn.restore(),On[or]=hr}),ar.release(Rn)),this.process=function(Yn,or,tr,hr,pr){var _r=or.canvas,Or=Yn==="normal";if(Or||On[Yn])tr.save(),tr.setTransform(1,0,0,1,0,0),tr.globalAlpha=hr,Or||(tr.globalCompositeOperation=Yn),tr.drawImage(_r,pr.x,pr.y),tr.restore();else{var gr=Un[Yn];if(!gr)return;for(var Sr=tr.getImageData(pr.x,pr.y,_r.width,_r.height),kr=Sr.data,Nr=or.getImageData(0,0,_r.width,_r.height).data,Pr=0,Br=kr.length;Pr<Br;Pr+=4){ze=Nr[Pr],At=kr[Pr],qe=Nr[Pr+1],Cn=kr[Pr+1],Pt=Nr[Pr+2],bn=kr[Pr+2],_n=Nr[Pr+3],In=kr[Pr+3],gr();var Ur=_n*hr/255,jr=1-Ur;kr[Pr]=Ur*Ln+jr*At,kr[Pr+1]=Ur*Mn+jr*Cn,kr[Pr+2]=Ur*Fn+jr*bn,kr[Pr+3]=_n*hr+jr*In}tr.putImageData(Sr,pr.x,pr.y)}}},cr=new function(){var le="http://www.w3.org/2000/svg",Ce="http://www.w3.org/2000/xmlns",Ie="http://www.w3.org/1999/xlink",ze={href:Ie,xlink:Ce,xmlns:Ce+"/","xmlns:xlink":Ce+"/"};function qe(At,Cn,bn){return _n(y.createElementNS(le,At),Cn,bn)}function Pt(At,Cn){var bn=ze[Cn],In=bn?At.getAttributeNS(bn,Cn):At.getAttribute(Cn);return In==="null"?null:In}function _n(At,Cn,bn){for(var In in Cn){var Ln=Cn[In],Mn=ze[In];typeof Ln=="number"&&bn&&(Ln=bn.number(Ln)),Mn?At.setAttributeNS(Mn,In,Ln):At.setAttribute(In,Ln)}return At}return{svg:le,xmlns:Ce,xlink:Ie,create:qe,get:Pt,set:_n}},mr=k.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(le,Ce){return!Ce&&(le instanceof Bn||le instanceof kt||le instanceof Zn)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(le,Ce){var Ie=k.capitalize(Ce),ze=le[2];this[Ce]={type:le[1],property:Ce,attribute:le[0],toSVG:ze,fromSVG:ze&&k.each(ze,function(qe,Pt){this[qe]=Pt},{}),exportFilter:le[3],get:"get"+Ie,set:"set"+Ie}},{});new function(){var le;function Ce(Un,On,Rn){var Yn=new k,or=Un.getTranslation();if(On){var tr;Un.isInvertible()?(Un=Un._shiftless(),tr=Un._inverseTransform(or),or=null):tr=new ae,Yn[Rn?"cx":"x"]=tr.x,Yn[Rn?"cy":"y"]=tr.y}if(!Un.isIdentity()){var hr=Un.decompose();if(hr){var pr=[],_r=hr.rotation,Or=hr.scaling,gr=hr.skewing;or&&!or.isZero()&&pr.push("translate("+le.point(or)+")"),_r&&pr.push("rotate("+le.number(_r)+")"),(!re.isZero(Or.x-1)||!re.isZero(Or.y-1))&&pr.push("scale("+le.point(Or)+")"),gr.x&&pr.push("skewX("+le.number(gr.x)+")"),gr.y&&pr.push("skewY("+le.number(gr.y)+")"),Yn.transform=pr.join(" ")}else Yn.transform="matrix("+Un.getValues().join(",")+")"}return Yn}function Ie(Un,On){for(var Rn=Ce(Un._matrix),Yn=Un._children,or=cr.create("g",Rn,le),tr=0,hr=Yn.length;tr<hr;tr++){var pr=Yn[tr],_r=nr(pr,On);if(_r)if(pr.isClipMask()){var Or=cr.create("clipPath");Or.appendChild(_r),er(pr,Or,"clip"),cr.set(or,{"clip-path":"url(#"+Or.id+")"})}else or.appendChild(_r)}return or}function ze(Un,On){var Rn=Ce(Un._matrix,!0),Yn=Un.getSize(),or=Un.getImage();return Rn.x-=Yn.width/2,Rn.y-=Yn.height/2,Rn.width=Yn.width,Rn.height=Yn.height,Rn.href=On.embedImages==!1&&or&&or.src||Un.toDataURL(),cr.create("image",Rn,le)}function qe(Un,On){var Rn=On.matchShapes;if(Rn){var Yn=Un.toShape(!1);if(Yn)return Pt(Yn)}var or=Un._segments,tr=or.length,hr,pr=Ce(Un._matrix);if(Rn&&tr>=2&&!Un.hasHandles())if(tr>2){hr=Un._closed?"polygon":"polyline";for(var _r=[],Or=0;Or<tr;Or++)_r.push(le.point(or[Or]._point));pr.points=_r.join(" ")}else{hr="line";var gr=or[0]._point,Sr=or[1]._point;pr.set({x1:gr.x,y1:gr.y,x2:Sr.x,y2:Sr.y})}else hr="path",pr.d=Un.getPathData(null,On.precision);return cr.create(hr,pr,le)}function Pt(Un){var On=Un._type,Rn=Un._radius,Yn=Ce(Un._matrix,!0,On!=="rectangle");if(On==="rectangle"){On="rect";var or=Un._size,tr=or.width,hr=or.height;Yn.x-=tr/2,Yn.y-=hr/2,Yn.width=tr,Yn.height=hr,Rn.isZero()&&(Rn=null)}return Rn&&(On==="circle"?Yn.r=Rn:(Yn.rx=Rn.width,Yn.ry=Rn.height)),cr.create(On,Yn,le)}function _n(Un,On){var Rn=Ce(Un._matrix),Yn=Un.getPathData(null,On.precision);return Yn&&(Rn.d=Yn),cr.create("path",Rn,le)}function At(Un,On){var Rn=Ce(Un._matrix,!0),Yn=Un._definition,or=Fn(Yn,"symbol"),tr=Yn._item,hr=tr.getStrokeBounds();return or||(or=cr.create("symbol",{viewBox:le.rectangle(hr)}),or.appendChild(nr(tr,On)),er(Yn,or,"symbol")),Rn.href="#"+or.id,Rn.x+=hr.x,Rn.y+=hr.y,Rn.width=hr.width,Rn.height=hr.height,Rn.overflow="visible",cr.create("use",Rn,le)}function Cn(Un){var On=Fn(Un,"color");if(!On){var Rn=Un.getGradient(),Yn=Rn._radial,or=Un.getOrigin(),tr=Un.getDestination(),hr;if(Yn){hr={cx:or.x,cy:or.y,r:or.getDistance(tr)};var pr=Un.getHighlight();pr&&(hr.fx=pr.x,hr.fy=pr.y)}else hr={x1:or.x,y1:or.y,x2:tr.x,y2:tr.y};hr.gradientUnits="userSpaceOnUse",On=cr.create((Yn?"radial":"linear")+"Gradient",hr,le);for(var _r=Rn._stops,Or=0,gr=_r.length;Or<gr;Or++){var Sr=_r[Or],kr=Sr._color,Nr=kr.getAlpha(),Pr=Sr._offset;hr={offset:Pr??Or/(gr-1)},kr&&(hr["stop-color"]=kr.toCSS(!0)),Nr<1&&(hr["stop-opacity"]=Nr),On.appendChild(cr.create("stop",hr,le))}er(Un,On,"color")}return"url(#"+On.id+")"}function bn(Un){var On=cr.create("text",Ce(Un._matrix,!0),le);return On.textContent=Un._content,On}var In={Group:Ie,Layer:Ie,Raster:ze,Path:qe,Shape:Pt,CompoundPath:_n,SymbolItem:At,PointText:bn};function Ln(Un,On,Rn,Yn){var or={},tr=!Yn&&Un.getParent(),hr=[];return Un._name!=null&&(or.id=Un._name),k.each(mr,function(pr){var _r=pr.get,Or=pr.type,gr=Un[_r]();if(pr.exportFilter?pr.exportFilter(Un,gr):Rn.reduceAttributes==!1||!tr||!k.equals(tr[_r](),gr)){if(Or==="color"&&gr!=null){var Sr=gr.getAlpha();Sr<1&&(or[pr.attribute+"-opacity"]=Sr)}Or==="style"?hr.push(pr.attribute+": "+gr):or[pr.attribute]=gr==null?"none":Or==="color"?gr.gradient?Cn(gr):gr.toCSS(!0):Or==="array"?gr.join(","):Or==="lookup"?pr.toSVG[gr]:gr}}),hr.length&&(or.style=hr.join(";")),or.opacity===1&&delete or.opacity,Un._visible||(or.visibility="hidden"),cr.set(On,or,le)}var Mn;function Fn(Un,On){return Mn||(Mn={ids:{},svgs:{}}),Un&&Mn.svgs[On+"-"+(Un._id||Un.__id||(Un.__id=oe.get("svg")))]}function er(Un,On,Rn){Mn||Fn();var Yn=Mn.ids[Rn]=(Mn.ids[Rn]||0)+1;On.id=Rn+"-"+Yn,Mn.svgs[Rn+"-"+(Un._id||Un.__id)]=On}function Qn(Un,On){var Rn=Un,Yn=null;if(Mn){Rn=Un.nodeName.toLowerCase()==="svg"&&Un;for(var or in Mn.svgs)Yn||(Rn||(Rn=cr.create("svg"),Rn.appendChild(Un)),Yn=Rn.insertBefore(cr.create("defs"),Rn.firstChild)),Yn.appendChild(Mn.svgs[or]);Mn=null}return On.asString?new e.XMLSerializer().serializeToString(Rn):Rn}function nr(Un,On,Rn){var Yn=In[Un._class],or=Yn&&Yn(Un,On);if(or){var tr=On.onExport;tr&&(or=tr(Un,or,On)||or);var hr=JSON.stringify(Un._data);hr&&hr!=="{}"&&hr!=="null"&&or.setAttribute("data-paper-data",hr)}return or&&Ln(Un,or,On,Rn)}function kn(Un){return Un||(Un={}),le=new j(Un.precision),Un}_e.inject({exportSVG:function(Un){return Un=kn(Un),Qn(nr(this,Un,!0),Un)}}),Oe.inject({exportSVG:function(Un){Un=kn(Un);var On=this._children,Rn=this.getView(),Yn=k.pick(Un.bounds,"view"),or=Un.matrix||Yn==="view"&&Rn._matrix,tr=or&&$e.read([or]),hr=Yn==="view"?new he([0,0],Rn.getViewSize()):Yn==="content"?_e._getBounds(On,tr,{stroke:!0}).rect:he.read([Yn],0,{readNull:!0}),pr={version:"1.1",xmlns:cr.svg,"xmlns:xlink":cr.xlink};hr&&(pr.width=hr.width,pr.height=hr.height,(hr.x||hr.x===0||hr.y||hr.y===0)&&(pr.viewBox=le.rectangle(hr)));var _r=cr.create("svg",pr,le),Or=_r;tr&&!tr.isIdentity()&&(Or=_r.appendChild(cr.create("g",Ce(tr),le)));for(var gr=0,Sr=On.length;gr<Sr;gr++)Or.appendChild(nr(On[gr],Un,!0));return Qn(_r,Un)}})},new function(){var le={},Ce;function Ie(On,Rn,Yn,or,tr,hr){var pr=cr.get(On,Rn)||hr,_r=pr==null?or?null:Yn?"":0:Yn?pr:parseFloat(pr);return/%\s*$/.test(pr)?_r/100*(tr?1:Ce[/x|^width/.test(Rn)?"width":"height"]):_r}function ze(On,Rn,Yn,or,tr,hr,pr){return Rn=Ie(On,Rn||"x",!1,or,tr,hr),Yn=Ie(On,Yn||"y",!1,or,tr,pr),or&&(Rn==null||Yn==null)?null:new ae(Rn,Yn)}function qe(On,Rn,Yn,or,tr){return Rn=Ie(On,Rn||"width",!1,or,tr),Yn=Ie(On,Yn||"height",!1,or,tr),or&&(Rn==null||Yn==null)?null:new ue(Rn,Yn)}function Pt(On,Rn,Yn){return On==="none"?null:Rn==="number"?parseFloat(On):Rn==="array"?On?On.split(/[\s,]+/g).map(parseFloat):[]:Rn==="color"?nr(On)||On:Rn==="lookup"?Yn[On]:On}function _n(On,Rn,Yn,or){var tr=On.childNodes,hr=Rn==="clippath",pr=Rn==="defs",_r=new Fe,Or=_r._project,gr=Or._currentStyle,Sr=[];if(!hr&&!pr&&(_r=Qn(_r,On,or),Or._currentStyle=_r._style.clone()),or)for(var kr=On.querySelectorAll("defs"),Nr=0,Pr=kr.length;Nr<Pr;Nr++)kn(kr[Nr],Yn,!1);for(var Nr=0,Pr=tr.length;Nr<Pr;Nr++){var Br=tr[Nr],Ur;Br.nodeType===1&&!/^defs$/i.test(Br.nodeName)&&(Ur=kn(Br,Yn,!1))&&!(Ur instanceof Et)&&Sr.push(Ur)}return _r.addChildren(Sr),hr&&(_r=Qn(_r.reduce(),On,or)),Or._currentStyle=gr,(hr||pr)&&(_r.remove(),_r=null),_r}function At(On,Rn){for(var Yn=On.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),or=[],tr=0,hr=Yn.length;tr<hr;tr+=2)or.push(new ae(parseFloat(Yn[tr]),parseFloat(Yn[tr+1])));var pr=new $n(or);return Rn==="polygon"&&pr.closePath(),pr}function Cn(On){return Bn.create(On.getAttribute("d"))}function bn(On,Rn){var Yn=(Ie(On,"href",!0)||"").substring(1),or=Rn==="radialgradient",tr;if(Yn)tr=le[Yn].getGradient(),tr._radial^or&&(tr=tr.clone(),tr._radial=or);else{for(var hr=On.childNodes,pr=[],_r=0,Or=hr.length;_r<Or;_r++){var gr=hr[_r];gr.nodeType===1&&pr.push(Qn(new Pn,gr))}tr=new Xn(pr,or)}var Sr,kr,Nr,Pr=Ie(On,"gradientUnits",!0)!=="userSpaceOnUse";or?(Sr=ze(On,"cx","cy",!1,Pr,"50%","50%"),kr=Sr.add(Ie(On,"r",!1,!1,Pr,"50%"),0),Nr=ze(On,"fx","fy",!0,Pr)):(Sr=ze(On,"x1","y1",!1,Pr,"0%","0%"),kr=ze(On,"x2","y2",!1,Pr,"100%","0%"));var Br=Qn(new rr(tr,Sr,kr,Nr),On);return Br._scaleToBounds=Pr,null}var In={"#document":function(On,Rn,Yn,or){for(var tr=On.childNodes,hr=0,pr=tr.length;hr<pr;hr++){var _r=tr[hr];if(_r.nodeType===1)return kn(_r,Yn,or)}},g:_n,svg:_n,clippath:_n,polygon:At,polyline:At,path:Cn,lineargradient:bn,radialgradient:bn,image:function(On){var Rn=new Lt(Ie(On,"href",!0));return Rn.on("load",function(){var Yn=qe(On);this.setSize(Yn);var or=ze(On).add(Yn.divide(2));this._matrix.append(new $e().translate(or))}),Rn},symbol:function(On,Rn,Yn,or){return new Et(_n(On,Rn,Yn,or),!0)},defs:_n,use:function(On){var Rn=(Ie(On,"href",!0)||"").substring(1),Yn=le[Rn],or=ze(On);return Yn?Yn instanceof Et?Yn.place(or):Yn.clone().translate(or):null},circle:function(On){return new kt.Circle(ze(On,"cx","cy"),Ie(On,"r"))},ellipse:function(On){return new kt.Ellipse({center:ze(On,"cx","cy"),radius:qe(On,"rx","ry")})},rect:function(On){return new kt.Rectangle(new he(ze(On),qe(On)),qe(On,"rx","ry"))},line:function(On){return new $n.Line(ze(On,"x1","y1"),ze(On,"x2","y2"))},text:function(On){var Rn=new Hn(ze(On).add(ze(On,"dx","dy")));return Rn.setContent(On.textContent.trim()||""),Rn},switch:_n};function Ln(On,Rn,Yn,or){if(On.transform){for(var tr=(or.getAttribute(Yn)||"").split(/\)\s*/g),hr=new $e,pr=0,_r=tr.length;pr<_r;pr++){var Or=tr[pr];if(!Or)break;for(var gr=Or.split(/\(\s*/),Sr=gr[0].trim(),kr=gr[1].split(/[\s,]+/g),Nr=0,Pr=kr.length;Nr<Pr;Nr++)kr[Nr]=parseFloat(kr[Nr]);switch(Sr){case"matrix":hr.append(new $e(kr[0],kr[1],kr[2],kr[3],kr[4],kr[5]));break;case"rotate":hr.rotate(kr[0],kr[1]||0,kr[2]||0);break;case"translate":hr.translate(kr[0],kr[1]||0);break;case"scale":hr.scale(kr);break;case"skewX":hr.skew(kr[0],0);break;case"skewY":hr.skew(0,kr[0]);break}}On.transform(hr)}}function Mn(On,Rn,Yn){var or=Yn==="fill-opacity"?"getFillColor":"getStrokeColor",tr=On[or]&&On[or]();tr&&tr.setAlpha(parseFloat(Rn))}var Fn=k.set(k.each(mr,function(On){this[On.attribute]=function(Rn,Yn){if(Rn[On.set]&&(Rn[On.set](Pt(Yn,On.type,On.fromSVG)),On.type==="color")){var or=Rn[On.get]();if(or&&or._scaleToBounds){var tr=Rn.getBounds();or.transform(new $e().translate(tr.getPoint()).scale(tr.getSize()))}}}},{}),{id:function(On,Rn){le[Rn]=On,On.setName&&On.setName(Rn)},"clip-path":function(On,Rn){var Yn=nr(Rn);if(Yn)if(Yn=Yn.clone(),Yn.setClipMask(!0),On instanceof Fe)On.insertChild(0,Yn);else return new Fe(Yn,On)},gradientTransform:Ln,transform:Ln,"fill-opacity":Mn,"stroke-opacity":Mn,visibility:function(On,Rn){On.setVisible&&On.setVisible(Rn==="visible")},display:function(On,Rn){On.setVisible&&On.setVisible(Rn!==null)},"stop-color":function(On,Rn){On.setColor&&On.setColor(Rn)},"stop-opacity":function(On,Rn){On._color&&On._color.setAlpha(parseFloat(Rn))},offset:function(On,Rn){if(On.setOffset){var Yn=Rn.match(/(.*)%$/);On.setOffset(Yn?Yn[1]/100:parseFloat(Rn))}},viewBox:function(On,Rn,Yn,or,tr){var hr=new he(Pt(Rn,"array")),pr=qe(or,null,null,!0),_r,Or;if(On instanceof Fe){var gr=pr?pr.divide(hr.getSize()):1,Or=new $e().scale(gr).translate(hr.getPoint().negate());_r=On}else On instanceof Et&&(pr&&hr.setSize(pr),_r=On._item);if(_r){if(er(or,"overflow",tr)!=="visible"){var Sr=new kt.Rectangle(hr);Sr.setClipMask(!0),_r.addChild(Sr)}Or&&_r.transform(Or)}}});function er(On,Rn,Yn){var or=On.attributes[Rn],tr=or&&or.value;if(!tr&&On.style){var hr=k.camelize(Rn);tr=On.style[hr],!tr&&Yn.node[hr]!==Yn.parent[hr]&&(tr=Yn.node[hr])}return tr?tr==="none"?null:tr:r}function Qn(On,Rn,Yn){var or=Rn.parentNode,tr={node:fr.getStyles(Rn)||{},parent:!Yn&&!/^defs$/i.test(or.tagName)&&fr.getStyles(or)||{}};return k.each(Fn,function(hr,pr){var _r=er(Rn,pr,tr);On=_r!==r&&hr(On,_r,pr,Rn,tr)||On}),On}function nr(On){var Rn=On&&On.match(/\((?:["'#]*)([^"')]+)/),Yn=Rn&&Rn[1],or=Yn&&le[g?Yn.replace(g.location.href.split("#")[0]+"#",""):Yn];return or&&or._scaleToBounds&&(or=or.clone(),or._scaleToBounds=!0),or}function kn(On,Rn,Yn){var or=On.nodeName.toLowerCase(),tr=or!=="#document",hr=y.body,pr,_r,Or;Yn&&tr&&(Ce=ur.getView().getSize(),Ce=qe(On,null,null,!0)||Ce,pr=cr.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),_r=On.parentNode,Or=On.nextSibling,pr.appendChild(On),hr.appendChild(pr));var gr=ur.settings,Sr=gr.applyMatrix,kr=gr.insertItems;gr.applyMatrix=!1,gr.insertItems=!1;var Nr=In[or],Pr=Nr&&Nr(On,or,Rn,Yn)||null;if(gr.insertItems=kr,gr.applyMatrix=Sr,Pr){tr&&!(Pr instanceof Fe)&&(Pr=Qn(Pr,On,Yn));var Br=Rn.onImport,Ur=tr&&On.getAttribute("data-paper-data");Br&&(Pr=Br(On,Pr,Rn)||Pr),Rn.expandShapes&&Pr instanceof kt&&(Pr.remove(),Pr=Pr.toPath()),Ur&&(Pr._data=JSON.parse(Ur))}return pr&&(hr.removeChild(pr),_r&&(Or?_r.insertBefore(On,Or):_r.appendChild(On))),Yn&&(le={},Pr&&k.pick(Rn.applyMatrix,Sr)&&Pr.matrix.apply(!0,!0)),Pr}function Un(On,Rn,Yn){if(!On)return null;Rn=typeof Rn=="function"?{onLoad:Rn}:Rn||{};var or=ur,tr=null;function hr(gr){try{var Sr=typeof gr=="object"?gr:new e.DOMParser().parseFromString(gr.trim(),"image/svg+xml");if(!Sr.nodeName)throw Sr=null,new Error("Unsupported SVG source: "+On);ur=or,tr=kn(Sr,Rn,!0),(!Rn||Rn.insert!==!1)&&Yn._insertItem(r,tr);var kr=Rn.onLoad;kr&&kr(tr,gr)}catch(Nr){pr(Nr)}}function pr(gr,Sr){var kr=Rn.onError;if(kr)kr(gr,Sr);else throw new Error(gr)}if(typeof On=="string"&&!/^[\s\S]*</.test(On)){var _r=y.getElementById(On);_r?hr(_r):Kn.request({url:On,async:!0,onLoad:hr,onError:pr})}else if(typeof File<"u"&&On instanceof File){var Or=new FileReader;return Or.onload=function(){hr(Or.result)},Or.onerror=function(){pr(Or.error)},Or.readAsText(On)}else hr(On);return tr}_e.inject({importSVG:function(On,Rn){return Un(On,Rn,this)}}),Oe.inject({importSVG:function(On,Rn){return this.activate(),Un(On,Rn,this)}})},k.exports.PaperScript=function(){var le=this,Ce=le.acorn;if(!Ce&&typeof commonjsRequire<"u")try{Ce=requireAcorn()}catch{}if(!Ce){var Ie,ze;Ce=Ie=ze={},function(Qn,nr){if(typeof Ie=="object"&&typeof ze=="object")return nr(Ie);if(typeof r=="function"&&r.amd)return r(["exports"],nr);nr(Qn.acorn||(Qn.acorn={}))}(this,function(Qn){Qn.version="0.5.0";var nr,kn,Un,On;Qn.parse=function(wr,$r){return kn=String(wr),Un=kn.length,Yn($r),Aa(),pi(nr.program)};var Rn=Qn.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function Yn(wr){nr=wr||{};for(var $r in Rn)Object.prototype.hasOwnProperty.call(nr,$r)||(nr[$r]=Rn[$r]);On=nr.sourceFile||null}var or=Qn.getLineInfo=function(wr,$r){for(var Ar=1,Fr=0;;){ta.lastIndex=Fr;var so=ta.exec(wr);if(so&&so.index<$r)++Ar,Fr=so.index+so[0].length;else break}return{line:Ar,column:$r-Fr}};Qn.tokenize=function(wr,$r){kn=String(wr),Un=kn.length,Yn($r),Aa();var Ar={};function Fr(so){return Ur=pr,Xo(so),Ar.start=hr,Ar.end=pr,Ar.startLoc=_r,Ar.endLoc=Or,Ar.type=gr,Ar.value=Sr,Ar}return Fr.jumpTo=function(so,co){if(tr=so,nr.locations){Nr=1,Pr=ta.lastIndex=0;for(var fo;(fo=ta.exec(kn))&&fo.index<so;)++Nr,Pr=fo.index+fo[0].length}kr=co,na()},Fr};var tr,hr,pr,_r,Or,gr,Sr,kr,Nr,Pr,Br,Ur,jr,Hr,Kr,Mr;function Lr(wr,$r){var Ar=or(kn,wr);$r+=" ("+Ar.line+":"+Ar.column+")";var Fr=new SyntaxError($r);throw Fr.pos=wr,Fr.loc=Ar,Fr.raisedAt=tr,Fr}var qr=[],eo={type:"num"},Jr={type:"regexp"},oo={type:"string"},ro={type:"name"},ao={type:"eof"},lo={keyword:"break"},io={keyword:"case",beforeExpr:!0},Xr={keyword:"catch"},yo={keyword:"continue"},ko={keyword:"debugger"},Oo={keyword:"default"},_o={keyword:"do",isLoop:!0},So={keyword:"else",beforeExpr:!0},Io={keyword:"finally"},$o={keyword:"for",isLoop:!0},dr={keyword:"function"},xr={keyword:"if"},vr={keyword:"return",beforeExpr:!0},Tr={keyword:"switch"},Ir={keyword:"throw",beforeExpr:!0},Er={keyword:"try"},Rr={keyword:"var"},zr={keyword:"while",isLoop:!0},Gr={keyword:"with"},Qr={keyword:"new",beforeExpr:!0},Wr={keyword:"this"},no={keyword:"null",atomValue:null},uo={keyword:"true",atomValue:!0},to={keyword:"false",atomValue:!1},vo={keyword:"in",binop:7,beforeExpr:!0},xo={break:lo,case:io,catch:Xr,continue:yo,debugger:ko,default:Oo,do:_o,else:So,finally:Io,for:$o,function:dr,if:xr,return:vr,switch:Tr,throw:Ir,try:Er,var:Rr,while:zr,with:Gr,null:no,true:uo,false:to,new:Qr,in:vo,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Wr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},wo={type:"[",beforeExpr:!0},No={type:"]"},Mo={type:"{",beforeExpr:!0},Lo={type:"}"},Ro={type:"(",beforeExpr:!0},Ve={type:")"},Sn={type:",",beforeExpr:!0},qn={type:";",beforeExpr:!0},ir={type:":",beforeExpr:!0},br={type:"."},Vr={type:"?",beforeExpr:!0},Dr={binop:10,beforeExpr:!0},Zr={isAssign:!0,beforeExpr:!0},Yr={isAssign:!0,beforeExpr:!0},ho={postfix:!0,prefix:!0,isUpdate:!0},po={prefix:!0,beforeExpr:!0},To={binop:1,beforeExpr:!0},zo={binop:2,beforeExpr:!0},qo={binop:3,beforeExpr:!0},jo={binop:4,beforeExpr:!0},ea={binop:5,beforeExpr:!0},Qo={binop:6,beforeExpr:!0},Ho={binop:7,beforeExpr:!0},Wa={binop:8,beforeExpr:!0},Za={binop:9,prefix:!0,beforeExpr:!0},qa={binop:10,beforeExpr:!0};Qn.tokTypes={bracketL:wo,bracketR:No,braceL:Mo,braceR:Lo,parenL:Ro,parenR:Ve,comma:Sn,semi:qn,colon:ir,dot:br,question:Vr,slash:Dr,eq:Zr,name:ro,eof:ao,num:eo,regexp:Jr,string:oo};for(var Pa in xo)Qn.tokTypes["_"+Pa]=xo[Pa];function oa(wr){wr=wr.split(" ");var $r="",Ar=[];e:for(var Fr=0;Fr<wr.length;++Fr){for(var so=0;so<Ar.length;++so)if(Ar[so][0].length==wr[Fr].length){Ar[so].push(wr[Fr]);continue e}Ar.push([wr[Fr]])}function co(Co){if(Co.length==1)return $r+="return str === "+JSON.stringify(Co[0])+";";$r+="switch(str){";for(var Uo=0;Uo<Co.length;++Uo)$r+="case "+JSON.stringify(Co[Uo])+":";$r+="return true}return false;"}if(Ar.length>3){Ar.sort(function(Co,Uo){return Uo.length-Co.length}),$r+="switch(str.length){";for(var Fr=0;Fr<Ar.length;++Fr){var fo=Ar[Fr];$r+="case "+fo[0].length+":",co(fo)}$r+="}"}else co(wr);return new Function("str",$r)}var Ya=oa("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Xa=oa("class enum extends super const export import"),Ia=oa("implements interface let package private protected public static yield"),ca=oa("eval arguments"),Ka=oa("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ja=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Va="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",ei="------------------------------------------------------------------------------------------------------------------------------------------",Ba=new RegExp("["+Va+"]"),ti=new RegExp("["+Va+ei+"]"),ua=/[\n\r\u2028\u2029]/,ta=/\r\n|[\n\r\u2028\u2029]/g,da=Qn.isIdentifierStart=function(wr){return wr<65?wr===36:wr<91?!0:wr<97?wr===95:wr<123?!0:wr>=170&&Ba.test(String.fromCharCode(wr))},Da=Qn.isIdentifierChar=function(wr){return wr<48?wr===36:wr<58?!0:wr<65?!1:wr<91?!0:wr<97?wr===95:wr<123?!0:wr>=170&&ti.test(String.fromCharCode(wr))};function Yo(){this.line=Nr,this.column=tr-Pr}function Aa(){Nr=1,tr=Pr=0,kr=!0,na()}function Vo(wr,$r){pr=tr,nr.locations&&(Or=new Yo),gr=wr,na(),Sr=$r,kr=wr.beforeExpr}function ni(){var wr=nr.onComment&&nr.locations&&new Yo,$r=tr,Ar=kn.indexOf("*/",tr+=2);if(Ar===-1&&Lr(tr-2,"Unterminated comment"),tr=Ar+2,nr.locations){ta.lastIndex=$r;for(var Fr;(Fr=ta.exec(kn))&&Fr.index<tr;)++Nr,Pr=Fr.index+Fr[0].length}nr.onComment&&nr.onComment(!0,kn.slice($r+2,Ar),$r,tr,wr,nr.locations&&new Yo)}function va(){for(var wr=tr,$r=nr.onComment&&nr.locations&&new Yo,Ar=kn.charCodeAt(tr+=2);tr<Un&&Ar!==10&&Ar!==13&&Ar!==8232&&Ar!==8233;)++tr,Ar=kn.charCodeAt(tr);nr.onComment&&nr.onComment(!1,kn.slice(wr+2,tr),wr,tr,$r,nr.locations&&new Yo)}function na(){for(;tr<Un;){var wr=kn.charCodeAt(tr);if(wr===32)++tr;else if(wr===13){++tr;var $r=kn.charCodeAt(tr);$r===10&&++tr,nr.locations&&(++Nr,Pr=tr)}else if(wr===10||wr===8232||wr===8233)++tr,nr.locations&&(++Nr,Pr=tr);else if(wr>8&&wr<14)++tr;else if(wr===47){var $r=kn.charCodeAt(tr+1);if($r===42)ni();else if($r===47)va();else break}else if(wr===160)++tr;else if(wr>=5760&&Ja.test(String.fromCharCode(wr)))++tr;else break}}function ri(){var wr=kn.charCodeAt(tr+1);return wr>=48&&wr<=57?Ra(!0):(++tr,Vo(br))}function oi(){var wr=kn.charCodeAt(tr+1);return kr?(++tr,Ma()):wr===61?Bo(Yr,2):Bo(Dr,1)}function ai(){var wr=kn.charCodeAt(tr+1);return wr===61?Bo(Yr,2):Bo(qa,1)}function ii(wr){var $r=kn.charCodeAt(tr+1);return $r===wr?Bo(wr===124?To:zo,2):$r===61?Bo(Yr,2):Bo(wr===124?qo:ea,1)}function si(){var wr=kn.charCodeAt(tr+1);return wr===61?Bo(Yr,2):Bo(jo,1)}function li(wr){var $r=kn.charCodeAt(tr+1);return $r===wr?$r==45&&kn.charCodeAt(tr+2)==62&&ua.test(kn.slice(Ur,tr))?(tr+=3,va(),na(),Xo()):Bo(ho,2):$r===61?Bo(Yr,2):Bo(Za,1)}function ci(wr){var $r=kn.charCodeAt(tr+1),Ar=1;return $r===wr?(Ar=wr===62&&kn.charCodeAt(tr+2)===62?3:2,kn.charCodeAt(tr+Ar)===61?Bo(Yr,Ar+1):Bo(Wa,Ar)):$r==33&&wr==60&&kn.charCodeAt(tr+2)==45&&kn.charCodeAt(tr+3)==45?(tr+=4,va(),na(),Xo()):($r===61&&(Ar=kn.charCodeAt(tr+2)===61?3:2),Bo(Ho,Ar))}function ui(wr){var $r=kn.charCodeAt(tr+1);return $r===61?Bo(Qo,kn.charCodeAt(tr+2)===61?3:2):Bo(wr===61?Zr:po,1)}function di(wr){switch(wr){case 46:return ri();case 40:return++tr,Vo(Ro);case 41:return++tr,Vo(Ve);case 59:return++tr,Vo(qn);case 44:return++tr,Vo(Sn);case 91:return++tr,Vo(wo);case 93:return++tr,Vo(No);case 123:return++tr,Vo(Mo);case 125:return++tr,Vo(Lo);case 58:return++tr,Vo(ir);case 63:return++tr,Vo(Vr);case 48:var $r=kn.charCodeAt(tr+1);if($r===120||$r===88)return fi();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ra(!1);case 34:case 39:return hi(wr);case 47:return oi();case 37:case 42:return ai();case 124:case 38:return ii(wr);case 94:return si();case 43:case 45:return li(wr);case 60:case 62:return ci(wr);case 61:case 33:return ui(wr);case 126:return Bo(po,1)}return!1}function Xo(wr){if(wr?tr=hr+1:hr=tr,nr.locations&&(_r=new Yo),wr)return Ma();if(tr>=Un)return Vo(ao);var $r=kn.charCodeAt(tr);if(da($r)||$r===92)return Fa();var Ar=di($r);if(Ar===!1){var Fr=String.fromCharCode($r);if(Fr==="\\"||Ba.test(Fr))return Fa();Lr(tr,"Unexpected character '"+Fr+"'")}return Ar}function Bo(wr,$r){var Ar=kn.slice(tr,tr+$r);tr+=$r,Vo(wr,Ar)}function Ma(){for(var so="",wr,$r,Ar=tr;;){tr>=Un&&Lr(Ar,"Unterminated regular expression");var Fr=kn.charAt(tr);if(ua.test(Fr)&&Lr(Ar,"Unterminated regular expression"),wr)wr=!1;else{if(Fr==="[")$r=!0;else if(Fr==="]"&&$r)$r=!1;else if(Fr==="/"&&!$r)break;wr=Fr==="\\"}++tr}var so=kn.slice(Ar,tr);++tr;var co=La();co&&!/^[gmsiy]*$/.test(co)&&Lr(Ar,"Invalid regexp flag");try{var fo=new RegExp(so,co)}catch(Co){Co instanceof SyntaxError&&Lr(Ar,Co.message),Lr(Co)}return Vo(Jr,fo)}function aa(wr,$r){for(var Ar=tr,Fr=0,so=0,co=$r??1/0;so<co;++so){var fo=kn.charCodeAt(tr),Co;if(fo>=97?Co=fo-97+10:fo>=65?Co=fo-65+10:fo>=48&&fo<=57?Co=fo-48:Co=1/0,Co>=wr)break;++tr,Fr=Fr*wr+Co}return tr===Ar||$r!=null&&tr-Ar!==$r?null:Fr}function fi(){tr+=2;var wr=aa(16);return wr==null&&Lr(hr+2,"Expected hexadecimal number"),da(kn.charCodeAt(tr))&&Lr(tr,"Identifier directly after number"),Vo(eo,wr)}function Ra(wr){var $r=tr,Ar=!1,Fr=kn.charCodeAt(tr)===48;!wr&&aa(10)===null&&Lr($r,"Invalid number"),kn.charCodeAt(tr)===46&&(++tr,aa(10),Ar=!0);var so=kn.charCodeAt(tr);(so===69||so===101)&&(so=kn.charCodeAt(++tr),(so===43||so===45)&&++tr,aa(10)===null&&Lr($r,"Invalid number"),Ar=!0),da(kn.charCodeAt(tr))&&Lr(tr,"Identifier directly after number");var co=kn.slice($r,tr),fo;return Ar?fo=parseFloat(co):!Fr||co.length===1?fo=parseInt(co,10):/[89]/.test(co)||Mr?Lr($r,"Invalid number"):fo=parseInt(co,8),Vo(eo,fo)}function hi(wr){tr++;for(var $r="";;){tr>=Un&&Lr(hr,"Unterminated string constant");var Ar=kn.charCodeAt(tr);if(Ar===wr)return++tr,Vo(oo,$r);if(Ar===92){Ar=kn.charCodeAt(++tr);var Fr=/^[0-7]+/.exec(kn.slice(tr,tr+3));for(Fr&&(Fr=Fr[0]);Fr&&parseInt(Fr,8)>255;)Fr=Fr.slice(0,-1);if(Fr==="0"&&(Fr=null),++tr,Fr)Mr&&Lr(tr-2,"Octal literal in strict mode"),$r+=String.fromCharCode(parseInt(Fr,8)),tr+=Fr.length-1;else switch(Ar){case 110:$r+=`
`;break;case 114:$r+="\r";break;case 120:$r+=String.fromCharCode(fa(2));break;case 117:$r+=String.fromCharCode(fa(4));break;case 85:$r+=String.fromCharCode(fa(8));break;case 116:$r+="	";break;case 98:$r+="\b";break;case 118:$r+="\v";break;case 102:$r+="\f";break;case 48:$r+="\0";break;case 13:kn.charCodeAt(tr)===10&&++tr;case 10:nr.locations&&(Pr=tr,++Nr);break;default:$r+=String.fromCharCode(Ar);break}}else(Ar===13||Ar===10||Ar===8232||Ar===8233)&&Lr(hr,"Unterminated string constant"),$r+=String.fromCharCode(Ar),++tr}}function fa(wr){var $r=aa(16,wr);return $r===null&&Lr(hr,"Bad character escape sequence"),$r}var ra;function La(){ra=!1;for(var wr,$r=!0,Ar=tr;;){var Fr=kn.charCodeAt(tr);if(Da(Fr))ra&&(wr+=kn.charAt(tr)),++tr;else if(Fr===92){ra||(wr=kn.slice(Ar,tr)),ra=!0,kn.charCodeAt(++tr)!=117&&Lr(tr,"Expecting Unicode escape sequence \\uXXXX"),++tr;var so=fa(4),co=String.fromCharCode(so);co||Lr(tr-1,"Invalid Unicode escape"),($r?da(so):Da(so))||Lr(tr-4,"Invalid Unicode escape"),wr+=co}else break;$r=!1}return ra?wr:kn.slice(Ar,tr)}function Fa(){var wr=La(),$r=ro;return!ra&&Ka(wr)&&($r=xo[wr]),Vo($r,wr)}function bo(){Br=hr,Ur=pr,jr=Or,Xo()}function ya(wr){if(Mr=wr,tr=hr,nr.locations)for(;tr<Pr;)Pr=kn.lastIndexOf(`
`,Pr-2)+1,--Nr;na(),Xo()}function Ua(){this.type=null,this.start=hr,this.end=null}function za(){this.start=_r,this.end=null,On!==null&&(this.source=On)}function Do(){var wr=new Ua;return nr.locations&&(wr.loc=new za),nr.directSourceFile&&(wr.sourceFile=nr.directSourceFile),nr.ranges&&(wr.range=[hr,0]),wr}function Wo(wr){var $r=new Ua;return $r.start=wr.start,nr.locations&&($r.loc=new za,$r.loc.start=wr.loc.start),nr.ranges&&($r.range=[wr.range[0],0]),$r}function go(wr,$r){return wr.type=$r,wr.end=Ur,nr.locations&&(wr.loc.end=jr),nr.ranges&&(wr.range[1]=Ur),wr}function ba(wr){return nr.ecmaVersion>=5&&wr.type==="ExpressionStatement"&&wr.expression.type==="Literal"&&wr.expression.value==="use strict"}function Eo(wr){if(gr===wr)return bo(),!0}function ha(){return!nr.strictSemicolons&&(gr===ao||gr===Lo||ua.test(kn.slice(Ur,hr)))}function Ko(){!Eo(qn)&&!ha()&&Go()}function Po(wr){gr===wr?bo():Go()}function Go(){Lr(hr,"Unexpected token")}function pa(wr){wr.type!=="Identifier"&&wr.type!=="MemberExpression"&&Lr(wr.start,"Assigning to rvalue"),Mr&&wr.type==="Identifier"&&ca(wr.name)&&Lr(wr.start,"Assigning to "+wr.name+" in strict mode")}function pi(wr){Br=Ur=tr,nr.locations&&(jr=new Yo),Hr=Mr=null,Kr=[],Xo();var $r=wr||Do(),Ar=!0;for(wr||($r.body=[]);gr!==ao;){var Fr=Fo();$r.body.push(Fr),Ar&&ba(Fr)&&ya(!0),Ar=!1}return go($r,"Program")}var Ca={kind:"loop"},mi={kind:"switch"};function Fo(){(gr===Dr||gr===Yr&&Sr=="/=")&&Xo(!0);var wr=gr,$r=Do();switch(wr){case lo:case yo:bo();var Ar=wr===lo;Eo(qn)||ha()?$r.label=null:gr!==ro?Go():($r.label=Zo(),Ko());for(var Fr=0;Fr<Kr.length;++Fr){var so=Kr[Fr];if(($r.label==null||so.name===$r.label.name)&&(so.kind!=null&&(Ar||so.kind==="loop")||$r.label&&Ar))break}return Fr===Kr.length&&Lr($r.start,"Unsyntactic "+wr.keyword),go($r,Ar?"BreakStatement":"ContinueStatement");case ko:return bo(),Ko(),go($r,"DebuggerStatement");case _o:return bo(),Kr.push(Ca),$r.body=Fo(),Kr.pop(),Po(zr),$r.test=ia(),Ko(),go($r,"DoWhileStatement");case $o:if(bo(),Kr.push(Ca),Po(Ro),gr===qn)return wa($r,null);if(gr===Rr){var co=Do();return bo(),ja(co,!0),go(co,"VariableDeclaration"),co.declarations.length===1&&Eo(vo)?Ga($r,co):wa($r,co)}var co=Ao(!1,!0);return Eo(vo)?(pa(co),Ga($r,co)):wa($r,co);case dr:return bo(),$a($r,!0);case xr:return bo(),$r.test=ia(),$r.consequent=Fo(),$r.alternate=Eo(So)?Fo():null,go($r,"IfStatement");case vr:return!Hr&&!nr.allowReturnOutsideFunction&&Lr(hr,"'return' outside of function"),bo(),Eo(qn)||ha()?$r.argument=null:($r.argument=Ao(),Ko()),go($r,"ReturnStatement");case Tr:bo(),$r.discriminant=ia(),$r.cases=[],Po(Mo),Kr.push(mi);for(var fo,Co;gr!=Lo;)if(gr===io||gr===Oo){var Uo=gr===io;fo&&go(fo,"SwitchCase"),$r.cases.push(fo=Do()),fo.consequent=[],bo(),Uo?fo.test=Ao():(Co&&Lr(Br,"Multiple default clauses"),Co=!0,fo.test=null),Po(ir)}else fo||Go(),fo.consequent.push(Fo());return fo&&go(fo,"SwitchCase"),bo(),Kr.pop(),go($r,"SwitchStatement");case Ir:return bo(),ua.test(kn.slice(Ur,hr))&&Lr(Ur,"Illegal newline after throw"),$r.argument=Ao(),Ko(),go($r,"ThrowStatement");case Er:if(bo(),$r.block=sa(),$r.handler=null,gr===Xr){var Jo=Do();bo(),Po(Ro),Jo.param=Zo(),Mr&&ca(Jo.param.name)&&Lr(Jo.param.start,"Binding "+Jo.param.name+" in strict mode"),Po(Ve),Jo.guard=null,Jo.body=sa(),$r.handler=go(Jo,"CatchClause")}return $r.guardedHandlers=qr,$r.finalizer=Eo(Io)?sa():null,!$r.handler&&!$r.finalizer&&Lr($r.start,"Missing catch or finally clause"),go($r,"TryStatement");case Rr:return bo(),ja($r),Ko(),go($r,"VariableDeclaration");case zr:return bo(),$r.test=ia(),Kr.push(Ca),$r.body=Fo(),Kr.pop(),go($r,"WhileStatement");case Gr:return Mr&&Lr(hr,"'with' in strict mode"),bo(),$r.object=ia(),$r.body=Fo(),go($r,"WithStatement");case Mo:return sa();case qn:return bo(),go($r,"EmptyStatement");default:var Ta=Sr,ma=Ao();if(wr===ro&&ma.type==="Identifier"&&Eo(ir)){for(var Fr=0;Fr<Kr.length;++Fr)Kr[Fr].name===Ta&&Lr(ma.start,"Label '"+Ta+"' is already declared");var Ci=gr.isLoop?"loop":gr===Tr?"switch":null;return Kr.push({name:Ta,kind:Ci}),$r.body=Fo(),Kr.pop(),$r.label=ma,go($r,"LabeledStatement")}else return $r.expression=ma,Ko(),go($r,"ExpressionStatement")}}function ia(){Po(Ro);var wr=Ao();return Po(Ve),wr}function sa(wr){var $r=Do(),Ar=!0,Fr=!1,so;for($r.body=[],Po(Mo);!Eo(Lo);){var co=Fo();$r.body.push(co),Ar&&wr&&ba(co)&&(so=Fr,ya(Fr=!0)),Ar=!1}return Fr&&!so&&ya(!1),go($r,"BlockStatement")}function wa(wr,$r){return wr.init=$r,Po(qn),wr.test=gr===qn?null:Ao(),Po(qn),wr.update=gr===Ve?null:Ao(),Po(Ve),wr.body=Fo(),Kr.pop(),go(wr,"ForStatement")}function Ga(wr,$r){return wr.left=$r,wr.right=Ao(),Po(Ve),wr.body=Fo(),Kr.pop(),go(wr,"ForInStatement")}function ja(wr,$r){for(wr.declarations=[],wr.kind="var";;){var Ar=Do();if(Ar.id=Zo(),Mr&&ca(Ar.id.name)&&Lr(Ar.id.start,"Binding "+Ar.id.name+" in strict mode"),Ar.init=Eo(Zr)?Ao(!0,$r):null,wr.declarations.push(go(Ar,"VariableDeclarator")),!Eo(Sn))break}return wr}function Ao(wr,$r){var Ar=Sa($r);if(!wr&&gr===Sn){var Fr=Wo(Ar);for(Fr.expressions=[Ar];Eo(Sn);)Fr.expressions.push(Sa($r));return go(Fr,"SequenceExpression")}return Ar}function Sa(wr){var $r=gi(wr);if(gr.isAssign){var Ar=Wo($r);return Ar.operator=Sr,Ar.left=$r,bo(),Ar.right=Sa(wr),pa($r),go(Ar,"AssignmentExpression")}return $r}function gi(wr){var $r=vi(wr);if(Eo(Vr)){var Ar=Wo($r);return Ar.test=$r,Ar.consequent=Ao(!0),Po(ir),Ar.alternate=Ao(!0,wr),go(Ar,"ConditionalExpression")}return $r}function vi(wr){return xa(Oa(),-1,wr)}function xa(wr,$r,Ar){var Fr=gr.binop;if(Fr!=null&&(!Ar||gr!==vo)&&Fr>$r){var so=Wo(wr);so.left=wr,so.operator=Sr;var co=gr;bo(),so.right=xa(Oa(),Fr,Ar);var fo=go(so,co===To||co===zo?"LogicalExpression":"BinaryExpression");return xa(fo,$r,Ar)}return wr}function Oa(){if(gr.prefix){var wr=Do(),$r=gr.isUpdate;return wr.operator=Sr,wr.prefix=!0,kr=!0,bo(),wr.argument=Oa(),$r?pa(wr.argument):Mr&&wr.operator==="delete"&&wr.argument.type==="Identifier"&&Lr(wr.start,"Deleting local variable in strict mode"),go(wr,$r?"UpdateExpression":"UnaryExpression")}for(var Ar=yi();gr.postfix&&!ha();){var wr=Wo(Ar);wr.operator=Sr,wr.prefix=!1,wr.argument=Ar,pa(Ar),bo(),Ar=go(wr,"UpdateExpression")}return Ar}function yi(){return la(ka())}function la(wr,$r){if(Eo(br)){var Ar=Wo(wr);return Ar.object=wr,Ar.property=Zo(!0),Ar.computed=!1,la(go(Ar,"MemberExpression"),$r)}else if(Eo(wo)){var Ar=Wo(wr);return Ar.object=wr,Ar.property=Ao(),Ar.computed=!0,Po(No),la(go(Ar,"MemberExpression"),$r)}else if(!$r&&Eo(Ro)){var Ar=Wo(wr);return Ar.callee=wr,Ar.arguments=Ea(Ve,!1),la(go(Ar,"CallExpression"),$r)}else return wr}function ka(){switch(gr){case Wr:var Fr=Do();return bo(),go(Fr,"ThisExpression");case ro:return Zo();case eo:case oo:case Jr:var Fr=Do();return Fr.value=Sr,Fr.raw=kn.slice(hr,pr),bo(),go(Fr,"Literal");case no:case uo:case to:var Fr=Do();return Fr.value=gr.atomValue,Fr.raw=gr.keyword,bo(),go(Fr,"Literal");case Ro:var wr=_r,$r=hr;bo();var Ar=Ao();return Ar.start=$r,Ar.end=pr,nr.locations&&(Ar.loc.start=wr,Ar.loc.end=Or),nr.ranges&&(Ar.range=[$r,pr]),Po(Ve),Ar;case wo:var Fr=Do();return bo(),Fr.elements=Ea(No,!0,!0),go(Fr,"ArrayExpression");case Mo:return bi();case dr:var Fr=Do();return bo(),$a(Fr,!1);case Qr:return _i();default:Go()}}function _i(){var wr=Do();return bo(),wr.callee=la(ka(),!0),Eo(Ro)?wr.arguments=Ea(Ve,!1):wr.arguments=qr,go(wr,"NewExpression")}function bi(){var wr=Do(),$r=!0,Ar=!1;for(wr.properties=[],bo();!Eo(Lo);){if($r)$r=!1;else if(Po(Sn),nr.allowTrailingCommas&&Eo(Lo))break;var Fr={key:Qa()},so=!1,co;if(Eo(ir)?(Fr.value=Ao(!0),co=Fr.kind="init"):nr.ecmaVersion>=5&&Fr.key.type==="Identifier"&&(Fr.key.name==="get"||Fr.key.name==="set")?(so=Ar=!0,co=Fr.kind=Fr.key.name,Fr.key=Qa(),gr!==Ro&&Go(),Fr.value=$a(Do(),!1)):Go(),Fr.key.type==="Identifier"&&(Mr||Ar))for(var fo=0;fo<wr.properties.length;++fo){var Co=wr.properties[fo];if(Co.key.name===Fr.key.name){var Uo=co==Co.kind||so&&Co.kind==="init"||co==="init"&&(Co.kind==="get"||Co.kind==="set");Uo&&!Mr&&co==="init"&&Co.kind==="init"&&(Uo=!1),Uo&&Lr(Fr.key.start,"Redefinition of property")}}wr.properties.push(Fr)}return go(wr,"ObjectExpression")}function Qa(){return gr===eo||gr===oo?ka():Zo(!0)}function $a(wr,$r){gr===ro?wr.id=Zo():$r?Go():wr.id=null,wr.params=[];var Ar=!0;for(Po(Ro);!Eo(Ve);)Ar?Ar=!1:Po(Sn),wr.params.push(Zo());var Fr=Hr,so=Kr;if(Hr=!0,Kr=[],wr.body=sa(!0),Hr=Fr,Kr=so,Mr||wr.body.body.length&&ba(wr.body.body[0]))for(var co=wr.id?-1:0;co<wr.params.length;++co){var fo=co<0?wr.id:wr.params[co];if((Ia(fo.name)||ca(fo.name))&&Lr(fo.start,"Defining '"+fo.name+"' in strict mode"),co>=0)for(var Co=0;Co<co;++Co)fo.name===wr.params[Co].name&&Lr(fo.start,"Argument name clash in strict mode")}return go(wr,$r?"FunctionDeclaration":"FunctionExpression")}function Ea(wr,$r,Ar){for(var Fr=[],so=!0;!Eo(wr);){if(so)so=!1;else if(Po(Sn),$r&&nr.allowTrailingCommas&&Eo(wr))break;Ar&&gr===Sn?Fr.push(null):Fr.push(Ao(!0))}return Fr}function Zo(wr){var $r=Do();return wr&&nr.forbidReserved=="everywhere"&&(wr=!1),gr===ro?(!wr&&(nr.forbidReserved&&(nr.ecmaVersion===3?Ya:Xa)(Sr)||Mr&&Ia(Sr))&&kn.slice(hr,pr).indexOf("\\")==-1&&Lr(hr,"The keyword '"+Sr+"' is reserved"),$r.name=Sr):wr&&gr.keyword?$r.name=gr.keyword:Go(),kr=!1,bo(),go($r,"Identifier")}}),Ce.version||(Ce=null)}function qe(Qn,nr){return(le.acorn||Ce).parse(Qn,nr)}var Pt={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},_n={"-":"__negate","+":"__self"},At=k.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(Qn){this["__"+Qn]="#"+Qn},{__self:function(){return this}});ae.inject(At),ue.inject(At),rr.inject(At);function Cn(Qn,nr,kn){var Un=Pt[nr];if(Qn&&Qn[Un]){var On=Qn[Un](kn);return nr==="!="?!On:On}switch(nr){case"+":return Qn+kn;case"-":return Qn-kn;case"*":return Qn*kn;case"/":return Qn/kn;case"%":return Qn%kn;case"==":return Qn==kn;case"!=":return Qn!=kn}}function bn(Qn,nr){var kn=_n[Qn];if(nr&&nr[kn])return nr[kn]();switch(Qn){case"+":return+nr;case"-":return-nr}}function In(Qn,nr){if(!Qn)return"";nr=nr||{};var kn=[];function Un(Mr){for(var Lr=0,qr=kn.length;Lr<qr;Lr++){var eo=kn[Lr];if(eo[0]>=Mr)break;Mr+=eo[1]}return Mr}function On(Mr){return Qn.substring(Un(Mr.range[0]),Un(Mr.range[1]))}function Rn(Mr,Lr){return Qn.substring(Un(Mr.range[1]),Un(Lr.range[0]))}function Yn(Mr,Lr){for(var qr=Un(Mr.range[0]),eo=Un(Mr.range[1]),Jr=0,oo=kn.length-1;oo>=0;oo--)if(qr>kn[oo][0]){Jr=oo+1;break}kn.splice(Jr,0,[qr,Lr.length-eo+qr]),Qn=Qn.substring(0,qr)+Lr+Qn.substring(eo)}function or(Mr,Lr){switch(Mr.type){case"UnaryExpression":if(Mr.operator in _n&&Mr.argument.type!=="Literal"){var qr=On(Mr.argument);Yn(Mr,'$__("'+Mr.operator+'", '+qr+")")}break;case"BinaryExpression":if(Mr.operator in Pt&&Mr.left.type!=="Literal"){var eo=On(Mr.left),Jr=On(Mr.right),oo=Rn(Mr.left,Mr.right),ro=Mr.operator;Yn(Mr,"__$__("+eo+","+oo.replace(new RegExp("\\"+ro),'"'+ro+'"')+", "+Jr+")")}break;case"UpdateExpression":case"AssignmentExpression":var ao=Lr&&Lr.type;if(!(ao==="ForStatement"||ao==="BinaryExpression"&&/^[=!<>]/.test(Lr.operator)||ao==="MemberExpression"&&Lr.computed)){if(Mr.type==="UpdateExpression"){var qr=On(Mr.argument),lo="__$__("+qr+', "'+Mr.operator[0]+'", 1)',io=qr+" = "+lo;Mr.prefix?io="("+io+")":(ao==="AssignmentExpression"||ao==="VariableDeclarator"||ao==="BinaryExpression")&&(On(Lr.left||Lr.id)===qr&&(io=lo),io=qr+"; "+io),Yn(Mr,io)}else if(/^.=$/.test(Mr.operator)&&Mr.left.type!=="Literal"){var eo=On(Mr.left),Jr=On(Mr.right),lo=eo+" = __$__("+eo+', "'+Mr.operator[0]+'", '+Jr+")";Yn(Mr,/^\(.*\)$/.test(On(Mr))?"("+lo+")":lo)}}break}}function tr(Mr){switch(Mr.type){case"ExportDefaultDeclaration":Yn({range:[Mr.start,Mr.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Lr=Mr.declaration,qr=Mr.specifiers;if(Lr){var eo=Lr.declarations;eo&&(eo.forEach(function(oo){Yn(oo,"module.exports."+On(oo))}),Yn({range:[Mr.start,Lr.start+Lr.kind.length]},""))}else if(qr){var Jr=qr.map(function(oo){var ro=On(oo);return"module.exports."+ro+" = "+ro+"; "}).join("");Jr&&Yn(Mr,Jr)}break}}function hr(Mr,Lr,qr){if(Mr){for(var eo in Mr)if(eo!=="range"&&eo!=="loc"){var Jr=Mr[eo];if(Array.isArray(Jr))for(var oo=0,ro=Jr.length;oo<ro;oo++)hr(Jr[oo],Mr,qr);else Jr&&typeof Jr=="object"&&hr(Jr,Mr,qr)}qr.operatorOverloading!==!1&&or(Mr,Lr),qr.moduleExports!==!1&&tr(Mr)}}function pr(Mr){var Lr="",qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Mr=(Math.abs(Mr)<<1)+(Mr<0?1:0);Mr||!Lr;){var eo=Mr&31;Mr>>=5,Mr&&(eo|=32),Lr+=qr[eo]}return Lr}var _r=nr.url||"",Or=nr.sourceMaps,gr=nr.paperFeatures||{},Sr=nr.source||Qn,kr=nr.offset||0,Nr=ur.agent,Pr=Nr.versionNumber,Br=!1,Ur=/\r\n|\n|\r/mg,jr;if(Or&&(Nr.chrome&&Pr>=30||Nr.webkit&&Pr>=537.76||Nr.firefox&&Pr>=23||Nr.node)){if(Nr.node)kr-=2;else if(g&&_r&&!g.location.href.indexOf(_r)){var Hr=y.getElementsByTagName("html")[0].innerHTML;kr=Hr.substr(0,Hr.indexOf(Qn)+1).match(Ur).length+1}Br=kr>0&&!(Nr.chrome&&Pr>=36||Nr.safari&&Pr>=600||Nr.firefox&&Pr>=40||Nr.node);var Kr=["AA"+pr(Br?0:kr)+"A"];Kr.length=(Qn.match(Ur)||[]).length+1+(Br?kr:0),jr={version:3,file:_r,names:[],mappings:Kr.join(";AACA"),sourceRoot:"",sources:[_r],sourcesContent:[Sr]}}return(gr.operatorOverloading!==!1||gr.moduleExports!==!1)&&hr(qe(Qn,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,gr),jr&&(Br&&(Qn=new Array(kr+1).join(`
`)+Qn),/^(inline|both)$/.test(Or)&&(Qn+=`
//# sourceMappingURL=data:application/json;base64,`+e.btoa(unescape(encodeURIComponent(JSON.stringify(jr))))),Qn+=`
//# sourceURL=`+(_r||"paperscript")),{url:_r,source:Sr,code:Qn,map:jr}}function Ln(Qn,nr,kn){ur=nr;var Un=nr.getView(),On=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(Qn)&&!/\bnew\s+Tool\b/.test(Qn)?new hn:null,Rn=On?On._events:[],Yn=["onFrame","onResize"].concat(Rn),or=[],tr=[],hr,pr=typeof Qn=="object"?Qn:In(Qn,kn);Qn=pr.code;function _r(Pr,Br){for(var Ur in Pr)(Br||!/^_/.test(Ur))&&new RegExp("([\\b\\s\\W]|^)"+Ur.replace(/\$/g,"\\$")+"\\b").test(Qn)&&(or.push(Ur),tr.push(Pr[Ur]))}_r({__$__:Cn,$__:bn,paper:nr,tool:On},!0),_r(nr),Qn="var module = { exports: {} }; "+Qn;var kr=k.each(Yn,function(Pr){new RegExp("\\s+"+Pr+"\\b").test(Qn)&&(or.push(Pr),this.push("module.exports."+Pr+" = "+Pr+";"))},[]).join(`
`);kr&&(Qn+=`
`+kr),Qn+=`
return module.exports;`;var Or=ur.agent;if(y&&(Or.chrome||Or.firefox&&Or.versionNumber<40)){var gr=y.createElement("script"),Sr=y.head||y.getElementsByTagName("head")[0];Or.firefox&&(Qn=`
`+Qn),gr.appendChild(y.createTextNode("document.__paperscript__ = function("+or+") {"+Qn+`
}`)),Sr.appendChild(gr),hr=y.__paperscript__,delete y.__paperscript__,Sr.removeChild(gr)}else hr=Function(or,Qn);var kr=hr&&hr.apply(nr,tr),Nr=kr||{};return k.each(Rn,function(Pr){var Br=Nr[Pr];Br&&(On[Pr]=Br)}),Un&&(Nr.onResize&&Un.setOnResize(Nr.onResize),Un.emit("resize",{size:Un.size,delta:new ae}),Nr.onFrame&&Un.setOnFrame(Nr.onFrame),Un.requestUpdate()),kr}function Mn(Qn){if(/^text\/(?:x-|)paperscript$/.test(Qn.type)&&V.getAttribute(Qn,"ignore")!=="true"){var nr=V.getAttribute(Qn,"canvas"),kn=y.getElementById(nr),Un=Qn.src||Qn.getAttribute("data-src"),On=V.hasAttribute(Qn,"async"),Rn="data-paper-scope";if(!kn)throw new Error('Unable to find canvas with id "'+nr+'"');var Yn=V.get(kn.getAttribute(Rn))||new V().setup(kn);return kn.setAttribute(Rn,Yn._id),Un?Kn.request({url:Un,async:On,mimeType:"text/plain",onLoad:function(or){Ln(or,Yn,Un)}}):Ln(Qn.innerHTML,Yn,Qn.baseURI),Qn.setAttribute("data-paper-ignore","true"),Yn}}function Fn(){k.each(y&&y.getElementsByTagName("script"),Mn)}function er(Qn){return Qn?Mn(Qn):Fn()}return g&&(y.readyState==="complete"?setTimeout(Fn):yr.add(g,{load:Fn})),{compile:In,execute:Ln,load:er,parse:qe,calculateBinary:Cn,calculateUnary:bn}}.call(this);var ur=new(V.inject(k.exports,{Base:k,Numerical:re,Key:Jn,DomEvent:yr,DomElement:fr,document:y,window:g,Symbol:Et,PlacedSymbol:wn}));return ur.agent.node&&require$$2(ur),typeof r=="function"&&r.amd?r("paper",ur):n&&(n.exports=ur),ur}).call(commonjsGlobal$1,typeof self=="object"?self:null)})(paperFull);var paperFullExports=paperFull.exports;const paper=getDefaultExportFromCjs(paperFullExports),characters=ref([]),glyphs$1=ref([]),constants$1=ref([{uuid:genUUID(),name:"",type:3,value:2,options:[{value:0,label:""},{value:1,label:""},{value:2,label:""}]},{uuid:genUUID(),name:"",type:0,value:1,min:0,max:2},{uuid:genUUID(),name:"",type:3,value:1,options:[{value:0,label:""},{value:1,label:""}]},{uuid:genUUID(),name:"",type:0,value:1,min:1,max:2},{uuid:genUUID(),name:"",type:0,value:0,min:0,max:2},{uuid:genUUID(),name:"",type:0,value:1,min:0,max:2},{uuid:genUUID(),name:"",type:0,value:50,min:40,max:100}]),editCharacterFile$1=ref(null),loading=ref(!1),gridSettings=ref({dx:0,dy:0,centerSquareSize:1e3/3,size:1e3,default:!0});let scripts_map$1={};const constantsMap$1=new ConstantsMap(constants$1.value),orderedListWithItemsForCurrentCharacterFile$1=computed(()=>editCharacterFile$1.value.orderedList.map(n=>n.type==="group"?selectedItemByUUID(editCharacterFile$1.value.groups,n.uuid):selectedItemByUUID(editCharacterFile$1.value.components,n.uuid))),generateCharacterTemplate$1=n=>{const e=document.getElementById("playground-character-template").querySelector(".char-preview").cloneNode(!0);return e.className=`character-preview character-${n.uuid}`,e.querySelector(".playground-preview-canvas").id=`playground-preview-canvas-${n.uuid}`,e.addEventListener("click",()=>editChar(n.uuid)),e},initPlayground=async()=>{total$1.value=0,loading$1.value=!0,characters.value=[],window.FP=FP;const n=document.getElementById("playground-characters-list");n.innerHTML="";const e=await fetch("templates/playground.json"),r=JSON.parse(await e.text());for(let y=0;y<strokes.length;y++){const k=strokes[y],{name:$,params:V,uuid:L}=k;let j=await(await fetch(`templates/templates2/${$}.js`)).text();const re=[];for(let ae=0;ae<V.length;ae++){const de=V[ae];re.push({uuid:genUUID(),name:de.name,type:0,value:de.default,min:de.min||0,max:de.max||1e3})}re.push({uuid:genUUID(),name:"",type:3,value:0,options:[{value:0,label:""},{value:1,label:""},{value:2,label:""}]}),re.push({uuid:genUUID(),name:"",type:3,value:2,options:[{value:0,label:""},{value:1,label:""},{value:2,label:""}]}),re.push({uuid:genUUID(),name:"",type:0,value:1,min:0,max:2}),re.push({uuid:genUUID(),name:"",type:3,value:1,options:[{value:0,label:""},{value:1,label:""}]}),re.push({uuid:genUUID(),name:"",type:0,value:1,min:1,max:2}),re.push({uuid:genUUID(),name:"",type:0,value:0,min:0,max:2}),re.push({uuid:genUUID(),name:"",type:0,value:1,min:0,max:2});const oe={uuid:L,type:"system",name:$,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},parameters:new ParametersMap(re),joints:[],script:`function script_${L.replaceAll("-","_")} (glyph, constants, FP) {
	${j}
}`};glyphs$1.value.push(oe)}const g=r.file;g.characterList=g.characterList.map(y=>{const k=instanceCharacter(y);n.appendChild(generateCharacterTemplate$1(k)),characters.value.push(k);for(let L=0;L<k.components.length;L++){const z=k.components[L];if(z.type==="glyph"){const re=z.value.parameters.parameters;for(let oe=0;oe<re.length;oe++){const ae=re[oe];ae.name===""&&ae.value!==0?(ae.type=4,ae.value=constants$1.value[0].uuid):ae.name===""?(ae.type=4,ae.value=constants$1.value[1].uuid):ae.name===""?(ae.type=4,ae.value=constants$1.value[2].uuid):ae.name===""?(ae.type=4,ae.value=constants$1.value[3].uuid):ae.name===""?(ae.type=4,ae.value=constants$1.value[4].uuid):ae.name===""?(ae.type=4,ae.value=constants$1.value[5].uuid):ae.name===""&&(ae.type=4,ae.value=constants$1.value[6].uuid)}}}const $=document.getElementById(`playground-preview-canvas-${y.uuid}`);if(!$)return;const V=componentsToContours(orderedListWithItemsForCharacterFile(k),{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!1,!0);renderPreview2($,V)}),editChar(characters.value[0].uuid),loading$1.value=!1},renderPreview=()=>{characters.value.map(n=>{n.info.gridSettings={dx:gridSettings.value.dx,dy:gridSettings.value.dy,size:gridSettings.value.size,centerSquareSize:gridSettings.value.centerSquareSize,default:!1};const e=document.getElementById(`playground-preview-canvas-${n.uuid}`);if(!e)return;const r=componentsToContours(orderedListWithItemsForCharacterFile(n),{unitsPerEm:1e3,descender:-200,advanceWidth:1e3,grid:gridSettings.value,useSkeletonGrid:!0,playground:!0},{x:0,y:0},!1,!0,!0);renderPreview2(e,r)})},updateCharactersAndPreview=()=>{for(let n=0;n<characters.value.length;n++){const e=characters.value[n],r=document.getElementById(`playground-preview-canvas-${e.uuid}`);if(!r)return;const g=componentsToContours(orderedListWithItemsForCharacterFile(e),{unitsPerEm:1e3,descender:-200,advanceWidth:1e3,grid:e.info.gridSettings,useSkeletonGrid:!0,playground:!0},{x:0,y:0},!1,!0,!0);renderPreview2(r,g)}},editChar=n=>{for(let e=0;e<characters.value.length;e++)characters.value[e].uuid===n&&(editCharacterFile$1.value=characters.value[e],editCharacterFile$1.value.components.map(r=>{if(r.type==="glyph"){const g=r.value;executeScript$1(g)}}),emitter.emit("refreshPlaygroundGridController"))},getScript$1=n=>{if(n.script)return n.script;if(n.script_reference){if(scripts_map$1[n.script_reference])return scripts_map$1[n.script_reference];for(let e=0;e<glyphs$1.value.length;e++){const r=glyphs$1.value[e];if(n.script_reference===r.uuid&&r.script)return r.script}}return null},exportFont$1=async()=>{if(loading.value)return;loading.value=!0,await computeOverlapRemovedContours$1();const n=createFont$1();if(window.__TAURI_INTERNALS__){const r=toArrayBuffer(n);nativeSaveBinary(r,".otf",["otf"]),loading.value=!1}else{const r=new DataView(toArrayBuffer(n)),g=new Blob([r],{type:"font/opentype"});var e=new JSZip;e.file(".otf",g),e.generateAsync({type:"blob"}).then(function(y){saveAs(y,".zip"),loading.value=!1})}},computeOverlapRemovedContours$1=()=>{for(let r=0;r<characters.value.length;r++){let g=characters.value[r],y=componentsToContours(orderedListWithItemsForCharacterFile(g),{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!1,!1,!1),k=[];for(let L=0;L<y.length;L++){const z=y[L];let j=new paper.Path;j.moveTo(new paper.Point(z[0].start.x,z[0].start.y));for(let re=0;re<z.length;re++){const oe=z[re];oe.type===PathType.LINE?j.lineTo(new paper.Point(oe.end.x,oe.end.y)):oe.type===PathType.CUBIC_BEZIER&&j.cubicCurveTo(new paper.Point(oe.control1.x,oe.control1.y),new paper.Point(oe.control2.x,oe.control2.y),new paper.Point(oe.end.x,oe.end.y))}k.push(j)}let $=null;if(k.length<2)$=k[1];else{$=k[0].unite(k[1]);for(let L=2;L<k.length;L++)$=$.unite(k[L])}if(!$)return;let V=[];if($.children&&$.children.length)for(let L=0;L<$.children.length;L++){const z=$.children[L];if(!z.curves.length)continue;const j=[];for(let re=0;re<z.curves.length;re++){const oe=z.curves[re],ae={type:PathType.CUBIC_BEZIER,start:{x:oe.points[0].x,y:oe.points[0].y},control1:{x:oe.points[1].x,y:oe.points[1].y},control2:{x:oe.points[2].x,y:oe.points[2].y},end:{x:oe.points[3].x,y:oe.points[3].y}};j.push(ae)}V.push(j)}else if($.curves){const L=$;if(!L.curves.length)return;const z=[];for(let j=0;j<L.curves.length;j++){const re=L.curves[j],oe={type:PathType.CUBIC_BEZIER,start:{x:re.points[0].x,y:re.points[0].y},control1:{x:re.points[1].x,y:re.points[1].y},control2:{x:re.points[2].x,y:re.points[2].y},end:{x:re.points[3].x,y:re.points[3].y}};z.push(oe)}V.push(z)}g.overlap_removed_contours=V}},createFont$1=()=>{const r=[{unicode:0,name:".notdef",contours:[[]],contourNum:0,advanceWidth:Math.max(1e3,1e3)}];let g=!1;const y=1e3,k=800,$=-200;for(let L=0;L<characters.value.length;L++){const z=characters.value[L];let j=[[]];z.overlap_removed_contours?j=z.overlap_removed_contours:j=componentsToContours(orderedListWithItemsForCharacterFile(z),{unitsPerEm:y,descender:$,advanceWidth:y},{x:0,y:0},!1,!1,!1);const{text:re,unicode:oe}=z.character;r.push({name:re,unicode:parseInt(oe,16),advanceWidth:y,contours:j,contourNum:j.length}),re===" "&&(g=!0)}return g||r.push({name:" ",unicode:parseInt("0x20",16),advanceWidth:y,contours:[[]],contourNum:0}),r.sort((L,z)=>L.unicode-z.unicode),create(r,{familyName:"",styleName:"Regular",unitsPerEm:y,ascender:k,descender:$,tables:null})},executeScript$1=n=>{try{if(n._o&&n._o.tempData)return;const e=new CustomGlyph(n),r=e._glyph;for(let g=0;g<n.components.length;g++)n.components[g].type==="glyph"&&executeScript$1(n.components[g].value);window.glyph=e,constantsMap$1.update(constants$1.value),window.constantsMap=constantsMap$1;try{const g=getScript$1(n);new Function(`${g}
script_${n.uuid.replaceAll("-","_")} (glyph, constantsMap, FP)`)()}catch(g){console.error(g)}window.glyph=null,window.constantsMap=null}catch(e){console.warn(e)}},formatPoints=(n,e,r)=>{const{unitsPerEm:g,descender:y,advanceWidth:k}=e;return r===0?n.map(V=>{let L=V.x+(g-k)/2,z=g-V.y;return z=z+y,L*=1,z*=1,{...V,x:L,y:z}}):r===1?n.map(V=>{let L=V.x*1,z=V.y*1;return L-=(g-k)/2,z=z-y,z=g-z,{...V,x:L,y:z}}):n},translate$1=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),componentsToContours=(n,e,r={x:0,y:0},g=!1,y=!0,k=!1)=>{const $=e&&e.useSkeletonGrid||!1;let V=[];return n.map(L=>{if(!L?.usedInCharacter)return;let{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue}=L;switch(L.type){case"pen":{if(!L.value.contour||k){let pe=transformPoints(L.value.points,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue});pe=pe.map(_e=>{const Fe=translate$1(_e,r);return e.grid&&!$?computeCoords(e.grid,Fe):Fe});const he=formatPoints(pe,e,1),xe=genPenContour(he),$e=100/e.unitsPerEm,Ne=pe.map(_e=>Object.assign({},_e,{x:_e.x*$e,y:_e.y*$e})),Oe=genPenContour(Ne);L.value.preview=Oe,L.value.contour=xe}y?V.push(L.value.preview):V.push(L.value.contour);break}case"polygon":{if(!L.value.contour||k){let pe=transformPoints(L.value.points,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue});pe=pe.map(_e=>{const Fe=translate$1(_e,r);return e.grid&&!$?computeCoords(e.grid,Fe):Fe});const he=formatPoints(pe,e,1),xe=genPolygonContour(he);V.push(xe);const $e=100/e.unitsPerEm,Ne=pe.map(_e=>Object.assign({},_e,{x:_e.x*$e,y:_e.y*$e})),Oe=genPolygonContour(Ne);L.value.preview=Oe,L.value.contour=xe}y?V.push(L.value.preview):V.push(L.value.contour);break}case"rectangle":{if(!L.value.contour||k){const pe=L.value;let he=transformPoints(getRectanglePoints(pe.width,pe.height,L.x,L.y),{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue});he=he.map(Fe=>{const Ue=translate$1(Fe,r);return e.grid&&!$?computeCoords(e.grid,Ue):Ue});const xe=formatPoints(he,e,1),$e=genRectangleContour(xe);V.push($e);const Ne=100/e.unitsPerEm,Oe=he.map(Fe=>Object.assign({},Fe,{x:Fe.x*Ne,y:Fe.y*Ne})),_e=genRectangleContour(Oe);L.value.preview=_e,L.value.contour=$e}y?V.push(L.value.preview):V.push(L.value.contour);break}case"ellipse":{if(!L.value.contour||k){const pe=L.value;let he=getEllipsePoints(pe.radiusX,pe.radiusY,1e3,L.x+pe.radiusX,L.y+pe.radiusY),xe=transformPoints(he,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue});xe=xe.map(Ue=>{const kt=translate$1(Ue,r);return e.grid&&!$?computeCoords(e.grid,kt):kt});const $e=formatPoints(xe,e,1),Ne=genEllipseContour($e);V.push(Ne);const Oe=100/e.unitsPerEm,_e=xe.map(Ue=>Object.assign({},Ue,{x:Ue.x*Oe,y:Ue.y*Oe})),Fe=genEllipseContour(_e);L.value.preview=Fe,L.value.contour=Ne}y?V.push(L.value.preview):V.push(L.value.contour);break}case"glyph-pen":{(!L.contour||!L.contour.length||k)&&(!e.grid||$?L.updateData(g,r):L.updateData(g,r,e.grid)),y?V.push(L.preview):V.push(L.contour);break}case"glyph-polygon":{(!L.contour||!L.contour.length||k)&&(!e.grid||$?L.updateData(g,r):L.updateData(g,r,e.grid)),y?V.push(L.preview):V.push(L.contour);break}case"glyph-rectangle":{(!L.contour||!L.contour.length||k)&&(!e.grid||$?L.updateData(g,r):L.updateData(g,r,e.grid)),y?V.push(L.preview):V.push(L.contour);break}case"glyph-ellipse":{(!L.contour||!L.contour.length||k)&&(!e.grid||$?L.updateData(g,r):L.updateData(g,r,e.grid)),y?V.push(L.preview):V.push(L.contour);break}case"glyph":{const{ox:pe,oy:he}=L,xe=L.value;if((!xe._o||k)&&(e&&e.playground?executeScript$1(xe):executeScript(xe)),$&&e.grid&&xe._o?.getSkeleton){const $e=xe._o.getSkeleton(),Ne={},Oe=Object.keys($e);for(let kt=0;kt<Oe.length;kt++){const Lt=Oe[kt],wn=$e[Lt],Et={x:wn.x+r.x+pe,y:wn.y+r.y+he};Ne[Lt]=computeCoords(e.grid,Et)}const _e=xe._o.getComponentsBySkeleton(Ne),Fe=orderedListWithItemsForGlyph(xe),Ue=componentsToContours(_e.concat(Fe),e,{x:0,y:0},g,y,!0);V=V.concat(Ue)}else{const $e=componentsToContours(xe._o.components,e,{x:r.x+pe,y:r.y+he},g,y,!0);V=V.concat($e)}break}default:{const pe=[];V.push(pe);break}}}),V},componentsToContours2=(n,e={x:0,y:0},r=!1,g=0)=>{let y=[];if(n.map(k=>{if(!k.usedInCharacter)return;let{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe}=k;switch(k.type){case"pen":{let ae=transformPoints(k.value.points,{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe});const de=genPenContour(ae);y.push(de);break}case"polygon":{let ae=transformPoints(k.value.points,{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe});const de=genPolygonContour(ae);y.push(de);break}case"rectangle":{const ae=k.value;let de=transformPoints(getRectanglePoints(ae.width,ae.height,k.x,k.y),{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe});const ue=genRectangleContour(de);y.push(ue);break}case"ellipse":{const ae=k.value;let de=getEllipsePoints(ae.radiusX,ae.radiusY,1e3,k.x+ae.radiusX,k.y+ae.radiusY);const ue=transformPoints(de,{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe}),pe=genEllipseContour(ue);y.push(pe);break}case"glyph-pen":{k.updateData2(),y.push(k.contour2);break}case"glyph-polygon":{k.updateData2(),y.push(k.contour2);break}case"glyph-rectangle":{k.updateData2(),y.push(k.contour);break}case"glyph-ellipse":{k.updateData2(),y.push(k.contour);break}case"glyph":{const{ox:ae,oy:de}=k,ue=k.value;ue._o||executeScript(ue);const pe=componentsToContours2(ue._o.components,{x:ae,y:de},r,g);y=y.concat(pe);break}default:{const ae=[];y.push(ae);break}}}),e.x||e.y){if(g===0)for(let $=0;$<y.length;$++){const V=y[$];for(let L=0;L<V.length;L++){const z=V[L];z.type===PathType.LINE?(z.start.x+=e.x*1,z.start.y-=e.y*1,z.end.x+=e.x*1,z.end.y-=e.y*1):z.type===PathType.QUADRATIC_BEZIER?(z.start.x+=e.x*1,z.start.y-=e.y*1,z.end.x+=e.x*1,z.end.y-=e.y*1,z.control.x+=e.x*1,z.control.y-=e.y*1):z.type===PathType.CUBIC_BEZIER&&(z.start.x+=e.x*1,z.start.y-=e.y*1,z.end.x+=e.x*1,z.end.y-=e.y*1,z.control1.x+=e.x*1,z.control1.y-=e.y*1,z.control2.x+=e.x*1,z.control2.y-=e.y*1)}}else if(g===1)for(let $=0;$<y.length;$++){const V=y[$];for(let L=0;L<V.length;L++){const z=V[L];z.type===PathType.LINE?(z.start.x+=e.x*1,z.start.y+=e.y*1,z.end.x+=e.x*1,z.end.y+=e.y*1):z.type===PathType.QUADRATIC_BEZIER?(z.start.x+=e.x*1,z.start.y+=e.y*1,z.end.x+=e.x*1,z.end.y+=e.y*1,z.control.x+=e.x*1,z.control.y-=e.y*1):z.type===PathType.CUBIC_BEZIER&&(z.start.x+=e.x*1,z.start.y+=e.y*1,z.end.x+=e.x*1,z.end.y+=e.y*1,z.control1.x+=e.x*1,z.control1.y+=e.y*1,z.control2.x+=e.x*1,z.control2.y+=e.y*1)}}}return y},genEllipseContour=n=>{const e=[];let r=fitCurve(n,2);if(r.length)for(let g=0;g<r.length;g++){const y=r[g];e.push({type:PathType.CUBIC_BEZIER,start:{x:y[0].x,y:y[0].y},end:{x:y[3].x,y:y[3].y},control1:{x:y[1].x,y:y[1].y},control2:{x:y[2].x,y:y[2].y}})}return e},genRectangleContour=n=>{const e=[];for(let r=0;r<n.length-1;r++)e.push({type:PathType.LINE,start:{x:n[r].x,y:n[r].y},end:{x:n[r+1].x,y:n[r+1].y}});return e},genPenContour=(n,e=!1)=>{const r=[];for(let g=0;g<n.length-1&&!(g+3>=n.length);g+=3)r.push({type:PathType.CUBIC_BEZIER,start:{x:n[g].x,y:n[g].y},end:{x:n[g+3].x,y:n[g+3].y},control1:{x:n[g+1].x,y:n[g+1].y},control2:{x:n[g+2].x,y:n[g+2].y},fill:e});return r},genPolygonContour=n=>{const e=[];for(let r=0;r<n.length-1;r++)e.push({type:PathType.LINE,start:{x:n[r].x,y:n[r].y},end:{x:n[r+1].x,y:n[r+1].y}});return e};class EllipseComponent{centerX;centerY;radiusX;radiusY;type="glyph-ellipse";usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(e,r,g,y){this.centerX=e,this.centerY=r,this.radiusX=g,this.radiusY=y}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale,y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.ellipse(mapCanvasX(this.centerX)*g,mapCanvasY(this.centerY)*g,mapCanvasX(this.radiusX)*g,mapCanvasY(this.radiusY)*g,0,0,Math.PI*2),y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=L=>({x:r.offset.x+L.x,y:r.offset.y+L.y});let y=getEllipsePoints(this.radiusX,this.radiusY,1e3,this.centerX+this.radiusX,this.centerY+this.radiusY);const k=r.scale,$=e.getContext("2d");$.strokeStyle="#000",$.beginPath();const V=computeCoords(r.grid,g({x:y[0].x,y:y[0].y}));$.moveTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k);for(let L=1;L<y.length;L++){const{x:z,y:j}=computeCoords(r.grid,g({x:y[L].x,y:y[L].y}));$.lineTo(mapCanvasX(z)*k,mapCanvasY(j)*k)}$.lineTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k),$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}getData=()=>({centerX:this.centerX,centerY:this.centerY,radiusX:this.radiusX,radiusY:this.radiusY,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.centerX=e.centerX,this.centerY=e.centerY,this.radiusX=e.radiusX,this.radiusY=e.radiusY,this.type=e.type,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=getEllipsePoints(this.radiusX,this.radiusY,1e3,this.centerX,this.centerY);y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe}),g&&(y=y.map(re=>computeCoords(g,re)));let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genEllipseContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genEllipseContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=getEllipsePoints(this.radiusX,this.radiusY,1e3,this.centerX,this.centerY),r=genEllipseContour(e);this.contour2=r}}class Skeleton{skeleton=[];weight;pointer;constructor(e){this.skeleton=[],this.weight=e}moveTo(e,r){this.pointer={x:e,y:r}}lineTo(e,r){if(!this.pointer)return!1;this.skeleton.push({type:"line",start:{x:this.pointer.x,y:this.pointer.y},end:{x:e,y:r}}),this.pointer={x:e,y:r}}quadraticBezierTo(e,r,g,y){if(!this.pointer)return!1;this.skeleton.push({type:"quadratic-bezier",start:{x:this.pointer.x,y:this.pointer.y},control1:{x:e,y:r},end:{x:g,y}}),this.pointer={x:g,y}}cubicBezierTo(e,r,g,y,k,$){if(!this.pointer)return!1;this.skeleton.push({type:"cubic-bezier",start:{x:this.pointer.x,y:this.pointer.y},control1:{x:e,y:r},control2:{x:g,y},end:{x:k,y:$}}),this.pointer={x:k,y:$}}fitCurveTo(e){if(!this.pointer)return!1;fitCurve([this.pointer,...e],2).map(g=>{this.skeleton.push({type:"cubic-bezier",start:g[0],control1:g[1],control2:g[2],end:g[3]}),this.pointer={x:g[3].x,y:g[3].y}})}genComponent(){if(!this.skeleton.length)return null;const e=[],r=[];for(let y=0;y<this.skeleton.length;y++){const k=this.skeleton[y];if(k.type==="line"){let $=1;k.start.x===k.end.x&&(y>0&&y<this.skeleton.length-1?($=this.skeleton[y-1].start.x-this.skeleton[y+1].end.x,$/=Math.abs($)):y>0?($=this.skeleton[y-1].start.x-this.skeleton[y].start.x,$/=Math.abs($)):y<this.skeleton.length-1&&($=this.skeleton[y].start.x-this.skeleton[y+1].end.x,$/=Math.abs($)));const V=-(k.start.y-k.end.y)/(k.start.x-k.end.x)*$,L=Math.atan(V),z={type:"line",start:{x:k.start.x-this.weight/2*Math.sin(L),y:k.start.y-this.weight/2*Math.cos(L)},end:{x:k.end.x-this.weight/2*Math.sin(L),y:k.end.y-this.weight/2*Math.cos(L)},k1:V},j={type:"line",start:{x:k.start.x+this.weight/2*Math.sin(L),y:k.start.y+this.weight/2*Math.cos(L)},end:{x:k.end.x+this.weight/2*Math.sin(L),y:k.end.y+this.weight/2*Math.cos(L)},k1:V};k.start.x===k.end.x?y===0?this.skeleton.length>1&&this.skeleton[y+1].end.x-k.end.x<=0?(e.push(j),r.push(z)):(e.push(z),r.push(j)):this.skeleton[y-1].start.x-k.start.x<=0?(e.push(z),r.push(j)):(e.push(j),r.push(z)):k.start.x-k.end.x<0?(e.push(z),r.push(j)):(e.push(j),r.push(z))}else if(k.type==="quadratic-bezier"){const $=[k.start,k.control1,k.control1,k.end];addContours($,e,r,[{pos:0,weight:this.weight},{pos:1,weight:this.weight}])}else if(k.type==="cubic-bezier"){const $=[k.start,k.control1,k.control2,k.end];addContours($,e,r,[{pos:0,weight:this.weight},{pos:1,weight:this.weight}])}}const g=new PenComponent;g.beginPath(),g.moveTo(e[0].start.x,e[0].start.y);for(let y=0;y<e.length;y++){const k=e[y];if(k.type==="line")if(y<e.length-1){const $=e[y+1],V=intersection(k.k1,k.start.x,getCoordY(k.start.y),$.k1,$.start.x,getCoordY($.start.y));g.lineTo(V.x,getCanvasY(V.y))}else g.lineTo(k.end.x,k.end.y);else if(k.type==="quadratic-bezier")if(y<e.length-1){const $=e[y+1],V=intersection(k.k2,k.end.x,getCoordY(k.end.y),$.k1,$.start.x,getCoordY($.start.y));g.quadraticBezierTo(k.control1.x,k.control1.y,V.x,getCanvasY(V.y))}else g.quadraticBezierTo(k.control1.x,k.control1.y,k.end.x,k.end.y);else if(k.type==="cubic-bezier")if(y<e.length-1){const $=e[y+1],V=intersection(k.k3,k.end.x,getCoordY(k.end.y),$.k1,$.start.x,getCoordY($.start.y));g.bezierTo(k.control1.x,k.control1.y,k.control2.x,k.control2.y,V.x,getCanvasY(V.y))}else g.bezierTo(k.control1.x,k.control1.y,k.control2.x,k.control2.y,k.end.x,k.end.y)}g.lineTo(r[r.length-1].end.x,r[r.length-1].end.y);for(let y=r.length-1;y>=0;y--){const k=r[y];if(k.type==="line")if(y>0){const $=r[y-1],V=$.k3?$.k3:$.k2?$.k2:$.k1,L=intersection(k.k1,k.start.x,getCoordY(k.start.y),V,$.end.x,getCoordY($.end.y));g.lineTo(L.x,getCanvasY(L.y))}else g.lineTo(k.start.x,k.start.y);else if(k.type==="quadratic-bezier")if(y>0){const $=r[y-1],V=$.k3?$.k3:$.k2?$.k2:$.k1,L=intersection(k.k1,k.start.x,getCoordY(k.start.y),V,$.end.x,getCoordY($.end.y));g.quadraticBezierTo(k.control1.x,k.control1.y,L.x,getCanvasY(L.y))}else g.quadraticBezierTo(k.control1.x,k.control1.y,k.start.x,k.start.y);else if(k.type==="cubic-bezier")if(y>0){const $=r[y-1],V=$.k3?$.k3:$.k2?$.k2:$.k1,L=intersection(k.k1,k.start.x,getCoordY(k.start.y),V,$.end.x,getCoordY($.end.y));g.bezierTo(k.control2.x,k.control2.y,k.control1.x,k.control1.y,L.x,getCanvasY(L.y))}else g.bezierTo(k.control2.x,k.control2.y,k.control1.x,k.control1.y,k.start.x,k.start.y)}return g.lineTo(e[0].start.x,e[0].start.y),g.closePath(),g}setweight(e){this.weight=e}getWeight(){return this.weight}static getContours(e,r){const g=[],y=[];return addContours(e,g,y,r),{contour1:g,contour2:y}}}const intersection=(n,e,r,g,y,k)=>{if(n===1/0||n===-1/0){const L=e,z=g*(L-y)+k;return{x:L,y:z}}else if(g===1/0||g===-1/0){const L=y,z=n*(L-e)+r;return{x:L,y:z}}const $=(k-r+(n*e-g*y))/(n-g),V=(-n*k+g*r+(y-e)*n*g)/(g-n);return{x:$,y:V}},getCoordY=n=>-(n-250),getCanvasY=n=>-n+250,addContours=(n,e,r,g)=>{const y=[],k=[];let V=bezierCurve.q(n,0),L=bezierCurve.qprime(n,0),z=Math.atan(-L.y/L.x);const j=g.sort((ue,pe)=>ue.pos-pe.pos),re=[];let oe=0;for(let ue=0;ue<j.length;ue++){const{pos:pe,weight:he}=j[ue];if(pe<1&&ue<j.length-1){const{pos:xe,weight:$e}=j[ue+1];pe===0&&(oe=he);for(let Ne=Math.round(1e3*pe);Ne<Math.round(1e3*xe);Ne++)re[Ne]=oe+($e-oe)/Math.round(1e3*(xe-pe))*(Ne-Math.round(1e3*pe));oe=re[re.length-1]}else for(let xe=Math.round(1e3*pe);xe<1e3;xe++)re[xe]=he}for(let ue=1;ue<1e3;ue++){const pe=re[ue],he=bezierCurve.q(n,ue/1e3),xe=bezierCurve.qprime(n,ue/1e3),$e=Math.atan(-xe.y/xe.x);z<=0||he.y-V.y<0?(y.push({x:V.x-pe/2*Math.sin(z),y:V.y-pe/2*Math.cos(z)}),k.push({x:V.x+pe/2*Math.sin(z),y:V.y+pe/2*Math.cos(z)})):(k.push({x:V.x-pe/2*Math.sin(z),y:V.y-pe/2*Math.cos(z)}),y.push({x:V.x+pe/2*Math.sin(z),y:V.y+pe/2*Math.cos(z)})),V=he,L=xe,z=$e}const ae=fitCurve(y,2),de=fitCurve(k,2);ae.map(ue=>{const pe=-(ue[0].y-ue[1].y)/(ue[0].x-ue[1].x),he=-(ue[2].y-ue[3].y)/(ue[2].x-ue[3].x),xe=-(ue[1].y-ue[2].y)/(ue[1].x-ue[2].x),$e={type:"cubic-bezier",start:ue[0],control1:ue[1],control2:ue[2],end:ue[3],k1:pe,k2:he,k3:xe};e.push($e)}),de.map(ue=>{const pe=-(ue[0].y-ue[1].y)/(ue[0].x-ue[1].x),he=-(ue[2].y-ue[3].y)/(ue[2].x-ue[3].x),xe=-(ue[1].y-ue[2].y)/(ue[1].x-ue[2].x),$e={type:"cubic-bezier",start:ue[0],control1:ue[1],control2:ue[2],end:ue[3],k1:pe,k2:he,k3:xe};r.push($e)})};class Character{_character;constructor(e){this._character=e,e._o=this}getComponent(e){for(let r=0;r<this._character.components.length;r++)if(this._character.components[r].name===e)return this._character.components[r];return null}getGlyph(e){for(let r=0;r<this._character.components.length;r++)if(this._character.components[r].name===e)return this._character.components[r].value._o;return null}getLayoutByID(e){if(this._character.info&&this._character.info.layoutTree){const r=this._character.info.layoutTree;return getNodeByID(e,r)}return null}getCoords(e,r,g,y){const k=e.rect,{x:$,y:V,w:L,h:z}=k,j=$+L/y*r,re=V+z/y*g;return{x:j,y:re}}getRatioCoords(e,r,g,y){const{dx:k,dy:$,size:V,centerSquareSize:L}=this._character.info.gridSettings,z=Math.round((V-L)/2)+k,j=Math.round((V-L)/2+L)+k,re=Math.round((V-L)/2)+$,oe=Math.round((V-L)/2+L)+$;return getRatioCoords(e,r,g,y,{x1:z,x2:j,y1:re,y2:oe,l:V})}getRatioLayout(e){return getCharacterRatioLayout(this._character,e)}}const getNodeByID=(n,e)=>{for(let r=0;r<e.length;r++){const g=e[r];if(g.id===n)return g;if(g.children){const y=getNodeByID(n,g.children);if(y)return y}}return null},getLineContours=(n,e,r,g)=>{let y=!1,k="center";g&&g.unticlockwise&&(y=g.unticlockwise),g&&g.skeletonPos&&(k=g.skeletonPos);const $=e[`${n}_start`],V=e[`${n}_end`],L=Math.atan2(V.y-$.y,V.x-$.x),z={};return k==="center"&&!y?(z[`out_${n}_start`]={x:$.x+r/2*Math.sin(L),y:$.y-r/2*Math.cos(L)},z[`in_${n}_start`]={x:$.x-r/2*Math.sin(L),y:$.y+r/2*Math.cos(L)},z[`out_${n}_end`]={x:V.x+r/2*Math.sin(L),y:V.y-r/2*Math.cos(L)},z[`in_${n}_end`]={x:V.x-r/2*Math.sin(L),y:V.y+r/2*Math.cos(L)}):k==="center"&&y?(z[`out_${n}_start`]={x:$.x-r/2*Math.sin(L),y:$.y+r/2*Math.cos(L)},z[`in_${n}_start`]={x:$.x+r/2*Math.sin(L),y:$.y-r/2*Math.cos(L)},z[`out_${n}_end`]={x:V.x-r/2*Math.sin(L),y:V.y+r/2*Math.cos(L)},z[`in_${n}_end`]={x:V.x+r/2*Math.sin(L),y:V.y-r/2*Math.cos(L)}):k==="inner"&&!y&&(z[`out_${n}_start`]={x:$.x+r*Math.sin(L),y:$.y-r*Math.cos(L)},z[`in_${n}_start`]={x:$.x,y:$.y},z[`out_${n}_end`]={x:V.x+r*Math.sin(L),y:V.y-r*Math.cos(L)},z[`in_${n}_end`]={x:V.x,y:V.y}),z},getCurveContours=(n,e,r,g)=>{let y=!1,k="center";g&&g.unticlockwise&&(y=g.unticlockwise),g&&g.skeletonPos&&(k=g.skeletonPos);const $=[e[`${n}_start`],{x:e[`${n}_start`].x+2/3*(e[`${n}_bend`].x-e[`${n}_start`].x),y:e[`${n}_start`].y+2/3*(e[`${n}_bend`].y-e[`${n}_start`].y)},{x:e[`${n}_end`].x+2/3*(e[`${n}_bend`].x-e[`${n}_end`].x),y:e[`${n}_end`].y+2/3*(e[`${n}_bend`].y-e[`${n}_end`].y)},e[`${n}_end`]],V=[],L=[],z=100,j=[];for(let he=0;he<=z&&g;he++)if(g.weightsVariation==="linear")if(g.weightsVariationDir==="reverse"){const $e=(z-he)/z;j.push(r*$e)}else{const xe=he/z;j.push(r*xe)}else if(g.weightsVariation==="pow")if(g.weightsVariationDir==="reverse"){const xe=z-he,$e=Math.pow(xe/z,g.weightsVariationPower);j.push(r*$e)}else{const xe=Math.pow(he/z,g.weightsVariationPower);j.push(r*xe)}let re=bezierCurve.q($,0),oe=bezierCurve.qprime($,0),ae=Math.atan2(oe.y,oe.x);for(let he=1;he<=z+1;he++){let xe=re,$e=oe,Ne=ae;const Oe=j.length?j[he-1]:r;he<z+1&&(xe=bezierCurve.q($,he/z),$e=bezierCurve.qprime($,he/z),Ne=Math.atan2($e.y,$e.x)),k==="center"&&!y?(V.push({x:re.x+Oe/2*Math.sin(ae),y:re.y-Oe/2*Math.cos(ae)}),L.push({x:re.x-Oe/2*Math.sin(ae),y:re.y+Oe/2*Math.cos(ae)})):k==="inner"&&!y?(V.push({x:re.x+Oe*Math.sin(ae),y:re.y-Oe*Math.cos(ae)}),L.push({x:re.x,y:re.y})):k==="center"&&y?(V.push({x:re.x-Oe/2*Math.sin(ae),y:re.y+Oe/2*Math.cos(ae)}),L.push({x:re.x+Oe/2*Math.sin(ae),y:re.y-Oe/2*Math.cos(ae)})):k==="inner"&&y&&(V.push({x:re.x-Oe*Math.sin(ae),y:re.y+Oe*Math.cos(ae)}),L.push({x:re.x,y:re.y})),re=xe,oe=$e,ae=Ne}const{curves:de}=fitCurvesByPoints(V),{curves:ue}=fitCurvesByPoints(L),pe={};return pe[`out_${n}_points`]=V,pe[`in_${n}_points`]=L,pe[`out_${n}_curves`]=de,pe[`in_${n}_curves`]=ue,pe},getIntersection=(n,e)=>{let r=null,g=null,y=null,k=null;if(n.type==="line"?y=n:n.type==="curve"&&(r=n),e.type==="line"?y?k=e:y=e:e.type==="curve"&&(r?g=e:r=e),g)for(let $=0;$<r.points.length-1;$++){const V=r.points[$],L=r.points[$+1];for(let z=0;z<g.points.length-1;z++){const j=g.points[z],re=g.points[z+1],oe=calculateIntersection(V,L,j,re);if(oe)return{corner:oe,corner_index:[$,z]}}}else{if(k)return{corner:calculateLineIntersection(y.start,y.end,k.start,k.end),corner_index:0};if(y&&r){let $=r.points[0];for(let V=1;V<r.points.length;V++){const L=r.points[V],z=calculateIntersection($,L,y.start,y.end);if(z)return{corner:z,corner_index:V}}}}return{corner:null,corner_index:0}},calculateIntersection=(n,e,r,g)=>{const y=(g.y-r.y)*(e.x-n.x)-(g.x-r.x)*(e.y-n.y);if(y===0)return e;const k=((g.x-r.x)*(n.y-r.y)-(g.y-r.y)*(n.x-r.x))/y,$=((e.x-n.x)*(n.y-r.y)-(e.y-n.y)*(n.x-r.x))/y;return k>=0&&k<=1&&$>=0&&$<=1?{x:n.x+k*(e.x-n.x),y:n.y+k*(e.y-n.y)}:null},calculateLineIntersection=(n,e,r,g)=>{const y=(g.y-r.y)*(e.x-n.x)-(g.x-r.x)*(e.y-n.y);if(y===0)return e;const k=((g.x-r.x)*(n.y-r.y)-(g.y-r.y)*(n.x-r.x))/y;return((e.x-n.x)*(n.y-r.y)-(e.y-n.y)*(n.x-r.x))/y,{x:n.x+k*(e.x-n.x),y:n.y+k*(e.y-n.y)}},fitCurvesByPoints=n=>{const e=fitCurve(n,3.5),r=[];for(let g=0;g<e.length;g++){const y=e[g];r.push({start:y[0],control1:y[1],control2:y[2],end:y[3]})}return{curves:r}},distance$2=(n,e)=>Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)),getRadiusPointsOnCurve=(n,e,r=!1)=>{let g=0,y=clone$1(n);if(r&&y.reverse(),!e){const{curves:z}=fitCurvesByPoints(y);z[0].start,z[0].control1,z[0].control2,z[0].end;const j=bezierCurve.qprime(getBezierCurve(z[0]),0),re=Math.atan2(j.y,j.x),oe={start:y[0],end:{x:y[0].x+Math.cos(re)*100,y:y[0].y+Math.sin(re)*100}};return{point:y[0],index:0,tangent:oe,final_curves:r?reverseCurves(z):z}}for(let z=1;z<y.length;z++)if(g+=distance$2(y[z],y[z-1]),g>=e){const{curves:j}=fitCurvesByPoints(y.slice(z));j[0].start,j[0].control1,j[0].control2,j[0].end;const re=bezierCurve.qprime(getBezierCurve(j[0]),0),oe=Math.atan2(re.y,re.x),ae={start:y[z],end:{x:y[z].x+Math.cos(oe)*100,y:y[z].y+Math.sin(oe)*100}};return{point:y[z],index:z,tangent:ae,final_curves:r?reverseCurves(j):j}}const{curves:k}=fitCurvesByPoints(y);k[0].start,k[0].control1,k[0].control2,k[0].end;const $=bezierCurve.qprime(getBezierCurve(k[0]),0),V=Math.atan2($.y,$.x),L={start:y[y.length-1],end:{x:y[y.length-1].x+Math.cos(V)*100,y:y[y.length-1].y+Math.sin(V)*100}};return{point:y[y.length-1],index:y.length-1,tangent:L,final_curves:r?reverseCurves(k):k}},reverseCurves=n=>{const e=[];for(let r=n.length-1;r>=0;r--){const g={start:n[r].end,control1:n[r].control2,control2:n[r].control1,end:n[r].start};e.push(g)}return e},getBezierCurve=n=>[n.start,n.control1,n.control2,n.end],getCurvesPoints=n=>{const r=[];for(let g=0;g<n.length;g++){const y=n[g],k=[y.start,y.control1,y.control2,y.end];for(let $=0;$<=100;$++){const V=bezierCurve.q(k,$/100);r.push(V)}}return r},getTurnAngles=(n,e,r)=>{const g=Math.atan2(n.y-e.y,e.x-n.x),y=Math.atan2(r.y-e.y,e.x-r.x),k=y-g,$=g+k/2;return{angle1:g,angle2:y,inner_angle:k,mid_angle:$}},distanceAndFootPoint=(n,e,r)=>{const{x:g,y}=n,{x:k,y:$}=e,{x:V,y:L}=r,z=k-g,j=$-y,re=Math.sqrt(z**2+j**2);let oe,ae,de;if(g===k){let Fe=L;const Ue=Math.min(y,$),kt=Math.max(y,$),Lt=Fe>=Ue&&Fe<=kt;Lt||(Fe=Fe<Ue?Ue:kt),oe={x:g,y:Fe},ae=Lt?null:{x:V,y:Fe};const wn=Math.abs(Fe-y);return de=re===0?0:wn/Math.abs($-y),de=Math.min(1,Math.max(0,de)),{distance:Math.abs(V-g),footPoint:oe,newC:ae,percentageFromA:de}}if(y===$){let Fe=V;const Ue=Math.min(g,k),kt=Math.max(g,k),Lt=Fe>=Ue&&Fe<=kt;Lt||(Fe=Fe<Ue?Ue:kt),oe={x:Fe,y},ae=Lt?null:{x:Fe,y:L};const wn=Math.abs(Fe-g);return de=re===0?0:wn/Math.abs(k-g),de=Math.min(1,Math.max(0,de)),{distance:Math.abs(L-y),footPoint:oe,newC:ae,percentageFromA:de}}const ue=($-y)/(k-g),pe=-1/ue,he=(ue*g-y+L-pe*V)/(ue-pe),xe=ue*(he-g)+y,$e=he>=Math.min(g,k)&&he<=Math.max(g,k)&&xe>=Math.min(y,$)&&xe<=Math.max(y,$);if($e)oe={x:he,y:xe};else{const Fe=Math.sqrt((he-g)**2+(xe-y)**2),Ue=Math.sqrt((he-k)**2+(xe-$)**2);oe=Fe<Ue?{x:g,y}:{x:k,y:$}}ae=$e?null:{x:V+(oe.x-he),y:L+(oe.y-xe)};const Ne=oe.x-g,Oe=oe.y-y,_e=Math.sqrt(Ne**2+Oe**2);return de=re===0?0:_e/re,de=Math.min(1,Math.max(0,de)),{distance:Math.sqrt((he-V)**2+(xe-L)**2),footPoint:oe,newC:ae,percentageFromA:de}},FP={EllipseComponent,PenComponent,PolygonComponent,RectangleComponent,Skeleton,Joint,Character,fitCurve,getLineContours,getCurveContours,getIntersection,fitCurvesByPoints,getRadiusPointsOnCurve,distance:distance$2,getCurvesPoints,getTurnAngles,distanceAndFootPoint},getParentInfo=n=>({uuid:n.uuid,type:n.type});var ParameterType=(n=>(n[n.Number=0]="Number",n[n.Constant=1]="Constant",n[n.RingController=2]="RingController",n[n.Enum=3]="Enum",n[n.PlaygroundConstant=4]="PlaygroundConstant",n))(ParameterType||{});ref(0);const selectedParam=ref(null),selectedParamType=ref(""),constants=ref([]),constantsMap=new ConstantsMap(constants.value),glyphs=ref([]),radical_glyphs=ref([]),stroke_glyphs=ref([]),comp_glyphs=ref([]);var ConstantType=(n=>(n[n.Component=0]="Component",n[n.Parameter=1]="Parameter",n))(ConstantType||{}),GlyphType=(n=>(n[n.Char=0]="Char",n[n.StrokeGlyph=1]="StrokeGlyph",n[n.RadicalGlyph=2]="RadicalGlyph",n[n.CompGlyph=3]="CompGlyph",n[n.Glyph=4]="Glyph",n))(GlyphType||{});const convertGlyphType=n=>n===Status.GlyphList?4:n===Status.StrokeGlyphList?1:n===Status.RadicalGlyphList?2:n===Status.CompGlyphList?3:n===Status.CharacterList?0:null,constantGlyphMap=new Map,editGlyphUUID=ref(""),initGlyphEnvironment=async()=>{window.FP=FP},getGlyphByUUID=n=>{let e=null;for(let r=0;r<glyphs.value.length;r++)if(glyphs.value[r].uuid===n)return e=glyphs.value[r],e;for(let r=0;r<radical_glyphs.value.length;r++)if(radical_glyphs.value[r].uuid===n)return e=radical_glyphs.value[r],e;for(let r=0;r<stroke_glyphs.value.length;r++)if(stroke_glyphs.value[r].uuid===n)return e=stroke_glyphs.value[r],e;for(let r=0;r<comp_glyphs.value.length;r++)if(comp_glyphs.value[r].uuid===n)return e=comp_glyphs.value[r],e;return e},getGlyphByName=n=>{let e=null;for(let r=0;r<glyphs.value.length;r++)if(glyphs.value[r].name===n)return e=glyphs.value[r],e;for(let r=0;r<radical_glyphs.value.length;r++)if(radical_glyphs.value[r].name===n)return e=radical_glyphs.value[r],e;for(let r=0;r<stroke_glyphs.value.length;r++)if(stroke_glyphs.value[r].name===n)return e=stroke_glyphs.value[r],e;for(let r=0;r<comp_glyphs.value.length;r++)if(comp_glyphs.value[r].name===n)return e=comp_glyphs.value[r],e;return e},getGlyphType=n=>{for(let e=0;e<glyphs.value.length;e++)if(glyphs.value[e].uuid===n)return Status.GlyphList;for(let e=0;e<radical_glyphs.value.length;e++)if(radical_glyphs.value[e].uuid===n)return Status.RadicalGlyphList;for(let e=0;e<stroke_glyphs.value.length;e++)if(stroke_glyphs.value[e].uuid===n)return Status.StrokeGlyphList;for(let e=0;e<comp_glyphs.value.length;e++)if(comp_glyphs.value[e].uuid===n)return Status.CompGlyphList;return Status.Glyph},editGlyph=ref(null),setEditGlyphByUUID=n=>{let e=getGlyphByUUID(editGlyphUUID.value);editGlyph.value=clone$1(e)},selectedComponent$1=computed(()=>!selectedComponents$1.value||selectedComponents$1.value.length===0?null:selectedComponents$1.value.length===1?selectedComponents$1.value[0]:"multi"),selectedComponentUUID$1=computed(()=>!selectedComponents$1.value||selectedComponents$1.value.length===0?"":selectedComponents$1.value.length===1?selectedComponents$1.value[0].uuid:"multi"),usedComponents$1=computed(()=>componentsForCurrentGlyph.value.filter(e=>e.usedInCharacter===!0)),selectedComponents$1=computed(()=>editGlyphUUID.value?editGlyph.value?.selectedComponentsUUIDs.map(e=>traverseComponents$1(editGlyph.value.components,e)):null),traverseComponents$1=(n,e)=>{for(let r=0;r<n.length;r++){const g=n[r];if(g.uuid===e)return g;if(g.value.components&&g.value.components.length){const y=traverseComponents$1(g.value.components,e);if(y)return y}}return null},SubComponents$1=computed(()=>{if(!editGlyphUUID.value||!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)return null;let n=null;for(let r=0;r<editGlyph.value?.selectedComponentsTree.length-1;r++){const g=editGlyph.value?.selectedComponentsTree[r];n?n=selectedItemByUUID(n.value.components,g):n=selectedItemByUUID(editGlyph.value.components,g)}return n.value.components.map(r=>selectedItemByUUID(n.value.components,r.uuid))}),SubComponentsRoot$1=computed(()=>{if(!editGlyphUUID.value||!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)return null;let n=null;for(let e=0;e<editGlyph.value?.selectedComponentsTree.length-1;e++){const r=editGlyph.value?.selectedComponentsTree[e];n?n=selectedItemByUUID(n.value.components,r):n=selectedItemByUUID(editGlyph.value.components,r)}return n}),selectedSubComponent$1=computed(()=>{let n=null;if(!editGlyphUUID.value)n=null;else if(!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)n=null;else{let e=null;for(let g=0;g<editGlyph.value?.selectedComponentsTree.length-1;g++){const y=editGlyph.value?.selectedComponentsTree[g];e?e=selectedItemByUUID(e.value.components,y):e=selectedItemByUUID(editGlyph.value.components,y)}const r=editGlyph.value?.selectedComponentsTree[editGlyph.value?.selectedComponentsTree.length-1];r!=="null"&&(n=selectedItemByUUID(e.value.components,r))}return n}),componentsForCurrentGlyph=computed(()=>editGlyphUUID.value?editGlyph.value.components:[]),orderedListWithItemsForCurrentGlyph=computed(()=>editGlyphUUID.value?editGlyph.value.orderedList.map(n=>n.type==="group"?selectedItemByUUID(editGlyph.value.groups,n.uuid):selectedItemByUUID(editGlyph.value.components,n.uuid)):[]),orderedListWithItemsForGlyph=n=>n.orderedList.map(e=>e.type==="group"?selectedItemByUUID(n.groups,e.uuid):selectedItemByUUID(n.components,e.uuid)),orderedListForCurrentGlyph=computed(()=>editGlyphUUID.value?editGlyph.value.orderedList:[]),selectedComponentsUUIDs$1=computed(()=>editGlyphUUID.value?editGlyph.value.selectedComponentsUUIDs:""),getConstant=n=>{let e=null;return constants.value.forEach(r=>{r.uuid===n&&(e=r)}),e},removeOrderedItemForCurrentGlyph=n=>{const e=(()=>{for(let r=0;r<editGlyph.value.orderedList.length;r++)if(editGlyph.value.orderedList[r].uuid===n)return r;return-1})();e>=0&&editGlyph.value.orderedList.splice(e,1)},removeComponentForCurrentGlyph=n=>{const e=(()=>{for(let r=0;r<editGlyph.value.components.length;r++)if(editGlyph.value.components[r].uuid===n)return r;return-1})();removeOrderedItemForCurrentGlyph(n),editGlyph.value.glyph_script&&editGlyph.value.glyph_script[n]&&delete editGlyph.value.glyph_script[n],editGlyph.value.components.splice(e,1)},insertComponentForCurrentGlyph=(n,e)=>{editGlyph.value.components.push(n),insertOrderedItemForCurrentGlyph({type:"component",uuid:n.uuid},e)},setSelectionForCurrentGlyph=n=>{if(n)if(enableMultiSelect.value){const e=editGlyph.value.selectedComponentsUUIDs.indexOf(n);e===-1?editGlyph.value.selectedComponentsUUIDs.push(n):editGlyph.value.selectedComponentsUUIDs.splice(e,1)}else editGlyph.value.selectedComponentsUUIDs=[n];else editGlyph.value.selectedComponentsUUIDs=[]},modifySubComponent$1=n=>{if(!(!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)){let e=null,r=null;const g=clone$1(editGlyph.value?.components);for(let $=0;$<editGlyph.value?.selectedComponentsTree.length-1;$++){const V=editGlyph.value?.selectedComponentsTree[$];e?e=selectedItemByUUID(e.value.components,V):e=selectedItemByUUID(g,V)}const y=editGlyph.value?.selectedComponentsTree[editGlyph.value?.selectedComponentsTree.length-1];y!=="null"&&(r=selectedItemByUUID(e.value.components,y));const k=Object.keys(n);for(let $=0;$<k.length;$++){const V=k[$];r[V]=n[V]}editGlyph.value.components=g}},modifyGlyph=(n,e)=>{const r=getGlyphByUUID(n);Object.keys(e).map(g=>{g==="view"?Object.keys(e.view).map(y=>{r.view[y]=e.view[y]}):r[g]=e[g]}),emitter.emit("renderGlyphPreviewCanvasByUUID",n)},modifyComponentForCurrentGlyph=(n,e)=>{const r=clone$1(editGlyph.value.components);r.forEach(g=>{g.uuid===n&&Object.keys(e).map(y=>{switch(y){case"type":g.type=e.type;break;case"name":g.name=e.name;break;case"lock":g.lock=e.lock;break;case"visible":g.visible=e.visible;break;case"x":g.x=e.x;break;case"y":g.y=e.y;break;case"w":g.w=e.w;break;case"h":g.h=e.h;break;case"rotation":g.rotation=e.rotation;break;case"flipX":g.flipX=e.flipX;break;case"flipY":g.flipY=e.flipY;break;case"usedInCharacter":g.usedInCharacter=e.usedInCharacter;break;case"ox":g.ox=e.ox;break;case"oy":g.oy=e.oy;break;case"opacity":g.opacity=e.opacity;break;case"value":Object.keys(e.value).map(k=>{if(g.value[k]=e.value[k],k==="points"){const{x:$,y:V,w:L,h:z}=getBound$4(e.value[k].reduce((j,re)=>(j.push({x:re.x,y:re.y}),j),[]));g.x=$,g.y=V,g.w=L,g.h=z}});break}}),editGlyph.value.components=r}),emitter.emit("renderGlyphPreviewCanvasByUUID",n)},addOrderedItemForGlyph=(n,e)=>{getGlyphByUUID(n).orderedList.push(e)},addOrderedItemForCurrentGlyph=n=>{editGlyph.value.orderedList.push(n)},insertOrderedItemForCurrentGlyph=(n,e)=>{const r=(()=>{for(let g=0;g<editGlyph.value.orderedList.length;g++)if(editGlyph.value.orderedList[g].uuid===e.uuid)return g})();e.pos==="prev"&&editGlyph.value.orderedList.splice(r,0,n),e.pos==="next"&&editGlyph.value.orderedList.splice(r+1,0,n)},setOrderedListForCurrentGlyph=n=>{editGlyph.value.orderedList=n},setEditGlyphUUID=n=>{editGlyphUUID.value=n},addGlyph=(n,e)=>{e===Status.GlyphList?glyphs.value.push(n):e===Status.StrokeGlyphList?stroke_glyphs.value.push(n):e===Status.RadicalGlyphList?radical_glyphs.value.push(n):e===Status.CompGlyphList&&comp_glyphs.value.push(n)},removeGlyph=(n,e)=>{if(e===Status.GlyphList){for(let r=0;r<glyphs.value.length;r++)if(glyphs.value[r].uuid===n){glyphs.value.splice(r,1);return}}else if(e===Status.StrokeGlyphList){for(let r=0;r<stroke_glyphs.value.length;r++)if(stroke_glyphs.value[r].uuid===n){stroke_glyphs.value.splice(r,1);return}}else if(e===Status.RadicalGlyphList){for(let r=0;r<radical_glyphs.value.length;r++)if(radical_glyphs.value[r].uuid===n){radical_glyphs.value.splice(r,1);return}}else if(e===Status.CompGlyphList){for(let r=0;r<comp_glyphs.value.length;r++)if(comp_glyphs.value[r].uuid===n){comp_glyphs.value.splice(r,1);return}}},addComponentsForGlyph=(n,e)=>{getGlyphByUUID(n),e.forEach(r=>{addComponentForGlyph(n,r)})},addComponentForGlyph=(n,e)=>{getGlyphByUUID(n).components.push(e),addOrderedItemForGlyph(n,{type:"component",uuid:e.uuid}),setSelectionForCurrentGlyph(e.uuid)},addComponentForCurrentGlyph=n=>{editGlyph.value.components.push(n),addOrderedItemForCurrentGlyph({type:"component",uuid:n.uuid}),setSelectionForCurrentGlyph(n.uuid)},scripts_map=ref({}),tempScript=n=>{if(n.type!=="text"&&n.type!=="icon"&&n.script_reference){const e=getGlyphByUUID(n.script_reference);e&&e.script&&(scripts_map.value[n.script_reference]=e.script)}for(let e=0;e<n.components.length;e++){const r=n.components[e];r.type==="glyph"&&tempScript(r.value)}},getScript=n=>{if(n.script)return n.script;if(n.script_reference){if(scripts_map[n.script_reference])return scripts_map[n.script_reference];{const e=getGlyphByUUID(n.script_reference);if(e.script)return e.script}}return null},executeScript=n=>{try{if(n._o&&n._o.tempData)return;const e=new CustomGlyph(n),r=e._glyph;for(let g=0;g<n.components.length;g++)n.components[g].type==="glyph"&&executeScript(n.components[g].value);window.glyph=e,constantsMap.update(constants.value),window.constantsMap=constantsMap;try{const g=getScript(n);new Function(`${g}
script_${n.uuid.replaceAll("-","_")} (glyph, constantsMap, FP)`)()}catch(g){console.error(g)}if(n&&n.glyph_script){const g=Object.keys(n.glyph_script);for(let y=0;y<g.length;y++){const k=n.glyph_script[g[y]];new Function(`${k}`)()}}if(n&&n.param_script){const g=Object.keys(n.param_script);for(let y=0;y<g.length;y++){const k=n.param_script[g[y]];new Function(`${k}`)()}}n?.components?.map(g=>{if(window.comp_glyph=new CustomGlyph(g.value),g.value&&g.value.system_script){const y=Object.keys(g.value.system_script);for(let k=0;k<y.length;k++){const $=g.value.system_script[y[k]];window.glyph=e,new Function(`${$}`)()}}window.comp_glyph=null}),window.glyph=null,window.constantsMap=null}catch(e){console.warn(e)}},getRatioOptions=n=>{const e=[{key:0,value:"DEFAULT",label:"DEFAULT",uuid:"",type:""}];return n.layout?n.layout.type==="rect"&&(e.push({key:1,value:"width",label:"width",uuid:n.uuid,type:n.type}),e.push({key:2,value:"height",label:"height",uuid:n.uuid,type:n.type})):n.parent&&n.parent.type==="system"&&n.parent.layout?n.parent.layout.type==="rect"&&(e.push({key:1,value:"width",label:"width",uuid:n.parent.uuid,type:n.parent.type}),e.push({key:2,value:"height",label:"height",uuid:n.parent.uuid,type:n.parent.type})):n.parent&&(n.parent.type==="text"||n.parent.type==="icon")&&n.parent.info&&n.parent.info.layoutTree&&findLeafNodes$1(n.parent.info?.layoutTree).map((g,y)=>{e.push({key:`${y}-1`,value:`${g.id}-w`,label:`${g.id}-w`,uuid:n.parent.uuid,type:n.parent.type}),e.push({key:`${y}-2`,value:`${g.id}-h`,label:`${g.id}-h`,uuid:n.parent.uuid,type:n.parent.type})}),e},getRatioLayout=(n,e)=>{let r=null;if(!n.parent&&n.layout)r=n.layout.params[e];else if(n.parent&&n.parent.type==="system"&&n.parent.layout)r=n.parent.layout.params[e];else if(n.parent&&(n.parent.type==="text"||n.parent.type==="icon")&&n.parent.info&&n.parent.info.layoutTree){const g=e.split("-"),y=g.splice(g.length-1,1)[0],k=g.join("-");findLeafNodes$1(n.parent.info?.layoutTree).map(V=>{V.id===k&&(r=V.rect[y])})}return r},getRatioLayout2=(n,e)=>{let r=null;return n.layout&&(r=n.layout.params[e]),r},findLeafNodes$1=n=>{const e=[],r=g=>{!g.children||g.children.length===0?e.push(g):g.children.forEach(y=>r(y))};return n.forEach(g=>r(g)),e},deleteCharacter$1=(n,e)=>{n.stopPropagation(),removeGlyph(e,getGlyphType(e)),deleteGlyphTemplate(e,editStatus.value)},editGlyphFile=async n=>{loading$1.value=!0,total$1.value=0,await nextTick(),setTimeout(()=>{setEditGlyphUUID(n),setEditGlyphByUUID(editGlyphUUID.value),setPrevStatus(editStatus.value),setEditStatus(Status.Glyph),loading$1.value=!1},500)},renameCharacter$1=(n,e)=>{n.stopPropagation(),editedGlyphUUID.value=e,setEditGlyphDialogVisible(!0)},copyCharacter$1=(n,e)=>{n.stopPropagation(),copiedGlyphUUID.value=e,setCopyGlyphDialogVisible(!0)},generateGlyphTemplate=n=>{const e=document.getElementById("glyph-template").querySelector(".glyph").cloneNode(!0);return e.className=`glyph glyph-${n.uuid}`,e.querySelector(".preview-canvas").id=`preview-canvas-${n.uuid}`,e.querySelector(".name").innerHTML=`${n.name}`,e.querySelector(".edit-icon").addEventListener("click",r=>renameCharacter$1(r,n.uuid)),e.querySelector(".copy-icon").addEventListener("click",r=>copyCharacter$1(r,n.uuid)),e.querySelector(".delete-icon").addEventListener("click",r=>deleteCharacter$1(r,n.uuid)),e.addEventListener("click",()=>editGlyphFile(n.uuid)),e},selected_glyphs=ref([]),multi_glyph_selection=ref(!1),addSelectedGlyph=n=>{const e=clone$1(n);e.parent_reference=getParentInfo(editStatus.value===Status.Edit?editCharacterFile.value:editGlyph.value),e.script=null,e.script_reference=e.uuid;const r={uuid:genUUID(),type:"glyph",name:n.name+Date.now().toString().slice(9),lock:!1,visible:!0,value:e,ox:selectedFile.value.width/2-1e3/2,oy:selectedFile.value.height/2-1e3/2,usedInCharacter:!0};executeScript(r.value),editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(r):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(r),tool.value!=="glyphDragger"&&setTool("glyphDragger"),glyphComponentsDialogVisible2.value=!1},selectGlyph=n=>{if(!glyphComponentsDialogVisible2.value)return;const e=getGlyphByUUID(n);multi_glyph_selection.value?selected_glyphs.value.push(e):addSelectedGlyph(e)},generateGlyphSelectionTemplate=n=>{const e=document.getElementById("glyph-template").querySelector(".glyph").cloneNode(!0);return e.className=`glyph glyph-${n.uuid}`,e.querySelector(".preview-canvas").id=`preview-canvas-${n.uuid}`,e.querySelector(".name").innerHTML=`${n.name}`,e.addEventListener("click",()=>selectGlyph(n.uuid)),e},deleteGlyphTemplate=(n,e)=>{let r=document.getElementById("glyph-render-list"),g=document.getElementById("glyph-components-wrapper");e===Status.StrokeGlyphList?(r=document.getElementById("stroke-glyph-render-list"),g=document.getElementById("stroke-glyph-components-wrapper")):e===Status.RadicalGlyphList?(r=document.getElementById("radical-glyph-render-list"),g=document.getElementById("radical-glyph-components-wrapper")):e===Status.CompGlyphList&&(r=document.getElementById("comp-glyph-render-list"),g=document.getElementById("comp-glyph-components-wrapper"));const y=r.querySelector(`.glyph-${n}`);r.removeChild(y);const k=g.querySelector(`.glyph-${n}`);g.removeChild(k)},addGlyphTemplate=(n,e)=>{const r=generateGlyphTemplate(n),g=generateGlyphSelectionTemplate(n);let y=document.getElementById("glyph-components-wrapper"),k=document.getElementById("glyph-render-list");e===Status.StrokeGlyphList?(k=document.getElementById("stroke-glyph-render-list"),y=document.getElementById("stroke-glyph-components-wrapper")):e===Status.RadicalGlyphList?(k=document.getElementById("radical-glyph-render-list"),y=document.getElementById("radical-glyph-components-wrapper")):e===Status.CompGlyphList&&(k=document.getElementById("comp-glyph-render-list"),y=document.getElementById("comp-glyph-components-wrapper"));const $=k.querySelector(".default-glyph");$&&k.insertBefore(r,$),y.appendChild(g)},clearGlyphRenderList=n=>{let e=document.getElementById("glyph-render-list");if(n===Status.StrokeGlyphList?e=document.getElementById("stroke-glyph-render-list"):n===Status.RadicalGlyphList?e=document.getElementById("radical-glyph-render-list"):n===Status.CompGlyphList&&(e=document.getElementById("comp-glyph-render-list")),!e)return;const r=document.getElementById("default-glyph-template").querySelector(".default-glyph").cloneNode(!0);r.addEventListener("click",()=>setAddGlyphDialogVisible(!0)),e.innerHTML="",e.appendChild(r)},clearSelectionGlyphRenderList=n=>{let e=document.getElementById("glyph-components-wrapper");if(n===Status.StrokeGlyphList?e=document.getElementById("stroke-glyph-components-wrapper"):n===Status.RadicalGlyphList?e=document.getElementById("radical-glyph-components-wrapper"):n===Status.CompGlyphList&&(e=document.getElementById("comp-glyph-components-wrapper")),!n){clearSelectionGlyphRenderList(Status.GlyphList),clearSelectionGlyphRenderList(Status.StrokeGlyphList),clearSelectionGlyphRenderList(Status.RadicalGlyphList),clearSelectionGlyphRenderList(Status.CompGlyphList);return}e.innerHTML=""},selectedItemByUUID=(n,e)=>{let r=null;for(let g=0;g<n.length;g++)n[g].uuid===e&&(r=n[g]);return r},files=reactive({value:[]}),selectedFileUUID=ref(""),clipBoard=reactive({value:[]}),editCharacterFileUUID=ref(""),enableMultiSelect=ref(!1),selectedComponent=computed(()=>!selectedComponents.value||selectedComponents.value.length===0?null:selectedComponents.value.length===1?selectedComponents.value[0]:"multi"),selectedComponentUUID=computed(()=>!selectedComponents.value||selectedComponents.value.length===0?"":selectedComponents.value.length===1?selectedComponents.value[0].uuid:"multi"),usedComponents=computed(()=>orderedListWithItemsForCurrentCharacterFile.value.filter(e=>!!e.usedInCharacter)),editCharacterFile=ref(null),setEditCharacterFileByUUID=n=>{let e=null;const r=selectedFile.value.characterList;for(let g=0;g<r.length;g++)if(editCharacterFileUUID.value===r[g].uuid){e=r[g];break}editCharacterFile.value=clone$1(e)},resetEditCharacterFile=()=>{editCharacterFile.value=null},updateCharacterListFromEditFile=()=>{const n=selectedFile.value.characterList;for(let e=0;e<n.length;e++)if(editCharacterFileUUID.value===n[e].uuid){n[e]=clone$1(editCharacterFile.value);break}},selectedFile=computed(()=>selectedFileUUID.value?selectedItemByUUID(files.value,selectedFileUUID.value):null),characterList=computed(()=>selectedFileUUID.value?selectedItemByUUID(files.value,selectedFileUUID.value).characterList:null),selectedComponents=computed(()=>{if(!selectedFileUUID.value)return null;const n=editCharacterFile.value;return n?.selectedComponentsUUIDs.map(r=>traverseComponents(n.components,r))}),traverseComponents=(n,e)=>{for(let r=0;r<n.length;r++){const g=n[r];if(g.uuid===e)return g;if(g.value.components&&g.value.components.length){const y=traverseComponents(g.value.components,e);if(y)return y}}return null},SubComponents=computed(()=>{if(!selectedFileUUID.value)return null;const n=editCharacterFile.value;if(!n?.selectedComponentsTree||!n?.selectedComponentsTree.length)return null;let e=null;for(let g=0;g<n?.selectedComponentsTree.length-1;g++){const y=n?.selectedComponentsTree[g];e?e=selectedItemByUUID(e.value.components,y):e=selectedItemByUUID(n.components,y)}return e.value.components.map(g=>selectedItemByUUID(e.value.components,g.uuid))}),SubComponentsRoot=computed(()=>{if(!selectedFileUUID.value)return null;const n=editCharacterFile.value;if(!n?.selectedComponentsTree||!n?.selectedComponentsTree.length)return null;let e=null;for(let r=0;r<n?.selectedComponentsTree.length-1;r++){const g=n?.selectedComponentsTree[r];e?e=selectedItemByUUID(e.value.components,g):e=selectedItemByUUID(n.components,g)}return e}),selectedSubComponent=computed(()=>{let n=null;if(!selectedFileUUID.value)n=null;else{const e=editCharacterFile.value;if(!e?.selectedComponentsTree||!e?.selectedComponentsTree.length)n=null;else{let r=null;for(let y=0;y<e?.selectedComponentsTree.length-1;y++){const k=e?.selectedComponentsTree[y];r?r=selectedItemByUUID(r.value.components,k):r=selectedItemByUUID(e.components,k)}const g=e?.selectedComponentsTree[e?.selectedComponentsTree.length-1];g!=="null"&&(n=selectedItemByUUID(r.value.components,g))}}return n}),componentsForCurrentCharacterFile=computed(()=>selectedFileUUID.value?editCharacterFile.value.components:[]),orderedListWithItemsForCurrentCharacterFile=computed(()=>{if(!selectedFileUUID.value||!editCharacterFileUUID.value)return[];const n=editCharacterFile.value;return n.orderedList.map(e=>e.type==="group"?selectedItemByUUID(n.groups,e.uuid):selectedItemByUUID(n.components,e.uuid))}),orderedListWithItemsForCharacterFile=n=>n.orderedList.map(e=>e.type==="group"?selectedItemByUUID(n.groups,e.uuid):selectedItemByUUID(n.components,e.uuid)),orderedListForCurrentCharacterFile=computed(()=>selectedFileUUID.value?editCharacterFile.value.orderedList:[]),selectedComponentsUUIDs=computed(()=>selectedFileUUID.value?editCharacterFile.value.selectedComponentsUUIDs:""),setSelectedFileUUID=n=>{selectedFileUUID.value=n,n&&(gridSettings$1.value.centerSquareSize=selectedFile.value.width/3,gridSettings$1.value.size=selectedFile.value.width)},addFile=n=>{files.value.push(n)},removeFile=n=>{selectedFileUUID.value===n&&setSelectedFileUUID(""),editCharacterFileUUID.value="";const e=(()=>{for(let r=0;r<files.value.length;r++)if(files.value[r].uuid===n)return r;return-1})();e>=0&&files.value.splice(e,1)},updateFontSettings=n=>{const e=selectedFile.value,{name:r,unitsPerEm:g,ascender:y,descender:k}=n;if(r&&(e.name=r),g!==selectedFile.value.fontSettings.unitsPerEm||y!==selectedFile.value.fontSettings.ascender||k!==selectedFile.value.fontSettings.descender){e.fontSettings={unitsPerEm:g,ascender:y,descender:k},e.width=g,e.height=g,total$1.value=e.characterList.length,loaded$1.value=0,loading$1.value=!0;for(let $=0;$<e.characterList.length;$++){const V=e.characterList[$];V._o||executeCharacterScript(V),componentsToContours(orderedListWithItemsForCharacterFile(V),{unitsPerEm:g,descender:k,advanceWidth:g},{x:0,y:0},!1,!1,!0),loaded$1.value+=1}loading$1.value=!1}},modifyCharacterFile=(n,e)=>{const r=selectedItemByUUID(files.value,selectedFileUUID.value);let g=selectedItemByUUID(r.characterList,n);Object.keys(e).map(y=>{y==="view"?Object.keys(e.view).map(k=>{g.view[k]=e.view[k]}):g[y]=e[y]}),emitter.emit("renderPreviewCanvasByUUID",n)},removeOrderedItemForCurrentCharacterFile=n=>{const e=editCharacterFile.value,r=(()=>{for(let g=0;g<e.orderedList.length;g++)if(e.orderedList[g].uuid===n)return g;return-1})();r>=0&&e.orderedList.splice(r,1)},removeComponentForCurrentCharacterFile=n=>{const e=editCharacterFile.value,r=(()=>{for(let g=0;g<e.components.length;g++)if(e.components[g].uuid===n)return g;return-1})();removeOrderedItemForCurrentCharacterFile(n),e.glyph_script&&e.glyph_script[n]&&delete e.glyph_script[n],e.components.splice(r,1)},insertComponentForCurrentCharacterFile=(n,e)=>{editCharacterFile.value.components.push(n),insertOrderedItemForCurrentCharacterFile({type:"component",uuid:n.uuid},e)},setSelectionForCurrentCharacterFile=n=>{const e=editCharacterFile.value;if(n)if(enableMultiSelect.value){const r=e.selectedComponentsUUIDs.indexOf(n);r===-1?e.selectedComponentsUUIDs.push(n):e.selectedComponentsUUIDs.splice(r,1)}else e.selectedComponentsUUIDs=[n];else e.selectedComponentsUUIDs=[]},modifySubComponent=n=>{const e=editCharacterFile.value;if(!(!e?.selectedComponentsTree||!e?.selectedComponentsTree.length)){let r=null,g=null;const y=clone$1(e.components);for(let V=0;V<e?.selectedComponentsTree.length-1;V++){const L=e?.selectedComponentsTree[V];r?r=selectedItemByUUID(r.value.components,L):r=selectedItemByUUID(y,L)}const k=e?.selectedComponentsTree[e?.selectedComponentsTree.length-1];k!=="null"&&(g=selectedItemByUUID(r.value.components,k));const $=Object.keys(n);for(let V=0;V<$.length;V++){const L=$[V];g[L]=n[L]}e.components=y}},modifyComponentForCurrentCharacterFile=(n,e)=>{const r=editCharacterFile.value,g=clone$1(r.components);g.forEach(y=>{y.uuid===n&&Object.keys(e).map(k=>{switch(k){case"type":y.type=e.type;break;case"name":y.name=e.name;break;case"lock":y.lock=e.lock;break;case"visible":y.visible=e.visible;break;case"x":y.x=e.x;break;case"y":y.y=e.y;break;case"ox":y.ox=e.ox;break;case"oy":y.oy=e.oy;break;case"w":y.w=e.w;break;case"h":y.h=e.h;break;case"rotation":y.rotation=e.rotation;break;case"flipX":y.flipX=e.flipX;break;case"flipY":y.flipY=e.flipY;break;case"usedInCharacter":y.usedInCharacter=e.usedInCharacter;break;case"opacity":y.opacity=e.opacity;break;case"value":Object.keys(e.value).map($=>{if(y.value[$]=e.value[$],$==="points"){const{x:V,y:L,w:z,h:j}=getBound$4(e.value[$].reduce((re,oe)=>(re.push({x:oe.x,y:oe.y}),re),[]));y.x=V,y.y=L,y.w=z,y.h=j}});break}}),r.components=g}),emitter.emit("renderPreviewCanvasByUUIDOnEditing",editCharacterFileUUID.value)},addOrderedItemForCurrentCharacterFile=n=>{editCharacterFile.value.orderedList.push(n)},addOrderedItemForCharacterFile=(n,e)=>{const r=selectedFile.value;selectedItemByUUID(r.characterList,e).orderedList.push(n)},insertOrderedItemForCurrentCharacterFile=(n,e)=>{const r=editCharacterFile.value,g=(()=>{for(let y=0;y<r.orderedList.length;y++)if(r.orderedList[y].uuid===e.uuid)return y})();e.pos==="prev"&&r.orderedList.splice(g,0,n),e.pos==="next"&&r.orderedList.splice(g+1,0,n)},setOrderedListForCurrentCharacterFile=n=>{const e=editCharacterFile.value;e.orderedList=n},setClipBoard=n=>{clipBoard.value=n},setEditCharacterFileUUID=n=>{editCharacterFileUUID.value=n},addCharacterForCurrentFile=n=>{selectedFile.value.characterList.push(n)},removeCharacterForCurrentFile=n=>{const e=selectedFile.value.characterList;for(let r=0;r<e.length;r++)if(e[r].uuid===n){e.splice(r,1);return}},addComponentForCurrentCharacterFile=n=>{editCharacterFile.value.components.push(n),addOrderedItemForCurrentCharacterFile({type:"component",uuid:n.uuid}),setSelectionForCurrentCharacterFile(n.uuid)},addComponentsForCharacterFile=(n,e)=>{selectedFile.value.characterList.map(g=>{g.uuid===n&&e.forEach(y=>{g.components.push(y),addOrderedItemForCharacterFile({type:"component",uuid:y.uuid},n)})})},executeCharacterScript=n=>{if(window.character=new Character(n),constantsMap.update(constants.value),window.constantsMap=constantsMap,new Function(`${n.script}
script_${n.uuid.replaceAll("-","_")} (character, constantsMap, FP)`)(),window.character._character&&window.character._character.glyph_script){const r=Object.keys(window.character._character.glyph_script);for(let g=0;g<r.length;g++){const y=window.character._character.glyph_script[r[g]];new Function(`${y}`)()}}window.character._character?.components?.map(r=>{if(r.value.system_script){const g=Object.keys(r.value.system_script);for(let y=0;y<g.length;y++){const k=r.value.system_script[g[y]];window.comp_glyph=new CustomGlyph(r.value),new Function(`${k}`)(),window.comp_glyph=null}}})},executeCharactersGlyphsScript=n=>{const e=n.components;for(let r=0;r<e.length;r++){const g=e[r];if(g.type==="glyph"){const y=g.value;executeScript(y)}}},getCharacterRatioLayout=(n,e)=>{let r=null;if((n.type==="text"||n.type==="icon")&&n.info&&n.info.layoutTree){const g=e.split("-"),y=g.splice(g.length-1,1)[0],k=g.join("-");findLeafNodes(n.info?.layoutTree).map(V=>{V.id===k&&(r=V.rect[y])})}return r},findLeafNodes=n=>{const e=[],r=g=>{!g.children||g.children.length===0?e.push(g):g.children.forEach(y=>r(y))};return n.forEach(g=>r(g)),e},editCharacter=async n=>{loading$1.value=!0,total$1.value=0,await nextTick(),setTimeout(()=>{setEditCharacterFileUUID(n),setEditCharacterFileByUUID(editCharacterFileUUID.value),setPrevStatus(editStatus.value),setEditStatus(Status.Edit)},500)},deleteCharacter=(n,e)=>{n.stopPropagation(),removeCharacterForCurrentFile(e),deleteCharacterTemplate(e)},renameCharacter=(n,e)=>{n.stopPropagation(),editedCharacterUUID.value=e,setEditCharacterDialogVisible(!0)},copyCharacter=(n,e)=>{n.stopPropagation(),copiedCharacterUUID.value=e,setCopyCharacterDialogVisible(!0)},generateCharacterTemplate=n=>{const e=document.getElementById("character-template").querySelector(".character").cloneNode(!0);return e.className=`character character-${n.uuid}`,e.querySelector(".preview-canvas").id=`preview-canvas-${n.uuid}`,e.querySelector(".text").innerHTML=`${n.character.text}`,n.type==="text"&&(e.querySelector(".unicode").innerHTML=`0x${n.character.unicode.toString(16)}`),e.querySelector(".edit-icon").addEventListener("click",r=>renameCharacter(r,n.uuid)),e.querySelector(".copy-icon").addEventListener("click",r=>copyCharacter(r,n.uuid)),e.querySelector(".delete-icon").addEventListener("click",r=>deleteCharacter(r,n.uuid)),e.addEventListener("click",()=>editCharacter(n.uuid)),e},deleteCharacterTemplate=n=>{const e=document.getElementById("character-render-list"),r=e.querySelector(`.character-${n}`);e.removeChild(r)},addCharacterTemplate=n=>{const e=document.getElementById("character-render-list"),r=e.querySelector(".default-character");r&&e.insertBefore(n,r)},clearCharacterRenderList=()=>{const n=document.getElementById("character-render-list"),e=document.getElementById("default-character-template").querySelector(".default-character").cloneNode(!0);e.addEventListener("click",()=>setAddTextDialogVisible(!0)),n.innerHTML="",n.appendChild(e)},initEllipse=(n,e=!1)=>{let r=!1,g=!1,y=-1,k=-1,$=!1;const V=ae=>{saveState("",[StoreType.Ellipse,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),setEditing$2(!0),r=!0,y=getCoord(ae.offsetX),k=getCoord(ae.offsetY),getCoord(ae.offsetX),getCoord(ae.offsetY)},L=ae=>{if(!r)return;const de=getCoord(ae.offsetX),ue=getCoord(ae.offsetY);if(g=!0,r)if(!$)setRadiusX(Math.abs(de-y)/2),setRadiusY(Math.abs(ue-k)/2),de>=y&&ue>=k?(setEllipseX(y),setEllipseY(k)):de<=y&&ue<=k?(setEllipseX(de),setEllipseY(ue)):de>=y&&ue<=k?(setEllipseX(y),setEllipseY(ue)):(setEllipseX(de),setEllipseY(k));else{const pe=Math.max(Math.abs(de-y),Math.abs(ue-k))/2,he=Math.abs(de-y)>Math.abs(ue-k);setRadiusX(pe),setRadiusY(pe),de>=y&&ue>=k?(setEllipseX(y),setEllipseY(k)):de<=y&&ue<=k?(setEllipseX(y-2*pe),setEllipseY(k-2*pe)):de>=y&&ue<=k?he?(setEllipseX(y),setEllipseY(k-2*pe)):(setEllipseX(y),setEllipseY(ue)):he?(setEllipseX(de),setEllipseY(k)):(setEllipseX(y-2*pe),setEllipseY(k))}},z=ae=>{if(setEditing$2(!1),g){const de=genEllipseComponent(ellipseX.value,ellipseY.value,radiusX.value,radiusY.value);r=!1,g=!1,y=-1,k=-1,$=!1,setEllipseX(-1),setEllipseY(-1),setRadiusX(0),setRadiusY(0),saveState("",[StoreType.Ellipse,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{newRecord:!1}),e?addComponentForCurrentGlyph(de):addComponentForCurrentCharacterFile(de)}else r=!1,g=!1,y=-1,k=-1,$=!1,setEllipseX(-1),setEllipseY(-1),setRadiusX(0),setRadiusY(0)},j=ae=>{ae.key==="Shift"&&($=!0)},re=ae=>{ae.key==="Shift"&&($=!1)};return n.addEventListener("mousedown",V),window.addEventListener("mouseup",z),n.addEventListener("mousemove",L),window.addEventListener("keydown",j),window.addEventListener("keyup",re),()=>{n.removeEventListener("mousedown",V),n.removeEventListener("mousemove",L),window.removeEventListener("mouseup",z),window.removeEventListener("keydown",j),window.removeEventListener("keyup",re),setEditing$2(!1)}},renderEllipseEditor=(n,e=5)=>{const r=n.getContext("2d"),{x:g,y,w:k,h:$}=getBound$3(ellipseX.value,ellipseY.value,radiusX.value,radiusY.value),V=mapCanvasX(g),L=mapCanvasY(y),z=mapCanvasWidth(k),j=mapCanvasHeight($),re=mapCanvasWidth(radiusX.value),oe=mapCanvasWidth(radiusY.value);r.strokeStyle="#000",r.beginPath(),r.ellipse(V+re,L+oe,re,oe,0,0,2*Math.PI),r.closePath(),r.stroke(),r.strokeStyle="#79bbff",r.strokeRect(V,L,z,j),r.strokeRect(V-e,L-e,e*2,e*2),r.strokeRect(V+z-e,L-e,e*2,e*2),r.strokeRect(V-e,L+j-e,e*2,e*2),r.strokeRect(V+z-e,L+j-e,e*2,e*2)},getBound$3=(n,e,r,g)=>({x:n,y:e,w:2*r,h:2*g}),genEllipseComponent=(n,e,r,g)=>{let y=getEllipsePoints(r,g,1e3,n+r,e+g);const{x:k,y:$,w:V,h:L}=getBound$3(n,e,r,g),z=0,j=!1,re=!1;let oe={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(oe.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,oe.descender=selectedFile.value.fontSettings.descender,oe.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let ae=transformPoints(y,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const de=formatPoints(ae,oe,1),ue=genEllipseContour(de),pe=100/oe.unitsPerEm,he=ae.map($e=>Object.assign({},$e,{x:$e.x*pe,y:$e.y*pe})),xe=genEllipseContour(he);return{uuid:genUUID(),type:"ellipse",name:"ellipse",lock:!1,visible:!0,value:{radiusX:r,radiusY:g,fillColor:"",strokeColor:"#000",preview:xe,contour:ue},x:n,y:e,w:2*r,h:2*g,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},initRectangle=(n,e=!1)=>{let r=!1,g=!1,y=-1,k=-1,$=!1;const V=ae=>{saveState("",[StoreType.Rectangle,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),setEditing$3(!0),r=!0,y=getCoord(ae.offsetX),k=getCoord(ae.offsetY),getCoord(ae.offsetX),getCoord(ae.offsetY)},L=ae=>{if(!r)return;const de=getCoord(ae.offsetX),ue=getCoord(ae.offsetY);if(g=!0,r)if(!$)setRectWidth(Math.abs(de-y)),setRectHeight(Math.abs(ue-k)),de>=y&&ue>=k?(setRectX(y),setRectY(k)):de<=y&&ue<=k?(setRectX(de),setRectY(ue)):de>=y&&ue<=k?(setRectX(y),setRectY(ue)):(setRectX(de),setRectY(k));else{const pe=Math.max(Math.abs(de-y),Math.abs(ue-k)),he=Math.abs(de-y)>Math.abs(ue-k);setRectWidth(pe),setRectHeight(pe),de>=y&&ue>=k?(setRectX(y),setRectY(k)):de<=y&&ue<=k?(setRectX(y-pe),setRectY(k-pe)):de>=y&&ue<=k?he?(setRectX(y),setRectY(k-pe)):(setRectX(y),setRectY(ue)):he?(setRectX(de),setRectY(k)):(setRectX(y-pe),setRectY(k))}},z=ae=>{if(setEditing$3(!1),g){const de=genRectComponent(rectX.value,rectY.value,rectWidth.value,rectHeight.value);r=!1,g=!1,$=!1,y=-1,k=-1,setRectX(-1),setRectY(-1),setRectWidth(0),setRectWidth(0),saveState("",[StoreType.Rectangle,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{newRecord:!1}),e?addComponentForCurrentGlyph(de):addComponentForCurrentCharacterFile(de)}else r=!1,g=!1,$=!1,y=-1,k=-1,setRectX(-1),setRectY(-1),setRectWidth(0),setRectWidth(0)},j=ae=>{ae.key==="Shift"&&($=!0)},re=ae=>{ae.key==="Shift"&&($=!1)};return n.addEventListener("mousedown",V),window.addEventListener("mouseup",z),n.addEventListener("mousemove",L),window.addEventListener("keydown",j),window.addEventListener("keyup",re),()=>{n.removeEventListener("mousedown",V),window.removeEventListener("mouseup",z),n.removeEventListener("mousemove",L),window.removeEventListener("keydown",j),window.removeEventListener("keyup",re),setEditing$3(!1)}},renderRectangleEditor=(n,e=5)=>{const r=n.getContext("2d"),{x:g,y,w:k,h:$}=getBound$2(rectX.value,rectY.value,rectWidth.value,rectHeight.value),V=mapCanvasX(g),L=mapCanvasY(y),z=mapCanvasWidth(k),j=mapCanvasHeight($);r.strokeStyle="#000",r.strokeRect(V,L,z,j),r.strokeStyle="#79bbff",r.strokeRect(V,L,z,j),r.strokeRect(V-e,L-e,e*2,e*2),r.strokeRect(V+z-e,L-e,e*2,e*2),r.strokeRect(V-e,L+j-e,e*2,e*2),r.strokeRect(V+z-e,L+j-e,e*2,e*2)},getBound$2=(n,e,r,g)=>({x:n,y:e,w:r,h:g}),genRectComponent=(n,e,r,g)=>{const y=getRectanglePoints(r,g,n,e),{x:k,y:$,w:V,h:L}=getBound$2(n,e,r,g),z=0,j=!1,re=!1;let oe={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(oe.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,oe.descender=selectedFile.value.fontSettings.descender,oe.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let ae=transformPoints(y,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const de=formatPoints(ae,oe,1),ue=genRectangleContour(de),pe=100/oe.unitsPerEm,he=ae.map($e=>Object.assign({},$e,{x:$e.x*pe,y:$e.y*pe})),xe=genRectangleContour(he);return{uuid:genUUID(),type:"rectangle",name:"rectangle",lock:!1,visible:!0,value:{width:r,height:g,fillColor:"",strokeColor:"#000",preview:xe,contour:ue},x:n,y:e,w:r,h:g,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},initPolygon=(n,e=!1)=>{mousedown.value=!1,mousemove.value=!1;const r=5;let g=!1;const y=j=>{if(points.value.length||saveState("",[StoreType.Polygon,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),setEditing$4(!0),mousedown.value=!0,!points.value.length){const re={uuid:genUUID(),x:getCoord(j.offsetX),y:getCoord(j.offsetY)},oe=clone$1(points.value);oe.push(re),setPoints(oe)}},k=j=>{if(!points.value.length||!editing$6)return;const re=clone$1(points.value);if(!mousedown.value)if(mousemove.value){const oe=re[re.length-1];oe.x=getCoord(j.offsetX),oe.y=getCoord(j.offsetY),g=!1,isNearPoint(getCoord(j.offsetX),getCoord(j.offsetY),points.value[0].x,points.value[0].y,r)&&(oe.x=points.value[0].x,oe.y=points.value[0].y,g=!0),setPoints(re),mousemove.value=!0}else{saveState("",[StoreType.Polygon,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo);const oe={uuid:genUUID(),x:getCoord(j.offsetX),y:getCoord(j.offsetY)};re.push(oe),setPoints(re),mousemove.value=!0}},$=j=>{!points.value.length||!editing$6||(mousedown.value=!1,mousemove.value=!1,g&&(setEditing$4(!1),e?addComponentForCurrentGlyph(genPolygonComponent(clone$1(points.value),!0)):addComponentForCurrentCharacterFile(genPolygonComponent(clone$1(points.value),!0)),setPoints([]),g=!1))},V=j=>{const re=clone$1(points.value);if(points.value.length>=0){const oe={uuid:genUUID(),x:points[0].x,y:points[0].y};re.push(oe),setPoints(re)}setEditing$4(!1),e?addComponentForCurrentGlyph(genPolygonComponent(clone$1(points.value),!0)):addComponentForCurrentCharacterFile(genPolygonComponent(clone$1(points.value),!0)),setPoints([]),g=!1},L=j=>{j.code==="Enter"&&V()};return n.addEventListener("mousedown",y),window.addEventListener("mousemove",k),window.addEventListener("mouseup",$),window.addEventListener("keydown",L),()=>{n.removeEventListener("mousedown",y),window.removeEventListener("mouseup",$),window.removeEventListener("keydown",L),window.removeEventListener("mousemove",k),setEditing$4(!1),setPoints([]),g=!1}},renderPolygonEditor=(n,e)=>{const r=e.getContext("2d"),g=n.value.map(k=>mapCanvasCoords({x:k.x,y:k.y}));if(!g.length)return;const y=10;r.strokeStyle="#000",r.fillStyle="#000",r.beginPath(),r.moveTo(g[0].x,g[0].y);for(let k=1;k<g.length;k++)r.lineTo(g[k].x,g[k].y);r.stroke(),r.closePath();for(let k=0;k<g.length;k++)r.fillRect(g[k].x-y/2,g[k].y-y/2,y,y)},genPolygonComponent=(n,e)=>{const{x:r,y:g,w:y,h:k}=getBound$4(n.reduce((pe,he)=>(pe.push({x:he.x,y:he.y}),pe),[])),$=0,V=!1,L=!1;let z={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(z.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,z.descender=selectedFile.value.fontSettings.descender,z.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let j=transformPoints(n,{x:r,y:g,w:y,h:k,rotation:$,flipX:V,flipY:L});const re=formatPoints(j,z,1),oe=genPolygonContour(re),ae=100/z.unitsPerEm,de=j.map(pe=>Object.assign({},pe,{x:pe.x*ae,y:pe.y*ae})),ue=genPolygonContour(de);return{uuid:genUUID(),type:"polygon",name:"polygon",lock:!1,visible:!0,value:{points:n,fillColor:"",strokeColor:"#000",closePath:e,preview:ue,contour:oe},x:r,y:g,w:y,h:k,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},parseSvgPath=n=>{var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g($){var V=[];return $.replace(r,(L,z,j)=>{var re=z.toLowerCase();for(j=k(j),re=="m"&&j.length>2&&(V.push([z].concat(j.splice(0,2))),re="l",z=z=="m"?"l":"L");;){if(j.length==e[re])return j.unshift(z),V.push(j);if(j.length<e[re])throw new Error("malformed path data");V.push([z].concat(j.splice(0,e[re])))}}),V}var y=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function k($){var V=$.match(y);return V?V.map(Number):[]}return g(n)},parseStrToSvg=n=>new DOMParser().parseFromString(n,"image/svg+xml"),parseSvgToComponents=n=>{const e=n.childNodes.length;let r=[];for(let g=0;g<e;g++){const y=n.childNodes[g],k=y.tagName;if(k==="path"){const $=parseSvgPath(y.getAttribute("d")),V=parsePathCommandsToComponents($);r=r.concat(V)}if(k==="g"&&r.push(...parseSvgToComponents(y)),k==="ellipse"){const $=Number(y.getAttribute("cx")),V=Number(y.getAttribute("cy")),L=Number(y.getAttribute("rx")),z=Number(y.getAttribute("ry")),j=genEllipseComponent($,V,L,z);j.value.fillColor=y.getAttribute("fill")||"#000",j.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(j)}if(k==="rect"){const $=Number(y.getAttribute("x"))|0,V=Number(y.getAttribute("y"))|0,L=Number(y.getAttribute("width")),z=Number(y.getAttribute("height")),j=genRectComponent($,V,L,z);j.value.fillColor=y.getAttribute("fill")||"#000",j.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(j)}if(k==="line"){const $=Number(y.getAttribute("x1")),V=Number(y.getAttribute("y1")),L=Number(y.getAttribute("x2")),z=Number(y.getAttribute("y2")),j=[{x:$,y:V,uuid:genUUID()},{x:L,y:z,uuid:genUUID()}],re=genPolygonComponent(j,!1);re.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(re)}if(k==="polygon"){const $=y.getAttribute("points").split(" ").map(L=>{const z=L.split(",");return{uuid:genUUID(),x:Number(z[0]),y:Number(z[1])}});$.push(clone$1($[0]));const V=genPolygonComponent($,!0);V.value.fillColor=y.getAttribute("fill")||"#000",V.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(V)}if(k==="polyline"){const $=y.getAttribute("points").split(" ").map(z=>{const j=z.split(",");return{uuid:genUUID(),x:Number(j[0]),y:Number(j[1])}}),V=y.getAttribute("fill")!=="none";V&&$.push({uuid:genUUID(),x:$[0].x,y:$[0].y});const L=genPolygonComponent($,V);L.value.strokeColor=y.getAttribute("stroke")||"#000",L.value.fillColor=y.getAttribute("fill")||"#000",r.push(L)}if(k==="circle"){const $=Number(y.getAttribute("cx")),V=Number(y.getAttribute("cy")),L=Number(y.getAttribute("r")),j=genEllipseComponent($,V,L,L);j.value.fillColor=y.getAttribute("fill")||"#000",j.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(j)}}return r},parsePathCommandsToComponents=n=>{const e=[[]],r=[];if(!n.length||n[0][0]!=="M")return null;const g={x:n[0][1],y:n[0][2]},y={x:n[0][1],y:n[0][2]};e[0].push({uuid:genUUID(),x:g.x,y:g.y,type:"anchor",origin:null,isShow:!0});let k=!1,$=n.length,V=0;for(let L=1;L<$;L++){const z=n[L],j=z[0];if(j==="M"||j==="m"){if(k){y.x=e[V][0].x,y.y=e[V][0].y;const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}r.push(genPenComponent(e[V],k)),k=!1,y.x=j==="m"?g.x+z[1]:z[1],y.y=j==="m"?g.y+z[2]:z[2],V+=1,e[V]=[{uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0}]}else if(j==="Z"||j==="z")k=!0;else if(j==="L"||j==="l"){y.x=j==="l"?g.x+z[1]:z[1],y.y=j==="l"?g.y+z[2]:z[2];const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="H"||j==="h"){y.x=j==="h"?g.x+z[1]:z[1],y.y=j===g.y;const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="V"||j==="v"){y.x=j===g.x,y.y=j==="v"?g.y+z[1]:z[1];const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="C"||j==="c"){y.x=j==="c"?g.x+z[5]:z[5],y.y=j==="c"?g.y+z[6]:z[6];const re={uuid:genUUID(),x:j==="c"?g.x+z[1]:z[1],y:j==="c"?g.y+z[2]:z[2],type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:j==="c"?g.x+z[3]:z[3],y:j==="c"?g.y+z[4]:z[4],type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="S"||j==="s"){y.x=j==="s"?g.x+z[3]:z[3],y.y=j==="s"?g.y+z[4]:z[4];const re=n[L-1][0],oe={x:g.x,y:g.y};if(re.match(/[CcSsQqTt]/g)){const pe=e[V][e[V].length-2];oe.x=g.x+g.x-pe.x,oe.y=g.y+g.y-pe.y}const ae={uuid:genUUID(),x:oe.x,y:oe.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},de={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ue={uuid:genUUID(),x:j==="s"?g.x+z[1]:z[1],y:j==="s"?g.y+z[2]:z[2],type:"control",origin:de.uuid,isShow:!0};e[V].push(ae,ue,de)}if(j==="Q"||j==="q"){y.x=j==="q"?g.x+z[3]:z[3],y.y=j==="q"?g.y+z[4]:z[4];const re={uuid:genUUID(),x:j==="q"?g.x+z[1]:z[1],y:j==="q"?g.y+z[2]:z[2],type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:j==="q"?g.x+z[1]:z[1],y:j==="q"?g.y+z[2]:z[2],type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="T"||j==="t"){y.x=j==="t"?g.x+z[1]:z[1],y.y=j==="t"?g.y+z[2]:z[2];const re=n[L-1][0],oe={x:g.x,y:g.y};if(re.match(/[CcSsQqTt]/g)){const pe=e[V][e[V].length-2];oe.x=g.x+g.x-pe.x,oe.y=g.y+g.y-pe.y}const ae={uuid:genUUID(),x:oe.x,y:oe.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},de={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ue={uuid:genUUID(),x:oe.x,y:oe.y,type:"control",origin:de.uuid,isShow:!0};e[V].push(ae,ue,de)}if(j==="A"||j==="a"){const re=z[1],oe=z[2],ae=z[3]*Math.PI/180,de=z[4],ue=z[5];y.x=j==="a"?g.x+z[6]:z[6],y.y=j==="a"?g.y+z[7]:z[7],convertEllipsePathToBeziers(re,oe,ae,de,ue,g.x,g.y,y.x,y.y).forEach(he=>{const xe={uuid:genUUID(),x:he.cpx1,y:he.cpy1,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},$e={uuid:genUUID(),x:he.en2.x,y:he.en2.y,type:"anchor",origin:null,isShow:!0},Ne={uuid:genUUID(),x:he.cpx2,y:he.cpy2,type:"control",origin:$e.uuid,isShow:!0};e[V].push(xe,Ne,$e)})}g.x=y.x,g.y=y.y}if(k){y.x=e[V][0].x,y.y=e[V][0].y;const L={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},z={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},j={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:z.uuid,isShow:!0};e[V].push(L,j,z)}return r.push(genPenComponent(e[V],k)),r},componentsToSvg=(n,e,r,g="default",y={isSub:!1,ox:0,oy:0})=>{const{isSub:k,ox:$,oy:V}=y;let L=k?"":`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${e} ${r}">`,z=g==="contour"?"":"#000000";for(let j=0;j<n.length;j++){const re=n[j],{x:oe,y:ae,w:de,h:ue,rotation:pe}=re;if(re.type==="pen"){const{points:he,strokeColor:xe,closePath:$e}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const{x:Ne,y:Oe,w:_e,h:Fe}=getBound$4(he),Ue=oe-Ne,kt=ae-Oe,Lt=de/_e,wn=ue/Fe,Et=oe+de/2,xn=ae+ue/2;if(!he.length)continue;L+=`<path fill="${z}" stroke="${xe}" d="M ${he[0].x},${he[0].y} `;for(let jt=1;jt<he.length;jt+=3)L+=`C ${he[jt].x},${he[jt].y},${he[jt+1].x},${he[jt+1].y},${he[jt+2].x},${he[jt+2].y} `;$e&&(L+="z"),L+='" ',L+=`transform="translate(${Ue}, ${kt}) `,L+=`scale(${Lt}, ${wn}) `,L+=`rotate(${pe}, ${Et}, ${xn})"`,L+=" />"}else if(re.type==="polygon"){const{points:he,strokeColor:xe,closePath:$e}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const{x:Ne,y:Oe,w:_e,h:Fe}=getBound$4(he),Ue=oe-Ne,kt=ae-Oe,Lt=de/_e,wn=ue/Fe,Et=oe+de/2,xn=ae+ue/2;if(!he.length)continue;L+=`<path fill="${z}" stroke="${xe}" d="M ${he[0].x},${he[0].y} `;for(let jt=1;jt<he.length;jt++)L+=`L ${he[jt].x},${he[jt].y} `;$e&&(L+="z"),L+='" ',L+=`transform="translate(${Ue}, ${kt}) `,L+=`scale(${Lt}, ${wn}) `,L+=`rotate(${pe}, ${Et}, ${xn})"`,L+=" />"}else if(re.type==="ellipse"){const{radiusX:he,radiusY:xe,strokeColor:$e}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const Ne=he,Oe=xe,_e=de/(he*2),Fe=ue/(xe*2),Ue=oe+de/2,kt=ae+ue/2;L+=`<ellipse fill="${z}" stroke="${$e}" `,L+=`cx="${oe}" cy="${ae}" rx="${he}" ry="${xe}" `,L+=`transform="translate(${Ne}, ${Oe}) `,L+=`scale(${_e}, ${Fe}) `,L+=`rotate(${pe}, ${Ue}, ${kt})"`,L+=" />"}else if(re.type==="rectangle"){const{width:he,height:xe,strokeColor:$e}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const Ne=de/he,Oe=ue/xe,_e=oe+de/2,Fe=ae+ue/2;L+=`<rect fill="${z}" stroke="${$e}" `,L+=`x="${oe}" y="${ae}" width="${he}" height="${xe}" `,L+='transform="translate(0, 0) ',L+=`scale(${Ne}, ${Oe}) `,L+=`rotate(${pe}, ${_e}, ${Fe})"`,L+=" />"}else if(re.type==="glyph-pen"){const{points:he}=re,xe="#000";if(g==="default"&&(z="#000"),!he.length)continue;L+=`<path fill="${z}" stroke="${xe}" d="M ${he[0].x+$},${he[0].y+V} `;for(let $e=1;$e<he.length;$e+=3)L+=`C ${he[$e].x+$},${he[$e].y+V},${he[$e+1].x+$},${he[$e+1].y+V},${he[$e+2].x+$},${he[$e+2].y+V} `;L+="z",L+='"',L+=" />"}else if(re.type==="glyph-polygon"){const{points:he}=re,xe="#000";if(g==="default"&&(z="#000"),!he.length)continue;L+=`<path fill="${z}" stroke="${xe}" d="M ${he[0].x+$},${he[0].y+V} `;for(let $e=1;$e<he.length;$e++)L+=`L ${he[$e].x+$},${he[$e].y+V} `;L+="z",L+='"',L+=" />"}else if(re.type==="glyph-ellipse"){const{centerX:he,centerY:xe,radiusX:$e,radiusY:Ne}=re,Oe="#000";g==="default"&&(z="#000"),L+=`<ellipse fill="${z}" stroke="${Oe}" `,L+=`cx="${he+$}" cy="${xe+V}" rx="${$e}" ry="${Ne}"`,L+=" />"}else if(re.type==="glyph-rectangle"){const{x:he,y:xe,width:$e,height:Ne}=re,Oe="#000";g==="default"&&(z="#000"),L+=`<rect fill="${z}" stroke="${Oe}" `,L+=`x="${he+$}" y="${xe+V}" width="${$e}" height="${Ne}" `,L+="/>"}else if(re.type==="glyph"){const he=re.value;he._o||executeScript(he);const xe=componentsToSvg(he._o.components,e,r,g,{isSub:!0,ox:$+re.ox,oy:V+re.oy});L+=xe}}return!k&&(L+="</svg>"),L},convertEllipsePathToBeziers=(n,e,r,g,y,k,$,V,L)=>{const z=(oe,ae,de)=>Math.min(Math.max(oe,ae),de),j=(oe,ae,de,ue)=>{var pe=oe*de+ae*ue,he=Math.sqrt(oe*oe+ae*ae)*Math.sqrt(de*de+ue*ue),xe=Math.acos(z(pe/he,-1,1));return oe*ue-ae*de<0&&(xe=-xe),xe};return((oe,ae,de,ue,pe,he,xe,$e,Ne)=>{var Oe=Math.abs(oe),_e=Math.abs(ae),Fe=(he-$e)/2,Ue=(xe-Ne)/2,kt=Math.cos(de)*Fe+Math.sin(de)*Ue,Lt=-Math.sin(de)*Fe+Math.cos(de)*Ue,wn=Oe*Oe,Et=_e*_e,xn=kt*kt,jt=Lt*Lt,An=xn/wn+jt/Et;if(An>1){var Dn=Math.sqrt(An);Oe=Dn*Oe,_e=Dn*_e,wn=Oe*Oe,Et=_e*_e}var En=wn*jt+Et*xn,Bn=(wn*Et-En)/En,$n=Math.sqrt(Math.max(0,Bn));ue===pe&&($n=-$n);for(var Wn=$n*Oe*Lt/_e,Gn=-$n*_e*kt/Oe,Nn=Math.cos(de)*Wn-Math.sin(de)*Gn+(he+$e)/2,Zn=Math.sin(de)*Wn+Math.cos(de)*Gn+(xe+Ne)/2,Hn=j(1,0,(kt-Wn)/Oe,(Lt-Gn)/_e),rr=j((kt-Wn)/Oe,(Lt-Gn)/_e,(-kt-Wn)/Oe,(-Lt-Gn)/_e);rr>Math.PI*2;)rr-=Math.PI*2;for(;rr<0;)rr+=Math.PI*2;pe||(rr-=2*Math.PI);var Xn=Hn,Pn=Hn+rr;const jn=Jn=>{var Tn=Nn+oe*Math.cos(de)*Math.cos(Jn)-ae*Math.sin(de)*Math.sin(Jn),Dt=Zn+oe*Math.sin(de)*Math.cos(Jn)+ae*Math.cos(de)*Math.sin(Jn);return{x:Tn,y:Dt}},fr=Jn=>{var Tn=-1*oe*Math.cos(de)*Math.sin(Jn)-ae*Math.sin(de)*Math.cos(Jn),Dt=-1*oe*Math.sin(de)*Math.sin(Jn)+ae*Math.cos(de)*Math.cos(Jn);return{x:Tn,y:Dt}};var yr=[];yr.push(Xn);for(var Cr=Math.PI/4;yr[yr.length-1]+Cr<Pn;)yr.push(yr[yr.length-1]+Cr);if(Pn>Xn)for(;yr[yr.length-1]+Cr<Pn;)yr.push(yr[yr.length-1]+Cr);else for(;yr[yr.length-1]-Cr>Pn;)yr.push(yr[yr.length-1]-Cr);yr.push(Pn);const sr=(Jn,Tn)=>{var Dt=jn(Jn),hn=jn(Tn),Vn=fr(Jn),Kn=fr(Tn),ar=Math.sin(Tn-Jn)*(Math.sqrt(4+3*Math.pow(Math.tan((Tn-Jn)/2),2))-1)/3;return{cpx1:Dt.x+ar*Vn.x,cpy1:Dt.y+ar*Vn.y,cpx2:hn.x-ar*Kn.x,cpy2:hn.y-ar*Kn.y,en1:Dt,en2:hn}};for(var zn=[],vn=0;vn<yr.length-1;vn++)zn.push(sr(yr[vn],yr[vn+1]));return zn})(n,e,r,g,y,k,$,V,L)},toPixels=n=>{const e=document.createElement("canvas"),r=e.getContext("2d");return e.width=n.width,e.height=n.height,r?.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),r?.getImageData(0,0,e.width,e.height).data},reversePixels=(n,e,r)=>{const g=document.createElement("canvas"),y=g.getContext("2d");g.width=e,g.height=r;for(let $=0;$<e;$++)for(let V=0;V<r;V++){const L=(V*e+$)*4;y.fillStyle=`rgba(${255-n[L]}, ${255-n[L+1]}, ${255-n[L+2]}, ${255-n[L+3]})`,y.fillRect($,V,1,1)}return{pixels:y?.getImageData(0,0,g.width,g.height).data,canvas:g}},toBlackWhiteBitMap=(n,e,r)=>{const g=clone$1(n),{x:y,y:k,width:$,height:V,size:L}=r;let z=L,j=L;L<0&&(z=$,j=V);for(let re=y;re<y+z;re++)for(let oe=k;oe<k+j;oe++){if(re>$||re<0||oe>V||oe<0)continue;const{r:ae,g:de,b:ue,a:pe}={r:n[(oe*$+re)*4],g:n[(oe*$+re)*4+1],b:n[(oe*$+re)*4+2],a:n[(oe*$+re)*4+3]};ae>e.r||de>e.g||ue>e.b?(g[(oe*$+re)*4]=255,g[(oe*$+re)*4+1]=255,g[(oe*$+re)*4+2]=255,g[(oe*$+re)*4+3]=1):(g[(oe*$+re)*4]=0,g[(oe*$+re)*4+1]=0,g[(oe*$+re)*4+2]=0,g[(oe*$+re)*4+3]=1)}return g};/*!
  * shared v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=(n,e=!1)=>e?Symbol.for(n):Symbol(n),generateFormatCacheKey=(n,e,r)=>friendlyJSONstringify({l:n,k:e,s:r}),friendlyJSONstringify=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber=n=>typeof n=="number"&&isFinite(n),isDate=n=>toTypeString(n)==="[object Date]",isRegExp=n=>toTypeString(n)==="[object RegExp]",isEmptyObject=n=>isPlainObject(n)&&Object.keys(n).length===0,assign$1=Object.assign;let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function escapeHtml(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(n,e){return hasOwnProperty.call(n,e)}const isArray=Array.isArray,isFunction=n=>typeof n=="function",isString$1=n=>typeof n=="string",isBoolean=n=>typeof n=="boolean",isObject$1=n=>n!==null&&typeof n=="object",objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),isPlainObject=n=>{if(!isObject$1(n))return!1;const e=Object.getPrototypeOf(n);return e===null||e.constructor===Object},toDisplayString=n=>n==null?"":isArray(n)||isPlainObject(n)&&n.toString===objectToString?JSON.stringify(n,null,2):String(n);function join$1(n,e=""){return n.reduce((r,g,y)=>y===0?r+g:r+e+g,"")}function incrementer(n){let e=n;return()=>++e}function warn(n,e){typeof console<"u"&&(console.warn("[intlify] "+n),e&&console.warn(e.stack))}/*!
  * message-compiler v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(n,e,r){return{line:n,column:e,offset:r}}function createLocation(n,e,r){const g={start:n,end:e};return r!=null&&(g.source=r),g}const RE_ARGS=/\{([0-9a-zA-Z]+)\}/g;function format$1(n,...e){return e.length===1&&isObject(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),n.replace(RE_ARGS,(r,g)=>e.hasOwnProperty(g)?e[g]:"")}const assign=Object.assign,isString=n=>typeof n=="string",isObject=n=>n!==null&&typeof n=="object";function join(n,e=""){return n.reduce((r,g,y)=>y===0?r+g:r+e+g,"")}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},errorMessages={[CompileErrorCodes.EXPECTED_TOKEN]:"Expected token: '{0}'",[CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[CompileErrorCodes.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[CompileErrorCodes.EMPTY_PLACEHOLDER]:"Empty placeholder",[CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[CompileErrorCodes.INVALID_LINKED_FORMAT]:"Invalid linked format",[CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function createCompileError(n,e,r={}){const{domain:g,messages:y,args:k}=r,$=format$1((y||errorMessages)[n]||"",...k||[]),V=new SyntaxError(String($));return V.code=n,e&&(V.location=e),V.domain=g,V}function defaultOnError(n){throw n}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(n){const e=n;let r=0,g=1,y=1,k=0;const $=Fe=>e[Fe]===CHAR_CR&&e[Fe+1]===CHAR_LF,V=Fe=>e[Fe]===CHAR_LF,L=Fe=>e[Fe]===CHAR_PS,z=Fe=>e[Fe]===CHAR_LS,j=Fe=>$(Fe)||V(Fe)||L(Fe)||z(Fe),re=()=>r,oe=()=>g,ae=()=>y,de=()=>k,ue=Fe=>$(Fe)||L(Fe)||z(Fe)?CHAR_LF:e[Fe],pe=()=>ue(r),he=()=>ue(r+k);function xe(){return k=0,j(r)&&(g++,y=0),$(r)&&r++,r++,y++,e[r]}function $e(){return $(r+k)&&k++,k++,e[r+k]}function Ne(){r=0,g=1,y=1,k=0}function Oe(Fe=0){k=Fe}function _e(){const Fe=r+k;for(;Fe!==r;)xe();k=0}return{index:re,line:oe,column:ae,peekOffset:de,charAt:ue,currentChar:pe,currentPeek:he,next:xe,peek:$e,reset:Ne,resetPeek:Oe,skipToPeek:_e}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(n,e={}){const r=e.location!==!1,g=createScanner(n),y=()=>g.index(),k=()=>createPosition(g.line(),g.column(),g.index()),$=k(),V=y(),L={currentType:14,offset:V,startLoc:$,endLoc:$,lastType:14,lastOffset:V,lastStartLoc:$,lastEndLoc:$,braceNest:0,inLinked:!1,text:""},z=()=>L,{onError:j}=e;function re(zn,vn,Jn,...Tn){const Dt=z();if(vn.column+=Jn,vn.offset+=Jn,j){const hn=r?createLocation(Dt.startLoc,vn):null,Vn=createCompileError(zn,hn,{domain:ERROR_DOMAIN$3,args:Tn});j(Vn)}}function oe(zn,vn,Jn){zn.endLoc=k(),zn.currentType=vn;const Tn={type:vn};return r&&(Tn.loc=createLocation(zn.startLoc,zn.endLoc)),Jn!=null&&(Tn.value=Jn),Tn}const ae=zn=>oe(zn,14);function de(zn,vn){return zn.currentChar()===vn?(zn.next(),vn):(re(CompileErrorCodes.EXPECTED_TOKEN,k(),0,vn),"")}function ue(zn){let vn="";for(;zn.currentPeek()===CHAR_SP||zn.currentPeek()===CHAR_LF;)vn+=zn.currentPeek(),zn.peek();return vn}function pe(zn){const vn=ue(zn);return zn.skipToPeek(),vn}function he(zn){if(zn===EOF)return!1;const vn=zn.charCodeAt(0);return vn>=97&&vn<=122||vn>=65&&vn<=90||vn===95}function xe(zn){if(zn===EOF)return!1;const vn=zn.charCodeAt(0);return vn>=48&&vn<=57}function $e(zn,vn){const{currentType:Jn}=vn;if(Jn!==2)return!1;ue(zn);const Tn=he(zn.currentPeek());return zn.resetPeek(),Tn}function Ne(zn,vn){const{currentType:Jn}=vn;if(Jn!==2)return!1;ue(zn);const Tn=zn.currentPeek()==="-"?zn.peek():zn.currentPeek(),Dt=xe(Tn);return zn.resetPeek(),Dt}function Oe(zn,vn){const{currentType:Jn}=vn;if(Jn!==2)return!1;ue(zn);const Tn=zn.currentPeek()===LITERAL_DELIMITER;return zn.resetPeek(),Tn}function _e(zn,vn){const{currentType:Jn}=vn;if(Jn!==8)return!1;ue(zn);const Tn=zn.currentPeek()===".";return zn.resetPeek(),Tn}function Fe(zn,vn){const{currentType:Jn}=vn;if(Jn!==9)return!1;ue(zn);const Tn=he(zn.currentPeek());return zn.resetPeek(),Tn}function Ue(zn,vn){const{currentType:Jn}=vn;if(!(Jn===8||Jn===12))return!1;ue(zn);const Tn=zn.currentPeek()===":";return zn.resetPeek(),Tn}function kt(zn,vn){const{currentType:Jn}=vn;if(Jn!==10)return!1;const Tn=()=>{const hn=zn.currentPeek();return hn==="{"?he(zn.peek()):hn==="@"||hn==="%"||hn==="|"||hn===":"||hn==="."||hn===CHAR_SP||!hn?!1:hn===CHAR_LF?(zn.peek(),Tn()):he(hn)},Dt=Tn();return zn.resetPeek(),Dt}function Lt(zn){ue(zn);const vn=zn.currentPeek()==="|";return zn.resetPeek(),vn}function wn(zn){const vn=ue(zn),Jn=zn.currentPeek()==="%"&&zn.peek()==="{";return zn.resetPeek(),{isModulo:Jn,hasSpace:vn.length>0}}function Et(zn,vn=!0){const Jn=(Dt=!1,hn="",Vn=!1)=>{const Kn=zn.currentPeek();return Kn==="{"?hn==="%"?!1:Dt:Kn==="@"||!Kn?hn==="%"?!0:Dt:Kn==="%"?(zn.peek(),Jn(Dt,"%",!0)):Kn==="|"?hn==="%"||Vn?!0:!(hn===CHAR_SP||hn===CHAR_LF):Kn===CHAR_SP?(zn.peek(),Jn(!0,CHAR_SP,Vn)):Kn===CHAR_LF?(zn.peek(),Jn(!0,CHAR_LF,Vn)):!0},Tn=Jn();return vn&&zn.resetPeek(),Tn}function xn(zn,vn){const Jn=zn.currentChar();return Jn===EOF?EOF:vn(Jn)?(zn.next(),Jn):null}function jt(zn){return xn(zn,Jn=>{const Tn=Jn.charCodeAt(0);return Tn>=97&&Tn<=122||Tn>=65&&Tn<=90||Tn>=48&&Tn<=57||Tn===95||Tn===36})}function An(zn){return xn(zn,Jn=>{const Tn=Jn.charCodeAt(0);return Tn>=48&&Tn<=57})}function Dn(zn){return xn(zn,Jn=>{const Tn=Jn.charCodeAt(0);return Tn>=48&&Tn<=57||Tn>=65&&Tn<=70||Tn>=97&&Tn<=102})}function En(zn){let vn="",Jn="";for(;vn=An(zn);)Jn+=vn;return Jn}function Bn(zn){pe(zn);const vn=zn.currentChar();return vn!=="%"&&re(CompileErrorCodes.EXPECTED_TOKEN,k(),0,vn),zn.next(),"%"}function $n(zn){let vn="";for(;;){const Jn=zn.currentChar();if(Jn==="{"||Jn==="}"||Jn==="@"||Jn==="|"||!Jn)break;if(Jn==="%")if(Et(zn))vn+=Jn,zn.next();else break;else if(Jn===CHAR_SP||Jn===CHAR_LF)if(Et(zn))vn+=Jn,zn.next();else{if(Lt(zn))break;vn+=Jn,zn.next()}else vn+=Jn,zn.next()}return vn}function Wn(zn){pe(zn);let vn="",Jn="";for(;vn=jt(zn);)Jn+=vn;return zn.currentChar()===EOF&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),Jn}function Gn(zn){pe(zn);let vn="";return zn.currentChar()==="-"?(zn.next(),vn+=`-${En(zn)}`):vn+=En(zn),zn.currentChar()===EOF&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),vn}function Nn(zn){pe(zn),de(zn,"'");let vn="",Jn="";const Tn=hn=>hn!==LITERAL_DELIMITER&&hn!==CHAR_LF;for(;vn=xn(zn,Tn);)vn==="\\"?Jn+=Zn(zn):Jn+=vn;const Dt=zn.currentChar();return Dt===CHAR_LF||Dt===EOF?(re(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,k(),0),Dt===CHAR_LF&&(zn.next(),de(zn,"'")),Jn):(de(zn,"'"),Jn)}function Zn(zn){const vn=zn.currentChar();switch(vn){case"\\":case"'":return zn.next(),`\\${vn}`;case"u":return Hn(zn,vn,4);case"U":return Hn(zn,vn,6);default:return re(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,k(),0,vn),""}}function Hn(zn,vn,Jn){de(zn,vn);let Tn="";for(let Dt=0;Dt<Jn;Dt++){const hn=Dn(zn);if(!hn){re(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,k(),0,`\\${vn}${Tn}${zn.currentChar()}`);break}Tn+=hn}return`\\${vn}${Tn}`}function rr(zn){pe(zn);let vn="",Jn="";const Tn=Dt=>Dt!=="{"&&Dt!=="}"&&Dt!==CHAR_SP&&Dt!==CHAR_LF;for(;vn=xn(zn,Tn);)Jn+=vn;return Jn}function Xn(zn){let vn="",Jn="";for(;vn=jt(zn);)Jn+=vn;return Jn}function Pn(zn){const vn=(Jn=!1,Tn)=>{const Dt=zn.currentChar();return Dt==="{"||Dt==="%"||Dt==="@"||Dt==="|"||Dt==="("||Dt===")"||!Dt||Dt===CHAR_SP?Tn:Dt===CHAR_LF||Dt===DOT?(Tn+=Dt,zn.next(),vn(Jn,Tn)):(Tn+=Dt,zn.next(),vn(!0,Tn))};return vn(!1,"")}function jn(zn){pe(zn);const vn=de(zn,"|");return pe(zn),vn}function fr(zn,vn){let Jn=null;switch(zn.currentChar()){case"{":return vn.braceNest>=1&&re(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,k(),0),zn.next(),Jn=oe(vn,2,"{"),pe(zn),vn.braceNest++,Jn;case"}":return vn.braceNest>0&&vn.currentType===2&&re(CompileErrorCodes.EMPTY_PLACEHOLDER,k(),0),zn.next(),Jn=oe(vn,3,"}"),vn.braceNest--,vn.braceNest>0&&pe(zn),vn.inLinked&&vn.braceNest===0&&(vn.inLinked=!1),Jn;case"@":return vn.braceNest>0&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),Jn=yr(zn,vn)||ae(vn),vn.braceNest=0,Jn;default:let Dt=!0,hn=!0,Vn=!0;if(Lt(zn))return vn.braceNest>0&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),Jn=oe(vn,1,jn(zn)),vn.braceNest=0,vn.inLinked=!1,Jn;if(vn.braceNest>0&&(vn.currentType===5||vn.currentType===6||vn.currentType===7))return re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),vn.braceNest=0,Cr(zn,vn);if(Dt=$e(zn,vn))return Jn=oe(vn,5,Wn(zn)),pe(zn),Jn;if(hn=Ne(zn,vn))return Jn=oe(vn,6,Gn(zn)),pe(zn),Jn;if(Vn=Oe(zn,vn))return Jn=oe(vn,7,Nn(zn)),pe(zn),Jn;if(!Dt&&!hn&&!Vn)return Jn=oe(vn,13,rr(zn)),re(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,k(),0,Jn.value),pe(zn),Jn;break}return Jn}function yr(zn,vn){const{currentType:Jn}=vn;let Tn=null;const Dt=zn.currentChar();switch((Jn===8||Jn===9||Jn===12||Jn===10)&&(Dt===CHAR_LF||Dt===CHAR_SP)&&re(CompileErrorCodes.INVALID_LINKED_FORMAT,k(),0),Dt){case"@":return zn.next(),Tn=oe(vn,8,"@"),vn.inLinked=!0,Tn;case".":return pe(zn),zn.next(),oe(vn,9,".");case":":return pe(zn),zn.next(),oe(vn,10,":");default:return Lt(zn)?(Tn=oe(vn,1,jn(zn)),vn.braceNest=0,vn.inLinked=!1,Tn):_e(zn,vn)||Ue(zn,vn)?(pe(zn),yr(zn,vn)):Fe(zn,vn)?(pe(zn),oe(vn,12,Xn(zn))):kt(zn,vn)?(pe(zn),Dt==="{"?fr(zn,vn)||Tn:oe(vn,11,Pn(zn))):(Jn===8&&re(CompileErrorCodes.INVALID_LINKED_FORMAT,k(),0),vn.braceNest=0,vn.inLinked=!1,Cr(zn,vn))}}function Cr(zn,vn){let Jn={type:14};if(vn.braceNest>0)return fr(zn,vn)||ae(vn);if(vn.inLinked)return yr(zn,vn)||ae(vn);switch(zn.currentChar()){case"{":return fr(zn,vn)||ae(vn);case"}":return re(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,k(),0),zn.next(),oe(vn,3,"}");case"@":return yr(zn,vn)||ae(vn);default:if(Lt(zn))return Jn=oe(vn,1,jn(zn)),vn.braceNest=0,vn.inLinked=!1,Jn;const{isModulo:Dt,hasSpace:hn}=wn(zn);if(Dt)return hn?oe(vn,0,$n(zn)):oe(vn,4,Bn(zn));if(Et(zn))return oe(vn,0,$n(zn));break}return Jn}function sr(){const{currentType:zn,offset:vn,startLoc:Jn,endLoc:Tn}=L;return L.lastType=zn,L.lastOffset=vn,L.lastStartLoc=Jn,L.lastEndLoc=Tn,L.offset=y(),L.startLoc=k(),g.currentChar()===EOF?oe(L,14):Cr(g,L)}return{nextToken:sr,currentOffset:y,currentPosition:k,context:z}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(n,e,r){switch(n){case"\\\\":return"\\";case"\\'":return"'";default:{const g=parseInt(e||r,16);return g<=55295||g>=57344?String.fromCodePoint(g):""}}}function createParser(n={}){const e=n.location!==!1,{onError:r}=n;function g(he,xe,$e,Ne,...Oe){const _e=he.currentPosition();if(_e.offset+=Ne,_e.column+=Ne,r){const Fe=e?createLocation($e,_e):null,Ue=createCompileError(xe,Fe,{domain:ERROR_DOMAIN$2,args:Oe});r(Ue)}}function y(he,xe,$e){const Ne={type:he};return e&&(Ne.start=xe,Ne.end=xe,Ne.loc={start:$e,end:$e}),Ne}function k(he,xe,$e,Ne){Ne&&(he.type=Ne),e&&(he.end=xe,he.loc&&(he.loc.end=$e))}function $(he,xe){const $e=he.context(),Ne=y(3,$e.offset,$e.startLoc);return Ne.value=xe,k(Ne,he.currentOffset(),he.currentPosition()),Ne}function V(he,xe){const $e=he.context(),{lastOffset:Ne,lastStartLoc:Oe}=$e,_e=y(5,Ne,Oe);return _e.index=parseInt(xe,10),he.nextToken(),k(_e,he.currentOffset(),he.currentPosition()),_e}function L(he,xe){const $e=he.context(),{lastOffset:Ne,lastStartLoc:Oe}=$e,_e=y(4,Ne,Oe);return _e.key=xe,he.nextToken(),k(_e,he.currentOffset(),he.currentPosition()),_e}function z(he,xe){const $e=he.context(),{lastOffset:Ne,lastStartLoc:Oe}=$e,_e=y(9,Ne,Oe);return _e.value=xe.replace(KNOWN_ESCAPES,fromEscapeSequence),he.nextToken(),k(_e,he.currentOffset(),he.currentPosition()),_e}function j(he){const xe=he.nextToken(),$e=he.context(),{lastOffset:Ne,lastStartLoc:Oe}=$e,_e=y(8,Ne,Oe);return xe.type!==12?(g(he,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,$e.lastStartLoc,0),_e.value="",k(_e,Ne,Oe),{nextConsumeToken:xe,node:_e}):(xe.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$e.lastStartLoc,0,getTokenCaption(xe)),_e.value=xe.value||"",k(_e,he.currentOffset(),he.currentPosition()),{node:_e})}function re(he,xe){const $e=he.context(),Ne=y(7,$e.offset,$e.startLoc);return Ne.value=xe,k(Ne,he.currentOffset(),he.currentPosition()),Ne}function oe(he){const xe=he.context(),$e=y(6,xe.offset,xe.startLoc);let Ne=he.nextToken();if(Ne.type===9){const Oe=j(he);$e.modifier=Oe.node,Ne=Oe.nextConsumeToken||he.nextToken()}switch(Ne.type!==10&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(Ne)),Ne=he.nextToken(),Ne.type===2&&(Ne=he.nextToken()),Ne.type){case 11:Ne.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(Ne)),$e.key=re(he,Ne.value||"");break;case 5:Ne.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(Ne)),$e.key=L(he,Ne.value||"");break;case 6:Ne.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(Ne)),$e.key=V(he,Ne.value||"");break;case 7:Ne.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(Ne)),$e.key=z(he,Ne.value||"");break;default:g(he,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,xe.lastStartLoc,0);const Oe=he.context(),_e=y(7,Oe.offset,Oe.startLoc);return _e.value="",k(_e,Oe.offset,Oe.startLoc),$e.key=_e,k($e,Oe.offset,Oe.startLoc),{nextConsumeToken:Ne,node:$e}}return k($e,he.currentOffset(),he.currentPosition()),{node:$e}}function ae(he){const xe=he.context(),$e=xe.currentType===1?he.currentOffset():xe.offset,Ne=xe.currentType===1?xe.endLoc:xe.startLoc,Oe=y(2,$e,Ne);Oe.items=[];let _e=null;do{const kt=_e||he.nextToken();switch(_e=null,kt.type){case 0:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(kt)),Oe.items.push($(he,kt.value||""));break;case 6:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(kt)),Oe.items.push(V(he,kt.value||""));break;case 5:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(kt)),Oe.items.push(L(he,kt.value||""));break;case 7:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(kt)),Oe.items.push(z(he,kt.value||""));break;case 8:const Lt=oe(he);Oe.items.push(Lt.node),_e=Lt.nextConsumeToken||null;break}}while(xe.currentType!==14&&xe.currentType!==1);const Fe=xe.currentType===1?xe.lastOffset:he.currentOffset(),Ue=xe.currentType===1?xe.lastEndLoc:he.currentPosition();return k(Oe,Fe,Ue),Oe}function de(he,xe,$e,Ne){const Oe=he.context();let _e=Ne.items.length===0;const Fe=y(1,xe,$e);Fe.cases=[],Fe.cases.push(Ne);do{const Ue=ae(he);_e||(_e=Ue.items.length===0),Fe.cases.push(Ue)}while(Oe.currentType!==14);return _e&&g(he,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,$e,0),k(Fe,he.currentOffset(),he.currentPosition()),Fe}function ue(he){const xe=he.context(),{offset:$e,startLoc:Ne}=xe,Oe=ae(he);return xe.currentType===14?Oe:de(he,$e,Ne,Oe)}function pe(he){const xe=createTokenizer(he,assign({},n)),$e=xe.context(),Ne=y(0,$e.offset,$e.startLoc);return e&&Ne.loc&&(Ne.loc.source=he),Ne.body=ue(xe),n.onCacheKey&&(Ne.cacheKey=n.onCacheKey(he)),$e.currentType!==14&&g(xe,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$e.lastStartLoc,0,he[$e.offset]||""),k(Ne,xe.currentOffset(),xe.currentPosition()),Ne}return{parse:pe}}function getTokenCaption(n){if(n.type===14)return"EOF";const e=(n.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function createTransformer(n,e={}){const r={ast:n,helpers:new Set};return{context:()=>r,helper:k=>(r.helpers.add(k),k)}}function traverseNodes(n,e){for(let r=0;r<n.length;r++)traverseNode(n[r],e)}function traverseNode(n,e){switch(n.type){case 1:traverseNodes(n.cases,e),e.helper("plural");break;case 2:traverseNodes(n.items,e);break;case 6:traverseNode(n.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function transform(n,e={}){const r=createTransformer(n);r.helper("normalize"),n.body&&traverseNode(n.body,r);const g=r.context();n.helpers=Array.from(g.helpers)}function optimize(n){const e=n.body;return e.type===2?optimizeMessageNode(e):e.cases.forEach(r=>optimizeMessageNode(r)),n}function optimizeMessageNode(n){if(n.items.length===1){const e=n.items[0];(e.type===3||e.type===9)&&(n.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<n.items.length;r++){const g=n.items[r];if(!(g.type===3||g.type===9)||g.value==null)break;e.push(g.value)}if(e.length===n.items.length){n.static=join(e);for(let r=0;r<n.items.length;r++){const g=n.items[r];(g.type===3||g.type===9)&&delete g.value}}}}const ERROR_DOMAIN$1="minifier";function minify(n){switch(n.t=n.type,n.type){case 0:const e=n;minify(e.body),e.b=e.body,delete e.body;break;case 1:const r=n,g=r.cases;for(let j=0;j<g.length;j++)minify(g[j]);r.c=g,delete r.cases;break;case 2:const y=n,k=y.items;for(let j=0;j<k.length;j++)minify(k[j]);y.i=k,delete y.items,y.static&&(y.s=y.static,delete y.static);break;case 3:case 9:case 8:case 7:const $=n;$.value&&($.v=$.value,delete $.value);break;case 6:const V=n;minify(V.key),V.k=V.key,delete V.key,V.modifier&&(minify(V.modifier),V.m=V.modifier,delete V.modifier);break;case 5:const L=n;L.i=L.index,delete L.index;break;case 4:const z=n;z.k=z.key,delete z.key;break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ERROR_DOMAIN$1,args:[n.type]})}delete n.type}const ERROR_DOMAIN="parser";function createCodeGenerator(n,e){const{sourceMap:r,filename:g,breakLineCode:y,needIndent:k}=e,$=e.location!==!1,V={filename:g,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:y,needIndent:k,indentLevel:0};$&&n.loc&&(V.source=n.loc.source);const L=()=>V;function z(pe,he){V.code+=pe}function j(pe,he=!0){const xe=he?y:"";z(k?xe+"  ".repeat(pe):xe)}function re(pe=!0){const he=++V.indentLevel;pe&&j(he)}function oe(pe=!0){const he=--V.indentLevel;pe&&j(he)}function ae(){j(V.indentLevel)}return{context:L,push:z,indent:re,deindent:oe,newline:ae,helper:pe=>`_${pe}`,needIndent:()=>V.needIndent}}function generateLinkedNode(n,e){const{helper:r}=n;n.push(`${r("linked")}(`),generateNode(n,e.key),e.modifier?(n.push(", "),generateNode(n,e.modifier),n.push(", _type")):n.push(", undefined, _type"),n.push(")")}function generateMessageNode(n,e){const{helper:r,needIndent:g}=n;n.push(`${r("normalize")}([`),n.indent(g());const y=e.items.length;for(let k=0;k<y&&(generateNode(n,e.items[k]),k!==y-1);k++)n.push(", ");n.deindent(g()),n.push("])")}function generatePluralNode(n,e){const{helper:r,needIndent:g}=n;if(e.cases.length>1){n.push(`${r("plural")}([`),n.indent(g());const y=e.cases.length;for(let k=0;k<y&&(generateNode(n,e.cases[k]),k!==y-1);k++)n.push(", ");n.deindent(g()),n.push("])")}}function generateResource(n,e){e.body?generateNode(n,e.body):n.push("null")}function generateNode(n,e){const{helper:r}=n;switch(e.type){case 0:generateResource(n,e);break;case 1:generatePluralNode(n,e);break;case 2:generateMessageNode(n,e);break;case 6:generateLinkedNode(n,e);break;case 8:n.push(JSON.stringify(e.value),e);break;case 7:n.push(JSON.stringify(e.value),e);break;case 5:n.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:n.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:n.push(JSON.stringify(e.value),e);break;case 3:n.push(JSON.stringify(e.value),e);break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ERROR_DOMAIN,args:[e.type]})}}const generate=(n,e={})=>{const r=isString(e.mode)?e.mode:"normal",g=isString(e.filename)?e.filename:"message.intl",y=!!e.sourceMap,k=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,$=e.needIndent?e.needIndent:r!=="arrow",V=n.helpers||[],L=createCodeGenerator(n,{mode:r,filename:g,sourceMap:y,breakLineCode:k,needIndent:$});L.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),L.indent($),V.length>0&&(L.push(`const { ${join(V.map(re=>`${re}: _${re}`),", ")} } = ctx`),L.newline()),L.push("return "),generateNode(L,n),L.deindent($),L.push("}"),delete n.helpers;const{code:z,map:j}=L.context();return{ast:n,code:z,map:j?j.toJSON():void 0}};function baseCompile$1(n,e={}){const r=assign({},e),g=!!r.jit,y=!!r.minify,k=r.optimize==null?!0:r.optimize,V=createParser(r).parse(n);return g?(k&&optimize(V),y&&minify(V),{ast:V,code:""}):(transform(V,r),generate(V,r))}/*!
  * core-base v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]};pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]};pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]};pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(n){return literalValueRE.test(n)}function stripQuotes(n){const e=n.charCodeAt(0),r=n.charCodeAt(n.length-1);return e===r&&(e===34||e===39)?n.slice(1,-1):n}function getPathCharType(n){if(n==null)return"o";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(n){const e=n.trim();return n.charAt(0)==="0"&&isNaN(parseInt(n))?!1:isLiteral(e)?stripQuotes(e):"*"+e}function parse$2(n){const e=[];let r=-1,g=0,y=0,k,$,V,L,z,j,re;const oe=[];oe[0]=()=>{$===void 0?$=V:$+=V},oe[1]=()=>{$!==void 0&&(e.push($),$=void 0)},oe[2]=()=>{oe[0](),y++},oe[3]=()=>{if(y>0)y--,g=4,oe[0]();else{if(y=0,$===void 0||($=formatSubPath($),$===!1))return!1;oe[1]()}};function ae(){const de=n[r+1];if(g===5&&de==="'"||g===6&&de==='"')return r++,V="\\"+de,oe[0](),!0}for(;g!==null;)if(r++,k=n[r],!(k==="\\"&&ae())){if(L=getPathCharType(k),re=pathStateMachine[g],z=re[L]||re.l||8,z===8||(g=z[0],z[1]!==void 0&&(j=oe[z[1]],j&&(V=k,j()===!1))))return;if(g===7)return e}}const cache$1=new Map;function resolveWithKeyValue(n,e){return isObject$1(n)?n[e]:null}function resolveValue(n,e){if(!isObject$1(n))return null;let r=cache$1.get(e);if(r||(r=parse$2(e),r&&cache$1.set(e,r)),!r)return null;const g=r.length;let y=n,k=0;for(;k<g;){const $=y[r[k]];if($===void 0)return null;y=$,k++}return y}const DEFAULT_MODIFIER=n=>n,DEFAULT_MESSAGE=n=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=n=>n.length===0?"":join$1(n),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(n,e){return n=Math.abs(n),e===2?n?n>1?1:0:1:n?Math.min(n,2):0}function getPluralIndex(n){const e=isNumber(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(isNumber(n.named.count)||isNumber(n.named.n))?isNumber(n.named.count)?n.named.count:isNumber(n.named.n)?n.named.n:e:e}function normalizeNamed(n,e){e.count||(e.count=n),e.n||(e.n=n)}function createMessageContext(n={}){const e=n.locale,r=getPluralIndex(n),g=isObject$1(n.pluralRules)&&isString$1(e)&&isFunction(n.pluralRules[e])?n.pluralRules[e]:pluralDefault,y=isObject$1(n.pluralRules)&&isString$1(e)&&isFunction(n.pluralRules[e])?pluralDefault:void 0,k=he=>he[g(r,he.length,y)],$=n.list||[],V=he=>$[he],L=n.named||{};isNumber(n.pluralIndex)&&normalizeNamed(r,L);const z=he=>L[he];function j(he){const xe=isFunction(n.messages)?n.messages(he):isObject$1(n.messages)?n.messages[he]:!1;return xe||(n.parent?n.parent.message(he):DEFAULT_MESSAGE)}const re=he=>n.modifiers?n.modifiers[he]:DEFAULT_MODIFIER,oe=isPlainObject(n.processor)&&isFunction(n.processor.normalize)?n.processor.normalize:DEFAULT_NORMALIZE,ae=isPlainObject(n.processor)&&isFunction(n.processor.interpolate)?n.processor.interpolate:DEFAULT_INTERPOLATE,de=isPlainObject(n.processor)&&isString$1(n.processor.type)?n.processor.type:DEFAULT_MESSAGE_DATA_TYPE,pe={list:V,named:z,plural:k,linked:(he,...xe)=>{const[$e,Ne]=xe;let Oe="text",_e="";xe.length===1?isObject$1($e)?(_e=$e.modifier||_e,Oe=$e.type||Oe):isString$1($e)&&(_e=$e||_e):xe.length===2&&(isString$1($e)&&(_e=$e||_e),isString$1(Ne)&&(Oe=Ne||Oe));const Fe=j(he)(pe),Ue=Oe==="vnode"&&isArray(Fe)&&_e?Fe[0]:Fe;return _e?re(_e)(Ue,Oe):Ue},message:j,type:de,interpolate:ae,normalize:oe,values:assign$1({},$,L)};return pe}let devtools=null;function setDevToolsHook(n){devtools=n}function initI18nDevTools(n,e,r){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:n,version:e,meta:r})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(n){return e=>devtools&&devtools.emit(n,e)}const CoreWarnCodes={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function fallbackWithSimple(n,e,r){return[...new Set([r,...isArray(e)?e:isObject$1(e)?Object.keys(e):isString$1(e)?[e]:[r]])]}function fallbackWithLocaleChain(n,e,r){const g=isString$1(r)?r:DEFAULT_LOCALE,y=n;y.__localeChainCache||(y.__localeChainCache=new Map);let k=y.__localeChainCache.get(g);if(!k){k=[];let $=[r];for(;isArray($);)$=appendBlockToChain(k,$,e);const V=isArray(e)||!isPlainObject(e)?e:e.default?e.default:null;$=isString$1(V)?[V]:V,isArray($)&&appendBlockToChain(k,$,!1),y.__localeChainCache.set(g,k)}return k}function appendBlockToChain(n,e,r){let g=!0;for(let y=0;y<e.length&&isBoolean(g);y++){const k=e[y];isString$1(k)&&(g=appendLocaleToChain(n,e[y],r))}return g}function appendLocaleToChain(n,e,r){let g;const y=e.split("-");do{const k=y.join("-");g=appendItemToChain(n,k,r),y.splice(-1,1)}while(y.length&&g===!0);return g}function appendItemToChain(n,e,r){let g=!1;if(!n.includes(e)&&(g=!0,e)){g=e[e.length-1]!=="!";const y=e.replace(/!/g,"");n.push(y),(isArray(r)||isPlainObject(r))&&r[y]&&(g=r[y])}return g}const VERSION$1="9.4.1",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(n,e)=>e==="text"&&isString$1(n)?n.toUpperCase():e==="vnode"&&isObject$1(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,e)=>e==="text"&&isString$1(n)?n.toLowerCase():e==="vnode"&&isObject$1(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,e)=>e==="text"&&isString$1(n)?capitalize(n):e==="vnode"&&isObject$1(n)&&"__v_isVNode"in n?capitalize(n.children):n}}let _compiler;function registerMessageCompiler(n){_compiler=n}let _resolver;function registerMessageResolver(n){_resolver=n}let _fallbacker;function registerLocaleFallbacker(n){_fallbacker=n}let _additionalMeta=null;const setAdditionalMeta=n=>{_additionalMeta=n},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=n=>{_fallbackContext=n},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(n={}){const e=isFunction(n.onWarn)?n.onWarn:warn,r=isString$1(n.version)?n.version:VERSION$1,g=isString$1(n.locale)?n.locale:DEFAULT_LOCALE,y=isArray(n.fallbackLocale)||isPlainObject(n.fallbackLocale)||isString$1(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:g,k=isPlainObject(n.messages)?n.messages:{[g]:{}},$=isPlainObject(n.datetimeFormats)?n.datetimeFormats:{[g]:{}},V=isPlainObject(n.numberFormats)?n.numberFormats:{[g]:{}},L=assign$1({},n.modifiers||{},getDefaultLinkedModifiers()),z=n.pluralRules||{},j=isFunction(n.missing)?n.missing:null,re=isBoolean(n.missingWarn)||isRegExp(n.missingWarn)?n.missingWarn:!0,oe=isBoolean(n.fallbackWarn)||isRegExp(n.fallbackWarn)?n.fallbackWarn:!0,ae=!!n.fallbackFormat,de=!!n.unresolving,ue=isFunction(n.postTranslation)?n.postTranslation:null,pe=isPlainObject(n.processor)?n.processor:null,he=isBoolean(n.warnHtmlMessage)?n.warnHtmlMessage:!0,xe=!!n.escapeParameter,$e=isFunction(n.messageCompiler)?n.messageCompiler:_compiler,Ne=isFunction(n.messageResolver)?n.messageResolver:_resolver||resolveWithKeyValue,Oe=isFunction(n.localeFallbacker)?n.localeFallbacker:_fallbacker||fallbackWithSimple,_e=isObject$1(n.fallbackContext)?n.fallbackContext:void 0,Fe=n,Ue=isObject$1(Fe.__datetimeFormatters)?Fe.__datetimeFormatters:new Map,kt=isObject$1(Fe.__numberFormatters)?Fe.__numberFormatters:new Map,Lt=isObject$1(Fe.__meta)?Fe.__meta:{};_cid++;const wn={version:r,cid:_cid,locale:g,fallbackLocale:y,messages:k,modifiers:L,pluralRules:z,missing:j,missingWarn:re,fallbackWarn:oe,fallbackFormat:ae,unresolving:de,postTranslation:ue,processor:pe,warnHtmlMessage:he,escapeParameter:xe,messageCompiler:$e,messageResolver:Ne,localeFallbacker:Oe,fallbackContext:_e,onWarn:e,__meta:Lt};return wn.datetimeFormats=$,wn.numberFormats=V,wn.__datetimeFormatters=Ue,wn.__numberFormatters=kt,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(wn,r,Lt),wn}function handleMissing(n,e,r,g,y){const{missing:k,onWarn:$}=n;if(k!==null){const V=k(n,r,e,y);return isString$1(V)?V:e}else return e}function updateFallbackLocale(n,e,r){const g=n;g.__localeChainCache=new Map,n.localeFallbacker(n,r,e)}function format(n){return r=>formatParts(r,n)}function formatParts(n,e){const r=e.b||e.body;if((r.t||r.type)===1){const g=r,y=g.c||g.cases;return n.plural(y.reduce((k,$)=>[...k,formatMessageParts(n,$)],[]))}else return formatMessageParts(n,r)}function formatMessageParts(n,e){const r=e.s||e.static;if(r)return n.type==="text"?r:n.normalize([r]);{const g=(e.i||e.items).reduce((y,k)=>[...y,formatMessagePart(n,k)],[]);return n.normalize(g)}}function formatMessagePart(n,e){const r=e.t||e.type;switch(r){case 3:const g=e;return g.v||g.value;case 9:const y=e;return y.v||y.value;case 4:const k=e;return n.interpolate(n.named(k.k||k.key));case 5:const $=e;return n.interpolate(n.list($.i||$.index));case 6:const V=e,L=V.m||V.modifier;return n.linked(formatMessagePart(n,V.k||V.key),L?formatMessagePart(n,L):void 0,n.type);case 7:const z=e;return z.v||z.value;case 8:const j=e;return j.v||j.value;default:throw new Error(`unhandled node type on format message part: ${r}`)}}const code$3=CompileErrorCodes.__EXTEND_POINT__,inc$2=incrementer(code$3),CoreErrorCodes={INVALID_ARGUMENT:code$3,INVALID_DATE_ARGUMENT:inc$2(),INVALID_ISO_DATE_ARGUMENT:inc$2(),NOT_SUPPORT_NON_STRING_MESSAGE:inc$2(),__EXTEND_POINT__:inc$2()};function createCoreError(n){return createCompileError(n,null,void 0)}const defaultOnCacheKey=n=>n;let compileCache=Object.create(null);const isMessageAST=n=>isObject$1(n)&&(n.t===0||n.type===0)&&("b"in n||"body"in n);function baseCompile(n,e={}){let r=!1;const g=e.onError||defaultOnError;return e.onError=y=>{r=!0,g(y)},{...baseCompile$1(n,e),detectError:r}}const compileToFunction=(n,e)=>{if(!isString$1(n))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE);{isBoolean(e.warnHtmlMessage)&&e.warnHtmlMessage;const g=(e.onCacheKey||defaultOnCacheKey)(n),y=compileCache[g];if(y)return y;const{code:k,detectError:$}=baseCompile(n,e),V=new Function(`return ${k}`)();return $?V:compileCache[g]=V}};function compile(n,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(n)){isBoolean(e.warnHtmlMessage)&&e.warnHtmlMessage;const g=(e.onCacheKey||defaultOnCacheKey)(n),y=compileCache[g];if(y)return y;const{ast:k,detectError:$}=baseCompile(n,{...e,location:!1,jit:!0}),V=format(k);return $?V:compileCache[g]=V}else{const r=n.cacheKey;if(r){const g=compileCache[r];return g||(compileCache[r]=format(n))}else return format(n)}}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=n=>isFunction(n);function translate(n,...e){const{fallbackFormat:r,postTranslation:g,unresolving:y,messageCompiler:k,fallbackLocale:$,messages:V}=n,[L,z]=parseTranslateArgs(...e),j=isBoolean(z.missingWarn)?z.missingWarn:n.missingWarn,re=isBoolean(z.fallbackWarn)?z.fallbackWarn:n.fallbackWarn,oe=isBoolean(z.escapeParameter)?z.escapeParameter:n.escapeParameter,ae=!!z.resolvedMessage,de=isString$1(z.default)||isBoolean(z.default)?isBoolean(z.default)?k?L:()=>L:z.default:r?k?L:()=>L:"",ue=r||de!=="",pe=isString$1(z.locale)?z.locale:n.locale;oe&&escapeParams(z);let[he,xe,$e]=ae?[L,pe,V[pe]||{}]:resolveMessageFormat(n,L,pe,$,re,j),Ne=he,Oe=L;if(!ae&&!(isString$1(Ne)||isMessageAST(Ne)||isMessageFunction(Ne))&&ue&&(Ne=de,Oe=Ne),!ae&&(!(isString$1(Ne)||isMessageAST(Ne)||isMessageFunction(Ne))||!isString$1(xe)))return y?NOT_REOSLVED:L;let _e=!1;const Fe=()=>{_e=!0},Ue=isMessageFunction(Ne)?Ne:compileMessageFormat(n,L,xe,Ne,Oe,Fe);if(_e)return Ne;const kt=getMessageContextOptions(n,xe,$e,z),Lt=createMessageContext(kt),wn=evaluateMessage(n,Ue,Lt),Et=g?g(wn,L):wn;if(__INTLIFY_PROD_DEVTOOLS__){const xn={timestamp:Date.now(),key:isString$1(L)?L:isMessageFunction(Ne)?Ne.key:"",locale:xe||(isMessageFunction(Ne)?Ne.locale:""),format:isString$1(Ne)?Ne:isMessageFunction(Ne)?Ne.source:"",message:Et};xn.meta=assign$1({},n.__meta,getAdditionalMeta()||{}),translateDevTools(xn)}return Et}function escapeParams(n){isArray(n.list)?n.list=n.list.map(e=>isString$1(e)?escapeHtml(e):e):isObject$1(n.named)&&Object.keys(n.named).forEach(e=>{isString$1(n.named[e])&&(n.named[e]=escapeHtml(n.named[e]))})}function resolveMessageFormat(n,e,r,g,y,k){const{messages:$,onWarn:V,messageResolver:L,localeFallbacker:z}=n,j=z(n,g,r);let re={},oe,ae=null;const de="translate";for(let ue=0;ue<j.length&&(oe=j[ue],re=$[oe]||{},(ae=L(re,e))===null&&(ae=re[e]),!(isString$1(ae)||isMessageAST(ae)||isMessageFunction(ae)));ue++){const pe=handleMissing(n,e,oe,k,de);pe!==e&&(ae=pe)}return[ae,oe,re]}function compileMessageFormat(n,e,r,g,y,k){const{messageCompiler:$,warnHtmlMessage:V}=n;if(isMessageFunction(g)){const z=g;return z.locale=z.locale||r,z.key=z.key||e,z}if($==null){const z=()=>g;return z.locale=r,z.key=e,z}const L=$(g,getCompileContext(n,r,y,g,V,k));return L.locale=r,L.key=e,L.source=g,L}function evaluateMessage(n,e,r){return e(r)}function parseTranslateArgs(...n){const[e,r,g]=n,y={};if(!isString$1(e)&&!isNumber(e)&&!isMessageFunction(e)&&!isMessageAST(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const k=isNumber(e)?String(e):(isMessageFunction(e),e);return isNumber(r)?y.plural=r:isString$1(r)?y.default=r:isPlainObject(r)&&!isEmptyObject(r)?y.named=r:isArray(r)&&(y.list=r),isNumber(g)?y.plural=g:isString$1(g)?y.default=g:isPlainObject(g)&&assign$1(y,g),[k,y]}function getCompileContext(n,e,r,g,y,k){return{locale:e,key:r,warnHtmlMessage:y,onError:$=>{throw k&&k($),$},onCacheKey:$=>generateFormatCacheKey(e,r,$)}}function getMessageContextOptions(n,e,r,g){const{modifiers:y,pluralRules:k,messageResolver:$,fallbackLocale:V,fallbackWarn:L,missingWarn:z,fallbackContext:j}=n,oe={locale:e,modifiers:y,pluralRules:k,messages:ae=>{let de=$(r,ae);if(de==null&&j){const[,,ue]=resolveMessageFormat(j,ae,e,V,L,z);de=$(ue,ae)}if(isString$1(de)||isMessageAST(de)){let ue=!1;const he=compileMessageFormat(n,ae,e,de,ae,()=>{ue=!0});return ue?NOOP_MESSAGE_FUNCTION:he}else return isMessageFunction(de)?de:NOOP_MESSAGE_FUNCTION}};return n.processor&&(oe.processor=n.processor),g.list&&(oe.list=g.list),g.named&&(oe.named=g.named),isNumber(g.plural)&&(oe.pluralIndex=g.plural),oe}function datetime(n,...e){const{datetimeFormats:r,unresolving:g,fallbackLocale:y,onWarn:k,localeFallbacker:$}=n,{__datetimeFormatters:V}=n,[L,z,j,re]=parseDateTimeArgs(...e),oe=isBoolean(j.missingWarn)?j.missingWarn:n.missingWarn;isBoolean(j.fallbackWarn)?j.fallbackWarn:n.fallbackWarn;const ae=!!j.part,de=isString$1(j.locale)?j.locale:n.locale,ue=$(n,y,de);if(!isString$1(L)||L==="")return new Intl.DateTimeFormat(de,re).format(z);let pe={},he,xe=null;const $e="datetime format";for(let _e=0;_e<ue.length&&(he=ue[_e],pe=r[he]||{},xe=pe[L],!isPlainObject(xe));_e++)handleMissing(n,L,he,oe,$e);if(!isPlainObject(xe)||!isString$1(he))return g?NOT_REOSLVED:L;let Ne=`${he}__${L}`;isEmptyObject(re)||(Ne=`${Ne}__${JSON.stringify(re)}`);let Oe=V.get(Ne);return Oe||(Oe=new Intl.DateTimeFormat(he,assign$1({},xe,re)),V.set(Ne,Oe)),ae?Oe.formatToParts(z):Oe.format(z)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...n){const[e,r,g,y]=n,k={};let $={},V;if(isString$1(e)){const L=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!L)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const z=L[3]?L[3].trim().startsWith("T")?`${L[1].trim()}${L[3].trim()}`:`${L[1].trim()}T${L[3].trim()}`:L[1].trim();V=new Date(z);try{V.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate(e)){if(isNaN(e.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);V=e}else if(isNumber(e))V=e;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(r)?k.key=r:isPlainObject(r)&&Object.keys(r).forEach(L=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(L)?$[L]=r[L]:k[L]=r[L]}),isString$1(g)?k.locale=g:isPlainObject(g)&&($=g),isPlainObject(y)&&($=y),[k.key||"",V,k,$]}function clearDateTimeFormat(n,e,r){const g=n;for(const y in r){const k=`${e}__${y}`;g.__datetimeFormatters.has(k)&&g.__datetimeFormatters.delete(k)}}function number$1(n,...e){const{numberFormats:r,unresolving:g,fallbackLocale:y,onWarn:k,localeFallbacker:$}=n,{__numberFormatters:V}=n,[L,z,j,re]=parseNumberArgs(...e),oe=isBoolean(j.missingWarn)?j.missingWarn:n.missingWarn;isBoolean(j.fallbackWarn)?j.fallbackWarn:n.fallbackWarn;const ae=!!j.part,de=isString$1(j.locale)?j.locale:n.locale,ue=$(n,y,de);if(!isString$1(L)||L==="")return new Intl.NumberFormat(de,re).format(z);let pe={},he,xe=null;const $e="number format";for(let _e=0;_e<ue.length&&(he=ue[_e],pe=r[he]||{},xe=pe[L],!isPlainObject(xe));_e++)handleMissing(n,L,he,oe,$e);if(!isPlainObject(xe)||!isString$1(he))return g?NOT_REOSLVED:L;let Ne=`${he}__${L}`;isEmptyObject(re)||(Ne=`${Ne}__${JSON.stringify(re)}`);let Oe=V.get(Ne);return Oe||(Oe=new Intl.NumberFormat(he,assign$1({},xe,re)),V.set(Ne,Oe)),ae?Oe.formatToParts(z):Oe.format(z)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...n){const[e,r,g,y]=n,k={};let $={};if(!isNumber(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const V=e;return isString$1(r)?k.key=r:isPlainObject(r)&&Object.keys(r).forEach(L=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(L)?$[L]=r[L]:k[L]=r[L]}),isString$1(g)?k.locale=g:isPlainObject(g)&&($=g),isPlainObject(y)&&($=y),[k.key||"",V,k,$]}function clearNumberFormat(n,e,r){const g=n;for(const y in r){const k=`${e}__${y}`;g.__numberFormatters.has(k)&&g.__numberFormatters.delete(k)}}initFeatureFlags$1();/*!
  * vue-i18n v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION="9.4.1";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const code$1=CoreWarnCodes.__EXTEND_POINT__,inc$1=incrementer(code$1);inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1();const code$2=CoreErrorCodes.__EXTEND_POINT__,inc=incrementer(code$2),I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code$2,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSTALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSTALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(n,...e){return createCompileError(n,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(n){if(!isObject$1(n))return n;for(const e in n)if(hasOwn(n,e))if(!e.includes("."))isObject$1(n[e])&&handleFlatJson(n[e]);else{const r=e.split("."),g=r.length-1;let y=n,k=!1;for(let $=0;$<g;$++){if(r[$]in y||(y[r[$]]={}),!isObject$1(y[r[$]])){k=!0;break}y=y[r[$]]}k||(y[r[g]]=n[e],delete n[e]),isObject$1(y[r[g]])&&handleFlatJson(y[r[g]])}return n}function getLocaleMessages(n,e){const{messages:r,__i18n:g,messageResolver:y,flatJson:k}=e,$=isPlainObject(r)?r:isArray(g)?{}:{[n]:{}};if(isArray(g)&&g.forEach(V=>{if("locale"in V&&"resource"in V){const{locale:L,resource:z}=V;L?($[L]=$[L]||{},deepCopy(z,$[L])):deepCopy(z,$)}else isString$1(V)&&deepCopy(JSON.parse(V),$)}),y==null&&k)for(const V in $)hasOwn($,V)&&handleFlatJson($[V]);return $}const isNotObjectOrIsArray=n=>!isObject$1(n)||isArray(n);function deepCopy(n,e){if(isNotObjectOrIsArray(n)||isNotObjectOrIsArray(e))throw createI18nError(I18nErrorCodes.INVALID_VALUE);for(const r in n)hasOwn(n,r)&&(isNotObjectOrIsArray(n[r])||isNotObjectOrIsArray(e[r])?e[r]=n[r]:deepCopy(n[r],e[r]))}function getComponentOptions(n){return n.type}function adjustI18nResources(n,e,r){let g=isObject$1(e.messages)?e.messages:{};"__i18nGlobal"in r&&(g=getLocaleMessages(n.locale.value,{messages:g,__i18n:r.__i18nGlobal}));const y=Object.keys(g);y.length&&y.forEach(k=>{n.mergeLocaleMessage(k,g[k])});{if(isObject$1(e.datetimeFormats)){const k=Object.keys(e.datetimeFormats);k.length&&k.forEach($=>{n.mergeDateTimeFormat($,e.datetimeFormats[$])})}if(isObject$1(e.numberFormats)){const k=Object.keys(e.numberFormats);k.length&&k.forEach($=>{n.mergeNumberFormat($,e.numberFormats[$])})}}}function createTextNode(n){return createVNode(Text$2,null,n,0)}const DEVTOOLS_META="__INTLIFY_META__";let composerID=0;function defineCoreMissingHandler(n){return(e,r,g,y)=>n(r,g,getCurrentInstance()||void 0,y)}const getMetaInfo=()=>{const n=getCurrentInstance();let e=null;return n&&(e=getComponentOptions(n)[DEVTOOLS_META])?{[DEVTOOLS_META]:e}:null};function createComposer(n={},e){const{__root:r,__injectWithOption:g}=n,y=r===void 0;let k=isBoolean(n.inheritLocale)?n.inheritLocale:!0;const $=ref(r&&k?r.locale.value:isString$1(n.locale)?n.locale:DEFAULT_LOCALE),V=ref(r&&k?r.fallbackLocale.value:isString$1(n.fallbackLocale)||isArray(n.fallbackLocale)||isPlainObject(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:$.value),L=ref(getLocaleMessages($.value,n)),z=ref(isPlainObject(n.datetimeFormats)?n.datetimeFormats:{[$.value]:{}}),j=ref(isPlainObject(n.numberFormats)?n.numberFormats:{[$.value]:{}});let re=r?r.missingWarn:isBoolean(n.missingWarn)||isRegExp(n.missingWarn)?n.missingWarn:!0,oe=r?r.fallbackWarn:isBoolean(n.fallbackWarn)||isRegExp(n.fallbackWarn)?n.fallbackWarn:!0,ae=r?r.fallbackRoot:isBoolean(n.fallbackRoot)?n.fallbackRoot:!0,de=!!n.fallbackFormat,ue=isFunction(n.missing)?n.missing:null,pe=isFunction(n.missing)?defineCoreMissingHandler(n.missing):null,he=isFunction(n.postTranslation)?n.postTranslation:null,xe=r?r.warnHtmlMessage:isBoolean(n.warnHtmlMessage)?n.warnHtmlMessage:!0,$e=!!n.escapeParameter;const Ne=r?r.modifiers:isPlainObject(n.modifiers)?n.modifiers:{};let Oe=n.pluralRules||r&&r.pluralRules,_e;_e=(()=>{y&&setFallbackContext(null);const cr={version:VERSION,locale:$.value,fallbackLocale:V.value,messages:L.value,modifiers:Ne,pluralRules:Oe,missing:pe===null?void 0:pe,missingWarn:re,fallbackWarn:oe,fallbackFormat:de,unresolving:!0,postTranslation:he===null?void 0:he,warnHtmlMessage:xe,escapeParameter:$e,messageResolver:n.messageResolver,messageCompiler:n.messageCompiler,__meta:{framework:"vue"}};cr.datetimeFormats=z.value,cr.numberFormats=j.value,cr.__datetimeFormatters=isPlainObject(_e)?_e.__datetimeFormatters:void 0,cr.__numberFormatters=isPlainObject(_e)?_e.__numberFormatters:void 0;const mr=createCoreContext(cr);return y&&setFallbackContext(mr),mr})(),updateFallbackLocale(_e,$.value,V.value);function Ue(){return[$.value,V.value,L.value,z.value,j.value]}const kt=computed({get:()=>$.value,set:cr=>{$.value=cr,_e.locale=$.value}}),Lt=computed({get:()=>V.value,set:cr=>{V.value=cr,_e.fallbackLocale=V.value,updateFallbackLocale(_e,$.value,cr)}}),wn=computed(()=>L.value),Et=computed(()=>z.value),xn=computed(()=>j.value);function jt(){return isFunction(he)?he:null}function An(cr){he=cr,_e.postTranslation=cr}function Dn(){return ue}function En(cr){cr!==null&&(pe=defineCoreMissingHandler(cr)),ue=cr,_e.missing=pe}const Bn=(cr,mr,ur,le,Ce,Ie)=>{Ue();let ze;try{__INTLIFY_PROD_DEVTOOLS__&&setAdditionalMeta(getMetaInfo()),y||(_e.fallbackContext=r?getFallbackContext():void 0),ze=cr(_e)}finally{__INTLIFY_PROD_DEVTOOLS__&&setAdditionalMeta(null),y||(_e.fallbackContext=void 0)}if(isNumber(ze)&&ze===NOT_REOSLVED){const[qe,Pt]=mr();return r&&ae?le(r):Ce(qe)}else{if(Ie(ze))return ze;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function $n(...cr){return Bn(mr=>Reflect.apply(translate,null,[mr,...cr]),()=>parseTranslateArgs(...cr),"translate",mr=>Reflect.apply(mr.t,mr,[...cr]),mr=>mr,mr=>isString$1(mr))}function Wn(...cr){const[mr,ur,le]=cr;if(le&&!isObject$1(le))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return $n(mr,ur,assign$1({resolvedMessage:!0},le||{}))}function Gn(...cr){return Bn(mr=>Reflect.apply(datetime,null,[mr,...cr]),()=>parseDateTimeArgs(...cr),"datetime format",mr=>Reflect.apply(mr.d,mr,[...cr]),()=>MISSING_RESOLVE_VALUE,mr=>isString$1(mr))}function Nn(...cr){return Bn(mr=>Reflect.apply(number$1,null,[mr,...cr]),()=>parseNumberArgs(...cr),"number format",mr=>Reflect.apply(mr.n,mr,[...cr]),()=>MISSING_RESOLVE_VALUE,mr=>isString$1(mr))}function Zn(cr){return cr.map(mr=>isString$1(mr)||isNumber(mr)||isBoolean(mr)?createTextNode(String(mr)):mr)}const rr={normalize:Zn,interpolate:cr=>cr,type:"vnode"};function Xn(...cr){return Bn(mr=>{let ur;const le=mr;try{le.processor=rr,ur=Reflect.apply(translate,null,[le,...cr])}finally{le.processor=null}return ur},()=>parseTranslateArgs(...cr),"translate",mr=>mr[TranslateVNodeSymbol](...cr),mr=>[createTextNode(mr)],mr=>isArray(mr))}function Pn(...cr){return Bn(mr=>Reflect.apply(number$1,null,[mr,...cr]),()=>parseNumberArgs(...cr),"number format",mr=>mr[NumberPartsSymbol](...cr),()=>[],mr=>isString$1(mr)||isArray(mr))}function jn(...cr){return Bn(mr=>Reflect.apply(datetime,null,[mr,...cr]),()=>parseDateTimeArgs(...cr),"datetime format",mr=>mr[DatetimePartsSymbol](...cr),()=>[],mr=>isString$1(mr)||isArray(mr))}function fr(cr){Oe=cr,_e.pluralRules=Oe}function yr(cr,mr){const ur=isString$1(mr)?mr:$.value,le=zn(ur);return _e.messageResolver(le,cr)!==null}function Cr(cr){let mr=null;const ur=fallbackWithLocaleChain(_e,V.value,$.value);for(let le=0;le<ur.length;le++){const Ce=L.value[ur[le]]||{},Ie=_e.messageResolver(Ce,cr);if(Ie!=null){mr=Ie;break}}return mr}function sr(cr){const mr=Cr(cr);return mr??(r?r.tm(cr)||{}:{})}function zn(cr){return L.value[cr]||{}}function vn(cr,mr){L.value[cr]=mr,_e.messages=L.value}function Jn(cr,mr){L.value[cr]=L.value[cr]||{},deepCopy(mr,L.value[cr]),_e.messages=L.value}function Tn(cr){return z.value[cr]||{}}function Dt(cr,mr){z.value[cr]=mr,_e.datetimeFormats=z.value,clearDateTimeFormat(_e,cr,mr)}function hn(cr,mr){z.value[cr]=assign$1(z.value[cr]||{},mr),_e.datetimeFormats=z.value,clearDateTimeFormat(_e,cr,mr)}function Vn(cr){return j.value[cr]||{}}function Kn(cr,mr){j.value[cr]=mr,_e.numberFormats=j.value,clearNumberFormat(_e,cr,mr)}function ar(cr,mr){j.value[cr]=assign$1(j.value[cr]||{},mr),_e.numberFormats=j.value,clearNumberFormat(_e,cr,mr)}composerID++,r&&inBrowser&&(watch(r.locale,cr=>{k&&($.value=cr,_e.locale=cr,updateFallbackLocale(_e,$.value,V.value))}),watch(r.fallbackLocale,cr=>{k&&(V.value=cr,_e.fallbackLocale=cr,updateFallbackLocale(_e,$.value,V.value))}));const lr={id:composerID,locale:kt,fallbackLocale:Lt,get inheritLocale(){return k},set inheritLocale(cr){k=cr,cr&&r&&($.value=r.locale.value,V.value=r.fallbackLocale.value,updateFallbackLocale(_e,$.value,V.value))},get availableLocales(){return Object.keys(L.value).sort()},messages:wn,get modifiers(){return Ne},get pluralRules(){return Oe||{}},get isGlobal(){return y},get missingWarn(){return re},set missingWarn(cr){re=cr,_e.missingWarn=re},get fallbackWarn(){return oe},set fallbackWarn(cr){oe=cr,_e.fallbackWarn=oe},get fallbackRoot(){return ae},set fallbackRoot(cr){ae=cr},get fallbackFormat(){return de},set fallbackFormat(cr){de=cr,_e.fallbackFormat=de},get warnHtmlMessage(){return xe},set warnHtmlMessage(cr){xe=cr,_e.warnHtmlMessage=cr},get escapeParameter(){return $e},set escapeParameter(cr){$e=cr,_e.escapeParameter=cr},t:$n,getLocaleMessage:zn,setLocaleMessage:vn,mergeLocaleMessage:Jn,getPostTranslationHandler:jt,setPostTranslationHandler:An,getMissingHandler:Dn,setMissingHandler:En,[SetPluralRulesSymbol]:fr};return lr.datetimeFormats=Et,lr.numberFormats=xn,lr.rt=Wn,lr.te=yr,lr.tm=sr,lr.d=Gn,lr.n=Nn,lr.getDateTimeFormat=Tn,lr.setDateTimeFormat=Dt,lr.mergeDateTimeFormat=hn,lr.getNumberFormat=Vn,lr.setNumberFormat=Kn,lr.mergeNumberFormat=ar,lr[InejctWithOptionSymbol]=g,lr[TranslateVNodeSymbol]=Xn,lr[DatetimePartsSymbol]=jn,lr[NumberPartsSymbol]=Pn,lr}function convertComposerOptions(n){const e=isString$1(n.locale)?n.locale:DEFAULT_LOCALE,r=isString$1(n.fallbackLocale)||isArray(n.fallbackLocale)||isPlainObject(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:e,g=isFunction(n.missing)?n.missing:void 0,y=isBoolean(n.silentTranslationWarn)||isRegExp(n.silentTranslationWarn)?!n.silentTranslationWarn:!0,k=isBoolean(n.silentFallbackWarn)||isRegExp(n.silentFallbackWarn)?!n.silentFallbackWarn:!0,$=isBoolean(n.fallbackRoot)?n.fallbackRoot:!0,V=!!n.formatFallbackMessages,L=isPlainObject(n.modifiers)?n.modifiers:{},z=n.pluralizationRules,j=isFunction(n.postTranslation)?n.postTranslation:void 0,re=isString$1(n.warnHtmlInMessage)?n.warnHtmlInMessage!=="off":!0,oe=!!n.escapeParameterHtml,ae=isBoolean(n.sync)?n.sync:!0;let de=n.messages;if(isPlainObject(n.sharedMessages)){const Oe=n.sharedMessages;de=Object.keys(Oe).reduce((Fe,Ue)=>{const kt=Fe[Ue]||(Fe[Ue]={});return assign$1(kt,Oe[Ue]),Fe},de||{})}const{__i18n:ue,__root:pe,__injectWithOption:he}=n,xe=n.datetimeFormats,$e=n.numberFormats,Ne=n.flatJson;return{locale:e,fallbackLocale:r,messages:de,flatJson:Ne,datetimeFormats:xe,numberFormats:$e,missing:g,missingWarn:y,fallbackWarn:k,fallbackRoot:$,fallbackFormat:V,modifiers:L,pluralRules:z,postTranslation:j,warnHtmlMessage:re,escapeParameter:oe,messageResolver:n.messageResolver,inheritLocale:ae,__i18n:ue,__root:pe,__injectWithOption:he}}function createVueI18n(n={},e){{const r=createComposer(convertComposerOptions(n)),{__extender:g}=n,y={id:r.id,get locale(){return r.locale.value},set locale(k){r.locale.value=k},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(k){r.fallbackLocale.value=k},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(k){},get missing(){return r.getMissingHandler()},set missing(k){r.setMissingHandler(k)},get silentTranslationWarn(){return isBoolean(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(k){r.missingWarn=isBoolean(k)?!k:k},get silentFallbackWarn(){return isBoolean(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(k){r.fallbackWarn=isBoolean(k)?!k:k},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(k){r.fallbackFormat=k},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(k){r.setPostTranslationHandler(k)},get sync(){return r.inheritLocale},set sync(k){r.inheritLocale=k},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(k){r.warnHtmlMessage=k!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(k){r.escapeParameter=k},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(k){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...k){const[$,V,L]=k,z={};let j=null,re=null;if(!isString$1($))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const oe=$;return isString$1(V)?z.locale=V:isArray(V)?j=V:isPlainObject(V)&&(re=V),isArray(L)?j=L:isPlainObject(L)&&(re=L),Reflect.apply(r.t,r,[oe,j||re||{},z])},rt(...k){return Reflect.apply(r.rt,r,[...k])},tc(...k){const[$,V,L]=k,z={plural:1};let j=null,re=null;if(!isString$1($))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const oe=$;return isString$1(V)?z.locale=V:isNumber(V)?z.plural=V:isArray(V)?j=V:isPlainObject(V)&&(re=V),isString$1(L)?z.locale=L:isArray(L)?j=L:isPlainObject(L)&&(re=L),Reflect.apply(r.t,r,[oe,j||re||{},z])},te(k,$){return r.te(k,$)},tm(k){return r.tm(k)},getLocaleMessage(k){return r.getLocaleMessage(k)},setLocaleMessage(k,$){r.setLocaleMessage(k,$)},mergeLocaleMessage(k,$){r.mergeLocaleMessage(k,$)},d(...k){return Reflect.apply(r.d,r,[...k])},getDateTimeFormat(k){return r.getDateTimeFormat(k)},setDateTimeFormat(k,$){r.setDateTimeFormat(k,$)},mergeDateTimeFormat(k,$){r.mergeDateTimeFormat(k,$)},n(...k){return Reflect.apply(r.n,r,[...k])},getNumberFormat(k){return r.getNumberFormat(k)},setNumberFormat(k,$){r.setNumberFormat(k,$)},mergeNumberFormat(k,$){r.mergeNumberFormat(k,$)},getChoiceIndex(k,$){return-1}};return y.__extender=g,y}}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:n=>n==="parent"||n==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:n},e){return e.length===1&&e[0]==="default"?(n.default?n.default():[]).reduce((g,y)=>[...g,...y.type===Fragment?y.children:[y]],[]):e.reduce((r,g)=>{const y=n[g];return y&&(r[g]=y()),r},{})}function getFragmentableTag(n){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:n=>isNumber(n)||!isNaN(n)}},baseFormatProps),setup(n,e){const{slots:r,attrs:g}=e,y=n.i18n||useI18n({useScope:n.scope,__useComponent:!0});return()=>{const k=Object.keys(r).filter(re=>re!=="_"),$={};n.locale&&($.locale=n.locale),n.plural!==void 0&&($.plural=isString$1(n.plural)?+n.plural:n.plural);const V=getInterpolateArg(e,k),L=y[TranslateVNodeSymbol](n.keypath,V,$),z=assign$1({},g),j=isString$1(n.tag)||isObject$1(n.tag)?n.tag:getFragmentableTag();return h$1(j,z,L)}}}),Translation=TranslationImpl;function isVNode(n){return isArray(n)&&!isString$1(n[0])}function renderFormatter(n,e,r,g){const{slots:y,attrs:k}=e;return()=>{const $={part:!0};let V={};n.locale&&($.locale=n.locale),isString$1(n.format)?$.key=n.format:isObject$1(n.format)&&(isString$1(n.format.key)&&($.key=n.format.key),V=Object.keys(n.format).reduce((oe,ae)=>r.includes(ae)?assign$1({},oe,{[ae]:n.format[ae]}):oe,{}));const L=g(n.value,$,V);let z=[$.key];isArray(L)?z=L.map((oe,ae)=>{const de=y[oe.type],ue=de?de({[oe.type]:oe.value,index:ae,parts:L}):[oe.value];return isVNode(ue)&&(ue[0].key=`${oe.type}-${ae}`),ue}):isString$1(L)&&(z=[L]);const j=assign$1({},k),re=isString$1(n.tag)||isObject$1(n.tag)?n.tag:getFragmentableTag();return h$1(re,j,z)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(n,e){const r=n.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(n,e,NUMBER_FORMAT_OPTIONS_KEYS,(...g)=>r[NumberPartsSymbol](...g))}}),NumberFormat=NumberFormatImpl,DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(n,e){const r=n.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(n,e,DATETIME_FORMAT_OPTIONS_KEYS,(...g)=>r[DatetimePartsSymbol](...g))}}),DatetimeFormat=DatetimeFormatImpl;function getComposer$2(n,e){const r=n;if(n.mode==="composition")return r.__getInstance(e)||n.global;{const g=r.__getInstance(e);return g!=null?g.__composer:n.global.__composer}}function vTDirective(n){const e=$=>{const{instance:V,modifiers:L,value:z}=$;if(!V||!V.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const j=getComposer$2(n,V.$),re=parseValue(z);return[Reflect.apply(j.t,j,[...makeParams(re)]),j]};return{created:($,V)=>{const[L,z]=e(V);inBrowser&&n.global===z&&($.__i18nWatcher=watch(z.locale,()=>{V.instance&&V.instance.$forceUpdate()})),$.__composer=z,$.textContent=L},unmounted:$=>{inBrowser&&$.__i18nWatcher&&($.__i18nWatcher(),$.__i18nWatcher=void 0,delete $.__i18nWatcher),$.__composer&&($.__composer=void 0,delete $.__composer)},beforeUpdate:($,{value:V})=>{if($.__composer){const L=$.__composer,z=parseValue(V);$.textContent=Reflect.apply(L.t,L,[...makeParams(z)])}},getSSRProps:$=>{const[V]=e($);return{textContent:V}}}}function parseValue(n){if(isString$1(n))return{path:n};if(isPlainObject(n)){if(!("path"in n))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return n}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(n){const{path:e,locale:r,args:g,choice:y,plural:k}=n,$={},V=g||{};return isString$1(r)&&($.locale=r),isNumber(y)&&($.plural=y),isNumber(k)&&($.plural=k),[e,V,$]}function apply(n,e,...r){const g=isPlainObject(r[0])?r[0]:{},y=!!g.useI18nComponentName;(isBoolean(g.globalInstall)?g.globalInstall:!0)&&([y?"i18n":Translation.name,"I18nT"].forEach($=>n.component($,Translation)),[NumberFormat.name,"I18nN"].forEach($=>n.component($,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach($=>n.component($,DatetimeFormat))),n.directive("t",vTDirective(e))}function defineMixin(n,e,r){return{beforeCreate(){const g=getCurrentInstance();if(!g)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const y=this.$options;if(y.i18n){const k=y.i18n;if(y.__i18n&&(k.__i18n=y.__i18n),k.__root=e,this===this.$root)this.$i18n=mergeToGlobal(n,k);else{k.__injectWithOption=!0,k.__extender=r.__vueI18nExtend,this.$i18n=createVueI18n(k);const $=this.$i18n;$.__extender&&($.__disposer=$.__extender(this.$i18n))}}else if(y.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(n,y);else{this.$i18n=createVueI18n({__i18n:y.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const k=this.$i18n;k.__extender&&(k.__disposer=k.__extender(this.$i18n))}else this.$i18n=n;y.__i18nGlobal&&adjustI18nResources(e,y,y),this.$t=(...k)=>this.$i18n.t(...k),this.$rt=(...k)=>this.$i18n.rt(...k),this.$tc=(...k)=>this.$i18n.tc(...k),this.$te=(k,$)=>this.$i18n.te(k,$),this.$d=(...k)=>this.$i18n.d(...k),this.$n=(...k)=>this.$i18n.n(...k),this.$tm=k=>this.$i18n.tm(k),r.__setInstance(g,this.$i18n)},mounted(){},unmounted(){const g=getCurrentInstance();if(!g)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const y=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,y.__disposer&&(y.__disposer(),delete y.__disposer,delete y.__extender),r.__deleteInstance(g),delete this.$i18n}}}function mergeToGlobal(n,e){n.locale=e.locale||n.locale,n.fallbackLocale=e.fallbackLocale||n.fallbackLocale,n.missing=e.missing||n.missing,n.silentTranslationWarn=e.silentTranslationWarn||n.silentFallbackWarn,n.silentFallbackWarn=e.silentFallbackWarn||n.silentFallbackWarn,n.formatFallbackMessages=e.formatFallbackMessages||n.formatFallbackMessages,n.postTranslation=e.postTranslation||n.postTranslation,n.warnHtmlInMessage=e.warnHtmlInMessage||n.warnHtmlInMessage,n.escapeParameterHtml=e.escapeParameterHtml||n.escapeParameterHtml,n.sync=e.sync||n.sync,n.__composer[SetPluralRulesSymbol](e.pluralizationRules||n.pluralizationRules);const r=getLocaleMessages(n.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(g=>n.mergeLocaleMessage(g,r[g])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(g=>n.mergeDateTimeFormat(g,e.datetimeFormats[g])),e.numberFormats&&Object.keys(e.numberFormats).forEach(g=>n.mergeNumberFormat(g,e.numberFormats[g])),n}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(n={},e){const r=__VUE_I18N_LEGACY_API__&&isBoolean(n.legacy)?n.legacy:__VUE_I18N_LEGACY_API__,g=isBoolean(n.globalInjection)?n.globalInjection:!0,y=__VUE_I18N_LEGACY_API__&&r?!!n.allowComposition:!0,k=new Map,[$,V]=createGlobal(n,r),L=makeSymbol("");function z(oe){return k.get(oe)||null}function j(oe,ae){k.set(oe,ae)}function re(oe){k.delete(oe)}{const oe={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return y},async install(ae,...de){if(ae.__VUE_I18N_SYMBOL__=L,ae.provide(ae.__VUE_I18N_SYMBOL__,oe),isPlainObject(de[0])){const he=de[0];oe.__composerExtend=he.__composerExtend,oe.__vueI18nExtend=he.__vueI18nExtend}let ue=null;!r&&g&&(ue=injectGlobalFields(ae,oe.global)),__VUE_I18N_FULL_INSTALL__&&apply(ae,oe,...de),__VUE_I18N_LEGACY_API__&&r&&ae.mixin(defineMixin(V,V.__composer,oe));const pe=ae.unmount;ae.unmount=()=>{ue&&ue(),oe.dispose(),pe()}},get global(){return V},dispose(){$.stop()},__instances:k,__getInstance:z,__setInstance:j,__deleteInstance:re};return oe}}function useI18n(n={}){const e=getCurrentInstance();if(e==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const r=getI18nInstance(e),g=getGlobalComposer(r),y=getComponentOptions(e),k=getScope$1(n,y);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!n.__useComponent){if(!r.allowComposition)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);return useI18nForLegacy(e,k,g,n)}if(k==="global")return adjustI18nResources(g,n,y),g;if(k==="parent"){let L=getComposer(r,e,n.__useComponent);return L==null&&(L=g),L}const $=r;let V=$.__getInstance(e);if(V==null){const L=assign$1({},n);"__i18n"in y&&(L.__i18n=y.__i18n),g&&(L.__root=g),V=createComposer(L),$.__composerExtend&&(V[DisposeSymbol]=$.__composerExtend(V)),setupLifeCycle($,e,V),$.__setInstance(e,V)}return V}function createGlobal(n,e,r){const g=effectScope();{const y=__VUE_I18N_LEGACY_API__&&e?g.run(()=>createVueI18n(n)):g.run(()=>createComposer(n));if(y==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[g,y]}}function getI18nInstance(n){{const e=inject(n.isCE?I18nInjectionKey:n.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw createI18nError(n.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return e}}function getScope$1(n,e){return isEmptyObject(n)?"__i18n"in e?"local":"global":n.useScope?n.useScope:"local"}function getGlobalComposer(n){return n.mode==="composition"?n.global:n.global.__composer}function getComposer(n,e,r=!1){let g=null;const y=e.root;let k=getParentComponentInstance(e,r);for(;k!=null;){const $=n;if(n.mode==="composition")g=$.__getInstance(k);else if(__VUE_I18N_LEGACY_API__){const V=$.__getInstance(k);V!=null&&(g=V.__composer,r&&g&&!g[InejctWithOptionSymbol]&&(g=null))}if(g!=null||y===k)break;k=k.parent}return g}function getParentComponentInstance(n,e=!1){return n==null?null:e&&n.vnode.ctx||n.parent}function setupLifeCycle(n,e,r){onMounted(()=>{},e),onUnmounted(()=>{const g=r;n.__deleteInstance(e);const y=g[DisposeSymbol];y&&(y(),delete g[DisposeSymbol])},e)}function useI18nForLegacy(n,e,r,g={}){const y=e==="local",k=shallowRef(null);if(y&&n.proxy&&!(n.proxy.$options.i18n||n.proxy.$options.__i18n))throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const $=isBoolean(g.inheritLocale)?g.inheritLocale:!isString$1(g.locale),V=ref(!y||$?r.locale.value:isString$1(g.locale)?g.locale:DEFAULT_LOCALE),L=ref(!y||$?r.fallbackLocale.value:isString$1(g.fallbackLocale)||isArray(g.fallbackLocale)||isPlainObject(g.fallbackLocale)||g.fallbackLocale===!1?g.fallbackLocale:V.value),z=ref(getLocaleMessages(V.value,g)),j=ref(isPlainObject(g.datetimeFormats)?g.datetimeFormats:{[V.value]:{}}),re=ref(isPlainObject(g.numberFormats)?g.numberFormats:{[V.value]:{}}),oe=y?r.missingWarn:isBoolean(g.missingWarn)||isRegExp(g.missingWarn)?g.missingWarn:!0,ae=y?r.fallbackWarn:isBoolean(g.fallbackWarn)||isRegExp(g.fallbackWarn)?g.fallbackWarn:!0,de=y?r.fallbackRoot:isBoolean(g.fallbackRoot)?g.fallbackRoot:!0,ue=!!g.fallbackFormat,pe=isFunction(g.missing)?g.missing:null,he=isFunction(g.postTranslation)?g.postTranslation:null,xe=y?r.warnHtmlMessage:isBoolean(g.warnHtmlMessage)?g.warnHtmlMessage:!0,$e=!!g.escapeParameter,Ne=y?r.modifiers:isPlainObject(g.modifiers)?g.modifiers:{},Oe=g.pluralRules||y&&r.pluralRules;function _e(){return[V.value,L.value,z.value,j.value,re.value]}const Fe=computed({get:()=>k.value?k.value.locale.value:V.value,set:vn=>{k.value&&(k.value.locale.value=vn),V.value=vn}}),Ue=computed({get:()=>k.value?k.value.fallbackLocale.value:L.value,set:vn=>{k.value&&(k.value.fallbackLocale.value=vn),L.value=vn}}),kt=computed(()=>k.value?k.value.messages.value:z.value),Lt=computed(()=>j.value),wn=computed(()=>re.value);function Et(){return k.value?k.value.getPostTranslationHandler():he}function xn(vn){k.value&&k.value.setPostTranslationHandler(vn)}function jt(){return k.value?k.value.getMissingHandler():pe}function An(vn){k.value&&k.value.setMissingHandler(vn)}function Dn(vn){return _e(),vn()}function En(...vn){return k.value?Dn(()=>Reflect.apply(k.value.t,null,[...vn])):Dn(()=>"")}function Bn(...vn){return k.value?Reflect.apply(k.value.rt,null,[...vn]):""}function $n(...vn){return k.value?Dn(()=>Reflect.apply(k.value.d,null,[...vn])):Dn(()=>"")}function Wn(...vn){return k.value?Dn(()=>Reflect.apply(k.value.n,null,[...vn])):Dn(()=>"")}function Gn(vn){return k.value?k.value.tm(vn):{}}function Nn(vn,Jn){return k.value?k.value.te(vn,Jn):!1}function Zn(vn){return k.value?k.value.getLocaleMessage(vn):{}}function Hn(vn,Jn){k.value&&(k.value.setLocaleMessage(vn,Jn),z.value[vn]=Jn)}function rr(vn,Jn){k.value&&k.value.mergeLocaleMessage(vn,Jn)}function Xn(vn){return k.value?k.value.getDateTimeFormat(vn):{}}function Pn(vn,Jn){k.value&&(k.value.setDateTimeFormat(vn,Jn),j.value[vn]=Jn)}function jn(vn,Jn){k.value&&k.value.mergeDateTimeFormat(vn,Jn)}function fr(vn){return k.value?k.value.getNumberFormat(vn):{}}function yr(vn,Jn){k.value&&(k.value.setNumberFormat(vn,Jn),re.value[vn]=Jn)}function Cr(vn,Jn){k.value&&k.value.mergeNumberFormat(vn,Jn)}const sr={get id(){return k.value?k.value.id:-1},locale:Fe,fallbackLocale:Ue,messages:kt,datetimeFormats:Lt,numberFormats:wn,get inheritLocale(){return k.value?k.value.inheritLocale:$},set inheritLocale(vn){k.value&&(k.value.inheritLocale=vn)},get availableLocales(){return k.value?k.value.availableLocales:Object.keys(z.value)},get modifiers(){return k.value?k.value.modifiers:Ne},get pluralRules(){return k.value?k.value.pluralRules:Oe},get isGlobal(){return k.value?k.value.isGlobal:!1},get missingWarn(){return k.value?k.value.missingWarn:oe},set missingWarn(vn){k.value&&(k.value.missingWarn=vn)},get fallbackWarn(){return k.value?k.value.fallbackWarn:ae},set fallbackWarn(vn){k.value&&(k.value.missingWarn=vn)},get fallbackRoot(){return k.value?k.value.fallbackRoot:de},set fallbackRoot(vn){k.value&&(k.value.fallbackRoot=vn)},get fallbackFormat(){return k.value?k.value.fallbackFormat:ue},set fallbackFormat(vn){k.value&&(k.value.fallbackFormat=vn)},get warnHtmlMessage(){return k.value?k.value.warnHtmlMessage:xe},set warnHtmlMessage(vn){k.value&&(k.value.warnHtmlMessage=vn)},get escapeParameter(){return k.value?k.value.escapeParameter:$e},set escapeParameter(vn){k.value&&(k.value.escapeParameter=vn)},t:En,getPostTranslationHandler:Et,setPostTranslationHandler:xn,getMissingHandler:jt,setMissingHandler:An,rt:Bn,d:$n,n:Wn,tm:Gn,te:Nn,getLocaleMessage:Zn,setLocaleMessage:Hn,mergeLocaleMessage:rr,getDateTimeFormat:Xn,setDateTimeFormat:Pn,mergeDateTimeFormat:jn,getNumberFormat:fr,setNumberFormat:yr,mergeNumberFormat:Cr};function zn(vn){vn.locale.value=V.value,vn.fallbackLocale.value=L.value,Object.keys(z.value).forEach(Jn=>{vn.mergeLocaleMessage(Jn,z.value[Jn])}),Object.keys(j.value).forEach(Jn=>{vn.mergeDateTimeFormat(Jn,j.value[Jn])}),Object.keys(re.value).forEach(Jn=>{vn.mergeNumberFormat(Jn,re.value[Jn])}),vn.escapeParameter=$e,vn.fallbackFormat=ue,vn.fallbackRoot=de,vn.fallbackWarn=ae,vn.missingWarn=oe,vn.warnHtmlMessage=xe}return onBeforeMount(()=>{if(n.proxy==null||n.proxy.$i18n==null)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const vn=k.value=n.proxy.$i18n.__composer;e==="global"?(V.value=vn.locale.value,L.value=vn.fallbackLocale.value,z.value=vn.messages.value,j.value=vn.datetimeFormats.value,re.value=vn.numberFormats.value):y&&zn(vn)}),sr}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(n,e){const r=Object.create(null);return globalExportProps.forEach(y=>{const k=Object.getOwnPropertyDescriptor(e,y);if(!k)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const $=isRef(k.value)?{get(){return k.value.value},set(V){k.value.value=V}}:{get(){return k.get&&k.get()}};Object.defineProperty(r,y,$)}),n.config.globalProperties.$i18n=r,globalExportMethods.forEach(y=>{const k=Object.getOwnPropertyDescriptor(e,y);if(!k||!k.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${y}`,k)}),()=>{delete n.config.globalProperties.$i18n,globalExportMethods.forEach(y=>{delete n.config.globalProperties[`$${y}`]})}}initFeatureFlags();__INTLIFY_JIT_COMPILATION__?registerMessageCompiler(compile):registerMessageCompiler(compileToFunction);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);if(__INTLIFY_PROD_DEVTOOLS__){const n=getGlobalThis();n.__INTLIFY__=!0,setDevToolsHook(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const head_data=ref({majorVersion:1,minorVersion:0,fontRevision:65536,flags:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],created:{timestamp:Math.floor(Date.now()/1e3)+2082844800,value:Date.now()},modified:{timestamp:Math.floor(Date.now()/1e3)+2082844800,value:Date.now()},macStyle:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],lowestRecPPEM:7,fontDirectionHint:2}),hhea_data=ref({majorVersion:1,minorVersion:0,lineGap:0,caretSlopeRise:1,caretSlopeRun:0,caretOffset:0}),getEnName=n=>{let e=n;return hasChineseChar(n)&&(e=dist$1.convertToPinyin(n)),e},name_data=ref([]),os2_data=ref({version:5,usWeightClass:400,usWidthClass:5,fsType:0,ySubscriptXSize:650,ySubscriptYSize:699,ySubscriptXOffset:0,ySubscriptYOffset:140,ySuperscriptXSize:650,ySuperscriptYSize:699,ySuperscriptXOffset:0,ySuperscriptYOffset:479,yStrikeoutSize:49,yStrikeoutPosition:258,sFamilyClass:0,panose:[0,0,0,0,0,0,0,0,0,0],achVendID:"UKWN",fsSelection:[!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],usMaxContext:0,usLowerOpticalPointSize:8,usUpperOpticalPointSize:72}),post_data=ref({version:196608,italicAngle:0,underlinePosition:0,underlineThickness:0,isFixedPitch:1,minMemType42:0,maxMemType42:0,minMemType1:0,maxMemType1:0}),metrics_data=ref({advanceWidth:1e3,lsb:0,rsb:0,xMin:0,yMin:0,xMax:1e3,yMax:1e3}),_hoisted_1$15={class:"dialog-footer"},_sfc_main$16=defineComponent({__name:"CreateFileDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref("untitled"),y=ref(1e3),k=ref(800),$=ref(-200),V=ref(!0),L=async()=>{name_data.value=[{nameID:1,nameLabel:"fontFamily",platformID:3,encodingID:1,langID:2052,value:g.value,default:!0},{nameID:1,nameLabel:"fontFamily",platformID:3,encodingID:1,langID:1033,value:getEnName(g.value),default:!0},{nameID:2,nameLabel:"fontSubfamily",platformID:3,encodingID:1,langID:2052,value:"",default:!0},{nameID:2,nameLabel:"fontSubfamily",platformID:3,encodingID:1,langID:1033,value:"Regular",default:!0},{nameID:4,nameLabel:"fullName",platformID:3,encodingID:1,langID:2052,value:g.value+" ",default:!0},{nameID:4,nameLabel:"fullName",platformID:3,encodingID:1,langID:1033,value:getEnName(g.value)+" Regular",default:!0},{nameID:5,nameLabel:"version",platformID:3,encodingID:1,langID:2052,value:"Version 1.0",default:!0},{nameID:5,nameLabel:"version",platformID:3,encodingID:1,langID:1033,value:"Version 1.0",default:!0},{nameID:6,nameLabel:"postScriptName",platformID:3,encodingID:1,langID:2052,value:(getEnName(g.value)+"-Regular").replace(/\s/g,"").slice(0,63),default:!0},{nameID:6,nameLabel:"postScriptName",platformID:3,encodingID:1,langID:1033,value:(getEnName(g.value)+"-Regular").replace(/\s/g,"").slice(0,63),default:!0}];const ae={uuid:genUUID(),width:y.value,height:y.value,name:g.value,saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:y.value,ascender:k.value,descender:$.value,tables:{head:head_data.value,hhea:hhea_data.value,os2:os2_data.value,name:name_data.value,post:post_data.value}}};addFile(ae),setSelectedFileUUID(ae.uuid),setEditStatus(Status.CharacterList),loading$1.value=!0,loaded$1.value=0,total$1.value=strokes.length+20,router.currentRoute.value.name==="welcome"&&router.push("/editor"),setCreateFileDialogVisible(!1),V.value&&await z()},z=async()=>{await importTemplate2();const ae=await fetch("templates/playground.json"),ue=JSON.parse(await ae.text()).file;clearCharacterRenderList();for(let pe=0;pe<ue.characterList.length;pe++){loaded$1.value+=1;const he=ue.characterList[pe],xe=instanceCharacter(he);addCharacterForCurrentFile(xe),addCharacterTemplate(generateCharacterTemplate(xe))}emitter.emit("renderPreviewCanvas"),loading$1.value=!1},j=()=>{setCreateFileDialogVisible(!1)},re=()=>{$.value=k.value-y.value},oe=()=>{k.value=y.value+$.value};return(ae,de)=>{const ue=resolveComponent("el-input"),pe=resolveComponent("el-form-item"),he=resolveComponent("el-input-number"),xe=resolveComponent("el-checkbox"),$e=resolveComponent("el-form"),Ne=resolveComponent("el-button"),Oe=resolveComponent("el-dialog");return openBlock(),createBlock(Oe,{"model-value":unref(createFileDialogVisible),class:"create-file-dialog",title:unref(e)("dialogs.addFileDialog.title"),width:"320px","before-close":j},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_1$15,[createVNode(Ne,{onPointerdown:de[5]||(de[5]=_e=>unref(setCreateFileDialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addFileDialog.cancel")),1)]),_:1}),createVNode(Ne,{type:"primary",onPointerdown:de[6]||(de[6]=()=>L())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addFileDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createVNode($e,{class:"create-file-form","label-width":"80px"},{default:withCtx(()=>[createVNode(pe,{label:unref(e)("dialogs.addFileDialog.fontName")},{default:withCtx(()=>[createVNode(ue,{modelValue:g.value,"onUpdate:modelValue":de[0]||(de[0]=_e=>g.value=_e)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(pe,{label:"unitsPerEm"},{default:withCtx(()=>[createVNode(he,{modelValue:y.value,"onUpdate:modelValue":de[1]||(de[1]=_e=>y.value=_e),precision:0},null,8,["modelValue"])]),_:1}),createVNode(pe,{label:"ascender"},{default:withCtx(()=>[createVNode(he,{modelValue:k.value,"onUpdate:modelValue":de[2]||(de[2]=_e=>k.value=_e),precision:0,onChange:re},null,8,["modelValue"])]),_:1}),createVNode(pe,{label:"descender"},{default:withCtx(()=>[createVNode(he,{modelValue:$.value,"onUpdate:modelValue":de[3]||(de[3]=_e=>$.value=_e),precision:0,onChange:oe},null,8,["modelValue"])]),_:1}),createVNode(pe,{"label-width":0,class:"use-default-template-form-item"},{default:withCtx(()=>[createVNode(xe,{modelValue:V.value,"onUpdate:modelValue":de[4]||(de[4]=_e=>V.value=_e)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addFileDialog.useDefaultTemplate")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value","title"])}}}),_hoisted_1$14={class:"form-wrapper"},_hoisted_2$11={class:"dialog-footer"},_sfc_main$15=defineComponent({__name:"LanguageSettingsDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(g.value),k=()=>{setLanguageSettingsDialogVisible(!1)},$=()=>{g.value=y.value,setLanguageSettingsDialogVisible(!1)},V=[{value:"zh",label:""},{value:"en",label:"English"}];return(L,z)=>{const j=resolveComponent("el-option"),re=resolveComponent("el-select"),oe=resolveComponent("el-form-item"),ae=resolveComponent("el-form"),de=resolveComponent("el-button"),ue=resolveComponent("el-dialog");return openBlock(),createBlock(ue,{modelValue:unref(languageSettingsDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=pe=>isRef(languageSettingsDialogVisible)?languageSettingsDialogVisible.value=pe:null),title:unref(e)("dialogs.languageSettingsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$11,[createVNode(de,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.languageSettingsDialog.cancel")),1)]),_:1}),createVNode(de,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.languageSettingsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$14,[createVNode(ae,{"label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("dialogs.languageSettingsDialog.label")},{default:withCtx(()=>[createVNode(re,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=pe=>y.value=pe),class:"edit-filter-select",placeholder:unref(e)("dialogs.languageSettingsDialog.label")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(V,pe=>createVNode(j,{key:pe.value,label:pe.label,value:pe.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$13={class:"welcome","element-loading-text":"","element-loading-background":"rgba(122, 122, 122, 0.8)"},_hoisted_2$10={class:"main-panel"},_hoisted_3$C={class:"items-wrapper"},_hoisted_4$z={class:"item-icon"},_hoisted_5$v={class:"item-name"},_hoisted_6$t={class:"description"},_hoisted_7$q={class:"item-icon"},_hoisted_8$p={class:"item-name"},_hoisted_9$p={class:"description"},_hoisted_10$n={class:"item-icon"},_hoisted_11$m={class:"item-name"},_hoisted_12$j={class:"description"},_hoisted_13$j={class:"item-icon"},_hoisted_14$j={class:"item-name"},_hoisted_15$g={class:"description"},_hoisted_16$e={class:"item-icon playground-icon"},_hoisted_17$c={class:"playground-main"},_hoisted_18$b={class:"playground-text"},_hoisted_19$b={class:"playground-description"},_hoisted_20$b={class:"language-settings"},_sfc_main$14=defineComponent({__name:"Welcome",setup(n){const{t:e,locale:r}=useI18n();return onMounted(async()=>{await initGlyphEnvironment()}),(g,y)=>{const k=resolveComponent("el-icon"),$=resolveComponent("font-awesome-icon"),V=resolveDirective("loading");return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$13,[createBaseVNode("div",_hoisted_2$10,[createBaseVNode("div",_hoisted_3$C,[createBaseVNode("div",{class:"item new-project-item",onPointerdown:y[0]||(y[0]=(...L)=>unref(createFile)&&unref(createFile)(...L))},[createBaseVNode("div",_hoisted_4$z,[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(document_add_default))]),_:1})]),createBaseVNode("div",_hoisted_5$v,toDisplayString$1(unref(e)("welcome.new.name")),1),createBaseVNode("div",_hoisted_6$t,toDisplayString$1(unref(e)("welcome.new.description")),1)],32),createBaseVNode("div",{class:"item open-project-item",onPointerdown:y[1]||(y[1]=(...L)=>unref(openFile)&&unref(openFile)(...L))},[createBaseVNode("div",_hoisted_7$q,[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(folder_opened_default))]),_:1})]),createBaseVNode("div",_hoisted_8$p,toDisplayString$1(unref(e)("welcome.open.name")),1),createBaseVNode("div",_hoisted_9$p,toDisplayString$1(unref(e)("welcome.open.description")),1)],32),createBaseVNode("div",{class:"item import-font-item",onPointerdown:y[2]||(y[2]=(...L)=>unref(importFont)&&unref(importFont)(...L))},[createBaseVNode("div",_hoisted_10$n,[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(files_default))]),_:1})]),createBaseVNode("div",_hoisted_11$m,toDisplayString$1(unref(e)("welcome.import.name")),1),createBaseVNode("div",_hoisted_12$j,toDisplayString$1(unref(e)("welcome.import.description")),1)],32),createBaseVNode("div",{class:"item template-item",onPointerdown:y[3]||(y[3]=(...L)=>unref(importTemplate1)&&unref(importTemplate1)(...L))},[createBaseVNode("div",_hoisted_13$j,[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(switch_default))]),_:1})]),createBaseVNode("div",_hoisted_14$j,toDisplayString$1(unref(e)("welcome.template.name")),1),createBaseVNode("div",_hoisted_15$g,toDisplayString$1(unref(e)("welcome.template.description")),1)],32)]),createBaseVNode("div",{class:"playground-btn",onClick:y[4]||(y[4]=(...L)=>unref(openPlayground)&&unref(openPlayground)(...L))},[createBaseVNode("div",_hoisted_16$e,[createVNode(k,null,{default:withCtx(()=>[createVNode($,{icon:"fa-solid fa-gamepad"})]),_:1})]),createBaseVNode("div",_hoisted_17$c,[createBaseVNode("div",_hoisted_18$b,toDisplayString$1(unref(e)("welcome.playground.title")),1),createBaseVNode("div",_hoisted_19$b,toDisplayString$1(unref(e)("welcome.playground.description")),1)])])]),createBaseVNode("div",_hoisted_20$b,[createBaseVNode("div",{class:normalizeClass(["language-choice-item",{selected:unref(r)==="zh"}]),onClick:y[5]||(y[5]=L=>r.value="zh")},"",2),createBaseVNode("div",{class:normalizeClass(["language-choice-item",{selected:unref(r)==="en"}]),onClick:y[6]||(y[6]=L=>r.value="en")},"English",2)]),createVNode(_sfc_main$16),createVNode(_sfc_main$15)])),[[V,unref(loading$1)]])}}}),_export_sfc=(n,e)=>{const r=n.__vccOpts||n;for(const[g,y]of e)r[g]=y;return r},Welcome=_export_sfc(_sfc_main$14,[["__scopeId","data-v-a0962139"]]),dialogs={zh:{tipsDialog:{title:"",confirm:"",cancel:"",tip1:"",tip2:""},exportDialog:{title:"",confirm:"",cancel:""},exportFontDialog:{title:"",confirm:"",cancel:"",exportMsg:""},saveDialog:{title:"",confirm:"",cancel:""},saveAsDialog:{title:"",confirm:"",cancel:""},addIconDialog:{title:"",iconName:"",confirm:"",cancel:""},addTextDialog:{title:"",confirm:"",cancel:""},addGlyphDialog:{title:"",glyphName:"",confirm:"",cancel:""},editGlyphDialog:{title:"",glyphName:"",confirm:"",cancel:""},editCharacterDialog:{title:"",glyphName:"",confirm:"",cancel:""},copyGlyphDialog:{title:"",glyphName:"",confirm:"",cancel:""},copyCharacterDialog:{title:"",characterName:"",confirm:"",cancel:""},glyphComponentDialog:{title:"",confirm:"",cancel:"",multiSelection:"",singleSelection:""},addFileDialog:{title:"",fontName:"",cancel:"",confirm:"",useDefaultTemplate:""},fontSettingsDialog:{title:"",fontName:"",cancel:"",confirm:"",nameTableTip:"name",addItem:"",moreSettings:""},preferenceDialog:{title:"",background:{background:"",style:"",color:"",transparent:""},mesh:{mesh:"",style:"",none:"",mi:"",precision:"",layout:""},render:{render:"",style:"",contour:"",color:""},cancel:"",confirm:""},languageSettingsDialog:{title:"",label:"",cancel:"",confirm:""},importTemplatesDialog:{title:"",cancel:"",confirm:""},selectGlobalParamDialog:{title:"",cancel:"",confirm:"",globalParam:""},setAsGlobalParamDialog:{title:"",cancel:"",confirm:"",paramName:""}},en:{tipsDialog:{title:"Tips",confirm:"Confirm",cancel:"Cancel",tip1:"Closing the file will result in the loss of unsaved data. Are you sure you want to close?",tip2:"Saving the project file on the web will store the project in the browser's local cache and not in the cloud. If the user clears the local cache, the project data will be deleted. Are you sure you want to save the project in the cache?"},exportDialog:{title:"Export Project",confirm:"Confirm",cancel:"Cancel",exportMsg:"Please select items included in exported file:"},exportFontDialog:{title:"Export Font",confirm:"Confirm",cancel:"Cancel"},saveDialog:{title:"Save Project",confirm:"Confirm",cancel:"Cancel"},saveAsDialog:{title:"Save As Project",confirm:"Confirm",cancel:"Cancel"},addIconDialog:{title:"Add Icon",iconName:"Icon Name",confirm:"Confirm",cancel:"Cancel"},addTextDialog:{title:"Add Character",confirm:"Confirm",cancel:"Cancel"},addGlyphDialog:{title:"Add Glyph",glyphName:"Glyph Name",confirm:"Confirm",cancel:"Cancel"},editGlyphDialog:{title:"Edit Glyph Name",glyphName:"Glyph Name",confirm:"Confirm",cancel:"Cancel"},editCharacterDialog:{title:"Edit Character",glyphName:"Character",confirm:"Confirm",cancel:"Cancel"},copyGlyphDialog:{title:"Copy Glyph",glyphName:"Glyph Name",confirm:"Confirm",cancel:"Cancel"},copyCharacterDialog:{title:"Copy Character",characterName:"New Character",confirm:"Confirm",cancel:"Cancel"},glyphComponentDialog:{title:"Add Glyph Component",confirm:"Confirm",cancel:"Cancel",multiSelection:"Multiple-Select",singleSelection:"Single-Select"},addFileDialog:{title:"New Font",fontName:"Font Name",cancel:"Cancel",confirm:"Confirm",useDefaultTemplate:"Import Default Template"},fontSettingsDialog:{title:"Font Settings",fontName:"Font Name",cancel:"Cancel",confirm:"Confirm",nameTableTip:"The name table defines font-related string information for different language environments.",addItem:"Add Item",moreSettings:"More Settings"},preferenceDialog:{title:"Preference",background:{background:"Background",style:"Style",color:"Color",transparent:"Transparent"},mesh:{mesh:"Mesh",style:"Style",none:"None",mi:"Mi",precision:"Pricision",layout:"Layout"},render:{render:"Render",style:"Style",contour:"Contour",color:"Color"},cancel:"Cancel",confirm:"Confirm"},languageSettingsDialog:{title:"Language Settings",label:"Language",cancel:"Cancel",confirm:"Confirm"},importTemplatesDialog:{title:"Import Templates",cancel:"Cancel",confirm:"Confirm"},selectGlobalParamDialog:{title:"Select Global Parameter",cancel:"Cancel",confirm:"Confirm",globalParam:"Global Parameter"},setAsGlobalParamDialog:{title:"Set As Global Parameter",cancel:"Cancel",confirm:"Confirm",paramName:"Parameter Name"}}},panels={zh:{filter:{all:"",font:""},view:"",componentList:{menu:{cut:"",copy:"",paste:"",delete:""}},viewList:{thumbnail:{title:"",description:""},bitmap:{title:"",description:""},contours:{title:"",description:""},curves:{title:"",description:""},preview:{title:"",description:""}},paramsPanel:{componentName:{title:"",label:""},transform:{title:"",x:"X",y:"Y",w:"W",h:"H",rotation:"",flipX:"",flipY:""},opacity:{title:"",opacity:""},editMode:{title:"",label:""},transformToCurve:{title:"",label:""},layout:{title:"",add:"",modify:"",type:"",null:"",rect:""},params:{title:""},joints:{title:""},layoutEditing:"",interactive:"",draggable:"",draggableOption:"",dragOption:"",dragOptionNone:"",dragOptionDefault:"",dragOptionLayout:"",globalParam:"",cancelGlobalParam:"",setAsGlobalParam:"",selectGlobalParam:"",updateGlobalParam:"",applyGridTransform:"",resetGridTransform:"",applyMetricsTransform:"",resetMetricsTransform:"",loadingMsg:"",loadedMsg:"{percent}%"},picEditPanel:{cancel:"",confirm:"",remove:"",reset:"",edit:"",step1:{title:"",tip:"",localBrush:"",brush:""},step2:{title:"",content:""},step3:{title:"",maxError:"",dropThresholding:""},step4:{title:"",content:""}},settingsPanel:{background:{background:"",style:"",color:"",transparent:""},mesh:{mesh:"",style:"",none:"",mi:"",precision:"",layout:""},render:{render:"",style:"",contour:"",color:""}},bottomBar:{reset:"",coords:""}},en:{filter:{all:"All Componnents",font:"Font COmponnents"},view:"View",componentList:{menu:{cut:"Cut",copy:"Copy",paste:"Paste",delete:"Delete"}},viewList:{thumbnail:{title:"Picture Thumbnail",description:"Thumbnail of original picture"},bitmap:{title:"Bitmap",description:"Bitmap picture after thresholding processing"},contours:{title:"Contours",description:"Contours extracted from picture"},curves:{title:"Curves",description:"Curves fitted from contours"},preview:{title:"Preview",description:"Components preview"}},paramsPanel:{componentName:{title:"Component Name",label:"Name"},transform:{title:"Transform",x:"X",y:"Y",w:"W",h:"H",rotation:"Rotation",flipX:"flipX",flipY:"flipY"},opacity:{title:"Style",opacity:"Opacity"},editMode:{title:"Edit Mode",label:"Open"},transformToCurve:{title:"Transform To Pen Curve",label:"Confirm to transform"},layout:{title:"Layout",add:"Add Layout",modify:"Modify Layout",type:"Type",null:"Empty Layout",rect:"Rect Layout"},params:{title:"Parameters"},joints:{title:"Key Points"},layoutEditing:"Layout Editing",interactive:"Interactive Settings",draggable:"Draggable",draggableOption:"Option",dragOption:"Reference",dragOptionNone:"None",dragOptionDefault:"Default Punctuation",dragOptionLayout:"Layout Proportion",globalParam:"Global Parameter",cancelGlobalParam:"Clear Global Parameter",setAsGlobalParam:"Set as Global Parameter",selectGlobalParam:"Select Global Parameter",updateGlobalParam:"Update Global Parameter",applyGridTransform:"Apply Grid Transform",resetGridTransform:"Reset Grid Transform",applyMetricsTransform:"Apply Metrics Transform",resetMetricsTransform:"Reset Metrics Transform",loadingMsg:"Loading, please wait...",loadedMsg:"Loading in progress ({percent}% completed)"},picEditPanel:{cancel:"Cancel",confirm:"Confirm",remove:"Delete",reset:"Reset",edit:"Edit",step1:{title:"Step 1: Bitmap Thresholding",tip:"The effect is poor? Try",localBrush:"Local Brush",brush:"Brush"},step2:{title:"Step 2: Extract Contours",content:"Extract contours accordding to step 1's result"},step3:{title:"Step 3: Fit Curve",maxError:"Smoothing",dropThresholding:"Filter"},step4:{title:"Step 4: Fill Color",content:"Auto-fill with black color"}},settingsPanel:{background:{background:"Background",style:"Style",color:"Color",transparent:"Transparent"},mesh:{mesh:"Mesh",style:"Style",none:"None",mi:"Mi",precision:"Pricision",layout:"Layout"},render:{render:"Render",style:"Style",contour:"Contour",color:"Color"}},bottomBar:{reset:"Reset",coords:"Coords"}}},menus={zh:{app:"",about:"",file:{file:"",new:"",open:"",save:"",saveas:"",clear:"",export:"",sync_data:""},edit:{edit:"",undo:"",redo:"",cut:"",copy:"",paste:"",delete:""},import:{import:"",font:"",glyph:"",picture:"",svg:"SVG"},export:{export:"",font:"",glyph:"",jpeg:"JPEG",png:"PNG",svg:"SVG"},char:{char:"",character:"",icon:""},settings:{settings:"",font:"",preference:"",language:""},templates:{templates:"",test1:"1",test2:"2"},tools:{remove_overlap:""}},en:{app:"FontPlayer",about:"about",file:{file:"File",new:"New File",open:"Open File",save:"Save",saveas:"Save As",clear:"Clear Cache",export:"Export Project",sync_data:"Sync Data"},edit:{edit:"Edit",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",delete:"Delete"},import:{import:"Import",font:"Import Font",glyph:"Import Glyph",picture:"Import From Picture",svg:"Import SVG"},export:{export:"Export",font:"Export Font",glyph:"Export Glyph",jpeg:"Export JPEG",png:"Export PNG",svg:"Export SVG"},char:{char:"Char And Icon",character:"Add Character",icon:"Add Icon"},settings:{settings:"Settings",font:"Font Settings",preference:"Preference",language:"Language"},templates:{templates:"Templates",test1:"TestTemplate1"},tools:{remove_overlap:"remove_overlap"}}},welcome={zh:{new:{name:"",description:"web"},open:{name:"",description:"web"},import:{name:"",description:"web"},sync:{name:"",description:"web"},template:{name:"",description:""},playground:{title:"",description:""}},en:{new:{name:"New Project",description:"Create new font (or web font) project"},open:{name:"Open Project",description:"Open existed font (or web font) project"},import:{name:"Import Font",description:"Import font as project"},sync:{name:"Sync Cache",description:"Sync cache"},template:{name:"Import Template",description:"Import template that FontPlayer provides for testing"},playground:{title:"Playground",description:"Quickly create a mini font library through parameterization"}}},programming={zh:{"global-constants":"","glyph-parameters":"","glyph-layout":"","new-constant":"","new-parameter":"",joint:"",refline:"",constant:"",number:"",ring:"",widget:"",controlType:"",type:"",value:"",character:"",glyph:"",radical:"",comp:"",glyph_comp:"",stroke:"",reset:"",execute:"",script:"",charCounts:"",strokeCounts:"",radicalCounts:"",compCounts:"",glyphCompCounts:""},en:{"global-constants":"Global Constants","glyph-parameters":"Glyph Parameters","glyph-layout":"Glyph Layout","new-constant":"New Constant","new-parameter":"New Parameter",joint:"Joint",refline:"Ref Line",constants:"const",number:"number",ring:"RingController",widget:"Widget",controlType:"Control Type",type:"Type",value:"value",character:"Character",glyph:"Glyph",radical:"Radical",comp:"Glyph",glyph_comp:"Component",stroke:"Stroke",reset:"Reset",execute:"Execute",script:"Script",charCounts:"Character",strokeCounts:"Stroke",radicalCounts:"Radical",compCounts:"Glyph",glyphCompCounts:"Components"}},messages={zh:{menus:menus.zh,dialogs:dialogs.zh,panels:panels.zh,welcome:welcome.zh,programming:programming.zh},en:{menus:menus.en,dialogs:dialogs.en,panels:panels.en,welcome:welcome.en,programming:programming.en}},i18nOptions={locale:"zh",fallbackLocale:"en",allowComposition:!0,messages},i18n=createI18n(i18nOptions),{tm}=i18n.global,web_menu=[{label:tm("menus.file.file"),key:"file",submenu:[{label:tm("menus.file.new"),key:"create-file",click:n=>{n["create-file"]()}},{label:tm("menus.file.open"),key:"open-file",click:n=>{n["open-file"]()}},{label:tm("menus.file.save"),key:"save-file",click:n=>{n["save-file"]()}},{label:tm("menus.file.clear"),key:"clear-cache",click:n=>{n["clear-cache"]()}},{label:tm("menus.file.sync_data"),key:"sync-data",click:n=>{n["sync-data"]()}},{label:tm("menus.file.export"),key:"save-as-json",click:n=>{n["save-as-json"]()}}]},{label:tm("menus.edit.edit"),key:"edit",submenu:[{label:tm("menus.edit.undo"),key:"undo",click:n=>{n.undo()}},{label:tm("menus.edit.redo"),key:"redo",click:n=>{n.redo()}},{label:tm("menus.edit.cut"),key:"cut",click:n=>{n.cut()}},{label:tm("menus.edit.copy"),key:"copy",click:n=>{n.copy()}},{label:tm("menus.edit.paste"),key:"paste",click:n=>{n.paste()}},{label:tm("menus.edit.delete"),key:"delete",click:n=>{n.delete()}}]},{label:tm("menus.import.import"),key:"import",submenu:[{label:tm("menus.import.font"),key:"import-font-file",click:n=>{n["import-font-file"]()}},{label:tm("menus.import.glyph"),key:"import-glyphs",click:n=>{n["import-glyphs"]()}},{label:tm("menus.import.picture"),key:"import-pic",click:n=>{n["import-pic"]()}},{label:tm("menus.import.svg"),key:"import-svg",click:n=>{n["import-svg"]()}}]},{label:tm("menus.export.export"),key:"export",submenu:[{label:tm("menus.export.font"),key:"export-font-file",click:n=>{n["export-font-file"]()}},{label:tm("menus.export.glyph"),key:"export-glyphs",click:n=>{n["export-glyphs"]()}},{label:tm("menus.export.jpeg"),key:"export-jpeg",click:n=>{n["export-jpeg"]()}},{label:tm("menus.export.png"),key:"export-png",click:n=>{n["export-png"]()}},{label:tm("menus.export.svg"),key:"export-svg",click:n=>{n["export-svg"]()}}]},{label:tm("menus.char.char"),key:"character",submenu:[{label:tm("menus.char.character"),key:"add-character",click:n=>{n["add-character"]()}},{label:tm("menus.char.icon"),key:"add-icon",click:n=>{n["add-icon"]()}}]},{label:tm("menus.settings.settings"),key:"settings",submenu:[{label:tm("menus.settings.font"),key:"font-settings",click:n=>{n["font-settings"]()}},{label:tm("menus.settings.preference"),key:"preference-settings",click:n=>{n["preference-settings"]()}},{label:tm("menus.settings.language"),key:"language-settings",click:n=>{n["language-settings"]()}}]},{label:tm("menus.templates.templates"),key:"templates",submenu:[{label:tm("menus.templates.test1"),key:"template-1",click:n=>{n["template-1"]()}},{label:tm("menus.templates.test2"),key:"template-2",click:n=>{n["template-2"]()}}]},{label:tm("menus.tools.tools"),key:"tools",submenu:[{label:tm("menus.tools.remove_overlap"),key:"remove_overlap",click:n=>{n.remove_overlap()}}]}],traverse_web_menu=(n,e)=>e.map(g=>{const y={};y.label=g.label,y.key=g.key,g.click&&(y.click=()=>{g&&g.click&&g.click(n)});const k=g.submenu?traverse_web_menu(n,g.submenu):null;return g.submenu&&(y.submenu=k),y}),_hoisted_1$12={key:0,class:"side-bar"},_sfc_main$13=defineComponent({__name:"SideBar",setup(n){const e=()=>!0,r=()=>editStatus.value===Status.Edit||editStatus.value===Status.Glyph,g=()=>editStatus.value===Status.CharacterList||editStatus.value===Status.GlyphList||editStatus.value===Status.StrokeGlyphList||editStatus.value===Status.RadicalGlyphList||editStatus.value===Status.CompGlyphList,y=()=>editStatus.value!==Status.Edit&&editStatus.value!==Status.Glyph&&editStatus.value!==Status.Pic,k={"create-file":g,"open-file":g,"save-file":e,"clear-cache":e,"sync-data":g,"save-as-json":e,undo:r,redo:r,cut:r,copy:r,paste:r,delete:r,"import-font-file":g,"import-templates-file":g,"import-glyphs":g,"import-pic":r,"import-svg":r,"export-font-file":e,"export-glyphs":g,"export-jpeg":r,"export-png":r,"export-svg":r,"add-character":g,"add-icon":g,"font-settings":e,"preference-settings":e,"language-settings":e,"template-1":y,"template-2":y,remove_overlap:r},$={file:app.component("Files"),edit:app.component("Edit"),import:app.component("Upload"),export:app.component("Download"),character:app.component("Tickets"),settings:app.component("Setting"),templates:app.component("List"),tools:app.component("Tools")},V=traverse_web_menu(web_handlers,web_menu),L=async z=>{web_handlers[z]&&web_handlers[z]()};return(z,j)=>{const re=resolveComponent("el-icon"),oe=resolveComponent("el-menu-item"),ae=resolveComponent("el-sub-menu"),de=resolveComponent("el-menu"),ue=resolveComponent("el-col");return unref(ENV)==="web"||unref(ENV)==="tauri"?(openBlock(),createElementBlock("div",_hoisted_1$12,[createVNode(ue,{class:"side-bar-row"},{default:withCtx(()=>[createVNode(de,{class:"el-menu side-bar",mode:"vertical",collapse:!0,onSelect:L},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),pe=>(openBlock(),createBlock(ae,{index:pe.key},{title:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($[pe.key])))]),_:2},1024)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(pe.submenu,he=>(openBlock(),createBlock(oe,{index:he.key,disabled:!k[he.key]()},{default:withCtx(()=>[createTextVNode(toDisplayString$1(he.label),1)]),_:2},1032,["index","disabled"]))),256))]),_:2},1032,["index"]))),256))]),_:1})]),_:1})])):createCommentVNode("",!0)}}}),SideBar=_export_sfc(_sfc_main$13,[["__scopeId","data-v-7a4473e4"]]),genPictureComponent=async(n,e,r)=>new Promise((g,y)=>{const k=document.createElement("img");k.onload=()=>{let $=k.width,V=k.height;($>e||V>r)&&(V/r>$/e?(V=r,$=k.width/k.height*V):($=e,V=k.height/k.width*$));const L=document.createElement("canvas");L.width=$,L.height=V,L.getContext("2d").drawImage(k,0,0,k.width,k.height,0,0,$,V);const j=document.createElement("img"),re=L.toDataURL();j.onload=()=>{const oe=toPixels(j),ae={uuid:genUUID(),type:"picture",name:"picture",lock:!1,visible:!0,value:{data:re,img:j,pixels:oe,originImg:k,pixelMode:!1},x:0,y:0,w:$,h:V,rotation:0,flipX:!1,flipY:!1,opacity:.5,usedInCharacter:!1};g(ae)},j.src=re},k.src=n});function __classPrivateFieldGet(n,e,r,g){if(r==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!g:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?g:r==="a"?g.call(n):g?g.value:e.get(n)}function __classPrivateFieldSet(n,e,r,g,y){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!y:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?y.call(n,r):y?y.value=r:e.set(n,r),r}typeof SuppressedError=="function"&&SuppressedError;var _Resource_rid;const SERIALIZE_TO_IPC_FN="__TAURI_TO_IPC_KEY__";function transformCallback(n,e=!1){return window.__TAURI_INTERNALS__.transformCallback(n,e)}async function invoke(n,e={},r){return window.__TAURI_INTERNALS__.invoke(n,e,r)}class Resource{get rid(){return __classPrivateFieldGet(this,_Resource_rid,"f")}constructor(e){_Resource_rid.set(this,void 0),__classPrivateFieldSet(this,_Resource_rid,e,"f")}async close(){return invoke("plugin:resources|close",{rid:this.rid})}}_Resource_rid=new WeakMap;class LogicalSize{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new PhysicalSize(this.width*e,this.height*e)}[SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class PhysicalSize{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new LogicalSize(this.width/e,this.height/e)}[SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class Size{constructor(e){this.size=e}toLogical(e){return this.size instanceof LogicalSize?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof PhysicalSize?this.size:this.size.toPhysical(e)}[SERIALIZE_TO_IPC_FN](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class LogicalPosition{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new PhysicalPosition(this.x*e,this.y*e)}[SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class PhysicalPosition{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new LogicalPosition(this.x/e,this.y/e)}[SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class Position{constructor(e){this.position=e}toLogical(e){return this.position instanceof LogicalPosition?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof PhysicalPosition?this.position:this.position.toPhysical(e)}[SERIALIZE_TO_IPC_FN](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}var TauriEvent;(function(n){n.WINDOW_RESIZED="tauri://resize",n.WINDOW_MOVED="tauri://move",n.WINDOW_CLOSE_REQUESTED="tauri://close-requested",n.WINDOW_DESTROYED="tauri://destroyed",n.WINDOW_FOCUS="tauri://focus",n.WINDOW_BLUR="tauri://blur",n.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",n.WINDOW_THEME_CHANGED="tauri://theme-changed",n.WINDOW_CREATED="tauri://window-created",n.WEBVIEW_CREATED="tauri://webview-created",n.DRAG_ENTER="tauri://drag-enter",n.DRAG_OVER="tauri://drag-over",n.DRAG_DROP="tauri://drag-drop",n.DRAG_LEAVE="tauri://drag-leave"})(TauriEvent||(TauriEvent={}));async function _unlisten(n,e){await invoke("plugin:event|unlisten",{event:n,eventId:e})}async function listen(n,e,r){var g;const y=typeof r?.target=="string"?{kind:"AnyLabel",label:r.target}:(g=r?.target)!==null&&g!==void 0?g:{kind:"Any"};return invoke("plugin:event|listen",{event:n,target:y,handler:transformCallback(e)}).then(k=>async()=>_unlisten(n,k))}async function once(n,e,r){return listen(n,g=>{_unlisten(n,g.id),e(g)},r)}async function emit(n,e){await invoke("plugin:event|emit",{event:n,payload:e})}async function emitTo(n,e,r){await invoke("plugin:event|emit_to",{target:typeof n=="string"?{kind:"AnyLabel",label:n}:n,event:e,payload:r})}class Image extends Resource{constructor(e){super(e)}static async new(e,r,g){return invoke("plugin:image|new",{rgba:transformImage(e),width:r,height:g}).then(y=>new Image(y))}static async fromBytes(e){return invoke("plugin:image|from_bytes",{bytes:transformImage(e)}).then(r=>new Image(r))}static async fromPath(e){return invoke("plugin:image|from_path",{path:e}).then(r=>new Image(r))}async rgba(){return invoke("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return invoke("plugin:image|size",{rid:this.rid})}}function transformImage(n){return n==null?null:typeof n=="string"?n:n instanceof Image?n.rid:n}var UserAttentionType;(function(n){n[n.Critical=1]="Critical",n[n.Informational=2]="Informational"})(UserAttentionType||(UserAttentionType={}));class CloseRequestedEvent{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var ProgressBarStatus;(function(n){n.None="none",n.Normal="normal",n.Indeterminate="indeterminate",n.Paused="paused",n.Error="error"})(ProgressBarStatus||(ProgressBarStatus={}));function getCurrentWindow(){return new Window$1(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function getAllWindows(){return invoke("plugin:window|get_all_windows").then(n=>n.map(e=>new Window$1(e,{skip:!0})))}const localTauriEvents$1=["tauri://created","tauri://error"];let Window$1=class{constructor(e,r={}){var g;this.label=e,this.listeners=Object.create(null),r?.skip||invoke("plugin:window|create",{options:{...r,parent:typeof r.parent=="string"?r.parent:(g=r.parent)===null||g===void 0?void 0:g.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async y=>this.emit("tauri://error",y))}static async getByLabel(e){var r;return(r=(await getAllWindows()).find(g=>g.label===e))!==null&&r!==void 0?r:null}static getCurrent(){return getCurrentWindow()}static async getAll(){return getAllWindows()}static async getFocusedWindow(){for(const e of await getAllWindows())if(await e.isFocused())return e;return null}async listen(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:listen(e,r,{target:{kind:"Window",label:this.label}})}async once(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:once(e,r,{target:{kind:"Window",label:this.label}})}async emit(e,r){if(localTauriEvents$1.includes(e)){for(const g of this.listeners[e]||[])g({event:e,id:-1,payload:r});return}return emit(e,r)}async emitTo(e,r,g){if(localTauriEvents$1.includes(r)){for(const y of this.listeners[r]||[])y({event:r,id:-1,payload:g});return}return emitTo(e,r,g)}_handleTauriEvent(e,r){return localTauriEvents$1.includes(e)?(e in this.listeners?this.listeners[e].push(r):this.listeners[e]=[r],!0):!1}async scaleFactor(){return invoke("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return invoke("plugin:window|inner_position",{label:this.label}).then(e=>new PhysicalPosition(e))}async outerPosition(){return invoke("plugin:window|outer_position",{label:this.label}).then(e=>new PhysicalPosition(e))}async innerSize(){return invoke("plugin:window|inner_size",{label:this.label}).then(e=>new PhysicalSize(e))}async outerSize(){return invoke("plugin:window|outer_size",{label:this.label}).then(e=>new PhysicalSize(e))}async isFullscreen(){return invoke("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return invoke("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return invoke("plugin:window|is_maximized",{label:this.label})}async isFocused(){return invoke("plugin:window|is_focused",{label:this.label})}async isDecorated(){return invoke("plugin:window|is_decorated",{label:this.label})}async isResizable(){return invoke("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return invoke("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return invoke("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return invoke("plugin:window|is_closable",{label:this.label})}async isVisible(){return invoke("plugin:window|is_visible",{label:this.label})}async title(){return invoke("plugin:window|title",{label:this.label})}async theme(){return invoke("plugin:window|theme",{label:this.label})}async center(){return invoke("plugin:window|center",{label:this.label})}async requestUserAttention(e){let r=null;return e&&(e===UserAttentionType.Critical?r={type:"Critical"}:r={type:"Informational"}),invoke("plugin:window|request_user_attention",{label:this.label,value:r})}async setResizable(e){return invoke("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return invoke("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return invoke("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return invoke("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return invoke("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return invoke("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return invoke("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return invoke("plugin:window|maximize",{label:this.label})}async unmaximize(){return invoke("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return invoke("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return invoke("plugin:window|minimize",{label:this.label})}async unminimize(){return invoke("plugin:window|unminimize",{label:this.label})}async show(){return invoke("plugin:window|show",{label:this.label})}async hide(){return invoke("plugin:window|hide",{label:this.label})}async close(){return invoke("plugin:window|close",{label:this.label})}async destroy(){return invoke("plugin:window|destroy",{label:this.label})}async setDecorations(e){return invoke("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return invoke("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return invoke("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return invoke("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return invoke("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return invoke("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return invoke("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return invoke("plugin:window|set_size",{label:this.label,value:e instanceof Size?e:new Size(e)})}async setMinSize(e){return invoke("plugin:window|set_min_size",{label:this.label,value:e instanceof Size?e:e?new Size(e):null})}async setMaxSize(e){return invoke("plugin:window|set_max_size",{label:this.label,value:e instanceof Size?e:e?new Size(e):null})}async setSizeConstraints(e){function r(g){return g?{Logical:g}:null}return invoke("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:r(e?.minWidth),minHeight:r(e?.minHeight),maxWidth:r(e?.maxWidth),maxHeight:r(e?.maxHeight)}})}async setPosition(e){return invoke("plugin:window|set_position",{label:this.label,value:e instanceof Position?e:new Position(e)})}async setFullscreen(e){return invoke("plugin:window|set_fullscreen",{label:this.label,value:e})}async setFocus(){return invoke("plugin:window|set_focus",{label:this.label})}async setIcon(e){return invoke("plugin:window|set_icon",{label:this.label,value:transformImage(e)})}async setSkipTaskbar(e){return invoke("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return invoke("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return invoke("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return invoke("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return invoke("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return invoke("plugin:window|set_cursor_position",{label:this.label,value:e instanceof Position?e:new Position(e)})}async setIgnoreCursorEvents(e){return invoke("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return invoke("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return invoke("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setProgressBar(e){return invoke("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return invoke("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return invoke("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return invoke("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(TauriEvent.WINDOW_RESIZED,r=>{r.payload=new PhysicalSize(r.payload),e(r)})}async onMoved(e){return this.listen(TauriEvent.WINDOW_MOVED,r=>{r.payload=new PhysicalPosition(r.payload),e(r)})}async onCloseRequested(e){return this.listen(TauriEvent.WINDOW_CLOSE_REQUESTED,async r=>{const g=new CloseRequestedEvent(r);await e(g),g.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const r=await this.listen(TauriEvent.DRAG_ENTER,$=>{e({...$,payload:{type:"enter",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),g=await this.listen(TauriEvent.DRAG_OVER,$=>{e({...$,payload:{type:"over",position:new PhysicalPosition($.payload.position)}})}),y=await this.listen(TauriEvent.DRAG_DROP,$=>{e({...$,payload:{type:"drop",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),k=await this.listen(TauriEvent.DRAG_LEAVE,$=>{e({...$,payload:{type:"leave"}})});return()=>{r(),y(),g(),k()}}async onFocusChanged(e){const r=await this.listen(TauriEvent.WINDOW_FOCUS,y=>{e({...y,payload:!0})}),g=await this.listen(TauriEvent.WINDOW_BLUR,y=>{e({...y,payload:!1})});return()=>{r(),g()}}async onScaleChanged(e){return this.listen(TauriEvent.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(TauriEvent.WINDOW_THEME_CHANGED,e)}};var Effect;(function(n){n.AppearanceBased="appearanceBased",n.Light="light",n.Dark="dark",n.MediumLight="mediumLight",n.UltraDark="ultraDark",n.Titlebar="titlebar",n.Selection="selection",n.Menu="menu",n.Popover="popover",n.Sidebar="sidebar",n.HeaderView="headerView",n.Sheet="sheet",n.WindowBackground="windowBackground",n.HudWindow="hudWindow",n.FullScreenUI="fullScreenUI",n.Tooltip="tooltip",n.ContentBackground="contentBackground",n.UnderWindowBackground="underWindowBackground",n.UnderPageBackground="underPageBackground",n.Mica="mica",n.Blur="blur",n.Acrylic="acrylic",n.Tabbed="tabbed",n.TabbedDark="tabbedDark",n.TabbedLight="tabbedLight"})(Effect||(Effect={}));var EffectState;(function(n){n.FollowsWindowActiveState="followsWindowActiveState",n.Active="active",n.Inactive="inactive"})(EffectState||(EffectState={}));function getCurrentWebview(){return new Webview(getCurrentWindow(),window.__TAURI_INTERNALS__.metadata.currentWebview.label,{skip:!0})}async function getAllWebviews(){return invoke("plugin:webview|get_all_webviews").then(n=>n.map(e=>new Webview(new Window$1(e.windowLabel,{skip:!0}),e.label,{skip:!0})))}const localTauriEvents=["tauri://created","tauri://error"];class Webview{constructor(e,r,g){this.window=e,this.label=r,this.listeners=Object.create(null),g?.skip||invoke("plugin:webview|create_webview",{windowLabel:e.label,label:r,options:g}).then(async()=>this.emit("tauri://created")).catch(async y=>this.emit("tauri://error",y))}static async getByLabel(e){var r;return(r=(await getAllWebviews()).find(g=>g.label===e))!==null&&r!==void 0?r:null}static getCurrent(){return getCurrentWebview()}static async getAll(){return getAllWebviews()}async listen(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:listen(e,r,{target:{kind:"Webview",label:this.label}})}async once(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:once(e,r,{target:{kind:"Webview",label:this.label}})}async emit(e,r){if(localTauriEvents.includes(e)){for(const g of this.listeners[e]||[])g({event:e,id:-1,payload:r});return}return emit(e,r)}async emitTo(e,r,g){if(localTauriEvents.includes(r)){for(const y of this.listeners[r]||[])y({event:r,id:-1,payload:g});return}return emitTo(e,r,g)}_handleTauriEvent(e,r){return localTauriEvents.includes(e)?(e in this.listeners?this.listeners[e].push(r):this.listeners[e]=[r],!0):!1}async position(){return invoke("plugin:webview|webview_position",{label:this.label}).then(e=>new PhysicalPosition(e))}async size(){return invoke("plugin:webview|webview_size",{label:this.label}).then(e=>new PhysicalSize(e))}async close(){return invoke("plugin:webview|close",{label:this.label})}async setSize(e){return invoke("plugin:webview|set_webview_size",{label:this.label,value:e instanceof Size?e:new Size(e)})}async setPosition(e){return invoke("plugin:webview|set_webview_position",{label:this.label,value:e instanceof Position?e:new Position(e)})}async setFocus(){return invoke("plugin:webview|set_webview_focus",{label:this.label})}async hide(){return invoke("plugin:webview|webview_hide",{label:this.label})}async show(){return invoke("plugin:webview|webview_show",{label:this.label})}async setZoom(e){return invoke("plugin:webview|set_webview_zoom",{label:this.label,value:e})}async reparent(e){return invoke("plugin:webview|reparent",{label:this.label,window:typeof e=="string"?e:e.label})}async clearAllBrowsingData(){return invoke("plugin:webview|clear_all_browsing_data")}async setBackgroundColor(e){return invoke("plugin:webview|set_webview_background_color",{color:e})}async onDragDropEvent(e){const r=await this.listen(TauriEvent.DRAG_ENTER,$=>{e({...$,payload:{type:"enter",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),g=await this.listen(TauriEvent.DRAG_OVER,$=>{e({...$,payload:{type:"over",position:new PhysicalPosition($.payload.position)}})}),y=await this.listen(TauriEvent.DRAG_DROP,$=>{e({...$,payload:{type:"drop",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),k=await this.listen(TauriEvent.DRAG_LEAVE,$=>{e({...$,payload:{type:"leave"}})});return()=>{r(),y(),g(),k()}}}function getCurrentWebviewWindow(){const n=getCurrentWebview();return new WebviewWindow(n.label,{skip:!0})}async function getAllWebviewWindows(){return invoke("plugin:window|get_all_windows").then(n=>n.map(e=>new WebviewWindow(e,{skip:!0})))}class WebviewWindow{constructor(e,r={}){var g;this.label=e,this.listeners=Object.create(null),r?.skip||invoke("plugin:webview|create_webview_window",{options:{...r,parent:typeof r.parent=="string"?r.parent:(g=r.parent)===null||g===void 0?void 0:g.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async y=>this.emit("tauri://error",y))}static async getByLabel(e){var r;const g=(r=(await getAllWebviewWindows()).find(y=>y.label===e))!==null&&r!==void 0?r:null;return g?new WebviewWindow(g.label,{skip:!0}):null}static getCurrent(){return getCurrentWebviewWindow()}static async getAll(){return getAllWebviewWindows()}async listen(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:listen(e,r,{target:{kind:"WebviewWindow",label:this.label}})}async once(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:once(e,r,{target:{kind:"WebviewWindow",label:this.label}})}async setBackgroundColor(e){return invoke("plugin:window|set_background_color",{color:e}).then(()=>invoke("plugin:webview|set_webview_background_color",{color:e}))}}applyMixins(WebviewWindow,[Window$1,Webview]);function applyMixins(n,e){(Array.isArray(e)?e:[e]).forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(g=>{var y;typeof n.prototype=="object"&&n.prototype&&g in n.prototype||Object.defineProperty(n.prototype,g,(y=Object.getOwnPropertyDescriptor(r.prototype,g))!==null&&y!==void 0?y:Object.create(null))})})}const _withScopeId$8=n=>(pushScopeId("data-v-7cbaa294"),n=n(),popScopeId(),n),_hoisted_1$11={class:"tool-bar"},_hoisted_2$$=_withScopeId$8(()=>createBaseVNode("span",{class:"to-list-label"},"",-1)),_sfc_main$12=defineComponent({__name:"ToolBar",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=async pe=>{if(tool.value==="grid"&&pe!=="grid"&&(g.value==="zh"?ElMessageBox.alert("","",{confirmButtonText:""}):g.value==="en"&&ElMessageBox.alert("For user convenience in component editing operations, the default layout will be restored when leaving the layout editing interface. If you have applied layout transformations, the transformed layout will be used for previewing and exporting the font library. However, the default layout will still be used for other editing operations.","Note: You have left the layout editing interface",{confirmButtonText:"Confirm"})),pe!=="picture"&&(saveState("",[StoreType.Tools],OpType.Undo),setTool(pe)),pe==="picture")if(saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),ENV.value==="tauri"){const he=await nativeImportFile(["jpg","png","jpeg"]),{name:xe,uint8Array:$e}=he;if(!$e)return;let Ne="";$e.forEach(kt=>{Ne+=String.fromCharCode(kt)});const Oe=btoa(Ne),Fe=`data:${xe.split(".")[1]==="png"?"imge/png":"image/jpeg"};base64,${Oe}`,Ue=await genPictureComponent(Fe,selectedFile.value.width,selectedFile.value.height);editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(Ue):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(Ue)}else{const he=document.createElement("input");he.setAttribute("type","file"),he.setAttribute("style","display: none"),he.setAttribute("accept","image/*"),he.addEventListener("change",async xe=>{const Ne=xe.currentTarget.files;for(let Oe=0;Oe<Ne.length;Oe++){const _e=window.URL.createObjectURL(Ne[Oe]),Fe=await genPictureComponent(_e,selectedFile.value.width,selectedFile.value.height);editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(Fe):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(Fe)}document.body.removeChild(he)}),document.body.appendChild(he),he.click()}},k=()=>{setEditStatus(Status.CharacterList)};let $=!1;const V=async()=>{if(!$){if(ENV.value==="web")editStatus.value===Status.Edit?(window.__constants=constants.value,window.__script=editCharacterFile.value.script,window.__is_web=ENV.value==="web",window.addEventListener("message",ue),window.open(`${location.origin}${location.pathname}#/character-programming-editor`,"character",`popup,width=1280,height=800,left=${(screen.width-1280)/2}`)):editStatus.value===Status.Glyph&&(window.__constants=constants.value,window.__parameters=editGlyph.value.parameters.parameters,window.__script=editGlyph.value.script,window.__is_web=ENV.value==="web",window.addEventListener("message",ue),window.open(`${location.origin}${location.pathname}#/glyph-programming-editor`,"custom-glyph",`popup,width=1280,height=800,left=${(screen.width-1280)/2}`));else if(ENV.value==="tauri"){if(editStatus.value===Status.Edit){const pe={url:`${location.origin}${location.pathname}#/character-programming-editor`,width:1280,height:800,x:(screen.width-1280)/2,y:(screen.height-800)/2},he=new WebviewWindow("character-script",pe);he.once("tauri://created",async()=>{console.log("webview created")}),he.once("tauri://error",function(xe){console.log("error creating webview",xe)})}else if(editStatus.value===Status.Glyph){const pe={url:`${location.origin}${location.pathname}#/glyph-programming-editor`,width:1280,height:800,x:(screen.width-1280)/2,y:(screen.height-800)/2},he=new WebviewWindow("glyph-script",pe);he.once("tauri://created",async()=>{console.log("webview created")}),he.once("tauri://error",function(xe){console.log("error creating webview",xe)})}}}};let L=null,z=null,j=null,re=null,oe=!1;onMounted(()=>{ENV.value==="tauri"&&(L=listen("on-webview-mounted",async pe=>{editStatus.value===Status.Edit?await emit("init-data",{__constants:constants.value,__script:editCharacterFile.value.script,__isWeb:ENV.value==="web"}):editStatus.value===Status.Glyph&&await emit("init-data",{__constants:constants.value,__parameters:editGlyph.value.parameters.parameters,__script:editGlyph.value.script,__isWeb:ENV.value==="web"})}),z=listen("sync-info",async pe=>{oe||de(),oe=!0;const{__constants:he,__parameters:xe,__script:$e}=pe.payload;editStatus.value===Status.Glyph?(editGlyph.value.parameters.parameters=xe,constants.value=he,editGlyph.value.script=$e):editStatus.value===Status.Edit&&(constants.value=he,editCharacterFile.value.script=$e)}),j=listen("execute-script",async pe=>{editStatus.value===Status.Glyph?(executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0)):editStatus.value===Status.Edit&&(executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0))}),re=listen("on-webview-close",()=>{ae()}))});const ae=()=>{oe=!1,$=!1},de=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{undoTip:"",redoTip:"",newRecord:!0})};onUnmounted(()=>{L&&L(),z&&z(),j&&j(),re&&re()});const ue=pe=>{pe.data==="sync-info"?(oe||de(),oe=!0,editStatus.value===Status.Glyph?(editGlyph.value.parameters.parameters=JSON.parse(localStorage.getItem("parameters")),constants.value=JSON.parse(localStorage.getItem("constants")),editGlyph.value.script=localStorage.getItem("script")):editStatus.value===Status.Edit&&(constants.value=JSON.parse(localStorage.getItem("constants")),editCharacterFile.value.script=localStorage.getItem("script"))):pe.data==="execute-script"?editStatus.value===Status.Glyph?(executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0)):editStatus.value===Status.Edit&&(executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0)):pe.data==="close-window"&&ae()};return(pe,he)=>{const xe=resolveComponent("font-awesome-icon"),$e=resolveComponent("el-icon"),Ne=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$11,[createVNode(Ne,{class:"tool-bar-row"},{default:withCtx(()=>[createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="select"}),onPointerdown:he[0]||(he[0]=Oe=>y("select"))},{default:withCtx(()=>[createVNode(xe,{icon:"fa-solid fa-arrow-pointer"})]),_:1},8,["class"]),createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="pen"}),onPointerdown:he[1]||(he[1]=Oe=>y("pen"))},{default:withCtx(()=>[createVNode(xe,{icon:"fa-solid fa-pen-nib"})]),_:1},8,["class"]),createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="ellipse"}),onPointerdown:he[2]||(he[2]=Oe=>y("ellipse"))},{default:withCtx(()=>[createVNode(xe,{icon:"fa-regular fa-circle"})]),_:1},8,["class"]),createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="rectangle"}),onPointerdown:he[3]||(he[3]=Oe=>y("rectangle"))},{default:withCtx(()=>[createVNode(xe,{icon:"fa-regular fa-square"})]),_:1},8,["class"]),createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="polygon"}),onPointerdown:he[4]||(he[4]=Oe=>y("polygon"))},{default:withCtx(()=>[createVNode(xe,{icon:"fa-solid fa-draw-polygon"})]),_:1},8,["class"]),withDirectives(createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="picture"}),onPointerdown:he[5]||(he[5]=Oe=>y("picture"))},{default:withCtx(()=>[createVNode(xe,{icon:"fa-solid fa-image"})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit]]),withDirectives(createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="glyph"}),onPointerdown:he[6]||(he[6]=Oe=>glyphComponentsDialogVisible2.value=!0)},{default:withCtx(()=>[createVNode(xe,{icon:["fas","font"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Glyph]]),withDirectives(createVNode($e,{class:"code-icon",onPointerdown:V},{default:withCtx(()=>[createVNode(xe,{icon:["fas","terminal"]})]),_:1},512),[[vShow,unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Glyph]]),withDirectives(createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="params"}),onPointerdown:he[7]||(he[7]=Oe=>y("params"))},{default:withCtx(()=>[createVNode(xe,{icon:["fas","sliders"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Glyph]]),withDirectives(createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="grid"}),onPointerdown:he[8]||(he[8]=Oe=>y("grid"))},{default:withCtx(()=>[createVNode(xe,{icon:["fas","table-cells"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit]]),withDirectives(createVNode($e,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="metrics"}),onPointerdown:he[9]||(he[9]=Oe=>y("metrics"))},{default:withCtx(()=>[createVNode(xe,{icon:["fas","text-width"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit]]),createBaseVNode("div",{class:"to-list",onPointerdown:k},[createVNode($e,{class:"to-list-icon"},{default:withCtx(()=>[createVNode(unref(grid_default))]),_:1}),_hoisted_2$$],32)]),_:1})])}}}),ToolBar=_export_sfc(_sfc_main$12,[["__scopeId","data-v-7cbaa294"]]),_hoisted_1$10={class:"list-wrapper"},_hoisted_2$_={key:0,class:"all-components-list"},_hoisted_3$B={class:"component-item-wrapper"},_hoisted_4$y=["onDragstart","onDragover","onDragend","onDrop","onPointerdown","onContextmenu"],_hoisted_5$u={class:"name"},_hoisted_6$s={class:"tool-wrapper"},_hoisted_7$p={class:"component-menu"},_hoisted_8$o=["onPointerdown"],_hoisted_9$o=["onPointerdown"],_hoisted_10$m=["onPointerdown"],_hoisted_11$l=["onPointerdown"],_hoisted_12$i={key:0,class:"font-components-list"},_hoisted_13$i={class:"component-item-wrapper"},_hoisted_14$i=["onPointerdown"],_hoisted_15$f={class:"name"},_hoisted_16$d={class:"tool-wrapper"},_hoisted_17$b={class:"component-menu"},_hoisted_18$a=["onPointerdown"],_hoisted_19$a=["onPointerdown"],_hoisted_20$a=["onPointerdown"],_hoisted_21$9=["onPointerdown"],_sfc_main$11=defineComponent({__name:"CharacterComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const Oe={};return orderedListWithItemsForCurrentCharacterFile.value.map(_e=>{Oe[_e.uuid]=!1}),Oe})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=(Oe,_e)=>{modifyComponentForCurrentCharacterFile(Oe,{lock:_e})},z=(Oe,_e)=>{modifyComponentForCurrentCharacterFile(Oe,{visible:_e})},j=(Oe,_e,Fe)=>{Fe==="pucture"||Fe==="pressPen"||modifyComponentForCurrentCharacterFile(Oe,{usedInCharacter:_e})},re=(Oe,_e)=>{let Fe=!0;(!selectedComponent.value||selectedComponent.value&&selectedComponent.value.uuid!==_e)&&(Fe=!1),selectedComponentsUUIDs.value.indexOf(_e)!==-1&&(Fe=!0),(selectedComponent.value==="multi"&&enableMultiSelect.value||!Fe)&&setSelectionForCurrentCharacterFile(_e);const Ue=selectedItemByUUID(editCharacterFile.value.components,_e);if(Ue.type==="glyph"&&Ue.value.components&&Ue.value.components.length){let kt=!1;for(let Lt=0;Lt<Ue.value.components.length;Lt++)if(Ue.value.components[Lt].type==="glyph"){kt=!0;break}kt&&Fe&&(editCharacterFile.value.selectedComponentsTree||(editCharacterFile.value.selectedComponentsTree=[]),editCharacterFile.value.selectedComponentsTree.push(_e),editCharacterFile.value.selectedComponentsTree.push("null"))}Ue.type==="glyph"&&setTool("glyphDragger")},oe=(Oe,_e)=>{y=_e},ae=(Oe,_e)=>{Oe.preventDefault();const Fe=orderedListForCurrentCharacterFile.value;for(let Ue=0;Ue<Fe.length;Ue++)y===Fe[Ue].uuid&&(k=Ue),_e===Fe[Ue].uuid&&($=Ue);Oe.offsetY<Oe.target.offsetHeight/2?V=$:Oe.offsetY>Oe.target.offsetHeight/2&&(V=$+1)},de=(Oe,_e)=>{y="",y="",k=-1,$=-1,V=-1},ue=(Oe,_e)=>{const Fe=clone$1(orderedListForCurrentCharacterFile.value);k!==$&&(Fe.splice(k,1),k<=V&&(V-=1),Fe.splice(V,0,{type:"component",uuid:y}),setOrderedListForCurrentCharacterFile(Fe))},pe=Oe=>{if(!selectedComponents.value||!selectedComponents.value.length){const _e=selectedItemByUUID(editCharacterFile.value.components,Oe);setClipBoard(clone$1(_e)),removeComponentForCurrentCharacterFile(Oe)}else{let _e=!1;if(selectedComponents.value)for(let Fe=0;Fe<selectedComponents.value?.length;Fe++)selectedComponents.value[Fe].uuid===Oe&&(_e=!0);if(_e)setClipBoard(clone$1(selectedComponents.value)),selectedComponents.value.map(Fe=>{removeComponentForCurrentCharacterFile(Fe.uuid)});else{const Fe=selectedItemByUUID(editCharacterFile.value.components,Oe);setClipBoard(clone$1(Fe)),removeComponentForCurrentCharacterFile(Oe)}}setSelectionForCurrentCharacterFile(""),g.value=!1,r[Oe]=!1},he=Oe=>{if(!selectedComponents.value||!selectedComponents.value.length){const _e=selectedItemByUUID(editCharacterFile.value.components,Oe);setClipBoard(clone$1(_e))}else{let _e=!1;if(selectedComponents.value)for(let Fe=0;Fe<selectedComponents.value?.length;Fe++)selectedComponents.value[Fe].uuid===Oe&&(_e=!0);if(_e)setClipBoard(clone$1(selectedComponents.value));else{const Fe=selectedItemByUUID(editCharacterFile.value.components,Oe);setClipBoard(clone$1(Fe))}}g.value=!1,r[Oe]=!1},xe=Oe=>{const _e=clipBoard.value;for(let Fe=_e.length-1;Fe>=0;Fe--){const Ue=_e[Fe];Ue.uuid=genUUID(),insertComponentForCurrentCharacterFile(Ue,{uuid:Oe,pos:"next"})}setClipBoard([]),g.value=!1,r[Oe]=!1},$e=Oe=>{if(!selectedComponents.value||!selectedComponents.value.length)removeComponentForCurrentCharacterFile(Oe);else{let _e=!1;if(selectedComponents.value)for(let Fe=0;Fe<selectedComponents.value?.length;Fe++)selectedComponents.value[Fe].uuid===Oe&&(_e=!0);_e?selectedComponents.value.map(Fe=>{removeComponentForCurrentCharacterFile(Fe.uuid)}):removeComponentForCurrentCharacterFile(Oe)}setSelectionForCurrentCharacterFile(""),g.value=!1,r[Oe]=!1},Ne=(Oe,_e)=>{if(Oe.preventDefault(),g.value)return;g.value=!0,r[_e]=!0;const Fe=Ue=>{Ue.target.closest(".component.menu")||(g.value=!1,r[_e]=!1)};document.addEventListener("mousedown",Fe)};return(Oe,_e)=>{const Fe=resolveComponent("el-icon"),Ue=resolveComponent("el-popover"),kt=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$10,[unref(editPanelCompFilter)==="all"?(openBlock(),createBlock(kt,{key:0},{default:withCtx(()=>[unref(editPanelCompFilter)==="all"?(openBlock(),createElementBlock("div",_hoisted_2$_,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(orderedListWithItemsForCurrentCharacterFile),Lt=>(openBlock(),createElementBlock("div",_hoisted_3$B,[createVNode(Ue,{placement:"right",width:200,trigger:"manual",visible:r[Lt.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs).indexOf(Lt.uuid)!==-1}),draggable:!0,onDragstart:wn=>oe(wn,Lt.uuid),onDragover:wn=>ae(wn,Lt.uuid),onDragend:wn=>de(wn,Lt.uuid),onDrop:wn=>ue(wn,Lt.uuid),onPointerdown:wn=>re(wn,Lt.uuid),onContextmenu:wn=>Ne(wn,Lt.uuid)},[createBaseVNode("span",_hoisted_5$u,toDisplayString$1(Lt.name||Lt.type),1),createBaseVNode("span",_hoisted_6$s,[createVNode(Fe,{class:"tool-icon used-in-character",onPointerdown:wn=>j(Lt.uuid,!Lt.usedInCharacter,Lt.type)},{default:withCtx(()=>[Lt.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),Lt.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon lock",onPointerdown:wn=>L(Lt.uuid,!Lt.lock)},{default:withCtx(()=>[Lt.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),Lt.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon visible",onPointerdown:wn=>z(Lt.uuid,!Lt.visible)},{default:withCtx(()=>[Lt.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),Lt.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onPointerdown"])])],42,_hoisted_4$y)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$p,[createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>pe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),41,_hoisted_8$o),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>he(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),41,_hoisted_9$o),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>xe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),41,_hoisted_10$m),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>$e(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),41,_hoisted_11$l)])]),_:2},1032,["visible"])]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),unref(editPanelCompFilter)==="font"?(openBlock(),createBlock(kt,{key:1},{default:withCtx(()=>[unref(editPanelCompFilter)==="font"?(openBlock(),createElementBlock("div",_hoisted_12$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(usedComponents),Lt=>(openBlock(),createElementBlock("div",_hoisted_13$i,[createVNode(Ue,{placement:"right",width:200,trigger:"contextmenu"},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs).indexOf(Lt.uuid)!==-1}),onPointerdown:wn=>re(wn,Lt.uuid)},[createBaseVNode("span",_hoisted_15$f,toDisplayString$1(Lt.name||Lt.type),1),createBaseVNode("span",_hoisted_16$d,[createVNode(Fe,{class:"tool-icon used-in-character",onPointerdown:wn=>j(Lt.uuid,!Lt.usedInCharacter,Lt.type)},{default:withCtx(()=>[Lt.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),Lt.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon lock",onPointerdown:wn=>L(Lt.uuid,!Lt.lock)},{default:withCtx(()=>[Lt.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),Lt.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon visible",onPointerdown:wn=>z(Lt.uuid,!Lt.visible)},{default:withCtx(()=>[Lt.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),Lt.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onPointerdown"])])],42,_hoisted_14$i)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_17$b,[createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>pe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),41,_hoisted_18$a),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>he(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),41,_hoisted_19$a),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>xe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),41,_hoisted_20$a),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>$e(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),41,_hoisted_21$9)])]),_:2},1024)]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)])}}}),CharacterComponentList=_export_sfc(_sfc_main$11,[["__scopeId","data-v-4bda98f2"]]),_hoisted_1$$={class:"list-wrapper"},_hoisted_2$Z={key:0,class:"all-components-list"},_hoisted_3$A={class:"component-item-wrapper"},_hoisted_4$x=["onDragstart","onDragover","onDragend","onDrop","onPointerdown","onContextmenu"],_hoisted_5$t={class:"name"},_hoisted_6$r={class:"tool-wrapper"},_hoisted_7$o={class:"component-menu"},_hoisted_8$n=["onPointerdown"],_hoisted_9$n=["onPointerdown"],_hoisted_10$l=["onPointerdown"],_hoisted_11$k=["onPointerdown"],_hoisted_12$h={key:0,class:"font-components-list"},_hoisted_13$h={class:"component-item-wrapper"},_hoisted_14$h=["onPointerdown"],_hoisted_15$e={class:"name"},_hoisted_16$c={class:"tool-wrapper"},_hoisted_17$a={class:"component-menu"},_hoisted_18$9=["onPointerdown"],_hoisted_19$9=["onPointerdown"],_hoisted_20$9=["onPointerdown"],_hoisted_21$8=["onPointerdown"],_sfc_main$10=defineComponent({__name:"GlyphComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const Oe={};return orderedListWithItemsForCurrentGlyph.value.map(_e=>{Oe[_e.uuid]=!1}),Oe})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=(Oe,_e)=>{modifyComponentForCurrentGlyph(Oe,{lock:_e})},z=(Oe,_e)=>{modifyComponentForCurrentGlyph(Oe,{visible:_e})},j=(Oe,_e,Fe)=>{Fe==="pucture"||Fe==="pressPen"||modifyComponentForCurrentGlyph(Oe,{usedInCharacter:_e})},re=(Oe,_e)=>{let Fe=!0;(!selectedComponent$1.value||selectedComponent$1.value&&selectedComponent$1.value.uuid!==_e)&&(Fe=!1),selectedComponentsUUIDs$1.value.indexOf(_e)!==-1&&(Fe=!0),!Fe&&setSelectionForCurrentGlyph(_e);const Ue=selectedItemByUUID(editGlyph.value.components,_e);if(Ue.type==="glyph"&&Ue.value.components&&Ue.value.components.length){let kt=!1;for(let Lt=0;Lt<Ue.value.components.length;Lt++)if(Ue.value.components[Lt].type==="glyph"){kt=!0;break}kt&&Fe&&(editGlyph.value.selectedComponentsTree||(editGlyph.value.selectedComponentsTree=[]),editGlyph.value.selectedComponentsTree.push(_e),editGlyph.value.selectedComponentsTree.push("null"))}else Ue.type==="glyph"&&setTool("glyphDragger")},oe=(Oe,_e)=>{y=_e},ae=(Oe,_e)=>{Oe.preventDefault();const Fe=orderedListForCurrentGlyph.value;for(let Ue=0;Ue<Fe.length;Ue++)y===Fe[Ue].uuid&&(k=Ue),_e===Fe[Ue].uuid&&($=Ue);Oe.offsetY<Oe.target.offsetHeight/2?V=$:Oe.offsetY>Oe.target.offsetHeight/2&&(V=$+1)},de=(Oe,_e)=>{y="",y="",k=-1,$=-1,V=-1},ue=(Oe,_e)=>{const Fe=clone$1(orderedListForCurrentGlyph.value);k!==$&&(Fe.splice(k,1),k<=V&&(V-=1),Fe.splice(V,0,{type:"component",uuid:y}),setOrderedListForCurrentGlyph(Fe))},pe=Oe=>{if(!selectedComponents$1.value||!selectedComponents$1.value.length){const _e=selectedItemByUUID(editGlyph.value.components,Oe);setClipBoard(clone$1(_e)),removeComponentForCurrentGlyph(Oe)}else{let _e=!1;if(selectedComponents$1.value)for(let Fe=0;Fe<selectedComponents$1.value?.length;Fe++)selectedComponents$1.value[Fe].uuid===Oe&&(_e=!0);if(_e)setClipBoard(clone$1(selectedComponents$1.value)),selectedComponents$1.value.map(Fe=>{removeComponentForCurrentGlyph(Fe.uuid)});else{const Fe=selectedItemByUUID(editGlyph.value.components,Oe);setClipBoard(clone$1(Fe)),removeComponentForCurrentGlyph(Oe)}}setSelectionForCurrentGlyph(""),g.value=!1,r[Oe]=!1},he=Oe=>{if(!selectedComponents$1.value||!selectedComponents$1.value.length){const _e=selectedItemByUUID(editGlyph.value.components,Oe);setClipBoard(clone$1(_e))}else{let _e=!1;if(selectedComponents$1.value)for(let Fe=0;Fe<selectedComponents$1.value?.length;Fe++)selectedComponents$1.value[Fe].uuid===Oe&&(_e=!0);if(_e)setClipBoard(clone$1(selectedComponents$1.value));else{const Fe=selectedItemByUUID(editGlyph.value.components,Oe);setClipBoard(clone$1(Fe))}}g.value=!1,r[Oe]=!1},xe=Oe=>{const _e=clipBoard.value;for(let Fe=_e.length-1;Fe>=0;Fe--){const Ue=_e[Fe];Ue.uuid=genUUID(),insertComponentForCurrentGlyph(Ue,{uuid:Oe,pos:"next"})}setClipBoard([]),g.value=!1,r[Oe]=!1},$e=Oe=>{if(r[Oe]=!1,!selectedComponents$1.value||!selectedComponents$1.value.length)removeComponentForCurrentGlyph(Oe);else{let _e=!1;if(selectedComponents$1.value)for(let Fe=0;Fe<selectedComponents$1.value?.length;Fe++)selectedComponents$1.value[Fe].uuid===Oe&&(_e=!0);_e?selectedComponents$1.value.map(Fe=>{removeComponentForCurrentGlyph(Fe.uuid)}):removeComponentForCurrentGlyph(Oe)}setSelectionForCurrentGlyph(""),g.value=!1},Ne=(Oe,_e)=>{if(Oe.preventDefault(),g.value)return;g.value=!0,r[_e]=!0;const Fe=Ue=>{Ue.target.closest(".component.menu")||(g.value=!1,r[_e]=!1)};document.addEventListener("mousedown",Fe)};return(Oe,_e)=>{const Fe=resolveComponent("el-icon"),Ue=resolveComponent("el-popover"),kt=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$$,[unref(editPanelCompFilter)==="all"?(openBlock(),createBlock(kt,{key:0},{default:withCtx(()=>[unref(editPanelCompFilter)==="all"?(openBlock(),createElementBlock("div",_hoisted_2$Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(orderedListWithItemsForCurrentGlyph),Lt=>(openBlock(),createElementBlock("div",_hoisted_3$A,[createVNode(Ue,{placement:"right",width:200,trigger:"manual",inert:"",visible:r[Lt.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs$1).indexOf(Lt.uuid)!==-1}),draggable:!0,onDragstart:wn=>oe(wn,Lt.uuid),onDragover:wn=>ae(wn,Lt.uuid),onDragend:wn=>de(wn,Lt.uuid),onDrop:wn=>ue(wn,Lt.uuid),onPointerdown:wn=>re(wn,Lt.uuid),onContextmenu:wn=>Ne(wn,Lt.uuid)},[createBaseVNode("span",_hoisted_5$t,toDisplayString$1(Lt.name||Lt.type),1),createBaseVNode("span",_hoisted_6$r,[createVNode(Fe,{class:"tool-icon used-in-character",onPointerdown:wn=>j(Lt.uuid,!Lt.usedInCharacter,Lt.type)},{default:withCtx(()=>[Lt.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),Lt.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon lock",onPointerdown:wn=>L(Lt.uuid,!Lt.lock)},{default:withCtx(()=>[Lt.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),Lt.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon visible",onPointerdown:wn=>z(Lt.uuid,!Lt.visible)},{default:withCtx(()=>[Lt.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),Lt.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onPointerdown"])])],42,_hoisted_4$x)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$o,[createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>pe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),41,_hoisted_8$n),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>he(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),41,_hoisted_9$n),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>xe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),41,_hoisted_10$l),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>$e(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),41,_hoisted_11$k)])]),_:2},1032,["visible"])]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),unref(editPanelCompFilter)==="font"?(openBlock(),createBlock(kt,{key:1},{default:withCtx(()=>[unref(editPanelCompFilter)==="font"?(openBlock(),createElementBlock("div",_hoisted_12$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(usedComponents$1),Lt=>(openBlock(),createElementBlock("div",_hoisted_13$h,[createVNode(Ue,{placement:"right",width:200,trigger:"contextmenu"},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs$1).indexOf(Lt.uuid)!==-1}),onPointerdown:wn=>re(wn,Lt.uuid)},[createBaseVNode("span",_hoisted_15$e,toDisplayString$1(Lt.name||Lt.type),1),createBaseVNode("span",_hoisted_16$c,[createVNode(Fe,{class:"tool-icon used-in-character",onPointerdown:wn=>j(Lt.uuid,!Lt.usedInCharacter,Lt.type)},{default:withCtx(()=>[Lt.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),Lt.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon lock",onPointerdown:wn=>L(Lt.uuid,!Lt.lock)},{default:withCtx(()=>[Lt.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),Lt.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"tool-icon visible",onPointerdown:wn=>z(Lt.uuid,!Lt.visible)},{default:withCtx(()=>[Lt.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),Lt.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onPointerdown"])])],42,_hoisted_14$h)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_17$a,[createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>pe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),41,_hoisted_18$9),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>he(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),41,_hoisted_19$9),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>xe(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),41,_hoisted_20$9),createBaseVNode("div",{class:"component-menu-item",onPointerdown:wn=>$e(Lt.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),41,_hoisted_21$8)])]),_:2},1024)]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)])}}}),GlyphComponentList=_export_sfc(_sfc_main$10,[["__scopeId","data-v-6667c7c4"]]),_hoisted_1$_={class:"view-list-wrapper"},_hoisted_2$Y={class:"view-thumbnail"},_hoisted_3$z={class:"view-info"},_hoisted_4$w={class:"view-title"},_hoisted_5$s={class:"view-description"},_hoisted_6$q={class:"view-thumbnail"},_hoisted_7$n={class:"view-info"},_hoisted_8$m={class:"view-title"},_hoisted_9$m={class:"view-description"},_hoisted_10$k={class:"view-thumbnail"},_hoisted_11$j=["width","height"],_hoisted_12$g={class:"view-info"},_hoisted_13$g={class:"view-title"},_hoisted_14$g={class:"view-description"},_hoisted_15$d={class:"view-thumbnail"},_hoisted_16$b=["width","height"],_hoisted_17$9={class:"view-info"},_hoisted_18$8={class:"view-title"},_hoisted_19$8={class:"view-description"},_hoisted_20$8={class:"view-thumbnail"},_hoisted_21$7=["width","height"],_hoisted_22$7={class:"view-info"},_hoisted_23$7={class:"view-title"},_hoisted_24$7={class:"view-description"},_sfc_main$$=defineComponent({__name:"ViewList",setup(n){const{t:e}=useI18n(),r=ref(null),g=ref(null),y=ref(null),k=ref(null),$=ref(null),V=()=>{const de=editCharacterPic.value.width,ue=editCharacterPic.value.height;let pe=68,he=pe*ue/de;he>68&&(he=68,pe=he*de/ue),r.value.width=mapCanvasWidth(de),r.value.height=mapCanvasHeight(ue),r.value.style.width=`${pe}px`,r.value.style.height=`${he}px`,r.value.height=mapCanvasHeight(ue),g.value.width=mapCanvasWidth(de),g.value.height=mapCanvasHeight(ue),g.value.style.width=`${pe}px`,g.value.style.height=`${he}px`},L=()=>{const de=r.value.getContext("2d"),{img:ue,width:pe,height:he}=editCharacterPic.value,xe=ue;de.drawImage(xe,0,0,xe.width,xe.height,0,0,mapCanvasWidth(pe),mapCanvasWidth(he))},z=()=>{const de=g.value.getContext("2d"),{data:ue,width:pe,height:he}=bitmap.value;for(let xe=0;xe<pe;xe++)for(let $e=0;$e<he;$e++){const Ne=($e*pe+xe)*4,Oe=`rgba(${ue[Ne]}, ${ue[Ne+1]}, ${ue[Ne]+2}, ${ue[Ne+3]})`;de.fillStyle=Oe,de.fillRect(mapCanvasX(xe),mapCanvasY($e),mapCanvasWidth(1),mapCanvasHeight(1))}},j=()=>{const de=contoursComponents.value.map(ue=>{const pe=clone$1(ue);return pe.value.fillColor="rgba(1, 1, 1, 0)",pe});clearCanvas(y.value),renderCanvas(de,y.value)},re=()=>{const de=curvesComponents.value.map(ue=>{const pe=clone$1(ue);return pe.value.fillColor="rgba(1, 1, 1, 0)",pe});clearCanvas(k.value),renderCanvas(de,k.value)},oe=()=>{clearCanvas($.value),renderCanvas(curvesComponents.value,$.value,{fill:!0,offset:{x:0,y:0},scale:1,forceUpdate:!1})},ae=()=>{oe(),L(),z(),j(),re()};return onMounted(()=>{V(),window.addEventListener("resize",V),ae()}),watch([editCharacterPic,bitmap,contoursComponents,curvesComponents],()=>{ae()}),onBeforeUnmount(()=>{window.removeEventListener("resize",V)}),(de,ue)=>(openBlock(),createElementBlock("div",_hoisted_1$_,[createBaseVNode("div",{class:"view-item-wrapper",onPointerdown:ue[0]||(ue[0]=pe=>previewStatus.value=0)},[createBaseVNode("span",_hoisted_2$Y,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"thumbnailCanvas",ref:r},null,512)]),createBaseVNode("span",_hoisted_3$z,[createBaseVNode("span",_hoisted_4$w,toDisplayString$1(unref(e)("panels.viewList.thumbnail.title")),1),createBaseVNode("span",_hoisted_5$s,toDisplayString$1(unref(e)("panels.viewList.thumbnail.description")),1)])],32),createBaseVNode("div",{class:"view-item-wrapper",onPointerdown:ue[1]||(ue[1]=pe=>previewStatus.value=1)},[createBaseVNode("span",_hoisted_6$q,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"bitmapCanvas",ref:g},null,512)]),createBaseVNode("span",_hoisted_7$n,[createBaseVNode("span",_hoisted_8$m,toDisplayString$1(unref(e)("panels.viewList.bitmap.title")),1),createBaseVNode("span",_hoisted_9$m,toDisplayString$1(unref(e)("panels.viewList.bitmap.description")),1)])],32),createBaseVNode("div",{class:"view-item-wrapper",onPointerdown:ue[2]||(ue[2]=pe=>previewStatus.value=2)},[createBaseVNode("span",_hoisted_10$k,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"contoursCanvas",ref:y,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_11$j)]),createBaseVNode("span",_hoisted_12$g,[createBaseVNode("span",_hoisted_13$g,toDisplayString$1(unref(e)("panels.viewList.contours.title")),1),createBaseVNode("span",_hoisted_14$g,toDisplayString$1(unref(e)("panels.viewList.contours.description")),1)])],32),createBaseVNode("div",{class:"view-item-wrapper",onPointerdown:ue[3]||(ue[3]=pe=>previewStatus.value=3)},[createBaseVNode("span",_hoisted_15$d,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"curvesCanvas",ref:k,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_16$b)]),createBaseVNode("span",_hoisted_17$9,[createBaseVNode("span",_hoisted_18$8,toDisplayString$1(unref(e)("panels.viewList.curves.title")),1),createBaseVNode("span",_hoisted_19$8,toDisplayString$1(unref(e)("panels.viewList.curves.description")),1)])],32),createBaseVNode("div",{class:"view-item-wrapper",onPointerdown:ue[4]||(ue[4]=pe=>previewStatus.value=4)},[createBaseVNode("span",_hoisted_20$8,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"previewCanvas",ref:$,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_21$7)]),createBaseVNode("span",_hoisted_22$7,[createBaseVNode("span",_hoisted_23$7,toDisplayString$1(unref(e)("panels.viewList.preview.title")),1),createBaseVNode("span",_hoisted_24$7,toDisplayString$1(unref(e)("panels.viewList.preview.description")),1)])],32)]))}}),ViewList=_export_sfc(_sfc_main$$,[["__scopeId","data-v-dc474515"]]),_hoisted_1$Z={class:"list-wrapper"},_hoisted_2$X={class:"root-sub-component"},_hoisted_3$y={class:"all-components-list"},_hoisted_4$v={class:"component-item-wrapper"},_hoisted_5$r=["onDragstart","onDragover","onDragend","onDrop","onPointerdown","onContextmenu"],_hoisted_6$p={class:"type"},_hoisted_7$m={class:"tool-wrapper"},_hoisted_8$l={class:"component-menu"},_hoisted_9$l=["onPointerdown"],_sfc_main$_=defineComponent({__name:"CharacterSubComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const $e={};return orderedListWithItemsForCurrentCharacterFile.value.map(Ne=>{$e[Ne.uuid]=!1}),$e})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=($e,Ne)=>{const Oe=selectedItemByUUID(SubComponentsRoot.value.value.components,$e);Oe.lock=Ne},z=($e,Ne)=>{const Oe=selectedItemByUUID(SubComponentsRoot.value.value.components,$e);Oe.visible=Ne},j=($e,Ne)=>{if(!editCharacterFile.value.selectedComponentsTree||editCharacterFile.value.selectedComponentsTree.length<2)return;editCharacterFile.value.selectedComponentsTree[editCharacterFile.value.selectedComponentsTree.length-1]=Ne;const Oe=selectedItemByUUID(SubComponentsRoot.value.value.components,Ne);if(Oe.type==="glyph"&&Oe.value.components&&Oe.value.components.length){let _e=!1;for(let Fe=0;Fe<Oe.value.components.length;Fe++)if(Oe.value.components[Fe].type==="glyph"){_e=!0;break}_e&&editCharacterFile.value.selectedComponentsTree.push("null")}else Oe.type==="glyph"&&setTool("glyphDragger")},re=($e,Ne)=>{y=Ne},oe=($e,Ne)=>{$e.preventDefault();const Oe=SubComponentsRoot.value.value.orderedList;for(let _e=0;_e<Oe.length;_e++)y===Oe[_e].uuid&&(k=_e),Ne===Oe[_e].uuid&&($=_e);$e.offsetY<$e.target.offsetHeight/2?V=$:$e.offsetY>$e.target.offsetHeight/2&&(V=$+1)},ae=($e,Ne)=>{y="",y="",k=-1,$=-1,V=-1},de=($e,Ne)=>{const Oe=clone$1(SubComponentsRoot.value.value.orderedList);k!==$&&(Oe.splice(k,1),k<=V&&(V-=1),Oe.splice(V,0,{type:"component",uuid:y}),SubComponentsRoot.value.value.orderedList=Oe)},ue=$e=>{const Ne=SubComponentsRoot.value,Oe=(()=>{for(let Fe=0;Fe<Ne.value.components.length;Fe++)if(Ne.value.components[Fe].uuid===$e)return Fe;return-1})();Ne.value.components.splice(Oe,1);const _e=(()=>{for(let Fe=0;Fe<Ne.value.orderedList.length;Fe++)if(Ne.value.orderedList[Fe].uuid===$e)return Fe;return-1})();if(_e>=0&&Ne.value.orderedList.splice(_e,1),selectedSubComponent.value===$e){let Fe=editCharacterFile.value.selectedComponentsTree;Fe[Fe.length-1]!=="null"&&(Fe[Fe.length-1]="null")}SubComponentsRoot.value.value.glyph_script&&SubComponentsRoot.value.value.glyph_script[$e]&&delete SubComponentsRoot.value.value.glyph_script[$e],g.value=!1,r[$e]=!1},pe=($e,Ne)=>{if($e.preventDefault(),g.value)return;g.value=!0,r[Ne]=!0;const Oe=_e=>{_e.target.closest(".component.menu")||(g.value=!1,r[Ne]=!1)};document.addEventListener("mousedown",Oe)},he=()=>{let $e=editCharacterFile.value.selectedComponentsTree;$e[$e.length-1]!=="null"&&($e[$e.length-1]="null"),editCharacterFile.value.selectedComponentsTree=$e},xe=$e=>{$e.stopPropagation();let Ne=editCharacterFile.value.selectedComponentsTree;Ne.length<=2?Ne=null:(Ne.splice(Ne.length-2,2),Ne.push("null")),editCharacterFile.value.selectedComponentsTree=Ne};return($e,Ne)=>{const Oe=resolveComponent("el-icon"),_e=resolveComponent("el-popover"),Fe=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$Z,[createBaseVNode("div",{class:normalizeClass(["list-head",{selected:!unref(selectedSubComponent)}]),onPointerdown:he},[createVNode(Oe,{class:"back-icon",onPointerdown:xe},{default:withCtx(()=>[createVNode(unref(arrow_left_bold_default))]),_:1}),createBaseVNode("div",_hoisted_2$X,toDisplayString$1(unref(SubComponentsRoot).value.name),1)],34),createVNode(Fe,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(SubComponents),Ue=>(openBlock(),createElementBlock("div",_hoisted_4$v,[createVNode(_e,{placement:"right",width:200,trigger:"manual",visible:r[Ue.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedSubComponent)&&unref(selectedSubComponent).uuid===Ue.uuid}),draggable:!0,onDragstart:kt=>re(kt,Ue.uuid),onDragover:kt=>oe(kt,Ue.uuid),onDragend:kt=>ae(kt,Ue.uuid),onDrop:kt=>de(kt,Ue.uuid),onPointerdown:kt=>j(kt,Ue.uuid),onContextmenu:kt=>pe(kt,Ue.uuid)},[createBaseVNode("span",_hoisted_6$p,toDisplayString$1(Ue.name||Ue.type),1),createBaseVNode("span",_hoisted_7$m,[createVNode(Oe,{class:"tool-icon lock",onPointerdown:kt=>L(Ue.uuid,!Ue.lock)},{default:withCtx(()=>[Ue.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),Ue.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Oe,{class:"tool-icon visible",onPointerdown:kt=>z(Ue.uuid,!Ue.visible)},{default:withCtx(()=>[Ue.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),Ue.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onPointerdown"])])],42,_hoisted_5$r)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8$l,[createBaseVNode("div",{class:"component-menu-item",onPointerdown:kt=>ue(Ue.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),41,_hoisted_9$l)])]),_:2},1032,["visible"])]))),256))])]),_:1})])}}}),CharacterSubComponentList=_export_sfc(_sfc_main$_,[["__scopeId","data-v-df1d5fd9"]]),_hoisted_1$Y={class:"list-wrapper"},_hoisted_2$W={class:"root-sub-component"},_hoisted_3$x={class:"all-components-list"},_hoisted_4$u={class:"component-item-wrapper"},_hoisted_5$q=["onDragstart","onDragover","onDragend","onDrop","onPointerdown","onContextmenu"],_hoisted_6$o={class:"type"},_hoisted_7$l={class:"tool-wrapper"},_hoisted_8$k={class:"component-menu"},_hoisted_9$k=["onPointerdown"],_sfc_main$Z=defineComponent({__name:"GlyphSubComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const $e={};return orderedListWithItemsForCurrentGlyph.value.map(Ne=>{$e[Ne.uuid]=!1}),$e})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=($e,Ne)=>{const Oe=selectedItemByUUID(SubComponentsRoot$1.value.value.components,$e);Oe.lock=Ne},z=($e,Ne)=>{const Oe=selectedItemByUUID(SubComponentsRoot$1.value.value.components,$e);Oe.visible=Ne},j=($e,Ne)=>{if(!editGlyph.value.selectedComponentsTree||editGlyph.value.selectedComponentsTree.length<2)return;editGlyph.value.selectedComponentsTree[editGlyph.value.selectedComponentsTree.length-1]=Ne;const Oe=selectedItemByUUID(SubComponentsRoot$1.value.value.components,Ne);if(Oe.type==="glyph"&&Oe.value.components&&Oe.value.components.length){let _e=!1;for(let Fe=0;Fe<Oe.value.components.length;Fe++)if(Oe.value.components[Fe].type==="glyph"){_e=!0;break}_e&&editGlyph.value.selectedComponentsTree.push("null")}else Oe.type==="glyph"&&setTool("glyphDragger")},re=($e,Ne)=>{y=Ne},oe=($e,Ne)=>{$e.preventDefault();const Oe=SubComponentsRoot$1.value.value.orderedList;for(let _e=0;_e<Oe.length;_e++)y===Oe[_e].uuid&&(k=_e),Ne===Oe[_e].uuid&&($=_e);$e.offsetY<$e.target.offsetHeight/2?V=$:$e.offsetY>$e.target.offsetHeight/2&&(V=$+1)},ae=($e,Ne)=>{y="",y="",k=-1,$=-1,V=-1},de=($e,Ne)=>{const Oe=clone$1(SubComponentsRoot$1.value.value.orderedList);k!==$&&(Oe.splice(k,1),k<=V&&(V-=1),Oe.splice(V,0,{type:"component",uuid:y}),SubComponentsRoot$1.value.value.orderedList=Oe)},ue=$e=>{const Ne=SubComponentsRoot$1.value,Oe=(()=>{for(let Fe=0;Fe<Ne.value.components.length;Fe++)if(Ne.value.components[Fe].uuid===$e)return Fe;return-1})();Ne.value.components.splice(Oe,1);const _e=(()=>{for(let Fe=0;Fe<Ne.value.orderedList.length;Fe++)if(Ne.value.orderedList[Fe].uuid===$e)return Fe;return-1})();if(_e>=0&&Ne.value.orderedList.splice(_e,1),selectedSubComponent$1.value===$e){let Fe=editGlyph.value.selectedComponentsTree;Fe[Fe.length-1]!=="null"&&(Fe[Fe.length-1]="null")}SubComponentsRoot$1.value.value.glyph_script&&SubComponentsRoot$1.value.value.glyph_script[$e]&&delete SubComponentsRoot$1.value.value.glyph_script[$e],g.value=!1,r[$e]=!1},pe=($e,Ne)=>{if($e.preventDefault(),g.value)return;g.value=!0,r[Ne]=!0;const Oe=_e=>{_e.target.closest(".component.menu")||(g.value=!1,r[Ne]=!1)};document.addEventListener("mousedown",Oe)},he=()=>{let $e=editGlyph.value.selectedComponentsTree;$e[$e.length-1]!=="null"&&($e[$e.length-1]="null"),editGlyph.value.selectedComponentsTree=$e},xe=$e=>{$e.stopPropagation();let Ne=editGlyph.value.selectedComponentsTree;Ne.length<=2?Ne=null:(Ne.splice(Ne.length-2,2),Ne.push("null")),editGlyph.value.selectedComponentsTree=Ne};return($e,Ne)=>{const Oe=resolveComponent("el-icon"),_e=resolveComponent("el-popover"),Fe=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$Y,[createBaseVNode("div",{class:normalizeClass(["list-head",{selected:!unref(selectedSubComponent$1)}]),onPointerdown:he},[createVNode(Oe,{class:"back-icon",onPointerdown:xe},{default:withCtx(()=>[createVNode(unref(arrow_left_bold_default))]),_:1}),createBaseVNode("div",_hoisted_2$W,toDisplayString$1(unref(SubComponentsRoot$1).value.name),1)],34),createVNode(Fe,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$x,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(SubComponents$1),Ue=>(openBlock(),createElementBlock("div",_hoisted_4$u,[createVNode(_e,{placement:"right",width:200,trigger:"manual",visible:r[Ue.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedSubComponent$1)&&unref(selectedSubComponent$1).uuid===Ue.uuid}),draggable:!0,onDragstart:kt=>re(kt,Ue.uuid),onDragover:kt=>oe(kt,Ue.uuid),onDragend:kt=>ae(kt,Ue.uuid),onDrop:kt=>de(kt,Ue.uuid),onPointerdown:kt=>j(kt,Ue.uuid),onContextmenu:kt=>pe(kt,Ue.uuid)},[createBaseVNode("span",_hoisted_6$o,toDisplayString$1(Ue.name||Ue.type),1),createBaseVNode("span",_hoisted_7$l,[createVNode(Oe,{class:"tool-icon lock",onPointerdown:kt=>L(Ue.uuid,!Ue.lock)},{default:withCtx(()=>[Ue.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),Ue.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onPointerdown"]),createVNode(Oe,{class:"tool-icon visible",onPointerdown:kt=>z(Ue.uuid,!Ue.visible)},{default:withCtx(()=>[Ue.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),Ue.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onPointerdown"])])],42,_hoisted_5$q)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8$k,[createBaseVNode("div",{class:"component-menu-item",onPointerdown:kt=>ue(Ue.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),41,_hoisted_9$k)])]),_:2},1032,["visible"])]))),256))])]),_:1})])}}}),GlyphSubComponentList=_export_sfc(_sfc_main$Z,[["__scopeId","data-v-08b29b98"]]),_hoisted_1$X={class:"left-panel"},_hoisted_2$V={class:"left-panel-header"},_hoisted_3$w={key:2,class:"view"},_hoisted_4$t={class:"left-panel-content"},_sfc_main$Y=defineComponent({__name:"LeftPanel",setup(n){const{tm:e,t:r}=useI18n(),g=[{value:"all"},{value:"font"}],y=$=>{setEditPanelCompFilter($)},k=$=>{setGlyphPanelCompFilter($)};return($,V)=>{const L=resolveComponent("el-option"),z=resolveComponent("el-select");return openBlock(),createElementBlock("div",_hoisted_1$X,[withDirectives(createBaseVNode("div",_hoisted_2$V,[unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(z,{key:0,"model-value":unref(editPanelCompFilter),class:"edit-filter-select",placeholder:"Select",onChange:y},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(g,j=>createVNode(L,{key:j.value,label:unref(e)(`panels.filter.${j.value}`),value:j.value},null,8,["label","value"])),64))]),_:1},8,["model-value"])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(z,{key:1,"model-value":unref(glyphPanelCompFilter),class:"edit-filter-select",placeholder:"Select",onChange:k},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(g,j=>createVNode(L,{key:j.value,label:unref(e)(`panels.filter.${j.value}`),value:j.value},null,8,["label","value"])),64))]),_:1},8,["model-value"])):createCommentVNode("",!0),unref(editStatus)===unref(Status).Pic?(openBlock(),createElementBlock("div",_hoisted_3$w,toDisplayString$1(unref(r)("panels.view")),1)):createCommentVNode("",!0)],512),[[vShow,unref(editCharacterFile)&&(!unref(editCharacterFile).selectedComponentsTree||!unref(editCharacterFile).selectedComponentsTree.length)||unref(editGlyph)&&(!unref(editGlyph).selectedComponentsTree||!unref(editGlyph).selectedComponentsTree.length)]]),createBaseVNode("div",_hoisted_4$t,[unref(editStatus)===unref(Status).Edit&&unref(editCharacterFile)&&unref(editCharacterFile).selectedComponentsTree&&unref(editCharacterFile).selectedComponentsTree.length?(openBlock(),createBlock(CharacterSubComponentList,{key:0})):unref(editStatus)===unref(Status).Glyph&&unref(editGlyph)&&unref(editGlyph).selectedComponentsTree&&unref(editGlyph).selectedComponentsTree.length?(openBlock(),createBlock(GlyphSubComponentList,{key:1})):unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(CharacterComponentList,{key:2})):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(GlyphComponentList,{key:3})):unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(ViewList,{key:4})):createCommentVNode("",!0)])])}}}),LeftPanel=_export_sfc(_sfc_main$Y,[["__scopeId","data-v-7c5a0160"]]),_hoisted_1$W={class:"settings-panel"},_hoisted_2$U={class:"background-style-wrap"},_hoisted_3$v={class:"title"},_hoisted_4$s={class:"form-item"},_hoisted_5$p={class:"form-label"},_hoisted_6$n={class:"form-item"},_hoisted_7$k={class:"form-label"},_hoisted_8$j={class:"grid-style-wrap"},_hoisted_9$j={class:"title"},_hoisted_10$j={class:"form-item"},_hoisted_11$i={class:"form-label"},_hoisted_12$f={class:"form-item"},_hoisted_13$f={class:"form-label"},_hoisted_14$f={class:"font-render-style-wrap"},_hoisted_15$c={class:"title"},_hoisted_16$a={class:"form-item"},_hoisted_17$8={class:"form-label"},_sfc_main$X=defineComponent({__name:"SettingsPanel",setup(n){const{t:e}=useI18n(),r=ref("transparent"),g=ref("#FFFFFF"),y=ref("none"),k=ref(20);return watch([r,g,y,k],()=>{switch(y.value){case"none":setGridType(GridType.None);break;case"mesh":setGridType(GridType.Mesh);break;case"mi":setGridType(GridType.Mi);break;case"layout":setGridType(GridType.LayoutGrid);break}switch(r.value){case"color":setBackgroundType(BackgroundType.Color);break;case"transparent":setBackgroundType(BackgroundType.Transparent);break}g.value&&setBackgroundColor(g.value),k.value&&y.value==="mesh"&&setGridPrecision(k.value)}),($,V)=>{const L=resolveComponent("el-radio"),z=resolveComponent("el-radio-group"),j=resolveComponent("el-color-picker"),re=resolveComponent("el-form"),oe=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$W,[createBaseVNode("div",_hoisted_2$U,[createBaseVNode("div",_hoisted_3$v,toDisplayString$1(unref(e)("panels.settingsPanel.background.background")),1),createVNode(re,{class:"background-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$s,[createBaseVNode("div",_hoisted_5$p,toDisplayString$1(unref(e)("panels.settingsPanel.background.style")),1),createVNode(z,{modelValue:r.value,"onUpdate:modelValue":V[0]||(V[0]=ae=>r.value=ae)},{default:withCtx(()=>[createVNode(L,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.background.color")),1)]),_:1}),createVNode(L,{label:"transparent"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.background.transparent")),1)]),_:1})]),_:1},8,["modelValue"])]),withDirectives(createBaseVNode("div",_hoisted_6$n,[createBaseVNode("div",_hoisted_7$k,toDisplayString$1(unref(e)("panels.settingsPanel.background.color")),1),createVNode(j,{modelValue:g.value,"onUpdate:modelValue":V[1]||(V[1]=ae=>g.value=ae),id:"backgroundColor"},null,8,["modelValue"])],512),[[vShow,r.value==="color"]])]),_:1})]),createBaseVNode("div",_hoisted_8$j,[createBaseVNode("div",_hoisted_9$j,toDisplayString$1(unref(e)("panels.settingsPanel.mesh.mesh")),1),createVNode(re,{class:"grid-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$j,[createBaseVNode("div",_hoisted_11$i,toDisplayString$1(unref(e)("panels.settingsPanel.mesh.style")),1),createVNode(z,{modelValue:y.value,"onUpdate:modelValue":V[2]||(V[2]=ae=>y.value=ae),id:"gridStyle"},{default:withCtx(()=>[createVNode(L,{label:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.none")),1)]),_:1}),createVNode(L,{label:"mesh"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.mesh")),1)]),_:1}),createVNode(L,{label:"mi"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.mi")),1)]),_:1}),createVNode(L,{label:"layout"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.layout")),1)]),_:1})]),_:1},8,["modelValue"])]),withDirectives(createBaseVNode("div",_hoisted_12$f,[createBaseVNode("div",_hoisted_13$f,toDisplayString$1(unref(e)("panels.settingsPanel.mesh.precision")),1),createVNode(oe,{modelValue:k.value,"onUpdate:modelValue":V[3]||(V[3]=ae=>k.value=ae),min:10,max:50},null,8,["modelValue"])],512),[[vShow,y.value==="mesh"]])]),_:1})]),createBaseVNode("div",_hoisted_14$f,[createBaseVNode("div",_hoisted_15$c,toDisplayString$1(unref(e)("panels.settingsPanel.render.render")),1),createVNode(re,{class:"font-render-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_16$a,[createBaseVNode("div",_hoisted_17$8,toDisplayString$1(unref(e)("panels.settingsPanel.render.style")),1),createVNode(z,{modelValue:unref(fontRenderStyle),"onUpdate:modelValue":V[4]||(V[4]=ae=>isRef(fontRenderStyle)?fontRenderStyle.value=ae:null),id:"renderStyle"},{default:withCtx(()=>[createVNode(L,{label:"contour"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.render.contour")),1)]),_:1}),createVNode(L,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.render.color")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})])])}}}),SettingsPanel=_export_sfc(_sfc_main$X,[["__scopeId","data-v-6a94eba8"]]),_hoisted_1$V={class:"pen-edit-panel"},_hoisted_2$T={key:0,class:"character-edit-panel"},_hoisted_3$u={class:"name-wrap"},_hoisted_4$r={class:"title"},_hoisted_5$o={class:"transform-wrap"},_hoisted_6$m={class:"title"},_hoisted_7$j={key:0,class:"edit-mode-wrap"},_hoisted_8$i={class:"title"},_hoisted_9$i={key:1,class:"glyph-edit-panel"},_hoisted_10$i={class:"name-wrap"},_hoisted_11$h={class:"title"},_hoisted_12$e={class:"transform-wrap"},_hoisted_13$e={class:"title"},_hoisted_14$e={class:"edit-mode-wrap"},_hoisted_15$b={class:"title"},_sfc_main$W=defineComponent({__name:"PenEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[StoreType.Pen,editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:oe})},k=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{y:oe})},$=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{w:oe})},V=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{h:oe})},L=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{rotation:oe})},z=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{flipX:oe}):modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{flipX:oe})},j=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{flipY:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID.value,{flipY:oe})},re=oe=>{g(),setOnPenEditMode(oe),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{value:{editMode:oe}}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{value:{editMode:oe}})};return(oe,ae)=>{const de=resolveComponent("el-input"),ue=resolveComponent("el-form-item"),pe=resolveComponent("el-form"),he=resolveComponent("el-input-number"),xe=resolveComponent("el-switch");return openBlock(),createElementBlock("div",_hoisted_1$V,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$T,[createBaseVNode("div",_hoisted_3$u,[createBaseVNode("div",_hoisted_4$r,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(pe,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(de,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":ae[0]||(ae[0]=$e=>unref(selectedComponent).name=$e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$o,[createBaseVNode("div",_hoisted_6$m,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(pe,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipX")},{default:withCtx(()=>[createVNode(xe,{"model-value":unref(selectedComponent).flipX,onChange:z},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipY")},{default:withCtx(()=>[createVNode(xe,{"model-value":unref(selectedComponent).flipY,onChange:j},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),unref(selectedComponent).type==="pen"?(openBlock(),createElementBlock("div",_hoisted_7$j,[createBaseVNode("div",_hoisted_8$i,toDisplayString$1(unref(r)("panels.paramsPanel.editMode.title")),1),createVNode(pe,{class:"stroke-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.editMode.label")},{default:withCtx(()=>[createVNode(xe,{"model-value":unref(selectedComponent).value.editMode,onChange:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])):createCommentVNode("",!0)])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_9$i,[createBaseVNode("div",_hoisted_10$i,[createBaseVNode("div",_hoisted_11$h,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(pe,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(de,{modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":ae[1]||(ae[1]=$e=>unref(selectedComponent$1).name=$e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_12$e,[createBaseVNode("div",_hoisted_13$e,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(pe,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipX")},{default:withCtx(()=>[createVNode(xe,{"model-value":unref(selectedComponent$1).flipX,onChange:z},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipY")},{default:withCtx(()=>[createVNode(xe,{"model-value":unref(selectedComponent$1).flipY,onChange:j},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_14$e,[createBaseVNode("div",_hoisted_15$b,toDisplayString$1(unref(r)("panels.paramsPanel.editMode.title")),1),createVNode(pe,{class:"stroke-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.editMode.label")},{default:withCtx(()=>[createVNode(xe,{"model-value":unref(selectedComponent$1).value.editMode,onChange:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):createCommentVNode("",!0)])}}}),PenEditPanel=_export_sfc(_sfc_main$W,[["__scopeId","data-v-7ecdbe4a"]]),_hoisted_1$U={class:"polygon-edit-panel"},_hoisted_2$S={key:0,class:"character-edit-panel"},_hoisted_3$t={class:"name-wrap"},_hoisted_4$q={class:"title"},_hoisted_5$n={class:"transform-wrap"},_hoisted_6$l={class:"title"},_hoisted_7$i={key:0,class:"transform-to-curve-wrap"},_hoisted_8$h={class:"title"},_hoisted_9$h={key:1,class:"glyph-edit-panel"},_hoisted_10$h={class:"name-wrap"},_hoisted_11$g={class:"title"},_hoisted_12$d={class:"transform-wrap"},_hoisted_13$d={class:"title"},_hoisted_14$d={key:0,class:"transform-to-curve-wrap"},_hoisted_15$a={class:"title"},_sfc_main$V=defineComponent({__name:"PolygonEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{x:j})},k=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{y:j})},$=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:j})},V=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{h:j})},L=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{rotation:j})},z=()=>{g();const j=selectedComponent.value.value,{x:re,y:oe,w:ae,h:de,rotation:ue,flipX:pe,flipY:he}=selectedComponent.value,xe=transformPoints(j.points.map(wn=>({x:wn.x,y:wn.y})),{x:re,y:oe,w:ae,h:de,rotation:ue,flipX:pe,flipY:he});let $e=[];const Ne=[];for(let wn=0;wn<xe.length-1;wn++)Ne.push([xe[wn].x,xe[wn].y]);(xe[xe.length-1].x!==xe[0].x||xe[xe.length-1].y!==xe[0].y)&&Ne.push([xe[xe.length-1].x,xe[xe.length-1].y]);let Oe=new paper.Path({segments:Ne,closed:!0});Oe.smooth();let _e=genUUID();for(let wn=0;wn<Oe.curves.length;wn++){const Et=Oe.curves[wn],xn=genUUID(),jt=genUUID();$e.push({uuid:_e,x:Et.points[0].x,y:Et.points[0].y,type:"anchor",origin:null,isShow:!0}),$e.push({uuid:xn,x:Et.points[1].x,y:Et.points[1].y,type:"control",origin:_e,isShow:!1}),_e=genUUID(),$e.push({uuid:jt,x:Et.points[2].x,y:Et.points[2].y,type:"control",origin:_e,isShow:!1}),wn>=Oe.curves.length-1&&$e.push({uuid:_e,x:Et.points[3].x,y:Et.points[3].y,type:"anchor",origin:null,isShow:!0})}const{x:Fe,y:Ue,w:kt,h:Lt}=getBound$4($e);editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{value:{points:$e,editMode:!1},type:"pen",x:Fe,y:Ue,w:kt,h:Lt,rotation:0}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{value:{points:$e,editMode:!1},type:"pen",x:Fe,y:Ue,w:kt,h:Lt,rotation:0})};return(j,re)=>{const oe=resolveComponent("el-input"),ae=resolveComponent("el-form-item"),de=resolveComponent("el-form"),ue=resolveComponent("el-input-number"),pe=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$U,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$S,[createBaseVNode("div",_hoisted_3$t,[createBaseVNode("div",_hoisted_4$q,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(de,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(oe,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":re[0]||(re[0]=he=>unref(selectedComponent).name=he)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$n,[createBaseVNode("div",_hoisted_6$l,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(de,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),unref(selectedComponent).type==="polygon"?(openBlock(),createElementBlock("div",_hoisted_7$i,[createBaseVNode("div",_hoisted_8$h,toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.title")),1),createVNode(pe,{onPointerdown:z},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.label")),1)]),_:1})])):createCommentVNode("",!0)])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_9$h,[createBaseVNode("div",_hoisted_10$h,[createBaseVNode("div",_hoisted_11$g,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(de,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(oe,{modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":re[1]||(re[1]=he=>unref(selectedComponent$1).name=he)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_12$d,[createBaseVNode("div",_hoisted_13$d,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(de,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),unref(selectedComponent$1).type==="polygon"?(openBlock(),createElementBlock("div",_hoisted_14$d,[createBaseVNode("div",_hoisted_15$a,toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.title")),1),createVNode(pe,{onPointerdown:z},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.label")),1)]),_:1})])):createCommentVNode("",!0)])):createCommentVNode("",!0)])}}}),PolygonEditPanel=_export_sfc(_sfc_main$V,[["__scopeId","data-v-1066c99c"]]),_hoisted_1$T={class:"picture-edit-panel"},_hoisted_2$R={class:"name-wrap"},_hoisted_3$s={class:"title"},_hoisted_4$p={class:"transform-wrap"},_hoisted_5$m={class:"title"},_hoisted_6$k={class:"opacity-wrap"},_hoisted_7$h={class:"title"},_sfc_main$U=defineComponent({__name:"PictureEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:oe})},k=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{y:oe})},$=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:oe})},V=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{h:oe})},L=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{rotation:oe})};let z=null,j=!1;const re=oe=>{z&&clearTimeout(z),z=setTimeout(()=>{j=!1,clearTimeout(z)},500),j||(g(),j=!0),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{opacity:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{opacity:oe})};return(oe,ae)=>{const de=resolveComponent("el-input"),ue=resolveComponent("el-form-item"),pe=resolveComponent("el-form"),he=resolveComponent("el-input-number"),xe=resolveComponent("el-slider");return openBlock(),createElementBlock("div",_hoisted_1$T,[createBaseVNode("div",_hoisted_2$R,[createBaseVNode("div",_hoisted_3$s,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(pe,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(de,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":ae[0]||(ae[0]=$e=>unref(selectedComponent).name=$e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_4$p,[createBaseVNode("div",_hoisted_5$m,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(pe,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_6$k,[createBaseVNode("div",_hoisted_7$h,toDisplayString$1(unref(e)("panels.paramsPanel.opacity.title")),1),createVNode(pe,{class:"opacitym-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.opacity.opacity")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).opacity,min:0,max:1,step:.05,onChange:re},null,8,["model-value"]),createVNode(xe,{"model-value":unref(selectedComponent).opacity,precision:.01,min:0,max:1,step:.05,onInput:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])}}}),PictureEditPanel=_export_sfc(_sfc_main$U,[["__scopeId","data-v-7e1bd557"]]),_hoisted_1$S={class:"rectangle-edit-panel"},_hoisted_2$Q={key:0,class:"character-edit-panel"},_hoisted_3$r={class:"name-wrap"},_hoisted_4$o={class:"title"},_hoisted_5$l={class:"transform-wrap"},_hoisted_6$j={class:"title"},_hoisted_7$g={key:1,class:"glyph-edit-panel"},_hoisted_8$g={class:"name-wrap"},_hoisted_9$g={class:"title"},_hoisted_10$g={class:"transform-wrap"},_hoisted_11$f={class:"title"},_sfc_main$T=defineComponent({__name:"RectangleEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:z})},k=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{y:z})},$=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:z})},V=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{h:z})},L=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{rotation:z})};return(z,j)=>{const re=resolveComponent("el-input"),oe=resolveComponent("el-form-item"),ae=resolveComponent("el-form"),de=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$S,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$Q,[createBaseVNode("div",_hoisted_3$r,[createBaseVNode("div",_hoisted_4$o,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(re,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":j[0]||(j[0]=ue=>unref(selectedComponent).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$l,[createBaseVNode("div",_hoisted_6$j,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_7$g,[createBaseVNode("div",_hoisted_8$g,[createBaseVNode("div",_hoisted_9$g,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(re,{modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":j[1]||(j[1]=ue=>unref(selectedComponent$1).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_10$g,[createBaseVNode("div",_hoisted_11$f,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):createCommentVNode("",!0)])}}}),RectangleEditPanel=_export_sfc(_sfc_main$T,[["__scopeId","data-v-cdd50d75"]]),_hoisted_1$R={class:"ellipse-edit-panel"},_hoisted_2$P={key:0,class:"character-edit-panel"},_hoisted_3$q={class:"name-wrap"},_hoisted_4$n={class:"title"},_hoisted_5$k={class:"transform-wrap"},_hoisted_6$i={class:"title"},_hoisted_7$f={key:1,class:"glyph-edit-panel"},_hoisted_8$f={class:"name-wrap"},_hoisted_9$f={class:"title"},_hoisted_10$f={class:"transform-wrap"},_hoisted_11$e={class:"title"},_sfc_main$S=defineComponent({__name:"EllipseEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:z})},k=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{y:z})},$=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:z})},V=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{h:z})},L=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{rotation:z})};return(z,j)=>{const re=resolveComponent("el-input"),oe=resolveComponent("el-form-item"),ae=resolveComponent("el-form"),de=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$R,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$P,[createBaseVNode("div",_hoisted_3$q,[createBaseVNode("div",_hoisted_4$n,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label"),prop:"name"},{default:withCtx(()=>[createVNode(re,{id:"name",modelValue:unref(selectedComponent).name,"onUpdate:modelValue":j[0]||(j[0]=ue=>unref(selectedComponent).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$k,[createBaseVNode("div",_hoisted_6$i,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x"),prop:"x"},{default:withCtx(()=>[createVNode(de,{id:"x","model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y"),prop:"y"},{default:withCtx(()=>[createVNode(de,{id:"y","model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w"),prop:"w"},{default:withCtx(()=>[createVNode(de,{id:"w","model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h"),prop:"h"},{default:withCtx(()=>[createVNode(de,{id:"h","model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation"),prop:"rotation"},{default:withCtx(()=>[createVNode(de,{id:"rotation","model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_7$f,[createBaseVNode("div",_hoisted_8$f,[createBaseVNode("div",_hoisted_9$f,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label"),prop:"name"},{default:withCtx(()=>[createVNode(re,{id:"name",modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":j[1]||(j[1]=ue=>unref(selectedComponent$1).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_10$f,[createBaseVNode("div",_hoisted_11$e,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x"),prop:"x"},{default:withCtx(()=>[createVNode(de,{id:"x","model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y"),prop:"y"},{default:withCtx(()=>[createVNode(de,{id:"y","model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w"),prop:"w"},{default:withCtx(()=>[createVNode(de,{id:"w","model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h"),prop:"h"},{default:withCtx(()=>[createVNode(de,{id:"h","model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation"),prop:"rotation"},{default:withCtx(()=>[createVNode(de,{id:"rotation","model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):createCommentVNode("",!0)])}}}),EllipseEditPanel=_export_sfc(_sfc_main$S,[["__scopeId","data-v-d5aa5a9e"]]),_hoisted_1$Q={class:"picture-edit-panel"},_hoisted_2$O={class:"effect-wrapper step-1-wrapper"},_hoisted_3$p={class:"title"},_hoisted_4$m={key:0,class:"global-effect"},_hoisted_5$j={key:0,class:"tip"},_hoisted_6$h={key:1,class:"local-brush"},_hoisted_7$e={class:"effect-wrapper"},_hoisted_8$e={class:"title"},_hoisted_9$e={class:"content"},_hoisted_10$e={class:"effect-wrapper step-3-wrapper"},_hoisted_11$d={class:"title"},_hoisted_12$c={class:"effect-wrapper"},_hoisted_13$c={class:"title"},_hoisted_14$c={class:"content"},_sfc_main$R=defineComponent({__name:"FontPicEditPanel",setup(n){const{tm:e,t:r}=useI18n();let g=rThreshold.value,y=gThreshold.value,k=bThreshold.value,$=maxError.value;const V=Ne=>{setStep(Ne),step.value===1&&(previewStatus.value=1,g=rThreshold.value,y=gThreshold.value,k=bThreshold.value),step.value===3&&(previewStatus.value=3,$=maxError.value)},L=()=>{enableLocalBrush.value?(enableLocalBrush.value=!1,emitter.emit("toggleLocalBrushEdit",!1),xe()):(g=rThreshold.value,y=gThreshold.value,k=bThreshold.value,step.value=0,xe())},z=()=>{xe()},j=()=>{},re=()=>{},oe=()=>{enableLocalBrush.value?(enableLocalBrush.value=!1,emitter.emit("toggleLocalBrushEdit",!1)):(rThreshold.value=g,gThreshold.value=y,bThreshold.value=k,step.value=0,xe())},ae=()=>{$=maxError.value,step.value=0,$e()},de=()=>{maxError.value=$,step.value=0,$e()},ue=()=>{$e()},pe=()=>{$e()},he=()=>{const{thumbnailCanvas:Ne,thumbnailPixels:Oe}=editCharacterPic.value,_e=toBlackWhiteBitMap(Oe,{r:rThreshold.value,g:gThreshold.value,b:bThreshold.value},{x:0,y:0,size:-1,width:Ne.width,height:Ne.height});setBitMap({data:_e,width:Ne.width,height:Ne.height}),editCharacterPic.value.processPixels=_e,localRThreshold.value=rThreshold.value,localGThreshold.value=gThreshold.value,localBThreshold.value=bThreshold.value,setEnableLocalBrush(!0),emitter.emit("toggleLocalBrushEdit",!0)},xe=()=>{clearContoursComponent(),clearCurvesComponent();const{thumbnailCanvas:Ne,processPixels:Oe}=editCharacterPic.value;let _e=[];enableLocalBrush.value?_e=Oe:_e=toBlackWhiteBitMap(Oe,{r:rThreshold.value,g:gThreshold.value,b:bThreshold.value},{x:0,y:0,size:-1,width:Ne.width,height:Ne.height}),setBitMap({data:_e,width:Ne.width,height:Ne.height});const{canvas:Fe}=reversePixels(_e,bitmap.value.width,bitmap.value.height),Ue=Fe.getContext("2d"),kt=Fe.width,Lt=Fe.height,wn=Ue.getImageData(0,0,kt,Lt);let Et=cv.matFromImageData(wn);cv.cvtColor(Et,Et,cv.COLOR_RGBA2GRAY,0),cv.threshold(Et,Et,120,200,cv.THRESH_BINARY);let xn=new cv.MatVector,jt=new cv.Mat;cv.findContours(Et,xn,jt,cv.RETR_CCOMP,cv.CHAIN_APPROX_NONE);const An=[];for(let rr=0;rr<xn.size();rr++){const Xn=xn.get(rr);for(let Pn=0;Pn<Xn.rows;Pn++)An.push({x:Xn.data32S[Pn*2],y:Xn.data32S[Pn*2+1]})}const{x:Dn,y:En,w:Bn,h:$n}=getBound$4(An);let Wn,Gn;const Nn=500;Bn>$n?(Wn=Nn,Gn=$n/Bn*Wn):(Gn=Nn,Wn=Bn/$n*Gn);const Zn=Wn/Bn,Hn=Gn/$n;for(let rr=0;rr<xn.size();rr++){const Xn=[],Pn=xn.get(rr);for(let hn=0;hn<Pn.rows;hn++)Xn.push({uuid:genUUID(),x:Pn.data32S[hn*2],y:Pn.data32S[hn*2+1]});Xn.push({uuid:genUUID(),x:Pn.data32S[0],y:Pn.data32S[1]});const{x:jn,y:fr,w:yr,h:Cr}=getBound$4(Xn),sr=transformPoints(Xn,{x:(jn-Dn)*Zn,y:(fr-En)*Hn,w:yr*Zn,h:Cr*Hn,rotation:0,flipX:!1,flipY:!1}).map(hn=>({uuid:genUUID(),...hn})),{x:zn,y:vn,w:Jn,h:Tn}=getBound$4(sr.reduce((hn,Vn)=>(hn.push({x:Vn.x,y:Vn.y}),hn),[])),Dt={uuid:genUUID(),type:"polygon",name:"polygon",lock:!1,visible:!0,value:{points:sr,fillColor:jt.data32S[rr*4+3]===-1?"#000":"#fff",strokeColor:"#000",closePath:!0},x:zn,y:vn,w:Jn,h:Tn,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!1};addContoursComponent(Dt)}contoursComponents.value.map(rr=>{if(rr.type==="polygon"){const Xn=rr.value.points,Pn=fitCurve(Xn,maxError.value);let jn=[];Pn.map((vn,Jn)=>{const Tn=genUUID(),Dt=genUUID(),hn=genUUID(),Vn=genUUID();jn.push({uuid:Tn,x:vn[0].x,y:vn[0].y,type:"anchor",origin:null,isShow:!0}),jn.push({uuid:Dt,x:vn[1].x,y:vn[1].y,type:"control",origin:Tn,isShow:!1}),jn.push({uuid:hn,x:vn[2].x,y:vn[2].y,type:"control",origin:Vn,isShow:!1}),Jn>=Pn.length-1&&jn.push({uuid:Vn,x:vn[3].x,y:vn[3].y,type:"anchor",origin:null,isShow:!0})});const{x:fr,y:yr,w:Cr,h:sr}=getBound$4(jn),zn=clone$1(rr);zn.uuid=genUUID(),zn.value.points=jn,zn.value.editMode=!1,zn.type="pen",zn.name="pic-contour",zn.x=fr,zn.y=yr,zn.w=Cr,zn.h=sr,zn.rotation=0,zn.usedInCharacter=!0,addCurvesComponent(zn)}})},$e=()=>{clearCurvesComponent(),contoursComponents.value.filter(Ne=>Ne.value.points.length>=dropThreshold.value).map(Ne=>{if(Ne.type==="polygon"){const Oe=Ne.value.points,_e=fitCurve(Oe,maxError.value);let Fe=[];_e.map((xn,jt)=>{const An=genUUID(),Dn=genUUID(),En=genUUID(),Bn=genUUID();Fe.push({uuid:An,x:xn[0].x,y:xn[0].y,type:"anchor",origin:null,isShow:!0}),Fe.push({uuid:Dn,x:xn[1].x,y:xn[1].y,type:"control",origin:An,isShow:!1}),Fe.push({uuid:En,x:xn[2].x,y:xn[2].y,type:"control",origin:Bn,isShow:!1}),jt>=_e.length-1&&Fe.push({uuid:Bn,x:xn[3].x,y:xn[3].y,type:"anchor",origin:null,isShow:!0})});const{x:Ue,y:kt,w:Lt,h:wn}=getBound$4(Fe),Et=clone$1(Ne);Et.uuid=genUUID(),Et.value.points=Fe,Et.value.editMode=!1,Et.type="pen",Et.name="pic-contour",Et.x=Ue,Et.y=kt,Et.w=Lt,Et.h=wn,Et.rotation=0,Et.usedInCharacter=!0,addCurvesComponent(Et)}})};return emitter.on("resetEditFontPic",()=>{xe()}),(Ne,Oe)=>{const _e=resolveComponent("el-slider"),Fe=resolveComponent("el-form-item"),Ue=resolveComponent("el-button"),kt=resolveComponent("el-button-group"),Lt=resolveComponent("el-form"),wn=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$Q,[createBaseVNode("div",_hoisted_2$O,[createBaseVNode("div",_hoisted_3$p,toDisplayString$1(unref(r)("panels.picEditPanel.step1.title")),1),createVNode(Lt,{class:"bitmap-form form","label-width":"40px"},{default:withCtx(()=>[unref(enableLocalBrush).value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$m,[createVNode(Fe,{label:"r"},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(rThreshold),"onUpdate:modelValue":Oe[0]||(Oe[0]=Et=>isRef(rThreshold)?rThreshold.value=Et:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:z},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"g"},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(gThreshold),"onUpdate:modelValue":Oe[1]||(Oe[1]=Et=>isRef(gThreshold)?gThreshold.value=Et:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:z},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"b"},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(bThreshold),"onUpdate:modelValue":Oe[2]||(Oe[2]=Et=>isRef(bThreshold)?bThreshold.value=Et:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:z},null,8,["modelValue","disabled"])]),_:1}),unref(step)===1?(openBlock(),createElementBlock("div",_hoisted_5$j,[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.step1.tip")),1),createVNode(Ue,{type:"primary",text:"",onPointerdown:he},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.step1.localBrush")),1)]),_:1})])):createCommentVNode("",!0)])),unref(enableLocalBrush).value&&unref(step)===1?(openBlock(),createElementBlock("div",_hoisted_6$h,[createVNode(Fe,{label:"r"},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(localRThreshold),"onUpdate:modelValue":Oe[3]||(Oe[3]=Et=>isRef(localRThreshold)?localRThreshold.value=Et:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:re},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"g"},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(localGThreshold),"onUpdate:modelValue":Oe[4]||(Oe[4]=Et=>isRef(localGThreshold)?localGThreshold.value=Et:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:re},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"b"},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(localBThreshold),"onUpdate:modelValue":Oe[5]||(Oe[5]=Et=>isRef(localBThreshold)?localBThreshold.value=Et:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:re},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:unref(e)("panels.picEditPanel.step1.brush")},{default:withCtx(()=>[createVNode(_e,{modelValue:unref(localBrushSize),"onUpdate:modelValue":Oe[6]||(Oe[6]=Et=>isRef(localBrushSize)?localBrushSize.value=Et:null),"show-input":"",size:"small",min:1,max:50,disabled:unref(step)!==1,onChange:j},null,8,["modelValue","disabled"])]),_:1},8,["label"])])):createCommentVNode("",!0),createVNode(kt,{class:"step-button-group"},{default:withCtx(()=>[createVNode(Ue,{disabled:unref(step)!==1,onPointerdown:L,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.confirm")),1)]),_:1},8,["disabled"]),createVNode(Ue,{disabled:unref(step)!==1,onPointerdown:oe,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.cancel")),1)]),_:1},8,["disabled"]),createVNode(Ue,{type:"primary",disabled:unref(step)===1,onPointerdown:Oe[7]||(Oe[7]=Et=>V(1)),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.edit")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_7$e,[createBaseVNode("div",_hoisted_8$e,toDisplayString$1(unref(r)("panels.picEditPanel.step2.title")),1),createBaseVNode("div",_hoisted_9$e,toDisplayString$1(unref(r)("panels.picEditPanel.step2.content")),1)]),createBaseVNode("div",_hoisted_10$e,[createBaseVNode("div",_hoisted_11$d,toDisplayString$1(unref(r)("panels.picEditPanel.step3.title")),1),createVNode(Lt,{class:"fit-curve-form form","label-width":"50px"},{default:withCtx(()=>[createVNode(Fe,{label:""},{default:withCtx(()=>[createVNode(wn,{modelValue:unref(maxError),"onUpdate:modelValue":Oe[8]||(Oe[8]=Et=>isRef(maxError)?maxError.value=Et:null),min:1,max:10,disabled:unref(step)!==3,onInput:ue},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:""},{default:withCtx(()=>[createVNode(wn,{modelValue:unref(dropThreshold),"onUpdate:modelValue":Oe[9]||(Oe[9]=Et=>isRef(dropThreshold)?dropThreshold.value=Et:null),min:0,max:100,disabled:unref(step)!==3,onInput:pe},null,8,["modelValue","disabled"])]),_:1}),createVNode(kt,{class:"step-button-group"},{default:withCtx(()=>[createVNode(Ue,{disabled:unref(step)!==3,onPointerdown:ae,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.confirm")),1)]),_:1},8,["disabled"]),createVNode(Ue,{disabled:unref(step)!==3,onPointerdown:de,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.cancel")),1)]),_:1},8,["disabled"]),createVNode(Ue,{type:"primary",disabled:unref(step)===3,onPointerdown:Oe[10]||(Oe[10]=Et=>V(3)),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.edit")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_12$c,[createBaseVNode("div",_hoisted_13$c,toDisplayString$1(unref(r)("panels.picEditPanel.step4.title")),1),createBaseVNode("div",_hoisted_14$c,toDisplayString$1(unref(r)("panels.picEditPanel.step4.content")),1)])])}}}),FontPicEditPanel=_export_sfc(_sfc_main$R,[["__scopeId","data-v-8c0cb561"]]),_hoisted_1$P={class:"widget ringController"},_hoisted_2$N=["width","height"],outerSize=12,_sfc_main$Q=defineComponent({__name:"RingController",props:{radius:Object({min:Number,max:Number,value:Number,name:String}),degree:Object({min:Number,max:Number,value:Number,name:String}),params:Array,size:{type:Number,default:50},onChange:Function},setup(n){const e=n,{radius:r,degree:g,params:y,size:k,onChange:$}=toRefs(e),V=ref(null),L=k.value-outerSize*2,z=$e=>Math.PI/180*$e,j=$e=>$e/Math.PI*180;onMounted(()=>{xe(),V.value.addEventListener("mousedown",ue)});const re=($e,Ne,Oe,_e)=>Math.sqrt(($e-Oe)*($e-Oe)+(Ne-_e)*(Ne-_e)),oe=computed(()=>L/2/(r.value.max-r.value.min)*(r.value.value-r.value.min)),ae=ref("defualt");let de=-1;const ue=$e=>{re($e.offsetX,$e.offsetY,k.value/2+oe?.value*Math.cos(z(g?.value.value)),k.value/2-oe?.value*Math.sin(z(g?.value.value)))<=5&&(document.body.addEventListener("mousemove",pe),document.body.addEventListener("mouseup",he),$e.offsetX,$e.offsetY,ae.value="inner-move");for(let Ne=0;Ne<(y?.value).length;Ne++){const Oe=(y?.value)[Ne],_e=2*Math.PI*Ne/(y?.value).length,Fe=_e+2*Math.PI/(y?.value).length,Ue=k.value/2-outerSize/2,kt=_e+(Fe-_e)/(Oe.max-Oe.min)*(Oe.value-Oe.min);re($e.offsetX,$e.offsetY,k.value/2+Ue*Math.cos(kt),k.value/2+Ue*Math.sin(kt))<=5&&(document.body.addEventListener("mousemove",pe),document.body.addEventListener("mouseup",he),$e.offsetX,$e.offsetY,de=Ne,ae.value="outer-move")}},pe=$e=>{switch(ae.value){case"inner-move":{const Ne=re($e.offsetX,$e.offsetY,k.value/2,k.value/2),Oe=r.value.min+Ne/(L/2)*(r.value.max-r.value.min);if(Ne<=L/2){let _e=Math.atan2(-($e.offsetY-k.value/2),$e.offsetX-k.value/2);_e<0&&g.value.max>180&&(_e+=Math.PI*2);const Fe=j(_e);let Ue=g.value.value;Fe>=g.value.min&&Fe<=g.value.max&&(Ue=Fe),$.value(Oe,Ue,Object.assign([],y.value)),$e.offsetX,$e.offsetY,ae.value="inner-move"}break}case"outer-move":{let Ne=Math.atan2($e.offsetY-k.value/2,$e.offsetX-k.value/2);Ne<0&&(Ne+=Math.PI*2);const Oe=y.value[de],_e=2*Math.PI*de/(y?.value).length,Fe=_e+2*Math.PI/(y?.value).length,Ue=j(Ne),kt=Oe.min+(Ue-j(_e))/(j(Fe)-j(_e))*(Oe.max-Oe.min);if(kt>=Oe.min&&kt<=Oe.max){const Lt=Object.assign([],y.value);Lt[de].value=kt,$.value(r.value.value,g.value.value,Lt),$e.offsetX,$e.offsetY,ae.value="outer-move"}break}}},he=()=>{ae.value="defualt",de=-1,document.body.removeEventListener("mousemove",pe),document.body.removeEventListener("mouseup",he)};watch([r,g,y,k],()=>{xe()},{deep:!0});const xe=()=>{const $e=V.value.getContext("2d");for(let Ne=0;Ne<(y?.value).length;Ne++){const Oe=(y?.value)[Ne],_e=2*Math.PI*Ne/(y?.value).length,Fe=_e+2*Math.PI/(y?.value).length,Ue=k.value/2-outerSize/2,kt=_e+(Fe-_e)/(Oe.max-Oe.min)*(Oe.value-Oe.min);$e.fillStyle="#153063",$e.beginPath(),$e.arc(k.value/2,k.value/2,k.value/2,_e,Fe),$e.lineTo(k.value/2,k.value/2),$e.closePath(),$e.fill(),$e.fillStyle="white",$e.beginPath(),$e.arc(k.value/2,k.value/2,k.value/2,_e+z(2),Fe-z(2)),$e.lineTo(k.value/2,k.value/2),$e.closePath(),$e.fill(),$e.fillStyle="#153063",$e.beginPath(),$e.arc(k.value/2+Ue*Math.cos(kt),k.value/2+Ue*Math.sin(kt),5,0,2*Math.PI),$e.closePath(),$e.fill()}$e.fillStyle="#153063",$e.beginPath(),$e.arc(k.value/2,k.value/2,L/2,0,2*Math.PI),$e.closePath(),$e.fill(),$e.fillStyle="white",$e.beginPath(),$e.arc(k.value/2,k.value/2,L/2,-z(g.value.min),-z(g.value.min)-z(g.value.max-g.value.min),!0),$e.lineTo(k.value/2,k.value/2),$e.closePath(),$e.fill(),$e.strokeStyle="#153063",$e.lineWidth=2,$e.beginPath(),$e.arc(k.value/2,k.value/2,L/2,0,2*Math.PI),$e.closePath(),$e.stroke(),g.value.min===0&&g.value.max===360&&($e.beginPath(),$e.moveTo(k.value/2,k.value/2),$e.lineTo(k.value,k.value/2),$e.closePath(),$e.stroke()),$e.fillStyle="#153063",$e.beginPath(),$e.arc(k.value/2+oe?.value*Math.cos(z(g?.value.value)),k.value/2-oe?.value*Math.sin(z(g?.value.value)),5,0,2*Math.PI),$e.closePath(),$e.fill()};return($e,Ne)=>(openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("canvas",{ref_key:"canvas",ref:V,width:unref(k),height:unref(k)},null,8,_hoisted_2$N)]))}}),editing$2=ref(!1),selectControl$1=ref(""),_hoisted_1$O={class:"glyph-edit-panel"},_hoisted_2$M={key:0,class:"character-glyph-edit-panel"},_hoisted_3$o={class:"character-edit-panel"},_hoisted_4$l={class:"name-wrap"},_hoisted_5$i={class:"title"},_hoisted_6$g={key:0,class:"layout-wrap"},_hoisted_7$d={class:"title"},_hoisted_8$d={class:"ratio-item"},_hoisted_9$d={class:"interactive-settings"},_hoisted_10$d={class:"title"},_hoisted_11$c={class:"transform-wrap"},_hoisted_12$b={class:"title"},_hoisted_13$b={class:"parameters-wrap"},_hoisted_14$b={class:"title"},_hoisted_15$9={class:"param-btn-group"},_hoisted_16$9={key:0},_hoisted_17$7=["onPointerdown"],_hoisted_18$7={class:"down-menu"},_hoisted_19$7={class:"ratio-item"},_hoisted_20$7={key:1},_hoisted_21$6={key:2},_hoisted_22$6={key:0,class:"ring-controller-wrap"},_hoisted_23$6={key:1,class:"number-controller-wrap"},_hoisted_24$6={key:3},_hoisted_25$5={key:0},_hoisted_26$5={key:1},_hoisted_27$5={key:0,class:"ring-controller-wrap"},_hoisted_28$4={key:1,class:"number-controller-wrap"},_hoisted_29$4={class:"joints-wrap"},_hoisted_30$4={class:"title"},_sfc_main$P=defineComponent({__name:"GlyphEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=Oe=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,Oe)},y=computed(()=>{let Oe=selectedComponent.value;return editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length&&(selectedSubComponent.value?Oe=selectedSubComponent.value:Oe=SubComponentsRoot.value),Oe});onUnmounted(()=>{draggable$1.value=!0,dragOption.value="default",checkJoints.value=!1,checkRefLines.value=!1});const k=ref(0),$=[{value:0,key:"widget"},{value:1,key:"number"}],V=ref(150);y.value.value._o?.getJoints().map(Oe=>{Oe&&(jointsCheckedMap.value[Oe.name]=!1)}),watch([y,selectedComponent],()=>{jointsCheckedMap.value={},y.value.value._o?.getJoints().map(Oe=>{Oe&&(jointsCheckedMap.value[Oe.name]=!1)})});let L=null,z=!1;watch(editCharacterFile,(Oe,_e)=>{L&&clearTimeout(L),L=setTimeout(()=>{z=!1,clearTimeout(L)},500),z||(g({editCharacterFile:_e,newRecord:!0}),z=!0)},{deep:!0});const j=Oe=>{editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length?modifySubComponent({ox:Oe}):modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{ox:Oe})},re=Oe=>{editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length?modifySubComponent({oy:Oe}):modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{oy:Oe})},oe=(Oe,_e)=>{if(Oe.value=_e,Oe.ratioed)if(y.value.value.system_script||(y.value.value.system_script={}),editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length&&selectedSubComponent.value){let Fe=getRatioLayout2(SubComponentsRoot.value.value,Oe.ratio);if(Fe){const Ue=`window.comp_glyph.setParam('${Oe.name}',window.glyph.getRatioLayout('${Oe.ratio}') / ${Fe} * ${_e});`;y.value.value.system_script[Oe.name]=Ue}}else{let Fe=getCharacterRatioLayout(editCharacterFile.value,Oe.ratio);if(Fe){const Ue=`window.comp_glyph.setParam('${Oe.name}',window.character.getRatioLayout('${Oe.ratio}') / ${Fe} * ${_e});`;y.value.value.system_script[Oe.name]=Ue}}executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),y.value.value._o.getJoints().map(Fe=>{Fe.component=y.value}),emitter.emit("renderPreviewCanvasByUUIDOnEditing",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0)},ae=(Oe,_e)=>{if(Oe.ratioed)if(y.value.value.system_script||(y.value.value.system_script={}),editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length&&selectedSubComponent.value){let Fe=getRatioLayout2(SubComponentsRoot.value.value,Oe.ratio);if(Fe){const Ue=`window.comp_glyph.setParam('${Oe.name}',window.glyph.getRatioLayout('${Oe.ratio}') / ${Fe} * ${Oe.value});`;y.value.value.system_script[Oe.name]=Ue}}else{let Fe=getCharacterRatioLayout(editCharacterFile.value,Oe.ratio);if(Fe){const Ue=`window.comp_glyph.setParam('${Oe.name}',window.character.getRatioLayout('${Oe.ratio}') / ${Fe} * ${Oe.value});`;y.value.value.system_script[Oe.name]=Ue}}executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUIDOnEditing",y.value.value.uuid),emitter.emit("renderCharacter")};watch([checkJoints,checkRefLines],()=>{emitter.emit("renderCharacter")}),watch(jointsCheckedMap,()=>{editStatus.value===Status.Edit?emitter.emit("renderCharacter"):editStatus.value===Status.Glyph&&emitter.emit("renderGlyph"),y.value.value._o?.renderJoints(canvas.value,{type:"selected",joints:Object.keys(jointsCheckedMap.value).filter(Oe=>!!jointsCheckedMap.value[Oe])})},{deep:!0}),watch(dragOption,()=>{dragOption.value==="layout"&&(!editCharacterFile.value.selectedComponentsTree||!editCharacterFile.value.selectedComponentsTree.length)&&(grid.type=GridType.LayoutGrid)});let de=ref({});onMounted(()=>{editStatus.value===Status.Edit&&y.value.value.parameters?.parameters.map(Oe=>{de.value[Oe.uuid]=!1})});const ue=(Oe,_e,Fe,Ue)=>{Oe.radius.value=_e,Oe.degree.value=Fe,Oe.params=Object.assign([],Ue),executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0)},pe=()=>{executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),emitter.emit("renderCharacter_forceUpdate",!0),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid)},he=Oe=>{const _e=getConstant(Oe.value);Oe.type=_e.type,Oe.value=_e.value;const Fe=constantGlyphMap.get(_e.uuid);for(let Ue=0;Ue<Fe.length;Ue++)if(Fe[Ue].parameterUUID===Oe.uuid){Fe.splice(Ue,1);break}},xe=Oe=>{selectedParam.value=Oe,selectedParamType.value="glyph_components",setSetAsGlobalParamDialogVisible(!0)},$e=Oe=>{selectedParam.value=Oe,selectedParamType.value="glyph_components",setSelectGlobalParamDialogVisible(!0)},Ne=Oe=>{const _e=constantGlyphMap.get(Oe.value);for(let Fe=0;Fe<_e.length;Fe++){const Ue=_e[Fe];let kt=null;if(Ue.constantType===ConstantType.Parameter)kt=getGlyphByUUID(_e[Fe].glyphUUID);else if(Ue.constantType===ConstantType.Component){const Lt=_e[Fe].parentUUID;let wn=null;Ue.glyphType===GlyphType.Char?wn=selectedItemByUUID(selectedFile.value.characterList,Lt):wn=getGlyphByUUID(Lt),kt=wn.value}kt&&(executeScript(kt),emitter.emit("renderGlyphPreviewCanvasByUUID",kt.uuid))}};return(Oe,_e)=>{const Fe=resolveComponent("el-input"),Ue=resolveComponent("el-form-item"),kt=resolveComponent("el-form"),Lt=resolveComponent("el-input-number"),wn=resolveComponent("font-awesome-icon"),Et=resolveComponent("el-option"),xn=resolveComponent("el-select"),jt=resolveComponent("el-switch"),An=resolveComponent("el-checkbox"),Dn=resolveComponent("el-radio"),En=resolveComponent("el-radio-group"),Bn=resolveComponent("el-icon"),$n=resolveComponent("el-button"),Wn=resolveComponent("el-popover"),Gn=resolveComponent("el-slider"),Nn=resolveComponent("el-tab-pane"),Zn=resolveComponent("el-collapse-item"),Hn=resolveComponent("el-collapse"),rr=resolveComponent("el-tabs");return openBlock(),createElementBlock("div",_hoisted_1$O,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$M,[createBaseVNode("div",_hoisted_3$o,[createBaseVNode("div",_hoisted_4$l,[createBaseVNode("div",_hoisted_5$i,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(kt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(Fe,{modelValue:y.value.name,"onUpdate:modelValue":_e[0]||(_e[0]=Xn=>y.value.name=Xn)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),y.value.value.layout?(openBlock(),createElementBlock("div",_hoisted_6$g,[createBaseVNode("div",_hoisted_7$d,toDisplayString$1(unref(r)("panels.paramsPanel.layout.title")),1),createVNode(kt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Ue,{label:unref(e)("panels.paramsPanel.layout.type")},{default:withCtx(()=>[createVNode(Fe,{disabled:"",modelValue:y.value.value.layout.type,"onUpdate:modelValue":_e[1]||(_e[1]=Xn=>y.value.value.layout.type=Xn)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(y.value.value.layout.params),Xn=>(openBlock(),createBlock(Ue,{label:Xn},{default:withCtx(()=>[createVNode(Lt,{modelValue:y.value.value.layout.params[Xn],"onUpdate:modelValue":Pn=>y.value.value.layout.params[Xn]=Pn,onChange:pe},null,8,["modelValue","onUpdate:modelValue"]),createBaseVNode("div",_hoisted_8$d,[createVNode(wn,{class:normalizeClass(["ratio-icon",{selected:y.value.value.layout.ratioedMap&&y.value.value.layout.ratioedMap[Xn].ratioed}]),onPointerdown:()=>{y.value.value.layout.ratioedMap||(y.value.value.layout.ratioedMap=new Map),y.value.value.layout.ratioedMap[Xn]||y.value.value.layout.ratioedMap.set(Xn,{ratioed:!0}),y.value.value.layout.ratioedMap[Xn].ratioed=!y.value.value.layout.ratioedMap[Xn].ratioed},icon:["fas","percent"]},null,8,["class","onPointerdown"]),createVNode(xn,{modelValue:y.value.value.layout.ratioedMap[Xn].ratio,"onUpdate:modelValue":Pn=>y.value.value.layout.ratioedMap[Xn].ratio=Pn,class:"control-type-select",placeholder:"Ratio",disabled:!y.value.value.layout.ratioedMap||!y.value.value.layout.ratioedMap[Xn].ratioed},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(y.value.value),Pn=>(openBlock(),createBlock(Et,{key:Pn.key,label:Pn.label,value:Pn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])]),_:2},1032,["label"]))),256)),createVNode(Ue,{label:""},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(editing$2),"onUpdate:modelValue":_e[2]||(_e[2]=Xn=>isRef(editing$2)?editing$2.value=Xn:null)},null,8,["modelValue"])]),_:1})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$d,[createBaseVNode("div",_hoisted_10$d,toDisplayString$1(unref(r)("panels.paramsPanel.interactive")),1),createVNode(kt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Ue,{label:unref(e)("panels.paramsPanel.draggableOption")},{default:withCtx(()=>[createVNode(An,{modelValue:unref(draggable$1),"onUpdate:modelValue":_e[3]||(_e[3]=Xn=>isRef(draggable$1)?draggable$1.value=Xn:null),class:"draggable-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.draggable")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),createVNode(Ue,{label:unref(e)("panels.paramsPanel.dragOption")},{default:withCtx(()=>[createVNode(En,{modelValue:unref(dragOption),"onUpdate:modelValue":_e[4]||(_e[4]=Xn=>isRef(dragOption)?dragOption.value=Xn:null),class:"radio-group"},{default:withCtx(()=>[createVNode(Dn,{value:"none",label:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.dragOptionNone")),1)]),_:1}),createVNode(Dn,{value:"default",label:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.dragOptionDefault")),1)]),_:1}),createVNode(Dn,{value:"layout",label:"layout",disabled:!unref(SubComponentsRoot)||!!unref(SubComponentsRoot)&&!unref(SubComponentsRoot).value.layout},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.dragOptionLayout")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_11$c,[createBaseVNode("div",_hoisted_12$b,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(kt,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(Lt,{"model-value":y.value.ox,precision:1,onChange:j},null,8,["model-value"])]),_:1},8,["label"]),createVNode(Ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(Lt,{"model-value":y.value.oy,precision:1,onChange:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])]),createBaseVNode("div",_hoisted_13$b,[createBaseVNode("div",_hoisted_14$b,toDisplayString$1(unref(r)("panels.paramsPanel.params.title")),1),createVNode(kt,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Ue,{label:unref(e)("programming.joint")},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(checkJoints),"onUpdate:modelValue":_e[5]||(_e[5]=Xn=>isRef(checkJoints)?checkJoints.value=Xn:null)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(Ue,{label:unref(e)("programming.refline")},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(checkRefLines),"onUpdate:modelValue":_e[6]||(_e[6]=Xn=>isRef(checkRefLines)?checkRefLines.value=Xn:null)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.value.parameters.parameters,Xn=>(openBlock(),createBlock(Ue,{label:Xn.name},{default:withCtx(()=>[createVNode(Wn,{placement:"right",width:250,trigger:"click"},{reference:withCtx(()=>[createVNode(Bn,{class:normalizeClass(["more-btn",{ring:Xn.type===unref(ParameterType).RingController||Xn.type===unref(ParameterType).Constant&&unref(getConstant)(Xn.value).type===unref(ParameterType).RingController,show:Xn.type===unref(ParameterType).Number||Xn.type===unref(ParameterType).Constant&&unref(getConstant)(Xn.value).type!==unref(ParameterType).RingController||k.value===0}])},{default:withCtx(()=>[createVNode(unref(more_default))]),_:2},1032,["class"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_15$9,[withDirectives(createVNode($n,{onPointerdown:Pn=>he(Xn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.cancelGlobalParam")),1)]),_:2},1032,["onPointerdown"]),[[vShow,Xn.type===unref(ParameterType).Constant]]),createVNode($n,{onPointerdown:Pn=>xe(Xn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.setAsGlobalParam")),1)]),_:2},1032,["onPointerdown"]),createVNode($n,{onPointerdown:Pn=>$e(Xn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.selectGlobalParam")),1)]),_:2},1032,["onPointerdown"]),withDirectives(createVNode($n,{type:"primary",onPointerdown:Pn=>Ne(Xn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.updateGlobalParam")),1)]),_:2},1032,["onPointerdown"]),[[vShow,Xn.type===unref(ParameterType).Constant]])])]),_:2},1024),withDirectives(createBaseVNode("div",{class:normalizeClass(["global-param-note",{ring:Xn.type===unref(ParameterType).Constant&&unref(getConstant)(Xn.value).type===unref(ParameterType).RingController}])},toDisplayString$1(unref(r)("panels.paramsPanel.globalParam")),3),[[vShow,Xn.type===unref(ParameterType).Constant]]),Xn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_16$9,[createVNode(Lt,{"model-value":Xn.value,step:Xn.max<=10?.01:1,min:Xn.min,max:Xn.max,precision:Xn.max<=10?2:0,disabled:Xn.type===unref(ParameterType).Constant,onChange:Pn=>oe(Xn,Pn)},null,8,["model-value","step","min","max","precision","disabled","onChange"]),withDirectives(createVNode(Gn,{step:Xn.max<=10?.01:1,min:Xn.min,max:Xn.max,precision:Xn.max<=10?2:0,onInput:Pn=>oe(Xn,Pn),modelValue:Xn.value,"onUpdate:modelValue":Pn=>Xn.value=Pn},null,8,["step","min","max","precision","onInput","modelValue","onUpdate:modelValue"]),[[vShow,Xn.type===unref(ParameterType).Number]]),createBaseVNode("div",{class:"down-menu-icon-wrap",onPointerdown:Pn=>unref(de)[Xn.uuid]=!unref(de)[Xn.uuid]},[createVNode(wn,{icon:["fas","arrow-down-wide-short"]})],40,_hoisted_17$7),withDirectives(createBaseVNode("div",_hoisted_18$7,[createBaseVNode("div",_hoisted_19$7,[createVNode(wn,{class:normalizeClass(["ratio-icon",{selected:Xn.ratioed}]),onPointerdown:()=>{Xn.ratioed=!Xn.ratioed,!Xn.ratioed&&y.value.value.system_script&&y.value.value.system_script[Xn.name]&&delete y.value.value.system_script[Xn.name]},icon:["fas","percent"]},null,8,["class","onPointerdown"]),createVNode(xn,{modelValue:Xn.ratio,"onUpdate:modelValue":Pn=>Xn.ratio=Pn,class:"control-type-select",placeholder:"Ratio",disabled:!Xn.ratioed,onChange:Pn=>ae(Xn,Pn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(y.value.value),Pn=>(openBlock(),createBlock(Et,{key:Pn.key,label:Pn.label,value:Pn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])],512),[[vShow,unref(de)[Xn.uuid]]])])):Xn.type===unref(ParameterType).Enum?(openBlock(),createElementBlock("div",_hoisted_20$7,[createVNode(xn,{modelValue:Xn.value,"onUpdate:modelValue":Pn=>Xn.value=Pn,class:"enum-param-select",placeholder:"Select",onChange:Pn=>oe(Xn,Pn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Xn.options,Pn=>(openBlock(),createBlock(Et,{key:Pn.value,label:Pn.label,value:Pn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):Xn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_21$6,[createVNode(xn,{modelValue:k.value,"onUpdate:modelValue":_e[7]||(_e[7]=Pn=>k.value=Pn),class:"control-type-select",placeholder:unref(e)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,Pn=>createVNode(Et,{key:Pn.key,label:unref(e)(`programming.${Pn.key}`),value:Pn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),k.value===0?(openBlock(),createElementBlock("div",_hoisted_22$6,[createVNode(_sfc_main$Q,{radius:Xn.value.radius,size:V.value,degree:Xn.value.degree,params:Xn.value.params,"on-change":(Pn,jn,fr)=>ue(Xn.value,Pn,jn,fr)},null,8,["radius","size","degree","params","on-change"])])):k.value===1?(openBlock(),createElementBlock("div",_hoisted_23$6,[createVNode(rr,{type:"border-card"},{default:withCtx(()=>[createVNode(Nn,{label:"radius"},{default:withCtx(()=>[createVNode(Ue,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value",modelValue:Xn.value.radius.name,"onUpdate:modelValue":Pn=>Xn.value.radius.name=Pn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Ue,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:Xn.value.radius.value,"onUpdate:modelValue":Pn=>Xn.value.radius.value=Pn,min:Xn.value.radius.min,max:Xn.value.radius.max,precision:Xn.value.radius.max<=10?2:0,step:Xn.value.radius.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Gn,{onInput:Pn=>oe(Xn.value.radius,Pn),modelValue:Xn.value.radius.value,"onUpdate:modelValue":Pn=>Xn.value.radius.value=Pn,min:Xn.value.radius.min,max:Xn.value.radius.max,precision:Xn.value.radius.max<=10?2:0,step:Xn.value.radius.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Nn,{label:"degree"},{default:withCtx(()=>[createVNode(Ue,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value",modelValue:Xn.value.degree.name,"onUpdate:modelValue":Pn=>Xn.value.degree.name=Pn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Ue,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:Xn.value.degree.value,"onUpdate:modelValue":Pn=>Xn.value.degree.value=Pn,min:Xn.value.degree.min,max:Xn.value.degree.max,precision:Xn.max<=10?2:0,step:Xn.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Gn,{onInput:Pn=>oe(Xn.value.degree,Pn),modelValue:Xn.value.degree.value,"onUpdate:modelValue":Pn=>Xn.value.degree.value=Pn,min:Xn.value.degree.min,max:Xn.value.degree.max,precision:Xn.value.degree.max<=10?2:0,step:Xn.value.degree.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Nn,{label:"params"},{default:withCtx(()=>[createVNode(Hn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Xn.value.params,Pn=>(openBlock(),createBlock(Zn,{title:Pn.name,name:"1"},{default:withCtx(()=>[createVNode(Ue,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value",modelValue:Pn.name,"onUpdate:modelValue":jn=>Pn.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Ue,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:Pn.value,"onUpdate:modelValue":jn=>Pn.value=jn,min:Pn.min,max:Pn.max,precision:Pn.max<=10?2:0,step:Pn.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Gn,{onInput:jn=>oe(Pn,jn),modelValue:Pn.value,"onUpdate:modelValue":jn=>Pn.value=jn,min:Pn.min,max:Pn.max,precision:Pn.max<=10?2:0,step:Pn.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):Xn.type===unref(ParameterType).Constant?(openBlock(),createElementBlock("div",_hoisted_24$6,[unref(getConstant)(Xn.value).type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_25$5,[createVNode(Lt,{"model-value":unref(getConstant)(Xn.value).value,step:unref(getConstant)(Xn.value).max<=10?.01:1,min:unref(getConstant)(Xn.value).min,max:unref(getConstant)(Xn.value).max,precision:unref(getConstant)(Xn.value).max<=10?2:0,onChange:Pn=>oe(unref(getConstant)(Xn.value),Pn)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Gn,{"model-value":unref(getConstant)(Xn.value).value,step:unref(getConstant)(Xn.value).max<=10?.01:1,min:unref(getConstant)(Xn.value).min,max:unref(getConstant)(Xn.value).max,precision:unref(getConstant)(Xn.value).max<=10?2:0,onInput:Pn=>oe(unref(getConstant)(Xn.value),Pn),onChange:Pn=>oe(unref(getConstant)(Xn.value),Pn)},null,8,["model-value","step","min","max","precision","onInput","onChange"])])):unref(getConstant)(Xn.value).type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_26$5,[createVNode(xn,{modelValue:k.value,"onUpdate:modelValue":_e[8]||(_e[8]=Pn=>k.value=Pn),class:"control-type-select",placeholder:unref(e)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,Pn=>createVNode(Et,{key:Pn.key,label:unref(e)(`programming.${Pn.key}`),value:Pn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),k.value===0?(openBlock(),createElementBlock("div",_hoisted_27$5,[createVNode(_sfc_main$Q,{radius:unref(getConstant)(Xn.value).value.radius,size:V.value,degree:unref(getConstant)(Xn.value).value.degree,params:unref(getConstant)(Xn.value).value.params,"on-change":(Pn,jn,fr)=>ue(unref(getConstant)(Xn.value).value,Pn,jn,fr)},null,8,["radius","size","degree","params","on-change"])])):k.value===1?(openBlock(),createElementBlock("div",_hoisted_28$4,[createVNode(rr,{type:"border-card"},{default:withCtx(()=>[createVNode(Nn,{label:"radius"},{default:withCtx(()=>[createVNode(Ue,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value","model-value":unref(getConstant)(Xn.value).value.radius.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(Ue,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value","model-value":unref(getConstant)(Xn.value).value.radius.value,min:unref(getConstant)(Xn.value).value.radius.min,max:unref(getConstant)(Xn.value).value.radius.max,precision:unref(getConstant)(Xn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Xn.value).value.radius.max<=10?.01:1,onChange:Pn=>oe(unref(getConstant)(Xn.value).value.radius,Pn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Gn,{onInput:Pn=>oe(unref(getConstant)(Xn.value).value.radius,Pn),"model-value":unref(getConstant)(Xn.value).value.radius.value,min:unref(getConstant)(Xn.value).value.radius.min,max:unref(getConstant)(Xn.value).value.radius.max,precision:unref(getConstant)(Xn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Xn.value).value.radius.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Nn,{label:"degree"},{default:withCtx(()=>[createVNode(Ue,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value","model-value":unref(getConstant)(Xn.value).value.degree.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(Ue,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value","model-value":unref(getConstant)(Xn.value).value.degree.value,min:unref(getConstant)(Xn.value).value.degree.min,max:unref(getConstant)(Xn.value).value.degree.max,precision:unref(getConstant)(Xn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Xn.value).value.degree.max<=10?.01:1,onChange:Pn=>oe(unref(getConstant)(Xn.value).value.degree,Pn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Gn,{onInput:Pn=>oe(unref(getConstant)(Xn.value).value.degree,Pn),"model-value":unref(getConstant)(Xn.value).value.degree.value,min:unref(getConstant)(Xn.value).value.degree.min,max:unref(getConstant)(Xn.value).value.degree.max,precision:unref(getConstant)(Xn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Xn.value).value.degree.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Nn,{label:"params"},{default:withCtx(()=>[createVNode(Hn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getConstant)(Xn.value).value.params,Pn=>(openBlock(),createBlock(Zn,{title:Pn.name,name:"1"},{default:withCtx(()=>[createVNode(Ue,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value","model-value":Pn.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(Ue,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value test","model-value":Pn.value,min:Pn.min,max:Pn.max,precision:Pn.max<=10?2:0,step:Pn.max<=10?.01:1,onChange:jn=>oe(Pn,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Gn,{onInput:jn=>oe(Pn,jn),modelValue:Pn.value,"onUpdate:modelValue":jn=>Pn.value=jn,min:Pn.min,max:Pn.max,precision:Pn.max<=10?2:0,step:Pn.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1032,["label"]))),256))]),_:1})]),createBaseVNode("div",_hoisted_29$4,[createBaseVNode("div",_hoisted_30$4,toDisplayString$1(unref(r)("panels.paramsPanel.joints.title")),1),createVNode(kt,{class:"joints-form","label-width":"80px"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.value._o?y.value.value._o?.getJoints():[],Xn=>(openBlock(),createBlock(An,{modelValue:unref(jointsCheckedMap)[Xn.name],"onUpdate:modelValue":Pn=>unref(jointsCheckedMap)[Xn.name]=Pn,label:Xn.name},null,8,["modelValue","onUpdate:modelValue","label"]))),256))]),_:1})])])):createCommentVNode("",!0)])}}}),GlyphEditPanel$1=_export_sfc(_sfc_main$P,[["__scopeId","data-v-6a2e7786"]]),editing$1=ref(!1),selectControl=ref(""),_hoisted_1$N={class:"glyph-edit-panel"},_hoisted_2$L={key:0,class:"character-glyph-edit-panel"},_hoisted_3$n={class:"character-edit-panel"},_hoisted_4$k={class:"name-wrap"},_hoisted_5$h={class:"title"},_hoisted_6$f={key:0,class:"layout-wrap"},_hoisted_7$c={class:"title"},_hoisted_8$c={class:"ratio-item"},_hoisted_9$c={class:"interactive-settings"},_hoisted_10$c={class:"title"},_hoisted_11$b={class:"transform-wrap"},_hoisted_12$a={class:"title"},_hoisted_13$a={class:"parameters-wrap"},_hoisted_14$a={class:"title"},_hoisted_15$8={class:"param-btn-group"},_hoisted_16$8={key:0},_hoisted_17$6=["onPointerdown"],_hoisted_18$6={class:"down-menu"},_hoisted_19$6={class:"ratio-item"},_hoisted_20$6={key:1},_hoisted_21$5={key:2},_hoisted_22$5={key:0,class:"ring-controller-wrap"},_hoisted_23$5={key:1,class:"number-controller-wrap"},_hoisted_24$5={key:3},_hoisted_25$4={key:0},_hoisted_26$4={key:1},_hoisted_27$4={key:0,class:"ring-controller-wrap"},_hoisted_28$3={key:1,class:"number-controller-wrap"},_hoisted_29$3={class:"joints-wrap"},_hoisted_30$3={class:"title"},_sfc_main$O=defineComponent({__name:"GlyphEditPanel_Glyph",setup(n){const{tm:e,t:r}=useI18n(),g=_e=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,_e)};let y=null,k=!1;watch(editGlyph,(_e,Fe)=>{y&&clearTimeout(y),y=setTimeout(()=>{k=!1,clearTimeout(y)},500),k||(g({editGlyph:Fe,newRecord:!0}),k=!0)},{deep:!0});const $=computed(()=>{let _e=selectedComponent$1.value;return editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length&&(selectedSubComponent$1.value?_e=selectedSubComponent$1.value:_e=SubComponentsRoot$1.value),_e});onUnmounted(()=>{draggable$1.value=!0,dragOption.value="default",checkJoints.value=!1,checkRefLines.value=!1});const V=ref(0),L=[{value:0,key:"widget"},{value:1,key:"number"}],z=ref(150),j=ref({});$.value.value._o?.getJoints().map(_e=>{_e&&(j.value[_e.name]=!1)}),watch($,()=>{j.value={},$.value.value._o?.getJoints().map(_e=>{_e&&(j.value[_e.name]=!1)})});const re=_e=>{editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length?modifySubComponent$1({ox:_e}):modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{ox:_e})},oe=_e=>{editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length?modifySubComponent$1({oy:_e}):modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{oy:_e})},ae=(_e,Fe)=>{if(_e.value=Fe,_e.ratioed)if($.value.value.system_script||($.value.value.system_script={}),editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length&&selectedSubComponent$1.value){let Ue=getRatioLayout2(SubComponentsRoot$1.value.value,_e.ratio);if(Ue){const kt=`window.comp_glyph.setParam('${_e.name}',window.glyph.getRatioLayout('${_e.ratio}') / ${Ue} * ${Fe});`;$.value.value.system_script[_e.name]=kt}}else{let Ue=getRatioLayout(editGlyph.value,_e.ratio);if(Ue){const kt=`window.comp_glyph.setParam('${_e.name}',window.glyph.getRatioLayout('${_e.ratio}') / ${Ue} * ${Fe});`;$.value.value.system_script[_e.name]=kt}}executeScript(editGlyph.value),$.value.value._o.getJoints().map(Ue=>{Ue.component=$.value}),emitter.emit("renderGlyphPreviewCanvasByUUIDOnEditing",editGlyph.value.uuid),emitter.emit("renderGlyph")},de=(_e,Fe)=>{if(_e.ratioed)if($.value.value.system_script||($.value.value.system_script={}),editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length&&selectedSubComponent$1.value){let Ue=getRatioLayout2(SubComponentsRoot$1.value.value,_e.ratio);if(Ue){const kt=`window.comp_glyph.setParam('${_e.name}',window.glyph.getRatioLayout('${_e.ratio}') / ${Ue} * ${_e.value});`;$.value.value.system_script[_e.name]=kt}}else{let Ue=getRatioLayout(editGlyph.value,_e.ratio);if(Ue){const kt=`window.comp_glyph.setParam('${_e.name}',window.glyph.getRatioLayout('${_e.ratio}') / ${Ue} * ${_e.value});`;$.value.value.system_script[_e.name]=kt}}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUIDOnEditing",editGlyph.value.uuid),emitter.emit("renderGlyph")};watch(j,()=>{editStatus.value===Status.Edit?emitter.emit("renderCharacter"):editStatus.value===Status.Glyph&&emitter.emit("renderGlyph"),$.value.value._o.renderJoints(canvas.value,{type:"selected",joints:Object.keys(j.value).filter(_e=>!!j.value[_e])})},{deep:!0}),watch([checkJoints,checkRefLines],()=>{emitter.emit("renderGlyph")}),watch(dragOption,()=>{});let ue=ref({});onMounted(()=>{editStatus.value===Status.Edit&&$.value.value.parameters?.parameters.map(_e=>{ue.value[_e.uuid]=!1})});const pe=(_e,Fe,Ue,kt)=>{_e.radius.value=Fe,_e.degree.value=Ue,_e.params=Object.assign([],kt),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0)},he=_e=>{const Fe=getConstant(_e.value);_e.type=Fe.type,_e.value=Fe.value;const Ue=constantGlyphMap.get(Fe.uuid);for(let kt=0;kt<Ue.length;kt++)if(Ue[kt].parameterUUID===_e.uuid){Ue.splice(kt,1);break}},xe=_e=>{selectedParam.value=_e,selectedParamType.value="glyph_components",setSetAsGlobalParamDialogVisible(!0)},$e=_e=>{selectedParam.value=_e,selectedParamType.value="glyph_components",setSelectGlobalParamDialogVisible(!0)},Ne=_e=>{const Fe=constantGlyphMap.get(_e.value);for(let Ue=0;Ue<Fe.length;Ue++){const kt=Fe[Ue];let Lt=null;if(kt.constantType===ConstantType.Parameter)Lt=getGlyphByUUID(Fe[Ue].glyphUUID);else if(kt.constantType===ConstantType.Component){const wn=Fe[Ue].parentUUID;let Et=null;kt.glyphType===GlyphType.Char?Et=selectedItemByUUID(selectedFile.value.characterList,wn):Et=getGlyphByUUID(wn),Lt=Et.value}Lt&&(executeScript(Lt),emitter.emit("renderGlyphPreviewCanvasByUUID",Lt.uuid))}},Oe=()=>{executeScript($.value.value),executeScript(editGlyph.value),emitter.emit("renderGlyph_forceUpdate",!0),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid)};return(_e,Fe)=>{const Ue=resolveComponent("el-input"),kt=resolveComponent("el-form-item"),Lt=resolveComponent("el-form"),wn=resolveComponent("el-input-number"),Et=resolveComponent("font-awesome-icon"),xn=resolveComponent("el-option"),jt=resolveComponent("el-select"),An=resolveComponent("el-switch"),Dn=resolveComponent("el-checkbox"),En=resolveComponent("el-radio"),Bn=resolveComponent("el-radio-group"),$n=resolveComponent("el-icon"),Wn=resolveComponent("el-button"),Gn=resolveComponent("el-popover"),Nn=resolveComponent("el-slider"),Zn=resolveComponent("el-tab-pane"),Hn=resolveComponent("el-collapse-item"),rr=resolveComponent("el-collapse"),Xn=resolveComponent("el-tabs");return openBlock(),createElementBlock("div",_hoisted_1$N,[unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_2$L,[createBaseVNode("div",_hoisted_3$n,[createBaseVNode("div",_hoisted_4$k,[createBaseVNode("div",_hoisted_5$h,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(Lt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(Ue,{modelValue:$.value.name,"onUpdate:modelValue":Fe[0]||(Fe[0]=Pn=>$.value.name=Pn)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),$.value.value.layout?(openBlock(),createElementBlock("div",_hoisted_6$f,[createBaseVNode("div",_hoisted_7$c,toDisplayString$1(unref(r)("panels.paramsPanel.layout.title")),1),createVNode(Lt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(e)("panels.paramsPanel.layout.type")},{default:withCtx(()=>[createVNode(Ue,{disabled:"",modelValue:$.value.value.layout.type,"onUpdate:modelValue":Fe[1]||(Fe[1]=Pn=>$.value.value.layout.type=Pn)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys($.value.value.layout.params),Pn=>(openBlock(),createBlock(kt,{label:Pn},{default:withCtx(()=>[createVNode(wn,{modelValue:$.value.value.layout.params[Pn],"onUpdate:modelValue":jn=>$.value.value.layout.params[Pn]=jn,onChange:Oe},null,8,["modelValue","onUpdate:modelValue"]),createBaseVNode("div",_hoisted_8$c,[createVNode(Et,{class:normalizeClass(["ratio-icon",{selected:$.value.value.layout.ratioedMap&&$.value.value.layout.ratioedMap[Pn].ratioed}]),onPointerdown:()=>{$.value.value.layout.ratioedMap||($.value.value.layout.ratioedMap=new Map),$.value.value.layout.ratioedMap[Pn]||$.value.value.layout.ratioedMap.set(Pn,{ratioed:!0}),$.value.value.layout.ratioedMap[Pn].ratioed=!$.value.value.layout.ratioedMap[Pn].ratioed},icon:["fas","percent"]},null,8,["class","onPointerdown"]),createVNode(jt,{modelValue:$.value.value.layout.ratioedMap[Pn].ratio,"onUpdate:modelValue":jn=>$.value.value.layout.ratioedMap[Pn].ratio=jn,class:"control-type-select",placeholder:"Ratio",disabled:!$.value.value.layout.ratioedMap||!$.value.value.layout.ratioedMap[Pn].ratioed},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)($.value.value),jn=>(openBlock(),createBlock(xn,{key:jn.key,label:jn.label,value:jn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])]),_:2},1032,["label"]))),256)),createVNode(kt,{label:unref(e)("panels.paramsPanel.latoutEditing")},{default:withCtx(()=>[createVNode(An,{modelValue:unref(editing$1),"onUpdate:modelValue":Fe[2]||(Fe[2]=Pn=>isRef(editing$1)?editing$1.value=Pn:null)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$c,toDisplayString$1(unref(r)("panels.paramsPanel.interactive")),1),createVNode(Lt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(e)("panels.paramsPanel.draggableOption")},{default:withCtx(()=>[createVNode(Dn,{modelValue:unref(draggable$1),"onUpdate:modelValue":Fe[3]||(Fe[3]=Pn=>isRef(draggable$1)?draggable$1.value=Pn:null),class:"draggable-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.draggable")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),createVNode(kt,{label:unref(e)("panels.paramsPanel.dragOption")},{default:withCtx(()=>[createVNode(Bn,{modelValue:unref(dragOption),"onUpdate:modelValue":Fe[4]||(Fe[4]=Pn=>isRef(dragOption)?dragOption.value=Pn:null),class:"radio-group"},{default:withCtx(()=>[createVNode(En,{value:"none",label:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.dragOptionNone")),1)]),_:1}),createVNode(En,{value:"default",label:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.dragOptionDefault")),1)]),_:1}),createVNode(En,{value:"layout",label:"layout",disabled:!unref(SubComponentsRoot$1)&&!unref(editGlyph).layout||!!unref(SubComponentsRoot$1)&&!unref(SubComponentsRoot$1).value.layout},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.dragOptionLayout")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_11$b,[createBaseVNode("div",_hoisted_12$a,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(Lt,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(wn,{"model-value":$.value.ox,precision:1,onChange:re},null,8,["model-value"])]),_:1},8,["label"]),createVNode(kt,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(wn,{"model-value":$.value.oy,precision:1,onChange:oe},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])]),createBaseVNode("div",_hoisted_13$a,[createBaseVNode("div",_hoisted_14$a,toDisplayString$1(unref(r)("panels.paramsPanel.params.title")),1),createVNode(Lt,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(e)("programming.joint")},{default:withCtx(()=>[createVNode(An,{modelValue:unref(checkJoints),"onUpdate:modelValue":Fe[5]||(Fe[5]=Pn=>isRef(checkJoints)?checkJoints.value=Pn:null)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(kt,{label:unref(e)("programming.refline")},{default:withCtx(()=>[createVNode(An,{modelValue:unref(checkRefLines),"onUpdate:modelValue":Fe[6]||(Fe[6]=Pn=>isRef(checkRefLines)?checkRefLines.value=Pn:null)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList($.value.value.parameters.parameters,Pn=>(openBlock(),createBlock(kt,{label:Pn.name},{default:withCtx(()=>[createVNode(Gn,{placement:"right",width:250,trigger:"click"},{reference:withCtx(()=>[createVNode($n,{class:normalizeClass(["more-btn",{ring:Pn.type===unref(ParameterType).RingController||Pn.type===unref(ParameterType).Constant&&unref(getConstant)(Pn.value).type===unref(ParameterType).RingController,show:Pn.type===unref(ParameterType).Number||Pn.type===unref(ParameterType).Constant&&unref(getConstant)(Pn.value).type!==unref(ParameterType).RingController||V.value===0}])},{default:withCtx(()=>[createVNode(unref(more_default))]),_:2},1032,["class"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_15$8,[withDirectives(createVNode(Wn,{onPointerdown:jn=>he(Pn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.cancelGlobalParam")),1)]),_:2},1032,["onPointerdown"]),[[vShow,Pn.type===unref(ParameterType).Constant]]),createVNode(Wn,{onPointerdown:jn=>xe(Pn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.setAsGlobalParam")),1)]),_:2},1032,["onPointerdown"]),createVNode(Wn,{onPointerdown:jn=>$e(Pn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.selectGlobalParam")),1)]),_:2},1032,["onPointerdown"]),withDirectives(createVNode(Wn,{type:"primary",onPointerdown:jn=>Ne(Pn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.updateGlobalParam")),1)]),_:2},1032,["onPointerdown"]),[[vShow,Pn.type===unref(ParameterType).Constant]])])]),_:2},1024),withDirectives(createBaseVNode("div",{class:normalizeClass(["global-param-note",{ring:Pn.type===unref(ParameterType).Constant&&unref(getConstant)(Pn.value).type===unref(ParameterType).RingController}])},toDisplayString$1(unref(r)("panels.paramsPanel.globalParam")),3),[[vShow,Pn.type===unref(ParameterType).Constant]]),Pn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_16$8,[createVNode(wn,{"model-value":Pn.value,step:Pn.max<=10?.01:1,min:Pn.min,max:Pn.max,precision:Pn.max<=10?2:0,onChange:jn=>ae(Pn,jn)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Nn,{step:Pn.max<=10?.01:1,min:Pn.min,max:Pn.max,precision:Pn.max<=10?2:0,onInput:jn=>ae(Pn,jn),modelValue:Pn.value,"onUpdate:modelValue":jn=>Pn.value=jn},null,8,["step","min","max","precision","onInput","modelValue","onUpdate:modelValue"]),createBaseVNode("div",{class:"down-menu-icon-wrap",onPointerdown:jn=>unref(ue)[Pn.uuid]=!unref(ue)[Pn.uuid]},[createVNode(Et,{icon:["fas","arrow-down-wide-short"]})],40,_hoisted_17$6),withDirectives(createBaseVNode("div",_hoisted_18$6,[createBaseVNode("div",_hoisted_19$6,[createVNode(Et,{class:normalizeClass(["ratio-icon",{selected:Pn.ratioed}]),onPointerdown:()=>{Pn.ratioed=!Pn.ratioed,!Pn.ratioed&&$.value.value.system_script&&$.value.value.system_script[Pn.name]&&delete $.value.value.system_script[Pn.name]},icon:["fas","percent"]},null,8,["class","onPointerdown"]),createVNode(jt,{modelValue:Pn.ratio,"onUpdate:modelValue":jn=>Pn.ratio=jn,class:"control-type-select",placeholder:"Ratio",disabled:!Pn.ratioed,onChange:jn=>de(Pn,jn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)($.value.value),jn=>(openBlock(),createBlock(xn,{key:jn.key,label:jn.label,value:jn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])],512),[[vShow,unref(ue)[Pn.uuid]]])])):Pn.type===unref(ParameterType).Enum?(openBlock(),createElementBlock("div",_hoisted_20$6,[createVNode(jt,{modelValue:Pn.value,"onUpdate:modelValue":jn=>Pn.value=jn,class:"enum-param-select",placeholder:"Select",onChange:jn=>ae(Pn,jn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.options,jn=>(openBlock(),createBlock(xn,{key:jn.value,label:jn.label,value:jn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):Pn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_21$5,[createVNode(jt,{modelValue:V.value,"onUpdate:modelValue":Fe[7]||(Fe[7]=jn=>V.value=jn),class:"control-type-select",placeholder:unref(e)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(L,jn=>createVNode(xn,{key:jn.key,label:unref(e)(`programming.${jn.key}`),value:jn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),V.value===0?(openBlock(),createElementBlock("div",_hoisted_22$5,[createVNode(_sfc_main$Q,{radius:Pn.value.radius,size:z.value,degree:Pn.value.degree,params:Pn.value.params,"on-change":(jn,fr,yr)=>pe(Pn.value,jn,fr,yr)},null,8,["radius","size","degree","params","on-change"])])):V.value===1?(openBlock(),createElementBlock("div",_hoisted_23$5,[createVNode(Xn,{type:"border-card"},{default:withCtx(()=>[createVNode(Zn,{label:"radius"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ue,{class:"parameter-value",modelValue:Pn.value.radius.name,"onUpdate:modelValue":jn=>Pn.value.radius.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Pn.value.radius.value,"onUpdate:modelValue":jn=>Pn.value.radius.value=jn,min:Pn.value.radius.min,max:Pn.value.radius.max,precision:Pn.value.radius.max<=10?2:0,step:Pn.value.radius.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Nn,{onInput:jn=>ae(Pn.value.radius,jn),modelValue:Pn.value.radius.value,"onUpdate:modelValue":jn=>Pn.value.radius.value=jn,min:Pn.value.radius.min,max:Pn.value.radius.max,precision:Pn.value.radius.max<=10?2:0,step:Pn.value.radius.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Zn,{label:"degree"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ue,{class:"parameter-value",modelValue:Pn.value.degree.name,"onUpdate:modelValue":jn=>Pn.value.degree.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Pn.value.degree.value,"onUpdate:modelValue":jn=>Pn.value.degree.value=jn,min:Pn.value.degree.min,max:Pn.value.degree.max,precision:Pn.value.degree.max<=10?2:0,step:Pn.value.degree.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Nn,{onInput:jn=>ae(Pn.value.degree,jn),modelValue:Pn.value.degree.value,"onUpdate:modelValue":jn=>Pn.value.degree.value=jn,min:Pn.value.degree.min,max:Pn.value.degree.max,precision:Pn.value.degree.max<=10?2:0,step:Pn.value.degree.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Zn,{label:"params"},{default:withCtx(()=>[createVNode(rr,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.value.params,jn=>(openBlock(),createBlock(Hn,{title:jn.name,name:"1"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ue,{class:"parameter-value",modelValue:jn.name,"onUpdate:modelValue":fr=>jn.name=fr,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value test",modelValue:jn.value,"onUpdate:modelValue":fr=>jn.value=fr,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Nn,{onInput:fr=>ae(jn,fr),modelValue:jn.value,"onUpdate:modelValue":fr=>jn.value=fr,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):Pn.type===unref(ParameterType).Constant?(openBlock(),createElementBlock("div",_hoisted_24$5,[unref(getConstant)(Pn.value).type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_25$4,[createVNode(wn,{"model-value":unref(getConstant)(Pn.value).value,step:unref(getConstant)(Pn.value).max<=10?.01:1,min:unref(getConstant)(Pn.value).min,max:unref(getConstant)(Pn.value).max,precision:unref(getConstant)(Pn.value).max<=10?2:0,onChange:jn=>ae(unref(getConstant)(Pn.value),jn)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Nn,{"model-value":unref(getConstant)(Pn.value).value,step:unref(getConstant)(Pn.value).max<=10?.01:1,min:unref(getConstant)(Pn.value).min,max:unref(getConstant)(Pn.value).max,precision:unref(getConstant)(Pn.value).max<=10?2:0,onInput:jn=>ae(unref(getConstant)(Pn.value),jn),onChange:jn=>ae(unref(getConstant)(Pn.value),jn)},null,8,["model-value","step","min","max","precision","onInput","onChange"])])):unref(getConstant)(Pn.value).type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_26$4,[createVNode(jt,{modelValue:V.value,"onUpdate:modelValue":Fe[8]||(Fe[8]=jn=>V.value=jn),class:"control-type-select",placeholder:unref(e)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(L,jn=>createVNode(xn,{key:jn.key,label:unref(e)(`programming.${jn.key}`),value:jn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),V.value===0?(openBlock(),createElementBlock("div",_hoisted_27$4,[createVNode(_sfc_main$Q,{radius:unref(getConstant)(Pn.value).value.radius,size:z.value,degree:unref(getConstant)(Pn.value).value.degree,params:unref(getConstant)(Pn.value).value.params,"on-change":(jn,fr,yr)=>pe(unref(getConstant)(Pn.value).value,jn,fr,yr)},null,8,["radius","size","degree","params","on-change"])])):V.value===1?(openBlock(),createElementBlock("div",_hoisted_28$3,[createVNode(Xn,{type:"border-card"},{default:withCtx(()=>[createVNode(Zn,{label:"radius"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ue,{class:"parameter-value","model-value":unref(getConstant)(Pn.value).value.radius.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value","model-value":unref(getConstant)(Pn.value).value.radius.value,min:unref(getConstant)(Pn.value).value.radius.min,max:unref(getConstant)(Pn.value).value.radius.max,precision:unref(getConstant)(Pn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Pn.value).value.radius.max<=10?.01:1,onChange:jn=>ae(unref(getConstant)(Pn.value).value.radius,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Nn,{onInput:jn=>ae(unref(getConstant)(Pn.value).value.radius,jn),"model-value":unref(getConstant)(Pn.value).value.radius.value,min:unref(getConstant)(Pn.value).value.radius.min,max:unref(getConstant)(Pn.value).value.radius.max,precision:unref(getConstant)(Pn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Pn.value).value.radius.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Zn,{label:"degree"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ue,{class:"parameter-value","model-value":unref(getConstant)(Pn.value).value.degree.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value","model-value":unref(getConstant)(Pn.value).value.degree.value,min:unref(getConstant)(Pn.value).value.degree.min,max:unref(getConstant)(Pn.value).value.degree.max,precision:unref(getConstant)(Pn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Pn.value).value.degree.max<=10?.01:1,onChange:jn=>ae(unref(getConstant)(Pn.value).value.degree,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Nn,{onInput:jn=>ae(unref(getConstant)(Pn.value).value.degree,jn),"model-value":unref(getConstant)(Pn.value).value.degree.value,min:unref(getConstant)(Pn.value).value.degree.min,max:unref(getConstant)(Pn.value).value.degree.max,precision:unref(getConstant)(Pn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Pn.value).value.degree.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Zn,{label:"params"},{default:withCtx(()=>[createVNode(rr,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getConstant)(Pn.value).value.params,jn=>(openBlock(),createBlock(Hn,{title:jn.name,name:"1"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ue,{class:"parameter-value","model-value":jn.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value test","model-value":jn.value,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1,onChange:fr=>ae(jn,fr)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Nn,{onInput:fr=>ae(jn,fr),modelValue:jn.value,"onUpdate:modelValue":fr=>jn.value=fr,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1032,["label"]))),256))]),_:1})]),createBaseVNode("div",_hoisted_29$3,[createBaseVNode("div",_hoisted_30$3,toDisplayString$1(unref(r)("panels.paramsPanel.joints.title")),1),createVNode(Lt,{class:"joints-form","label-width":"80px"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList($.value.value._o?$.value.value._o?.getJoints():[],Pn=>(openBlock(),createBlock(Dn,{modelValue:j.value[Pn.name],"onUpdate:modelValue":jn=>j.value[Pn.name]=jn,label:Pn.name},null,8,["modelValue","onUpdate:modelValue","label"]))),256))]),_:1})])])):createCommentVNode("",!0)])}}}),GlyphEditPanelGlyph=_export_sfc(_sfc_main$O,[["__scopeId","data-v-953e32ff"]]),_hoisted_1$M={class:"glyph-edit-panel"},_hoisted_2$K={class:"title"},_hoisted_3$m={class:"layout-wrap"},_hoisted_4$j={key:0,class:"layout-info"},_hoisted_5$g={class:"parameters-wrap"},_hoisted_6$e={class:"title"},_hoisted_7$b={class:"param-btn-group"},_hoisted_8$b={key:0},_hoisted_9$b=["onPointerdown"],_hoisted_10$b={class:"down-menu"},_hoisted_11$a={class:"ratio-item"},_hoisted_12$9={key:1},_hoisted_13$9={key:2},_hoisted_14$9={key:0,class:"ring-controller-wrap"},_hoisted_15$7={key:1,class:"number-controller-wrap"},_hoisted_16$7={key:3},_hoisted_17$5={key:0},_hoisted_18$5={key:1},_hoisted_19$5={key:0,class:"ring-controller-wrap"},_hoisted_20$5={key:1,class:"number-controller-wrap"},_sfc_main$N=defineComponent({__name:"GlyphParamsPanel",setup(n){const{t:e,tm:r}=useI18n(),g=ref(0),y=[{value:0,key:"widget"},{value:1,key:"number"}],k=ref(0),$=[{value:0,key:"null"},{value:1,key:"rect"}],V=ref(!1),L=ref(150),z=_e=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,_e)};let j=null,re=!1;watch(editGlyph,(_e,Fe)=>{j&&clearTimeout(j),j=setTimeout(()=>{re=!1,clearTimeout(j)},500),re||(z({editGlyph:Fe,newRecord:!0}),re=!0)},{deep:!0});const oe=(_e,Fe)=>{if(_e.value=Fe,_e.ratioed){editGlyph.value.param_script||(editGlyph.value.param_script={});const Ue=getRatioLayout(editGlyph.value,Fe),kt=`window.glyph.setParam('${_e.name}',window.glyph.getRatioLayout('${Fe}') / ${Ue} * ${_e.value});`;editGlyph.value.param_script[_e.name]=kt}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")},ae=(_e,Fe)=>{if(_e.ratioed){editGlyph.value.param_script||(editGlyph.value.param_script={});const Ue=getRatioLayout(editGlyph.value,Fe),kt=`window.glyph.setParam('${_e.name}',window.glyph.getRatioLayout('${Fe}') / ${Ue} * ${_e.value});`;editGlyph.value.param_script[_e.name]=kt}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")},de=(_e,Fe,Ue,kt)=>{_e.radius.value=Fe,_e.degree.value=Ue,_e.params=Object.assign([],kt),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")};watch([checkJoints,checkRefLines],()=>{emitter.emit("renderGlyph")}),watch(k,()=>{if(k.value===0)editGlyph.value.layout=null;else if(k.value===1){const _e={width:{ratioed:!1,ratio:"DEFAULT"},height:{ratioed:!1,ratio:"DEFAULT"}};editGlyph.value.layout={type:"rect",params:{width:1e3,height:1e3},ratioedMap:_e}}V.value=!1});let ue=ref({});onMounted(()=>{editGlyph.value.parameters.parameters.map(_e=>{ue.value[_e.uuid]=!1})});let pe=null;const he=async()=>{emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),pe&&clearTimeout(pe),pe=setTimeout(()=>{executeScript(editGlyph.value),emitter.emit("renderGlyph",!0)},1500)},xe=_e=>{const Fe=getConstant(_e.value);_e.type=Fe.type,_e.value=Fe.value;const Ue=constantGlyphMap.get(Fe.uuid);for(let kt=0;kt<Ue.length;kt++)if(Ue[kt].parameterUUID===_e.uuid){Ue.splice(kt,1);break}},$e=_e=>{selectedParam.value=_e,selectedParamType.value="glyph_components",setSetAsGlobalParamDialogVisible(!0)},Ne=_e=>{selectedParam.value=_e,selectedParamType.value="glyph_components",setSelectGlobalParamDialogVisible(!0)},Oe=_e=>{const Fe=constantGlyphMap.get(_e.value);for(let Ue=0;Ue<Fe.length;Ue++){const kt=Fe[Ue];let Lt=null;if(kt.constantType===ConstantType.Parameter)Lt=getGlyphByUUID(Fe[Ue].glyphUUID);else if(kt.constantType===ConstantType.Component){const wn=Fe[Ue].parentUUID;let Et=null;kt.glyphType===GlyphType.Char?Et=selectedItemByUUID(selectedFile.value.characterList,wn):Et=getGlyphByUUID(wn),Lt=Et.value}Lt&&(executeScript(Lt),emitter.emit("renderGlyphPreviewCanvasByUUID",Lt.uuid))}};return(_e,Fe)=>{const Ue=resolveComponent("el-button"),kt=resolveComponent("el-option"),Lt=resolveComponent("el-select"),wn=resolveComponent("el-input"),Et=resolveComponent("el-form-item"),xn=resolveComponent("el-input-number"),jt=resolveComponent("el-switch"),An=resolveComponent("el-form"),Dn=resolveComponent("el-icon"),En=resolveComponent("el-popover"),Bn=resolveComponent("el-slider"),$n=resolveComponent("font-awesome-icon"),Wn=resolveComponent("el-tab-pane"),Gn=resolveComponent("el-collapse-item"),Nn=resolveComponent("el-collapse"),Zn=resolveComponent("el-tabs");return openBlock(),createElementBlock("div",_hoisted_1$M,[createBaseVNode("div",_hoisted_2$K,toDisplayString$1(unref(e)("panels.paramsPanel.layout.title")),1),createBaseVNode("div",_hoisted_3$m,[withDirectives(createVNode(Ue,{class:"add-layout-button",onPointerdown:Fe[0]||(Fe[0]=Hn=>V.value=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.layout.add")),1)]),_:1},512),[[vShow,!unref(editGlyph).layout&&!V.value]]),withDirectives(createVNode(Ue,{class:"set-layout-button",onPointerdown:Fe[1]||(Fe[1]=Hn=>V.value=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.layout.modify")),1)]),_:1},512),[[vShow,!!unref(editGlyph).layout&&!V.value]]),withDirectives(createVNode(Lt,{modelValue:k.value,"onUpdate:modelValue":Fe[2]||(Fe[2]=Hn=>k.value=Hn),class:"layout-type-select",placeholder:unref(r)("panels.paramsPanel.layout.title")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,Hn=>createVNode(kt,{key:Hn.key,label:unref(r)(`panels.paramsPanel.layout.${Hn.key}`),value:Hn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),[[vShow,V.value]]),unref(editGlyph).layout?(openBlock(),createElementBlock("div",_hoisted_4$j,[createVNode(An,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Et,{label:unref(r)("panels.paramsPanel.layout.type")},{default:withCtx(()=>[createVNode(wn,{disabled:"",modelValue:unref(editGlyph).layout.type,"onUpdate:modelValue":Fe[3]||(Fe[3]=Hn=>unref(editGlyph).layout.type=Hn)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(unref(editGlyph).layout.params),Hn=>(openBlock(),createBlock(Et,{label:Hn},{default:withCtx(()=>[createVNode(xn,{modelValue:unref(editGlyph).layout.params[Hn],"onUpdate:modelValue":rr=>unref(editGlyph).layout.params[Hn]=rr,onChange:he},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),256)),createVNode(Et,{label:""},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(editing$1),"onUpdate:modelValue":Fe[4]||(Fe[4]=Hn=>isRef(editing$1)?editing$1.value=Hn:null)},null,8,["modelValue"])]),_:1})]),_:1})])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$g,[createBaseVNode("div",_hoisted_6$e,toDisplayString$1(unref(e)("panels.paramsPanel.params.title")),1),createVNode(An,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(Et,{label:unref(r)("programming.joint")},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(checkJoints),"onUpdate:modelValue":Fe[5]||(Fe[5]=Hn=>isRef(checkJoints)?checkJoints.value=Hn:null)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(Et,{label:unref(r)("programming.refline")},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(checkRefLines),"onUpdate:modelValue":Fe[6]||(Fe[6]=Hn=>isRef(checkRefLines)?checkRefLines.value=Hn:null)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(editGlyph).parameters.parameters,Hn=>(openBlock(),createBlock(Et,{label:Hn.name},{default:withCtx(()=>[createVNode(En,{placement:"right",width:250,trigger:"click"},{reference:withCtx(()=>[createVNode(Dn,{class:normalizeClass(["more-btn",{ring:Hn.type===unref(ParameterType).RingController||Hn.type===unref(ParameterType).Constant&&unref(getConstant)(Hn.value).type===unref(ParameterType).RingController,show:Hn.type===unref(ParameterType).Number||Hn.type===unref(ParameterType).Constant&&unref(getConstant)(Hn.value).type!==unref(ParameterType).RingController||g.value===0}])},{default:withCtx(()=>[createVNode(unref(more_default))]),_:2},1032,["class"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$b,[withDirectives(createVNode(Ue,{onPointerdown:rr=>xe(Hn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.cancelGlobalParam")),1)]),_:2},1032,["onPointerdown"]),[[vShow,Hn.type===unref(ParameterType).Constant]]),createVNode(Ue,{onPointerdown:rr=>$e(Hn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.setAsGlobalParam")),1)]),_:2},1032,["onPointerdown"]),createVNode(Ue,{onPointerdown:rr=>Ne(Hn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.selectGlobalParam")),1)]),_:2},1032,["onPointerdown"]),withDirectives(createVNode(Ue,{type:"primary",onPointerdown:rr=>Oe(Hn)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.updateGlobalParam")),1)]),_:2},1032,["onPointerdown"]),[[vShow,Hn.type===unref(ParameterType).Constant]])])]),_:2},1024),withDirectives(createBaseVNode("div",{class:normalizeClass(["global-param-note",{ring:Hn.type===unref(ParameterType).Constant&&unref(getConstant)(Hn.value).type===unref(ParameterType).RingController}])},toDisplayString$1(unref(e)("panels.paramsPanel.globalParam")),3),[[vShow,Hn.type===unref(ParameterType).Constant]]),Hn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_8$b,[createVNode(xn,{"model-value":Hn.value,step:Hn.max<=10?.01:1,min:Hn.min,max:Hn.max,precision:Hn.max<=10?2:0,disabled:Hn.type===unref(ParameterType).Constant,onChange:rr=>oe(Hn,rr)},null,8,["model-value","step","min","max","precision","disabled","onChange"]),withDirectives(createVNode(Bn,{step:Hn.max<=10?.01:1,min:Hn.min,max:Hn.max,precision:Hn.max<=10?2:0,onInput:rr=>oe(Hn,rr),modelValue:Hn.value,"onUpdate:modelValue":rr=>Hn.value=rr},null,8,["step","min","max","precision","onInput","modelValue","onUpdate:modelValue"]),[[vShow,Hn.type===unref(ParameterType).Number]]),createBaseVNode("div",{class:"down-menu-icon-wrap",onPointerdown:rr=>unref(ue)[Hn.uuid]=!unref(ue)[Hn.uuid]},[createVNode($n,{icon:["fas","arrow-down-wide-short"]})],40,_hoisted_9$b),withDirectives(createBaseVNode("div",_hoisted_10$b,[createBaseVNode("div",_hoisted_11$a,[createVNode($n,{class:normalizeClass(["ratio-icon",{selected:Hn.ratioed}]),onPointerdown:()=>{Hn.ratioed=!Hn.ratioed,!Hn.ratioed&&unref(editGlyph).system_script&&unref(editGlyph).system_script[Hn.name]&&delete unref(editGlyph).system_script[Hn.name]},icon:["fas","percent"]},null,8,["class","onPointerdown"]),createVNode(Lt,{modelValue:Hn.ratio,"onUpdate:modelValue":rr=>Hn.ratio=rr,class:"control-type-select",placeholder:"Ratio",disabled:!Hn.ratioed,onChange:rr=>ae(Hn,rr)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(unref(editGlyph)),rr=>(openBlock(),createBlock(kt,{key:rr.key,label:rr.label,value:rr.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])],512),[[vShow,unref(ue)[Hn.uuid]]])])):Hn.type===unref(ParameterType).Enum?(openBlock(),createElementBlock("div",_hoisted_12$9,[createVNode(Lt,{modelValue:Hn.value,"onUpdate:modelValue":rr=>Hn.value=rr,class:"enum-param-select",placeholder:"Select",onChange:rr=>oe(Hn,rr)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Hn.options,rr=>(openBlock(),createBlock(kt,{key:rr.value,label:rr.label,value:rr.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):Hn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_13$9,[createVNode(Lt,{modelValue:g.value,"onUpdate:modelValue":Fe[7]||(Fe[7]=rr=>g.value=rr),class:"control-type-select",placeholder:unref(r)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(y,rr=>createVNode(kt,{key:rr.key,label:unref(r)(`programming.${rr.key}`),value:rr.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),g.value===0?(openBlock(),createElementBlock("div",_hoisted_14$9,[createVNode(_sfc_main$Q,{radius:Hn.value.radius,size:L.value,degree:Hn.value.degree,params:Hn.value.params,"on-change":(rr,Xn,Pn)=>de(Hn.value,rr,Xn,Pn)},null,8,["radius","size","degree","params","on-change"])])):g.value===1?(openBlock(),createElementBlock("div",_hoisted_15$7,[createVNode(Zn,{type:"border-card"},{default:withCtx(()=>[createVNode(Wn,{label:"radius"},{default:withCtx(()=>[createVNode(Et,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Hn.value.radius.name,"onUpdate:modelValue":rr=>Hn.value.radius.name=rr,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Et,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(xn,{class:"parameter-value",modelValue:Hn.value.radius.value,"onUpdate:modelValue":rr=>Hn.value.radius.value=rr,min:Hn.value.radius.min,max:Hn.value.radius.max,precision:Hn.value.radius.max<=10?2:0,step:Hn.value.radius.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Bn,{onInput:rr=>oe(Hn.value.radius,rr),modelValue:Hn.value.radius.value,"onUpdate:modelValue":rr=>Hn.value.radius.value=rr,min:Hn.value.radius.min,max:Hn.value.radius.max,precision:Hn.value.radius.max<=10?2:0,step:Hn.value.radius.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"degree"},{default:withCtx(()=>[createVNode(Et,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Hn.value.degree.name,"onUpdate:modelValue":rr=>Hn.value.degree.name=rr,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Et,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(xn,{class:"parameter-value",modelValue:Hn.value.degree.value,"onUpdate:modelValue":rr=>Hn.value.degree.value=rr,min:Hn.value.degree.min,max:Hn.value.degree.max,precision:Hn.value.degree.max<=10?2:0,step:Hn.value.degree.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Bn,{onInput:rr=>oe(Hn.value.degree,rr),modelValue:Hn.value.degree.value,"onUpdate:modelValue":rr=>Hn.value.degree.value=rr,min:Hn.value.degree.min,max:Hn.value.degree.max,precision:Hn.value.degree.max<=10?2:0,step:Hn.value.degree.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"params"},{default:withCtx(()=>[createVNode(Nn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Hn.value.params,rr=>(openBlock(),createBlock(Gn,{title:rr.name,name:"1"},{default:withCtx(()=>[createVNode(Et,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:rr.name,"onUpdate:modelValue":Xn=>rr.name=Xn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Et,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(xn,{class:"parameter-value",modelValue:rr.value,"onUpdate:modelValue":Xn=>rr.value=Xn,min:rr.min,max:rr.max,precision:rr.max<=10?2:0,step:rr.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Bn,{onInput:Xn=>oe(rr,Xn),modelValue:rr.value,"onUpdate:modelValue":Xn=>rr.value=Xn,min:rr.min,max:rr.max,precision:rr.max<=10?2:0,step:rr.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):Hn.type===unref(ParameterType).Constant?(openBlock(),createElementBlock("div",_hoisted_16$7,[unref(getConstant)(Hn.value).type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_17$5,[createVNode(xn,{"model-value":unref(getConstant)(Hn.value).value,step:unref(getConstant)(Hn.value).max<=10?.01:1,min:unref(getConstant)(Hn.value).min,max:unref(getConstant)(Hn.value).max,precision:unref(getConstant)(Hn.value).max<=10?2:0,onChange:rr=>oe(unref(getConstant)(Hn.value),rr)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Bn,{"model-value":unref(getConstant)(Hn.value).value,step:unref(getConstant)(Hn.value).max<=10?.01:1,min:unref(getConstant)(Hn.value).min,max:unref(getConstant)(Hn.value).max,precision:unref(getConstant)(Hn.value).max<=10?2:0,onInput:rr=>oe(Hn,rr),onChange:rr=>oe(unref(getConstant)(Hn.value),rr)},null,8,["model-value","step","min","max","precision","onInput","onChange"])])):unref(getConstant)(Hn.value).type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_18$5,[createVNode(Lt,{modelValue:g.value,"onUpdate:modelValue":Fe[8]||(Fe[8]=rr=>g.value=rr),class:"control-type-select",placeholder:unref(r)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(y,rr=>createVNode(kt,{key:rr.key,label:unref(r)(`programming.${rr.key}`),value:rr.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),g.value===0?(openBlock(),createElementBlock("div",_hoisted_19$5,[createVNode(_sfc_main$Q,{radius:unref(getConstant)(Hn.value).value.radius,size:L.value,degree:unref(getConstant)(Hn.value).value.degree,params:unref(getConstant)(Hn.value).value.params,"on-change":(rr,Xn,Pn)=>de(unref(getConstant)(Hn.value).value,rr,Xn,Pn)},null,8,["radius","size","degree","params","on-change"])])):g.value===1?(openBlock(),createElementBlock("div",_hoisted_20$5,[createVNode(Zn,{type:"border-card"},{default:withCtx(()=>[createVNode(Wn,{label:"radius"},{default:withCtx(()=>[createVNode(Et,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value","model-value":unref(getConstant)(Hn.value).value.radius.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(Et,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(xn,{class:"parameter-value","model-value":unref(getConstant)(Hn.value).value.radius.value,min:unref(getConstant)(Hn.value).value.radius.min,max:unref(getConstant)(Hn.value).value.radius.max,precision:unref(getConstant)(Hn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Hn.value).value.radius.max<=10?.01:1,onChange:rr=>oe(unref(getConstant)(Hn.value).value.radius,rr)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Bn,{onInput:rr=>oe(unref(getConstant)(Hn.value).value.radius,rr),"model-value":unref(getConstant)(Hn.value).value.radius.value,min:unref(getConstant)(Hn.value).value.radius.min,max:unref(getConstant)(Hn.value).value.radius.max,precision:unref(getConstant)(Hn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Hn.value).value.radius.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"degree"},{default:withCtx(()=>[createVNode(Et,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value","model-value":unref(getConstant)(Hn.value).value.degree.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(Et,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(xn,{class:"parameter-value","model-value":unref(getConstant)(Hn.value).value.degree.value,min:unref(getConstant)(Hn.value).value.degree.min,max:unref(getConstant)(Hn.value).value.degree.max,precision:unref(getConstant)(Hn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Hn.value).value.degree.max<=10?.01:1,onChange:rr=>oe(unref(getConstant)(Hn.value).value.degree,rr)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Bn,{onInput:rr=>oe(unref(getConstant)(Hn.value).value.degree,rr),"model-value":unref(getConstant)(Hn.value).value.degree.value,min:unref(getConstant)(Hn.value).value.degree.min,max:unref(getConstant)(Hn.value).value.degree.max,precision:unref(getConstant)(Hn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Hn.value).value.degree.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"params"},{default:withCtx(()=>[createVNode(Nn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getConstant)(Hn.value).value.params,rr=>(openBlock(),createBlock(Gn,{title:rr.name,name:"1"},{default:withCtx(()=>[createVNode(Et,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value","model-value":rr.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(Et,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(xn,{class:"parameter-value test","model-value":rr.value,min:rr.min,max:rr.max,precision:rr.max<=10?2:0,step:rr.max<=10?.01:1,onChange:Xn=>oe(rr,Xn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Bn,{onInput:Xn=>oe(rr,Xn),modelValue:rr.value,"onUpdate:modelValue":Xn=>rr.value=Xn,min:rr.min,max:rr.max,precision:rr.max<=10?2:0,step:rr.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1032,["label"]))),256))]),_:1})])])}}}),GlyphParamsPanel=_export_sfc(_sfc_main$N,[["__scopeId","data-v-7a2e5d62"]]),_hoisted_1$L={class:"character-edit-panel"},_hoisted_2$J={class:"grid-settings"},_sfc_main$M=defineComponent({__name:"LayoutEditPanel",setup(n){const{tm:e,t:r,locale:g}=useI18n();ref(!1),ref(null),ref("");const y=()=>{saveState("",[StoreType.Grid,StoreType.EditCharacter],OpType.Undo),gridChanged.value=!1,editCharacterFile.value.info.gridSettings={dx:gridSettings$1.value.dx,dy:gridSettings$1.value.dy,size:gridSettings$1.value.size,centerSquareSize:gridSettings$1.value.centerSquareSize,default:!1},emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),ElMessage({type:"success",message:e("panels.paramsPanel.applyGridTransform")})},k=()=>{saveState("",[StoreType.Grid,StoreType.EditCharacter],OpType.Undo),editCharacterFile.value.info.gridSettings={dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},gridSettings$1.value={dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),ElMessage({type:"success",message:e("panels.paramsPanel.resetGridTransform")})};return($,V)=>{const L=resolveComponent("el-button"),z=resolveComponent("el-switch"),j=resolveComponent("el-form-item");return openBlock(),createElementBlock("div",_hoisted_1$L,[createBaseVNode("div",_hoisted_2$J,[createVNode(L,{class:"grid-confirm-btn",disabled:!unref(gridChanged),onPointerdown:y,type:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.applyGridTransform")),1)]),_:1},8,["disabled"]),createVNode(L,{class:"grid-reset-btn",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.resetGridTransform")),1)]),_:1}),createVNode(j,{"label-width":"120px",label:""},{default:withCtx(()=>[createVNode(z,{modelValue:unref(editCharacterFile).info.useSkeletonGrid,"onUpdate:modelValue":V[0]||(V[0]=re=>unref(editCharacterFile).info.useSkeletonGrid=re)},null,8,["modelValue"])]),_:1})])])}}}),LayoutEditPanel=_export_sfc(_sfc_main$M,[["__scopeId","data-v-7c9f4ee3"]]),_hoisted_1$K={class:"character-edit-panel"},_hoisted_2$I={class:"metrics-settings"},_sfc_main$L=defineComponent({__name:"MetricsEditPanel",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=()=>{editCharacterFile.value.info.metrics={lsb:metrics_data.value.lsb,advanceWidth:metrics_data.value.advanceWidth,useDefaultValues:!1},ElMessage({type:"success",message:e("panels.paramsPanel.applyMetricsTransform")})},k=()=>{editCharacterFile.value.info.metrics={advanceWidth:1e3,lsb:0,useDefaultValues:!0};const L=$();metrics_data.value.lsb=L.lsb,metrics_data.value.advanceWidth=L.advanceWidth,metrics_data.value.xMin=L.xMin,metrics_data.value.xMax=L.xMax,metrics_data.value.yMin=L.yMin,metrics_data.value.yMax=L.yMax,selectedFile.value.fontSettings.metrics={lsb:L.lsb,advanceWidth:L.advanceWidth,useDefaultValues:!0},ElMessage({type:"success",message:e("panels.paramsPanel.resetMetricsTransform")})},$=()=>{const{unitsPerEm:L,descender:z}=selectedFile.value.fontSettings,{metrics:j}=editCharacterFile.value.info;let{advanceWidth:re,lsb:oe,useDefaultValues:ae}=j||{advanceWidth:L,lsb:0,useDefaultValues:!0};j||(ae=!0,re=L,oe=0),ae&&(re=L);const de=componentsToContours(orderedListWithItemsForCharacterFile(editCharacterFile.value),{unitsPerEm:L,descender:z,advanceWidth:L},{x:0,y:0},!1,!1,!0),ue=[],pe=[];for(let xe=0;xe<de.length;xe+=1)for(let $e=0;$e<de[xe].length;$e++){const Ne=de[xe][$e];ue.push(Ne.start.x),pe.push(Ne.start.y),ue.push(Ne.end.x),pe.push(Ne.end.y),Ne.type===PathType.QUADRATIC_BEZIER?(ue.push(Ne.control.x),pe.push(Ne.control.y)):Ne.type===PathType.CUBIC_BEZIER&&(ue.push(Ne.control1.x),pe.push(Ne.control1.y),ue.push(Ne.control2.x),pe.push(Ne.control2.y))}const he={xMin:Math.min.apply(null,ue),yMin:Math.min.apply(null,pe),xMax:Math.max.apply(null,ue),yMax:Math.max.apply(null,pe)};return isFinite(he.xMin)||(he.xMin=0),isFinite(he.xMax)||(he.xMax=L||0),isFinite(he.yMin)||(he.yMin=0),isFinite(he.yMax)||(he.yMax=0),he.advanceWidth=re,he.lsb=ae?he.xMin:oe,he.rsb=re-(he.lsb+he.xMax-he.xMin),he};onMounted(()=>{const L=$();metrics_data.value.lsb=L.lsb,metrics_data.value.advanceWidth=L.advanceWidth,metrics_data.value.rsb=L.rsb,metrics_data.value.xMin=L.xMin,metrics_data.value.xMax=L.xMax,metrics_data.value.yMin=L.yMin,metrics_data.value.yMax=L.yMax});const V=()=>{metrics_data.value.rsb=metrics_data.value.advanceWidth-(metrics_data.value.lsb+metrics_data.value.xMax-metrics_data.value.xMin)};return(L,z)=>{const j=resolveComponent("el-input-number"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-form"),ae=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$K,[createVNode(oe,{class:"transfom-form","label-width":"120px"},{default:withCtx(()=>[createVNode(re,{label:"advanceWidth"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).advanceWidth,"onUpdate:modelValue":z[0]||(z[0]=de=>unref(metrics_data).advanceWidth=de),controls:!1,onChange:V,precision:0},null,8,["modelValue"])]),_:1}),createVNode(re,{label:"lsb"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).lsb,"onUpdate:modelValue":z[1]||(z[1]=de=>unref(metrics_data).lsb=de),controls:!1,onChange:V,precision:0},null,8,["modelValue"])]),_:1}),createVNode(re,{label:"rsb"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).rsb,"onUpdate:modelValue":z[2]||(z[2]=de=>unref(metrics_data).rsb=de),controls:!1,precision:0,disabled:""},null,8,["modelValue"])]),_:1}),createVNode(re,{label:"xMin"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).xMin,"onUpdate:modelValue":z[3]||(z[3]=de=>unref(metrics_data).xMin=de),controls:!1,precision:0,disabled:""},null,8,["modelValue"])]),_:1}),createVNode(re,{label:"xMax"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).xMax,"onUpdate:modelValue":z[4]||(z[4]=de=>unref(metrics_data).xMax=de),controls:!1,precision:0,disabled:""},null,8,["modelValue"])]),_:1}),createVNode(re,{label:"yMin"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).yMin,"onUpdate:modelValue":z[5]||(z[5]=de=>unref(metrics_data).yMin=de),controls:!1,precision:0,disabled:""},null,8,["modelValue"])]),_:1}),createVNode(re,{label:"yMax"},{default:withCtx(()=>[createVNode(j,{modelValue:unref(metrics_data).yMax,"onUpdate:modelValue":z[6]||(z[6]=de=>unref(metrics_data).yMax=de),controls:!1,precision:0,disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_2$I,[createVNode(ae,{class:"metrics-confirm-btn",onPointerdown:y,type:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.applyMetricsTransform")),1)]),_:1}),createVNode(ae,{class:"metrics-reset-btn",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.resetMetricsTransform")),1)]),_:1})])])}}}),MetricsEditPanel=_export_sfc(_sfc_main$L,[["__scopeId","data-v-2808429c"]]),_hoisted_1$J={key:0,class:"right-panel"},_hoisted_2$H={key:1,class:"right-panel"},_sfc_main$K=defineComponent({__name:"RightPanel",setup(n){return(e,r)=>unref(editStatus)!==unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_1$J,[unref(editStatus)===unref(Status).Edit&&unref(tool)==="grid"?(openBlock(),createBlock(LayoutEditPanel,{key:0})):unref(editStatus)===unref(Status).Edit&&unref(tool)==="metrics"?(openBlock(),createBlock(MetricsEditPanel,{key:1})):!unref(selectedComponentUUID)&&unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(SettingsPanel,{key:2})):unref(selectedComponentUUID)&&unref(selectedComponent).type==="pen"?(openBlock(),createBlock(PenEditPanel,{key:3})):unref(selectedComponentUUID)&&unref(selectedComponent).type==="ellipse"?(openBlock(),createBlock(EllipseEditPanel,{key:4})):unref(selectedComponentUUID)&&unref(selectedComponent).type==="rectangle"?(openBlock(),createBlock(RectangleEditPanel,{key:5})):unref(selectedComponentUUID)&&unref(selectedComponent).type==="polygon"?(openBlock(),createBlock(PolygonEditPanel,{key:6})):unref(selectedComponentUUID)&&unref(selectedComponent).type==="picture"?(openBlock(),createBlock(PictureEditPanel,{key:7})):unref(tool)!=="grid"&&unref(editStatus)===unref(Status).Edit&&unref(selectedComponentUUID)&&unref(selectedComponent).type==="glyph"?(openBlock(),createBlock(GlyphEditPanel$1,{key:8})):unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(FontPicEditPanel,{key:9})):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_2$H,[unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="pen"?(openBlock(),createBlock(PenEditPanel,{key:0})):createCommentVNode("",!0),unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="ellipse"?(openBlock(),createBlock(EllipseEditPanel,{key:1})):createCommentVNode("",!0),unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="rectangle"?(openBlock(),createBlock(RectangleEditPanel,{key:2})):createCommentVNode("",!0),unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="polygon"?(openBlock(),createBlock(PolygonEditPanel,{key:3})):createCommentVNode("",!0),unref(tool)==="params"?(openBlock(),createBlock(GlyphParamsPanel,{key:4})):createCommentVNode("",!0),unref(tool)!=="params"&&unref(editStatus)===unref(Status).Glyph&&unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="glyph"?(openBlock(),createBlock(GlyphEditPanelGlyph,{key:5})):createCommentVNode("",!0)]))}}),RightPanel=_export_sfc(_sfc_main$K,[["__scopeId","data-v-20767396"]]),_hoisted_1$I=["onPointerdown"],_hoisted_2$G={class:"file-name"},_hoisted_3$l=["onPointerdown"],_hoisted_4$i={key:0,class:"right-btns"},_hoisted_5$f={class:"info-list"},_hoisted_6$d={class:"info-item"},_hoisted_7$a={class:"info-item-name"},_hoisted_8$a={class:"info-item-content"},_hoisted_9$a={class:"info-item"},_hoisted_10$a={class:"info-item-name"},_hoisted_11$9={class:"info-item-content"},_hoisted_12$8={class:"info-item"},_hoisted_13$8={class:"info-item-name"},_hoisted_14$8={class:"info-item-content"},_hoisted_15$6={class:"info-item"},_hoisted_16$6={class:"info-item-name"},_hoisted_17$4={class:"info-item-content"},_hoisted_18$4={class:"info-item"},_hoisted_19$4={class:"info-item-name"},_hoisted_20$4={class:"info-item-content"},_hoisted_21$4={class:"language-settings"},_hoisted_22$4={class:normalizeClass({"file-tag":!0,selected:!0})},_hoisted_23$4={class:"file-info-wrapper"},_hoisted_24$4={class:"file-name"},_hoisted_25$3={class:normalizeClass({"file-tag":!0,selected:!0})},_hoisted_26$3={class:"file-info-wrapper"},_hoisted_27$3={class:"file-name"},_sfc_main$J=defineComponent({__name:"FilesBar",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=$=>{setCloseFileTipDialogVisible(!0)},k=$=>{setSelectedFileUUID($)};return($,V)=>{const L=resolveComponent("el-icon"),z=resolveComponent("el-popover"),j=resolveComponent("el-row");return openBlock(),createElementBlock("div",{class:"files-bar",style:normalizeStyle({"border-bottom":unref(editStatus)===unref(Status).CharacterList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).CompGlyphList?"none":"1px solid var(--dark-4)"})},[unref(editStatus)===unref(Status).CharacterList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).CompGlyphList?(openBlock(),createBlock(j,{key:0,class:"files-bar-row row-1"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(files).value,re=>(openBlock(),createElementBlock("span",{class:normalizeClass({"file-tag":!0,selected:re.uuid===unref(selectedFileUUID)})},[createBaseVNode("span",{class:"file-info-wrapper",onPointerdown:()=>k(re.uuid)},[createBaseVNode("span",_hoisted_2$G,toDisplayString$1(re.name),1)],40,_hoisted_1$I),createBaseVNode("span",{class:"close-btn",onPointerdown:()=>y(re.uuid)},[createVNode(L,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],40,_hoisted_3$l)],2))),256)),unref(selectedFile)?(openBlock(),createElementBlock("div",_hoisted_4$i,[createVNode(L,{class:"right-btn"},{default:withCtx(()=>[createVNode(unref(search_default))]),_:1}),createVNode(z,{placement:"bottom-end",width:120,trigger:"hover","popper-class":"info-popover"},{reference:withCtx(()=>[createVNode(L,{class:"right-btn"},{default:withCtx(()=>[createVNode(unref(info_filled_default))]),_:1})]),default:withCtx(()=>[createBaseVNode("div",_hoisted_5$f,[createBaseVNode("div",_hoisted_6$d,[createBaseVNode("span",_hoisted_7$a,toDisplayString$1(unref(r)("programming.charCounts")),1),createBaseVNode("span",_hoisted_8$a,toDisplayString$1(unref(selectedFile).characterList.length),1)]),createBaseVNode("div",_hoisted_9$a,[createBaseVNode("span",_hoisted_10$a,toDisplayString$1(unref(r)("programming.strokeCounts")),1),createBaseVNode("span",_hoisted_11$9,toDisplayString$1(unref(stroke_glyphs).length),1)]),createBaseVNode("div",_hoisted_12$8,[createBaseVNode("span",_hoisted_13$8,toDisplayString$1(unref(r)("programming.radicalCounts")),1),createBaseVNode("span",_hoisted_14$8,toDisplayString$1(unref(radical_glyphs).length),1)]),createBaseVNode("div",_hoisted_15$6,[createBaseVNode("span",_hoisted_16$6,toDisplayString$1(unref(r)("programming.compCounts")),1),createBaseVNode("span",_hoisted_17$4,toDisplayString$1(unref(comp_glyphs).length),1)]),createBaseVNode("div",_hoisted_18$4,[createBaseVNode("span",_hoisted_19$4,toDisplayString$1(unref(r)("programming.glyphCompCounts")),1),createBaseVNode("span",_hoisted_20$4,toDisplayString$1(unref(glyphs).length),1)])])]),_:1}),createVNode(L,{class:"right-btn",onPointerdown:V[0]||(V[0]=re=>unref(setFontSettingsDialogVisible)(!0))},{default:withCtx(()=>[createVNode(unref(tools_default))]),_:1}),createBaseVNode("div",_hoisted_21$4,[createBaseVNode("div",{class:normalizeClass(["language-choice-item",{selected:unref(g)==="zh"}]),onClick:V[1]||(V[1]=re=>g.value="zh")},"",2),createBaseVNode("div",{class:normalizeClass(["language-choice-item",{selected:unref(g)==="en"}]),onClick:V[2]||(V[2]=re=>g.value="en")},"English",2)])])):createCommentVNode("",!0)]),_:1})):unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(j,{key:1,class:"files-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_22$4,[createBaseVNode("span",_hoisted_23$4,[createBaseVNode("span",_hoisted_24$4,toDisplayString$1(unref(editCharacterFile)?.character.text),1)])])]),_:1})):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(j,{key:2,class:"files-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_25$3,[createBaseVNode("span",_hoisted_26$3,[createBaseVNode("span",_hoisted_27$3,toDisplayString$1(unref(editGlyph).name),1)])])]),_:1})):createCommentVNode("",!0)],4)}}}),FilesBar=_export_sfc(_sfc_main$J,[["__scopeId","data-v-ca9816df"]]),_hoisted_1$H={class:"bottom-bar"},_hoisted_2$F={class:"tools-wrapper"},_hoisted_3$k={class:"translate-wrapper"},_hoisted_4$h={class:"coords-wrapper"},_hoisted_5$e={class:"zoom-settings-wrapper"},_hoisted_6$c={class:"zoom-settings-wrapper"},zoomScale$1=10,_sfc_main$I=defineComponent({__name:"BottomBar",setup(n){const{t:e}=useI18n(),r=ref("");watch([editCharacterFile],()=>{editCharacterFile.value&&(r.value=`${editCharacterFile.value.view.translateX},${editCharacterFile.value.view.translateY}`)},{deep:!0});const g=()=>{editCharacterFile.value&&editCharacterFile.value.view&&(editCharacterFile.value.view.translateX=0,editCharacterFile.value.view.translateY=0)},y=()=>{modifyCharacterFile(editCharacterFileUUID.value,{view:{zoom:editCharacterFile.value.view.zoom-zoomScale$1>=0?editCharacterFile.value.view.zoom-zoomScale$1:0}}),emitter.emit("updateCharacterView")},k=()=>{modifyCharacterFile(editCharacterFileUUID.value,{view:{zoom:editCharacterFile.value.view.zoom+zoomScale$1<=200?editCharacterFile.value.view.zoom+zoomScale$1:200}}),emitter.emit("updateCharacterView")},$=ae=>{const de=ae<=200?ae>=0?ae:0:200;modifyCharacterFile(editCharacterFileUUID.value,{view:{zoom:de}}),emitter.emit("updateCharacterView")},V=()=>{const ae=picZoom.value-zoomScale$1>=0?picZoom.value-zoomScale$1:0;setPicZoom(ae)},L=()=>{const ae=picZoom.value+zoomScale$1<=200?picZoom.value+zoomScale$1:200;setPicZoom(ae)},z=()=>{setTool("translateMover")},j=()=>{setTool("select")},re=()=>{setTool("coordsViewer")},oe=()=>{setTool("select")};return(ae,de)=>{const ue=resolveComponent("el-button"),pe=resolveComponent("el-input"),he=resolveComponent("font-awesome-icon"),xe=resolveComponent("el-icon"),$e=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$H,[unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock($e,{key:0,class:"bottom-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$F,[createBaseVNode("span",_hoisted_3$k,[unref(tool)==="translateMover"?(openBlock(),createBlock(pe,{key:0,modelValue:r.value,"onUpdate:modelValue":de[0]||(de[0]=Ne=>r.value=Ne),class:"translate-text",disabled:!0},{append:withCtx(()=>[createVNode(ue,{onPointerdown:g},{default:withCtx(()=>[createTextVNode("")]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="translateMover"?(openBlock(),createBlock(he,{key:1,class:"translate-btn",onPointerdown:z,icon:"fa-regular fa-hand"})):createCommentVNode("",!0),unref(tool)==="translateMover"?(openBlock(),createBlock(he,{key:2,class:"translate-edit-btn",onPointerdown:j,icon:"fa-solid fa-hand"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_4$h,[unref(tool)==="coordsViewer"?(openBlock(),createBlock(pe,{key:0,modelValue:unref(coordsText),"onUpdate:modelValue":de[1]||(de[1]=Ne=>isRef(coordsText)?coordsText.value=Ne:null),class:"coords-text",disabled:!0},{prepend:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.bottomBar.coords")),1)]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="coordsViewer"?(openBlock(),createBlock(he,{key:1,class:"coords-btn",onPointerdown:re,icon:"fa-solid fa-arrow-pointer"})):unref(tool)==="coordsViewer"?(openBlock(),createBlock(he,{key:2,class:"coords-edit-btn",onPointerdown:oe,icon:"fa-solid fa-arrow-pointer"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_5$e,[createBaseVNode("span",{class:"zoom-out",onPointerdown:y},[createVNode(xe,null,{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1})],32),createVNode(pe,{class:"zoom-value","model-value":unref(editCharacterFile)&&unref(editCharacterFile).view.zoom,onInput:$},{append:withCtx(()=>[createTextVNode("%")]),_:1},8,["model-value"]),createBaseVNode("span",{class:"zoom-in",onPointerdown:k},[createVNode(xe,null,{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1})],32)])])]),_:1})):createCommentVNode("",!0),unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock($e,{key:1,class:"bottom-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_6$c,[createBaseVNode("span",{class:"zoom-out",onPointerdown:V},[createVNode(xe,null,{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1})],32),createVNode(pe,{class:"zoom-value","model-value":unref(picZoom)},{append:withCtx(()=>[createTextVNode("%")]),_:1},8,["model-value"]),createBaseVNode("span",{class:"zoom-in",onPointerdown:L},[createVNode(xe,null,{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1})],32)])]),_:1})):createCommentVNode("",!0)])}}}),BottomBar=_export_sfc(_sfc_main$I,[["__scopeId","data-v-67784086"]]),_hoisted_1$G={class:"bottom-bar"},_hoisted_2$E={class:"tools-wrapper"},_hoisted_3$j={class:"translate-wrapper"},_hoisted_4$g={class:"coords-wrapper"},_hoisted_5$d={class:"zoom-settings-wrapper"},zoomScale=10,_sfc_main$H=defineComponent({__name:"GlyphBottomBar",setup(n){const{t:e}=useI18n(),r=ref("");watch([editGlyph],()=>{editGlyph.value&&(r.value=`${editGlyph.value.view.translateX},${editGlyph.value.view.translateY}`)},{deep:!0});const g=()=>{editGlyph.value&&editGlyph.value.view&&(editGlyph.value.view.translateX=0,editGlyph.value.view.translateY=0)},y=()=>{modifyGlyph(editGlyphUUID.value,{view:{zoom:editGlyph.value.view.zoom-zoomScale>=0?editGlyph.value.view.zoom-zoomScale:0}}),emitter.emit("updateGlyphView")},k=()=>{modifyGlyph(editGlyphUUID.value,{view:{zoom:editGlyph.value.view.zoom+zoomScale<=200?editGlyph.value.view.zoom+zoomScale:200}}),emitter.emit("updateGlyphView")},$=re=>{const oe=re<=200?re>=0?re:0:200;modifyGlyph(editGlyphUUID.value,{view:{zoom:oe}}),emitter.emit("updateGlyphView")},V=()=>{setTool("translateMover")},L=()=>{setTool("select")},z=()=>{setTool("coordsViewer")},j=()=>{setTool("select")};return(re,oe)=>{const ae=resolveComponent("el-button"),de=resolveComponent("el-input"),ue=resolveComponent("font-awesome-icon"),pe=resolveComponent("el-icon"),he=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$G,[createVNode(he,{class:"bottom-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$E,[createBaseVNode("span",_hoisted_3$j,[unref(tool)==="translateMover"?(openBlock(),createBlock(de,{key:0,modelValue:r.value,"onUpdate:modelValue":oe[0]||(oe[0]=xe=>r.value=xe),class:"translate-text",disabled:!0},{append:withCtx(()=>[createVNode(ae,{onPointerdown:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.bottomBar.reset")),1)]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="translateMover"?(openBlock(),createBlock(ue,{key:1,class:"translate-btn",onPointerdown:V,icon:"fa-regular fa-hand"})):unref(tool)==="translateMover"?(openBlock(),createBlock(ue,{key:2,class:"translate-edit-btn",onPointerdown:L,icon:"fa-solid fa-hand"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_4$g,[unref(tool)==="coordsViewer"?(openBlock(),createBlock(de,{key:0,modelValue:unref(coordsText),"onUpdate:modelValue":oe[1]||(oe[1]=xe=>isRef(coordsText)?coordsText.value=xe:null),class:"coords-text",disabled:!0},{prepend:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.bottomBar.coords")),1)]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="coordsViewer"?(openBlock(),createBlock(ue,{key:1,class:"coords-btn",onPointerdown:z,icon:"fa-solid fa-arrow-pointer"})):unref(tool)==="coordsViewer"?(openBlock(),createBlock(ue,{key:2,class:"coords-edit-btn",onPointerdown:j,icon:"fa-solid fa-arrow-pointer"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_5$d,[createBaseVNode("span",{class:"zoom-out",onPointerdown:y},[createVNode(pe,null,{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1})],32),createVNode(de,{class:"zoom-value","model-value":unref(editGlyph)&&unref(editGlyph).view.zoom,onInput:$},{append:withCtx(()=>[createTextVNode("%")]),_:1},8,["model-value"]),createBaseVNode("span",{class:"zoom-in",onPointerdown:k},[createVNode(pe,null,{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1})],32)])])]),_:1})])}}}),GlyphBottomBar=_export_sfc(_sfc_main$H,[["__scopeId","data-v-5a1a5f85"]]),_hoisted_1$F={class:"characters-list-wrapper"},_hoisted_2$D=createBaseVNode("main",{class:"list",id:"character-render-list"},null,-1),_sfc_main$G=defineComponent({__name:"CharacterList",setup(n){const e=new Map,r=()=>{const y=selectedFile.value?selectedFile.value.characterList:[];if(!selectedFile.value)return;const{unitsPerEm:k,descender:$}=selectedFile.value.fontSettings;if(!y.length)return;let V=0;const L=()=>{if(V>=y.length)return;const z=y[V];z._o||executeCharacterScript(z);const j=document.getElementById(`preview-canvas-${z.uuid}`);if(!j)return;if(!z.orderedList||!z.orderedList.length){loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1)),V++,V<y.length&&(V%100===0?requestAnimationFrame(L):L());return}const re=componentsToContours(orderedListWithItemsForCharacterFile(z),{unitsPerEm:k,descender:$,advanceWidth:k},{x:0,y:0},!1,!0);renderPreview2(j,re),loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1)),V++,V<y.length&&(V%100===0?requestAnimationFrame(L):L())};requestAnimationFrame(L)},g=(y,k=!1)=>{let $;const{unitsPerEm:V,descender:L}=selectedFile.value.fontSettings,z=selectedFile.value?selectedFile.value.characterList:[];if(k)$=editCharacterFile.value;else for(let de=0;de<z.length;de++)if(z[de].uuid===y){$=z[de];break}if(!$)return;executeCharacterScript($),$?.components?.map(de=>{de.type==="glyph"&&executeScript(de.value)});const re=document.getElementById("character-render-list").querySelector(`#preview-canvas-${$.uuid}`);if(!re)return;let oe=!0;$&&$.info&&$.info.gridSettings&&(oe=$.info.gridSettings.default);const ae=componentsToContours(orderedListWithItemsForCharacterFile($),{unitsPerEm:V,descender:L,advanceWidth:V,grid:oe?null:$.info.gridSettings,useSkeletonGrid:$.info?.useSkeletonGrid||!1},{x:0,y:0},!1,!0,!0);renderPreview2(re,ae)};return onMounted(async()=>{emitter.on("renderPreviewCanvas",async()=>{await nextTick(),r()}),emitter.on("renderPreviewCanvasByUUID",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(()=>{g(y)},1e3);e.set(y,$)}),emitter.on("renderPreviewCanvasByUUIDOnEditing",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(()=>{g(y,!0)},100);e.set(y,$)}),emitter.on("updateCharacterInfoPreviewCanvasByUUID",async y=>{let k;const $=selectedFile.value?selectedFile.value.characterList:[];for(let z=0;z<$.length&&(k=$[z],k.uuid!==y);z++);const L=document.getElementById("character-render-list").querySelector(`.character-${y}`);L.querySelector(".info").querySelector(".text").innerHTML=`${k.character.text}`,k.type==="text"&&(L.querySelector(".unicode").innerHTML=`0x${k.character.unicode.toString(16)}`)}),clearCharacterRenderList(),characterList.value?.map(y=>{addCharacterTemplate(generateCharacterTemplate(y))}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("updateCharacterInfoPreviewCanvasByUUID"),emitter.off("renderPreviewCanvasByUUID"),emitter.off("renderPreviewCanvas")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$F,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$D]),_:1})])}}}),_hoisted_1$E={class:"glyph-list-wrapper"},_hoisted_2$C=createBaseVNode("main",{class:"list",id:"glyph-render-list"},null,-1),_sfc_main$F=defineComponent({__name:"GlyphList",setup(n){const e=new Map,r=()=>{let y=0;const k=()=>{if(y>=glyphs.value.length)return;const $=glyphs.value[y];executeScript($);const V=document.getElementById(`preview-canvas-${$.uuid}`);if(!V)return;const L=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(V,L),loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1)),y++,y<glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k)},g=(y,k=!1)=>{let $;if(k)$=editGlyph.value;else for(let j=0;j<glyphs.value.length&&($=glyphs.value[j],$.uuid!==y);j++);if(!$)return;executeScript($),$?.components?.map(j=>{j.type==="glyph"&&executeScript(j.value)});const L=document.getElementById("glyph-render-list").querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z)};return onMounted(async()=>{emitter.on("renderGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderGlyphSelection")}),emitter.on("renderGlyphPreviewCanvasByUUID",async y=>{const k=getGlyphType(y);if(k===Status.GlyphList){e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,$),emitter.emit("renderGlyphSelectionByUUID",y)}else k===Status.StrokeGlyphList?(emitter.emit("renderStrokeGlyphPreviewCanvasByUUID",y),emitter.emit("renderStrokeGlyphSelectionByUUID",y)):k===Status.RadicalGlyphList?(emitter.emit("renderRadicalGlyphPreviewCanvasByUUID",y),emitter.emit("renderRadicalGlyphSelectionByUUID",y)):k===Status.CompGlyphList&&(emitter.emit("renderCompGlyphPreviewCanvasByUUID",y),emitter.emit("renderCompGlyphSelectionByUUID",y))}),emitter.on("renderGlyphPreviewCanvasByUUIDOnEditing",async y=>{const k=getGlyphType(y);if(k===Status.GlyphList){e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(async()=>{await nextTick(),g(y,!0)},1e3);e.set(y,$),emitter.emit("renderGlyphSelectionByUUIDOnEditing",y)}else k===Status.StrokeGlyphList?(emitter.emit("renderStrokeGlyphPreviewCanvasByUUIDOnEditing",y),emitter.emit("renderStrokeGlyphSelectionByUUIDOnEditing",y)):k===Status.RadicalGlyphList?(emitter.emit("renderRadicalGlyphPreviewCanvasByUUIDOnEditing",y),emitter.emit("renderRadicalGlyphSelectionByUUIDOnEditing",y)):k===Status.CompGlyphList&&(emitter.emit("renderCompGlyphPreviewCanvasByUUIDOnEditing",y),emitter.emit("renderCompGlyphSelectionByUUIDOnEditing",y))}),emitter.on("updateGlyphInfoPreviewCanvasByUUID",async y=>{const k=getGlyphType(y),$=getGlyphByUUID(y);if(k===Status.GlyphList){const L=document.getElementById("glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}else if(k===Status.StrokeGlyphList){const L=document.getElementById("stroke-glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("stroke-glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}else if(k===Status.RadicalGlyphList){const L=document.getElementById("radical-glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("radical-glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}else if(k===Status.CompGlyphList){const L=document.getElementById("comp-glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("comp-glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.GlyphList),glyphs.value.map(y=>{addGlyphTemplate(y,Status.GlyphList)}),await nextTick(),r(),emitter.emit("renderGlyphSelection"),emitter.emit("renderStrokeGlyphSelection"),emitter.emit("renderRadicalGlyphSelection"),emitter.emit("renderCompGlyphSelection")}),onUnmounted(()=>{emitter.off("renderGlyphPreviewCanvas"),emitter.off("renderGlyphPreviewCanvasByUUID"),emitter.off("updateGlyphInfoPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$E,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$C]),_:1})])}}}),_hoisted_1$D={class:"stroke-glyph-list-wrapper"},_hoisted_2$B=createBaseVNode("main",{class:"list",id:"stroke-glyph-render-list"},null,-1),_sfc_main$E=defineComponent({__name:"StrokeGlyphList",setup(n){const e=new Map,r=()=>{let y=0;const k=()=>{if(y>=stroke_glyphs.value.length)return;const $=stroke_glyphs.value[y];$._o||executeScript($);const V=document.getElementById("stroke-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z),loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1)),y++,y<stroke_glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k)},g=(y,k=!1)=>{let $;if(k)$=editGlyph.value;else for(let j=0;j<stroke_glyphs.value.length&&($=stroke_glyphs.value[j],$.uuid!==y);j++);if(!$)return;executeScript($),$?.components?.map(j=>{j.type==="glyph"&&executeScript(j.value)});const V=document.getElementById("stroke-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z)};return onMounted(async()=>{emitter.on("renderStrokeGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderStrokeGlyphSelection")}),emitter.on("renderStrokeGlyphPreviewCanvasByUUID",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const k=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,k)}),emitter.on("renderStrokeGlyphPreviewCanvasByUUIDOnEditing",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(()=>{g(y,!0)},100);e.set(y,$)}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.StrokeGlyphList),stroke_glyphs.value.map(y=>{addGlyphTemplate(y,Status.StrokeGlyphList)}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("renderStrokeGlyphPreviewCanvas"),emitter.off("renderStrokeGlyphPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$D,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$B]),_:1})])}}}),_hoisted_1$C={class:"radical-glyph-list-wrapper"},_hoisted_2$A=createBaseVNode("main",{class:"list",id:"radical-glyph-render-list"},null,-1),_sfc_main$D=defineComponent({__name:"RadicalGlyphList",setup(n){const e=new Map,r=()=>{console.time("timer2");let y=0;const k=()=>{if(y>=radical_glyphs.value.length)return;const $=radical_glyphs.value[y];$._o||(executeScript($),$?.components?.map(j=>{j.type==="glyph"&&executeScript(j.value)}));const V=document.getElementById("radical-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z),loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1)),y++,y<radical_glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k),console.timeEnd("timer2")},g=(y,k=!1)=>{let $;if(k)$=editGlyph.value;else for(let j=0;j<radical_glyphs.value.length&&($=radical_glyphs.value[j],$.uuid!==y);j++);if(!$)return;executeScript($),$?.components?.map(j=>{j.type==="glyph"&&executeScript(j.value)});const V=document.getElementById("radical-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z)};return onMounted(async()=>{emitter.on("renderRadicalGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderRadicalGlyphSelection")}),emitter.on("renderRadicalGlyphPreviewCanvasByUUID",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const k=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,k)}),emitter.on("renderRadicalGlyphPreviewCanvasByUUIDOnEditing",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(()=>{g(y,!0)},100);e.set(y,$)}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.RadicalGlyphList),radical_glyphs.value.map(y=>{addGlyphTemplate(y,Status.RadicalGlyphList)}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("renderRadicalGlyphPreviewCanvas"),emitter.off("renderRadicalGlyphPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$C,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$A]),_:1})])}}}),_hoisted_1$B={class:"comp-glyph-list-wrapper"},_hoisted_2$z=createBaseVNode("main",{class:"list",id:"comp-glyph-render-list"},null,-1),_sfc_main$C=defineComponent({__name:"CompGlyphList",setup(n){const e=new Map,r=()=>{let y=0;const k=()=>{if(y>=comp_glyphs.value.length)return;const $=comp_glyphs.value[y];$._o||executeScript($);const V=document.getElementById("comp-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z),loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1)),y++,y<comp_glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k)},g=(y,k=!1)=>{let $;if(k)$=editGlyph.value;else for(let j=0;j<comp_glyphs.value.length&&($=comp_glyphs.value[j],$.uuid!==y);j++);if(!$)return;executeScript($),$?.components?.map(j=>{j.type==="glyph"&&executeScript(j.value)});const L=document.getElementById("comp-glyph-render-list").querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z)};return onMounted(async()=>{emitter.on("renderCompGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderCompGlyphSelection")}),emitter.on("renderCompGlyphPreviewCanvasByUUID",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const k=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,k)}),emitter.on("renderCompGlyphPreviewCanvasByUUIDOnEditing",async y=>{e.get(y)&&(clearTimeout(e.get(y)),e.set(y,null));const $=setTimeout(()=>{g(y,!0)},100);e.set(y,$)}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.CompGlyphList),comp_glyphs.value.map(y=>{addGlyphTemplate(y,Status.CompGlyphList)}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("renderCompGlyphPreviewCanvas"),emitter.off("renderCompGlyphPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$B,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$z]),_:1})])}}}),listToMap=(n,e)=>{const r={};return n.map(g=>{r[g[e]]=g}),r};curry((n,e)=>{let r;return(...g)=>{clearTimeout(r),r=setTimeout(()=>e(...g),n)}});const initPenEditMode=(n,e=5,r=!1)=>{let g=!1;const y=re=>{if(r){g=!0;for(let xe=orderedListWithItemsForCurrentGlyph.value.length-1;xe>=0;xe--){const $e=orderedListWithItemsForCurrentGlyph.value[xe],{x:Ne,y:Oe}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:$e.x+$e.w/2,y:$e.y+$e.h/2},-$e.rotation);if(selectedComponentUUID$1.value===$e.uuid&&$e.visible){const _e=transformPenPoints(selectedComponent$1.value,!1);for(let Fe=0;Fe<_e.length-1;Fe++){const Ue=_e[Fe];if(distance$3(Ne,Oe,Ue.x,Ue.y)<=e){if(Ue.type==="anchor"){selectAnchor.value=Ue.uuid,selectPenPoint.value=Ue.uuid;return}else if(selectAnchor.value){const kt=(()=>{for(let Lt=0;Lt<_e.length;Lt++)if(_e[Lt].uuid===selectAnchor.value)return Lt;return-1})();(Fe<=kt+4&&Fe>=kt-4||Fe===1&&kt===_e.length-1)&&(selectPenPoint.value=Ue.uuid)}}}return}}if(!selectedComponent.value.visible){g=!1;return}const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent.value;rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),setSelectionForCurrentGlyph("")}else{g=!0;for(let xe=orderedListWithItemsForCurrentCharacterFile.value.length-1;xe>=0;xe--){const $e=orderedListWithItemsForCurrentCharacterFile.value[xe],{x:Ne,y:Oe}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:$e.x+$e.w/2,y:$e.y+$e.h/2},-$e.rotation);if(selectedComponentUUID.value===$e.uuid&&$e.visible){const _e=transformPenPoints(selectedComponent.value,!1);for(let Fe=0;Fe<_e.length-1;Fe++){const Ue=_e[Fe];if(distance$3(Ne,Oe,Ue.x,Ue.y)<=e){if(Ue.type==="anchor"){selectAnchor.value=Ue.uuid,selectPenPoint.value=Ue.uuid;return}else if(selectAnchor.value){const kt=(()=>{for(let Lt=0;Lt<_e.length;Lt++)if(_e[Lt].uuid===selectAnchor.value)return Lt;return-1})();(Fe<=kt+4&&Fe>=kt-4||Fe===1&&kt===_e.length-1)&&(selectPenPoint.value=Ue.uuid)}}}return}}if(!selectedComponent.value.visible)return;const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent.value;rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),setSelectionForCurrentCharacterFile("")}},k=re=>{if(r){if(!selectedComponent$1.value||!selectedComponent$1.value?.visible)return;const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent$1.value,{x:xe,y:$e}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),Ne=selectedComponent$1.value.value,{points:Oe,closePath:_e}=Ne;if(g){const Fe=clone$1(Oe);Fe.map((Ue,kt)=>{if(selectPenPoint.value===Ue.uuid){if(Ue.type==="anchor"&&_e&&(kt<2||kt>Fe.length-3)){if(kt<2)for(let Lt=Fe.length-2;Lt<Fe.length;Lt++)Fe[Lt].type==="anchor"&&Fe[Lt].x===Ue.x&&Fe[Lt].y===Ue.y&&(Fe[Lt].x=xe,Fe[Lt].y=$e);else if(kt>Fe.length-3)for(let Lt=0;Lt<2;Lt++)Oe[Lt].type==="anchor"&&Fe[Lt].x===Ue.x&&Fe[Lt].y===Ue.y&&(Fe[Lt].x=xe,Fe[Lt].y=$e)}Ue.x=xe,Ue.y=$e}return Ue}),modifyComponentForCurrentGlyph(he,{value:{points:Fe}})}g||Oe.map((Fe,Ue)=>{if(distance$3(xe,$e,Fe.x,Fe.y)<=e){if(Fe.type==="control"&&Ue===Oe.length-1&&Oe.length>=2&&Fe.x===Oe[1].x&&Fe.y===Oe[1].y)return;hoverPenPoint.value=Fe.uuid}})}else{if(!selectedComponent.value||!selectedComponent.value?.visible)return;const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent.value,{x:xe,y:$e}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),Ne=selectedComponent.value.value,{points:Oe,closePath:_e}=Ne;if(g){const Fe=clone$1(Oe);Fe.map((Ue,kt)=>{if(selectPenPoint.value===Ue.uuid){if(Ue.type==="anchor"&&_e&&(kt<2||kt>Fe.length-3)){if(kt<2)for(let Lt=Fe.length-2;Lt<Fe.length;Lt++)Fe[Lt].type==="anchor"&&Fe[Lt].x===Ue.x&&Fe[Lt].y===Ue.y&&(Fe[Lt].x=xe,Fe[Lt].y=$e);else if(kt>Fe.length-3)for(let Lt=0;Lt<2;Lt++)Oe[Lt].type==="anchor"&&Fe[Lt].x===Ue.x&&Fe[Lt].y===Ue.y&&(Fe[Lt].x=xe,Fe[Lt].y=$e)}Ue.x=xe,Ue.y=$e}return Ue}),modifyComponentForCurrentCharacterFile(he,{value:{points:Fe}})}g||Oe.map((Fe,Ue)=>{if(distance$3(xe,$e,Fe.x,Fe.y)<=e){if(Fe.type==="control"&&Ue===Oe.length-1&&Oe.length>=2&&Fe.x===Oe[1].x&&Fe.y===Oe[1].y)return;hoverPenPoint.value=Fe.uuid}})}},$=re=>{const oe=r?selectedComponent$1.value:selectedComponent.value;!oe||!oe.visible||(z(),g=!1,selectControl$2.value="null")},V=re=>{const oe=r?selectedComponent$1.value:selectedComponent.value;!oe||!oe.visible||(z(),r?setSelectionForCurrentGlyph(""):setSelectionForCurrentCharacterFile(""))},L=re=>{re.code==="Enter"&&V()},z=()=>{const re=r?selectedComponent$1.value:selectedComponent.value;if(!re||!re.visible)return;let oe=modifyComponentForCurrentCharacterFile;r&&(oe=modifyComponentForCurrentGlyph);const{x:ae,y:de,w:ue,h:pe,rotation:he,flipX:xe,flipY:$e,type:Ne,uuid:Oe}=re,_e=re.value.points;let Fe={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(Fe.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,Fe.descender=selectedFile.value.fontSettings.descender,Fe.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let Ue=transformPoints(_e,{x:ae,y:de,w:ue,h:pe,rotation:he,flipX:xe,flipY:$e});const kt=formatPoints(Ue,Fe,1),Lt=genPenContour(kt),wn=100/Fe.unitsPerEm,Et=Ue.map(jt=>Object.assign({},jt,{x:jt.x*wn,y:jt.y*wn})),xn=genPenContour(Et);oe(Oe,{value:{contour:Lt,preview:xn}})};return n?.addEventListener("mousedown",y),document.addEventListener("mousemove",k),document.addEventListener("mouseup",$),n.addEventListener("keydown",L),()=>{n?.removeEventListener("mousedown",y),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",$),n.removeEventListener("keydown",L),selectAnchor.value="",selectPenPoint.value="",hoverPenPoint.value=""}},renderSelectPenEditor=(n,e=10,r=!1)=>{if(!r&&!selectedComponentUUID.value||r&&!selectedComponentUUID$1.value)return;const g=r?selectedComponent$1.value:selectedComponent.value;if(!g.visible)return;const{x:y,y:k,w:$,h:V,rotation:L,flipX:z,flipY:j,value:re}=g,oe=mapCanvasX(y),ae=mapCanvasY(k),de=mapCanvasWidth($),ue=mapCanvasHeight(V),pe=n?.getContext("2d"),he=transformPenPoints(r?selectedComponent$1.value:selectedComponent.value,!0),xe=listToMap(he,"uuid"),{index:$e,pointType:Ne}=(()=>{for(let Oe=0;Oe<he.length;Oe++)if(he[Oe].uuid===selectAnchor.value)return{index:Oe,pointType:he[Oe].type};return{index:-1,pointType:""}})();if(pe.strokeStyle="#153063",pe.translate(oe+de/2,ae+ue/2),pe.rotate(L*Math.PI/180),pe.translate(-(oe+de/2),-(ae+ue/2)),selectAnchor.value)for(let Oe=0;Oe<he.length-1;Oe++){if(he[Oe].type==="anchor"&&(pe.beginPath(),pe.ellipse(he[Oe].x,he[Oe].y,e,e,0,0,2*Math.PI),pe.stroke(),pe.closePath()),he[Oe].type==="control"&&Oe>=$e-4&&Oe<=$e+4){const _e=he[Oe].origin,Fe=xe[_e];pe.strokeRect(he[Oe].x-e,he[Oe].y-e,2*e,2*e),pe.beginPath(),pe.moveTo(he[Oe].x,he[Oe].y),pe.lineTo(Fe.x,Fe.y),pe.stroke(),pe.closePath()}if($e===he.length-1&&he[Oe].type==="control"&&Oe===1){const _e=he[Oe].origin,Fe=xe[_e];pe.strokeRect(he[Oe].x-e,he[Oe].y-e,2*e,2*e),pe.beginPath(),pe.moveTo(he[Oe].x,he[Oe].y),pe.lineTo(Fe.x,Fe.y),pe.stroke(),pe.closePath()}}else for(let Oe=0;Oe<he.length;Oe++)he[Oe].type==="anchor"&&(pe.beginPath(),pe.ellipse(he[Oe].x,he[Oe].y,e,e,0,0,2*Math.PI),pe.stroke(),pe.closePath());for(let Oe=0;Oe<he.length;Oe++)hoverPenPoint.value===he[Oe].uuid&&(pe.fillStyle="#79bbff",he[Oe].type==="anchor"&&(pe.beginPath(),pe.ellipse(he[Oe].x,he[Oe].y,e,e,0,0,2*Math.PI),pe.fill(),pe.closePath()),he[Oe].type==="control"&&Oe>=$e-4&&Oe<=$e+4&&pe.fillRect(he[Oe].x-e,he[Oe].y-e,2*e,2*e),pe.fillStyle="#fff");pe.setTransform(1,0,0,1,0,0)},transformPenPoints=(n,e)=>{const{x:r,y:g,w:y,h:k,rotation:$,flipX:V,flipY:L,value:z}=n,{points:j}=z,re=e?mapCanvasX(r):r,oe=e?mapCanvasY(g):g,ae=e?mapCanvasWidth(y):y,de=e?mapCanvasHeight(k):k;let ue=j.map(Ne=>{let Oe=clone$1(Ne);return V&&(Oe.x=re+ae/2+(re+ae/2-Oe.x)),L&&(Oe.y=oe+de/2+(oe+de/2-Oe.y)),Oe});const{x:pe,y:he,w:xe,h:$e}=getBound$4(ue.reduce((Ne,Oe)=>(Ne.push({x:Oe.x,y:Oe.y}),Ne),[]));return ue=ue.map(Ne=>{const Oe=clone$1(Ne),{x:_e,y:Fe}=Oe;return Oe.x=r+(_e-pe)*y/xe,Oe.y=g+(Fe-he)*k/$e,Oe}),e&&(ue=ue.map(Ne=>({...Ne,...mapCanvasCoords({x:Ne.x,y:Ne.y})}))),ue},initSelect=(n,e=10,r=!1)=>{if(r){if(selectedComponent$1.value&&selectedComponent$1.value.type==="pen"&&selectedComponent$1.value.value.editMode)return initPenEditMode(n,e,!0)}else if(selectedComponent.value&&selectedComponent.value.type==="pen"&&selectedComponent.value.value.editMode)return initPenEditMode(n,e);let g=-1,y=-1,k=!1,$=!1;const V=de=>{k=!0,$=!1;const ue=r?selectedComponent$1.value:selectedComponent.value;if(!ue||!ue.visible){k=!1;return}},L=de=>{if($=!0,!r&&!selectedComponent.value||r&&!selectedComponent$1.value)return;const ue=r?selectedComponent$1.value:selectedComponent.value;if(!ue||!ue.visible)return;const{x:pe,y:he,w:xe,h:$e,rotation:Ne,uuid:Oe}=ue,{x:_e,y:Fe}=rotatePoint({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},{x:pe+xe/2,y:he+$e/2},-Ne),Ue={x:pe,y:he},kt={x:pe,y:he+$e},Lt={x:pe+xe,y:he},wn={x:pe+xe,y:he+$e};let Et=modifyComponentForCurrentCharacterFile;if(r&&(Et=modifyComponentForCurrentGlyph),k)switch(selectControl$2.value){case"scale-left-top":Et(Oe,{w:xe+pe-_e,h:$e+he-Fe,x:_e,y:Fe});break;case"scale-right-top":Et(Oe,{w:_e-pe,h:$e+he-Fe,y:Fe});break;case"scale-left-bottom":Et(Oe,{w:xe+pe-_e,x:_e,y:Fe-he});break;case"scale-right-bottom":Et(Oe,{w:_e-pe,h:Fe-he});break;case"inner-area":Et(Oe,{x:pe+_e-g,y:he+Fe-y});break;case"rotate-left-top":Et(Oe,{rotation:Ne+angleBetween({x:_e-(pe+xe/2),y:Fe-(he+$e/2)},{x:Ue.x-(pe+xe/2),y:Ue.y-(he+$e/2)})});break;case"rotate-right-top":Et(Oe,{rotation:Ne+angleBetween({x:_e-(pe+xe/2),y:Fe-(he+$e/2)},{x:Lt.x-(pe+xe/2),y:Lt.y-(he+$e/2)})});break;case"rotate-left-bottom":Et(Oe,{rotation:Ne+angleBetween({x:_e-(pe+xe/2),y:Fe-(he+$e/2)},{x:kt.x-(pe+xe/2),y:kt.y-(he+$e/2)})});break;case"rotate-right-bottom":Et(Oe,{rotation:Ne+angleBetween({x:_e-(pe+xe/2),y:Fe-(he+$e/2)},{x:wn.x-(pe+xe/2),y:wn.y-(he+$e/2)})});break}k||(distance$3(_e,Fe,Ue.x,Ue.y)<=e?selectControl$2.value="scale-left-top":distance$3(_e,Fe,Lt.x,Lt.y)<=e?selectControl$2.value="scale-right-top":distance$3(_e,Fe,kt.x,kt.y)<=e?selectControl$2.value="scale-left-bottom":distance$3(_e,Fe,wn.x,wn.y)<=e?selectControl$2.value="scale-right-bottom":leftTop(_e,Fe,Ue.x,Ue.y,e)?selectControl$2.value="rotate-left-top":rightTop(_e,Fe,Lt.x,Lt.y,e)?selectControl$2.value="rotate-right-top":leftBottom(_e,Fe,kt.x,kt.y,e)?selectControl$2.value="rotate-left-bottom":rightBottom(_e,Fe,wn.x,wn.y,e)?selectControl$2.value="rotate-right-bottom":inComponentBound({x:_e,y:Fe},r?selectedComponent$1.value:selectedComponent.value)?selectControl$2.value="inner-area":(r?selectedComponent$1.value:selectedComponent.value,selectControl$2.value="null")),g=_e,y=Fe},z=de=>{if(!$)if(r){for(let pe=orderedListWithItemsForCurrentGlyph.value.length-1;pe>=0;pe--){const he=orderedListWithItemsForCurrentGlyph.value[pe];if(selectedComponentUUID$1.value===he.uuid&&inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible)return;if(inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible){setSelectionForCurrentGlyph(he.uuid),k=!1,$=!1,selectControl$2.value="null";return}}setSelectionForCurrentGlyph("")}else{for(let pe=orderedListWithItemsForCurrentCharacterFile.value.length-1;pe>=0;pe--){const he=orderedListWithItemsForCurrentCharacterFile.value[pe];if(selectedComponentUUID.value===he.uuid&&inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible)return;if(inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible){setSelectionForCurrentCharacterFile(he.uuid),k=!1,$=!1,selectControl$2.value="null";return}}setSelectionForCurrentCharacterFile("")}const ue=r?selectedComponent$1.value:selectedComponent.value;!ue||!ue.visible||(ue.type!=="picture"&&oe(),k=!1,$=!1,selectControl$2.value="null")},j=de=>{const ue=r?selectedComponent$1.value:selectedComponent.value;!ue||!ue.visible||(ue.type!=="picture"&&oe(),r?setSelectionForCurrentGlyph(""):setSelectionForCurrentCharacterFile(""))},re=de=>{de.code==="Space"&&j()},oe=()=>{const de=r?selectedComponent$1.value:selectedComponent.value;if(!de)return;let ue=modifyComponentForCurrentCharacterFile;r&&(ue=modifyComponentForCurrentGlyph);let pe=genPenContour;const{x:he,y:xe,w:$e,h:Ne,rotation:Oe,flipX:_e,flipY:Fe,type:Ue,uuid:kt}=de;let Lt=[];if(Ue==="polygon")Lt=de.value.points,pe=genPolygonContour;else if(Ue==="ellipse"){const{radiusX:Bn,radiusY:$n}=de.value;Lt=getEllipsePoints(Bn,$n,1e3,he+Bn,xe+$n),pe=genEllipseContour}else if(Ue==="rectangle"){const{width:Bn,height:$n}=de.value;Lt=getRectanglePoints(Bn,$n,he,xe),pe=genRectangleContour}let wn={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(wn.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,wn.descender=selectedFile.value.fontSettings.descender,wn.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let Et=transformPoints(Lt,{x:he,y:xe,w:$e,h:Ne,rotation:Oe,flipX:_e,flipY:Fe});const xn=formatPoints(Et,wn,1),jt=pe(xn),An=100/wn.unitsPerEm,Dn=Et.map(Bn=>Object.assign({},Bn,{x:Bn.x*An,y:Bn.y*An})),En=pe(Dn);ue(kt,{value:{contour:jt,preview:En}})};return n?.addEventListener("mousedown",V),document.addEventListener("mousemove",L),document.addEventListener("mouseup",z),n.addEventListener("keydown",re),()=>{n?.removeEventListener("mousedown",V),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",z),n.removeEventListener("keydown",re)}},renderSelectEditor=(n,e=10,r=!1)=>{if(!r&&!selectedComponent.value||r&&!selectedComponent$1.value)return;if(r){if(selectedComponent$1.value.type==="pen"&&selectedComponent$1.value.value.editMode){renderSelectPenEditor(n,e,!0);return}}else if(selectedComponent.value.type==="pen"&&selectedComponent.value.value.editMode){renderSelectPenEditor(n,e);return}const{x:g,y,w:k,h:$,rotation:V}=r?selectedComponent$1.value:selectedComponent.value,L=mapCanvasX(g),z=mapCanvasY(y),j=mapCanvasWidth(k),re=mapCanvasHeight($),oe=n?.getContext("2d");oe.strokeStyle="#79bbff",oe.translate(L+j/2,z+re/2),oe.rotate(V*Math.PI/180),oe.translate(-(L+j/2),-(z+re/2)),oe.strokeRect(L,z,j,re),oe.strokeRect(L-e,z-e,e*2,e*2),oe.strokeRect(L+j-e,z-e,e*2,e*2),oe.strokeRect(L-e,z+re-e,e*2,e*2),oe.strokeRect(L+j-e,z+re-e,e*2,e*2),oe.setTransform(1,0,0,1,0,0)},getBound$1=n=>{let e=1/0,r=1/0,g=-1/0,y=-1/0;return n.map(k=>{const{x:$,y:V}=k;$<e&&(e=$),$>g&&(g=$),V<r&&(r=V),V>y&&(y=V)}),{x:e,y:r,w:g-e,h:y-r}},getLayoutCoords=(n,e)=>{for(let r=0;r<n.length;r++)if(!n[r].children||n[r].children.length===0){const{dx:g,dy:y,size:k,centerSquareSize:$}=editCharacterFile.value.info.gridSettings,V=Math.round((k-$)/2)+g,L=Math.round((k-$)/2+$)+g,z=Math.round((k-$)/2)+y,j=Math.round((k-$)/2+$)+y;for(let re=0;re<n[r].coordsSegment;re++)for(let oe=0;oe<n[r].coordsSegment;oe++){const ae=getRatioCoords(n[r],re,oe,n[r].coordsSegment,{x1:V,x2:L,y1:z,y2:j,l:k});e.push({x:ae.x,y:ae.y,col:re,row:oe,id:n[r].id,layout:n[r]})}}else n[r].children&&n[r].children.length&&getLayoutCoords(n[r].children,e)},distance$1=(n,e,r,g)=>Math.sqrt((n-r)*(n-r)+(e-g)*(e-g)),addScript$1=(n,e)=>{selectedSubComponentOnDragging$1.value?selectedSubComponentOnDragging$1.value.value:selectedComponentOnDragging$1?.value?.value;const r=selectedSubComponentOnDragging$1.value?selectedSubComponentOnDragging$1.value:selectedComponentOnDragging$1?.value,g=selectedFile.value.fontSettings?.unitsPerEm;if(editCharacterFileOnDragging.value.glyph_script||(editCharacterFileOnDragging.value.glyph_script={}),dragOption.value==="default"&&!selectedSubComponentOnDragging$1.value){if(editCharacterFileOnDragging.value?.glyph_script&&editCharacterFileOnDragging.value?.glyph_script[r.uuid]){delete editCharacterFileOnDragging.value?.glyph_script[r.uuid];return}}else if(dragOption.value==="default"&&selectedSubComponentOnDragging$1.value){if(SubComponentsRootOnDragging$1.value.value?.glyph_script&&SubComponentsRootOnDragging$1.value.value?.glyph_script[r.uuid]){delete SubComponentsRootOnDragging$1.value.value?.glyph_script[r.uuid];return}}else if(dragOption.value==="layout"&&!selectedSubComponentOnDragging$1.value){if(draggingJoint$1.value&&putAtCoord$1.value){let y=null,k=0,$=0,V=1/0;const{x:L,y:z}=putAtCoord$1.value;for(let oe=0;oe<e.length;oe++){const ae=e[oe],de=distance$1(L,z,ae.x,ae.y);de<V&&(V=de,y=ae,k=L-y.x,$=z-y.y)}let re=`${`const ratio_coord = window.character.getRatioCoords(window.character.getLayoutByID('${y.id}'),${y.col},${y.row},${y.layout.coordsSegment})`};`;re+=`if (window.character.getComponent('${r.name}')) { window.character.getComponent('${r.name}').ox = ratio_coord.x+${k} - window.character.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.x; }`,re+=`if (window.character.getComponent('${r.name}')) { window.character.getComponent('${r.name}').oy = ratio_coord.y+${$} - window.character.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.y; }`,editCharacterFileOnDragging.value.glyph_script[r.uuid]=re,executeCharacterScript(editCharacterFileOnDragging.value)}else if(putAtCoord$1.value){let y=null,k=0,$=0,V=1/0;const{x:L,y:z}=putAtCoord$1.value;for(let oe=0;oe<e.length;oe++){const ae=e[oe],de=distance$1(L,z,ae.x,ae.y);de<V&&(V=de,y=ae,k=L-y.x,$=z-y.y)}const re=`${`const ratio_coord = window.character.getRatioCoords(window.character.getLayoutByID('${y.id}'),${y.col},${y.row},${y.layout.coordsSegment})`};window.character.getComponent('${r.name}')?.ox = ratio_coord.x + ${k} - ${g/2};window.character.getComponent('${r.name}')?.oy = ratio_coord.y + ${$} - ${g/2}`;editCharacterFileOnDragging.value.glyph_script[r.uuid]=re,executeCharacterScript(editCharacterFileOnDragging.value)}}else if(dragOption.value==="layout"&&selectedSubComponentOnDragging$1.value){SubComponentsRootOnDragging$1.value.value.glyph_script||(SubComponentsRootOnDragging$1.value.value.glyph_script={});const{ox:y,oy:k}=getOrigin2$1();if(draggingJoint$1.value&&putAtCoord$1.value){const{x:$,y:V}=putAtCoord$1.value,L=getRatioLayout2(SubComponentsRootOnDragging$1.value.value,"width"),z=getRatioLayout2(SubComponentsRootOnDragging$1.value.value,"height"),j=($-(g-L)/2-y)/L,re=(V-(g-z)/2-k)/z;selectedSubComponentOnDragging$1.value.value._o.getJoint(`${draggingJoint$1.value.name}`)?.x;let oe=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').ox = (${g} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${j} - window.glyph.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.x; }`;oe+=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').oy = (${g} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${re} - window.glyph.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.y; }`,SubComponentsRootOnDragging$1.value.value.glyph_script[r.uuid]=oe}else if(putAtCoord$1.value){const{x:$,y:V}=putAtCoord$1.value,L=$-g/2,z=V-g/2,j=getRatioLayout2(SubComponentsRootOnDragging$1.value.value,"width"),re=getRatioLayout2(SubComponentsRootOnDragging$1.value.value,"height"),oe=(L-(g-j)/2-y)/j,ae=(z-(g-re)/2-k)/re;let de=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').ox = (${g} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${oe}; }`;de+=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').oy = (${g} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${ae}; }`,SubComponentsRootOnDragging$1.value.value.glyph_script[r.uuid]=de}executeScript(SubComponentsRootOnDragging$1.value.value)}emitter.emit("renderCharacter",!0)},initGlyphDragger$1=(n,e=!1)=>{let r,g,y,k;const $=selectedFile.value.fontSettings?.unitsPerEm;let V=!1,L=!1,z=-1,j=-1,re=-1,oe=-1,ae=[];const de=xe=>{if(!draggable$1.value)return;editCharacterFileOnDragging.value=clone$1(editCharacterFile.value);for(let Fe=0;Fe<editCharacterFileOnDragging.value.components.length;Fe++){const Ue=editCharacterFileOnDragging.value.components[Fe];Ue.type==="glyph"&&executeScript(Ue.value)}let $e=[],Ne=null;if(selectedSubComponentOnDragging$1.value?($e=getJoints(selectedComponentOnDragging$1?.value,selectedSubComponentOnDragging$1.value.uuid),Ne=selectedSubComponentOnDragging$1.value.value):selectedComponentOnDragging$1?.value&&($e=getJoints(selectedComponentOnDragging$1?.value,selectedComponentOnDragging$1?.value.uuid),Ne=selectedComponentOnDragging$1?.value?.value),!Ne||!Ne._o)return;ae=[],getLayoutCoords(editCharacterFileOnDragging.value.info.layoutTree,ae),re=getCoord(xe.offsetX),oe=getCoord(xe.offsetY);const Oe=20;if(checkJoints.value)for(let Fe=0;Fe<$e.length;Fe++){const{x:Ue,y:kt}=$e[Fe];distance$1(Ue,kt,re,oe)<=Oe&&(draggingJoint$1.value=$e[Fe],Ne._o.onSkeletonDragStart&&Ne._o.onSkeletonDragStart({draggingJoint:draggingJoint$1.value,deltaX:0,deltaY:0}))}setEditing$1(!0),V=!0,z=getCoord(xe.offsetX),j=getCoord(xe.offsetY);const _e=getOrigin$3();r=_e.ox,g=_e.oy,y=selectedSubComponentOnDragging$1.value?selectedSubComponentOnDragging$1.value.ox:selectedComponentOnDragging$1.value.ox,k=selectedSubComponentOnDragging$1.value?selectedSubComponentOnDragging$1.value.oy:selectedComponentOnDragging$1.value.oy,window.addEventListener("mouseup",pe)},ue=xe=>{const $e=getCoord(xe.offsetX)-z,Ne=getCoord(xe.offsetY)-j;let Oe=null;if(editCharacterFileOnDragging.value&&selectedSubComponentOnDragging$1.value?Oe=selectedSubComponentOnDragging$1.value.value:editCharacterFileOnDragging.value&&selectedComponentOnDragging$1?.value?Oe=selectedComponentOnDragging$1?.value?.value:!editCharacterFileOnDragging.value&&selectedSubComponent.value?Oe=selectedSubComponent.value.value:!editCharacterFileOnDragging.value&&selectedComponent?.value&&(Oe=selectedComponent?.value?.value),L=!0,V)if(draggingJoint$1.value)if(Oe._o?.onSkeletonDrag)Oe._o.onSkeletonDrag({draggingJoint:draggingJoint$1.value,deltaX:$e,deltaY:Ne}),emitter.emit("renderCharacter");else if(putAtCoord$1.value={x:r+draggingJoint$1.value.x+$e,y:g+draggingJoint$1.value.y+Ne},selectedSubComponentOnDragging$1.value){addScript$1();for(let _e=0;_e<editCharacterFileOnDragging.value.components.length;_e++)editCharacterFileOnDragging.value.components[_e].uuid===selectedComponentUUID.value&&(editCharacterFileOnDragging.value.components[_e].ox=y+$e,editCharacterFileOnDragging.value.components[_e].oy=k+Ne)}else{addScript$1();for(let _e=0;_e<editCharacterFileOnDragging.value.components.length;_e++)editCharacterFileOnDragging.value.components[_e].uuid===selectedComponentUUID.value&&(editCharacterFileOnDragging.value.components[_e].ox=y+$e,editCharacterFileOnDragging.value.components[_e].oy=k+Ne)}else if(putAtCoord$1.value={x:r+$e+$/2,y:g+Ne+$/2},selectedSubComponentOnDragging$1.value)addScript$1(),modifySubComponent({ox:y+$e,oy:k+Ne});else{for(let _e=0;_e<editCharacterFileOnDragging.value.components.length;_e++)editCharacterFileOnDragging.value.components[_e].uuid===selectedComponentUUID.value&&(editCharacterFileOnDragging.value.components[_e].ox=y+$e,editCharacterFileOnDragging.value.components[_e].oy=k+Ne);emitter.emit("renderCharacter")}else if(checkJoints.value){let _e=[];if(selectedSubComponent.value?_e=getJoints(selectedComponent?.value,selectedSubComponent.value.uuid):selectedComponent?.value&&(_e=getJoints(selectedComponent?.value,selectedComponent?.value.uuid)),!Oe)return;const Fe=10;let Ue=!1;const kt=getCoord(xe.offsetX),Lt=getCoord(xe.offsetY);for(let wn=0;wn<_e.length;wn++){const{x:Et,y:xn}=_e[wn];distance$1(Et,xn,kt,Lt)<=Fe&&(movingJoint$1.value=_e[wn],Ue=!0)}!Ue&&(movingJoint$1.value=null)}},pe=xe=>{let $e=null;selectedSubComponentOnDragging$1.value?$e=selectedSubComponentOnDragging$1.value.value:selectedComponentOnDragging$1?.value&&($e=selectedComponentOnDragging$1?.value?.value);const Ne=getCoord(xe.offsetX)-z,Oe=getCoord(xe.offsetY)-j;$e._o?.onSkeletonDragEnd&&V&&$e._o.onSkeletonDragEnd({draggingJoint:draggingJoint$1.value,deltaX:Ne,deltaY:Oe}),window.removeEventListener("mouseup",pe),setEditing$1(!1),L&&addScript$1(e,ae),V=!1,L=!1,re=-1,oe=-1,z=0,j=0,putAtCoord$1.value=null,draggingJoint$1.value=null,editCharacterFile.value.glyph_script=clone$1(editCharacterFileOnDragging.value.glyph_script),editCharacterFile.value.components=clone$1(editCharacterFileOnDragging.value.components),editCharacterFileOnDragging.value=null,emitter.emit("renderPreviewCanvasByUUIDOnEditing",editCharacterFile.value.uuid)};return n.addEventListener("mousedown",de),n.addEventListener("mousemove",ue),()=>{n.removeEventListener("mousedown",de),n.removeEventListener("mousemove",ue),editCharacterFileOnDragging.value=null,setEditing$1(!1)}},renderGlyphSelector$1=(n,e=!1)=>{let r=null,g=null;if(editCharacterFileOnDragging.value&&selectedSubComponentOnDragging$1.value?(r=selectedSubComponentOnDragging$1.value.value,g=selectedSubComponentOnDragging$1.value):editCharacterFileOnDragging.value&&selectedComponentOnDragging$1?.value?(r=selectedComponentOnDragging$1?.value?.value,g=selectedComponentOnDragging$1.value):!editCharacterFileOnDragging.value&&selectedSubComponent.value?(r=selectedSubComponent.value.value,g=selectedSubComponent.value):!editCharacterFileOnDragging.value&&selectedComponent?.value&&(r=selectedComponent?.value?.value,g=selectedComponent.value),!r)return;getOrigin$3();let y=getJoints(g,g.uuid);const k=L=>{for(let z=0;z<y.length;z++)if(y[z].name===L)return y[z];return{x:0,y:0}};getBound$1(y);const $=5,V=n.getContext("2d");if(movingJoint$1.value&&checkJoints.value){const{x:z,y:j}=k(movingJoint$1.value.name),re=mapCanvasX(z),oe=mapCanvasY(j);V.fillStyle="red",V.fillRect(re-10,oe-10,2*10,2*10)}if(draggingJoint$1.value&&checkJoints.value){const{x:L,y:z}=k(draggingJoint$1.value.name),j=10,re=mapCanvasX(L),oe=mapCanvasY(z);V.fillStyle="red",V.fillRect(re-j,oe-j,2*j,2*j)}if(putAtCoord$1.value&&putAtCoord$1.value.id){const{x:L,y:z}=putAtCoord$1.value,j=mapCanvasX(L),re=mapCanvasY(z);V.fillStyle="red",V.fillRect(j-$,re-$,2*$,2*$)}},getOrigin$3=()=>{if(selectedSubComponentOnDragging$1.value){let{ox:n,oy:e}=selectedComponentOnDragging$1.value,r=selectedComponentOnDragging$1.value;for(let g=1;g<editCharacterFileOnDragging.value.selectedComponentsTree.length;g++){const y=editCharacterFileOnDragging.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}else if(selectedSubComponent.value){let{ox:n,oy:e}=selectedComponent.value,r=selectedComponent.value;for(let g=1;g<editCharacterFile.value.selectedComponentsTree.length;g++){const y=editCharacterFile.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:editCharacterFileOnDragging.value?selectedComponentOnDragging$1.value.ox:selectedComponent.value.ox,oy:editCharacterFileOnDragging.value?selectedComponentOnDragging$1.value.oy:selectedComponent.value.oy}},getOrigin2$1=()=>{if(selectedSubComponentOnDragging$1.value){let{ox:n,oy:e}=selectedComponentOnDragging$1.value,r=selectedComponentOnDragging$1.value;for(let g=1;g<editCharacterFileOnDragging.value.selectedComponentsTree.length-1;g++){const y=editCharacterFileOnDragging.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}else if(selectedSubComponent.value){let{ox:n,oy:e}=selectedComponent.value,r=selectedComponent.value;for(let g=1;g<editCharacterFile.value.selectedComponentsTree.length-1;g++){const y=editCharacterFile.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:editCharacterFileOnDragging.value?selectedComponentOnDragging$1.value.ox:selectedComponent.value.ox,oy:editCharacterFileOnDragging.value?selectedComponentOnDragging$1.value.oy:selectedComponent.value.oy}},initTranslateMover=(n,e=!1)=>{const{translateX:r,translateY:g}=e?editGlyph.value.view:editCharacterFile.value.view;let y=-1,k=-1;const $=j=>{y=j.clientX,k=j.clientY,document.addEventListener("mousemove",V),document.addEventListener("mouseup",L)},V=j=>{e?modifyGlyph(editGlyph.value.uuid,{view:{translateX:r+getCoord(j.clientX-y),translateY:g+getCoord(j.clientY-k)}}):modifyCharacterFile(editCharacterFile.value.uuid,{view:{translateX:r+getCoord(j.clientX-y),translateY:g+getCoord(j.clientY-k)}})},L=j=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)};return n?.addEventListener("mousedown",$),()=>{n?.removeEventListener("mousedown",$)}},initCoordsViewer=(n,e=!1)=>{const r=y=>{if(e){const $=y.offsetX/width$1.value*1e3,V=y.offsetY/height$1.value*1e3;coordsText.value=`${$}, ${V}`}else{const k=selectedFile.value.fontSettings.unitsPerEm,$=y.offsetX/width$1.value*k,V=y.offsetY/height$1.value*k;coordsText.value=`${$}, ${V}`}};return n?.addEventListener("mousemove",r),()=>{n?.removeEventListener("mousemove",r)}},_hoisted_1$A={class:"widget grid-controller"},_hoisted_2$y=["width","height"],_sfc_main$B=defineComponent({__name:"GridController",props:{dx:{type:Number,default:0},dy:{type:Number,default:0},centerSquareSize:{type:Number,default:500/3},size:{type:Number,default:500},layoutTree:{type:Array,default:[]},onChange:Function},setup(n){const e=n,{tm:r,t:g,locale:y}=useI18n(),{dx:k,dy:$,centerSquareSize:V,size:L,onChange:z,layoutTree:j}=toRefs(e),re=computed(()=>[de(L.value/2)+de(k.value),de(L.value/2)+de($.value)]),oe=ref(null),ae=(Et,xn,jt,An)=>Math.sqrt((Et-jt)*(Et-jt)+(xn-An)*(xn-An)),de=Et=>Et/L.value*500,ue=computed(()=>Math.round((L.value-V.value)/2)+k.value),pe=computed(()=>Math.round((L.value-V.value)/2+V.value)+k.value),he=computed(()=>Math.round((L.value-V.value)/2)+$.value),xe=computed(()=>Math.round((L.value-V.value)/2+V.value)+$.value);onMounted(()=>{wn(),executeCharacterScript(editCharacterFile.value),executeCharactersGlyphsScript(editCharacterFile.value),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile.value,oe.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:k.value,dy:$.value,size:L.value,centerSquareSize:V.value,x1:ue.value,x2:pe.value,y1:he.value,y2:xe.value},useSkeletonGrid:editCharacterFile.value.info?.useSkeletonGrid||!1}),oe.value.addEventListener("mousedown",Oe),oe.value.addEventListener("mousemove",_e)}),onBeforeUnmount(()=>{oe.value.removeEventListener("mousedown",Oe),oe.value.removeEventListener("mousemove",_e),tool.value==="grid"&&(y.value==="zh"?ElMessageBox.alert("","",{confirmButtonText:""}):y.value==="en"&&ElMessageBox.alert("For user convenience in component editing operations, the default layout will be restored when leaving the layout editing interface. If you have applied layout transformations, the transformed layout will be used for previewing and exporting the font library. However, the default layout will still be used for other editing operations.","Note: You have left the layout editing interface",{confirmButtonText:"Confirm"}))});const $e=ref("none"),Ne=ref("default"),Oe=Et=>{ae(Et.offsetX,Et.offsetY,re.value[0],re.value[1])<=20?(document.body.addEventListener("mouseup",Fe),$e.value="inner-move"):ae(Et.offsetX,Et.offsetY,de(L.value/2-V.value/4),de(L.value/2-V.value/4))<=20?(document.body.addEventListener("mouseup",Fe),$e.value="left-top",Ne.value="left-top"):ae(Et.offsetX,Et.offsetY,de(L.value/2+V.value/4),de(L.value/2-V.value/4))<=20?(document.body.addEventListener("mouseup",Fe),$e.value="right-top",Ne.value="right-top"):ae(Et.offsetX,Et.offsetY,de(L.value/2-V.value/4),de(L.value/2+V.value/4))<=20?(document.body.addEventListener("mouseup",Fe),$e.value="left-bottom",Ne.value="left-bottom"):ae(Et.offsetX,Et.offsetY,de(L.value/2+V.value/4),de(L.value/2+V.value/4))<=20&&(document.body.addEventListener("mouseup",Fe),$e.value="right-bottom",Ne.value="right-bottom")},_e=Et=>{switch($e.value){case"inner-move":{const xn=Et.offsetX/500*L.value-L.value/2,jt=Et.offsetY/500*L.value-L.value/2;Math.abs(xn)<=L.value/12&&Math.abs(jt)<=L.value/12&&z.value(xn,jt,V.value);break}case"none":{ae(Et.offsetX,Et.offsetY,de(L.value/2-V.value/4),de(L.value/2-V.value/4))<=20?Ne.value="left-top":ae(Et.offsetX,Et.offsetY,de(L.value/2+V.value/4),de(L.value/2-V.value/4))<=20?Ne.value="right-top":ae(Et.offsetX,Et.offsetY,de(L.value/2-V.value/4),de(L.value/2+V.value/4))<=20?Ne.value="left-bottom":ae(Et.offsetX,Et.offsetY,de(L.value/2+V.value/4),de(L.value/2+V.value/4))<=20?Ne.value="right-bottom":Ne.value="default";break}default:{const xn=Et.offsetX/500*L.value-L.value/2,jt=Et.offsetY/500*L.value-L.value/2;let An=0;if($e.value==="left-top"?An=Math.min(-xn,-jt):$e.value==="right-top"?An=Math.min(xn,-jt):$e.value==="left-bottom"?An=Math.min(-xn,jt):$e.value==="right-bottom"&&(An=Math.min(xn,jt)),An=Math.abs(An),An<=L.value/6&&An>=L.value/24){const Dn=An*4,En=k.value/V.value*Dn,Bn=$.value/V.value*Dn;z.value(En,Bn,Dn)}else if(An>=L.value/6){const Dn=L.value/3*2,En=k.value/V.value*Dn,Bn=$.value/V.value*Dn;z.value(En,Bn,Dn)}else if(An<=L.value/24){const Dn=L.value/6,En=k.value/V.value*Dn,Bn=$.value/V.value*Dn;z.value(En,Bn,Dn)}break}}},Fe=()=>{$e.value="none",document.body.removeEventListener("mouseup",Fe)},Ue=Et=>{saveState("",[StoreType.Grid],OpType.Undo,Et)};let kt=null,Lt=!1;watch([gridSettings$1,gridChanged],(Et,xn)=>{kt&&clearTimeout(kt),kt=setTimeout(()=>{Lt=!1,clearTimeout(kt)},500),Lt||(Ue({gridSettings:xn[0],gridChanged:xn[1],newRecord:!0}),Lt=!0)},{deep:!0}),watch([k,$,L,V,j],(Et,xn)=>{wn(),executeCharacterScript(editCharacterFile.value),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile.value,oe.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:k.value,dy:$.value,size:L.value,centerSquareSize:V.value,x1:ue.value,x2:pe.value,y1:he.value,y2:xe.value},useSkeletonGrid:editCharacterFile.value.info?.useSkeletonGrid||!1})},{deep:!0}),watch([tool],()=>{tool.value==="grid"&&orderedListWithItemsForCurrentCharacterFile.value.length&&(wn(),executeCharacterScript(editCharacterFile.value),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile.value,oe.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:k.value,dy:$.value,size:L.value,centerSquareSize:V.value,x1:ue.value,x2:pe.value,y1:he.value,y2:xe.value},useSkeletonGrid:editCharacterFile.value.info?.useSkeletonGrid||!1}))},{deep:!0});const wn=()=>{const Et=oe.value.getContext("2d");Et.clearRect(0,0,L.value,L.value),Et.strokeStyle="#811616",Et.lineWidth=2,Et.beginPath(),Et.moveTo(0,he.value),Et.lineTo(L.value,he.value),Et.stroke(),Et.closePath(),Et.beginPath(),Et.moveTo(0,xe.value),Et.lineTo(L.value,xe.value),Et.stroke(),Et.closePath(),Et.beginPath(),Et.moveTo(ue.value,0),Et.lineTo(ue.value,L.value),Et.stroke(),Et.closePath(),Et.beginPath(),Et.moveTo(pe.value,0),Et.lineTo(pe.value,L.value),Et.stroke(),Et.closePath(),Et.beginPath(),Et.strokeStyle="#153063",Et.rect(L.value/2-V.value/4,L.value/2-V.value/4,V.value/2,V.value/2),Et.stroke(),Et.closePath(),Et.fillStyle="#153063",Et.lineWidth=0,Et.beginPath(),Et.arc(re.value[0]/500*L.value,re.value[1]/500*L.value,20,0,2*Math.PI),Et.closePath(),Et.fill(),j.value.length&&renderLayout(j.value,{x:0,y:0,w:L.value,h:L.value},1,{x1:ue.value,x2:pe.value,y1:he.value,y2:xe.value,l:L.value},oe.value)};return(Et,xn)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("canvas",{ref_key:"canvas",ref:oe,width:unref(L),height:unref(L),style:{width:"500px",height:"500px"},class:normalizeClass({"left-top":Ne.value==="left-top","right-top":Ne.value==="right-top","left-bottom":Ne.value==="left-bottom","right-bottom":Ne.value==="right-bottom"})},null,10,_hoisted_2$y)]))}}),GridController$1=_export_sfc(_sfc_main$B,[["__scopeId","data-v-ad0998a5"]]),_withScopeId$7=n=>(pushScopeId("data-v-12bb0909"),n=n(),popScopeId(),n),_hoisted_1$z={class:"widget metrics-controller"},_hoisted_2$x={class:"canvas"},_hoisted_3$i=_withScopeId$7(()=>createBaseVNode("div",{class:"label"},"advanceWidth",-1)),_hoisted_4$f=_withScopeId$7(()=>createBaseVNode("div",{class:"label"},"lsb",-1)),_hoisted_5$c=_withScopeId$7(()=>createBaseVNode("div",{class:"label"},"rsb",-1)),_hoisted_6$b=[_hoisted_5$c],_sfc_main$A=defineComponent({__name:"MetricsController",setup(n){let e=0,r=0,g=!1;const y=oe=>{const ae=selectedFile.value.fontSettings.unitsPerEm/500;return oe*ae},k=oe=>{const ae=selectedFile.value.fontSettings.unitsPerEm/500;return oe/ae},$=oe=>{g=!0,r=metrics_data.value.advanceWidth,e=oe.clientX,document.addEventListener("mousemove",V),document.addEventListener("mouseup",L)},V=oe=>{g&&(metrics_data.value.advanceWidth=r+y(oe.clientX-e),metrics_data.value.rsb=metrics_data.value.advanceWidth-(metrics_data.value.lsb+metrics_data.value.xMax-metrics_data.value.xMin))},L=oe=>{g=!1,e=0,r=0,document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)},z=oe=>{g=!0,e=oe.clientX,r=metrics_data.value.lsb,document.addEventListener("mousemove",j),document.addEventListener("mouseup",re)},j=oe=>{g&&(metrics_data.value.lsb=r-y(oe.clientX-e),metrics_data.value.rsb=metrics_data.value.advanceWidth-(metrics_data.value.lsb+metrics_data.value.xMax-metrics_data.value.xMin))},re=oe=>{g=!1,e=0,r=0,document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",re)};return(oe,ae)=>(openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("div",_hoisted_2$x,[createBaseVNode("div",{class:"advance-width-controller",style:normalizeStyle({width:`${k(unref(metrics_data).advanceWidth)}px`,left:`${k(unref(metrics_data).xMin-unref(metrics_data).lsb)}px`})},[_hoisted_3$i,createBaseVNode("div",{class:"advance-width-mover mover",onMousedown:$},null,32)],4),createBaseVNode("div",{class:"lsb-controller",style:normalizeStyle({width:`${k(unref(metrics_data).lsb)}px`,left:`${k(unref(metrics_data).xMin-unref(metrics_data).lsb)}px`})},[_hoisted_4$f,createBaseVNode("div",{class:"lsb-mover mover",onMousedown:z},null,32)],4),createBaseVNode("div",{class:"rsb-controller",style:normalizeStyle({width:`${k(unref(metrics_data).rsb)}px`,left:`${k(unref(metrics_data).xMax)}px`})},_hoisted_6$b,4)])]))}}),MetricsController=_export_sfc(_sfc_main$A,[["__scopeId","data-v-12bb0909"]]),initLayoutResizer$1=n=>{let r=!1;const g=SubComponentsRoot.value?SubComponentsRoot.value.value:selectedComponent.value.value,{ox:y,oy:k}=getOrigin$2();if(!g.layout||g.layout.type!=="rect")return;const $=j=>{r=!0},V=j=>{if(!g||!g?.layout)return;const{width:re,height:oe}=g.layout.params,ae=n.width/4+y,de=n.height/4+k,ue=mapCanvasX(ae-re/2),pe=mapCanvasY(de-oe/2),he=mapCanvasWidth(re),xe=mapCanvasHeight(oe),$e=getCoord(j.offsetX),Ne=getCoord(j.offsetY),Oe=j.offsetX*4,_e=j.offsetY*4,Fe={x:ue,y:pe},Ue={x:$e,y:pe+xe},kt={x:ue+he,y:pe},Lt={x:ue+he,y:pe+xe};if(r){switch(selectControl$1.value){case"scale-left-top":{const wn=$e<ae?(ae-$e)*2:re,Et=Ne<de?(de-Ne)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}case"scale-right-top":{const wn=$e>ae?($e-ae)*2:re,Et=Ne<de?(de-Ne)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}case"scale-left-bottom":{const wn=$e<ae?(ae-$e)*2:re,Et=Ne>de?(Ne-de)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}case"scale-right-bottom":{const wn=$e>ae?($e-ae)*2:re,Et=Ne>de?(Ne-de)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}}executeScript(g),emitter.emit("renderPreviewCanvasByUUID",g.uuid),emitter.emit("renderCharacter",!0),renderLayoutEditor$1(n)}r||(distance$3(Oe,_e,Fe.x,Fe.y)<=20?selectControl$1.value="scale-left-top":distance$3(Oe,_e,kt.x,kt.y)<=20?selectControl$1.value="scale-right-top":distance$3(Oe,_e,Ue.x,Ue.y)<=20?selectControl$1.value="scale-left-bottom":distance$3(Oe,_e,Lt.x,Lt.y)<=20?selectControl$1.value="scale-right-bottom":selectControl$1.value="null")},L=j=>{r=!1};return n?.addEventListener("mousedown",$),document.addEventListener("mousemove",V),document.addEventListener("mouseup",L),()=>{n?.removeEventListener("mousedown",$),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)}},renderLayoutEditor$1=n=>{const r=SubComponentsRoot.value?SubComponentsRoot.value.value:selectedComponent.value.value,{ox:g,oy:y}=getOrigin$2();if(r.layout&&r.layout.type==="rect"){const{width:k,height:$}=r.layout.params,V=n.width/4+g-k/2,L=n.height/4+y-$/2,z=mapCanvasX(V),j=mapCanvasY(L),re=mapCanvasWidth(k),oe=mapCanvasHeight($),ae=n?.getContext("2d");ae.strokeStyle="#79bbff",ae.translate(z+re/2,j+oe/2),ae.translate(-(z+re/2),-(j+oe/2)),ae.strokeRect(z,j,re,oe),ae.strokeRect(z-5,j-5,5*2,5*2),ae.strokeRect(z+re-5,j-5,5*2,5*2),ae.strokeRect(z-5,j+oe-5,5*2,5*2),ae.strokeRect(z+re-5,j+oe-5,5*2,5*2),ae.setTransform(1,0,0,1,0,0)}},getOrigin$2=()=>{if(SubComponentsRoot.value){let{ox:n,oy:e}=selectedComponent.value,r=selectedComponent.value;for(let g=1;g<editCharacterFile.value.selectedComponentsTree.length-1;g++){const y=editCharacterFile.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:selectedComponent.value.ox,oy:selectedComponent.value.oy}},_hoisted_1$y={class:"edit-panel-wrapper"},_hoisted_2$w={class:"canvas-wrapper"},_hoisted_3$h={class:"metrics"},_hoisted_4$e={class:"grid"},_hoisted_5$b=["width","height"],_hoisted_6$a=["width","height"],_sfc_main$z=defineComponent({__name:"EditPanel",setup(n){const e=ref(!1);let r=null,g=null;const y=ref(null),k=ref(null);onMounted(async()=>{document.addEventListener("keydown",$),tempScript(editCharacterFile.value),executeCharacterScript(editCharacterFile.value);const re=y.value;re.style.width=`${width$1.value*editCharacterFile.value.view.zoom/100}px`,re.style.height=`${height$1.value*editCharacterFile.value.view.zoom/100}px`,grid.precision=selectedFile.value.width/width$1.value*10,setCanvas(re),e.value=!0,L(),await nextTick(),z(),emitter.on("renderCharacter",()=>{z(),j(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value)}),emitter.on("renderCharacter_forceUpdate",()=>{render$1(canvas.value,!0,!0)}),emitter.on("updateCharacterView",()=>{const oe=canvas.value;oe.style.width=`${500*editCharacterFile.value.view.zoom/100}px`,oe.style.height=`${500*editCharacterFile.value.view.zoom/100}px`}),await nextTick(),selectedComponentUUID.value&&selectedComponent.value.type==="glyph"&&setTool("glyphDragger"),loading$1.value=!1});const $=re=>{const oe=navigator.userAgent.includes("Mac");(oe&&re.metaKey&&re.key==="z"||!oe&&re.ctrlKey&&re.key==="z")&&(re.shiftKey?redo$2():undo$2(),re.preventDefault())};onUnmounted(()=>{scripts_map.value={},emitter.off("renderCharacter"),emitter.off("renderCharacter_forceUpdate"),emitter.off("updateCharacterView"),document.removeEventListener("keydown",$),clearState(),r&&r(),g&&g(),setTool(""),updateCharacterListFromEditFile(),resetEditCharacterFile()});const V=(re,oe,ae)=>{gridChanged.value=!0,gridSettings$1.value.dx=re,gridSettings$1.value.dy=oe,gridSettings$1.value.centerSquareSize=ae},L=()=>{switch(r&&r(),tool.value){case"pen":r=initPen(canvas.value);break;case"select":r=initSelect(canvas.value);break;case"ellipse":r=initEllipse(canvas.value);break;case"rectangle":r=initRectangle(canvas.value);break;case"polygon":r=initPolygon(canvas.value);break;case"translateMover":r=initTranslateMover(canvas.value);break;case"coordsViewer":r=initCoordsViewer(canvas.value);break;case"glyphDragger":r=initGlyphDragger$1(canvas.value);break}};watch(tool,(re,oe)=>{if(e){switch(z(),tool.value){case"select":selectedComponentUUID.value&&renderSelectEditor(canvas.value);break;case"glyphDragger":selectedComponentUUID.value&&(r=initGlyphDragger$1(canvas.value),renderGlyphSelector$1(canvas.value));break}j(),L()}}),watch([editing$2,()=>editCharacterFile.value.selectedComponentsTree],()=>{selectedSubComponent.value&&g?(g(),editing$2.value=!1):editing$2.value&&(g=initLayoutResizer$1(canvas.value),renderLayoutEditor$1(canvas.value))},{deep:!0}),watch([()=>selectedComponent.value?.value?.layout,()=>SubComponentsRoot.value?.value?.layout],()=>{z(),editing$2.value&&(selectedComponent.value||SubComponentsRoot.value)&&renderLayoutEditor$1(canvas.value),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),j(),emitter.emit("renderPreviewCanvasByUUIDOnEditing",editCharacterFile.value.uuid)},{deep:!0}),watch([background$1,grid,fontRenderStyle],()=>{z()}),watch([editCharacterFile,selectedFile],()=>{if(!editCharacterFile.value||!e)return;const re=canvas.value;re.width=mapCanvasWidth(selectedFile.value.width),re.height=mapCanvasHeight(selectedFile.value.height),re.style.width=`${width$1.value*editCharacterFile.value.view.zoom/100}px`,re.style.height=`${height$1.value*editCharacterFile.value.view.zoom/100}px`,setCanvas(re),z(),j(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),emitter.emit("renderPreviewCanvasByUUIDOnEditing",editCharacterFile.value.uuid)}),watch([points$1,editing$7],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$7.value&&renderPenEditor(canvas.value)}),watch([points,editing$6],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$6.value&&renderPolygonEditor(points,canvas.value)}),watch([ellipseX,ellipseY,radiusX,radiusY,editing$4],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$4.value&&renderEllipseEditor(canvas.value)}),watch([rectX,rectY,rectWidth,rectHeight,editing$5],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$5.value&&renderRectangleEditor(canvas.value)}),watch([editing$3,draggingJoint$1,putAtCoord$1,movingJoint$1],()=>{z(),j(),renderGlyphSelector$1(canvas.value),editing$3.value}),watch([selectedComponentUUID,componentsForCurrentCharacterFile,selectedComponent],()=>{editing$2.value=!1,z(),selectedComponentUUID.value&&(tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),j(),emitter.emit("renderPreviewCanvasByUUIDOnEditing",editCharacterFile.value.uuid))}),watch([onPenEditMode],()=>{r&&r(),onPenEditMode&&tool.value==="select"&&L()}),watch([selectAnchor,selectPenPoint,hoverPenPoint],()=>{tool.value==="select"&&(z(),renderSelectEditor(canvas.value))});const z=()=>{render$1(canvas.value)},j=()=>{editCharacterFileOnDragging.value?(checkJoints.value&&(selectedSubComponentOnDragging$1.value?renderJoints(selectedSubComponentOnDragging$1.value,canvas.value):SubComponentsRootOnDragging$1.value?renderJoints(SubComponentsRootOnDragging$1.value,canvas.value):selectedComponentOnDragging$1.value&&renderJoints(selectedComponentOnDragging$1.value,canvas.value)),checkRefLines.value&&(selectedSubComponentOnDragging$1.value?renderRefLines(selectedSubComponentOnDragging$1.value,canvas.value):SubComponentsRootOnDragging$1.value?renderRefLines(SubComponentsRootOnDragging$1.value,canvas.value):selectedComponentOnDragging$1.value&&renderRefLines(selectedComponentOnDragging$1.value,canvas.value))):(checkJoints.value&&(selectedSubComponent.value?renderJoints(selectedSubComponent.value,canvas.value):SubComponentsRoot.value?renderJoints(SubComponentsRoot.value,canvas.value):selectedComponent.value&&selectedComponent.value!=="multi"&&renderJoints(selectedComponent.value,canvas.value)),checkRefLines.value&&(selectedSubComponent.value?renderRefLines(selectedSubComponent.value,canvas.value):SubComponentsRoot.value?renderRefLines(SubComponentsRoot.value,canvas.value):selectedComponent.value&&selectedComponent.value!=="multi"&&renderRefLines(selectedComponent.value,canvas.value))),draggingJoint$1.value&&renderGlyphSelector$1(canvas.value)};return(re,oe)=>(openBlock(),createElementBlock("section",_hoisted_1$y,[createBaseVNode("main",_hoisted_2$w,[withDirectives(createBaseVNode("div",_hoisted_3$h,[createVNode(MetricsController)],512),[[vShow,unref(tool)==="metrics"]]),withDirectives(createBaseVNode("div",_hoisted_4$e,[createVNode(GridController$1,{size:unref(gridSettings$1).size,dx:unref(gridSettings$1).dx,dy:unref(gridSettings$1).dy,centerSquareSize:unref(gridSettings$1).centerSquareSize,onChange:V},null,8,["size","dx","dy","centerSquareSize"])],512),[[vShow,unref(tool)==="grid"]]),withDirectives(createBaseVNode("div",{class:"edit-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="edit"&&unref(tool)!=="grid"?"flex":"none"})},[withDirectives(createBaseVNode("canvas",{ref_key:"editCanvas",ref:y,class:normalizeClass({"edit-canvas-panel":!0,"pen-on-edit":unref(tool)==="pen","rectangle-on-edit":unref(tool)==="rectangle","ellipse-on-edit":unref(tool)==="ellipse","polygon-on-edit":unref(tool)==="polygon","rotate-left-top":unref(selectControl$2)==="rotate-left-top","rotate-right-top":unref(selectControl$2)==="rotate-right-top","rotate-left-bottom":unref(selectControl$2)==="rotate-left-bottom","rotate-right-bottom":unref(selectControl$2)==="rotate-right-bottom","scale-left-top":unref(selectControl$2)==="scale-left-top"||unref(selectControl$1)==="scale-left-top","scale-right-top":unref(selectControl$2)==="scale-right-top"||unref(selectControl$1)==="scale-right-top","scale-left-bottom":unref(selectControl$2)==="scale-left-bottom"||unref(selectControl$1)==="scale-left-bottom","scale-right-bottom":unref(selectControl$2)==="scale-right-bottom"||unref(selectControl$1)==="scale-right-bottom","on-translate-move":unref(tool)==="translateMover"}),style:normalizeStyle({transform:`translate3d(${unref(editCharacterFile).view.translateX}px, ${unref(editCharacterFile).view.translateY}px, 0px)`}),width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,14,_hoisted_5$b),[[vShow,unref(tool)!=="grid"]])],4),[[vShow,unref(tool)!=="grid"]]),createBaseVNode("div",{class:"preview-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="preview"?"flex":"none"})},[createBaseVNode("canvas",{ref_key:"previewCanvas",ref:k,class:"preview-canvas-panel",width:unref(mapCanvasWidth)(unref(width$1)),height:unref(mapCanvasHeight)(unref(height$1))},null,8,_hoisted_6$a)],4)])]))}}),EditPanel=_export_sfc(_sfc_main$z,[["__scopeId","data-v-bc4cd41c"]]),initLayoutResizer=n=>{let r=!1;const g=SubComponentsRoot$1.value?SubComponentsRoot$1.value.value:editGlyph.value,{ox:y,oy:k}=getOrigin$1();if(!g.layout||g.layout.type!=="rect")return;const $=j=>{r=!0},V=j=>{if(!g||!g?.layout)return;const{width:re,height:oe}=g.layout.params,ae=n.width/4+y,de=n.height/4+k,ue=mapCanvasX(ae-re/2),pe=mapCanvasY(de-oe/2),he=mapCanvasWidth(re),xe=mapCanvasHeight(oe),$e=getCoord(j.offsetX),Ne=getCoord(j.offsetY),Oe=j.offsetX*4,_e=j.offsetY*4,Fe={x:ue,y:pe},Ue={x:$e,y:pe+xe},kt={x:ue+he,y:pe},Lt={x:ue+he,y:pe+xe};if(r){switch(selectControl.value){case"scale-left-top":{const wn=$e<ae?(ae-$e)*2:re,Et=Ne<de?(de-Ne)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}case"scale-right-top":{const wn=$e>ae?($e-ae)*2:re,Et=Ne<de?(de-Ne)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}case"scale-left-bottom":{const wn=$e<ae?(ae-$e)*2:re,Et=Ne>de?(Ne-de)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}case"scale-right-bottom":{const wn=$e>ae?($e-ae)*2:re,Et=Ne>de?(Ne-de)*2:oe;g.layout.params.width=wn,g.layout.params.height=Et;break}}executeScript(g),emitter.emit("renderGlyphPreviewCanvasByUUID",g.uuid),emitter.emit("renderGlyph",!0)}r||(distance$3(Oe,_e,Fe.x,Fe.y)<=20?selectControl.value="scale-left-top":distance$3(Oe,_e,kt.x,kt.y)<=20?selectControl.value="scale-right-top":distance$3(Oe,_e,Ue.x,Ue.y)<=20?selectControl.value="scale-left-bottom":distance$3(Oe,_e,Lt.x,Lt.y)<=20?selectControl.value="scale-right-bottom":selectControl.value="null")},L=j=>{r=!1};return n?.addEventListener("mousedown",$),document.addEventListener("mousemove",V),document.addEventListener("mouseup",L),()=>{n?.removeEventListener("mousedown",$),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)}},renderLayoutEditor=n=>{const e=SubComponentsRoot$1.value?SubComponentsRoot$1.value.value:editGlyph.value,{ox:r,oy:g}=getOrigin$1(),y=5;if(e.layout&&e.layout.type==="rect"){const{width:k,height:$}=e.layout.params,V=n.width/4+r-k/2,L=n.height/4+g-$/2,z=mapCanvasX(V),j=mapCanvasY(L),re=mapCanvasWidth(k),oe=mapCanvasHeight($),ae=n?.getContext("2d");ae.strokeStyle="#79bbff",ae.translate(z+re/2,j+oe/2),ae.translate(-(z+re/2),-(j+oe/2)),ae.strokeRect(z,j,re,oe),ae.strokeRect(z-y,j-y,y*2,y*2),ae.strokeRect(z+re-y,j-y,y*2,y*2),ae.strokeRect(z-y,j+oe-y,y*2,y*2),ae.strokeRect(z+re-y,j+oe-y,y*2,y*2),ae.setTransform(1,0,0,1,0,0)}},getOrigin$1=()=>{if(SubComponentsRoot$1.value){let{ox:n,oy:e}=selectedComponent$1.value,r=selectedComponent$1.value;for(let g=1;g<editGlyph.value.selectedComponentsTree.length-1;g++){const y=editGlyph.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:0,oy:0}},editing=ref(!1),setEditing=n=>{editing.value=n},draggingJoint=ref(null),putAtCoord=ref(null),movingJoint=ref(null),editGlyphOnDragging=ref(null);computed(()=>{if(!editGlyphOnDragging.value)return null;const n=editGlyphOnDragging.value;if(!editGlyph.value?.selectedComponentsTree||!editGlyph?.selectedComponentsTree.length)return null;let e=null;for(let g=0;g<editGlyph.value?.selectedComponentsTree.length-1;g++){const y=editGlyph.value?.selectedComponentsTree[g];e?e=selectedItemByUUID(e.value.components,y):e=selectedItemByUUID(n.components,y)}return e.value.components.map(g=>selectedItemByUUID(e.value.components,g.uuid))});const SubComponentsRootOnDragging=computed(()=>{if(!editGlyphOnDragging.value)return null;const n=editGlyphOnDragging.value;if(!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)return null;let e=null;for(let r=0;r<editGlyph.value?.selectedComponentsTree.length-1;r++){const g=editGlyph.value?.selectedComponentsTree[r];e?e=selectedItemByUUID(e.value.components,g):e=selectedItemByUUID(n.components,g)}return e}),selectedSubComponentOnDragging=computed(()=>{let n=null;if(!editGlyphOnDragging.value)n=null;else{const e=editGlyphOnDragging.value;if(!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)n=null;else{let r=null;for(let y=0;y<editGlyph.value?.selectedComponentsTree.length-1;y++){const k=editGlyph.value?.selectedComponentsTree[y];r?r=selectedItemByUUID(r.value.components,k):r=selectedItemByUUID(e.components,k)}const g=editGlyph.value?.selectedComponentsTree[editGlyph.value?.selectedComponentsTree.length-1];g!=="null"&&(n=selectedItemByUUID(r.value.components,g))}}return n}),selectedComponentsOnDragging=computed(()=>{if(!editGlyphOnDragging.value)return null;const n=editGlyphOnDragging.value;return editGlyph.value?.selectedComponentsUUIDs.map(r=>traverseComponents(n.components,r))}),selectedComponentOnDragging=computed(()=>!selectedComponentsOnDragging.value||selectedComponentsOnDragging.value.length===0?null:selectedComponentsOnDragging.value.length===1?selectedComponentsOnDragging.value[0]:"multi"),getBound=n=>{let e=1/0,r=1/0,g=-1/0,y=-1/0;return n.map(k=>{const{x:$,y:V}=k;$<e&&(e=$),$>g&&(g=$),V<r&&(r=V),V>y&&(y=V)}),{x:e,y:r,w:g-e,h:y-r}},distance=(n,e,r,g)=>Math.sqrt((n-r)*(n-r)+(e-g)*(e-g)),addScript=n=>{selectedSubComponentOnDragging.value?selectedSubComponentOnDragging.value.value:selectedComponentOnDragging?.value?.value;const e=selectedSubComponentOnDragging.value?selectedSubComponentOnDragging.value:selectedComponentOnDragging?.value,r=1e3;if(editGlyphOnDragging.value.glyph_script||(editGlyphOnDragging.value.glyph_script={}),dragOption.value==="default"&&!selectedSubComponentOnDragging.value){if(editGlyphOnDragging.value?.glyph_script&&editGlyphOnDragging.value?.glyph_script[e.uuid]){delete editGlyphOnDragging.value?.glyph_script[e.uuid];return}}else if(dragOption.value==="default"&&selectedSubComponentOnDragging.value){if(SubComponentsRootOnDragging.value.value?.glyph_script&&SubComponentsRootOnDragging.value.value?.glyph_script[e.uuid]){delete SubComponentsRootOnDragging.value.value?.glyph_script[e.uuid];return}}else if(dragOption.value==="layout"&&!selectedSubComponentOnDragging.value){if(draggingJoint.value&&putAtCoord.value){let g=null,y=0,k=0,$=1/0;const{x:V,y:L}=putAtCoord.value;for(let re=0;re<n.length;re++){const oe=n[re],ae=distance(V,L,oe.x,oe.y);ae<$&&($=ae,g=oe,y=V-g.x,k=L-g.y)}let j=`${`const ratio_coord = window.character.getRatioCoords(window.character.getLayoutByID('${g.id}'),${g.col},${g.row},${g.layout.coordsSegment})`};`;j+=`if (window.character.getComponent('${e.name}')) { window.character.getComponent('${e.name}').ox = ratio_coord.x+${y} - window.character.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.x; }`,j+=`if (window.character.getComponent('${e.name}')) { window.character.getComponent('${e.name}').oy = ratio_coord.y+${k} - window.character.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.y; }`,editGlyphOnDragging.value.glyph_script[e.uuid]=j,executeScript(editGlyphOnDragging.value)}else if(putAtCoord.value){let g=null,y=0,k=0,$=1/0;const{x:V,y:L}=putAtCoord.value;for(let re=0;re<n.length;re++){const oe=n[re],ae=distance(V,L,oe.x,oe.y);ae<$&&($=ae,g=oe,y=V-g.x,k=L-g.y)}const j=`${`const ratio_coord = window.character.getRatioCoords(window.character.getLayoutByID('${g.id}'),${g.col},${g.row},${g.layout.coordsSegment})`};window.character.getComponent('${e.name}')?.ox = ratio_coord.x + ${y} - ${r/2};window.character.getComponent('${e.name}')?.oy = ratio_coord.y + ${k} - ${r/2}`;editGlyphOnDragging.value.glyph_script[e.uuid]=j,executeScript(editGlyphOnDragging.value)}}else if(dragOption.value==="layout"&&selectedSubComponentOnDragging.value){SubComponentsRootOnDragging.value.value.glyph_script||(SubComponentsRootOnDragging.value.value.glyph_script={});const{ox:g,oy:y}=getOrigin2();if(draggingJoint.value&&putAtCoord.value){const{x:k,y:$}=putAtCoord.value,V=getRatioLayout2(SubComponentsRootOnDragging.value.value,"width"),L=getRatioLayout2(SubComponentsRootOnDragging.value.value,"height"),z=(k-(r-V)/2-g)/V,j=($-(r-L)/2-y)/L;selectedSubComponentOnDragging.value.value._o.getJoint(`${draggingJoint.value.name}`)?.x;let re=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').ox = (${r} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${z} - window.glyph.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.x; }`;re+=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').oy = (${r} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${j} - window.glyph.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.y; }`,SubComponentsRootOnDragging.value.value.glyph_script[e.uuid]=re}else if(putAtCoord.value){const{x:k,y:$}=putAtCoord.value,V=k-r/2,L=$-r/2,z=getRatioLayout2(SubComponentsRootOnDragging.value.value,"width"),j=getRatioLayout2(SubComponentsRootOnDragging.value.value,"height"),re=(V-(r-z)/2-g)/z,oe=(L-(r-j)/2-y)/j;let ae=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').ox = (${r} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${re}; }`;ae+=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').oy = (${r} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${oe}; }`,SubComponentsRootOnDragging.value.value.glyph_script[e.uuid]=ae}executeScript(SubComponentsRootOnDragging.value.value)}emitter.emit("renderGlyph",!0)},initGlyphDragger=n=>{let e,r,g,y,$=!1,V=!1,L=-1,z=-1,j=-1,re=-1,oe=[];const ae=he=>{if(!draggable$1.value)return;editGlyphOnDragging.value=clone$1(editGlyph.value);for(let _e=0;_e<editGlyphOnDragging.value.components.length;_e++){const Fe=editGlyphOnDragging.value.components[_e];Fe.type==="glyph"&&executeScript(Fe.value)}let xe=[],$e=null;if(selectedSubComponentOnDragging.value?(xe=getJoints(selectedComponentOnDragging?.value,selectedSubComponentOnDragging.value.uuid),$e=selectedSubComponentOnDragging.value.value):selectedComponentOnDragging?.value&&(xe=getJoints(selectedComponentOnDragging?.value,selectedComponentOnDragging?.value.uuid),$e=selectedComponentOnDragging?.value?.value),!$e||!$e._o)return;oe=[],j=getCoord(he.offsetX),re=getCoord(he.offsetY);const Ne=20;if(checkJoints.value)for(let _e=0;_e<xe.length;_e++){const{x:Fe,y:Ue}=xe[_e];distance(Fe,Ue,j,re)<=Ne&&(draggingJoint.value=xe[_e],$e._o.onSkeletonDragStart&&$e._o.onSkeletonDragStart({draggingJoint:draggingJoint.value,deltaX:0,deltaY:0}))}setEditing(!0),$=!0,L=getCoord(he.offsetX),z=getCoord(he.offsetY);const Oe=getOrigin();e=Oe.ox,r=Oe.oy,g=selectedSubComponentOnDragging.value?selectedSubComponentOnDragging.value.ox:selectedComponentOnDragging.value.ox,y=selectedSubComponentOnDragging.value?selectedSubComponentOnDragging.value.oy:selectedComponentOnDragging.value.oy,window.addEventListener("mouseup",ue)},de=he=>{const xe=getCoord(he.offsetX)-L,$e=getCoord(he.offsetY)-z;let Ne=null;if(editGlyphOnDragging.value&&selectedSubComponentOnDragging.value?Ne=selectedSubComponentOnDragging.value.value:editGlyphOnDragging.value&&selectedComponentOnDragging?.value?Ne=selectedComponentOnDragging?.value?.value:!editGlyphOnDragging.value&&selectedSubComponent$1.value?Ne=selectedSubComponent$1.value.value:!editGlyphOnDragging.value&&selectedComponent$1?.value&&(Ne=selectedComponent$1?.value?.value),V=!0,$)if(draggingJoint.value)if(Ne._o?.onSkeletonDrag)Ne._o.onSkeletonDrag({draggingJoint:draggingJoint.value,deltaX:xe,deltaY:$e}),emitter.emit("renderGlyph");else if(putAtCoord.value={x:e+draggingJoint.value.x+xe,y:r+draggingJoint.value.y+$e},selectedSubComponentOnDragging.value){addScript();for(let Oe=0;Oe<editGlyphOnDragging.value.components.length;Oe++)editGlyphOnDragging.value.components[Oe].uuid===selectedComponentUUID$1.value&&(editGlyphOnDragging.value.components[Oe].ox=g+xe,editGlyphOnDragging.value.components[Oe].oy=y+$e)}else{addScript();for(let Oe=0;Oe<editGlyphOnDragging.value.components.length;Oe++)editGlyphOnDragging.value.components[Oe].uuid===selectedComponentUUID$1.value&&(editGlyphOnDragging.value.components[Oe].ox=g+xe,editGlyphOnDragging.value.components[Oe].oy=y+$e)}else if(putAtCoord.value={x:e+xe+1e3/2,y:r+$e+1e3/2},selectedSubComponentOnDragging.value)addScript(),modifySubComponent$1({ox:g+xe,oy:y+$e});else{for(let Oe=0;Oe<editGlyphOnDragging.value.components.length;Oe++)editGlyphOnDragging.value.components[Oe].uuid===selectedComponentUUID$1.value&&(editGlyphOnDragging.value.components[Oe].ox=g+xe,editGlyphOnDragging.value.components[Oe].oy=y+$e);emitter.emit("renderGlyph")}else if(checkJoints.value){let Oe=[];if(selectedSubComponent$1.value?Oe=getJoints(selectedComponent$1?.value,selectedSubComponent$1.value.uuid):selectedComponent$1?.value&&(Oe=getJoints(selectedComponent$1?.value,selectedComponent$1?.value.uuid)),!Ne)return;const _e=10;let Fe=!1;const Ue=getCoord(he.offsetX),kt=getCoord(he.offsetY);for(let Lt=0;Lt<Oe.length;Lt++){const{x:wn,y:Et}=Oe[Lt];distance(wn,Et,Ue,kt)<=_e&&(movingJoint.value=Oe[Lt],Fe=!0)}!Fe&&(movingJoint.value=null)}},ue=he=>{let xe=null;selectedSubComponentOnDragging.value?xe=selectedSubComponentOnDragging.value.value:selectedComponentOnDragging?.value&&(xe=selectedComponentOnDragging?.value?.value);const $e=getCoord(he.offsetX)-L,Ne=getCoord(he.offsetY)-z;xe._o?.onSkeletonDragEnd&&$&&xe._o.onSkeletonDragEnd({draggingJoint:draggingJoint.value,deltaX:$e,deltaY:Ne}),window.removeEventListener("mouseup",ue),setEditing(!1),V&&addScript(oe),$=!1,V=!1,j=-1,re=-1,L=0,z=0,putAtCoord.value=null,draggingJoint.value=null,editGlyph.value.glyph_script=clone$1(editGlyphOnDragging.value.glyph_script),editGlyph.value.components=clone$1(editGlyphOnDragging.value.components),editGlyphOnDragging.value=null,emitter.emit("renderPreviewCanvasByUUIDOnEditing",editGlyph.value.uuid)};return n.addEventListener("mousedown",ae),n.addEventListener("mousemove",de),()=>{n.removeEventListener("mousedown",ae),n.removeEventListener("mousemove",de),editGlyphOnDragging.value=null,setEditing(!1)}},renderGlyphSelector=(n,e=!1)=>{let r=null,g=null;if(editGlyphOnDragging.value&&selectedSubComponentOnDragging.value?(r=selectedSubComponentOnDragging.value.value,g=selectedSubComponentOnDragging.value):editGlyphOnDragging.value&&selectedComponentOnDragging?.value?(r=selectedComponentOnDragging?.value?.value,g=selectedComponentOnDragging.value):!editGlyphOnDragging.value&&selectedSubComponent$1.value?(r=selectedSubComponent$1.value.value,g=selectedSubComponent$1.value):!editGlyphOnDragging.value&&selectedComponent$1?.value&&(r=selectedComponent$1?.value?.value,g=selectedComponent$1.value),!r)return;getOrigin();let y=getJoints(g,g.uuid);const k=L=>{for(let z=0;z<y.length;z++)if(y[z].name===L)return y[z];return{x:0,y:0}};getBound(y);const $=5,V=n.getContext("2d");if(movingJoint.value&&checkJoints.value){const{x:z,y:j}=k(movingJoint.value.name),re=mapCanvasX(z),oe=mapCanvasY(j);V.fillStyle="red",V.fillRect(re-10,oe-10,2*10,2*10)}if(draggingJoint.value&&checkJoints.value){const{x:L,y:z}=k(draggingJoint.value.name),j=10,re=mapCanvasX(L),oe=mapCanvasY(z);V.fillStyle="red",V.fillRect(re-j,oe-j,2*j,2*j)}if(putAtCoord.value&&putAtCoord.value.id){const{x:L,y:z}=putAtCoord.value,j=mapCanvasX(L),re=mapCanvasY(z);V.fillStyle="red",V.fillRect(j-$,re-$,2*$,2*$)}},getOrigin=()=>{if(selectedSubComponentOnDragging.value){let{ox:n,oy:e}=selectedComponentOnDragging.value,r=selectedComponentOnDragging.value;for(let g=1;g<editGlyphOnDragging.value.selectedComponentsTree.length;g++){const y=editGlyphOnDragging.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}else if(selectedSubComponent$1.value){let{ox:n,oy:e}=selectedComponent$1.value,r=selectedComponent$1.value;for(let g=1;g<editGlyph.value.selectedComponentsTree.length;g++){const y=editGlyph.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:editGlyphOnDragging.value?selectedComponentOnDragging.value.ox:selectedComponent$1.value.ox,oy:editGlyphOnDragging.value?selectedComponentOnDragging.value.oy:selectedComponent$1.value.oy}},getOrigin2=()=>{if(selectedSubComponentOnDragging.value){let{ox:n,oy:e}=selectedComponentOnDragging.value,r=selectedComponentOnDragging.value;for(let g=1;g<editGlyphOnDragging.value.selectedComponentsTree.length-1;g++){const y=editGlyphOnDragging.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}else if(selectedSubComponent$1.value){let{ox:n,oy:e}=selectedComponent$1.value,r=selectedComponent$1.value;for(let g=1;g<editGlyph.value.selectedComponentsTree.length-1;g++){const y=editGlyph.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:editGlyphOnDragging.value?selectedComponentOnDragging.value.ox:selectedComponent$1.value.ox,oy:editGlyphOnDragging.value?selectedComponentOnDragging.value.oy:selectedComponent$1.value.oy}},_hoisted_1$x={class:"edit-panel-wrapper"},_hoisted_2$v={class:"canvas-wrapper"},_hoisted_3$g=["width","height"],_hoisted_4$d=["width","height"],width=1e3,height=1e3,_sfc_main$y=defineComponent({__name:"GlyphEditPanel",setup(n){const e=ref(!1);let r=null,g=null;const y=ref(null),k=ref(null);onMounted(async()=>{document.addEventListener("keydown",$),tempScript(editGlyph.value),editStatus.value=Status.Glyph,executeScript(editGlyph.value);const j=y.value;j.style.width=`${500*editGlyph.value.view.zoom/100}px`,j.style.height=`${500*editGlyph.value.view.zoom/100}px`,grid.precision=20,setCanvas(j),e.value=!0,L(),z(),emitter.on("renderGlyph",()=>{z(),V()}),emitter.on("renderGlyph_forceUpdate",()=>{const re=editGlyph.value._o?editGlyph.value._o:new CustomGlyph(editGlyph.value);renderGlyph(re,canvas.value,!0,!1,!1,!0)}),emitter.on("updateGlyphView",()=>{const re=canvas.value;re.style.width=`${500*editGlyph.value.view.zoom/100}px`,re.style.height=`${500*editGlyph.value.view.zoom/100}px`}),await nextTick(),selectedComponentUUID$1.value&&selectedComponent$1.value.type==="glyph"&&setTool("glyphDragger")});const $=j=>{const re=navigator.userAgent.includes("Mac");(re&&j.metaKey&&j.key==="z"||!re&&j.ctrlKey&&j.key==="z")&&(j.shiftKey?redo$2():undo$2(),j.preventDefault())};onUnmounted(()=>{scripts_map.value={},emitter.off("renderGlyph"),emitter.off("renderGlyph_forceUpdate"),emitter.off("updateGlyphView"),document.removeEventListener("keydown",$),clearState(),editing$1.value=!1,r&&r(),g&&g(),setTool("")});const V=()=>{editGlyphOnDragging.value?(checkJoints.value&&(selectedSubComponentOnDragging.value?renderJoints(selectedSubComponentOnDragging.value,canvas.value):SubComponentsRootOnDragging.value?renderJoints(SubComponentsRootOnDragging.value,canvas.value):selectedComponentOnDragging.value&&renderJoints(selectedComponentOnDragging.value,canvas.value)),checkRefLines.value&&(selectedSubComponentOnDragging.value?renderRefLines(selectedSubComponentOnDragging.value,canvas.value):SubComponentsRootOnDragging.value?renderRefLines(SubComponentsRootOnDragging.value,canvas.value):selectedComponentOnDragging.value&&renderRefLines(selectedComponentOnDragging.value,canvas.value))):(checkJoints.value&&(selectedSubComponent$1.value?renderJoints(selectedSubComponent$1.value,canvas.value):SubComponentsRoot$1.value?renderJoints(SubComponentsRoot$1.value,canvas.value):selectedComponent$1.value&&selectedComponent$1.value!=="multi"&&renderJoints(selectedComponent$1.value,canvas.value)),checkRefLines.value&&(selectedSubComponent$1.value?renderRefLines(selectedSubComponent$1.value,canvas.value):SubComponentsRoot$1.value?renderRefLines(SubComponentsRoot$1.value,canvas.value):selectedComponent$1.value&&selectedComponent$1.value!=="multi"&&renderRefLines(selectedComponent$1.value,canvas.value))),draggingJoint.value&&renderGlyphSelector(canvas.value)},L=()=>{switch(r&&r(),tool.value){case"pen":r=initPen(canvas.value,!0);break;case"select":r=initSelect(canvas.value,10,!0);break;case"ellipse":r=initEllipse(canvas.value,!0);break;case"rectangle":r=initRectangle(canvas.value,!0);break;case"polygon":r=initPolygon(canvas.value,!0);break;case"translateMover":r=initTranslateMover(canvas.value,!0);break;case"coordsViewer":r=initCoordsViewer(canvas.value,!0);break;case"glyphDragger":r=initGlyphDragger(canvas.value);break}};watch(tool,(j,re)=>{if(e){switch(z(),tool.value){case"select":selectedComponentUUID$1.value&&renderSelectEditor(canvas.value);break;case"glyphDragger":selectedComponentUUID$1.value&&(r=initGlyphDragger(canvas.value),renderGlyphSelector(canvas.value));break}V(),L()}}),watch([editing$1,()=>editGlyph.value.selectedComponentsTree],()=>{selectedSubComponent$1.value&&g?(g(),editing$1.value=!1):editing$1.value&&(g=initLayoutResizer(canvas.value),renderLayoutEditor(canvas.value))},{deep:!0}),watch([()=>selectedComponent$1.value?.value?.layout,()=>SubComponentsRoot$1.value?.value?.layout],()=>{z(),editing$1.value&&(selectedComponent$1.value||SubComponentsRoot$1.value)&&renderLayoutEditor(canvas.value),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),V(),emitter.emit("renderGlyphPreviewCanvasByUUIDOnEditing",editGlyph.value.uuid)},{deep:!0}),watch([background$1,grid,fontRenderStyle],()=>{z()}),watch([editGlyph],()=>{if(!editGlyph.value||!e)return;const j=canvas.value;j.width=mapCanvasWidth(1e3),j.height=mapCanvasHeight(1e3),j.style.width=`${500*editGlyph.value.view.zoom/100}px`,j.style.height=`${500*editGlyph.value.view.zoom/100}px`,setCanvas(j),z(),V(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),emitter.emit("renderGlyphPreviewCanvasByUUIDOnEditing",editGlyph.value.uuid)}),watch([points$1,editing$7],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$7.value&&renderPenEditor(canvas.value)}),watch([points,editing$6],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$6.value&&renderPolygonEditor(points,canvas.value)}),watch([ellipseX,ellipseY,radiusX,radiusY,editing$4],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$4.value&&renderEllipseEditor(canvas.value)}),watch([rectX,rectY,rectWidth,rectHeight,editing$5],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$5.value&&renderRectangleEditor(canvas.value)}),watch([editing,draggingJoint,putAtCoord,movingJoint],()=>{z(),V(),renderGlyphSelector(canvas.value),editing.value}),watch([selectedComponentUUID$1,componentsForCurrentGlyph,selectedComponent$1],()=>{editing$1.value=!1,z(),selectedComponentUUID$1.value&&(tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),V(),emitter.emit("renderGlyphPreviewCanvasByUUIDOnEditing",editGlyph.value.uuid))}),watch([onPenEditMode],()=>{r&&r(),onPenEditMode&&tool.value==="select"&&L()}),watch([selectAnchor,selectPenPoint,hoverPenPoint],()=>{tool.value==="select"&&(z(),renderSelectEditor(canvas.value))});const z=()=>{if(editGlyphOnDragging.value){const j=editGlyphOnDragging.value._o?editGlyphOnDragging.value._o:new CustomGlyph(editGlyphOnDragging.value);renderGlyph(j,canvas.value,!0,!1,!1)}else{const j=editGlyph.value._o?editGlyph.value._o:new CustomGlyph(editGlyph.value);renderGlyph(j,canvas.value,!0,!1,!1)}};return(j,re)=>(openBlock(),createElementBlock("section",_hoisted_1$x,[createBaseVNode("main",_hoisted_2$v,[createBaseVNode("div",{class:"edit-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="edit"?"flex":"none"})},[createBaseVNode("canvas",{ref_key:"editCanvas",ref:y,class:normalizeClass({"edit-canvas-panel":!0,"pen-on-edit":unref(tool)==="pen","rectangle-on-edit":unref(tool)==="rectangle","ellipse-on-edit":unref(tool)==="ellipse","polygon-on-edit":unref(tool)==="polygon","rotate-left-top":unref(selectControl$2)==="rotate-left-top","rotate-right-top":unref(selectControl$2)==="rotate-right-top","rotate-left-bottom":unref(selectControl$2)==="rotate-left-bottom","rotate-right-bottom":unref(selectControl$2)==="rotate-right-bottom","scale-left-top":unref(selectControl$2)==="scale-left-top"||unref(selectControl)==="scale-left-top","scale-right-top":unref(selectControl$2)==="scale-right-top"||unref(selectControl)==="scale-right-top","scale-left-bottom":unref(selectControl$2)==="scale-left-bottom"||unref(selectControl)==="scale-left-bottom","scale-right-bottom":unref(selectControl$2)==="scale-right-bottom"||unref(selectControl)==="scale-right-bottom","on-translate-move":unref(tool)==="translateMover"}),style:normalizeStyle({transform:`translate3d(${unref(editGlyph).view.translateX}px, ${unref(editGlyph).view.translateY}px, 0px)`}),width:unref(mapCanvasWidth)(width),height:unref(mapCanvasHeight)(height)},null,14,_hoisted_3$g)],4),createBaseVNode("div",{class:"preview-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="preview"?"flex":"none"})},[createBaseVNode("canvas",{ref_key:"previewCanvas",ref:k,class:"preview-canvas-panel",width:unref(mapCanvasWidth)(width),height:unref(mapCanvasHeight)(height)},null,8,_hoisted_4$d)],4)])]))}}),GlyphEditPanel=_export_sfc(_sfc_main$y,[["__scopeId","data-v-a4f863c2"]]),_hoisted_1$w={class:"font-edit-pic-wrapper"},_hoisted_2$u={class:"top-bar"},_hoisted_3$f={class:"main"},_hoisted_4$c={class:"canvas-list-outer-wrapper"},_hoisted_5$a={class:"canvas-wrapper"},_hoisted_6$9=["width","height"],_hoisted_7$9={class:"canvas-wrapper"},_hoisted_8$9=["width","height"],_hoisted_9$9={class:"canvas-wrapper"},_hoisted_10$9=["width","height"],_hoisted_11$8={class:"canvas-wrapper"},_hoisted_12$7=["width","height"],_hoisted_13$7={class:"canvas-wrapper"},_hoisted_14$7=["width","height"],_hoisted_15$5={class:"canvas-wrapper"},_hoisted_16$5=["width","height"],_sfc_main$x=defineComponent({__name:"ThumbnailEditPanel",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(null),k=ref(null),$=ref(null),V=ref(null),L=ref(null),z=ref(null),j=["thumbnail","bitmap","contours","curves","preview"],re=()=>{const Et=document.querySelector(".canvas-list-outer-wrapper"),xn=Et.offsetWidth,jt=Et.offsetHeight;listWidth.value=xn;const An=selectedFile.value.width,Dn=selectedFile.value.height;document.querySelectorAll(".canvas-wrapper").forEach(Hn=>{Hn.style.width=`${xn/2}px`});const Bn=editCharacterPic.value.width,$n=editCharacterPic.value.height;let Wn=xn/2>An?An:xn/2,Gn=Wn*Dn/An;Gn>jt&&(Gn=jt,Wn=Gn*An/Dn);let Nn=xn/2>An?An:xn/2,Zn=Nn*$n/Bn;Zn>jt&&(Zn=jt,Nn=Zn*Bn/$n),y.value.style.width=`${Wn}px`,y.value.style.height=`${Gn}px`,k.value.style.width=`${Wn}px`,k.value.style.height=`${Gn}px`,L.value.style.width=`${Wn}px`,L.value.style.height=`${Gn}px`,z.value.style.width=`${Wn}px`,z.value.style.height=`${Gn}px`,$.value.width=mapCanvasWidth(Bn),$.value.height=mapCanvasHeight($n),$.value.style.width=`${Nn}px`,$.value.style.height=`${Zn}px`,$.value.height=mapCanvasHeight($n),V.value.width=mapCanvasWidth(Bn),V.value.height=mapCanvasHeight($n),V.value.style.width=`${Nn}px`,V.value.style.height=`${Zn}px`},oe=()=>{if(step.value===1&&enableLocalBrush.value){let Et="";g.value==="zh"?Et="":g.value==="en"&&(Et="In editing, try it later."),ElMessage(Et);return}previewStatus.value=previewStatus.value<=0?j.length-1:previewStatus.value-1},ae=()=>{if(step.value===1&&enableLocalBrush.value){let Et="";g.value==="zh"?Et="":g.value==="en"&&(Et="In editing, try it later."),ElMessage(Et);return}previewStatus.value=previewStatus.value>=j.length-1?0:previewStatus.value+1},de=()=>{const Et=$.value.getContext("2d"),{img:xn,width:jt,height:An}=editCharacterPic.value,Dn=xn;Et.drawImage(Dn,0,0,Dn.width,Dn.height,0,0,mapCanvasWidth(jt),mapCanvasWidth(An))},ue=()=>{const Et=V.value.getContext("2d"),{data:xn,width:jt,height:An}=bitmap.value;for(let Dn=0;Dn<jt;Dn++)for(let En=0;En<An;En++){const Bn=(En*jt+Dn)*4,$n=`rgba(${xn[Bn]}, ${xn[Bn+1]}, ${xn[Bn]+2}, ${xn[Bn+3]})`;Et.fillStyle=$n,Et.fillRect(mapCanvasX(Dn),mapCanvasY(En),mapCanvasWidth(1),mapCanvasHeight(1))}},pe=()=>{const Et=contoursComponents.value.map(xn=>{const jt=clone$1(xn);return jt.value.fillColor="rgba(1, 1, 1, 0)",jt});clearCanvas(L.value),renderCanvas(Et,L.value)},he=()=>{const Et=curvesComponents.value.map(xn=>{const jt=clone$1(xn);return jt.value.fillColor="rgba(1, 1, 1, 0)",jt});clearCanvas(z.value),renderCanvas(Et,z.value)},xe=()=>{clearCanvas(y.value),renderCanvas(curvesComponents.value,y.value),clearCanvas(k.value),renderCanvas(curvesComponents.value,k.value,{fill:!0,offset:{x:0,y:0},scale:1,forceUpdate:!1})},$e=()=>{xe(),de(),ue(),pe(),he()},Ne=()=>{de();const xn=$.value.getContext("2d");xn.strokeStyle="black",xn.strokeRect(mapCanvasX(localBrushX.value),mapCanvasY(localBrushY.value),mapCanvasWidth(localBrushSize.value),mapCanvasHeight(localBrushSize.value))};onMounted(()=>{re(),window.addEventListener("resize",re),$e()}),watch([editCharacterPic],()=>{de()}),watch([bitmap],()=>{ue()}),watch([contoursComponents],()=>{pe()}),watch([curvesComponents],()=>{he(),xe()});const Oe=Et=>{const xn=$.value,jt=Number(xn.style.width.split("px")[0]),An=Number(xn.style.height.split("px")[0]),Dn=editCharacterPic.value.width,En=editCharacterPic.value.height;localBrushX.value=Math.round(Et.offsetX*Dn/jt),localBrushY.value=Math.round(Et.offsetY*En/An);const{thumbnailCanvas:Bn,thumbnailPixels:$n,processPixels:Wn}=editCharacterPic.value,Gn=Bn.width,Nn=Bn.height,Zn=toBlackWhiteBitMap($n,{r:localRThreshold.value,g:localGThreshold.value,b:localBThreshold.value},{x:localBrushX.value,y:localBrushY.value,size:localBrushSize.value,width:Gn,height:Nn}),Hn=clone$1(Wn);for(let rr=localBrushX.value;rr<localBrushX.value+localBrushSize.value;rr++)for(let Xn=localBrushY.value;Xn<localBrushY.value+localBrushSize.value;Xn++){const Pn=(Xn*Gn+rr)*4;Hn[Pn]=Zn[Pn],Hn[Pn+1]=Zn[Pn+1],Hn[Pn+2]=Zn[Pn+2],Hn[Pn+3]=Zn[Pn+3]}setTimeout(()=>{const rr=V.value.getContext("2d");for(let Xn=0;Xn<Gn;Xn++)for(let Pn=0;Pn<Nn;Pn++){const jn=(Pn*Gn+Xn)*4,fr=`rgba(${Hn[jn]}, ${Hn[jn+1]}, ${Hn[jn]+2}, ${Hn[jn+3]})`;rr.fillStyle=fr,rr.fillRect(mapCanvasX(Xn),mapCanvasY(Pn),mapCanvasWidth(1),mapCanvasHeight(1))}},10),Ne(),Fe&&Ue()},_e=()=>{Fe=!1,window.removeEventListener("mouseup",_e)};let Fe=!1;const Ue=()=>{Fe=!0;const{thumbnailCanvas:Et,thumbnailPixels:xn,processPixels:jt}=editCharacterPic.value,An=Et.width,Dn=Et.height,En=toBlackWhiteBitMap(xn,{r:localRThreshold.value,g:localGThreshold.value,b:localBThreshold.value},{x:localBrushX.value,y:localBrushY.value,size:localBrushSize.value,width:An,height:Dn});for(let Bn=localBrushX.value;Bn<localBrushX.value+localBrushSize.value;Bn++)for(let $n=localBrushY.value;$n<localBrushY.value+localBrushSize.value;$n++){const Wn=($n*An+Bn)*4;jt[Wn]=En[Wn],jt[Wn+1]=En[Wn+1],jt[Wn+2]=En[Wn+2],jt[Wn+3]=En[Wn+3]}setBitMap({data:jt,width:An,height:Dn}),window.addEventListener("mouseup",_e)};emitter.on("toggleLocalBrushEdit",Et=>{const xn=$.value;Et?(document.addEventListener("mousemove",Oe),xn.addEventListener("mousedown",Ue),$e()):(document.removeEventListener("mousemove",Oe),xn.removeEventListener("mousedown",Ue),$e())}),onBeforeUnmount(()=>{window.removeEventListener("resize",re)});const kt=async()=>{const Et=curvesComponents.value;prevEditStatus.value===Status.Edit?(addComponentsForCharacterFile(editCharacterFileUUID.value,Et),emitter.emit("renderPreviewCanvasByUUID",editCharacterFileUUID.value),Lt(),setEditStatus(Status.Edit),await nextTick(),resetEditPic()):prevEditStatus.value===Status.Glyph&&(addComponentsForGlyph(editGlyphUUID.value,Et),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyphUUID.value),Lt(),setEditStatus(Status.Glyph),await nextTick(),resetEditPic())},Lt=()=>{enableLocalBrush.value=!1,rThreshold.value=128,gThreshold.value=128,bThreshold.value=128,emitter.emit("resetEditFontPic",!0)},wn=()=>{resetEditPic(),setEditStatus(Status.Edit)};return(Et,xn)=>{const jt=resolveComponent("el-button"),An=resolveComponent("el-button-group"),Dn=resolveComponent("el-icon");return openBlock(),createElementBlock("div",_hoisted_1$w,[createBaseVNode("header",_hoisted_2$u,[createVNode(An,{class:"btn-group"},{default:withCtx(()=>[createVNode(jt,{class:"btn delete-btn",onPointerdown:wn,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.remove")),1)]),_:1}),createVNode(jt,{class:"btn reset-btn",onPointerdown:Lt,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.reset")),1)]),_:1}),createVNode(jt,{type:"primary",class:"btn confitm-btn",onPointerdown:kt,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.confirm")),1)]),_:1})]),_:1})]),createBaseVNode("main",_hoisted_3$f,[createBaseVNode("div",{class:"left-mover",onPointerdown:oe},[createVNode(Dn,null,{default:withCtx(()=>[createVNode(unref(arrow_left_bold_default))]),_:1})],32),createBaseVNode("div",_hoisted_4$c,[createBaseVNode("div",{class:"canvas-list-wrapper",style:normalizeStyle({left:`${-unref(previewStatus)*unref(listWidth)/2}px`})},[createBaseVNode("div",_hoisted_5$a,[createBaseVNode("canvas",{class:"preview canvas",ref_key:"previewCanvas1",ref:y,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_6$9)]),createBaseVNode("div",_hoisted_7$9,[createBaseVNode("canvas",{class:"thumbnail canvas",ref_key:"thumbnailCanvas",ref:$,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_8$9)]),createBaseVNode("div",_hoisted_9$9,[createBaseVNode("canvas",{class:"bitmap canvas",ref_key:"bitmapCanvas",ref:V,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_10$9)]),createBaseVNode("div",_hoisted_11$8,[createBaseVNode("canvas",{class:"contours canvas",ref_key:"contoursCanvas",ref:L,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_12$7)]),createBaseVNode("div",_hoisted_13$7,[createBaseVNode("canvas",{class:"curves canvas",ref_key:"curvesCanvas",ref:z,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_14$7)]),createBaseVNode("div",_hoisted_15$5,[createBaseVNode("canvas",{class:"preview canvas",ref_key:"previewCanvas2",ref:k,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_16$5)])],4)]),createBaseVNode("div",{class:"right-mover",onPointerdown:ae},[createVNode(Dn,null,{default:withCtx(()=>[createVNode(unref(arrow_right_bold_default))]),_:1})],32)])])}}}),ThumbnailEditPanel=_export_sfc(_sfc_main$x,[["__scopeId","data-v-8e531351"]]),_hoisted_1$v={class:"font-panel"},_hoisted_2$t={class:"font-panel-empty"},_hoisted_3$e={class:"float-part"},_hoisted_4$b={class:"list-switch"},_sfc_main$w=defineComponent({__name:"FontMainPanel",setup(n){const{t:e}=useI18n();return(r,g)=>(openBlock(),createElementBlock("main",_hoisted_1$v,[withDirectives(createBaseVNode("div",_hoisted_2$t,null,512),[[vShow,!unref(selectedFile)]]),withDirectives(createVNode(_sfc_main$G,{class:"character-list"},null,512),[[vShow,unref(selectedFile)]]),withDirectives(createBaseVNode("div",_hoisted_3$e,[withDirectives(createVNode(_sfc_main$E,{class:"stroke-glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).StrokeGlyphList]]),withDirectives(createVNode(_sfc_main$D,{class:"radical-glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).RadicalGlyphList]]),withDirectives(createVNode(_sfc_main$C,{class:"comp-glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).CompGlyphList]]),withDirectives(createVNode(_sfc_main$F,{class:"glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).GlyphList]]),unref(selectedFile)&&unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(EditPanel,{key:0})):unref(selectedFile)&&unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(GlyphEditPanel,{key:1})):unref(selectedFile)&&unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(ThumbnailEditPanel,{key:2})):createCommentVNode("",!0)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(selectedFile)]]),withDirectives(createBaseVNode("div",_hoisted_4$b,[createBaseVNode("span",{class:normalizeClass(["character-list",{selected:unref(editStatus)===unref(Status).CharacterList}]),onPointerdown:g[0]||(g[0]=y=>editStatus.value=unref(Status).CharacterList)},toDisplayString$1(unref(e)("programming.character")),35),createBaseVNode("span",{class:normalizeClass(["stroke-glyph-list",{selected:unref(editStatus)===unref(Status).StrokeGlyphList}]),onPointerdown:g[1]||(g[1]=y=>editStatus.value=unref(Status).StrokeGlyphList)},toDisplayString$1(unref(e)("programming.stroke")),35),createBaseVNode("span",{class:normalizeClass(["radical-glyph-list",{selected:unref(editStatus)===unref(Status).RadicalGlyphList}]),onPointerdown:g[2]||(g[2]=y=>editStatus.value=unref(Status).RadicalGlyphList)},toDisplayString$1(unref(e)("programming.radical")),35),createBaseVNode("span",{class:normalizeClass(["comp-glyph-list",{selected:unref(editStatus)===unref(Status).CompGlyphList}]),onPointerdown:g[3]||(g[3]=y=>editStatus.value=unref(Status).CompGlyphList)},toDisplayString$1(unref(e)("programming.comp")),35),createBaseVNode("span",{class:normalizeClass(["glyph-list",{selected:unref(editStatus)===unref(Status).GlyphList}]),onPointerdown:g[4]||(g[4]=y=>editStatus.value=unref(Status).GlyphList)},toDisplayString$1(unref(e)("programming.glyph_comp")),35)],512),[[vShow,unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).CompGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).CharacterList]])]))}}),FontPanel=_export_sfc(_sfc_main$w,[["__scopeId","data-v-dc007d71"]]),_hoisted_1$u={class:"form-wrapper"},_hoisted_2$s={class:"dialog-footer"},_sfc_main$v=defineComponent({__name:"AddTextDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setAddTextDialogVisible(!1)},$=()=>{if(!y.value){let L="";g.value==="zh"?L="":g.value==="en"&&(L="Please input character's name."),ElMessage(L);return}if(y.value&&y.value.length>1){let L="";g.value==="zh"?L="":g.value==="en"&&(L="Please input a single character."),ElMessage(L);return}y.value.split("").map(L=>{const z={uuid:genUUID(),text:L,unicode:toUnicode(L),components:[]},j=genUUID(),re={uuid:j,type:"text",character:z,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},info:{gridSettings:{dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},useSkeletonGrid:!1,layout:"",layoutTree:[]},script:`function script_${j.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`};addCharacterForCurrentFile(re),addCharacterTemplate(generateCharacterTemplate(re))}),y.value="",setAddTextDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(addTextDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(addTextDialogVisible)?addTextDialogVisible.value=de:null),title:unref(e)("dialogs.addTextDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$s,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addTextDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addTextDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$u,[createVNode(re,{label:unref(e)("dialogs.addTextDialog.title")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$t={class:"form-wrapper"},_hoisted_2$r={class:"dialog-footer"},_sfc_main$u=defineComponent({__name:"editGlyphDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setEditGlyphDialogVisible(!1)},$=()=>{if(!y.value){let L="";g.value==="zh"?L="":g.value==="en"&&(L="Please input glyph's name."),ElMessage(L);return}modifyGlyph(editedGlyphUUID.value,{name:y.value}),emitter.emit("updateGlyphInfoPreviewCanvasByUUID",editedGlyphUUID.value),y.value="",setEditGlyphDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(editGlyphDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(editGlyphDialogVisible)?editGlyphDialogVisible.value=de:null),title:unref(e)("dialogs.editGlyphDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$r,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.editGlyphDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyGlyphDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$t,[createVNode(re,{label:unref(e)("dialogs.editGlyphDialog.glyphName")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$s={class:"form-wrapper"},_hoisted_2$q={class:"dialog-footer"},_sfc_main$t=defineComponent({__name:"copyGlyphDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setCopyGlyphDialogVisible(!1)},$=()=>{if(!y.value){let re="";g.value==="zh"?re="":g.value==="en"&&(re="Please input glyph's name."),ElMessage(re);return}let L=clone$1(getGlyphByUUID(copiedGlyphUUID.value));const z=L.uuid,j=genUUID();L.uuid=j,L.name=y,L.script=L.script.replaceAll(z.replaceAll("-","_"),j.replaceAll("-","_")),addGlyph(L,editStatus.value),addGlyphTemplate(L,editStatus.value),emitter.emit("renderPreviewCanvasByUUID",L.uuid),y.value="",setCopyGlyphDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(copyGlyphDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(copyGlyphDialogVisible)?copyGlyphDialogVisible.value=de:null),title:unref(e)("dialogs.copyGlyphDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$q,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyGlyphDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyGlyphDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$s,[createVNode(re,{label:unref(e)("dialogs.copyGlyphDialog.glyphName")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$r={class:"form-wrapper"},_hoisted_2$p={class:"dialog-footer"},_sfc_main$s=defineComponent({__name:"editCharacterDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setEditCharacterDialogVisible(!1)},$=()=>{if(!y.value){let z="";g.value==="zh"?z="":g.value==="en"&&(z="Please input character's name."),ElMessage(z);return}if(y.value&&y.value.length>1){let z="";g.value==="zh"?z="":g.value==="en"&&(z="Please input a single character."),ElMessage(z);return}const L={uuid:genUUID(),text:y.value,unicode:toUnicode(y.value),components:[]};modifyCharacterFile(editedCharacterUUID.value,{character:L}),emitter.emit("updateCharacterInfoPreviewCanvasByUUID",editedCharacterUUID.value),y.value="",setEditCharacterDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(editCharacterDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(editCharacterDialogVisible)?editCharacterDialogVisible.value=de:null),title:unref(e)("dialogs.editCharacterDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$p,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.editCharacterDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.editCharacterDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$r,[createVNode(re,{label:unref(e)("dialogs.editCharacterDialog.title")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$q={class:"form-wrapper"},_hoisted_2$o={class:"dialog-footer"},_sfc_main$r=defineComponent({__name:"copyCharacterDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setCopyCharacterDialogVisible(!1)},$=()=>{if(!y.value){let z="";g.value==="zh"?z="":g.value==="en"&&(z="Please input character's name."),ElMessage(z);return}if(y.value&&y.value.length>1){let z="";g.value==="zh"?z="":g.value==="en"&&(z="Please input a single character."),ElMessage(z);return}let L=null;for(let z=0;z<selectedFile.value.characterList.length;z++)if(selectedFile.value.characterList[z].uuid===copiedCharacterUUID.value){L=clone$1(selectedFile.value.characterList[z]);const j=L.uuid,re=genUUID();L.uuid=re,L.script=L.script.replaceAll(j.replaceAll("-","_"),re.replaceAll("-","_"));const oe={uuid:genUUID(),text:y.value,unicode:toUnicode(y.value),components:[]};L.character=oe;break}addCharacterForCurrentFile(L),addCharacterTemplate(generateCharacterTemplate(L)),emitter.emit("renderPreviewCanvasByUUID",L.uuid),y.value="",setCopyCharacterDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(copyCharacterDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(copyCharacterDialogVisible)?copyCharacterDialogVisible.value=de:null),title:unref(e)("dialogs.copyCharacterDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$o,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyCharacterDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyCharacterDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$q,[createVNode(re,{label:unref(e)("dialogs.copyCharacterDialog.title")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$p={class:"form-wrapper"},_hoisted_2$n={class:"dialog-footer"},_sfc_main$q=defineComponent({__name:"AddGlyphDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setAddGlyphDialogVisible(!1)},$=()=>{if(!y.value){let j="";g.value==="zh"?j="":g.value==="en"&&(j="Please input glyph's name."),ElMessage(j);return}const L=genUUID(),z={uuid:L,type:"system",name:y.value,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},parameters:new ParametersMap([]),joints:[],script:`function script_${L.replaceAll("-","_")} (glyph, constants, FP) {
	//Todo something
}`};addGlyph(z,editStatus.value),addGlyphTemplate(z,editStatus.value),y.value="",setAddGlyphDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(addGlyphDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(addGlyphDialogVisible)?addGlyphDialogVisible.value=de:null),title:unref(e)("dialogs.addGlyphDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$n,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addGlyphDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addGlyphDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$p,[createVNode(re,{label:unref(e)("dialogs.addGlyphDialog.glyphName")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$o={class:"form-wrapper"},_hoisted_2$m={class:"dialog-footer"},_sfc_main$p=defineComponent({__name:"AddIconDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(""),k=()=>{setAddIconDialogVisible(!1)},$=()=>{if(!y.value){let oe="";g.value==="zh"?oe="":g.value==="en"&&(oe="Please input icon's name."),ElMessage(oe);return}const L=selectedFile.value.iconsCount,z={uuid:genUUID(),text:y.value,unicode:toIconUnicode(L),components:[]},j=genUUID(),re={uuid:j,type:"icon",character:z,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},info:{gridSettings:{dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},useSkeletonGrid:!1,layout:"",layoutTree:[]},script:`function script_${j.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`};y.value="",selectedFile.value.iconsCount++,addCharacterForCurrentFile(re),addCharacterTemplate(generateCharacterTemplate(re)),setAddIconDialogVisible(!1)},V=L=>{L.preventDefault(),$()};return(L,z)=>{const j=resolveComponent("el-input"),re=resolveComponent("el-form-item"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(addIconDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=de=>isRef(addIconDialogVisible)?addIconDialogVisible.value=de:null),title:unref(e)("dialogs.addIconDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$m,[createVNode(oe,{onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addIconDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addIconDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$o,[createVNode(re,{label:unref(e)("dialogs.addIconDialog.iconName")},{default:withCtx(()=>[createVNode(j,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=de=>y.value=de),onKeyup:withKeys(V,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$n={class:"dialog-content"},_hoisted_2$l={class:"glyph-header"},_hoisted_3$d={class:"list-switch"},_hoisted_4$a={class:"dialog-footer"},_hoisted_5$9={class:"selected-glyphs-wrapper"},_sfc_main$o=defineComponent({__name:"GlyphComponentsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(Status.StrokeGlyphList),y=new Map;onMounted(async()=>{await nextTick()}),emitter.on("renderGlyphSelection",()=>{$(Status.GlyphList)}),emitter.on("renderStrokeGlyphSelection",()=>{$(Status.StrokeGlyphList)}),emitter.on("renderRadicalGlyphSelection",()=>{$(Status.RadicalGlyphList)}),emitter.on("renderCompGlyphSelection",()=>{$(Status.CompGlyphList)}),emitter.on("renderGlyphSelectionByUUID",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.GlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderStrokeGlyphSelectionByUUID",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.StrokeGlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderRadicalGlyphSelectionByUUID",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.RadicalGlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderCompGlyphSelectionByUUID",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.CompGlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderGlyphSelectionByUUIDOnEditing",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.GlyphList,!0)},1e3);y.set(oe,ae)}),emitter.on("renderStrokeGlyphSelectionByUUIDOnEditing",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.StrokeGlyphList,!0)},1e3);y.set(oe,ae)}),emitter.on("renderRadicalGlyphSelectionByUUIDOnEditing",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.RadicalGlyphList,!0)},1e3);y.set(oe,ae)}),emitter.on("renderCompGlyphSelectionByUUIDOnEditing",oe=>{y.get(oe)&&(clearTimeout(y.get(oe)),y.set(oe,null));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.CompGlyphList,!0)},100);y.set(oe,ae)});const k=(oe,ae,de=!1)=>{let ue=null;de?ue=editGlyph.value:ue=getGlyphByUUID(oe),executeScript(ue),ue?.components?.map($e=>{$e.type==="glyph"&&executeScript($e.value)});let pe=null;ae===Status.GlyphList?pe=document.getElementById("glyph-components-wrapper"):ae===Status.StrokeGlyphList?pe=document.getElementById("stroke-glyph-components-wrapper"):ae===Status.RadicalGlyphList?pe=document.getElementById("radical-glyph-components-wrapper"):ae===Status.CompGlyphList&&(pe=document.getElementById("comp-glyph-components-wrapper"));const he=pe.querySelector(`#preview-canvas-${ue.uuid}`);if(!he)return;const xe=componentsToContours(ue._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(he,xe)},$=oe=>{const ae=de=>{de._o||(executeScript(de),de?.components?.map(xe=>{xe.type==="glyph"&&executeScript(xe.value)}));let ue=null;oe===Status.GlyphList?ue=document.getElementById("glyph-components-wrapper"):oe===Status.StrokeGlyphList?ue=document.getElementById("stroke-glyph-components-wrapper"):oe===Status.RadicalGlyphList?ue=document.getElementById("radical-glyph-components-wrapper"):oe===Status.CompGlyphList&&(ue=document.getElementById("comp-glyph-components-wrapper"));const pe=ue.querySelector(`#preview-canvas-${de.uuid}`);if(!pe)return;const he=componentsToContours(de._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(pe,he),loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1))};if(oe===Status.GlyphList&&glyphs.value&&glyphs.value.length){let de=0;const ue=()=>{ae(glyphs.value[de]),de++,de<glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}else if(oe===Status.StrokeGlyphList&&stroke_glyphs.value&&stroke_glyphs.value.length){let de=0;const ue=()=>{ae(stroke_glyphs.value[de]),de++,de<stroke_glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}else if(oe===Status.RadicalGlyphList&&radical_glyphs.value&&radical_glyphs.value.length){let de=0;const ue=()=>{ae(radical_glyphs.value[de]),de++,de<radical_glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}else if(oe===Status.CompGlyphList&&comp_glyphs.value&&comp_glyphs.value.length){let de=0;const ue=()=>{ae(comp_glyphs.value[de]),de++,de<comp_glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}},V=()=>{glyphComponentsDialogVisible2.value=!1},L=()=>{setGlyphComponentsDialogVisible(!0)},z=oe=>{selected_glyphs.value.map((ae,de)=>{if(ae.uuid===oe){selected_glyphs.value.splice(de,1);return}})},j=()=>{selected_glyphs.value.map(oe=>{re(oe)}),selected_glyphs.value=[],glyphComponentsDialogVisible2.value=!1},re=oe=>{const ae=clone$1(oe);ae.parent_reference=getParentInfo(editStatus.value===Status.Edit?editCharacterFile.value:editGlyph.value),ae.script=null,ae.script_reference=ae.uuid;const de={uuid:genUUID(),type:"glyph",name:oe.name+Date.now().toString().slice(9),lock:!1,visible:!0,value:ae,ox:selectedFile.value.width/2-1e3/2,oy:selectedFile.value.height/2-1e3/2,usedInCharacter:!0};executeScript(de.value),editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(de):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(de),tool.value!=="glyphDragger"&&setTool("glyphDragger")};return(oe,ae)=>{const de=resolveComponent("el-scrollbar"),ue=resolveComponent("el-switch"),pe=resolveComponent("el-button"),he=resolveComponent("el-dialog");return openBlock(),createElementBlock("div",{style:normalizeStyle({zIndex:unref(glyphComponentsDialogVisible2)?2e3:-999}),ref:"dialogContainer"},[createVNode(he,{modelValue:unref(glyphComponentsDialogVisible),"onUpdate:modelValue":ae[5]||(ae[5]=xe=>isRef(glyphComponentsDialogVisible)?glyphComponentsDialogVisible.value=xe:null),title:unref(e)("dialogs.glyphComponentDialog.title"),class:"glyph-components-dialog",onClose:L,width:"800px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_4$a,[createVNode(ue,{modelValue:unref(multi_glyph_selection),"onUpdate:modelValue":ae[4]||(ae[4]=xe=>isRef(multi_glyph_selection)?multi_glyph_selection.value=xe:null),"active-text":unref(e)("dialogs.glyphComponentDialog.multiSelection"),"inactive-text":unref(e)("dialogs.glyphComponentDialog.singleSelection")},null,8,["modelValue","active-text","inactive-text"]),createBaseVNode("div",_hoisted_5$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(selected_glyphs),xe=>(openBlock(),createBlock(pe,{onPointerdown:$e=>z(xe.uuid)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(xe.name),1)]),_:2},1032,["onPointerdown"]))),256))]),createVNode(pe,{disabled:!unref(glyphComponentsDialogVisible2),onPointerdown:V},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.glyphComponentDialog.cancel")),1)]),_:1},8,["disabled"]),createVNode(pe,{disabled:!unref(glyphComponentsDialogVisible2),type:"primary",onPointerdown:j},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.glyphComponentDialog.confirm")),1)]),_:1},8,["disabled"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("span",{class:normalizeClass(["stroke-glyph-list",{selected:g.value===unref(Status).StrokeGlyphList}]),onPointerdown:ae[0]||(ae[0]=xe=>g.value=unref(Status).StrokeGlyphList)},toDisplayString$1(unref(r)("programming.stroke")),35),createBaseVNode("span",{class:normalizeClass(["radical-glyph-list",{selected:g.value===unref(Status).RadicalGlyphList}]),onPointerdown:ae[1]||(ae[1]=xe=>g.value=unref(Status).RadicalGlyphList)},toDisplayString$1(unref(r)("programming.radical")),35),createBaseVNode("span",{class:normalizeClass(["comp-glyph-list",{selected:g.value===unref(Status).CompGlyphList}]),onPointerdown:ae[2]||(ae[2]=xe=>g.value=unref(Status).CompGlyphList)},toDisplayString$1(unref(r)("programming.comp")),35),createBaseVNode("span",{class:normalizeClass(["glyph-list",{selected:g.value===unref(Status).GlyphList}]),onPointerdown:ae[3]||(ae[3]=xe=>g.value=unref(Status).GlyphList)},toDisplayString$1(unref(r)("programming.glyph_comp")),35)])]),createVNode(de,{height:"300px"},{default:withCtx(()=>[createBaseVNode("main",{class:"list",id:"glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).GlyphList?2999:-1e3})},null,4),createBaseVNode("main",{class:"list",id:"stroke-glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).StrokeGlyphList?2999:-1e3})},null,4),createBaseVNode("main",{class:"list",id:"radical-glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).RadicalGlyphList?2999:-1e3})},null,4),createBaseVNode("main",{class:"list",id:"comp-glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).CompGlyphList?2999:-1e3})},null,4)]),_:1})])]),_:1},8,["modelValue","title"])],4)}}}),_hoisted_1$m={class:"dialog-footer"},_sfc_main$n=defineComponent({__name:"FontSettingsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref("untitled"),y=ref(1e3),k=ref(800),$=ref(-200);onMounted(()=>{selectedFile.value&&(g.value=selectedFile.value.name,y.value=selectedFile.value.fontSettings.unitsPerEm,k.value=selectedFile.value.fontSettings.ascender,$.value=selectedFile.value.fontSettings.descender)}),watch([()=>selectedFile.value?.name,()=>selectedFile.value?.fontSettings],()=>{selectedFile.value&&(g.value=selectedFile.value.name,y.value=selectedFile.value.fontSettings.unitsPerEm,k.value=selectedFile.value.fontSettings.ascender,$.value=selectedFile.value.fontSettings.descender)},{deep:!0});const V=()=>{let oe="",ae="Regular";if(g.value!==selectedFile.value.name)for(let de=0;de<name_data.value.length;de++){const ue=name_data.value[de];ue.nameID===1&&ue.langID===2052?ue.value=g.value:ue.nameID===1&&ue.langID===1033?ue.value=getEnName(g.value):ue.nameID===2&&ue.langID===2052?oe=ue.value:ue.nameID===2&&ue.langID===1033?ae=ue.value:ue.nameID===4&&ue.langID===2052?ue.value=g.value+" "+oe:ue.nameID===4&&ue.langID===1033?ue.value=getEnName(g.value)+" "+ae:ue.nameID===6&&ue.langID===2052?ue.value=(getEnName(g.value)+"-"+ae).replace(/\s/g,"").slice(0,63):ue.nameID===6&&ue.langID===1033&&(ue.value=(getEnName(g.value)+"-"+ae).replace(/\s/g,"").slice(0,63))}updateFontSettings({name:g.value,unitsPerEm:y.value,ascender:k.value,descender:$.value}),setFontSettingsDialogVisible(!1)},L=()=>{setFontSettingsDialogVisible(!1)},z=()=>{$.value=k.value-y.value},j=()=>{k.value=y.value+$.value},re=()=>{setFontSettings2DialogVisible(!0),setFontSettingsDialogVisible(!1)};return(oe,ae)=>{const de=resolveComponent("el-input"),ue=resolveComponent("el-form-item"),pe=resolveComponent("el-input-number"),he=resolveComponent("el-form"),xe=resolveComponent("el-button"),$e=resolveComponent("el-dialog");return openBlock(),createBlock($e,{"model-value":unref(fontSettingsDialogVisible),class:"font-settings-dialog",title:unref(e)("dialogs.fontSettingsDialog.title"),width:"320px","before-close":L},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_1$m,[createVNode(xe,{onPointerdown:re},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.moreSettings")),1)]),_:1}),createVNode(xe,{onPointerdown:ae[4]||(ae[4]=Ne=>unref(setFontSettingsDialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.cancel")),1)]),_:1}),createVNode(xe,{type:"primary",onPointerdown:ae[5]||(ae[5]=()=>V())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createVNode(he,{class:"create-file-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("dialogs.fontSettingsDialog.fontName")},{default:withCtx(()=>[createVNode(de,{modelValue:g.value,"onUpdate:modelValue":ae[0]||(ae[0]=Ne=>g.value=Ne)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(ue,{label:"unitsPerEm"},{default:withCtx(()=>[createVNode(pe,{modelValue:y.value,"onUpdate:modelValue":ae[1]||(ae[1]=Ne=>y.value=Ne),precision:0},null,8,["modelValue"])]),_:1}),createVNode(ue,{label:"ascender"},{default:withCtx(()=>[createVNode(pe,{modelValue:k.value,"onUpdate:modelValue":ae[2]||(ae[2]=Ne=>k.value=Ne),precision:0,onChange:z},null,8,["modelValue"])]),_:1}),createVNode(ue,{label:"descender"},{default:withCtx(()=>[createVNode(pe,{modelValue:$.value,"onUpdate:modelValue":ae[3]||(ae[3]=Ne=>$.value=Ne),precision:0,onChange:j},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value","title"])}}}),validators={uint8:n=>typeof n=="number"&&n>=0&&n<=255,int8:n=>typeof n=="number"&&n>=-128&&n<=127,uint16:n=>typeof n=="number",int16:n=>typeof n=="number",uint24:n=>typeof n=="number",uint32:n=>typeof n=="number",int32:n=>typeof n=="number",Fixed:n=>typeof n=="number",FWORD:n=>typeof n=="number",UFWORD:n=>typeof n=="number",LONGDATETIME:n=>{if(typeof n!="number")return!1;const e=(n-2082844800)*1e3;return new Date(e).getTime()>0},Tag:n=>n.length===4},_withScopeId$6=n=>(pushScopeId("data-v-2384f384"),n=n(),popScopeId(),n),_hoisted_1$l={class:"table-item"},_hoisted_2$k=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"majorVersion",-1)),_hoisted_3$c={class:"item-content"},_hoisted_4$9={class:"tips"},_hoisted_5$8={class:"table-item"},_hoisted_6$8=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"minorVersion",-1)),_hoisted_7$8={class:"item-content"},_hoisted_8$8={class:"tips"},_hoisted_9$8={class:"table-item"},_hoisted_10$8=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"fontRevision",-1)),_hoisted_11$7={class:"item-content"},_hoisted_12$6={class:"tips"},_hoisted_13$6={class:"table-item"},_hoisted_14$6=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"flags",-1)),_hoisted_15$4={class:"item-content",style:{flexDirection:"column"}},_hoisted_16$4={class:"flags-item"},_hoisted_17$3={class:"flags-item-checkbox"},_hoisted_18$3=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-0",-1)),_hoisted_19$3={class:"flags-item-description"},_hoisted_20$3={class:"flags-item"},_hoisted_21$3={class:"flags-item-checkbox"},_hoisted_22$3=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-1",-1)),_hoisted_23$3={class:"flags-item-description"},_hoisted_24$3={class:"flags-item"},_hoisted_25$2={class:"flags-item-checkbox"},_hoisted_26$2=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-2",-1)),_hoisted_27$2={class:"flags-item-description"},_hoisted_28$2={class:"flags-item"},_hoisted_29$2={class:"flags-item-checkbox"},_hoisted_30$2=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-3",-1)),_hoisted_31$2={class:"flags-item-description"},_hoisted_32$2={class:"flags-item"},_hoisted_33$2={class:"flags-item-checkbox"},_hoisted_34$2=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-4",-1)),_hoisted_35$2={class:"flags-item-description"},_hoisted_36$1={class:"flags-item"},_hoisted_37$1={class:"flags-item-checkbox"},_hoisted_38$1=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-11",-1)),_hoisted_39$1={class:"flags-item-description"},_hoisted_40$1={class:"flags-item"},_hoisted_41$1={class:"flags-item-checkbox"},_hoisted_42$1=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-12",-1)),_hoisted_43$1={class:"flags-item-description"},_hoisted_44$1={class:"flags-item"},_hoisted_45$1={class:"flags-item-checkbox"},_hoisted_46$1=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-13",-1)),_hoisted_47$1={class:"flags-item-description"},_hoisted_48$1={class:"flags-item"},_hoisted_49$1={class:"flags-item-checkbox"},_hoisted_50$1=_withScopeId$6(()=>createBaseVNode("div",{class:"flags-item-name"},"Bit-14",-1)),_hoisted_51$1={class:"flags-item-description"},_hoisted_52$1={class:"table-item"},_hoisted_53$1=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"created",-1)),_hoisted_54$1={class:"item-content"},_hoisted_55$1={class:"table-item"},_hoisted_56$1=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"modified",-1)),_hoisted_57$1={class:"item-content"},_hoisted_58$1={class:"table-item"},_hoisted_59$1=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"macStyle",-1)),_hoisted_60$1={class:"item-content",style:{flexDirection:"column"}},_hoisted_61$1={class:"mac-style-item"},_hoisted_62$1={class:"mac-style-item-checkbox"},_hoisted_63$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-0",-1)),_hoisted_64$1={class:"mac-style-item-description"},_hoisted_65$1={class:"mac-style-item"},_hoisted_66$1={class:"mac-style-item-checkbox"},_hoisted_67$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-1",-1)),_hoisted_68$1={class:"mac-style-item-description"},_hoisted_69$1={class:"mac-style-item"},_hoisted_70$1={class:"mac-style-item-checkbox"},_hoisted_71$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-2",-1)),_hoisted_72$1={class:"mac-style-item-description"},_hoisted_73$1={class:"mac-style-item"},_hoisted_74$1={class:"mac-style-item-checkbox"},_hoisted_75$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-3",-1)),_hoisted_76$1={class:"mac-style-item-description"},_hoisted_77$1={class:"mac-style-item"},_hoisted_78$1={class:"mac-style-item-checkbox"},_hoisted_79$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-4",-1)),_hoisted_80$1={class:"mac-style-item-description"},_hoisted_81$1={class:"mac-style-item"},_hoisted_82$1={class:"mac-style-item-checkbox"},_hoisted_83$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-5",-1)),_hoisted_84$1={class:"mac-style-item-description"},_hoisted_85$1={class:"mac-style-item"},_hoisted_86$1={class:"mac-style-item-checkbox"},_hoisted_87$1=_withScopeId$6(()=>createBaseVNode("div",{class:"mac-style-item-name"},"Bit-6",-1)),_hoisted_88$1={class:"mac-style-item-description"},_hoisted_89$1={class:"table-item"},_hoisted_90=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"lowestRecPPEM",-1)),_hoisted_91={class:"item-content"},_hoisted_92={class:"tips"},_hoisted_93={class:"table-item"},_hoisted_94=_withScopeId$6(()=>createBaseVNode("div",{class:"item-name"},"fontDirectionHint",-1)),_hoisted_95={class:"item-content"},_hoisted_96={class:"tips"},_sfc_main$m=defineComponent({__name:"head",setup(n){const{locale:e}=useI18n(),r=ref({majorVersion:{valid:!0,tip:""},minorVersion:{valid:!0,tip:""},fontRevision:{valid:!0,tip:""},created:{valid:!0,tip:""},modified:{valid:!0,tip:""},lowestRecPPEM:{valid:!0,tip:""},fontDirectionHint:{valid:!0,tip:""}}),g=(ue,pe)=>{switch(ue){case"majorVersion":{const he=validators.uint16(pe);let xe="";he||(e.value==="zh"?xe="uint16":e.value==="en"&&(xe="Invalid format: uint16 required")),r.value.majorVersion.valid=he,r.value.majorVersion.tip=xe;break}case"minorVersion":{const he=validators.uint16(pe);let xe="";he||(e.value==="zh"?xe="uint16":e.value==="en"&&(xe="Invalid format: uint16 required")),r.value.minorVersion.valid=he,r.value.minorVersion.tip=xe;break}case"fontRevision":{const he=validators.Fixed(pe);let xe="";he||(e.value==="zh"?xe="":e.value==="en"&&(xe="Invalid format")),r.value.fontRevision.valid=he,r.value.fontRevision.tip=xe;break}case"created":{const he=validators.LONGDATETIME(pe);let xe="";he||(e.value==="zh"?xe="":e.value==="en"&&(xe="Invalid format")),r.value.created.valid=he,r.value.created.tip=xe;break}case"modified":{const he=validators.LONGDATETIME(pe);let xe="";he||(e.value==="zh"?xe="":e.value==="en"&&(xe="Invalid format")),r.value.modified.valid=he,r.value.modified.tip=xe;break}case"lowestRecPPEM":{const he=validators.uint16(pe);let xe="";he||(e.value==="zh"?xe="uint16":e.value==="en"&&(xe="Invalid format: uint16 required")),r.value.lowestRecPPEM.valid=he,r.value.lowestRecPPEM.tip=xe;break}case"fontDirectionHint":{const he=validators.int16(pe);let xe="";he||(e.value==="zh"?xe="int16":e.value==="en"&&(xe="Invalid format: int16 required")),r.value.fontDirectionHint.valid=he,r.value.fontDirectionHint.tip=xe;break}}},y=ue=>{head_data.value.created.timestamp=Math.floor(ue.getTime()/1e3)+2082844800},k=ue=>{head_data.value.modified.timestamp=Math.floor(ue.getTime()/1e3)+2082844800},$={majorVersion:"uint16",minorVersion:"uint16",fontRevision:"Fixed",created:" 1904-01-01  64 ",modified:" 1904-01-01  64 ",lowestRecPPEM:" (Pixels Per Em)",fontDirectionHint:" 0"},V=[" `y=0`"," `x=0` TrueType ","point size"," ppem Em  ppem ** hinting**","advance width"," OpenType  Apple  Apple "," OpenType "," OpenType "," OpenType "," OpenType "," OpenType ","/ ISO/IEC 14496-18MicroType ExpressWOFF 2.0 DSIG ",""," ClearType ","Last Resort font"," 0"],L=["","","","","","","","","","","","","","","",""],z={majorVersion:"Major version number of the table format, must be a uint16",minorVersion:"Minor version number of the table format, must be a uint16",fontRevision:"Font revision number defined by the font developer, format: Fixed",created:"Font creation time represented as seconds since 1904-01-01 00:00:00. Stored as 64-bit integer",modified:"Font modification time represented as seconds since 1904-01-01 00:00:00. Stored as 64-bit integer",lowestRecPPEM:"Recommended minimum pixels per em (PPEM) size for this font",fontDirectionHint:"Font layout direction hint (0 = left-to-right layout)"},j=["Baseline at y=0","Left sidebearing at x=0 (relevant for TrueType rasterizer) - see additional notes for variable fonts","Instructions may depend on point size","Force internal scaler to use integer ppem values. **Strongly recommended for hinted fonts**","Instructions may alter advance width (non-linear scaling)","[Reserved for Apple] If set, may cause vertical layout divergence on some platforms (see Apple specifications)","[Unused in OpenType] Must be 0","[Unused in OpenType] Must be 0","[Unused in OpenType] Must be 0","[Unused in OpenType] Must be 0","[Unused in OpenType] Must be 0","Font contains lossless compressed data (e.g., WOFF 2.0). Note: DSIG table may become invalid","Font contains converted metrics (compatible metrics)","Optimized for ClearType rendering","Last Resort fallback font","Reserved bit (must be 0)"],re=["Bold","Italic","Underline","Outline","Shadow","Condensed","Extended","Reserved bit","Reserved bit","Reserved bit","Reserved bit","Reserved bit","Reserved bit","Reserved bit","Reserved bit","Reserved bit"],oe=computed(()=>e.value==="zh"?$:e.value==="en"?z:$),ae=computed(()=>e.value==="zh"?V:e.value==="en"?j:V),de=computed(()=>e.value==="zh"?L:e.value==="en"?re:L);return(ue,pe)=>{const he=resolveComponent("el-input-number"),xe=resolveComponent("QuestionFilled"),$e=resolveComponent("el-icon"),Ne=resolveComponent("el-tooltip"),Oe=resolveComponent("el-checkbox"),_e=resolveComponent("el-date-picker"),Fe=resolveComponent("el-scrollbar");return openBlock(),createBlock(Fe,{height:"460px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$l,[_hoisted_2$k,createBaseVNode("div",_hoisted_3$c,[createVNode(he,{modelValue:unref(head_data).majorVersion,"onUpdate:modelValue":pe[0]||(pe[0]=Ue=>unref(head_data).majorVersion=Ue),onChange:pe[1]||(pe[1]=Ue=>g("majorVersion",Ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.majorVersion,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_4$9,toDisplayString$1(r.value.majorVersion.tip),1)])]),createBaseVNode("div",_hoisted_5$8,[_hoisted_6$8,createBaseVNode("div",_hoisted_7$8,[createVNode(he,{modelValue:unref(head_data).minorVersion,"onUpdate:modelValue":pe[2]||(pe[2]=Ue=>unref(head_data).minorVersion=Ue),onChange:pe[3]||(pe[3]=Ue=>g("minorVersion",Ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.minorVersion,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_8$8,toDisplayString$1(r.value.minorVersion.tip),1)])]),createBaseVNode("div",_hoisted_9$8,[_hoisted_10$8,createBaseVNode("div",_hoisted_11$7,[createVNode(he,{modelValue:unref(head_data).fontRevision,"onUpdate:modelValue":pe[4]||(pe[4]=Ue=>unref(head_data).fontRevision=Ue),onChange:pe[5]||(pe[5]=Ue=>g("fontRevision",Ue)),controls:!1,precision:3},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.fontRevision,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_12$6,toDisplayString$1(r.value.fontRevision.tip),1)])]),createBaseVNode("div",_hoisted_13$6,[_hoisted_14$6,createBaseVNode("div",_hoisted_15$4,[createBaseVNode("div",_hoisted_16$4,[createBaseVNode("div",_hoisted_17$3,[createVNode(Oe,{modelValue:unref(head_data).flags[0],"onUpdate:modelValue":pe[6]||(pe[6]=Ue=>unref(head_data).flags[0]=Ue)},null,8,["modelValue"])]),_hoisted_18$3,createBaseVNode("div",_hoisted_19$3,toDisplayString$1(ae.value[0]),1)]),createBaseVNode("div",_hoisted_20$3,[createBaseVNode("div",_hoisted_21$3,[createVNode(Oe,{modelValue:unref(head_data).flags[1],"onUpdate:modelValue":pe[7]||(pe[7]=Ue=>unref(head_data).flags[1]=Ue)},null,8,["modelValue"])]),_hoisted_22$3,createBaseVNode("div",_hoisted_23$3,toDisplayString$1(ae.value[1]),1)]),createBaseVNode("div",_hoisted_24$3,[createBaseVNode("div",_hoisted_25$2,[createVNode(Oe,{modelValue:unref(head_data).flags[2],"onUpdate:modelValue":pe[8]||(pe[8]=Ue=>unref(head_data).flags[2]=Ue)},null,8,["modelValue"])]),_hoisted_26$2,createBaseVNode("div",_hoisted_27$2,toDisplayString$1(ae.value[2]),1)]),createBaseVNode("div",_hoisted_28$2,[createBaseVNode("div",_hoisted_29$2,[createVNode(Oe,{modelValue:unref(head_data).flags[3],"onUpdate:modelValue":pe[9]||(pe[9]=Ue=>unref(head_data).flags[3]=Ue)},null,8,["modelValue"])]),_hoisted_30$2,createBaseVNode("div",_hoisted_31$2,toDisplayString$1(ae.value[3]),1)]),createBaseVNode("div",_hoisted_32$2,[createBaseVNode("div",_hoisted_33$2,[createVNode(Oe,{modelValue:unref(head_data).flags[4],"onUpdate:modelValue":pe[10]||(pe[10]=Ue=>unref(head_data).flags[4]=Ue)},null,8,["modelValue"])]),_hoisted_34$2,createBaseVNode("div",_hoisted_35$2,toDisplayString$1(ae.value[1]),1)]),createBaseVNode("div",_hoisted_36$1,[createBaseVNode("div",_hoisted_37$1,[createVNode(Oe,{modelValue:unref(head_data).flags[11],"onUpdate:modelValue":pe[11]||(pe[11]=Ue=>unref(head_data).flags[11]=Ue)},null,8,["modelValue"])]),_hoisted_38$1,createBaseVNode("div",_hoisted_39$1,toDisplayString$1(ae.value[11]),1)]),createBaseVNode("div",_hoisted_40$1,[createBaseVNode("div",_hoisted_41$1,[createVNode(Oe,{modelValue:unref(head_data).flags[12],"onUpdate:modelValue":pe[12]||(pe[12]=Ue=>unref(head_data).flags[12]=Ue)},null,8,["modelValue"])]),_hoisted_42$1,createBaseVNode("div",_hoisted_43$1,toDisplayString$1(ae.value[12]),1)]),createBaseVNode("div",_hoisted_44$1,[createBaseVNode("div",_hoisted_45$1,[createVNode(Oe,{modelValue:unref(head_data).flags[13],"onUpdate:modelValue":pe[13]||(pe[13]=Ue=>unref(head_data).flags[13]=Ue)},null,8,["modelValue"])]),_hoisted_46$1,createBaseVNode("div",_hoisted_47$1,toDisplayString$1(ae.value[13]),1)]),createBaseVNode("div",_hoisted_48$1,[createBaseVNode("div",_hoisted_49$1,[createVNode(Oe,{modelValue:unref(head_data).flags[14],"onUpdate:modelValue":pe[14]||(pe[14]=Ue=>unref(head_data).flags[14]=Ue)},null,8,["modelValue"])]),_hoisted_50$1,createBaseVNode("div",_hoisted_51$1,toDisplayString$1(ae.value[14]),1)])])]),createBaseVNode("div",_hoisted_52$1,[_hoisted_53$1,createBaseVNode("div",_hoisted_54$1,[createVNode(he,{modelValue:unref(head_data).created.timestamp,"onUpdate:modelValue":pe[15]||(pe[15]=Ue=>unref(head_data).created.timestamp=Ue),controls:!1,precision:0,disabled:""},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.created,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createVNode(_e,{class:"date-picker",modelValue:unref(head_data).created.value,"onUpdate:modelValue":pe[16]||(pe[16]=Ue=>unref(head_data).created.value=Ue),onChange:y,type:"datetime",placeholder:"Select date and time"},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_55$1,[_hoisted_56$1,createBaseVNode("div",_hoisted_57$1,[createVNode(he,{modelValue:unref(head_data).modified.timestamp,"onUpdate:modelValue":pe[17]||(pe[17]=Ue=>unref(head_data).modified.timestamp=Ue),controls:!1,precision:0,disabled:""},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.modified,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createVNode(_e,{class:"date-picker",modelValue:unref(head_data).modified.value,"onUpdate:modelValue":pe[18]||(pe[18]=Ue=>unref(head_data).modified.value=Ue),onChange:k,type:"datetime",placeholder:"Select date and time"},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_58$1,[_hoisted_59$1,createBaseVNode("div",_hoisted_60$1,[createBaseVNode("div",_hoisted_61$1,[createBaseVNode("div",_hoisted_62$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[0],"onUpdate:modelValue":pe[19]||(pe[19]=Ue=>unref(head_data).macStyle[0]=Ue)},null,8,["modelValue"])]),_hoisted_63$1,createBaseVNode("div",_hoisted_64$1,toDisplayString$1(de.value[0]),1)]),createBaseVNode("div",_hoisted_65$1,[createBaseVNode("div",_hoisted_66$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[1],"onUpdate:modelValue":pe[20]||(pe[20]=Ue=>unref(head_data).macStyle[1]=Ue)},null,8,["modelValue"])]),_hoisted_67$1,createBaseVNode("div",_hoisted_68$1,toDisplayString$1(de.value[1]),1)]),createBaseVNode("div",_hoisted_69$1,[createBaseVNode("div",_hoisted_70$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[2],"onUpdate:modelValue":pe[21]||(pe[21]=Ue=>unref(head_data).macStyle[2]=Ue)},null,8,["modelValue"])]),_hoisted_71$1,createBaseVNode("div",_hoisted_72$1,toDisplayString$1(de.value[2]),1)]),createBaseVNode("div",_hoisted_73$1,[createBaseVNode("div",_hoisted_74$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[3],"onUpdate:modelValue":pe[22]||(pe[22]=Ue=>unref(head_data).macStyle[3]=Ue)},null,8,["modelValue"])]),_hoisted_75$1,createBaseVNode("div",_hoisted_76$1,toDisplayString$1(de.value[3]),1)]),createBaseVNode("div",_hoisted_77$1,[createBaseVNode("div",_hoisted_78$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[4],"onUpdate:modelValue":pe[23]||(pe[23]=Ue=>unref(head_data).macStyle[4]=Ue)},null,8,["modelValue"])]),_hoisted_79$1,createBaseVNode("div",_hoisted_80$1,toDisplayString$1(de.value[4]),1)]),createBaseVNode("div",_hoisted_81$1,[createBaseVNode("div",_hoisted_82$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[5],"onUpdate:modelValue":pe[24]||(pe[24]=Ue=>unref(head_data).macStyle[5]=Ue)},null,8,["modelValue"])]),_hoisted_83$1,createBaseVNode("div",_hoisted_84$1,toDisplayString$1(de.value[5]),1)]),createBaseVNode("div",_hoisted_85$1,[createBaseVNode("div",_hoisted_86$1,[createVNode(Oe,{modelValue:unref(head_data).macStyle[6],"onUpdate:modelValue":pe[25]||(pe[25]=Ue=>unref(head_data).macStyle[6]=Ue)},null,8,["modelValue"])]),_hoisted_87$1,createBaseVNode("div",_hoisted_88$1,toDisplayString$1(de.value[6]),1)])])]),createBaseVNode("div",_hoisted_89$1,[_hoisted_90,createBaseVNode("div",_hoisted_91,[createVNode(he,{modelValue:unref(head_data).lowestRecPPEM,"onUpdate:modelValue":pe[26]||(pe[26]=Ue=>unref(head_data).lowestRecPPEM=Ue),onChange:pe[27]||(pe[27]=Ue=>g("lowestRecPPEM",Ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.lowestRecPPEM,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_92,toDisplayString$1(r.value.lowestRecPPEM.tip),1)])]),createBaseVNode("div",_hoisted_93,[_hoisted_94,createBaseVNode("div",_hoisted_95,[createVNode(he,{modelValue:unref(head_data).fontDirectionHint,"onUpdate:modelValue":pe[28]||(pe[28]=Ue=>unref(head_data).fontDirectionHint=Ue),onChange:pe[29]||(pe[29]=Ue=>g("fontDirectionHint",Ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(Ne,{class:"tips",effect:"dark",content:oe.value.fontDirectionHint,placement:"bottom"},{default:withCtx(()=>[createVNode($e,null,{default:withCtx(()=>[createVNode(xe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_96,toDisplayString$1(r.value.fontDirectionHint.tip),1)])])]),_:1})}}}),HeadPanel=_export_sfc(_sfc_main$m,[["__scopeId","data-v-2384f384"]]),_withScopeId$5=n=>(pushScopeId("data-v-3ad2608e"),n=n(),popScopeId(),n),_hoisted_1$k={class:"table-item"},_hoisted_2$j=_withScopeId$5(()=>createBaseVNode("div",{class:"item-name"},"majorVersion",-1)),_hoisted_3$b={class:"item-content"},_hoisted_4$8={class:"tips"},_hoisted_5$7={class:"table-item"},_hoisted_6$7=_withScopeId$5(()=>createBaseVNode("div",{class:"item-name"},"minorVersion",-1)),_hoisted_7$7={class:"item-content"},_hoisted_8$7={class:"tips"},_hoisted_9$7={class:"table-item"},_hoisted_10$7=_withScopeId$5(()=>createBaseVNode("div",{class:"item-name"},"lineGap",-1)),_hoisted_11$6={class:"item-content"},_hoisted_12$5={class:"tips"},_hoisted_13$5={class:"table-item"},_hoisted_14$5=_withScopeId$5(()=>createBaseVNode("div",{class:"item-name"},"caretSlopeRise",-1)),_hoisted_15$3={class:"item-content"},_hoisted_16$3={class:"tips"},_hoisted_17$2={class:"table-item"},_hoisted_18$2=_withScopeId$5(()=>createBaseVNode("div",{class:"item-name"},"caretSlopeRun",-1)),_hoisted_19$2={class:"item-content"},_hoisted_20$2={class:"tips"},_hoisted_21$2={class:"table-item"},_hoisted_22$2=_withScopeId$5(()=>createBaseVNode("div",{class:"item-name"},"caretOffset",-1)),_hoisted_23$2={class:"item-content"},_hoisted_24$2={class:"tips"},_sfc_main$l=defineComponent({__name:"hhea",setup(n){const{locale:e}=useI18n(),r=ref({majorVersion:{valid:!0,tip:""},minorVersion:{valid:!0,tip:""},lineGap:{valid:!0,tip:""},caretSlopeRise:{valid:!0,tip:""},caretSlopeRun:{valid:!0,tip:""},caretOffset:{valid:!0,tip:""}}),g=(V,L)=>{switch(V){case"majorVersion":{const z=validators.uint16(L);let j="";z||(e.value==="zh"?j="uint16":e.value==="en"&&(j="Invalid format: uint16 required")),r.value.majorVersion.valid=z,r.value.majorVersion.tip=j;break}case"minorVersion":{const z=validators.uint16(L);let j="";z||(e.value==="zh"?j="uint16":e.value==="en"&&(j="Invalid format: uint16 required")),r.value.minorVersion.valid=z,r.value.minorVersion.tip=j;break}case"lineGap":{const z=validators.FWORD(L);let j="";z||(e.value==="zh"?j="":e.value==="en"&&(j="Invalid format")),r.value.lineGap.valid=z,r.value.lineGap.tip=j;break}case"caretSlopeRise":{const z=validators.int16(L);let j="";z||(e.value==="zh"?j="uint16":e.value==="en"&&(j="Invalid format: uint16 required")),r.value.caretSlopeRise.valid=z,r.value.caretSlopeRise.tip=j;break}case"caretSlopeRun":{const z=validators.int16(L);let j="";z||(e.value==="zh"?j="int16":e.value==="en"&&(j="Invalid format: int16 required")),r.value.caretSlopeRun.valid=z,r.value.caretSlopeRun.tip=j;break}case"caretOffset":{const z=validators.int16(L);let j="";z||(e.value==="zh"?j="int16":e.value==="en"&&(j="Invalid format: int16 required")),r.value.caretOffset.valid=z,r.value.caretOffset.tip=j;break}}},y={majorVersion:"uint16",minorVersion:"uint16",lineGap:"FWORD",caretSlopeRise:" 1int16",caretSlopeRun:" 0int16",caretOffset:" 0int16"},k={majorVersion:"Major version number of the table format (uint16)",minorVersion:"Minor version number of the table format (uint16)",lineGap:"Additional space between lines (extra spacing between text rows), format: FWORD",caretSlopeRise:"Vertical slope component defining caret angle (typically 1). Format: int16",caretSlopeRun:"Horizontal slope component defining caret angle (typically 0). Format: int16",caretOffset:"Horizontal offset from standard caret position (usually 0). Format: int16"},$=computed(()=>e.value==="zh"?y:e.value==="en"?k:y);return(V,L)=>{const z=resolveComponent("el-input-number"),j=resolveComponent("QuestionFilled"),re=resolveComponent("el-icon"),oe=resolveComponent("el-tooltip"),ae=resolveComponent("el-scrollbar");return openBlock(),createBlock(ae,{height:"460px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$k,[_hoisted_2$j,createBaseVNode("div",_hoisted_3$b,[createVNode(z,{modelValue:unref(hhea_data).majorVersion,"onUpdate:modelValue":L[0]||(L[0]=de=>unref(hhea_data).majorVersion=de),onChange:L[1]||(L[1]=de=>g("majorVersion",de)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.majorVersion,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_4$8,toDisplayString$1(r.value.majorVersion.tip),1)])]),createBaseVNode("div",_hoisted_5$7,[_hoisted_6$7,createBaseVNode("div",_hoisted_7$7,[createVNode(z,{modelValue:unref(hhea_data).minorVersion,"onUpdate:modelValue":L[2]||(L[2]=de=>unref(hhea_data).minorVersion=de),onChange:L[3]||(L[3]=de=>g("minorVersion",de)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.minorVersion,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_8$7,toDisplayString$1(r.value.minorVersion.tip),1)])]),createBaseVNode("div",_hoisted_9$7,[_hoisted_10$7,createBaseVNode("div",_hoisted_11$6,[createVNode(z,{modelValue:unref(hhea_data).lineGap,"onUpdate:modelValue":L[4]||(L[4]=de=>unref(hhea_data).lineGap=de),onChange:L[5]||(L[5]=de=>g("lineGap",de)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.lineGap,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_12$5,toDisplayString$1(r.value.lineGap.tip),1)])]),createBaseVNode("div",_hoisted_13$5,[_hoisted_14$5,createBaseVNode("div",_hoisted_15$3,[createVNode(z,{modelValue:unref(hhea_data).caretSlopeRise,"onUpdate:modelValue":L[6]||(L[6]=de=>unref(hhea_data).caretSlopeRise=de),onChange:L[7]||(L[7]=de=>g("caretSlopeRise",de)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.caretSlopeRise,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_16$3,toDisplayString$1(r.value.caretSlopeRise.tip),1)])]),createBaseVNode("div",_hoisted_17$2,[_hoisted_18$2,createBaseVNode("div",_hoisted_19$2,[createVNode(z,{modelValue:unref(hhea_data).caretSlopeRun,"onUpdate:modelValue":L[8]||(L[8]=de=>unref(hhea_data).caretSlopeRun=de),onChange:L[9]||(L[9]=de=>g("caretSlopeRun",de)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.caretSlopeRun,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_20$2,toDisplayString$1(r.value.caretSlopeRun.tip),1)])]),createBaseVNode("div",_hoisted_21$2,[_hoisted_22$2,createBaseVNode("div",_hoisted_23$2,[createVNode(z,{modelValue:unref(hhea_data).caretOffset,"onUpdate:modelValue":L[10]||(L[10]=de=>unref(hhea_data).caretOffset=de),onChange:L[11]||(L[11]=de=>g("caretOffset",de)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.caretOffset,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_24$2,toDisplayString$1(r.value.caretOffset.tip),1)])])]),_:1})}}}),HheaPanel=_export_sfc(_sfc_main$l,[["__scopeId","data-v-3ad2608e"]]),_hoisted_1$j={class:"table-item"},_hoisted_2$i={class:"item-row-1"},_hoisted_3$a={class:"item-row-2"},_hoisted_4$7={class:"add-item-btn"},_sfc_main$k=defineComponent({__name:"name",setup(n){const{t:e,tm:r}=useI18n(),y=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"].map((j,re)=>({label:j,value:re})),k=[{label:"Unicode",value:0,disabled:!0},{label:"Macintosh",value:1,disabled:!0},{label:"Windows",value:3,disabled:!1}],$=[{label:"Unicode BMP",value:1}],V=[{label:"zh",value:2052},{label:"zh-HK",value:3076},{label:"zh-MO",value:5124},{label:"zh-SG",value:4100},{label:"zh-TW",value:1028},{label:"en",value:1033}],L=()=>{name_data.value.push({nameID:1,nameLabel:"fontFamily",platformID:3,encodingID:1,langID:2052,value:"",default:!1})},z=j=>{name_data.value[j].default||name_data.value.splice(j,1)};return(j,re)=>{const oe=resolveComponent("el-option"),ae=resolveComponent("el-select"),de=resolveComponent("el-button"),ue=resolveComponent("el-input"),pe=resolveComponent("QuestionFilled"),he=resolveComponent("el-icon"),xe=resolveComponent("el-tooltip"),$e=resolveComponent("el-scrollbar");return openBlock(),createBlock($e,{height:"460px"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(name_data),(Ne,Oe)=>(openBlock(),createElementBlock("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$i,[createVNode(ae,{modelValue:Ne.nameID,"onUpdate:modelValue":_e=>Ne.nameID=_e,class:"name-id-select"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(y),_e=>(openBlock(),createBlock(oe,{key:_e.value,label:_e.label,value:_e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),createVNode(ae,{modelValue:Ne.langID,"onUpdate:modelValue":_e=>Ne.langID=_e,class:"lang-id-select"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(V,_e=>createVNode(oe,{key:_e.value,label:_e.label,value:_e.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"]),createVNode(ae,{modelValue:Ne.platformID,"onUpdate:modelValue":_e=>Ne.platformID=_e,class:"lang-id-select"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(k,_e=>createVNode(oe,{key:_e.value,label:_e.label,value:_e.value,disabled:_e.disabled},null,8,["label","value","disabled"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"]),createVNode(ae,{modelValue:Ne.encodingID,"onUpdate:modelValue":_e=>Ne.encodingID=_e,class:"lang-id-select"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,_e=>createVNode(oe,{key:_e.value,label:_e.label,value:_e.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"]),withDirectives(createVNode(de,{onPointerdown:()=>z(Oe),type:"danger",icon:unref(delete_default),style:normalizeStyle({backgroundColor:"rgb(196, 86.4, 86.4)",color:"var(--light-0)",border:"1px solid var(--light-5)"})},null,8,["onPointerdown","icon","style"]),[[vShow,!Ne.default]])]),createBaseVNode("div",_hoisted_3$a,[createVNode(ue,{modelValue:Ne.value,"onUpdate:modelValue":_e=>Ne.value=_e},null,8,["modelValue","onUpdate:modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:unref(r)("dialogs.fontSettingsDialog.nameTableTip"),placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"])])]))),256)),createBaseVNode("div",_hoisted_4$7,[createVNode(de,{onPointerdown:L},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("dialogs.fontSettingsDialog.addItem")),1)]),_:1})])]),_:1})}}}),NamePanel=_export_sfc(_sfc_main$k,[["__scopeId","data-v-f904aa49"]]),_withScopeId$4=n=>(pushScopeId("data-v-b275f007"),n=n(),popScopeId(),n),_hoisted_1$i={class:"table-item"},_hoisted_2$h=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"version",-1)),_hoisted_3$9={class:"item-content"},_hoisted_4$6={class:"table-item"},_hoisted_5$6=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"italicAngle",-1)),_hoisted_6$6={class:"item-content"},_hoisted_7$6={class:"tips"},_hoisted_8$6={class:"table-item"},_hoisted_9$6=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"lineGap",-1)),_hoisted_10$6={class:"item-content"},_hoisted_11$5={class:"tips"},_hoisted_12$4={class:"table-item"},_hoisted_13$4=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"underlineThickness",-1)),_hoisted_14$4={class:"item-content"},_hoisted_15$2={class:"tips"},_hoisted_16$2={class:"table-item"},_hoisted_17$1=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"isFixedPitch",-1)),_hoisted_18$1={class:"item-content"},_hoisted_19$1={class:"tips"},_hoisted_20$1={class:"table-item"},_hoisted_21$1=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"minMemType42",-1)),_hoisted_22$1={class:"item-content"},_hoisted_23$1={class:"tips"},_hoisted_24$1={class:"table-item"},_hoisted_25$1=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"maxMemType42",-1)),_hoisted_26$1={class:"item-content"},_hoisted_27$1={class:"tips"},_hoisted_28$1={class:"table-item"},_hoisted_29$1=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"minMemType1",-1)),_hoisted_30$1={class:"item-content"},_hoisted_31$1={class:"tips"},_hoisted_32$1={class:"table-item"},_hoisted_33$1=_withScopeId$4(()=>createBaseVNode("div",{class:"item-name"},"maxMemType1",-1)),_hoisted_34$1={class:"item-content"},_hoisted_35$1={class:"tips"},_sfc_main$j=defineComponent({__name:"post",setup(n){const{locale:e}=useI18n(),r=ref({italicAngle:{valid:!0,tip:""},underlinePosition:{valid:!0,tip:""},underlineThickness:{valid:!0,tip:""},isFixedPitch:{valid:!0,tip:""},minMemType42:{valid:!0,tip:""},maxMemType42:{valid:!0,tip:""},minMemType1:{valid:!0,tip:""},maxMemType1:{valid:!0,tip:""}}),g=(V,L)=>{switch(V){case"italicAngle":{const z=validators.Fixed(L);let j="";z||(e.value==="zh"?j="Fixed":e.value==="en"&&(j="Invalid format: Fixed required")),r.value.italicAngle.valid=z,r.value.italicAngle.tip=j;break}case"underlinePosition":{const z=validators.FWORD(L);let j="";z||(e.value==="zh"?j="FWORD":e.value==="en"&&(j="Invalid format: FWORD required")),r.value.underlinePosition.valid=z,r.value.underlinePosition.tip=j;break}case"underlineThickness":{const z=validators.FWORD(L);let j="";z||(e.value==="zh"?j="":e.value==="en"&&(j="Invalid format")),r.value.underlineThickness.valid=z,r.value.underlineThickness.tip=j;break}case"isFixedPitch":{const z=validators.uint32(L);let j="";z||(e.value==="zh"?j="uint32":e.value==="en"&&(j="Invalid format: uint32 required")),r.value.isFixedPitch.valid=z,r.value.isFixedPitch.tip=j;break}case"minMemType42":{const z=validators.uint32(L);let j="";z||(e.value==="zh"?j="uint32":e.value==="en"&&(j="Invalid format: uint32 required")),r.value.minMemType42.valid=z,r.value.minMemType42.tip=j;break}case"maxMemType42":{const z=validators.uint32(L);let j="";z||(e.value==="zh"?j="uint32":e.value==="en"&&(j="Invalid format: uint32 required")),r.value.maxMemType42.valid=z,r.value.maxMemType42.tip=j;break}case"minMemType1":{const z=validators.uint32(L);let j="";z||(e.value==="zh"?j="uint32":e.value==="en"&&(j="Invalid format: uint32 required")),r.value.minMemType1.valid=z,r.value.minMemType1.tip=j;break}case"maxMemType1":{const z=validators.uint32(L);let j="";z||(e.value==="zh"?j="uint32":e.value==="en"&&(j="Invalid format: uint32 required")),r.value.maxMemType1.valid=z,r.value.maxMemType1.tip=j;break}}},y={version:"version 3.0",italicAngle:"",underlinePosition:" y ",underlineThickness:"U+005F LOW LINE OS/2 ",isFixedPitch:" 0",minMemType42:" OpenType ",maxMemType42:" OpenType ",minMemType1:" OpenType  Type 1 ",maxMemType1:" OpenType  Type 1 "},k={version:"Version 3.0",italicAngle:"Italic angle in degrees (counter-clockwise from vertical). Positive for left-leaning, negative for right-leaning italic. Upright=0",underlinePosition:"Recommended y-coordinate for top of underline stroke",underlineThickness:"Recommended underline stroke thickness. Should match U+005F LOW LINE glyph and OS/2 table's strikeout thickness",isFixedPitch:"Non-zero value indicates monospace font; 0 indicates proportional font",minMemType42:"Minimum memory usage when downloading as OpenType/CFF font (Type 42)",maxMemType42:"Maximum memory usage when downloading as OpenType/CFF font (Type 42)",minMemType1:"Minimum memory usage when downloaded as Type 1 font",maxMemType1:"Maximum memory usage when downloaded as Type 1 font"},$=computed(()=>e.value==="zh"?y:e.value==="en"?k:y);return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("QuestionFilled"),re=resolveComponent("el-icon"),oe=resolveComponent("el-tooltip"),ae=resolveComponent("el-input-number"),de=resolveComponent("el-scrollbar");return openBlock(),createBlock(de,{height:"460px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$i,[_hoisted_2$h,createBaseVNode("div",_hoisted_3$9,[createVNode(z,{"model-value":"version 3.0",controls:!1,disabled:""}),createVNode(oe,{class:"tips",effect:"dark",content:$.value.version,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"])])]),createBaseVNode("div",_hoisted_4$6,[_hoisted_5$6,createBaseVNode("div",_hoisted_6$6,[createVNode(ae,{modelValue:unref(post_data).italicAngle,"onUpdate:modelValue":L[0]||(L[0]=ue=>unref(post_data).italicAngle=ue),onChange:L[1]||(L[1]=ue=>g("italicAngle",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.italicAngle,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_7$6,toDisplayString$1(r.value.italicAngle.tip),1)])]),createBaseVNode("div",_hoisted_8$6,[_hoisted_9$6,createBaseVNode("div",_hoisted_10$6,[createVNode(ae,{modelValue:unref(post_data).underlinePosition,"onUpdate:modelValue":L[2]||(L[2]=ue=>unref(post_data).underlinePosition=ue),onChange:L[3]||(L[3]=ue=>g("underlinePosition",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.underlinePosition,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_11$5,toDisplayString$1(r.value.underlinePosition.tip),1)])]),createBaseVNode("div",_hoisted_12$4,[_hoisted_13$4,createBaseVNode("div",_hoisted_14$4,[createVNode(ae,{modelValue:unref(post_data).underlineThickness,"onUpdate:modelValue":L[4]||(L[4]=ue=>unref(post_data).underlineThickness=ue),onChange:L[5]||(L[5]=ue=>g("underlineThickness",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.underlineThickness,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_15$2,toDisplayString$1(r.value.underlineThickness.tip),1)])]),createBaseVNode("div",_hoisted_16$2,[_hoisted_17$1,createBaseVNode("div",_hoisted_18$1,[createVNode(ae,{modelValue:unref(post_data).isFixedPitch,"onUpdate:modelValue":L[6]||(L[6]=ue=>unref(post_data).isFixedPitch=ue),onChange:L[7]||(L[7]=ue=>g("isFixedPitch",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.isFixedPitch,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_19$1,toDisplayString$1(r.value.isFixedPitch.tip),1)])]),createBaseVNode("div",_hoisted_20$1,[_hoisted_21$1,createBaseVNode("div",_hoisted_22$1,[createVNode(ae,{modelValue:unref(post_data).minMemType42,"onUpdate:modelValue":L[8]||(L[8]=ue=>unref(post_data).minMemType42=ue),onChange:L[9]||(L[9]=ue=>g("minMemType42",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.minMemType42,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_23$1,toDisplayString$1(r.value.minMemType42.tip),1)])]),createBaseVNode("div",_hoisted_24$1,[_hoisted_25$1,createBaseVNode("div",_hoisted_26$1,[createVNode(ae,{modelValue:unref(post_data).maxMemType42,"onUpdate:modelValue":L[10]||(L[10]=ue=>unref(post_data).maxMemType42=ue),onChange:L[11]||(L[11]=ue=>g("maxMemType42",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.maxMemType42,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_27$1,toDisplayString$1(r.value.maxMemType42.tip),1)])]),createBaseVNode("div",_hoisted_28$1,[_hoisted_29$1,createBaseVNode("div",_hoisted_30$1,[createVNode(ae,{modelValue:unref(post_data).minMemType1,"onUpdate:modelValue":L[12]||(L[12]=ue=>unref(post_data).minMemType1=ue),onChange:L[13]||(L[13]=ue=>g("minMemType1",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.minMemType1,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_31$1,toDisplayString$1(r.value.minMemType1.tip),1)])]),createBaseVNode("div",_hoisted_32$1,[_hoisted_33$1,createBaseVNode("div",_hoisted_34$1,[createVNode(ae,{modelValue:unref(post_data).maxMemType1,"onUpdate:modelValue":L[14]||(L[14]=ue=>unref(post_data).maxMemType1=ue),onChange:L[15]||(L[15]=ue=>g("maxMemType1",ue)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(oe,{class:"tips",effect:"dark",content:$.value.maxMemType1,placement:"bottom"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_35$1,toDisplayString$1(r.value.maxMemType1.tip),1)])])]),_:1})}}}),PostPanel=_export_sfc(_sfc_main$j,[["__scopeId","data-v-b275f007"]]),_withScopeId$3=n=>(pushScopeId("data-v-fdf651ef"),n=n(),popScopeId(),n),_hoisted_1$h={class:"table-item"},_hoisted_2$g=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"version",-1)),_hoisted_3$8={class:"item-content"},_hoisted_4$5={class:"tips"},_hoisted_5$5={class:"table-item"},_hoisted_6$5=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"usWeightClass",-1)),_hoisted_7$5={class:"item-content"},_hoisted_8$5={class:"tips"},_hoisted_9$5={class:"table-item"},_hoisted_10$5=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"usWidthClass",-1)),_hoisted_11$4={class:"item-content"},_hoisted_12$3={class:"tips"},_hoisted_13$3={class:"table-item"},_hoisted_14$3=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"fsType",-1)),_hoisted_15$1={class:"item-content"},_hoisted_16$1={class:"tips"},_hoisted_17={class:"table-item"},_hoisted_18=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySubscriptXSize",-1)),_hoisted_19={class:"item-content"},_hoisted_20={class:"tips"},_hoisted_21={class:"table-item"},_hoisted_22=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySubscriptYSize",-1)),_hoisted_23={class:"item-content"},_hoisted_24={class:"tips"},_hoisted_25={class:"table-item"},_hoisted_26=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySubscriptXOffset",-1)),_hoisted_27={class:"item-content"},_hoisted_28={class:"tips"},_hoisted_29={class:"table-item"},_hoisted_30=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySubscriptYOffset",-1)),_hoisted_31={class:"item-content"},_hoisted_32={class:"tips"},_hoisted_33={class:"table-item"},_hoisted_34=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySuperscriptXSize",-1)),_hoisted_35={class:"item-content"},_hoisted_36={class:"tips"},_hoisted_37={class:"table-item"},_hoisted_38=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySuperscriptYSize",-1)),_hoisted_39={class:"item-content"},_hoisted_40={class:"tips"},_hoisted_41={class:"table-item"},_hoisted_42=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySuperscriptXOffset",-1)),_hoisted_43={class:"item-content"},_hoisted_44={class:"tips"},_hoisted_45={class:"table-item"},_hoisted_46=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"ySuperscriptYOffset",-1)),_hoisted_47={class:"item-content"},_hoisted_48={class:"tips"},_hoisted_49={class:"table-item"},_hoisted_50=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"yStrikeoutSize",-1)),_hoisted_51={class:"item-content"},_hoisted_52={class:"tips"},_hoisted_53={class:"table-item"},_hoisted_54=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"yStrikeoutPosition",-1)),_hoisted_55={class:"item-content"},_hoisted_56={class:"tips"},_hoisted_57={class:"table-item"},_hoisted_58=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"sFamilyClass",-1)),_hoisted_59={class:"item-content"},_hoisted_60={class:"tips"},_hoisted_61={class:"table-item"},_hoisted_62=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"panose",-1)),_hoisted_63={class:"item-content",style:{flexDirection:"column"}},_hoisted_64={class:"panose-item"},_hoisted_65={class:"panose-item-input"},_hoisted_66={class:"panose-item-description"},_hoisted_67={class:"table-item"},_hoisted_68=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"achVendID",-1)),_hoisted_69={class:"item-content"},_hoisted_70={class:"tips"},_hoisted_71={class:"table-item"},_hoisted_72=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"fsSelection",-1)),_hoisted_73={class:"item-content",style:{flexDirection:"column"}},_hoisted_74={class:"fs-selection-item"},_hoisted_75={class:"fs-selection-item-checkbox"},_hoisted_76={class:"fs-selection-item-name"},_hoisted_77={class:"fs-selection-item-description"},_hoisted_78={class:"table-item"},_hoisted_79=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"usMaxContext",-1)),_hoisted_80={class:"item-content"},_hoisted_81={class:"tips"},_hoisted_82={class:"table-item"},_hoisted_83=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"usLowerOpticalPointSize",-1)),_hoisted_84={class:"item-content"},_hoisted_85={class:"tips"},_hoisted_86={class:"table-item"},_hoisted_87=_withScopeId$3(()=>createBaseVNode("div",{class:"item-name"},"usUpperOpticalPointSize",-1)),_hoisted_88={class:"item-content"},_hoisted_89={class:"tips"},_sfc_main$i=defineComponent({__name:"os_2",setup(n){const{locale:e}=useI18n(),r=ref({version:{valid:!0,tip:""},usWeightClass:{valid:!0,tip:""},usWidthClass:{valid:!0,tip:""},fsType:{valid:!0,tip:""},ySubscriptXSize:{valid:!0,tip:""},ySubscriptYSize:{valid:!0,tip:""},ySubscriptXOffset:{valid:!0,tip:""},ySubscriptYOffset:{valid:!0,tip:""},ySuperscriptXSize:{valid:!0,tip:""},ySuperscriptYSize:{valid:!0,tip:""},ySuperscriptXOffset:{valid:!0,tip:""},ySuperscriptYOffset:{valid:!0,tip:""},yStrikeoutSize:{valid:!0,tip:""},yStrikeoutPosition:{valid:!0,tip:""},sFamilyClass:{valid:!0,tip:""},achVendID:{valid:!0,tip:""},usMaxContext:{valid:!0,tip:""},usLowerOpticalPointSize:{valid:!0,tip:""},usUpperOpticalPointSize:{valid:!0,tip:""}}),g=(ae,de)=>{switch(ae){case"version":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="uint16":e.value==="en"&&(pe="Invalid format: uint16 required")),r.value.version.valid=ue,r.value.version.tip=pe;break}case"usWeightClass":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="uint16":e.value==="en"&&(pe="Invalid format: uint16 required")),r.value.usWeightClass.valid=ue,r.value.usWeightClass.tip=pe;break}case"usWidthClass":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="uint16":e.value==="en"&&(pe="Invalid format: uint16 required")),r.value.usWidthClass.valid=ue,r.value.usWidthClass.tip=pe;break}case"fsType":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="":e.value==="en"&&(pe="Invalid format")),r.value.fsType.valid=ue,r.value.fsType.tip=pe;break}case"ySubscriptXSize":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySubscriptXSize.valid=ue,r.value.ySubscriptXSize.tip=pe;break}case"ySubscriptYSize":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySubscriptYSize.valid=ue,r.value.ySubscriptYSize.tip=pe;break}case"ySubscriptXOffset":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySubscriptXOffset.valid=ue,r.value.ySubscriptXOffset.tip=pe;break}case"ySubscriptYOffset":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySubscriptYOffset.valid=ue,r.value.ySubscriptYOffset.tip=pe;break}case"ySuperscriptXSize":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySuperscriptXSize.valid=ue,r.value.ySuperscriptXSize.tip=pe;break}case"ySuperscriptYSize":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySuperscriptYSize.valid=ue,r.value.ySuperscriptYSize.tip=pe;break}case"ySuperscriptXOffset":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySuperscriptXOffset.valid=ue,r.value.ySuperscriptXOffset.tip=pe;break}case"ySuperscriptYOffset":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.ySuperscriptXOffset.valid=ue,r.value.ySuperscriptYOffset.tip=pe;break}case"yStrikeoutSize":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.yStrikeoutSize.valid=ue,r.value.yStrikeoutSize.tip=pe;break}case"yStrikeoutPosition":{const ue=validators.FWORD(de);let pe="";ue||(e.value==="zh"?pe="FWORD":e.value==="en"&&(pe="Invalid format: FWORD required")),r.value.yStrikeoutPosition.valid=ue,r.value.yStrikeoutPosition.tip=pe;break}case"sFamilyClass":{const ue=validators.int16(de);let pe="";ue||(e.value==="zh"?pe="int16":e.value==="en"&&(pe="Invalid format: int16 required")),r.value.sFamilyClass.valid=ue,r.value.sFamilyClass.tip=pe;break}case"achVendID":{const ue=validators.Tag(de);let pe="";ue||(e.value==="zh"?pe="Tag achVendID":e.value==="en"&&(pe="Invalid format: Tag achVendID required")),r.value.achVendID.valid=ue,r.value.achVendID.tip=pe;break}case"usMaxContext":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="uint16":e.value==="en"&&(pe="Invalid format: uint16 required")),r.value.usMaxContext.valid=ue,r.value.usMaxContext.tip=pe;break}case"usLowerOpticalPointSize":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="int16":e.value==="en"&&(pe="Invalid format: int16 required")),r.value.usLowerOpticalPointSize.valid=ue,r.value.usLowerOpticalPointSize.tip=pe;break}case"usUpperOpticalPointSize":{const ue=validators.uint16(de);let pe="";ue||(e.value==="zh"?pe="int16":e.value==="en"&&(pe="Invalid format: int16 required")),r.value.usUpperOpticalPointSize.valid=ue,r.value.usUpperOpticalPointSize.tip=pe;break}}},y={version:"",usWeightClass:"Weight 11000 400Regular700Bold",usWidthClass:" 1Ultra-condensed 9Ultra-expanded",fsType:"",ySubscriptXSize:"",ySubscriptYSize:"",ySubscriptXOffset:" X ",ySubscriptYOffset:" Y ",ySuperscriptXSize:"",ySuperscriptYSize:"",ySuperscriptXOffset:" X ",ySuperscriptYOffset:" Y ",yStrikeoutSize:"",yStrikeoutPosition:"",sFamilyClass:" SerifSans-serif",panose:" PANOSE ",achVendID:" 4 ",fsSelection:" ItalicBoldRegular",usMaxContext:"",usLowerOpticalPointSize:"",usUpperOpticalPointSize:""},k=[{name:"Family Type ( 1)",description:"",range:"0-11"},{name:"Serif Style ( 2)",description:"",range:"0-5"},{name:"Weight ( 3)",description:"",range:"0-9"},{name:"Proportion ( 4)",description:"",range:"0-5"},{name:"Contrast ( 5)",description:"",range:"0-5"},{name:"Stroke Variation ( 6)",description:"",range:"0-3"},{name:"Arm Style ( 7)",description:"",range:"0-3"},{name:"Letterform ( 8)",description:"",range:"0-2"},{name:"Midline ( 9)",description:"",range:"0-2"},{name:"X-height ( 10)",description:' X  "x"X ',range:"0-5 X "}],$=[{name:"Italic",description:""},{name:"Underscore",description:""},{name:"Negative",description:""},{name:"Outlined",description:""},{name:"Strikeout",description:""},{name:"Bold",description:""},{name:"Regular",description:""},{name:"UseTypoMetrics",description:" OS/2  sTypoAscender  sTypoDescender"},{name:"WWS",description:"Weight, Width, Slope"},{name:"Oblique",description:" Italic "}],V={version:"Table version number",usWeightClass:"Font weight (11000 range, e.g. 400=Regular, 700=Bold)",usWidthClass:"Font width classification (1=Ultra-condensed to 9=Ultra-expanded)",fsType:"Font embedding licensing permissions (e.g., print-only embedding restrictions)",ySubscriptXSize:"Recommended horizontal size for subscript characters",ySubscriptYSize:"Recommended vertical size for subscript characters",ySubscriptXOffset:"X-axis offset from baseline for subscript positioning",ySubscriptYOffset:"Y-axis offset from baseline for subscript positioning",ySuperscriptXSize:"Recommended horizontal size for superscript characters",ySuperscriptYSize:"Recommended vertical size for superscript characters",ySuperscriptXOffset:"X-axis offset from baseline for superscript positioning",ySuperscriptYOffset:"Y-axis offset from baseline for superscript positioning",yStrikeoutSize:"Strikeout stroke thickness",yStrikeoutPosition:"Vertical position of strikeout relative to baseline",sFamilyClass:"Font family classification (e.g., Serif/Sans-serif design categories)",panose:"PANOSE classification system for visual font characteristics",achVendID:"4-character font vendor identifier",fsSelection:"Font style flags (bitmask for Italic/Bold/Regular etc.)",usMaxContext:"Maximum context length required for glyph substitution",usLowerOpticalPointSize:"Minimum recommended optical size for this font",usUpperOpticalPointSize:"Maximum recommended optical size for this font"},L=[{name:"Family Type (Byte 1)",description:"Font classification category (e.g., Sans-serif, Serif, Monospace)",range:"Range: 0-11 (No Fit/Text Display/Decorative etc.)"},{name:"Serif Style (Byte 2)",description:"Serif design characteristics (applies to Serif fonts)",range:"Range: 0-5 (No Serif/Square/Thin etc.)"},{name:"Weight (Byte 3)",description:"Stroke thickness progression from light to black",range:"Range: 0-9 (Light/Medium/Bold etc.)"},{name:"Proportion (Byte 4)",description:"Character width characteristics",range:"Range: 0-5 (Monospace/Proportional/Old Style etc.)"},{name:"Contrast (Byte 5)",description:"Stroke thickness variation between vertical/horizontal elements",range:"Range: 0-5 (No Contrast/Low/Medium/High etc.)"},{name:"Stroke Variation (Byte 6)",description:"Transition between thick/thin stroke elements",range:"Range: 0-3 (No Variation/Gradual/Abrupt etc.)"},{name:"Arm Style (Byte 7)",description:"Terminal treatment of non-curved strokes",range:"Range: 0-3 (Straight/Single Serif etc.)"},{name:"Letterform (Byte 8)",description:"Overall letter shape characteristics",range:"Range: 0-2 (Normal/Contact/Weighted etc.)"},{name:"Midline (Byte 9)",description:"Position of character midline",range:"Range: 0-2 (Standard/High/Low)"},{name:"X-height (Byte 10)",description:"Relative height of lowercase letters (without ascenders/descenders)",range:"Range: 0-5 (Constant/Small/Medium etc.)"}],z=[{name:"Italic",description:"Indicates italic style"},{name:"Underscore",description:"Font contains underline metadata (rarely used)"},{name:"Negative",description:"Reverse-video outline effect (white foreground fill)"},{name:"Outlined",description:"Font uses outline effect styling"},{name:"Strikeout",description:"Font contains strikeout metadata"},{name:"Bold",description:"Indicates bold weight style"},{name:"Regular",description:"Base style flag (non-italic/non-bold)"},{name:"UseTypoMetrics",description:"Use OS/2 tables sTypoAscender/sTypoDescender for layout"},{name:"WWS",description:"Font follows Weight-Width-Slope naming scheme"},{name:"Oblique",description:"Mechanical slant style (distinct from italic)"}],j=computed(()=>e.value==="zh"?y:e.value==="en"?V:y),re=computed(()=>e.value==="zh"?k:e.value==="en"?L:k),oe=computed(()=>e.value==="zh"?$:e.value==="en"?z:$);return(ae,de)=>{const ue=resolveComponent("el-input-number"),pe=resolveComponent("QuestionFilled"),he=resolveComponent("el-icon"),xe=resolveComponent("el-tooltip"),$e=resolveComponent("el-input"),Ne=resolveComponent("el-checkbox"),Oe=resolveComponent("el-scrollbar");return openBlock(),createBlock(Oe,{height:"460px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[_hoisted_2$g,createBaseVNode("div",_hoisted_3$8,[createVNode(ue,{modelValue:unref(os2_data).version,"onUpdate:modelValue":de[0]||(de[0]=_e=>unref(os2_data).version=_e),onChange:de[1]||(de[1]=_e=>g("version",_e)),controls:!1,precision:0,disabled:""},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.version,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_4$5,toDisplayString$1(r.value.version.tip),1)])]),createBaseVNode("div",_hoisted_5$5,[_hoisted_6$5,createBaseVNode("div",_hoisted_7$5,[createVNode(ue,{modelValue:unref(os2_data).usWeightClass,"onUpdate:modelValue":de[2]||(de[2]=_e=>unref(os2_data).usWeightClass=_e),onChange:de[3]||(de[3]=_e=>g("usWeightClass",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.usWeightClass,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_8$5,toDisplayString$1(r.value.usWeightClass.tip),1)])]),createBaseVNode("div",_hoisted_9$5,[_hoisted_10$5,createBaseVNode("div",_hoisted_11$4,[createVNode(ue,{modelValue:unref(os2_data).usWidthClass,"onUpdate:modelValue":de[4]||(de[4]=_e=>unref(os2_data).usWidthClass=_e),onChange:de[5]||(de[5]=_e=>g("usWidthClass",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.usWidthClass,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_12$3,toDisplayString$1(r.value.usWidthClass.tip),1)])]),createBaseVNode("div",_hoisted_13$3,[_hoisted_14$3,createBaseVNode("div",_hoisted_15$1,[createVNode(ue,{modelValue:unref(os2_data).fsType,"onUpdate:modelValue":de[6]||(de[6]=_e=>unref(os2_data).fsType=_e),onChange:de[7]||(de[7]=_e=>g("fsType",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.fsType,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_16$1,toDisplayString$1(r.value.fsType.tip),1)])]),createBaseVNode("div",_hoisted_17,[_hoisted_18,createBaseVNode("div",_hoisted_19,[createVNode(ue,{modelValue:unref(os2_data).ySubscriptXSize,"onUpdate:modelValue":de[8]||(de[8]=_e=>unref(os2_data).ySubscriptXSize=_e),onChange:de[9]||(de[9]=_e=>g("ySubscriptXSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySubscriptXSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_20,toDisplayString$1(r.value.ySubscriptXSize.tip),1)])]),createBaseVNode("div",_hoisted_21,[_hoisted_22,createBaseVNode("div",_hoisted_23,[createVNode(ue,{modelValue:unref(os2_data).ySubscriptYSize,"onUpdate:modelValue":de[10]||(de[10]=_e=>unref(os2_data).ySubscriptYSize=_e),onChange:de[11]||(de[11]=_e=>g("ySubscriptYSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySubscriptYSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_24,toDisplayString$1(r.value.ySubscriptYSize.tip),1)])]),createBaseVNode("div",_hoisted_25,[_hoisted_26,createBaseVNode("div",_hoisted_27,[createVNode(ue,{modelValue:unref(os2_data).ySubscriptXOffset,"onUpdate:modelValue":de[12]||(de[12]=_e=>unref(os2_data).ySubscriptXOffset=_e),onChange:de[13]||(de[13]=_e=>g("ySubscriptXOffset",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySubscriptXOffset,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_28,toDisplayString$1(r.value.ySubscriptXOffset.tip),1)])]),createBaseVNode("div",_hoisted_29,[_hoisted_30,createBaseVNode("div",_hoisted_31,[createVNode(ue,{modelValue:unref(os2_data).ySubscriptXOffset,"onUpdate:modelValue":de[14]||(de[14]=_e=>unref(os2_data).ySubscriptXOffset=_e),onChange:de[15]||(de[15]=_e=>g("ySubscriptYOffset",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySubscriptYOffset,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_32,toDisplayString$1(r.value.ySubscriptYOffset.tip),1)])]),createBaseVNode("div",_hoisted_33,[_hoisted_34,createBaseVNode("div",_hoisted_35,[createVNode(ue,{modelValue:unref(os2_data).ySuperscriptXSize,"onUpdate:modelValue":de[16]||(de[16]=_e=>unref(os2_data).ySuperscriptXSize=_e),onChange:de[17]||(de[17]=_e=>g("ySuperscriptXSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySuperscriptXSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_36,toDisplayString$1(r.value.ySuperscriptXSize.tip),1)])]),createBaseVNode("div",_hoisted_37,[_hoisted_38,createBaseVNode("div",_hoisted_39,[createVNode(ue,{modelValue:unref(os2_data).ySuperscriptYSize,"onUpdate:modelValue":de[18]||(de[18]=_e=>unref(os2_data).ySuperscriptYSize=_e),onChange:de[19]||(de[19]=_e=>g("ySuperscriptYSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySuperscriptYSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_40,toDisplayString$1(r.value.ySuperscriptYSize.tip),1)])]),createBaseVNode("div",_hoisted_41,[_hoisted_42,createBaseVNode("div",_hoisted_43,[createVNode(ue,{modelValue:unref(os2_data).ySuperscriptXOffset,"onUpdate:modelValue":de[20]||(de[20]=_e=>unref(os2_data).ySuperscriptXOffset=_e),onChange:de[21]||(de[21]=_e=>g("ySuperscriptXOffset",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySuperscriptXOffset,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_44,toDisplayString$1(r.value.ySuperscriptXOffset.tip),1)])]),createBaseVNode("div",_hoisted_45,[_hoisted_46,createBaseVNode("div",_hoisted_47,[createVNode(ue,{modelValue:unref(os2_data).ySuperscriptYOffset,"onUpdate:modelValue":de[22]||(de[22]=_e=>unref(os2_data).ySuperscriptYOffset=_e),onChange:de[23]||(de[23]=_e=>g("ySuperscriptYOffset",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.ySuperscriptYOffset,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_48,toDisplayString$1(r.value.ySuperscriptYOffset.tip),1)])]),createBaseVNode("div",_hoisted_49,[_hoisted_50,createBaseVNode("div",_hoisted_51,[createVNode(ue,{modelValue:unref(os2_data).yStrikeoutSize,"onUpdate:modelValue":de[24]||(de[24]=_e=>unref(os2_data).yStrikeoutSize=_e),onChange:de[25]||(de[25]=_e=>g("yStrikeoutSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.yStrikeoutSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_52,toDisplayString$1(r.value.yStrikeoutSize.tip),1)])]),createBaseVNode("div",_hoisted_53,[_hoisted_54,createBaseVNode("div",_hoisted_55,[createVNode(ue,{modelValue:unref(os2_data).yStrikeoutPosition,"onUpdate:modelValue":de[26]||(de[26]=_e=>unref(os2_data).yStrikeoutPosition=_e),onChange:de[27]||(de[27]=_e=>g("yStrikeoutPosition",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.yStrikeoutPosition,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_56,toDisplayString$1(r.value.yStrikeoutPosition.tip),1)])]),createBaseVNode("div",_hoisted_57,[_hoisted_58,createBaseVNode("div",_hoisted_59,[createVNode(ue,{modelValue:unref(os2_data).sFamilyClass,"onUpdate:modelValue":de[28]||(de[28]=_e=>unref(os2_data).sFamilyClass=_e),onChange:de[29]||(de[29]=_e=>g("sFamilyClass",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.sFamilyClass,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_60,toDisplayString$1(r.value.sFamilyClass.tip),1)])]),createBaseVNode("div",_hoisted_61,[_hoisted_62,createBaseVNode("div",_hoisted_63,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(os2_data).panose,(_e,Fe)=>(openBlock(),createElementBlock("div",_hoisted_64,[createBaseVNode("div",_hoisted_65,[createVNode(ue,{modelValue:unref(os2_data).panose[Fe],"onUpdate:modelValue":Ue=>unref(os2_data).panose[Fe]=Ue,controls:!1,precision:0,style:{width:"80px"}},null,8,["modelValue","onUpdate:modelValue"])]),createVNode(xe,{class:"tips",effect:"dark",content:re.value[Fe].range,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:2},1032,["content"]),createBaseVNode("div",_hoisted_66,toDisplayString$1(re.value[Fe].description),1)]))),256))])]),createBaseVNode("div",_hoisted_67,[_hoisted_68,createBaseVNode("div",_hoisted_69,[createVNode($e,{modelValue:unref(os2_data).yStrikeoutPosition,"onUpdate:modelValue":de[30]||(de[30]=_e=>unref(os2_data).yStrikeoutPosition=_e),onChange:de[31]||(de[31]=_e=>g("yStrikeoutPosition",_e)),controls:!1},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.achVendID,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_70,toDisplayString$1(r.value.achVendID.tip),1)])]),createBaseVNode("div",_hoisted_71,[_hoisted_72,createBaseVNode("div",_hoisted_73,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(os2_data).fsSelection,(_e,Fe)=>(openBlock(),createElementBlock("div",_hoisted_74,[createBaseVNode("div",_hoisted_75,[createVNode(Ne,{modelValue:unref(os2_data).fsSelection[Fe],"onUpdate:modelValue":Ue=>unref(os2_data).fsSelection[Fe]=Ue},null,8,["modelValue","onUpdate:modelValue"])]),createBaseVNode("div",_hoisted_76,"Bit-"+toDisplayString$1(Fe),1),createBaseVNode("div",_hoisted_77,toDisplayString$1(oe.value[Fe].description),1)]))),256))])]),createBaseVNode("div",_hoisted_78,[_hoisted_79,createBaseVNode("div",_hoisted_80,[createVNode(ue,{modelValue:unref(os2_data).usMaxContext,"onUpdate:modelValue":de[32]||(de[32]=_e=>unref(os2_data).usMaxContext=_e),onChange:de[33]||(de[33]=_e=>g("usMaxContext",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.usMaxContext,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_81,toDisplayString$1(r.value.usMaxContext.tip),1)])]),createBaseVNode("div",_hoisted_82,[_hoisted_83,createBaseVNode("div",_hoisted_84,[createVNode(ue,{modelValue:unref(os2_data).usLowerOpticalPointSize,"onUpdate:modelValue":de[34]||(de[34]=_e=>unref(os2_data).usLowerOpticalPointSize=_e),onChange:de[35]||(de[35]=_e=>g("usLowerOpticalPointSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.usLowerOpticalPointSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_85,toDisplayString$1(r.value.usLowerOpticalPointSize.tip),1)])]),createBaseVNode("div",_hoisted_86,[_hoisted_87,createBaseVNode("div",_hoisted_88,[createVNode(ue,{modelValue:unref(os2_data).usUpperOpticalPointSize,"onUpdate:modelValue":de[36]||(de[36]=_e=>unref(os2_data).usUpperOpticalPointSize=_e),onChange:de[37]||(de[37]=_e=>g("usUpperOpticalPointSize",_e)),controls:!1,precision:0},null,8,["modelValue"]),createVNode(xe,{class:"tips",effect:"dark",content:j.value.usUpperOpticalPointSize,placement:"bottom"},{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[createVNode(pe)]),_:1})]),_:1},8,["content"]),createBaseVNode("div",_hoisted_89,toDisplayString$1(r.value.usUpperOpticalPointSize.tip),1)])])]),_:1})}}}),Os2Panel=_export_sfc(_sfc_main$i,[["__scopeId","data-v-fdf651ef"]]),_hoisted_1$g={class:"dialog-footer"},_sfc_main$h=defineComponent({__name:"FontSettingsDialog",setup(n){const{tm:e,t:r}=useI18n();onMounted(()=>{});const g=()=>{setFontSettings2DialogVisible(!1)},y=()=>{selectedFile.value.fontSettings&&(selectedFile.value.fontSettings.tables={head:head_data.value,hhea:hhea_data.value,os2:os2_data.value,name:name_data.value,post:post_data.value}),setFontSettings2DialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-tab-pane"),L=resolveComponent("el-tabs"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{"model-value":unref(fontSettings2DialogVisible),class:"font-settings-dialog",title:unref(e)("dialogs.fontSettingsDialog.title"),width:"800px",style:{height:"640px"},"before-close":g},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_1$g,[createVNode(z,{onPointerdown:$[0]||($[0]=re=>unref(setFontSettings2DialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onPointerdown:$[1]||($[1]=()=>y())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createVNode(L,{"tab-position":"left",style:{height:"460px"},class:"table-tabs"},{default:withCtx(()=>[createVNode(V,{label:"head"},{default:withCtx(()=>[createVNode(HeadPanel)]),_:1}),createVNode(V,{label:"hhea"},{default:withCtx(()=>[createVNode(HheaPanel)]),_:1}),createVNode(V,{label:"name"},{default:withCtx(()=>[createVNode(NamePanel)]),_:1}),createVNode(V,{label:"os_2"},{default:withCtx(()=>[createVNode(Os2Panel)]),_:1}),createVNode(V,{label:"post"},{default:withCtx(()=>[createVNode(PostPanel)]),_:1})]),_:1})]),_:1},8,["model-value","title"])}}}),_hoisted_1$f={class:"settings-panel"},_hoisted_2$f={class:"background-style-wrap"},_hoisted_3$7={class:"title"},_hoisted_4$4={class:"form-item"},_hoisted_5$4={class:"form-label"},_hoisted_6$4={class:"grid-style-wrap"},_hoisted_7$4={class:"title"},_hoisted_8$4={class:"form-item"},_hoisted_9$4={class:"form-label"},_hoisted_10$4={class:"form-item"},_hoisted_11$3={class:"form-label"},_hoisted_12$2={class:"font-render-style-wrap"},_hoisted_13$2={class:"title"},_hoisted_14$2={class:"form-item"},_hoisted_15={class:"form-label"},_hoisted_16={class:"dialog-footer"},_sfc_main$g=defineComponent({__name:"PreferenceSettingsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{switch(V.value){case"none":setGridType(GridType.None);break;case"mesh":setGridType(GridType.Mesh);break;case"mi":setGridType(GridType.Mi);break;case"layout":setGridType(GridType.LayoutGrid);break}switch(k.value){case"color":setBackgroundType(BackgroundType.Color);break;case"transparent":setBackgroundType(BackgroundType.Transparent);break}$.value&&setBackgroundColor($.value),L.value&&V.value==="mesh"&&setGridPrecision(L.value),setPreferenceSettingsDialogVisible(!1)},y=()=>{setPreferenceSettingsDialogVisible(!1)},k=ref("transparent"),$=ref("#FFFFFF"),V=ref("none"),L=ref(10);return(z,j)=>{const re=resolveComponent("el-radio"),oe=resolveComponent("el-color-picker"),ae=resolveComponent("el-radio-group"),de=resolveComponent("el-form"),ue=resolveComponent("el-input-number"),pe=resolveComponent("el-button"),he=resolveComponent("el-dialog");return openBlock(),createBlock(he,{"model-value":unref(preferenceSettingsDialogVisible),class:"preference-settings-dialog",title:unref(e)("dialogs.preferenceDialog.title"),width:"360px","before-close":y},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_16,[createVNode(pe,{onPointerdown:j[5]||(j[5]=xe=>unref(setPreferenceSettingsDialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.preferenceDialog.cancel")),1)]),_:1}),createVNode(pe,{type:"primary",onPointerdown:j[6]||(j[6]=()=>g())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.preferenceDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$7,toDisplayString$1(unref(r)("panels.settingsPanel.background.background")),1),createVNode(de,{class:"background-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$4,toDisplayString$1(unref(r)("panels.settingsPanel.background.style")),1),createVNode(ae,{modelValue:k.value,"onUpdate:modelValue":j[1]||(j[1]=xe=>k.value=xe)},{default:withCtx(()=>[createVNode(re,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.background.color")),1)]),_:1}),k.value==="color"?(openBlock(),createBlock(oe,{key:0,class:"color-picker",style:{marginLeft:"-20px",marginRight:"20px"},modelValue:$.value,"onUpdate:modelValue":j[0]||(j[0]=xe=>$.value=xe),id:"backgroundColor"},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(re,{label:"transparent"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.background.transparent")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),createBaseVNode("div",_hoisted_6$4,[createBaseVNode("div",_hoisted_7$4,toDisplayString$1(unref(r)("panels.settingsPanel.mesh.mesh")),1),createVNode(de,{class:"grid-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_8$4,[createBaseVNode("div",_hoisted_9$4,toDisplayString$1(unref(r)("panels.settingsPanel.mesh.style")),1),createVNode(ae,{modelValue:V.value,"onUpdate:modelValue":j[2]||(j[2]=xe=>V.value=xe),id:"gridStyle"},{default:withCtx(()=>[createVNode(re,{label:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.none")),1)]),_:1}),createVNode(re,{label:"mesh"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.mesh")),1)]),_:1}),createVNode(re,{label:"mi"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.mi")),1)]),_:1}),createVNode(re,{label:"layout"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.layout")),1)]),_:1})]),_:1},8,["modelValue"])]),withDirectives(createBaseVNode("div",_hoisted_10$4,[createBaseVNode("div",_hoisted_11$3,toDisplayString$1(unref(r)("panels.settingsPanel.mesh.precision")),1),createVNode(ue,{modelValue:L.value,"onUpdate:modelValue":j[3]||(j[3]=xe=>L.value=xe),min:10,max:50},null,8,["modelValue"])],512),[[vShow,V.value==="mesh"]])]),_:1})]),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("div",_hoisted_13$2,toDisplayString$1(unref(r)("panels.settingsPanel.render.render")),1),createVNode(de,{class:"font-render-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$2,[createBaseVNode("div",_hoisted_15,toDisplayString$1(unref(r)("panels.settingsPanel.render.style")),1),createVNode(ae,{modelValue:unref(fontRenderStyle),"onUpdate:modelValue":j[4]||(j[4]=xe=>isRef(fontRenderStyle)?fontRenderStyle.value=xe:null),id:"renderStyle"},{default:withCtx(()=>[createVNode(re,{label:"contour"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.render.contour")),1)]),_:1}),createVNode(re,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.render.color")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})])])]),_:1},8,["model-value","title"])}}}),_hoisted_1$e={class:"form-wrapper"},_hoisted_2$e={class:"dialog-footer"},_sfc_main$f=defineComponent({__name:"SetAsGlobalParamDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setSetAsGlobalParamDialogVisible(!1)},k=()=>{if(selectedParam.value){const $=clone$1(selectedParam.value);if($.uuid=genUUID(),$.ratio="",$.ratioed=!1,$.name=g.value,constants.value.push($),constantsMap.update(constants.value),selectedParamType.value==="glyph_components"){for(let V=0;V<selectedComponent$1.value.value.parameters.parameters.length;V++)if(selectedComponent$1.value.value.parameters.parameters[V].uuid===selectedParam.value.uuid){selectedComponent$1.value.value.parameters.parameters[V].value=$.uuid,selectedComponent$1.value.value.parameters.parameters[V].type=ParameterType.Constant,selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[V].name]&&delete selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[V].name];const L=getGlyphType(editGlyphUUID.value);constantGlyphMap.get($.uuid).push({constantType:ConstantType.Component,glyphType:convertGlyphType(L),parameterUUID:selectedParam.value.uuid,parentUUID:editGlyphUUID.value,glyphUUID:selectedComponent$1.value.uuid})}}else if(selectedParamType.value==="character_components")for(let V=0;V<selectedComponent.value.value.parameters.parameters.length;V++)selectedComponent.value.value.parameters.parameters[V].uuid===selectedParam.value.uuid&&(selectedComponent.value.value.parameters.parameters[V].value=$.uuid,selectedComponent.value.value.parameters.parameters[V].type=ParameterType.Constant,selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[V].name]&&delete selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[V].name],constantGlyphMap.get($.uuid).push({constantType:ConstantType.Component,glyphType:GlyphType.Char,parameterUUID:selectedParam.value.uuid,parentUUID:editCharacterFileUUID.value,glyphUUID:selectedComponent.value.uuid}));else if(selectedParamType.value==="glyph_params"){for(let V=0;V<editGlyph.value.parameters.parameters.length;V++)if(editGlyph.value.parameters.parameters[V].uuid===selectedParam.value.uuid){editGlyph.value.parameters.parameters[V].value=$.uuid,editGlyph.value.parameters.parameters[V].type=ParameterType.Constant,editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[V].name]&&delete editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[V].name];const L=getGlyphType(editGlyphUUID.value);constantGlyphMap.get($.uuid).push({constantType:ConstantType.Parameter,glyphType:convertGlyphType(L),parameterUUID:selectedParam.value.uuid,glyphUUID:editGlyphUUID.value})}}}g.value="",selectedParam.value=null,setSetAsGlobalParamDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-input"),z=resolveComponent("el-form-item"),j=resolveComponent("el-form"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(setAsGlobalParamDialogVisible),"onUpdate:modelValue":V[1]||(V[1]=ae=>isRef(setAsGlobalParamDialogVisible)?setAsGlobalParamDialogVisible.value=ae:null),title:unref(e)("dialogs.setAsGlobalParamDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$e,[createVNode(re,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.setAsGlobalParamDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.setAsGlobalParamDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[createVNode(j,{"label-width":"80px"},{default:withCtx(()=>[createVNode(z,{label:unref(e)("dialogs.setAsGlobalParamDialog.paramName")},{default:withCtx(()=>[createVNode(L,{modelValue:g.value,"onUpdate:modelValue":V[0]||(V[0]=ae=>g.value=ae)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$d={class:"form-wrapper"},_hoisted_2$d={class:"dialog-footer"},_sfc_main$e=defineComponent({__name:"SelectGlobalParamDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setSelectGlobalParamDialogVisible(!1)},k=()=>{if(g.value&&selectedParam.value){if(selectedParamType.value==="glyph_components")for(let $=0;$<selectedComponent$1.value.value.parameters.parameters.length;$++){if(selectedComponent$1.value.value.parameters.parameters[$].uuid===selectedParam.value.uuid){selectedComponent$1.value.value.parameters.parameters[$].value=g.value,selectedComponent$1.value.value.parameters.parameters[$].type=ParameterType.Constant,selectedComponent$1.value.value.parameters.parameters[$].ratio="",selectedComponent$1.value.value.parameters.parameters[$].ratioed=!1,selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[$].name]&&delete selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[$].name];const V=getGlyphType(editGlyphUUID.value);constantGlyphMap.get(g.value)||constantGlyphMap.set(g.value,[]),constantGlyphMap.get(g.value).push({constantType:ConstantType.Component,glyphType:convertGlyphType(V),parameterUUID:selectedParam.value.uuid,parentUUID:editGlyphUUID.value,glyphUUID:selectedComponent$1.value.uuid})}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")}else if(selectedParamType.value==="character_components")for(let $=0;$<selectedComponent.value.value.parameters.parameters.length;$++)selectedComponent.value.value.parameters.parameters[$].uuid===selectedParam.value.uuid&&(selectedComponent.value.value.parameters.parameters[$].value=g.value,selectedComponent.value.value.parameters.parameters[$].type=ParameterType.Constant,selectedComponent.value.value.parameters.parameters[$].ratio="",selectedComponent.value.value.parameters.parameters[$].ratioed=!1,selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[$].name]&&delete selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[$].name],constantGlyphMap.get(g.value)||constantGlyphMap.set(g.value,[]),constantGlyphMap.get(g.value).push({constantType:ConstantType.Component,glyphType:GlyphType.Char,parameterUUID:selectedParam.value.uuid,parentUUID:editCharacterFileUUID.value,glyphUUID:selectedComponent.value.uuid}),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"));else if(selectedParamType.value==="glyph_params"){for(let $=0;$<editGlyph.value.parameters.parameters.length;$++)if(editGlyph.value.parameters.parameters[$].uuid===selectedParam.value.uuid){editGlyph.value.parameters.parameters[$].value=g.value,editGlyph.value.parameters.parameters[$].type=ParameterType.Constant,editGlyph.value.parameters.parameters[$].ratio="",editGlyph.value.parameters.parameters[$].ratioed=!1,editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[$].name]&&delete editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[$].name];const V=getGlyphType(editGlyphUUID.value);constantGlyphMap.get(g.value)||constantGlyphMap.set(g.value,[]),constantGlyphMap.get(g.value).push({constantType:ConstantType.Parameter,glyphType:convertGlyphType(V),parameterUUID:selectedParam.value.uuid,glyphUUID:editGlyphUUID.value}),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")}}}g.value="",setSelectGlobalParamDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-option"),z=resolveComponent("el-select"),j=resolveComponent("el-form-item"),re=resolveComponent("el-form"),oe=resolveComponent("el-button"),ae=resolveComponent("el-dialog");return openBlock(),createBlock(ae,{modelValue:unref(selectGlobalParamDialogVisible),"onUpdate:modelValue":V[1]||(V[1]=de=>isRef(selectGlobalParamDialogVisible)?selectGlobalParamDialogVisible.value=de:null),title:unref(e)("dialogs.selectGlobalParamDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$d,[createVNode(oe,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.selectGlobalParamDialog.cancel")),1)]),_:1}),createVNode(oe,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.selectGlobalParamDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[createVNode(re,{"label-width":"80px"},{default:withCtx(()=>[createVNode(j,{label:unref(e)("dialogs.selectGlobalParamDialog.globalParam")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":V[0]||(V[0]=de=>g.value=de),class:"parameter-const-select"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(constants),de=>(openBlock(),createBlock(L,{key:de.uuid,label:de.name,value:de.uuid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$c={class:"form-wrapper"},_hoisted_2$c={class:"dialog-footer"},_sfc_main$d=defineComponent({__name:"TipsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{tips.value="",setTipsDialogVisible(!1)},y=()=>{tips.value="",setTipsDialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-button"),L=resolveComponent("el-dialog");return openBlock(),createBlock(L,{modelValue:unref(tipsDialogVisible),"onUpdate:modelValue":$[0]||($[0]=z=>isRef(tipsDialogVisible)?tipsDialogVisible.value=z:null),title:unref(e)("dialogs.tipsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$c,[createVNode(V,{onPointerdown:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.cancel")),1)]),_:1}),createVNode(V,{type:"primary",onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,toDisplayString$1(unref(tips)),1)]),_:1},8,["modelValue","title"])}}}),tipsDialog=_export_sfc(_sfc_main$d,[["__scopeId","data-v-cf6aae6b"]]),_hoisted_1$b={class:"form-wrapper"},_hoisted_2$b={class:"dialog-footer"},_sfc_main$c=defineComponent({__name:"CloseFileTipDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{setCloseFileTipDialogVisible(!1)},y=()=>{removeFile(files.value[0].uuid),clearCharacterRenderList(),clearGlyphRenderList(Status.GlyphList),clearGlyphRenderList(Status.StrokeGlyphList),clearGlyphRenderList(Status.RadicalGlyphList),clearGlyphRenderList(Status.CompGlyphList),clearSelectionGlyphRenderList(Status.GlyphList),clearSelectionGlyphRenderList(Status.StrokeGlyphList),clearSelectionGlyphRenderList(Status.RadicalGlyphList),clearSelectionGlyphRenderList(Status.CompGlyphList),glyphs.value=[],stroke_glyphs.value=[],radical_glyphs.value=[],comp_glyphs.value=[],setCloseFileTipDialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-button"),L=resolveComponent("el-dialog");return openBlock(),createBlock(L,{modelValue:unref(closeFileTipDialogVisible),"onUpdate:modelValue":$[0]||($[0]=z=>isRef(closeFileTipDialogVisible)?closeFileTipDialogVisible.value=z:null),title:unref(e)("dialogs.tipsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$b,[createVNode(V,{onPointerdown:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.cancel")),1)]),_:1}),createVNode(V,{type:"primary",onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,toDisplayString$1(unref(r)("dialogs.tipsDialog.tip1")),1)]),_:1},8,["modelValue","title"])}}}),closeFileTipDialog=_export_sfc(_sfc_main$c,[["__scopeId","data-v-e8a5b58a"]]),_hoisted_1$a={class:"form-wrapper"},_hoisted_2$a={class:"dialog-footer"},_sfc_main$b=defineComponent({__name:"SaveFileTipDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{setSaveFileTipDialogVisible(!1)},y=()=>{saveFile(),setSaveFileTipDialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-button"),L=resolveComponent("el-dialog");return openBlock(),createBlock(L,{modelValue:unref(saveFileTipDialogVisible),"onUpdate:modelValue":$[0]||($[0]=z=>isRef(saveFileTipDialogVisible)?saveFileTipDialogVisible.value=z:null),title:unref(e)("dialogs.tipsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$a,[createVNode(V,{onPointerdown:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.cancel")),1)]),_:1}),createVNode(V,{type:"primary",onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,toDisplayString$1(unref(r)("dialogs.tipsDialog.tip2")),1)]),_:1},8,["modelValue","title"])}}}),saveFileTipDialog=_export_sfc(_sfc_main$b,[["__scopeId","data-v-00af0120"]]);async function open$2(n={}){return typeof n=="object"&&Object.freeze(n),await invoke("plugin:dialog|open",{options:n})}async function save(n={}){return typeof n=="object"&&Object.freeze(n),await invoke("plugin:dialog|save",{options:n})}var BaseDirectory;(function(n){n[n.Audio=1]="Audio",n[n.Cache=2]="Cache",n[n.Config=3]="Config",n[n.Data=4]="Data",n[n.LocalData=5]="LocalData",n[n.Document=6]="Document",n[n.Download=7]="Download",n[n.Picture=8]="Picture",n[n.Public=9]="Public",n[n.Video=10]="Video",n[n.Resource=11]="Resource",n[n.Temp=12]="Temp",n[n.AppConfig=13]="AppConfig",n[n.AppData=14]="AppData",n[n.AppLocalData=15]="AppLocalData",n[n.AppCache=16]="AppCache",n[n.AppLog=17]="AppLog",n[n.Desktop=18]="Desktop",n[n.Executable=19]="Executable",n[n.Font=20]="Font",n[n.Home=21]="Home",n[n.Runtime=22]="Runtime",n[n.Template=23]="Template"})(BaseDirectory||(BaseDirectory={}));var SeekMode;(function(n){n[n.Start=0]="Start",n[n.Current=1]="Current",n[n.End=2]="End"})(SeekMode||(SeekMode={}));function parseFileInfo(n){return{isFile:n.isFile,isDirectory:n.isDirectory,isSymlink:n.isSymlink,size:n.size,mtime:n.mtime!==null?new Date(n.mtime):null,atime:n.atime!==null?new Date(n.atime):null,birthtime:n.birthtime!==null?new Date(n.birthtime):null,readonly:n.readonly,fileAttributes:n.fileAttributes,dev:n.dev,ino:n.ino,mode:n.mode,nlink:n.nlink,uid:n.uid,gid:n.gid,rdev:n.rdev,blksize:n.blksize,blocks:n.blocks}}function fromBytes(n){const e=new Uint8ClampedArray(n),r=e.byteLength;let g=0;for(let y=0;y<r;y++){const k=e[y];g*=256,g+=k}return g}class FileHandle extends Resource{async read(e){if(e.byteLength===0)return 0;const r=await invoke("plugin:fs|read",{rid:this.rid,len:e.byteLength}),g=fromBytes(r.slice(-8)),y=r instanceof ArrayBuffer?new Uint8Array(r):r;return e.set(y.slice(0,y.length-8)),g===0?null:g}async seek(e,r){return await invoke("plugin:fs|seek",{rid:this.rid,offset:e,whence:r})}async stat(){const e=await invoke("plugin:fs|fstat",{rid:this.rid});return parseFileInfo(e)}async truncate(e){await invoke("plugin:fs|ftruncate",{rid:this.rid,len:e})}async write(e){return await invoke("plugin:fs|write",{rid:this.rid,data:e})}}async function open$1(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await invoke("plugin:fs|open",{path:n instanceof URL?n.toString():n,options:e});return new FileHandle(r)}async function readFile(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await invoke("plugin:fs|read_file",{path:n instanceof URL?n.toString():n,options:e});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function readTextFile(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await invoke("plugin:fs|read_text_file",{path:n instanceof URL?n.toString():n,options:e}),g=r instanceof ArrayBuffer?r:Uint8Array.from(r);return new TextDecoder().decode(g)}async function writeFile(n,e,r){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");if(e instanceof ReadableStream){const g=await open$1(n,r);for await(const y of e)await g.write(y);await g.close()}else await invoke("plugin:fs|write_file",e,{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(r)}})}async function writeTextFile(n,e,r){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const g=new TextEncoder;await invoke("plugin:fs|write_text_file",g.encode(e),{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(r)}})}const _hoisted_1$9={class:"form-wrapper"},_hoisted_2$9={class:"text"},_hoisted_3$6={class:"dialog-footer"},_sfc_main$a=defineComponent({__name:"SaveDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({characters:!0,stroke_glyphs:!0,radical_glyphs:!0,comp_glyphs:!0,glyphs:!0}),y=()=>{setSaveDialogVisible(!1)},k=async()=>{total$1.value=0,loaded$1.value=0,loading$1.value=!0;const $=plainFile(selectedFile.value);let V=[],L=[],z=[],j=[];g.value.glyphs&&(V=glyphs.value.map(ae=>plainGlyph(ae))),g.value.stroke_glyphs&&(L=stroke_glyphs.value.map(ae=>plainGlyph(ae))),g.value.radical_glyphs&&(z=radical_glyphs.value.map(ae=>plainGlyph(ae))),g.value.comp_glyphs&&(j=comp_glyphs.value.map(ae=>plainGlyph(ae)));const re=JSON.stringify({file:$,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1,glyphs:V,stroke_glyphs:L,radical_glyphs:z,comp_glyphs:j}),oe=await save({defaultPath:`${selectedFile.value.name}.json`,filters:[{name:"JSON Filter",extensions:["json"]}]});oe&&await writeTextFile(oe,re),loading$1.value=!1,setSaveDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(saveDialogVisible),"onUpdate:modelValue":V[5]||(V[5]=re=>isRef(saveDialogVisible)?saveDialogVisible.value=re:null),title:unref(e)("dialogs.saveDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$6,[createVNode(z,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$9,toDisplayString$1(unref(r)("dialogs.exportDialog.exportMsg")),1),createVNode(L,{modelValue:g.value.characters,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.characters=re),class:"item-check",disabled:""},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.character")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.stroke_glyphs,"onUpdate:modelValue":V[1]||(V[1]=re=>g.value.stroke_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.stroke")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.radical_glyphs,"onUpdate:modelValue":V[2]||(V[2]=re=>g.value.radical_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.radical")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.comp_glyphs,"onUpdate:modelValue":V[3]||(V[3]=re=>g.value.comp_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.comp")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.glyphs,"onUpdate:modelValue":V[4]||(V[4]=re=>g.value.glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.glyph_comp")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),saveDialog=_export_sfc(_sfc_main$a,[["__scopeId","data-v-2bdfa7f5"]]),_hoisted_1$8={class:"form-wrapper"},_hoisted_2$8={class:"text"},_hoisted_3$5={class:"dialog-footer"},_sfc_main$9=defineComponent({__name:"SaveAsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({characters:!0,stroke_glyphs:!0,radical_glyphs:!0,comp_glyphs:!0,glyphs:!0}),y=()=>{setSaveAsDialogVisible(!1)},k=async()=>{total$1.value=0,loaded$1.value=0,loading$1.value=!0;const $=plainFile(selectedFile.value);let V=[],L=[],z=[],j=[];g.value.glyphs&&(V=glyphs.value.map(ae=>plainGlyph(ae))),g.value.stroke_glyphs&&(L=stroke_glyphs.value.map(ae=>plainGlyph(ae))),g.value.radical_glyphs&&(z=radical_glyphs.value.map(ae=>plainGlyph(ae))),g.value.comp_glyphs&&(j=comp_glyphs.value.map(ae=>plainGlyph(ae)));const re=JSON.stringify({file:$,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1,glyphs:V,stroke_glyphs:L,radical_glyphs:z,comp_glyphs:j}),oe=await save({defaultPath:`${selectedFile.value.name}.json`,filters:[{name:"JSON Filter",extensions:["json"]}]});oe&&await writeTextFile(oe,re),loading$1.value=!1,setSaveAsDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(saveAsDialogVisible),"onUpdate:modelValue":V[5]||(V[5]=re=>isRef(saveAsDialogVisible)?saveAsDialogVisible.value=re:null),title:unref(e)("dialogs.saveAsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$5,[createVNode(z,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,toDisplayString$1(unref(r)("dialogs.exportDialog.exportMsg")),1),createVNode(L,{modelValue:g.value.characters,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.characters=re),class:"item-check",disabled:""},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.character")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.stroke_glyphs,"onUpdate:modelValue":V[1]||(V[1]=re=>g.value.stroke_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.stroke")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.radical_glyphs,"onUpdate:modelValue":V[2]||(V[2]=re=>g.value.radical_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.radical")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.comp_glyphs,"onUpdate:modelValue":V[3]||(V[3]=re=>g.value.comp_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.comp")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.glyphs,"onUpdate:modelValue":V[4]||(V[4]=re=>g.value.glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.glyph_comp")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),saveAsDialog=_export_sfc(_sfc_main$9,[["__scopeId","data-v-247102fe"]]),_hoisted_1$7={class:"form-wrapper"},_hoisted_2$7={class:"text"},_hoisted_3$4={class:"dialog-footer"},_sfc_main$8=defineComponent({__name:"ExportFileDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({characters:!0,stroke_glyphs:!0,radical_glyphs:!0,comp_glyphs:!0,glyphs:!0}),y=()=>{setExportDialogVisible(!1)},k=()=>{total$1.value=0,loaded$1.value=0,loading$1.value=!0;const $=plainFile(selectedFile.value);let V=[],L=[],z=[],j=[];g.value.glyphs&&(V=glyphs.value.map(ae=>plainGlyph(ae))),g.value.stroke_glyphs&&(L=stroke_glyphs.value.map(ae=>plainGlyph(ae))),g.value.radical_glyphs&&(z=radical_glyphs.value.map(ae=>plainGlyph(ae))),g.value.comp_glyphs&&(j=comp_glyphs.value.map(ae=>plainGlyph(ae)));const re=JSON.stringify({file:$,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1,glyphs:V,stroke_glyphs:L,radical_glyphs:z,comp_glyphs:j}),oe=new Blob([re],{type:"text/plain;charset=utf-8"});saveAs(oe,`${selectedFile.value.name}.json`),loading$1.value=!1,setExportDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(exportDialogVisible),"onUpdate:modelValue":V[5]||(V[5]=re=>isRef(exportDialogVisible)?exportDialogVisible.value=re:null),title:unref(e)("dialogs.exportDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$4,[createVNode(z,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$7,toDisplayString$1(unref(r)("dialogs.exportDialog.exportMsg")),1),createVNode(L,{modelValue:g.value.characters,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.characters=re),class:"item-check",disabled:""},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.character")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.stroke_glyphs,"onUpdate:modelValue":V[1]||(V[1]=re=>g.value.stroke_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.stroke")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.radical_glyphs,"onUpdate:modelValue":V[2]||(V[2]=re=>g.value.radical_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.radical")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.comp_glyphs,"onUpdate:modelValue":V[3]||(V[3]=re=>g.value.comp_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.comp")),1)]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.glyphs,"onUpdate:modelValue":V[4]||(V[4]=re=>g.value.glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("programming.glyph_comp")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),exportFileDialog=_export_sfc(_sfc_main$8,[["__scopeId","data-v-9a96da20"]]),_hoisted_1$6={class:"form-wrapper"},_hoisted_2$6={class:"dialog-footer"},_sfc_main$7=defineComponent({__name:"ExportFontDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({remove_overlap:!1}),y=()=>{setExportFontDialogVisible(!1)},k=()=>{g.value.remove_overlap?total$1.value=selectedFile.value.characterList.length*4:total$1.value=selectedFile.value.characterList.length*3,loaded$1.value=0,loading$1.value=!0,setTimeout(async()=>{g.value.remove_overlap&&await computeOverlapRemovedContours(),setTimeout(()=>exportFont(g.value),100),setExportFontDialogVisible(!1)},100)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(exportFontDialogVisible),"onUpdate:modelValue":V[1]||(V[1]=re=>isRef(exportFontDialogVisible)?exportFontDialogVisible.value=re:null),title:unref(e)("dialogs.exportFontDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$6,[createVNode(z,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$6,[createVNode(L,{modelValue:g.value.remove_overlap,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.remove_overlap=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("menus.tools.remove_overlap")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),exportFontDialog=_export_sfc(_sfc_main$7,[["__scopeId","data-v-734767fe"]]),_hoisted_1$5={class:"form-wrapper"},_hoisted_2$5={class:"dialog-footer"},_sfc_main$6=defineComponent({__name:"ExportFontDialog_tauri",setup(n){const{tm:e,t:r}=useI18n(),g=ref({remove_overlap:!1}),y=()=>{setExportFontTauriDialogVisible(!1)},k=async()=>{total$1.value=selectedFile.value.characterList.length*4,loaded$1.value=0,loading$1.value=!0,await computeOverlapRemovedContours(),await exportFont_tauri(g.value),setExportFontTauriDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(exportFontTauriDialogVisible),"onUpdate:modelValue":V[1]||(V[1]=re=>isRef(exportFontTauriDialogVisible)?exportFontTauriDialogVisible.value=re:null),title:unref(e)("dialogs.exportFontDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$5,[createVNode(z,{onPointerdown:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onPointerdown:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$5,[createVNode(L,{modelValue:g.value.remove_overlap,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.remove_overlap=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("menus.tools.remove_overlap")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),exportFontTauriDialog=_export_sfc(_sfc_main$6,[["__scopeId","data-v-34a8c0de"]]),_withScopeId$2=n=>(pushScopeId("data-v-7999944e"),n=n(),popScopeId(),n),_hoisted_1$4={class:"root-wrapper"},_hoisted_2$4={class:"el-loading-spinner"},_hoisted_3$3=_withScopeId$2(()=>createBaseVNode("svg",{class:"circular",viewBox:"0 0 50 50"},[createBaseVNode("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})],-1)),_hoisted_4$3={class:"loading-text"},_hoisted_5$3={class:"main-panel"},_hoisted_6$3={class:"inner-wrapper"},_hoisted_7$3={class:"left-panel-wrapper"},_hoisted_8$3={class:"main-wrapper"},_hoisted_9$3={class:"files-bar-wrapper"},_hoisted_10$3={class:"zoom-bar-wrapper"},_hoisted_11$2={class:"right-panel-wrapper"},svg$2=`
    <path class="path" d="" style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
  `,_sfc_main$5=defineComponent({__name:"Editor",setup(n){const{tm:e,t:r,locale:g}=useI18n();onBeforeRouteLeave((V,L,z)=>{let j="";g.value==="zh"?j="":g.value==="en"&&(j="Exit without saving? Your changes will be lost."),window.confirm(j)?z():z(!1)});const y=V=>{if(ENV.value==="web"){V.preventDefault();let L="";return g.value==="zh"?L="":g.value==="en"&&(L="Exit without saving? Your changes will be lost."),V.returnValue=L,""}},k=V=>{if(V.key==="Shift"){if(editing$7.value||editing$6.value||editing$4.value||editing$5.value)return;V.preventDefault(),enableMultiSelect.value=!0}},$=V=>{if(V.key==="Shift"){if(editing$7.value||editing$6.value||editing$4.value||editing$5.value)return;V.preventDefault(),enableMultiSelect.value=!1}};return onMounted(async()=>{window.addEventListener("beforeunload",y),document.addEventListener("keydown",k),document.addEventListener("keyup",$),await initGlyphEnvironment()}),onUnmounted(()=>{document.removeEventListener("keydown",k),document.removeEventListener("keyup",$)}),(V,L)=>{const z=resolveComponent("el-progress"),j=resolveDirective("loading");return openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(saveFileTipDialog),createVNode(closeFileTipDialog),createVNode(tipsDialog),createVNode(_sfc_main$f),createVNode(_sfc_main$e),createVNode(_sfc_main$16),createVNode(_sfc_main$v),createVNode(_sfc_main$p),createVNode(_sfc_main$q),createVNode(_sfc_main$u),createVNode(_sfc_main$t),createVNode(_sfc_main$s),createVNode(_sfc_main$r),createVNode(_sfc_main$o),createVNode(_sfc_main$n),createVNode(_sfc_main$h),createVNode(_sfc_main$g),createVNode(_sfc_main$15),createVNode(saveDialog),createVNode(saveAsDialog),createVNode(exportFileDialog),createVNode(exportFontDialog),createVNode(exportFontTauriDialog),withDirectives((openBlock(),createElementBlock("div",{class:"outer-wrapper","element-loading-text":"","element-loading-spinner":svg$2,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)"},[withDirectives(createBaseVNode("div",_hoisted_2$4,[_hoisted_3$3,createBaseVNode("div",null,toDisplayString$1(unref(r)("panels.paramsPanel.loadingMsg")),1)],512),[[vShow,unref(loading$1)&&unref(total$1)===0]]),withDirectives(createBaseVNode("div",_hoisted_4$3,[createVNode(z,{"text-inside":!0,"stroke-width":20,percentage:Math.round(unref(loaded$1)/unref(total$1)*100)},null,8,["percentage"]),createBaseVNode("div",null,toDisplayString$1(unref(r)("panels.paramsPanel.loadedMsg",{percent:Math.round(unref(loaded$1)/unref(total$1)*100)})),1)],512),[[vShow,unref(loading$1)&&unref(total$1)!=0]]),createBaseVNode("div",{class:"side-bar-wrap",style:normalizeStyle({flex:(unref(ENV)==="web","0 0 36px"),borderRight:(unref(ENV)==="web","1px solid var(--primary-2)")})},[createVNode(SideBar)],4),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("header",{class:"header-wrapper",style:normalizeStyle({flex:(unref(ENV)==="web",unref(editStatus)===unref(Status).CharacterList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).CompGlyphList||unref(editStatus)===unref(Status).Pic?"0 0 0px":"0 0 50px")})},[withDirectives(createVNode(ToolBar,null,null,512),[[vShow,unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Glyph]])],4),createBaseVNode("main",_hoisted_6$3,[withDirectives(createBaseVNode("aside",_hoisted_7$3,[createVNode(LeftPanel)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(editStatus)!==unref(Status).GlyphList&&unref(editStatus)!==unref(Status).StrokeGlyphList&&unref(editStatus)!==unref(Status).RadicalGlyphList&&unref(editStatus)!==unref(Status).CompGlyphList]]),createBaseVNode("main",_hoisted_8$3,[withDirectives(createBaseVNode("header",_hoisted_9$3,[createVNode(FilesBar)],512),[[vShow,unref(editStatus)!==unref(Status).Pic]]),createBaseVNode("main",{class:"canvas-panel-wrapper",style:normalizeStyle({height:unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Pic?"calc(100% - 72px)":"calc(100% - 36px)"})},[createVNode(FontPanel)],4),withDirectives(createBaseVNode("footer",_hoisted_10$3,[unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(BottomBar,{key:0})):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(GlyphBottomBar,{key:1})):createCommentVNode("",!0)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(editStatus)!==unref(Status).GlyphList&&unref(editStatus)!==unref(Status).StrokeGlyphList&&unref(editStatus)!==unref(Status).RadicalGlyphList&&unref(editStatus)!==unref(Status).CompGlyphList]])]),withDirectives(createBaseVNode("aside",_hoisted_11$2,[createVNode(RightPanel)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(editStatus)!==unref(Status).GlyphList&&unref(editStatus)!==unref(Status).StrokeGlyphList&&unref(editStatus)!==unref(Status).RadicalGlyphList&&unref(editStatus)!==unref(Status).CompGlyphList]])])])])),[[j,unref(loading$1)]])])}}}),Editor=_export_sfc(_sfc_main$5,[["__scopeId","data-v-7999944e"]]);let rangeFrom=[],rangeTo=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<n.length;e++)(e%2?rangeTo:rangeFrom).push(r=r+n[e])})();function isExtendingChar(n){if(n<768)return!1;for(let e=0,r=rangeFrom.length;;){let g=e+r>>1;if(n<rangeFrom[g])r=g;else if(n>=rangeTo[g])e=g+1;else return!0;if(e==r)return!1}}function isRegionalIndicator(n){return n>=127462&&n<=127487}const ZWJ=8205;function findClusterBreak$1(n,e,r=!0,g=!0){return(r?nextClusterBreak:prevClusterBreak)(n,e,g)}function nextClusterBreak(n,e,r){if(e==n.length)return e;e&&surrogateLow$1(n.charCodeAt(e))&&surrogateHigh$1(n.charCodeAt(e-1))&&e--;let g=codePointAt$2(n,e);for(e+=codePointSize$1(g);e<n.length;){let y=codePointAt$2(n,e);if(g==ZWJ||y==ZWJ||r&&isExtendingChar(y))e+=codePointSize$1(y),g=y;else if(isRegionalIndicator(y)){let k=0,$=e-2;for(;$>=0&&isRegionalIndicator(codePointAt$2(n,$));)k++,$-=2;if(k%2==0)break;e+=2}else break}return e}function prevClusterBreak(n,e,r){for(;e>0;){let g=nextClusterBreak(n,e-2,r);if(g<e)return g;e--}return 0}function codePointAt$2(n,e){let r=n.charCodeAt(e);if(!surrogateHigh$1(r)||e+1==n.length)return r;let g=n.charCodeAt(e+1);return surrogateLow$1(g)?(r-55296<<10)+(g-56320)+65536:r}function surrogateLow$1(n){return n>=56320&&n<57344}function surrogateHigh$1(n){return n>=55296&&n<56320}function codePointSize$1(n){return n<65536?1:2}class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,g){[e,r]=clip(this,e,r);let y=[];return this.decompose(0,e,y,2),g.length&&g.decompose(0,g.length,y,3),this.decompose(r,this.length,y,1),TextNode.from(y,this.length-(r-e)+g.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=clip(this,e,r);let g=[];return this.decompose(e,r,g,0),TextNode.from(g,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),g=this.length-this.scanIdentical(e,-1),y=new RawTextCursor(this),k=new RawTextCursor(e);for(let $=r,V=r;;){if(y.next($),k.next($),$=0,y.lineBreak!=k.lineBreak||y.done!=k.done||y.value!=k.value)return!1;if(V+=y.value.length,y.done||V>=g)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,r=this.length){return new PartialTextCursor(this,e,r)}iterLines(e,r){let g;if(e==null)g=this.iter();else{r==null&&(r=this.lines+1);let y=this.line(e).from;g=this.iterRange(y,Math.max(y,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new LineCursor(g)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,r=textLength(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,g,y){for(let k=0;;k++){let $=this.text[k],V=y+$.length;if((r?g:V)>=e)return new Line(y,V,g,$);y=V+1,g++}}decompose(e,r,g,y){let k=e<=0&&r>=this.length?this:new TextLeaf(sliceText(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(y&1){let $=g.pop(),V=appendText(k.text,$.text.slice(),0,k.length);if(V.length<=32)g.push(new TextLeaf(V,$.length+k.length));else{let L=V.length>>1;g.push(new TextLeaf(V.slice(0,L)),new TextLeaf(V.slice(L)))}}else g.push(k)}replace(e,r,g){if(!(g instanceof TextLeaf))return super.replace(e,r,g);[e,r]=clip(this,e,r);let y=appendText(this.text,appendText(g.text,sliceText(this.text,0,e)),r),k=this.length+g.length-(r-e);return y.length<=32?new TextLeaf(y,k):TextNode.from(TextLeaf.split(y,[]),k)}sliceString(e,r=this.length,g=`
`){[e,r]=clip(this,e,r);let y="";for(let k=0,$=0;k<=r&&$<this.text.length;$++){let V=this.text[$],L=k+V.length;k>e&&$&&(y+=g),e<L&&r>k&&(y+=V.slice(Math.max(0,e-k),r-k)),k=L+1}return y}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let g=[],y=-1;for(let k of e)g.push(k),y+=k.length+1,g.length==32&&(r.push(new TextLeaf(g,y)),g=[],y=-1);return y>-1&&r.push(new TextLeaf(g,y)),r}}class TextNode extends Text{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let g of e)this.lines+=g.lines}lineInner(e,r,g,y){for(let k=0;;k++){let $=this.children[k],V=y+$.length,L=g+$.lines-1;if((r?L:V)>=e)return $.lineInner(e,r,g,y);y=V+1,g=L+1}}decompose(e,r,g,y){for(let k=0,$=0;$<=r&&k<this.children.length;k++){let V=this.children[k],L=$+V.length;if(e<=L&&r>=$){let z=y&(($<=e?1:0)|(L>=r?2:0));$>=e&&L<=r&&!z?g.push(V):V.decompose(e-$,r-$,g,z)}$=L+1}}replace(e,r,g){if([e,r]=clip(this,e,r),g.lines<this.lines)for(let y=0,k=0;y<this.children.length;y++){let $=this.children[y],V=k+$.length;if(e>=k&&r<=V){let L=$.replace(e-k,r-k,g),z=this.lines-$.lines+L.lines;if(L.lines<z>>4&&L.lines>z>>6){let j=this.children.slice();return j[y]=L,new TextNode(j,this.length-(r-e)+g.length)}return super.replace(k,V,L)}k=V+1}return super.replace(e,r,g)}sliceString(e,r=this.length,g=`
`){[e,r]=clip(this,e,r);let y="";for(let k=0,$=0;k<this.children.length&&$<=r;k++){let V=this.children[k],L=$+V.length;$>e&&k&&(y+=g),e<L&&r>$&&(y+=V.sliceString(e-$,r-$,g)),$=L+1}return y}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof TextNode))return 0;let g=0,[y,k,$,V]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;y+=r,k+=r){if(y==$||k==V)return g;let L=this.children[y],z=e.children[k];if(L!=z)return g+L.scanIdentical(z,r);g+=L.length+1}}static from(e,r=e.reduce((g,y)=>g+y.length+1,-1)){let g=0;for(let ae of e)g+=ae.lines;if(g<32){let ae=[];for(let de of e)de.flatten(ae);return new TextLeaf(ae,r)}let y=Math.max(32,g>>5),k=y<<1,$=y>>1,V=[],L=0,z=-1,j=[];function re(ae){let de;if(ae.lines>k&&ae instanceof TextNode)for(let ue of ae.children)re(ue);else ae.lines>$&&(L>$||!L)?(oe(),V.push(ae)):ae instanceof TextLeaf&&L&&(de=j[j.length-1])instanceof TextLeaf&&ae.lines+de.lines<=32?(L+=ae.lines,z+=ae.length+1,j[j.length-1]=new TextLeaf(de.text.concat(ae.text),de.length+1+ae.length)):(L+ae.lines>y&&oe(),L+=ae.lines,z+=ae.length+1,j.push(ae))}function oe(){L!=0&&(V.push(j.length==1?j[0]:TextNode.from(j,z)),z=-1,L=j.length=0)}for(let ae of e)re(ae);return oe(),V.length==1?V[0]:new TextNode(V,r)}}Text.empty=new TextLeaf([""],0);function textLength(n){let e=-1;for(let r of n)e+=r.length+1;return e}function appendText(n,e,r=0,g=1e9){for(let y=0,k=0,$=!0;k<n.length&&y<=g;k++){let V=n[k],L=y+V.length;L>=r&&(L>g&&(V=V.slice(0,g-y)),y<r&&(V=V.slice(r-y)),$?(e[e.length-1]+=V,$=!1):e.push(V)),y=L+1}return e}function sliceText(n,e,r){return appendText(n,[""],e,r)}class RawTextCursor{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let g=this.nodes.length-1,y=this.nodes[g],k=this.offsets[g],$=k>>1,V=y instanceof TextLeaf?y.text.length:y.children.length;if($==(r>0?V:0)){if(g==0)return this.done=!0,this.value="",this;r>0&&this.offsets[g-1]++,this.nodes.pop(),this.offsets.pop()}else if((k&1)==(r>0?0:1)){if(this.offsets[g]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(y instanceof TextLeaf){let L=y.text[$+(r<0?-1:0)];if(this.offsets[g]+=r,L.length>Math.max(0,e))return this.value=e==0?L:r>0?L.slice(e):L.slice(0,L.length-e),this;e-=L.length}else{let L=y.children[$+(r<0?-1:0)];e>L.length?(e-=L.length,this.offsets[g]+=r):(r<0&&this.offsets[g]--,this.nodes.push(L),this.offsets.push(r>0?1:(L instanceof TextLeaf?L.text.length:L.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,r,g){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,r>g?-1:1),this.pos=r>g?e.length:0,this.from=Math.min(r,g),this.to=Math.max(r,g)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let g=r<0?this.pos-this.from:this.to-this.pos;e>g&&(e=g),g-=e;let{value:y}=this.cursor.next(e);return this.pos+=(y.length+e)*r,this.value=y.length<=g?y:r<0?y.slice(y.length-g):y.slice(0,g),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:g,value:y}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):g?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=y,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,r,g,y){this.from=e,this.to=r,this.number=g,this.text=y}get length(){return this.to-this.from}}function clip(n,e,r){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,r))]}function findClusterBreak(n,e,r=!0,g=!0){return findClusterBreak$1(n,e,r,g)}function surrogateLow(n){return n>=56320&&n<57344}function surrogateHigh(n){return n>=55296&&n<56320}function codePointAt$1(n,e){let r=n.charCodeAt(e);if(!surrogateHigh(r)||e+1==n.length)return r;let g=n.charCodeAt(e+1);return surrogateLow(g)?(r-55296<<10)+(g-56320)+65536:r}function fromCodePoint(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function codePointSize(n){return n<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let g=this.sections[r+1];e+=g<0?this.sections[r]:g}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,g=0,y=0;r<this.sections.length;){let k=this.sections[r++],$=this.sections[r++];$<0?(e(g,y,k),y+=k):y+=$,g+=k}}iterChangedRanges(e,r=!1){iterChanges(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let g=this.sections[r++],y=this.sections[r++];y<0?e.push(g,y):e.push(y,g)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,r=!1){return e.empty?this:mapSet(this,e,r)}mapPos(e,r=-1,g=MapMode.Simple){let y=0,k=0;for(let $=0;$<this.sections.length;){let V=this.sections[$++],L=this.sections[$++],z=y+V;if(L<0){if(z>e)return k+(e-y);k+=V}else{if(g!=MapMode.Simple&&z>=e&&(g==MapMode.TrackDel&&y<e&&z>e||g==MapMode.TrackBefore&&y<e||g==MapMode.TrackAfter&&z>e))return null;if(z>e||z==e&&r<0&&!V)return e==y||r<0?k:k+L;k+=L}y=z}if(e>y)throw new RangeError(`Position ${e} is out of range for changeset of length ${y}`);return k}touchesRange(e,r=e){for(let g=0,y=0;g<this.sections.length&&y<=r;){let k=this.sections[g++],$=this.sections[g++],V=y+k;if($>=0&&y<=r&&V>=e)return y<e&&V>r?"cover":!0;y=V}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let g=this.sections[r++],y=this.sections[r++];e+=(e?" ":"")+g+(y>=0?":"+y:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(r,g,y,k,$)=>e=e.replace(y,y+(g-r),$),!1),e}mapDesc(e,r=!1){return mapSet(this,e,r,!0)}invert(e){let r=this.sections.slice(),g=[];for(let y=0,k=0;y<r.length;y+=2){let $=r[y],V=r[y+1];if(V>=0){r[y]=V,r[y+1]=$;let L=y>>1;for(;g.length<L;)g.push(Text.empty);g.push($?e.slice(k,k+$):Text.empty)}k+=$}return new ChangeSet(r,g)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,r=!1){return e.empty?this:mapSet(this,e,r,!0)}iterChanges(e,r=!1){iterChanges(this,e,r)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let r=[],g=[],y=[],k=new SectionIter(this);e:for(let $=0,V=0;;){let L=$==e.length?1e9:e[$++];for(;V<L||V==L&&k.len==0;){if(k.done)break e;let j=Math.min(k.len,L-V);addSection(y,j,-1);let re=k.ins==-1?-1:k.off==0?k.ins:0;addSection(r,j,re),re>0&&addInsert(g,r,k.text),k.forward(j),V+=j}let z=e[$++];for(;V<z;){if(k.done)break e;let j=Math.min(k.len,z-V);addSection(r,j,-1),addSection(y,j,k.ins==-1?-1:k.off==0?k.ins:0),k.forward(j),V+=j}}return{changes:new ChangeSet(r,g),filtered:ChangeDesc.create(y)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let g=this.sections[r],y=this.sections[r+1];y<0?e.push(g):y==0?e.push([g]):e.push([g].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,g){let y=[],k=[],$=0,V=null;function L(j=!1){if(!j&&!y.length)return;$<r&&addSection(y,r-$,-1);let re=new ChangeSet(y,k);V=V?V.compose(re.map(V)):re,y=[],k=[],$=0}function z(j){if(Array.isArray(j))for(let re of j)z(re);else if(j instanceof ChangeSet){if(j.length!=r)throw new RangeError(`Mismatched change set length (got ${j.length}, expected ${r})`);L(),V=V?V.compose(j.map(V)):j}else{let{from:re,to:oe=re,insert:ae}=j;if(re>oe||re<0||oe>r)throw new RangeError(`Invalid change range ${re} to ${oe} (in doc of length ${r})`);let de=ae?typeof ae=="string"?Text.of(ae.split(g||DefaultSplit)):ae:Text.empty,ue=de.length;if(re==oe&&ue==0)return;re<$&&L(),re>$&&addSection(y,re-$,-1),addSection(y,oe-re,ue),addInsert(k,y,de),$=oe}}return z(e),L(!V),V}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],g=[];for(let y=0;y<e.length;y++){let k=e[y];if(typeof k=="number")r.push(k,-1);else{if(!Array.isArray(k)||typeof k[0]!="number"||k.some(($,V)=>V&&typeof $!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(k.length==1)r.push(k[0],0);else{for(;g.length<y;)g.push(Text.empty);g[y]=Text.of(k.slice(1)),r.push(k[0],g[y].length)}}}return new ChangeSet(r,g)}static createSet(e,r){return new ChangeSet(e,r)}}function addSection(n,e,r,g=!1){if(e==0&&r<=0)return;let y=n.length-2;y>=0&&r<=0&&r==n[y+1]?n[y]+=e:y>=0&&e==0&&n[y]==0?n[y+1]+=r:g?(n[y]+=e,n[y+1]+=r):n.push(e,r)}function addInsert(n,e,r){if(r.length==0)return;let g=e.length-2>>1;if(g<n.length)n[n.length-1]=n[n.length-1].append(r);else{for(;n.length<g;)n.push(Text.empty);n.push(r)}}function iterChanges(n,e,r){let g=n.inserted;for(let y=0,k=0,$=0;$<n.sections.length;){let V=n.sections[$++],L=n.sections[$++];if(L<0)y+=V,k+=V;else{let z=y,j=k,re=Text.empty;for(;z+=V,j+=L,L&&g&&(re=re.append(g[$-2>>1])),!(r||$==n.sections.length||n.sections[$+1]<0);)V=n.sections[$++],L=n.sections[$++];e(y,z,k,j,re),y=z,k=j}}}function mapSet(n,e,r,g=!1){let y=[],k=g?[]:null,$=new SectionIter(n),V=new SectionIter(e);for(let L=-1;;){if($.done&&V.len||V.done&&$.len)throw new Error("Mismatched change set lengths");if($.ins==-1&&V.ins==-1){let z=Math.min($.len,V.len);addSection(y,z,-1),$.forward(z),V.forward(z)}else if(V.ins>=0&&($.ins<0||L==$.i||$.off==0&&(V.len<$.len||V.len==$.len&&!r))){let z=V.len;for(addSection(y,V.ins,-1);z;){let j=Math.min($.len,z);$.ins>=0&&L<$.i&&$.len<=j&&(addSection(y,0,$.ins),k&&addInsert(k,y,$.text),L=$.i),$.forward(j),z-=j}V.next()}else if($.ins>=0){let z=0,j=$.len;for(;j;)if(V.ins==-1){let re=Math.min(j,V.len);z+=re,j-=re,V.forward(re)}else if(V.ins==0&&V.len<j)j-=V.len,V.next();else break;addSection(y,z,L<$.i?$.ins:0),k&&L<$.i&&addInsert(k,y,$.text),L=$.i,$.forward($.len-j)}else{if($.done&&V.done)return k?ChangeSet.createSet(y,k):ChangeDesc.create(y);throw new Error("Mismatched change set lengths")}}}function composeSets(n,e,r=!1){let g=[],y=r?[]:null,k=new SectionIter(n),$=new SectionIter(e);for(let V=!1;;){if(k.done&&$.done)return y?ChangeSet.createSet(g,y):ChangeDesc.create(g);if(k.ins==0)addSection(g,k.len,0,V),k.next();else if($.len==0&&!$.done)addSection(g,0,$.ins,V),y&&addInsert(y,g,$.text),$.next();else{if(k.done||$.done)throw new Error("Mismatched change set lengths");{let L=Math.min(k.len2,$.len),z=g.length;if(k.ins==-1){let j=$.ins==-1?-1:$.off?0:$.ins;addSection(g,L,j,V),y&&j&&addInsert(y,g,$.text)}else $.ins==-1?(addSection(g,k.off?0:k.len,L,V),y&&addInsert(y,g,k.textBit(L))):(addSection(g,k.off?0:k.len,$.off?0:$.ins,V),y&&!$.off&&addInsert(y,g,$.text));V=(k.ins>L||$.ins>=0&&$.len>L)&&(V||g.length>z),k.forward2(L),$.forward(L)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Text.empty:e[r]}textBit(e){let{inserted:r}=this.set,g=this.i-2>>1;return g>=r.length&&!e?Text.empty:r[g].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,r,g){this.from=e,this.to=r,this.flags=g}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let g,y;return this.empty?g=y=e.mapPos(this.from,r):(g=e.mapPos(this.from,1),y=e.mapPos(this.to,-1)),g==this.from&&y==this.to?this:new SelectionRange(g,y,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return EditorSelection.range(e,r);let g=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return EditorSelection.range(this.anchor,g)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,r,g){return new SelectionRange(e,r,g)}}class EditorSelection{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:EditorSelection.create(this.ranges.map(g=>g.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let g=0;g<this.ranges.length;g++)if(!this.ranges[g].eq(e.ranges[g],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,r=!0){return EditorSelection.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let g=this.ranges.slice();return g[r]=e,EditorSelection.create(g,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(r=>SelectionRange.fromJSON(r)),e.main)}static single(e,r=e){return new EditorSelection([EditorSelection.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let g=0,y=0;y<e.length;y++){let k=e[y];if(k.empty?k.from<=g:k.from<g)return EditorSelection.normalized(e.slice(),r);g=k.to}return new EditorSelection(e,r)}static cursor(e,r=0,g,y){return SelectionRange.create(e,e,(r==0?0:r<0?8:16)|(g==null?7:Math.min(6,g))|(y??16777215)<<6)}static range(e,r,g,y){let k=(g??16777215)<<6|(y==null?7:Math.min(6,y));return r<e?SelectionRange.create(r,e,48|k):SelectionRange.create(e,r,(r>e?8:0)|k)}static normalized(e,r=0){let g=e[r];e.sort((y,k)=>y.from-k.from),r=e.indexOf(g);for(let y=1;y<e.length;y++){let k=e[y],$=e[y-1];if(k.empty?k.from<=$.to:k.from<$.to){let V=$.from,L=Math.max(k.to,$.to);y<=r&&r--,e.splice(--y,2,k.anchor>k.head?EditorSelection.range(L,V):EditorSelection.range(V,L))}}return new EditorSelection(e,r)}}function checkSelection(n,e){for(let r of n.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,r,g,y,k){this.combine=e,this.compareInput=r,this.compare=g,this.isStatic=y,this.id=nextID++,this.default=e([]),this.extensions=typeof k=="function"?k(this):k}get reader(){return this}static define(e={}){return new Facet(e.combine||(r=>r),e.compareInput||((r,g)=>r===g),e.compare||(e.combine?(r,g)=>r===g:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,r)}from(e,r){return r||(r=g=>g),this.compute([e],g=>r(g.field(e)))}}function sameArray$1(n,e){return n==e||n.length==e.length&&n.every((r,g)=>r===e[g])}class FacetProvider{constructor(e,r,g,y){this.dependencies=e,this.facet=r,this.type=g,this.value=y,this.id=nextID++}dynamicSlot(e){var r;let g=this.value,y=this.facet.compareInput,k=this.id,$=e[k]>>1,V=this.type==2,L=!1,z=!1,j=[];for(let re of this.dependencies)re=="doc"?L=!0:re=="selection"?z=!0:((r=e[re.id])!==null&&r!==void 0?r:1)&1||j.push(e[re.id]);return{create(re){return re.values[$]=g(re),1},update(re,oe){if(L&&oe.docChanged||z&&(oe.docChanged||oe.selection)||ensureAll(re,j)){let ae=g(re);if(V?!compareArray(ae,re.values[$],y):!y(ae,re.values[$]))return re.values[$]=ae,1}return 0},reconfigure:(re,oe)=>{let ae,de=oe.config.address[k];if(de!=null){let ue=getAddr(oe,de);if(this.dependencies.every(pe=>pe instanceof Facet?oe.facet(pe)===re.facet(pe):pe instanceof StateField?oe.field(pe,!1)==re.field(pe,!1):!0)||(V?compareArray(ae=g(re),ue,y):y(ae=g(re),ue)))return re.values[$]=ue,0}else ae=g(re);return re.values[$]=ae,1}}}}function compareArray(n,e,r){if(n.length!=e.length)return!1;for(let g=0;g<n.length;g++)if(!r(n[g],e[g]))return!1;return!0}function ensureAll(n,e){let r=!1;for(let g of e)ensureAddr(n,g)&1&&(r=!0);return r}function dynamicFacetSlot(n,e,r){let g=r.map(L=>n[L.id]),y=r.map(L=>L.type),k=g.filter(L=>!(L&1)),$=n[e.id]>>1;function V(L){let z=[];for(let j=0;j<g.length;j++){let re=getAddr(L,g[j]);if(y[j]==2)for(let oe of re)z.push(oe);else z.push(re)}return e.combine(z)}return{create(L){for(let z of g)ensureAddr(L,z);return L.values[$]=V(L),1},update(L,z){if(!ensureAll(L,k))return 0;let j=V(L);return e.compare(j,L.values[$])?0:(L.values[$]=j,1)},reconfigure(L,z){let j=ensureAll(L,g),re=z.config.facets[e.id],oe=z.facet(e);if(re&&!j&&sameArray$1(r,re))return L.values[$]=oe,0;let ae=V(L);return e.compare(ae,oe)?(L.values[$]=oe,0):(L.values[$]=ae,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,r,g,y,k){this.id=e,this.createF=r,this.updateF=g,this.compareF=y,this.spec=k,this.provides=void 0}static define(e){let r=new StateField(nextID++,e.create,e.update,e.compare||((g,y)=>g===y),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(initField).find(g=>g.field==this);return(r?.create||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:g=>(g.values[r]=this.create(g),1),update:(g,y)=>{let k=g.values[r],$=this.updateF(k,y);return this.compareF(k,$)?0:(g.values[r]=$,1)},reconfigure:(g,y)=>y.config.address[this.id]!=null?(g.values[r]=y.field(this),0):(g.values[r]=this.create(g),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(n){return e=>new PrecExtension(e,n)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,r){this.inner=e,this.prec=r}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,r){this.compartment=e,this.inner=r}}class Configuration{constructor(e,r,g,y,k,$){for(this.base=e,this.compartments=r,this.dynamicSlots=g,this.address=y,this.staticValues=k,this.facets=$,this.statusTemplate=[];this.statusTemplate.length<g.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,g){let y=[],k=Object.create(null),$=new Map;for(let oe of flatten(e,r,$))oe instanceof StateField?y.push(oe):(k[oe.facet.id]||(k[oe.facet.id]=[])).push(oe);let V=Object.create(null),L=[],z=[];for(let oe of y)V[oe.id]=z.length<<1,z.push(ae=>oe.slot(ae));let j=g?.config.facets;for(let oe in k){let ae=k[oe],de=ae[0].facet,ue=j&&j[oe]||[];if(ae.every(pe=>pe.type==0))if(V[de.id]=L.length<<1|1,sameArray$1(ue,ae))L.push(g.facet(de));else{let pe=de.combine(ae.map(he=>he.value));L.push(g&&de.compare(pe,g.facet(de))?g.facet(de):pe)}else{for(let pe of ae)pe.type==0?(V[pe.id]=L.length<<1|1,L.push(pe.value)):(V[pe.id]=z.length<<1,z.push(he=>pe.dynamicSlot(he)));V[de.id]=z.length<<1,z.push(pe=>dynamicFacetSlot(pe,de,ae))}}let re=z.map(oe=>oe(V));return new Configuration(e,$,re,V,L,k)}}function flatten(n,e,r){let g=[[],[],[],[],[]],y=new Map;function k($,V){let L=y.get($);if(L!=null){if(L<=V)return;let z=g[L].indexOf($);z>-1&&g[L].splice(z,1),$ instanceof CompartmentInstance&&r.delete($.compartment)}if(y.set($,V),Array.isArray($))for(let z of $)k(z,V);else if($ instanceof CompartmentInstance){if(r.has($.compartment))throw new RangeError("Duplicate use of compartment in extensions");let z=e.get($.compartment)||$.inner;r.set($.compartment,z),k(z,V)}else if($ instanceof PrecExtension)k($.inner,$.prec);else if($ instanceof StateField)g[V].push($),$.provides&&k($.provides,V);else if($ instanceof FacetProvider)g[V].push($),$.facet.extensions&&k($.facet.extensions,Prec_.default);else{let z=$.extension;if(!z)throw new Error(`Unrecognized extension value in extension set (${$}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);k(z,V)}}return k(n,Prec_.default),g.reduce(($,V)=>$.concat(V))}function ensureAddr(n,e){if(e&1)return 2;let r=e>>1,g=n.status[r];if(g==4)throw new Error("Cyclic dependency between fields and/or facets");if(g&2)return g;n.status[r]=4;let y=n.computeSlot(n,n.config.dynamicSlots[r]);return n.status[r]=2|y}function getAddr(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:n=>n.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:n=>n.length?n[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:n=>n.length?n[0]:!1});class Annotation{constructor(e,r){this.type=e,this.value=r}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new StateEffect(this.type,r)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let g=[];for(let y of e){let k=y.map(r);k&&g.push(k)}return g}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,r,g,y,k,$){this.startState=e,this.changes=r,this.selection=g,this.effects=y,this.annotations=k,this.scrollIntoView=$,this._doc=null,this._state=null,g&&checkSelection(g,r.newLength),k.some(V=>V.type==Transaction.time)||(this.annotations=k.concat(Transaction.time.of(Date.now())))}static create(e,r,g,y,k,$){return new Transaction(e,r,g,y,k,$)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Transaction.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(n,e){let r=[];for(let g=0,y=0;;){let k,$;if(g<n.length&&(y==e.length||e[y]>=n[g]))k=n[g++],$=n[g++];else if(y<e.length)k=e[y++],$=e[y++];else return r;!r.length||r[r.length-1]<k?r.push(k,$):r[r.length-1]<$&&(r[r.length-1]=$)}}function mergeTransaction(n,e,r){var g;let y,k,$;return r?(y=e.changes,k=ChangeSet.empty(e.changes.length),$=n.changes.compose(e.changes)):(y=e.changes.map(n.changes),k=n.changes.mapDesc(e.changes,!0),$=n.changes.compose(y)),{changes:$,selection:e.selection?e.selection.map(k):(g=n.selection)===null||g===void 0?void 0:g.map(y),effects:StateEffect.mapEffects(n.effects,y).concat(StateEffect.mapEffects(e.effects,k)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(n,e,r){let g=e.selection,y=asArray$1(e.annotations);return e.userEvent&&(y=y.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],r,n.facet(lineSeparator)),selection:g&&(g instanceof EditorSelection?g:EditorSelection.single(g.anchor,g.head)),effects:asArray$1(e.effects),annotations:y,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(n,e,r){let g=resolveTransactionInner(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let k=1;k<e.length;k++){e[k].filter===!1&&(r=!1);let $=!!e[k].sequential;g=mergeTransaction(g,resolveTransactionInner(n,e[k],$?g.changes.newLength:n.doc.length),$)}let y=Transaction.create(n,g.changes,g.selection,g.effects,g.annotations,g.scrollIntoView);return extendTransaction(r?filterTransaction(y):y)}function filterTransaction(n){let e=n.startState,r=!0;for(let y of e.facet(changeFilter)){let k=y(n);if(k===!1){r=!1;break}Array.isArray(k)&&(r=r===!0?k:joinRanges(r,k))}if(r!==!0){let y,k;if(r===!1)k=n.changes.invertedDesc,y=ChangeSet.empty(e.doc.length);else{let $=n.changes.filter(r);y=$.changes,k=$.filtered.mapDesc($.changes).invertedDesc}n=Transaction.create(e,y,n.selection&&n.selection.map(k),StateEffect.mapEffects(n.effects,k),n.annotations,n.scrollIntoView)}let g=e.facet(transactionFilter);for(let y=g.length-1;y>=0;y--){let k=g[y](n);k instanceof Transaction?n=k:Array.isArray(k)&&k.length==1&&k[0]instanceof Transaction?n=k[0]:n=resolveTransaction(e,asArray$1(k),!1)}return n}function extendTransaction(n){let e=n.startState,r=e.facet(transactionExtender),g=n;for(let y=r.length-1;y>=0;y--){let k=r[y](n);k&&Object.keys(k).length&&(g=mergeTransaction(g,resolveTransactionInner(e,k,n.changes.newLength),!0))}return g==n?n:Transaction.create(e,n.changes,n.selection,g.effects,g.annotations,g.scrollIntoView)}const none$2=[];function asArray$1(n){return n==null?none$2:Array.isArray(n)?n:[n]}var CharCategory=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(n){}function hasWordChar(n){if(wordChar)return wordChar.test(n);for(let e=0;e<n.length;e++){let r=n[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||nonASCIISingleCaseWordChar.test(r)))return!0}return!1}function makeCategorizer(n){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let r=0;r<n.length;r++)if(e.indexOf(n[r])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,r,g,y,k,$){this.config=e,this.doc=r,this.selection=g,this.values=y,this.status=e.statusTemplate.slice(),this.computeSlot=k,$&&($._state=this);for(let V=0;V<this.config.dynamicSlots.length;V++)ensureAddr(this,V<<1);this.computeSlot=null}field(e,r=!0){let g=this.config.address[e.id];if(g==null){if(r)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,g),getAddr(this,g)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let r=this.config,{base:g,compartments:y}=r;for(let V of e.effects)V.is(Compartment.reconfigure)?(r&&(y=new Map,r.compartments.forEach((L,z)=>y.set(z,L)),r=null),y.set(V.value.compartment,V.value.extension)):V.is(StateEffect.reconfigure)?(r=null,g=V.value):V.is(StateEffect.appendConfig)&&(r=null,g=asArray$1(g).concat(V.value));let k;r?k=e.startState.values.slice():(r=Configuration.resolve(g,y,this),k=new EditorState(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(L,z)=>z.reconfigure(L,this),null).values);let $=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(r,e.newDoc,$,k,(V,L)=>L.update(V,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:EditorSelection.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,g=e(r.ranges[0]),y=this.changes(g.changes),k=[g.range],$=asArray$1(g.effects);for(let V=1;V<r.ranges.length;V++){let L=e(r.ranges[V]),z=this.changes(L.changes),j=z.map(y);for(let oe=0;oe<V;oe++)k[oe]=k[oe].map(j);let re=y.mapDesc(z,!0);k.push(L.range.map(re)),y=y.compose(j),$=StateEffect.mapEffects($,j).concat(StateEffect.mapEffects(asArray$1(L.effects),re))}return{changes:y,selection:EditorSelection.create(k,r.mainIndex),effects:$}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(ensureAddr(this,r),getAddr(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let g in e){let y=e[g];y instanceof StateField&&this.config.address[y.id]!=null&&(r[g]=y.spec.toJSON(this.field(e[g]),this))}return r}static fromJSON(e,r={},g){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let y=[];if(g){for(let k in g)if(Object.prototype.hasOwnProperty.call(e,k)){let $=g[k],V=e[k];y.push($.init(L=>$.spec.fromJSON(V,L)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:r.extensions?y.concat([r.extensions]):y})}static create(e={}){let r=Configuration.resolve(e.extensions||[],new Map),g=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(r.staticFacet(EditorState.lineSeparator)||DefaultSplit)),y=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(y,g.length),r.staticFacet(allowMultipleSelections)||(y=y.asSingle()),new EditorState(r,g,y,r.dynamicSlots.map(()=>null),(k,$)=>$.create(k),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...r){for(let g of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(g,e)){e=g[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(g,y)=>{if(y=="$")return"$";let k=+(y||1);return!k||k>r.length?g:r[k-1]})),e}languageDataAt(e,r,g=-1){let y=[];for(let k of this.facet(languageData))for(let $ of k(this,r,g))Object.prototype.hasOwnProperty.call($,e)&&y.push($[e]);return y}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:g,length:y}=this.doc.lineAt(e),k=this.charCategorizer(e),$=e-g,V=e-g;for(;$>0;){let L=findClusterBreak(r,$,!1);if(k(r.slice(L,$))!=CharCategory.Word)break;$=L}for(;V<y;){let L=findClusterBreak(r,V);if(k(r.slice(V,L))!=CharCategory.Word)break;V=L}return $==V?null:EditorSelection.range($+g,V+g)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:n=>n.length?n[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(n,e){let r=Object.keys(n),g=Object.keys(e);return r.length==g.length&&r.every(y=>n[y]==e[y])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(n,e,r={}){let g={};for(let y of n)for(let k of Object.keys(y)){let $=y[k],V=g[k];if(V===void 0)g[k]=$;else if(!(V===$||$===void 0))if(Object.hasOwnProperty.call(r,k))g[k]=r[k](V,$);else throw new Error("Config merge conflict for field "+k)}for(let y in e)g[y]===void 0&&(g[y]=e[y]);return g}class RangeValue{eq(e){return this==e}range(e,r=e){return Range$1.create(e,r,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Ha{constructor(e,r,g){this.from=e,this.to=r,this.value=g}static create(e,r,g){return new Ha(e,r,g)}};function cmpRange(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Chunk{constructor(e,r,g,y){this.from=e,this.to=r,this.value=g,this.maxPoint=y}get length(){return this.to[this.to.length-1]}findIndex(e,r,g,y=0){let k=g?this.to:this.from;for(let $=y,V=k.length;;){if($==V)return $;let L=$+V>>1,z=k[L]-e||(g?this.value[L].endSide:this.value[L].startSide)-r;if(L==$)return z>=0?$:V;z>=0?V=L:$=L+1}}between(e,r,g,y){for(let k=this.findIndex(r,-1e9,!0),$=this.findIndex(g,1e9,!1,k);k<$;k++)if(y(this.from[k]+e,this.to[k]+e,this.value[k])===!1)return!1}map(e,r){let g=[],y=[],k=[],$=-1,V=-1;for(let L=0;L<this.value.length;L++){let z=this.value[L],j=this.from[L]+e,re=this.to[L]+e,oe,ae;if(j==re){let de=r.mapPos(j,z.startSide,z.mapMode);if(de==null||(oe=ae=de,z.startSide!=z.endSide&&(ae=r.mapPos(j,z.endSide),ae<oe)))continue}else if(oe=r.mapPos(j,z.startSide),ae=r.mapPos(re,z.endSide),oe>ae||oe==ae&&z.startSide>0&&z.endSide<=0)continue;(ae-oe||z.endSide-z.startSide)<0||($<0&&($=oe),z.point&&(V=Math.max(V,ae-oe)),g.push(z),y.push(oe-$),k.push(ae-$))}return{mapped:g.length?new Chunk(y,k,g,V):null,pos:$}}}class RangeSet{constructor(e,r,g,y){this.chunkPos=e,this.chunk=r,this.nextLayer=g,this.maxPoint=y}static create(e,r,g,y){return new RangeSet(e,r,g,y)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:g=!1,filterFrom:y=0,filterTo:k=this.length}=e,$=e.filter;if(r.length==0&&!$)return this;if(g&&(r=r.slice().sort(cmpRange)),this.isEmpty)return r.length?RangeSet.of(r):this;let V=new LayerCursor(this,null,-1).goto(0),L=0,z=[],j=new RangeSetBuilder;for(;V.value||L<r.length;)if(L<r.length&&(V.from-r[L].from||V.startSide-r[L].value.startSide)>=0){let re=r[L++];j.addInner(re.from,re.to,re.value)||z.push(re)}else V.rangeIndex==1&&V.chunkIndex<this.chunk.length&&(L==r.length||this.chunkEnd(V.chunkIndex)<r[L].from)&&(!$||y>this.chunkEnd(V.chunkIndex)||k<this.chunkPos[V.chunkIndex])&&j.addChunk(this.chunkPos[V.chunkIndex],this.chunk[V.chunkIndex])?V.nextChunk():((!$||y>V.to||k<V.from||$(V.from,V.to,V.value))&&(j.addInner(V.from,V.to,V.value)||z.push(Range$1.create(V.from,V.to,V.value))),V.next());return j.finishInner(this.nextLayer.isEmpty&&!z.length?RangeSet.empty:this.nextLayer.update({add:z,filter:$,filterFrom:y,filterTo:k}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],g=[],y=-1;for(let $=0;$<this.chunk.length;$++){let V=this.chunkPos[$],L=this.chunk[$],z=e.touchesRange(V,V+L.length);if(z===!1)y=Math.max(y,L.maxPoint),r.push(L),g.push(e.mapPos(V));else if(z===!0){let{mapped:j,pos:re}=L.map(V,e);j&&(y=Math.max(y,j.maxPoint),r.push(j),g.push(re))}}let k=this.nextLayer.map(e);return r.length==0?k:new RangeSet(g,r,k||RangeSet.empty,y)}between(e,r,g){if(!this.isEmpty){for(let y=0;y<this.chunk.length;y++){let k=this.chunkPos[y],$=this.chunk[y];if(r>=k&&e<=k+$.length&&$.between(k,e-k,r-k,g)===!1)return}this.nextLayer.between(e,r,g)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return HeapCursor.from(e).goto(r)}static compare(e,r,g,y,k=-1){let $=e.filter(re=>re.maxPoint>0||!re.isEmpty&&re.maxPoint>=k),V=r.filter(re=>re.maxPoint>0||!re.isEmpty&&re.maxPoint>=k),L=findSharedChunks($,V,g),z=new SpanCursor($,L,k),j=new SpanCursor(V,L,k);g.iterGaps((re,oe,ae)=>compare(z,re,j,oe,ae,y)),g.empty&&g.length==0&&compare(z,0,j,0,0,y)}static eq(e,r,g=0,y){y==null&&(y=999999999);let k=e.filter(j=>!j.isEmpty&&r.indexOf(j)<0),$=r.filter(j=>!j.isEmpty&&e.indexOf(j)<0);if(k.length!=$.length)return!1;if(!k.length)return!0;let V=findSharedChunks(k,$),L=new SpanCursor(k,V,0).goto(g),z=new SpanCursor($,V,0).goto(g);for(;;){if(L.to!=z.to||!sameValues(L.active,z.active)||L.point&&(!z.point||!L.point.eq(z.point)))return!1;if(L.to>y)return!0;L.next(),z.next()}}static spans(e,r,g,y,k=-1){let $=new SpanCursor(e,null,k).goto(r),V=r,L=$.openStart;for(;;){let z=Math.min($.to,g);if($.point){let j=$.activeForPoint($.to),re=$.pointFrom<r?j.length+1:$.point.startSide<0?j.length:Math.min(j.length,L);y.point(V,z,$.point,j,re,$.pointRank),L=Math.min($.openEnd(z),j.length)}else z>V&&(y.span(V,z,$.active,L),L=$.openEnd(z));if($.to>g)return L+($.point&&$.to>g?1:0);V=$.to,$.next()}}static of(e,r=!1){let g=new RangeSetBuilder;for(let y of e instanceof Range$1?[e]:r?lazySort(e):e)g.add(y.from,y.to,y.value);return g.finish()}static join(e){if(!e.length)return RangeSet.empty;let r=e[e.length-1];for(let g=e.length-2;g>=0;g--)for(let y=e[g];y!=RangeSet.empty;y=y.nextLayer)r=new RangeSet(y.chunkPos,y.chunk,r,Math.max(y.maxPoint,r.maxPoint));return r}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(n){if(n.length>1)for(let e=n[0],r=1;r<n.length;r++){let g=n[r];if(cmpRange(e,g)>0)return n.slice().sort(cmpRange);e=g}return n}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,g){this.addInner(e,r,g)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,r,g)}addInner(e,r,g){let y=e-this.lastTo||g.startSide-this.last.endSide;if(y<=0&&(e-this.lastFrom||g.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return y<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=g,this.lastFrom=e,this.lastTo=r,this.value.push(g),g.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let g=r.value.length-1;return this.last=r.value[g],this.lastFrom=r.from[g]+e,this.lastTo=r.to[g]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function findSharedChunks(n,e,r){let g=new Map;for(let k of n)for(let $=0;$<k.chunk.length;$++)k.chunk[$].maxPoint<=0&&g.set(k.chunk[$],k.chunkPos[$]);let y=new Set;for(let k of e)for(let $=0;$<k.chunk.length;$++){let V=g.get(k.chunk[$]);V!=null&&(r?r.mapPos(V):V)==k.chunkPos[$]&&!r?.touchesRange(V,V+k.chunk[$].length)&&y.add(k.chunk[$])}return y}class LayerCursor{constructor(e,r,g,y=0){this.layer=e,this.skip=r,this.minPoint=g,this.rank=y}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,g){for(;this.chunkIndex<this.layer.chunk.length;){let y=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(y)||this.layer.chunkEnd(this.chunkIndex)<e||y.maxPoint<this.minPoint))break;this.chunkIndex++,g=!1}if(this.chunkIndex<this.layer.chunk.length){let y=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!g||this.rangeIndex<y)&&this.setRangeIndex(y)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],g=e+r.from[this.rangeIndex];if(this.from=g,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,r=null,g=-1){let y=[];for(let k=0;k<e.length;k++)for(let $=e[k];!$.isEmpty;$=$.nextLayer)$.maxPoint>=g&&y.push(new LayerCursor($,r,g,k));return y.length==1?y[0]:new HeapCursor(y)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let g of this.heap)g.goto(e,r);for(let g=this.heap.length>>1;g>=0;g--)heapBubble(this.heap,g);return this.next(),this}forward(e,r){for(let g of this.heap)g.forward(e,r);for(let g=this.heap.length>>1;g>=0;g--)heapBubble(this.heap,g);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(n,e){for(let r=n[e];;){let g=(e<<1)+1;if(g>=n.length)break;let y=n[g];if(g+1<n.length&&y.compare(n[g+1])>=0&&(y=n[g+1],g++),r.compare(y)<0)break;n[g]=r,n[e]=y,e=g}}class SpanCursor{constructor(e,r,g){this.minPoint=g,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,r,g)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let r=0,{value:g,to:y,rank:k}=this.cursor;for(;r<this.activeRank.length&&(k-this.activeRank[r]||y-this.activeTo[r])>0;)r++;insert(this.active,r,g),insert(this.activeTo,r,y),insert(this.activeRank,r,k),e&&insert(e,r,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let g=this.openStart<0?[]:null;for(;;){let y=this.minActive;if(y>-1&&(this.activeTo[y]-this.cursor.from||this.active[y].endSide-this.cursor.startSide)<0){if(this.activeTo[y]>e){this.to=this.activeTo[y],this.endSide=this.active[y].endSide;break}this.removeActive(y),g&&remove(g,y)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let k=this.cursor.value;if(!k.point)this.addActive(g),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=k,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=k.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(g){this.openStart=0;for(let y=g.length-1;y>=0&&g[y]<e;y--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let g=this.active.length-1;g>=0&&!(this.activeRank[g]<this.pointRank);g--)(this.activeTo[g]>e||this.activeTo[g]==e&&this.active[g].endSide>=this.point.endSide)&&r.push(this.active[g]);return r.reverse()}openEnd(e){let r=0;for(let g=this.activeTo.length-1;g>=0&&this.activeTo[g]>e;g--)r++;return r}}function compare(n,e,r,g,y,k){n.goto(e),r.goto(g);let $=g+y,V=g,L=g-e;for(;;){let z=n.to+L-r.to,j=z||n.endSide-r.endSide,re=j<0?n.to+L:r.to,oe=Math.min(re,$);if(n.point||r.point?n.point&&r.point&&(n.point==r.point||n.point.eq(r.point))&&sameValues(n.activeForPoint(n.to),r.activeForPoint(r.to))||k.comparePoint(V,oe,n.point,r.point):oe>V&&!sameValues(n.active,r.active)&&k.compareRange(V,oe,n.active,r.active),re>$)break;(z||n.openEnd!=r.openEnd)&&k.boundChange&&k.boundChange(re),V=re,j<=0&&n.next(),j>=0&&r.next()}}function sameValues(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!=e[r]&&!n[r].eq(e[r]))return!1;return!0}function remove(n,e){for(let r=e,g=n.length-1;r<g;r++)n[r]=n[r+1];n.pop()}function insert(n,e,r){for(let g=n.length-1;g>=e;g--)n[g+1]=n[g];n[e]=r}function findMinIndex(n,e){let r=-1,g=1e9;for(let y=0;y<e.length;y++)(e[y]-g||n[y].endSide-n[r].endSide)<0&&(r=y,g=e[y]);return r}function countColumn(n,e,r=n.length){let g=0;for(let y=0;y<r;)n.charCodeAt(y)==9?(g+=e-g%e,y++):(g++,y=findClusterBreak(n,y));return g}function findColumn(n,e,r,g){for(let y=0,k=0;;){if(k>=e)return y;if(y==n.length)break;k+=n.charCodeAt(y)==9?r-k%r:1,y=findClusterBreak(n,y)}return g===!0?-1:n.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,r){this.rules=[];let{finish:g}=r||{};function y($){return/^@/.test($)?[$]:$.split(/,\s*/)}function k($,V,L,z){let j=[],re=/^@(\w+)\b/.exec($[0]),oe=re&&re[1]=="keyframes";if(re&&V==null)return L.push($[0]+";");for(let ae in V){let de=V[ae];if(/&/.test(ae))k(ae.split(/,\s*/).map(ue=>$.map(pe=>ue.replace(/&/,pe))).reduce((ue,pe)=>ue.concat(pe)),de,L);else if(de&&typeof de=="object"){if(!re)throw new RangeError("The value of a property ("+ae+") should be a primitive value.");k(y(ae),de,j,oe)}else de!=null&&j.push(ae.replace(/_.*/,"").replace(/[A-Z]/g,ue=>"-"+ue.toLowerCase())+": "+de+";")}(j.length||oe)&&L.push((g&&!re&&!z?$.map(g):$).join(", ")+" {"+j.join(" ")+"}")}for(let $ in e)k(y($),e[$],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,r,g){let y=e[SET],k=g&&g.nonce;y?k&&y.setNonce(k):y=new StyleSet(e,k),y.mount(Array.isArray(r)?r:[r],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,r){let g=e.ownerDocument||e,y=g.defaultView;if(!e.head&&e.adoptedStyleSheets&&y.CSSStyleSheet){let k=adoptedSet.get(g);if(k)return e[SET]=k;this.sheet=new y.CSSStyleSheet,adoptedSet.set(g,this)}else this.styleTag=g.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[SET]=this}mount(e,r){let g=this.sheet,y=0,k=0;for(let $=0;$<e.length;$++){let V=e[$],L=this.modules.indexOf(V);if(L<k&&L>-1&&(this.modules.splice(L,1),k--,L=-1),L==-1){if(this.modules.splice(k++,0,V),g)for(let z=0;z<V.rules.length;z++)g.insertRule(V.rules[z],y++)}else{for(;k<L;)y+=this.modules[k++].rules.length;y+=V.rules.length,k++}}if(g)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let $="";for(let L=0;L<this.modules.length;L++)$+=this.modules[L].getRules()+`
`;this.styleTag.textContent=$;let V=r.head||r;this.styleTag.parentNode!=V&&V.insertBefore(this.styleTag,V.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(n){var e=mac&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ie$1&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",r=!e&&n.key||(n.shiftKey?shift:base)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function getSelection(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function contains(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(n,e){if(!e.anchorNode)return!1;try{return contains(n,e.anchorNode)}catch{return!1}}function clientRectsFor(n){return n.nodeType==3?textRange(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function isEquivalentPosition(n,e,r,g){return r?scanFor(n,e,r,g,-1)||scanFor(n,e,r,g,1):!1}function domIndex(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function isBlockElement(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function scanFor(n,e,r,g,y){for(;;){if(n==r&&e==g)return!0;if(e==(y<0?0:maxOffset(n))){if(n.nodeName=="DIV")return!1;let k=n.parentNode;if(!k||k.nodeType!=1)return!1;e=domIndex(n)+(y<0?0:1),n=k}else if(n.nodeType==1){if(n=n.childNodes[e+(y<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=y<0?maxOffset(n):0}else return!1}}function maxOffset(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function flattenRect(n,e){let r=e?n.left:n.right;return{left:r,right:r,top:n.top,bottom:n.bottom}}function windowRect(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function getScale(n,e){let r=e.width/n.offsetWidth,g=e.height/n.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-n.offsetWidth)<1)&&(r=1),(g>.995&&g<1.005||!isFinite(g)||Math.abs(e.height-n.offsetHeight)<1)&&(g=1),{scaleX:r,scaleY:g}}function scrollRectIntoView(n,e,r,g,y,k,$,V){let L=n.ownerDocument,z=L.defaultView||window;for(let j=n,re=!1;j&&!re;)if(j.nodeType==1){let oe,ae=j==L.body,de=1,ue=1;if(ae)oe=windowRect(z);else{if(/^(fixed|sticky)$/.test(getComputedStyle(j).position)&&(re=!0),j.scrollHeight<=j.clientHeight&&j.scrollWidth<=j.clientWidth){j=j.assignedSlot||j.parentNode;continue}let xe=j.getBoundingClientRect();({scaleX:de,scaleY:ue}=getScale(j,xe)),oe={left:xe.left,right:xe.left+j.clientWidth*de,top:xe.top,bottom:xe.top+j.clientHeight*ue}}let pe=0,he=0;if(y=="nearest")e.top<oe.top?(he=-(oe.top-e.top+$),r>0&&e.bottom>oe.bottom+he&&(he=e.bottom-oe.bottom+he+$)):e.bottom>oe.bottom&&(he=e.bottom-oe.bottom+$,r<0&&e.top-he<oe.top&&(he=-(oe.top+he-e.top+$)));else{let xe=e.bottom-e.top,$e=oe.bottom-oe.top;he=(y=="center"&&xe<=$e?e.top+xe/2-$e/2:y=="start"||y=="center"&&r<0?e.top-$:e.bottom-$e+$)-oe.top}if(g=="nearest"?e.left<oe.left?(pe=-(oe.left-e.left+k),r>0&&e.right>oe.right+pe&&(pe=e.right-oe.right+pe+k)):e.right>oe.right&&(pe=e.right-oe.right+k,r<0&&e.left<oe.left+pe&&(pe=-(oe.left+pe-e.left+k))):pe=(g=="center"?e.left+(e.right-e.left)/2-(oe.right-oe.left)/2:g=="start"==V?e.left-k:e.right-(oe.right-oe.left)+k)-oe.left,pe||he)if(ae)z.scrollBy(pe,he);else{let xe=0,$e=0;if(he){let Ne=j.scrollTop;j.scrollTop+=he/ue,$e=(j.scrollTop-Ne)*ue}if(pe){let Ne=j.scrollLeft;j.scrollLeft+=pe/de,xe=(j.scrollLeft-Ne)*de}e={left:e.left-xe,top:e.top-$e,right:e.right-xe,bottom:e.bottom-$e},xe&&Math.abs(xe-pe)<1&&(g="nearest"),$e&&Math.abs($e-he)<1&&(y="nearest")}if(ae)break;j=j.assignedSlot||j.parentNode}else if(j.nodeType==11)j=j.host;else break}function scrollableParents(n){let e=n.ownerDocument,r,g;for(let y=n.parentNode;y&&!(y==e.body||r&&g);)if(y.nodeType==1)!g&&y.scrollHeight>y.clientHeight&&(g=y),!r&&y.scrollWidth>y.clientWidth&&(r=y),y=y.assignedSlot||y.parentNode;else if(y.nodeType==11)y=y.host;else break;return{x:r,y:g}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:g}=e;this.set(r,Math.min(e.anchorOffset,r?maxOffset(r):0),g,Math.min(e.focusOffset,g?maxOffset(g):0))}set(e,r,g,y){this.anchorNode=e,this.anchorOffset=r,this.focusNode=g,this.focusOffset=y}}let preventScrollSupported=null;function focusPreventScroll(n){if(n.setActive)return n.setActive();if(preventScrollSupported)return n.focus(preventScrollSupported);let e=[];for(let r=n;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(n.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let r=0;r<e.length;){let g=e[r++],y=e[r++],k=e[r++];g.scrollTop!=y&&(g.scrollTop=y),g.scrollLeft!=k&&(g.scrollLeft=k)}}}let scratchRange;function textRange(n,e,r=e){let g=scratchRange||(scratchRange=document.createRange());return g.setEnd(n,r),g.setStart(n,e),g}function dispatchKey(n,e,r,g){let y={key:e,code:e,keyCode:r,which:r,cancelable:!0};g&&({altKey:y.altKey,ctrlKey:y.ctrlKey,shiftKey:y.shiftKey,metaKey:y.metaKey}=g);let k=new KeyboardEvent("keydown",y);k.synthetic=!0,n.dispatchEvent(k);let $=new KeyboardEvent("keyup",y);return $.synthetic=!0,n.dispatchEvent($),k.defaultPrevented||$.defaultPrevented}function getRoot(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function clearAttributes(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function atElementStart(n,e){let r=e.focusNode,g=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=g)return!1;for(g=Math.min(g,maxOffset(r));;)if(g){if(r.nodeType!=1)return!1;let y=r.childNodes[g-1];y.contentEditable=="false"?g--:(r=y,g=maxOffset(r))}else{if(r==n)return!0;g=domIndex(r),r=r.parentNode}}function isScrolledToBottom(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function textNodeBefore(n,e){for(let r=n,g=e;;){if(r.nodeType==3&&g>0)return{node:r,offset:g};if(r.nodeType==1&&g>0){if(r.contentEditable=="false")return null;r=r.childNodes[g-1],g=maxOffset(r)}else if(r.parentNode&&!isBlockElement(r))g=domIndex(r),r=r.parentNode;else return null}}function textNodeAfter(n,e){for(let r=n,g=e;;){if(r.nodeType==3&&g<r.nodeValue.length)return{node:r,offset:g};if(r.nodeType==1&&g<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[g],g=0}else if(r.parentNode&&!isBlockElement(r))g=domIndex(r)+1,r=r.parentNode;else return null}}class DOMPos{constructor(e,r,g=!0){this.node=e,this.offset=r,this.precise=g}static before(e,r){return new DOMPos(e.parentNode,domIndex(e),r)}static after(e,r){return new DOMPos(e.parentNode,domIndex(e)+1,r)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let g of this.children){if(g==e)return r;r+=g.length+g.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let g=this.dom,y=null,k;for(let $ of this.children){if($.flags&7){if(!$.dom&&(k=y?y.nextSibling:g.firstChild)){let V=ContentView.get(k);(!V||!V.parent&&V.canReuseDOM($))&&$.reuseDOM(k)}$.sync(e,r),$.flags&=-8}if(k=y?y.nextSibling:g.firstChild,r&&!r.written&&r.node==g&&k!=$.dom&&(r.written=!0),$.dom.parentNode==g)for(;k&&k!=$.dom;)k=rm$1(k);else g.insertBefore($.dom,k);y=$.dom}for(k=y?y.nextSibling:g.firstChild,k&&r&&r.node==g&&(r.written=!0);k;)k=rm$1(k)}else if(this.flags&1)for(let g of this.children)g.flags&7&&(g.sync(e,r),g.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let g;if(e==this.dom)g=this.dom.childNodes[r];else{let y=maxOffset(e)==0?0:r==0?-1:1;for(;;){let k=e.parentNode;if(k==this.dom)break;y==0&&k.firstChild!=k.lastChild&&(e==k.firstChild?y=-1:y=1),e=k}y<0?g=e:g=e.nextSibling}if(g==this.dom.firstChild)return 0;for(;g&&!ContentView.get(g);)g=g.nextSibling;if(!g)return this.length;for(let y=0,k=0;;y++){let $=this.children[y];if($.dom==g)return k;k+=$.length+$.breakAfter}}domBoundsAround(e,r,g=0){let y=-1,k=-1,$=-1,V=-1;for(let L=0,z=g,j=g;L<this.children.length;L++){let re=this.children[L],oe=z+re.length;if(z<e&&oe>r)return re.domBoundsAround(e,r,z);if(oe>=e&&y==-1&&(y=L,k=z),z>r&&re.dom.parentNode==this.dom){$=L,V=j;break}j=oe,z=oe+re.breakAfter}return{from:k,to:V<0?g+this.length:V,startDOM:(y?this.children[y-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:$<this.children.length&&$>=0?this.children[$].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,g=noChildren){this.markDirty();for(let y=e;y<r;y++){let k=this.children[y];k.parent==this&&g.indexOf(k)<0&&k.destroy()}g.length<250?this.children.splice(e,r-e,...g):this.children=[].concat(this.children.slice(0,e),g,this.children.slice(r));for(let y=0;y<g.length;y++)g[y].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,g,y,k,$){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ChildCursor{constructor(e,r,g){this.children=e,this.pos=r,this.i=g,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let g=this.children[--this.i];this.pos-=g.length+g.breakAfter}}}function replaceRange(n,e,r,g,y,k,$,V,L){let{children:z}=n,j=z.length?z[e]:null,re=k.length?k[k.length-1]:null,oe=re?re.breakAfter:$;if(!(e==g&&j&&!$&&!oe&&k.length<2&&j.merge(r,y,k.length?re:null,r==0,V,L))){if(g<z.length){let ae=z[g];ae&&(y<ae.length||ae.breakAfter&&re?.breakAfter)?(e==g&&(ae=ae.split(y),y=0),!oe&&re&&ae.merge(0,y,re,!0,0,L)?k[k.length-1]=ae:((y||ae.children.length&&!ae.children[0].length)&&ae.merge(0,y,null,!1,0,L),k.push(ae))):ae?.breakAfter&&(re?re.breakAfter=1:$=1),g++}for(j&&(j.breakAfter=$,r>0&&(!$&&k.length&&j.merge(r,j.length,k[0],!1,V,0)?j.breakAfter=k.shift().breakAfter:(r<j.length||j.children.length&&j.children[j.children.length-1].length==0)&&j.merge(r,j.length,null,!1,V,0),e++));e<g&&k.length;)if(z[g-1].become(k[k.length-1]))g--,k.pop(),L=k.length?0:V;else if(z[e].become(k[0]))e++,k.shift(),V=k.length?0:L;else break;!k.length&&e&&g<z.length&&!z[e-1].breakAfter&&z[g].merge(0,0,z[e-1],!1,V,L)&&e--,(e<g||k.length)&&n.replaceChildren(e,g,k)}}function mergeChildrenInto(n,e,r,g,y,k){let $=n.childCursor(),{i:V,off:L}=$.findPos(r,1),{i:z,off:j}=$.findPos(e,-1),re=e-r;for(let oe of g)re+=oe.length;n.length+=re,replaceRange(n,z,j,V,L,g,0,y,k)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,g){return this.flags&8||g&&(!(g instanceof TextView)||this.length-(r-e)+g.length>MaxJoinLen||g.flags&8)?!1:(this.text=this.text.slice(0,e)+(g?g.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,r,g){return{from:g,to:g+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return textCoords(this.dom,e,r)}}class MarkView extends ContentView{constructor(e,r=[],g=0){super(),this.mark=e,this.children=r,this.length=g;for(let y of r)y.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,g,y,k,$){return g&&(!(g instanceof MarkView&&g.mark.eq(this.mark))||e&&k<=0||r<this.length&&$<=0)?!1:(mergeChildrenInto(this,e,r,g?g.children.slice():[],k-1,$-1),this.markDirty(),!0)}split(e){let r=[],g=0,y=-1,k=0;for(let V of this.children){let L=g+V.length;L>e&&r.push(g<e?V.split(e-g):V),y<0&&g>=e&&(y=k),g=L,k++}let $=this.length-e;return this.length=e,y>-1&&(this.children.length=y,this.markDirty()),new MarkView(this.mark,r,$)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,r){return coordsInChildren(this,e,r)}}function textCoords(n,e,r){let g=n.nodeValue.length;e>g&&(e=g);let y=e,k=e,$=0;e==0&&r<0||e==g&&r>=0?browser.chrome||browser.gecko||(e?(y--,$=1):k<g&&(k++,$=-1)):r<0?y--:k<g&&k++;let V=textRange(n,y,k).getClientRects();if(!V.length)return null;let L=V[($?$<0:r>=0)?0:V.length-1];return browser.safari&&!$&&L.width==0&&(L=Array.prototype.find.call(V,z=>z.width)||L),$?flattenRect(L,$<0):L||null}class WidgetView extends ContentView{static create(e,r,g){return new WidgetView(e,r,g)}constructor(e,r,g){super(),this.widget=e,this.length=r,this.side=g,this.prevWidget=null}split(e){let r=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,g,y,k,$){return g&&(!(g instanceof WidgetView)||!this.widget.compare(g.widget)||e>0&&k<=0||r<this.length&&$<=0)?!1:(this.length=e+(g?g.length:0)+(this.length-r),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,g=r&&r.state.doc,y=this.posAtStart;return g?g.slice(y,y+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let g=this.widget.coordsAt(this.dom,e,r);if(g)return g;let y=this.dom.getClientRects(),k=null;if(!y.length)return null;let $=this.side?this.side<0:e>0;for(let V=$?y.length-1:0;k=y[V],!(e>0?V==0:V==y.length-1||k.top<k.bottom);V+=$?-1:1);return flattenRect(k,!$)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(n,e){let r=n.dom,{children:g}=n,y=0;for(let k=0;y<g.length;y++){let $=g[y],V=k+$.length;if(!(V==k&&$.getSide()<=0)){if(e>k&&e<V&&$.dom.parentNode==r)return $.domAtPos(e-k);if(e<=k)break;k=V}}for(let k=y;k>0;k--){let $=g[k-1];if($.dom.parentNode==r)return $.domAtPos($.length)}for(let k=y;k<g.length;k++){let $=g[k];if($.dom.parentNode==r)return $.domAtPos(0)}return new DOMPos(r,0)}function joinInlineInto(n,e,r){let g,{children:y}=n;r>0&&e instanceof MarkView&&y.length&&(g=y[y.length-1])instanceof MarkView&&g.mark.eq(e.mark)?joinInlineInto(g,e.children[0],r-1):(y.push(e),e.setParent(n)),n.length+=e.length}function coordsInChildren(n,e,r){let g=null,y=-1,k=null,$=-1;function V(z,j){for(let re=0,oe=0;re<z.children.length&&oe<=j;re++){let ae=z.children[re],de=oe+ae.length;de>=j&&(ae.children.length?V(ae,j-oe):(!k||k.isHidden&&r>0)&&(de>j||oe==de&&ae.getSide()>0)?(k=ae,$=j-oe):(oe<j||oe==de&&ae.getSide()<0&&!ae.isHidden)&&(g=ae,y=j-oe)),oe=de}}V(n,e);let L=(r<0?g:k)||g||k;return L?L.coordsAt(Math.max(0,L==g?y:$),r):fallbackRect(n)}function fallbackRect(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let r=clientRectsFor(e);return r[r.length-1]||null}function combineAttrs(n,e){for(let r in n)r=="class"&&e.class?e.class+=" "+n.class:r=="style"&&e.style?e.style+=";"+n.style:e[r]=n[r];return e}const noAttrs$1=Object.create(null);function attrsEq(n,e,r){if(n==e)return!0;n||(n=noAttrs$1),e||(e=noAttrs$1);let g=Object.keys(n),y=Object.keys(e);if(g.length-(r&&g.indexOf(r)>-1?1:0)!=y.length-(r&&y.indexOf(r)>-1?1:0))return!1;for(let k of g)if(k!=r&&(y.indexOf(k)==-1||n[k]!==e[k]))return!1;return!0}function updateAttrs(n,e,r){let g=!1;if(e)for(let y in e)r&&y in r||(g=!0,y=="style"?n.style.cssText="":n.removeAttribute(y));if(r)for(let y in r)e&&e[y]==r[y]||(g=!0,y=="style"?n.style.cssText=r[y]:n.setAttribute(y,r[y]));return g}function getAttrs(n){let e=Object.create(null);for(let r=0;r<n.attributes.length;r++){let g=n.attributes[r];e[g.name]=g.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,g){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,r,g,y){super(),this.startSide=e,this.endSide=r,this.widget=g,this.spec=y}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),g=!!e.block;return r+=g&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new PointDecoration(e,r,r,g,e.widget||null,!1)}static replace(e){let r=!!e.block,g,y;if(e.isBlockGap)g=-5e8,y=4e8;else{let{start:k,end:$}=getInclusive(e,r);g=(k?r?-3e8:-1:5e8)-1,y=($?r?2e8:1:-6e8)+1}return new PointDecoration(e,g,y,r,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,r=!1){return RangeSet.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:r,end:g}=getInclusive(e);super(r?-1:5e8,g?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,g;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((g=e.attrs)===null||g===void 0?void 0:g.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,r,g,y,k,$){super(r,g,k,e),this.block=y,this.isReplace=$,this.mapMode=y?r<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}PointDecoration.prototype.point=!0;function getInclusive(n,e=!1){let{inclusiveStart:r,inclusiveEnd:g}=n;return r==null&&(r=n.inclusive),g==null&&(g=n.inclusive),{start:r??e,end:g??e}}function widgetsEq(n,e){return n==e||!!(n&&e&&n.compare(e))}function addRange(n,e,r,g=0){let y=r.length-1;y>=0&&r[y]+g>=n?r[y]=Math.max(r[y],e):r.push(n,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,g,y,k,$){if(g){if(!(g instanceof LineView))return!1;this.dom||g.transferDOM(this)}return y&&this.setDeco(g?g.attrs:null),mergeChildrenInto(this,e,r,g?g.children.slice():[],k,$),!0}split(e){let r=new LineView;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:g,off:y}=this.childPos(e);y&&(r.append(this.children[g].split(y),0),this.children[g].merge(y,this.children[g].length,null,!1,0,0),g++);for(let k=g;k<this.children.length;k++)r.append(this.children[k],0);for(;g>0&&this.children[g-1].length==0;)this.children[--g].destroy();return this.children.length=g,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){joinInlineInto(this,e,r)}addLineDeco(e){let r=e.spec.attributes,g=e.spec.class;r&&(this.attrs=combineAttrs(r,this.attrs||{})),g&&(this.attrs=combineAttrs({class:g},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var g;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let y=this.dom.lastChild;for(;y&&ContentView.get(y)instanceof MarkView;)y=y.lastChild;if(!y||!this.length||y.nodeName!="BR"&&((g=ContentView.get(y))===null||g===void 0?void 0:g.isEditable)==!1&&(!browser.ios||!this.children.some(k=>k instanceof TextView))){let k=document.createElement("BR");k.cmIgnore=!0,this.dom.appendChild(k)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let g of this.children){if(!(g instanceof TextView)||/[^ -~]/.test(g.text))return null;let y=clientRectsFor(g.dom);if(y.length!=1)return null;e+=y[0].width,r=y[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let g=coordsInChildren(this,e,r);if(!this.children.length&&g&&this.parent){let{heightOracle:y}=this.parent.view.viewState,k=g.bottom-g.top;if(Math.abs(k-y.lineHeight)<2&&y.textHeight<k){let $=(k-y.textHeight)/2;return{top:g.top+$,bottom:g.bottom-$,left:g.left,right:g.left}}}return g}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let g=0,y=0;g<e.children.length;g++){let k=e.children[g],$=y+k.length;if($>=r){if(k instanceof LineView)return k;if($>r)break}y=$+k.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,r,g){super(),this.widget=e,this.length=r,this.deco=g,this.breakAfter=0,this.prevWidget=null}merge(e,r,g,y,k,$){return g&&(!(g instanceof BlockWidgetView)||!this.widget.compare(g.widget)||e>0&&k<=0||r<this.length&&$<=0)?!1:(this.length=e+(g?g.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let g=new BlockWidgetView(this.widget,r,this.deco);return g.breakAfter=this.breakAfter,g}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let g=this.widget.coordsAt(this.dom,e,r);return g||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:g}=this.deco;return r==g?!1:e<0?r<0:g>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,r,g,y){this.doc=e,this.pos=r,this.end=g,this.disallowBlockEffectsFor=y,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,r,g){for(;e>0;){if(this.textOff==this.text.length){let{value:k,lineBreak:$,done:V}=this.cursor.next(this.skip);if(this.skip=0,V)throw new Error("Ran out of text content when drawing inline views");if($){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=k,this.textOff=0}let y=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-g)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+y)),r),g),this.atCursorPos=!0,this.textOff+=y,e-=y,g=0}}span(e,r,g,y){this.buildText(r-e,g,y),this.pos=r,this.openStart<0&&(this.openStart=y)}point(e,r,g,y,k,$){if(this.disallowBlockEffectsFor[$]&&g instanceof PointDecoration){if(g.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let V=r-e;if(g instanceof PointDecoration)if(g.block)g.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(g.widget||NullWidget.block,V,g));else{let L=WidgetView.create(g.widget||NullWidget.inline,V,V?0:g.startSide),z=this.atCursorPos&&!L.isEditable&&k<=y.length&&(e<r||g.startSide>0),j=!L.isEditable&&(e<r||k>y.length||g.startSide<=0),re=this.getLine();this.pendingBuffer==2&&!z&&!L.isEditable&&(this.pendingBuffer=0),this.flushBuffer(y),z&&(re.append(wrapMarks(new WidgetBufferView(1),y),k),k=y.length+Math.max(0,k-y.length)),re.append(wrapMarks(L,y),k),this.atCursorPos=j,this.pendingBuffer=j?e<r||k>y.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=y.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(g);V&&(this.textOff+V<=this.text.length?this.textOff+=V:(this.skip+=V-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=k)}static build(e,r,g,y,k){let $=new ContentBuilder(e,r,g,k);return $.openEnd=RangeSet.spans(y,r,g,$),$.openStart<0&&($.openStart=$.openEnd),$.finish($.openEnd),$}}function wrapMarks(n,e){for(let r of e)n=new MarkView(r,[n],n.length);return n}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(n){let e=[];for(let r=0;r<n.length;r++)e.push(1<<+n[r]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),r=n.charCodeAt(1);Brackets[e]=r,Brackets[r]=-e}function charType(n){return n<=247?LowTypes[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ArabicTypes[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,r,g){this.from=e,this.to=r,this.level=g}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,g,y){let k=-1;for(let $=0;$<e.length;$++){let V=e[$];if(V.from<=r&&V.to>=r){if(V.level==g)return $;(k<0||(y!=0?y<0?V.from<r:V.to>r:e[k].level>V.level))&&(k=$)}}if(k<0)throw new RangeError("Index out of range");return k}}function isolatesEq(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++){let g=n[r],y=e[r];if(g.from!=y.from||g.to!=y.to||g.direction!=y.direction||!isolatesEq(g.inner,y.inner))return!1}return!0}const types=[];function computeCharTypes(n,e,r,g,y){for(let k=0;k<=g.length;k++){let $=k?g[k-1].to:e,V=k<g.length?g[k].from:r,L=k?256:y;for(let z=$,j=L,re=L;z<V;z++){let oe=charType(n.charCodeAt(z));oe==512?oe=j:oe==8&&re==4&&(oe=16),types[z]=oe==4?2:oe,oe&7&&(re=oe),j=oe}for(let z=$,j=L,re=L;z<V;z++){let oe=types[z];if(oe==128)z<V-1&&j==types[z+1]&&j&24?oe=types[z]=j:types[z]=256;else if(oe==64){let ae=z+1;for(;ae<V&&types[ae]==64;)ae++;let de=z&&j==8||ae<r&&types[ae]==8?re==1?1:8:256;for(let ue=z;ue<ae;ue++)types[ue]=de;z=ae-1}else oe==8&&re==1&&(types[z]=1);j=oe,oe&7&&(re=oe)}}}function processBracketPairs(n,e,r,g,y){let k=y==1?2:1;for(let $=0,V=0,L=0;$<=g.length;$++){let z=$?g[$-1].to:e,j=$<g.length?g[$].from:r;for(let re=z,oe,ae,de;re<j;re++)if(ae=Brackets[oe=n.charCodeAt(re)])if(ae<0){for(let ue=V-3;ue>=0;ue-=3)if(BracketStack[ue+1]==-ae){let pe=BracketStack[ue+2],he=pe&2?y:pe&4?pe&1?k:y:0;he&&(types[re]=types[BracketStack[ue]]=he),V=ue;break}}else{if(BracketStack.length==189)break;BracketStack[V++]=re,BracketStack[V++]=oe,BracketStack[V++]=L}else if((de=types[re])==2||de==1){let ue=de==y;L=ue?0:1;for(let pe=V-3;pe>=0;pe-=3){let he=BracketStack[pe+2];if(he&2)break;if(ue)BracketStack[pe+2]|=2;else{if(he&4)break;BracketStack[pe+2]|=4}}}}}function processNeutrals(n,e,r,g){for(let y=0,k=g;y<=r.length;y++){let $=y?r[y-1].to:n,V=y<r.length?r[y].from:e;for(let L=$;L<V;){let z=types[L];if(z==256){let j=L+1;for(;;)if(j==V){if(y==r.length)break;j=r[y++].to,V=y<r.length?r[y].from:e}else if(types[j]==256)j++;else break;let re=k==1,oe=(j<e?types[j]:g)==1,ae=re==oe?re?1:2:g;for(let de=j,ue=y,pe=ue?r[ue-1].to:n;de>L;)de==pe&&(de=r[--ue].from,pe=ue?r[ue-1].to:n),types[--de]=ae;L=j}else k=z,L++}}}function emitSpans(n,e,r,g,y,k,$){let V=g%2?2:1;if(g%2==y%2)for(let L=e,z=0;L<r;){let j=!0,re=!1;if(z==k.length||L<k[z].from){let ue=types[L];ue!=V&&(j=!1,re=ue==16)}let oe=!j&&V==1?[]:null,ae=j?g:g+1,de=L;e:for(;;)if(z<k.length&&de==k[z].from){if(re)break e;let ue=k[z];if(!j)for(let pe=ue.to,he=z+1;;){if(pe==r)break e;if(he<k.length&&k[he].from==pe)pe=k[he++].to;else{if(types[pe]==V)break e;break}}if(z++,oe)oe.push(ue);else{ue.from>L&&$.push(new BidiSpan(L,ue.from,ae));let pe=ue.direction==LTR!=!(ae%2);computeSectionOrder(n,pe?g+1:g,y,ue.inner,ue.from,ue.to,$),L=ue.to}de=ue.to}else{if(de==r||(j?types[de]!=V:types[de]==V))break;de++}oe?emitSpans(n,L,de,g+1,y,oe,$):L<de&&$.push(new BidiSpan(L,de,ae)),L=de}else for(let L=r,z=k.length;L>e;){let j=!0,re=!1;if(!z||L>k[z-1].to){let ue=types[L-1];ue!=V&&(j=!1,re=ue==16)}let oe=!j&&V==1?[]:null,ae=j?g:g+1,de=L;e:for(;;)if(z&&de==k[z-1].to){if(re)break e;let ue=k[--z];if(!j)for(let pe=ue.from,he=z;;){if(pe==e)break e;if(he&&k[he-1].to==pe)pe=k[--he].from;else{if(types[pe-1]==V)break e;break}}if(oe)oe.push(ue);else{ue.to<L&&$.push(new BidiSpan(ue.to,L,ae));let pe=ue.direction==LTR!=!(ae%2);computeSectionOrder(n,pe?g+1:g,y,ue.inner,ue.from,ue.to,$),L=ue.from}de=ue.from}else{if(de==e||(j?types[de-1]!=V:types[de-1]==V))break;de--}oe?emitSpans(n,de,L,g+1,y,oe,$):de<L&&$.push(new BidiSpan(de,L,ae)),L=de}}function computeSectionOrder(n,e,r,g,y,k,$){let V=e%2?2:1;computeCharTypes(n,y,k,g,V),processBracketPairs(n,y,k,g,V),processNeutrals(y,k,g,V),emitSpans(n,y,k,e,r,g,$)}function computeOrder(n,e,r){if(!n)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!r.length&&!BidiRE.test(n))return trivialOrder(n.length);if(r.length)for(;n.length>types.length;)types[types.length]=256;let g=[],y=e==LTR?0:1;return computeSectionOrder(n,y,y,r,0,n.length,g),g}function trivialOrder(n){return[new BidiSpan(0,n,0)]}let movedOver="";function moveVisually(n,e,r,g,y){var k;let $=g.head-n.from,V=BidiSpan.find(e,$,(k=g.bidiLevel)!==null&&k!==void 0?k:-1,g.assoc),L=e[V],z=L.side(y,r);if($==z){let oe=V+=y?1:-1;if(oe<0||oe>=e.length)return null;L=e[V=oe],$=L.side(!y,r),z=L.side(y,r)}let j=findClusterBreak(n.text,$,L.forward(y,r));(j<L.from||j>L.to)&&(j=z),movedOver=n.text.slice(Math.min($,j),Math.max($,j));let re=V==(y?e.length-1:0)?null:e[V+(y?1:-1)];return re&&j==z&&re.level+(y?0:1)<L.level?EditorSelection.cursor(re.side(!y,r)+n.from,re.forward(y,r)?1:-1,re.level):EditorSelection.cursor(j+n.from,L.forward(y,r)?-1:1,L.level)}function autoDirection(n,e,r){for(let g=e;g<r;g++){let y=charType(n.charCodeAt(g));if(y==1)return LTR;if(y==2||y==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:n=>n.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:n=>n.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,r="nearest",g="nearest",y=5,k=5,$=!1){this.range=e,this.y=r,this.x=g,this.yMargin=y,this.xMargin=k,this.isSnapshot=$}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(n,e)=>n.map(e)}),setEditContextFormatting=StateEffect.define();function logException(n,e,r){let g=n.facet(exceptionSink);g.length?g[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const editable=Facet.define({combine:n=>n.length?n[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,r,g,y,k){this.id=e,this.create=r,this.domEventHandlers=g,this.domEventObservers=y,this.extension=k(this)}static define(e,r){const{eventHandlers:g,eventObservers:y,provide:k,decorations:$}=r||{};return new ViewPlugin(nextPluginID++,e,g,y,V=>{let L=[viewPlugin.of(V)];return $&&L.push(decorations.of(z=>{let j=z.plugin(V);return j?$(j):Decoration.none})),k&&L.push(k(V)),L})}static fromClass(e,r){return ViewPlugin.define(g=>new e(g),r)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(g){if(logException(r.state,g,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){logException(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(g){logException(e.state,g,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(n,e){let r=n.state.facet(bidiIsolatedRanges);if(!r.length)return r;let g=r.map(k=>k instanceof Function?k(n):k),y=[];return RangeSet.spans(g,e.from,e.to,{point(){},span(k,$,V,L){let z=k-e.from,j=$-e.from,re=y;for(let oe=V.length-1;oe>=0;oe--,L--){let ae=V[oe].spec.bidiIsolate,de;if(ae==null&&(ae=autoDirection(e.text,z,j)),L>0&&re.length&&(de=re[re.length-1]).to==z&&de.direction==ae)de.to=j,re=de.inner;else{let ue={from:z,to:j,direction:ae,inner:[]};re.push(ue),re=ue.inner}}}}),y}const scrollMargins=Facet.define();function getScrollMargins(n){let e=0,r=0,g=0,y=0;for(let k of n.state.facet(scrollMargins)){let $=k(n);$&&($.left!=null&&(e=Math.max(e,$.left)),$.right!=null&&(r=Math.max(r,$.right)),$.top!=null&&(g=Math.max(g,$.top)),$.bottom!=null&&(y=Math.max(y,$.bottom)))}return{left:e,right:r,top:g,bottom:y}}const styleModule=Facet.define();class ChangedRange{constructor(e,r,g,y){this.fromA=e,this.toA=r,this.fromB=g,this.toB=y}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,g=this;for(;r>0;r--){let y=e[r-1];if(!(y.fromA>g.toA)){if(y.toA<g.fromA)break;g=g.join(y),e.splice(r-1,1)}}return e.splice(r,0,g),e}static extendWithRanges(e,r){if(r.length==0)return e;let g=[];for(let y=0,k=0,$=0,V=0;;y++){let L=y==e.length?null:e[y],z=$-V,j=L?L.fromB:1e9;for(;k<r.length&&r[k]<j;){let re=r[k],oe=r[k+1],ae=Math.max(V,re),de=Math.min(j,oe);if(ae<=de&&new ChangedRange(ae+z,de+z,ae,de).addToSet(g),oe>j)break;k+=2}if(!L)return g;new ChangedRange(L.fromA,L.toA,L.fromB,L.toB).addToSet(g),$=L.toA,V=L.toB}}}class ViewUpdate{constructor(e,r,g){this.view=e,this.state=r,this.transactions=g,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let k of g)this.changes=this.changes.compose(k.changes);let y=[];this.changes.iterChangedRanges((k,$,V,L)=>y.push(new ChangedRange(k,$,V,L))),this.changedRanges=y}static create(e,r,g){return new ViewUpdate(e,r,g)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let g=e.changedRanges;this.minWidth>0&&g.length&&(g.every(({fromA:z,toA:j})=>j<this.minWidthFrom||z>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let y=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?y=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(y=e.state.selection.main.head));let k=y>-1?findCompositionRange(this.view,e.changes,y):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:z,to:j}=this.hasComposition;g=new ChangedRange(z,j,e.changes.mapPos(z,-1),e.changes.mapPos(j,1)).addToSet(g.slice())}this.hasComposition=k?{from:k.range.fromB,to:k.range.toB}:null,(browser.ie||browser.chrome)&&!k&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let $=this.decorations,V=this.updateDeco(),L=findChangedDeco($,V,e.changes);return g=ChangedRange.extendWithRanges(g,L),!(this.flags&7)&&g.length==0?!1:(this.updateInner(g,e.startState.doc.length,k),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,g){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,g);let{observer:y}=this.view;y.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let $=browser.chrome||browser.ios?{node:y.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,$),this.flags&=-8,$&&($.written||y.selectionRange.focusNode!=$.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach($=>$.flags&=-9);let k=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let $ of this.children)$ instanceof BlockWidgetView&&$.widget instanceof BlockGapWidget&&k.push($.dom);y.updateGaps(k)}updateChildren(e,r,g){let y=g?g.range.addToSet(e.slice()):e,k=this.childCursor(r);for(let $=y.length-1;;$--){let V=$>=0?y[$]:null;if(!V)break;let{fromA:L,toA:z,fromB:j,toB:re}=V,oe,ae,de,ue;if(g&&g.range.fromB<re&&g.range.toB>j){let Ne=ContentBuilder.build(this.view.state.doc,j,g.range.fromB,this.decorations,this.dynamicDecorationMap),Oe=ContentBuilder.build(this.view.state.doc,g.range.toB,re,this.decorations,this.dynamicDecorationMap);ae=Ne.breakAtStart,de=Ne.openStart,ue=Oe.openEnd;let _e=this.compositionView(g);Oe.breakAtStart?_e.breakAfter=1:Oe.content.length&&_e.merge(_e.length,_e.length,Oe.content[0],!1,Oe.openStart,0)&&(_e.breakAfter=Oe.content[0].breakAfter,Oe.content.shift()),Ne.content.length&&_e.merge(0,0,Ne.content[Ne.content.length-1],!0,0,Ne.openEnd)&&Ne.content.pop(),oe=Ne.content.concat(_e).concat(Oe.content)}else({content:oe,breakAtStart:ae,openStart:de,openEnd:ue}=ContentBuilder.build(this.view.state.doc,j,re,this.decorations,this.dynamicDecorationMap));let{i:pe,off:he}=k.findPos(z,1),{i:xe,off:$e}=k.findPos(L,-1);replaceRange(this,xe,$e,pe,he,oe,ae,de,ue)}g&&this.fixCompositionDOM(g)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let g of r.effects)g.is(setEditContextFormatting)&&(this.editContextFormatting=g.value)}compositionView(e){let r=new TextView(e.text.nodeValue);r.flags|=8;for(let{deco:y}of e.marks)r=new MarkView(y,[r],r.length);let g=new LineView;return g.append(r,0),g}fixCompositionDOM(e){let r=(k,$)=>{$.flags|=8|($.children.some(L=>L.flags&7)?1:0),this.markedForComposition.add($);let V=ContentView.get(k);V&&V!=$&&(V.dom=null),$.setDOM(k)},g=this.childPos(e.range.fromB,1),y=this.children[g.i];r(e.line,y);for(let k=e.marks.length-1;k>=-1;k--)g=y.childPos(g.off,1),y=y.children[g.i],r(k>=0?e.marks[k].node:e.text,y)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let g=this.view.root.activeElement,y=g==this.dom,k=!y&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(g&&this.dom.contains(g));if(!(y||r||k))return;let $=this.forceSelection;this.forceSelection=!1;let V=this.view.state.selection.main,L=this.moveToLine(this.domAtPos(V.anchor)),z=V.empty?L:this.moveToLine(this.domAtPos(V.head));if(browser.gecko&&V.empty&&!this.hasComposition&&betweenUneditable(L)){let re=document.createTextNode("");this.view.observer.ignore(()=>L.node.insertBefore(re,L.node.childNodes[L.offset]||null)),L=z=new DOMPos(re,0),$=!0}let j=this.view.observer.selectionRange;($||!j.focusNode||(!isEquivalentPosition(L.node,L.offset,j.anchorNode,j.anchorOffset)||!isEquivalentPosition(z.node,z.offset,j.focusNode,j.focusOffset))&&!this.suppressWidgetCursorChange(j,V))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(j.focusNode)&&inUneditable(j.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let re=getSelection(this.view.root);if(re)if(V.empty){if(browser.gecko){let oe=nextToUneditable(L.node,L.offset);if(oe&&oe!=3){let ae=(oe==1?textNodeBefore:textNodeAfter)(L.node,L.offset);ae&&(L=new DOMPos(ae.node,ae.offset))}}re.collapse(L.node,L.offset),V.bidiLevel!=null&&re.caretBidiLevel!==void 0&&(re.caretBidiLevel=V.bidiLevel)}else if(re.extend){re.collapse(L.node,L.offset);try{re.extend(z.node,z.offset)}catch{}}else{let oe=document.createRange();V.anchor>V.head&&([L,z]=[z,L]),oe.setEnd(z.node,z.offset),oe.setStart(L.node,L.offset),re.removeAllRanges(),re.addRange(oe)}k&&this.view.root.activeElement==this.dom&&(this.dom.blur(),g&&g.focus())}),this.view.observer.setSelectionRange(L,z)),this.impreciseAnchor=L.precise?null:new DOMPos(j.anchorNode,j.anchorOffset),this.impreciseHead=z.precise?null:new DOMPos(j.focusNode,j.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,g=getSelection(e.root),{anchorNode:y,anchorOffset:k}=e.observer.selectionRange;if(!g||!r.empty||!r.assoc||!g.modify)return;let $=LineView.find(this,r.head);if(!$)return;let V=$.posAtStart;if(r.head==V||r.head==V+$.length)return;let L=this.coordsAt(r.head,-1),z=this.coordsAt(r.head,1);if(!L||!z||L.bottom>z.top)return;let j=this.domAtPos(r.head+r.assoc);g.collapse(j.node,j.offset),g.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let re=e.observer.selectionRange;e.docView.posFromDOM(re.anchorNode,re.anchorOffset)!=r.from&&g.collapse(y,k)}moveToLine(e){let r=this.dom,g;if(e.node!=r)return e;for(let y=e.offset;!g&&y<r.childNodes.length;y++){let k=ContentView.get(r.childNodes[y]);k instanceof LineView&&(g=k.domAtPos(0))}for(let y=e.offset-1;!g&&y>=0;y--){let k=ContentView.get(r.childNodes[y]);k instanceof LineView&&(g=k.domAtPos(k.length))}return g?new DOMPos(g.node,g.offset,!0):e}nearest(e){for(let r=e;r;){let g=ContentView.get(r);if(g&&g.rootView==this)return g;r=r.parentNode}return null}posFromDOM(e,r){let g=this.nearest(e);if(!g)throw new RangeError("Trying to find position for a DOM position outside of the document");return g.localPosFromDOM(e,r)+g.posAtStart}domAtPos(e){let{i:r,off:g}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let y=this.children[r];if(g<y.length||y instanceof LineView)break;r++,g=0}return this.children[r].domAtPos(g)}coordsAt(e,r){let g=null,y=0;for(let k=this.length,$=this.children.length-1;$>=0;$--){let V=this.children[$],L=k-V.breakAfter,z=L-V.length;if(L<e)break;if(z<=e&&(z<e||V.covers(-1))&&(L>e||V.covers(1))&&(!g||V instanceof LineView&&!(g instanceof LineView&&r>=0)))g=V,y=z;else if(g&&z==e&&L==e&&V instanceof BlockWidgetView&&Math.abs(r)<2){if(V.deco.startSide<0)break;$&&(g=null)}k=z}return g?g.coordsAt(e-y,r):null}coordsForChar(e){let{i:r,off:g}=this.childPos(e,1),y=this.children[r];if(!(y instanceof LineView))return null;for(;y.children.length;){let{i:V,off:L}=y.childPos(g,1);for(;;V++){if(V==y.children.length)return null;if((y=y.children[V]).length)break}g=L}if(!(y instanceof TextView))return null;let k=findClusterBreak(y.text,g);if(k==g)return null;let $=textRange(y.dom,g,k).getClientRects();for(let V=0;V<$.length;V++){let L=$[V];if(V==$.length-1||L.top<L.bottom&&L.left<L.right)return L}return null}measureVisibleLineHeights(e){let r=[],{from:g,to:y}=e,k=this.view.contentDOM.clientWidth,$=k>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,V=-1,L=this.view.textDirection==Direction.LTR;for(let z=0,j=0;j<this.children.length;j++){let re=this.children[j],oe=z+re.length;if(oe>y)break;if(z>=g){let ae=re.dom.getBoundingClientRect();if(r.push(ae.height),$){let de=re.dom.lastChild,ue=de?clientRectsFor(de):[];if(ue.length){let pe=ue[ue.length-1],he=L?pe.right-ae.left:ae.right-pe.left;he>V&&(V=he,this.minWidth=k,this.minWidthFrom=z,this.minWidthTo=oe)}}}z=oe+re.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let k of this.children)if(k instanceof LineView){let $=k.measureTextSize();if($)return $}let e=document.createElement("div"),r,g,y;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let k=clientRectsFor(e.firstChild)[0];r=e.getBoundingClientRect().height,g=k?k.width/27:7,y=k?k.height:r,e.remove()}),{lineHeight:r,charWidth:g,textHeight:y}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new ChildCursor(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let g=0,y=0;;y++){let k=y==r.viewports.length?null:r.viewports[y],$=k?k.from-1:this.length;if($>g){let V=(r.lineBlockAt($).bottom-r.lineBlockAt(g).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(V),block:!0,inclusive:!0,isBlockGap:!0}).range(g,$))}if(!k)break;g=k.to+1}return Decoration.set(e)}updateDeco(){let e=1,r=this.view.state.facet(decorations).map(k=>(this.dynamicDecorationMap[e++]=typeof k=="function")?k(this.view):k),g=!1,y=this.view.state.facet(outerDecorations).map((k,$)=>{let V=typeof k=="function";return V&&(g=!0),V?k(this.view):k});for(y.length&&(this.dynamicDecorationMap[e++]=g,r.push(RangeSet.join(y))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let z=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=z.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let z of this.view.state.facet(scrollHandler))try{if(z(this.view,e.range,e))return!0}catch(j){logException(this.view.state,j,"scroll handler")}let{range:r}=e,g=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),y;if(!g)return;!r.empty&&(y=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(g={left:Math.min(g.left,y.left),top:Math.min(g.top,y.top),right:Math.max(g.right,y.right),bottom:Math.max(g.bottom,y.bottom)});let k=getScrollMargins(this.view),$={left:g.left-k.left,top:g.top-k.top,right:g.right+k.right,bottom:g.bottom+k.bottom},{offsetWidth:V,offsetHeight:L}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,$,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,V),-V),Math.max(Math.min(e.yMargin,L),-L),this.view.textDirection==Direction.LTR)}}function betweenUneditable(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function findCompositionNode(n,e){let r=n.observer.selectionRange;if(!r.focusNode)return null;let g=textNodeBefore(r.focusNode,r.focusOffset),y=textNodeAfter(r.focusNode,r.focusOffset),k=g||y;if(y&&g&&y.node!=g.node){let V=ContentView.get(y.node);if(!V||V instanceof TextView&&V.text!=y.node.nodeValue)k=y;else if(n.docView.lastCompositionAfterCursor){let L=ContentView.get(g.node);!L||L instanceof TextView&&L.text!=g.node.nodeValue||(k=y)}}if(n.docView.lastCompositionAfterCursor=k!=g,!k)return null;let $=e-k.offset;return{from:$,to:$+k.node.nodeValue.length,node:k.node}}function findCompositionRange(n,e,r){let g=findCompositionNode(n,r);if(!g)return null;let{node:y,from:k,to:$}=g,V=y.nodeValue;if(/[\n\r]/.test(V)||n.state.doc.sliceString(g.from,g.to)!=V)return null;let L=e.invertedDesc,z=new ChangedRange(L.mapPos(k),L.mapPos($),k,$),j=[];for(let re=y.parentNode;;re=re.parentNode){let oe=ContentView.get(re);if(oe instanceof MarkView)j.push({node:re,deco:oe.mark});else{if(oe instanceof LineView||re.nodeName=="DIV"&&re.parentNode==n.contentDOM)return{range:z,text:y,marks:j,line:re};if(re!=n.contentDOM)j.push({node:re,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(re),tagName:re.tagName.toLowerCase()})});else return null}}}function nextToUneditable(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,r){addRange(e,r,this.changes)}comparePoint(e,r){addRange(e,r,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(n,e,r){let g=new DecorationComparator$1;return RangeSet.compare(n,e,r,g),g.changes}function inUneditable(n,e){for(let r=n;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function touchesComposition(n,e){let r=!1;return e&&n.iterChangedRanges((g,y)=>{g<e.to&&y>e.from&&(r=!0)}),r}function groupAt(n,e,r=1){let g=n.charCategorizer(e),y=n.doc.lineAt(e),k=e-y.from;if(y.length==0)return EditorSelection.cursor(e);k==0?r=1:k==y.length&&(r=-1);let $=k,V=k;r<0?$=findClusterBreak(y.text,k,!1):V=findClusterBreak(y.text,k);let L=g(y.text.slice($,V));for(;$>0;){let z=findClusterBreak(y.text,$,!1);if(g(y.text.slice(z,$))!=L)break;$=z}for(;V<y.length;){let z=findClusterBreak(y.text,V);if(g(y.text.slice(V,z))!=L)break;V=z}return EditorSelection.range($+y.from,V+y.from)}function getdx(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function getdy(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function yOverlap(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function upTop(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function upBot(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function domPosAtCoords(n,e,r){let g,y,k,$,V=!1,L,z,j,re;for(let de=n.firstChild;de;de=de.nextSibling){let ue=clientRectsFor(de);for(let pe=0;pe<ue.length;pe++){let he=ue[pe];y&&yOverlap(y,he)&&(he=upTop(upBot(he,y.bottom),y.top));let xe=getdx(e,he),$e=getdy(r,he);if(xe==0&&$e==0)return de.nodeType==3?domPosInText(de,e,r):domPosAtCoords(de,e,r);if(!g||$>$e||$==$e&&k>xe){g=de,y=he,k=xe,$=$e;let Ne=$e?r<he.top?-1:1:xe?e<he.left?-1:1:0;V=!Ne||(Ne>0?pe<ue.length-1:pe>0)}xe==0?r>he.bottom&&(!j||j.bottom<he.bottom)?(L=de,j=he):r<he.top&&(!re||re.top>he.top)&&(z=de,re=he):j&&yOverlap(j,he)?j=upBot(j,he.bottom):re&&yOverlap(re,he)&&(re=upTop(re,he.top))}}if(j&&j.bottom>=r?(g=L,y=j):re&&re.top<=r&&(g=z,y=re),!g)return{node:n,offset:0};let oe=Math.max(y.left,Math.min(y.right,e));if(g.nodeType==3)return domPosInText(g,oe,r);if(V&&g.contentEditable!="false")return domPosAtCoords(g,oe,r);let ae=Array.prototype.indexOf.call(n.childNodes,g)+(e>=(y.left+y.right)/2?1:0);return{node:n,offset:ae}}function domPosInText(n,e,r){let g=n.nodeValue.length,y=-1,k=1e9,$=0;for(let V=0;V<g;V++){let L=textRange(n,V,V+1).getClientRects();for(let z=0;z<L.length;z++){let j=L[z];if(j.top==j.bottom)continue;$||($=e-j.left);let re=(j.top>r?j.top-r:r-j.bottom)-1;if(j.left-1<=e&&j.right+1>=e&&re<k){let oe=e>=(j.left+j.right)/2,ae=oe;if((browser.chrome||browser.gecko)&&textRange(n,V).getBoundingClientRect().left==j.right&&(ae=!oe),re<=0)return{node:n,offset:V+(ae?1:0)};y=V+(ae?1:0),k=re}}}return{node:n,offset:y>-1?y:$>0?n.nodeValue.length:0}}function posAtCoords(n,e,r,g=-1){var y,k;let $=n.contentDOM.getBoundingClientRect(),V=$.top+n.viewState.paddingTop,L,{docHeight:z}=n.viewState,{x:j,y:re}=e,oe=re-V;if(oe<0)return 0;if(oe>z)return n.state.doc.length;for(let Ne=n.viewState.heightOracle.textHeight/2,Oe=!1;L=n.elementAtHeight(oe),L.type!=BlockType.Text;)for(;oe=g>0?L.bottom+Ne:L.top-Ne,!(oe>=0&&oe<=z);){if(Oe)return r?null:0;Oe=!0,g=-g}re=V+oe;let ae=L.from;if(ae<n.viewport.from)return n.viewport.from==0?0:r?null:posAtCoordsImprecise(n,$,L,j,re);if(ae>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:r?null:posAtCoordsImprecise(n,$,L,j,re);let de=n.dom.ownerDocument,ue=n.root.elementFromPoint?n.root:de,pe=ue.elementFromPoint(j,re);pe&&!n.contentDOM.contains(pe)&&(pe=null),pe||(j=Math.max($.left+1,Math.min($.right-1,j)),pe=ue.elementFromPoint(j,re),pe&&!n.contentDOM.contains(pe)&&(pe=null));let he,xe=-1;if(pe&&((y=n.docView.nearest(pe))===null||y===void 0?void 0:y.isEditable)!=!1){if(de.caretPositionFromPoint){let Ne=de.caretPositionFromPoint(j,re);Ne&&({offsetNode:he,offset:xe}=Ne)}else if(de.caretRangeFromPoint){let Ne=de.caretRangeFromPoint(j,re);Ne&&({startContainer:he,startOffset:xe}=Ne,(!n.contentDOM.contains(he)||browser.safari&&isSuspiciousSafariCaretResult(he,xe,j)||browser.chrome&&isSuspiciousChromeCaretResult(he,xe,j))&&(he=void 0))}he&&(xe=Math.min(maxOffset(he),xe))}if(!he||!n.docView.dom.contains(he)){let Ne=LineView.find(n.docView,ae);if(!Ne)return oe>L.top+L.height/2?L.to:L.from;({node:he,offset:xe}=domPosAtCoords(Ne.dom,j,re))}let $e=n.docView.nearest(he);if(!$e)return null;if($e.isWidget&&((k=$e.dom)===null||k===void 0?void 0:k.nodeType)==1){let Ne=$e.dom.getBoundingClientRect();return e.y<Ne.top||e.y<=Ne.bottom&&e.x<=(Ne.left+Ne.right)/2?$e.posAtStart:$e.posAtEnd}else return $e.localPosFromDOM(he,xe)+$e.posAtStart}function posAtCoordsImprecise(n,e,r,g,y){let k=Math.round((g-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&r.height>n.defaultLineHeight*1.5){let V=n.viewState.heightOracle.textHeight,L=Math.floor((y-r.top-(n.defaultLineHeight-V)*.5)/V);k+=L*n.viewState.heightOracle.lineLength}let $=n.state.sliceDoc(r.from,r.to);return r.from+findColumn($,k,n.state.tabSize)}function isSuspiciousSafariCaretResult(n,e,r){let g;if(n.nodeType!=3||e!=(g=n.nodeValue.length))return!1;for(let y=n.nextSibling;y;y=y.nextSibling)if(y.nodeType!=1||y.nodeName!="BR")return!1;return textRange(n,g-1,g).getBoundingClientRect().left>r}function isSuspiciousChromeCaretResult(n,e,r){if(e!=0)return!1;for(let y=n;;){let k=y.parentNode;if(!k||k.nodeType!=1||k.firstChild!=y)return!1;if(k.classList.contains("cm-line"))break;y=k}let g=n.nodeType==1?n.getBoundingClientRect():textRange(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return r-g.left>5}function blockAt(n,e){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){for(let g of r.type)if(g.to>e||g.to==e&&(g.to==r.to||g.type==BlockType.Text))return g}return r}function moveToLineBoundary(n,e,r,g){let y=blockAt(n,e.head),k=!g||y.type!=BlockType.Text||!(n.lineWrapping||y.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>y.from?e.head-1:e.head);if(k){let $=n.dom.getBoundingClientRect(),V=n.textDirectionAt(y.from),L=n.posAtCoords({x:r==(V==Direction.LTR)?$.right-1:$.left+1,y:(k.top+k.bottom)/2});if(L!=null)return EditorSelection.cursor(L,r?-1:1)}return EditorSelection.cursor(r?y.to:y.from,r?-1:1)}function moveByChar(n,e,r,g){let y=n.state.doc.lineAt(e.head),k=n.bidiSpans(y),$=n.textDirectionAt(y.from);for(let V=e,L=null;;){let z=moveVisually(y,k,$,V,r),j=movedOver;if(!z){if(y.number==(r?n.state.doc.lines:1))return V;j=`
`,y=n.state.doc.line(y.number+(r?1:-1)),k=n.bidiSpans(y),z=n.visualLineSide(y,!r)}if(L){if(!L(j))return V}else{if(!g)return z;L=g(j)}V=z}}function byGroup(n,e,r){let g=n.state.charCategorizer(e),y=g(r);return k=>{let $=g(k);return y==CharCategory.Space&&(y=$),y==$}}function moveVertically(n,e,r,g){let y=e.head,k=r?1:-1;if(y==(r?n.state.doc.length:0))return EditorSelection.cursor(y,e.assoc);let $=e.goalColumn,V,L=n.contentDOM.getBoundingClientRect(),z=n.coordsAtPos(y,e.assoc||-1),j=n.documentTop;if(z)$==null&&($=z.left-L.left),V=k<0?z.top:z.bottom;else{let ae=n.viewState.lineBlockAt(y);$==null&&($=Math.min(L.right-L.left,n.defaultCharacterWidth*(y-ae.from))),V=(k<0?ae.top:ae.bottom)+j}let re=L.left+$,oe=g??n.viewState.heightOracle.textHeight>>1;for(let ae=0;;ae+=10){let de=V+(oe+ae)*k,ue=posAtCoords(n,{x:re,y:de},!1,k);if(de<L.top||de>L.bottom||(k<0?ue<y:ue>y)){let pe=n.docView.coordsForChar(ue),he=!pe||de<pe.top?-1:1;return EditorSelection.cursor(ue,he,void 0,$)}}}function skipAtomicRanges(n,e,r){for(;;){let g=0;for(let y of n)y.between(e-1,e+1,(k,$,V)=>{if(e>k&&e<$){let L=g||r||(e-k<$-e?-1:1);e=L<0?k:$,g=L}});if(!g)return e}}function skipAtoms(n,e,r){let g=skipAtomicRanges(n.state.facet(atomicRanges).map(y=>y(n)),r.from,e.head>r.from?-1:1);return g==r.from?r:EditorSelection.cursor(g,g<r.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,r){if(!e)return this;let g=e.parentNode;for(let y=e;;){this.findPointBefore(g,y);let k=this.text.length;this.readNode(y);let $=y.nextSibling;if($==r)break;let V=ContentView.get(y),L=ContentView.get($);(V&&L?V.breakAfter:(V?V.breakAfter:isBlockElement(y))||isBlockElement($)&&(y.nodeName!="BR"||y.cmIgnore)&&this.text.length>k)&&this.lineBreak(),y=$}return this.findPointBefore(g,r),this}readTextNode(e){let r=e.nodeValue;for(let g of this.points)g.node==e&&(g.pos=this.text.length+Math.min(g.offset,r.length));for(let g=0,y=this.lineSeparator?null:/\r\n?|\n/g;;){let k=-1,$=1,V;if(this.lineSeparator?(k=r.indexOf(this.lineSeparator,g),$=this.lineSeparator.length):(V=y.exec(r))&&(k=V.index,$=V[0].length),this.append(r.slice(g,k<0?r.length:k)),k<0)break;if(this.lineBreak(),$>1)for(let L of this.points)L.node==e&&L.pos>this.text.length&&(L.pos-=$-1);g=k+$}}readNode(e){if(e.cmIgnore)return;let r=ContentView.get(e),g=r&&r.overrideDOMText;if(g!=null){this.findPointInside(e,g.length);for(let y=g.iter();!y.next().done;)y.lineBreak?this.lineBreak():this.append(y.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let g of this.points)g.node==e&&e.childNodes[g.offset]==r&&(g.pos=this.text.length)}findPointInside(e,r){for(let g of this.points)(e.nodeType==3?g.node==e:e.contains(g.node))&&(g.pos=this.text.length+(isAtEnd(e,g.node,g.offset)?r:0))}}function isAtEnd(n,e,r){for(;;){if(!e||r<maxOffset(e))return!1;if(e==n)return!0;r=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class DOMChange{constructor(e,r,g,y){this.typeOver=y,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:k,impreciseAnchor:$}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,g,0))){let V=k||$?[]:selectionPoints(e),L=new DOMReader(V,e.state);L.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=L.text,this.newSel=selectionFromPoints(V,this.bounds.from)}else{let V=e.observer.selectionRange,L=k&&k.node==V.focusNode&&k.offset==V.focusOffset||!contains(e.contentDOM,V.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(V.focusNode,V.focusOffset),z=$&&$.node==V.anchorNode&&$.offset==V.anchorOffset||!contains(e.contentDOM,V.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(V.anchorNode,V.anchorOffset),j=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&L!=z&&(j.from>0||j.to<e.state.doc.length)){let re=Math.min(L,z),oe=Math.max(L,z),ae=j.from-re,de=j.to-oe;(ae==0||ae==1||re==0)&&(de==0||de==-1||oe==e.state.doc.length)&&(L=0,z=e.state.doc.length)}this.newSel=EditorSelection.single(z,L)}}}function applyDOMChange(n,e){let r,{newSel:g}=e,y=n.state.selection.main,k=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:$,to:V}=e.bounds,L=y.from,z=null;(k===8||browser.android&&e.text.length<V-$)&&(L=y.to,z="end");let j=findDiff(n.state.doc.sliceString($,V,LineBreakPlaceholder),e.text,L-$,z);j&&(browser.chrome&&k==13&&j.toB==j.from+2&&e.text.slice(j.from,j.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&j.toB--,r={from:$+j.from,to:$+j.toA,insert:Text.of(e.text.slice(j.from,j.toB).split(LineBreakPlaceholder))})}else g&&(!n.hasFocus&&n.state.facet(editable)||g.main.eq(y))&&(g=null);if(!r&&!g)return!1;if(!r&&e.typeOver&&!y.empty&&g&&g.main.empty?r={from:y.from,to:y.to,insert:n.state.doc.slice(y.from,y.to)}:r&&r.from>=y.from&&r.to<=y.to&&(r.from!=y.from||r.to!=y.to)&&y.to-y.from-(r.to-r.from)<=4?r={from:y.from,to:y.to,insert:n.state.doc.slice(y.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,y.to))}:(browser.mac||browser.android)&&r&&r.from==r.to&&r.from==y.head-1&&/^\. ?$/.test(r.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(g&&r.insert.length==2&&(g=EditorSelection.single(g.main.anchor-1,g.main.head-1)),r={from:y.from,to:y.to,insert:Text.of([" "])}):browser.chrome&&r&&r.from==r.to&&r.from==y.head&&r.insert.toString()==`
 `&&n.lineWrapping&&(g&&(g=EditorSelection.single(g.main.anchor-1,g.main.head-1)),r={from:y.from,to:y.to,insert:Text.of([" "])}),r)return applyDOMChangeInner(n,r,g,k);if(g&&!g.main.eq(y)){let $=!1,V="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&($=!0),V=n.inputState.lastSelectionOrigin),n.dispatch({selection:g,scrollIntoView:$,userEvent:V}),!0}else return!1}function applyDOMChangeInner(n,e,r,g=-1){if(browser.ios&&n.inputState.flushIOSKey(e))return!0;let y=n.state.selection.main;if(browser.android&&(e.to==y.to&&(e.from==y.from||e.from==y.from-1&&n.state.sliceDoc(e.from,y.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(n.contentDOM,"Enter",13)||(e.from==y.from-1&&e.to==y.to&&e.insert.length==0||g==8&&e.insert.length<e.to-e.from&&e.to>y.head)&&dispatchKey(n.contentDOM,"Backspace",8)||e.from==y.from&&e.to==y.to+1&&e.insert.length==0&&dispatchKey(n.contentDOM,"Delete",46)))return!0;let k=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let $,V=()=>$||($=applyDefaultInsert(n,e,r));return n.state.facet(inputHandler$1).some(L=>L(n,e.from,e.to,k,V))||n.dispatch(V()),!0}function applyDefaultInsert(n,e,r){let g,y=n.state,k=y.selection.main;if(e.from>=k.from&&e.to<=k.to&&e.to-e.from>=(k.to-k.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let V=k.from<e.from?y.sliceDoc(k.from,e.from):"",L=k.to>e.to?y.sliceDoc(e.to,k.to):"";g=y.replaceSelection(n.state.toText(V+e.insert.sliceString(0,void 0,n.state.lineBreak)+L))}else{let V=y.changes(e),L=r&&r.main.to<=V.newLength?r.main:void 0;if(y.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=k.to&&e.to>=k.to-10){let z=n.state.sliceDoc(e.from,e.to),j,re=r&&findCompositionNode(n,r.main.head);if(re){let de=e.insert.length-(e.to-e.from);j={from:re.from,to:re.to-de}}else j=n.state.doc.lineAt(k.head);let oe=k.to-e.to,ae=k.to-k.from;g=y.changeByRange(de=>{if(de.from==k.from&&de.to==k.to)return{changes:V,range:L||de.map(V)};let ue=de.to-oe,pe=ue-z.length;if(de.to-de.from!=ae||n.state.sliceDoc(pe,ue)!=z||de.to>=j.from&&de.from<=j.to)return{range:de};let he=y.changes({from:pe,to:ue,insert:e.insert}),xe=de.to-k.to;return{changes:he,range:L?EditorSelection.range(Math.max(0,L.anchor+xe),Math.max(0,L.head+xe)):de.map(he)}})}else g={changes:V,selection:L&&y.selection.replaceRange(L)}}let $="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,$+=".compose",n.inputState.compositionFirstChange&&($+=".start",n.inputState.compositionFirstChange=!1)),y.update(g,{userEvent:$,scrollIntoView:!0})}function findDiff(n,e,r,g){let y=Math.min(n.length,e.length),k=0;for(;k<y&&n.charCodeAt(k)==e.charCodeAt(k);)k++;if(k==y&&n.length==e.length)return null;let $=n.length,V=e.length;for(;$>0&&V>0&&n.charCodeAt($-1)==e.charCodeAt(V-1);)$--,V--;if(g=="end"){let L=Math.max(0,k-Math.min($,V));r-=$+L-k}if($<k&&n.length<e.length){let L=r<=k&&r>=$?k-r:0;k-=L,V=k+(V-$),$=k}else if(V<k){let L=r<=k&&r>=V?k-r:0;k-=L,$=k+($-V),V=k}return{from:k,toA:$,toB:V}}function selectionPoints(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:r,anchorOffset:g,focusNode:y,focusOffset:k}=n.observer.selectionRange;return r&&(e.push(new DOMPoint(r,g)),(y!=r||k!=g)&&e.push(new DOMPoint(y,k))),e}function selectionFromPoints(n,e){if(n.length==0)return null;let r=n[0].pos,g=n.length==2?n[1].pos:r;return r>-1&&g>-1?EditorSelection.single(r+e,g+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let g=this.handlers[e];if(g){for(let y of g.observers)y(this.view,r);for(let y of g.handlers){if(r.defaultPrevented)break;if(y(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=computeHandlers(e),g=this.handlers,y=this.view.contentDOM;for(let k in r)if(k!="scroll"){let $=!r[k].handlers.length,V=g[k];V&&$!=!V.handlers.length&&(y.removeEventListener(k,this.handleEvent),V=null),V||y.addEventListener(k,this.handleEvent,{passive:$})}for(let k in g)k!="scroll"&&!r[k]&&y.removeEventListener(k,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=PendingKeys.find(g=>g.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(n,e){return(r,g)=>{try{return e.call(n,g,r)}catch(y){logException(r.state,y)}}}function computeHandlers(n){let e=Object.create(null);function r(g){return e[g]||(e[g]={observers:[],handlers:[]})}for(let g of n){let y=g.spec;if(y&&y.domEventHandlers)for(let k in y.domEventHandlers){let $=y.domEventHandlers[k];$&&r(k).handlers.push(bindHandler(g.value,$))}if(y&&y.domEventObservers)for(let k in y.domEventObservers){let $=y.domEventObservers[k];$&&r(k).observers.push(bindHandler(g.value,$))}}for(let g in handlers)r(g).handlers.push(handlers[g]);for(let g in observers)r(g).observers.push(observers[g]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(n){return Math.max(0,n)*.7+8}function dist(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class MouseSelection{constructor(e,r,g,y){this.view=e,this.startEvent=r,this.style=g,this.mustSelect=y,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map($=>$(e));let k=e.contentDOM.ownerDocument;k.addEventListener("mousemove",this.move=this.move.bind(this)),k.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,r),this.dragging=isInPrimarySelection(e,r)&&getClickType(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,g=0,y=0,k=0,$=this.view.win.innerWidth,V=this.view.win.innerHeight;this.scrollParents.x&&({left:y,right:$}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:k,bottom:V}=this.scrollParents.y.getBoundingClientRect());let L=getScrollMargins(this.view);e.clientX-L.left<=y+dragScrollMargin?r=-dragScrollSpeed(y-e.clientX):e.clientX+L.right>=$-dragScrollMargin&&(r=dragScrollSpeed(e.clientX-$)),e.clientY-L.top<=k+dragScrollMargin?g=-dragScrollSpeed(k-e.clientY):e.clientY+L.bottom>=V-dragScrollMargin&&(g=dragScrollSpeed(e.clientY-V)),this.setScrollSpeed(r,g)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let g=0;g<e.ranges.length;g++){let y=e.ranges[g],k=null;if(y.empty){let $=skipAtomicRanges(this.atoms,y.from,0);$!=y.from&&(k=EditorSelection.cursor($,-1))}else{let $=skipAtomicRanges(this.atoms,y.from,-1),V=skipAtomicRanges(this.atoms,y.to,1);($!=y.from||V!=y.to)&&(k=EditorSelection.range(y.from==y.anchor?$:V,y.from==y.head?$:V))}k&&(r||(r=e.ranges.slice()),r[g]=k)}return r?EditorSelection.create(r,e.mainIndex):e}select(e){let{view:r}=this,g=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!g.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:g,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(n,e){let r=n.state.facet(clickAddsSelectionRange);return r.length?r[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(n,e){let r=n.state.facet(dragMovesSelection$1);return r.length?r[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(n,e){let{main:r}=n.state.selection;if(r.empty)return!1;let g=getSelection(n.root);if(!g||g.rangeCount==0)return!0;let y=g.getRangeAt(0).getClientRects();for(let k=0;k<y.length;k++){let $=y[k];if($.left<=e.clientX&&$.right>=e.clientX&&$.top<=e.clientY&&$.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,g;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(g=ContentView.get(r))&&g.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(n){let e=n.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.remove(),doPaste(n,r.value)},50)}function textFilter(n,e,r){for(let g of n.facet(e))r=g(r,n);return r}function doPaste(n,e){e=textFilter(n.state,clipboardInputFilter,e);let{state:r}=n,g,y=1,k=r.toText(e),$=k.lines==r.selection.ranges.length;if(lastLinewiseCopy!=null&&r.selection.ranges.every(L=>L.empty)&&lastLinewiseCopy==k.toString()){let L=-1;g=r.changeByRange(z=>{let j=r.doc.lineAt(z.from);if(j.from==L)return{range:z};L=j.from;let re=r.toText(($?k.line(y++).text:e)+r.lineBreak);return{changes:{from:j.from,insert:re},range:EditorSelection.cursor(z.from+re.length)}})}else $?g=r.changeByRange(L=>{let z=k.line(y++);return{changes:{from:L.from,to:L.to,insert:z.text},range:EditorSelection.cursor(L.from+z.length)}}):g=r.replaceSelection(k);n.dispatch(g,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};handlers.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let g of n.state.facet(mouseSelectionStyle))if(r=g(n,e),r)break;if(!r&&e.button==0&&(r=basicMouseSelection(n,e)),r){let g=!n.hasFocus;n.inputState.startMouseSelection(new MouseSelection(n,e,r,g)),g&&n.observer.ignore(()=>{focusPreventScroll(n.contentDOM);let k=n.root.activeElement;k&&!k.contains(n.contentDOM)&&k.blur()});let y=n.inputState.mouseSelection;if(y)return y.start(e),y.dragging===!1}return!1};function rangeForClick(n,e,r,g){if(g==1)return EditorSelection.cursor(e,r);if(g==2)return groupAt(n.state,e,r);{let y=LineView.find(n.docView,e),k=n.state.doc.lineAt(y?y.posAtEnd:e),$=y?y.posAtStart:k.from,V=y?y.posAtEnd:k.to;return V<n.state.doc.length&&V==k.to&&V++,EditorSelection.range($,V)}}let inside=(n,e,r)=>e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right;function findPositionSide(n,e,r,g){let y=LineView.find(n.docView,e);if(!y)return 1;let k=e-y.posAtStart;if(k==0)return 1;if(k==y.length)return-1;let $=y.coordsAt(k,-1);if($&&inside(r,g,$))return-1;let V=y.coordsAt(k,1);return V&&inside(r,g,V)?1:$&&$.bottom>=g?-1:1}function queryPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:findPositionSide(n,r,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(n){if(!BadMouseDetail)return n.detail;let e=lastMouseDown,r=lastMouseDownTime;return lastMouseDown=n,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||r>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(n,e){let r=queryPos(n,e),g=getClickType(e),y=n.state.selection;return{update(k){k.docChanged&&(r.pos=k.changes.mapPos(r.pos),y=y.map(k.changes))},get(k,$,V){let L=queryPos(n,k),z,j=rangeForClick(n,L.pos,L.bias,g);if(r.pos!=L.pos&&!$){let re=rangeForClick(n,r.pos,r.bias,g),oe=Math.min(re.from,j.from),ae=Math.max(re.to,j.to);j=oe<j.from?EditorSelection.range(oe,ae):EditorSelection.range(ae,oe)}return $?y.replaceRange(y.main.extend(j.from,j.to)):V&&g==1&&y.ranges.length>1&&(z=removeRangeAround(y,L.pos))?z:V?y.addRange(j):EditorSelection.create([j])}}}function removeRangeAround(n,e){for(let r=0;r<n.ranges.length;r++){let{from:g,to:y}=n.ranges[r];if(g<=e&&y>=e)return EditorSelection.create(n.ranges.slice(0,r).concat(n.ranges.slice(r+1)),n.mainIndex==r?0:n.mainIndex-(n.mainIndex>r?1:0))}return null}handlers.dragstart=(n,e)=>{let{selection:{main:r}}=n.state;if(e.target.draggable){let y=n.docView.nearest(e.target);if(y&&y.isWidget){let k=y.posAtStart,$=k+y.length;(k>=r.to||$<=r.from)&&(r=EditorSelection.range(k,$))}}let{inputState:g}=n;return g.mouseSelection&&(g.mouseSelection.dragging=!0),g.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(n.state,clipboardOutputFilter,n.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=n=>(n.inputState.draggedContent=null,!1);function dropText(n,e,r,g){if(r=textFilter(n.state,clipboardInputFilter,r),!r)return;let y=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:k}=n.inputState,$=g&&k&&dragMovesSelection(n,e)?{from:k.from,to:k.to}:null,V={from:y,insert:r},L=n.state.changes($?[$,V]:V);n.focus(),n.dispatch({changes:L,selection:{anchor:L.mapPos(y,-1),head:L.mapPos(y,1)},userEvent:$?"move.drop":"input.drop"}),n.inputState.draggedContent=null}handlers.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let g=Array(r.length),y=0,k=()=>{++y==r.length&&dropText(n,e,g.filter($=>$!=null).join(n.state.lineBreak),!1)};for(let $=0;$<r.length;$++){let V=new FileReader;V.onerror=k,V.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(V.result)||(g[$]=V.result),k()},V.readAsText(r[$])}return!0}else{let g=e.dataTransfer.getData("Text");if(g)return dropText(n,e,g,!0),!0}return!1};handlers.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let r=brokenClipboardAPI?null:e.clipboardData;return r?(doPaste(n,r.getData("text/plain")||r.getData("text/uri-list")),!0):(capturePaste(n),!1)};function captureCopy(n,e){let r=n.dom.parentNode;if(!r)return;let g=r.appendChild(document.createElement("textarea"));g.style.cssText="position: fixed; left: -10000px; top: 10px",g.value=e,g.focus(),g.selectionEnd=e.length,g.selectionStart=0,setTimeout(()=>{g.remove(),n.focus()},50)}function copiedRange(n){let e=[],r=[],g=!1;for(let y of n.selection.ranges)y.empty||(e.push(n.sliceDoc(y.from,y.to)),r.push(y));if(!e.length){let y=-1;for(let{from:k}of n.selection.ranges){let $=n.doc.lineAt(k);$.number>y&&(e.push($.text),r.push({from:$.from,to:Math.min(n.doc.length,$.to+1)})),y=$.number}g=!0}return{text:textFilter(n,clipboardOutputFilter,e.join(n.lineBreak)),ranges:r,linewise:g}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(n,e)=>{let{text:r,ranges:g,linewise:y}=copiedRange(n.state);if(!r&&!y)return!1;lastLinewiseCopy=y?r:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:g,scrollIntoView:!0,userEvent:"delete.cut"});let k=brokenClipboardAPI?null:e.clipboardData;return k?(k.clearData(),k.setData("text/plain",r),!0):(captureCopy(n,r),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(n,e){let r=[];for(let g of n.facet(focusChangeEffect)){let y=g(n,e);y&&r.push(y)}return r?n.update({effects:r,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let r=focusChangeTransaction(n.state,e);r?n.dispatch(r):n.update([])}},10)}observers.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),updateForFocusChange(n)};observers.blur=n=>{n.observer.clearSelectionRange(),updateForFocusChange(n)};observers.compositionstart=observers.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};observers.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,browser.chrome&&browser.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};observers.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(n,e)=>{var r,g;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let k=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),$=e.getTargetRanges();if(k&&$.length){let V=$[0],L=n.posAtDOM(V.startContainer,V.startOffset),z=n.posAtDOM(V.endContainer,V.endOffset);return applyDOMChangeInner(n,{from:L,to:z,insert:n.state.toText(k)},null),!0}}let y;if(browser.chrome&&browser.android&&(y=PendingKeys.find(k=>k.inputType==e.inputType))&&(n.observer.delayAndroidKey(y.key,y.keyCode),y.key=="Backspace"||y.key=="Delete")){let k=((g=window.visualViewport)===null||g===void 0?void 0:g.height)||0;setTimeout(()=>{var $;((($=window.visualViewport)===null||$===void 0?void 0:$.height)||0)>k+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>observers.compositionend(n,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(n){appliedFirefoxHack.has(n)||(appliedFirefoxHack.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let g=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(g+=Math.max(0,Math.ceil((r-e-g*this.lineLength*.5)/this.lineLength))),this.lineHeight*g}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let g=0;g<e.length;g++){let y=e[g];y<0?g++:this.heightSamples[Math.floor(y*10)]||(r=!0,this.heightSamples[Math.floor(y*10)]=!0)}return r}refresh(e,r,g,y,k,$){let V=wrappingWhiteSpace.indexOf(e)>-1,L=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=V;if(this.lineWrapping=V,this.lineHeight=r,this.charWidth=g,this.textHeight=y,this.lineLength=k,L){this.heightSamples={};for(let z=0;z<$.length;z++){let j=$[z];j<0?z++:this.heightSamples[Math.floor(j*10)]=!0}}return L}}class MeasuredHeights{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,r,g,y,k){this.from=e,this.length=r,this.top=g,this.height=y,this._content=k}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var QueryType$1=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,r,g=2){this.length=e,this.height=r,this.flags=g}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,r,g){return HeightMap.of(g)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,g,y){let k=this,$=g.doc;for(let V=y.length-1;V>=0;V--){let{fromA:L,toA:z,fromB:j,toB:re}=y[V],oe=k.lineAt(L,QueryType$1.ByPosNoHeight,g.setDoc(r),0,0),ae=oe.to>=z?oe:k.lineAt(z,QueryType$1.ByPosNoHeight,g,0,0);for(re+=ae.to-z,z=ae.to;V>0&&oe.from<=y[V-1].toA;)L=y[V-1].fromA,j=y[V-1].fromB,V--,L<oe.from&&(oe=k.lineAt(L,QueryType$1.ByPosNoHeight,g,0,0));j+=oe.from-L,L=oe.from;let de=NodeBuilder.build(g.setDoc($),e,j,re);k=replace(k,k.replace(L,z,de))}return k.updateHeight(g,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let r=0,g=e.length,y=0,k=0;for(;;)if(r==g)if(y>k*2){let V=e[r-1];V.break?e.splice(--r,1,V.left,null,V.right):e.splice(--r,1,V.left,V.right),g+=1+V.break,y-=V.size}else if(k>y*2){let V=e[g];V.break?e.splice(g,1,V.left,null,V.right):e.splice(g,1,V.left,V.right),g+=2+V.break,k-=V.size}else break;else if(y<k){let V=e[r++];V&&(y+=V.size)}else{let V=e[--g];V&&(k+=V.size)}let $=0;return e[r-1]==null?($=1,r--):e[r]==null&&($=1,g++),new HeightMapBranch(HeightMap.of(e.slice(0,r)),$,HeightMap.of(e.slice(g)))}}function replace(n,e){return n==e?n:(n.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,r,g){super(e,r),this.deco=g}blockAt(e,r,g,y){return new BlockInfo(y,this.length,g,this.height,this.deco||0)}lineAt(e,r,g,y,k){return this.blockAt(0,g,y,k)}forEachLine(e,r,g,y,k,$){e<=k+this.length&&r>=k&&$(this.blockAt(0,g,y,k))}updateHeight(e,r=0,g=!1,y){return y&&y.from<=r&&y.more&&this.setHeight(y.heights[y.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,g,y){return new BlockInfo(y,this.length,g,this.height,this.breaks)}replace(e,r,g){let y=g[0];return g.length==1&&(y instanceof HeightMapText||y instanceof HeightMapGap&&y.flags&4)&&Math.abs(this.length-y.length)<10?(y instanceof HeightMapGap?y=new HeightMapText(y.length,this.height):y.height=this.height,this.outdated||(y.outdated=!1),y):HeightMap.of(g)}updateHeight(e,r=0,g=!1,y){return y&&y.from<=r&&y.more?this.setHeight(y.heights[y.index++]):(g||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,r){let g=e.doc.lineAt(r).number,y=e.doc.lineAt(r+this.length).number,k=y-g+1,$,V=0;if(e.lineWrapping){let L=Math.min(this.height,e.lineHeight*k);$=L/k,this.length>k+1&&(V=(this.height-L)/(this.length-k-1))}else $=this.height/k;return{firstLine:g,lastLine:y,perLine:$,perChar:V}}blockAt(e,r,g,y){let{firstLine:k,lastLine:$,perLine:V,perChar:L}=this.heightMetrics(r,y);if(r.lineWrapping){let z=y+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-g)/this.height))*this.length)),j=r.doc.lineAt(z),re=V+j.length*L,oe=Math.max(g,e-re/2);return new BlockInfo(j.from,j.length,oe,re,0)}else{let z=Math.max(0,Math.min($-k,Math.floor((e-g)/V))),{from:j,length:re}=r.doc.line(k+z);return new BlockInfo(j,re,g+V*z,V,0)}}lineAt(e,r,g,y,k){if(r==QueryType$1.ByHeight)return this.blockAt(e,g,y,k);if(r==QueryType$1.ByPosNoHeight){let{from:ae,to:de}=g.doc.lineAt(e);return new BlockInfo(ae,de-ae,0,0,0)}let{firstLine:$,perLine:V,perChar:L}=this.heightMetrics(g,k),z=g.doc.lineAt(e),j=V+z.length*L,re=z.number-$,oe=y+V*re+L*(z.from-k-re);return new BlockInfo(z.from,z.length,Math.max(y,Math.min(oe,y+this.height-j)),j,0)}forEachLine(e,r,g,y,k,$){e=Math.max(e,k),r=Math.min(r,k+this.length);let{firstLine:V,perLine:L,perChar:z}=this.heightMetrics(g,k);for(let j=e,re=y;j<=r;){let oe=g.doc.lineAt(j);if(j==e){let de=oe.number-V;re+=L*de+z*(e-k-de)}let ae=L+z*oe.length;$(new BlockInfo(oe.from,oe.length,re,ae,0)),re+=ae,j=oe.to+1}}replace(e,r,g){let y=this.length-r;if(y>0){let k=g[g.length-1];k instanceof HeightMapGap?g[g.length-1]=new HeightMapGap(k.length+y):g.push(null,new HeightMapGap(y-1))}if(e>0){let k=g[0];k instanceof HeightMapGap?g[0]=new HeightMapGap(e+k.length):g.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(g)}decomposeLeft(e,r){r.push(new HeightMapGap(e-1),null)}decomposeRight(e,r){r.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,r=0,g=!1,y){let k=r+this.length;if(y&&y.from<=r+this.length&&y.more){let $=[],V=Math.max(r,y.from),L=-1;for(y.from>r&&$.push(new HeightMapGap(y.from-r-1).updateHeight(e,r));V<=k&&y.more;){let j=e.doc.lineAt(V).length;$.length&&$.push(null);let re=y.heights[y.index++];L==-1?L=re:Math.abs(re-L)>=Epsilon&&(L=-2);let oe=new HeightMapText(j,re);oe.outdated=!1,$.push(oe),V+=j+1}V<=k&&$.push(null,new HeightMapGap(k-V).updateHeight(e,V));let z=HeightMap.of($);return(L<0||Math.abs(z.height-this.height)>=Epsilon||Math.abs(L-this.heightMetrics(e,r).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,z)}else(g||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,r,g){super(e.length+r+g.length,e.height+g.height,r|(e.outdated||g.outdated?2:0)),this.left=e,this.right=g,this.size=e.size+g.size}get break(){return this.flags&1}blockAt(e,r,g,y){let k=g+this.left.height;return e<k?this.left.blockAt(e,r,g,y):this.right.blockAt(e,r,k,y+this.left.length+this.break)}lineAt(e,r,g,y,k){let $=y+this.left.height,V=k+this.left.length+this.break,L=r==QueryType$1.ByHeight?e<$:e<V,z=L?this.left.lineAt(e,r,g,y,k):this.right.lineAt(e,r,g,$,V);if(this.break||(L?z.to<V:z.from>V))return z;let j=r==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return L?z.join(this.right.lineAt(V,j,g,$,V)):this.left.lineAt(V,j,g,y,k).join(z)}forEachLine(e,r,g,y,k,$){let V=y+this.left.height,L=k+this.left.length+this.break;if(this.break)e<L&&this.left.forEachLine(e,r,g,y,k,$),r>=L&&this.right.forEachLine(e,r,g,V,L,$);else{let z=this.lineAt(L,QueryType$1.ByPos,g,y,k);e<z.from&&this.left.forEachLine(e,z.from-1,g,y,k,$),z.to>=e&&z.from<=r&&$(z),r>z.to&&this.right.forEachLine(z.to+1,r,g,V,L,$)}}replace(e,r,g){let y=this.left.length+this.break;if(r<y)return this.balanced(this.left.replace(e,r,g),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-y,r-y,g));let k=[];e>0&&this.decomposeLeft(e,k);let $=k.length;for(let V of g)k.push(V);if(e>0&&mergeGaps(k,$-1),r<this.length){let V=k.length;this.decomposeRight(r,k),mergeGaps(k,V)}return HeightMap.of(k)}decomposeLeft(e,r){let g=this.left.length;if(e<=g)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(g++,e>=g&&r.push(null)),e>g&&this.right.decomposeLeft(e-g,r)}decomposeRight(e,r){let g=this.left.length,y=g+this.break;if(e>=y)return this.right.decomposeRight(e-y,r);e<g&&this.left.decomposeRight(e,r),this.break&&e<y&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?HeightMap.of(this.break?[e,null,r]:[e,r]):(this.left=replace(this.left,e),this.right=replace(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,g=!1,y){let{left:k,right:$}=this,V=r+k.length+this.break,L=null;return y&&y.from<=r+k.length&&y.more?L=k=k.updateHeight(e,r,g,y):k.updateHeight(e,r,g),y&&y.from<=V+$.length&&y.more?L=$=$.updateHeight(e,V,g,y):$.updateHeight(e,V,g),L?this.balanced(k,$):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(n,e){let r,g;n[e]==null&&(r=n[e-1])instanceof HeightMapGap&&(g=n[e+1])instanceof HeightMapGap&&n.splice(e-1,3,new HeightMapGap(r.length+1+g.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let g=Math.min(r,this.lineEnd),y=this.nodes[this.nodes.length-1];y instanceof HeightMapText?y.length+=g-this.pos:(g>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(g-this.pos,-1)),this.writtenTo=g,r>g&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,g){if(e<r||g.heightRelevant){let y=g.widget?g.widget.estimatedHeight:0,k=g.widget?g.widget.lineBreaks:0;y<0&&(y=this.oracle.lineHeight);let $=r-e;g.block?this.addBlock(new HeightMapBlock($,y,g)):($||k||y>=relevantWidgetHeight)&&this.addLineDeco(y,k,$)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let g=new HeightMapGap(r-e);return this.oracle.doc.lineAt(e).to==r&&(g.flags|=4),g}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let r=new HeightMapText(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,g){let y=this.ensureLine();y.length+=g,y.collapsed+=g,y.widgetHeight=Math.max(y.widgetHeight,e),y.breaks+=r,this.writtenTo=this.pos=this.pos+g}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let g=e;for(let y of this.nodes)y instanceof HeightMapText&&y.updateHeight(this.oracle,g),g+=y?y.length:1;return this.nodes}static build(e,r,g,y){let k=new NodeBuilder(g,e);return RangeSet.spans(r,g,y,k,0),k.finish(g)}}function heightRelevantDecoChanges(n,e,r){let g=new DecorationComparator2;return RangeSet.compare(n,e,r,g,0),g.changes}class DecorationComparator2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,g,y){(e<r||g&&g.heightRelevant||y&&y.heightRelevant)&&addRange(e,r,this.changes,5)}}function visiblePixelRange(n,e){let r=n.getBoundingClientRect(),g=n.ownerDocument,y=g.defaultView||window,k=Math.max(0,r.left),$=Math.min(y.innerWidth,r.right),V=Math.max(0,r.top),L=Math.min(y.innerHeight,r.bottom);for(let z=n.parentNode;z&&z!=g.body;)if(z.nodeType==1){let j=z,re=window.getComputedStyle(j);if((j.scrollHeight>j.clientHeight||j.scrollWidth>j.clientWidth)&&re.overflow!="visible"){let oe=j.getBoundingClientRect();k=Math.max(k,oe.left),$=Math.min($,oe.right),V=Math.max(V,oe.top),L=Math.min(z==n.parentNode?y.innerHeight:L,oe.bottom)}z=re.position=="absolute"||re.position=="fixed"?j.offsetParent:j.parentNode}else if(z.nodeType==11)z=z.host;else break;return{left:k-r.left,right:Math.max(k,$)-r.left,top:V-(r.top+e),bottom:Math.max(V,L)-(r.top+e)}}function fullPixelRange(n,e){let r=n.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class LineGap{constructor(e,r,g,y){this.from=e,this.to=r,this.size=g,this.displaySize=y}static same(e,r){if(e.length!=r.length)return!1;for(let g=0;g<e.length;g++){let y=e[g],k=r[g];if(y.from!=k.from||y.to!=k.to||y.size!=k.size)return!1}return!0}draw(e,r){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(contentAttributes).some(g=>typeof g!="function"&&g.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(r),this.stateDeco=e.facet(decorations).filter(g=>typeof g!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let g=0;g<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());g++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(g=>g.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let g=0;g<=1;g++){let y=g?r.head:r.anchor;if(!e.some(({from:k,to:$})=>y>=k&&y<=$)){let{from:k,to:$}=this.lineBlockAt(y);e.push(new Viewport(k,$))}}return this.viewports=e.sort((g,y)=>g.from-y.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,r=null){this.state=e.state;let g=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(j=>typeof j!="function");let y=e.changedRanges,k=ChangedRange.extendWithRanges(y,heightRelevantDecoChanges(g,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),$=this.heightMap.height,V=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),k),(this.heightMap.height!=$||heightChangeFlag)&&(e.flags|=2),V?(this.scrollAnchorPos=e.changes.mapPos(V.from,-1),this.scrollAnchorHeight=V.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let L=k.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<L.from||r.range.head>L.to)||!this.viewportIsAppropriate(L))&&(L=this.getViewport(0,r));let z=L.from!=this.viewport.from||L.to!=this.viewport.to;this.viewport=L,e.flags|=this.updateForViewport(),(z||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,g=window.getComputedStyle(r),y=this.heightOracle,k=g.whiteSpace;this.defaultTextDirection=g.direction=="rtl"?Direction.RTL:Direction.LTR;let $=this.heightOracle.mustRefreshForWrapping(k),V=r.getBoundingClientRect(),L=$||this.mustMeasureContent||this.contentDOMHeight!=V.height;this.contentDOMHeight=V.height,this.mustMeasureContent=!1;let z=0,j=0;if(V.width&&V.height){let{scaleX:Ne,scaleY:Oe}=getScale(r,V);(Ne>.005&&Math.abs(this.scaleX-Ne)>.005||Oe>.005&&Math.abs(this.scaleY-Oe)>.005)&&(this.scaleX=Ne,this.scaleY=Oe,z|=16,$=L=!0)}let re=(parseInt(g.paddingTop)||0)*this.scaleY,oe=(parseInt(g.paddingBottom)||0)*this.scaleY;(this.paddingTop!=re||this.paddingBottom!=oe)&&(this.paddingTop=re,this.paddingBottom=oe,z|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(y.lineWrapping&&(L=!0),this.editorWidth=e.scrollDOM.clientWidth,z|=16);let ae=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=ae&&(this.scrollAnchorHeight=-1,this.scrollTop=ae),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let de=(this.printing?fullPixelRange:visiblePixelRange)(r,this.paddingTop),ue=de.top-this.pixelViewport.top,pe=de.bottom-this.pixelViewport.bottom;this.pixelViewport=de;let he=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(he!=this.inView&&(this.inView=he,he&&(L=!0)),!this.inView&&!this.scrollTarget)return 0;let xe=V.width;if((this.contentDOMWidth!=xe||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=V.width,this.editorHeight=e.scrollDOM.clientHeight,z|=16),L){let Ne=e.docView.measureVisibleLineHeights(this.viewport);if(y.mustRefreshForHeights(Ne)&&($=!0),$||y.lineWrapping&&Math.abs(xe-this.contentDOMWidth)>y.charWidth){let{lineHeight:Oe,charWidth:_e,textHeight:Fe}=e.docView.measureTextSize();$=Oe>0&&y.refresh(k,Oe,_e,Fe,xe/_e,Ne),$&&(e.docView.minWidth=0,z|=16)}ue>0&&pe>0?j=Math.max(ue,pe):ue<0&&pe<0&&(j=Math.min(ue,pe)),clearHeightChangeFlag();for(let Oe of this.viewports){let _e=Oe.from==this.viewport.from?Ne:e.docView.measureVisibleLineHeights(Oe);this.heightMap=($?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(y,0,$,new MeasuredHeights(Oe.from,_e))}heightChangeFlag&&(z|=2)}let $e=!this.viewportIsAppropriate(this.viewport,j)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $e&&(z&2&&(z|=this.updateScaler()),this.viewport=this.getViewport(j,this.scrollTarget),z|=this.updateForViewport()),(z&2||$e)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps($?[]:this.lineGaps,e)),z|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),z}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let g=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),y=this.heightMap,k=this.heightOracle,{visibleTop:$,visibleBottom:V}=this,L=new Viewport(y.lineAt($-g*1e3,QueryType$1.ByHeight,k,0,0).from,y.lineAt(V+(1-g)*1e3,QueryType$1.ByHeight,k,0,0).to);if(r){let{head:z}=r.range;if(z<L.from||z>L.to){let j=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),re=y.lineAt(z,QueryType$1.ByPos,k,0,0),oe;r.y=="center"?oe=(re.top+re.bottom)/2-j/2:r.y=="start"||r.y=="nearest"&&z<L.from?oe=re.top:oe=re.bottom-j,L=new Viewport(y.lineAt(oe-1e3/2,QueryType$1.ByHeight,k,0,0).from,y.lineAt(oe+j+1e3/2,QueryType$1.ByHeight,k,0,0).to)}}return L}mapViewport(e,r){let g=r.mapPos(e.from,-1),y=r.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(g,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(y,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},g=0){if(!this.inView)return!0;let{top:y}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:k}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:$,visibleBottom:V}=this;return(e==0||y<=$-Math.max(10,Math.min(-g,250)))&&(r==this.state.doc.length||k>=V+Math.max(10,Math.min(g,250)))&&y>$-2*1e3&&k<V+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let g=[];for(let y of e)r.touchesRange(y.from,y.to)||g.push(new LineGap(r.mapPos(y.from),r.mapPos(y.to),y.size,y.displaySize));return g}ensureLineGaps(e,r){let g=this.heightOracle.lineWrapping,y=g?1e4:2e3,k=y>>1,$=y<<1;if(this.defaultTextDirection!=Direction.LTR&&!g)return[];let V=[],L=(j,re,oe,ae)=>{if(re-j<k)return;let de=this.state.selection.main,ue=[de.from];de.empty||ue.push(de.to);for(let he of ue)if(he>j&&he<re){L(j,he-10,oe,ae),L(he+10,re,oe,ae);return}let pe=find(e,he=>he.from>=oe.from&&he.to<=oe.to&&Math.abs(he.from-j)<k&&Math.abs(he.to-re)<k&&!ue.some(xe=>he.from<xe&&he.to>xe));if(!pe){if(re<oe.to&&r&&g&&r.visibleRanges.some($e=>$e.from<=re&&$e.to>=re)){let $e=r.moveToLineBoundary(EditorSelection.cursor(re),!1,!0).head;$e>j&&(re=$e)}let he=this.gapSize(oe,j,re,ae),xe=g||he<2e6?he:2e6;pe=new LineGap(j,re,he,xe)}V.push(pe)},z=j=>{if(j.length<$||j.type!=BlockType.Text)return;let re=lineStructure(j.from,j.to,this.stateDeco);if(re.total<$)return;let oe=this.scrollTarget?this.scrollTarget.range.head:null,ae,de;if(g){let ue=y/this.heightOracle.lineLength*this.heightOracle.lineHeight,pe,he;if(oe!=null){let xe=findFraction(re,oe),$e=((this.visibleBottom-this.visibleTop)/2+ue)/j.height;pe=xe-$e,he=xe+$e}else pe=(this.visibleTop-j.top-ue)/j.height,he=(this.visibleBottom-j.top+ue)/j.height;ae=findPosition(re,pe),de=findPosition(re,he)}else{let ue=re.total*this.heightOracle.charWidth,pe=y*this.heightOracle.charWidth,he=0;if(ue>2e6)for(let _e of e)_e.from>=j.from&&_e.from<j.to&&_e.size!=_e.displaySize&&_e.from*this.heightOracle.charWidth+he<this.pixelViewport.left&&(he=_e.size-_e.displaySize);let xe=this.pixelViewport.left+he,$e=this.pixelViewport.right+he,Ne,Oe;if(oe!=null){let _e=findFraction(re,oe),Fe=(($e-xe)/2+pe)/ue;Ne=_e-Fe,Oe=_e+Fe}else Ne=(xe-pe)/ue,Oe=($e+pe)/ue;ae=findPosition(re,Ne),de=findPosition(re,Oe)}ae>j.from&&L(j.from,ae,j,re),de<j.to&&L(de,j.to,j,re)};for(let j of this.viewportLines)Array.isArray(j.type)?j.type.forEach(z):z(j);return V}gapSize(e,r,g,y){let k=findFraction(y,g)-findFraction(y,r);return this.heightOracle.lineWrapping?e.height*k:y.total*this.heightOracle.charWidth*k}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let g=[];RangeSet.spans(r,this.viewport.from,this.viewport.to,{span(k,$){g.push({from:k,to:$})},point(){}},20);let y=0;if(g.length!=this.visibleRanges.length)y=12;else for(let k=0;k<g.length&&!(y&8);k++){let $=this.visibleRanges[k],V=g[k];($.from!=V.from||$.to!=V.to)&&(y|=4,e&&e.mapPos($.from,-1)==V.from&&e.mapPos($.to,1)==V.to||(y|=8))}return this.visibleRanges=g,y}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,r){this.from=e,this.to=r}}function lineStructure(n,e,r){let g=[],y=n,k=0;return RangeSet.spans(r,n,e,{span(){},point($,V){$>y&&(g.push({from:y,to:$}),k+=$-y),y=V}},20),y<e&&(g.push({from:y,to:e}),k+=e-y),{total:k,ranges:g}}function findPosition({total:n,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let g=Math.floor(n*r);for(let y=0;;y++){let{from:k,to:$}=e[y],V=$-k;if(g<=V)return k+g;g-=V}}function findFraction(n,e){let r=0;for(let{from:g,to:y}of n.ranges){if(e<=y){r+=e-g;break}r+=y-g}return r/n.total}function find(n,e){for(let r of n)if(e(r))return r}const IdScaler={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class BigScaler{constructor(e,r,g){let y=0,k=0,$=0;this.viewports=g.map(({from:V,to:L})=>{let z=r.lineAt(V,QueryType$1.ByPos,e,0,0).top,j=r.lineAt(L,QueryType$1.ByPos,e,0,0).bottom;return y+=j-z,{from:V,to:L,top:z,bottom:j,domTop:0,domBottom:0}}),this.scale=(7e6-y)/(r.height-y);for(let V of this.viewports)V.domTop=$+(V.top-k)*this.scale,$=V.domBottom=V.domTop+(V.bottom-V.top),k=V.bottom}toDOM(e){for(let r=0,g=0,y=0;;r++){let k=r<this.viewports.length?this.viewports[r]:null;if(!k||e<k.top)return y+(e-g)*this.scale;if(e<=k.bottom)return k.domTop+(e-k.top);g=k.bottom,y=k.domBottom}}fromDOM(e){for(let r=0,g=0,y=0;;r++){let k=r<this.viewports.length?this.viewports[r]:null;if(!k||e<k.domTop)return g+(e-y)/this.scale;if(e<=k.domBottom)return k.top+(e-k.domTop);g=k.bottom,y=k.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,g)=>r.from==e.viewports[g].from&&r.to==e.viewports[g].to):!1}}function scaleBlock(n,e){if(e.scale==1)return n;let r=e.toDOM(n.top),g=e.toDOM(n.bottom);return new BlockInfo(n.from,n.length,r,g-r,Array.isArray(n._content)?n._content.map(y=>scaleBlock(y,e)):n._content)}const theme=Facet.define({combine:n=>n.join(" ")}),darkTheme=Facet.define({combine:n=>n.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(n,e,r){return new StyleModule(e,{finish(g){return/&/.test(g)?g.replace(/&\w*/,y=>{if(y=="&")return n;if(!r||!r[y])throw new RangeError(`Unsupported selector: ${y}`);return r[y]}):n+" "+g}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let g of r)this.queue.push(g);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&r.some(g=>g.type=="childList"&&g.removedNodes.length||g.type=="characterData"&&g.oldValue.length>g.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,g)=>r!=e[g]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:g}=this,y=this.selectionRange;if(g.state.facet(editable)?g.root.activeElement!=this.dom:!hasSelection(this.dom,y))return;let k=y.anchorNode&&g.docView.nearest(y.anchorNode);if(k&&k.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!g.state.selection.main.empty&&y.focusNode&&isEquivalentPosition(y.focusNode,y.focusOffset,y.anchorNode,y.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=getSelection(e.root);if(!r)return!1;let g=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,r)||r;if(!g||this.selectionRange.eq(g))return!1;let y=hasSelection(this.dom,g);return y&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,g)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(g),y&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let g=this.dom;g;)if(g.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==g?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(g),g=g.assignedSlot||g.parentNode;else if(g.nodeType==11)g=g.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let g of this.scrollTargets)g.removeEventListener("scroll",this.onScroll);for(let g of this.scrollTargets=r)g.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var g;if(!this.delayedAndroidKey){let y=()=>{let k=this.delayedAndroidKey;k&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=k.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&k.force&&dispatchKey(this.dom,k.key,k.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(y)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((g=this.delayedAndroidKey)===null||g===void 0)&&g.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,g=-1,y=!1;for(let k of e){let $=this.readMutation(k);$&&($.typeOver&&(y=!0),r==-1?{from:r,to:g}=$:(r=Math.min($.from,r),g=Math.max($.to,g)))}return{from:r,to:g,typeOver:y}}readChange(){let{from:e,to:r,typeOver:g}=this.processRecords(),y=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!y)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let k=new DOMChange(this.view,e,r,g);return this.view.docView.domChanged={newSel:k.newSel?k.newSel.main:null},k}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let g=this.view.state,y=applyDOMChange(this.view,r);return this.view.state==g&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),y}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let g=findChild(r,e.previousSibling||e.target.previousSibling,-1),y=findChild(r,e.nextSibling||e.target.nextSibling,1);return{from:g?r.posAfter(g):r.posAtStart,to:y?r.posBefore(y):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,r,g;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(g=this.resizeScroll)===null||g===void 0||g.disconnect();for(let y of this.scrollTargets)y.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(n,e,r){for(;e;){let g=ContentView.get(e);if(g&&g.parent==n)return g;let y=e.parentNode;e=y!=n.dom?y:r>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(n,e){let r=e.startContainer,g=e.startOffset,y=e.endContainer,k=e.endOffset,$=n.docView.domAtPos(n.state.selection.main.anchor);return isEquivalentPosition($.node,$.offset,y,k)&&([r,g,y,k]=[y,k,r,g]),{anchorNode:r,anchorOffset:g,focusNode:y,focusOffset:k}}function safariSelectionRangeHack(n,e){if(e.getComposedRanges){let y=e.getComposedRanges(n.root)[0];if(y)return buildSelectionRangeFromRange(n,y)}let r=null;function g(y){y.preventDefault(),y.stopImmediatePropagation(),r=y.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",g,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",g,!0),r?buildSelectionRangeFromRange(n,r):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=g=>{let{anchor:y}=e.state.selection.main,k=this.toEditorPos(g.updateRangeStart),$=this.toEditorPos(g.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:g.updateRangeStart,editorBase:k,drifted:!1});let V={from:k,to:$,insert:Text.of(g.text.split(`
`))};if(V.from==this.from&&y<this.from?V.from=y:V.to==this.to&&y>this.to&&(V.to=y),!(V.from==V.to&&!V.insert.length)){if(this.pendingContextChange=V,!e.state.readOnly){let L=this.to-this.from+(V.to-V.from+V.insert.length);applyDOMChangeInner(e,V,EditorSelection.single(this.toEditorPos(g.selectionStart,L),this.toEditorPos(g.selectionEnd,L)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}},this.handlers.characterboundsupdate=g=>{let y=[],k=null;for(let $=this.toEditorPos(g.rangeStart),V=this.toEditorPos(g.rangeEnd);$<V;$++){let L=e.coordsForChar($);k=L&&new DOMRect(L.left,L.top,L.right-L.left,L.bottom-L.top)||k||new DOMRect,y.push(k)}r.updateCharacterBounds(g.rangeStart,y)},this.handlers.textformatupdate=g=>{let y=[];for(let k of g.getTextFormats()){let $=k.underlineStyle,V=k.underlineThickness;if($!="None"&&V!="None"){let L=this.toEditorPos(k.rangeStart),z=this.toEditorPos(k.rangeEnd);if(L<z){let j=`text-decoration: underline ${$=="Dashed"?"dashed ":$=="Squiggle"?"wavy ":""}${V=="Thin"?1:2}px`;y.push(Decoration.mark({attributes:{style:j}}).range(L,z))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(y))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:g}=this.composing;this.composing=null,g&&this.reset(e.state)}};for(let g in this.handlers)r.addEventListener(g,this.handlers[g]);this.measureReq={read:g=>{this.editContext.updateControlBounds(g.contentDOM.getBoundingClientRect());let y=getSelection(g.root);y&&y.rangeCount&&this.editContext.updateSelectionBounds(y.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,g=!1,y=this.pendingContextChange;return e.changes.iterChanges((k,$,V,L,z)=>{if(g)return;let j=z.length-($-k);if(y&&$>=y.to)if(y.from==k&&y.to==$&&y.insert.eq(z)){y=this.pendingContextChange=null,r+=j,this.to+=j;return}else y=null,this.revertPending(e.state);if(k+=r,$+=r,$<=this.from)this.from+=j,this.to+=j;else if(k<this.to){if(k<this.from||$>this.to||this.to-this.from+z.length>3e4){g=!0;return}this.editContext.updateText(this.toContextPos(k),this.toContextPos($),z.toString()),this.to+=j}r+=j}),y&&!g&&this.revertPending(e.state),!g}update(e){let r=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(g=>!g.isUserEvent("input.type")&&g.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,g=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),y=this.toContextPos(r.head);(this.editContext.selectionStart!=g||this.editContext.selectionEnd!=y)&&this.editContext.updateSelection(g,y)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let g=this.composing;return g&&g.drifted?g.editorBase+(e-g.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:g}=e;this.dispatchTransactions=e.dispatchTransactions||g&&(y=>y.forEach(k=>g(k,this)))||(y=>this.update(y)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(y=>new PluginInstance(y));for(let y of this.plugins)y.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,g=!1,y,k=this.state;for(let oe of e){if(oe.startState!=k)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");k=oe.state}if(this.destroyed){this.viewState.state=k;return}let $=this.hasFocus,V=0,L=null;e.some(oe=>oe.annotation(isFocusChange))?(this.inputState.notifiedFocused=$,V=1):$!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=$,L=focusChangeTransaction(k,$),L||(V=1));let z=this.observer.delayedAndroidKey,j=null;if(z?(this.observer.clearDelayedAndroidKey(),j=this.observer.readChange(),(j&&!this.state.doc.eq(k.doc)||!this.state.selection.eq(k.selection))&&(j=null)):this.observer.clear(),k.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(k);y=ViewUpdate.create(this,k,e),y.flags|=V;let re=this.viewState.scrollTarget;try{this.updateState=2;for(let oe of e){if(re&&(re=re.map(oe.changes)),oe.scrollIntoView){let{main:ae}=oe.state.selection;re=new ScrollTarget(ae.empty?ae:EditorSelection.cursor(ae.head,ae.head>ae.anchor?-1:1))}for(let ae of oe.effects)ae.is(scrollIntoView$1)&&(re=ae.value.clip(this.state))}this.viewState.update(y,re),this.bidiCache=CachedOrder.update(this.bidiCache,y.changes),y.empty||(this.updatePlugins(y),this.inputState.update(y)),r=this.docView.update(y),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),g=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(oe=>oe.isUserEvent("select.pointer")))}finally{this.updateState=0}if(y.startState.facet(theme)!=y.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(r||g||re||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!y.empty)for(let oe of this.state.facet(updateListener))try{oe(y)}catch(ae){logException(this.state,ae,"update listener")}(L||j)&&Promise.resolve().then(()=>{L&&this.state==L.startState&&this.dispatch(L),j&&!applyDOMChange(this,j)&&z.force&&dispatchKey(this.contentDOM,z.key,z.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let g of this.plugins)g.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(g=>new PluginInstance(g)),this.pluginMap.clear();for(let g of this.plugins)g.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(viewPlugin),g=e.state.facet(viewPlugin);if(r!=g){let y=[];for(let k of g){let $=r.indexOf(k);if($<0)y.push(new PluginInstance(k));else{let V=this.plugins[$];V.mustUpdate=e,y.push(V)}}for(let k of this.plugins)k.mustUpdate!=e&&k.destroy(this);this.plugins=y,this.pluginMap.clear()}else for(let y of this.plugins)y.mustUpdate=e;for(let y=0;y<this.plugins.length;y++)this.plugins[y].update(this);r!=g&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(g){logException(this.state,g,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,g=this.scrollDOM,y=g.scrollTop*this.scaleY,{scrollAnchorPos:k,scrollAnchorHeight:$}=this.viewState;Math.abs(y-this.viewState.scrollTop)>1&&($=-1),this.viewState.scrollAnchorHeight=-1;try{for(let V=0;;V++){if($<0)if(isScrolledToBottom(g))k=-1,$=this.viewState.heightMap.height;else{let ae=this.viewState.scrollAnchorAt(y);k=ae.from,$=ae.top}this.updateState=1;let L=this.viewState.measure(this);if(!L&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(V>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let z=[];L&4||([this.measureRequests,z]=[z,this.measureRequests]);let j=z.map(ae=>{try{return ae.read(this)}catch(de){return logException(this.state,de),BadMeasure}}),re=ViewUpdate.create(this,this.state,[]),oe=!1;re.flags|=L,r?r.flags|=L:r=re,this.updateState=2,re.empty||(this.updatePlugins(re),this.inputState.update(re),this.updateAttrs(),oe=this.docView.update(re),oe&&this.docViewUpdate());for(let ae=0;ae<z.length;ae++)if(j[ae]!=BadMeasure)try{let de=z[ae];de.write&&de.write(j[ae],this)}catch(de){logException(this.state,de)}if(oe&&this.docView.updateSelection(!0),!re.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,$=-1;continue}else{let de=(k<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(k).top)-$;if(de>1||de<-1){y=y+de,g.scrollTop=y/this.scaleY,$=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let V of this.state.facet(updateListener))V(r)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,r);let g=this.observer.ignore(()=>{let y=updateAttrs(this.contentDOM,this.contentAttrs,r),k=updateAttrs(this.dom,this.editorAttrs,e);return y||k});return this.editorAttrs=e,this.contentAttrs=r,g}showAnnouncements(e){let r=!0;for(let g of e)for(let y of g.effects)if(y.is(EditorView.announce)){r&&(this.announceDOM.textContent=""),r=!1;let k=this.announceDOM.appendChild(document.createElement("div"));k.textContent=y.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(g=>g.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,g){return skipAtoms(this,e,moveByChar(this,e,r,g))}moveByGroup(e,r){return skipAtoms(this,e,moveByChar(this,e,r,g=>byGroup(this,e.head,g)))}visualLineSide(e,r){let g=this.bidiSpans(e),y=this.textDirectionAt(e.from),k=g[r?g.length-1:0];return EditorSelection.cursor(k.side(r,y)+e.from,k.forward(!r,y)?1:-1)}moveToLineBoundary(e,r,g=!0){return moveToLineBoundary(this,e,r,g)}moveVertically(e,r,g){return skipAtoms(this,e,moveVertically(this,e,r,g))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),posAtCoords(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let g=this.docView.coordsAt(e,r);if(!g||g.left==g.right)return g;let y=this.state.doc.lineAt(e),k=this.bidiSpans(y),$=k[BidiSpan.find(k,e-y.from,-1,r)];return flattenRect(g,$.dir==Direction.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let r=this.textDirectionAt(e.from),g;for(let k of this.bidiCache)if(k.from==e.from&&k.dir==r&&(k.fresh||isolatesEq(k.isolates,g=getIsolatedRanges(this,e))))return k.order;g||(g=getIsolatedRanges(this,e));let y=computeOrder(e.text,r,g);return this.bidiCache.push(new CachedOrder(e.from,e.to,r,g,!0,y)),y}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,g=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(g.from),"start","start",g.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,r){let g=StyleModule.newName(),y=[theme.of(g),styleModule.of(buildTheme(`.${g}`,e))];return r&&r.dark&&y.push(darkTheme.of(!0)),y}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var r;let g=e.querySelector(".cm-content"),y=g&&ContentView.get(g)||ContentView.get(e);return((r=y?.rootView)===null||r===void 0?void 0:r.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:n=>n.length?n[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,r,g,y,k,$){this.from=e,this.to=r,this.dir=g,this.isolates=y,this.fresh=k,this.order=$}static update(e,r){if(r.empty&&!e.some(k=>k.fresh))return e;let g=[],y=e.length?e[e.length-1].dir:Direction.LTR;for(let k=Math.max(0,e.length-10);k<e.length;k++){let $=e[k];$.dir==y&&!r.touchesRange($.from,$.to)&&g.push(new CachedOrder(r.mapPos($.from,1),r.mapPos($.to,-1),$.dir,$.isolates,!1,$.order))}return g}}function attrsFromFacet(n,e,r){for(let g=n.state.facet(e),y=g.length-1;y>=0;y--){let k=g[y],$=typeof k=="function"?k(n):k;$&&combineAttrs($,r)}return r}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(n,e){const r=n.split(/-(?!$)/);let g=r[r.length-1];g=="Space"&&(g=" ");let y,k,$,V;for(let L=0;L<r.length-1;++L){const z=r[L];if(/^(cmd|meta|m)$/i.test(z))V=!0;else if(/^a(lt)?$/i.test(z))y=!0;else if(/^(c|ctrl|control)$/i.test(z))k=!0;else if(/^s(hift)?$/i.test(z))$=!0;else if(/^mod$/i.test(z))e=="mac"?V=!0:k=!0;else throw new Error("Unrecognized modifier name: "+z)}return y&&(g="Alt-"+g),k&&(g="Ctrl-"+g),V&&(g="Meta-"+g),$&&(g="Shift-"+g),g}function modifiers(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(n,e){return runHandlers(getKeymap(e.state),n,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(n){let e=n.facet(keymap),r=Keymaps.get(e);return r||Keymaps.set(e,r=buildKeymap(e.reduce((g,y)=>g.concat(y),[]))),r}function runScopeHandlers(n,e,r){return runHandlers(getKeymap(n.state),e,n,r)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(n,e=currentPlatform){let r=Object.create(null),g=Object.create(null),y=($,V)=>{let L=g[$];if(L==null)g[$]=V;else if(L!=V)throw new Error("Key binding "+$+" is used both as a regular binding and as a multi-stroke prefix")},k=($,V,L,z,j)=>{var re,oe;let ae=r[$]||(r[$]=Object.create(null)),de=V.split(/ (?!$)/).map(he=>normalizeKeyName(he,e));for(let he=1;he<de.length;he++){let xe=de.slice(0,he).join(" ");y(xe,!0),ae[xe]||(ae[xe]={preventDefault:!0,stopPropagation:!1,run:[$e=>{let Ne=storedPrefix={view:$e,prefix:xe,scope:$};return setTimeout(()=>{storedPrefix==Ne&&(storedPrefix=null)},PrefixTimeout),!0}]})}let ue=de.join(" ");y(ue,!1);let pe=ae[ue]||(ae[ue]={preventDefault:!1,stopPropagation:!1,run:((oe=(re=ae._any)===null||re===void 0?void 0:re.run)===null||oe===void 0?void 0:oe.slice())||[]});L&&pe.run.push(L),z&&(pe.preventDefault=!0),j&&(pe.stopPropagation=!0)};for(let $ of n){let V=$.scope?$.scope.split(" "):["editor"];if($.any)for(let z of V){let j=r[z]||(r[z]=Object.create(null));j._any||(j._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:re}=$;for(let oe in j)j[oe].run.push(ae=>re(ae,currentKeyEvent))}let L=$[e]||$.key;if(L)for(let z of V)k(z,L,$.run,$.preventDefault,$.stopPropagation),$.shift&&k(z,"Shift-"+L,$.shift,$.preventDefault,$.stopPropagation)}return r}let currentKeyEvent=null;function runHandlers(n,e,r,g){currentKeyEvent=e;let y=keyName(e),k=codePointAt$1(y,0),$=codePointSize(k)==y.length&&y!=" ",V="",L=!1,z=!1,j=!1;storedPrefix&&storedPrefix.view==r&&storedPrefix.scope==g&&(V=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(z=!0,storedPrefix=null));let re=new Set,oe=pe=>{if(pe){for(let he of pe.run)if(!re.has(he)&&(re.add(he),he(r)))return pe.stopPropagation&&(j=!0),!0;pe.preventDefault&&(pe.stopPropagation&&(j=!0),z=!0)}return!1},ae=n[g],de,ue;return ae&&(oe(ae[V+modifiers(y,e,!$)])?L=!0:$&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&(de=base[e.keyCode])&&de!=y?(oe(ae[V+modifiers(de,e,!0)])||e.shiftKey&&(ue=shift[e.keyCode])!=y&&ue!=de&&oe(ae[V+modifiers(ue,e,!1)]))&&(L=!0):$&&e.shiftKey&&oe(ae[V+modifiers(y,e,!0)])&&(L=!0),!L&&oe(ae._any)&&(L=!0)),z&&(L=!0),L&&j&&e.stopPropagation(),currentKeyEvent=null,L}class RectangleMarker{constructor(e,r,g,y,k){this.className=e,this.left=r,this.top=g,this.width=y,this.height=k}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,g){if(g.empty){let y=e.coordsAtPos(g.head,g.assoc||1);if(!y)return[];let k=getBase(e);return[new RectangleMarker(r,y.left-k.left,y.top-k.top,null,y.bottom-y.top)]}else return rectanglesForRange(e,r,g)}}function getBase(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Direction.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function wrappedLine(n,e,r,g){let y=n.coordsAtPos(e,r*2);if(!y)return g;let k=n.dom.getBoundingClientRect(),$=(y.top+y.bottom)/2,V=n.posAtCoords({x:k.left+1,y:$}),L=n.posAtCoords({x:k.right-1,y:$});return V==null||L==null?g:{from:Math.max(g.from,Math.min(V,L)),to:Math.min(g.to,Math.max(V,L))}}function rectanglesForRange(n,e,r){if(r.to<=n.viewport.from||r.from>=n.viewport.to)return[];let g=Math.max(r.from,n.viewport.from),y=Math.min(r.to,n.viewport.to),k=n.textDirection==Direction.LTR,$=n.contentDOM,V=$.getBoundingClientRect(),L=getBase(n),z=$.querySelector(".cm-line"),j=z&&window.getComputedStyle(z),re=V.left+(j?parseInt(j.paddingLeft)+Math.min(0,parseInt(j.textIndent)):0),oe=V.right-(j?parseInt(j.paddingRight):0),ae=blockAt(n,g),de=blockAt(n,y),ue=ae.type==BlockType.Text?ae:null,pe=de.type==BlockType.Text?de:null;if(ue&&(n.lineWrapping||ae.widgetLineBreaks)&&(ue=wrappedLine(n,g,1,ue)),pe&&(n.lineWrapping||de.widgetLineBreaks)&&(pe=wrappedLine(n,y,-1,pe)),ue&&pe&&ue.from==pe.from&&ue.to==pe.to)return xe($e(r.from,r.to,ue));{let Oe=ue?$e(r.from,null,ue):Ne(ae,!1),_e=pe?$e(null,r.to,pe):Ne(de,!0),Fe=[];return(ue||ae).to<(pe||de).from-(ue&&pe?1:0)||ae.widgetLineBreaks>1&&Oe.bottom+n.defaultLineHeight/2<_e.top?Fe.push(he(re,Oe.bottom,oe,_e.top)):Oe.bottom<_e.top&&n.elementAtHeight((Oe.bottom+_e.top)/2).type==BlockType.Text&&(Oe.bottom=_e.top=(Oe.bottom+_e.top)/2),xe(Oe).concat(Fe).concat(xe(_e))}function he(Oe,_e,Fe,Ue){return new RectangleMarker(e,Oe-L.left,_e-L.top,Fe-Oe,Ue-_e)}function xe({top:Oe,bottom:_e,horizontal:Fe}){let Ue=[];for(let kt=0;kt<Fe.length;kt+=2)Ue.push(he(Fe[kt],Oe,Fe[kt+1],_e));return Ue}function $e(Oe,_e,Fe){let Ue=1e9,kt=-1e9,Lt=[];function wn(jt,An,Dn,En,Bn){let $n=n.coordsAtPos(jt,jt==Fe.to?-2:2),Wn=n.coordsAtPos(Dn,Dn==Fe.from?2:-2);!$n||!Wn||(Ue=Math.min($n.top,Wn.top,Ue),kt=Math.max($n.bottom,Wn.bottom,kt),Bn==Direction.LTR?Lt.push(k&&An?re:$n.left,k&&En?oe:Wn.right):Lt.push(!k&&En?re:Wn.left,!k&&An?oe:$n.right))}let Et=Oe??Fe.from,xn=_e??Fe.to;for(let jt of n.visibleRanges)if(jt.to>Et&&jt.from<xn)for(let An=Math.max(jt.from,Et),Dn=Math.min(jt.to,xn);;){let En=n.state.doc.lineAt(An);for(let Bn of n.bidiSpans(En)){let $n=Bn.from+En.from,Wn=Bn.to+En.from;if($n>=Dn)break;Wn>An&&wn(Math.max($n,An),Oe==null&&$n<=Et,Math.min(Wn,Dn),_e==null&&Wn>=xn,Bn.dir)}if(An=En.to+1,An>=Dn)break}return Lt.length==0&&wn(Et,Oe==null,xn,_e==null,n.textDirection),{top:Ue,bottom:kt,horizontal:Lt}}function Ne(Oe,_e){let Fe=V.top+(_e?Oe.top:Oe.bottom);return{top:Fe,bottom:Fe,horizontal:[]}}}function sameMarker(n,e){return n.constructor==e.constructor&&n.eq(e)}class LayerView{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,g=e.facet(layerOrder);for(;r<g.length&&g[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,g)=>!sameMarker(r,this.drawn[g]))){let r=this.dom.firstChild,g=0;for(let y of e)y.update&&r&&y.constructor&&this.drawn[g].constructor&&y.update(r,this.drawn[g])?(r=r.nextSibling,g++):this.dom.insertBefore(y.draw(),r);for(;r;){let y=r.nextSibling;r.remove(),r=y}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(n){return[ViewPlugin.define(e=>new LayerView(e,n)),layerOrder.of(n)]}const CanHidePrimary=!(browser.ios&&browser.webkit&&browser.webkit_version<534),selectionConfig=Facet.define({combine(n){return combineConfig(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function drawSelection(n={}){return[selectionConfig.of(n),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(n){return n.startState.facet(selectionConfig)!=n.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(n){let{state:e}=n,r=e.facet(selectionConfig),g=[];for(let y of e.selection.ranges){let k=y==e.selection.main;if(y.empty?!k||CanHidePrimary:r.drawRangeCursor){let $=k?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",V=y.empty?y:EditorSelection.cursor(y.head,y.head>y.anchor?-1:1);for(let L of RectangleMarker.forRange(n,$,V))g.push(L)}}return g},update(n,e){n.transactions.some(g=>g.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=configChanged(n);return r&&setBlinkRate(n.state,e),n.docChanged||n.selectionSet||r},mount(n,e){setBlinkRate(e.state,n)},class:"cm-cursorLayer"});function setBlinkRate(n,e){e.style.animationDuration=n.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(n,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||configChanged(n)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor=themeSpec[".cm-content"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(n,e){return n==null?null:e.mapPos(n)}}),dropCursorPos=StateField.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((r,g)=>g.is(setDropCursorPos)?g.value:r,n)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let r=n.state.field(dropCursorPos);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(dropCursorPos)!=r||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(dropCursorPos),r=e!=null&&n.coordsAtPos(e);if(!r)return null;let g=n.scrollDOM.getBoundingClientRect();return{left:r.left-g.left+n.scrollDOM.scrollLeft*n.scaleX,top:r.top-g.top+n.scrollDOM.scrollTop*n.scaleY,height:r.bottom-r.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/r+"px",this.cursor.style.height=n.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(dropCursorPos)!=n&&this.view.dispatch({effects:setDropCursorPos.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(n,e,r,g,y){e.lastIndex=0;for(let k=n.iterRange(r,g),$=r,V;!k.next().done;$+=k.value.length)if(!k.lineBreak)for(;V=e.exec(k.value);)y($+V.index,V)}function matchRanges(n,e){let r=n.visibleRanges;if(r.length==1&&r[0].from==n.viewport.from&&r[0].to==n.viewport.to)return r;let g=[];for(let{from:y,to:k}of r)y=Math.max(n.state.doc.lineAt(y).from,y-e),k=Math.min(n.state.doc.lineAt(k).to,k+e),g.length&&g[g.length-1].to>=y?g[g.length-1].to=k:g.push({from:y,to:k});return g}class MatchDecorator{constructor(e){const{regexp:r,decoration:g,decorate:y,boundary:k,maxLength:$=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,y)this.addMatch=(V,L,z,j)=>y(j,z,z+V[0].length,V,L);else if(typeof g=="function")this.addMatch=(V,L,z,j)=>{let re=g(V,L,z);re&&j(z,z+V[0].length,re)};else if(g)this.addMatch=(V,L,z,j)=>j(z,z+V[0].length,g);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=k,this.maxLength=$}createDeco(e){let r=new RangeSetBuilder,g=r.add.bind(r);for(let{from:y,to:k}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,y,k,($,V)=>this.addMatch(V,e,$,g));return r.finish()}updateDeco(e,r){let g=1e9,y=-1;return e.docChanged&&e.changes.iterChanges((k,$,V,L)=>{L>=e.view.viewport.from&&V<=e.view.viewport.to&&(g=Math.min(V,g),y=Math.max(L,y))}),e.viewportMoved||y-g>1e3?this.createDeco(e.view):y>-1?this.updateRange(e.view,r.map(e.changes),g,y):r}updateRange(e,r,g,y){for(let k of e.visibleRanges){let $=Math.max(k.from,g),V=Math.min(k.to,y);if(V>$){let L=e.state.doc.lineAt($),z=L.to<V?e.state.doc.lineAt(V):L,j=Math.max(k.from,L.from),re=Math.min(k.to,z.to);if(this.boundary){for(;$>L.from;$--)if(this.boundary.test(L.text[$-1-L.from])){j=$;break}for(;V<z.to;V++)if(this.boundary.test(z.text[V-z.from])){re=V;break}}let oe=[],ae,de=(ue,pe,he)=>oe.push(he.range(ue,pe));if(L==z)for(this.regexp.lastIndex=j-L.from;(ae=this.regexp.exec(L.text))&&ae.index<re-L.from;)this.addMatch(ae,e,ae.index+L.from,de);else iterMatches(e.state.doc,this.regexp,j,re,(ue,pe)=>this.addMatch(pe,e,ue,de));r=r.update({filterFrom:j,filterTo:re,filter:(ue,pe)=>ue<j||pe>re,add:oe})}}return r}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var n;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(n){let e=combineConfig(n,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(n={}){return[specialCharConfig.of(n),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new MatchDecorator({regexp:n.specialChars,decoration:(e,r,g)=>{let{doc:y}=r.state,k=codePointAt$1(e[0],0);if(k==9){let $=y.lineAt(g),V=r.state.tabSize,L=countColumn($.text,V,g-$.from);return Decoration.replace({widget:new TabWidget((V-L%V)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[k]||(this.decorationCache[k]=Decoration.replace({widget:new SpecialCharWidget(n,k)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(specialCharConfig);n.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const DefaultPlaceholder="";function placeholder$1(n){return n>=32?DefaultPlaceholder:n==10?"":String.fromCharCode(9216+n)}class SpecialCharWidget extends WidgetType{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=placeholder$1(this.code),g=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),y=this.options.render&&this.options.render(this.code,g,r);if(y)return y;let k=document.createElement("span");return k.textContent=r,k.title=g,k.setAttribute("aria-label",g),k.className="cm-specialChar",k}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,r=[];for(let g of n.state.selection.ranges){let y=n.lineBlockAt(g.head);y.from>e&&(r.push(lineDeco.range(y.from)),e=y.from)}return Decoration.set(r)}},{decorations:n=>n.decorations}),MaxOff=2e3;function rectangleFor(n,e,r){let g=Math.min(e.line,r.line),y=Math.max(e.line,r.line),k=[];if(e.off>MaxOff||r.off>MaxOff||e.col<0||r.col<0){let $=Math.min(e.off,r.off),V=Math.max(e.off,r.off);for(let L=g;L<=y;L++){let z=n.doc.line(L);z.length<=V&&k.push(EditorSelection.range(z.from+$,z.to+V))}}else{let $=Math.min(e.col,r.col),V=Math.max(e.col,r.col);for(let L=g;L<=y;L++){let z=n.doc.line(L),j=findColumn(z.text,$,n.tabSize,!0);if(j<0)k.push(EditorSelection.cursor(z.to));else{let re=findColumn(z.text,V,n.tabSize);k.push(EditorSelection.range(z.from+j,z.from+re))}}}return k}function absoluteColumn(n,e){let r=n.coordsAtPos(n.viewport.from);return r?Math.round(Math.abs((r.left-e)/n.defaultCharacterWidth)):-1}function getPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),g=n.state.doc.lineAt(r),y=r-g.from,k=y>MaxOff?-1:y==g.length?absoluteColumn(n,e.clientX):countColumn(g.text,n.state.tabSize,r-g.from);return{line:g.number,col:k,off:y}}function rectangleSelectionStyle(n,e){let r=getPos(n,e),g=n.state.selection;return r?{update(y){if(y.docChanged){let k=y.changes.mapPos(y.startState.doc.line(r.line).from),$=y.state.doc.lineAt(k);r={line:$.number,col:r.col,off:Math.min(r.off,$.length)},g=g.map(y.changes)}},get(y,k,$){let V=getPos(n,y);if(!V)return g;let L=rectangleFor(n.state,r,V);return L.length?$?EditorSelection.create(L.concat(g.ranges)):EditorSelection.create(L):g}}:null}function rectangularSelection(n){let e=n?.eventFilter||(r=>r.altKey&&r.button==0);return EditorView.mouseSelectionStyle.of((r,g)=>e(g)?rectangleSelectionStyle(r,g):null)}const keys={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(n={}){let[e,r]=keys[n.key||"Alt"],g=ViewPlugin.fromClass(class{constructor(y){this.view=y,this.isDown=!1}set(y){this.isDown!=y&&(this.isDown=y,this.view.update([]))}},{eventObservers:{keydown(y){this.set(y.keyCode==e||r(y))},keyup(y){(y.keyCode==e||!r(y))&&this.set(!1)},mousemove(y){this.set(r(y))}}});return[g,EditorView.contentAttributes.of(y=>{var k;return!((k=y.plugin(g))===null||k===void 0)&&k.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,r,g,y){this.facet=r,this.createTooltipView=g,this.removeTooltipView=y,this.input=e.state.facet(r),this.tooltips=this.input.filter($=>$);let k=null;this.tooltipViews=this.tooltips.map($=>k=g($,k))}update(e,r){var g;let y=e.state.facet(this.facet),k=y.filter(L=>L);if(y===this.input){for(let L of this.tooltipViews)L.update&&L.update(e);return!1}let $=[],V=r?[]:null;for(let L=0;L<k.length;L++){let z=k[L],j=-1;if(z){for(let re=0;re<this.tooltips.length;re++){let oe=this.tooltips[re];oe&&oe.create==z.create&&(j=re)}if(j<0)$[L]=this.createTooltipView(z,L?$[L-1]:null),V&&(V[L]=!!z.above);else{let re=$[L]=this.tooltipViews[j];V&&(V[L]=r[j]),re.update&&re.update(e)}}}for(let L of this.tooltipViews)$.indexOf(L)<0&&(this.removeTooltipView(L),(g=L.destroy)===null||g===void 0||g.call(L));return r&&(V.forEach((L,z)=>r[z]=L),r.length=V.length),this.input=y,this.tooltips=k,this.tooltipViews=$,!0}}function windowSpace(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const tooltipConfig=Facet.define({combine:n=>{var e,r,g;return{position:browser.ios?"absolute":((e=n.find(y=>y.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=n.find(y=>y.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((g=n.find(y=>y.tooltipSpace))===null||g===void 0?void 0:g.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(n,showTooltip,(r,g)=>this.createTooltip(r,g),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let r=e||n.geometryChanged,g=n.state.facet(tooltipConfig);if(g.position!=this.position&&!this.madeAbsolute){this.position=g.position;for(let y of this.manager.tooltipViews)y.dom.style.position=this.position;r=!0}if(g.parent!=this.parent){this.parent&&this.container.remove(),this.parent=g.parent,this.createContainer();for(let y of this.manager.tooltipViews)this.container.appendChild(y.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(n,e){let r=n.create(this.view),g=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),n.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let y=document.createElement("div");y.className="cm-tooltip-arrow",r.dom.appendChild(y)}return r.dom.style.position=this.position,r.dom.style.top=Outside,r.dom.style.left="0px",this.container.insertBefore(r.dom,g),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var n,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let g of this.manager.tooltipViews)g.dom.remove(),(n=g.destroy)===null||n===void 0||n.call(g);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:k}=this.manager.tooltipViews[0];if(browser.gecko)r=k.offsetParent!=this.container.ownerDocument.body;else if(k.style.top==Outside&&k.style.left=="0px"){let $=k.getBoundingClientRect();r=Math.abs($.top+1e4)>1||Math.abs($.left)>1}}if(r||this.position=="absolute")if(this.parent){let k=this.parent.getBoundingClientRect();k.width&&k.height&&(n=k.width/this.parent.offsetWidth,e=k.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let g=this.view.scrollDOM.getBoundingClientRect(),y=getScrollMargins(this.view);return{visible:{left:g.left+y.left,top:g.top+y.top,right:g.right-y.right,bottom:g.bottom-y.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((k,$)=>{let V=this.manager.tooltipViews[$];return V.getCoords?V.getCoords(k.pos):this.view.coordsAtPos(k.pos)}),size:this.manager.tooltipViews.map(({dom:k})=>k.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let V of this.manager.tooltipViews)V.dom.style.position="absolute"}let{visible:r,space:g,scaleX:y,scaleY:k}=n,$=[];for(let V=0;V<this.manager.tooltips.length;V++){let L=this.manager.tooltips[V],z=this.manager.tooltipViews[V],{dom:j}=z,re=n.pos[V],oe=n.size[V];if(!re||L.clip!==!1&&(re.bottom<=Math.max(r.top,g.top)||re.top>=Math.min(r.bottom,g.bottom)||re.right<Math.max(r.left,g.left)-.1||re.left>Math.min(r.right,g.right)+.1)){j.style.top=Outside;continue}let ae=L.arrow?z.dom.querySelector(".cm-tooltip-arrow"):null,de=ae?7:0,ue=oe.right-oe.left,pe=(e=knownHeight.get(z))!==null&&e!==void 0?e:oe.bottom-oe.top,he=z.offset||noOffset,xe=this.view.textDirection==Direction.LTR,$e=oe.width>g.right-g.left?xe?g.left:g.right-oe.width:xe?Math.max(g.left,Math.min(re.left-(ae?14:0)+he.x,g.right-ue)):Math.min(Math.max(g.left,re.left-ue+(ae?14:0)-he.x),g.right-ue),Ne=this.above[V];!L.strictSide&&(Ne?re.top-pe-de-he.y<g.top:re.bottom+pe+de+he.y>g.bottom)&&Ne==g.bottom-re.bottom>re.top-g.top&&(Ne=this.above[V]=!Ne);let Oe=(Ne?re.top-g.top:g.bottom-re.bottom)-de;if(Oe<pe&&z.resize!==!1){if(Oe<this.view.defaultLineHeight){j.style.top=Outside;continue}knownHeight.set(z,pe),j.style.height=(pe=Oe)/k+"px"}else j.style.height&&(j.style.height="");let _e=Ne?re.top-pe-de-he.y:re.bottom+de+he.y,Fe=$e+ue;if(z.overlap!==!0)for(let Ue of $)Ue.left<Fe&&Ue.right>$e&&Ue.top<_e+pe&&Ue.bottom>_e&&(_e=Ne?Ue.top-pe-2-de:Ue.bottom+de+2);if(this.position=="absolute"?(j.style.top=(_e-n.parent.top)/k+"px",setLeftStyle(j,($e-n.parent.left)/y)):(j.style.top=_e/k+"px",setLeftStyle(j,$e/y)),ae){let Ue=re.left+(xe?he.x:-he.x)-($e+14-7);ae.style.left=Ue/y+"px"}z.overlap!==!0&&$.push({left:$e,top:_e,right:Fe,bottom:_e+pe}),j.classList.toggle("cm-tooltip-above",Ne),j.classList.toggle("cm-tooltip-below",!Ne),z.positioned&&z.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(n,e){let r=parseInt(n.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(n.style.left=e+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:n=>n.reduce((e,r)=>e.concat(r),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(r,g)=>this.createHostedView(r,g),r=>r.dom.remove())}createHostedView(e,r){let g=e.create(this.view);return g.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(g.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&g.mount&&g.mount(this.view),g}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let g of this.manager.tooltipViews){let y=g[e];if(y!==void 0){if(r===void 0)r=y;else if(r!==y)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],n=>{let e=n.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var g;return(g=r.end)!==null&&g!==void 0?g:r.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class HoverPlugin{constructor(e,r,g,y,k){this.view=e,this.source=r,this.field=g,this.setHover=y,this.hoverTime=k,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,g=e.docView.nearest(r.target);if(!g)return;let y,k=1;if(g instanceof WidgetView)y=g.posAtStart;else{if(y=e.posAtCoords(r),y==null)return;let V=e.coordsAtPos(y);if(!V||r.y<V.top||r.y>V.bottom||r.x<V.left-e.defaultCharacterWidth||r.x>V.right+e.defaultCharacterWidth)return;let L=e.bidiSpans(e.state.doc.lineAt(y)).find(j=>j.from<=y&&j.to>=y),z=L&&L.dir==Direction.RTL?-1:1;k=r.x<V.left?-z:z}let $=this.source(e,y,k);if($?.then){let V=this.pending={pos:y};$.then(L=>{this.pending==V&&(this.pending=null,L&&!(Array.isArray(L)&&!L.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(L)?L:[L])}))},L=>logException(e.state,L,"hover tooltip"))}else $&&!(Array.isArray($)&&!$.length)&&e.dispatch({effects:this.setHover.of(Array.isArray($)?$:[$])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),r=e?e.manager.tooltips.findIndex(g=>g.create==HoverTooltipHost.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,g;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:y,tooltip:k}=this;if(y.length&&k&&!isInTooltip(k.dom,e)||this.pending){let{pos:$}=y[0]||this.pending,V=(g=(r=y[0])===null||r===void 0?void 0:r.end)!==null&&g!==void 0?g:$;($==V?this.view.posAtCoords(this.lastMove)!=$:!isOverRange(this.view,$,V,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:g}=this;g&&g.dom.contains(e.relatedTarget)?this.watchTooltipLeave(g.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=g=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(g.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(n,e){let{left:r,right:g,top:y,bottom:k}=n.getBoundingClientRect(),$;if($=n.querySelector(".cm-tooltip-arrow")){let V=$.getBoundingClientRect();y=Math.min(V.top,y),k=Math.max(V.bottom,k)}return e.clientX>=r-tooltipMargin&&e.clientX<=g+tooltipMargin&&e.clientY>=y-tooltipMargin&&e.clientY<=k+tooltipMargin}function isOverRange(n,e,r,g,y,k){let $=n.scrollDOM.getBoundingClientRect(),V=n.documentTop+n.documentPadding.top+n.contentHeight;if($.left>g||$.right<g||$.top>y||Math.min($.bottom,V)<y)return!1;let L=n.posAtCoords({x:g,y},!1);return L>=e&&L<=r}function hoverTooltip(n,e={}){let r=StateEffect.define(),g=StateField.define({create(){return[]},update(y,k){if(y.length&&(e.hideOnChange&&(k.docChanged||k.selection)?y=[]:e.hideOn&&(y=y.filter($=>!e.hideOn(k,$))),k.docChanged)){let $=[];for(let V of y){let L=k.changes.mapPos(V.pos,-1,MapMode.TrackDel);if(L!=null){let z=Object.assign(Object.create(null),V);z.pos=L,z.end!=null&&(z.end=k.changes.mapPos(z.end)),$.push(z)}}y=$}for(let $ of k.effects)$.is(r)&&(y=$.value),$.is(closeHoverTooltipEffect)&&(y=[]);return y},provide:y=>showHoverTooltip.from(y)});return{active:g,extension:[g,ViewPlugin.define(y=>new HoverPlugin(y,n,g,r,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(n,e){let r=n.plugin(tooltipPlugin);if(!r)return null;let g=r.manager.tooltips.indexOf(e);return g<0?null:r.manager.tooltipViews[g]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(n){let e,r;for(let g of n)e=e||g.topContainer,r=r||g.bottomContainer;return{topContainer:e,bottomContainer:r}}});function getPanel(n,e){let r=n.plugin(panelPlugin),g=r?r.specs.indexOf(e):-1;return g>-1?r.panels[g]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(n){this.input=n.state.facet(showPanel),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(n));let e=n.state.facet(panelConfig);this.top=new PanelGroup(n,!0,e.topContainer),this.bottom=new PanelGroup(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(n){let e=n.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=n.state.facet(showPanel);if(r!=this.input){let g=r.filter(L=>L),y=[],k=[],$=[],V=[];for(let L of g){let z=this.specs.indexOf(L),j;z<0?(j=L(n.view),V.push(j)):(j=this.panels[z],j.update&&j.update(n)),y.push(j),(j.top?k:$).push(j)}this.specs=g,this.panels=y,this.top.sync(k),this.bottom.sync($);for(let L of V)L.dom.classList.add("cm-panel"),L.mount&&L.mount()}else for(let g of this.panels)g.update&&g.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class PanelGroup{constructor(e,r,g){this.view=e,this.top=r,this.container=g,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(n){let e=n.nextSibling;return n.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(n){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),n))]}const unfixGutters=Facet.define({combine:n=>n.some(e=>e)});function gutters(n){let e=[gutterView];return n&&n.fixed===!1&&e.push(unfixGutters.of(!0)),e}const gutterView=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(activeGutters).map(e=>new SingleGutterView(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,r=n.view.viewport,g=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(g<(r.to-r.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let r=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),g=[],y=this.gutters.map(k=>new UpdateContext(k,this.view.viewport,-this.view.documentPadding.top));for(let k of this.view.viewportLineBlocks)if(g.length&&(g=[]),Array.isArray(k.type)){let $=!0;for(let V of k.type)if(V.type==BlockType.Text&&$){advanceCursor(r,g,V.from);for(let L of y)L.line(this.view,V,g);$=!1}else if(V.widget)for(let L of y)L.widget(this.view,V)}else if(k.type==BlockType.Text){advanceCursor(r,g,k.from);for(let $ of y)$.line(this.view,k,g)}else if(k.widget)for(let $ of y)$.widget(this.view,k);for(let k of y)k.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(activeGutters),r=n.state.facet(activeGutters),g=n.docChanged||n.heightChanged||n.viewportChanged||!RangeSet.eq(n.startState.facet(gutterLineClass),n.state.facet(gutterLineClass),n.view.viewport.from,n.view.viewport.to);if(e==r)for(let y of this.gutters)y.update(n)&&(g=!0);else{g=!0;let y=[];for(let k of r){let $=e.indexOf(k);$<0?y.push(new SingleGutterView(this.view,k)):(this.gutters[$].update(n),y.push(this.gutters[$]))}for(let k of this.gutters)k.dom.remove(),y.indexOf(k)<0&&k.destroy();for(let k of y)this.dom.appendChild(k.dom);this.gutters=y}return g}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Direction.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function asArray(n){return Array.isArray(n)?n:[n]}function advanceCursor(n,e,r){for(;n.value&&n.from<=r;)n.from==r&&e.push(n.value),n.next()}class UpdateContext{constructor(e,r,g){this.gutter=e,this.height=g,this.i=0,this.cursor=RangeSet.iter(e.markers,r.from)}addElement(e,r,g){let{gutter:y}=this,k=(r.top-this.height)/e.scaleY,$=r.height/e.scaleY;if(this.i==y.elements.length){let V=new GutterElement(e,$,k,g);y.elements.push(V),y.dom.appendChild(V.dom)}else y.elements[this.i].update(e,$,k,g);this.height=r.bottom,this.i++}line(e,r,g){let y=[];advanceCursor(this.cursor,y,r.from),g.length&&(y=y.concat(g));let k=this.gutter.config.lineMarker(e,r,y);k&&y.unshift(k);let $=this.gutter;y.length==0&&!$.config.renderEmptyElements||this.addElement(e,r,y)}widget(e,r){let g=this.gutter.config.widgetMarker(e,r.widget,r),y=g?[g]:null;for(let k of e.state.facet(gutterWidgetClass)){let $=k(e,r.widget,r);$&&(y||(y=[])).push($)}y&&this.addElement(e,r,y)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class SingleGutterView{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let g in r.domEventHandlers)this.dom.addEventListener(g,y=>{let k=y.target,$;if(k!=this.dom&&this.dom.contains(k)){for(;k.parentNode!=this.dom;)k=k.parentNode;let L=k.getBoundingClientRect();$=(L.top+L.bottom)/2}else $=y.clientY;let V=e.lineBlockAtHeight($-e.documentTop);r.domEventHandlers[g](e,V,y)&&y.preventDefault()});this.markers=asArray(r.markers(e)),r.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let y=this.config.updateSpacer(this.spacer.markers[0],e);y!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[y])}let g=e.view.viewport;return!RangeSet.eq(this.markers,r,g.from,g.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,r,g,y){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,g,y)}update(e,r,g,y){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=g&&(this.dom.style.marginTop=(this.above=g)?g+"px":""),sameMarkers(this.markers,y)||this.setMarkers(e,y)}setMarkers(e,r){let g="cm-gutterElement",y=this.dom.firstChild;for(let k=0,$=0;;){let V=$,L=k<r.length?r[k++]:null,z=!1;if(L){let j=L.elementClass;j&&(g+=" "+j);for(let re=$;re<this.markers.length;re++)if(this.markers[re].compare(L)){V=re,z=!0;break}}else V=this.markers.length;for(;$<V;){let j=this.markers[$++];if(j.toDOM){j.destroy(y);let re=y.nextSibling;y.remove(),y=re}}if(!L)break;L.toDOM&&(z?y=y.nextSibling:this.dom.insertBefore(L.toDOM(e),y)),z&&$++}this.dom.className=g,this.markers=r}destroy(){this.setMarkers(null,[])}}function sameMarkers(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].compare(e[r]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(n){return combineConfig(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let g=Object.assign({},e);for(let y in r){let k=g[y],$=r[y];g[y]=k?(V,L,z)=>k(V,L,z)||$(V,L,z):$}return g}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(n,e){return n.state.facet(lineNumberConfig).formatNumber(e,n.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,r,g){return g.some(y=>y.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,g)=>{for(let y of e.state.facet(lineNumberWidgetMarker)){let k=y(e,r,g);if(k)return k}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,r){let g=formatNumber(r.view,maxLineNumber(r.view.state.doc.lines));return g==e.number?e:new NumberMarker(g)},domEventHandlers:n.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(n={}){return[lineNumberConfig.of(n),gutters(),lineNumberGutter]}function maxLineNumber(n){let e=9;for(;e<n;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],n=>{let e=[],r=-1;for(let g of n.selection.ranges){let y=n.doc.lineAt(g.head).from;y>r&&(r=y,e.push(activeLineGutterMarker.range(y)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,r){this.from=e,this.to=r}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),r=>{let g=e(r);return g===void 0?null:[this,g]}}}NodeProp.closedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.group=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.isolate=new NodeProp({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,r,g){this.tree=e,this.overlay=r,this.parser=g}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,r,g,y=0){this.name=e,this.props=r,this.id=g,this.flags=y}static define(e){let r=e.props&&e.props.length?Object.create(null):noProps,g=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),y=new NodeType(e.name||"",r,e.id,g);if(e.props){for(let k of e.props)if(Array.isArray(k)||(k=k(y)),k){if(k[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[k[0].id]=k[1]}}return y}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(NodeProp.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let g in e)for(let y of g.split(" "))r[y]=e[g];return g=>{for(let y=g.prop(NodeProp.group),k=-1;k<(y?y.length:0);k++){let $=r[k<0?g.name:y[k]];if($)return $}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let g of this.types){let y=null;for(let k of e){let $=k(g);$&&(y||(y=Object.assign({},g.props)),y[$[0].id]=$[1])}r.push(y?new NodeType(g.name,y,g.id,g.flags):g)}return new NodeSet(r)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,r,g,y,k){if(this.type=e,this.children=r,this.positions=g,this.length=y,this.props=null,k&&k.length){this.props=Object.create(null);for(let[$,V]of k)this.props[typeof $=="number"?$:$.id]=V}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let g of this.children){let y=g.toString();y&&(r&&(r+=","),r+=y)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,r=0,g=0){let y=CachedNode.get(this)||this.topNode,k=new TreeCursor(y);return k.moveTo(e,r),CachedNode.set(this,k._tree),k}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,r=0){let g=resolveNode(CachedNode.get(this)||this.topNode,e,r,!1);return CachedNode.set(this,g),g}resolveInner(e,r=0){let g=resolveNode(CachedInnerNode.get(this)||this.topNode,e,r,!0);return CachedInnerNode.set(this,g),g}resolveStack(e,r=0){return stackIterator(this,e,r)}iterate(e){let{enter:r,leave:g,from:y=0,to:k=this.length}=e,$=e.mode||0,V=($&IterMode.IncludeAnonymous)>0;for(let L=this.cursor($|IterMode.IncludeAnonymous);;){let z=!1;if(L.from<=k&&L.to>=y&&(!V&&L.type.isAnonymous||r(L)!==!1)){if(L.firstChild())continue;z=!0}for(;z&&g&&(V||!L.type.isAnonymous)&&g(L),!L.nextSibling();){if(!L.parent())return;z=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(r,g,y)=>new Tree(this.type,r,g,y,this.propValues),e.makeTree||((r,g,y)=>new Tree(NodeType.none,r,g,y)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,r,g){this.buffer=e,this.length=r,this.set=g}get type(){return NodeType.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],g=this.buffer[e+3],y=this.set.types[r],k=y.name;if(/\W/.test(k)&&!y.isError&&(k=JSON.stringify(k)),e+=4,g==e)return k;let $=[];for(;e<g;)$.push(this.childString(e)),e=this.buffer[e+3];return k+"("+$.join(",")+")"}findChild(e,r,g,y,k){let{buffer:$}=this,V=-1;for(let L=e;L!=r&&!(checkSide(k,y,$[L+1],$[L+2])&&(V=L,g>0));L=$[L+3]);return V}slice(e,r,g){let y=this.buffer,k=new Uint16Array(r-e),$=0;for(let V=e,L=0;V<r;){k[L++]=y[V++],k[L++]=y[V++]-g;let z=k[L++]=y[V++]-g;k[L++]=y[V++]-e,$=Math.max($,z)}return new TreeBuffer(k,$,this.set)}}function checkSide(n,e,r,g){switch(n){case-2:return r<e;case-1:return g>=e&&r<e;case 0:return r<e&&g>e;case 1:return r<=e&&g>e;case 2:return g>e;case 4:return!0}}function resolveNode(n,e,r,g){for(var y;n.from==n.to||(r<1?n.from>=e:n.from>e)||(r>-1?n.to<=e:n.to<e);){let $=!g&&n instanceof TreeNode&&n.index<0?null:n.parent;if(!$)return n;n=$}let k=g?0:IterMode.IgnoreOverlays;if(g)for(let $=n,V=$.parent;V;$=V,V=$.parent)$ instanceof TreeNode&&$.index<0&&((y=V.enter(e,r,k))===null||y===void 0?void 0:y.from)!=$.from&&(n=V);for(;;){let $=n.enter(e,r,k);if(!$)return n;n=$}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,r=null,g=null){let y=getChildren(this,e,r,g);return y.length?y[0]:null}getChildren(e,r=null,g=null){return getChildren(this,e,r,g)}resolve(e,r=0){return resolveNode(this,e,r,!1)}resolveInner(e,r=0){return resolveNode(this,e,r,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),g=this;for(;r;){let y=r.lastChild;if(!y||y.to!=r.to)break;y.type.isError&&y.from==y.to?(g=r,r=y.prevSibling):r=y}return g}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,r,g,y){super(),this._tree=e,this.from=r,this.index=g,this._parent=y}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,g,y,k=0){for(let $=this;;){for(let{children:V,positions:L}=$._tree,z=r>0?V.length:-1;e!=z;e+=r){let j=V[e],re=L[e]+$.from;if(checkSide(y,g,re,re+j.length)){if(j instanceof TreeBuffer){if(k&IterMode.ExcludeBuffers)continue;let oe=j.findChild(0,j.buffer.length,r,g-re,y);if(oe>-1)return new BufferNode(new BufferContext($,j,e,re),null,oe)}else if(k&IterMode.IncludeAnonymous||!j.type.isAnonymous||hasChild(j)){let oe;if(!(k&IterMode.IgnoreMounts)&&(oe=MountedTree.get(j))&&!oe.overlay)return new TreeNode(oe.tree,re,e,$);let ae=new TreeNode(j,re,e,$);return k&IterMode.IncludeAnonymous||!ae.type.isAnonymous?ae:ae.nextChild(r<0?j.children.length-1:0,r,g,y)}}}if(k&IterMode.IncludeAnonymous||!$.type.isAnonymous||($.index>=0?e=$.index+r:e=r<0?-1:$._parent._tree.children.length,$=$._parent,!$))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,g=0){let y;if(!(g&IterMode.IgnoreOverlays)&&(y=MountedTree.get(this._tree))&&y.overlay){let k=e-this.from;for(let{from:$,to:V}of y.overlay)if((r>0?$<=k:$<k)&&(r<0?V>=k:V>k))return new TreeNode(y.tree,y.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,g)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(n,e,r,g){let y=n.cursor(),k=[];if(!y.firstChild())return k;if(r!=null){for(let $=!1;!$;)if($=y.type.is(r),!y.nextSibling())return k}for(;;){if(g!=null&&y.type.is(g))return k;if(y.type.is(e)&&k.push(y.node),!y.nextSibling())return g==null?k:[]}}function matchNodeContext(n,e,r=e.length-1){for(let g=n;r>=0;g=g.parent){if(!g)return!1;if(!g.type.isAnonymous){if(e[r]&&e[r]!=g.name)return!1;r--}}return!0}class BufferContext{constructor(e,r,g,y){this.parent=e,this.buffer=r,this.index=g,this.start=y}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,g){super(),this.context=e,this._parent=r,this.index=g,this.type=e.buffer.set.types[e.buffer.buffer[g]]}child(e,r,g){let{buffer:y}=this.context,k=y.findChild(this.index+4,y.buffer[this.index+3],e,r-this.context.start,g);return k<0?null:new BufferNode(this.context,this,k)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,g=0){if(g&IterMode.ExcludeBuffers)return null;let{buffer:y}=this.context,k=y.findChild(this.index+4,y.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return k<0?null:new BufferNode(this.context,this,k)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:g}=this.context,y=this.index+4,k=g.buffer[this.index+3];if(k>y){let $=g.buffer[this.index+1];e.push(g.slice(y,k,$)),r.push(0)}return new Tree(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(n){if(!n.length)return null;let e=0,r=n[0];for(let k=1;k<n.length;k++){let $=n[k];($.from>r.from||$.to<r.to)&&(r=$,e=k)}let g=r instanceof TreeNode&&r.index<0?null:r.parent,y=n.slice();return g?y[e]=g:y.splice(e,1),new StackIterator(y,r)}class StackIterator{constructor(e,r){this.heads=e,this.node=r}get next(){return iterStack(this.heads)}}function stackIterator(n,e,r){let g=n.resolveInner(e,r),y=null;for(let k=g instanceof TreeNode?g:g.context.parent;k;k=k.parent)if(k.index<0){let $=k.parent;(y||(y=[g])).push($.resolve(e,r)),k=$}else{let $=MountedTree.get(k.tree);if($&&$.overlay&&$.overlay[0].from<=e&&$.overlay[$.overlay.length-1].to>=e){let V=new TreeNode($.tree,$.overlay[0].from+k.from,-1,k);(y||(y=[g])).push(resolveNode(V,e,r,!1))}}return y?iterStack(y):g}class TreeCursor{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let g=e._parent;g;g=g._parent)this.stack.unshift(g.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:g,buffer:y}=this.buffer;return this.type=r||y.set.types[y.buffer[e]],this.from=g+y.buffer[e+1],this.to=g+y.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,g){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,g,this.mode));let{buffer:y}=this.buffer,k=y.findChild(this.index+4,y.buffer[this.index+3],e,r-this.buffer.start,g);return k<0?!1:(this.stack.push(this.index),this.yieldBuf(k))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,g=this.mode){return this.buffer?g&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,g))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,g=this.stack.length-1;if(e<0){let y=g<0?0:this.stack[g]+4;if(this.index!=y)return this.yieldBuf(r.findChild(y,this.index,-1,0,4))}else{let y=r.buffer[this.index+3];if(y<(g<0?r.buffer.length:r.buffer[this.stack[g]+3]))return this.yieldBuf(y)}return g<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,g,{buffer:y}=this;if(y){if(e>0){if(this.index<y.buffer.buffer.length)return!1}else for(let k=0;k<this.index;k++)if(y.buffer.buffer[k+3]<this.index)return!1;({index:r,parent:g}=y)}else({index:r,_parent:g}=this._tree);for(;g;{index:r,_parent:g}=g)if(r>-1)for(let k=r+e,$=e<0?-1:g._tree.children.length;k!=$;k+=e){let V=g._tree.children[k];if(this.mode&IterMode.IncludeAnonymous||V instanceof TreeBuffer||!V.type.isAnonymous||hasChild(V))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,g=0;if(e&&e.context==this.buffer)e:for(let y=this.index,k=this.stack.length;k>=0;){for(let $=e;$;$=$._parent)if($.index==y){if(y==this.index)return $;r=$,g=k+1;break e}y=this.stack[--k]}for(let y=g;y<this.stack.length;y++)r=new BufferNode(this.buffer,r,this.stack[y]);return this.bufferNode=new BufferNode(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let g=0;;){let y=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){g++;continue}this.type.isAnonymous||(y=!0)}for(;;){if(y&&r&&r(this),y=this.type.isAnonymous,!g)return;if(this.nextSibling())break;this.parent(),g--,y=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:r}=this.buffer,{types:g}=r.set;for(let y=e.length-1,k=this.stack.length-1;y>=0;k--){if(k<0)return matchNodeContext(this._tree,e,y);let $=g[r.buffer[this.stack[k]]];if(!$.isAnonymous){if(e[y]&&e[y]!=$.name)return!1;y--}}return!0}}function hasChild(n){return n.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(n){var e;let{buffer:r,nodeSet:g,maxBufferLength:y=DefaultBufferLength,reused:k=[],minRepeatType:$=g.types.length}=n,V=Array.isArray(r)?new FlatBufferCursor(r,r.length):r,L=g.types,z=0,j=0;function re(Oe,_e,Fe,Ue,kt,Lt){let{id:wn,start:Et,end:xn,size:jt}=V,An=j,Dn=z;for(;jt<0;)if(V.next(),jt==-1){let Gn=k[wn];Fe.push(Gn),Ue.push(Et-Oe);return}else if(jt==-3){z=wn;return}else if(jt==-4){j=wn;return}else throw new RangeError(`Unrecognized record size: ${jt}`);let En=L[wn],Bn,$n,Wn=Et-Oe;if(xn-Et<=y&&($n=pe(V.pos-_e,kt))){let Gn=new Uint16Array($n.size-$n.skip),Nn=V.pos-$n.size,Zn=Gn.length;for(;V.pos>Nn;)Zn=he($n.start,Gn,Zn);Bn=new TreeBuffer(Gn,xn-$n.start,g),Wn=$n.start-Oe}else{let Gn=V.pos-jt;V.next();let Nn=[],Zn=[],Hn=wn>=$?wn:-1,rr=0,Xn=xn;for(;V.pos>Gn;)Hn>=0&&V.id==Hn&&V.size>=0?(V.end<=Xn-y&&(de(Nn,Zn,Et,rr,V.end,Xn,Hn,An,Dn),rr=Nn.length,Xn=V.end),V.next()):Lt>2500?oe(Et,Gn,Nn,Zn):re(Et,Gn,Nn,Zn,Hn,Lt+1);if(Hn>=0&&rr>0&&rr<Nn.length&&de(Nn,Zn,Et,rr,Et,Xn,Hn,An,Dn),Nn.reverse(),Zn.reverse(),Hn>-1&&rr>0){let Pn=ae(En,Dn);Bn=balanceRange(En,Nn,Zn,0,Nn.length,0,xn-Et,Pn,Pn)}else Bn=ue(En,Nn,Zn,xn-Et,An-xn,Dn)}Fe.push(Bn),Ue.push(Wn)}function oe(Oe,_e,Fe,Ue){let kt=[],Lt=0,wn=-1;for(;V.pos>_e;){let{id:Et,start:xn,end:jt,size:An}=V;if(An>4)V.next();else{if(wn>-1&&xn<wn)break;wn<0&&(wn=jt-y),kt.push(Et,xn,jt),Lt++,V.next()}}if(Lt){let Et=new Uint16Array(Lt*4),xn=kt[kt.length-2];for(let jt=kt.length-3,An=0;jt>=0;jt-=3)Et[An++]=kt[jt],Et[An++]=kt[jt+1]-xn,Et[An++]=kt[jt+2]-xn,Et[An++]=An;Fe.push(new TreeBuffer(Et,kt[2]-xn,g)),Ue.push(xn-Oe)}}function ae(Oe,_e){return(Fe,Ue,kt)=>{let Lt=0,wn=Fe.length-1,Et,xn;if(wn>=0&&(Et=Fe[wn])instanceof Tree){if(!wn&&Et.type==Oe&&Et.length==kt)return Et;(xn=Et.prop(NodeProp.lookAhead))&&(Lt=Ue[wn]+Et.length+xn)}return ue(Oe,Fe,Ue,kt,Lt,_e)}}function de(Oe,_e,Fe,Ue,kt,Lt,wn,Et,xn){let jt=[],An=[];for(;Oe.length>Ue;)jt.push(Oe.pop()),An.push(_e.pop()+Fe-kt);Oe.push(ue(g.types[wn],jt,An,Lt-kt,Et-Lt,xn)),_e.push(kt-Fe)}function ue(Oe,_e,Fe,Ue,kt,Lt,wn){if(Lt){let Et=[NodeProp.contextHash,Lt];wn=wn?[Et].concat(wn):[Et]}if(kt>25){let Et=[NodeProp.lookAhead,kt];wn=wn?[Et].concat(wn):[Et]}return new Tree(Oe,_e,Fe,Ue,wn)}function pe(Oe,_e){let Fe=V.fork(),Ue=0,kt=0,Lt=0,wn=Fe.end-y,Et={size:0,start:0,skip:0};e:for(let xn=Fe.pos-Oe;Fe.pos>xn;){let jt=Fe.size;if(Fe.id==_e&&jt>=0){Et.size=Ue,Et.start=kt,Et.skip=Lt,Lt+=4,Ue+=4,Fe.next();continue}let An=Fe.pos-jt;if(jt<0||An<xn||Fe.start<wn)break;let Dn=Fe.id>=$?4:0,En=Fe.start;for(Fe.next();Fe.pos>An;){if(Fe.size<0)if(Fe.size==-3)Dn+=4;else break e;else Fe.id>=$&&(Dn+=4);Fe.next()}kt=En,Ue+=jt,Lt+=Dn}return(_e<0||Ue==Oe)&&(Et.size=Ue,Et.start=kt,Et.skip=Lt),Et.size>4?Et:void 0}function he(Oe,_e,Fe){let{id:Ue,start:kt,end:Lt,size:wn}=V;if(V.next(),wn>=0&&Ue<$){let Et=Fe;if(wn>4){let xn=V.pos-(wn-4);for(;V.pos>xn;)Fe=he(Oe,_e,Fe)}_e[--Fe]=Et,_e[--Fe]=Lt-Oe,_e[--Fe]=kt-Oe,_e[--Fe]=Ue}else wn==-3?z=Ue:wn==-4&&(j=Ue);return Fe}let xe=[],$e=[];for(;V.pos>0;)re(n.start||0,n.bufferStart||0,xe,$e,-1,0);let Ne=(e=n.length)!==null&&e!==void 0?e:xe.length?$e[0]+xe[0].length:0;return new Tree(L[n.topID],xe.reverse(),$e.reverse(),Ne)}const nodeSizeCache=new WeakMap;function nodeSize(n,e){if(!n.isAnonymous||e instanceof TreeBuffer||e.type!=n)return 1;let r=nodeSizeCache.get(e);if(r==null){r=1;for(let g of e.children){if(g.type!=n||!(g instanceof Tree)){r=1;break}r+=nodeSize(n,g)}nodeSizeCache.set(e,r)}return r}function balanceRange(n,e,r,g,y,k,$,V,L){let z=0;for(let de=g;de<y;de++)z+=nodeSize(n,e[de]);let j=Math.ceil(z*1.5/8),re=[],oe=[];function ae(de,ue,pe,he,xe){for(let $e=pe;$e<he;){let Ne=$e,Oe=ue[$e],_e=nodeSize(n,de[$e]);for($e++;$e<he;$e++){let Fe=nodeSize(n,de[$e]);if(_e+Fe>=j)break;_e+=Fe}if($e==Ne+1){if(_e>j){let Fe=de[Ne];ae(Fe.children,Fe.positions,0,Fe.children.length,ue[Ne]+xe);continue}re.push(de[Ne])}else{let Fe=ue[$e-1]+de[$e-1].length-Oe;re.push(balanceRange(n,de,ue,Ne,$e,Oe,Fe,null,L))}oe.push(Oe+xe-k)}}return ae(e,r,g,y,0),(V||L)(re,oe,$)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,r,g){let y=this.map.get(e);y||this.map.set(e,y=new Map),y.set(r,g)}getBuffer(e,r){let g=this.map.get(e);return g&&g.get(r)}set(e,r){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,r):e instanceof TreeNode&&this.map.set(e.tree,r)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,r,g,y,k=!1,$=!1){this.from=e,this.to=r,this.tree=g,this.offset=y,this.open=(k?1:0)|($?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],g=!1){let y=[new TreeFragment(0,e.length,e,0,!1,g)];for(let k of r)k.to>e.length&&y.push(k);return y}static applyChanges(e,r,g=128){if(!r.length)return e;let y=[],k=1,$=e.length?e[0]:null;for(let V=0,L=0,z=0;;V++){let j=V<r.length?r[V]:null,re=j?j.fromA:1e9;if(re-L>=g)for(;$&&$.from<re;){let oe=$;if(L>=oe.from||re<=oe.to||z){let ae=Math.max(oe.from,L)-z,de=Math.min(oe.to,re)-z;oe=ae>=de?null:new TreeFragment(ae,de,oe.tree,oe.offset+z,V>0,!!j)}if(oe&&y.push(oe),$.to>re)break;$=k<e.length?e[k++]:null}if(!j)break;L=j.toA,z=j.toA-j.toB}return y}}class Parser{startParse(e,r,g){return typeof e=="string"&&(e=new StringInput(e)),g=g?g.length?g.map(y=>new Range(y.from,y.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,r||[],g)}parse(e,r,g){let y=this.startParse(e,r,g);for(;;){let k=y.advance();if(k)return k}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(e,r,g,y){this.name=e,this.set=r,this.base=g,this.modified=y,this.id=nextTagID++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let g=typeof e=="string"?e:"?";if(e instanceof Tag&&(r=e),r?.base)throw new Error("Can not derive from a modified tag");let y=new Tag(g,[],null,[]);if(y.set.push(y),r)for(let k of r.set)y.set.push(k);return y}static defineModifier(e){let r=new Modifier(e);return g=>g.modified.indexOf(r)>-1?g:Modifier.get(g.base||g,g.modified.concat(r).sort((y,k)=>y.id-k.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,r){if(!r.length)return e;let g=r[0].instances.find(V=>V.base==e&&sameArray(r,V.modified));if(g)return g;let y=[],k=new Tag(e.name,y,e,r);for(let V of r)V.instances.push(k);let $=powerSet(r);for(let V of e.set)if(!V.modified.length)for(let L of $)y.push(Modifier.get(V,L));return k}}function sameArray(n,e){return n.length==e.length&&n.every((r,g)=>r==e[g])}function powerSet(n){let e=[[]];for(let r=0;r<n.length;r++)for(let g=0,y=e.length;g<y;g++)e.push(e[g].concat(n[r]));return e.sort((r,g)=>g.length-r.length)}function styleTags(n){let e=Object.create(null);for(let r in n){let g=n[r];Array.isArray(g)||(g=[g]);for(let y of r.split(" "))if(y){let k=[],$=2,V=y;for(let re=0;;){if(V=="..."&&re>0&&re+3==y.length){$=1;break}let oe=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(V);if(!oe)throw new RangeError("Invalid path: "+y);if(k.push(oe[0]=="*"?"":oe[0][0]=='"'?JSON.parse(oe[0]):oe[0]),re+=oe[0].length,re==y.length)break;let ae=y[re++];if(re==y.length&&ae=="!"){$=0;break}if(ae!="/")throw new RangeError("Invalid path: "+y);V=y.slice(re)}let L=k.length-1,z=k[L];if(!z)throw new RangeError("Invalid path: "+y);let j=new Rule(g,$,L>0?k.slice(0,L):null);e[z]=j.sort(e[z])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,r,g,y){this.tags=e,this.mode=r,this.context=g,this.next=y}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(n,e){let r=Object.create(null);for(let k of n)if(!Array.isArray(k.tag))r[k.tag.id]=k.class;else for(let $ of k.tag)r[$.id]=k.class;let{scope:g,all:y=null}=e||{};return{style:k=>{let $=y;for(let V of k)for(let L of V.set){let z=r[L.id];if(z){$=$?$+" "+z:z;break}}return $},scope:g}}function highlightTags(n,e){let r=null;for(let g of n){let y=g.style(e);y&&(r=r?r+" "+y:y)}return r}function highlightTree(n,e,r,g=0,y=n.length){let k=new HighlightBuilder(g,Array.isArray(e)?e:[e],r);k.highlightRange(n.cursor(),g,y,"",k.highlighters),k.flush(y)}class HighlightBuilder{constructor(e,r,g){this.at=e,this.highlighters=r,this.span=g,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,g,y,k){let{type:$,from:V,to:L}=e;if(V>=g||L<=r)return;$.isTop&&(k=this.highlighters.filter(ae=>!ae.scope||ae.scope($)));let z=y,j=getStyleTags(e)||Rule.empty,re=highlightTags(k,j.tags);if(re&&(z&&(z+=" "),z+=re,j.mode==1&&(y+=(y?" ":"")+re)),this.startSpan(Math.max(r,V),z),j.opaque)return;let oe=e.tree&&e.tree.prop(NodeProp.mounted);if(oe&&oe.overlay){let ae=e.node.enter(oe.overlay[0].from+V,1),de=this.highlighters.filter(pe=>!pe.scope||pe.scope(oe.tree.type)),ue=e.firstChild();for(let pe=0,he=V;;pe++){let xe=pe<oe.overlay.length?oe.overlay[pe]:null,$e=xe?xe.from+V:L,Ne=Math.max(r,he),Oe=Math.min(g,$e);if(Ne<Oe&&ue)for(;e.from<Oe&&(this.highlightRange(e,Ne,Oe,y,k),this.startSpan(Math.min(Oe,e.to),z),!(e.to>=$e||!e.nextSibling())););if(!xe||$e>g)break;he=xe.to+V,he>r&&(this.highlightRange(ae.cursor(),Math.max(r,xe.from+V),Math.min(g,he),"",de),this.startSpan(Math.min(g,he),z))}ue&&e.parent()}else if(e.firstChild()){oe&&(y="");do if(!(e.to<=r)){if(e.from>=g)break;this.highlightRange(e,r,g,y,k),this.startSpan(Math.min(g,e.to),z)}while(e.nextSibling());e.parent()}}}function getStyleTags(n){let e=n.type.prop(ruleNodeProp);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let n in tags){let e=tags[n];e instanceof Tag&&(e.name=n)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(n){return Facet.define({combine:n?e=>e.concat(n):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,r,g=[],y=""){this.data=e,this.name=y,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=r,this.extension=[language.of(this),EditorState.languageData.of((k,$,V)=>{let L=topNodeAt(k,$,V),z=L.type.prop(languageDataProp);if(!z)return[];let j=k.facet(z),re=L.type.prop(sublanguageProp);if(re){let oe=L.resolve($-L.from,V);for(let ae of re)if(ae.test(oe,k)){let de=k.facet(ae.facet);return ae.type=="replace"?de:de.concat(j)}}return j})].concat(g)}isActiveAt(e,r,g=-1){return topNodeAt(e,r,g).type.prop(languageDataProp)==this.data}findRegions(e){let r=e.facet(language);if(r?.data==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let g=[],y=(k,$)=>{if(k.prop(languageDataProp)==this.data){g.push({from:$,to:$+k.length});return}let V=k.prop(NodeProp.mounted);if(V){if(V.tree.prop(languageDataProp)==this.data){if(V.overlay)for(let L of V.overlay)g.push({from:L.from+$,to:L.to+$});else g.push({from:$,to:$+k.length});return}else if(V.overlay){let L=g.length;if(y(V.tree,V.overlay[0].from+$),g.length>L)return}}for(let L=0;L<k.children.length;L++){let z=k.children[L];z instanceof Tree&&y(z,k.positions[L]+$)}};return y(syntaxTree(e),0),g}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(n,e,r){let g=n.facet(language),y=syntaxTree(n).topNode;if(!g||g.allowsNesting)for(let k=y;k;k=k.enter(e,r,IterMode.ExcludeBuffers))k.type.isTop&&(y=k);return y}class LRLanguage extends Language{constructor(e,r,g){super(e,r,[],g),this.parser=r}static define(e){let r=defineLanguageFacet(e.languageData);return new LRLanguage(r,e.parser.configure({props:[languageDataProp.add(g=>g.isTop?r:void 0)]}),e.name)}configure(e,r){return new LRLanguage(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(n){let e=n.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let g=this.cursorPos-this.string.length;return e<g||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-g,r-g)}}let currentContext=null;class ParseContext{constructor(e,r,g=[],y,k,$,V,L){this.parser=e,this.state=r,this.fragments=g,this.tree=y,this.treeLen=k,this.viewport=$,this.skipped=V,this.scheduleOn=L,this.parse=null,this.tempSkipped=[]}static create(e,r,g){return new ParseContext(e,r,[],Tree.empty,0,g,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Tree.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var g;if(typeof e=="number"){let y=Date.now()+e;e=()=>Date.now()>y}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let y=this.parse.advance();if(y)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(y,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(g=this.parse.stoppedAt)!==null&&g!==void 0?g:this.state.doc.length,this.tree=y,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=currentContext;currentContext=this;try{return e()}finally{currentContext=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=cutFragments(e,r.from,r.to);return e}changes(e,r){let{fragments:g,tree:y,treeLen:k,viewport:$,skipped:V}=this;if(this.takeTree(),!e.empty){let L=[];if(e.iterChangedRanges((z,j,re,oe)=>L.push({fromA:z,toA:j,fromB:re,toB:oe})),g=TreeFragment.applyChanges(g,L),y=Tree.empty,k=0,$={from:e.mapPos($.from,-1),to:e.mapPos($.to,1)},this.skipped.length){V=[];for(let z of this.skipped){let j=e.mapPos(z.from,1),re=e.mapPos(z.to,-1);j<re&&V.push({from:j,to:re})}}}return new ParseContext(this.parser,r,g,y,k,$,V,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let g=0;g<this.skipped.length;g++){let{from:y,to:k}=this.skipped[g];y<e.to&&k>e.from&&(this.fragments=cutFragments(this.fragments,y,k),this.skipped.splice(g--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends Parser{createParse(r,g,y){let k=y[0].from,$=y[y.length-1].to;return{parsedPos:k,advance(){let L=currentContext;if(L){for(let z of y)L.tempSkipped.push(z);e&&(L.scheduleOn=L.scheduleOn?Promise.all([L.scheduleOn,e]):e)}return this.parsedPos=$,new Tree(NodeType.none,[],[],$-k)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return currentContext}}function cutFragments(n,e,r){return TreeFragment.applyChanges(n,[{fromA:e,toA:r,fromB:e,toB:r}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),g=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,g)||r.takeTree(),new LanguageState(r)}static init(e){let r=Math.min(3e3,e.doc.length),g=ParseContext.create(e.facet(language).parser,e,{from:0,to:r});return g.work(20,r)||g.takeTree(),new LanguageState(g)}}Language.state=StateField.define({create:LanguageState.init,update(n,e){for(let r of e.effects)if(r.is(Language.setState))return r.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):n.apply(e)}});let requestIdle=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=n=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Language.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Language.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:g,viewport:{to:y}}=this.view,k=g.field(Language.state);if(k.tree==k.context.tree&&k.context.isDone(y+1e5))return;let $=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),V=k.context.treeLen<y&&g.doc.length>y+1e3,L=k.context.work(()=>isInputPending&&isInputPending()||Date.now()>$,y+(V?0:1e5));this.chunkBudget-=Date.now()-r,(L||this.chunkBudget<=0)&&(k.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(k.context))})),this.chunkBudget>0&&!(L&&!V)&&this.scheduleWork(),this.checkAsyncSchedule(k.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>logException(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(n){return n.length?n[0]:null},enables:n=>[Language.state,parseWorker,EditorView.contentAttributes.compute([n],e=>{let r=e.facet(n);return r&&r.name?{"data-language":r.name}:{}})]});class LanguageSupport{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function getIndentUnit(n){let e=n.facet(indentUnit);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function indentString(n,e){let r="",g=n.tabSize,y=n.facet(indentUnit)[0];if(y=="	"){for(;e>=g;)r+="	",e-=g;y=" "}for(let k=0;k<e;k++)r+=y;return r}function getIndentation(n,e){n instanceof EditorState&&(n=new IndentContext(n));for(let g of n.state.facet(indentService)){let y=g(n,e);if(y!==void 0)return y}let r=syntaxTree(n.state);return r.length>=e?syntaxIndentation(n,r,e):null}class IndentContext{constructor(e,r={}){this.state=e,this.options=r,this.unit=getIndentUnit(e)}lineAt(e,r=1){let g=this.state.doc.lineAt(e),{simulateBreak:y,simulateDoubleBreak:k}=this.options;return y!=null&&y>=g.from&&y<=g.to?k&&y==e?{text:"",from:e}:(r<0?y<e:y<=e)?{text:g.text.slice(y-g.from),from:y}:{text:g.text.slice(0,y-g.from),from:g.from}:g}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:g,from:y}=this.lineAt(e,r);return g.slice(e-y,Math.min(g.length,e+100-y))}column(e,r=1){let{text:g,from:y}=this.lineAt(e,r),k=this.countColumn(g,e-y),$=this.options.overrideIndentation?this.options.overrideIndentation(y):-1;return $>-1&&(k+=$-this.countColumn(g,g.search(/\S|$/))),k}countColumn(e,r=e.length){return countColumn(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:g,from:y}=this.lineAt(e,r),k=this.options.overrideIndentation;if(k){let $=k(y);if($>-1)return $}return this.countColumn(g,g.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(n,e,r){let g=e.resolveStack(r),y=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(y!=g.node){let k=[];for(let $=y;$&&!($.from==g.node.from&&$.type==g.node.type);$=$.parent)k.push($);for(let $=k.length-1;$>=0;$--)g={node:k[$],next:g}}return indentFor(g,n,r)}function indentFor(n,e,r){for(let g=n;g;g=g.next){let y=indentStrategy(g.node);if(y)return y(TreeIndentContext.create(e,r,g))}return 0}function ignoreClosed(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function indentStrategy(n){let e=n.type.prop(indentNodeProp);if(e)return e;let r=n.firstChild,g;if(r&&(g=r.type.prop(NodeProp.closedBy))){let y=n.lastChild,k=y&&g.indexOf(y.name)>-1;return $=>delimitedStrategy($,!0,1,void 0,k&&!ignoreClosed($)?y.from:void 0)}return n.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,r,g){super(e.state,e.options),this.base=e,this.pos=r,this.context=g}get node(){return this.context.node}static create(e,r,g){return new TreeIndentContext(e,r,g)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let g=e.resolve(r.from);for(;g.parent&&g.parent.from==g.from;)g=g.parent;if(isParent(g,e))break;r=this.state.doc.lineAt(g.from)}return this.lineIndent(r.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(n,e){for(let r=e;r;r=r.parent)if(n==r)return!0;return!1}function bracketedAligned(n){let e=n.node,r=e.childAfter(e.from),g=e.lastChild;if(!r)return null;let y=n.options.simulateBreak,k=n.state.doc.lineAt(r.from),$=y==null||y<=k.from?k.to:Math.min(k.to,y);for(let V=r.to;;){let L=e.childAfter(V);if(!L||L==g)return null;if(!L.type.isSkipped){if(L.from>=$)return null;let z=/^ */.exec(k.text.slice(r.to-k.from))[0].length;return{from:r.from,to:r.to+z}}V=L.to}}function delimitedIndent({closing:n,align:e=!0,units:r=1}){return g=>delimitedStrategy(g,e,r,n)}function delimitedStrategy(n,e,r,g,y){let k=n.textAfter,$=k.match(/^\s*/)[0].length,V=g&&k.slice($,$+g.length)==g||y==n.pos+$,L=e?bracketedAligned(n):null;return L?V?n.column(L.from):n.column(L.to):n.baseIndent+(V?0:n.unit*r)}const flatIndent=n=>n.baseIndent;function continuedIndent({except:n,units:e=1}={}){return r=>{let g=n&&n.test(r.textAfter);return r.baseIndent+(g?0:e*r.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let r=n.newDoc,{head:g}=n.newSelection.main,y=r.lineAt(g);if(g>y.from+DontIndentBeyond)return n;let k=r.sliceString(y.from,g);if(!e.some(z=>z.test(k)))return n;let{state:$}=n,V=-1,L=[];for(let{head:z}of $.selection.ranges){let j=$.doc.lineAt(z);if(j.from==V)continue;V=j.from;let re=getIndentation($,j.from);if(re==null)continue;let oe=/^\s*/.exec(j.text)[0],ae=indentString($,re);oe!=ae&&L.push({from:j.from,to:j.from+oe.length,insert:ae})}return L.length?[n,{changes:L,sequential:!0}]:n})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(n){let e=n.firstChild,r=n.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?n.to:r.from}:null}function syntaxFolding(n,e,r){let g=syntaxTree(n);if(g.length<r)return null;let y=g.resolveStack(r,1),k=null;for(let $=y;$;$=$.next){let V=$.node;if(V.to<=r||V.from>r)continue;if(k&&V.from<e)break;let L=V.type.prop(foldNodeProp);if(L&&(V.to<g.length-50||g.length==n.doc.length||!isUnfinished(V))){let z=L(V,n);z&&z.from<=r&&z.from>=e&&z.to>r&&(k=z)}}return k}function isUnfinished(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function foldable(n,e,r){for(let g of n.facet(foldService)){let y=g(n,e,r);if(y)return y}return syntaxFolding(n,e,r)}function mapRange(n,e){let r=e.mapPos(n.from,1),g=e.mapPos(n.to,-1);return r>=g?void 0:{from:r,to:g}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(n){let e=[];for(let{head:r}of n.state.selection.ranges)e.some(g=>g.from<=r&&g.to>=r)||e.push(n.lineBlockAt(r));return e}const foldState=StateField.define({create(){return Decoration.none},update(n,e){n=n.map(e.changes);for(let r of e.effects)if(r.is(foldEffect)&&!foldExists(n,r.value.from,r.value.to)){let{preparePlaceholder:g}=e.state.facet(foldConfig),y=g?Decoration.replace({widget:new PreparedFoldWidget(g(e.state,r.value))}):foldWidget;n=n.update({add:[y.range(r.value.from,r.value.to)]})}else r.is(unfoldEffect)&&(n=n.update({filter:(g,y)=>r.value.from!=g||r.value.to!=y,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:g}=e.selection.main;n.between(g,g,(y,k)=>{y<g&&k>g&&(r=!0)}),r&&(n=n.update({filterFrom:g,filterTo:g,filter:(y,k)=>k<=g||y>=g}))}return n},provide:n=>EditorView.decorations.from(n),toJSON(n,e){let r=[];return n.between(0,e.doc.length,(g,y)=>{r.push(g,y)}),r},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<n.length;){let g=n[r++],y=n[r++];if(typeof g!="number"||typeof y!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(g,y))}return Decoration.set(e,!0)}});function findFold(n,e,r){var g;let y=null;return(g=n.field(foldState,!1))===null||g===void 0||g.between(e,r,(k,$)=>{(!y||y.from>k)&&(y={from:k,to:$})}),y}function foldExists(n,e,r){let g=!1;return n.between(e,e,(y,k)=>{y==e&&k==r&&(g=!0)}),g}function maybeEnable(n,e){return n.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=n=>{for(let e of selectedLines(n)){let r=foldable(n.state,e.from,e.to);if(r)return n.dispatch({effects:maybeEnable(n.state,[foldEffect.of(r),announceFold(n,r)])}),!0}return!1},unfoldCode=n=>{if(!n.state.field(foldState,!1))return!1;let e=[];for(let r of selectedLines(n)){let g=findFold(n.state,r.from,r.to);g&&e.push(unfoldEffect.of(g),announceFold(n,g,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function announceFold(n,e,r=!0){let g=n.state.doc.lineAt(e.from).number,y=n.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${n.state.phrase(r?"Folded lines":"Unfolded lines")} ${g} ${n.state.phrase("to")} ${y}.`)}const foldAll=n=>{let{state:e}=n,r=[];for(let g=0;g<e.doc.length;){let y=n.lineBlockAt(g),k=foldable(e,y.from,y.to);k&&r.push(foldEffect.of(k)),g=(k?n.lineBlockAt(k.to):y).to+1}return r.length&&n.dispatch({effects:maybeEnable(n.state,r)}),!!r.length},unfoldAll=n=>{let e=n.state.field(foldState,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,n.state.doc.length,(g,y)=>{r.push(unfoldEffect.of({from:g,to:y}))}),n.dispatch({effects:r}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(n){return combineConfig(n,defaultConfig)}});function codeFolding(n){let e=[foldState,baseTheme$1$2];return n&&e.push(foldConfig.of(n)),e}function widgetToDOM(n,e){let{state:r}=n,g=r.facet(foldConfig),y=$=>{let V=n.lineBlockAt(n.posAtDOM($.target)),L=findFold(n.state,V.from,V.to);L&&n.dispatch({effects:unfoldEffect.of(L)}),$.preventDefault()};if(g.placeholderDOM)return g.placeholderDOM(n,y,e);let k=document.createElement("span");return k.textContent=g.placeholderText,k.setAttribute("aria-label",r.phrase("folded code")),k.title=r.phrase("unfold"),k.className="cm-foldPlaceholder",k.onclick=y,k}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(n){return widgetToDOM(n,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function foldGutter(n={}){let e=Object.assign(Object.assign({},foldGutterDefaults),n),r=new FoldMarker(e,!0),g=new FoldMarker(e,!1),y=ViewPlugin.fromClass(class{constructor($){this.from=$.viewport.from,this.markers=this.buildMarkers($)}update($){($.docChanged||$.viewportChanged||$.startState.facet(language)!=$.state.facet(language)||$.startState.field(foldState,!1)!=$.state.field(foldState,!1)||syntaxTree($.startState)!=syntaxTree($.state)||e.foldingChanged($))&&(this.markers=this.buildMarkers($.view))}buildMarkers($){let V=new RangeSetBuilder;for(let L of $.viewportLineBlocks){let z=findFold($.state,L.from,L.to)?g:foldable($.state,L.from,L.to)?r:null;z&&V.add(L.from,L.from,z)}return V.finish()}}),{domEventHandlers:k}=e;return[y,gutter({class:"cm-foldGutter",markers($){var V;return((V=$.plugin(y))===null||V===void 0?void 0:V.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:Object.assign(Object.assign({},k),{click:($,V,L)=>{if(k.click&&k.click($,V,L))return!0;let z=findFold($.state,V.from,V.to);if(z)return $.dispatch({effects:unfoldEffect.of(z)}),!0;let j=foldable($.state,V.from,V.to);return j?($.dispatch({effects:foldEffect.of(j)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,r){this.specs=e;let g;function y(V){let L=StyleModule.newName();return(g||(g=Object.create(null)))["."+L]=V,L}const k=typeof r.all=="string"?r.all:r.all?y(r.all):void 0,$=r.scope;this.scope=$ instanceof Language?V=>V.prop(languageDataProp)==$.data:$?V=>V==$:void 0,this.style=tagHighlighter(e.map(V=>({tag:V.tag,class:V.class||y(Object.assign({},V,{tag:null}))})),{all:k}).style,this.module=g?new StyleModule(g):null,this.themeType=r.themeType}static define(e,r){return new HighlightStyle(e,r||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(n){return n.length?[n[0]]:null}});function getHighlighters(n){let e=n.facet(highlighterFacet);return e.length?e:n.facet(fallbackHighlighter)}function syntaxHighlighting(n,e){let r=[treeHighlighter],g;return n instanceof HighlightStyle&&(n.module&&r.push(EditorView.styleModule.of(n.module)),g=n.themeType),e?.fallback?r.push(fallbackHighlighter.of(n)):g?r.push(highlighterFacet.computeN([EditorView.darkTheme],y=>y.facet(EditorView.darkTheme)==(g=="dark")?[n]:[])):r.push(highlighterFacet.of(n)),r}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=syntaxTree(e.state),g=getHighlighters(e.state),y=g!=getHighlighters(e.startState),{viewport:k}=e.view,$=e.changes.mapPos(this.decoratedTo,1);r.length<k.to&&!y&&r.type==this.tree.type&&$>=k.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=$):(r!=this.tree||e.viewportChanged||y)&&(this.tree=r,this.decorations=this.buildDeco(e.view,g),this.decoratedTo=k.to)}buildDeco(e,r){if(!r||!this.tree.length)return Decoration.none;let g=new RangeSetBuilder;for(let{from:y,to:k}of e.visibleRanges)highlightTree(this.tree,r,($,V,L)=>{g.add($,V,this.markCache[L]||(this.markCache[L]=Decoration.mark({class:L})))},y,k);return g.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:n=>n.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(n){return combineConfig(n,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(n){let e=[],r=n.matched?matchingMark:nonmatchingMark;return e.push(r.range(n.start.from,n.start.to)),n.end&&e.push(r.range(n.end.from,n.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let r=[],g=e.state.facet(bracketMatchingConfig);for(let y of e.state.selection.ranges){if(!y.empty)continue;let k=matchBrackets(e.state,y.head,-1,g)||y.head>0&&matchBrackets(e.state,y.head-1,1,g)||g.afterCursor&&(matchBrackets(e.state,y.head,1,g)||y.head<e.state.doc.length&&matchBrackets(e.state,y.head+1,-1,g));k&&(r=r.concat(g.renderMatch(k,e.state)))}return Decoration.set(r,!0)},provide:n=>EditorView.decorations.from(n)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(n={}){return[bracketMatchingConfig.of(n),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(n,e,r){let g=n.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(g)return g;if(n.name.length==1){let y=r.indexOf(n.name);if(y>-1&&y%2==(e<0?1:0))return[r[y+e]]}return null}function findHandle(n){let e=n.type.prop(bracketMatchingHandle);return e?e(n.node):n}function matchBrackets(n,e,r,g={}){let y=g.maxScanDistance||DefaultScanDist,k=g.brackets||DefaultBrackets,$=syntaxTree(n),V=$.resolveInner(e,r);for(let L=V;L;L=L.parent){let z=matchingNodes(L.type,r,k);if(z&&L.from<L.to){let j=findHandle(L);if(j&&(r>0?e>=j.from&&e<j.to:e>j.from&&e<=j.to))return matchMarkedBrackets(n,e,r,L,j,z,k)}}return matchPlainBrackets(n,e,r,$,V.type,y,k)}function matchMarkedBrackets(n,e,r,g,y,k,$){let V=g.parent,L={from:y.from,to:y.to},z=0,j=V?.cursor();if(j&&(r<0?j.childBefore(g.from):j.childAfter(g.to)))do if(r<0?j.to<=g.from:j.from>=g.to){if(z==0&&k.indexOf(j.type.name)>-1&&j.from<j.to){let re=findHandle(j);return{start:L,end:re?{from:re.from,to:re.to}:void 0,matched:!0}}else if(matchingNodes(j.type,r,$))z++;else if(matchingNodes(j.type,-r,$)){if(z==0){let re=findHandle(j);return{start:L,end:re&&re.from<re.to?{from:re.from,to:re.to}:void 0,matched:!1}}z--}}while(r<0?j.prevSibling():j.nextSibling());return{start:L,matched:!1}}function matchPlainBrackets(n,e,r,g,y,k,$){let V=r<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),L=$.indexOf(V);if(L<0||L%2==0!=r>0)return null;let z={from:r<0?e-1:e,to:r>0?e+1:e},j=n.doc.iterRange(e,r>0?n.doc.length:0),re=0;for(let oe=0;!j.next().done&&oe<=k;){let ae=j.value;r<0&&(oe+=ae.length);let de=e+oe*r;for(let ue=r>0?0:ae.length-1,pe=r>0?ae.length:-1;ue!=pe;ue+=r){let he=$.indexOf(ae[ue]);if(!(he<0||g.resolveInner(de+ue,1).type!=y))if(he%2==0==r>0)re++;else{if(re==1)return{start:z,end:{from:de+ue,to:de+ue+1},matched:he>>1==L>>1};re--}}r>0&&(oe+=ae.length)}return j.done?{start:z,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[n]=createTokenType(noTokens,e);function warnForPart(n,e){warned.indexOf(n)>-1||(warned.push(n),console.warn(e))}function createTokenType(n,e){let r=[];for(let V of e.split(" ")){let L=[];for(let z of V.split(".")){let j=n[z]||tags[z];j?typeof j=="function"?L.length?L=L.map(j):warnForPart(z,`Modifier ${z} used at start of tag`):L.length?warnForPart(z,`Tag ${z} used as modifier`):L=Array.isArray(j)?j:[j]:warnForPart(z,`Unknown highlighting tag ${z}`)}for(let z of L)r.push(z)}if(!r.length)return 0;let g=e.replace(/ /g,"_"),y=g+" "+r.map(V=>V.id),k=byTag[y];if(k)return k.id;let $=byTag[y]=NodeType.define({id:typeArray.length,name:g,props:[styleTags({[g]:r})]});return typeArray.push($),$.id}Direction.RTL,Direction.LTR;const toggleComment=n=>{let{state:e}=n,r=e.doc.lineAt(e.selection.main.from),g=getConfig(n.state,r.from);return g.line?toggleLineComment(n):g.block?toggleBlockCommentByLine(n):!1};function command(n,e){return({state:r,dispatch:g})=>{if(r.readOnly)return!1;let y=n(e,r);return y?(g(r.update(y)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((n,e)=>changeBlockComment(n,e,selectedLineRanges(e)),0);function getConfig(n,e){let r=n.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const SearchMargin=50;function findBlockComment(n,{open:e,close:r},g,y){let k=n.sliceDoc(g-SearchMargin,g),$=n.sliceDoc(y,y+SearchMargin),V=/\s*$/.exec(k)[0].length,L=/^\s*/.exec($)[0].length,z=k.length-V;if(k.slice(z-e.length,z)==e&&$.slice(L,L+r.length)==r)return{open:{pos:g-V,margin:V&&1},close:{pos:y+L,margin:L&&1}};let j,re;y-g<=2*SearchMargin?j=re=n.sliceDoc(g,y):(j=n.sliceDoc(g,g+SearchMargin),re=n.sliceDoc(y-SearchMargin,y));let oe=/^\s*/.exec(j)[0].length,ae=/\s*$/.exec(re)[0].length,de=re.length-ae-r.length;return j.slice(oe,oe+e.length)==e&&re.slice(de,de+r.length)==r?{open:{pos:g+oe+e.length,margin:/\s/.test(j.charAt(oe+e.length))?1:0},close:{pos:y-ae-r.length,margin:/\s/.test(re.charAt(de-1))?1:0}}:null}function selectedLineRanges(n){let e=[];for(let r of n.selection.ranges){let g=n.doc.lineAt(r.from),y=r.to<=g.to?g:n.doc.lineAt(r.to);y.from>g.from&&y.from==r.to&&(y=r.to==g.to+1?g:n.doc.lineAt(r.to-1));let k=e.length-1;k>=0&&e[k].to>g.from?e[k].to=y.to:e.push({from:g.from+/^\s*/.exec(g.text)[0].length,to:y.to})}return e}function changeBlockComment(n,e,r=e.selection.ranges){let g=r.map(k=>getConfig(e,k.from).block);if(!g.every(k=>k))return null;let y=r.map((k,$)=>findBlockComment(e,g[$],k.from,k.to));if(n!=2&&!y.every(k=>k))return{changes:e.changes(r.map((k,$)=>y[$]?[]:[{from:k.from,insert:g[$].open+" "},{from:k.to,insert:" "+g[$].close}]))};if(n!=1&&y.some(k=>k)){let k=[];for(let $=0,V;$<y.length;$++)if(V=y[$]){let L=g[$],{open:z,close:j}=V;k.push({from:z.pos-L.open.length,to:z.pos+z.margin},{from:j.pos-j.margin,to:j.pos+L.close.length})}return{changes:k}}return null}function changeLineComment(n,e,r=e.selection.ranges){let g=[],y=-1;for(let{from:k,to:$}of r){let V=g.length,L=1e9,z=getConfig(e,k).line;if(z){for(let j=k;j<=$;){let re=e.doc.lineAt(j);if(re.from>y&&(k==$||$>re.from)){y=re.from;let oe=/^\s*/.exec(re.text)[0].length,ae=oe==re.length,de=re.text.slice(oe,oe+z.length)==z?oe:-1;oe<re.text.length&&oe<L&&(L=oe),g.push({line:re,comment:de,token:z,indent:oe,empty:ae,single:!1})}j=re.to+1}if(L<1e9)for(let j=V;j<g.length;j++)g[j].indent<g[j].line.text.length&&(g[j].indent=L);g.length==V+1&&(g[V].single=!0)}}if(n!=2&&g.some(k=>k.comment<0&&(!k.empty||k.single))){let k=[];for(let{line:V,token:L,indent:z,empty:j,single:re}of g)(re||!j)&&k.push({from:V.from+z,insert:L+" "});let $=e.changes(k);return{changes:$,selection:e.selection.map($,1)}}else if(n!=1&&g.some(k=>k.comment>=0)){let k=[];for(let{line:$,comment:V,token:L}of g)if(V>=0){let z=$.from+V,j=z+L.length;$.text[j-$.from]==" "&&j++,k.push({from:z,to:j})}return{changes:k}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(n){return combineConfig(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(g,y)=>e(g,y)||r(g,y)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(n,e){let r=e.state.facet(historyConfig),g=e.annotation(fromHistory);if(g){let L=HistEvent.fromTransaction(e,g.selection),z=g.side,j=z==0?n.undone:n.done;return L?j=updateBranch(j,j.length,r.minDepth,L):j=addSelection(j,e.startState.selection),new HistoryState(z==0?g.rest:j,z==0?j:g.rest)}let y=e.annotation(isolateHistory);if((y=="full"||y=="before")&&(n=n.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let k=HistEvent.fromTransaction(e),$=e.annotation(Transaction.time),V=e.annotation(Transaction.userEvent);return k?n=n.addChanges(k,$,V,r,e):e.selection&&(n=n.addSelection(e.startState.selection,$,V,r.newGroupDelay)),(y=="full"||y=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new HistoryState(n.done.map(HistEvent.fromJSON),n.undone.map(HistEvent.fromJSON))}});function history$1(n={}){return[historyField_,historyConfig.of(n),EditorView.domEventHandlers({beforeinput(e,r){let g=e.inputType=="historyUndo"?undo$1:e.inputType=="historyRedo"?redo$1:null;return g?(e.preventDefault(),g(r)):!1}})]}function cmd(n,e){return function({state:r,dispatch:g}){if(!e&&r.readOnly)return!1;let y=r.field(historyField_,!1);if(!y)return!1;let k=y.pop(n,r,e);return k?(g(k),!0):!1}}const undo$1=cmd(0,!1),redo$1=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,r,g,y,k){this.changes=e,this.effects=r,this.mapped=g,this.startSelection=y,this.selectionsAfter=k}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,g;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(g=this.startSelection)===null||g===void 0?void 0:g.toJSON(),selectionsAfter:this.selectionsAfter.map(y=>y.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,r){let g=none$1;for(let y of e.startState.facet(invertedEffects)){let k=y(e);k.length&&(g=g.concat(k))}return!g.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),g,void 0,r||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(n,e,r,g){let y=e+1>r+20?e-r-1:0,k=n.slice(y,e);return k.push(g),k}function isAdjacent(n,e){let r=[],g=!1;return n.iterChangedRanges((y,k)=>r.push(y,k)),e.iterChangedRanges((y,k,$,V)=>{for(let L=0;L<r.length;){let z=r[L++],j=r[L++];V>=z&&$<=j&&(g=!0)}}),g}function eqSelectionShape(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((r,g)=>r.empty!=e.ranges[g].empty).length===0}function conc(n,e){return n.length?e.length?n.concat(e):n:e}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(n,e){if(n.length){let r=n[n.length-1],g=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-MaxSelectionsPerEvent));return g.length&&g[g.length-1].eq(e)?n:(g.push(e),updateBranch(n,n.length-1,1e9,r.setSelAfter(g)))}else return[HistEvent.selection([e])]}function popSelection(n){let e=n[n.length-1],r=n.slice();return r[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function addMappingToBranch(n,e){if(!n.length)return n;let r=n.length,g=none$1;for(;r;){let y=mapEvent(n[r-1],e,g);if(y.changes&&!y.changes.empty||y.effects.length){let k=n.slice(0,r);return k[r-1]=y,k}else e=y.mapped,r--,g=y.selectionsAfter}return g.length?[HistEvent.selection(g)]:none$1}function mapEvent(n,e,r){let g=conc(n.selectionsAfter.length?n.selectionsAfter.map(V=>V.map(e)):none$1,r);if(!n.changes)return HistEvent.selection(g);let y=n.changes.map(e),k=e.mapDesc(n.changes,!0),$=n.mapped?n.mapped.composeDesc(k):k;return new HistEvent(y,StateEffect.mapEffects(n.effects,e),$,n.startSelection.map(k),g)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,r,g=0,y=void 0){this.done=e,this.undone=r,this.prevTime=g,this.prevUserEvent=y}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,r,g,y,k){let $=this.done,V=$[$.length-1];return V&&V.changes&&!V.changes.empty&&e.changes&&(!g||joinableUserEvent.test(g))&&(!V.selectionsAfter.length&&r-this.prevTime<y.newGroupDelay&&y.joinToEvent(k,isAdjacent(V.changes,e.changes))||g=="input.type.compose")?$=updateBranch($,$.length-1,y.minDepth,new HistEvent(e.changes.compose(V.changes),conc(StateEffect.mapEffects(e.effects,V.changes),V.effects),V.mapped,V.startSelection,none$1)):$=updateBranch($,$.length,y.minDepth,e),new HistoryState($,none$1,r,g)}addSelection(e,r,g,y){let k=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return k.length>0&&r-this.prevTime<y&&g==this.prevUserEvent&&g&&/^select($|\.)/.test(g)&&eqSelectionShape(k[k.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,r,g)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,g){let y=e==0?this.done:this.undone;if(y.length==0)return null;let k=y[y.length-1],$=k.selectionsAfter[0]||r.selection;if(g&&k.selectionsAfter.length)return r.update({selection:k.selectionsAfter[k.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(y),selection:$}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(k.changes){let V=y.length==1?none$1:y.slice(0,y.length-1);return k.mapped&&(V=addMappingToBranch(V,k.mapped)),r.update({changes:k.changes,selection:k.startSelection,effects:k.effects,annotations:fromHistory.of({side:e,rest:V,selection:$}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo$1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo$1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo$1,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(n,e){return EditorSelection.create(n.ranges.map(e),n.mainIndex)}function setSel(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:n,dispatch:e},r){let g=updateSel(n.selection,r);return g.eq(n.selection,!0)?!1:(e(setSel(n,g)),!0)}function rangeEnd(n,e){return EditorSelection.cursor(e?n.to:n.from)}function cursorByChar(n,e){return moveSel(n,r=>r.empty?n.moveByChar(r,e):rangeEnd(r,e))}function ltrAtCursor(n){return n.textDirectionAt(n.state.selection.main.head)==Direction.LTR}const cursorCharLeft=n=>cursorByChar(n,!ltrAtCursor(n)),cursorCharRight=n=>cursorByChar(n,ltrAtCursor(n));function cursorByGroup(n,e){return moveSel(n,r=>r.empty?n.moveByGroup(r,e):rangeEnd(r,e))}const cursorGroupLeft=n=>cursorByGroup(n,!ltrAtCursor(n)),cursorGroupRight=n=>cursorByGroup(n,ltrAtCursor(n));function interestingNode(n,e,r){if(e.type.prop(r))return!0;let g=e.to-e.from;return g&&(g>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(n,e,r){let g=syntaxTree(n).resolveInner(e.head),y=r?NodeProp.closedBy:NodeProp.openedBy;for(let L=e.head;;){let z=r?g.childAfter(L):g.childBefore(L);if(!z)break;interestingNode(n,z,y)?g=z:L=r?z.to:z.from}let k=g.type.prop(y),$,V;return k&&($=r?matchBrackets(n,g.from,1):matchBrackets(n,g.to,-1))&&$.matched?V=r?$.end.to:$.end.from:V=r?g.to:g.from,EditorSelection.cursor(V,r?-1:1)}const cursorSyntaxLeft=n=>moveSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),cursorSyntaxRight=n=>moveSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function cursorByLine(n,e){return moveSel(n,r=>{if(!r.empty)return rangeEnd(r,e);let g=n.moveVertically(r,e);return g.head!=r.head?g:n.moveToLineBoundary(r,e)})}const cursorLineUp=n=>cursorByLine(n,!1),cursorLineDown=n=>cursorByLine(n,!0);function pageInfo(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,g=0,y;if(e){for(let k of n.state.facet(EditorView.scrollMargins)){let $=k(n);$?.top&&(r=Math.max($?.top,r)),$?.bottom&&(g=Math.max($?.bottom,g))}y=n.scrollDOM.clientHeight-r-g}else y=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:g,selfScroll:e,height:Math.max(n.defaultLineHeight,y-5)}}function cursorByPage(n,e){let r=pageInfo(n),{state:g}=n,y=updateSel(g.selection,$=>$.empty?n.moveVertically($,e,r.height):rangeEnd($,e));if(y.eq(g.selection))return!1;let k;if(r.selfScroll){let $=n.coordsAtPos(g.selection.main.head),V=n.scrollDOM.getBoundingClientRect(),L=V.top+r.marginTop,z=V.bottom-r.marginBottom;$&&$.top>L&&$.bottom<z&&(k=EditorView.scrollIntoView(y.main.head,{y:"start",yMargin:$.top-L}))}return n.dispatch(setSel(g,y),{effects:k}),!0}const cursorPageUp=n=>cursorByPage(n,!1),cursorPageDown=n=>cursorByPage(n,!0);function moveByLineBoundary(n,e,r){let g=n.lineBlockAt(e.head),y=n.moveToLineBoundary(e,r);if(y.head==e.head&&y.head!=(r?g.to:g.from)&&(y=n.moveToLineBoundary(e,r,!1)),!r&&y.head==g.from&&g.length){let k=/^\s*/.exec(n.state.sliceDoc(g.from,Math.min(g.from+100,g.to)))[0].length;k&&e.head!=g.from+k&&(y=EditorSelection.cursor(g.from+k))}return y}const cursorLineBoundaryForward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!0)),cursorLineBoundaryBackward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!1)),cursorLineBoundaryLeft=n=>moveSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),cursorLineBoundaryRight=n=>moveSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),cursorLineStart=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from,1)),cursorLineEnd=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to,-1));function toMatchingBracket(n,e,r){let g=!1,y=updateSel(n.selection,k=>{let $=matchBrackets(n,k.head,-1)||matchBrackets(n,k.head,1)||k.head>0&&matchBrackets(n,k.head-1,1)||k.head<n.doc.length&&matchBrackets(n,k.head+1,-1);if(!$||!$.end)return k;g=!0;let V=$.start.from==k.head?$.end.to:$.end.from;return r?EditorSelection.range(k.anchor,V):EditorSelection.cursor(V)});return g?(e(setSel(n,y)),!0):!1}const cursorMatchingBracket=({state:n,dispatch:e})=>toMatchingBracket(n,e,!1);function extendSel(n,e){let r=updateSel(n.state.selection,g=>{let y=e(g);return EditorSelection.range(g.anchor,y.head,y.goalColumn,y.bidiLevel||void 0)});return r.eq(n.state.selection)?!1:(n.dispatch(setSel(n.state,r)),!0)}function selectByChar(n,e){return extendSel(n,r=>n.moveByChar(r,e))}const selectCharLeft=n=>selectByChar(n,!ltrAtCursor(n)),selectCharRight=n=>selectByChar(n,ltrAtCursor(n));function selectByGroup(n,e){return extendSel(n,r=>n.moveByGroup(r,e))}const selectGroupLeft=n=>selectByGroup(n,!ltrAtCursor(n)),selectGroupRight=n=>selectByGroup(n,ltrAtCursor(n)),selectSyntaxLeft=n=>extendSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),selectSyntaxRight=n=>extendSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function selectByLine(n,e){return extendSel(n,r=>n.moveVertically(r,e))}const selectLineUp=n=>selectByLine(n,!1),selectLineDown=n=>selectByLine(n,!0);function selectByPage(n,e){return extendSel(n,r=>n.moveVertically(r,e,pageInfo(n).height))}const selectPageUp=n=>selectByPage(n,!1),selectPageDown=n=>selectByPage(n,!0),selectLineBoundaryForward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!0)),selectLineBoundaryBackward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!1)),selectLineBoundaryLeft=n=>extendSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),selectLineBoundaryRight=n=>extendSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),selectLineStart=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from)),selectLineEnd=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to)),cursorDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:0})),!0),cursorDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.doc.length})),!0),selectDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:0})),!0),selectDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),selectAll=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),selectLine=({state:n,dispatch:e})=>{let r=selectedLineBlocks(n).map(({from:g,to:y})=>EditorSelection.range(g,Math.min(y+1,n.doc.length)));return e(n.update({selection:EditorSelection.create(r),userEvent:"select"})),!0},selectParentSyntax=({state:n,dispatch:e})=>{let r=updateSel(n.selection,g=>{let y=syntaxTree(n),k=y.resolveStack(g.from,1);if(g.empty){let $=y.resolveStack(g.from,-1);$.node.from>=k.node.from&&$.node.to<=k.node.to&&(k=$)}for(let $=k;$;$=$.next){let{node:V}=$;if((V.from<g.from&&V.to>=g.to||V.to>g.to&&V.from<=g.from)&&$.next)return EditorSelection.range(V.to,V.from)}return g});return r.eq(n.selection)?!1:(e(setSel(n,r)),!0)},simplifySelection=({state:n,dispatch:e})=>{let r=n.selection,g=null;return r.ranges.length>1?g=EditorSelection.create([r.main]):r.main.empty||(g=EditorSelection.create([EditorSelection.cursor(r.main.head)])),g?(e(setSel(n,g)),!0):!1};function deleteBy(n,e){if(n.state.readOnly)return!1;let r="delete.selection",{state:g}=n,y=g.changeByRange(k=>{let{from:$,to:V}=k;if($==V){let L=e(k);L<$?(r="delete.backward",L=skipAtomic(n,L,!1)):L>$&&(r="delete.forward",L=skipAtomic(n,L,!0)),$=Math.min($,L),V=Math.max(V,L)}else $=skipAtomic(n,$,!1),V=skipAtomic(n,V,!0);return $==V?{range:k}:{changes:{from:$,to:V},range:EditorSelection.cursor($,$<k.head?-1:1)}});return y.changes.empty?!1:(n.dispatch(g.update(y,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?EditorView.announce.of(g.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(n,e,r){if(n instanceof EditorView)for(let g of n.state.facet(EditorView.atomicRanges).map(y=>y(n)))g.between(e,e,(y,k)=>{y<e&&k>e&&(e=r?k:y)});return e}const deleteByChar=(n,e,r)=>deleteBy(n,g=>{let y=g.from,{state:k}=n,$=k.doc.lineAt(y),V,L;if(r&&!e&&y>$.from&&y<$.from+200&&!/[^ \t]/.test(V=$.text.slice(0,y-$.from))){if(V[V.length-1]=="	")return y-1;let z=countColumn(V,k.tabSize),j=z%getIndentUnit(k)||getIndentUnit(k);for(let re=0;re<j&&V[V.length-1-re]==" ";re++)y--;L=y}else L=findClusterBreak($.text,y-$.from,e,e)+$.from,L==y&&$.number!=(e?k.doc.lines:1)?L+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test($.text.slice(L-$.from,y-$.from))&&(L=findClusterBreak($.text,L-$.from,!1,!1)+$.from);return L}),deleteCharBackward=n=>deleteByChar(n,!1,!0),deleteCharForward=n=>deleteByChar(n,!0,!1),deleteByGroup=(n,e)=>deleteBy(n,r=>{let g=r.head,{state:y}=n,k=y.doc.lineAt(g),$=y.charCategorizer(g);for(let V=null;;){if(g==(e?k.to:k.from)){g==r.head&&k.number!=(e?y.doc.lines:1)&&(g+=e?1:-1);break}let L=findClusterBreak(k.text,g-k.from,e)+k.from,z=k.text.slice(Math.min(g,L)-k.from,Math.max(g,L)-k.from),j=$(z);if(V!=null&&j!=V)break;(z!=" "||g!=r.head)&&(V=j),g=L}return g}),deleteGroupBackward=n=>deleteByGroup(n,!1),deleteGroupForward=n=>deleteByGroup(n,!0),deleteToLineEnd=n=>deleteBy(n,e=>{let r=n.lineBlockAt(e.head).to;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),deleteLineBoundaryForward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),splitLine=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(g=>({changes:{from:g.from,to:g.to,insert:Text.of(["",""])},range:EditorSelection.cursor(g.from)}));return e(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(g=>{if(!g.empty||g.from==0||g.from==n.doc.length)return{range:g};let y=g.from,k=n.doc.lineAt(y),$=y==k.from?y-1:findClusterBreak(k.text,y-k.from,!1)+k.from,V=y==k.to?y+1:findClusterBreak(k.text,y-k.from,!0)+k.from;return{changes:{from:$,to:V,insert:n.doc.slice(y,V).append(n.doc.slice($,y))},range:EditorSelection.cursor(V)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(n){let e=[],r=-1;for(let g of n.selection.ranges){let y=n.doc.lineAt(g.from),k=n.doc.lineAt(g.to);if(!g.empty&&g.to==k.from&&(k=n.doc.lineAt(g.to-1)),r>=y.number){let $=e[e.length-1];$.to=k.to,$.ranges.push(g)}else e.push({from:y.from,to:k.to,ranges:[g]});r=k.number+1}return e}function moveLine(n,e,r){if(n.readOnly)return!1;let g=[],y=[];for(let k of selectedLineBlocks(n)){if(r?k.to==n.doc.length:k.from==0)continue;let $=n.doc.lineAt(r?k.to+1:k.from-1),V=$.length+1;if(r){g.push({from:k.to,to:$.to},{from:k.from,insert:$.text+n.lineBreak});for(let L of k.ranges)y.push(EditorSelection.range(Math.min(n.doc.length,L.anchor+V),Math.min(n.doc.length,L.head+V)))}else{g.push({from:$.from,to:k.from},{from:k.to,insert:n.lineBreak+$.text});for(let L of k.ranges)y.push(EditorSelection.range(L.anchor-V,L.head-V))}}return g.length?(e(n.update({changes:g,scrollIntoView:!0,selection:EditorSelection.create(y,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:n,dispatch:e})=>moveLine(n,e,!1),moveLineDown=({state:n,dispatch:e})=>moveLine(n,e,!0);function copyLine(n,e,r){if(n.readOnly)return!1;let g=[];for(let y of selectedLineBlocks(n))r?g.push({from:y.from,insert:n.doc.slice(y.from,y.to)+n.lineBreak}):g.push({from:y.to,insert:n.lineBreak+n.doc.slice(y.from,y.to)});return e(n.update({changes:g,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:n,dispatch:e})=>copyLine(n,e,!1),copyLineDown=({state:n,dispatch:e})=>copyLine(n,e,!0),deleteLine=n=>{if(n.state.readOnly)return!1;let{state:e}=n,r=e.changes(selectedLineBlocks(e).map(({from:y,to:k})=>(y>0?y--:k<e.doc.length&&k++,{from:y,to:k}))),g=updateSel(e.selection,y=>{let k;if(n.lineWrapping){let $=n.lineBlockAt(y.head),V=n.coordsAtPos(y.head,y.assoc||1);V&&(k=$.bottom+n.documentTop-V.bottom+n.defaultLineHeight/2)}return n.moveVertically(y,!0,k)}).map(r);return n.dispatch({changes:r,selection:g,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=syntaxTree(n).resolveInner(e),g=r.childBefore(e),y=r.childAfter(e),k;return g&&y&&g.to<=e&&y.from>=e&&(k=g.type.prop(NodeProp.closedBy))&&k.indexOf(y.name)>-1&&n.doc.lineAt(g.to).from==n.doc.lineAt(y.from).from&&!/\S/.test(n.sliceDoc(g.to,y.from))?{from:g.to,to:y.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(n){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let g=e.changeByRange(y=>{let{from:k,to:$}=y,V=e.doc.lineAt(k),L=!n&&k==$&&isBetweenBrackets(e,k);n&&(k=$=($<=V.to?V:e.doc.lineAt($)).to);let z=new IndentContext(e,{simulateBreak:k,simulateDoubleBreak:!!L}),j=getIndentation(z,k);for(j==null&&(j=countColumn(/^\s*/.exec(e.doc.lineAt(k).text)[0],e.tabSize));$<V.to&&/\s/.test(V.text[$-V.from]);)$++;L?{from:k,to:$}=L:k>V.from&&k<V.from+100&&!/\S/.test(V.text.slice(0,k))&&(k=V.from);let re=["",indentString(e,j)];return L&&re.push(indentString(e,z.lineIndent(V.from,-1))),{changes:{from:k,to:$,insert:Text.of(re)},range:EditorSelection.cursor(k+1+re[1].length)}});return r(e.update(g,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(n,e){let r=-1;return n.changeByRange(g=>{let y=[];for(let $=g.from;$<=g.to;){let V=n.doc.lineAt($);V.number>r&&(g.empty||g.to>V.from)&&(e(V,y,g),r=V.number),$=V.to+1}let k=n.changes(y);return{changes:y,range:EditorSelection.range(k.mapPos(g.anchor,1),k.mapPos(g.head,1))}})}const indentSelection=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Object.create(null),g=new IndentContext(n,{overrideIndentation:k=>{let $=r[k];return $??-1}}),y=changeBySelectedLine(n,(k,$,V)=>{let L=getIndentation(g,k.from);if(L==null)return;/\S/.test(k.text)||(L=0);let z=/^\s*/.exec(k.text)[0],j=indentString(n,L);(z!=j||V.from<k.from+z.length)&&(r[k.from]=L,$.push({from:k.from,to:k.from+z.length,insert:j}))});return y.changes.empty||e(n.update(y,{userEvent:"indent"})),!0},indentMore=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,g)=>{g.push({from:r.from,insert:n.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,g)=>{let y=/^\s*/.exec(r.text)[0];if(!y)return;let k=countColumn(y,n.tabSize),$=0,V=indentString(n,Math.max(0,k-getIndentUnit(n)));for(;$<y.length&&$<V.length&&y.charCodeAt($)==V.charCodeAt($);)$++;g.push({from:r.from+$,to:r.from+y.length,insert:V.slice($)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=n=>(n.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap);function crelt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var g in r)if(Object.prototype.hasOwnProperty.call(r,g)){var y=r[g];typeof y=="string"?n.setAttribute(g,y):y!=null&&(n[g]=y)}e++}for(;e<arguments.length;e++)add(n,arguments[e]);return n}function add(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)add(n,e[r]);else throw new RangeError("Unsupported child node: "+e)}const basicNormalize=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class SearchCursor{constructor(e,r,g=0,y=e.length,k,$){this.test=$,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(g,y),this.bufferStart=g,this.normalize=k?V=>k(basicNormalize(V)):basicNormalize,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt$1(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=fromCodePoint(e),g=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let y=this.normalize(r);if(y.length)for(let k=0,$=g;;k++){let V=y.charCodeAt(k),L=this.match(V,$,this.bufferPos+this.bufferStart);if(k==y.length-1){if(L)return this.value=L,this;break}$==g&&k<r.length&&r.charCodeAt(k)==V&&$++}}}match(e,r,g){let y=null;for(let k=0;k<this.matches.length;k+=2){let $=this.matches[k],V=!1;this.query.charCodeAt($)==e&&($==this.query.length-1?y={from:this.matches[k+1],to:g}:(this.matches[k]++,V=!0)),V||(this.matches.splice(k,2),k-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?y={from:r,to:g}:this.matches.push(1,r)),y&&this.test&&!this.test(y.from,y.to,this.buffer,this.bufferStart)&&(y=null),y}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,r,g,y=0,k=e.length){if(this.text=e,this.to=k,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new MultilineRegExpCursor(e,r,g,y,k);this.re=new RegExp(r,baseFlags+(g?.ignoreCase?"i":"")),this.test=g?.test,this.iter=e.iter();let $=e.lineAt(y);this.curLineStart=$.from,this.matchPos=toCharEnd(e,y),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let g=this.curLineStart+r.index,y=g+r[0].length;if(this.matchPos=toCharEnd(this.text,y+(g==y?1:0)),g==this.curLineStart+this.curLine.length&&this.nextLine(),(g<y||g>this.value.to)&&(!this.test||this.test(g,y,r)))return this.value={from:g,to:y,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,g){let y=flattened.get(e);if(!y||y.from>=g||y.to<=r){let V=new FlattenedDoc(r,e.sliceString(r,g));return flattened.set(e,V),V}if(y.from==r&&y.to==g)return y;let{text:k,from:$}=y;return $>r&&(k=e.sliceString(r,$)+k,$=r),y.to<g&&(k+=e.sliceString(y.to,g)),flattened.set(e,new FlattenedDoc($,k)),new FlattenedDoc(r,k.slice(r-$,g-$))}}class MultilineRegExpCursor{constructor(e,r,g,y,k){this.text=e,this.to=k,this.done=!1,this.value=empty,this.matchPos=toCharEnd(e,y),this.re=new RegExp(r,baseFlags+(g?.ignoreCase?"i":"")),this.test=g?.test,this.flat=FlattenedDoc.get(e,y,this.chunkEnd(y+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let g=this.flat.from+r.index,y=g+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(g,y,r)))return this.value={from:g,to:y,match:r},this.matchPos=toCharEnd(this.text,y+(g==y?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(n){try{return new RegExp(n,baseFlags),!0}catch{return!1}}function toCharEnd(n,e){if(e>=n.length)return e;let r=n.lineAt(e),g;for(;e<r.to&&(g=r.text.charCodeAt(e-r.from))>=56320&&g<57344;)e++;return e}function createLineDialog(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),r=crelt("input",{class:"cm-textfield",name:"line",value:e}),g=crelt("form",{class:"cm-gotoLine",onkeydown:k=>{k.keyCode==27?(k.preventDefault(),n.dispatch({effects:dialogEffect.of(!1)}),n.focus()):k.keyCode==13&&(k.preventDefault(),y())},onsubmit:k=>{k.preventDefault(),y()}},crelt("label",n.state.phrase("Go to line"),": ",r)," ",crelt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function y(){let k=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!k)return;let{state:$}=n,V=$.doc.lineAt($.selection.main.head),[,L,z,j,re]=k,oe=j?+j.slice(1):0,ae=z?+z:V.number;if(z&&re){let pe=ae/100;L&&(pe=pe*(L=="-"?-1:1)+V.number/$.doc.lines),ae=Math.round($.doc.lines*pe)}else z&&L&&(ae=ae*(L=="-"?-1:1)+V.number);let de=$.doc.line(Math.max(1,Math.min($.doc.lines,ae))),ue=EditorSelection.cursor(de.from+Math.max(0,Math.min(oe,de.length)));n.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(ue.from,{y:"center"})],selection:ue}),n.focus()}return{dom:g}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(n,e){for(let r of e.effects)r.is(dialogEffect)&&(n=r.value);return n},provide:n=>showPanel.from(n,e=>e?createLineDialog:null)}),gotoLine=n=>{let e=getPanel(n,createLineDialog);if(!e){let r=[dialogEffect.of(!0)];n.state.field(dialogField,!1)==null&&r.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),n.dispatch({effects:r}),e=getPanel(n,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(n){return combineConfig(n,defaultHighlightOptions,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(n){let e=[defaultTheme,matchHighlighter];return n&&e.push(highlightConfig.of(n)),e}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(n,e,r,g){return(r==0||n(e.sliceDoc(r-1,r))!=CharCategory.Word)&&(g==e.doc.length||n(e.sliceDoc(g,g+1))!=CharCategory.Word)}function insideWord(n,e,r,g){return n(e.sliceDoc(r,r+1))==CharCategory.Word&&n(e.sliceDoc(g-1,g))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(highlightConfig),{state:r}=n,g=r.selection;if(g.ranges.length>1)return Decoration.none;let y=g.main,k,$=null;if(y.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let L=r.wordAt(y.head);if(!L)return Decoration.none;$=r.charCategorizer(y.head),k=r.sliceDoc(L.from,L.to)}else{let L=y.to-y.from;if(L<e.minSelectionLength||L>200)return Decoration.none;if(e.wholeWords){if(k=r.sliceDoc(y.from,y.to),$=r.charCategorizer(y.head),!(insideWordBoundaries($,r,y.from,y.to)&&insideWord($,r,y.from,y.to)))return Decoration.none}else if(k=r.sliceDoc(y.from,y.to),!k)return Decoration.none}let V=[];for(let L of n.visibleRanges){let z=new SearchCursor(r.doc,k,L.from,L.to);for(;!z.next().done;){let{from:j,to:re}=z.value;if((!$||insideWordBoundaries($,r,j,re))&&(y.empty&&j<=y.from&&re>=y.to?V.push(mainMatchDeco.range(j,re)):(j>=y.to||re<=y.from)&&V.push(matchDeco.range(j,re)),V.length>e.maxMatches))return Decoration.none}}return Decoration.set(V)}},{decorations:n=>n.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:n,dispatch:e})=>{let{selection:r}=n,g=EditorSelection.create(r.ranges.map(y=>n.wordAt(y.head)||EditorSelection.cursor(y.head)),r.mainIndex);return g.eq(r)?!1:(e(n.update({selection:g})),!0)};function findNextOccurrence(n,e){let{main:r,ranges:g}=n.selection,y=n.wordAt(r.head),k=y&&y.from==r.from&&y.to==r.to;for(let $=!1,V=new SearchCursor(n.doc,e,g[g.length-1].to);;)if(V.next(),V.done){if($)return null;V=new SearchCursor(n.doc,e,0,Math.max(0,g[g.length-1].from-1)),$=!0}else{if($&&g.some(L=>L.from==V.value.from))continue;if(k){let L=n.wordAt(V.value.from);if(!L||L.from!=V.value.from||L.to!=V.value.to)continue}return V.value}}const selectNextOccurrence=({state:n,dispatch:e})=>{let{ranges:r}=n.selection;if(r.some(k=>k.from===k.to))return selectWord({state:n,dispatch:e});let g=n.sliceDoc(r[0].from,r[0].to);if(n.selection.ranges.some(k=>n.sliceDoc(k.from,k.to)!=g))return!1;let y=findNextOccurrence(n,g);return y?(e(n.update({selection:n.selection.addRange(EditorSelection.range(y.from,y.to),!1),effects:EditorView.scrollIntoView(y.to)})),!0):!1},searchConfigFacet=Facet.define({combine(n){return combineConfig(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,g)=>g=="n"?`
`:g=="r"?"\r":g=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,r=0,g){let y=e.doc?e:EditorState.create({doc:e});return g==null&&(g=y.doc.length),this.regexp?regexpCursor(this,y,r,g):stringCursor(this,y,r,g)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(n,e,r,g){return new SearchCursor(e.doc,n.unquoted,r,g,n.caseSensitive?void 0:y=>y.toLowerCase(),n.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(n,e){return(r,g,y,k)=>((k>r||k+y.length<g)&&(k=Math.max(0,r-2),y=n.sliceString(k,Math.min(n.length,g+2))),(e(charBefore(y,r-k))!=CharCategory.Word||e(charAfter(y,r-k))!=CharCategory.Word)&&(e(charAfter(y,g-k))!=CharCategory.Word||e(charBefore(y,g-k))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,r,g){let y=stringCursor(this.spec,e,g,e.doc.length).nextOverlapping();if(y.done){let k=Math.min(e.doc.length,r+this.spec.unquoted.length);y=stringCursor(this.spec,e,0,k).nextOverlapping()}return y.done||y.value.from==r&&y.value.to==g?null:y.value}prevMatchInRange(e,r,g){for(let y=g;;){let k=Math.max(r,y-1e4-this.spec.unquoted.length),$=stringCursor(this.spec,e,k,y),V=null;for(;!$.nextOverlapping().done;)V=$.value;if(V)return V;if(k==r)return null;y-=1e4}}prevMatch(e,r,g){let y=this.prevMatchInRange(e,0,r);return y||(y=this.prevMatchInRange(e,Math.max(0,g-this.spec.unquoted.length),e.doc.length)),y&&(y.from!=r||y.to!=g)?y:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let g=stringCursor(this.spec,e,0,e.doc.length),y=[];for(;!g.next().done;){if(y.length>=r)return null;y.push(g.value)}return y}highlight(e,r,g,y){let k=stringCursor(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(g+this.spec.unquoted.length,e.doc.length));for(;!k.next().done;)y(k.value.from,k.value.to)}}function regexpCursor(n,e,r,g){return new RegExpCursor(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},r,g)}function charBefore(n,e){return n.slice(findClusterBreak(n,e,!1),e)}function charAfter(n,e){return n.slice(e,findClusterBreak(n,e))}function regexpWordTest(n){return(e,r,g)=>!g[0].length||(n(charBefore(g.input,g.index))!=CharCategory.Word||n(charAfter(g.input,g.index))!=CharCategory.Word)&&(n(charAfter(g.input,g.index+g[0].length))!=CharCategory.Word||n(charBefore(g.input,g.index+g[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,r,g){let y=regexpCursor(this.spec,e,g,e.doc.length).next();return y.done&&(y=regexpCursor(this.spec,e,0,r).next()),y.done?null:y.value}prevMatchInRange(e,r,g){for(let y=1;;y++){let k=Math.max(r,g-y*1e4),$=regexpCursor(this.spec,e,k,g),V=null;for(;!$.next().done;)V=$.value;if(V&&(k==r||V.from>k+10))return V;if(k==r)return null}}prevMatch(e,r,g){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,g,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,g)=>g=="$"?"$":g=="&"?e.match[0]:g!="0"&&+g<e.match.length?e.match[g]:r)}matchAll(e,r){let g=regexpCursor(this.spec,e,0,e.doc.length),y=[];for(;!g.next().done;){if(y.length>=r)return null;y.push(g.value)}return y}highlight(e,r,g,y){let k=regexpCursor(this.spec,e,Math.max(0,r-250),Math.min(g+250,e.doc.length));for(;!k.next().done;)y(k.value.from,k.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(n){return new SearchState(defaultQuery(n).create(),null)},update(n,e){for(let r of e.effects)r.is(setSearchQuery)?n=new SearchState(r.value.create(),n.panel):r.is(togglePanel$1)&&(n=new SearchState(n.query,r.value?createSearchPanel:null));return n},provide:n=>showPanel.from(n,e=>e.panel)});class SearchState{constructor(e,r){this.query=e,this.panel=r}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(searchState))}update(n){let e=n.state.field(searchState);(e!=n.startState.field(searchState)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Decoration.none;let{view:r}=this,g=new RangeSetBuilder;for(let y=0,k=r.visibleRanges,$=k.length;y<$;y++){let{from:V,to:L}=k[y];for(;y<$-1&&L>k[y+1].from-2*250;)L=k[++y].to;n.highlight(r.state,V,L,(z,j)=>{let re=r.state.selection.ranges.some(oe=>oe.from==z&&oe.to==j);g.add(z,j,re?selectedMatchMark:matchMark)})}return g.finish()}},{decorations:n=>n.decorations});function searchCommand(n){return e=>{let r=e.state.field(searchState,!1);return r&&r.query.spec.valid?n(e,r):openSearchPanel(e)}}const findNext=searchCommand((n,{query:e})=>{let{to:r}=n.state.selection.main,g=e.nextMatch(n.state,r,r);if(!g)return!1;let y=EditorSelection.single(g.from,g.to),k=n.state.facet(searchConfigFacet);return n.dispatch({selection:y,effects:[announceMatch(n,g),k.scrollToMatch(y.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),findPrevious=searchCommand((n,{query:e})=>{let{state:r}=n,{from:g}=r.selection.main,y=e.prevMatch(r,g,g);if(!y)return!1;let k=EditorSelection.single(y.from,y.to),$=n.state.facet(searchConfigFacet);return n.dispatch({selection:k,effects:[announceMatch(n,y),$.scrollToMatch(k.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),selectMatches=searchCommand((n,{query:e})=>{let r=e.matchAll(n.state,1e3);return!r||!r.length?!1:(n.dispatch({selection:EditorSelection.create(r.map(g=>EditorSelection.range(g.from,g.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:n,dispatch:e})=>{let r=n.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:g,to:y}=r.main,k=[],$=0;for(let V=new SearchCursor(n.doc,n.sliceDoc(g,y));!V.next().done;){if(k.length>1e3)return!1;V.value.from==g&&($=k.length),k.push(EditorSelection.range(V.value.from,V.value.to))}return e(n.update({selection:EditorSelection.create(k,$),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((n,{query:e})=>{let{state:r}=n,{from:g,to:y}=r.selection.main;if(r.readOnly)return!1;let k=e.nextMatch(r,g,g);if(!k)return!1;let $=k,V=[],L,z,j=[];if($.from==g&&$.to==y&&(z=r.toText(e.getReplacement($)),V.push({from:$.from,to:$.to,insert:z}),$=e.nextMatch(r,$.from,$.to),j.push(EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(g).number)+"."))),$){let re=V.length==0||V[0].from>=k.to?0:k.to-k.from-z.length;L=EditorSelection.single($.from-re,$.to-re),j.push(announceMatch(n,$)),j.push(r.facet(searchConfigFacet).scrollToMatch(L.main,n))}return n.dispatch({changes:V,selection:L,effects:j,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((n,{query:e})=>{if(n.state.readOnly)return!1;let r=e.matchAll(n.state,1e9).map(y=>{let{from:k,to:$}=y;return{from:k,to:$,insert:e.getReplacement(y)}});if(!r.length)return!1;let g=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:EditorView.announce.of(g),userEvent:"input.replace.all"}),!0});function createSearchPanel(n){return n.state.facet(searchConfigFacet).createPanel(n)}function defaultQuery(n,e){var r,g,y,k,$;let V=n.selection.main,L=V.empty||V.to>V.from+100?"":n.sliceDoc(V.from,V.to);if(e&&!L)return e;let z=n.facet(searchConfigFacet);return new SearchQuery({search:((r=e?.literal)!==null&&r!==void 0?r:z.literal)?L:L.replace(/\n/g,"\\n"),caseSensitive:(g=e?.caseSensitive)!==null&&g!==void 0?g:z.caseSensitive,literal:(y=e?.literal)!==null&&y!==void 0?y:z.literal,regexp:(k=e?.regexp)!==null&&k!==void 0?k:z.regexp,wholeWord:($=e?.wholeWord)!==null&&$!==void 0?$:z.wholeWord})}function getSearchInput(n){let e=getPanel(n,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(n){let e=getSearchInput(n);e&&e==n.root.activeElement&&e.select()}const openSearchPanel=n=>{let e=n.state.field(searchState,!1);if(e&&e.panel){let r=getSearchInput(n);if(r&&r!=n.root.activeElement){let g=defaultQuery(n.state,e.query.spec);g.valid&&n.dispatch({effects:setSearchQuery.of(g)}),r.focus(),r.select()}}else n.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(n.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=n=>{let e=n.state.field(searchState,!1);if(!e||!e.panel)return!1;let r=getPanel(n,createSearchPanel);return r&&r.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let r=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:r.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:r.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function g(y,k,$){return crelt("button",{class:"cm-button",name:y,onclick:k,type:"button"},$)}this.dom=crelt("div",{onkeydown:y=>this.keydown(y),class:"cm-search"},[this.searchField,g("next",()=>findNext(e),[phrase(e,"next")]),g("prev",()=>findPrevious(e),[phrase(e,"previous")]),g("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,g("replace",()=>replaceNext(e),[phrase(e,"replace")]),g("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let r of e.transactions)for(let g of r.effects)g.is(setSearchQuery)&&!g.value.eq(this.query)&&this.setQuery(g.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(n,e){return n.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(n,{from:e,to:r}){let g=n.state.doc.lineAt(e),y=n.state.doc.lineAt(r).to,k=Math.max(g.from,e-AnnounceMargin),$=Math.min(y,r+AnnounceMargin),V=n.state.sliceDoc(k,$);if(k!=g.from){for(let L=0;L<AnnounceMargin;L++)if(!Break.test(V[L+1])&&Break.test(V[L])){V=V.slice(L);break}}if($!=y){for(let L=V.length-1;L>V.length-AnnounceMargin;L--)if(!Break.test(V[L-1])&&Break.test(V[L])){V=V.slice(0,L);break}}return EditorView.announce.of(`${n.state.phrase("current match")}. ${V} ${n.state.phrase("on line")} ${g.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,r,g,y){this.state=e,this.pos=r,this.explicit=g,this.view=y,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=syntaxTree(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),g=Math.max(r.from,this.pos-250),y=r.text.slice(g-r.from,this.pos-r.from),k=y.search(ensureAnchor(e,!1));return k<0?null:{from:g+k,to:this.pos,text:y.slice(k)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,g){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),g&&g.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(n){let e=Object.keys(n).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(n){let e=Object.create(null),r=Object.create(null);for(let{label:y}of n){e[y[0]]=!0;for(let k=1;k<y.length;k++)r[y[k]]=!0}let g=toSet(e)+toSet(r)+"*$";return[new RegExp("^"+g),new RegExp(g)]}function completeFromList(n){let e=n.map(y=>typeof y=="string"?{label:y}:y),[r,g]=e.every(y=>/^\w+$/.test(y.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return y=>{let k=y.matchBefore(g);return k||y.explicit?{from:k?k.from:y.pos,options:e,validFor:r}:null}}function ifNotIn(n,e){return r=>{for(let g=syntaxTree(r.state).resolveInner(r.pos,-1);g;g=g.parent){if(n.indexOf(g.name)>-1)return null;if(g.type.isTop)break}return e(r)}}class Option{constructor(e,r,g,y){this.completion=e,this.source=r,this.match=g,this.score=y}}function cur(n){return n.selection.main.from}function ensureAnchor(n,e){var r;let{source:g}=n,y=e&&g[0]!="^",k=g[g.length-1]!="$";return!y&&!k?n:new RegExp(`${y?"^":""}(?:${g})${k?"$":""}`,(r=n.flags)!==null&&r!==void 0?r:n.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(n,e,r,g){let{main:y}=n.selection,k=r-y.from,$=g-y.from;return Object.assign(Object.assign({},n.changeByRange(V=>{if(V!=y&&r!=g&&n.sliceDoc(V.from+k,V.from+$)!=n.sliceDoc(r,g))return{range:V};let L=n.toText(e);return{changes:{from:V.from+k,to:g==y.from?V.to:V.from+$,insert:L},range:EditorSelection.cursor(V.from+k+L.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(n){if(!Array.isArray(n))return n;let e=SourceCache.get(n);return e||SourceCache.set(n,e=completeFromList(n)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let g=codePointAt$1(e,r),y=codePointSize(g);this.chars.push(g);let k=e.slice(r,r+y),$=k.toUpperCase();this.folded.push(codePointAt$1($==k?k.toLowerCase():$,0)),r+=y}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:g,any:y,precise:k,byWord:$}=this;if(r.length==1){let xe=codePointAt$1(e,0),$e=codePointSize(xe),Ne=$e==e.length?0:-100;if(xe!=r[0])if(xe==g[0])Ne+=-200;else return null;return this.ret(Ne,[0,$e])}let V=e.indexOf(this.pattern);if(V==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let L=r.length,z=0;if(V<0){for(let xe=0,$e=Math.min(e.length,200);xe<$e&&z<L;){let Ne=codePointAt$1(e,xe);(Ne==r[z]||Ne==g[z])&&(y[z++]=xe),xe+=codePointSize(Ne)}if(z<L)return null}let j=0,re=0,oe=!1,ae=0,de=-1,ue=-1,pe=/[a-z]/.test(e),he=!0;for(let xe=0,$e=Math.min(e.length,200),Ne=0;xe<$e&&re<L;){let Oe=codePointAt$1(e,xe);V<0&&(j<L&&Oe==r[j]&&(k[j++]=xe),ae<L&&(Oe==r[ae]||Oe==g[ae]?(ae==0&&(de=xe),ue=xe+1,ae++):ae=0));let _e,Fe=Oe<255?Oe>=48&&Oe<=57||Oe>=97&&Oe<=122?2:Oe>=65&&Oe<=90?1:0:(_e=fromCodePoint(Oe))!=_e.toLowerCase()?1:_e!=_e.toUpperCase()?2:0;(!xe||Fe==1&&pe||Ne==0&&Fe!=0)&&(r[re]==Oe||g[re]==Oe&&(oe=!0)?$[re++]=xe:$.length&&(he=!1)),Ne=Fe,xe+=codePointSize(Oe)}return re==L&&$[0]==0&&he?this.result(-100+(oe?-200:0),$,e):ae==L&&de==0?this.ret(-200-e.length+(ue==e.length?0:-100),[0,ue]):V>-1?this.ret(-700-e.length,[V,V+this.pattern.length]):ae==L?this.ret(-900-e.length,[de,ue]):re==L?this.result(-100+(oe?-200:0)+-700+(he?0:-1100),$,e):r.length==2?null:this.result((y[0]?-700:0)+-200+-1100,y,e)}result(e,r,g){let y=[],k=0;for(let $ of r){let V=$+(this.astral?codePointSize(codePointAt$1(g,$)):1);k&&y[k-1]==$?y[k-1]=V:(y[k++]=$,y[k++]=V)}return this.ret(e-g.length,y)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),g=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return g==null?null:(this.matched=[0,r.length],this.score=g+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(n){return combineConfig(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>g=>joinClass(e(g),r(g)),optionClass:(e,r)=>g=>joinClass(e(g),r(g)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function joinClass(n,e){return n?e?n+" "+e:n:e}function defaultPositionInfo(n,e,r,g,y,k){let $=n.textDirection==Direction.RTL,V=$,L=!1,z="top",j,re,oe=e.left-y.left,ae=y.right-e.right,de=g.right-g.left,ue=g.bottom-g.top;if(V&&oe<Math.min(de,ae)?V=!1:!V&&ae<Math.min(de,oe)&&(V=!0),de<=(V?oe:ae))j=Math.max(y.top,Math.min(r.top,y.bottom-ue))-e.top,re=Math.min(400,V?oe:ae);else{L=!0,re=Math.min(400,($?e.right:y.right-e.left)-30);let xe=y.bottom-e.bottom;xe>=ue||xe>e.top?j=r.bottom-e.top:(z="bottom",j=e.bottom-r.top)}let pe=(e.bottom-e.top)/k.offsetHeight,he=(e.right-e.left)/k.offsetWidth;return{style:`${z}: ${j/pe}px; max-width: ${re/he}px`,class:"cm-completionInfo-"+(L?$?"left-narrow":"right-narrow":V?"left":"right")}}function optionContent(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(r){let g=document.createElement("div");return g.classList.add("cm-completionIcon"),r.type&&g.classList.add(...r.type.split(/\s+/g).map(y=>"cm-completionIcon-"+y)),g.setAttribute("aria-hidden","true"),g},position:20}),e.push({render(r,g,y,k){let $=document.createElement("span");$.className="cm-completionLabel";let V=r.displayLabel||r.label,L=0;for(let z=0;z<k.length;){let j=k[z++],re=k[z++];j>L&&$.appendChild(document.createTextNode(V.slice(L,j)));let oe=$.appendChild(document.createElement("span"));oe.appendChild(document.createTextNode(V.slice(j,re))),oe.className="cm-completionMatchedText",L=re}return L<V.length&&$.appendChild(document.createTextNode(V.slice(L))),$},position:50},{render(r){if(!r.detail)return null;let g=document.createElement("span");return g.className="cm-completionDetail",g.textContent=r.detail,g},position:80}),e.sort((r,g)=>r.position-g.position).map(r=>r.render)}function rangeAroundSelected(n,e,r){if(n<=r)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let y=Math.floor(e/r);return{from:y*r,to:(y+1)*r}}let g=Math.floor((n-e)/r);return{from:n-(g+1)*r,to:n-g*r}}class CompletionTooltip{constructor(e,r,g){this.view=e,this.stateField=r,this.applyCompletion=g,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:L=>this.placeInfo(L),key:this},this.space=null,this.currentClass="";let y=e.state.field(r),{options:k,selected:$}=y.open,V=e.state.facet(completionConfig);this.optionContent=optionContent(V),this.optionClass=V.optionClass,this.tooltipClass=V.tooltipClass,this.range=rangeAroundSelected(k.length,$,V.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",L=>{let{options:z}=e.state.field(r).open;for(let j=L.target,re;j&&j!=this.dom;j=j.parentNode)if(j.nodeName=="LI"&&(re=/-(\d+)$/.exec(j.id))&&+re[1]<z.length){this.applyCompletion(e,z[+re[1]]),L.preventDefault();return}}),this.dom.addEventListener("focusout",L=>{let z=e.state.field(this.stateField,!1);z&&z.tooltip&&e.state.facet(completionConfig).closeOnBlur&&L.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(k,y.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let g=e.state.field(this.stateField),y=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),g!=y){let{options:k,selected:$,disabled:V}=g.open;(!y.open||y.open.options!=k)&&(this.range=rangeAroundSelected(k.length,$,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(k,g.id)),this.updateSel(),V!=((r=y.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!V)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let g of this.currentClass.split(" "))g&&this.dom.classList.remove(g);for(let g of r.split(" "))g&&this.dom.classList.add(g);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=rangeAroundSelected(r.options.length,r.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:g}=r.options[r.selected],{info:y}=g;if(!y)return;let k=typeof y=="string"?document.createTextNode(y):y(g);if(!k)return;"then"in k?k.then($=>{$&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane($,g)}).catch($=>logException(this.view.state,$,"completion info")):this.addInfoPane(k,g)}}addInfoPane(e,r){this.destroyInfo();let g=this.info=document.createElement("div");if(g.className="cm-tooltip cm-completionInfo",e.nodeType!=null)g.appendChild(e),this.infoDestroy=null;else{let{dom:y,destroy:k}=e;g.appendChild(y),this.infoDestroy=k||null}this.dom.appendChild(g),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let g=this.list.firstChild,y=this.range.from;g;g=g.nextSibling,y++)g.nodeName!="LI"||!g.id?y--:y==e?g.hasAttribute("aria-selected")||(g.setAttribute("aria-selected","true"),r=g):g.hasAttribute("aria-selected")&&g.removeAttribute("aria-selected");return r&&scrollIntoView(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),g=this.info.getBoundingClientRect(),y=e.getBoundingClientRect(),k=this.space;if(!k){let $=this.dom.ownerDocument.defaultView||window;k={left:0,top:0,right:$.innerWidth,bottom:$.innerHeight}}return y.top>Math.min(k.bottom,r.bottom)-10||y.bottom<Math.max(k.top,r.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,r,y,g,k,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,g){const y=document.createElement("ul");y.id=r,y.setAttribute("role","listbox"),y.setAttribute("aria-expanded","true"),y.setAttribute("aria-label",this.view.state.phrase("Completions"));let k=null;for(let $=g.from;$<g.to;$++){let{completion:V,match:L}=e[$],{section:z}=V;if(z){let oe=typeof z=="string"?z:z.name;if(oe!=k&&($>g.from||g.from==0))if(k=oe,typeof z!="string"&&z.header)y.appendChild(z.header(z));else{let ae=y.appendChild(document.createElement("completion-section"));ae.textContent=oe}}const j=y.appendChild(document.createElement("li"));j.id=r+"-"+$,j.setAttribute("role","option");let re=this.optionClass(V);re&&(j.className=re);for(let oe of this.optionContent){let ae=oe(V,this.view.state,this.view,L);ae&&j.appendChild(ae)}}return g.from&&y.classList.add("cm-completionListIncompleteTop"),g.to<e.length&&y.classList.add("cm-completionListIncompleteBottom"),y}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(n,e){return r=>new CompletionTooltip(r,n,e)}function scrollIntoView(n,e){let r=n.getBoundingClientRect(),g=e.getBoundingClientRect(),y=r.height/n.offsetHeight;g.top<r.top?n.scrollTop-=(r.top-g.top)/y:g.bottom>r.bottom&&(n.scrollTop+=(g.bottom-r.bottom)/y)}function score(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function sortOptions(n,e){let r=[],g=null,y=z=>{r.push(z);let{section:j}=z.completion;if(j){g||(g=[]);let re=typeof j=="string"?j:j.name;g.some(oe=>oe.name==re)||g.push(typeof j=="string"?{name:re}:j)}},k=e.facet(completionConfig);for(let z of n)if(z.hasResult()){let j=z.result.getMatch;if(z.result.filter===!1)for(let re of z.result.options)y(new Option(re,z.source,j?j(re):[],1e9-r.length));else{let re=e.sliceDoc(z.from,z.to),oe,ae=k.filterStrict?new StrictMatcher(re):new FuzzyMatcher(re);for(let de of z.result.options)if(oe=ae.match(de.label)){let ue=de.displayLabel?j?j(de,oe.matched):[]:oe.matched;y(new Option(de,z.source,ue,oe.score+(de.boost||0)))}}}if(g){let z=Object.create(null),j=0,re=(oe,ae)=>{var de,ue;return((de=oe.rank)!==null&&de!==void 0?de:1e9)-((ue=ae.rank)!==null&&ue!==void 0?ue:1e9)||(oe.name<ae.name?-1:1)};for(let oe of g.sort(re))j-=1e5,z[oe.name]=j;for(let oe of r){let{section:ae}=oe.completion;ae&&(oe.score+=z[typeof ae=="string"?ae:ae.name])}}let $=[],V=null,L=k.compareCompletions;for(let z of r.sort((j,re)=>re.score-j.score||L(j.completion,re.completion))){let j=z.completion;!V||V.label!=j.label||V.detail!=j.detail||V.type!=null&&j.type!=null&&V.type!=j.type||V.apply!=j.apply||V.boost!=j.boost?$.push(z):score(z.completion)>score(V)&&($[$.length-1]=z),V=z.completion}return $}class CompletionDialog{constructor(e,r,g,y,k,$){this.options=e,this.attrs=r,this.tooltip=g,this.timestamp=y,this.selected=k,this.disabled=$}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,g,y,k,$){if(y&&!$&&e.some(z=>z.isPending))return y.setDisabled();let V=sortOptions(e,r);if(!V.length)return y&&e.some(z=>z.isPending)?y.setDisabled():null;let L=r.facet(completionConfig).selectOnOpen?0:-1;if(y&&y.selected!=L&&y.selected!=-1){let z=y.options[y.selected].completion;for(let j=0;j<V.length;j++)if(V[j].completion==z){L=j;break}}return new CompletionDialog(V,makeAttrs(g,L),{pos:e.reduce((z,j)=>j.hasResult()?Math.min(z,j.from):z,1e8),create:createTooltip,above:k.aboveCursor},y?y.timestamp:Date.now(),L,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,r,g){this.active=e,this.id=r,this.open=g}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,g=r.facet(completionConfig),k=(g.override||r.languageDataAt("autocomplete",cur(r)).map(asSource)).map(L=>(this.active.find(j=>j.source==L)||new ActiveSource(L,this.active.some(j=>j.state!=0)?1:0)).update(e,g));k.length==this.active.length&&k.every((L,z)=>L==this.active[z])&&(k=this.active);let $=this.open,V=e.effects.some(L=>L.is(setActiveEffect));$&&e.docChanged&&($=$.map(e.changes)),e.selection||k.some(L=>L.hasResult()&&e.changes.touchesRange(L.from,L.to))||!sameResults(k,this.active)||V?$=CompletionDialog.build(k,r,this.id,$,g,V):$&&$.disabled&&!k.some(L=>L.isPending)&&($=null),!$&&k.every(L=>!L.isPending)&&k.some(L=>L.hasResult())&&(k=k.map(L=>L.hasResult()?new ActiveSource(L.source,0):L));for(let L of e.effects)L.is(setSelectedEffect)&&($=$&&$.setSelected(L.value,this.id));return k==this.active&&$==this.open?this:new CompletionState(k,this.id,$)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(n,e){if(n==e)return!0;for(let r=0,g=0;;){for(;r<n.length&&!n[r].hasResult();)r++;for(;g<e.length&&!e[g].hasResult();)g++;let y=r==n.length,k=g==e.length;if(y||k)return y==k;if(n[r++].result!=e[g++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(n,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(r["aria-activedescendant"]=n+"-"+e),r}const none=[];function getUpdateType(n,e){if(n.isUserEvent("input.complete")){let g=n.annotation(pickedCompletion);if(g&&e.activateOnCompletion(g))return 12}let r=n.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ActiveSource{constructor(e,r,g=!1){this.source=e,this.state=r,this.explicit=g}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let g=getUpdateType(e,r),y=this;(g&8||g&16&&this.touches(e))&&(y=new ActiveSource(y.source,0)),g&4&&y.state==0&&(y=new ActiveSource(this.source,1)),y=y.updateFor(e,g);for(let k of e.effects)if(k.is(startCompletionEffect))y=new ActiveSource(y.source,1,k.value);else if(k.is(closeCompletionEffect))y=new ActiveSource(y.source,0);else if(k.is(setActiveEffect))for(let $ of k.value)$.source==y.source&&(y=$);return y}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,r,g,y,k,$){super(e,3,r),this.limit=g,this.result=y,this.from=k,this.to=$}hasResult(){return!0}updateFor(e,r){var g;if(!(r&3))return this.map(e.changes);let y=this.result;y.map&&!e.changes.empty&&(y=y.map(y,e.changes));let k=e.changes.mapPos(this.from),$=e.changes.mapPos(this.to,1),V=cur(e.state);if(V>$||!y||r&2&&(cur(e.startState)==this.from||V<this.limit))return new ActiveSource(this.source,r&4?1:0);let L=e.changes.mapPos(this.limit);return checkValid(y.validFor,e.state,k,$)?new ActiveResult(this.source,this.explicit,L,y,k,$):y.update&&(y=y.update(y,k,$,new CompletionContext(e.state,V,!1)))?new ActiveResult(this.source,this.explicit,L,y,y.from,(g=y.to)!==null&&g!==void 0?g:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(n,e,r,g){if(!n)return!1;let y=e.sliceDoc(r,g);return typeof n=="function"?n(y,r,g,e):ensureAnchor(n,!0).test(y)}const setActiveEffect=StateEffect.define({map(n,e){return n.map(r=>r.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(n,e){return n.update(e)},provide:n=>[showTooltip.from(n,e=>e.tooltip),EditorView.contentAttributes.from(n,e=>e.attrs)]});function applyCompletion(n,e){const r=e.completion.apply||e.completion.label;let g=n.state.field(completionState).active.find(y=>y.source==e.source);return g instanceof ActiveResult?(typeof r=="string"?n.dispatch(Object.assign(Object.assign({},insertCompletionText(n.state,r,g.from,g.to)),{annotations:pickedCompletion.of(e.completion)})):r(n,e.completion,g.from,g.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(n,e="option"){return r=>{let g=r.state.field(completionState,!1);if(!g||!g.open||g.open.disabled||Date.now()-g.open.timestamp<r.state.facet(completionConfig).interactionDelay)return!1;let y=1,k;e=="page"&&(k=getTooltip(r,g.open.tooltip))&&(y=Math.max(2,Math.floor(k.dom.offsetHeight/k.dom.querySelector("li").offsetHeight)-1));let{length:$}=g.open.options,V=g.open.selected>-1?g.open.selected+y*(n?1:-1):n?0:$-1;return V<0?V=e=="page"?0:$-1:V>=$&&(V=e=="page"?$-1:0),r.dispatch({effects:setSelectedEffect.of(V)}),!0}}const acceptCompletion=n=>{let e=n.state.field(completionState,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(completionConfig).interactionDelay?!1:applyCompletion(n,e.open.options[e.open.selected])},startCompletion=n=>n.state.field(completionState,!1)?(n.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=n=>{let e=n.state.field(completionState,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(n.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(completionState),r=n.state.facet(completionConfig);if(!n.selectionSet&&!n.docChanged&&n.startState.field(completionState)==e)return;let g=n.transactions.some(k=>{let $=getUpdateType(k,r);return $&8||(k.selection||k.docChanged)&&!($&3)});for(let k=0;k<this.running.length;k++){let $=this.running[k];if(g||$.context.abortOnDocChange&&n.docChanged||$.updates.length+n.transactions.length>MaxUpdateCount&&Date.now()-$.time>MinAbortTime){for(let V of $.context.abortListeners)try{V()}catch(L){logException(this.view.state,L)}$.context.abortListeners=null,this.running.splice(k--,1)}else $.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(k=>k.effects.some($=>$.is(startCompletionEffect)))&&(this.pendingStart=!0);let y=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(k=>k.isPending&&!this.running.some($=>$.active.source==k.source))?setTimeout(()=>this.startUpdate(),y):-1,this.composing!=0)for(let k of n.transactions)k.isUserEvent("input.type")?this.composing=2:this.composing==2&&k.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(completionState);for(let r of e.active)r.isPending&&!this.running.some(g=>g.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(n){let{state:e}=this.view,r=cur(e),g=new CompletionContext(e,r,n.explicit,this.view),y=new RunningQuery(n,g);this.running.push(y),Promise.resolve(n.source(g)).then(k=>{y.context.aborted||(y.done=k||null,this.scheduleAccept())},k=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,k)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(completionConfig),g=this.view.state.field(completionState);for(let y=0;y<this.running.length;y++){let k=this.running[y];if(k.done===void 0)continue;if(this.running.splice(y--,1),k.done){let V=cur(k.updates.length?k.updates[0].startState:this.view.state),L=Math.min(V,k.done.from+(k.active.explicit?0:1)),z=new ActiveResult(k.active.source,k.active.explicit,L,k.done,k.done.from,(n=k.done.to)!==null&&n!==void 0?n:V);for(let j of k.updates)z=z.update(j,r);if(z.hasResult()){e.push(z);continue}}let $=g.active.find(V=>V.source==k.active.source);if($&&$.isPending)if(k.done==null){let V=new ActiveSource(k.active.source,0);for(let L of k.updates)V=V.update(L,r);V.isPending||e.push(V)}else this.startQuery($)}(e.length||g.open&&g.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let r=e.open&&getTooltip(this.view,e.open.tooltip);(!r||!r.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(n,e){let r=e.state.field(completionState,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||n.key.length>1||n.ctrlKey&&!(windows&&n.altKey)||n.metaKey)return!1;let g=r.open.options[r.open.selected],y=r.active.find($=>$.source==g.source),k=g.completion.commitCharacters||y.result.commitCharacters;return k&&k.indexOf(n.key)>-1&&applyCompletion(e,g),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,r,g,y){this.field=e,this.line=r,this.from=g,this.to=y}}class FieldRange{constructor(e,r,g){this.field=e,this.from=r,this.to=g}map(e){let r=e.mapPos(this.from,-1,MapMode.TrackDel),g=e.mapPos(this.to,1,MapMode.TrackDel);return r==null||g==null?null:new FieldRange(this.field,r,g)}}class Snippet{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let g=[],y=[r],k=e.doc.lineAt(r),$=/^\s*/.exec(k.text)[0];for(let L of this.lines){if(g.length){let z=$,j=/^\t*/.exec(L)[0].length;for(let re=0;re<j;re++)z+=e.facet(indentUnit);y.push(r+z.length-j),L=z+L.slice(j)}g.push(L),r+=L.length+1}let V=this.fieldPositions.map(L=>new FieldRange(L.field,y[L.line]+L.from,y[L.line]+L.to));return{text:g,ranges:V}}static parse(e){let r=[],g=[],y=[],k;for(let $ of e.split(/\r\n?|\n/)){for(;k=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec($);){let V=k[1]?+k[1]:null,L=k[2]||k[3]||"",z=-1,j=L.replace(/\\[{}]/g,re=>re[1]);for(let re=0;re<r.length;re++)(V!=null?r[re].seq==V:j&&r[re].name==j)&&(z=re);if(z<0){let re=0;for(;re<r.length&&(V==null||r[re].seq!=null&&r[re].seq<V);)re++;r.splice(re,0,{seq:V,name:j}),z=re;for(let oe of y)oe.field>=z&&oe.field++}y.push(new FieldPos(z,g.length,k.index,k.index+j.length)),$=$.slice(0,k.index)+L+$.slice(k.index+k[0].length)}$=$.replace(/\\([{}])/g,(V,L,z)=>{for(let j of y)j.line==g.length&&j.from>z&&(j.from--,j.to--);return L}),g.push($)}return new Snippet(g,y)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,r){this.ranges=e,this.active=r,this.deco=Decoration.set(e.map(g=>(g.from==g.to?fieldMarker:fieldRange).range(g.from,g.to)))}map(e){let r=[];for(let g of this.ranges){let y=g.map(e);if(!y)return null;r.push(y)}return new ActiveSnippet(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(g=>g.field==this.active&&g.from<=r.from&&g.to>=r.to))}}const setActive=StateEffect.define({map(n,e){return n&&n.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(n,e){for(let r of e.effects){if(r.is(setActive))return r.value;if(r.is(moveToField)&&n)return new ActiveSnippet(n.ranges,r.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>EditorView.decorations.from(n,e=>e?e.deco:Decoration.none)});function fieldSelection(n,e){return EditorSelection.create(n.filter(r=>r.field==e).map(r=>EditorSelection.range(r.from,r.to)))}function snippet(n){let e=Snippet.parse(n);return(r,g,y,k)=>{let{text:$,ranges:V}=e.instantiate(r.state,y),{main:L}=r.state.selection,z={changes:{from:y,to:k==L.from?L.to:k,insert:Text.of($)},scrollIntoView:!0,annotations:g?[pickedCompletion.of(g),Transaction.userEvent.of("input.complete")]:void 0};if(V.length&&(z.selection=fieldSelection(V,0)),V.some(j=>j.field>0)){let j=new ActiveSnippet(V,0),re=z.effects=[setActive.of(j)];r.state.field(snippetState,!1)===void 0&&re.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}r.dispatch(r.state.update(z))}}function moveField(n){return({state:e,dispatch:r})=>{let g=e.field(snippetState,!1);if(!g||n<0&&g.active==0)return!1;let y=g.active+n,k=n>0&&!g.ranges.some($=>$.field==y+n);return r(e.update({selection:fieldSelection(g.ranges,y),effects:setActive.of(k?null:new ActiveSnippet(g.ranges,y)),scrollIntoView:!0})),!0}}const clearSnippet=({state:n,dispatch:e})=>n.field(snippetState,!1)?(e(n.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(n){return n.length?n[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],n=>n.facet(snippetKeymap)));function snippetCompletion(n,e){return Object.assign(Object.assign({},e),{apply:snippet(n)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(n,e){let r=e.state.field(snippetState,!1),g;if(!r||(g=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let y=r.ranges.find(k=>k.from<=g&&k.to>=g);return!y||y.field==r.active?!1:(e.dispatch({selection:fieldSelection(r.ranges,y.field),effects:setActive.of(r.ranges.some(k=>k.field>y.field)?new ActiveSnippet(r.ranges,y.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(n,e){let r=e.mapPos(n,-1,MapMode.TrackAfter);return r??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(n,e){if(n=n.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:g=>g>=r.from&&g<=r.to})}for(let r of e.effects)r.is(closeBracketEffect)&&(n=n.update({add:[closedBracket.range(r.value,r.value+1)]}));return n}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(n){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==n)return definedClosing.charAt(e+1);return fromCodePoint(n<128?n:n+1)}function config$1(n,e){return n.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((n,e,r,g)=>{if((android$1?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let y=n.state.selection.main;if(g.length>2||g.length==2&&codePointSize(codePointAt$1(g,0))==1||e!=y.from||r!=y.to)return!1;let k=insertBracket(n.state,g);return k?(n.dispatch(k),!0):!1}),deleteBracketPair=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let g=config$1(n,n.selection.main.head).brackets||defaults.brackets,y=null,k=n.changeByRange($=>{if($.empty){let V=prevChar(n.doc,$.head);for(let L of g)if(L==V&&nextChar(n.doc,$.head)==closing(codePointAt$1(L,0)))return{changes:{from:$.head-L.length,to:$.head+L.length},range:EditorSelection.cursor($.head-L.length)}}return{range:y=$}});return y||e(n.update(k,{scrollIntoView:!0,userEvent:"delete.backward"})),!y},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(n,e){let r=config$1(n,n.selection.main.head),g=r.brackets||defaults.brackets;for(let y of g){let k=closing(codePointAt$1(y,0));if(e==y)return k==y?handleSame(n,y,g.indexOf(y+y+y)>-1,r):handleOpen(n,y,k,r.before||defaults.before);if(e==k&&closedBracketAt(n,n.selection.main.from))return handleClose(n,y,k)}return null}function closedBracketAt(n,e){let r=!1;return n.field(bracketState).between(0,n.doc.length,g=>{g==e&&(r=!0)}),r}function nextChar(n,e){let r=n.sliceString(e,e+2);return r.slice(0,codePointSize(codePointAt$1(r,0)))}function prevChar(n,e){let r=n.sliceString(e-2,e);return codePointSize(codePointAt$1(r,0))==r.length?r:r.slice(1)}function handleOpen(n,e,r,g){let y=null,k=n.changeByRange($=>{if(!$.empty)return{changes:[{insert:e,from:$.from},{insert:r,from:$.to}],effects:closeBracketEffect.of($.to+e.length),range:EditorSelection.range($.anchor+e.length,$.head+e.length)};let V=nextChar(n.doc,$.head);return!V||/\s/.test(V)||g.indexOf(V)>-1?{changes:{insert:e+r,from:$.head},effects:closeBracketEffect.of($.head+e.length),range:EditorSelection.cursor($.head+e.length)}:{range:y=$}});return y?null:n.update(k,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(n,e,r){let g=null,y=n.changeByRange(k=>k.empty&&nextChar(n.doc,k.head)==r?{changes:{from:k.head,to:k.head+r.length,insert:r},range:EditorSelection.cursor(k.head+r.length)}:g={range:k});return g?null:n.update(y,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(n,e,r,g){let y=g.stringPrefixes||defaults.stringPrefixes,k=null,$=n.changeByRange(V=>{if(!V.empty)return{changes:[{insert:e,from:V.from},{insert:e,from:V.to}],effects:closeBracketEffect.of(V.to+e.length),range:EditorSelection.range(V.anchor+e.length,V.head+e.length)};let L=V.head,z=nextChar(n.doc,L),j;if(z==e){if(nodeStart(n,L))return{changes:{insert:e+e,from:L},effects:closeBracketEffect.of(L+e.length),range:EditorSelection.cursor(L+e.length)};if(closedBracketAt(n,L)){let oe=r&&n.sliceDoc(L,L+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:L,to:L+oe.length,insert:oe},range:EditorSelection.cursor(L+oe.length)}}}else{if(r&&n.sliceDoc(L-2*e.length,L)==e+e&&(j=canStartStringAt(n,L-2*e.length,y))>-1&&nodeStart(n,j))return{changes:{insert:e+e+e+e,from:L},effects:closeBracketEffect.of(L+e.length),range:EditorSelection.cursor(L+e.length)};if(n.charCategorizer(L)(z)!=CharCategory.Word&&canStartStringAt(n,L,y)>-1&&!probablyInString(n,L,e,y))return{changes:{insert:e+e,from:L},effects:closeBracketEffect.of(L+e.length),range:EditorSelection.cursor(L+e.length)}}return{range:k=V}});return k?null:n.update($,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(n,e){let r=syntaxTree(n).resolveInner(e+1);return r.parent&&r.from==e}function probablyInString(n,e,r,g){let y=syntaxTree(n).resolveInner(e,-1),k=g.reduce(($,V)=>Math.max($,V.length),0);for(let $=0;$<5;$++){let V=n.sliceDoc(y.from,Math.min(y.to,y.from+r.length+k)),L=V.indexOf(r);if(!L||L>-1&&g.indexOf(V.slice(0,L))>-1){let j=y.firstChild;for(;j&&j.from==y.from&&j.to-j.from>r.length+L;){if(n.sliceDoc(j.to-r.length,j.to)==r)return!1;j=j.firstChild}return!0}let z=y.to==e&&y.parent;if(!z)break;y=z}return!1}function canStartStringAt(n,e,r){let g=n.charCategorizer(e);if(g(n.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let y of r){let k=e-y.length;if(n.sliceDoc(k,e)==y&&g(n.sliceDoc(k-1,k))!=CharCategory.Word)return k}return-1}function autocompletion(n={}){return[commitCharacters,completionState,completionConfig.of(n),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],n=>n.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,r,g){this.from=e,this.to=r,this.diagnostic=g}}class LintState{constructor(e,r,g){this.diagnostics=e,this.panel=r,this.selected=g}static init(e,r,g){let y=e,k=g.facet(lintConfig).markerFilter;k&&(y=k(y,g));let $=e.slice().sort((re,oe)=>re.from-oe.from||re.to-oe.to),V=new RangeSetBuilder,L=[],z=0;for(let re=0;;){let oe=re==$.length?null:$[re];if(!oe&&!L.length)break;let ae,de;for(L.length?(ae=z,de=L.reduce((pe,he)=>Math.min(pe,he.to),oe&&oe.from>ae?oe.from:1e8)):(ae=oe.from,de=oe.to,L.push(oe),re++);re<$.length;){let pe=$[re];if(pe.from==ae&&(pe.to>pe.from||pe.to==ae))L.push(pe),re++,de=Math.min(pe.to,de);else{de=Math.min(pe.from,de);break}}let ue=maxSeverity(L);if(L.some(pe=>pe.from==pe.to||pe.from==pe.to-1&&g.doc.lineAt(pe.from).to==pe.from))V.add(ae,ae,Decoration.widget({widget:new DiagnosticWidget(ue),diagnostics:L.slice()}));else{let pe=L.reduce((he,xe)=>xe.markClass?he+" "+xe.markClass:he,"");V.add(ae,de,Decoration.mark({class:"cm-lintRange cm-lintRange-"+ue+pe,diagnostics:L.slice(),inclusiveEnd:L.some(he=>he.to>de)}))}z=de;for(let pe=0;pe<L.length;pe++)L[pe].to<=z&&L.splice(pe--,1)}let j=V.finish();return new LintState(j,r,findDiagnostic(j))}}function findDiagnostic(n,e=null,r=0){let g=null;return n.between(r,1e9,(y,k,{spec:$})=>{if(!(e&&$.diagnostics.indexOf(e)<0))if(!g)g=new SelectedDiagnostic(y,k,e||$.diagnostics[0]);else{if($.diagnostics.indexOf(g.diagnostic)<0)return!1;g=new SelectedDiagnostic(g.from,k,g.diagnostic)}}),g}function hideTooltip(n,e){let r=e.pos,g=e.end||r,y=n.state.facet(lintConfig).hideOn(n,r,g);if(y!=null)return y;let k=n.startState.doc.lineAt(e.pos);return!!(n.effects.some($=>$.is(setDiagnosticsEffect))||n.changes.touchesRange(k.from,Math.max(k.to,g)))}function maybeEnableLint(n,e){return n.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let r=n.diagnostics.map(e.changes),g=null,y=n.panel;if(n.selected){let k=e.changes.mapPos(n.selected.from,1);g=findDiagnostic(r,n.selected.diagnostic,k)||findDiagnostic(r,null,k)}!r.size&&y&&e.state.facet(lintConfig).autoPanel&&(y=null),n=new LintState(r,y,g)}for(let r of e.effects)if(r.is(setDiagnosticsEffect)){let g=e.state.facet(lintConfig).autoPanel?r.value.length?LintPanel.open:null:n.panel;n=LintState.init(r.value,g,e.state)}else r.is(togglePanel)?n=new LintState(n.diagnostics,r.value?LintPanel.open:null,n.selected):r.is(movePanelSelection)&&(n=new LintState(n.diagnostics,n.panel,r.value));return n},provide:n=>[showPanel.from(n,e=>e.panel),EditorView.decorations.from(n,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(n,e,r){let{diagnostics:g}=n.state.field(lintState),y,k=-1,$=-1;g.between(e-(r<0?1:0),e+(r>0?1:0),(L,z,{spec:j})=>{if(e>=L&&e<=z&&(L==z||(e>L||r>0)&&(e<z||r<0)))return y=j.diagnostics,k=L,$=z,!1});let V=n.state.facet(lintConfig).tooltipFilter;return y&&V&&(y=V(y,n.state)),y?{pos:k,end:$,above:n.state.doc.lineAt(k).to<$,create(){return{dom:diagnosticsTooltip(n,y)}}}:null}function diagnosticsTooltip(n,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(r=>renderDiagnostic(n,r,!1)))}const openLintPanel=n=>{let e=n.state.field(lintState,!1);(!e||!e.panel)&&n.dispatch({effects:maybeEnableLint(n.state,[togglePanel.of(!0)])});let r=getPanel(n,LintPanel.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=n=>{let e=n.state.field(lintState,!1);return!e||!e.panel?!1:(n.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=n=>{let e=n.state.field(lintState,!1);if(!e)return!1;let r=n.state.selection.main,g=e.diagnostics.iter(r.to+1);return!g.value&&(g=e.diagnostics.iter(0),!g.value||g.from==r.from&&g.to==r.to)?!1:(n.dispatch({selection:{anchor:g.from,head:g.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},combineConfig(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?g=>e(g)||r(g):e:r}))}});function assignKeys(n){let e=[];if(n)e:for(let{name:r}of n){for(let g=0;g<r.length;g++){let y=r[g];if(/[a-zA-Z]/.test(y)&&!e.some(k=>k.toLowerCase()==y.toLowerCase())){e.push(y);continue e}}e.push("")}return e}function renderDiagnostic(n,e,r){var g;let y=r?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(g=e.actions)===null||g===void 0?void 0:g.map((k,$)=>{let V=!1,L=oe=>{if(oe.preventDefault(),V)return;V=!0;let ae=findDiagnostic(n.state.field(lintState).diagnostics,e);ae&&k.apply(n,ae.from,ae.to)},{name:z}=k,j=y[$]?z.indexOf(y[$]):-1,re=j<0?z:[z.slice(0,j),crelt("u",z.slice(j,j+1)),z.slice(j+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:L,onmousedown:L,"aria-label":` Action: ${z}${j<0?"":` (access key "${y[$]})"`}.`},re)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let r=y=>{if(y.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(y.keyCode==38||y.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(y.keyCode==40||y.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(y.keyCode==36)this.moveSelection(0);else if(y.keyCode==35)this.moveSelection(this.items.length-1);else if(y.keyCode==13)this.view.focus();else if(y.keyCode>=65&&y.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:k}=this.items[this.selectedIndex],$=assignKeys(k.actions);for(let V=0;V<$.length;V++)if($[V].toUpperCase().charCodeAt(0)==y.keyCode){let L=findDiagnostic(this.view.state.field(lintState).diagnostics,k);L&&k.actions[V].apply(e,L.from,L.to)}}else return;y.preventDefault()},g=y=>{for(let k=0;k<this.items.length;k++)this.items[k].dom.contains(y.target)&&this.moveSelection(k)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:g}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(lintState),g=0,y=!1,k=null,$=new Set;for(e.between(0,this.view.state.doc.length,(V,L,{spec:z})=>{for(let j of z.diagnostics){if($.has(j))continue;$.add(j);let re=-1,oe;for(let ae=g;ae<this.items.length;ae++)if(this.items[ae].diagnostic==j){re=ae;break}re<0?(oe=new PanelItem(this.view,j),this.items.splice(g,0,oe),y=!0):(oe=this.items[re],re>g&&(this.items.splice(g,re-g),y=!0)),r&&oe.diagnostic==r.diagnostic?oe.dom.hasAttribute("aria-selected")||(oe.dom.setAttribute("aria-selected","true"),k=oe):oe.dom.hasAttribute("aria-selected")&&oe.dom.removeAttribute("aria-selected"),g++}});g<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)y=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),y=!0),k?(this.list.setAttribute("aria-activedescendant",k.id),this.view.requestMeasure({key:this,read:()=>({sel:k.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:V,panel:L})=>{let z=L.height/this.list.offsetHeight;V.top<L.top?this.list.scrollTop-=(L.top-V.top)/z:V.bottom>L.bottom&&(this.list.scrollTop+=(V.bottom-L.bottom)/z)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),y&&this.sync()}sync(){let e=this.list.firstChild;function r(){let g=e;e=g.nextSibling,g.remove()}for(let g of this.items)if(g.dom.parentNode==this.list){for(;e!=g.dom;)r();e=g.dom.nextSibling}else this.list.insertBefore(g.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(lintState),g=findDiagnostic(r.diagnostics,this.items[e].diagnostic);g&&this.view.dispatch({selection:{anchor:g.from,head:g.to},scrollIntoView:!0,effects:movePanelSelection.of(g)})}static open(e){return new LintPanel(e)}}function svg$1(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function underline(n){return svg$1(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function maxSeverity(n){let e="hint",r=1;for(let g of n){let y=severityWeight(g.severity);y>r&&(r=y,e=g.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],n=>{let{selected:e,panel:r}=n.field(lintState);return!e||!r||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history$1(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];var define_process_env_default={};class Stack{constructor(e,r,g,y,k,$,V,L,z,j=0,re){this.p=e,this.stack=r,this.state=g,this.reducePos=y,this.pos=k,this.score=$,this.buffer=V,this.bufferBase=L,this.curContext=z,this.lookAhead=j,this.parent=re}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,g=0){let y=e.parser.context;return new Stack(e,[],r,g,g,0,[],0,y?new StackContext(y,y.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let g=e>>19,y=e&65535,{parser:k}=this.p,$=this.reducePos<this.pos-25;$&&this.setLookAhead(this.pos);let V=k.dynamicPrecedence(y);if(V&&(this.score+=V),g==0){this.pushState(k.getGoto(this.state,y,!0),this.reducePos),y<k.minRepeatTerm&&this.storeNode(y,this.reducePos,this.reducePos,$?8:4,!0),this.reduceContext(y,this.reducePos);return}let L=this.stack.length-(g-1)*3-(e&262144?6:0),z=L?this.stack[L-2]:this.p.ranges[0].from,j=this.reducePos-z;j>=2e3&&!(!((r=this.p.parser.nodeSet.types[y])===null||r===void 0)&&r.isAnonymous)&&(z==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=j):this.p.lastBigReductionSize<j&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=z,this.p.lastBigReductionSize=j));let re=L?this.stack[L-1]:0,oe=this.bufferBase+this.buffer.length-re;if(y<k.minRepeatTerm||e&131072){let ae=k.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(y,z,ae,oe+4,!0)}if(e&262144)this.state=this.stack[L];else{let ae=this.stack[L-3];this.state=k.getGoto(ae,y,!0)}for(;this.stack.length>L;)this.stack.pop();this.reduceContext(y,z)}storeNode(e,r,g,y=4,k=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let $=this,V=this.buffer.length;if(V==0&&$.parent&&(V=$.bufferBase-$.parent.bufferBase,$=$.parent),V>0&&$.buffer[V-4]==0&&$.buffer[V-1]>-1){if(r==g)return;if($.buffer[V-2]>=r){$.buffer[V-2]=g;return}}}if(!k||this.pos==g)this.buffer.push(e,r,g,y);else{let $=this.buffer.length;if($>0&&this.buffer[$-4]!=0){let V=!1;for(let L=$;L>0&&this.buffer[L-2]>g;L-=4)if(this.buffer[L-1]>=0){V=!0;break}if(V)for(;$>0&&this.buffer[$-2]>g;)this.buffer[$]=this.buffer[$-4],this.buffer[$+1]=this.buffer[$-3],this.buffer[$+2]=this.buffer[$-2],this.buffer[$+3]=this.buffer[$-1],$-=4,y>4&&(y-=4)}this.buffer[$]=e,this.buffer[$+1]=r,this.buffer[$+2]=g,this.buffer[$+3]=y}}shift(e,r,g,y){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=y,this.shiftContext(r,g),r<=this.p.parser.maxNode&&this.buffer.push(r,g,y,4);else{let k=e,{parser:$}=this.p;(y>this.pos||r<=$.maxNode)&&(this.pos=y,$.stateFlag(k,1)||(this.reducePos=y)),this.pushState(k,g),this.shiftContext(r,g),r<=$.maxNode&&this.buffer.push(r,g,y,4)}}apply(e,r,g,y){e&65536?this.reduce(e):this.shift(e,r,g,y)}useNode(e,r){let g=this.p.reused.length-1;(g<0||this.p.reused[g]!=e)&&(this.p.reused.push(e),g++);let y=this.pos;this.reducePos=this.pos=y+e.length,this.pushState(r,y),this.buffer.push(g,y,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let g=e.buffer.slice(r),y=e.bufferBase+r;for(;e&&y==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,g,y,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let g=e<=this.p.parser.maxNode;g&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,g?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new SimulatedStack(this);;){let g=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(g==0)return!1;if(!(g&65536))return!0;r.reduce(g)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let y=[];for(let k=0,$;k<r.length;k+=2)($=r[k+1])!=this.state&&this.p.parser.hasAction($,e)&&y.push(r[k],$);if(this.stack.length<120)for(let k=0;y.length<8&&k<r.length;k+=2){let $=r[k+1];y.some((V,L)=>L&1&&V==$)||y.push(r[k],$)}r=y}let g=[];for(let y=0;y<r.length&&g.length<4;y+=2){let k=r[y+1];if(k==this.state)continue;let $=this.split();$.pushState(k,this.pos),$.storeNode(0,$.pos,$.pos,4,!0),$.shiftContext(r[y],this.pos),$.reducePos=this.pos,$.score-=200,g.push($)}return g}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let g=r>>19,y=r&65535,k=this.stack.length-g*3;if(k<0||e.getGoto(this.stack[k],y,!1)<0){let $=this.findForcedReduction();if($==null)return!1;r=$}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],g=(y,k)=>{if(!r.includes(y))return r.push(y),e.allActions(y,$=>{if(!($&393216))if($&65536){let V=($>>19)-k;if(V>1){let L=$&65535,z=this.stack.length-V*3;if(z>=0&&e.getGoto(this.stack[z],L,!1)>=0)return V<<19|65536|L}}else{let V=g($,k+1);if(V!=null)return V}})};return g(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new StackContext(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,g=e>>19;g==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(g-1)*3;let y=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=y}}class StackBufferCursor{constructor(e,r,g){this.stack=e,this.pos=r,this.index=g,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(n,e=Uint16Array){if(typeof n!="string")return n;let r=null;for(let g=0,y=0;g<n.length;){let k=0;for(;;){let $=n.charCodeAt(g++),V=!1;if($==126){k=65535;break}$>=92&&$--,$>=34&&$--;let L=$-32;if(L>=46&&(L-=46,V=!0),k+=L,V)break;k*=46}r?r[y++]=k:r=new e(k)}return r}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let g=this.range,y=this.rangeIndex,k=this.pos+e;for(;k<g.from;){if(!y)return null;let $=this.ranges[--y];k-=g.from-$.to,g=$}for(;r<0?k>g.to:k>=g.to;){if(y==this.ranges.length-1)return null;let $=this.ranges[++y];k+=$.from-g.to,g=$}return k}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,g,y;if(r>=0&&r<this.chunk.length)g=this.pos+e,y=this.chunk.charCodeAt(r);else{let k=this.resolveOffset(e,1);if(k==null)return-1;if(g=k,g>=this.chunk2Pos&&g<this.chunk2Pos+this.chunk2.length)y=this.chunk2.charCodeAt(g-this.chunk2Pos);else{let $=this.rangeIndex,V=this.range;for(;V.to<=g;)V=this.ranges[++$];this.chunk2=this.input.chunk(this.chunk2Pos=g),g+this.chunk2.length>V.to&&(this.chunk2=this.chunk2.slice(0,V.to-g)),y=this.chunk2.charCodeAt(0)}}return g>=this.token.lookAhead&&(this.token.lookAhead=g+1),y}acceptToken(e,r=0){let g=r?this.resolveOffset(r,-1):this.pos;if(g==null||g<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=g}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let g="";for(let y of this.ranges){if(y.from>=r)break;y.to>e&&(g+=this.input.read(Math.max(y.from,e),Math.min(y.to,r)))}return g}}class TokenGroup{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:g}=r.p;readToken(this.data,e,r,this.id,g.data,g.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,r,g){this.precTable=r,this.elseToken=g,this.data=typeof e=="string"?decodeArray(e):e}token(e,r){let g=e.pos,y=0;for(;;){let k=e.next<0,$=e.resolveOffset(1,1);if(readToken(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(k||y++,$==null)break;e.reset($,e.token)}y&&(e.reset(g,e.token),e.acceptToken(this.elseToken,y))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function readToken(n,e,r,g,y,k){let $=0,V=1<<g,{dialect:L}=r.p.parser;e:for(;V&n[$];){let z=n[$+1];for(let ae=$+3;ae<z;ae+=2)if((n[ae+1]&V)>0){let de=n[ae];if(L.allows(de)&&(e.token.value==-1||e.token.value==de||overrides(de,e.token.value,y,k))){e.acceptToken(de);break}}let j=e.next,re=0,oe=n[$+2];if(e.next<0&&oe>re&&n[z+oe*3-3]==65535){$=n[z+oe*3-1];continue e}for(;re<oe;){let ae=re+oe>>1,de=z+ae+(ae<<1),ue=n[de],pe=n[de+1]||65536;if(j<ue)oe=ae;else if(j>=pe)re=ae+1;else{$=n[de+2],e.advance();continue e}}break}}function findOffset(n,e,r){for(let g=e,y;(y=n[g])!=65535;g++)if(y==r)return g-e;return-1}function overrides(n,e,r,g){let y=findOffset(r,g,e);return y<0||findOffset(r,g,n)<y}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(n,e,r){let g=n.cursor(IterMode.IncludeAnonymous);for(g.moveTo(e);;)if(!(r<0?g.childBefore(e):g.childAfter(e)))for(;;){if((r<0?g.to<e:g.from>e)&&!g.type.isError)return r<0?Math.max(0,Math.min(g.to-1,e-25)):Math.min(n.length,Math.max(g.from+1,e+25));if(r<0?g.prevSibling():g.nextSibling())break;if(!g.parent())return r<0?0:n.length}}class FragmentCursor{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let g=this.trees[r],y=this.index[r];if(y==g.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let k=g.children[y],$=this.start[r]+g.positions[y];if($>e)return this.nextStart=$,null;if(k instanceof Tree){if($==e){if($<this.safeFrom)return null;let V=$+k.length;if(V<=this.safeTo){let L=k.prop(NodeProp.lookAhead);if(!L||V+L<this.fragment.to)return k}}this.index[r]++,$+k.length>=Math.max(this.safeFrom,e)&&(this.trees.push(k),this.start.push($),this.index.push(0))}else this.index[r]++,this.nextStart=$+k.length}}}class TokenCache{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(g=>new CachedToken)}getActions(e){let r=0,g=null,{parser:y}=e.p,{tokenizers:k}=y,$=y.stateSlot(e.state,3),V=e.curContext?e.curContext.hash:0,L=0;for(let z=0;z<k.length;z++){if(!(1<<z&$))continue;let j=k[z],re=this.tokens[z];if(!(g&&!j.fallback)&&((j.contextual||re.start!=e.pos||re.mask!=$||re.context!=V)&&(this.updateCachedToken(re,j,e),re.mask=$,re.context=V),re.lookAhead>re.end+25&&(L=Math.max(re.lookAhead,L)),re.value!=0)){let oe=r;if(re.extended>-1&&(r=this.addActions(e,re.extended,re.end,r)),r=this.addActions(e,re.value,re.end,r),!j.extend&&(g=re,r>oe))break}}for(;this.actions.length>r;)this.actions.pop();return L&&e.setLookAhead(L),!g&&e.pos==this.stream.end&&(g=new CachedToken,g.value=e.p.parser.eofTerm,g.start=g.end=e.pos,r=this.addActions(e,g.value,g.end,r)),this.mainToken=g,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new CachedToken,{pos:g,p:y}=e;return r.start=g,r.end=Math.min(g+1,y.stream.end),r.value=g==y.stream.end?y.parser.eofTerm:0,r}updateCachedToken(e,r,g){let y=this.stream.clipPos(g.pos);if(r.token(this.stream.reset(y,e),g),e.value>-1){let{parser:k}=g.p;for(let $=0;$<k.specialized.length;$++)if(k.specialized[$]==e.value){let V=k.specializers[$](this.stream.read(e.start,e.end),g);if(V>=0&&g.p.parser.dialect.allows(V>>1)){V&1?e.extended=V>>1:e.value=V>>1;break}}}else e.value=0,e.end=this.stream.clipPos(y+1)}putAction(e,r,g,y){for(let k=0;k<y;k+=3)if(this.actions[k]==e)return y;return this.actions[y++]=e,this.actions[y++]=r,this.actions[y++]=g,y}addActions(e,r,g,y){let{state:k}=e,{parser:$}=e.p,{data:V}=$;for(let L=0;L<2;L++)for(let z=$.stateSlot(k,L?2:1);;z+=3){if(V[z]==65535)if(V[z+1]==1)z=pair(V,z+2);else{y==0&&V[z+1]==2&&(y=this.putAction(pair(V,z+2),r,g,y));break}V[z]==r&&(y=this.putAction(pair(V,z+1),r,g,y))}return y}}class Parse{constructor(e,r,g,y){this.parser=e,this.input=r,this.ranges=y,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(r,y),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:k}=y[0];this.stacks=[Stack.start(this,e.top[0],k)],this.fragments=g.length&&this.stream.end-k>e.bufferLength*4?new FragmentCursor(g,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,g=this.stacks=[],y,k;if(this.bigReductionCount>300&&e.length==1){let[$]=e;for(;$.forceReduce()&&$.stack.length&&$.stack[$.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let $=0;$<e.length;$++){let V=e[$];for(;;){if(this.tokens.mainToken=null,V.pos>r)g.push(V);else{if(this.advanceStack(V,g,e))continue;{y||(y=[],k=[]),y.push(V);let L=this.tokens.getMainToken(V);k.push(L.value,L.end)}}break}}if(!g.length){let $=y&&findFinished(y);if($)return verbose&&console.log("Finish with "+this.stackID($)),this.stackToTree($);if(this.parser.strict)throw verbose&&y&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&y){let $=this.stoppedAt!=null&&y[0].pos>this.stoppedAt?y[0]:this.runRecovery(y,k,g);if($)return verbose&&console.log("Force-finish "+this.stackID($)),this.stackToTree($.forceAll())}if(this.recovering){let $=this.recovering==1?1:this.recovering*3;if(g.length>$)for(g.sort((V,L)=>L.score-V.score);g.length>$;)g.pop();g.some(V=>V.reducePos>r)&&this.recovering--}else if(g.length>1){e:for(let $=0;$<g.length-1;$++){let V=g[$];for(let L=$+1;L<g.length;L++){let z=g[L];if(V.sameState(z)||V.buffer.length>500&&z.buffer.length>500)if((V.score-z.score||V.buffer.length-z.buffer.length)>0)g.splice(L--,1);else{g.splice($--,1);continue e}}}g.length>12&&g.splice(12,g.length-12)}this.minStackPos=g[0].pos;for(let $=1;$<g.length;$++)g[$].pos<this.minStackPos&&(this.minStackPos=g[$].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,g){let y=e.pos,{parser:k}=this,$=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&y>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let z=e.curContext&&e.curContext.tracker.strict,j=z?e.curContext.hash:0;for(let re=this.fragments.nodeAt(y);re;){let oe=this.parser.nodeSet.types[re.type.id]==re.type?k.getGoto(e.state,re.type.id):-1;if(oe>-1&&re.length&&(!z||(re.prop(NodeProp.contextHash)||0)==j))return e.useNode(re,oe),verbose&&console.log($+this.stackID(e)+` (via reuse of ${k.getName(re.type.id)})`),!0;if(!(re instanceof Tree)||re.children.length==0||re.positions[0]>0)break;let ae=re.children[0];if(ae instanceof Tree&&re.positions[0]==0)re=ae;else break}}let V=k.stateSlot(e.state,4);if(V>0)return e.reduce(V),verbose&&console.log($+this.stackID(e)+` (via always-reduce ${k.getName(V&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let L=this.tokens.getActions(e);for(let z=0;z<L.length;){let j=L[z++],re=L[z++],oe=L[z++],ae=z==L.length||!g,de=ae?e:e.split(),ue=this.tokens.mainToken;if(de.apply(j,re,ue?ue.start:de.pos,oe),verbose&&console.log($+this.stackID(de)+` (via ${j&65536?`reduce of ${k.getName(j&65535)}`:"shift"} for ${k.getName(re)} @ ${y}${de==e?"":", split"})`),ae)return!0;de.pos>y?r.push(de):g.push(de)}return!1}advanceFully(e,r){let g=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>g)return pushStackDedup(e,r),!0}}runRecovery(e,r,g){let y=null,k=!1;for(let $=0;$<e.length;$++){let V=e[$],L=r[$<<1],z=r[($<<1)+1],j=verbose?this.stackID(V)+" -> ":"";if(V.deadEnd&&(k||(k=!0,V.restart(),verbose&&console.log(j+this.stackID(V)+" (restarted)"),this.advanceFully(V,g))))continue;let re=V.split(),oe=j;for(let ae=0;re.forceReduce()&&ae<10&&(verbose&&console.log(oe+this.stackID(re)+" (via force-reduce)"),!this.advanceFully(re,g));ae++)verbose&&(oe=this.stackID(re)+" -> ");for(let ae of V.recoverByInsert(L))verbose&&console.log(j+this.stackID(ae)+" (via recover-insert)"),this.advanceFully(ae,g);this.stream.end>V.pos?(z==V.pos&&(z++,L=0),V.recoverByDelete(L,z),verbose&&console.log(j+this.stackID(V)+` (via recover-delete ${this.parser.getName(L)})`),pushStackDedup(V,g)):(!y||y.score<V.score)&&(y=V)}return y}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(stackIDs||(stackIDs=new WeakMap)).get(e);return r||stackIDs.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function pushStackDedup(n,e){for(let r=0;r<e.length;r++){let g=e[r];if(g.pos==n.pos&&g.sameState(n)){e[r].score<n.score&&(e[r]=n);return}}e.push(n)}class Dialect{constructor(e,r,g){this.source=e,this.flags=r,this.disabled=g}allows(e){return!this.disabled||this.disabled[e]==0}}const id=n=>n;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let V=0;V<e.repeatNodeCount;V++)r.push("");let g=Object.keys(e.topRules).map(V=>e.topRules[V][1]),y=[];for(let V=0;V<r.length;V++)y.push([]);function k(V,L,z){y[V].push([L,L.deserialize(String(z))])}if(e.nodeProps)for(let V of e.nodeProps){let L=V[0];typeof L=="string"&&(L=NodeProp[L]);for(let z=1;z<V.length;){let j=V[z++];if(j>=0)k(j,L,V[z++]);else{let re=V[z+-j];for(let oe=-j;oe>0;oe--)k(V[z++],L,re);z++}}}this.nodeSet=new NodeSet(r.map((V,L)=>NodeType.define({name:L>=this.minRepeatTerm?void 0:V,id:L,props:y[L],top:g.indexOf(L)>-1,error:L==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(L)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let $=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let V=0;V<this.specializerSpecs.length;V++)this.specialized[V]=this.specializerSpecs[V].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(V=>typeof V=="number"?new TokenGroup($,V):V),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,g){let y=new Parse(this,e,r,g);for(let k of this.wrappers)y=k(y,e,r,g);return y}getGoto(e,r,g=!1){let y=this.goto;if(r>=y[0])return-1;for(let k=y[r+1];;){let $=y[k++],V=$&1,L=y[k++];if(V&&g)return L;for(let z=k+($>>1);k<z;k++)if(y[k]==e)return L;if(V)return-1}}hasAction(e,r){let g=this.data;for(let y=0;y<2;y++)for(let k=this.stateSlot(e,y?2:1),$;;k+=3){if(($=g[k])==65535)if(g[k+1]==1)$=g[k=pair(g,k+2)];else{if(g[k+1]==2)return pair(g,k+2);break}if($==r||$==0)return pair(g,k+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,g=>g==r?!0:null)}allActions(e,r){let g=this.stateSlot(e,4),y=g?r(g):void 0;for(let k=this.stateSlot(e,1);y==null;k+=3){if(this.data[k]==65535)if(this.data[k+1]==1)k=pair(this.data,k+2);else break;y=r(pair(this.data,k+1))}return y}nextStates(e){let r=[];for(let g=this.stateSlot(e,1);;g+=3){if(this.data[g]==65535)if(this.data[g+1]==1)g=pair(this.data,g+2);else break;if(!(this.data[g+2]&1)){let y=this.data[g+1];r.some((k,$)=>$&1&&k==y)||r.push(this.data[g],y)}}return r}configure(e){let r=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let g=this.topRules[e.top];if(!g)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=g}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(g=>{let y=e.tokenizers.find(k=>k.from==g);return y?y.to:g})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((g,y)=>{let k=e.specializers.find(V=>V.from==g.external);if(!k)return g;let $=Object.assign(Object.assign({},g),{external:k.to});return r.specializers[y]=getSpecializer($),$})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),g=r.map(()=>!1);if(e)for(let k of e.split(" ")){let $=r.indexOf(k);$>=0&&(g[$]=!0)}let y=null;for(let k=0;k<r.length;k++)if(!g[k])for(let $=this.dialects[r[k]],V;(V=this.data[$++])!=65535;)(y||(y=new Uint8Array(this.maxTerm+1)))[V]=1;return new Dialect(e,g,y)}static deserialize(e){return new LRParser(e)}}function pair(n,e){return n[e]|n[e+1]<<16}function findFinished(n){let e=null;for(let r of n){let g=r.p.stoppedAt;(r.pos==r.p.stream.end||g!=null&&r.pos>g)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function getSpecializer(n){if(n.external){let e=n.extend?1:0;return(r,g)=>n.external(r,g)<<1|e}return n.get}const noSemi=314,noSemiType=315,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=316,spaces=318,newline=319,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(n,e){return e==LineComment||e==BlockComment||e==spaces?n:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n;(r==braceR||r==-1||e.context)&&n.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n,g;space.indexOf(r)>-1||r==slash&&((g=n.peek(1))==slash||g==star)||r!=braceR&&r!=semicolon&&r!=-1&&!e.context&&n.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((n,e)=>{n.next==bracketL&&!e.context&&n.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((n,e)=>{let{next:r}=n;if(r==plus||r==minus){if(n.advance(),r==n.next){n.advance();let g=!e.context&&e.canShift(incdec);n.acceptToken(g?incdec:incdecPrefix)}}else r==question&&n.peek(1)==dot&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(questionDot))},{contextual:!0});function identifierChar(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const jsx=new ExternalTokenizer((n,e)=>{if(n.next!=lt||!e.dialectEnabled(Dialect_jsx)||(n.advance(),n.next==slash))return;let r=0;for(;space.indexOf(n.next)>-1;)n.advance(),r++;if(identifierChar(n.next,!0)){for(n.advance(),r++;identifierChar(n.next,!1);)n.advance(),r++;for(;space.indexOf(n.next)>-1;)n.advance(),r++;if(n.next==comma)return;for(let g=0;;g++){if(g==7){if(!identifierChar(n.next,!0))return;break}if(n.next!="extends".charCodeAt(g))break;n.advance(),r++}}n.acceptToken(JSXStartTag,-r)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},spec_word={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},spec_LessThan={__proto__:null,"<":189},parser=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new LocalTokenGroup("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>spec_identifier[n]||-1},{term:341,get:n=>spec_word[n]||-1},{term:93,get:n=>spec_LessThan[n]||-1}],tokenPrec:15116}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(n){return(e,r)=>{let g=e.node.getChild("VariableDefinition");return g&&r(g,n),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(n,e){n.matchContext(functionContext)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function getScope(n,e){let r=cache.get(e);if(r)return r;let g=[],y=!0;function k($,V){let L=n.sliceString($.from,$.to);g.push({label:L,type:V})}return e.cursor(IterMode.IncludeAnonymous).iterate($=>{if(y)y=!1;else if($.name){let V=gatherCompletions[$.name];if(V&&V($,k)||ScopeNodes.has($.name))return!1}else if($.to-$.from>8192){for(let V of getScope(n,$.node))g.push(V);return!1}}),cache.set(e,g),g}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function localCompletionSource(n){let e=syntaxTree(n.state).resolveInner(n.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let g=[];for(let y=e;y;y=y.parent)ScopeNodes.has(y.name)&&(g=g.concat(getScope(n.state.doc,y)));return{options:g,from:r?e.from:n.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:n=>{let e=n.textAfter,r=/^\s*\}/.test(e),g=/^\s*(case|default)\b/.test(e);return n.baseIndent+(r?0:g?1:2)*n.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:n=>/^JSX/.test(n.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=n=>({label:n,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(n={}){let e=n.jsx?n.typescript?tsxLanguage:jsxLanguage:n.typescript?typescriptLanguage:javascriptLanguage,r=n.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(r))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),n.jsx?autoCloseTags:[]])}function findOpenTag(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function elementName(n,e,r=n.length){for(let g=e?.firstChild;g;g=g.nextSibling)if(g.name=="JSXIdentifier"||g.name=="JSXBuiltin"||g.name=="JSXNamespacedName"||g.name=="JSXMemberExpression")return n.sliceString(g.from,Math.min(g.to,r));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((n,e,r,g,y)=>{if((android?n.composing:n.compositionStarted)||n.state.readOnly||e!=r||g!=">"&&g!="/"||!javascriptLanguage.isActiveAt(n.state,e,-1))return!1;let k=y(),{state:$}=k,V=$.changeByRange(L=>{var z;let{head:j}=L,re=syntaxTree($).resolveInner(j-1,-1),oe;if(re.name=="JSXStartTag"&&(re=re.parent),!($.doc.sliceString(j-1,j)!=g||re.name=="JSXAttributeValue"&&re.to>j)){if(g==">"&&re.name=="JSXFragmentTag")return{range:L,changes:{from:j,insert:"</>"}};if(g=="/"&&re.name=="JSXStartCloseTag"){let ae=re.parent,de=ae.parent;if(de&&ae.from==j-2&&((oe=elementName($.doc,de.firstChild,j))||((z=de.firstChild)===null||z===void 0?void 0:z.name)=="JSXFragmentTag")){let ue=`${oe}>`;return{range:EditorSelection.cursor(j+ue.length,-1),changes:{from:j,insert:ue}}}}else if(g==">"){let ae=findOpenTag(re);if(ae&&ae.name=="JSXOpenTag"&&!/^\/?>|^<\//.test($.doc.sliceString(j,j+2))&&(oe=elementName($.doc,ae,j)))return{range:L,changes:{from:j,insert:`</${oe}>`}}}}return{range:L}});return V.changes.empty?!1:(n.dispatch([k,$.update(V,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];async function writeText(n,e){await invoke("plugin:clipboard-manager|write_text",{label:e?.label,text:n})}async function readText(){return await invoke("plugin:clipboard-manager|read_text")}const _withScopeId$1=n=>(pushScopeId("data-v-a11bf369"),n=n(),popScopeId(),n),_hoisted_1$3={class:"glyph-programming-editor"},_hoisted_2$3={class:"left-panel"},_hoisted_3$2={class:"constant-item"},_hoisted_4$2={class:"parameter-name"},_hoisted_5$2={key:0},_hoisted_6$2={key:2},_hoisted_7$2={class:"right-panel"},_hoisted_8$2={class:"codes-header"},_hoisted_9$2={class:"codes-title"},_hoisted_10$2=_withScopeId$1(()=>createBaseVNode("div",{id:"codes-container"},null,-1)),_sfc_main$4=defineComponent({__name:"CharacterProgrammingEditor",setup(n){const{t:e,tm:r}=useI18n(),g=ref([]),y=ref(""),k=ref({}),$=ref("global-constants");let V,L=null;onMounted(async()=>{if(window.__TAURI_INTERNALS__){const $e=await getCurrentWindow().onCloseRequested(async Ne=>{try{V&&(V.toTextArea(),V=null,document.getElementById("codes-container").innerHTML=""),await emit("on-webview-close"),L&&L(),$e&&$e()}catch(Oe){console.error(Oe)}});L=await listen("init-data",Ne=>{const{__constants:Oe,__script:_e,__isWeb:Fe}=Ne.payload;window.__constants=Oe,window.__script=_e,window.__is_web=Fe,g.value=Oe,y.value=_e,g.value?.map(kt=>{k.value[kt.uuid]=!1}),V=new EditorView({doc:y.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(kt=>{y.value=kt.state.doc.toString()})],parent:document.getElementById("codes-container")});const Ue=navigator.userAgent.includes("Mac");V.dom.addEventListener("keydown",async kt=>{if((Ue?kt.metaKey:kt.ctrlKey)&&kt.key==="c"){const{from:Lt,to:wn}=V.state.selection.main,Et=V.state.doc.slice(Lt,wn).toString();Et&&await writeText(Et),kt.preventDefault()}if((Ue?kt.metaKey:kt.ctrlKey)&&kt.key==="v"){const Lt=await readText();if(Lt){const{from:wn}=V.state.selection.main,Et=V.state.update({changes:{from:wn,insert:Lt}});V.dispatch(Et)}kt.preventDefault()}})}),await emit("on-webview-mounted")}else{const $e=Ne=>{window.opener.postMessage("close-window",location.origin),window.removeEventListener("beforeunload",$e)};window.addEventListener("beforeunload",$e),g.value=window.opener.__constants,y.value=window.opener.__script,window.opener.__is_web,g.value.map(Ne=>{k.value[Ne.uuid]=!1}),V=new EditorView({doc:y.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(Ne=>{y.value=Ne.state.doc.toString()})],parent:document.getElementById("codes-container")})}}),onUnmounted(()=>{const $e=V.getWrapperElement();$e.parentNode.removeChild($e),V=null});const z=($e,Ne)=>{k.value[$e]=Ne},j=()=>{const $e=genUUID();g.value.push({uuid:$e,name:$e.slice(0,5),value:0,type:ParameterType.Number,min:0,max:1e3})},re=$e=>{g.value.map((Ne,Oe)=>{Ne.uuid===$e&&g.value.splice(Oe,1)})};watch([g,y],()=>{ae()},{deep:!0});const oe=[{value:ParameterType.Constant,key:"constant"},{value:ParameterType.Number,key:"number"},{value:ParameterType.RingController,key:"ring"}],ae=async()=>{window.__TAURI_INTERNALS__?await emit("sync-info",{__constants:g.value,__script:y.value}):(localStorage.setItem("constants",JSON.stringify(g.value)),localStorage.setItem("script",y.value),window.opener.postMessage("sync-info",location.origin))},de=async()=>{window.__TAURI_INTERNALS__?await emit("execute-script"):window.opener.postMessage("execute-script",location.origin)},ue=$e=>{$e.params.push({name:"",min:0,max:1e3,value:500})},pe=$e=>{let Ne=!1;g.value.map((Oe,_e)=>{if(Oe.uuid===$e&&_e!==g.value.length-1&&!Ne){const Fe=g.value.splice(_e,1);g.value.splice(_e+1,0,Fe[0]),Ne=!0}})},he=$e=>{let Ne=!1;g.value.map((Oe,_e)=>{if(Oe.uuid===$e&&_e!==0&&!Ne){const Fe=g.value.splice(_e,1);g.value.splice(_e-1,0,Fe[0]),Ne=!0}})},xe=$e=>{$e.type===ParameterType.Number?$e.value=0:$e.type===ParameterType.Constant?$e.value="":$e.type===ParameterType.RingController&&($e.value={radius:{name:"",min:0,max:1e3,value:500},degree:{name:"",min:0,max:360,value:60},params:[]})};return($e,Ne)=>{const Oe=resolveComponent("el-button"),_e=resolveComponent("el-input"),Fe=resolveComponent("el-icon"),Ue=resolveComponent("el-option"),kt=resolveComponent("el-select"),Lt=resolveComponent("el-input-number"),wn=resolveComponent("el-form-item"),Et=resolveComponent("el-tab-pane"),xn=resolveComponent("el-collapse-item"),jt=resolveComponent("el-collapse"),An=resolveComponent("el-tabs"),Dn=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[createVNode(An,{modelValue:$.value,"onUpdate:modelValue":Ne[0]||(Ne[0]=En=>$.value=En),class:"tabs"},{default:withCtx(()=>[createVNode(Et,{label:unref(r)("programming.global-constants"),name:"global-constants"},{default:withCtx(()=>[createVNode(Dn,null,{default:withCtx(()=>[createVNode(Oe,{class:"add-constant-button",onPointerdown:j},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-constant")),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,En=>(openBlock(),createElementBlock("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[withDirectives(createBaseVNode("span",{class:"parameter-name-label"},toDisplayString$1(En.name),513),[[vShow,!k.value[En.uuid]]]),withDirectives(createVNode(_e,{class:"parameter-name-input",modelValue:En.name,"onUpdate:modelValue":Bn=>En.name=Bn,onKeyup:withKeys(Bn=>z(En.uuid,!1),["enter","native"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[vShow,k.value[En.uuid]]]),withDirectives(createVNode(Fe,{class:"edit-icon",onPointerdown:Bn=>z(En.uuid,!0)},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:2},1032,["onPointerdown"]),[[vShow,!k.value[En.uuid]]])]),createVNode(kt,{modelValue:En.type,"onUpdate:modelValue":Bn=>En.type=Bn,class:"parameter-type-select",placeholder:unref(r)("programming.type"),onChange:Bn=>xe(En)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(oe,Bn=>createVNode(Ue,{key:Bn.key,label:unref(r)(`programming.${Bn.key}`),value:Bn.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),En.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_5$2,[createVNode(Lt,{class:"parameter-value",modelValue:En.value,"onUpdate:modelValue":Bn=>En.value=Bn},null,8,["modelValue","onUpdate:modelValue"]),createVNode(wn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.min,"onUpdate:modelValue":Bn=>En.min=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.max,"onUpdate:modelValue":Bn=>En.max=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):En.type===unref(ParameterType).Constant?(openBlock(),createBlock(kt,{key:1,modelValue:En.value,"onUpdate:modelValue":Bn=>En.value=Bn,class:"parameter-const-select",placeholder:unref(r)("programming.value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Bn=>(openBlock(),createBlock(Ue,{key:Bn.uuid,label:Bn.name,value:Bn.uuid},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):En.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_6$2,[createVNode(An,{type:"border-card"},{default:withCtx(()=>[createVNode(Et,{label:"radius"},{default:withCtx(()=>[createVNode(wn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(_e,{class:"parameter-value",modelValue:En.value.radius.name,"onUpdate:modelValue":Bn=>En.value.radius.name=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.value.radius.value,"onUpdate:modelValue":Bn=>En.value.radius.value=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.value.radius.min,"onUpdate:modelValue":Bn=>En.value.radius.min=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.value.radius.max,"onUpdate:modelValue":Bn=>En.value.radius.max=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(Et,{label:"degree"},{default:withCtx(()=>[createVNode(wn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(_e,{class:"parameter-value",modelValue:En.value.degree.name,"onUpdate:modelValue":Bn=>En.value.degree.name=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.value.degree.value,"onUpdate:modelValue":Bn=>En.value.degree.value=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.value.degree.min,"onUpdate:modelValue":Bn=>En.value.degree.min=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:En.value.degree.max,"onUpdate:modelValue":Bn=>En.value.degree.max=Bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(Et,{label:"params"},{default:withCtx(()=>[createVNode(Oe,{class:"add-parameter-button",onPointerdown:Bn=>ue(En.value)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:2},1032,["onPointerdown"]),createVNode(jt,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(En.value.params,Bn=>(openBlock(),createBlock(xn,{title:Bn.name,name:"1"},{default:withCtx(()=>[createVNode(wn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(_e,{class:"parameter-value",modelValue:Bn.name,"onUpdate:modelValue":$n=>Bn.name=$n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:Bn.value,"onUpdate:modelValue":$n=>Bn.value=$n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:Bn.min,"onUpdate:modelValue":$n=>Bn.min=$n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(wn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(Lt,{class:"parameter-value",modelValue:Bn.max,"onUpdate:modelValue":$n=>Bn.max=$n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0),createVNode(Fe,{class:"sort-down-btn",onPointerdown:Bn=>pe(En.uuid)},{default:withCtx(()=>[createVNode(unref(sort_down_default))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"sort-up-btn",onPointerdown:Bn=>he(En.uuid)},{default:withCtx(()=>[createVNode(unref(sort_up_default))]),_:2},1032,["onPointerdown"]),createVNode(Fe,{class:"remove-btn",onPointerdown:Bn=>re(En.uuid)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["onPointerdown"])]))),256))]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$2,toDisplayString$1(unref(e)("programming.script")),1),createVNode(Oe,{class:"reset-btn"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.reset")),1)]),_:1}),createVNode(Oe,{class:"execute-btn",type:"primary",onPointerdown:Ne[1]||(Ne[1]=En=>de())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.execute")),1)]),_:1})]),_hoisted_10$2])])}}}),CharacterProgrammingEditor=_export_sfc(_sfc_main$4,[["__scopeId","data-v-a11bf369"]]),_withScopeId=n=>(pushScopeId("data-v-ecd3e8af"),n=n(),popScopeId(),n),_hoisted_1$2={class:"glyph-programming-editor"},_hoisted_2$2={class:"left-panel"},_hoisted_3$1={class:"constant-item"},_hoisted_4$1={class:"parameter-name"},_hoisted_5$1={key:0},_hoisted_6$1={key:2},_hoisted_7$1={class:"parameter-item"},_hoisted_8$1={class:"parameter-name"},_hoisted_9$1={key:0},_hoisted_10$1={key:2},_hoisted_11$1={class:"right-panel"},_hoisted_12$1={class:"codes-header"},_hoisted_13$1={class:"codes-title"},_hoisted_14$1=_withScopeId(()=>createBaseVNode("div",{id:"codes-container"},null,-1)),_sfc_main$3=defineComponent({__name:"GlyphProgrammingEditor",setup(n){const{t:e,tm:r}=useI18n(),g=ref([]),y=ref([]),k=ref(""),$=ref({}),V=ref("global-constants");let L=null;const z=[{value:ParameterType.Constant,key:"constant"},{value:ParameterType.Number,key:"number"},{value:ParameterType.RingController,key:"ring"}];let j=null;onMounted(async()=>{if(window.__TAURI_INTERNALS__){const Ue=await getCurrentWindow().onCloseRequested(async kt=>{try{L&&(L.toTextArea(),L=null,document.getElementById("codes-container").innerHTML=""),await emit("on-webview-close"),j&&j(),Ue&&Ue()}catch(Lt){console.error(Lt)}});j=await listen("init-data",kt=>{const{__constants:Lt,__parameters:wn,__script:Et,__isWeb:xn}=kt.payload;window.__constants=Lt,window.__parameters=wn,window.__script=Et,window.__is_web=xn,g.value=Lt,y.value=wn,k.value=Et,g.value?.map(An=>{$.value[An.uuid]=!1}),y.value?.map(An=>{$.value[An.uuid]=!1}),L=new EditorView({doc:k.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(An=>{k.value=An.state.doc.toString()})],parent:document.getElementById("codes-container")});const jt=navigator.userAgent.includes("Mac");L.dom.addEventListener("keydown",async An=>{if((jt?An.metaKey:An.ctrlKey)&&An.key==="c"){const{from:Dn,to:En}=L.state.selection.main,Bn=L.state.doc.slice(Dn,En).toString();Bn&&await writeText(Bn),An.preventDefault()}if((jt?An.metaKey:An.ctrlKey)&&An.key==="v"){const Dn=await readText();if(Dn){const{from:En}=L.state.selection.main,Bn=L.state.update({changes:{from:En,insert:Dn}});L.dispatch(Bn)}An.preventDefault()}})}),await emit("on-webview-mounted")}else{const Ue=kt=>{window.opener.postMessage("close-window",location.origin),window.removeEventListener("beforeunload",Ue)};window.addEventListener("beforeunload",Ue),g.value=window.opener.__constants,y.value=window.opener.__parameters,k.value=window.opener.__script,window.opener.__is_web,g.value.map(kt=>{$.value[kt.uuid]=!1}),y.value.map(kt=>{$.value[kt.uuid]=!1}),L=new EditorView({doc:k.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(kt=>{k.value=kt.state.doc.toString()})],parent:document.getElementById("codes-container")})}}),onUnmounted(()=>{const Ue=L.getWrapperElement();Ue.parentNode.removeChild(Ue),L=null});const re=(Ue,kt)=>{$.value[Ue]=kt},oe=()=>{const Ue=genUUID();g.value.push({uuid:Ue,name:Ue.slice(0,5),value:0,type:ParameterType.Number,min:0,max:1e3})},ae=()=>{const Ue=genUUID();y.value.push({uuid:Ue,name:Ue.slice(0,5).replaceAll("-","_"),type:ParameterType.Number,value:0,min:0,max:1e3})},de=Ue=>{g.value.map((kt,Lt)=>{kt.uuid===Ue&&g.value.splice(Lt,1)})},ue=Ue=>{y.value.map((kt,Lt)=>{kt.uuid===Ue&&y.value.splice(Lt,1)})},pe=Ue=>{let kt=!1;y.value.map((Lt,wn)=>{if(Lt.uuid===Ue&&wn!==y.value.length-1&&!kt){const Et=y.value.splice(wn,1);y.value.splice(wn+1,0,Et[0]),kt=!0}})},he=Ue=>{let kt=!1;y.value.map((Lt,wn)=>{if(Lt.uuid===Ue&&wn!==0&&!kt){const Et=y.value.splice(wn,1);y.value.splice(wn-1,0,Et[0]),kt=!0}})},xe=Ue=>{let kt=!1;g.value.map((Lt,wn)=>{if(Lt.uuid===Ue&&wn!==g.value.length-1&&!kt){const Et=g.value.splice(wn,1);g.value.splice(wn+1,0,Et[0]),kt=!0}})},$e=Ue=>{let kt=!1;g.value.map((Lt,wn)=>{if(Lt.uuid===Ue&&wn!==0&&!kt){const Et=g.value.splice(wn,1);g.value.splice(wn-1,0,Et[0]),kt=!0}})};watch([g,y,k],()=>{Ne()},{deep:!0});const Ne=async()=>{window.__TAURI_INTERNALS__?await emit("sync-info",{__constants:g.value,__parameters:y.value,__script:k.value}):(localStorage.setItem("constants",JSON.stringify(g.value)),localStorage.setItem("parameters",JSON.stringify(y.value)),localStorage.setItem("script",k.value),window.opener.postMessage("sync-info",location.origin))},Oe=async()=>{window.__TAURI_INTERNALS__?await emit("execute-script"):window.opener.postMessage("execute-script",location.origin)},_e=Ue=>{Ue.params.push({name:"",min:0,max:1e3,value:500})},Fe=Ue=>{Ue.type===ParameterType.Number?Ue.value=0:Ue.type===ParameterType.Constant?Ue.value="":Ue.type===ParameterType.RingController&&(Ue.value={radius:{name:"",min:0,max:1e3,value:500},degree:{name:"",min:0,max:360,value:60},params:[]})};return(Ue,kt)=>{const Lt=resolveComponent("el-button"),wn=resolveComponent("el-input"),Et=resolveComponent("el-icon"),xn=resolveComponent("el-option"),jt=resolveComponent("el-select"),An=resolveComponent("el-input-number"),Dn=resolveComponent("el-form-item"),En=resolveComponent("el-tab-pane"),Bn=resolveComponent("el-collapse-item"),$n=resolveComponent("el-collapse"),Wn=resolveComponent("el-tabs"),Gn=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createVNode(Wn,{modelValue:V.value,"onUpdate:modelValue":kt[0]||(kt[0]=Nn=>V.value=Nn),class:"tabs"},{default:withCtx(()=>[createVNode(En,{label:unref(r)("programming.global-constants"),name:"global-constants"},{default:withCtx(()=>[createVNode(Gn,null,{default:withCtx(()=>[createVNode(Lt,{class:"add-constant-button",onPointerdown:oe},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-constant")),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Nn=>(openBlock(),createElementBlock("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[withDirectives(createBaseVNode("span",{class:"parameter-name-label"},toDisplayString$1(Nn.name),513),[[vShow,!$.value[Nn.uuid]]]),withDirectives(createVNode(wn,{class:"parameter-name-input",modelValue:Nn.name,"onUpdate:modelValue":Zn=>Nn.name=Zn,onKeyup:withKeys(Zn=>re(Nn.uuid,!1),["enter","native"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[vShow,$.value[Nn.uuid]]]),withDirectives(createVNode(Et,{class:"edit-icon",onPointerdown:Zn=>re(Nn.uuid,!0)},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:2},1032,["onPointerdown"]),[[vShow,!$.value[Nn.uuid]]])]),createVNode(jt,{modelValue:Nn.type,"onUpdate:modelValue":Zn=>Nn.type=Zn,class:"parameter-type-select",placeholder:unref(r)("programming.type"),onChange:Zn=>Fe(Nn)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(z,Zn=>createVNode(xn,{key:Zn.key,label:unref(r)(`programming.${Zn.key}`),value:Zn.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),Nn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_5$1,[createVNode(An,{class:"parameter-value",modelValue:Nn.value,"onUpdate:modelValue":Zn=>Nn.value=Zn},null,8,["modelValue","onUpdate:modelValue"]),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.min,"onUpdate:modelValue":Zn=>Nn.min=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.max,"onUpdate:modelValue":Zn=>Nn.max=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):Nn.type===unref(ParameterType).Constant?(openBlock(),createBlock(jt,{key:1,modelValue:Nn.value,"onUpdate:modelValue":Zn=>Nn.value=Zn,class:"parameter-const-select",placeholder:unref(r)("programming.value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Zn=>(openBlock(),createBlock(xn,{key:Zn.uuid,label:Zn.name,value:Zn.uuid},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):Nn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_6$1,[createVNode(Wn,{type:"border-card"},{default:withCtx(()=>[createVNode(En,{label:"radius"},{default:withCtx(()=>[createVNode(Dn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Nn.value.radius.name,"onUpdate:modelValue":Zn=>Nn.value.radius.name=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.radius.value,"onUpdate:modelValue":Zn=>Nn.value.radius.value=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.radius.min,"onUpdate:modelValue":Zn=>Nn.value.radius.min=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.radius.max,"onUpdate:modelValue":Zn=>Nn.value.radius.max=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(En,{label:"degree"},{default:withCtx(()=>[createVNode(Dn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Nn.value.degree.name,"onUpdate:modelValue":Zn=>Nn.value.degree.name=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.degree.value,"onUpdate:modelValue":Zn=>Nn.value.degree.value=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.degree.min,"onUpdate:modelValue":Zn=>Nn.value.degree.min=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.degree.max,"onUpdate:modelValue":Zn=>Nn.value.degree.max=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(En,{label:"params"},{default:withCtx(()=>[createVNode(Lt,{class:"add-parameter-button",onPointerdown:Zn=>_e(Nn.value)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:2},1032,["onPointerdown"]),createVNode($n,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Nn.value.params,Zn=>(openBlock(),createBlock(Bn,{title:Zn.name,name:"1"},{default:withCtx(()=>[createVNode(Dn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Zn.name,"onUpdate:modelValue":Hn=>Zn.name=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Zn.value,"onUpdate:modelValue":Hn=>Zn.value=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Zn.min,"onUpdate:modelValue":Hn=>Zn.min=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Zn.max,"onUpdate:modelValue":Hn=>Zn.max=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0),createVNode(Et,{class:"sort-down-btn",onPointerdown:Zn=>xe(Nn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_down_default))]),_:2},1032,["onPointerdown"]),createVNode(Et,{class:"sort-up-btn",onPointerdown:Zn=>$e(Nn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_up_default))]),_:2},1032,["onPointerdown"]),createVNode(Et,{class:"remove-btn",onPointerdown:Zn=>de(Nn.uuid)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["onPointerdown"])]))),256))]),_:1})]),_:1},8,["label"]),createVNode(En,{label:unref(r)("programming.glyph-parameters"),name:"glyph-parameters"},{default:withCtx(()=>[createVNode(Gn,null,{default:withCtx(()=>[createVNode(Lt,{class:"add-parameter-button",onPointerdown:ae},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,Nn=>(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[withDirectives(createBaseVNode("span",{class:"parameter-name-label"},toDisplayString$1(Nn.name),513),[[vShow,!$.value[Nn.uuid]]]),withDirectives(createVNode(wn,{class:"parameter-name-input",modelValue:Nn.name,"onUpdate:modelValue":Zn=>Nn.name=Zn,onKeyup:withKeys(Zn=>re(Nn.uuid,!1),["enter","native"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[vShow,$.value[Nn.uuid]]]),withDirectives(createVNode(Et,{class:"edit-icon",onPointerdown:Zn=>re(Nn.uuid,!0)},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:2},1032,["onPointerdown"]),[[vShow,!$.value[Nn.uuid]]])]),createVNode(jt,{modelValue:Nn.type,"onUpdate:modelValue":Zn=>Nn.type=Zn,class:"parameter-type-select",placeholder:unref(r)("programming.type"),onChange:Zn=>Fe(Nn)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(z,Zn=>createVNode(xn,{key:Zn.key,label:unref(r)(`programming.${Zn.key}`),value:Zn.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),Nn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_9$1,[createVNode(An,{class:"parameter-value",modelValue:Nn.value,"onUpdate:modelValue":Zn=>Nn.value=Zn},null,8,["modelValue","onUpdate:modelValue"]),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.min,"onUpdate:modelValue":Zn=>Nn.min=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.max,"onUpdate:modelValue":Zn=>Nn.max=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):Nn.type===unref(ParameterType).Constant?(openBlock(),createBlock(jt,{key:1,modelValue:Nn.value,"onUpdate:modelValue":Zn=>Nn.value=Zn,class:"parameter-const-select",placeholder:unref(r)("programming.value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Zn=>(openBlock(),createBlock(xn,{key:Zn.uuid,label:Zn.name,value:Zn.uuid},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):Nn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_10$1,[createVNode(Wn,{type:"border-card"},{default:withCtx(()=>[createVNode(En,{label:"radius"},{default:withCtx(()=>[createVNode(Dn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Nn.value.radius.name,"onUpdate:modelValue":Zn=>Nn.value.radius.name=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.radius.value,"onUpdate:modelValue":Zn=>Nn.value.radius.value=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.radius.min,"onUpdate:modelValue":Zn=>Nn.value.radius.min=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.radius.max,"onUpdate:modelValue":Zn=>Nn.value.radius.max=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(En,{label:"degree"},{default:withCtx(()=>[createVNode(Dn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Nn.value.degree.name,"onUpdate:modelValue":Zn=>Nn.value.degree.name=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.degree.value,"onUpdate:modelValue":Zn=>Nn.value.degree.value=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.degree.min,"onUpdate:modelValue":Zn=>Nn.value.degree.min=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Nn.value.degree.max,"onUpdate:modelValue":Zn=>Nn.value.degree.max=Zn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(En,{label:"params"},{default:withCtx(()=>[createVNode(Lt,{class:"add-parameter-button",onPointerdown:Zn=>_e(Nn.value)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:2},1032,["onPointerdown"]),createVNode($n,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Nn.value.params,Zn=>(openBlock(),createBlock(Bn,{title:Zn.name,name:"1"},{default:withCtx(()=>[createVNode(Dn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(wn,{class:"parameter-value",modelValue:Zn.name,"onUpdate:modelValue":Hn=>Zn.name=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Zn.value,"onUpdate:modelValue":Hn=>Zn.value=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Zn.min,"onUpdate:modelValue":Hn=>Zn.min=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Dn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Zn.max,"onUpdate:modelValue":Hn=>Zn.max=Hn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0),createVNode(Et,{class:"sort-down-btn",onPointerdown:Zn=>pe(Nn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_down_default))]),_:2},1032,["onPointerdown"]),createVNode(Et,{class:"sort-up-btn",onPointerdown:Zn=>he(Nn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_up_default))]),_:2},1032,["onPointerdown"]),createVNode(Et,{class:"remove-btn",onPointerdown:Zn=>ue(Nn.uuid)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["onPointerdown"])]))),256))]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_11$1,[createBaseVNode("div",_hoisted_12$1,[createBaseVNode("div",_hoisted_13$1,toDisplayString$1(unref(e)("programming.script")),1),createVNode(Lt,{class:"reset-btn"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.reset")),1)]),_:1}),createVNode(Lt,{class:"execute-btn",type:"primary",onPointerdown:kt[1]||(kt[1]=Nn=>Oe())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.execute")),1)]),_:1})]),_hoisted_14$1])])}}}),GlyphProgrammingEditor=_export_sfc(_sfc_main$3,[["__scopeId","data-v-ecd3e8af"]]),_hoisted_1$1={class:"widget grid-controller"},_hoisted_2$1=["width","height"],_sfc_main$2=defineComponent({__name:"GridController_playground",props:{dx:{type:Number,default:0},dy:{type:Number,default:0},centerSquareSize:{type:Number,default:500/3},size:{type:Number,default:500},onChange:Function},setup(n){const e=n,{dx:r,dy:g,centerSquareSize:y,size:k,onChange:$}=toRefs(e),V=computed(()=>[j(k.value/2)+j(r.value),j(k.value/2)+j(g.value)]),L=ref(null),z=(Oe,_e,Fe,Ue)=>Math.sqrt((Oe-Fe)*(Oe-Fe)+(_e-Ue)*(_e-Ue)),j=Oe=>Oe/k.value*500,re=computed(()=>Math.round((k.value-y.value)/2)+r.value),oe=computed(()=>Math.round((k.value-y.value)/2+y.value)+r.value),ae=computed(()=>Math.round((k.value-y.value)/2)+g.value),de=computed(()=>Math.round((k.value-y.value)/2+y.value)+g.value);onMounted(()=>{L.value.addEventListener("mousedown",he),L.value.addEventListener("mousemove",xe)}),onBeforeUnmount(()=>{L.value.removeEventListener("mousedown",he),L.value.removeEventListener("mousemove",xe)});const ue=ref("none"),pe=ref("default"),he=Oe=>{z(Oe.offsetX,Oe.offsetY,V.value[0],V.value[1])<=20?(document.body.addEventListener("mouseup",$e),ue.value="inner-move"):z(Oe.offsetX,Oe.offsetY,j(k.value/2-y.value/4),j(k.value/2-y.value/4))<=20?(document.body.addEventListener("mouseup",$e),ue.value="left-top",pe.value="left-top"):z(Oe.offsetX,Oe.offsetY,j(k.value/2+y.value/4),j(k.value/2-y.value/4))<=20?(document.body.addEventListener("mouseup",$e),ue.value="right-top",pe.value="right-top"):z(Oe.offsetX,Oe.offsetY,j(k.value/2-y.value/4),j(k.value/2+y.value/4))<=20?(document.body.addEventListener("mouseup",$e),ue.value="left-bottom",pe.value="left-bottom"):z(Oe.offsetX,Oe.offsetY,j(k.value/2+y.value/4),j(k.value/2+y.value/4))<=20&&(document.body.addEventListener("mouseup",$e),ue.value="right-bottom",pe.value="right-bottom")},xe=Oe=>{switch(ue.value){case"inner-move":{const _e=Oe.offsetX/500*k.value-k.value/2,Fe=Oe.offsetY/500*k.value-k.value/2;Math.abs(_e)<=k.value/12&&Math.abs(Fe)<=k.value/12&&$.value(_e,Fe,y.value);break}case"none":{z(Oe.offsetX,Oe.offsetY,j(k.value/2-y.value/4),j(k.value/2-y.value/4))<=20?pe.value="left-top":z(Oe.offsetX,Oe.offsetY,j(k.value/2+y.value/4),j(k.value/2-y.value/4))<=20?pe.value="right-top":z(Oe.offsetX,Oe.offsetY,j(k.value/2-y.value/4),j(k.value/2+y.value/4))<=20?pe.value="left-bottom":z(Oe.offsetX,Oe.offsetY,j(k.value/2+y.value/4),j(k.value/2+y.value/4))<=20?pe.value="right-bottom":pe.value="default";break}default:{const _e=Oe.offsetX/500*k.value-k.value/2,Fe=Oe.offsetY/500*k.value-k.value/2;let Ue=0;if(ue.value==="left-top"?Ue=Math.min(-_e,-Fe):ue.value==="right-top"?Ue=Math.min(_e,-Fe):ue.value==="left-bottom"?Ue=Math.min(-_e,Fe):ue.value==="right-bottom"&&(Ue=Math.min(_e,Fe)),Ue=Math.abs(Ue),Ue<=k.value/6&&Ue>=k.value/24){const kt=Ue*4,Lt=r.value/y.value*kt,wn=g.value/y.value*kt;$.value(Lt,wn,kt)}else if(Ue>=k.value/6){const kt=k.value/3*2,Lt=r.value/y.value*kt,wn=g.value/y.value*kt;$.value(Lt,wn,kt)}else if(Ue<=k.value/24){const kt=k.value/6,Lt=r.value/y.value*kt,wn=g.value/y.value*kt;$.value(Lt,wn,kt)}break}}},$e=()=>{ue.value="none",document.body.removeEventListener("mouseup",$e)};emitter.on("refreshPlaygroundGridController",()=>{Ne(),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile$1.value,L.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:r.value,dy:g.value,size:k.value,centerSquareSize:y.value,x1:re.value,x2:oe.value,y1:ae.value,y2:de.value},useSkeletonGrid:!0})}),watch([r,g,k,y],(Oe,_e)=>{Ne(),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile$1.value,L.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:r.value,dy:g.value,size:k.value,centerSquareSize:y.value,x1:re.value,x2:oe.value,y1:ae.value,y2:de.value},useSkeletonGrid:!0})},{deep:!0});const Ne=()=>{const Oe=L.value.getContext("2d");Oe.clearRect(0,0,k.value,k.value),Oe.strokeStyle="#811616",Oe.lineWidth=2,Oe.beginPath(),Oe.moveTo(0,ae.value),Oe.lineTo(k.value,ae.value),Oe.stroke(),Oe.closePath(),Oe.beginPath(),Oe.moveTo(0,de.value),Oe.lineTo(k.value,de.value),Oe.stroke(),Oe.closePath(),Oe.beginPath(),Oe.moveTo(re.value,0),Oe.lineTo(re.value,k.value),Oe.stroke(),Oe.closePath(),Oe.beginPath(),Oe.moveTo(oe.value,0),Oe.lineTo(oe.value,k.value),Oe.stroke(),Oe.closePath(),Oe.beginPath(),Oe.strokeStyle="#153063",Oe.rect(k.value/2-y.value/4,k.value/2-y.value/4,y.value/2,y.value/2),Oe.stroke(),Oe.closePath(),Oe.fillStyle="#153063",Oe.lineWidth=0,Oe.beginPath(),Oe.arc(V.value[0]/500*k.value,V.value[1]/500*k.value,20,0,2*Math.PI),Oe.closePath(),Oe.fill()};return(Oe,_e)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("canvas",{ref_key:"canvas",ref:L,width:unref(k),height:unref(k),style:{width:"500px",height:"500px"},class:normalizeClass({"left-top":pe.value==="left-top","right-top":pe.value==="right-top","left-bottom":pe.value==="left-bottom","right-bottom":pe.value==="right-bottom"})},null,10,_hoisted_2$1)]))}}),GridController=_export_sfc(_sfc_main$2,[["__scopeId","data-v-149ba2b7"]]),_hoisted_1={class:"playground"},_hoisted_2={class:"el-loading-spinner"},_hoisted_3=createBaseVNode("svg",{class:"circular",viewBox:"0 0 50 50"},[createBaseVNode("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})],-1),_hoisted_4={class:"loading-text"},_hoisted_5={class:"left"},_hoisted_6={class:"characters",id:"playground-characters-list"},_hoisted_7={class:"character-preview"},_hoisted_8={class:"params-panel"},_hoisted_9={class:"column column-1"},_hoisted_10={class:"column"},_hoisted_11={class:"right"},_hoisted_12={class:"edit-panel"},_hoisted_13=createBaseVNode("div",{class:"tips"},null,-1),_hoisted_14={class:"control-panel"},svg=`
  <path class="path" d="" style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
`,_sfc_main$1=defineComponent({__name:"Playground",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref([]);onMounted(()=>{initPlayground()});const k=(L,z,j)=>{gridSettings.value.dx=L,gridSettings.value.dy=z,gridSettings.value.centerSquareSize=j,renderPreview()};watch(constants$1,()=>{updateCharactersAndPreview(),emitter.emit("refreshPlaygroundGridController")},{deep:!0});const $=()=>{let L=constants$1.value[0].value;L+=1,L>=constants$1.value[0].options.length&&(L=0),constants$1.value[0].value=L},V=()=>{let L=constants$1.value[2].value;L+=1,L>=constants$1.value[2].options.length&&(L=0),constants$1.value[2].value=L};return(L,z)=>{const j=resolveComponent("el-progress"),re=resolveComponent("el-button"),oe=resolveComponent("el-slider"),ae=resolveComponent("el-form-item"),de=resolveDirective("loading");return withDirectives((openBlock(),createElementBlock("div",{class:"wrap","element-loading-text":"","element-loading-spinner":svg,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)"},[createBaseVNode("div",_hoisted_1,[withDirectives(createBaseVNode("div",_hoisted_2,[_hoisted_3,createBaseVNode("div",null,toDisplayString$1(unref(r)("panels.paramsPanel.loadingMsg")),1)],512),[[vShow,unref(loading$1)&&unref(total$1)===0]]),withDirectives(createBaseVNode("div",_hoisted_4,[createVNode(j,{"text-inside":!0,"stroke-width":20,percentage:Math.round(unref(loaded$1)/unref(total$1)*100)},null,8,["percentage"]),createBaseVNode("div",null,toDisplayString$1(unref(r)("panels.paramsPanel.loadedMsg",{percent:Math.round(unref(loaded$1)/unref(total$1)*100)})),1)],512),[[vShow,unref(loading$1)&&unref(total$1)!=0]]),createBaseVNode("div",_hoisted_5,[createBaseVNode("div",_hoisted_6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,ue=>(openBlock(),createElementBlock("div",_hoisted_7,toDisplayString$1(ue),1))),256))]),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createVNode(ae,{"label-width":"80px",label:""},{default:withCtx(()=>[createVNode(re,{size:"small",onPointerdown:$},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(oe,{size:"small",step:.05,modelValue:unref(constants$1)[1].value,"onUpdate:modelValue":z[0]||(z[0]=ue=>unref(constants$1)[1].value=ue),min:unref(constants$1)[1].min,max:unref(constants$1)[1].max},null,8,["modelValue","min","max"])]),_:1}),createVNode(ae,{"label-width":"80px",label:""},{default:withCtx(()=>[createVNode(re,{size:"small",onPointerdown:V},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(oe,{size:"small",step:.05,modelValue:unref(constants$1)[3].value,"onUpdate:modelValue":z[1]||(z[1]=ue=>unref(constants$1)[3].value=ue),min:unref(constants$1)[3].min,max:unref(constants$1)[3].max},null,8,["modelValue","min","max"])]),_:1})]),createBaseVNode("div",_hoisted_10,[createVNode(ae,{"label-width":"80px",label:""},{default:withCtx(()=>[createVNode(oe,{size:"small",modelValue:unref(constants$1)[6].value,"onUpdate:modelValue":z[2]||(z[2]=ue=>unref(constants$1)[6].value=ue),min:unref(constants$1)[6].min,max:unref(constants$1)[6].max},null,8,["modelValue","min","max"])]),_:1}),createVNode(ae,{"label-width":"80px",label:""},{default:withCtx(()=>[createVNode(oe,{size:"small",step:.05,modelValue:unref(constants$1)[5].value,"onUpdate:modelValue":z[3]||(z[3]=ue=>unref(constants$1)[5].value=ue),min:unref(constants$1)[5].min,max:unref(constants$1)[5].max},null,8,["modelValue","min","max"])]),_:1}),createVNode(ae,{"label-width":"80px",label:""},{default:withCtx(()=>[createVNode(oe,{size:"small",step:.05,modelValue:unref(constants$1)[4].value,"onUpdate:modelValue":z[4]||(z[4]=ue=>unref(constants$1)[4].value=ue),min:unref(constants$1)[4].min,max:unref(constants$1)[4].max},null,8,["modelValue","min","max"])]),_:1})])])]),createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createVNode(GridController,{size:unref(gridSettings).size,dx:unref(gridSettings).dx,dy:unref(gridSettings).dy,centerSquareSize:unref(gridSettings).centerSquareSize,onChange:k},null,8,["size","dx","dy","centerSquareSize"])]),_hoisted_13,createBaseVNode("div",_hoisted_14,[createVNode(re,{type:"primary",onClick:unref(exportFont$1)},{default:withCtx(()=>[createTextVNode("")]),_:1},8,["onClick"])])])])])),[[de,unref(loading$1)]])}}}),router=createRouter({history:createWebHashHistory(),routes:[{path:"/",name:"welcome",component:Welcome},{path:"/editor",name:"editor",component:Editor},{path:"/character-programming-editor",name:"character-programming-editor",component:CharacterProgrammingEditor},{path:"/glyph-programming-editor",name:"glyph-programming-editor",component:GlyphProgrammingEditor},{path:"/playground",name:"playground",component:_sfc_main$1}]});router.beforeEach((n,e,r)=>{r()});const initWorker=()=>{let n=null;return window.Worker&&(n=new Worker(new URL("/assets/worker-bn2URQOs.js",import.meta.url))),n};var WorkerEventType=(n=>(n[n.ParseFont=0]="ParseFont",n))(WorkerEventType||{});const scriptRel="modulepreload",assetsURL=function(n){return"/"+n},seen={},__vitePreload=function n(e,r,g){let y=Promise.resolve();if(r&&r.length>0){const k=document.getElementsByTagName("link"),$=document.querySelector("meta[property=csp-nonce]"),V=$?.nonce||$?.getAttribute("nonce");y=Promise.all(r.map(L=>{if(L=assetsURL(L),L in seen)return;seen[L]=!0;const z=L.endsWith(".css"),j=z?'[rel="stylesheet"]':"";if(!!g)for(let ae=k.length-1;ae>=0;ae--){const de=k[ae];if(de.href===L&&(!z||de.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${L}"]${j}`))return;const oe=document.createElement("link");if(oe.rel=z?"stylesheet":scriptRel,z||(oe.as="script",oe.crossOrigin=""),oe.href=L,V&&oe.setAttribute("nonce",V),document.head.appendChild(oe),z)return new Promise((ae,de)=>{oe.addEventListener("load",ae),oe.addEventListener("error",()=>de(new Error(`Unable to preload CSS for ${L}`)))})}))}return y.then(()=>e()).catch(k=>{const $=new Event("vite:preloadError",{cancelable:!0});if($.payload=k,window.dispatchEvent($),!$.defaultPrevented)throw k})};let wasmModule=null,isInitialized=!1;async function loadWasmModule(){if(isInitialized&&wasmModule)return wasmModule;try{const n=await __vitePreload(()=>import(new URL("/overlap_wasm.js",import.meta.url).href),[]);return await n.default(),isInitialized=!0,n}catch(n){throw console.error("Failed to load WASM module:",n),new Error("Failed to load overlap remover WASM module")}}async function getWasmModule(){return isInitialized?wasmModule:await loadWasmModule()}async function initWasmModule(){try{wasmModule=await loadWasmModule(),console.log("WASM module initialized successfully")}catch(n){throw console.error("Failed to initialize WASM module:",n),n}}const plainGlyph=(n,e={clearScript:!1})=>{const{clearScript:r}=e,g={uuid:n.uuid,type:n.type,name:n.name,components:n.components.map(y=>{const k=Object.assign({},y);return y.type==="glyph"&&(k.value=plainGlyph(y.value,{clearScript:!0})),k}),groups:clone$1(n.groups),orderedList:clone$1(n.orderedList),selectedComponentsUUIDs:clone$1(n.selectedComponentsUUIDs),view:clone$1(n.view),parameters:n.parameters.parameters,joints:n.joints.map(y=>({name:y.name,uuid:y.uuid,x:y.x,y:y.y})),reflines:n.reflines?clone$1(n.reflines):[],script:r?null:n.script};return r&&(g.script_reference=n.uuid),n.layout&&(g.layout=clone$1(n.layout)),n.glyph_script&&(g.glyph_script=clone$1(n.glyph_script)),n.system_script&&(g.system_script=clone$1(n.system_script)),n._o&&(g.objData=n._o.getData()),g},mapToObject=n=>{let e={};return n.forEach((r,g)=>{e[g]=r}),e},plainFile=n=>({uuid:n.uuid,characterList:n.characterList.map(e=>plainCharacter(e)),name:n.name,width:n.width,height:n.height,saved:n.saved,iconsCount:n.iconsCount,fontSettings:clone$1(n.fontSettings)}),plainCharacter=n=>{const e={uuid:n.uuid,type:n.type,character:clone$1(n.character),components:n.components.map(r=>{const g=Object.assign({},r);return r.type==="glyph"&&(g.value=plainGlyph(r.value,{clearScript:!0})),g}),groups:clone$1(n.groups),orderedList:clone$1(n.orderedList),selectedComponentsUUIDs:clone$1(n.selectedComponentsUUIDs),script:n.script||`function script_${n.uuid.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`,view:clone$1(n.view)};return n.glyph_script&&(e.glyph_script=clone$1(n.glyph_script)),n.info&&(e.info=clone$1(n.info)),e},instanceGlyph=n=>{n.parameters=new ParametersMap(n.parameters),n.joints=n.joints.map(r=>new Joint(r.name,{x:r.x,y:r.y})),n.components=n.components.length?n.components.map(r=>(r.type==="glyph"&&(r.value=instanceGlyph(r.value),r.value.parent_reference=getParentInfo(n)),r)):[];const e=new CustomGlyph(n);return n.objData&&e.setData(n.objData),n},instanceCharacter=n=>(n.script||(n.script=`function script_${n.uuid.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`),n.components=n.components.length?n.components.map(e=>(e.type==="glyph"&&(e.value=instanceGlyph(e.value),e.value.parent_reference=getParentInfo(n)),e)):[],new CustomGlyph(n),n),saveFile_tauri=async()=>{setSaveDialogVisible(!0)},saveAs_tauri=async()=>{setSaveDialogVisible(!0)},base64ToArrayBuffer=n=>{const e=n.replace(/^data:.+;base64,/,""),r=atob(e),g=new ArrayBuffer(r.length),y=new Uint8Array(g);for(let k=0;k<r.length;k++)y[k]=r.charCodeAt(k);return g},nativeSaveText=async(n,e,r)=>{const g=await save({defaultPath:e,filters:[{name:"Filter",extensions:r}]});g&&await writeTextFile(g,n)},nativeSaveBinary=async(n,e,r)=>{const g=await save({defaultPath:e,filters:[{name:"Filter",extensions:r}]});g&&await writeFile(g,n)},exportGlyphs_tauri=async()=>{loaded$1.value=0;let n=null,e="",r=[];editStatus.value===Status.GlyphList?(n=glyphs.value,e="glyphs.json"):editStatus.value===Status.StrokeGlyphList?(n=stroke_glyphs.value,e="stroke_glyphs.json"):editStatus.value===Status.RadicalGlyphList?(n=radical_glyphs.value,e="radical_glyphs.json"):editStatus.value===Status.CompGlyphList?(n=comp_glyphs.value,e="comp_glyphs.json"):(n=glyphs.value,e="glyphs.json"),total$1.value=n.length,loading$1.value=!0,setTimeout(async()=>{requestAnimationFrame(()=>g(0));const g=async y=>{if(r.push(plainGlyph(n[y])),loaded$1.value+=1,loaded$1.value>=total$1.value){loading$1.value=!1;const k=JSON.stringify({glyphs:r,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1});await nativeSaveText(k,e,["json"])}else requestAnimationFrame(()=>g(y+1))}},50)},exportJPEG_tauri=async()=>{const e=canvas.value.toDataURL("image/jpeg"),r=base64ToArrayBuffer(e);let g="untitled.jpg";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}.jpg`:g=`${editGlyph.value.name}.jpg`,nativeSaveBinary(r,g,["jpg","jpeg"])},exportPNG_tauri=async()=>{const n=canvas.value;render$1(n,!1);const e=n.toDataURL("image/png"),r=base64ToArrayBuffer(e);let g="untitled.png";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}.png`:g=`${editGlyph.value.name}.png`,nativeSaveBinary(r,g,["png"]),render$1(n,!0)},exportSVG_tauri=async()=>{if(editStatus.value!==Status.Edit&&editStatus.value!==Status.Glyph)return;const n=editStatus.value===Status.Edit?orderedListWithItemsForCurrentCharacterFile.value:editGlyph.value._o.components,e=componentsToSvg(n,selectedFile.value.width,selectedFile.value.height);let r="untitled.svg";editStatus.value===Status.Edit?r=`${editCharacterFile.value.character.text}.svg`:r=`${editGlyph.value.name}.svg`,nativeSaveText(e,r,["svg"])},exportFont_tauri=async n=>{const e=await createFont(n),r=toArrayBuffer(e),g=`${selectedFile.value.name}.otf`;nativeSaveBinary(r,g,["otf"])},showExportFontDialog_tauri=()=>{setExportFontTauriDialogVisible(!0)},showExportFontDialog=()=>{ENV.value==="tauri"?showExportFontDialog_tauri():setExportFontDialogVisible(!0)},createFile=()=>{files.value&&files.value.length?(tips.value="",tipsDialogVisible.value=!0):setCreateFileDialogVisible(!0)},openFile_tauri=async()=>{if(files.value&&files.value.length)tips.value="",tipsDialogVisible.value=!0;else{const{data:n}=await nativeImportTextFile(["json"]);if(!n)return;const e=JSON.parse(n);__openFile(e)}},addLoaded=()=>{loading$1.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading$1.value=!1))},__openFile=n=>{total$1.value=n.file.characterList.length*2+(n.glyphs.length+n.stroke_glyphs.length+n.radical_glyphs.length+n.comp_glyphs.length)*3,loaded$1.value=0,loading$1.value=!0,n.glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.GlyphList),addGlyphTemplate(k,Status.GlyphList),addLoaded()}),n.stroke_glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.StrokeGlyphList),addGlyphTemplate(k,Status.StrokeGlyphList),addLoaded()}),n.radical_glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.RadicalGlyphList),addGlyphTemplate(k,Status.RadicalGlyphList),addLoaded()}),n.comp_glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.CompGlyphList),addGlyphTemplate(k,Status.CompGlyphList),addLoaded()});const e=n.file;if(n.constants)for(let g=0;g<n.constants.length;g++)constantsMap.getByUUID(n.constants[g].uuid)||constants.value.push(n.constants[g]);if(n.constantGlyphMap){const g=Object.keys(n.constantGlyphMap);for(let y=0;y<g.length;y++)constantGlyphMap.set(g[y],n.constantGlyphMap[g[y]])}e.characterList=e.characterList.map(g=>(addLoaded(),instanceCharacter(g)));let r=!0;for(let g=0;g<files.value.length;g++)files.value[g].uuid===e.uuid&&(r=!1,ElNotification({title:"",message:h$1("i",`${e.name}`),type:"error"}));r&&(emitter.emit("renderGlyphPreviewCanvas"),emitter.emit("renderStrokeGlyphPreviewCanvas"),emitter.emit("renderRadicalGlyphPreviewCanvas"),emitter.emit("renderCompGlyphPreviewCanvas"),addFile(e),setSelectedFileUUID(e.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"?router.push("/editor"):(clearCharacterRenderList(),characterList.value.map(g=>{addCharacterTemplate(generateCharacterTemplate(g))}),emitter.emit("renderPreviewCanvas")))},openFile=async()=>{if(ENV.value==="tauri"){openFile_tauri();return}files.value&&files.value.length?(tips.value="",tipsDialogVisible.value=!0):(router.currentRoute.value.name==="welcome"&&router.push("/editor"),await _openFile())},_openFile=async()=>{const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept",".json"),n.addEventListener("change",async e=>{const g=e.currentTarget.files;for(let y=0;y<g.length;y++){const k=new FileReader;k.readAsText(g[y]),k.onload=()=>{const $=JSON.parse(k.result);__openFile($)}}document.body.removeChild(n)}),document.body.appendChild(n),n.click()},saveFile_web=()=>{setSaveFileTipDialogVisible(!0)},saveFile=async()=>{loading$1.value=!0,loaded$1.value=0,total$1.value=selectedFile.value.characterList.length+glyphs.value.length+stroke_glyphs.value.length+radical_glyphs.value.length+comp_glyphs.value.length;const n=JSON.stringify(constants.value);await localForage.setItem("constants",n);const e=JSON.stringify(mapToObject(constantGlyphMap));await localForage.setItem("constantGlyphMap",e);const r=plainFile(selectedFile.value),g=JSON.stringify(r);await localForage.setItem("file",g);const y=glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),k=JSON.stringify(y);await localForage.setItem("glyphs",k);const $=stroke_glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),V=JSON.stringify($);await localForage.setItem("stroke_glyphs",V);const L=radical_glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),z=JSON.stringify(L);await localForage.setItem("radical_glyphs",z);const j=comp_glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),re=JSON.stringify(j);await localForage.setItem("comp_glyphs",re),await localForage.setItem("version",1),loading$1.value=!1,ElNotification({title:"",message:h$1("i",{style:"color: teal"},`${r.name}`)})},clearCache=async()=>{localForage.clear(),ElNotification({title:"",message:h$1("i",{style:"color: teal"},"")})},nativeImportFile=async n=>{const e=await open$2({filters:[{name:"Filter",extensions:n}]});let r=null,g="untitled";return e&&(r=await readFile(e),g=e.split("/").pop().split(".")[0]),{uint8Array:r,name:g}},nativeImportTextFile=async n=>{const e=await open$2({filters:[{name:"Filter",extensions:n}]});let r=null,g="untitled";return e&&(r=await readTextFile(e),g=e.split("/").pop().split(".")[0]),{data:r,name:g}},importFont_tauri=async()=>{if(files.value&&files.value.length)tips.value="",tipsDialogVisible.value=!0;else{const n=await nativeImportFile(["otf","ttf"]);await _importFont_tauri(n)}},_importFont_tauri=n=>{const{uint8Array:e,name:r}=n;if(!e)return;const g=e.buffer,y=parse$3(g),k={uuid:genUUID(),width:y.settings.unitsPerEm,height:y.settings.unitsPerEm,name:r,saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:y.settings.unitsPerEm,ascender:y.settings.ascender,descender:y.settings.descender}};addFile(k),setSelectedFileUUID(k.uuid),setEditStatus(Status.CharacterList),loaded$1.value=0,total$1.value=0,loading$1.value=!0,worker.onmessage=$=>{const V=$.data;selectedFile.value.characterList=V,clearCharacterRenderList(),characterList.value.map(L=>{addCharacterTemplate(generateCharacterTemplate(L))}),loading$1.value=!1,emitter.emit("renderPreviewCanvas",!0)},worker.postMessage([WorkerEventType.ParseFont,y,selectedFile.value.width])},importFont=()=>{const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept",".otf, .ttf"),n.addEventListener("blur",async()=>{loading$1.value=!1}),n.addEventListener("change",async e=>{await nextTick();const y=e.currentTarget.files[0],k=y.name,$=k.substring(0,k.lastIndexOf(".")),V=y.arrayBuffer(),L=parse$3(await V),z={uuid:genUUID(),width:L.settings.unitsPerEm,height:L.settings.unitsPerEm,name:$,saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:L.settings.unitsPerEm,ascender:L.settings.ascender,descender:L.settings.descender}};addFile(z),setSelectedFileUUID(z.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"&&router.push("/editor"),loaded$1.value=0,total$1.value=0,loading$1.value=!0,worker.onmessage=j=>{const re=j.data;selectedFile.value.characterList=re,clearCharacterRenderList(),characterList.value.map(oe=>{addCharacterTemplate(generateCharacterTemplate(oe))}),loading$1.value=!1,emitter.emit("renderPreviewCanvas",!0)},worker.postMessage([WorkerEventType.ParseFont,L,selectedFile.value.width]),document.body.removeChild(n)}),document.body.appendChild(n),n.click()},importTemplates=()=>{setImportTemplatesDialogVisible(!0)},importGlyphs_tauri=async()=>{let n=!1;const{data:e}=await nativeImportTextFile(["json"]);if(!e)return;const r=JSON.parse(e),g=r.glyphs;if(r.constants)for(let k=0;k<r.constants.length;k++)constantsMap.getByUUID(r.constants[k].uuid)||constants.value.push(r.constants[k]);if(r.constantGlyphMap){const k=Object.keys(r.constantGlyphMap);for(let $=0;$<k.length;$++)constantGlyphMap.set(k[$],r.constantGlyphMap[k[$]])}if(g.map(k=>instanceGlyph(k)).map(k=>{getGlyphByUUID(k.uuid)?n=!0:(addGlyph(k,editStatus.value),addGlyphTemplate(k,editStatus.value))}),editStatus.value===Status.GlyphList?emitter.emit("renderGlyphPreviewCanvas"):editStatus.value===Status.StrokeGlyphList?emitter.emit("renderStrokeGlyphPreviewCanvas"):editStatus.value===Status.RadicalGlyphList?emitter.emit("renderRadicalGlyphPreviewCanvas"):editStatus.value===Status.CompGlyphList&&emitter.emit("renderCompGlyphPreviewCanvas"),n){const{locale:k}=i18n.global;k==="zh"?ElMessageBox.alert("uuid","Note",{confirmButtonText:""}):k==="en"&&ElMessageBox.alert("Duplicate glyphs with the same UUID as existing ones were detected during import and have been automatically ignored.","Note",{confirmButtonText:"Confirm"})}},importGlyphs=()=>{let n=!1;const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("style","display: none"),e.setAttribute("accept",".json"),e.addEventListener("change",async r=>{const y=r.currentTarget.files;for(let k=0;k<y.length;k++){const $=new FileReader;$.readAsText(y[k]),$.onload=()=>{const V=JSON.parse($.result),L=V.glyphs;if(V.constants)for(let j=0;j<V.constants.length;j++)constantsMap.getByUUID(V.constants[j].uuid)||constants.value.push(V.constants[j]);if(V.constantGlyphMap){const j=Object.keys(V.constantGlyphMap);for(let re=0;re<j.length;re++)constantGlyphMap.set(j[re],V.constantGlyphMap[j[re]])}if(L.map(j=>instanceGlyph(j)).map(j=>{getGlyphByUUID(j.uuid)?n=!0:(addGlyph(j,editStatus.value),addGlyphTemplate(j,editStatus.value))}),editStatus.value===Status.GlyphList?emitter.emit("renderGlyphPreviewCanvas"):editStatus.value===Status.StrokeGlyphList?emitter.emit("renderStrokeGlyphPreviewCanvas"):editStatus.value===Status.RadicalGlyphList?emitter.emit("renderRadicalGlyphPreviewCanvas"):editStatus.value===Status.CompGlyphList&&emitter.emit("renderCompGlyphPreviewCanvas"),n){const{locale:j}=i18n.global;j==="zh"?ElMessageBox.alert("uuid","",{confirmButtonText:""}):j==="en"&&ElMessageBox.alert("Duplicate glyphs with the same UUID as existing entries were detected during import and have been automatically ignored.","Note",{confirmButtonText:"Confirm"})}}}document.body.removeChild(e)}),document.body.appendChild(e),e.click()},importSVG_tauri=async()=>{const{data:n}=await nativeImportTextFile(["svg"]);if(!n)return;const e=parseStrToSvg(n).childNodes[0];parseSvgToComponents(e).forEach(g=>{addComponentForCurrentCharacterFile(g)})},importSVG=()=>{if(ENV.value==="tauri"){importSVG_tauri();return}const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept",".svg"),n.addEventListener("change",async e=>{const g=e.currentTarget.files;for(let y=0;y<g.length;y++){const k=new FileReader;k.readAsText(g[y]),k.onload=()=>{const $=parseStrToSvg(k.result).childNodes[0];parseSvgToComponents($).forEach(L=>{addComponentForCurrentCharacterFile(L)})}}document.body.removeChild(n)}),document.body.appendChild(n),n.click()},exportJSON=()=>{ENV.value==="tauri"?saveAs_tauri():setExportDialogVisible(!0)},exportGlyphs=()=>{if(editStatus.value===Status.CharacterList){const{locale:n}=i18n.global;n==="zh"?ElMessageBox.alert("","",{confirmButtonText:""}):n==="en"&&ElMessageBox.alert("The character list cannot be exported. Only Stroke, Radical, Glyph, and Component lists support exporting their corresponding glyph types.","Note",{confirmButtonText:"Confirm"});return}if(ENV.value==="tauri")exportGlyphs_tauri();else{loaded$1.value=0;let n=null,e="",r=[];editStatus.value===Status.GlyphList?(n=glyphs.value,e="glyphs.json"):editStatus.value===Status.StrokeGlyphList?(n=stroke_glyphs.value,e="stroke_glyphs.json"):editStatus.value===Status.RadicalGlyphList?(n=radical_glyphs.value,e="radical_glyphs.json"):editStatus.value===Status.CompGlyphList?(n=comp_glyphs.value,e="comp_glyphs.json"):(n=glyphs.value,e="glyphs.json"),total$1.value=n.length,loading$1.value=!0,setTimeout(()=>{requestAnimationFrame(()=>g(0));const g=y=>{if(r.push(plainGlyph(n[y])),loaded$1.value+=1,loaded$1.value>=total$1.value){loading$1.value=!1;const k=JSON.stringify({glyphs:r,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1}),$=new Blob([k],{type:"text/plain;charset=utf-8"});FileSaver_minExports.saveAs($,e)}else requestAnimationFrame(()=>g(y+1))}},50)}},exportJPEG=()=>{if(ENV.value==="tauri")exportJPEG_tauri();else{const e=canvas.value.toDataURL("image/jpeg"),r=document.createElement("a");let g="untitled";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}`:g=`${editGlyph.value.name}`,r.download=g,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},exportPNG=()=>{if(ENV.value==="tauri")exportPNG_tauri();else{const n=canvas.value;render$1(n,!1);const e=n.toDataURL("image/png"),r=document.createElement("a");let g="untitled";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}`:g=`${editGlyph.value.name}`,r.download=g,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),render$1(n,!0)}},exportSVG=()=>{if(ENV.value==="tauri")exportSVG_tauri();else{if(editStatus.value!==Status.Edit&&editStatus.value!==Status.Glyph)return;editStatus.value===Status.Glyph&&!editGlyph.value._o&&executeScript(editGlyph.value);const n=editStatus.value===Status.Edit?orderedListWithItemsForCurrentCharacterFile.value:editGlyph.value._o.components,e=componentsToSvg(n,selectedFile.value.width,selectedFile.value.height,fontRenderStyle.value),r=new Blob([e],{type:"image/svg+xml"});let g="untitled.svg";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}.svg`:g=`${editGlyph.value.name}.svg`,FileSaver_minExports.saveAs(r,g)}},createFont=async n=>{const e=selectedFile.value.width,r=selectedFile.value.height,g=[{unicode:0,name:".notdef",contours:[[]],contourNum:0,advanceWidth:Math.max(e,r),leftSideBearing:0}];let y=!1;const{unitsPerEm:k,ascender:$,descender:V}=selectedFile.value.fontSettings;for(let z=0;z<selectedFile.value.characterList.length;z++){loaded$1.value++,loaded$1.value>=total$1.value&&(loading$1.value=!1,loaded$1.value=0,total$1.value=0);const j=selectedFile.value.characterList[z];let re=[[]];n&&n.remove_overlap&&j.overlap_removed_contours?re=j.overlap_removed_contours:re=componentsToContours(orderedListWithItemsForCharacterFile(j),{unitsPerEm:k,descender:V,advanceWidth:k},{x:0,y:0},!1,!1,!1);const{text:oe,unicode:ae}=j.character;g.push({name:oe,unicode:parseInt(ae,16),advanceWidth:j.info?.metrics?.advanceWidth||k,leftSideBearing:j.info?.metrics?.lsb||void 0,contours:re,contourNum:re.length}),oe===" "&&(y=!0)}return y||g.push({name:" ",unicode:parseInt("0x20",16),advanceWidth:k,leftSideBearing:0,contours:[[]],contourNum:0}),g.sort((z,j)=>z.unicode-j.unicode),await create(g,{familyName:selectedFile.value.name,styleName:"Regular",unitsPerEm:k,ascender:$,descender:V,tables:selectedFile.value.fontSettings.tables||null})},exportFont=async n=>{const e=await createFont(n),r=new DataView(toArrayBuffer(e)),g=new Blob([r],{type:"font/opentype"});var y=new JSZip;y.file(`${selectedFile.value.name}.otf`,g),y.generateAsync({type:"blob"}).then(function(k){FileSaver_minExports.saveAs(k,`${selectedFile.value.name}.zip`)})},addCharacter=()=>{setAddTextDialogVisible(!0)},addIcon=()=>{setAddIconDialogVisible(!0)},undo=()=>{undo$2()},redo=()=>{redo$2()},copy=()=>{selectedComponent.value&&setClipBoard(clone$1(selectedComponents.value))},paste=()=>{clipBoard.value.map(e=>{e.uuid=genUUID(),addComponentForCurrentCharacterFile(e)})},cut=()=>{selectedComponent.value&&(setClipBoard(clone$1(selectedComponents.value)),selectedComponents.value.map(n=>{removeComponentForCurrentCharacterFile(n.uuid)}),setSelectionForCurrentCharacterFile(""))},del=()=>{selectedComponents.value.map(n=>{removeComponentForCurrentCharacterFile(n.uuid)}),setSelectionForCurrentCharacterFile("")},fontSettings=()=>{setFontSettingsDialogVisible(!0)},preferenceSettings=()=>{setPreferenceSettingsDialogVisible(!0)},languageSettings=()=>{setLanguageSettingsDialogVisible(!0)},importPic=()=>{if(ENV.value==="tauri"){importPic_tauri();return}getFromPic()},importPic_tauri=async()=>{const n=await nativeImportFile(["jpg","png","jpeg"]),{name:e,uint8Array:r}=n;if(!r)return;saveState("",[StoreType.Status,editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{undoTip:"",redoTip:""});let g="";r.forEach(L=>{g+=String.fromCharCode(L)});const y=btoa(g),$=`data:${e.split(".")[1]==="png"?"image/png":"image/jpeg"};base64,${y}`;total$1.value=0,loaded$1.value=0,loading$1.value=!0;const V=document.createElement("img");V.onload=()=>{setTimeout(()=>{prevEditStatus.value=editStatus.value,thumbnail($,V,1e3),setEditStatus(Status.Pic),loading$1.value=!1},100)},V.src=$},getFromFontPic=()=>{const e=editCharacterFile.value.fontPic.toDataURL(),r=document.createElement("img");r.onload=()=>{prevEditStatus.value=editStatus.value,thumbnail(e,r,r.width),setEditStatus(Status.Pic)},r.src=e},getFromPic=()=>{if(editCharacterFile.value.fontPic){getFromFontPic();return}const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept","image/*"),n.addEventListener("change",async e=>{const g=e.currentTarget.files;for(let y=0;y<g.length;y++){total$1.value=0,loaded$1.value=0,loading$1.value=!0;const k=window.URL.createObjectURL(g[y]),$=document.createElement("img");$.onload=()=>{saveState("",[StoreType.Status,editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{undoTip:"",redoTip:""}),prevEditStatus.value=editStatus.value,thumbnail(k,$,1e3),setEditStatus(Status.Pic),loading$1.value=!1},$.src=k}document.body.removeChild(n)}),document.body.appendChild(n),n.click()},thumbnail=(n,e,r)=>{const g=document.createElement("canvas");e.width>r||e.height>r?(g.width=r,g.height=r*e.height/e.width):(g.width=e.width,g.height=e.height);const y=g.getContext("2d");y.drawImage(e,0,0,e.width,e.height,0,0,g.width,g.height);const k=y.getImageData(0,0,g.width,g.height).data;setEditCharacterPic({data:n,img:e,thumbnailCanvas:g,thumbnailPixels:k,processPixels:k,width:g.width,height:g.height});const $=toBlackWhiteBitMap(k,{r:rThreshold.value,g:gThreshold.value,b:bThreshold.value},{x:0,y:0,size:-1,width:g.width,height:g.height});setBitMap({data:$,width:g.width,height:g.height}),clearContoursComponent();const{canvas:V}=reversePixels($,bitmap.value.width,bitmap.value.height),L=V.getContext("2d",{willReadFrequently:!0}),z=V.width,j=V.height,re=L.getImageData(0,0,z,j);let oe=cv.matFromImageData(re);cv.cvtColor(oe,oe,cv.COLOR_RGBA2GRAY,0),cv.threshold(oe,oe,120,200,cv.THRESH_BINARY);let ae=new cv.MatVector,de=new cv.Mat;cv.findContours(oe,ae,de,cv.RETR_CCOMP,cv.CHAIN_APPROX_NONE);const ue=[];for(let pe=0;pe<ae.size();pe++){const he=ae.get(pe);for(let xe=0;xe<he.rows;xe++)ue.push({x:he.data32S[xe*2],y:he.data32S[xe*2+1]})}getBound$4(ue),selectedFile.value?.fontSettings?.unitsPerEm;for(let pe=0;pe<ae.size();pe++){const he=[],xe=ae.get(pe);for(let kt=0;kt<xe.rows;kt++)he.push({uuid:genUUID(),x:xe.data32S[kt*2],y:xe.data32S[kt*2+1]});he.push({uuid:genUUID(),x:xe.data32S[0],y:xe.data32S[1]}),getBound$4(he);const $e=he.map(kt=>({uuid:genUUID(),...kt})),{x:Ne,y:Oe,w:_e,h:Fe}=getBound$4($e.reduce((kt,Lt)=>(kt.push({x:Lt.x,y:Lt.y}),kt),[])),Ue={uuid:genUUID(),type:"polygon",name:"polygon",lock:!1,visible:!0,value:{points:$e,fillColor:de.data32S[pe*4+3]===-1?"#000":"#fff",strokeColor:"#000",closePath:!0},x:Ne,y:Oe,w:_e,h:Fe,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!1};addContoursComponent(Ue)}clearCurvesComponent(),contoursComponents.value.map(pe=>{if(pe.type==="polygon"){const he=pe.value.points,xe=fitCurve(he,maxError.value);let $e=[];if(!xe.length)return;$e.push({uuid:genUUID(),x:xe[0][0].x,y:xe[0][0].y,type:"anchor",origin:null,isShow:!0}),xe.map((kt,Lt)=>{const wn=genUUID(),Et=genUUID(),xn=genUUID();$e.push({uuid:wn,x:kt[1].x,y:kt[1].y,type:"control",origin:$e[$e.length-1].uuid,isShow:!1}),$e.push({uuid:Et,x:kt[2].x,y:kt[2].y,type:"control",origin:xn,isShow:!1}),$e.push({uuid:xn,x:kt[3].x,y:kt[3].y,type:"anchor",origin:null,isShow:!0})});const{x:Ne,y:Oe,w:_e,h:Fe}=getBound$4($e),Ue=clone$1(pe);Ue.uuid=genUUID(),Ue.value.points=$e,Ue.value.editMode=!1,Ue.type="pen",Ue.name="pic-contour",Ue.x=Ne,Ue.y=Oe,Ue.w=_e,Ue.h=Fe,Ue.rotation=0,Ue.usedInCharacter=!0,addCurvesComponent(Ue)}})},syncData=async()=>{files.value&&files.value.length?(tips.value="",tipsDialogVisible.value=!0):await _syncData()},_syncData=async()=>{clearGlyphRenderList(Status.GlyphList),clearGlyphRenderList(Status.StrokeGlyphList),clearGlyphRenderList(Status.RadicalGlyphList),clearGlyphRenderList(Status.CompGlyphList);const n=JSON.parse(await localForage.getItem("constants"));if(n)for(let oe=0;oe<n.length;oe++)constantsMap.getByUUID(n[oe].uuid)||constants.value.push(n[oe]);const e=JSON.parse(await localForage.getItem("constantGlyphMap"));if(e){const oe=Object.keys(e);for(let ae=0;ae<oe.length;ae++)constantGlyphMap.set(oe[ae],e[oe[ae]])}const r=await localForage.getItem("glyphs");let g=[];r&&(g=JSON.parse(r));const y=await localForage.getItem("stroke_glyphs");let k=[];y&&(k=JSON.parse(y));const $=await localForage.getItem("radical_glyphs");let V=[];$&&(V=JSON.parse($));const L=await localForage.getItem("comp_glyphs");let z=[];L&&(z=JSON.parse(L));const j=await localForage.getItem("file");let re=null;if(j&&(re=JSON.parse(j)),loaded$1.value=0,total$1.value=re?re.characterList.length*2:0+(g.length+k.length+V.length+z.length)*3,total$1.value===0){const{locale:oe}=i18n.global;oe==="zh"?ElMessageBox.alert("","",{confirmButtonText:""}):oe==="en"&&ElMessageBox.alert("No cached data available","Note",{confirmButtonText:"Confirm"})}if(total$1.value&&(loading$1.value=!0),r&&(glyphs.value=[],g.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.GlyphList),addGlyphTemplate(ae,Status.GlyphList),addLoaded()})),y&&(stroke_glyphs.value=[],k.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.StrokeGlyphList),addGlyphTemplate(ae,Status.StrokeGlyphList),addLoaded()})),$&&(radical_glyphs.value=[],V.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.RadicalGlyphList),addGlyphTemplate(ae,Status.RadicalGlyphList),addLoaded()})),L&&(comp_glyphs.value=[],z.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.CompGlyphList),addGlyphTemplate(ae,Status.CompGlyphList),addLoaded()})),j){re.characterList.map((ae,de)=>(addLoaded(),instanceCharacter(ae)));let oe=!0;for(let ae=0;ae<files.value.length;ae++)files.value[ae].uuid===re.uuid&&(oe=!1,ElNotification({title:"",message:h$1("i",`${re.name}`),type:"error"}));oe&&(emitter.emit("renderGlyphPreviewCanvas"),emitter.emit("renderStrokeGlyphPreviewCanvas"),emitter.emit("renderRadicalGlyphPreviewCanvas"),emitter.emit("renderCompGlyphPreviewCanvas"),addFile(re),setSelectedFileUUID(re.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"?router.push("/editor"):(clearCharacterRenderList(),characterList.value.map(ae=>{addCharacterTemplate(generateCharacterTemplate(ae))}),emitter.emit("renderPreviewCanvas")))}},importTemplate2=async()=>{for(let n=0;n<strokes.length;n++){loaded$1.value+=1;const e=strokes[n],{name:r,params:g,uuid:y}=e,k=[];for(let z=0;z<g.length;z++){const j=g[z];k.push({uuid:genUUID(),name:j.name,type:ParameterType.Number,value:j.default,min:j.min||0,max:j.max||1e3})}k.push({uuid:genUUID(),name:"",type:ParameterType.Enum,value:0,options:[{value:0,label:""},{value:1,label:""},{value:2,label:""}]}),k.push({uuid:genUUID(),name:"",type:ParameterType.Enum,value:2,options:[{value:0,label:""},{value:1,label:""},{value:2,label:""}]}),k.push({uuid:genUUID(),name:"",type:ParameterType.Number,value:1,min:0,max:2}),k.push({uuid:genUUID(),name:"",type:ParameterType.Enum,value:1,options:[{value:0,label:""},{value:1,label:""}]}),k.push({uuid:genUUID(),name:"",type:ParameterType.Number,value:1,min:1,max:2}),k.push({uuid:genUUID(),name:"",type:ParameterType.Number,value:0,min:0,max:2}),k.push({uuid:genUUID(),name:"",type:ParameterType.Number,value:1,min:0,max:2});let V=await(await fetch(`templates/templates2/${r}.js`)).text();const L={uuid:y,type:"system",name:r,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},parameters:new ParametersMap(k),joints:[],script:`function script_${y.replaceAll("-","_")} (glyph, constants, FP) {
	${V}
}`};addGlyph(L,Status.StrokeGlyphList),addGlyphTemplate(L,Status.StrokeGlyphList)}emitter.emit("renderStrokeGlyphPreviewCanvas")},importTemplate1=async()=>{if(files.value&&files.value.length)tips.value="",tipsDialogVisible.value=!0;else{router.currentRoute.value.name==="welcome"&&router.push("/editor");const n="",e={uuid:genUUID(),width:1e3,height:1e3,name:"",saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:1e3,ascender:800,descender:-200}};name_data.value=[{nameID:1,nameLabel:"fontFamily",platformID:3,encodingID:1,langID:2052,value:n,default:!0},{nameID:1,nameLabel:"fontFamily",platformID:3,encodingID:1,langID:1033,value:getEnName(n),default:!0},{nameID:2,nameLabel:"fontSubfamily",platformID:3,encodingID:1,langID:2052,value:"",default:!0},{nameID:2,nameLabel:"fontSubfamily",platformID:3,encodingID:1,langID:1033,value:"Regular",default:!0},{nameID:4,nameLabel:"fullName",platformID:3,encodingID:1,langID:2052,value:n+" ",default:!0},{nameID:4,nameLabel:"fullName",platformID:3,encodingID:1,langID:1033,value:getEnName(n)+" Regular",default:!0},{nameID:5,nameLabel:"version",platformID:3,encodingID:1,langID:2052,value:" 1.0",default:!0},{nameID:5,nameLabel:"version",platformID:3,encodingID:1,langID:1033,value:"Version 1.0",default:!0},{nameID:6,nameLabel:"postScriptName",platformID:3,encodingID:1,langID:2052,value:(getEnName(n)+"-Regular").replace(/\s/g,"").slice(0,63),default:!0},{nameID:6,nameLabel:"postScriptName",platformID:3,encodingID:1,langID:1033,value:(getEnName(n)+"-Regular").replace(/\s/g,"").slice(0,63),default:!0}],addFile(e),setSelectedFileUUID(e.uuid),setEditStatus(Status.CharacterList),total$1.value=0,loading$1.value=!0;let g=await(await fetch("templates/template1.json")).text();console.time("timer1");let y=await fetch("glyphs/stroke_glyphs_data_v7_v4.json"),k=await y.text();if(k){const L=JSON.parse(k);for(let re=0;re<L.constants.length;re++)constantsMap.getByUUID(L.constants[re].uuid)||constants.value.push(L.constants[re]);L.glyphs.map(re=>instanceGlyph(re)).map(re=>{addGlyph(re,Status.StrokeGlyphList)})}if(y=await fetch("glyphs/radical_glyphs_data_v7_v5.json"),k=await y.text(),k){const L=JSON.parse(k);for(let re=0;re<L.constants.length;re++)constantsMap.getByUUID(L.constants[re].uuid)||constants.value.push(L.constants[re]);L.glyphs.map(re=>instanceGlyph(re)).map(re=>{addGlyph(re,Status.RadicalGlyphList)})}if(y=await fetch("glyphs/comp_glyphs_data_v7_v4.json"),k=await y.text(),k){const L=JSON.parse(k);for(let re=0;re<L.constants.length;re++)constantsMap.getByUUID(L.constants[re].uuid)||constants.value.push(L.constants[re]);L.glyphs.map(re=>instanceGlyph(re)).map(re=>{addGlyph(re,Status.CompGlyphList)})}console.timeEnd("timer1");let $=null;g&&($=JSON.parse(g));const V=$?$.template.length:0;if(total$1.value=V+(glyphs.value.length+stroke_glyphs.value.length+radical_glyphs.value.length+comp_glyphs.value.length)*2,loaded$1.value=0,$)for(let L=0;L<$.template.length;L++){loaded$1.value+=1;const z=$.template[L],j=parseLayout(z),re=generateCharFile(j);addCharacterForCurrentFile(re),addCharacterTemplate(generateCharacterTemplate(re)),emitter.emit("renderPreviewCanvasByUUID",re.uuid)}stroke_glyphs.value.map(L=>{addGlyphTemplate(L,Status.StrokeGlyphList)}),radical_glyphs.value.map(L=>{addGlyphTemplate(L,Status.RadicalGlyphList)}),comp_glyphs.value.map(L=>{addGlyphTemplate(L,Status.CompGlyphList)}),glyphs.value.map(L=>{addGlyphTemplate(L,Status.GlyphList)}),emitter.emit("renderPreviewCanvas"),emitter.emit("renderGlyphPreviewCanvas"),emitter.emit("renderStrokeGlyphPreviewCanvas"),emitter.emit("renderRadicalGlyphPreviewCanvas"),emitter.emit("renderCompGlyphPreviewCanvas")}},parseLayout=n=>{const{char:e,layout:r,data:g}=n;if(r===""){const y=g.indexOf(""),k=g.slice(2,y-1),$=g.slice(y+2,g.length-1);return{name:e,layout:r,left:parseData(k),right:parseData($)}}return{name:e,layout:r}},parseData=n=>{const e=n.split(","),r=e[0],g=Number(e[1]),y=Number(e[2]),k=Number(e[3]),$=Number(e[4]);return{glyph_name:r,x:g,y,w:k,h:$}},generateCharFile=n=>{const e={uuid:genUUID(),text:n.name,unicode:toUnicode(n.name),components:[]},r=genUUID(),g={uuid:r,type:"text",character:e,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},info:{gridSettings:{dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},useSkeletonGrid:!1,layout:"",layoutTree:[]},script:`function script_${r.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`},y=generateComponent(n.left),k=generateComponent(n.right);return g.components.push(y),g.components.push(k),g.orderedList.push({type:"component",uuid:y.uuid}),g.orderedList.push({type:"component",uuid:k.uuid}),g},generateComponent=n=>{const e=getGlyphByName(n.glyph_name),r=clone$1(e);r.layout.params.width=n.w,r.layout.params.height=n.h;const g={uuid:genUUID(),type:"glyph",name:e.name+Date.now().toString().slice(9),lock:!1,visible:!0,value:r,ox:n.x-(1e3-n.w)/2,oy:n.y-(1e3-n.h)/2,usedInCharacter:!0};return executeScript(g.value),g},computeOverlapRemovedContours=async()=>{const{unitsPerEm:n,descender:e}=selectedFile.value.fontSettings;let r=0;const g=async()=>{if(r>=selectedFile.value.characterList.length)return;let y=selectedFile.value.characterList[r],k=componentsToContours(orderedListWithItemsForCharacterFile(y),{unitsPerEm:n,descender:e,advanceWidth:n},{x:0,y:0},!1,!1,!1),$=[];for(let j=0;j<k.length;j++){const re=k[j];if(re.length===0)continue;const oe=createOptimizedPath(re);oe.closed||oe.closePath(),$.push(oe)}let V=mergePathsWithPrecision($);if(!V){if(r++,loaded$1.value++,loaded$1.value>=total$1.value){loading$1.value=!1,loaded$1.value=0,total$1.value=0;return}return await new Promise(j=>setTimeout(j,0)),g()}let L=[];const z=j=>{const re=[];if(j.children&&j.children.length>0){for(let oe=0;oe<j.children.length;oe++){const ae=j.children[oe];if(ae instanceof paper.Path){const de=z(ae);re.push(...de)}}return re}if(j.curves&&j.curves.length>0){const oe=[];for(let ae=0;ae<j.curves.length;ae++){const de=j.curves[ae];if(de.points.length>=4){const ue={type:PathType.CUBIC_BEZIER,start:{x:de.points[0].x,y:de.points[0].y},control1:{x:de.points[1].x,y:de.points[1].y},control2:{x:de.points[2].x,y:de.points[2].y},end:{x:de.points[3].x,y:de.points[3].y}};oe.push(ue)}}oe.length>0&&re.push(oe)}return re};if(L=z(V),y.overlap_removed_contours=L,r++,loaded$1.value++,loaded$1.value>=total$1.value){loading$1.value=!1,loaded$1.value=0,total$1.value=0;return}if(r<selectedFile.value.characterList.length)return r%100===0&&await new Promise(j=>setTimeout(j,0)),g()};await g()},removeOverlap=async()=>{let n=editCharacterFile.value;editStatus.value===Status.Glyph&&(n=editGlyph.value),selectedFile.value.fontSettings;let e=componentsToContours2(orderedListWithItemsForCharacterFile(n),{x:0,y:0},!1,1);editStatus.value==Status.Glyph&&(e=componentsToContours2(n._o.components,{x:0,y:0},!0,1));let r=[];for(let k=0;k<e.length;k++){const $=e[k];if($.length===0)continue;const V=createOptimizedPath($);V.closed||V.closePath(),r.push(V)}let g=mergePathsWithPrecision(r),y=[];if(g){const k=$=>{const V=[];if($.children&&$.children.length>0){for(let L=0;L<$.children.length;L++){const z=$.children[L];if(z instanceof paper.Path){const j=k(z);V.push(...j)}}return V}if($.curves&&$.curves.length>0){let L=[];L.push({uuid:genUUID(),type:"anchor",x:$.curves[0].points[0].x,y:$.curves[0].points[0].y,origin:null,isShow:!0});for(let z=0;z<$.curves.length;z++){const j=$.curves[z];if(j.points.length>=4){const re={uuid:genUUID(),type:"control",x:j.points[1].x,y:j.points[1].y,origin:L[L.length-1].uuid,isShow:!0},oe=genUUID(),ae={uuid:genUUID(),type:"control",x:j.points[2].x,y:j.points[2].y,origin:oe,isShow:!0},de={uuid:oe,type:"anchor",x:j.points[3].x,y:j.points[3].y,origin:null,isShow:!0};L.push(re,ae,de)}}L.length>=3&&V.push(genPenComponent(L,!0))}return V};y=k(g)}if(editStatus.value===Status.Edit){editCharacterFile.value.script=`function script_${editCharacterFile.value.uuid.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`,editCharacterFile.value.glyph_script=null,editCharacterFile.value.system_script=null,editCharacterFile.value.orderedList=[],editCharacterFile.value.components=[];for(let k=0;k<y.length;k++)addComponentForCurrentCharacterFile(y[k]);emitter.emit("renderCharacter")}else if(editStatus.value===Status.Glyph){editGlyph.value.script=`function script_${editGlyph.value.uuid.replaceAll("-","_")} (glyph, constants, FP) {
	//Todo something
}`,editGlyph.value.glyph_script=null,editGlyph.value.system_script=null;for(let k=0;k<y.length;k++)addComponentForCurrentGlyph(y[k]);emitter.emit("renderGlyph")}},openPlayground=()=>{if(window.__TAURI_INTERNALS__){const n={url:`${location.origin}${location.pathname}#/playground`,width:1280,height:800,x:(screen.width-1280)/2,y:(screen.height-800)/2},e=new WebviewWindow("glyph-script",n);e.once("tauri://created",async()=>{console.log("webview created")}),e.once("tauri://error",function(r){console.log("error creating webview",r)})}else window.open(`${location.origin}${location.pathname}#/playground`,"playground",`popup,width=1280,height=800,left=${(screen.width-1280)/2}`)},OVERLAP_REMOVAL_CONFIG={PATH_PRECISION:1e-6,TOLERANCE:1e-8,MAX_SUBDIVISIONS:10,CURVE_SUBDIVISION_THRESHOLD:.1,MERGE_TOLERANCE:1e-6},createOptimizedPath=n=>{const e=new paper.Path;if(n.length===0)return e;const r=new paper.Point(n[0].start.x,n[0].start.y);e.moveTo(r);for(let g=0;g<n.length;g++){const y=n[g];if(y.type===PathType.LINE){const k=y,$=new paper.Point(k.end.x,k.end.y);e.lineTo($)}else if(y.type===PathType.CUBIC_BEZIER){const k=y,$=new paper.Point(k.control1.x,k.control1.y),V=new paper.Point(k.control2.x,k.control2.y),L=new paper.Point(k.end.x,k.end.y);e.cubicCurveTo($,V,L)}else if(y.type===PathType.QUADRATIC_BEZIER){const k=y,$=new paper.Point(k.control.x,k.control.y),V=new paper.Point(k.end.x,k.end.y),L=r.multiply(1/3).add($.multiply(2/3)),z=V.multiply(1/3).add($.multiply(2/3));e.cubicCurveTo(L,z,V)}r.x=y.end.x,r.y=y.end.y}return e},mergePathsWithPrecision=n=>{if(n.length===0)return null;if(n.length===1)return n[0];paper.settings.precision=OVERLAP_REMOVAL_CONFIG.PATH_PRECISION;let e=n[0].clone();for(let r=1;r<n.length;r++){const g=n[r];e=e.unite(g)}return e},tauri_handlers={"create-file":createFile,"open-file":openFile_tauri,"save-file":saveFile_tauri,"save-as":saveAs_tauri,undo,redo,cut,copy,paste,delete:del,"import-font-file":importFont_tauri,"import-templates-file":importTemplates,"import-glyphs":importGlyphs_tauri,"import-pic":importPic_tauri,"import-svg":importSVG_tauri,"export-font-file":showExportFontDialog_tauri,"export-glyphs":exportGlyphs_tauri,"export-jpeg":exportJPEG_tauri,"export-png":exportPNG_tauri,"export-svg":exportSVG_tauri,"add-character":addCharacter,"add-icon":addIcon,"font-settings":fontSettings,"preference-settings":preferenceSettings,"language-settings":languageSettings,"template-1":importTemplate1,"template-2":importTemplate2,remove_overlap:removeOverlap},web_handlers={"create-file":createFile,"open-file":openFile,"save-file":saveFile_web,"clear-cache":clearCache,"sync-data":syncData,"save-as-json":exportJSON,undo,redo,cut,copy,paste,delete:del,"import-font-file":importFont,"import-templates-file":importTemplates,"import-glyphs":importGlyphs,"import-pic":importPic,"import-svg":importSVG,"export-font-file":showExportFontDialog,"export-glyphs":exportGlyphs,"export-jpeg":exportJPEG,"export-png":exportPNG,"export-svg":exportSVG,"add-character":addCharacter,"add-icon":addIcon,"font-settings":fontSettings,"preference-settings":preferenceSettings,"language-settings":languageSettings,"template-1":importTemplate1,"template-2":importTemplate2,remove_overlap:removeOverlap},editStatusToString=n=>editStatus.value===Status.Edit?"edit":editStatus.value===Status.Glyph?"glyph":editStatus.value===Status.Pic?"pic":"list";watch(editStatus,()=>{ENV.value==="tauri"&&invoke("toggle_menu_disabled",{editStatus:editStatusToString(editStatus.value)})});const initTauri=()=>{if(window.__TAURI_INTERNALS__){ENV.value="tauri";const n=Object.keys(tauri_handlers);for(let e=0;e<n.length;e++){const r=n[e];listen(r,g=>{tauri_handlers[r]()})}}},_sfc_main=defineComponent({__name:"App",setup(n){initTauri();let e=document.createElement("canvas");return paper.setup(e),(r,g)=>(openBlock(),createBlock(unref(RouterView)))}});function ownKeys$1(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(n);e&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(n,y).enumerable})),r.push.apply(r,g)}return r}function _objectSpread2$1(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(g){_defineProperty$1(n,g,r[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(g){Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(r,g))})}return n}function _typeof$1(n){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(n)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var r=0;r<e.length;r++){var g=e[r];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}function _createClass(n,e,r){return e&&_defineProperties(n.prototype,e),r&&_defineProperties(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function _defineProperty$1(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray(n,e)||_nonIterableRest()}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_unsupportedIterableToArray(n)||_nonIterableSpread()}function _arrayWithoutHoles(n){if(Array.isArray(n))return _arrayLikeToArray(n)}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _iterableToArray(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _iterableToArrayLimit(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var g=[],y=!0,k=!1,$,V;try{for(r=r.call(n);!(y=($=r.next()).done)&&(g.push($.value),!(e&&g.length===e));y=!0);}catch(L){k=!0,V=L}finally{try{!y&&r.return!=null&&r.return()}finally{if(k)throw V}}return g}}function _unsupportedIterableToArray(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(n,e)}}function _arrayLikeToArray(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,g=new Array(e);r<e;r++)g[r]=n[r];return g}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop=function n(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(n){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(n){return new Proxy(n,{get:function(r,g){return g in r?r[g]:r[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$1(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_defineProperty$1(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$1(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$1(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$1(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$1(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$1(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$1(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$1(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$1(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(n){return"".concat(n,"x")})).concat(oneToTwenty.map(function(n){return"w-".concat(n)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(n){var e=DOCUMENT.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function coerce(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(n){var e=_slicedToArray(n,2),r=e[0],g=e[1],y=coerce(getAttrConfig(r));y!=null&&(initial[g]=y)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(n){Object.defineProperty(config,n,{enumerable:!0,set:function(r){_config[n]=r,_onChangeCb.forEach(function(g){return g(config)})},get:function(){return _config[n]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function n(e){_config.cssPrefix=e,_onChangeCb.forEach(function(r){return r(config)})},get:function n(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(n){return _onChangeCb.push(n),function(){_onChangeCb.splice(_onChangeCb.indexOf(n),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(n){if(!(!n||!IS_DOM)){var e=DOCUMENT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var r=DOCUMENT.head.childNodes,g=null,y=r.length-1;y>-1;y--){var k=r[y],$=(k.tagName||"").toUpperCase();["STYLE","LINK"].indexOf($)>-1&&(g=k)}return DOCUMENT.head.insertBefore(e,g),n}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var n=12,e="";n-- >0;)e+=idPool[Math.random()*62|0];return e}function toArray(n){for(var e=[],r=(n||[]).length>>>0;r--;)e[r]=n[r];return e}function classArray(n){return n.classList?toArray(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function htmlEscape(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(n){return Object.keys(n||{}).reduce(function(e,r){return e+"".concat(r,'="').concat(htmlEscape(n[r]),'" ')},"").trim()}function joinStyles(n){return Object.keys(n||{}).reduce(function(e,r){return e+"".concat(r,": ").concat(n[r].trim(),";")},"")}function transformIsMeaningful(n){return n.size!==meaninglessTransform.size||n.x!==meaninglessTransform.x||n.y!==meaninglessTransform.y||n.rotate!==meaninglessTransform.rotate||n.flipX||n.flipY}function transformForSvg(n){var e=n.transform,r=n.containerWidth,g=n.iconWidth,y={transform:"translate(".concat(r/2," 256)")},k="translate(".concat(e.x*32,", ").concat(e.y*32,") "),$="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),V="rotate(".concat(e.rotate," 0 0)"),L={transform:"".concat(k," ").concat($," ").concat(V)},z={transform:"translate(".concat(g/2*-1," -256)")};return{outer:y,inner:L,path:z}}function transformForCss(n){var e=n.transform,r=n.width,g=r===void 0?UNITS_IN_GRID:r,y=n.height,k=y===void 0?UNITS_IN_GRID:y,$=n.startCentered,V=$===void 0?!1:$,L="";return V&&IS_IE?L+="translate(".concat(e.x/d-g/2,"em, ").concat(e.y/d-k/2,"em) "):V?L+="translate(calc(-50% + ".concat(e.x/d,"em), calc(-50% + ").concat(e.y/d,"em)) "):L+="translate(".concat(e.x/d,"em, ").concat(e.y/d,"em) "),L+="scale(".concat(e.size/d*(e.flipX?-1:1),", ").concat(e.size/d*(e.flipY?-1:1),") "),L+="rotate(".concat(e.rotate,"deg) "),L}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var n=DEFAULT_CSS_PREFIX,e=DEFAULT_REPLACEMENT_CLASS,r=config.cssPrefix,g=config.replacementClass,y=baseStyles;if(r!==n||g!==e){var k=new RegExp("\\.".concat(n,"\\-"),"g"),$=new RegExp("\\--".concat(n,"\\-"),"g"),V=new RegExp("\\.".concat(e),"g");y=y.replace(k,".".concat(r,"-")).replace($,"--".concat(r,"-")).replace(V,".".concat(g))}return y}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function n(){return{dom:{css,insertCss:ensureCss}}},hooks:function n(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function n(){DOCUMENT.removeEventListener("DOMContentLoaded",n),loaded=1,functions.map(function(e){return e()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(n){IS_DOM&&(loaded?setTimeout(n,0):functions.push(n))}function toHtml(n){var e=n.tag,r=n.attributes,g=r===void 0?{}:r,y=n.children,k=y===void 0?[]:y;return typeof n=="string"?htmlEscape(n):"<".concat(e," ").concat(joinAttributes(g),">").concat(k.map(toHtml).join(""),"</").concat(e,">")}function iconFromMapping(n,e,r){if(n&&n[e]&&n[e][r])return{prefix:e,iconName:r,icon:n[e][r]}}var bindInternal4=function n(e,r){return function(g,y,k,$){return e.call(r,g,y,k,$)}},reduce=function n(e,r,g,y){var k=Object.keys(e),$=k.length,V=y!==void 0?bindInternal4(r,y):r,L,z,j;for(g===void 0?(L=1,j=e[k[0]]):(L=0,j=g);L<$;L++)z=k[L],j=V(j,e[z],z,e);return j};function ucs2decode(n){for(var e=[],r=0,g=n.length;r<g;){var y=n.charCodeAt(r++);if(y>=55296&&y<=56319&&r<g){var k=n.charCodeAt(r++);(k&64512)==56320?e.push(((y&1023)<<10)+(k&1023)+65536):(e.push(y),r--)}else e.push(y)}return e}function toHex(n){var e=ucs2decode(n);return e.length===1?e[0].toString(16):null}function codePointAt(n,e){var r=n.length,g=n.charCodeAt(e),y;return g>=55296&&g<=56319&&r>e+1&&(y=n.charCodeAt(e+1),y>=56320&&y<=57343)?(g-55296)*1024+y-56320+65536:g}function normalizeIcons(n){return Object.keys(n).reduce(function(e,r){var g=n[r],y=!!g.icon;return y?e[g.iconName]=g.icon:e[r]=g,e},{})}function defineIcons(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=r.skipHooks,y=g===void 0?!1:g,k=normalizeIcons(e);typeof namespace.hooks.addPack=="function"&&!y?namespace.hooks.addPack(n,normalizeIcons(e)):namespace.styles[n]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[n]||{}),k),n==="fas"&&defineIcons("fa",e)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$1(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$1(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(n){return~RESERVED_CLASSES.indexOf(n)}function getIconName(n,e){var r=e.split("-"),g=r[0],y=r.slice(1).join("-");return g===n&&y!==""&&!isReserved(y)?y:null}var build=function n(){var e=function(k){return reduce(styles,function($,V,L){return $[L]=reduce(V,k,{}),$},{})};_byUnicode=e(function(y,k,$){if(k[3]&&(y[k[3]]=$),k[2]){var V=k[2].filter(function(L){return typeof L=="number"});V.forEach(function(L){y[L.toString(16)]=$})}return y}),_byLigature=e(function(y,k,$){if(y[$]=$,k[2]){var V=k[2].filter(function(L){return typeof L=="string"});V.forEach(function(L){y[L]=$})}return y}),_byAlias=e(function(y,k,$){var V=k[2];return y[$]=$,V.forEach(function(L){y[L]=$}),y});var r="far"in styles||config.autoFetchSvg,g=reduce(shims,function(y,k){var $=k[0],V=k[1],L=k[2];return V==="far"&&!r&&(V="fas"),typeof $=="string"&&(y.names[$]={prefix:V,iconName:L}),typeof $=="number"&&(y.unicodes[$.toString(16)]={prefix:V,iconName:L}),y},{names:{},unicodes:{}});_byOldName=g.names,_byOldUnicode=g.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(n){_defaultUsablePrefix=getCanonicalPrefix(n.styleDefault,{family:config.familyDefault})});build();function byUnicode(n,e){return(_byUnicode[n]||{})[e]}function byLigature(n,e){return(_byLigature[n]||{})[e]}function byAlias(n,e){return(_byAlias[n]||{})[e]}function byOldName(n){return _byOldName[n]||{prefix:null,iconName:null}}function byOldUnicode(n){var e=_byOldUnicode[n],r=byUnicode("fas",n);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function n(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.family,g=r===void 0?FAMILY_CLASSIC:r,y=PREFIX_TO_STYLE[g][n],k=STYLE_TO_PREFIX[g][n]||STYLE_TO_PREFIX[g][y],$=n in namespace.styles?n:null;return k||$||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(n){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=r.skipLookups,y=g===void 0?!1:g,k=(e={},_defineProperty$1(e,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$1(e,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),e),$=null,V=FAMILY_CLASSIC;(n.includes(k[FAMILY_CLASSIC])||n.some(function(z){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(z)}))&&(V=FAMILY_CLASSIC),(n.includes(k[FAMILY_SHARP])||n.some(function(z){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(z)}))&&(V=FAMILY_SHARP);var L=n.reduce(function(z,j){var re=getIconName(config.cssPrefix,j);if(styles[j]?(j=LONG_STYLE[V].includes(j)?LONG_STYLE_TO_PREFIX[V][j]:j,$=j,z.prefix=j):PREFIXES[V].indexOf(j)>-1?($=j,z.prefix=getCanonicalPrefix(j,{family:V})):re?z.iconName=re:j!==config.replacementClass&&j!==k[FAMILY_CLASSIC]&&j!==k[FAMILY_SHARP]&&z.rest.push(j),!y&&z.prefix&&z.iconName){var oe=$==="fa"?byOldName(z.iconName):{},ae=byAlias(z.prefix,z.iconName);oe.prefix&&($=null),z.iconName=oe.iconName||ae||z.iconName,z.prefix=oe.prefix||z.prefix,z.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(z.prefix="fas")}return z},emptyCanonicalIcon());return(n.includes("fa-brands")||n.includes("fab"))&&(L.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(L.prefix="fad"),!L.prefix&&V===FAMILY_SHARP&&(styles.fass||config.autoFetchSvg)&&(L.prefix="fass",L.iconName=byAlias(L.prefix,L.iconName)||L.iconName),(L.prefix==="fa"||$==="fa")&&(L.prefix=getDefaultUsablePrefix()||"fas"),L}var Library=function(){function n(){_classCallCheck(this,n),this.definitions={}}return _createClass(n,[{key:"add",value:function(){for(var r=this,g=arguments.length,y=new Array(g),k=0;k<g;k++)y[k]=arguments[k];var $=y.reduce(this._pullDefinitions,{});Object.keys($).forEach(function(V){r.definitions[V]=_objectSpread2$1(_objectSpread2$1({},r.definitions[V]||{}),$[V]),defineIcons(V,$[V]);var L=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][V];L&&defineIcons(L,$[V]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,g){var y=g.prefix&&g.iconName&&g.icon?{0:g}:g;return Object.keys(y).map(function(k){var $=y[k],V=$.prefix,L=$.iconName,z=$.icon,j=z[2];r[V]||(r[V]={}),j.length>0&&j.forEach(function(re){typeof re=="string"&&(r[V][re]=z)}),r[V][L]=z}),r}}]),n}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(n,e){var r=e.mixoutsTo;return _plugins=n,_hooks={},Object.keys(providers).forEach(function(g){defaultProviderKeys.indexOf(g)===-1&&delete providers[g]}),_plugins.forEach(function(g){var y=g.mixout?g.mixout():{};if(Object.keys(y).forEach(function($){typeof y[$]=="function"&&(r[$]=y[$]),_typeof$1(y[$])==="object"&&Object.keys(y[$]).forEach(function(V){r[$]||(r[$]={}),r[$][V]=y[$][V]})}),g.hooks){var k=g.hooks();Object.keys(k).forEach(function($){_hooks[$]||(_hooks[$]=[]),_hooks[$].push(k[$])})}g.provides&&g.provides(providers)}),r}function chainHooks(n,e){for(var r=arguments.length,g=new Array(r>2?r-2:0),y=2;y<r;y++)g[y-2]=arguments[y];var k=_hooks[n]||[];return k.forEach(function($){e=$.apply(null,[e].concat(g))}),e}function callHooks(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),g=1;g<e;g++)r[g-1]=arguments[g];var y=_hooks[n]||[];y.forEach(function(k){k.apply(null,r)})}function callProvided(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return providers[n]?providers[n].apply(null,e):void 0}function findIconDefinition(n){n.prefix==="fa"&&(n.prefix="fas");var e=n.iconName,r=n.prefix||getDefaultUsablePrefix();if(e)return e=byAlias(r,e)||e,iconFromMapping(library.definitions,r,e)||iconFromMapping(namespace.styles,r,e)}var library=new Library,noAuto=function n(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",e),callProvided("pseudoElements2svg",e),callProvided("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:r}),callHooks("watch",e)})}},parse={icon:function n(e){if(e===null)return null;if(_typeof$1(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:byAlias(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var r=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],g=getCanonicalPrefix(e[0]);return{prefix:g,iconName:byAlias(g,r)||r}}if(typeof e=="string"&&(e.indexOf("".concat(config.cssPrefix,"-"))>-1||e.match(ICON_SELECTION_SYNTAX_PATTERN))){var y=getCanonicalIcon(e.split(" "),{skipLookups:!0});return{prefix:y.prefix||getDefaultUsablePrefix(),iconName:byAlias(y.prefix,y.iconName)||y.iconName}}if(typeof e=="string"){var k=getDefaultUsablePrefix();return{prefix:k,iconName:byAlias(k,e)||e}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot,g=r===void 0?DOCUMENT:r;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:g})};function domVariants(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(g){return toHtml(g)})}}),Object.defineProperty(n,"node",{get:function(){if(IS_DOM){var g=DOCUMENT.createElement("div");return g.innerHTML=n.html,g.children}}}),n}function asIcon(n){var e=n.children,r=n.main,g=n.mask,y=n.attributes,k=n.styles,$=n.transform;if(transformIsMeaningful($)&&r.found&&!g.found){var V=r.width,L=r.height,z={x:V/L/2,y:.5};y.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},k),{},{"transform-origin":"".concat(z.x+$.x/16,"em ").concat(z.y+$.y/16,"em")}))}return[{tag:"svg",attributes:y,children:e}]}function asSymbol(n){var e=n.prefix,r=n.iconName,g=n.children,y=n.attributes,k=n.symbol,$=k===!0?"".concat(e,"-").concat(config.cssPrefix,"-").concat(r):k;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{id:$}),children:g}]}]}function makeInlineSvgAbstract(n){var e=n.icons,r=e.main,g=e.mask,y=n.prefix,k=n.iconName,$=n.transform,V=n.symbol,L=n.title,z=n.maskId,j=n.titleId,re=n.extra,oe=n.watchable,ae=oe===void 0?!1:oe,de=g.found?g:r,ue=de.width,pe=de.height,he=y==="fak",xe=[config.replacementClass,k?"".concat(config.cssPrefix,"-").concat(k):""].filter(function(kt){return re.classes.indexOf(kt)===-1}).filter(function(kt){return kt!==""||!!kt}).concat(re.classes).join(" "),$e={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},re.attributes),{},{"data-prefix":y,"data-icon":k,class:xe,role:re.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ue," ").concat(pe)})},Ne=he&&!~re.classes.indexOf("fa-fw")?{width:"".concat(ue/pe*16*.0625,"em")}:{};ae&&($e.attributes[DATA_FA_I2SVG]=""),L&&($e.children.push({tag:"title",attributes:{id:$e.attributes["aria-labelledby"]||"title-".concat(j||nextUniqueId())},children:[L]}),delete $e.attributes.title);var Oe=_objectSpread2$1(_objectSpread2$1({},$e),{},{prefix:y,iconName:k,main:r,mask:g,maskId:z,transform:$,symbol:V,styles:_objectSpread2$1(_objectSpread2$1({},Ne),re.styles)}),_e=g.found&&r.found?callProvided("generateAbstractMask",Oe)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",Oe)||{children:[],attributes:{}},Fe=_e.children,Ue=_e.attributes;return Oe.children=Fe,Oe.attributes=Ue,V?asSymbol(Oe):asIcon(Oe)}function makeLayersTextAbstract(n){var e=n.content,r=n.width,g=n.height,y=n.transform,k=n.title,$=n.extra,V=n.watchable,L=V===void 0?!1:V,z=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},$.attributes),k?{title:k}:{}),{},{class:$.classes.join(" ")});L&&(z[DATA_FA_I2SVG]="");var j=_objectSpread2$1({},$.styles);transformIsMeaningful(y)&&(j.transform=transformForCss({transform:y,startCentered:!0,width:r,height:g}),j["-webkit-transform"]=j.transform);var re=joinStyles(j);re.length>0&&(z.style=re);var oe=[];return oe.push({tag:"span",attributes:z,children:[e]}),k&&oe.push({tag:"span",attributes:{class:"sr-only"},children:[k]}),oe}function makeLayersCounterAbstract(n){var e=n.content,r=n.title,g=n.extra,y=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},g.attributes),r?{title:r}:{}),{},{class:g.classes.join(" ")}),k=joinStyles(g.styles);k.length>0&&(y.style=k);var $=[];return $.push({tag:"span",attributes:y,children:[e]}),r&&$.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),$}var styles$1=namespace.styles;function asFoundIcon(n){var e=n[0],r=n[1],g=n.slice(4),y=_slicedToArray(g,1),k=y[0],$=null;return Array.isArray(k)?$={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:k[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:k[1]}}]}:$={tag:"path",attributes:{fill:"currentColor",d:k}},{found:!0,width:e,height:r,icon:$}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(n,e){!PRODUCTION$1&&!config.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function findIcon(n,e){var r=e;return e==="fa"&&config.styleDefault!==null&&(e=getDefaultUsablePrefix()),new Promise(function(g,y){if(callProvided("missingIconAbstract"),r==="fa"){var k=byOldName(n)||{};n=k.iconName||n,e=k.prefix||e}if(n&&e&&styles$1[e]&&styles$1[e][n]){var $=styles$1[e][n];return g(asFoundIcon($))}maybeNotifyMissing(n,e),g(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&n?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1=function n(){},p=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.4.2"',begin=function n(e){return p.mark("".concat(preamble," ").concat(e," begins")),function(){return end(e)}},end=function n(e){p.mark("".concat(preamble," ").concat(e," ends")),p.measure("".concat(preamble," ").concat(e),"".concat(preamble," ").concat(e," begins"),"".concat(preamble," ").concat(e," ends"))},perf={begin,end},noop$2=function n(){};function isWatched(n){var e=n.getAttribute?n.getAttribute(DATA_FA_I2SVG):null;return typeof e=="string"}function hasPrefixAndIcon(n){var e=n.getAttribute?n.getAttribute(DATA_PREFIX):null,r=n.getAttribute?n.getAttribute(DATA_ICON):null;return e&&r}function hasBeenReplaced(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var n=mutators[config.autoReplaceSvg];return n||mutators.replace}function createElementNS(n){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",n)}function createElement(n){return DOCUMENT.createElement(n)}function convertSVG(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.ceFn,g=r===void 0?n.tag==="svg"?createElementNS:createElement:r;if(typeof n=="string")return DOCUMENT.createTextNode(n);var y=g(n.tag);Object.keys(n.attributes||[]).forEach(function($){y.setAttribute($,n.attributes[$])});var k=n.children||[];return k.forEach(function($){y.appendChild(convertSVG($,{ceFn:g}))}),y}function nodeAsComment(n){var e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var mutators={replace:function n(e){var r=e[0];if(r.parentNode)if(e[1].forEach(function(y){r.parentNode.insertBefore(convertSVG(y),r)}),r.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var g=DOCUMENT.createComment(nodeAsComment(r));r.parentNode.replaceChild(g,r)}else r.remove()},nest:function n(e){var r=e[0],g=e[1];if(~classArray(r).indexOf(config.replacementClass))return mutators.replace(e);var y=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete g[0].attributes.id,g[0].attributes.class){var k=g[0].attributes.class.split(" ").reduce(function(V,L){return L===config.replacementClass||L.match(y)?V.toSvg.push(L):V.toNode.push(L),V},{toNode:[],toSvg:[]});g[0].attributes.class=k.toSvg.join(" "),k.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",k.toNode.join(" "))}var $=g.map(function(V){return toHtml(V)}).join(`
`);r.setAttribute(DATA_FA_I2SVG,""),r.innerHTML=$}};function performOperationSync(n){n()}function perform(n,e){var r=typeof e=="function"?e:noop$2;if(n.length===0)r();else{var g=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(g=WINDOW.requestAnimationFrame||performOperationSync),g(function(){var y=getMutator(),k=perf.begin("mutate");n.map(y),k(),r()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(n){if(MUTATION_OBSERVER&&config.observeMutations){var e=n.treeCallback,r=e===void 0?noop$2:e,g=n.nodeCallback,y=g===void 0?noop$2:g,k=n.pseudoElementsCallback,$=k===void 0?noop$2:k,V=n.observeMutationsRoot,L=V===void 0?DOCUMENT:V;mo=new MUTATION_OBSERVER(function(z){if(!disabled){var j=getDefaultUsablePrefix();toArray(z).forEach(function(re){if(re.type==="childList"&&re.addedNodes.length>0&&!isWatched(re.addedNodes[0])&&(config.searchPseudoElements&&$(re.target),r(re.target)),re.type==="attributes"&&re.target.parentNode&&config.searchPseudoElements&&$(re.target.parentNode),re.type==="attributes"&&isWatched(re.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(re.attributeName))if(re.attributeName==="class"&&hasPrefixAndIcon(re.target)){var oe=getCanonicalIcon(classArray(re.target)),ae=oe.prefix,de=oe.iconName;re.target.setAttribute(DATA_PREFIX,ae||j),de&&re.target.setAttribute(DATA_ICON,de)}else hasBeenReplaced(re.target)&&y(re.target)})}}),IS_DOM&&mo.observe(L,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(n){var e=n.getAttribute("style"),r=[];return e&&(r=e.split(";").reduce(function(g,y){var k=y.split(":"),$=k[0],V=k.slice(1);return $&&V.length>0&&(g[$]=V.join(":").trim()),g},{})),r}function classParser(n){var e=n.getAttribute("data-prefix"),r=n.getAttribute("data-icon"),g=n.innerText!==void 0?n.innerText.trim():"",y=getCanonicalIcon(classArray(n));return y.prefix||(y.prefix=getDefaultUsablePrefix()),e&&r&&(y.prefix=e,y.iconName=r),y.iconName&&y.prefix||(y.prefix&&g.length>0&&(y.iconName=byLigature(y.prefix,n.innerText)||byUnicode(y.prefix,toHex(n.innerText))),!y.iconName&&config.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(y.iconName=n.firstChild.data)),y}function attributesParser(n){var e=toArray(n.attributes).reduce(function(y,k){return y.name!=="class"&&y.name!=="style"&&(y[k.name]=k.value),y},{}),r=n.getAttribute("title"),g=n.getAttribute("data-fa-title-id");return config.autoA11y&&(r?e["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(g||nextUniqueId()):(e["aria-hidden"]="true",e.focusable="false")),e}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=classParser(n),g=r.iconName,y=r.prefix,k=r.rest,$=attributesParser(n),V=chainHooks("parseNodeAttributes",{},n),L=e.styleParser?styleParser(n):[];return _objectSpread2$1({iconName:g,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:y,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:k,styles:L,attributes:$}},V)}var styles$2=namespace.styles;function generateMutation(n){var e=config.autoReplaceSvg==="nest"?parseMeta(n,{styleParser:!1}):parseMeta(n);return~e.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",n,e):callProvided("generateSvgReplacementMutation",n,e)}var knownPrefixes=new Set;FAMILIES.map(function(n){knownPrefixes.add("fa-".concat(n))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray(knownPrefixes);function onTree(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var r=DOCUMENT.documentElement.classList,g=function(re){return r.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(re))},y=function(re){return r.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(re))},k=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(j){return"fa-".concat(j)}).concat(Object.keys(styles$2));k.includes("fa")||k.push("fa");var $=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(k.map(function(j){return".".concat(j,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if($.length===0)return Promise.resolve();var V=[];try{V=toArray(n.querySelectorAll($))}catch{}if(V.length>0)g("pending"),y("complete");else return Promise.resolve();var L=perf.begin("onTree"),z=V.reduce(function(j,re){try{var oe=generateMutation(re);oe&&j.push(oe)}catch(ae){PRODUCTION$1||ae.name==="MissingIcon"&&console.error(ae)}return j},[]);return new Promise(function(j,re){Promise.all(z).then(function(oe){perform(oe,function(){g("active"),g("complete"),y("pending"),typeof e=="function"&&e(),L(),j()})}).catch(function(oe){L(),re(oe)})})}function onNode(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(n).then(function(r){r&&perform([r],e)})}function resolveIcons(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=(e||{}).icon?e:findIconDefinition(e||{}),y=r.mask;return y&&(y=(y||{}).icon?y:findIconDefinition(y||{})),n(g,_objectSpread2$1(_objectSpread2$1({},r),{},{mask:y}))}}var render=function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=r.transform,y=g===void 0?meaninglessTransform:g,k=r.symbol,$=k===void 0?!1:k,V=r.mask,L=V===void 0?null:V,z=r.maskId,j=z===void 0?null:z,re=r.title,oe=re===void 0?null:re,ae=r.titleId,de=ae===void 0?null:ae,ue=r.classes,pe=ue===void 0?[]:ue,he=r.attributes,xe=he===void 0?{}:he,$e=r.styles,Ne=$e===void 0?{}:$e;if(e){var Oe=e.prefix,_e=e.iconName,Fe=e.icon;return domVariants(_objectSpread2$1({type:"icon"},e),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:e,params:r}),config.autoA11y&&(oe?xe["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(de||nextUniqueId()):(xe["aria-hidden"]="true",xe.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(Fe),mask:L?asFoundIcon(L.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Oe,iconName:_e,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),y),symbol:$,title:oe,maskId:j,titleId:de,extra:{attributes:xe,styles:Ne,classes:pe}})})}},ReplaceElements={mixout:function n(){return{icon:resolveIcons(render)}},hooks:function n(){return{mutationObserverCallbacks:function(r){return r.treeCallback=onTree,r.nodeCallback=onNode,r}}},provides:function n(e){e.i2svg=function(r){var g=r.node,y=g===void 0?DOCUMENT:g,k=r.callback,$=k===void 0?function(){}:k;return onTree(y,$)},e.generateSvgReplacementMutation=function(r,g){var y=g.iconName,k=g.title,$=g.titleId,V=g.prefix,L=g.transform,z=g.symbol,j=g.mask,re=g.maskId,oe=g.extra;return new Promise(function(ae,de){Promise.all([findIcon(y,V),j.iconName?findIcon(j.iconName,j.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ue){var pe=_slicedToArray(ue,2),he=pe[0],xe=pe[1];ae([r,makeInlineSvgAbstract({icons:{main:he,mask:xe},prefix:V,iconName:y,transform:L,symbol:z,maskId:re,title:k,titleId:$,extra:oe,watchable:!0})])}).catch(de)})},e.generateAbstractIcon=function(r){var g=r.children,y=r.attributes,k=r.main,$=r.transform,V=r.styles,L=joinStyles(V);L.length>0&&(y.style=L);var z;return transformIsMeaningful($)&&(z=callProvided("generateAbstractTransformGrouping",{main:k,transform:$,containerWidth:k.width,iconWidth:k.width})),g.push(z||k.icon),{children:g,attributes:y}}}},Layers={mixout:function n(){return{layer:function(r){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.classes,k=y===void 0?[]:y;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:r,params:g});var $=[];return r(function(V){Array.isArray(V)?V.map(function(L){$=$.concat(L.abstract)}):$=$.concat(V.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray(k)).join(" ")},children:$}]})}}}},LayersCounter={mixout:function n(){return{counter:function(r){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.title,k=y===void 0?null:y,$=g.classes,V=$===void 0?[]:$,L=g.attributes,z=L===void 0?{}:L,j=g.styles,re=j===void 0?{}:j;return domVariants({type:"counter",content:r},function(){return callHooks("beforeDOMElementCreation",{content:r,params:g}),makeLayersCounterAbstract({content:r.toString(),title:k,extra:{attributes:z,styles:re,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray(V))}})})}}}},LayersText={mixout:function n(){return{text:function(r){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.transform,k=y===void 0?meaninglessTransform:y,$=g.title,V=$===void 0?null:$,L=g.classes,z=L===void 0?[]:L,j=g.attributes,re=j===void 0?{}:j,oe=g.styles,ae=oe===void 0?{}:oe;return domVariants({type:"text",content:r},function(){return callHooks("beforeDOMElementCreation",{content:r,params:g}),makeLayersTextAbstract({content:r,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),k),title:V,extra:{attributes:re,styles:ae,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray(z))}})})}}},provides:function n(e){e.generateLayersText=function(r,g){var y=g.title,k=g.transform,$=g.extra,V=null,L=null;if(IS_IE){var z=parseInt(getComputedStyle(r).fontSize,10),j=r.getBoundingClientRect();V=j.width/z,L=j.height/z}return config.autoA11y&&!y&&($.attributes["aria-hidden"]="true"),Promise.resolve([r,makeLayersTextAbstract({content:r.innerHTML,width:V,height:L,transform:k,title:y,extra:$,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(n){var e=n.replace(CLEAN_CONTENT_PATTERN,""),r=codePointAt(e,0),g=r>=SECONDARY_UNICODE_RANGE[0]&&r<=SECONDARY_UNICODE_RANGE[1],y=e.length===2?e[0]===e[1]:!1;return{value:toHex(y?e[0]:e),isSecondary:g||y}}function replaceForPosition(n,e){var r="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(e.replace(":","-"));return new Promise(function(g,y){if(n.getAttribute(r)!==null)return g();var k=toArray(n.children),$=k.filter(function(Fe){return Fe.getAttribute(DATA_FA_PSEUDO_ELEMENT)===e})[0],V=WINDOW.getComputedStyle(n,e),L=V.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),z=V.getPropertyValue("font-weight"),j=V.getPropertyValue("content");if($&&!L)return n.removeChild($),g();if(L&&j!=="none"&&j!==""){var re=V.getPropertyValue("content"),oe=~["Sharp"].indexOf(L[2])?FAMILY_SHARP:FAMILY_CLASSIC,ae=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(L[2])?STYLE_TO_PREFIX[oe][L[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[oe][z],de=hexValueFromContent(re),ue=de.value,pe=de.isSecondary,he=L[0].startsWith("FontAwesome"),xe=byUnicode(ae,ue),$e=xe;if(he){var Ne=byOldUnicode(ue);Ne.iconName&&Ne.prefix&&(xe=Ne.iconName,ae=Ne.prefix)}if(xe&&!pe&&(!$||$.getAttribute(DATA_PREFIX)!==ae||$.getAttribute(DATA_ICON)!==$e)){n.setAttribute(r,$e),$&&n.removeChild($);var Oe=blankMeta(),_e=Oe.extra;_e.attributes[DATA_FA_PSEUDO_ELEMENT]=e,findIcon(xe,ae).then(function(Fe){var Ue=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},Oe),{},{icons:{main:Fe,mask:emptyCanonicalIcon()},prefix:ae,iconName:$e,extra:_e,watchable:!0})),kt=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(kt,n.firstChild):n.appendChild(kt),kt.outerHTML=Ue.map(function(Lt){return toHtml(Lt)}).join(`
`),n.removeAttribute(r),g()}).catch(y)}else g()}else g()})}function replace2(n){return Promise.all([replaceForPosition(n,"::before"),replaceForPosition(n,"::after")])}function processable(n){return n.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function searchPseudoElements(n){if(IS_DOM)return new Promise(function(e,r){var g=toArray(n.querySelectorAll("*")).filter(processable).map(replace2),y=perf.begin("searchPseudoElements");disableObservation(),Promise.all(g).then(function(){y(),enableObservation(),e()}).catch(function(){y(),enableObservation(),r()})})}var PseudoElements={hooks:function n(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=searchPseudoElements,r}}},provides:function n(e){e.pseudoElements2svg=function(r){var g=r.node,y=g===void 0?DOCUMENT:g;config.searchPseudoElements&&searchPseudoElements(y)}}},_unwatched=!1,MutationObserver$1={mixout:function n(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function n(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(r){var g=r.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:g}))}}}},parseTransformString=function n(e){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(g,y){var k=y.toLowerCase().split("-"),$=k[0],V=k.slice(1).join("-");if($&&V==="h")return g.flipX=!0,g;if($&&V==="v")return g.flipY=!0,g;if(V=parseFloat(V),isNaN(V))return g;switch($){case"grow":g.size=g.size+V;break;case"shrink":g.size=g.size-V;break;case"left":g.x=g.x-V;break;case"right":g.x=g.x+V;break;case"up":g.y=g.y-V;break;case"down":g.y=g.y+V;break;case"rotate":g.rotate=g.rotate+V;break}return g},r)},PowerTransforms={mixout:function n(){return{parse:{transform:function(r){return parseTransformString(r)}}}},hooks:function n(){return{parseNodeAttributes:function(r,g){var y=g.getAttribute("data-fa-transform");return y&&(r.transform=parseTransformString(y)),r}}},provides:function n(e){e.generateAbstractTransformGrouping=function(r){var g=r.main,y=r.transform,k=r.containerWidth,$=r.iconWidth,V={transform:"translate(".concat(k/2," 256)")},L="translate(".concat(y.x*32,", ").concat(y.y*32,") "),z="scale(".concat(y.size/16*(y.flipX?-1:1),", ").concat(y.size/16*(y.flipY?-1:1),") "),j="rotate(".concat(y.rotate," 0 0)"),re={transform:"".concat(L," ").concat(z," ").concat(j)},oe={transform:"translate(".concat($/2*-1," -256)")},ae={outer:V,inner:re,path:oe};return{tag:"g",attributes:_objectSpread2$1({},ae.outer),children:[{tag:"g",attributes:_objectSpread2$1({},ae.inner),children:[{tag:g.icon.tag,children:g.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},g.icon.attributes),ae.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function deGroup(n){return n.tag==="g"?n.children:[n]}var Masks={hooks:function n(){return{parseNodeAttributes:function(r,g){var y=g.getAttribute("data-fa-mask"),k=y?getCanonicalIcon(y.split(" ").map(function($){return $.trim()})):emptyCanonicalIcon();return k.prefix||(k.prefix=getDefaultUsablePrefix()),r.mask=k,r.maskId=g.getAttribute("data-fa-mask-id"),r}}},provides:function n(e){e.generateAbstractMask=function(r){var g=r.children,y=r.attributes,k=r.main,$=r.mask,V=r.maskId,L=r.transform,z=k.width,j=k.icon,re=$.width,oe=$.icon,ae=transformForSvg({transform:L,containerWidth:re,iconWidth:z}),de={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},ue=j.children?{children:j.children.map(fillBlack)}:{},pe={tag:"g",attributes:_objectSpread2$1({},ae.inner),children:[fillBlack(_objectSpread2$1({tag:j.tag,attributes:_objectSpread2$1(_objectSpread2$1({},j.attributes),ae.path)},ue))]},he={tag:"g",attributes:_objectSpread2$1({},ae.outer),children:[pe]},xe="mask-".concat(V||nextUniqueId()),$e="clip-".concat(V||nextUniqueId()),Ne={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:xe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[de,he]},Oe={tag:"defs",children:[{tag:"clipPath",attributes:{id:$e},children:deGroup(oe)},Ne]};return g.push(Oe,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat($e,")"),mask:"url(#".concat(xe,")")},ALL_SPACE)}),{children:g,attributes:y}}}},MissingIconIndicator={provides:function n(e){var r=!1;WINDOW.matchMedia&&(r=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var g=[],y={fill:"currentColor"},k={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};g.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var $=_objectSpread2$1(_objectSpread2$1({},k),{},{attributeName:"opacity"}),V={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||V.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},k),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"1;0;1;1;0;1;"})}),g.push(V),g.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"1;0;0;0;0;1;"})}]}),r||g.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:g}}}},SvgSymbols={hooks:function n(){return{parseNodeAttributes:function(r,g){var y=g.getAttribute("data-fa-symbol"),k=y===null?!1:y===""?!0:y;return r.symbol=k,r}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;var library$1=api.library;api.dom;var parse$1=api.parse;api.findIconDefinition;api.toHtml;var icon2=api.icon;api.layer;api.text;api.counter;function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(n);e&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(n,y).enumerable})),r.push.apply(r,g)}return r}function _objectSpread2(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(g){_defineProperty(n,g,r[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(g){Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(r,g))})}return n}function _typeof(n){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(n)}function _defineProperty(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function _objectWithoutPropertiesLoose(n,e){if(n==null)return{};var r={},g=Object.keys(n),y,k;for(k=0;k<g.length;k++)y=g[k],!(e.indexOf(y)>=0)&&(r[y]=n[y]);return r}function _objectWithoutProperties(n,e){if(n==null)return{};var r=_objectWithoutPropertiesLoose(n,e),g,y;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(n);for(y=0;y<k.length;y++)g=k[y],!(e.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(n,g)&&(r[g]=n[g])}return r}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},humps$1={exports:{}};(function(n){(function(e){var r=function(he,xe,$e){if(!z(xe)||re(xe)||oe(xe)||ae(xe)||L(xe))return xe;var Ne,Oe=0,_e=0;if(j(xe))for(Ne=[],_e=xe.length;Oe<_e;Oe++)Ne.push(r(he,xe[Oe],$e));else{Ne={};for(var Fe in xe)Object.prototype.hasOwnProperty.call(xe,Fe)&&(Ne[he(Fe,$e)]=r(he,xe[Fe],$e))}return Ne},g=function(he,xe){xe=xe||{};var $e=xe.separator||"_",Ne=xe.split||/(?=[A-Z])/;return he.split(Ne).join($e)},y=function(he){return de(he)?he:(he=he.replace(/[\-_\s]+(.)?/g,function(xe,$e){return $e?$e.toUpperCase():""}),he.substr(0,1).toLowerCase()+he.substr(1))},k=function(he){var xe=y(he);return xe.substr(0,1).toUpperCase()+xe.substr(1)},$=function(he,xe){return g(he,xe).toLowerCase()},V=Object.prototype.toString,L=function(he){return typeof he=="function"},z=function(he){return he===Object(he)},j=function(he){return V.call(he)=="[object Array]"},re=function(he){return V.call(he)=="[object Date]"},oe=function(he){return V.call(he)=="[object RegExp]"},ae=function(he){return V.call(he)=="[object Boolean]"},de=function(he){return he=he-0,he===he},ue=function(he,xe){var $e=xe&&"process"in xe?xe.process:xe;return typeof $e!="function"?he:function(Ne,Oe){return $e(Ne,he,Oe)}},pe={camelize:y,decamelize:$,pascalize:k,depascalize:$,camelizeKeys:function(he,xe){return r(ue(y,xe),he)},decamelizeKeys:function(he,xe){return r(ue($,xe),he,xe)},pascalizeKeys:function(he,xe){return r(ue(k,xe),he)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};n.exports?n.exports=pe:e.humps=pe})(commonjsGlobal)})(humps$1);var humps=humps$1.exports,_excluded=["class","style"];function styleToObject(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var g=r.indexOf(":"),y=humps.camelize(r.slice(0,g)),k=r.slice(g+1).trim();return e[y]=k,e},{})}function classToObject(n){return n.split(/\s+/).reduce(function(e,r){return e[r]=!0,e},{})}function convert(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n=="string")return n;var g=(n.children||[]).map(function(L){return convert(L)}),y=Object.keys(n.attributes||{}).reduce(function(L,z){var j=n.attributes[z];switch(z){case"class":L.class=classToObject(j);break;case"style":L.style=styleToObject(j);break;default:L.attrs[z]=j}return L},{attrs:{},class:{},style:{}});r.class;var k=r.style,$=k===void 0?{}:k,V=_objectWithoutProperties(r,_excluded);return h$1(n.tag,_objectSpread2(_objectSpread2(_objectSpread2({},e),{},{class:y.class,style:_objectSpread2(_objectSpread2({},y.style),$)},y.attrs),V),g)}var PRODUCTION=!1;try{PRODUCTION=!0}catch(n){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function objectWithKey(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_defineProperty({},n,e):{}}function classList(n){var e,r=(e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-li":n.listItem,"fa-inverse":n.inverse,"fa-flip":n.flip===!0,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both"},_defineProperty(e,"fa-".concat(n.size),n.size!==null),_defineProperty(e,"fa-rotate-".concat(n.rotation),n.rotation!==null),_defineProperty(e,"fa-pull-".concat(n.pull),n.pull!==null),_defineProperty(e,"fa-swap-opacity",n.swapOpacity),_defineProperty(e,"fa-bounce",n.bounce),_defineProperty(e,"fa-shake",n.shake),_defineProperty(e,"fa-beat",n.beat),_defineProperty(e,"fa-fade",n.fade),_defineProperty(e,"fa-beat-fade",n.beatFade),_defineProperty(e,"fa-flash",n.flash),_defineProperty(e,"fa-spin-pulse",n.spinPulse),_defineProperty(e,"fa-spin-reverse",n.spinReverse),e);return Object.keys(r).map(function(g){return r[g]?g:null}).filter(function(g){return g})}function normalizeIconArgs(n){if(n&&_typeof(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(parse$1.icon)return parse$1.icon(n);if(n===null)return null;if(_typeof(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}var FontAwesomeIcon=defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function n(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function n(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function n(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function n(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function n(e,r){var g=r.attrs,y=computed(function(){return normalizeIconArgs(e.icon)}),k=computed(function(){return objectWithKey("classes",classList(e))}),$=computed(function(){return objectWithKey("transform",typeof e.transform=="string"?parse$1.transform(e.transform):e.transform)}),V=computed(function(){return objectWithKey("mask",normalizeIconArgs(e.mask))}),L=computed(function(){return icon2(y.value,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},k.value),$.value),V.value),{},{symbol:e.symbol,title:e.title}))});watch(L,function(j){if(!j)return log("Could not find one or more icon(s)",y.value,V.value)},{immediate:!0});var z=computed(function(){return L.value?convert(L.value.abstract[0],{},g):null});return function(){return z.value}}}),faGamepad={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M192 64C86 64 0 150 0 256S86 448 192 448H448c106 0 192-86 192-192s-86-192-192-192H192zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24v32h32c13.3 0 24 10.7 24 24s-10.7 24-24 24H216v32c0 13.3-10.7 24-24 24s-24-10.7-24-24V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h32V200z"]},faHand$1={prefix:"fas",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V336c0 1.5 0 3.1 .1 4.6L67.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L124.8 448c43.1 41.1 100.4 64 160 64H304c97.2 0 176-78.8 176-176V128c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V32z"]},faArrowPointer={prefix:"fas",iconName:"arrow-pointer",icon:[320,512,["mouse-pointer"],"f245","M0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z"]},faImage={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},faArrowDownWideShort={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},faSquare$1={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},faCircle$1={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},faTerminal={prefix:"fas",iconName:"terminal",icon:[576,512,[],"f120","M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},faTextWidth={prefix:"fas",iconName:"text-width",icon:[448,512,[],"f035","M64 128V96H192l0 128H176c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H256l0-128H384v32c0 17.7 14.3 32 32 32s32-14.3 32-32V80c0-26.5-21.5-48-48-48H224 48C21.5 32 0 53.5 0 80v48c0 17.7 14.3 32 32 32s32-14.3 32-32zM9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V416H320v32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6v32H128V320c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64z"]},faTableCells={prefix:"fas",iconName:"table-cells",icon:[512,512,["th"],"f00a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm88 64v64H64V96h88zm56 0h88v64H208V96zm240 0v64H360V96h88zM64 224h88v64H64V224zm232 0v64H208V224h88zm64 0h88v64H360V224zM152 352v64H64V352h88zm56 0h88v64H208V352zm240 0v64H360V352h88z"]},faSliders={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},faFont={prefix:"fas",iconName:"font",icon:[448,512,[],"f031","M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-1.8l18-48H303.8l18 48H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H390.2L254 52.8zM279.8 304H168.2L224 155.1 279.8 304z"]},faPercent={prefix:"fas",iconName:"percent",icon:[384,512,[62101,62785,"percentage"],"25","M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},faPenNib={prefix:"fas",iconName:"pen-nib",icon:[512,512,[10001],"f5ad","M368.4 18.3L312.7 74.1 437.9 199.3l55.7-55.7c21.9-21.9 21.9-57.3 0-79.2L447.6 18.3c-21.9-21.9-57.3-21.9-79.2 0zM288 94.6l-9.2 2.8L134.7 140.6c-19.9 6-35.7 21.2-42.3 41L3.8 445.8c-3.8 11.3-1 23.9 7.3 32.4L164.7 324.7c-3-6.3-4.7-13.3-4.7-20.7c0-26.5 21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48c-7.4 0-14.4-1.7-20.7-4.7L33.7 500.9c8.6 8.3 21.1 11.2 32.4 7.3l264.3-88.6c19.7-6.6 35-22.4 41-42.3l43.2-144.1 2.8-9.2L288 94.6z"]},faDrawPolygon={prefix:"fas",iconName:"draw-polygon",icon:[448,512,[],"f5ee","M96 151.4V360.6c9.7 5.6 17.8 13.7 23.4 23.4H328.6c0-.1 .1-.2 .1-.3l-4.5-7.9-32-56 0 0c-1.4 .1-2.8 .1-4.2 .1c-35.3 0-64-28.7-64-64s28.7-64 64-64c1.4 0 2.8 0 4.2 .1l0 0 32-56 4.5-7.9-.1-.3H119.4c-5.6 9.7-13.7 17.8-23.4 23.4zM384.3 352c35.2 .2 63.7 28.7 63.7 64c0 35.3-28.7 64-64 64c-23.7 0-44.4-12.9-55.4-32H119.4c-11.1 19.1-31.7 32-55.4 32c-35.3 0-64-28.7-64-64c0-23.7 12.9-44.4 32-55.4V151.4C12.9 140.4 0 119.7 0 96C0 60.7 28.7 32 64 32c23.7 0 44.4 12.9 55.4 32H328.6c11.1-19.1 31.7-32 55.4-32c35.3 0 64 28.7 64 64c0 35.3-28.5 63.8-63.7 64l-4.5 7.9-32 56-2.3 4c4.2 8.5 6.5 18 6.5 28.1s-2.3 19.6-6.5 28.1l2.3 4 32 56 4.5 7.9z"]},faHand={prefix:"far",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M256 0c-25.3 0-47.2 14.7-57.6 36c-7-2.6-14.5-4-22.4-4c-35.3 0-64 28.7-64 64V261.5l-2.7-2.7c-25-25-65.5-25-90.5 0s-25 65.5 0 90.5L106.5 437c48 48 113.1 75 181 75H296h8c1.5 0 3-.1 4.5-.4c91.7-6.2 165-79.4 171.1-171.1c.3-1.5 .4-3 .4-4.5V160c0-35.3-28.7-64-64-64c-5.5 0-10.9 .7-16 2V96c0-35.3-28.7-64-64-64c-7.9 0-15.4 1.4-22.4 4C303.2 14.7 281.3 0 256 0zM240 96.1c0 0 0-.1 0-.1V64c0-8.8 7.2-16 16-16s16 7.2 16 16V95.9c0 0 0 .1 0 .1V232c0 13.3 10.7 24 24 24s24-10.7 24-24V96c0 0 0 0 0-.1c0-8.8 7.2-16 16-16s16 7.2 16 16v55.9c0 0 0 .1 0 .1v80c0 13.3 10.7 24 24 24s24-10.7 24-24V160.1c0 0 0-.1 0-.1c0-8.8 7.2-16 16-16s16 7.2 16 16V332.9c-.1 .6-.1 1.3-.2 1.9c-3.4 69.7-59.3 125.6-129 129c-.6 0-1.3 .1-1.9 .2H296h-8.5c-55.2 0-108.1-21.9-147.1-60.9L52.7 315.3c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L119 336.4c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V96c0-8.8 7.2-16 16-16c8.8 0 16 7.1 16 15.9V232c0 13.3 10.7 24 24 24s24-10.7 24-24V96.1z"]},faSquare={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},faCircle={prefix:"far",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]};async function initializeWasm(){try{return console.log("Initializing WASM module..."),await initWasmModule(),console.log("WASM module initialized successfully"),!0}catch(n){return console.warn("Failed to initialize WASM module, will use fallback implementation:",n),!1}}async function testWasmLoading(){try{console.log("Testing WASM module loading...");const n=await getWasmModule();console.log(" WASM module loaded successfully");const e=[[{type:"LINE",start:{x:0,y:0},end:{x:100,y:0}},{type:"LINE",start:{x:100,y:0},end:{x:100,y:100}},{type:"LINE",start:{x:100,y:100},end:{x:0,y:100}},{type:"LINE",start:{x:0,y:100},end:{x:0,y:0}}]],r=n.remove_overlap(JSON.stringify(e)),g=JSON.parse(r);return console.log(" WASM function executed successfully"),console.log("Result:",g),!0}catch(n){return console.error(" WASM test failed:",n),!1}}localForage.config({driver:localForage.INDEXEDDB,name:"myDatabase",version:1,size:4980736,storeName:"keyvaluepairs",description:"my database"});library$1.add(faArrowPointer,faCircle$1,faPercent,faArrowDownWideShort,faPenNib,faSquare$1,faDrawPolygon,faImage,faFont,faTerminal,faSliders,faTableCells,faHand,faSquare,faCircle,faHand$1,faTextWidth,faGamepad);const app=createApp(_sfc_main);app.config.errorHandler=(n,e,r)=>{console.error(":",n)};app.component("font-awesome-icon",FontAwesomeIcon);app.use(installer);app.component("Files",files_default);app.component("Edit",edit_default);app.component("Upload",upload_default);app.component("Download",download_default);app.component("Tickets",tickets_default);app.component("Setting",setting_default);app.component("List",list_default);app.component("Tools",tools_default);app.component("QuestionFilled",question_filled_default);app.use(router);app.use(i18n);app.mount("#app");const worker=initWorker();initializeWasm().then(async n=>{if(n){console.log(" WASM module ready for use");const e=await testWasmLoading();console.log(e?" WASM functionality test passed":" WASM functionality test failed, will use fallback")}else console.log(" Using fallback implementation")}).catch(n=>{console.error(" Failed to initialize WASM:",n)});
