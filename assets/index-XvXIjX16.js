(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))g(y);new MutationObserver(y=>{for(const k of y)if(k.type==="childList")for(const $ of k.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&g($)}).observe(document,{childList:!0,subtree:!0});function r(y){const k={};return y.integrity&&(k.integrity=y.integrity),y.referrerPolicy&&(k.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?k.credentials="include":y.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function g(y){if(y.ep)return;y.ep=!0;const k=r(y);fetch(y.href,k)}})();function makeMap(n,e){const r=Object.create(null),g=n.split(",");for(let y=0;y<g.length;y++)r[g[y]]=!0;return e?y=>!!r[y.toLowerCase()]:y=>!!r[y]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=n=>onRE.test(n),isModelListener=n=>n.startsWith("onUpdate:"),extend=Object.assign,remove$1=(n,e)=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},hasOwnProperty$f=Object.prototype.hasOwnProperty,hasOwn$1=(n,e)=>hasOwnProperty$f.call(n,e),isArray$3=Array.isArray,isMap$1=n=>toTypeString$1(n)==="[object Map]",isSet$1=n=>toTypeString$1(n)==="[object Set]",isDate$1=n=>toTypeString$1(n)==="[object Date]",isFunction$3=n=>typeof n=="function",isString$3=n=>typeof n=="string",isSymbol$1=n=>typeof n=="symbol",isObject$3=n=>n!==null&&typeof n=="object",isPromise=n=>isObject$3(n)&&isFunction$3(n.then)&&isFunction$3(n.catch),objectToString$2=Object.prototype.toString,toTypeString$1=n=>objectToString$2.call(n),toRawType=n=>toTypeString$1(n).slice(8,-1),isPlainObject$2=n=>toTypeString$1(n)==="[object Object]",isIntegerKey=n=>isString$3(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const e=Object.create(null);return r=>e[r]||(e[r]=n(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$2=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize$2(n)}`:""),hasChanged=(n,e)=>!Object.is(n,e),invokeArrayFns=(n,e)=>{for(let r=0;r<n.length;r++)n[r](e)},def=(n,e,r)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=n=>{const e=parseFloat(n);return isNaN(e)?n:e},toNumber$1=n=>{const e=isString$3(n)?Number(n):NaN;return isNaN(e)?n:e};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(n){if(isArray$3(n)){const e={};for(let r=0;r<n.length;r++){const g=n[r],y=isString$3(g)?parseStringStyle(g):normalizeStyle(g);if(y)for(const k in y)e[k]=y[k]}return e}else{if(isString$3(n))return n;if(isObject$3(n))return n}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(n){const e={};return n.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const g=r.split(propertyDelimiterRE);g.length>1&&(e[g[0].trim()]=g[1].trim())}}),e}function normalizeClass(n){let e="";if(isString$3(n))e=n;else if(isArray$3(n))for(let r=0;r<n.length;r++){const g=normalizeClass(n[r]);g&&(e+=g+" ")}else if(isObject$3(n))for(const r in n)n[r]&&(e+=r+" ");return e.trim()}function normalizeProps(n){if(!n)return null;let{class:e,style:r}=n;return e&&!isString$3(e)&&(n.class=normalizeClass(e)),r&&(n.style=normalizeStyle(r)),n}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}function looseCompareArrays(n,e){if(n.length!==e.length)return!1;let r=!0;for(let g=0;r&&g<n.length;g++)r=looseEqual(n[g],e[g]);return r}function looseEqual(n,e){if(n===e)return!0;let r=isDate$1(n),g=isDate$1(e);if(r||g)return r&&g?n.getTime()===e.getTime():!1;if(r=isSymbol$1(n),g=isSymbol$1(e),r||g)return n===e;if(r=isArray$3(n),g=isArray$3(e),r||g)return r&&g?looseCompareArrays(n,e):!1;if(r=isObject$3(n),g=isObject$3(e),r||g){if(!r||!g)return!1;const y=Object.keys(n).length,k=Object.keys(e).length;if(y!==k)return!1;for(const $ in n){const V=n.hasOwnProperty($),L=e.hasOwnProperty($);if(V&&!L||!V&&L||!looseEqual(n[$],e[$]))return!1}}return String(n)===String(e)}function looseIndexOf(n,e){return n.findIndex(r=>looseEqual(r,e))}const toDisplayString$1=n=>isString$3(n)?n:n==null?"":isArray$3(n)||isObject$3(n)&&(n.toString===objectToString$2||!isFunction$3(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,e)=>e&&e.__v_isRef?replacer(n,e.value):isMap$1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[g,y])=>(r[`${g} =>`]=y,r),{})}:isSet$1(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$3(e)&&!isArray$3(e)&&!isPlainObject$2(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,g;for(r=0,g=this.effects.length;r<g;r++)this.effects[r].stop();for(r=0,g=this.cleanups.length;r<g;r++)this.cleanups[r]();if(this.scopes)for(r=0,g=this.scopes.length;r<g;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const y=this.parent.scopes.pop();y&&y!==this&&(this.parent.scopes[this.index]=y,y.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(n){return new EffectScope(n)}function recordEffectScope(n,e=activeEffectScope){e&&e.active&&e.effects.push(n)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(n){activeEffectScope&&activeEffectScope.cleanups.push(n)}const createDep=n=>{const e=new Set(n);return e.w=0,e.n=0,e},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:e}=n;if(e.length){let r=0;for(let g=0;g<e.length;g++){const y=e[g];wasTracked(y)&&!newTracked(y)?y.delete(n):e[r++]=y,y.w&=~trackOpBit,y.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,g){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,g)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(n){const{deps:e}=n;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(n);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,e,r){if(shouldTrack&&activeEffect){let g=targetMap.get(n);g||targetMap.set(n,g=new Map);let y=g.get(r);y||g.set(r,y=createDep()),trackEffects(y)}}function trackEffects(n,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,r=!wasTracked(n)):r=!n.has(activeEffect),r&&(n.add(activeEffect),activeEffect.deps.push(n))}function trigger(n,e,r,g,y,k){const $=targetMap.get(n);if(!$)return;let V=[];if(e==="clear")V=[...$.values()];else if(r==="length"&&isArray$3(n)){const L=Number(g);$.forEach((z,j)=>{(j==="length"||j>=L)&&V.push(z)})}else switch(r!==void 0&&V.push($.get(r)),e){case"add":isArray$3(n)?isIntegerKey(r)&&V.push($.get("length")):(V.push($.get(ITERATE_KEY)),isMap$1(n)&&V.push($.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(n)||(V.push($.get(ITERATE_KEY)),isMap$1(n)&&V.push($.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(n)&&V.push($.get(ITERATE_KEY));break}if(V.length===1)V[0]&&triggerEffects(V[0]);else{const L=[];for(const z of V)z&&L.push(...z);triggerEffects(createDep(L))}}function triggerEffects(n,e){const r=isArray$3(n)?n:[...n];for(const g of r)g.computed&&triggerEffect(g);for(const g of r)g.computed||triggerEffect(g)}function triggerEffect(n,e){(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function getDepFromReactive(n,e){var r;return(r=targetMap.get(n))==null?void 0:r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...r){const g=toRaw(this);for(let k=0,$=this.length;k<$;k++)track(g,"get",k+"");const y=g[e](...r);return y===-1||y===!1?g[e](...r.map(toRaw)):y}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...r){pauseTracking();const g=toRaw(this)[e].apply(this,r);return resetTracking(),g}}),n}function hasOwnProperty$e(n){const e=toRaw(this);return track(e,"has",n),e.hasOwnProperty(n)}function createGetter(n=!1,e=!1){return function(g,y,k){if(y==="__v_isReactive")return!n;if(y==="__v_isReadonly")return n;if(y==="__v_isShallow")return e;if(y==="__v_raw"&&k===(n?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(g))return g;const $=isArray$3(g);if(!n){if($&&hasOwn$1(arrayInstrumentations,y))return Reflect.get(arrayInstrumentations,y,k);if(y==="hasOwnProperty")return hasOwnProperty$e}const V=Reflect.get(g,y,k);return(isSymbol$1(y)?builtInSymbols.has(y):isNonTrackableKeys(y))||(n||track(g,"get",y),e)?V:isRef(V)?$&&isIntegerKey(y)?V:V.value:isObject$3(V)?n?readonly(V):reactive(V):V}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(n=!1){return function(r,g,y,k){let $=r[g];if(isReadonly($)&&isRef($)&&!isRef(y))return!1;if(!n&&(!isShallow(y)&&!isReadonly(y)&&($=toRaw($),y=toRaw(y)),!isArray$3(r)&&isRef($)&&!isRef(y)))return $.value=y,!0;const V=isArray$3(r)&&isIntegerKey(g)?Number(g)<r.length:hasOwn$1(r,g),L=Reflect.set(r,g,y,k);return r===toRaw(k)&&(V?hasChanged(y,$)&&trigger(r,"set",g,y):trigger(r,"add",g,y)),L}}function deleteProperty(n,e){const r=hasOwn$1(n,e);n[e];const g=Reflect.deleteProperty(n,e);return g&&r&&trigger(n,"delete",e,void 0),g}function has$1(n,e){const r=Reflect.has(n,e);return(!isSymbol$1(e)||!builtInSymbols.has(e))&&track(n,"has",e),r}function ownKeys$2(n){return track(n,"iterate",isArray$3(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$2},readonlyHandlers={get:readonlyGet,set(n,e){return!0},deleteProperty(n,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$2(n,e,r=!1,g=!1){n=n.__v_raw;const y=toRaw(n),k=toRaw(e);r||(e!==k&&track(y,"get",e),track(y,"get",k));const{has:$}=getProto(y),V=g?toShallow:r?toReadonly:toReactive;if($.call(y,e))return V(n.get(e));if($.call(y,k))return V(n.get(k));n!==y&&n.get(e)}function has(n,e=!1){const r=this.__v_raw,g=toRaw(r),y=toRaw(n);return e||(n!==y&&track(g,"has",n),track(g,"has",y)),n===y?r.has(n):r.has(n)||r.has(y)}function size(n,e=!1){return n=n.__v_raw,!e&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add$1(n){n=toRaw(n);const e=toRaw(this);return getProto(e).has.call(e,n)||(e.add(n),trigger(e,"add",n,n)),this}function set$2(n,e){e=toRaw(e);const r=toRaw(this),{has:g,get:y}=getProto(r);let k=g.call(r,n);k||(n=toRaw(n),k=g.call(r,n));const $=y.call(r,n);return r.set(n,e),k?hasChanged(e,$)&&trigger(r,"set",n,e):trigger(r,"add",n,e),this}function deleteEntry(n){const e=toRaw(this),{has:r,get:g}=getProto(e);let y=r.call(e,n);y||(n=toRaw(n),y=r.call(e,n)),g&&g.call(e,n);const k=e.delete(n);return y&&trigger(e,"delete",n,void 0),k}function clear(){const n=toRaw(this),e=n.size!==0,r=n.clear();return e&&trigger(n,"clear",void 0,void 0),r}function createForEach(n,e){return function(g,y){const k=this,$=k.__v_raw,V=toRaw($),L=e?toShallow:n?toReadonly:toReactive;return!n&&track(V,"iterate",ITERATE_KEY),$.forEach((z,j)=>g.call(y,L(z),L(j),k))}}function createIterableMethod(n,e,r){return function(...g){const y=this.__v_raw,k=toRaw(y),$=isMap$1(k),V=n==="entries"||n===Symbol.iterator&&$,L=n==="keys"&&$,z=y[n](...g),j=r?toShallow:e?toReadonly:toReactive;return!e&&track(k,"iterate",L?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:re,done:oe}=z.next();return oe?{value:re,done:oe}:{value:V?[j(re[0]),j(re[1])]:j(re),done:oe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...e){return n==="delete"?!1:this}}function createInstrumentations(){const n={get(k){return get$2(this,k)},get size(){return size(this)},has,add:add$1,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(k){return get$2(this,k,!1,!0)},get size(){return size(this)},has,add:add$1,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(k){return get$2(this,k,!0)},get size(){return size(this,!0)},has(k){return has.call(this,k,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},g={get(k){return get$2(this,k,!0,!0)},get size(){return size(this,!0)},has(k){return has.call(this,k,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(k=>{n[k]=createIterableMethod(k,!1,!1),r[k]=createIterableMethod(k,!0,!1),e[k]=createIterableMethod(k,!1,!0),g[k]=createIterableMethod(k,!0,!0)}),[n,r,e,g]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,e){const r=e?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(g,y,k)=>y==="__v_isReactive"?!n:y==="__v_isReadonly"?n:y==="__v_raw"?g:Reflect.get(hasOwn$1(r,y)&&y in g?r:g,y,k)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(n,e,r,g,y){if(!isObject$3(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const k=y.get(n);if(k)return k;const $=getTargetType(n);if($===0)return n;const V=new Proxy(n,$===2?g:r);return y.set(n,V),V}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const e=n&&n.__v_raw;return e?toRaw(e):n}function markRaw(n){return def(n,"__v_skip",!0),n}const toReactive=n=>isObject$3(n)?reactive(n):n,toReadonly=n=>isObject$3(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep())))}function triggerRefValue(n,e){n=toRaw(n);const r=n.dep;r&&triggerEffects(r)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function shallowRef(n){return createRef(n,!0)}function createRef(n,e){return isRef(n)?n:new RefImpl(n,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function triggerRef(n){triggerRefValue(n)}function unref(n){return isRef(n)?n.value:n}const shallowUnwrapHandlers={get:(n,e,r)=>unref(Reflect.get(n,e,r)),set:(n,e,r,g)=>{const y=n[e];return isRef(y)&&!isRef(r)?(y.value=r,!0):Reflect.set(n,e,r,g)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}function toRefs(n){const e=isArray$3(n)?new Array(n.length):{};for(const r in n)e[r]=propertyToRef(n,r);return e}class ObjectRefImpl{constructor(e,r,g){this._object=e,this._key=r,this._defaultValue=g,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(n,e,r){return isRef(n)?n:isFunction$3(n)?new GetterRefImpl(n):isObject$3(n)&&arguments.length>1?propertyToRef(n,e,r):ref(n)}function propertyToRef(n,e,r){const g=n[e];return isRef(g)?g:new ObjectRefImpl(n,e,r)}class ComputedRefImpl{constructor(e,r,g,y){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!y,this.__v_isReadonly=g}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(n,e,r=!1){let g,y;const k=isFunction$3(n);return k?(g=n,y=NOOP):(g=n.get,y=n.set),new ComputedRefImpl(g,y,k||!y,r)}function warn$1(n,...e){}function callWithErrorHandling(n,e,r,g){let y;try{y=g?n(...g):n()}catch(k){handleError(k,e,r)}return y}function callWithAsyncErrorHandling(n,e,r,g){if(isFunction$3(n)){const k=callWithErrorHandling(n,e,r,g);return k&&isPromise(k)&&k.catch($=>{handleError($,e,r)}),k}const y=[];for(let k=0;k<n.length;k++)y.push(callWithAsyncErrorHandling(n[k],e,r,g));return y}function handleError(n,e,r,g=!0){const y=e?e.vnode:null;if(e){let k=e.parent;const $=e.proxy,V=r;for(;k;){const z=k.ec;if(z){for(let j=0;j<z.length;j++)if(z[j](n,$,V)===!1)return}k=k.parent}const L=e.appContext.config.errorHandler;if(L){callWithErrorHandling(L,null,10,[n,$,V]);return}}logError(n,r,y,g)}function logError(n,e,r,g=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(n){const e=currentFlushPromise||resolvedPromise;return n?e.then(this?n.bind(this):n):e}function findInsertionIndex(n){let e=flushIndex+1,r=queue.length;for(;e<r;){const g=e+r>>>1;getId(queue[g])<n?e=g+1:r=g}return e}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const e=queue.indexOf(n);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(n){isArray$3(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()}function flushPreFlushCbs(n,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,g)=>getId(r)-getId(g)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=n=>n.id==null?1/0:n.id,comparator=(n,e)=>{const r=getId(n)-getId(e);if(r===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return r};function flushJobs(n){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&e.active!==!1&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(n,e,...r){if(n.isUnmounted)return;const g=n.vnode.props||EMPTY_OBJ;let y=r;const k=e.startsWith("update:"),$=k&&e.slice(7);if($&&$ in g){const j=`${$==="modelValue"?"model":$}Modifiers`,{number:re,trim:oe}=g[j]||EMPTY_OBJ;oe&&(y=r.map(ae=>isString$3(ae)?ae.trim():ae)),re&&(y=r.map(looseToNumber))}let V,L=g[V=toHandlerKey(e)]||g[V=toHandlerKey(camelize(e))];!L&&k&&(L=g[V=toHandlerKey(hyphenate(e))]),L&&callWithAsyncErrorHandling(L,n,6,y);const z=g[V+"Once"];if(z){if(!n.emitted)n.emitted={};else if(n.emitted[V])return;n.emitted[V]=!0,callWithAsyncErrorHandling(z,n,6,y)}}function normalizeEmitsOptions(n,e,r=!1){const g=e.emitsCache,y=g.get(n);if(y!==void 0)return y;const k=n.emits;let $={},V=!1;if(!isFunction$3(n)){const L=z=>{const j=normalizeEmitsOptions(z,e,!0);j&&(V=!0,extend($,j))};!r&&e.mixins.length&&e.mixins.forEach(L),n.extends&&L(n.extends),n.mixins&&n.mixins.forEach(L)}return!k&&!V?(isObject$3(n)&&g.set(n,null),null):(isArray$3(k)?k.forEach(L=>$[L]=null):extend($,k),isObject$3(n)&&g.set(n,$),$)}function isEmitListener(n,e){return!n||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(n,e[0].toLowerCase()+e.slice(1))||hasOwn$1(n,hyphenate(e))||hasOwn$1(n,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const e=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,e}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}function withCtx(n,e=currentRenderingInstance,r){if(!e||n._n)return n;const g=(...y)=>{g._d&&setBlockTracking(-1);const k=setCurrentRenderingInstance(e);let $;try{$=n(...y)}finally{setCurrentRenderingInstance(k),g._d&&setBlockTracking(1)}return $};return g._n=!0,g._c=!0,g._d=!0,g}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:e,vnode:r,proxy:g,withProxy:y,props:k,propsOptions:[$],slots:V,attrs:L,emit:z,render:j,renderCache:re,data:oe,setupState:ae,ctx:de,inheritAttrs:ue}=n;let pe,he;const Oe=setCurrentRenderingInstance(n);try{if(r.shapeFlag&4){const $e=y||g;pe=normalizeVNode(j.call($e,$e,re,k,ae,oe,de)),he=L}else{const $e=e;pe=normalizeVNode($e.length>1?$e(k,{attrs:L,slots:V,emit:z}):$e(k,null)),he=e.props?L:getFunctionalFallthrough(L)}}catch($e){blockStack.length=0,handleError($e,n,1),pe=createVNode(Comment)}let xe=pe;if(he&&ue!==!1){const $e=Object.keys(he),{shapeFlag:Ne}=xe;$e.length&&Ne&7&&($&&$e.some(isModelListener)&&(he=filterModelListeners(he,$)),xe=cloneVNode(xe,he))}return r.dirs&&(xe=cloneVNode(xe),xe.dirs=xe.dirs?xe.dirs.concat(r.dirs):r.dirs),r.transition&&(xe.transition=r.transition),pe=xe,setCurrentRenderingInstance(Oe),pe}const getFunctionalFallthrough=n=>{let e;for(const r in n)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=n[r]);return e},filterModelListeners=(n,e)=>{const r={};for(const g in n)(!isModelListener(g)||!(g.slice(9)in e))&&(r[g]=n[g]);return r};function shouldUpdateComponent(n,e,r){const{props:g,children:y,component:k}=n,{props:$,children:V,patchFlag:L}=e,z=k.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&L>=0){if(L&1024)return!0;if(L&16)return g?hasPropsChanged(g,$,z):!!$;if(L&8){const j=e.dynamicProps;for(let re=0;re<j.length;re++){const oe=j[re];if($[oe]!==g[oe]&&!isEmitListener(z,oe))return!0}}}else return(y||V)&&(!V||!V.$stable)?!0:g===$?!1:g?$?hasPropsChanged(g,$,z):!0:!!$;return!1}function hasPropsChanged(n,e,r){const g=Object.keys(e);if(g.length!==Object.keys(n).length)return!0;for(let y=0;y<g.length;y++){const k=g[y];if(e[k]!==n[k]&&!isEmitListener(r,k))return!0}return!1}function updateHOCHostEl({vnode:n,parent:e},r){for(;e&&e.subTree===n;)(n=e.vnode).el=r,e=e.parent}const isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,e){e&&e.pendingBranch?isArray$3(n)?e.effects.push(...n):e.effects.push(n):queuePostFlushCb(n)}function watchEffect(n,e){return doWatch(n,null,e)}const INITIAL_WATCHER_VALUE={};function watch(n,e,r){return doWatch(n,e,r)}function doWatch(n,e,{immediate:r,deep:g,flush:y,onTrack:k,onTrigger:$}=EMPTY_OBJ){var V;const L=getCurrentScope()===((V=currentInstance)==null?void 0:V.scope)?currentInstance:null;let z,j=!1,re=!1;if(isRef(n)?(z=()=>n.value,j=isShallow(n)):isReactive(n)?(z=()=>n,g=!0):isArray$3(n)?(re=!0,j=n.some($e=>isReactive($e)||isShallow($e)),z=()=>n.map($e=>{if(isRef($e))return $e.value;if(isReactive($e))return traverse($e);if(isFunction$3($e))return callWithErrorHandling($e,L,2)})):isFunction$3(n)?e?z=()=>callWithErrorHandling(n,L,2):z=()=>{if(!(L&&L.isUnmounted))return oe&&oe(),callWithAsyncErrorHandling(n,L,3,[ae])}:z=NOOP,e&&g){const $e=z;z=()=>traverse($e())}let oe,ae=$e=>{oe=Oe.onStop=()=>{callWithErrorHandling($e,L,4)}},de;if(isInSSRComponentSetup)if(ae=NOOP,e?r&&callWithAsyncErrorHandling(e,L,3,[z(),re?[]:void 0,ae]):z(),y==="sync"){const $e=useSSRContext();de=$e.__watcherHandles||($e.__watcherHandles=[])}else return NOOP;let ue=re?new Array(n.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const pe=()=>{if(Oe.active)if(e){const $e=Oe.run();(g||j||(re?$e.some((Ne,Ce)=>hasChanged(Ne,ue[Ce])):hasChanged($e,ue)))&&(oe&&oe(),callWithAsyncErrorHandling(e,L,3,[$e,ue===INITIAL_WATCHER_VALUE?void 0:re&&ue[0]===INITIAL_WATCHER_VALUE?[]:ue,ae]),ue=$e)}else Oe.run()};pe.allowRecurse=!!e;let he;y==="sync"?he=pe:y==="post"?he=()=>queuePostRenderEffect(pe,L&&L.suspense):(pe.pre=!0,L&&(pe.id=L.uid),he=()=>queueJob(pe));const Oe=new ReactiveEffect(z,he);e?r?pe():ue=Oe.run():y==="post"?queuePostRenderEffect(Oe.run.bind(Oe),L&&L.suspense):Oe.run();const xe=()=>{Oe.stop(),L&&L.scope&&remove$1(L.scope.effects,Oe)};return de&&de.push(xe),xe}function instanceWatch(n,e,r){const g=this.proxy,y=isString$3(n)?n.includes(".")?createPathGetter(g,n):()=>g[n]:n.bind(g,g);let k;isFunction$3(e)?k=e:(k=e.handler,r=e);const $=currentInstance;setCurrentInstance(this);const V=doWatch(y,k.bind(g),r);return $?setCurrentInstance($):unsetCurrentInstance(),V}function createPathGetter(n,e){const r=e.split(".");return()=>{let g=n;for(let y=0;y<r.length&&g;y++)g=g[r[y]];return g}}function traverse(n,e){if(!isObject$3(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),isRef(n))traverse(n.value,e);else if(isArray$3(n))for(let r=0;r<n.length;r++)traverse(n[r],e);else if(isSet$1(n)||isMap$1(n))n.forEach(r=>{traverse(r,e)});else if(isPlainObject$2(n))for(const r in n)traverse(n[r],e);return n}function withDirectives(n,e){const r=currentRenderingInstance;if(r===null)return n;const g=getExposeProxy(r)||r.proxy,y=n.dirs||(n.dirs=[]);for(let k=0;k<e.length;k++){let[$,V,L,z=EMPTY_OBJ]=e[k];$&&(isFunction$3($)&&($={mounted:$,updated:$}),$.deep&&traverse(V),y.push({dir:$,instance:g,value:V,oldValue:void 0,arg:L,modifiers:z}))}return n}function invokeDirectiveHook(n,e,r,g){const y=n.dirs,k=e&&e.dirs;for(let $=0;$<y.length;$++){const V=y[$];k&&(V.oldValue=k[$].value);let L=V.dir[g];L&&(pauseTracking(),callWithAsyncErrorHandling(L,r,8,[n.el,V,n,e]),resetTracking())}}function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(n,{slots:e}){const r=getCurrentInstance(),g=useTransitionState();let y;return()=>{const k=e.default&&getTransitionRawChildren(e.default(),!0);if(!k||!k.length)return;let $=k[0];if(k.length>1){for(const ue of k)if(ue.type!==Comment){$=ue;break}}const V=toRaw(n),{mode:L}=V;if(g.isLeaving)return emptyPlaceholder($);const z=getKeepAliveChild($);if(!z)return emptyPlaceholder($);const j=resolveTransitionHooks(z,V,g,r);setTransitionHooks(z,j);const re=r.subTree,oe=re&&getKeepAliveChild(re);let ae=!1;const{getTransitionKey:de}=z.type;if(de){const ue=de();y===void 0?y=ue:ue!==y&&(y=ue,ae=!0)}if(oe&&oe.type!==Comment&&(!isSameVNodeType(z,oe)||ae)){const ue=resolveTransitionHooks(oe,V,g,r);if(setTransitionHooks(oe,ue),L==="out-in")return g.isLeaving=!0,ue.afterLeave=()=>{g.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder($);L==="in-out"&&z.type!==Comment&&(ue.delayLeave=(pe,he,Oe)=>{const xe=getLeavingNodesForType(g,oe);xe[String(oe.key)]=oe,pe._leaveCb=()=>{he(),pe._leaveCb=void 0,delete j.delayedLeave},j.delayedLeave=Oe})}return $}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,e){const{leavingVNodes:r}=n;let g=r.get(e.type);return g||(g=Object.create(null),r.set(e.type,g)),g}function resolveTransitionHooks(n,e,r,g){const{appear:y,mode:k,persisted:$=!1,onBeforeEnter:V,onEnter:L,onAfterEnter:z,onEnterCancelled:j,onBeforeLeave:re,onLeave:oe,onAfterLeave:ae,onLeaveCancelled:de,onBeforeAppear:ue,onAppear:pe,onAfterAppear:he,onAppearCancelled:Oe}=e,xe=String(n.key),$e=getLeavingNodesForType(r,n),Ne=(ze,kt)=>{ze&&callWithAsyncErrorHandling(ze,g,9,kt)},Ce=(ze,kt)=>{const At=kt[1];Ne(ze,kt),isArray$3(ze)?ze.every(Cn=>Cn.length<=1)&&At():ze.length<=1&&At()},Fe={mode:k,persisted:$,beforeEnter(ze){let kt=V;if(!r.isMounted)if(y)kt=ue||V;else return;ze._leaveCb&&ze._leaveCb(!0);const At=$e[xe];At&&isSameVNodeType(n,At)&&At.el._leaveCb&&At.el._leaveCb(),Ne(kt,[ze])},enter(ze){let kt=L,At=z,Cn=j;if(!r.isMounted)if(y)kt=pe||L,At=he||z,Cn=Oe||j;else return;let Dt=!1;const On=ze._enterCb=jt=>{Dt||(Dt=!0,jt?Ne(Cn,[ze]):Ne(At,[ze]),Fe.delayedLeave&&Fe.delayedLeave(),ze._enterCb=void 0)};kt?Ce(kt,[ze,On]):On()},leave(ze,kt){const At=String(n.key);if(ze._enterCb&&ze._enterCb(!0),r.isUnmounting)return kt();Ne(re,[ze]);let Cn=!1;const Dt=ze._leaveCb=On=>{Cn||(Cn=!0,kt(),On?Ne(de,[ze]):Ne(ae,[ze]),ze._leaveCb=void 0,$e[At]===n&&delete $e[At])};$e[At]=n,oe?Ce(oe,[ze,Dt]):Dt()},clone(ze){return resolveTransitionHooks(ze,e,r,g)}};return Fe}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){return isKeepAlive(n)?n.children?n.children[0]:void 0:n}function setTransitionHooks(n,e){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function getTransitionRawChildren(n,e=!1,r){let g=[],y=0;for(let k=0;k<n.length;k++){let $=n[k];const V=r==null?$.key:String(r)+String($.key!=null?$.key:k);$.type===Fragment?($.patchFlag&128&&y++,g=g.concat(getTransitionRawChildren($.children,e,V))):(e||$.type!==Comment)&&g.push(V!=null?cloneVNode($,{key:V}):$)}if(y>1)for(let k=0;k<g.length;k++)g[k].patchFlag=-2;return g}function defineComponent(n,e){return isFunction$3(n)?extend({name:n.name},e,{setup:n}):n}const isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,e){registerKeepAliveHook(n,"a",e)}function onDeactivated(n,e){registerKeepAliveHook(n,"da",e)}function registerKeepAliveHook(n,e,r=currentInstance){const g=n.__wdc||(n.__wdc=()=>{let y=r;for(;y;){if(y.isDeactivated)return;y=y.parent}return n()});if(injectHook(e,g,r),r){let y=r.parent;for(;y&&y.parent;)isKeepAlive(y.parent.vnode)&&injectToKeepAliveRoot(g,e,r,y),y=y.parent}}function injectToKeepAliveRoot(n,e,r,g){const y=injectHook(e,n,g,!0);onUnmounted(()=>{remove$1(g[e],y)},r)}function injectHook(n,e,r=currentInstance,g=!1){if(r){const y=r[n]||(r[n]=[]),k=e.__weh||(e.__weh=(...$)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const V=callWithAsyncErrorHandling(e,r,n,$);return unsetCurrentInstance(),resetTracking(),V});return g?y.unshift(k):y.push(k),k}}const createHook=n=>(e,r=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,(...g)=>e(...g),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,e=currentInstance){injectHook("ec",n,e)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(n,e){return resolveAsset(COMPONENTS,n,!0,e)||n}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(n){return isString$3(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT}function resolveDirective(n){return resolveAsset(DIRECTIVES,n)}function resolveAsset(n,e,r=!0,g=!1){const y=currentRenderingInstance||currentInstance;if(y){const k=y.type;if(n===COMPONENTS){const V=getComponentName(k,!1);if(V&&(V===e||V===camelize(e)||V===capitalize$2(camelize(e))))return k}const $=resolve(y[n]||k[n],e)||resolve(y.appContext[n],e);return!$&&g?k:$}}function resolve(n,e){return n&&(n[e]||n[camelize(e)]||n[capitalize$2(camelize(e))])}function renderList(n,e,r,g){let y;const k=r&&r[g];if(isArray$3(n)||isString$3(n)){y=new Array(n.length);for(let $=0,V=n.length;$<V;$++)y[$]=e(n[$],$,void 0,k&&k[$])}else if(typeof n=="number"){y=new Array(n);for(let $=0;$<n;$++)y[$]=e($+1,$,void 0,k&&k[$])}else if(isObject$3(n))if(n[Symbol.iterator])y=Array.from(n,($,V)=>e($,V,void 0,k&&k[V]));else{const $=Object.keys(n);y=new Array($.length);for(let V=0,L=$.length;V<L;V++){const z=$[V];y[V]=e(n[z],z,V,k&&k[V])}}else y=[];return r&&(r[g]=y),y}function createSlots(n,e){for(let r=0;r<e.length;r++){const g=e[r];if(isArray$3(g))for(let y=0;y<g.length;y++)n[g[y].name]=g[y].fn;else g&&(n[g.name]=g.key?(...y)=>{const k=g.fn(...y);return k&&(k.key=g.key),k}:g.fn)}return n}function renderSlot(n,e,r={},g,y){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,g&&g());let k=n[e];k&&k._c&&(k._d=!1),openBlock();const $=k&&ensureValidVNode(k(r)),V=createBlock(Fragment,{key:r.key||$&&$.key||`_${e}`},$||(g?g():[]),$&&n._===1?64:-2);return!y&&V.scopeId&&(V.slotScopeIds=[V.scopeId+"-s"]),k&&k._c&&(k._d=!0),V}function ensureValidVNode(n){return n.some(e=>isVNode$1(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?n:null}function toHandlers(n,e){const r={};for(const g in n)r[e&&/[A-Z]/.test(g)?`on:${g}`:toHandlerKey(g)]=n[g];return r}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>n.f||(n.f=()=>queueJob(n.update)),$nextTick:n=>n.n||(n.n=nextTick.bind(n.proxy)),$watch:n=>instanceWatch.bind(n)}),hasSetupBinding=(n,e)=>n!==EMPTY_OBJ&&!n.__isScriptSetup&&hasOwn$1(n,e),PublicInstanceProxyHandlers={get({_:n},e){const{ctx:r,setupState:g,data:y,props:k,accessCache:$,type:V,appContext:L}=n;let z;if(e[0]!=="$"){const ae=$[e];if(ae!==void 0)switch(ae){case 1:return g[e];case 2:return y[e];case 4:return r[e];case 3:return k[e]}else{if(hasSetupBinding(g,e))return $[e]=1,g[e];if(y!==EMPTY_OBJ&&hasOwn$1(y,e))return $[e]=2,y[e];if((z=n.propsOptions[0])&&hasOwn$1(z,e))return $[e]=3,k[e];if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return $[e]=4,r[e];shouldCacheAccess&&($[e]=0)}}const j=publicPropertiesMap[e];let re,oe;if(j)return e==="$attrs"&&track(n,"get",e),j(n);if((re=V.__cssModules)&&(re=re[e]))return re;if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return $[e]=4,r[e];if(oe=L.config.globalProperties,hasOwn$1(oe,e))return oe[e]},set({_:n},e,r){const{data:g,setupState:y,ctx:k}=n;return hasSetupBinding(y,e)?(y[e]=r,!0):g!==EMPTY_OBJ&&hasOwn$1(g,e)?(g[e]=r,!0):hasOwn$1(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(k[e]=r,!0)},has({_:{data:n,setupState:e,accessCache:r,ctx:g,appContext:y,propsOptions:k}},$){let V;return!!r[$]||n!==EMPTY_OBJ&&hasOwn$1(n,$)||hasSetupBinding(e,$)||(V=k[0])&&hasOwn$1(V,$)||hasOwn$1(g,$)||hasOwn$1(publicPropertiesMap,$)||hasOwn$1(y.config.globalProperties,$)},defineProperty(n,e,r){return r.get!=null?n._.accessCache[e]=0:hasOwn$1(r,"value")&&this.set(n,e,r.value,null),Reflect.defineProperty(n,e,r)}};function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(){const n=getCurrentInstance();return n.setupContext||(n.setupContext=createSetupContext(n))}function normalizePropsOrEmits(n){return isArray$3(n)?n.reduce((e,r)=>(e[r]=null,e),{}):n}let shouldCacheAccess=!0;function applyOptions(n){const e=resolveMergedOptions(n),r=n.proxy,g=n.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,n,"bc");const{data:y,computed:k,methods:$,watch:V,provide:L,inject:z,created:j,beforeMount:re,mounted:oe,beforeUpdate:ae,updated:de,activated:ue,deactivated:pe,beforeDestroy:he,beforeUnmount:Oe,destroyed:xe,unmounted:$e,render:Ne,renderTracked:Ce,renderTriggered:Fe,errorCaptured:ze,serverPrefetch:kt,expose:At,inheritAttrs:Cn,components:Dt,directives:On,filters:jt}=e;if(z&&resolveInjections(z,g,null),$)for(const $n in $){const Ln=$[$n];isFunction$3(Ln)&&(g[$n]=Ln.bind(r))}if(y){const $n=y.call(r,r);isObject$3($n)&&(n.data=reactive($n))}if(shouldCacheAccess=!0,k)for(const $n in k){const Ln=k[$n],Tn=isFunction$3(Ln)?Ln.bind(r,r):isFunction$3(Ln.get)?Ln.get.bind(r,r):NOOP,Zn=!isFunction$3(Ln)&&isFunction$3(Ln.set)?Ln.set.bind(r):NOOP,Qn=computed({get:Tn,set:Zn});Object.defineProperty(g,$n,{enumerable:!0,configurable:!0,get:()=>Qn.value,set:Pn=>Qn.value=Pn})}if(V)for(const $n in V)createWatcher(V[$n],g,r,$n);if(L){const $n=isFunction$3(L)?L.call(r):L;Reflect.ownKeys($n).forEach(Ln=>{provide(Ln,$n[Ln])})}j&&callHook$1(j,n,"c");function Mn($n,Ln){isArray$3(Ln)?Ln.forEach(Tn=>$n(Tn.bind(r))):Ln&&$n(Ln.bind(r))}if(Mn(onBeforeMount,re),Mn(onMounted,oe),Mn(onBeforeUpdate,ae),Mn(onUpdated,de),Mn(onActivated,ue),Mn(onDeactivated,pe),Mn(onErrorCaptured,ze),Mn(onRenderTracked,Ce),Mn(onRenderTriggered,Fe),Mn(onBeforeUnmount,Oe),Mn(onUnmounted,$e),Mn(onServerPrefetch,kt),isArray$3(At))if(At.length){const $n=n.exposed||(n.exposed={});At.forEach(Ln=>{Object.defineProperty($n,Ln,{get:()=>r[Ln],set:Tn=>r[Ln]=Tn})})}else n.exposed||(n.exposed={});Ne&&n.render===NOOP&&(n.render=Ne),Cn!=null&&(n.inheritAttrs=Cn),Dt&&(n.components=Dt),On&&(n.directives=On)}function resolveInjections(n,e,r=NOOP){isArray$3(n)&&(n=normalizeInject(n));for(const g in n){const y=n[g];let k;isObject$3(y)?"default"in y?k=inject(y.from||g,y.default,!0):k=inject(y.from||g):k=inject(y),isRef(k)?Object.defineProperty(e,g,{enumerable:!0,configurable:!0,get:()=>k.value,set:$=>k.value=$}):e[g]=k}}function callHook$1(n,e,r){callWithAsyncErrorHandling(isArray$3(n)?n.map(g=>g.bind(e.proxy)):n.bind(e.proxy),e,r)}function createWatcher(n,e,r,g){const y=g.includes(".")?createPathGetter(r,g):()=>r[g];if(isString$3(n)){const k=e[n];isFunction$3(k)&&watch(y,k)}else if(isFunction$3(n))watch(y,n.bind(r));else if(isObject$3(n))if(isArray$3(n))n.forEach(k=>createWatcher(k,e,r,g));else{const k=isFunction$3(n.handler)?n.handler.bind(r):e[n.handler];isFunction$3(k)&&watch(y,k,n)}}function resolveMergedOptions(n){const e=n.type,{mixins:r,extends:g}=e,{mixins:y,optionsCache:k,config:{optionMergeStrategies:$}}=n.appContext,V=k.get(e);let L;return V?L=V:!y.length&&!r&&!g?L=e:(L={},y.length&&y.forEach(z=>mergeOptions$2(L,z,$,!0)),mergeOptions$2(L,e,$)),isObject$3(e)&&k.set(e,L),L}function mergeOptions$2(n,e,r,g=!1){const{mixins:y,extends:k}=e;k&&mergeOptions$2(n,k,r,!0),y&&y.forEach($=>mergeOptions$2(n,$,r,!0));for(const $ in e)if(!(g&&$==="expose")){const V=internalOptionMergeStrats[$]||r&&r[$];n[$]=V?V(n[$],e[$]):e[$]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,e){return e?n?function(){return extend(isFunction$3(n)?n.call(this,this):n,isFunction$3(e)?e.call(this,this):e)}:e:n}function mergeInject(n,e){return mergeObjectOptions(normalizeInject(n),normalizeInject(e))}function normalizeInject(n){if(isArray$3(n)){const e={};for(let r=0;r<n.length;r++)e[n[r]]=n[r];return e}return n}function mergeAsArray(n,e){return n?[...new Set([].concat(n,e))]:e}function mergeObjectOptions(n,e){return n?extend(Object.create(null),n,e):e}function mergeEmitsOrPropsOptions(n,e){return n?isArray$3(n)&&isArray$3(e)?[...new Set([...n,...e])]:extend(Object.create(null),normalizePropsOrEmits(n),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(n,e){if(!n)return e;if(!e)return n;const r=extend(Object.create(null),n);for(const g in e)r[g]=mergeAsArray(n[g],e[g]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(n,e){return function(g,y=null){isFunction$3(g)||(g=extend({},g)),y!=null&&!isObject$3(y)&&(y=null);const k=createAppContext(),$=new Set;let V=!1;const L=k.app={_uid:uid$1++,_component:g,_props:y,_container:null,_context:k,_instance:null,version:version$1,get config(){return k.config},set config(z){},use(z,...j){return $.has(z)||(z&&isFunction$3(z.install)?($.add(z),z.install(L,...j)):isFunction$3(z)&&($.add(z),z(L,...j))),L},mixin(z){return k.mixins.includes(z)||k.mixins.push(z),L},component(z,j){return j?(k.components[z]=j,L):k.components[z]},directive(z,j){return j?(k.directives[z]=j,L):k.directives[z]},mount(z,j,re){if(!V){const oe=createVNode(g,y);return oe.appContext=k,j&&e?e(oe,z):n(oe,z,re),V=!0,L._container=z,z.__vue_app__=L,getExposeProxy(oe.component)||oe.component.proxy}},unmount(){V&&(n(null,L._container),delete L._container.__vue_app__)},provide(z,j){return k.provides[z]=j,L},runWithContext(z){currentApp=L;try{return z()}finally{currentApp=null}}};return L}}let currentApp=null;function provide(n,e){if(currentInstance){let r=currentInstance.provides;const g=currentInstance.parent&&currentInstance.parent.provides;g===r&&(r=currentInstance.provides=Object.create(g)),r[n]=e}}function inject(n,e,r=!1){const g=currentInstance||currentRenderingInstance;if(g||currentApp){const y=g?g.parent==null?g.vnode.appContext&&g.vnode.appContext.provides:g.parent.provides:currentApp._context.provides;if(y&&n in y)return y[n];if(arguments.length>1)return r&&isFunction$3(e)?e.call(g&&g.proxy):e}}function initProps(n,e,r,g=!1){const y={},k={};def(k,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,e,y,k);for(const $ in n.propsOptions[0])$ in y||(y[$]=void 0);r?n.props=g?y:shallowReactive(y):n.type.props?n.props=y:n.props=k,n.attrs=k}function updateProps(n,e,r,g){const{props:y,attrs:k,vnode:{patchFlag:$}}=n,V=toRaw(y),[L]=n.propsOptions;let z=!1;if((g||$>0)&&!($&16)){if($&8){const j=n.vnode.dynamicProps;for(let re=0;re<j.length;re++){let oe=j[re];if(isEmitListener(n.emitsOptions,oe))continue;const ae=e[oe];if(L)if(hasOwn$1(k,oe))ae!==k[oe]&&(k[oe]=ae,z=!0);else{const de=camelize(oe);y[de]=resolvePropValue(L,V,de,ae,n,!1)}else ae!==k[oe]&&(k[oe]=ae,z=!0)}}}else{setFullProps(n,e,y,k)&&(z=!0);let j;for(const re in V)(!e||!hasOwn$1(e,re)&&((j=hyphenate(re))===re||!hasOwn$1(e,j)))&&(L?r&&(r[re]!==void 0||r[j]!==void 0)&&(y[re]=resolvePropValue(L,V,re,void 0,n,!0)):delete y[re]);if(k!==V)for(const re in k)(!e||!hasOwn$1(e,re))&&(delete k[re],z=!0)}z&&trigger(n,"set","$attrs")}function setFullProps(n,e,r,g){const[y,k]=n.propsOptions;let $=!1,V;if(e)for(let L in e){if(isReservedProp(L))continue;const z=e[L];let j;y&&hasOwn$1(y,j=camelize(L))?!k||!k.includes(j)?r[j]=z:(V||(V={}))[j]=z:isEmitListener(n.emitsOptions,L)||(!(L in g)||z!==g[L])&&(g[L]=z,$=!0)}if(k){const L=toRaw(r),z=V||EMPTY_OBJ;for(let j=0;j<k.length;j++){const re=k[j];r[re]=resolvePropValue(y,L,re,z[re],n,!hasOwn$1(z,re))}}return $}function resolvePropValue(n,e,r,g,y,k){const $=n[r];if($!=null){const V=hasOwn$1($,"default");if(V&&g===void 0){const L=$.default;if($.type!==Function&&!$.skipFactory&&isFunction$3(L)){const{propsDefaults:z}=y;r in z?g=z[r]:(setCurrentInstance(y),g=z[r]=L.call(null,e),unsetCurrentInstance())}else g=L}$[0]&&(k&&!V?g=!1:$[1]&&(g===""||g===hyphenate(r))&&(g=!0))}return g}function normalizePropsOptions(n,e,r=!1){const g=e.propsCache,y=g.get(n);if(y)return y;const k=n.props,$={},V=[];let L=!1;if(!isFunction$3(n)){const j=re=>{L=!0;const[oe,ae]=normalizePropsOptions(re,e,!0);extend($,oe),ae&&V.push(...ae)};!r&&e.mixins.length&&e.mixins.forEach(j),n.extends&&j(n.extends),n.mixins&&n.mixins.forEach(j)}if(!k&&!L)return isObject$3(n)&&g.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray$3(k))for(let j=0;j<k.length;j++){const re=camelize(k[j]);validatePropName(re)&&($[re]=EMPTY_OBJ)}else if(k)for(const j in k){const re=camelize(j);if(validatePropName(re)){const oe=k[j],ae=$[re]=isArray$3(oe)||isFunction$3(oe)?{type:oe}:extend({},oe);if(ae){const de=getTypeIndex(Boolean,ae.type),ue=getTypeIndex(String,ae.type);ae[0]=de>-1,ae[1]=ue<0||de<ue,(de>-1||hasOwn$1(ae,"default"))&&V.push(re)}}}const z=[$,V];return isObject$3(n)&&g.set(n,z),z}function validatePropName(n){return n[0]!=="$"}function getType(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function isSameType(n,e){return getType(n)===getType(e)}function getTypeIndex(n,e){return isArray$3(e)?e.findIndex(r=>isSameType(r,n)):isFunction$3(e)&&isSameType(e,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray$3(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot$1=(n,e,r)=>{if(e._n)return e;const g=withCtx((...y)=>normalizeSlotValue(e(...y)),r);return g._c=!1,g},normalizeObjectSlots=(n,e,r)=>{const g=n._ctx;for(const y in n){if(isInternalKey(y))continue;const k=n[y];if(isFunction$3(k))e[y]=normalizeSlot$1(y,k,g);else if(k!=null){const $=normalizeSlotValue(k);e[y]=()=>$}}},normalizeVNodeSlots=(n,e)=>{const r=normalizeSlotValue(e);n.slots.default=()=>r},initSlots=(n,e)=>{if(n.vnode.shapeFlag&32){const r=e._;r?(n.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,n.slots={})}else n.slots={},e&&normalizeVNodeSlots(n,e);def(n.slots,InternalObjectKey,1)},updateSlots=(n,e,r)=>{const{vnode:g,slots:y}=n;let k=!0,$=EMPTY_OBJ;if(g.shapeFlag&32){const V=e._;V?r&&V===1?k=!1:(extend(y,e),!r&&V===1&&delete y._):(k=!e.$stable,normalizeObjectSlots(e,y)),$=e}else e&&(normalizeVNodeSlots(n,e),$={default:1});if(k)for(const V in y)!isInternalKey(V)&&!(V in $)&&delete y[V]};function setRef(n,e,r,g,y=!1){if(isArray$3(n)){n.forEach((oe,ae)=>setRef(oe,e&&(isArray$3(e)?e[ae]:e),r,g,y));return}if(isAsyncWrapper(g)&&!y)return;const k=g.shapeFlag&4?getExposeProxy(g.component)||g.component.proxy:g.el,$=y?null:k,{i:V,r:L}=n,z=e&&e.r,j=V.refs===EMPTY_OBJ?V.refs={}:V.refs,re=V.setupState;if(z!=null&&z!==L&&(isString$3(z)?(j[z]=null,hasOwn$1(re,z)&&(re[z]=null)):isRef(z)&&(z.value=null)),isFunction$3(L))callWithErrorHandling(L,V,12,[$,j]);else{const oe=isString$3(L),ae=isRef(L);if(oe||ae){const de=()=>{if(n.f){const ue=oe?hasOwn$1(re,L)?re[L]:j[L]:L.value;y?isArray$3(ue)&&remove$1(ue,k):isArray$3(ue)?ue.includes(k)||ue.push(k):oe?(j[L]=[k],hasOwn$1(re,L)&&(re[L]=j[L])):(L.value=[k],n.k&&(j[n.k]=L.value))}else oe?(j[L]=$,hasOwn$1(re,L)&&(re[L]=$)):ae&&(L.value=$,n.k&&(j[n.k]=$))};$?(de.id=-1,queuePostRenderEffect(de,r)):de()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,e){const r=getGlobalThis$1();r.__VUE__=!0;const{insert:g,remove:y,patchProp:k,createElement:$,createText:V,createComment:L,setText:z,setElementText:j,parentNode:re,nextSibling:oe,setScopeId:ae=NOOP,insertStaticContent:de}=n,ue=(ir,Gn,hn,Kn=null,Nn=null,Lt=null,_n=!1,Bn=null,Xn=!!Gn.dynamicChildren)=>{if(ir===Gn)return;ir&&!isSameVNodeType(ir,Gn)&&(Kn=En(ir),Pn(ir,Nn,Lt,!0),ir=null),Gn.patchFlag===-2&&(Xn=!1,Gn.dynamicChildren=null);const{type:rr,ref:ar,shapeFlag:sr}=Gn;switch(rr){case Text$2:pe(ir,Gn,hn,Kn);break;case Comment:he(ir,Gn,hn,Kn);break;case Static:ir==null&&Oe(Gn,hn,Kn,_n);break;case Fragment:Dt(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn);break;default:sr&1?Ne(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn):sr&6?On(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn):(sr&64||sr&128)&&rr.process(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn,cr)}ar!=null&&Nn&&setRef(ar,ir&&ir.ref,Lt,Gn||ir,!Gn)},pe=(ir,Gn,hn,Kn)=>{if(ir==null)g(Gn.el=V(Gn.children),hn,Kn);else{const Nn=Gn.el=ir.el;Gn.children!==ir.children&&z(Nn,Gn.children)}},he=(ir,Gn,hn,Kn)=>{ir==null?g(Gn.el=L(Gn.children||""),hn,Kn):Gn.el=ir.el},Oe=(ir,Gn,hn,Kn)=>{[ir.el,ir.anchor]=de(ir.children,Gn,hn,Kn,ir.el,ir.anchor)},xe=({el:ir,anchor:Gn},hn,Kn)=>{let Nn;for(;ir&&ir!==Gn;)Nn=oe(ir),g(ir,hn,Kn),ir=Nn;g(Gn,hn,Kn)},$e=({el:ir,anchor:Gn})=>{let hn;for(;ir&&ir!==Gn;)hn=oe(ir),y(ir),ir=hn;y(Gn)},Ne=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn)=>{_n=_n||Gn.type==="svg",ir==null?Ce(Gn,hn,Kn,Nn,Lt,_n,Bn,Xn):kt(ir,Gn,Nn,Lt,_n,Bn,Xn)},Ce=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn)=>{let Xn,rr;const{type:ar,props:sr,shapeFlag:mr,transition:lr,dirs:le}=ir;if(Xn=ir.el=$(ir.type,Lt,sr&&sr.is,sr),mr&8?j(Xn,ir.children):mr&16&&ze(ir.children,Xn,null,Kn,Nn,Lt&&ar!=="foreignObject",_n,Bn),le&&invokeDirectiveHook(ir,null,Kn,"created"),Fe(Xn,ir,ir.scopeId,_n,Kn),sr){for(const Ie in sr)Ie!=="value"&&!isReservedProp(Ie)&&k(Xn,Ie,null,sr[Ie],Lt,ir.children,Kn,Nn,Vn);"value"in sr&&k(Xn,"value",null,sr.value),(rr=sr.onVnodeBeforeMount)&&invokeVNodeHook(rr,Kn,ir)}le&&invokeDirectiveHook(ir,null,Kn,"beforeMount");const _e=(!Nn||Nn&&!Nn.pendingBranch)&&lr&&!lr.persisted;_e&&lr.beforeEnter(Xn),g(Xn,Gn,hn),((rr=sr&&sr.onVnodeMounted)||_e||le)&&queuePostRenderEffect(()=>{rr&&invokeVNodeHook(rr,Kn,ir),_e&&lr.enter(Xn),le&&invokeDirectiveHook(ir,null,Kn,"mounted")},Nn)},Fe=(ir,Gn,hn,Kn,Nn)=>{if(hn&&ae(ir,hn),Kn)for(let Lt=0;Lt<Kn.length;Lt++)ae(ir,Kn[Lt]);if(Nn){let Lt=Nn.subTree;if(Gn===Lt){const _n=Nn.vnode;Fe(ir,_n,_n.scopeId,_n.slotScopeIds,Nn.parent)}}},ze=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn=0)=>{for(let rr=Xn;rr<ir.length;rr++){const ar=ir[rr]=Bn?cloneIfMounted(ir[rr]):normalizeVNode(ir[rr]);ue(null,ar,Gn,hn,Kn,Nn,Lt,_n,Bn)}},kt=(ir,Gn,hn,Kn,Nn,Lt,_n)=>{const Bn=Gn.el=ir.el;let{patchFlag:Xn,dynamicChildren:rr,dirs:ar}=Gn;Xn|=ir.patchFlag&16;const sr=ir.props||EMPTY_OBJ,mr=Gn.props||EMPTY_OBJ;let lr;hn&&toggleRecurse(hn,!1),(lr=mr.onVnodeBeforeUpdate)&&invokeVNodeHook(lr,hn,Gn,ir),ar&&invokeDirectiveHook(Gn,ir,hn,"beforeUpdate"),hn&&toggleRecurse(hn,!0);const le=Nn&&Gn.type!=="foreignObject";if(rr?At(ir.dynamicChildren,rr,Bn,hn,Kn,le,Lt):_n||Ln(ir,Gn,Bn,null,hn,Kn,le,Lt,!1),Xn>0){if(Xn&16)Cn(Bn,Gn,sr,mr,hn,Kn,Nn);else if(Xn&2&&sr.class!==mr.class&&k(Bn,"class",null,mr.class,Nn),Xn&4&&k(Bn,"style",sr.style,mr.style,Nn),Xn&8){const _e=Gn.dynamicProps;for(let Ie=0;Ie<_e.length;Ie++){const Ue=_e[Ie],qe=sr[Ue],Et=mr[Ue];(Et!==qe||Ue==="value")&&k(Bn,Ue,qe,Et,Nn,ir.children,hn,Kn,Vn)}}Xn&1&&ir.children!==Gn.children&&j(Bn,Gn.children)}else!_n&&rr==null&&Cn(Bn,Gn,sr,mr,hn,Kn,Nn);((lr=mr.onVnodeUpdated)||ar)&&queuePostRenderEffect(()=>{lr&&invokeVNodeHook(lr,hn,Gn,ir),ar&&invokeDirectiveHook(Gn,ir,hn,"updated")},Kn)},At=(ir,Gn,hn,Kn,Nn,Lt,_n)=>{for(let Bn=0;Bn<Gn.length;Bn++){const Xn=ir[Bn],rr=Gn[Bn],ar=Xn.el&&(Xn.type===Fragment||!isSameVNodeType(Xn,rr)||Xn.shapeFlag&70)?re(Xn.el):hn;ue(Xn,rr,ar,null,Kn,Nn,Lt,_n,!0)}},Cn=(ir,Gn,hn,Kn,Nn,Lt,_n)=>{if(hn!==Kn){if(hn!==EMPTY_OBJ)for(const Bn in hn)!isReservedProp(Bn)&&!(Bn in Kn)&&k(ir,Bn,hn[Bn],null,_n,Gn.children,Nn,Lt,Vn);for(const Bn in Kn){if(isReservedProp(Bn))continue;const Xn=Kn[Bn],rr=hn[Bn];Xn!==rr&&Bn!=="value"&&k(ir,Bn,rr,Xn,_n,Gn.children,Nn,Lt,Vn)}"value"in Kn&&k(ir,"value",hn.value,Kn.value)}},Dt=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn)=>{const rr=Gn.el=ir?ir.el:V(""),ar=Gn.anchor=ir?ir.anchor:V("");let{patchFlag:sr,dynamicChildren:mr,slotScopeIds:lr}=Gn;lr&&(Bn=Bn?Bn.concat(lr):lr),ir==null?(g(rr,hn,Kn),g(ar,hn,Kn),ze(Gn.children,hn,ar,Nn,Lt,_n,Bn,Xn)):sr>0&&sr&64&&mr&&ir.dynamicChildren?(At(ir.dynamicChildren,mr,hn,Nn,Lt,_n,Bn),(Gn.key!=null||Nn&&Gn===Nn.subTree)&&traverseStaticChildren(ir,Gn,!0)):Ln(ir,Gn,hn,ar,Nn,Lt,_n,Bn,Xn)},On=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn)=>{Gn.slotScopeIds=Bn,ir==null?Gn.shapeFlag&512?Nn.ctx.activate(Gn,hn,Kn,_n,Xn):jt(Gn,hn,Kn,Nn,Lt,_n,Xn):An(ir,Gn,Xn)},jt=(ir,Gn,hn,Kn,Nn,Lt,_n)=>{const Bn=ir.component=createComponentInstance(ir,Kn,Nn);if(isKeepAlive(ir)&&(Bn.ctx.renderer=cr),setupComponent(Bn),Bn.asyncDep){if(Nn&&Nn.registerDep(Bn,Mn),!ir.el){const Xn=Bn.subTree=createVNode(Comment);he(null,Xn,Gn,hn)}return}Mn(Bn,ir,Gn,hn,Nn,Lt,_n)},An=(ir,Gn,hn)=>{const Kn=Gn.component=ir.component;if(shouldUpdateComponent(ir,Gn,hn))if(Kn.asyncDep&&!Kn.asyncResolved){$n(Kn,Gn,hn);return}else Kn.next=Gn,invalidateJob(Kn.update),Kn.update();else Gn.el=ir.el,Kn.vnode=Gn},Mn=(ir,Gn,hn,Kn,Nn,Lt,_n)=>{const Bn=()=>{if(ir.isMounted){let{next:ar,bu:sr,u:mr,parent:lr,vnode:le}=ir,_e=ar,Ie;toggleRecurse(ir,!1),ar?(ar.el=le.el,$n(ir,ar,_n)):ar=le,sr&&invokeArrayFns(sr),(Ie=ar.props&&ar.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ie,lr,ar,le),toggleRecurse(ir,!0);const Ue=renderComponentRoot(ir),qe=ir.subTree;ir.subTree=Ue,ue(qe,Ue,re(qe.el),En(qe),ir,Nn,Lt),ar.el=Ue.el,_e===null&&updateHOCHostEl(ir,Ue.el),mr&&queuePostRenderEffect(mr,Nn),(Ie=ar.props&&ar.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ie,lr,ar,le),Nn)}else{let ar;const{el:sr,props:mr}=Gn,{bm:lr,m:le,parent:_e}=ir,Ie=isAsyncWrapper(Gn);if(toggleRecurse(ir,!1),lr&&invokeArrayFns(lr),!Ie&&(ar=mr&&mr.onVnodeBeforeMount)&&invokeVNodeHook(ar,_e,Gn),toggleRecurse(ir,!0),sr&&Cr){const Ue=()=>{ir.subTree=renderComponentRoot(ir),Cr(sr,ir.subTree,ir,Nn,null)};Ie?Gn.type.__asyncLoader().then(()=>!ir.isUnmounted&&Ue()):Ue()}else{const Ue=ir.subTree=renderComponentRoot(ir);ue(null,Ue,hn,Kn,ir,Nn,Lt),Gn.el=Ue.el}if(le&&queuePostRenderEffect(le,Nn),!Ie&&(ar=mr&&mr.onVnodeMounted)){const Ue=Gn;queuePostRenderEffect(()=>invokeVNodeHook(ar,_e,Ue),Nn)}(Gn.shapeFlag&256||_e&&isAsyncWrapper(_e.vnode)&&_e.vnode.shapeFlag&256)&&ir.a&&queuePostRenderEffect(ir.a,Nn),ir.isMounted=!0,Gn=hn=Kn=null}},Xn=ir.effect=new ReactiveEffect(Bn,()=>queueJob(rr),ir.scope),rr=ir.update=()=>Xn.run();rr.id=ir.uid,toggleRecurse(ir,!0),rr()},$n=(ir,Gn,hn)=>{Gn.component=ir;const Kn=ir.vnode.props;ir.vnode=Gn,ir.next=null,updateProps(ir,Gn.props,Kn,hn),updateSlots(ir,Gn.children,hn),pauseTracking(),flushPreFlushCbs(),resetTracking()},Ln=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn=!1)=>{const rr=ir&&ir.children,ar=ir?ir.shapeFlag:0,sr=Gn.children,{patchFlag:mr,shapeFlag:lr}=Gn;if(mr>0){if(mr&128){Zn(rr,sr,hn,Kn,Nn,Lt,_n,Bn,Xn);return}else if(mr&256){Tn(rr,sr,hn,Kn,Nn,Lt,_n,Bn,Xn);return}}lr&8?(ar&16&&Vn(rr,Nn,Lt),sr!==rr&&j(hn,sr)):ar&16?lr&16?Zn(rr,sr,hn,Kn,Nn,Lt,_n,Bn,Xn):Vn(rr,Nn,Lt,!0):(ar&8&&j(hn,""),lr&16&&ze(sr,hn,Kn,Nn,Lt,_n,Bn,Xn))},Tn=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn)=>{ir=ir||EMPTY_ARR,Gn=Gn||EMPTY_ARR;const rr=ir.length,ar=Gn.length,sr=Math.min(rr,ar);let mr;for(mr=0;mr<sr;mr++){const lr=Gn[mr]=Xn?cloneIfMounted(Gn[mr]):normalizeVNode(Gn[mr]);ue(ir[mr],lr,hn,null,Nn,Lt,_n,Bn,Xn)}rr>ar?Vn(ir,Nn,Lt,!0,!1,sr):ze(Gn,hn,Kn,Nn,Lt,_n,Bn,Xn,sr)},Zn=(ir,Gn,hn,Kn,Nn,Lt,_n,Bn,Xn)=>{let rr=0;const ar=Gn.length;let sr=ir.length-1,mr=ar-1;for(;rr<=sr&&rr<=mr;){const lr=ir[rr],le=Gn[rr]=Xn?cloneIfMounted(Gn[rr]):normalizeVNode(Gn[rr]);if(isSameVNodeType(lr,le))ue(lr,le,hn,null,Nn,Lt,_n,Bn,Xn);else break;rr++}for(;rr<=sr&&rr<=mr;){const lr=ir[sr],le=Gn[mr]=Xn?cloneIfMounted(Gn[mr]):normalizeVNode(Gn[mr]);if(isSameVNodeType(lr,le))ue(lr,le,hn,null,Nn,Lt,_n,Bn,Xn);else break;sr--,mr--}if(rr>sr){if(rr<=mr){const lr=mr+1,le=lr<ar?Gn[lr].el:Kn;for(;rr<=mr;)ue(null,Gn[rr]=Xn?cloneIfMounted(Gn[rr]):normalizeVNode(Gn[rr]),hn,le,Nn,Lt,_n,Bn,Xn),rr++}}else if(rr>mr)for(;rr<=sr;)Pn(ir[rr],Nn,Lt,!0),rr++;else{const lr=rr,le=rr,_e=new Map;for(rr=le;rr<=mr;rr++){const bn=Gn[rr]=Xn?cloneIfMounted(Gn[rr]):normalizeVNode(Gn[rr]);bn.key!=null&&_e.set(bn.key,rr)}let Ie,Ue=0;const qe=mr-le+1;let Et=!1,vn=0;const Pt=new Array(qe);for(rr=0;rr<qe;rr++)Pt[rr]=0;for(rr=lr;rr<=sr;rr++){const bn=ir[rr];if(Ue>=qe){Pn(bn,Nn,Lt,!0);continue}let In;if(bn.key!=null)In=_e.get(bn.key);else for(Ie=le;Ie<=mr;Ie++)if(Pt[Ie-le]===0&&isSameVNodeType(bn,Gn[Ie])){In=Ie;break}In===void 0?Pn(bn,Nn,Lt,!0):(Pt[In-le]=rr+1,In>=vn?vn=In:Et=!0,ue(bn,Gn[In],hn,null,Nn,Lt,_n,Bn,Xn),Ue++)}const wn=Et?getSequence(Pt):EMPTY_ARR;for(Ie=wn.length-1,rr=qe-1;rr>=0;rr--){const bn=le+rr,In=Gn[bn],Fn=bn+1<ar?Gn[bn+1].el:Kn;Pt[rr]===0?ue(null,In,hn,Fn,Nn,Lt,_n,Bn,Xn):Et&&(Ie<0||rr!==wn[Ie]?Qn(In,hn,Fn,2):Ie--)}}},Qn=(ir,Gn,hn,Kn,Nn=null)=>{const{el:Lt,type:_n,transition:Bn,children:Xn,shapeFlag:rr}=ir;if(rr&6){Qn(ir.component.subTree,Gn,hn,Kn);return}if(rr&128){ir.suspense.move(Gn,hn,Kn);return}if(rr&64){_n.move(ir,Gn,hn,cr);return}if(_n===Fragment){g(Lt,Gn,hn);for(let sr=0;sr<Xn.length;sr++)Qn(Xn[sr],Gn,hn,Kn);g(ir.anchor,Gn,hn);return}if(_n===Static){xe(ir,Gn,hn);return}if(Kn!==2&&rr&1&&Bn)if(Kn===0)Bn.beforeEnter(Lt),g(Lt,Gn,hn),queuePostRenderEffect(()=>Bn.enter(Lt),Nn);else{const{leave:sr,delayLeave:mr,afterLeave:lr}=Bn,le=()=>g(Lt,Gn,hn),_e=()=>{sr(Lt,()=>{le(),lr&&lr()})};mr?mr(Lt,le,_e):_e()}else g(Lt,Gn,hn)},Pn=(ir,Gn,hn,Kn=!1,Nn=!1)=>{const{type:Lt,props:_n,ref:Bn,children:Xn,dynamicChildren:rr,shapeFlag:ar,patchFlag:sr,dirs:mr}=ir;if(Bn!=null&&setRef(Bn,null,hn,ir,!0),ar&256){Gn.ctx.deactivate(ir);return}const lr=ar&1&&mr,le=!isAsyncWrapper(ir);let _e;if(le&&(_e=_n&&_n.onVnodeBeforeUnmount)&&invokeVNodeHook(_e,Gn,ir),ar&6)hr(ir.component,hn,Kn);else{if(ar&128){ir.suspense.unmount(hn,Kn);return}lr&&invokeDirectiveHook(ir,null,Gn,"beforeUnmount"),ar&64?ir.type.remove(ir,Gn,hn,Nn,cr,Kn):rr&&(Lt!==Fragment||sr>0&&sr&64)?Vn(rr,Gn,hn,!1,!0):(Lt===Fragment&&sr&384||!Nn&&ar&16)&&Vn(Xn,Gn,hn),Kn&&Wn(ir)}(le&&(_e=_n&&_n.onVnodeUnmounted)||lr)&&queuePostRenderEffect(()=>{_e&&invokeVNodeHook(_e,Gn,ir),lr&&invokeDirectiveHook(ir,null,Gn,"unmounted")},hn)},Wn=ir=>{const{type:Gn,el:hn,anchor:Kn,transition:Nn}=ir;if(Gn===Fragment){ur(hn,Kn);return}if(Gn===Static){$e(ir);return}const Lt=()=>{y(hn),Nn&&!Nn.persisted&&Nn.afterLeave&&Nn.afterLeave()};if(ir.shapeFlag&1&&Nn&&!Nn.persisted){const{leave:_n,delayLeave:Bn}=Nn,Xn=()=>_n(hn,Lt);Bn?Bn(ir.el,Lt,Xn):Xn()}else Lt()},ur=(ir,Gn)=>{let hn;for(;ir!==Gn;)hn=oe(ir),y(ir),ir=hn;y(Gn)},hr=(ir,Gn,hn)=>{const{bum:Kn,scope:Nn,update:Lt,subTree:_n,um:Bn}=ir;Kn&&invokeArrayFns(Kn),Nn.stop(),Lt&&(Lt.active=!1,Pn(_n,ir,Gn,hn)),Bn&&queuePostRenderEffect(Bn,Gn),queuePostRenderEffect(()=>{ir.isUnmounted=!0},Gn),Gn&&Gn.pendingBranch&&!Gn.isUnmounted&&ir.asyncDep&&!ir.asyncResolved&&ir.suspenseId===Gn.pendingId&&(Gn.deps--,Gn.deps===0&&Gn.resolve())},Vn=(ir,Gn,hn,Kn=!1,Nn=!1,Lt=0)=>{for(let _n=Lt;_n<ir.length;_n++)Pn(ir[_n],Gn,hn,Kn,Nn)},En=ir=>ir.shapeFlag&6?En(ir.component.subTree):ir.shapeFlag&128?ir.suspense.next():oe(ir.anchor||ir.el),jn=(ir,Gn,hn)=>{ir==null?Gn._vnode&&Pn(Gn._vnode,null,null,!0):ue(Gn._vnode||null,ir,Gn,null,null,null,hn),flushPreFlushCbs(),flushPostFlushCbs(),Gn._vnode=ir},cr={p:ue,um:Pn,m:Qn,r:Wn,mt:jt,mc:ze,pc:Ln,pbc:At,n:En,o:n};let gr,Cr;return e&&([gr,Cr]=e(cr)),{render:jn,hydrate:gr,createApp:createAppAPI(jn,gr)}}function toggleRecurse({effect:n,update:e},r){n.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(n,e,r=!1){const g=n.children,y=e.children;if(isArray$3(g)&&isArray$3(y))for(let k=0;k<g.length;k++){const $=g[k];let V=y[k];V.shapeFlag&1&&!V.dynamicChildren&&((V.patchFlag<=0||V.patchFlag===32)&&(V=y[k]=cloneIfMounted(y[k]),V.el=$.el),r||traverseStaticChildren($,V)),V.type===Text$2&&(V.el=$.el)}}function getSequence(n){const e=n.slice(),r=[0];let g,y,k,$,V;const L=n.length;for(g=0;g<L;g++){const z=n[g];if(z!==0){if(y=r[r.length-1],n[y]<z){e[g]=y,r.push(g);continue}for(k=0,$=r.length-1;k<$;)V=k+$>>1,n[r[V]]<z?k=V+1:$=V;z<n[r[k]]&&(k>0&&(e[g]=r[k-1]),r[k]=g)}}for(k=r.length,$=r[k-1];k-- >0;)r[k]=$,$=e[$];return r}const isTeleport=n=>n.__isTeleport,isTeleportDisabled=n=>n&&(n.disabled||n.disabled===""),isTargetSVG=n=>typeof SVGElement<"u"&&n instanceof SVGElement,resolveTarget=(n,e)=>{const r=n&&n.to;return isString$3(r)?e?e(r):null:r},TeleportImpl={__isTeleport:!0,process(n,e,r,g,y,k,$,V,L,z){const{mc:j,pc:re,pbc:oe,o:{insert:ae,querySelector:de,createText:ue,createComment:pe}}=z,he=isTeleportDisabled(e.props);let{shapeFlag:Oe,children:xe,dynamicChildren:$e}=e;if(n==null){const Ne=e.el=ue(""),Ce=e.anchor=ue("");ae(Ne,r,g),ae(Ce,r,g);const Fe=e.target=resolveTarget(e.props,de),ze=e.targetAnchor=ue("");Fe&&(ae(ze,Fe),$=$||isTargetSVG(Fe));const kt=(At,Cn)=>{Oe&16&&j(xe,At,Cn,y,k,$,V,L)};he?kt(r,Ce):Fe&&kt(Fe,ze)}else{e.el=n.el;const Ne=e.anchor=n.anchor,Ce=e.target=n.target,Fe=e.targetAnchor=n.targetAnchor,ze=isTeleportDisabled(n.props),kt=ze?r:Ce,At=ze?Ne:Fe;if($=$||isTargetSVG(Ce),$e?(oe(n.dynamicChildren,$e,kt,y,k,$,V),traverseStaticChildren(n,e,!0)):L||re(n,e,kt,At,y,k,$,V,!1),he)ze||moveTeleport(e,r,Ne,z,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const Cn=e.target=resolveTarget(e.props,de);Cn&&moveTeleport(e,Cn,null,z,0)}else ze&&moveTeleport(e,Ce,Fe,z,1)}updateCssVars(e)},remove(n,e,r,g,{um:y,o:{remove:k}},$){const{shapeFlag:V,children:L,anchor:z,targetAnchor:j,target:re,props:oe}=n;if(re&&k(j),($||!isTeleportDisabled(oe))&&(k(z),V&16))for(let ae=0;ae<L.length;ae++){const de=L[ae];y(de,e,r,!0,!!de.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(n,e,r,{o:{insert:g},m:y},k=2){k===0&&g(n.targetAnchor,e,r);const{el:$,anchor:V,shapeFlag:L,children:z,props:j}=n,re=k===2;if(re&&g($,e,r),(!re||isTeleportDisabled(j))&&L&16)for(let oe=0;oe<z.length;oe++)y(z[oe],e,r,2);re&&g(V,e,r)}function hydrateTeleport(n,e,r,g,y,k,{o:{nextSibling:$,parentNode:V,querySelector:L}},z){const j=e.target=resolveTarget(e.props,L);if(j){const re=j._lpa||j.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=z($(n),e,V(n),r,g,y,k),e.targetAnchor=re;else{e.anchor=$(n);let oe=re;for(;oe;)if(oe=$(oe),oe&&oe.nodeType===8&&oe.data==="teleport anchor"){e.targetAnchor=oe,j._lpa=e.targetAnchor&&$(e.targetAnchor);break}z(re,e,j,r,g,y,k)}updateCssVars(e)}return e.anchor&&$(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(n){const e=n.ctx;if(e&&e.ut){let r=n.children[0].el;for(;r!==n.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text$2=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,e,r,g,y,k){return setupBlock(createBaseVNode(n,e,r,g,y,k,!0))}function createBlock(n,e,r,g,y){return setupBlock(createVNode(n,e,r,g,y,!0))}function isVNode$1(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,e){return n.type===e.type&&n.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n??null,normalizeRef=({ref:n,ref_key:e,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?isString$3(n)||isRef(n)||isFunction$3(n)?{i:currentRenderingInstance,r:n,k:e,f:!!r}:n:null);function createBaseVNode(n,e=null,r=null,g=0,y=null,k=n===Fragment?0:1,$=!1,V=!1){const L={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:k,patchFlag:g,dynamicProps:y,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return V?(normalizeChildren(L,r),k&128&&n.normalize(L)):r&&(L.shapeFlag|=isString$3(r)?8:16),isBlockTreeEnabled>0&&!$&&currentBlock&&(L.patchFlag>0||k&6)&&L.patchFlag!==32&&currentBlock.push(L),L}const createVNode=_createVNode;function _createVNode(n,e=null,r=null,g=0,y=null,k=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment),isVNode$1(n)){const V=cloneVNode(n,e,!0);return r&&normalizeChildren(V,r),isBlockTreeEnabled>0&&!k&&currentBlock&&(V.shapeFlag&6?currentBlock[currentBlock.indexOf(n)]=V:currentBlock.push(V)),V.patchFlag|=-2,V}if(isClassComponent(n)&&(n=n.__vccOpts),e){e=guardReactiveProps(e);let{class:V,style:L}=e;V&&!isString$3(V)&&(e.class=normalizeClass(V)),isObject$3(L)&&(isProxy(L)&&!isArray$3(L)&&(L=extend({},L)),e.style=normalizeStyle(L))}const $=isString$3(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject$3(n)?4:isFunction$3(n)?2:0;return createBaseVNode(n,e,r,g,y,$,k,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend({},n):n:null}function cloneVNode(n,e,r=!1){const{props:g,ref:y,patchFlag:k,children:$}=n,V=e?mergeProps(g||{},e):g;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:V,key:V&&normalizeKey(V),ref:e&&e.ref?r&&y?isArray$3(y)?y.concat(normalizeRef(e)):[y,normalizeRef(e)]:normalizeRef(e):y,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:$,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Fragment?k===-1?16:k|16:k,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function createTextVNode(n=" ",e=0){return createVNode(Text$2,null,n,e)}function createCommentVNode(n="",e=!1){return e?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray$3(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text$2,null,String(n))}function cloneIfMounted(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:cloneVNode(n)}function normalizeChildren(n,e){let r=0;const{shapeFlag:g}=n;if(e==null)e=null;else if(isArray$3(e))r=16;else if(typeof e=="object")if(g&65){const y=e.default;y&&(y._c&&(y._d=!1),normalizeChildren(n,y()),y._c&&(y._d=!0));return}else{r=32;const y=e._;!y&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:y===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else isFunction$3(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),g&64?(r=16,e=[createTextVNode(e)]):r=8);n.children=e,n.shapeFlag|=r}function mergeProps(...n){const e={};for(let r=0;r<n.length;r++){const g=n[r];for(const y in g)if(y==="class")e.class!==g.class&&(e.class=normalizeClass([e.class,g.class]));else if(y==="style")e.style=normalizeStyle([e.style,g.style]);else if(isOn(y)){const k=e[y],$=g[y];$&&k!==$&&!(isArray$3(k)&&k.includes($))&&(e[y]=k?[].concat(k,$):$)}else y!==""&&(e[y]=g[y])}return e}function invokeVNodeHook(n,e,r,g=null){callWithAsyncErrorHandling(n,e,7,[r,g])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(n,e,r){const g=n.type,y=(e?e.appContext:n.appContext)||emptyAppContext,k={uid:uid$2++,vnode:n,type:g,parent:e,appContext:y,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(g,y),emitsOptions:normalizeEmitsOptions(g,y),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:g.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return k.ctx={_:k},k.root=e?e.root:k,k.emit=emit$1.bind(null,k),n.ce&&n.ce(k),k}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey]=[]),globalCurrentInstanceSetters.push(n=>currentInstance=n),internalSetCurrentInstance=n=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(n)):globalCurrentInstanceSetters[0](n)};const setCurrentInstance=n=>{internalSetCurrentInstance(n),n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,e=!1){isInSSRComponentSetup=e;const{props:r,children:g}=n.vnode,y=isStatefulComponent(n);initProps(n,r,y,e),initSlots(n,g);const k=y?setupStatefulComponent(n,e):void 0;return isInSSRComponentSetup=!1,k}function setupStatefulComponent(n,e){const r=n.type;n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers));const{setup:g}=r;if(g){const y=n.setupContext=g.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const k=callWithErrorHandling(g,n,0,[n.props,y]);if(resetTracking(),unsetCurrentInstance(),isPromise(k)){if(k.then(unsetCurrentInstance,unsetCurrentInstance),e)return k.then($=>{handleSetupResult(n,$,e)}).catch($=>{handleError($,n,0)});n.asyncDep=k}else handleSetupResult(n,k,e)}else finishComponentSetup(n,e)}function handleSetupResult(n,e,r){isFunction$3(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:isObject$3(e)&&(n.setupState=proxyRefs(e)),finishComponentSetup(n,r)}let compile$1;function finishComponentSetup(n,e,r){const g=n.type;if(!n.render){if(!e&&compile$1&&!g.render){const y=g.template||resolveMergedOptions(n).template;if(y){const{isCustomElement:k,compilerOptions:$}=n.appContext.config,{delimiters:V,compilerOptions:L}=g,z=extend(extend({isCustomElement:k,delimiters:V},$),L);g.render=compile$1(y,z)}}n.render=g.render||NOOP}setCurrentInstance(n),pauseTracking(),applyOptions(n),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,r){return track(n,"get","$attrs"),e[r]}}))}function createSetupContext(n){const e=r=>{n.exposed=r||{}};return{get attrs(){return getAttrsProxy(n)},slots:n.slots,emit:n.emit,expose:e}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](n)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(n,e=!0){return isFunction$3(n)?n.displayName||n.name:n.name||e&&n.__name}function isClassComponent(n){return isFunction$3(n)&&"__vccOpts"in n}const computed=(n,e)=>computed$1(n,e,isInSSRComponentSetup);function h$1(n,e,r){const g=arguments.length;return g===2?isObject$3(e)&&!isArray$3(e)?isVNode$1(e)?createVNode(n,null,[e]):createVNode(n,e):createVNode(n,null,e):(g>3?r=Array.prototype.slice.call(arguments,2):g===3&&isVNode$1(r)&&(r=[r]),createVNode(n,e,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$1="3.3.4",svgNS="http://www.w3.org/2000/svg",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(n,e,r)=>{e.insertBefore(n,r||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,r,g)=>{const y=e?doc$1.createElementNS(svgNS,n):doc$1.createElement(n,r?{is:r}:void 0);return n==="select"&&g&&g.multiple!=null&&y.setAttribute("multiple",g.multiple),y},createText:n=>doc$1.createTextNode(n),createComment:n=>doc$1.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc$1.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,r,g,y,k){const $=r?r.previousSibling:e.lastChild;if(y&&(y===k||y.nextSibling))for(;e.insertBefore(y.cloneNode(!0),r),!(y===k||!(y=y.nextSibling)););else{templateContainer.innerHTML=g?`<svg>${n}</svg>`:n;const V=templateContainer.content;if(g){const L=V.firstChild;for(;L.firstChild;)V.appendChild(L.firstChild);V.removeChild(L)}e.insertBefore(V,r)}return[$?$.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(n,e,r){const g=n._vtc;g&&(e=(e?[e,...g]:[...g]).join(" ")),e==null?n.removeAttribute("class"):r?n.setAttribute("class",e):n.className=e}function patchStyle(n,e,r){const g=n.style,y=isString$3(r);if(r&&!y){if(e&&!isString$3(e))for(const k in e)r[k]==null&&setStyle(g,k,"");for(const k in r)setStyle(g,k,r[k])}else{const k=g.display;y?e!==r&&(g.cssText=r):e&&n.removeAttribute("style"),"_vod"in n&&(g.display=k)}}const importantRE=/\s*!important$/;function setStyle(n,e,r){if(isArray$3(r))r.forEach(g=>setStyle(n,e,g));else if(r==null&&(r=""),e.startsWith("--"))n.setProperty(e,r);else{const g=autoPrefix(n,e);importantRE.test(r)?n.setProperty(hyphenate(g),r.replace(importantRE,""),"important"):n[g]=r}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,e){const r=prefixCache[e];if(r)return r;let g=camelize(e);if(g!=="filter"&&g in n)return prefixCache[e]=g;g=capitalize$2(g);for(let y=0;y<prefixes$1.length;y++){const k=prefixes$1[y]+g;if(k in n)return prefixCache[e]=k}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,e,r,g,y){if(g&&e.startsWith("xlink:"))r==null?n.removeAttributeNS(xlinkNS,e.slice(6,e.length)):n.setAttributeNS(xlinkNS,e,r);else{const k=isSpecialBooleanAttr(e);r==null||k&&!includeBooleanAttr(r)?n.removeAttribute(e):n.setAttribute(e,k?"":r)}}function patchDOMProp(n,e,r,g,y,k,$){if(e==="innerHTML"||e==="textContent"){g&&$(g,y,k),n[e]=r??"";return}const V=n.tagName;if(e==="value"&&V!=="PROGRESS"&&!V.includes("-")){n._value=r;const z=V==="OPTION"?n.getAttribute("value"):n.value,j=r??"";z!==j&&(n.value=j),r==null&&n.removeAttribute(e);return}let L=!1;if(r===""||r==null){const z=typeof n[e];z==="boolean"?r=includeBooleanAttr(r):r==null&&z==="string"?(r="",L=!0):z==="number"&&(r=0,L=!0)}try{n[e]=r}catch{}L&&n.removeAttribute(e)}function addEventListener(n,e,r,g){n.addEventListener(e,r,g)}function removeEventListener(n,e,r,g){n.removeEventListener(e,r,g)}function patchEvent(n,e,r,g,y=null){const k=n._vei||(n._vei={}),$=k[e];if(g&&$)$.value=g;else{const[V,L]=parseName(e);if(g){const z=k[e]=createInvoker(g,y);addEventListener(n,V,z,L)}else $&&(removeEventListener(n,V,$,L),k[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let e;if(optionsModifierRE.test(n)){e={};let g;for(;g=n.match(optionsModifierRE);)n=n.slice(0,n.length-g[0].length),e[g[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hyphenate(n.slice(2)),e]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(n,e){const r=g=>{if(!g._vts)g._vts=Date.now();else if(g._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(g,r.value),e,5,[g])};return r.value=n,r.attached=getNow(),r}function patchStopImmediatePropagation(n,e){if(isArray$3(e)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},e.map(g=>y=>!y._stopped&&g&&g(y))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(n,e,r,g,y=!1,k,$,V,L)=>{e==="class"?patchClass(n,g,y):e==="style"?patchStyle(n,r,g):isOn(e)?isModelListener(e)||patchEvent(n,e,r,g,$):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(n,e,g,y))?patchDOMProp(n,e,g,k,$,V,L):(e==="true-value"?n._trueValue=g:e==="false-value"&&(n._falseValue=g),patchAttr(n,e,g,y))};function shouldSetAsProp(n,e,r,g){return g?!!(e==="innerHTML"||e==="textContent"||e in n&&nativeOnRE.test(e)&&isFunction$3(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$3(r)?!1:e in n}const TRANSITION="transition",ANIMATION="animation",Transition=(n,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(n),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(n,e=[])=>{isArray$3(n)?n.forEach(r=>r(...e)):n&&n(...e)},hasExplicitCallback=n=>n?isArray$3(n)?n.some(e=>e.length>1):n.length>1:!1;function resolveTransitionProps(n){const e={};for(const Dt in n)Dt in DOMTransitionPropsValidators||(e[Dt]=n[Dt]);if(n.css===!1)return e;const{name:r="v",type:g,duration:y,enterFromClass:k=`${r}-enter-from`,enterActiveClass:$=`${r}-enter-active`,enterToClass:V=`${r}-enter-to`,appearFromClass:L=k,appearActiveClass:z=$,appearToClass:j=V,leaveFromClass:re=`${r}-leave-from`,leaveActiveClass:oe=`${r}-leave-active`,leaveToClass:ae=`${r}-leave-to`}=n,de=normalizeDuration(y),ue=de&&de[0],pe=de&&de[1],{onBeforeEnter:he,onEnter:Oe,onEnterCancelled:xe,onLeave:$e,onLeaveCancelled:Ne,onBeforeAppear:Ce=he,onAppear:Fe=Oe,onAppearCancelled:ze=xe}=e,kt=(Dt,On,jt)=>{removeTransitionClass(Dt,On?j:V),removeTransitionClass(Dt,On?z:$),jt&&jt()},At=(Dt,On)=>{Dt._isLeaving=!1,removeTransitionClass(Dt,re),removeTransitionClass(Dt,ae),removeTransitionClass(Dt,oe),On&&On()},Cn=Dt=>(On,jt)=>{const An=Dt?Fe:Oe,Mn=()=>kt(On,Dt,jt);callHook(An,[On,Mn]),nextFrame(()=>{removeTransitionClass(On,Dt?L:k),addTransitionClass(On,Dt?j:V),hasExplicitCallback(An)||whenTransitionEnds(On,g,ue,Mn)})};return extend(e,{onBeforeEnter(Dt){callHook(he,[Dt]),addTransitionClass(Dt,k),addTransitionClass(Dt,$)},onBeforeAppear(Dt){callHook(Ce,[Dt]),addTransitionClass(Dt,L),addTransitionClass(Dt,z)},onEnter:Cn(!1),onAppear:Cn(!0),onLeave(Dt,On){Dt._isLeaving=!0;const jt=()=>At(Dt,On);addTransitionClass(Dt,re),forceReflow(),addTransitionClass(Dt,oe),nextFrame(()=>{Dt._isLeaving&&(removeTransitionClass(Dt,re),addTransitionClass(Dt,ae),hasExplicitCallback($e)||whenTransitionEnds(Dt,g,pe,jt))}),callHook($e,[Dt,jt])},onEnterCancelled(Dt){kt(Dt,!1),callHook(xe,[Dt])},onAppearCancelled(Dt){kt(Dt,!0),callHook(ze,[Dt])},onLeaveCancelled(Dt){At(Dt),callHook(Ne,[Dt])}})}function normalizeDuration(n){if(n==null)return null;if(isObject$3(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const e=NumberOf(n);return[e,e]}}function NumberOf(n){return toNumber$1(n)}function addTransitionClass(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n._vtc||(n._vtc=new Set)).add(e)}function removeTransitionClass(n,e){e.split(/\s+/).forEach(g=>g&&n.classList.remove(g));const{_vtc:r}=n;r&&(r.delete(e),r.size||(n._vtc=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let endId=0;function whenTransitionEnds(n,e,r,g){const y=n._endId=++endId,k=()=>{y===n._endId&&g()};if(r)return setTimeout(k,r);const{type:$,timeout:V,propCount:L}=getTransitionInfo(n,e);if(!$)return g();const z=$+"end";let j=0;const re=()=>{n.removeEventListener(z,oe),k()},oe=ae=>{ae.target===n&&++j>=L&&re()};setTimeout(()=>{j<L&&re()},V+1),n.addEventListener(z,oe)}function getTransitionInfo(n,e){const r=window.getComputedStyle(n),g=de=>(r[de]||"").split(", "),y=g(`${TRANSITION}Delay`),k=g(`${TRANSITION}Duration`),$=getTimeout(y,k),V=g(`${ANIMATION}Delay`),L=g(`${ANIMATION}Duration`),z=getTimeout(V,L);let j=null,re=0,oe=0;e===TRANSITION?$>0&&(j=TRANSITION,re=$,oe=k.length):e===ANIMATION?z>0&&(j=ANIMATION,re=z,oe=L.length):(re=Math.max($,z),j=re>0?$>z?TRANSITION:ANIMATION:null,oe=j?j===TRANSITION?k.length:L.length:0);const ae=j===TRANSITION&&/\b(transform|all)(,|$)/.test(g(`${TRANSITION}Property`).toString());return{type:j,timeout:re,propCount:oe,hasTransform:ae}}function getTimeout(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((r,g)=>toMs(r)+toMs(n[g])))}function toMs(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(n,{slots:e}){const r=getCurrentInstance(),g=useTransitionState();let y,k;return onUpdated(()=>{if(!y.length)return;const $=n.moveClass||`${n.name||"v"}-move`;if(!hasCSSTransform(y[0].el,r.vnode.el,$))return;y.forEach(callPendingCbs),y.forEach(recordPosition);const V=y.filter(applyTranslation);forceReflow(),V.forEach(L=>{const z=L.el,j=z.style;addTransitionClass(z,$),j.transform=j.webkitTransform=j.transitionDuration="";const re=z._moveCb=oe=>{oe&&oe.target!==z||(!oe||/transform$/.test(oe.propertyName))&&(z.removeEventListener("transitionend",re),z._moveCb=null,removeTransitionClass(z,$))};z.addEventListener("transitionend",re)})}),()=>{const $=toRaw(n),V=resolveTransitionProps($);let L=$.tag||Fragment;y=k,k=e.default?getTransitionRawChildren(e.default()):[];for(let z=0;z<k.length;z++){const j=k[z];j.key!=null&&setTransitionHooks(j,resolveTransitionHooks(j,V,g,r))}if(y)for(let z=0;z<y.length;z++){const j=y[z];setTransitionHooks(j,resolveTransitionHooks(j,V,g,r)),positionMap.set(j,j.el.getBoundingClientRect())}return createVNode(L,null,k)}}},removeMode=n=>delete n.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(n){newPositionMap.set(n,n.el.getBoundingClientRect())}function applyTranslation(n){const e=positionMap.get(n),r=newPositionMap.get(n),g=e.left-r.left,y=e.top-r.top;if(g||y){const k=n.el.style;return k.transform=k.webkitTransform=`translate(${g}px,${y}px)`,k.transitionDuration="0s",n}}function hasCSSTransform(n,e,r){const g=n.cloneNode();n._vtc&&n._vtc.forEach($=>{$.split(/\s+/).forEach(V=>V&&g.classList.remove(V))}),r.split(/\s+/).forEach($=>$&&g.classList.add($)),g.style.display="none";const y=e.nodeType===1?e:e.parentNode;y.appendChild(g);const{hasTransform:k}=getTransitionInfo(g);return y.removeChild(g),k}const getModelAssigner=n=>{const e=n.props["onUpdate:modelValue"]||!1;return isArray$3(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(n){n.target.composing=!0}function onCompositionEnd(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(n,{modifiers:{lazy:e,trim:r,number:g}},y){n._assign=getModelAssigner(y);const k=g||y.props&&y.props.type==="number";addEventListener(n,e?"change":"input",$=>{if($.target.composing)return;let V=n.value;r&&(V=V.trim()),k&&(V=looseToNumber(V)),n._assign(V)}),r&&addEventListener(n,"change",()=>{n.value=n.value.trim()}),e||(addEventListener(n,"compositionstart",onCompositionStart),addEventListener(n,"compositionend",onCompositionEnd),addEventListener(n,"change",onCompositionEnd))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:r,trim:g,number:y}},k){if(n._assign=getModelAssigner(k),n.composing||document.activeElement===n&&n.type!=="range"&&(r||g&&n.value.trim()===e||(y||n.type==="number")&&looseToNumber(n.value)===e))return;const $=e??"";n.value!==$&&(n.value=$)}},vModelCheckbox={deep:!0,created(n,e,r){n._assign=getModelAssigner(r),addEventListener(n,"change",()=>{const g=n._modelValue,y=getValue$2(n),k=n.checked,$=n._assign;if(isArray$3(g)){const V=looseIndexOf(g,y),L=V!==-1;if(k&&!L)$(g.concat(y));else if(!k&&L){const z=[...g];z.splice(V,1),$(z)}}else if(isSet$1(g)){const V=new Set(g);k?V.add(y):V.delete(y),$(V)}else $(getCheckboxValue(n,k))})},mounted:setChecked,beforeUpdate(n,e,r){n._assign=getModelAssigner(r),setChecked(n,e,r)}};function setChecked(n,{value:e,oldValue:r},g){n._modelValue=e,isArray$3(e)?n.checked=looseIndexOf(e,g.props.value)>-1:isSet$1(e)?n.checked=e.has(g.props.value):e!==r&&(n.checked=looseEqual(e,getCheckboxValue(n,!0)))}const vModelRadio={created(n,{value:e},r){n.checked=looseEqual(e,r.props.value),n._assign=getModelAssigner(r),addEventListener(n,"change",()=>{n._assign(getValue$2(n))})},beforeUpdate(n,{value:e,oldValue:r},g){n._assign=getModelAssigner(g),e!==r&&(n.checked=looseEqual(e,g.props.value))}};function getValue$2(n){return"_value"in n?n._value:n.value}function getCheckboxValue(n,e){const r=e?"_trueValue":"_falseValue";return r in n?n[r]:e}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>systemModifiers.some(r=>n[`${r}Key`]&&!e.includes(r))},withModifiers=(n,e)=>(r,...g)=>{for(let y=0;y<e.length;y++){const k=modifierGuards[e[y]];if(k&&k(r,e))return}return n(r,...g)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(n,e)=>r=>{if(!("key"in r))return;const g=hyphenate(r.key);if(e.some(y=>y===g||keyNames[y]===g))return n(r)},vShow={beforeMount(n,{value:e},{transition:r}){n._vod=n.style.display==="none"?"":n.style.display,r&&e?r.beforeEnter(n):setDisplay(n,e)},mounted(n,{value:e},{transition:r}){r&&e&&r.enter(n)},updated(n,{value:e,oldValue:r},{transition:g}){!e!=!r&&(g?e?(g.beforeEnter(n),setDisplay(n,!0),g.enter(n)):g.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,e))},beforeUnmount(n,{value:e}){setDisplay(n,e)}};function setDisplay(n,e){n.style.display=e?n._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$2=(...n)=>{ensureRenderer().render(...n)},createApp=(...n)=>{const e=ensureRenderer().createApp(...n),{mount:r}=e;return e.mount=g=>{const y=normalizeContainer(g);if(!y)return;const k=e._component;!isFunction$3(k)&&!k.render&&!k.template&&(k.template=y.innerHTML),y.innerHTML="";const $=r(y,!1,y instanceof SVGElement);return y instanceof Element&&(y.removeAttribute("v-cloak"),y.setAttribute("data-v-app","")),$},e};function normalizeContainer(n){return isString$3(n)?document.querySelector(n):n}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(n,e){const r={};for(const g in e){const y=e[g];r[g]=isArray$2(y)?y.map(n):n(y)}return r}const noop$5=()=>{},isArray$2=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=n=>n.replace(TRAILING_SLASH_RE,"");function parseURL(n,e,r="/"){let g,y={},k="",$="";const V=e.indexOf("#");let L=e.indexOf("?");return V<L&&V>=0&&(L=-1),L>-1&&(g=e.slice(0,L),k=e.slice(L+1,V>-1?V:e.length),y=n(k)),V>-1&&(g=g||e.slice(0,V),$=e.slice(V,e.length)),g=resolveRelativePath(g??e,r),{fullPath:g+(k&&"?")+k+$,path:g,query:y,hash:$}}function stringifyURL(n,e){const r=e.query?n(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function isSameRouteLocation(n,e,r){const g=e.matched.length-1,y=r.matched.length-1;return g>-1&&g===y&&isSameRouteRecord(e.matched[g],r.matched[y])&&isSameRouteLocationParams(e.params,r.params)&&n(e.query)===n(r.query)&&e.hash===r.hash}function isSameRouteRecord(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function isSameRouteLocationParams(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!isSameRouteLocationParamsValue(n[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(n,e){return isArray$2(n)?isEquivalentArray(n,e):isArray$2(e)?isEquivalentArray(e,n):n===e}function isEquivalentArray(n,e){return isArray$2(e)?n.length===e.length&&n.every((r,g)=>r===e[g]):n.length===1&&n[0]===e}function resolveRelativePath(n,e){if(n.startsWith("/"))return n;if(!n)return e;const r=e.split("/"),g=n.split("/"),y=g[g.length-1];(y===".."||y===".")&&g.push("");let k=r.length-1,$,V;for($=0;$<g.length;$++)if(V=g[$],V!==".")if(V==="..")k>1&&k--;else break;return r.slice(0,k).join("/")+"/"+g.slice($-($===g.length?1:0)).join("/")}var NavigationType;(function(n){n.pop="pop",n.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(n){n.back="back",n.forward="forward",n.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(n){if(!n)if(isBrowser){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),removeTrailingSlash(n)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(n,e){return n.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(n,e){const r=document.documentElement.getBoundingClientRect(),g=n.getBoundingClientRect();return{behavior:e.behavior,left:g.left-r.left-(e.left||0),top:g.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(n){let e;if("el"in n){const r=n.el,g=typeof r=="string"&&r.startsWith("#"),y=typeof r=="string"?g?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!y)return;e=getElementPosition(y,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(n,e){return(history.state?history.state.position-e:-1)+n}const scrollPositions=new Map;function saveScrollPosition(n,e){scrollPositions.set(n,e)}function getSavedScrollPosition(n){const e=scrollPositions.get(n);return scrollPositions.delete(n),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(n,e){const{pathname:r,search:g,hash:y}=e,k=n.indexOf("#");if(k>-1){let V=y.includes(n.slice(k))?n.slice(k).length:1,L=y.slice(V);return L[0]!=="/"&&(L="/"+L),stripBase(L,"")}return stripBase(r,n)+g+y}function useHistoryListeners(n,e,r,g){let y=[],k=[],$=null;const V=({state:oe})=>{const ae=createCurrentLocation(n,location),de=r.value,ue=e.value;let pe=0;if(oe){if(r.value=ae,e.value=oe,$&&$===de){$=null;return}pe=ue?oe.position-ue.position:0}else g(ae);y.forEach(he=>{he(r.value,de,{delta:pe,type:NavigationType.pop,direction:pe?pe>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function L(){$=r.value}function z(oe){y.push(oe);const ae=()=>{const de=y.indexOf(oe);de>-1&&y.splice(de,1)};return k.push(ae),ae}function j(){const{history:oe}=window;oe.state&&oe.replaceState(assign$2({},oe.state,{scroll:computeScrollPosition()}),"")}function re(){for(const oe of k)oe();k=[],window.removeEventListener("popstate",V),window.removeEventListener("beforeunload",j)}return window.addEventListener("popstate",V),window.addEventListener("beforeunload",j,{passive:!0}),{pauseListeners:L,listen:z,destroy:re}}function buildState(n,e,r,g=!1,y=!1){return{back:n,current:e,forward:r,replaced:g,position:window.history.length,scroll:y?computeScrollPosition():null}}function useHistoryStateNavigation(n){const{history:e,location:r}=window,g={value:createCurrentLocation(n,r)},y={value:e.state};y.value||k(g.value,{back:null,current:g.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function k(L,z,j){const re=n.indexOf("#"),oe=re>-1?(r.host&&document.querySelector("base")?n:n.slice(re))+L:createBaseLocation()+n+L;try{e[j?"replaceState":"pushState"](z,"",oe),y.value=z}catch(ae){console.error(ae),r[j?"replace":"assign"](oe)}}function $(L,z){const j=assign$2({},e.state,buildState(y.value.back,L,y.value.forward,!0),z,{position:y.value.position});k(L,j,!0),g.value=L}function V(L,z){const j=assign$2({},y.value,e.state,{forward:L,scroll:computeScrollPosition()});k(j.current,j,!0);const re=assign$2({},buildState(g.value,L,null),{position:j.position+1},z);k(L,re,!1),g.value=L}return{location:g,state:y,push:V,replace:$}}function createWebHistory(n){n=normalizeBase(n);const e=useHistoryStateNavigation(n),r=useHistoryListeners(n,e.state,e.location,e.replace);function g(k,$=!0){$||r.pauseListeners(),history.go(k)}const y=assign$2({location:"",base:n,go:g,createHref:createHref.bind(null,n)},e,r);return Object.defineProperty(y,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(y,"state",{enumerable:!0,get:()=>e.state.value}),y}function createWebHashHistory(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),createWebHistory(n)}function isRouteLocation(n){return typeof n=="string"||n&&typeof n=="object"}function isRouteName(n){return typeof n=="string"||typeof n=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(n,e){return assign$2(new Error,{type:n,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(n,e){return n instanceof Error&&NavigationFailureSymbol in n&&(e==null||!!(n.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(n,e){const r=assign$2({},BASE_PATH_PARSER_OPTIONS,e),g=[];let y=r.start?"^":"";const k=[];for(const z of n){const j=z.length?[]:[90];r.strict&&!z.length&&(y+="/");for(let re=0;re<z.length;re++){const oe=z[re];let ae=40+(r.sensitive?.25:0);if(oe.type===0)re||(y+="/"),y+=oe.value.replace(REGEX_CHARS_RE,"\\$&"),ae+=40;else if(oe.type===1){const{value:de,repeatable:ue,optional:pe,regexp:he}=oe;k.push({name:de,repeatable:ue,optional:pe});const Oe=he||BASE_PARAM_PATTERN;if(Oe!==BASE_PARAM_PATTERN){ae+=10;try{new RegExp(`(${Oe})`)}catch($e){throw new Error(`Invalid custom RegExp for param "${de}" (${Oe}): `+$e.message)}}let xe=ue?`((?:${Oe})(?:/(?:${Oe}))*)`:`(${Oe})`;re||(xe=pe&&z.length<2?`(?:/${xe})`:"/"+xe),pe&&(xe+="?"),y+=xe,ae+=20,pe&&(ae+=-8),ue&&(ae+=-20),Oe===".*"&&(ae+=-50)}j.push(ae)}g.push(j)}if(r.strict&&r.end){const z=g.length-1;g[z][g[z].length-1]+=.7000000000000001}r.strict||(y+="/?"),r.end?y+="$":r.strict&&(y+="(?:/|$)");const $=new RegExp(y,r.sensitive?"":"i");function V(z){const j=z.match($),re={};if(!j)return null;for(let oe=1;oe<j.length;oe++){const ae=j[oe]||"",de=k[oe-1];re[de.name]=ae&&de.repeatable?ae.split("/"):ae}return re}function L(z){let j="",re=!1;for(const oe of n){(!re||!j.endsWith("/"))&&(j+="/"),re=!1;for(const ae of oe)if(ae.type===0)j+=ae.value;else if(ae.type===1){const{value:de,repeatable:ue,optional:pe}=ae,he=de in z?z[de]:"";if(isArray$2(he)&&!ue)throw new Error(`Provided param "${de}" is an array but it is not repeatable (* or + modifiers)`);const Oe=isArray$2(he)?he.join("/"):he;if(!Oe)if(pe)oe.length<2&&(j.endsWith("/")?j=j.slice(0,-1):re=!0);else throw new Error(`Missing required param "${de}"`);j+=Oe}}return j||"/"}return{re:$,score:g,keys:k,parse:V,stringify:L}}function compareScoreArray(n,e){let r=0;for(;r<n.length&&r<e.length;){const g=e[r]-n[r];if(g)return g;r++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function comparePathParserScore(n,e){let r=0;const g=n.score,y=e.score;for(;r<g.length&&r<y.length;){const k=compareScoreArray(g[r],y[r]);if(k)return k;r++}if(Math.abs(y.length-g.length)===1){if(isLastScoreNegative(g))return 1;if(isLastScoreNegative(y))return-1}return y.length-g.length}function isLastScoreNegative(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(n){if(!n)return[[]];if(n==="/")return[[ROOT_TOKEN]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(ae){throw new Error(`ERR (${r})/"${z}": ${ae}`)}let r=0,g=r;const y=[];let k;function $(){k&&y.push(k),k=[]}let V=0,L,z="",j="";function re(){z&&(r===0?k.push({type:0,value:z}):r===1||r===2||r===3?(k.length>1&&(L==="*"||L==="+")&&e(`A repeatable param (${z}) must be alone in its segment. eg: '/:ids+.`),k.push({type:1,value:z,regexp:j,repeatable:L==="*"||L==="+",optional:L==="*"||L==="?"})):e("Invalid state to consume buffer"),z="")}function oe(){z+=L}for(;V<n.length;){if(L=n[V++],L==="\\"&&r!==2){g=r,r=4;continue}switch(r){case 0:L==="/"?(z&&re(),$()):L===":"?(re(),r=1):oe();break;case 4:oe(),r=g;break;case 1:L==="("?r=2:VALID_PARAM_RE.test(L)?oe():(re(),r=0,L!=="*"&&L!=="?"&&L!=="+"&&V--);break;case 2:L===")"?j[j.length-1]=="\\"?j=j.slice(0,-1)+L:r=3:j+=L;break;case 3:re(),r=0,L!=="*"&&L!=="?"&&L!=="+"&&V--,j="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${z}"`),re(),$(),y}function createRouteRecordMatcher(n,e,r){const g=tokensToParser(tokenizePath(n.path),r),y=assign$2(g,{record:n,parent:e,children:[],alias:[]});return e&&!y.record.aliasOf==!e.record.aliasOf&&e.children.push(y),y}function createRouterMatcher(n,e){const r=[],g=new Map;e=mergeOptions$1({strict:!1,end:!0,sensitive:!1},e);function y(j){return g.get(j)}function k(j,re,oe){const ae=!oe,de=normalizeRouteRecord(j);de.aliasOf=oe&&oe.record;const ue=mergeOptions$1(e,j),pe=[de];if("alias"in j){const xe=typeof j.alias=="string"?[j.alias]:j.alias;for(const $e of xe)pe.push(assign$2({},de,{components:oe?oe.record.components:de.components,path:$e,aliasOf:oe?oe.record:de}))}let he,Oe;for(const xe of pe){const{path:$e}=xe;if(re&&$e[0]!=="/"){const Ne=re.record.path,Ce=Ne[Ne.length-1]==="/"?"":"/";xe.path=re.record.path+($e&&Ce+$e)}if(he=createRouteRecordMatcher(xe,re,ue),oe?oe.alias.push(he):(Oe=Oe||he,Oe!==he&&Oe.alias.push(he),ae&&j.name&&!isAliasRecord(he)&&$(j.name)),de.children){const Ne=de.children;for(let Ce=0;Ce<Ne.length;Ce++)k(Ne[Ce],he,oe&&oe.children[Ce])}oe=oe||he,(he.record.components&&Object.keys(he.record.components).length||he.record.name||he.record.redirect)&&L(he)}return Oe?()=>{$(Oe)}:noop$5}function $(j){if(isRouteName(j)){const re=g.get(j);re&&(g.delete(j),r.splice(r.indexOf(re),1),re.children.forEach($),re.alias.forEach($))}else{const re=r.indexOf(j);re>-1&&(r.splice(re,1),j.record.name&&g.delete(j.record.name),j.children.forEach($),j.alias.forEach($))}}function V(){return r}function L(j){let re=0;for(;re<r.length&&comparePathParserScore(j,r[re])>=0&&(j.record.path!==r[re].record.path||!isRecordChildOf(j,r[re]));)re++;r.splice(re,0,j),j.record.name&&!isAliasRecord(j)&&g.set(j.record.name,j)}function z(j,re){let oe,ae={},de,ue;if("name"in j&&j.name){if(oe=g.get(j.name),!oe)throw createRouterError(1,{location:j});ue=oe.record.name,ae=assign$2(paramsFromLocation(re.params,oe.keys.filter(Oe=>!Oe.optional).map(Oe=>Oe.name)),j.params&&paramsFromLocation(j.params,oe.keys.map(Oe=>Oe.name))),de=oe.stringify(ae)}else if("path"in j)de=j.path,oe=r.find(Oe=>Oe.re.test(de)),oe&&(ae=oe.parse(de),ue=oe.record.name);else{if(oe=re.name?g.get(re.name):r.find(Oe=>Oe.re.test(re.path)),!oe)throw createRouterError(1,{location:j,currentLocation:re});ue=oe.record.name,ae=assign$2({},re.params,j.params),de=oe.stringify(ae)}const pe=[];let he=oe;for(;he;)pe.unshift(he.record),he=he.parent;return{name:ue,path:de,params:ae,matched:pe,meta:mergeMetaFields(pe)}}return n.forEach(j=>k(j)),{addRoute:k,resolve:z,removeRoute:$,getRoutes:V,getRecordMatcher:y}}function paramsFromLocation(n,e){const r={};for(const g of e)g in n&&(r[g]=n[g]);return r}function normalizeRouteRecord(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:normalizeRecordProps(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function normalizeRecordProps(n){const e={},r=n.props||!1;if("component"in n)e.default=r;else for(const g in n.components)e[g]=typeof r=="object"?r[g]:r;return e}function isAliasRecord(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function mergeMetaFields(n){return n.reduce((e,r)=>assign$2(e,r.meta),{})}function mergeOptions$1(n,e){const r={};for(const g in n)r[g]=g in e?e[g]:n[g];return r}function isRecordChildOf(n,e){return e.children.some(r=>r===n||isRecordChildOf(n,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(n){return encodeURI(""+n).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(n){return commonEncode(n).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(n){return commonEncode(n).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(n){return encodeQueryValue(n).replace(EQUAL_RE,"%3D")}function encodePath(n){return commonEncode(n).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(n){return n==null?"":encodePath(n).replace(SLASH_RE,"%2F")}function decode(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function parseQuery(n){const e={};if(n===""||n==="?")return e;const g=(n[0]==="?"?n.slice(1):n).split("&");for(let y=0;y<g.length;++y){const k=g[y].replace(PLUS_RE," "),$=k.indexOf("="),V=decode($<0?k:k.slice(0,$)),L=$<0?null:decode(k.slice($+1));if(V in e){let z=e[V];isArray$2(z)||(z=e[V]=[z]),z.push(L)}else e[V]=L}return e}function stringifyQuery(n){let e="";for(let r in n){const g=n[r];if(r=encodeQueryKey(r),g==null){g!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray$2(g)?g.map(k=>k&&encodeQueryValue(k)):[g&&encodeQueryValue(g)]).forEach(k=>{k!==void 0&&(e+=(e.length?"&":"")+r,k!=null&&(e+="="+k))})}return e}function normalizeQuery(n){const e={};for(const r in n){const g=n[r];g!==void 0&&(e[r]=isArray$2(g)?g.map(y=>y==null?null:""+y):g==null?g:""+g)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let n=[];function e(g){return n.push(g),()=>{const y=n.indexOf(g);y>-1&&n.splice(y,1)}}function r(){n=[]}return{add:e,list:()=>n.slice(),reset:r}}function registerGuard(n,e,r){const g=()=>{n[e].delete(r)};onUnmounted(g),onDeactivated(g),onActivated(()=>{n[e].add(r)}),n[e].add(r)}function onBeforeRouteLeave(n){const e=inject(matchedRouteKey,{}).value;e&&registerGuard(e,"leaveGuards",n)}function guardToPromiseFn(n,e,r,g,y){const k=g&&(g.enterCallbacks[y]=g.enterCallbacks[y]||[]);return()=>new Promise(($,V)=>{const L=re=>{re===!1?V(createRouterError(4,{from:r,to:e})):re instanceof Error?V(re):isRouteLocation(re)?V(createRouterError(2,{from:e,to:re})):(k&&g.enterCallbacks[y]===k&&typeof re=="function"&&k.push(re),$())},z=n.call(g&&g.instances[y],e,r,L);let j=Promise.resolve(z);n.length<3&&(j=j.then(L)),j.catch(re=>V(re))})}function extractComponentsGuards(n,e,r,g){const y=[];for(const k of n)for(const $ in k.components){let V=k.components[$];if(!(e!=="beforeRouteEnter"&&!k.instances[$]))if(isRouteComponent(V)){const z=(V.__vccOpts||V)[e];z&&y.push(guardToPromiseFn(z,r,g,k,$))}else{let L=V();y.push(()=>L.then(z=>{if(!z)return Promise.reject(new Error(`Couldn't resolve component "${$}" at "${k.path}"`));const j=isESModule(z)?z.default:z;k.components[$]=j;const oe=(j.__vccOpts||j)[e];return oe&&guardToPromiseFn(oe,r,g,k,$)()}))}}return y}function isRouteComponent(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function useLink(n){const e=inject(routerKey),r=inject(routeLocationKey),g=computed(()=>e.resolve(unref(n.to))),y=computed(()=>{const{matched:L}=g.value,{length:z}=L,j=L[z-1],re=r.matched;if(!j||!re.length)return-1;const oe=re.findIndex(isSameRouteRecord.bind(null,j));if(oe>-1)return oe;const ae=getOriginalPath(L[z-2]);return z>1&&getOriginalPath(j)===ae&&re[re.length-1].path!==ae?re.findIndex(isSameRouteRecord.bind(null,L[z-2])):oe}),k=computed(()=>y.value>-1&&includesParams(r.params,g.value.params)),$=computed(()=>y.value>-1&&y.value===r.matched.length-1&&isSameRouteLocationParams(r.params,g.value.params));function V(L={}){return guardEvent(L)?e[unref(n.replace)?"replace":"push"](unref(n.to)).catch(noop$5):Promise.resolve()}return{route:g,href:computed(()=>g.value.href),isActive:k,isExactActive:$,navigate:V}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(n,{slots:e}){const r=reactive(useLink(n)),{options:g}=inject(routerKey),y=computed(()=>({[getLinkClass(n.activeClass,g.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(n.exactActiveClass,g.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const k=e.default&&e.default(r);return n.custom?k:h$1("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:y.value},k)}}}),RouterLink=RouterLinkImpl;function guardEvent(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function includesParams(n,e){for(const r in e){const g=e[r],y=n[r];if(typeof g=="string"){if(g!==y)return!1}else if(!isArray$2(y)||y.length!==g.length||g.some((k,$)=>k!==y[$]))return!1}return!0}function getOriginalPath(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const getLinkClass=(n,e,r)=>n??e??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:r}){const g=inject(routerViewLocationKey),y=computed(()=>n.route||g.value),k=inject(viewDepthKey,0),$=computed(()=>{let z=unref(k);const{matched:j}=y.value;let re;for(;(re=j[z])&&!re.components;)z++;return z}),V=computed(()=>y.value.matched[$.value]);provide(viewDepthKey,computed(()=>$.value+1)),provide(matchedRouteKey,V),provide(routerViewLocationKey,y);const L=ref();return watch(()=>[L.value,V.value,n.name],([z,j,re],[oe,ae,de])=>{j&&(j.instances[re]=z,ae&&ae!==j&&z&&z===oe&&(j.leaveGuards.size||(j.leaveGuards=ae.leaveGuards),j.updateGuards.size||(j.updateGuards=ae.updateGuards))),z&&j&&(!ae||!isSameRouteRecord(j,ae)||!oe)&&(j.enterCallbacks[re]||[]).forEach(ue=>ue(z))},{flush:"post"}),()=>{const z=y.value,j=n.name,re=V.value,oe=re&&re.components[j];if(!oe)return normalizeSlot(r.default,{Component:oe,route:z});const ae=re.props[j],de=ae?ae===!0?z.params:typeof ae=="function"?ae(z):ae:null,pe=h$1(oe,assign$2({},de,e,{onVnodeUnmounted:he=>{he.component.isUnmounted&&(re.instances[j]=null)},ref:L}));return normalizeSlot(r.default,{Component:pe,route:z})||pe}}});function normalizeSlot(n,e){if(!n)return null;const r=n(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(n){const e=createRouterMatcher(n.routes,n),r=n.parseQuery||parseQuery,g=n.stringifyQuery||stringifyQuery,y=n.history,k=useCallbacks(),$=useCallbacks(),V=useCallbacks(),L=shallowRef(START_LOCATION_NORMALIZED);let z=START_LOCATION_NORMALIZED;isBrowser&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const j=applyToParams.bind(null,En=>""+En),re=applyToParams.bind(null,encodeParam),oe=applyToParams.bind(null,decode);function ae(En,jn){let cr,gr;return isRouteName(En)?(cr=e.getRecordMatcher(En),gr=jn):gr=En,e.addRoute(gr,cr)}function de(En){const jn=e.getRecordMatcher(En);jn&&e.removeRoute(jn)}function ue(){return e.getRoutes().map(En=>En.record)}function pe(En){return!!e.getRecordMatcher(En)}function he(En,jn){if(jn=assign$2({},jn||L.value),typeof En=="string"){const hn=parseURL(r,En,jn.path),Kn=e.resolve({path:hn.path},jn),Nn=y.createHref(hn.fullPath);return assign$2(hn,Kn,{params:oe(Kn.params),hash:decode(hn.hash),redirectedFrom:void 0,href:Nn})}let cr;if("path"in En)cr=assign$2({},En,{path:parseURL(r,En.path,jn.path).path});else{const hn=assign$2({},En.params);for(const Kn in hn)hn[Kn]==null&&delete hn[Kn];cr=assign$2({},En,{params:re(hn)}),jn.params=re(jn.params)}const gr=e.resolve(cr,jn),Cr=En.hash||"";gr.params=j(oe(gr.params));const ir=stringifyURL(g,assign$2({},En,{hash:encodeHash(Cr),path:gr.path})),Gn=y.createHref(ir);return assign$2({fullPath:ir,hash:Cr,query:g===stringifyQuery?normalizeQuery(En.query):En.query||{}},gr,{redirectedFrom:void 0,href:Gn})}function Oe(En){return typeof En=="string"?parseURL(r,En,L.value.path):assign$2({},En)}function xe(En,jn){if(z!==En)return createRouterError(8,{from:jn,to:En})}function $e(En){return Fe(En)}function Ne(En){return $e(assign$2(Oe(En),{replace:!0}))}function Ce(En){const jn=En.matched[En.matched.length-1];if(jn&&jn.redirect){const{redirect:cr}=jn;let gr=typeof cr=="function"?cr(En):cr;return typeof gr=="string"&&(gr=gr.includes("?")||gr.includes("#")?gr=Oe(gr):{path:gr},gr.params={}),assign$2({query:En.query,hash:En.hash,params:"path"in gr?{}:En.params},gr)}}function Fe(En,jn){const cr=z=he(En),gr=L.value,Cr=En.state,ir=En.force,Gn=En.replace===!0,hn=Ce(cr);if(hn)return Fe(assign$2(Oe(hn),{state:typeof hn=="object"?assign$2({},Cr,hn.state):Cr,force:ir,replace:Gn}),jn||cr);const Kn=cr;Kn.redirectedFrom=jn;let Nn;return!ir&&isSameRouteLocation(g,gr,cr)&&(Nn=createRouterError(16,{to:Kn,from:gr}),Qn(gr,gr,!0,!1)),(Nn?Promise.resolve(Nn):At(Kn,gr)).catch(Lt=>isNavigationFailure(Lt)?isNavigationFailure(Lt,2)?Lt:Zn(Lt):Ln(Lt,Kn,gr)).then(Lt=>{if(Lt){if(isNavigationFailure(Lt,2))return Fe(assign$2({replace:Gn},Oe(Lt.to),{state:typeof Lt.to=="object"?assign$2({},Cr,Lt.to.state):Cr,force:ir}),jn||Kn)}else Lt=Dt(Kn,gr,!0,Gn,Cr);return Cn(Kn,gr,Lt),Lt})}function ze(En,jn){const cr=xe(En,jn);return cr?Promise.reject(cr):Promise.resolve()}function kt(En){const jn=ur.values().next().value;return jn&&typeof jn.runWithContext=="function"?jn.runWithContext(En):En()}function At(En,jn){let cr;const[gr,Cr,ir]=extractChangingRecords(En,jn);cr=extractComponentsGuards(gr.reverse(),"beforeRouteLeave",En,jn);for(const hn of gr)hn.leaveGuards.forEach(Kn=>{cr.push(guardToPromiseFn(Kn,En,jn))});const Gn=ze.bind(null,En,jn);return cr.push(Gn),Vn(cr).then(()=>{cr=[];for(const hn of k.list())cr.push(guardToPromiseFn(hn,En,jn));return cr.push(Gn),Vn(cr)}).then(()=>{cr=extractComponentsGuards(Cr,"beforeRouteUpdate",En,jn);for(const hn of Cr)hn.updateGuards.forEach(Kn=>{cr.push(guardToPromiseFn(Kn,En,jn))});return cr.push(Gn),Vn(cr)}).then(()=>{cr=[];for(const hn of ir)if(hn.beforeEnter)if(isArray$2(hn.beforeEnter))for(const Kn of hn.beforeEnter)cr.push(guardToPromiseFn(Kn,En,jn));else cr.push(guardToPromiseFn(hn.beforeEnter,En,jn));return cr.push(Gn),Vn(cr)}).then(()=>(En.matched.forEach(hn=>hn.enterCallbacks={}),cr=extractComponentsGuards(ir,"beforeRouteEnter",En,jn),cr.push(Gn),Vn(cr))).then(()=>{cr=[];for(const hn of $.list())cr.push(guardToPromiseFn(hn,En,jn));return cr.push(Gn),Vn(cr)}).catch(hn=>isNavigationFailure(hn,8)?hn:Promise.reject(hn))}function Cn(En,jn,cr){V.list().forEach(gr=>kt(()=>gr(En,jn,cr)))}function Dt(En,jn,cr,gr,Cr){const ir=xe(En,jn);if(ir)return ir;const Gn=jn===START_LOCATION_NORMALIZED,hn=isBrowser?history.state:{};cr&&(gr||Gn?y.replace(En.fullPath,assign$2({scroll:Gn&&hn&&hn.scroll},Cr)):y.push(En.fullPath,Cr)),L.value=En,Qn(En,jn,cr,Gn),Zn()}let On;function jt(){On||(On=y.listen((En,jn,cr)=>{if(!hr.listening)return;const gr=he(En),Cr=Ce(gr);if(Cr){Fe(assign$2(Cr,{replace:!0}),gr).catch(noop$5);return}z=gr;const ir=L.value;isBrowser&&saveScrollPosition(getScrollKey(ir.fullPath,cr.delta),computeScrollPosition()),At(gr,ir).catch(Gn=>isNavigationFailure(Gn,12)?Gn:isNavigationFailure(Gn,2)?(Fe(Gn.to,gr).then(hn=>{isNavigationFailure(hn,20)&&!cr.delta&&cr.type===NavigationType.pop&&y.go(-1,!1)}).catch(noop$5),Promise.reject()):(cr.delta&&y.go(-cr.delta,!1),Ln(Gn,gr,ir))).then(Gn=>{Gn=Gn||Dt(gr,ir,!1),Gn&&(cr.delta&&!isNavigationFailure(Gn,8)?y.go(-cr.delta,!1):cr.type===NavigationType.pop&&isNavigationFailure(Gn,20)&&y.go(-1,!1)),Cn(gr,ir,Gn)}).catch(noop$5)}))}let An=useCallbacks(),Mn=useCallbacks(),$n;function Ln(En,jn,cr){Zn(En);const gr=Mn.list();return gr.length?gr.forEach(Cr=>Cr(En,jn,cr)):console.error(En),Promise.reject(En)}function Tn(){return $n&&L.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((En,jn)=>{An.add([En,jn])})}function Zn(En){return $n||($n=!En,jt(),An.list().forEach(([jn,cr])=>En?cr(En):jn()),An.reset()),En}function Qn(En,jn,cr,gr){const{scrollBehavior:Cr}=n;if(!isBrowser||!Cr)return Promise.resolve();const ir=!cr&&getSavedScrollPosition(getScrollKey(En.fullPath,0))||(gr||!cr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Cr(En,jn,ir)).then(Gn=>Gn&&scrollToPosition(Gn)).catch(Gn=>Ln(Gn,En,jn))}const Pn=En=>y.go(En);let Wn;const ur=new Set,hr={currentRoute:L,listening:!0,addRoute:ae,removeRoute:de,hasRoute:pe,getRoutes:ue,resolve:he,options:n,push:$e,replace:Ne,go:Pn,back:()=>Pn(-1),forward:()=>Pn(1),beforeEach:k.add,beforeResolve:$.add,afterEach:V.add,onError:Mn.add,isReady:Tn,install(En){const jn=this;En.component("RouterLink",RouterLink),En.component("RouterView",RouterView),En.config.globalProperties.$router=jn,Object.defineProperty(En.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(L)}),isBrowser&&!Wn&&L.value===START_LOCATION_NORMALIZED&&(Wn=!0,$e(y.location).catch(Cr=>{}));const cr={};for(const Cr in START_LOCATION_NORMALIZED)Object.defineProperty(cr,Cr,{get:()=>L.value[Cr],enumerable:!0});En.provide(routerKey,jn),En.provide(routeLocationKey,shallowReactive(cr)),En.provide(routerViewLocationKey,L);const gr=En.unmount;ur.add(En),En.unmount=function(){ur.delete(En),ur.size<1&&(z=START_LOCATION_NORMALIZED,On&&On(),On=null,L.value=START_LOCATION_NORMALIZED,Wn=!1,$n=!1),gr()}}};function Vn(En){return En.reduce((jn,cr)=>jn.then(()=>kt(cr)),Promise.resolve())}return hr}function extractChangingRecords(n,e){const r=[],g=[],y=[],k=Math.max(e.matched.length,n.matched.length);for(let $=0;$<k;$++){const V=e.matched[$];V&&(n.matched.find(z=>isSameRouteRecord(z,V))?g.push(V):r.push(V));const L=n.matched[$];L&&(e.matched.find(z=>isSameRouteRecord(z,L))||y.push(L))}return[r,g,y]}const ENV=ref("web");ref(!0);const createFileDialogVisible=ref(!1),setCreateFileDialogVisible=n=>{createFileDialogVisible.value=n},fontSettingsDialogVisible=ref(!1),setFontSettingsDialogVisible=n=>{fontSettingsDialogVisible.value=n},preferenceSettingsDialogVisible=ref(!1),setPreferenceSettingsDialogVisible=n=>{preferenceSettingsDialogVisible.value=n},addTextDialogVisible=ref(!1),setAddTextDialogVisible=n=>{addTextDialogVisible.value=n},addGlyphDialogVisible=ref(!1),setAddGlyphDialogVisible=n=>{addGlyphDialogVisible.value=n},copyGlyphDialogVisible=ref(!1),setCopyGlyphDialogVisible=n=>{copyGlyphDialogVisible.value=n},editGlyphDialogVisible=ref(!1),setEditGlyphDialogVisible=n=>{editGlyphDialogVisible.value=n},copyCharacterDialogVisible=ref(!1),setCopyCharacterDialogVisible=n=>{copyCharacterDialogVisible.value=n},editCharacterDialogVisible=ref(!1),setEditCharacterDialogVisible=n=>{editCharacterDialogVisible.value=n},glyphComponentsDialogVisible=ref(!1),setGlyphComponentsDialogVisible=n=>{glyphComponentsDialogVisible.value=n},addIconDialogVisible=ref(!1),setAddIconDialogVisible=n=>{addIconDialogVisible.value=n},languageSettingsDialogVisible=ref(!1),setLanguageSettingsDialogVisible=n=>{languageSettingsDialogVisible.value=n},importTemplatesDialogVisible=ref(!1),setImportTemplatesDialogVisible=n=>{importTemplatesDialogVisible.value=n},setAsGlobalParamDialogVisible=ref(!1),setSetAsGlobalParamDialogVisible=n=>{setAsGlobalParamDialogVisible.value=n},selectGlobalParamDialogVisible=ref(!1),setSelectGlobalParamDialogVisible=n=>{selectGlobalParamDialogVisible.value=n},tipsDialogVisible=ref(!1),setTipsDialogVisible=n=>{tipsDialogVisible.value=n},closeFileTipDialogVisible=ref(!1),setCloseFileTipDialogVisible=n=>{closeFileTipDialogVisible.value=n},saveFileTipDialogVisible=ref(!1),setSaveFileTipDialogVisible=n=>{saveFileTipDialogVisible.value=n},exportDialogVisible=ref(!1),setExportDialogVisible=n=>{exportDialogVisible.value=n},saveDialogVisible=ref(!1),setSaveDialogVisible=n=>{saveDialogVisible.value=n},saveAsDialogVisible=ref(!1),setSaveAsDialogVisible=n=>{saveAsDialogVisible.value=n},exportFontDialogVisible=ref(!1),setExportFontDialogVisible=n=>{exportFontDialogVisible.value=n},exportFontTauriDialogVisible=ref(!1),setExportFontTauriDialogVisible=n=>{exportFontTauriDialogVisible.value=n},copiedGlyphUUID=ref(""),copiedCharacterUUID=ref(""),editedGlyphUUID=ref(""),editedCharacterUUID=ref(""),glyphComponentsDialogVisible2=ref(!1);var GridType=(n=>(n[n.None=0]="None",n[n.Mesh=1]="Mesh",n[n.Mi=2]="Mi",n[n.LayoutGrid=3]="LayoutGrid",n))(GridType||{}),BackgroundType=(n=>(n[n.Transparent=0]="Transparent",n[n.Color=1]="Color",n))(BackgroundType||{});const jointsCheckedMap=ref({}),draggable$1=ref(!0),dragOption=ref("default"),checkJoints=ref(!1),checkRefLines=ref(!1),fontRenderStyle=ref("contour"),tips=ref(""),tool=ref(""),width$1=ref(500),height$1=ref(500),canvas=ref(null);let grid=reactive({type:0,precision:20}),background$1=reactive({type:0,color:""});const gridSettings=ref({dx:0,dy:0,centerSquareSize:1e3/3,size:1e3,default:!0});ref([{value:"",label:"",layout:"<0,x1+0.5*(x2-x1)><x1+0.5*(x2-x1),l>",subLayout:"<x,x+0.5*w><x+0.5*w,x+w>"},{value:"",label:"",layout:"<0,l/3)><l/3,2*l/3><2*l/3,l>",subLayout:"<x,x+0.33*w><x+0.33*w,x+0.66w><x+0.66w,x+w>"},{value:"",label:"",layout:"<0,x1+0.5*(y2-y1)><x1+0.5*(y2-y1),l>",subLayout:"<y,y+0.5*h><y+0.5*h,y+h>"},{value:"",label:"",layout:"<0,l/3)><l/3,2*l/3><2*l/3,l>",subLayout:"<y,x+0.33*h><y+0.33*h,y+0.66h><y+0.66h,y+h>"},{value:"",label:"",layout:"",subLayout:""}]);const setTool=n=>{tool.value=n},setBackgroundType=n=>{background$1.type=n},setBackgroundColor=n=>{background$1.color=n},setGridType=n=>{grid.type=n},setGridPrecision=n=>{grid.precision=n},setCanvas=n=>{canvas.value=n},loading=ref(!1),loaded$1=ref(0),total$1=ref(100),gridChanged=ref(!1);function _isPlaceholder(n){return n!=null&&typeof n=="object"&&n["@@functional/placeholder"]===!0}function _curry1(n){return function e(r){return arguments.length===0||_isPlaceholder(r)?e:n.apply(this,arguments)}}function _cloneRegExp(n){return new RegExp(n.source,(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.sticky?"y":"")+(n.unicode?"u":""))}var type=_curry1(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function _clone(n,e,r,g){var y=function($){for(var V=e.length,L=0;L<V;){if(n===e[L])return r[L];L+=1}e[L]=n,r[L]=$;for(var z in n)n.hasOwnProperty(z)&&($[z]=g?_clone(n[z],e,r,!0):n[z]);return $};switch(type(n)){case"Object":return y(Object.create(Object.getPrototypeOf(n)));case"Array":return y([]);case"Date":return new Date(n.valueOf());case"RegExp":return _cloneRegExp(n);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return n.slice();default:return n}}var clone$1=_curry1(function(e){return e!=null&&typeof e.clone=="function"?e.clone():_clone(e,[],[],!0)}),commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function g(){return this instanceof g?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(g){var y=Object.getOwnPropertyDescriptor(n,g);Object.defineProperty(r,g,y.get?y:{enumerable:!0,get:function(){return n[g]}})}),r}function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,e){(function(r){n.exports=r()})(function(){return function r(g,y,k){function $(z,j){if(!y[z]){if(!g[z]){var re=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&re)return re(z,!0);if(V)return V(z,!0);var oe=new Error("Cannot find module '"+z+"'");throw oe.code="MODULE_NOT_FOUND",oe}var ae=y[z]={exports:{}};g[z][0].call(ae.exports,function(de){var ue=g[z][1][de];return $(ue||de)},ae,ae.exports,r,g,y,k)}return y[z].exports}for(var V=typeof commonjsRequire=="function"&&commonjsRequire,L=0;L<k.length;L++)$(k[L]);return $}({1:[function(r,g,y){(function(k){var $=k.MutationObserver||k.WebKitMutationObserver,V;if($){var L=0,z=new $(de),j=k.document.createTextNode("");z.observe(j,{characterData:!0}),V=function(){j.data=L=++L%2}}else if(!k.setImmediate&&typeof k.MessageChannel<"u"){var re=new k.MessageChannel;re.port1.onmessage=de,V=function(){re.port2.postMessage(0)}}else"document"in k&&"onreadystatechange"in k.document.createElement("script")?V=function(){var pe=k.document.createElement("script");pe.onreadystatechange=function(){de(),pe.onreadystatechange=null,pe.parentNode.removeChild(pe),pe=null},k.document.documentElement.appendChild(pe)}:V=function(){setTimeout(de,0)};var oe,ae=[];function de(){oe=!0;for(var pe,he,Oe=ae.length;Oe;){for(he=ae,ae=[],pe=-1;++pe<Oe;)he[pe]();Oe=ae.length}oe=!1}g.exports=ue;function ue(pe){ae.push(pe)===1&&!oe&&V()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,g,y){var k=r(1);function $(){}var V={},L=["REJECTED"],z=["FULFILLED"],j=["PENDING"];g.exports=re;function re(Ne){if(typeof Ne!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,Ne!==$&&ue(this,Ne)}re.prototype.catch=function(Ne){return this.then(null,Ne)},re.prototype.then=function(Ne,Ce){if(typeof Ne!="function"&&this.state===z||typeof Ce!="function"&&this.state===L)return this;var Fe=new this.constructor($);if(this.state!==j){var ze=this.state===z?Ne:Ce;ae(Fe,ze,this.outcome)}else this.queue.push(new oe(Fe,Ne,Ce));return Fe};function oe(Ne,Ce,Fe){this.promise=Ne,typeof Ce=="function"&&(this.onFulfilled=Ce,this.callFulfilled=this.otherCallFulfilled),typeof Fe=="function"&&(this.onRejected=Fe,this.callRejected=this.otherCallRejected)}oe.prototype.callFulfilled=function(Ne){V.resolve(this.promise,Ne)},oe.prototype.otherCallFulfilled=function(Ne){ae(this.promise,this.onFulfilled,Ne)},oe.prototype.callRejected=function(Ne){V.reject(this.promise,Ne)},oe.prototype.otherCallRejected=function(Ne){ae(this.promise,this.onRejected,Ne)};function ae(Ne,Ce,Fe){k(function(){var ze;try{ze=Ce(Fe)}catch(kt){return V.reject(Ne,kt)}ze===Ne?V.reject(Ne,new TypeError("Cannot resolve promise with itself")):V.resolve(Ne,ze)})}V.resolve=function(Ne,Ce){var Fe=pe(de,Ce);if(Fe.status==="error")return V.reject(Ne,Fe.value);var ze=Fe.value;if(ze)ue(Ne,ze);else{Ne.state=z,Ne.outcome=Ce;for(var kt=-1,At=Ne.queue.length;++kt<At;)Ne.queue[kt].callFulfilled(Ce)}return Ne},V.reject=function(Ne,Ce){Ne.state=L,Ne.outcome=Ce;for(var Fe=-1,ze=Ne.queue.length;++Fe<ze;)Ne.queue[Fe].callRejected(Ce);return Ne};function de(Ne){var Ce=Ne&&Ne.then;if(Ne&&(typeof Ne=="object"||typeof Ne=="function")&&typeof Ce=="function")return function(){Ce.apply(Ne,arguments)}}function ue(Ne,Ce){var Fe=!1;function ze(Dt){Fe||(Fe=!0,V.reject(Ne,Dt))}function kt(Dt){Fe||(Fe=!0,V.resolve(Ne,Dt))}function At(){Ce(kt,ze)}var Cn=pe(At);Cn.status==="error"&&ze(Cn.value)}function pe(Ne,Ce){var Fe={};try{Fe.value=Ne(Ce),Fe.status="success"}catch(ze){Fe.status="error",Fe.value=ze}return Fe}re.resolve=he;function he(Ne){return Ne instanceof this?Ne:V.resolve(new this($),Ne)}re.reject=Oe;function Oe(Ne){var Ce=new this($);return V.reject(Ce,Ne)}re.all=xe;function xe(Ne){var Ce=this;if(Object.prototype.toString.call(Ne)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Fe=Ne.length,ze=!1;if(!Fe)return this.resolve([]);for(var kt=new Array(Fe),At=0,Cn=-1,Dt=new this($);++Cn<Fe;)On(Ne[Cn],Cn);return Dt;function On(jt,An){Ce.resolve(jt).then(Mn,function($n){ze||(ze=!0,V.reject(Dt,$n))});function Mn($n){kt[An]=$n,++At===Fe&&!ze&&(ze=!0,V.resolve(Dt,kt))}}}re.race=$e;function $e(Ne){var Ce=this;if(Object.prototype.toString.call(Ne)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Fe=Ne.length,ze=!1;if(!Fe)return this.resolve([]);for(var kt=-1,At=new this($);++kt<Fe;)Cn(Ne[kt]);return At;function Cn(Dt){Ce.resolve(Dt).then(function(On){ze||(ze=!0,V.resolve(At,On))},function(On){ze||(ze=!0,V.reject(At,On))})}}},{1:1}],3:[function(r,g,y){(function(k){typeof k.Promise!="function"&&(k.Promise=r(2))}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,g,y){var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dr){return typeof dr}:function(dr){return dr&&typeof Symbol=="function"&&dr.constructor===Symbol&&dr!==Symbol.prototype?"symbol":typeof dr};function $(dr,Or){if(!(dr instanceof Or))throw new TypeError("Cannot call a class as a function")}function V(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var L=V();function z(){try{if(!L||!L.open)return!1;var dr=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Or=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!dr||Or)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function j(dr,Or){dr=dr||[],Or=Or||{};try{return new Blob(dr,Or)}catch($r){if($r.name!=="TypeError")throw $r;for(var yr=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Tr=new yr,Ir=0;Ir<dr.length;Ir+=1)Tr.append(dr[Ir]);return Tr.getBlob(Or.type)}}typeof Promise>"u"&&r(3);var re=Promise;function oe(dr,Or){Or&&dr.then(function(yr){Or(null,yr)},function(yr){Or(yr)})}function ae(dr,Or,yr){typeof Or=="function"&&dr.then(Or),typeof yr=="function"&&dr.catch(yr)}function de(dr){return typeof dr!="string"&&(console.warn(dr+" used as a key, but it is not a string."),dr=String(dr)),dr}function ue(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var pe="local-forage-detect-blob-support",he=void 0,Oe={},xe=Object.prototype.toString,$e="readonly",Ne="readwrite";function Ce(dr){for(var Or=dr.length,yr=new ArrayBuffer(Or),Tr=new Uint8Array(yr),Ir=0;Ir<Or;Ir++)Tr[Ir]=dr.charCodeAt(Ir);return yr}function Fe(dr){return new re(function(Or){var yr=dr.transaction(pe,Ne),Tr=j([""]);yr.objectStore(pe).put(Tr,"key"),yr.onabort=function(Ir){Ir.preventDefault(),Ir.stopPropagation(),Or(!1)},yr.oncomplete=function(){var Ir=navigator.userAgent.match(/Chrome\/(\d+)/),$r=navigator.userAgent.match(/Edge\//);Or($r||!Ir||parseInt(Ir[1],10)>=43)}}).catch(function(){return!1})}function ze(dr){return typeof he=="boolean"?re.resolve(he):Fe(dr).then(function(Or){return he=Or,he})}function kt(dr){var Or=Oe[dr.name],yr={};yr.promise=new re(function(Tr,Ir){yr.resolve=Tr,yr.reject=Ir}),Or.deferredOperations.push(yr),Or.dbReady?Or.dbReady=Or.dbReady.then(function(){return yr.promise}):Or.dbReady=yr.promise}function At(dr){var Or=Oe[dr.name],yr=Or.deferredOperations.pop();if(yr)return yr.resolve(),yr.promise}function Cn(dr,Or){var yr=Oe[dr.name],Tr=yr.deferredOperations.pop();if(Tr)return Tr.reject(Or),Tr.promise}function Dt(dr,Or){return new re(function(yr,Tr){if(Oe[dr.name]=Oe[dr.name]||Pn(),dr.db)if(Or)kt(dr),dr.db.close();else return yr(dr.db);var Ir=[dr.name];Or&&Ir.push(dr.version);var $r=L.open.apply(L,Ir);Or&&($r.onupgradeneeded=function(Mr){var zr=$r.result;try{zr.createObjectStore(dr.storeName),Mr.oldVersion<=1&&zr.createObjectStore(pe)}catch(Gr){if(Gr.name==="ConstraintError")console.warn('The database "'+dr.name+'" has been upgraded from version '+Mr.oldVersion+" to version "+Mr.newVersion+', but the storage "'+dr.storeName+'" already exists.');else throw Gr}}),$r.onerror=function(Mr){Mr.preventDefault(),Tr($r.error)},$r.onsuccess=function(){var Mr=$r.result;Mr.onversionchange=function(zr){zr.target.close()},yr(Mr),At(dr)}})}function On(dr){return Dt(dr,!1)}function jt(dr){return Dt(dr,!0)}function An(dr,Or){if(!dr.db)return!0;var yr=!dr.db.objectStoreNames.contains(dr.storeName),Tr=dr.version<dr.db.version,Ir=dr.version>dr.db.version;if(Tr&&(dr.version!==Or&&console.warn('The database "'+dr.name+`" can't be downgraded from version `+dr.db.version+" to version "+dr.version+"."),dr.version=dr.db.version),Ir||yr){if(yr){var $r=dr.db.version+1;$r>dr.version&&(dr.version=$r)}return!0}return!1}function Mn(dr){return new re(function(Or,yr){var Tr=new FileReader;Tr.onerror=yr,Tr.onloadend=function(Ir){var $r=btoa(Ir.target.result||"");Or({__local_forage_encoded_blob:!0,data:$r,type:dr.type})},Tr.readAsBinaryString(dr)})}function $n(dr){var Or=Ce(atob(dr.data));return j([Or],{type:dr.type})}function Ln(dr){return dr&&dr.__local_forage_encoded_blob}function Tn(dr){var Or=this,yr=Or._initReady().then(function(){var Tr=Oe[Or._dbInfo.name];if(Tr&&Tr.dbReady)return Tr.dbReady});return ae(yr,dr,dr),yr}function Zn(dr){kt(dr);for(var Or=Oe[dr.name],yr=Or.forages,Tr=0;Tr<yr.length;Tr++){var Ir=yr[Tr];Ir._dbInfo.db&&(Ir._dbInfo.db.close(),Ir._dbInfo.db=null)}return dr.db=null,On(dr).then(function($r){return dr.db=$r,An(dr)?jt(dr):$r}).then(function($r){dr.db=Or.db=$r;for(var Mr=0;Mr<yr.length;Mr++)yr[Mr]._dbInfo.db=$r}).catch(function($r){throw Cn(dr,$r),$r})}function Qn(dr,Or,yr,Tr){Tr===void 0&&(Tr=1);try{var Ir=dr.db.transaction(dr.storeName,Or);yr(null,Ir)}catch($r){if(Tr>0&&(!dr.db||$r.name==="InvalidStateError"||$r.name==="NotFoundError"))return re.resolve().then(function(){if(!dr.db||$r.name==="NotFoundError"&&!dr.db.objectStoreNames.contains(dr.storeName)&&dr.version<=dr.db.version)return dr.db&&(dr.version=dr.db.version+1),jt(dr)}).then(function(){return Zn(dr).then(function(){Qn(dr,Or,yr,Tr-1)})}).catch(yr);yr($r)}}function Pn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Wn(dr){var Or=this,yr={db:null};if(dr)for(var Tr in dr)yr[Tr]=dr[Tr];var Ir=Oe[yr.name];Ir||(Ir=Pn(),Oe[yr.name]=Ir),Ir.forages.push(Or),Or._initReady||(Or._initReady=Or.ready,Or.ready=Tn);var $r=[];function Mr(){return re.resolve()}for(var zr=0;zr<Ir.forages.length;zr++){var Gr=Ir.forages[zr];Gr!==Or&&$r.push(Gr._initReady().catch(Mr))}var Qr=Ir.forages.slice(0);return re.all($r).then(function(){return yr.db=Ir.db,On(yr)}).then(function(Wr){return yr.db=Wr,An(yr,Or._defaultConfig.version)?jt(yr):Wr}).then(function(Wr){yr.db=Ir.db=Wr,Or._dbInfo=yr;for(var no=0;no<Qr.length;no++){var uo=Qr[no];uo!==Or&&(uo._dbInfo.db=yr.db,uo._dbInfo.version=yr.version)}})}function ur(dr,Or){var yr=this;dr=de(dr);var Tr=new re(function(Ir,$r){yr.ready().then(function(){Qn(yr._dbInfo,$e,function(Mr,zr){if(Mr)return $r(Mr);try{var Gr=zr.objectStore(yr._dbInfo.storeName),Qr=Gr.get(dr);Qr.onsuccess=function(){var Wr=Qr.result;Wr===void 0&&(Wr=null),Ln(Wr)&&(Wr=$n(Wr)),Ir(Wr)},Qr.onerror=function(){$r(Qr.error)}}catch(Wr){$r(Wr)}})}).catch($r)});return oe(Tr,Or),Tr}function hr(dr,Or){var yr=this,Tr=new re(function(Ir,$r){yr.ready().then(function(){Qn(yr._dbInfo,$e,function(Mr,zr){if(Mr)return $r(Mr);try{var Gr=zr.objectStore(yr._dbInfo.storeName),Qr=Gr.openCursor(),Wr=1;Qr.onsuccess=function(){var no=Qr.result;if(no){var uo=no.value;Ln(uo)&&(uo=$n(uo));var to=dr(uo,no.key,Wr++);to!==void 0?Ir(to):no.continue()}else Ir()},Qr.onerror=function(){$r(Qr.error)}}catch(no){$r(no)}})}).catch($r)});return oe(Tr,Or),Tr}function Vn(dr,Or,yr){var Tr=this;dr=de(dr);var Ir=new re(function($r,Mr){var zr;Tr.ready().then(function(){return zr=Tr._dbInfo,xe.call(Or)==="[object Blob]"?ze(zr.db).then(function(Gr){return Gr?Or:Mn(Or)}):Or}).then(function(Gr){Qn(Tr._dbInfo,Ne,function(Qr,Wr){if(Qr)return Mr(Qr);try{var no=Wr.objectStore(Tr._dbInfo.storeName);Gr===null&&(Gr=void 0);var uo=no.put(Gr,dr);Wr.oncomplete=function(){Gr===void 0&&(Gr=null),$r(Gr)},Wr.onabort=Wr.onerror=function(){var to=uo.error?uo.error:uo.transaction.error;Mr(to)}}catch(to){Mr(to)}})}).catch(Mr)});return oe(Ir,yr),Ir}function En(dr,Or){var yr=this;dr=de(dr);var Tr=new re(function(Ir,$r){yr.ready().then(function(){Qn(yr._dbInfo,Ne,function(Mr,zr){if(Mr)return $r(Mr);try{var Gr=zr.objectStore(yr._dbInfo.storeName),Qr=Gr.delete(dr);zr.oncomplete=function(){Ir()},zr.onerror=function(){$r(Qr.error)},zr.onabort=function(){var Wr=Qr.error?Qr.error:Qr.transaction.error;$r(Wr)}}catch(Wr){$r(Wr)}})}).catch($r)});return oe(Tr,Or),Tr}function jn(dr){var Or=this,yr=new re(function(Tr,Ir){Or.ready().then(function(){Qn(Or._dbInfo,Ne,function($r,Mr){if($r)return Ir($r);try{var zr=Mr.objectStore(Or._dbInfo.storeName),Gr=zr.clear();Mr.oncomplete=function(){Tr()},Mr.onabort=Mr.onerror=function(){var Qr=Gr.error?Gr.error:Gr.transaction.error;Ir(Qr)}}catch(Qr){Ir(Qr)}})}).catch(Ir)});return oe(yr,dr),yr}function cr(dr){var Or=this,yr=new re(function(Tr,Ir){Or.ready().then(function(){Qn(Or._dbInfo,$e,function($r,Mr){if($r)return Ir($r);try{var zr=Mr.objectStore(Or._dbInfo.storeName),Gr=zr.count();Gr.onsuccess=function(){Tr(Gr.result)},Gr.onerror=function(){Ir(Gr.error)}}catch(Qr){Ir(Qr)}})}).catch(Ir)});return oe(yr,dr),yr}function gr(dr,Or){var yr=this,Tr=new re(function(Ir,$r){if(dr<0){Ir(null);return}yr.ready().then(function(){Qn(yr._dbInfo,$e,function(Mr,zr){if(Mr)return $r(Mr);try{var Gr=zr.objectStore(yr._dbInfo.storeName),Qr=!1,Wr=Gr.openKeyCursor();Wr.onsuccess=function(){var no=Wr.result;if(!no){Ir(null);return}dr===0||Qr?Ir(no.key):(Qr=!0,no.advance(dr))},Wr.onerror=function(){$r(Wr.error)}}catch(no){$r(no)}})}).catch($r)});return oe(Tr,Or),Tr}function Cr(dr){var Or=this,yr=new re(function(Tr,Ir){Or.ready().then(function(){Qn(Or._dbInfo,$e,function($r,Mr){if($r)return Ir($r);try{var zr=Mr.objectStore(Or._dbInfo.storeName),Gr=zr.openKeyCursor(),Qr=[];Gr.onsuccess=function(){var Wr=Gr.result;if(!Wr){Tr(Qr);return}Qr.push(Wr.key),Wr.continue()},Gr.onerror=function(){Ir(Gr.error)}}catch(Wr){Ir(Wr)}})}).catch(Ir)});return oe(yr,dr),yr}function ir(dr,Or){Or=ue.apply(this,arguments);var yr=this.config();dr=typeof dr!="function"&&dr||{},dr.name||(dr.name=dr.name||yr.name,dr.storeName=dr.storeName||yr.storeName);var Tr=this,Ir;if(!dr.name)Ir=re.reject("Invalid arguments");else{var $r=dr.name===yr.name&&Tr._dbInfo.db,Mr=$r?re.resolve(Tr._dbInfo.db):On(dr).then(function(zr){var Gr=Oe[dr.name],Qr=Gr.forages;Gr.db=zr;for(var Wr=0;Wr<Qr.length;Wr++)Qr[Wr]._dbInfo.db=zr;return zr});dr.storeName?Ir=Mr.then(function(zr){if(zr.objectStoreNames.contains(dr.storeName)){var Gr=zr.version+1;kt(dr);var Qr=Oe[dr.name],Wr=Qr.forages;zr.close();for(var no=0;no<Wr.length;no++){var uo=Wr[no];uo._dbInfo.db=null,uo._dbInfo.version=Gr}var to=new re(function(vo,Oo){var wo=L.open(dr.name,Gr);wo.onerror=function(No){var Ro=wo.result;Ro.close(),Oo(No)},wo.onupgradeneeded=function(){var No=wo.result;No.deleteObjectStore(dr.storeName)},wo.onsuccess=function(){var No=wo.result;No.close(),vo(No)}});return to.then(function(vo){Qr.db=vo;for(var Oo=0;Oo<Wr.length;Oo++){var wo=Wr[Oo];wo._dbInfo.db=vo,At(wo._dbInfo)}}).catch(function(vo){throw(Cn(dr,vo)||re.resolve()).catch(function(){}),vo})}}):Ir=Mr.then(function(zr){kt(dr);var Gr=Oe[dr.name],Qr=Gr.forages;zr.close();for(var Wr=0;Wr<Qr.length;Wr++){var no=Qr[Wr];no._dbInfo.db=null}var uo=new re(function(to,vo){var Oo=L.deleteDatabase(dr.name);Oo.onerror=function(){var wo=Oo.result;wo&&wo.close(),vo(Oo.error)},Oo.onblocked=function(){console.warn('dropInstance blocked for database "'+dr.name+'" until all open connections are closed')},Oo.onsuccess=function(){var wo=Oo.result;wo&&wo.close(),to(wo)}});return uo.then(function(to){Gr.db=to;for(var vo=0;vo<Qr.length;vo++){var Oo=Qr[vo];At(Oo._dbInfo)}}).catch(function(to){throw(Cn(dr,to)||re.resolve()).catch(function(){}),to})})}return oe(Ir,Or),Ir}var Gn={_driver:"asyncStorage",_initStorage:Wn,_support:z(),iterate:hr,getItem:ur,setItem:Vn,removeItem:En,clear:jn,length:cr,key:gr,keys:Cr,dropInstance:ir};function hn(){return typeof openDatabase=="function"}var Kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nn="~~local_forage_type~",Lt=/^~~local_forage_type~([^~]+)~/,_n="__lfsc__:",Bn=_n.length,Xn="arbf",rr="blob",ar="si08",sr="ui08",mr="uic8",lr="si16",le="si32",_e="ur16",Ie="ui32",Ue="fl32",qe="fl64",Et=Bn+Xn.length,vn=Object.prototype.toString;function Pt(dr){var Or=dr.length*.75,yr=dr.length,Tr,Ir=0,$r,Mr,zr,Gr;dr[dr.length-1]==="="&&(Or--,dr[dr.length-2]==="="&&Or--);var Qr=new ArrayBuffer(Or),Wr=new Uint8Array(Qr);for(Tr=0;Tr<yr;Tr+=4)$r=Kn.indexOf(dr[Tr]),Mr=Kn.indexOf(dr[Tr+1]),zr=Kn.indexOf(dr[Tr+2]),Gr=Kn.indexOf(dr[Tr+3]),Wr[Ir++]=$r<<2|Mr>>4,Wr[Ir++]=(Mr&15)<<4|zr>>2,Wr[Ir++]=(zr&3)<<6|Gr&63;return Qr}function wn(dr){var Or=new Uint8Array(dr),yr="",Tr;for(Tr=0;Tr<Or.length;Tr+=3)yr+=Kn[Or[Tr]>>2],yr+=Kn[(Or[Tr]&3)<<4|Or[Tr+1]>>4],yr+=Kn[(Or[Tr+1]&15)<<2|Or[Tr+2]>>6],yr+=Kn[Or[Tr+2]&63];return Or.length%3===2?yr=yr.substring(0,yr.length-1)+"=":Or.length%3===1&&(yr=yr.substring(0,yr.length-2)+"=="),yr}function bn(dr,Or){var yr="";if(dr&&(yr=vn.call(dr)),dr&&(yr==="[object ArrayBuffer]"||dr.buffer&&vn.call(dr.buffer)==="[object ArrayBuffer]")){var Tr,Ir=_n;dr instanceof ArrayBuffer?(Tr=dr,Ir+=Xn):(Tr=dr.buffer,yr==="[object Int8Array]"?Ir+=ar:yr==="[object Uint8Array]"?Ir+=sr:yr==="[object Uint8ClampedArray]"?Ir+=mr:yr==="[object Int16Array]"?Ir+=lr:yr==="[object Uint16Array]"?Ir+=_e:yr==="[object Int32Array]"?Ir+=le:yr==="[object Uint32Array]"?Ir+=Ie:yr==="[object Float32Array]"?Ir+=Ue:yr==="[object Float64Array]"?Ir+=qe:Or(new Error("Failed to get type for BinaryArray"))),Or(Ir+wn(Tr))}else if(yr==="[object Blob]"){var $r=new FileReader;$r.onload=function(){var Mr=Nn+dr.type+"~"+wn(this.result);Or(_n+rr+Mr)},$r.readAsArrayBuffer(dr)}else try{Or(JSON.stringify(dr))}catch(Mr){console.error("Couldn't convert value into a JSON string: ",dr),Or(null,Mr)}}function In(dr){if(dr.substring(0,Bn)!==_n)return JSON.parse(dr);var Or=dr.substring(Et),yr=dr.substring(Bn,Et),Tr;if(yr===rr&&Lt.test(Or)){var Ir=Or.match(Lt);Tr=Ir[1],Or=Or.substring(Ir[0].length)}var $r=Pt(Or);switch(yr){case Xn:return $r;case rr:return j([$r],{type:Tr});case ar:return new Int8Array($r);case sr:return new Uint8Array($r);case mr:return new Uint8ClampedArray($r);case lr:return new Int16Array($r);case _e:return new Uint16Array($r);case le:return new Int32Array($r);case Ie:return new Uint32Array($r);case Ue:return new Float32Array($r);case qe:return new Float64Array($r);default:throw new Error("Unkown type: "+yr)}}var Fn={serialize:bn,deserialize:In,stringToBuffer:Pt,bufferToString:wn};function Dn(dr,Or,yr,Tr){dr.executeSql("CREATE TABLE IF NOT EXISTS "+Or.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],yr,Tr)}function Un(dr){var Or=this,yr={db:null};if(dr)for(var Tr in dr)yr[Tr]=typeof dr[Tr]!="string"?dr[Tr].toString():dr[Tr];var Ir=new re(function($r,Mr){try{yr.db=openDatabase(yr.name,String(yr.version),yr.description,yr.size)}catch(zr){return Mr(zr)}yr.db.transaction(function(zr){Dn(zr,yr,function(){Or._dbInfo=yr,$r()},function(Gr,Qr){Mr(Qr)})},Mr)});return yr.serializer=Fn,Ir}function Jn(dr,Or,yr,Tr,Ir,$r){dr.executeSql(yr,Tr,Ir,function(Mr,zr){zr.code===zr.SYNTAX_ERR?Mr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Or.storeName],function(Gr,Qr){Qr.rows.length?$r(Gr,zr):Dn(Gr,Or,function(){Gr.executeSql(yr,Tr,Ir,$r)},$r)},$r):$r(Mr,zr)},$r)}function Hn(dr,Or){var yr=this;dr=de(dr);var Tr=new re(function(Ir,$r){yr.ready().then(function(){var Mr=yr._dbInfo;Mr.db.transaction(function(zr){Jn(zr,Mr,"SELECT * FROM "+Mr.storeName+" WHERE key = ? LIMIT 1",[dr],function(Gr,Qr){var Wr=Qr.rows.length?Qr.rows.item(0).value:null;Wr&&(Wr=Mr.serializer.deserialize(Wr)),Ir(Wr)},function(Gr,Qr){$r(Qr)})})}).catch($r)});return oe(Tr,Or),Tr}function tr(dr,Or){var yr=this,Tr=new re(function(Ir,$r){yr.ready().then(function(){var Mr=yr._dbInfo;Mr.db.transaction(function(zr){Jn(zr,Mr,"SELECT * FROM "+Mr.storeName,[],function(Gr,Qr){for(var Wr=Qr.rows,no=Wr.length,uo=0;uo<no;uo++){var to=Wr.item(uo),vo=to.value;if(vo&&(vo=Mr.serializer.deserialize(vo)),vo=dr(vo,to.key,uo+1),vo!==void 0){Ir(vo);return}}Ir()},function(Gr,Qr){$r(Qr)})})}).catch($r)});return oe(Tr,Or),Tr}function kn(dr,Or,yr,Tr){var Ir=this;dr=de(dr);var $r=new re(function(Mr,zr){Ir.ready().then(function(){Or===void 0&&(Or=null);var Gr=Or,Qr=Ir._dbInfo;Qr.serializer.serialize(Or,function(Wr,no){no?zr(no):Qr.db.transaction(function(uo){Jn(uo,Qr,"INSERT OR REPLACE INTO "+Qr.storeName+" (key, value) VALUES (?, ?)",[dr,Wr],function(){Mr(Gr)},function(to,vo){zr(vo)})},function(uo){if(uo.code===uo.QUOTA_ERR){if(Tr>0){Mr(kn.apply(Ir,[dr,Gr,yr,Tr-1]));return}zr(uo)}})})}).catch(zr)});return oe($r,yr),$r}function zn(dr,Or,yr){return kn.apply(this,[dr,Or,yr,1])}function xn(dr,Or){var yr=this;dr=de(dr);var Tr=new re(function(Ir,$r){yr.ready().then(function(){var Mr=yr._dbInfo;Mr.db.transaction(function(zr){Jn(zr,Mr,"DELETE FROM "+Mr.storeName+" WHERE key = ?",[dr],function(){Ir()},function(Gr,Qr){$r(Qr)})})}).catch($r)});return oe(Tr,Or),Tr}function Rn(dr){var Or=this,yr=new re(function(Tr,Ir){Or.ready().then(function(){var $r=Or._dbInfo;$r.db.transaction(function(Mr){Jn(Mr,$r,"DELETE FROM "+$r.storeName,[],function(){Tr()},function(zr,Gr){Ir(Gr)})})}).catch(Ir)});return oe(yr,dr),yr}function qn(dr){var Or=this,yr=new re(function(Tr,Ir){Or.ready().then(function(){var $r=Or._dbInfo;$r.db.transaction(function(Mr){Jn(Mr,$r,"SELECT COUNT(key) as c FROM "+$r.storeName,[],function(zr,Gr){var Qr=Gr.rows.item(0).c;Tr(Qr)},function(zr,Gr){Ir(Gr)})})}).catch(Ir)});return oe(yr,dr),yr}function nr(dr,Or){var yr=this,Tr=new re(function(Ir,$r){yr.ready().then(function(){var Mr=yr._dbInfo;Mr.db.transaction(function(zr){Jn(zr,Mr,"SELECT key FROM "+Mr.storeName+" WHERE id = ? LIMIT 1",[dr+1],function(Gr,Qr){var Wr=Qr.rows.length?Qr.rows.item(0).key:null;Ir(Wr)},function(Gr,Qr){$r(Qr)})})}).catch($r)});return oe(Tr,Or),Tr}function er(dr){var Or=this,yr=new re(function(Tr,Ir){Or.ready().then(function(){var $r=Or._dbInfo;$r.db.transaction(function(Mr){Jn(Mr,$r,"SELECT key FROM "+$r.storeName,[],function(zr,Gr){for(var Qr=[],Wr=0;Wr<Gr.rows.length;Wr++)Qr.push(Gr.rows.item(Wr).key);Tr(Qr)},function(zr,Gr){Ir(Gr)})})}).catch(Ir)});return oe(yr,dr),yr}function fr(dr){return new re(function(Or,yr){dr.transaction(function(Tr){Tr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ir,$r){for(var Mr=[],zr=0;zr<$r.rows.length;zr++)Mr.push($r.rows.item(zr).name);Or({db:dr,storeNames:Mr})},function(Ir,$r){yr($r)})},function(Tr){yr(Tr)})})}function pr(dr,Or){Or=ue.apply(this,arguments);var yr=this.config();dr=typeof dr!="function"&&dr||{},dr.name||(dr.name=dr.name||yr.name,dr.storeName=dr.storeName||yr.storeName);var Tr=this,Ir;return dr.name?Ir=new re(function($r){var Mr;dr.name===yr.name?Mr=Tr._dbInfo.db:Mr=openDatabase(dr.name,"","",0),dr.storeName?$r({db:Mr,storeNames:[dr.storeName]}):$r(fr(Mr))}).then(function($r){return new re(function(Mr,zr){$r.db.transaction(function(Gr){function Qr(to){return new re(function(vo,Oo){Gr.executeSql("DROP TABLE IF EXISTS "+to,[],function(){vo()},function(wo,No){Oo(No)})})}for(var Wr=[],no=0,uo=$r.storeNames.length;no<uo;no++)Wr.push(Qr($r.storeNames[no]));re.all(Wr).then(function(){Mr()}).catch(function(to){zr(to)})},function(Gr){zr(Gr)})})}):Ir=re.reject("Invalid arguments"),oe(Ir,Or),Ir}var _r={_driver:"webSQLStorage",_initStorage:Un,_support:hn(),iterate:tr,getItem:Hn,setItem:zn,removeItem:xn,clear:Rn,length:qn,key:nr,keys:er,dropInstance:pr};function xr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function vr(dr,Or){var yr=dr.name+"/";return dr.storeName!==Or.storeName&&(yr+=dr.storeName+"/"),yr}function Sr(){var dr="_localforage_support_test";try{return localStorage.setItem(dr,!0),localStorage.removeItem(dr),!1}catch{return!0}}function kr(){return!Sr()||localStorage.length>0}function Nr(dr){var Or=this,yr={};if(dr)for(var Tr in dr)yr[Tr]=dr[Tr];return yr.keyPrefix=vr(dr,Or._defaultConfig),kr()?(Or._dbInfo=yr,yr.serializer=Fn,re.resolve()):re.reject()}function Pr(dr){var Or=this,yr=Or.ready().then(function(){for(var Tr=Or._dbInfo.keyPrefix,Ir=localStorage.length-1;Ir>=0;Ir--){var $r=localStorage.key(Ir);$r.indexOf(Tr)===0&&localStorage.removeItem($r)}});return oe(yr,dr),yr}function Ar(dr,Or){var yr=this;dr=de(dr);var Tr=yr.ready().then(function(){var Ir=yr._dbInfo,$r=localStorage.getItem(Ir.keyPrefix+dr);return $r&&($r=Ir.serializer.deserialize($r)),$r});return oe(Tr,Or),Tr}function Ur(dr,Or){var yr=this,Tr=yr.ready().then(function(){for(var Ir=yr._dbInfo,$r=Ir.keyPrefix,Mr=$r.length,zr=localStorage.length,Gr=1,Qr=0;Qr<zr;Qr++){var Wr=localStorage.key(Qr);if(Wr.indexOf($r)===0){var no=localStorage.getItem(Wr);if(no&&(no=Ir.serializer.deserialize(no)),no=dr(no,Wr.substring(Mr),Gr++),no!==void 0)return no}}});return oe(Tr,Or),Tr}function jr(dr,Or){var yr=this,Tr=yr.ready().then(function(){var Ir=yr._dbInfo,$r;try{$r=localStorage.key(dr)}catch{$r=null}return $r&&($r=$r.substring(Ir.keyPrefix.length)),$r});return oe(Tr,Or),Tr}function Hr(dr){var Or=this,yr=Or.ready().then(function(){for(var Tr=Or._dbInfo,Ir=localStorage.length,$r=[],Mr=0;Mr<Ir;Mr++){var zr=localStorage.key(Mr);zr.indexOf(Tr.keyPrefix)===0&&$r.push(zr.substring(Tr.keyPrefix.length))}return $r});return oe(yr,dr),yr}function Kr(dr){var Or=this,yr=Or.keys().then(function(Tr){return Tr.length});return oe(yr,dr),yr}function Rr(dr,Or){var yr=this;dr=de(dr);var Tr=yr.ready().then(function(){var Ir=yr._dbInfo;localStorage.removeItem(Ir.keyPrefix+dr)});return oe(Tr,Or),Tr}function Lr(dr,Or,yr){var Tr=this;dr=de(dr);var Ir=Tr.ready().then(function(){Or===void 0&&(Or=null);var $r=Or;return new re(function(Mr,zr){var Gr=Tr._dbInfo;Gr.serializer.serialize(Or,function(Qr,Wr){if(Wr)zr(Wr);else try{localStorage.setItem(Gr.keyPrefix+dr,Qr),Mr($r)}catch(no){(no.name==="QuotaExceededError"||no.name==="NS_ERROR_DOM_QUOTA_REACHED")&&zr(no),zr(no)}})})});return oe(Ir,yr),Ir}function Yr(dr,Or){if(Or=ue.apply(this,arguments),dr=typeof dr!="function"&&dr||{},!dr.name){var yr=this.config();dr.name=dr.name||yr.name,dr.storeName=dr.storeName||yr.storeName}var Tr=this,Ir;return dr.name?Ir=new re(function($r){dr.storeName?$r(vr(dr,Tr._defaultConfig)):$r(dr.name+"/")}).then(function($r){for(var Mr=localStorage.length-1;Mr>=0;Mr--){var zr=localStorage.key(Mr);zr.indexOf($r)===0&&localStorage.removeItem(zr)}}):Ir=re.reject("Invalid arguments"),oe(Ir,Or),Ir}var eo={_driver:"localStorageWrapper",_initStorage:Nr,_support:xr(),iterate:Ur,getItem:Ar,setItem:Lr,removeItem:Rr,clear:Pr,length:Kr,key:jr,keys:Hr,dropInstance:Yr},Jr=function(Or,yr){return Or===yr||typeof Or=="number"&&typeof yr=="number"&&isNaN(Or)&&isNaN(yr)},oo=function(Or,yr){for(var Tr=Or.length,Ir=0;Ir<Tr;){if(Jr(Or[Ir],yr))return!0;Ir++}return!1},ro=Array.isArray||function(dr){return Object.prototype.toString.call(dr)==="[object Array]"},ao={},lo={},io={INDEXEDDB:Gn,WEBSQL:_r,LOCALSTORAGE:eo},Xr=[io.INDEXEDDB._driver,io.WEBSQL._driver,io.LOCALSTORAGE._driver],yo=["dropInstance"],ko=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(yo),xo={description:"",driver:Xr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function _o(dr,Or){dr[Or]=function(){var yr=arguments;return dr.ready().then(function(){return dr[Or].apply(dr,yr)})}}function So(){for(var dr=1;dr<arguments.length;dr++){var Or=arguments[dr];if(Or)for(var yr in Or)Or.hasOwnProperty(yr)&&(ro(Or[yr])?arguments[0][yr]=Or[yr].slice():arguments[0][yr]=Or[yr])}return arguments[0]}var Io=function(){function dr(Or){$(this,dr);for(var yr in io)if(io.hasOwnProperty(yr)){var Tr=io[yr],Ir=Tr._driver;this[yr]=Ir,ao[Ir]||this.defineDriver(Tr)}this._defaultConfig=So({},xo),this._config=So({},this._defaultConfig,Or),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return dr.prototype.config=function(yr){if((typeof yr>"u"?"undefined":k(yr))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Tr in yr){if(Tr==="storeName"&&(yr[Tr]=yr[Tr].replace(/\W/g,"_")),Tr==="version"&&typeof yr[Tr]!="number")return new Error("Database version must be a number.");this._config[Tr]=yr[Tr]}return"driver"in yr&&yr.driver?this.setDriver(this._config.driver):!0}else return typeof yr=="string"?this._config[yr]:this._config},dr.prototype.defineDriver=function(yr,Tr,Ir){var $r=new re(function(Mr,zr){try{var Gr=yr._driver,Qr=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!yr._driver){zr(Qr);return}for(var Wr=ko.concat("_initStorage"),no=0,uo=Wr.length;no<uo;no++){var to=Wr[no],vo=!oo(yo,to);if((vo||yr[to])&&typeof yr[to]!="function"){zr(Qr);return}}var Oo=function(){for(var Ro=function(Yn){return function(){var or=new Error("Method "+Yn+" is not implemented by the current driver"),br=re.reject(or);return oe(br,arguments[arguments.length-1]),br}},Lo=0,Mo=yo.length;Lo<Mo;Lo++){var Ve=yo[Lo];yr[Ve]||(yr[Ve]=Ro(Ve))}};Oo();var wo=function(Ro){ao[Gr]&&console.info("Redefining LocalForage driver: "+Gr),ao[Gr]=yr,lo[Gr]=Ro,Mr()};"_support"in yr?yr._support&&typeof yr._support=="function"?yr._support().then(wo,zr):wo(!!yr._support):wo(!0)}catch(No){zr(No)}});return ae($r,Tr,Ir),$r},dr.prototype.driver=function(){return this._driver||null},dr.prototype.getDriver=function(yr,Tr,Ir){var $r=ao[yr]?re.resolve(ao[yr]):re.reject(new Error("Driver not found."));return ae($r,Tr,Ir),$r},dr.prototype.getSerializer=function(yr){var Tr=re.resolve(Fn);return ae(Tr,yr),Tr},dr.prototype.ready=function(yr){var Tr=this,Ir=Tr._driverSet.then(function(){return Tr._ready===null&&(Tr._ready=Tr._initDriver()),Tr._ready});return ae(Ir,yr,yr),Ir},dr.prototype.setDriver=function(yr,Tr,Ir){var $r=this;ro(yr)||(yr=[yr]);var Mr=this._getSupportedDrivers(yr);function zr(){$r._config.driver=$r.driver()}function Gr(no){return $r._extend(no),zr(),$r._ready=$r._initStorage($r._config),$r._ready}function Qr(no){return function(){var uo=0;function to(){for(;uo<no.length;){var vo=no[uo];return uo++,$r._dbInfo=null,$r._ready=null,$r.getDriver(vo).then(Gr).catch(to)}zr();var Oo=new Error("No available storage method found.");return $r._driverSet=re.reject(Oo),$r._driverSet}return to()}}var Wr=this._driverSet!==null?this._driverSet.catch(function(){return re.resolve()}):re.resolve();return this._driverSet=Wr.then(function(){var no=Mr[0];return $r._dbInfo=null,$r._ready=null,$r.getDriver(no).then(function(uo){$r._driver=uo._driver,zr(),$r._wrapLibraryMethodsWithReady(),$r._initDriver=Qr(Mr)})}).catch(function(){zr();var no=new Error("No available storage method found.");return $r._driverSet=re.reject(no),$r._driverSet}),ae(this._driverSet,Tr,Ir),this._driverSet},dr.prototype.supports=function(yr){return!!lo[yr]},dr.prototype._extend=function(yr){So(this,yr)},dr.prototype._getSupportedDrivers=function(yr){for(var Tr=[],Ir=0,$r=yr.length;Ir<$r;Ir++){var Mr=yr[Ir];this.supports(Mr)&&Tr.push(Mr)}return Tr},dr.prototype._wrapLibraryMethodsWithReady=function(){for(var yr=0,Tr=ko.length;yr<Tr;yr++)_o(this,ko[yr])},dr.prototype.createInstance=function(yr){return new dr(yr)},dr}(),Eo=new Io;g.exports=Eo},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports;const localForage=getDefaultExportFromCjs(localforageExports),isNearPoint=(n,e,r,g,y)=>distance$2(n,e,r,g)<=y,distance$2=(n,e,r,g)=>Math.sqrt((g-e)*(g-e)+(r-n)*(r-n)),leftTop=(n,e,r,g,y)=>distance$2(n,e,r,g)>4*y||distance$2(n,e,r,g)<2*y?!1:n<r&&e<g,leftBottom=(n,e,r,g,y)=>distance$2(n,e,r,g)>4*y||distance$2(n,e,r,g)<2*y?!1:n<r&&e>g,rightTop=(n,e,r,g,y)=>distance$2(n,e,r,g)>4*y||distance$2(n,e,r,g)<2*y?!1:n>r&&e<g,rightBottom=(n,e,r,g,y)=>distance$2(n,e,r,g)>4*y||distance$2(n,e,r,g)<2*y?!1:n>r&&e>g,angleBetween=(n,e)=>{const r=Math.atan(n.y/n.x),g=Math.atan(e.y/e.x);return Math.round((r-g)*180/Math.PI)},getBound$4=n=>{let e=1/0,r=1/0,g=-1/0,y=-1/0;for(let k=0;k<n.length;k++)n[k].x<e&&(e=n[k].x),n[k].x>g&&(g=n[k].x),n[k].y<r&&(r=n[k].y),n[k].y>y&&(y=n[k].y);return{x:e,y:r,w:g-e,h:y-r}},rotatePoint=(n,e,r)=>{const g=r*Math.PI/180;return{x:e.x+(n.x-e.x)*Math.cos(g)-(n.y-e.y)*Math.sin(g),y:e.y+(n.x-e.x)*Math.sin(g)+(n.y-e.y)*Math.cos(g)}},inComponentBound=(n,e,r=0)=>{const{x:g,y,w:k,h:$,rotation:V}=e,{x:L,y:z}=rotatePoint({x:n.x,y:n.y},{x:e.x+e.w/2,y:e.y+e.h/2},-V);return L>=g-r&&L<=g+k+r&&z>=y-r&&z<=y+$+r},transformPoints=(n,e)=>{const{x:r,y:g,w:y,h:k}=getBound$4(n),{x:$,y:V,w:L,h:z,rotation:j,flipX:re,flipY:oe}=e;return n.map(de=>{let ue=clone$1(de);return re&&(ue.x=$+L/2+($+L/2-ue.x)),oe&&(ue.y=V+z/2+(V+z/2-ue.y)),ue=rotatePoint(ue,{x:r+y/2,y:g+k/2},j),ue={x:ue.x+($-r),y:ue.y+(V-g)},ue={x:$+(y?(ue.x-$)*L/y:0),y:V+(k?(ue.y-V)*z/k:0)},ue})},getEllipsePoints=(n,e,r=1e3,g=0,y=0)=>{const k=[],$=[];for(let V=0;V<r/2;V++){const L=-n+n*2/(r/2)*V,z=Math.sqrt((1-L*L/(n*n))*e*e);k.push({x:g+L,y:y+z}),$.push({x:g+L,y:y-z})}return k.concat($.reverse())},getRectanglePoints=(n,e,r,g)=>[{x:r,y:g},{x:r+n,y:g},{x:r+n,y:g+e},{x:r,y:g+e}];let nanoid=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const genUUID=()=>nanoid(),toUnicode=n=>n.charCodeAt(0).toString(16),toIconUnicode=n=>(41e3+n).toString(16);class ConstantsMap{constants;constructor(e){this.constants=e}update(e){this.constants=e}get(e){for(let r=0;r<this.constants.length;r++)if(this.constants[r].name===e)return this.constants[r].value}getByUUID(e){for(let r=0;r<this.constants.length;r++)if(this.constants[r].uuid===e)return this.constants[r].value}}ref(500);ref(500);ref(100);ref(100);reactive({img:null,left:240,right:320,top:155,bottom:290,delta:215,rotation:0});const picZoom=ref(100),step=ref(0),rThreshold=ref(128),gThreshold=ref(128),bThreshold=ref(128),localRThreshold=ref(128),localGThreshold=ref(128),localBThreshold=ref(128),localBrushSize=ref(10),localBrushX=ref(0),localBrushY=ref(0),maxError=ref(2),dropThreshold=ref(10),previewStatus=ref(0),listWidth=ref(0),editPanelDisplay=ref("edit");ref("pic");const editPanelCompFilter=ref("all"),glyphPanelCompFilter=ref("all");ref("all");var Status=(n=>(n[n.CharacterList=0]="CharacterList",n[n.GlyphList=1]="GlyphList",n[n.Edit=2]="Edit",n[n.Pic=3]="Pic",n[n.Glyph=4]="Glyph",n[n.SystemGlyphList=5]="SystemGlyphList",n[n.RadicalGlyphList=6]="RadicalGlyphList",n[n.CompGlyphList=7]="CompGlyphList",n[n.StrokeGlyphList=8]="StrokeGlyphList",n))(Status||{});const prevStatus=ref(0),editStatus=ref(0),prevEditStatus=ref(2),coordsText=ref("0, 0"),enableLocalBrush=reactive({value:!1}),editCharacterPic=reactive({value:{data:"",img:null,thumbnailCanvas:null,thumbnailPixels:[],processPixels:[],width:0,height:0}}),contoursComponents=reactive({value:[]}),curvesComponents=reactive({value:[]}),bitmap=reactive({value:{data:[],width:0,height:0}}),setEnableLocalBrush=n=>{enableLocalBrush.value=n},setBitMap=n=>{bitmap.value=n},setEditCharacterPic=n=>{editCharacterPic.value=n},setEditPanelCompFilter=n=>{editPanelCompFilter.value=n},setGlyphPanelCompFilter=n=>{glyphPanelCompFilter.value=n},setPicZoom=n=>{picZoom.value=n},setEditStatus=n=>{editStatus.value=n},setPrevStatus=n=>{prevStatus.value=n},setStep=n=>{step.value=n},clearContoursComponent=()=>{contoursComponents.value=[]},clearCurvesComponent=()=>{curvesComponents.value=[]},addContoursComponent=n=>{contoursComponents.value.push(n)},addCurvesComponent=n=>{curvesComponents.value.push(n)},resetEditPic=()=>{editCharacterPic.value={data:"",img:null,thumbnailCanvas:null,thumbnailPixels:[],processPixels:[],width:0,height:0}},ratio=2,default_unitsPerEm=1e3,mapCanvasCoords=n=>({x:ratio*n.x,y:ratio*n.y}),mapCanvasX=n=>ratio*n,mapCanvasY=n=>ratio*n,mapCanvasWidth=n=>ratio*n,mapCanvasHeight=n=>ratio*n,getCoord=n=>editStatus.value===Status.Edit?n/width$1.value*selectedFile.value.width:editStatus.value===Status.Glyph?n/width$1.value*default_unitsPerEm:n,LIMIT16=32768,LIMIT32=2147483648,wmm=typeof WeakMap=="function"&&new WeakMap,encoder={uint8:n=>typeof n=="number"&&n>=0&&n<=255?[n]:!1,int8:n=>typeof n=="number"&&n>=-128&&n<=127?[n]:!1,uint16:n=>typeof n!="number"?!1:[n>>8&255,n&255],int16:n=>{if(typeof n!="number")return!1;let e=n;return e>=LIMIT16&&(e=-(2*LIMIT16-e)),[e>>8&255,e&255]},uint24:n=>typeof n!="number"?!1:[n>>16&255,n>>8&255,n&255],uint32:n=>typeof n!="number"?!1:[n>>24&255,n>>16&255,n>>8&255,n&255],int32:n=>{if(typeof n!="number")return!1;let e=n;return n>=LIMIT32&&(e=-(2*LIMIT32-n)),[e>>24&255,e>>16&255,e>>8&255,e&255]},Fixed:n=>typeof n!="number"?!1:[n>>24&255,n>>16&255,n>>8&255,n&255],FWORD:n=>typeof n!="number"?!1:encoder.int16(n),UFWORD:n=>typeof n!="number"?!1:encoder.uint16(n),F2DOT14:n=>{},LONGDATETIME:n=>typeof n!="number"?!1:[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,n&255],Tag:n=>n.length===4?[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]:n.tagStr&&n.tagStr.length===4?[n.tagStr.charCodeAt(0),n.tagStr.charCodeAt(1),n.tagStr.charCodeAt(2),n.tagStr.charCodeAt(3)]:!1,Offset16:n=>encoder.uint16(n),Offset24:n=>encoder.uint24(n),Offset32:n=>encoder.uint32(n),Version16Dot16:n=>encoder.Fixed(n),Card8:n=>encoder.uint8(n),Card16:n=>encoder.uint16(n),OffSize:n=>encoder.uint8(n),SID:n=>encoder.uint16(n),Name:n=>encoder.String(n),String:n=>{typeof n>"u"&&(n="");let e=[];for(let r=0;r<n.length;r+=1)e[r]=n.charCodeAt(r);return e},Operand:(n,e)=>{let r=[];if(Array.isArray(e))for(let g=0;g<e.length;g+=1)r=r.concat(encoder.Operand(n[g],e[g]));else if(e==="SID")r=r.concat(encoder.number(n));else if(e==="offset")r=r.concat(encoder.number32(n));else if(e==="number")r=r.concat(encoder.number(n));else if(e==="real")r=r.concat(encoder.real(n));else if(e==="Fixed")r=r.concat(encoder.Fixed(n));else if(e==="number16")r=r.concat(encoder.number16(n));else if(e==="number32")r=r.concat(encoder.number32(n));else throw new Error("Unknown operand type "+e);return r},number:n=>{let e=n;return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?encoder.number16(e):encoder.number32(e)},number16:n=>typeof n!="number"?[]:[28,n>>8&255,n&255],number32:n=>typeof n!="number"?[]:[29,n>>24&255,n>>16&255,n>>8&255,n&255],real:n=>{let e=n.toString();const r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(r){const k=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));e=(Math.round(n*k)/k).toString()}let g="";for(let k=0,$=e.length;k<$;k+=1){const V=e[k];V==="e"?g+=e[++k]==="-"?"c":"b":V==="."?g+="a":V==="-"?g+="e":g+=V}g+=g.length&1?"f":"ff";const y=[30];for(let k=0,$=g.length;k<$;k+=2)y.push(parseInt(g.substr(k,2),16));return y},CharString:n=>{if(wmm){const g=wmm.get(n);if(g!==void 0)return g}let e=[];const r=n.length;for(let g=0;g<r;g+=1){const y=n[g];e=e.concat(encoder[y.type](y.value))}return wmm&&wmm.set(n,e),e},Operator:n=>typeof n!="number"?[]:n<1200?[n]:[12,n-1200],op:n=>encoder.uint8(n),raw:n=>n,utf16:n=>{const e=[];for(let r=0;r<n.length;r+=1){const g=n.charCodeAt(r);e[e.length]=g>>8&255,e[e.length]=g&255}return e}},setByesAt=(n,e,r)=>{for(let g=0;g<e.length;g++)n[r+g]=e[g];return n};let data,offset$1;const start=(n,e)=>{data=n,offset$1=e},end$2=()=>{data=new DataView(new ArrayBuffer(0)),offset$1=0},getOffset$2=()=>offset$1,setOffset=n=>{offset$1=n},decoder={uint8:()=>{const n=data.getUint8(offset$1);return offset$1+=1,n},int8:()=>{const n=data.getInt8(offset$1);return offset$1+=1,n},uint16:()=>{const n=data.getUint16(offset$1);return offset$1+=2,n},int16:()=>{const n=data.getInt16(offset$1);return offset$1+=2,n},uint32:()=>{const n=data.getUint32(offset$1);return offset$1+=4,n},int32:()=>{const n=data.getInt32(offset$1);return offset$1+=4,n},bigInt:()=>{const n=data.getBigInt64(offset$1);return offset$1+=8,n},Fixed:()=>decoder.int32(),FWORD:()=>decoder.int16(),UFWORD:()=>decoder.uint16(),F2DOT14:()=>{const n=data.getInt16(offset$1)/16384;return offset$1+=2,n},LONGDATETIME:()=>{const n=Number(data.getBigInt64(offset$1));return offset$1+=8,n},Tag:()=>{const n=[];let e="";for(let r=0;r<4;r++)n.push(data.getUint8(offset$1+r)),e+=String.fromCharCode(n[r]);return offset$1+=4,{tagArr:n,tagStr:e}},Offset16:()=>decoder.uint16(),Offset32:()=>decoder.uint32(),Version16Dot16:()=>{const n=data.getUint16(offset$1),e=data.getUint16(offset$1+2);return offset$1+=4,n+e/4096/10},Card8:()=>decoder.uint8(),Card16:()=>decoder.uint16(),OffSize:()=>decoder.uint8(),SID:()=>decoder.uint16()},types$b={version:"uint16",xAvgCharWidth:"int16",usWeightClass:"uint16",usWidthClass:"uint16",fsType:"uint16",ySubscriptXSize:"int16",ySubscriptYSize:"int16",ySubscriptXOffset:"int16",ySubscriptYOffset:"int16",ySuperscriptXSize:"int16",ySuperscriptYSize:"int16",ySuperscriptXOffset:"int16",ySuperscriptYOffset:"int16",yStrikeoutSize:"int16",yStrikeoutPosition:"int16",sFamilyClass:"int16",panose:"uint8",ulUnicodeRange1:"uint32",ulUnicodeRange2:"uint32",ulUnicodeRange3:"uint32",ulUnicodeRange4:"uint32",achVendID:"Tag",fsSelection:"uint16",usFirstCharIndex:"uint16",usLastCharIndex:"uint16",sTypoAscender:"int16",sTypoDescender:"int16",sTypoLineGap:"int16",usWinAscent:"uint16",usWinDescent:"uint16",ulCodePageRange1:"uint32",ulCodePageRange2:"uint32",sxHeight:"int16",sCapHeight:"int16",usDefaultChar:"uint16",usBreakChar:"uint16",usMaxContext:"uint16",usLowerOpticalPointSize:"uint16",usUpperOpticalPointSize:"uint16"},parse$g=(n,e,r)=>{start(n,e);const g=decoder[types$b.version](),y=decoder[types$b.xAvgCharWidth](),k=decoder[types$b.usWeightClass](),$=decoder[types$b.usWidthClass](),V=decoder[types$b.fsType](),L=decoder[types$b.ySubscriptXSize](),z=decoder[types$b.ySubscriptYSize](),j=decoder[types$b.ySubscriptXOffset](),re=decoder[types$b.ySubscriptYOffset](),oe=decoder[types$b.ySuperscriptXSize](),ae=decoder[types$b.ySuperscriptYSize](),de=decoder[types$b.ySuperscriptXOffset](),ue=decoder[types$b.ySuperscriptYOffset](),pe=decoder[types$b.yStrikeoutSize](),he=decoder[types$b.yStrikeoutPosition](),Oe=decoder[types$b.sFamilyClass](),xe=[];for(let Ln=0;Ln<10;Ln++)xe[Ln]=decoder[types$b.panose]();const $e=decoder[types$b.ulUnicodeRange1](),Ne=decoder[types$b.ulUnicodeRange2](),Ce=decoder[types$b.ulUnicodeRange3](),Fe=decoder[types$b.ulUnicodeRange4](),ze=decoder[types$b.achVendID](),kt=decoder[types$b.fsSelection](),At=decoder[types$b.usFirstCharIndex](),Cn=decoder[types$b.usLastCharIndex](),Dt=decoder[types$b.sTypoAscender](),On=decoder[types$b.sTypoDescender](),jt=decoder[types$b.sTypoLineGap](),An=decoder[types$b.usWinAscent](),Mn=decoder[types$b.usWinDescent](),$n={version:g,xAvgCharWidth:y,usWeightClass:k,usWidthClass:$,fsType:V,ySubscriptXSize:L,ySubscriptYSize:z,ySubscriptXOffset:j,ySubscriptYOffset:re,ySuperscriptXSize:oe,ySuperscriptYSize:ae,ySuperscriptXOffset:de,ySuperscriptYOffset:ue,yStrikeoutSize:pe,yStrikeoutPosition:he,sFamilyClass:Oe,panose:xe,ulUnicodeRange1:$e,ulUnicodeRange2:Ne,ulUnicodeRange3:Ce,ulUnicodeRange4:Fe,achVendID:ze,fsSelection:kt,usFirstCharIndex:At,usLastCharIndex:Cn,sTypoAscender:Dt,sTypoDescender:On,sTypoLineGap:jt,usWinAscent:An,usWinDescent:Mn};return g>=1&&($n.ulCodePageRange1=decoder[types$b.ulCodePageRange1](),$n.ulCodePageRange2=decoder[types$b.ulCodePageRange2]()),g>=2&&($n.sxHeight=decoder[types$b.sxHeight](),$n.sCapHeight=decoder[types$b.sCapHeight](),$n.usDefaultChar=decoder[types$b.usDefaultChar](),$n.usBreakChar=decoder[types$b.usBreakChar](),$n.usMaxContext=decoder[types$b.usMaxContext]()),g>=5&&($n.usLowerOpticalPointSize=decoder[types$b.usLowerOpticalPointSize](),$n.usUpperOpticalPointSize=decoder[types$b.usUpperOpticalPointSize]()),end$2(),$n},create$c=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$b[r],y=n[r];let k=[];if(r==="panose"){const $=y;for(let V=0;V<$.length;V++)k=k.concat(encoder[g]($[V]))}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},getPanose=n=>{},unicodeRanges=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],getUnicodeRange=n=>{for(let e=0;e<unicodeRanges.length;e+=1){const r=unicodeRanges[e];if(n>=r.begin&&n<r.end)return e}return-1},os2Table=Object.freeze(Object.defineProperty({__proto__:null,create:create$c,getPanose,getUnicodeRange,parse:parse$g},Symbol.toStringTag,{value:"Module"}));var PathType=(n=>(n[n.LINE=0]="LINE",n[n.QUADRATIC_BEZIER=1]="QUADRATIC_BEZIER",n[n.CUBIC_BEZIER=2]="CUBIC_BEZIER",n))(PathType||{});const getMetrics=n=>{const e=[],r=[];for(let y=0;y<n.contours.length;y+=1)for(let k=0;k<n.contours[y].length;k++){const $=n.contours[y][k];e.push($.start.x),r.push($.start.y),e.push($.end.x),r.push($.end.y),$.type===1?(e.push($.control.x),r.push($.control.y)):$.type===2&&(e.push($.control1.x),r.push($.control1.y),e.push($.control2.x),r.push($.control2.y))}const g={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,r),leftSideBearing:n.leftSideBearing||0,rightSideBearing:0};return isFinite(g.xMin)||(g.xMin=0),isFinite(g.xMax)||(g.xMax=n.advanceWidth||0),isFinite(g.yMin)||(g.yMin=0),isFinite(g.yMax)||(g.yMax=0),g.rightSideBearing=(n.advanceWidth||0)-g.leftSideBearing-(g.xMax-g.xMin),g},parseTablesToCharacters=n=>{const e=[],r=n.filter(y=>y.name==="cmap")[0].table,g=n.filter(y=>y.name==="hmtx")[0].table;if(n.filter(y=>y.name==="glyf")[0]){const y=n.filter(k=>k.name==="glyf")[0].table;Object.keys(r.glyphIndexMap).forEach(k=>{const $=r.glyphIndexMap[k],V=y.glyphTables[r.glyphIndexMap[k]],L=[];for(let z=0;z<V.contours.length;z++)L.push(V.contours[z].paths);e.push({unicode:Number(k),contours:L,contourNum:V.contours.length,advanceWidth:g.hMetrics[$].advanceWidth,index:r.glyphIndexMap[k],name:String.fromCharCode(Number(k))})})}else if(n.filter(y=>y.name==="CFF ")[0]){const y=n.filter(k=>k.name==="CFF ")[0].table;Object.keys(r.glyphIndexMap).forEach(k=>{const $=r.glyphIndexMap[k],V=y.glyphTables[$];e.push({unicode:Number(k),contours:V.contours,contourNum:V.contours.length,advanceWidth:V.advanceWidth,index:$,name:y.charsets?.data[$]})})}return e},types$a={majorVersion:"uint16",minorVersion:"uint16",fontRevision:"Fixed",checkSumAdjustment:"uint32",magicNumber:"uint32",flags:"uint16",unitsPerEm:"uint16",created:"LONGDATETIME",modified:"LONGDATETIME",xMin:"int16",yMin:"int16",xMax:"int16",yMax:"int16",macStyle:"uint16",lowestRecPPEM:"uint16",fontDirectionHint:"int16",indexToLocFormat:"int16",glyphDataFormat:"int16"},parse$f=(n,e,r)=>{const g=Object.keys(types$a),y={};start(n,e);for(let k=0;k<g.length;k++){const $=g[k];y[$]=decoder[types$a[$]]()}return end$2(),r.settings.indexToLocFormat=y.indexToLocFormat,r.settings.unitsPerEm=y.unitsPerEm,y},create$b=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$a[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},headTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$b,parse:parse$f},Symbol.toStringTag,{value:"Module"})),types$9={majorVersion:"uint16",minorVersion:"uint16",ascender:"FWORD",descender:"FWORD",lineGap:"FWORD",advanceWidthMax:"UFWORD",minLeftSideBearing:"FWORD",minRightSideBearing:"FWORD",xMaxExtent:"FWORD",caretSlopeRise:"int16",caretSlopeRun:"int16",caretOffset:"int16",reserved0:"int16",reserved1:"int16",reserved2:"int16",reserved3:"int16",metricDataFormat:"int16",numberOfHMetrics:"uint16"},parse$e=(n,e,r)=>{const g=Object.keys(types$9),y={};start(n,e);for(let k=0;k<g.length;k++){const $=g[k];y[$]=decoder[types$9[$]]()}return end$2(),r.settings.numberOfHMetrics=y.numberOfHMetrics,r.settings.ascender=y.ascender,r.settings.descender=y.descender,y},create$a=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$9[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},hheaTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$a,parse:parse$e},Symbol.toStringTag,{value:"Module"})),getVersion=(n,e)=>{const r=n.getUint16(e),g=n.getUint16(e+2);return r+g/4096/10},getStorageString=(n,e,r)=>{const g=[];for(let y=0;y<r/2;y++)g[y]=n.getUint16(e+y*2);return String.fromCharCode.apply(null,g)},computeCheckSum=(n,e=!1)=>{let r=n;for(e||(r=Object.assign([],n));r.length%4!==0;)r.push(0);let g=0;for(let y=0;y<r.length;y+=4){const k=(r[y]<<24>>>0)+(r[y+1]<<16>>>0)+(r[y+2]<<8>>>0)+(r[y+3]>>>0);g=g+k>>>0}return g%=4294967296,g},hasChineseChar=n=>{let e=!1;for(let r=0;r<n.length;r++)isChineseChar(n[r])&&(e=!0);return e},isChineseChar=n=>/^[\u4E00-\u9FFF]$/.test(n),types$8={version:"Version16Dot16",numGlyphs:"uint16",maxPoints:"uint16",maxContours:"uint16",maxCompositePoints:"uint16",maxCompositeContours:"uint16",maxZones:"uint16",maxTwilightPoints:"uint16",maxStorage:"uint16",maxFunctionDefs:"uint16",maxInstructionDefs:"uint16",maxStackElements:"uint16",maxSizeOfInstructions:"uint16",maxComponentElements:"uint16",maxComponentDepth:"uint16"},parse$d=(n,e,r)=>{const g=getVersion(n,e),y=Object.keys(types$8),k={};start(n,e);for(let $=0;$<y.length;$++){const V=y[$];(g>=1||V==="numGlyphs"||V==="version")&&(k[V]=decoder[types$8[V]]())}return end$2(),r.settings.numGlyphs=k.numGlyphs,k},create$9=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$8[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},maxpTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$9,parse:parse$d},Symbol.toStringTag,{value:"Module"}));var lib={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$4.length;i$1<len;++i$1)lookup[i$1]=code$4[i$1],revLookup[code$4.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=e);var g=r===e?0:4-r%4;return[r,g]}function byteLength(n){var e=getLens(n),r=e[0],g=e[1];return(r+g)*3/4-g}function _byteLength(n,e,r){return(e+r)*3/4-r}function toByteArray(n){var e,r=getLens(n),g=r[0],y=r[1],k=new Arr(_byteLength(n,g,y)),$=0,V=y>0?g-4:g,L;for(L=0;L<V;L+=4)e=revLookup[n.charCodeAt(L)]<<18|revLookup[n.charCodeAt(L+1)]<<12|revLookup[n.charCodeAt(L+2)]<<6|revLookup[n.charCodeAt(L+3)],k[$++]=e>>16&255,k[$++]=e>>8&255,k[$++]=e&255;return y===2&&(e=revLookup[n.charCodeAt(L)]<<2|revLookup[n.charCodeAt(L+1)]>>4,k[$++]=e&255),y===1&&(e=revLookup[n.charCodeAt(L)]<<10|revLookup[n.charCodeAt(L+1)]<<4|revLookup[n.charCodeAt(L+2)]>>2,k[$++]=e>>8&255,k[$++]=e&255),k}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,e,r){for(var g,y=[],k=e;k<r;k+=3)g=(n[k]<<16&16711680)+(n[k+1]<<8&65280)+(n[k+2]&255),y.push(tripletToBase64(g));return y.join("")}function fromByteArray(n){for(var e,r=n.length,g=r%3,y=[],k=16383,$=0,V=r-g;$<V;$+=k)y.push(encodeChunk(n,$,$+k>V?V:$+k));return g===1?(e=n[r-1],y.push(lookup[e>>2]+lookup[e<<4&63]+"==")):g===2&&(e=(n[r-2]<<8)+n[r-1],y.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),y.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(n,e,r,g,y){var k,$,V=y*8-g-1,L=(1<<V)-1,z=L>>1,j=-7,re=r?y-1:0,oe=r?-1:1,ae=n[e+re];for(re+=oe,k=ae&(1<<-j)-1,ae>>=-j,j+=V;j>0;k=k*256+n[e+re],re+=oe,j-=8);for($=k&(1<<-j)-1,k>>=-j,j+=g;j>0;$=$*256+n[e+re],re+=oe,j-=8);if(k===0)k=1-z;else{if(k===L)return $?NaN:(ae?-1:1)*(1/0);$=$+Math.pow(2,g),k=k-z}return(ae?-1:1)*$*Math.pow(2,k-g)};ieee754.write=function(n,e,r,g,y,k){var $,V,L,z=k*8-y-1,j=(1<<z)-1,re=j>>1,oe=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,ae=g?0:k-1,de=g?1:-1,ue=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(V=isNaN(e)?1:0,$=j):($=Math.floor(Math.log(e)/Math.LN2),e*(L=Math.pow(2,-$))<1&&($--,L*=2),$+re>=1?e+=oe/L:e+=oe*Math.pow(2,1-re),e*L>=2&&($++,L/=2),$+re>=j?(V=0,$=j):$+re>=1?(V=(e*L-1)*Math.pow(2,y),$=$+re):(V=e*Math.pow(2,re-1)*Math.pow(2,y),$=0));y>=8;n[r+ae]=V&255,ae+=de,V/=256,y-=8);for($=$<<y|V,z+=y;z>0;n[r+ae]=$&255,ae+=de,$/=256,z-=8);n[r+ae-de]|=ue*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){var e=base64Js,r=ieee754,g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=V,n.SlowBuffer=Oe,n.INSPECT_MAX_BYTES=50;var y=2147483647;n.kMaxLength=y,V.TYPED_ARRAY_SUPPORT=k(),!V.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function k(){try{var Nn=new Uint8Array(1),Lt={foo:function(){return 42}};return Object.setPrototypeOf(Lt,Uint8Array.prototype),Object.setPrototypeOf(Nn,Lt),Nn.foo()===42}catch{return!1}}Object.defineProperty(V.prototype,"parent",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.buffer}}),Object.defineProperty(V.prototype,"offset",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.byteOffset}});function $(Nn){if(Nn>y)throw new RangeError('The value "'+Nn+'" is invalid for option "size"');var Lt=new Uint8Array(Nn);return Object.setPrototypeOf(Lt,V.prototype),Lt}function V(Nn,Lt,_n){if(typeof Nn=="number"){if(typeof Lt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return re(Nn)}return L(Nn,Lt,_n)}V.poolSize=8192;function L(Nn,Lt,_n){if(typeof Nn=="string")return oe(Nn,Lt);if(ArrayBuffer.isView(Nn))return de(Nn);if(Nn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nn);if(Gn(Nn,ArrayBuffer)||Nn&&Gn(Nn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gn(Nn,SharedArrayBuffer)||Nn&&Gn(Nn.buffer,SharedArrayBuffer)))return ue(Nn,Lt,_n);if(typeof Nn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Bn=Nn.valueOf&&Nn.valueOf();if(Bn!=null&&Bn!==Nn)return V.from(Bn,Lt,_n);var Xn=pe(Nn);if(Xn)return Xn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Nn[Symbol.toPrimitive]=="function")return V.from(Nn[Symbol.toPrimitive]("string"),Lt,_n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nn)}V.from=function(Nn,Lt,_n){return L(Nn,Lt,_n)},Object.setPrototypeOf(V.prototype,Uint8Array.prototype),Object.setPrototypeOf(V,Uint8Array);function z(Nn){if(typeof Nn!="number")throw new TypeError('"size" argument must be of type number');if(Nn<0)throw new RangeError('The value "'+Nn+'" is invalid for option "size"')}function j(Nn,Lt,_n){return z(Nn),Nn<=0?$(Nn):Lt!==void 0?typeof _n=="string"?$(Nn).fill(Lt,_n):$(Nn).fill(Lt):$(Nn)}V.alloc=function(Nn,Lt,_n){return j(Nn,Lt,_n)};function re(Nn){return z(Nn),$(Nn<0?0:he(Nn)|0)}V.allocUnsafe=function(Nn){return re(Nn)},V.allocUnsafeSlow=function(Nn){return re(Nn)};function oe(Nn,Lt){if((typeof Lt!="string"||Lt==="")&&(Lt="utf8"),!V.isEncoding(Lt))throw new TypeError("Unknown encoding: "+Lt);var _n=xe(Nn,Lt)|0,Bn=$(_n),Xn=Bn.write(Nn,Lt);return Xn!==_n&&(Bn=Bn.slice(0,Xn)),Bn}function ae(Nn){for(var Lt=Nn.length<0?0:he(Nn.length)|0,_n=$(Lt),Bn=0;Bn<Lt;Bn+=1)_n[Bn]=Nn[Bn]&255;return _n}function de(Nn){if(Gn(Nn,Uint8Array)){var Lt=new Uint8Array(Nn);return ue(Lt.buffer,Lt.byteOffset,Lt.byteLength)}return ae(Nn)}function ue(Nn,Lt,_n){if(Lt<0||Nn.byteLength<Lt)throw new RangeError('"offset" is outside of buffer bounds');if(Nn.byteLength<Lt+(_n||0))throw new RangeError('"length" is outside of buffer bounds');var Bn;return Lt===void 0&&_n===void 0?Bn=new Uint8Array(Nn):_n===void 0?Bn=new Uint8Array(Nn,Lt):Bn=new Uint8Array(Nn,Lt,_n),Object.setPrototypeOf(Bn,V.prototype),Bn}function pe(Nn){if(V.isBuffer(Nn)){var Lt=he(Nn.length)|0,_n=$(Lt);return _n.length===0||Nn.copy(_n,0,0,Lt),_n}if(Nn.length!==void 0)return typeof Nn.length!="number"||hn(Nn.length)?$(0):ae(Nn);if(Nn.type==="Buffer"&&Array.isArray(Nn.data))return ae(Nn.data)}function he(Nn){if(Nn>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return Nn|0}function Oe(Nn){return+Nn!=Nn&&(Nn=0),V.alloc(+Nn)}V.isBuffer=function(Lt){return Lt!=null&&Lt._isBuffer===!0&&Lt!==V.prototype},V.compare=function(Lt,_n){if(Gn(Lt,Uint8Array)&&(Lt=V.from(Lt,Lt.offset,Lt.byteLength)),Gn(_n,Uint8Array)&&(_n=V.from(_n,_n.offset,_n.byteLength)),!V.isBuffer(Lt)||!V.isBuffer(_n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Lt===_n)return 0;for(var Bn=Lt.length,Xn=_n.length,rr=0,ar=Math.min(Bn,Xn);rr<ar;++rr)if(Lt[rr]!==_n[rr]){Bn=Lt[rr],Xn=_n[rr];break}return Bn<Xn?-1:Xn<Bn?1:0},V.isEncoding=function(Lt){switch(String(Lt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},V.concat=function(Lt,_n){if(!Array.isArray(Lt))throw new TypeError('"list" argument must be an Array of Buffers');if(Lt.length===0)return V.alloc(0);var Bn;if(_n===void 0)for(_n=0,Bn=0;Bn<Lt.length;++Bn)_n+=Lt[Bn].length;var Xn=V.allocUnsafe(_n),rr=0;for(Bn=0;Bn<Lt.length;++Bn){var ar=Lt[Bn];if(Gn(ar,Uint8Array))rr+ar.length>Xn.length?V.from(ar).copy(Xn,rr):Uint8Array.prototype.set.call(Xn,ar,rr);else if(V.isBuffer(ar))ar.copy(Xn,rr);else throw new TypeError('"list" argument must be an Array of Buffers');rr+=ar.length}return Xn};function xe(Nn,Lt){if(V.isBuffer(Nn))return Nn.length;if(ArrayBuffer.isView(Nn)||Gn(Nn,ArrayBuffer))return Nn.byteLength;if(typeof Nn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Nn);var _n=Nn.length,Bn=arguments.length>2&&arguments[2]===!0;if(!Bn&&_n===0)return 0;for(var Xn=!1;;)switch(Lt){case"ascii":case"latin1":case"binary":return _n;case"utf8":case"utf-8":return jn(Nn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _n*2;case"hex":return _n>>>1;case"base64":return Cr(Nn).length;default:if(Xn)return Bn?-1:jn(Nn).length;Lt=(""+Lt).toLowerCase(),Xn=!0}}V.byteLength=xe;function $e(Nn,Lt,_n){var Bn=!1;if((Lt===void 0||Lt<0)&&(Lt=0),Lt>this.length||((_n===void 0||_n>this.length)&&(_n=this.length),_n<=0)||(_n>>>=0,Lt>>>=0,_n<=Lt))return"";for(Nn||(Nn="utf8");;)switch(Nn){case"hex":return Tn(this,Lt,_n);case"utf8":case"utf-8":return jt(this,Lt,_n);case"ascii":return $n(this,Lt,_n);case"latin1":case"binary":return Ln(this,Lt,_n);case"base64":return On(this,Lt,_n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zn(this,Lt,_n);default:if(Bn)throw new TypeError("Unknown encoding: "+Nn);Nn=(Nn+"").toLowerCase(),Bn=!0}}V.prototype._isBuffer=!0;function Ne(Nn,Lt,_n){var Bn=Nn[Lt];Nn[Lt]=Nn[_n],Nn[_n]=Bn}V.prototype.swap16=function(){var Lt=this.length;if(Lt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _n=0;_n<Lt;_n+=2)Ne(this,_n,_n+1);return this},V.prototype.swap32=function(){var Lt=this.length;if(Lt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _n=0;_n<Lt;_n+=4)Ne(this,_n,_n+3),Ne(this,_n+1,_n+2);return this},V.prototype.swap64=function(){var Lt=this.length;if(Lt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _n=0;_n<Lt;_n+=8)Ne(this,_n,_n+7),Ne(this,_n+1,_n+6),Ne(this,_n+2,_n+5),Ne(this,_n+3,_n+4);return this},V.prototype.toString=function(){var Lt=this.length;return Lt===0?"":arguments.length===0?jt(this,0,Lt):$e.apply(this,arguments)},V.prototype.toLocaleString=V.prototype.toString,V.prototype.equals=function(Lt){if(!V.isBuffer(Lt))throw new TypeError("Argument must be a Buffer");return this===Lt?!0:V.compare(this,Lt)===0},V.prototype.inspect=function(){var Lt="",_n=n.INSPECT_MAX_BYTES;return Lt=this.toString("hex",0,_n).replace(/(.{2})/g,"$1 ").trim(),this.length>_n&&(Lt+=" ... "),"<Buffer "+Lt+">"},g&&(V.prototype[g]=V.prototype.inspect),V.prototype.compare=function(Lt,_n,Bn,Xn,rr){if(Gn(Lt,Uint8Array)&&(Lt=V.from(Lt,Lt.offset,Lt.byteLength)),!V.isBuffer(Lt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Lt);if(_n===void 0&&(_n=0),Bn===void 0&&(Bn=Lt?Lt.length:0),Xn===void 0&&(Xn=0),rr===void 0&&(rr=this.length),_n<0||Bn>Lt.length||Xn<0||rr>this.length)throw new RangeError("out of range index");if(Xn>=rr&&_n>=Bn)return 0;if(Xn>=rr)return-1;if(_n>=Bn)return 1;if(_n>>>=0,Bn>>>=0,Xn>>>=0,rr>>>=0,this===Lt)return 0;for(var ar=rr-Xn,sr=Bn-_n,mr=Math.min(ar,sr),lr=this.slice(Xn,rr),le=Lt.slice(_n,Bn),_e=0;_e<mr;++_e)if(lr[_e]!==le[_e]){ar=lr[_e],sr=le[_e];break}return ar<sr?-1:sr<ar?1:0};function Ce(Nn,Lt,_n,Bn,Xn){if(Nn.length===0)return-1;if(typeof _n=="string"?(Bn=_n,_n=0):_n>2147483647?_n=2147483647:_n<-2147483648&&(_n=-2147483648),_n=+_n,hn(_n)&&(_n=Xn?0:Nn.length-1),_n<0&&(_n=Nn.length+_n),_n>=Nn.length){if(Xn)return-1;_n=Nn.length-1}else if(_n<0)if(Xn)_n=0;else return-1;if(typeof Lt=="string"&&(Lt=V.from(Lt,Bn)),V.isBuffer(Lt))return Lt.length===0?-1:Fe(Nn,Lt,_n,Bn,Xn);if(typeof Lt=="number")return Lt=Lt&255,typeof Uint8Array.prototype.indexOf=="function"?Xn?Uint8Array.prototype.indexOf.call(Nn,Lt,_n):Uint8Array.prototype.lastIndexOf.call(Nn,Lt,_n):Fe(Nn,[Lt],_n,Bn,Xn);throw new TypeError("val must be string, number or Buffer")}function Fe(Nn,Lt,_n,Bn,Xn){var rr=1,ar=Nn.length,sr=Lt.length;if(Bn!==void 0&&(Bn=String(Bn).toLowerCase(),Bn==="ucs2"||Bn==="ucs-2"||Bn==="utf16le"||Bn==="utf-16le")){if(Nn.length<2||Lt.length<2)return-1;rr=2,ar/=2,sr/=2,_n/=2}function mr(Ue,qe){return rr===1?Ue[qe]:Ue.readUInt16BE(qe*rr)}var lr;if(Xn){var le=-1;for(lr=_n;lr<ar;lr++)if(mr(Nn,lr)===mr(Lt,le===-1?0:lr-le)){if(le===-1&&(le=lr),lr-le+1===sr)return le*rr}else le!==-1&&(lr-=lr-le),le=-1}else for(_n+sr>ar&&(_n=ar-sr),lr=_n;lr>=0;lr--){for(var _e=!0,Ie=0;Ie<sr;Ie++)if(mr(Nn,lr+Ie)!==mr(Lt,Ie)){_e=!1;break}if(_e)return lr}return-1}V.prototype.includes=function(Lt,_n,Bn){return this.indexOf(Lt,_n,Bn)!==-1},V.prototype.indexOf=function(Lt,_n,Bn){return Ce(this,Lt,_n,Bn,!0)},V.prototype.lastIndexOf=function(Lt,_n,Bn){return Ce(this,Lt,_n,Bn,!1)};function ze(Nn,Lt,_n,Bn){_n=Number(_n)||0;var Xn=Nn.length-_n;Bn?(Bn=Number(Bn),Bn>Xn&&(Bn=Xn)):Bn=Xn;var rr=Lt.length;Bn>rr/2&&(Bn=rr/2);for(var ar=0;ar<Bn;++ar){var sr=parseInt(Lt.substr(ar*2,2),16);if(hn(sr))return ar;Nn[_n+ar]=sr}return ar}function kt(Nn,Lt,_n,Bn){return ir(jn(Lt,Nn.length-_n),Nn,_n,Bn)}function At(Nn,Lt,_n,Bn){return ir(cr(Lt),Nn,_n,Bn)}function Cn(Nn,Lt,_n,Bn){return ir(Cr(Lt),Nn,_n,Bn)}function Dt(Nn,Lt,_n,Bn){return ir(gr(Lt,Nn.length-_n),Nn,_n,Bn)}V.prototype.write=function(Lt,_n,Bn,Xn){if(_n===void 0)Xn="utf8",Bn=this.length,_n=0;else if(Bn===void 0&&typeof _n=="string")Xn=_n,Bn=this.length,_n=0;else if(isFinite(_n))_n=_n>>>0,isFinite(Bn)?(Bn=Bn>>>0,Xn===void 0&&(Xn="utf8")):(Xn=Bn,Bn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var rr=this.length-_n;if((Bn===void 0||Bn>rr)&&(Bn=rr),Lt.length>0&&(Bn<0||_n<0)||_n>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xn||(Xn="utf8");for(var ar=!1;;)switch(Xn){case"hex":return ze(this,Lt,_n,Bn);case"utf8":case"utf-8":return kt(this,Lt,_n,Bn);case"ascii":case"latin1":case"binary":return At(this,Lt,_n,Bn);case"base64":return Cn(this,Lt,_n,Bn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,Lt,_n,Bn);default:if(ar)throw new TypeError("Unknown encoding: "+Xn);Xn=(""+Xn).toLowerCase(),ar=!0}},V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function On(Nn,Lt,_n){return Lt===0&&_n===Nn.length?e.fromByteArray(Nn):e.fromByteArray(Nn.slice(Lt,_n))}function jt(Nn,Lt,_n){_n=Math.min(Nn.length,_n);for(var Bn=[],Xn=Lt;Xn<_n;){var rr=Nn[Xn],ar=null,sr=rr>239?4:rr>223?3:rr>191?2:1;if(Xn+sr<=_n){var mr,lr,le,_e;switch(sr){case 1:rr<128&&(ar=rr);break;case 2:mr=Nn[Xn+1],(mr&192)===128&&(_e=(rr&31)<<6|mr&63,_e>127&&(ar=_e));break;case 3:mr=Nn[Xn+1],lr=Nn[Xn+2],(mr&192)===128&&(lr&192)===128&&(_e=(rr&15)<<12|(mr&63)<<6|lr&63,_e>2047&&(_e<55296||_e>57343)&&(ar=_e));break;case 4:mr=Nn[Xn+1],lr=Nn[Xn+2],le=Nn[Xn+3],(mr&192)===128&&(lr&192)===128&&(le&192)===128&&(_e=(rr&15)<<18|(mr&63)<<12|(lr&63)<<6|le&63,_e>65535&&_e<1114112&&(ar=_e))}}ar===null?(ar=65533,sr=1):ar>65535&&(ar-=65536,Bn.push(ar>>>10&1023|55296),ar=56320|ar&1023),Bn.push(ar),Xn+=sr}return Mn(Bn)}var An=4096;function Mn(Nn){var Lt=Nn.length;if(Lt<=An)return String.fromCharCode.apply(String,Nn);for(var _n="",Bn=0;Bn<Lt;)_n+=String.fromCharCode.apply(String,Nn.slice(Bn,Bn+=An));return _n}function $n(Nn,Lt,_n){var Bn="";_n=Math.min(Nn.length,_n);for(var Xn=Lt;Xn<_n;++Xn)Bn+=String.fromCharCode(Nn[Xn]&127);return Bn}function Ln(Nn,Lt,_n){var Bn="";_n=Math.min(Nn.length,_n);for(var Xn=Lt;Xn<_n;++Xn)Bn+=String.fromCharCode(Nn[Xn]);return Bn}function Tn(Nn,Lt,_n){var Bn=Nn.length;(!Lt||Lt<0)&&(Lt=0),(!_n||_n<0||_n>Bn)&&(_n=Bn);for(var Xn="",rr=Lt;rr<_n;++rr)Xn+=Kn[Nn[rr]];return Xn}function Zn(Nn,Lt,_n){for(var Bn=Nn.slice(Lt,_n),Xn="",rr=0;rr<Bn.length-1;rr+=2)Xn+=String.fromCharCode(Bn[rr]+Bn[rr+1]*256);return Xn}V.prototype.slice=function(Lt,_n){var Bn=this.length;Lt=~~Lt,_n=_n===void 0?Bn:~~_n,Lt<0?(Lt+=Bn,Lt<0&&(Lt=0)):Lt>Bn&&(Lt=Bn),_n<0?(_n+=Bn,_n<0&&(_n=0)):_n>Bn&&(_n=Bn),_n<Lt&&(_n=Lt);var Xn=this.subarray(Lt,_n);return Object.setPrototypeOf(Xn,V.prototype),Xn};function Qn(Nn,Lt,_n){if(Nn%1!==0||Nn<0)throw new RangeError("offset is not uint");if(Nn+Lt>_n)throw new RangeError("Trying to access beyond buffer length")}V.prototype.readUintLE=V.prototype.readUIntLE=function(Lt,_n,Bn){Lt=Lt>>>0,_n=_n>>>0,Bn||Qn(Lt,_n,this.length);for(var Xn=this[Lt],rr=1,ar=0;++ar<_n&&(rr*=256);)Xn+=this[Lt+ar]*rr;return Xn},V.prototype.readUintBE=V.prototype.readUIntBE=function(Lt,_n,Bn){Lt=Lt>>>0,_n=_n>>>0,Bn||Qn(Lt,_n,this.length);for(var Xn=this[Lt+--_n],rr=1;_n>0&&(rr*=256);)Xn+=this[Lt+--_n]*rr;return Xn},V.prototype.readUint8=V.prototype.readUInt8=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,1,this.length),this[Lt]},V.prototype.readUint16LE=V.prototype.readUInt16LE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,2,this.length),this[Lt]|this[Lt+1]<<8},V.prototype.readUint16BE=V.prototype.readUInt16BE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,2,this.length),this[Lt]<<8|this[Lt+1]},V.prototype.readUint32LE=V.prototype.readUInt32LE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,4,this.length),(this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16)+this[Lt+3]*16777216},V.prototype.readUint32BE=V.prototype.readUInt32BE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,4,this.length),this[Lt]*16777216+(this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3])},V.prototype.readIntLE=function(Lt,_n,Bn){Lt=Lt>>>0,_n=_n>>>0,Bn||Qn(Lt,_n,this.length);for(var Xn=this[Lt],rr=1,ar=0;++ar<_n&&(rr*=256);)Xn+=this[Lt+ar]*rr;return rr*=128,Xn>=rr&&(Xn-=Math.pow(2,8*_n)),Xn},V.prototype.readIntBE=function(Lt,_n,Bn){Lt=Lt>>>0,_n=_n>>>0,Bn||Qn(Lt,_n,this.length);for(var Xn=_n,rr=1,ar=this[Lt+--Xn];Xn>0&&(rr*=256);)ar+=this[Lt+--Xn]*rr;return rr*=128,ar>=rr&&(ar-=Math.pow(2,8*_n)),ar},V.prototype.readInt8=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,1,this.length),this[Lt]&128?(255-this[Lt]+1)*-1:this[Lt]},V.prototype.readInt16LE=function(Lt,_n){Lt=Lt>>>0,_n||Qn(Lt,2,this.length);var Bn=this[Lt]|this[Lt+1]<<8;return Bn&32768?Bn|4294901760:Bn},V.prototype.readInt16BE=function(Lt,_n){Lt=Lt>>>0,_n||Qn(Lt,2,this.length);var Bn=this[Lt+1]|this[Lt]<<8;return Bn&32768?Bn|4294901760:Bn},V.prototype.readInt32LE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,4,this.length),this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16|this[Lt+3]<<24},V.prototype.readInt32BE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,4,this.length),this[Lt]<<24|this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3]},V.prototype.readFloatLE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,4,this.length),r.read(this,Lt,!0,23,4)},V.prototype.readFloatBE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,4,this.length),r.read(this,Lt,!1,23,4)},V.prototype.readDoubleLE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,8,this.length),r.read(this,Lt,!0,52,8)},V.prototype.readDoubleBE=function(Lt,_n){return Lt=Lt>>>0,_n||Qn(Lt,8,this.length),r.read(this,Lt,!1,52,8)};function Pn(Nn,Lt,_n,Bn,Xn,rr){if(!V.isBuffer(Nn))throw new TypeError('"buffer" argument must be a Buffer instance');if(Lt>Xn||Lt<rr)throw new RangeError('"value" argument is out of bounds');if(_n+Bn>Nn.length)throw new RangeError("Index out of range")}V.prototype.writeUintLE=V.prototype.writeUIntLE=function(Lt,_n,Bn,Xn){if(Lt=+Lt,_n=_n>>>0,Bn=Bn>>>0,!Xn){var rr=Math.pow(2,8*Bn)-1;Pn(this,Lt,_n,Bn,rr,0)}var ar=1,sr=0;for(this[_n]=Lt&255;++sr<Bn&&(ar*=256);)this[_n+sr]=Lt/ar&255;return _n+Bn},V.prototype.writeUintBE=V.prototype.writeUIntBE=function(Lt,_n,Bn,Xn){if(Lt=+Lt,_n=_n>>>0,Bn=Bn>>>0,!Xn){var rr=Math.pow(2,8*Bn)-1;Pn(this,Lt,_n,Bn,rr,0)}var ar=Bn-1,sr=1;for(this[_n+ar]=Lt&255;--ar>=0&&(sr*=256);)this[_n+ar]=Lt/sr&255;return _n+Bn},V.prototype.writeUint8=V.prototype.writeUInt8=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,1,255,0),this[_n]=Lt&255,_n+1},V.prototype.writeUint16LE=V.prototype.writeUInt16LE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,2,65535,0),this[_n]=Lt&255,this[_n+1]=Lt>>>8,_n+2},V.prototype.writeUint16BE=V.prototype.writeUInt16BE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,2,65535,0),this[_n]=Lt>>>8,this[_n+1]=Lt&255,_n+2},V.prototype.writeUint32LE=V.prototype.writeUInt32LE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,4,4294967295,0),this[_n+3]=Lt>>>24,this[_n+2]=Lt>>>16,this[_n+1]=Lt>>>8,this[_n]=Lt&255,_n+4},V.prototype.writeUint32BE=V.prototype.writeUInt32BE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,4,4294967295,0),this[_n]=Lt>>>24,this[_n+1]=Lt>>>16,this[_n+2]=Lt>>>8,this[_n+3]=Lt&255,_n+4},V.prototype.writeIntLE=function(Lt,_n,Bn,Xn){if(Lt=+Lt,_n=_n>>>0,!Xn){var rr=Math.pow(2,8*Bn-1);Pn(this,Lt,_n,Bn,rr-1,-rr)}var ar=0,sr=1,mr=0;for(this[_n]=Lt&255;++ar<Bn&&(sr*=256);)Lt<0&&mr===0&&this[_n+ar-1]!==0&&(mr=1),this[_n+ar]=(Lt/sr>>0)-mr&255;return _n+Bn},V.prototype.writeIntBE=function(Lt,_n,Bn,Xn){if(Lt=+Lt,_n=_n>>>0,!Xn){var rr=Math.pow(2,8*Bn-1);Pn(this,Lt,_n,Bn,rr-1,-rr)}var ar=Bn-1,sr=1,mr=0;for(this[_n+ar]=Lt&255;--ar>=0&&(sr*=256);)Lt<0&&mr===0&&this[_n+ar+1]!==0&&(mr=1),this[_n+ar]=(Lt/sr>>0)-mr&255;return _n+Bn},V.prototype.writeInt8=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,1,127,-128),Lt<0&&(Lt=255+Lt+1),this[_n]=Lt&255,_n+1},V.prototype.writeInt16LE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,2,32767,-32768),this[_n]=Lt&255,this[_n+1]=Lt>>>8,_n+2},V.prototype.writeInt16BE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,2,32767,-32768),this[_n]=Lt>>>8,this[_n+1]=Lt&255,_n+2},V.prototype.writeInt32LE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,4,2147483647,-2147483648),this[_n]=Lt&255,this[_n+1]=Lt>>>8,this[_n+2]=Lt>>>16,this[_n+3]=Lt>>>24,_n+4},V.prototype.writeInt32BE=function(Lt,_n,Bn){return Lt=+Lt,_n=_n>>>0,Bn||Pn(this,Lt,_n,4,2147483647,-2147483648),Lt<0&&(Lt=4294967295+Lt+1),this[_n]=Lt>>>24,this[_n+1]=Lt>>>16,this[_n+2]=Lt>>>8,this[_n+3]=Lt&255,_n+4};function Wn(Nn,Lt,_n,Bn,Xn,rr){if(_n+Bn>Nn.length)throw new RangeError("Index out of range");if(_n<0)throw new RangeError("Index out of range")}function ur(Nn,Lt,_n,Bn,Xn){return Lt=+Lt,_n=_n>>>0,Xn||Wn(Nn,Lt,_n,4),r.write(Nn,Lt,_n,Bn,23,4),_n+4}V.prototype.writeFloatLE=function(Lt,_n,Bn){return ur(this,Lt,_n,!0,Bn)},V.prototype.writeFloatBE=function(Lt,_n,Bn){return ur(this,Lt,_n,!1,Bn)};function hr(Nn,Lt,_n,Bn,Xn){return Lt=+Lt,_n=_n>>>0,Xn||Wn(Nn,Lt,_n,8),r.write(Nn,Lt,_n,Bn,52,8),_n+8}V.prototype.writeDoubleLE=function(Lt,_n,Bn){return hr(this,Lt,_n,!0,Bn)},V.prototype.writeDoubleBE=function(Lt,_n,Bn){return hr(this,Lt,_n,!1,Bn)},V.prototype.copy=function(Lt,_n,Bn,Xn){if(!V.isBuffer(Lt))throw new TypeError("argument should be a Buffer");if(Bn||(Bn=0),!Xn&&Xn!==0&&(Xn=this.length),_n>=Lt.length&&(_n=Lt.length),_n||(_n=0),Xn>0&&Xn<Bn&&(Xn=Bn),Xn===Bn||Lt.length===0||this.length===0)return 0;if(_n<0)throw new RangeError("targetStart out of bounds");if(Bn<0||Bn>=this.length)throw new RangeError("Index out of range");if(Xn<0)throw new RangeError("sourceEnd out of bounds");Xn>this.length&&(Xn=this.length),Lt.length-_n<Xn-Bn&&(Xn=Lt.length-_n+Bn);var rr=Xn-Bn;return this===Lt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_n,Bn,Xn):Uint8Array.prototype.set.call(Lt,this.subarray(Bn,Xn),_n),rr},V.prototype.fill=function(Lt,_n,Bn,Xn){if(typeof Lt=="string"){if(typeof _n=="string"?(Xn=_n,_n=0,Bn=this.length):typeof Bn=="string"&&(Xn=Bn,Bn=this.length),Xn!==void 0&&typeof Xn!="string")throw new TypeError("encoding must be a string");if(typeof Xn=="string"&&!V.isEncoding(Xn))throw new TypeError("Unknown encoding: "+Xn);if(Lt.length===1){var rr=Lt.charCodeAt(0);(Xn==="utf8"&&rr<128||Xn==="latin1")&&(Lt=rr)}}else typeof Lt=="number"?Lt=Lt&255:typeof Lt=="boolean"&&(Lt=Number(Lt));if(_n<0||this.length<_n||this.length<Bn)throw new RangeError("Out of range index");if(Bn<=_n)return this;_n=_n>>>0,Bn=Bn===void 0?this.length:Bn>>>0,Lt||(Lt=0);var ar;if(typeof Lt=="number")for(ar=_n;ar<Bn;++ar)this[ar]=Lt;else{var sr=V.isBuffer(Lt)?Lt:V.from(Lt,Xn),mr=sr.length;if(mr===0)throw new TypeError('The value "'+Lt+'" is invalid for argument "value"');for(ar=0;ar<Bn-_n;++ar)this[ar+_n]=sr[ar%mr]}return this};var Vn=/[^+/0-9A-Za-z-_]/g;function En(Nn){if(Nn=Nn.split("=")[0],Nn=Nn.trim().replace(Vn,""),Nn.length<2)return"";for(;Nn.length%4!==0;)Nn=Nn+"=";return Nn}function jn(Nn,Lt){Lt=Lt||1/0;for(var _n,Bn=Nn.length,Xn=null,rr=[],ar=0;ar<Bn;++ar){if(_n=Nn.charCodeAt(ar),_n>55295&&_n<57344){if(!Xn){if(_n>56319){(Lt-=3)>-1&&rr.push(239,191,189);continue}else if(ar+1===Bn){(Lt-=3)>-1&&rr.push(239,191,189);continue}Xn=_n;continue}if(_n<56320){(Lt-=3)>-1&&rr.push(239,191,189),Xn=_n;continue}_n=(Xn-55296<<10|_n-56320)+65536}else Xn&&(Lt-=3)>-1&&rr.push(239,191,189);if(Xn=null,_n<128){if((Lt-=1)<0)break;rr.push(_n)}else if(_n<2048){if((Lt-=2)<0)break;rr.push(_n>>6|192,_n&63|128)}else if(_n<65536){if((Lt-=3)<0)break;rr.push(_n>>12|224,_n>>6&63|128,_n&63|128)}else if(_n<1114112){if((Lt-=4)<0)break;rr.push(_n>>18|240,_n>>12&63|128,_n>>6&63|128,_n&63|128)}else throw new Error("Invalid code point")}return rr}function cr(Nn){for(var Lt=[],_n=0;_n<Nn.length;++_n)Lt.push(Nn.charCodeAt(_n)&255);return Lt}function gr(Nn,Lt){for(var _n,Bn,Xn,rr=[],ar=0;ar<Nn.length&&!((Lt-=2)<0);++ar)_n=Nn.charCodeAt(ar),Bn=_n>>8,Xn=_n%256,rr.push(Xn),rr.push(Bn);return rr}function Cr(Nn){return e.toByteArray(En(Nn))}function ir(Nn,Lt,_n,Bn){for(var Xn=0;Xn<Bn&&!(Xn+_n>=Lt.length||Xn>=Nn.length);++Xn)Lt[Xn+_n]=Nn[Xn];return Xn}function Gn(Nn,Lt){return Nn instanceof Lt||Nn!=null&&Nn.constructor!=null&&Nn.constructor.name!=null&&Nn.constructor.name===Lt.name}function hn(Nn){return Nn!==Nn}var Kn=function(){for(var Nn="0123456789abcdef",Lt=new Array(256),_n=0;_n<16;++_n)for(var Bn=_n*16,Xn=0;Xn<16;++Xn)Lt[Bn+Xn]=Nn[_n]+Nn[Xn];return Lt}()})(buffer$1);var buffer=buffer$1,Buffer$3=buffer.Buffer,safer={},key;for(key in buffer)buffer.hasOwnProperty(key)&&(key==="SlowBuffer"||key==="Buffer"||(safer[key]=buffer[key]));var Safer=safer.Buffer={};for(key in Buffer$3)Buffer$3.hasOwnProperty(key)&&(key==="allocUnsafe"||key==="allocUnsafeSlow"||(Safer[key]=Buffer$3[key]));safer.Buffer.prototype=Buffer$3.prototype;(!Safer.from||Safer.from===Uint8Array.from)&&(Safer.from=function(n,e,r){if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof n);if(n&&typeof n.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);return Buffer$3(n,e,r)});Safer.alloc||(Safer.alloc=function(n,e,r){if(typeof n!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof n);if(n<0||n>=2*(1<<30))throw new RangeError('The value "'+n+'" is invalid for option "size"');var g=Buffer$3(n);return!e||e.length===0?g.fill(0):typeof r=="string"?g.fill(e,r):g.fill(e),g});if(!safer.kStringMaxLength)try{safer.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength));var safer_1=safer,bomHandling={},BOMChar="\uFEFF";bomHandling.PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(n,e){this.encoder=n,this.addBOM=!0}PrependBOMWrapper.prototype.write=function(n){return this.addBOM&&(n=BOMChar+n,this.addBOM=!1),this.encoder.write(n)};PrependBOMWrapper.prototype.end=function(){return this.encoder.end()};bomHandling.StripBOM=StripBOMWrapper;function StripBOMWrapper(n,e){this.decoder=n,this.pass=!1,this.options=e||{}}StripBOMWrapper.prototype.write=function(n){var e=this.decoder.write(n);return this.pass||!e||(e[0]===BOMChar&&(e=e.slice(1),typeof this.options.stripBOM=="function"&&this.options.stripBOM()),this.pass=!0),e};StripBOMWrapper.prototype.end=function(){return this.decoder.end()};var encodings={},string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(n,e){var r=buffer$1,g=r.Buffer;function y($,V){for(var L in $)V[L]=$[L]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?n.exports=r:(y(r,e),e.Buffer=k);function k($,V,L){return g($,V,L)}y(g,k),k.from=function($,V,L){if(typeof $=="number")throw new TypeError("Argument must not be a number");return g($,V,L)},k.alloc=function($,V,L){if(typeof $!="number")throw new TypeError("Argument must be a number");var z=g($);return V!==void 0?typeof L=="string"?z.fill(V,L):z.fill(V):z.fill(0),z},k.allocUnsafe=function($){if(typeof $!="number")throw new TypeError("Argument must be a number");return g($)},k.allocUnsafeSlow=function($){if(typeof $!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer($)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var n=requireSafeBuffer().Buffer,e=n.isEncoding||function(he){switch(he=""+he,he&&he.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(he){if(!he)return"utf8";for(var Oe;;)switch(he){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return he;default:if(Oe)return;he=(""+he).toLowerCase(),Oe=!0}}function g(he){var Oe=r(he);if(typeof Oe!="string"&&(n.isEncoding===e||!e(he)))throw new Error("Unknown encoding: "+he);return Oe||he}string_decoder.StringDecoder=y;function y(he){this.encoding=g(he);var Oe;switch(this.encoding){case"utf16le":this.text=re,this.end=oe,Oe=4;break;case"utf8":this.fillLast=L,Oe=4;break;case"base64":this.text=ae,this.end=de,Oe=3;break;default:this.write=ue,this.end=pe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(Oe)}y.prototype.write=function(he){if(he.length===0)return"";var Oe,xe;if(this.lastNeed){if(Oe=this.fillLast(he),Oe===void 0)return"";xe=this.lastNeed,this.lastNeed=0}else xe=0;return xe<he.length?Oe?Oe+this.text(he,xe):this.text(he,xe):Oe||""},y.prototype.end=j,y.prototype.text=z,y.prototype.fillLast=function(he){if(this.lastNeed<=he.length)return he.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);he.copy(this.lastChar,this.lastTotal-this.lastNeed,0,he.length),this.lastNeed-=he.length};function k(he){return he<=127?0:he>>5===6?2:he>>4===14?3:he>>3===30?4:he>>6===2?-1:-2}function $(he,Oe,xe){var $e=Oe.length-1;if($e<xe)return 0;var Ne=k(Oe[$e]);return Ne>=0?(Ne>0&&(he.lastNeed=Ne-1),Ne):--$e<xe||Ne===-2?0:(Ne=k(Oe[$e]),Ne>=0?(Ne>0&&(he.lastNeed=Ne-2),Ne):--$e<xe||Ne===-2?0:(Ne=k(Oe[$e]),Ne>=0?(Ne>0&&(Ne===2?Ne=0:he.lastNeed=Ne-3),Ne):0))}function V(he,Oe,xe){if((Oe[0]&192)!==128)return he.lastNeed=0,"";if(he.lastNeed>1&&Oe.length>1){if((Oe[1]&192)!==128)return he.lastNeed=1,"";if(he.lastNeed>2&&Oe.length>2&&(Oe[2]&192)!==128)return he.lastNeed=2,""}}function L(he){var Oe=this.lastTotal-this.lastNeed,xe=V(this,he);if(xe!==void 0)return xe;if(this.lastNeed<=he.length)return he.copy(this.lastChar,Oe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);he.copy(this.lastChar,Oe,0,he.length),this.lastNeed-=he.length}function z(he,Oe){var xe=$(this,he,Oe);if(!this.lastNeed)return he.toString("utf8",Oe);this.lastTotal=xe;var $e=he.length-(xe-this.lastNeed);return he.copy(this.lastChar,0,$e),he.toString("utf8",Oe,$e)}function j(he){var Oe=he&&he.length?this.write(he):"";return this.lastNeed?Oe+"":Oe}function re(he,Oe){if((he.length-Oe)%2===0){var xe=he.toString("utf16le",Oe);if(xe){var $e=xe.charCodeAt(xe.length-1);if($e>=55296&&$e<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=he[he.length-2],this.lastChar[1]=he[he.length-1],xe.slice(0,-1)}return xe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=he[he.length-1],he.toString("utf16le",Oe,he.length-1)}function oe(he){var Oe=he&&he.length?this.write(he):"";if(this.lastNeed){var xe=this.lastTotal-this.lastNeed;return Oe+this.lastChar.toString("utf16le",0,xe)}return Oe}function ae(he,Oe){var xe=(he.length-Oe)%3;return xe===0?he.toString("base64",Oe):(this.lastNeed=3-xe,this.lastTotal=3,xe===1?this.lastChar[0]=he[he.length-1]:(this.lastChar[0]=he[he.length-2],this.lastChar[1]=he[he.length-1]),he.toString("base64",Oe,he.length-xe))}function de(he){var Oe=he&&he.length?this.write(he):"";return this.lastNeed?Oe+this.lastChar.toString("base64",0,3-this.lastNeed):Oe}function ue(he){return he.toString(this.encoding)}function pe(he){return he&&he.length?this.write(he):""}return string_decoder}var internal,hasRequiredInternal;function requireInternal(){if(hasRequiredInternal)return internal;hasRequiredInternal=1;var n=safer_1.Buffer;internal={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:e};function e(L,z){this.enc=L.encodingName,this.bomAware=L.bomAware,this.enc==="base64"?this.encoder=k:this.enc==="cesu8"&&(this.enc="utf8",this.encoder=$,n.from("eda0bdedb2a9","hex").toString()!==""&&(this.decoder=V,this.defaultCharUnicode=z.defaultCharUnicode))}e.prototype.encoder=y,e.prototype.decoder=g;var r=requireString_decoder().StringDecoder;r.prototype.end||(r.prototype.end=function(){});function g(L,z){this.decoder=new r(z.enc)}g.prototype.write=function(L){return n.isBuffer(L)||(L=n.from(L)),this.decoder.write(L)},g.prototype.end=function(){return this.decoder.end()};function y(L,z){this.enc=z.enc}y.prototype.write=function(L){return n.from(L,this.enc)},y.prototype.end=function(){};function k(L,z){this.prevStr=""}k.prototype.write=function(L){L=this.prevStr+L;var z=L.length-L.length%4;return this.prevStr=L.slice(z),L=L.slice(0,z),n.from(L,"base64")},k.prototype.end=function(){return n.from(this.prevStr,"base64")};function $(L,z){}$.prototype.write=function(L){for(var z=n.alloc(L.length*3),j=0,re=0;re<L.length;re++){var oe=L.charCodeAt(re);oe<128?z[j++]=oe:oe<2048?(z[j++]=192+(oe>>>6),z[j++]=128+(oe&63)):(z[j++]=224+(oe>>>12),z[j++]=128+(oe>>>6&63),z[j++]=128+(oe&63))}return z.slice(0,j)},$.prototype.end=function(){};function V(L,z){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=z.defaultCharUnicode}return V.prototype.write=function(L){for(var z=this.acc,j=this.contBytes,re=this.accBytes,oe="",ae=0;ae<L.length;ae++){var de=L[ae];(de&192)!==128?(j>0&&(oe+=this.defaultCharUnicode,j=0),de<128?oe+=String.fromCharCode(de):de<224?(z=de&31,j=1,re=1):de<240?(z=de&15,j=2,re=1):oe+=this.defaultCharUnicode):j>0?(z=z<<6|de&63,j--,re++,j===0&&(re===2&&z<128&&z>0?oe+=this.defaultCharUnicode:re===3&&z<2048?oe+=this.defaultCharUnicode:oe+=String.fromCharCode(z))):oe+=this.defaultCharUnicode}return this.acc=z,this.contBytes=j,this.accBytes=re,oe},V.prototype.end=function(){var L=0;return this.contBytes>0&&(L+=this.defaultCharUnicode),L},internal}var utf32={},hasRequiredUtf32;function requireUtf32(){if(hasRequiredUtf32)return utf32;hasRequiredUtf32=1;var n=safer_1.Buffer;utf32._utf32=e;function e(z,j){this.iconv=j,this.bomAware=!0,this.isLE=z.isLE}utf32.utf32le={type:"_utf32",isLE:!0},utf32.utf32be={type:"_utf32",isLE:!1},utf32.ucs4le="utf32le",utf32.ucs4be="utf32be",e.prototype.encoder=r,e.prototype.decoder=g;function r(z,j){this.isLE=j.isLE,this.highSurrogate=0}r.prototype.write=function(z){for(var j=n.from(z,"ucs2"),re=n.alloc(j.length*2),oe=this.isLE?re.writeUInt32LE:re.writeUInt32BE,ae=0,de=0;de<j.length;de+=2){var ue=j.readUInt16LE(de),pe=55296<=ue&&ue<56320,he=56320<=ue&&ue<57344;if(this.highSurrogate)if(pe||!he)oe.call(re,this.highSurrogate,ae),ae+=4;else{var Oe=(this.highSurrogate-55296<<10|ue-56320)+65536;oe.call(re,Oe,ae),ae+=4,this.highSurrogate=0;continue}pe?this.highSurrogate=ue:(oe.call(re,ue,ae),ae+=4,this.highSurrogate=0)}return ae<re.length&&(re=re.slice(0,ae)),re},r.prototype.end=function(){if(this.highSurrogate){var z=n.alloc(4);return this.isLE?z.writeUInt32LE(this.highSurrogate,0):z.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,z}};function g(z,j){this.isLE=j.isLE,this.badChar=j.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}g.prototype.write=function(z){if(z.length===0)return"";var j=0,re=0,oe=n.alloc(z.length+4),ae=0,de=this.isLE,ue=this.overflow,pe=this.badChar;if(ue.length>0){for(;j<z.length&&ue.length<4;j++)ue.push(z[j]);ue.length===4&&(de?re=ue[j]|ue[j+1]<<8|ue[j+2]<<16|ue[j+3]<<24:re=ue[j+3]|ue[j+2]<<8|ue[j+1]<<16|ue[j]<<24,ue.length=0,ae=y(oe,ae,re,pe))}for(;j<z.length-3;j+=4)de?re=z[j]|z[j+1]<<8|z[j+2]<<16|z[j+3]<<24:re=z[j+3]|z[j+2]<<8|z[j+1]<<16|z[j]<<24,ae=y(oe,ae,re,pe);for(;j<z.length;j++)ue.push(z[j]);return oe.slice(0,ae).toString("ucs2")};function y(z,j,re,oe){if((re<0||re>1114111)&&(re=oe),re>=65536){re-=65536;var ae=55296|re>>10;z[j++]=ae&255,z[j++]=ae>>8;var re=56320|re&1023}return z[j++]=re&255,z[j++]=re>>8,j}g.prototype.end=function(){this.overflow.length=0},utf32.utf32=k,utf32.ucs4="utf32";function k(z,j){this.iconv=j}k.prototype.encoder=$,k.prototype.decoder=V;function $(z,j){z=z||{},z.addBOM===void 0&&(z.addBOM=!0),this.encoder=j.iconv.getEncoder(z.defaultEncoding||"utf-32le",z)}$.prototype.write=function(z){return this.encoder.write(z)},$.prototype.end=function(){return this.encoder.end()};function V(z,j){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=z||{},this.iconv=j.iconv}V.prototype.write=function(z){if(!this.decoder){if(this.initialBufs.push(z),this.initialBufsLen+=z.length,this.initialBufsLen<32)return"";var j=L(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(j,this.options);for(var re="",oe=0;oe<this.initialBufs.length;oe++)re+=this.decoder.write(this.initialBufs[oe]);return this.initialBufs.length=this.initialBufsLen=0,re}return this.decoder.write(z)},V.prototype.end=function(){if(!this.decoder){var z=L(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(z,this.options);for(var j="",re=0;re<this.initialBufs.length;re++)j+=this.decoder.write(this.initialBufs[re]);var oe=this.decoder.end();return oe&&(j+=oe),this.initialBufs.length=this.initialBufsLen=0,j}return this.decoder.end()};function L(z,j){var re=[],oe=0,ae=0,de=0,ue=0,pe=0;e:for(var he=0;he<z.length;he++)for(var Oe=z[he],xe=0;xe<Oe.length;xe++)if(re.push(Oe[xe]),re.length===4){if(oe===0){if(re[0]===255&&re[1]===254&&re[2]===0&&re[3]===0)return"utf-32le";if(re[0]===0&&re[1]===0&&re[2]===254&&re[3]===255)return"utf-32be"}if((re[0]!==0||re[1]>16)&&de++,(re[3]!==0||re[2]>16)&&ae++,re[0]===0&&re[1]===0&&(re[2]!==0||re[3]!==0)&&pe++,(re[0]!==0||re[1]!==0)&&re[2]===0&&re[3]===0&&ue++,re.length=0,oe++,oe>=100)break e}return pe-de>ue-ae?"utf-32be":pe-de<ue-ae?"utf-32le":j||"utf-32le"}return utf32}var utf16={},hasRequiredUtf16;function requireUtf16(){if(hasRequiredUtf16)return utf16;hasRequiredUtf16=1;var n=safer_1.Buffer;utf16.utf16be=e;function e(){}e.prototype.encoder=r,e.prototype.decoder=g,e.prototype.bomAware=!0;function r(){}r.prototype.write=function(L){for(var z=n.from(L,"ucs2"),j=0;j<z.length;j+=2){var re=z[j];z[j]=z[j+1],z[j+1]=re}return z},r.prototype.end=function(){};function g(){this.overflowByte=-1}g.prototype.write=function(L){if(L.length==0)return"";var z=n.alloc(L.length+1),j=0,re=0;for(this.overflowByte!==-1&&(z[0]=L[0],z[1]=this.overflowByte,j=1,re=2);j<L.length-1;j+=2,re+=2)z[re]=L[j+1],z[re+1]=L[j];return this.overflowByte=j==L.length-1?L[L.length-1]:-1,z.slice(0,re).toString("ucs2")},g.prototype.end=function(){this.overflowByte=-1},utf16.utf16=y;function y(L,z){this.iconv=z}y.prototype.encoder=k,y.prototype.decoder=$;function k(L,z){L=L||{},L.addBOM===void 0&&(L.addBOM=!0),this.encoder=z.iconv.getEncoder("utf-16le",L)}k.prototype.write=function(L){return this.encoder.write(L)},k.prototype.end=function(){return this.encoder.end()};function $(L,z){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=L||{},this.iconv=z.iconv}$.prototype.write=function(L){if(!this.decoder){if(this.initialBufs.push(L),this.initialBufsLen+=L.length,this.initialBufsLen<16)return"";var z=V(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(z,this.options);for(var j="",re=0;re<this.initialBufs.length;re++)j+=this.decoder.write(this.initialBufs[re]);return this.initialBufs.length=this.initialBufsLen=0,j}return this.decoder.write(L)},$.prototype.end=function(){if(!this.decoder){var L=V(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(L,this.options);for(var z="",j=0;j<this.initialBufs.length;j++)z+=this.decoder.write(this.initialBufs[j]);var re=this.decoder.end();return re&&(z+=re),this.initialBufs.length=this.initialBufsLen=0,z}return this.decoder.end()};function V(L,z){var j=[],re=0,oe=0,ae=0;e:for(var de=0;de<L.length;de++)for(var ue=L[de],pe=0;pe<ue.length;pe++)if(j.push(ue[pe]),j.length===2){if(re===0){if(j[0]===255&&j[1]===254)return"utf-16le";if(j[0]===254&&j[1]===255)return"utf-16be"}if(j[0]===0&&j[1]!==0&&ae++,j[0]!==0&&j[1]===0&&oe++,j.length=0,re++,re>=100)break e}return ae>oe?"utf-16be":ae<oe?"utf-16le":z||"utf-16le"}return utf16}var utf7={},hasRequiredUtf7;function requireUtf7(){if(hasRequiredUtf7)return utf7;hasRequiredUtf7=1;var n=safer_1.Buffer;utf7.utf7=e,utf7.unicode11utf7="utf7";function e(ue,pe){this.iconv=pe}e.prototype.encoder=g,e.prototype.decoder=y,e.prototype.bomAware=!0;var r=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function g(ue,pe){this.iconv=pe.iconv}g.prototype.write=function(ue){return n.from(ue.replace(r,function(pe){return"+"+(pe==="+"?"":this.iconv.encode(pe,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},g.prototype.end=function(){};function y(ue,pe){this.iconv=pe.iconv,this.inBase64=!1,this.base64Accum=""}for(var k=/[A-Za-z0-9\/+]/,$=[],V=0;V<256;V++)$[V]=k.test(String.fromCharCode(V));var L=43,z=45,j=38;y.prototype.write=function(ue){for(var pe="",he=0,Oe=this.inBase64,xe=this.base64Accum,$e=0;$e<ue.length;$e++)if(!Oe)ue[$e]==L&&(pe+=this.iconv.decode(ue.slice(he,$e),"ascii"),he=$e+1,Oe=!0);else if(!$[ue[$e]]){if($e==he&&ue[$e]==z)pe+="+";else{var Ne=xe+this.iconv.decode(ue.slice(he,$e),"ascii");pe+=this.iconv.decode(n.from(Ne,"base64"),"utf16-be")}ue[$e]!=z&&$e--,he=$e+1,Oe=!1,xe=""}if(!Oe)pe+=this.iconv.decode(ue.slice(he),"ascii");else{var Ne=xe+this.iconv.decode(ue.slice(he),"ascii"),Ce=Ne.length-Ne.length%8;xe=Ne.slice(Ce),Ne=Ne.slice(0,Ce),pe+=this.iconv.decode(n.from(Ne,"base64"),"utf16-be")}return this.inBase64=Oe,this.base64Accum=xe,pe},y.prototype.end=function(){var ue="";return this.inBase64&&this.base64Accum.length>0&&(ue=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",ue},utf7.utf7imap=re;function re(ue,pe){this.iconv=pe}re.prototype.encoder=oe,re.prototype.decoder=ae,re.prototype.bomAware=!0;function oe(ue,pe){this.iconv=pe.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}oe.prototype.write=function(ue){for(var pe=this.inBase64,he=this.base64Accum,Oe=this.base64AccumIdx,xe=n.alloc(ue.length*5+10),$e=0,Ne=0;Ne<ue.length;Ne++){var Ce=ue.charCodeAt(Ne);32<=Ce&&Ce<=126?(pe&&(Oe>0&&($e+=xe.write(he.slice(0,Oe).toString("base64").replace(/\//g,",").replace(/=+$/,""),$e),Oe=0),xe[$e++]=z,pe=!1),pe||(xe[$e++]=Ce,Ce===j&&(xe[$e++]=z))):(pe||(xe[$e++]=j,pe=!0),pe&&(he[Oe++]=Ce>>8,he[Oe++]=Ce&255,Oe==he.length&&($e+=xe.write(he.toString("base64").replace(/\//g,","),$e),Oe=0)))}return this.inBase64=pe,this.base64AccumIdx=Oe,xe.slice(0,$e)},oe.prototype.end=function(){var ue=n.alloc(10),pe=0;return this.inBase64&&(this.base64AccumIdx>0&&(pe+=ue.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),pe),this.base64AccumIdx=0),ue[pe++]=z,this.inBase64=!1),ue.slice(0,pe)};function ae(ue,pe){this.iconv=pe.iconv,this.inBase64=!1,this.base64Accum=""}var de=$.slice();return de[44]=!0,ae.prototype.write=function(ue){for(var pe="",he=0,Oe=this.inBase64,xe=this.base64Accum,$e=0;$e<ue.length;$e++)if(!Oe)ue[$e]==j&&(pe+=this.iconv.decode(ue.slice(he,$e),"ascii"),he=$e+1,Oe=!0);else if(!de[ue[$e]]){if($e==he&&ue[$e]==z)pe+="&";else{var Ne=xe+this.iconv.decode(ue.slice(he,$e),"ascii").replace(/,/g,"/");pe+=this.iconv.decode(n.from(Ne,"base64"),"utf16-be")}ue[$e]!=z&&$e--,he=$e+1,Oe=!1,xe=""}if(!Oe)pe+=this.iconv.decode(ue.slice(he),"ascii");else{var Ne=xe+this.iconv.decode(ue.slice(he),"ascii").replace(/,/g,"/"),Ce=Ne.length-Ne.length%8;xe=Ne.slice(Ce),Ne=Ne.slice(0,Ce),pe+=this.iconv.decode(n.from(Ne,"base64"),"utf16-be")}return this.inBase64=Oe,this.base64Accum=xe,pe},ae.prototype.end=function(){var ue="";return this.inBase64&&this.base64Accum.length>0&&(ue=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",ue},utf7}var sbcsCodec={},hasRequiredSbcsCodec;function requireSbcsCodec(){if(hasRequiredSbcsCodec)return sbcsCodec;hasRequiredSbcsCodec=1;var n=safer_1.Buffer;sbcsCodec._sbcs=e;function e(y,k){if(!y)throw new Error("SBCS codec is called without the data.");if(!y.chars||y.chars.length!==128&&y.chars.length!==256)throw new Error("Encoding '"+y.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(y.chars.length===128){for(var $="",V=0;V<128;V++)$+=String.fromCharCode(V);y.chars=$+y.chars}this.decodeBuf=n.from(y.chars,"ucs2");for(var L=n.alloc(65536,k.defaultCharSingleByte.charCodeAt(0)),V=0;V<y.chars.length;V++)L[y.chars.charCodeAt(V)]=V;this.encodeBuf=L}e.prototype.encoder=r,e.prototype.decoder=g;function r(y,k){this.encodeBuf=k.encodeBuf}r.prototype.write=function(y){for(var k=n.alloc(y.length),$=0;$<y.length;$++)k[$]=this.encodeBuf[y.charCodeAt($)];return k},r.prototype.end=function(){};function g(y,k){this.decodeBuf=k.decodeBuf}return g.prototype.write=function(y){for(var k=this.decodeBuf,$=n.alloc(y.length*2),V=0,L=0,z=0;z<y.length;z++)V=y[z]*2,L=z*2,$[L]=k[V],$[L+1]=k[V+1];return $.toString("ucs2")},g.prototype.end=function(){},sbcsCodec}var sbcsData,hasRequiredSbcsData;function requireSbcsData(){return hasRequiredSbcsData||(hasRequiredSbcsData=1,sbcsData={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),sbcsData}var sbcsDataGenerated,hasRequiredSbcsDataGenerated;function requireSbcsDataGenerated(){return hasRequiredSbcsDataGenerated||(hasRequiredSbcsDataGenerated=1,sbcsDataGenerated={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},iso646cn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}`},iso646jp:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_\`abcdefghijklmnopqrstuvwxyz{|}`},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),sbcsDataGenerated}var dbcsCodec={},hasRequiredDbcsCodec;function requireDbcsCodec(){if(hasRequiredDbcsCodec)return dbcsCodec;hasRequiredDbcsCodec=1;var n=safer_1.Buffer;dbcsCodec._dbcs=L;for(var e=-1,r=-2,g=-10,y=-1e3,k=new Array(256),$=-1,V=0;V<256;V++)k[V]=e;function L(oe,ae){if(this.encodingName=oe.encodingName,!oe)throw new Error("DBCS codec is called without the data.");if(!oe.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var de=oe.table();this.decodeTables=[],this.decodeTables[0]=k.slice(0),this.decodeTableSeq=[];for(var ue=0;ue<de.length;ue++)this._addDecodeChunk(de[ue]);if(typeof oe.gb18030=="function"){this.gb18030=oe.gb18030();var pe=this.decodeTables.length;this.decodeTables.push(k.slice(0));var he=this.decodeTables.length;this.decodeTables.push(k.slice(0));for(var Oe=this.decodeTables[0],ue=129;ue<=254;ue++)for(var xe=this.decodeTables[y-Oe[ue]],$e=48;$e<=57;$e++){if(xe[$e]===e)xe[$e]=y-pe;else if(xe[$e]>y)throw new Error("gb18030 decode tables conflict at byte 2");for(var Ne=this.decodeTables[y-xe[$e]],Ce=129;Ce<=254;Ce++){if(Ne[Ce]===e)Ne[Ce]=y-he;else{if(Ne[Ce]===y-he)continue;if(Ne[Ce]>y)throw new Error("gb18030 decode tables conflict at byte 3")}for(var Fe=this.decodeTables[y-Ne[Ce]],ze=48;ze<=57;ze++)Fe[ze]===e&&(Fe[ze]=r)}}}this.defaultCharUnicode=ae.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var kt={};if(oe.encodeSkipVals)for(var ue=0;ue<oe.encodeSkipVals.length;ue++){var At=oe.encodeSkipVals[ue];if(typeof At=="number")kt[At]=!0;else for(var $e=At.from;$e<=At.to;$e++)kt[$e]=!0}if(this._fillEncodeTable(0,0,kt),oe.encodeAdd)for(var Cn in oe.encodeAdd)Object.prototype.hasOwnProperty.call(oe.encodeAdd,Cn)&&this._setEncodeChar(Cn.charCodeAt(0),oe.encodeAdd[Cn]);this.defCharSB=this.encodeTable[0][ae.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===e&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===e&&(this.defCharSB=63)}L.prototype.encoder=z,L.prototype.decoder=j,L.prototype._getDecodeTrieNode=function(oe){for(var ae=[];oe>0;oe>>>=8)ae.push(oe&255);ae.length==0&&ae.push(0);for(var de=this.decodeTables[0],ue=ae.length-1;ue>0;ue--){var pe=de[ae[ue]];if(pe==e)de[ae[ue]]=y-this.decodeTables.length,this.decodeTables.push(de=k.slice(0));else if(pe<=y)de=this.decodeTables[y-pe];else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+oe.toString(16))}return de},L.prototype._addDecodeChunk=function(oe){var ae=parseInt(oe[0],16),de=this._getDecodeTrieNode(ae);ae=ae&255;for(var ue=1;ue<oe.length;ue++){var pe=oe[ue];if(typeof pe=="string")for(var he=0;he<pe.length;){var Oe=pe.charCodeAt(he++);if(55296<=Oe&&Oe<56320){var xe=pe.charCodeAt(he++);if(56320<=xe&&xe<57344)de[ae++]=65536+(Oe-55296)*1024+(xe-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+oe[0])}else if(4080<Oe&&Oe<=4095){for(var $e=4095-Oe+2,Ne=[],Ce=0;Ce<$e;Ce++)Ne.push(pe.charCodeAt(he++));de[ae++]=g-this.decodeTableSeq.length,this.decodeTableSeq.push(Ne)}else de[ae++]=Oe}else if(typeof pe=="number")for(var Fe=de[ae-1]+1,he=0;he<pe;he++)de[ae++]=Fe++;else throw new Error("Incorrect type '"+typeof pe+"' given in "+this.encodingName+" at chunk "+oe[0])}if(ae>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+oe[0]+": too long"+ae)},L.prototype._getEncodeBucket=function(oe){var ae=oe>>8;return this.encodeTable[ae]===void 0&&(this.encodeTable[ae]=k.slice(0)),this.encodeTable[ae]},L.prototype._setEncodeChar=function(oe,ae){var de=this._getEncodeBucket(oe),ue=oe&255;de[ue]<=g?this.encodeTableSeq[g-de[ue]][$]=ae:de[ue]==e&&(de[ue]=ae)},L.prototype._setEncodeSequence=function(oe,ae){var de=oe[0],ue=this._getEncodeBucket(de),pe=de&255,he;ue[pe]<=g?he=this.encodeTableSeq[g-ue[pe]]:(he={},ue[pe]!==e&&(he[$]=ue[pe]),ue[pe]=g-this.encodeTableSeq.length,this.encodeTableSeq.push(he));for(var Oe=1;Oe<oe.length-1;Oe++){var xe=he[de];typeof xe=="object"?he=xe:(he=he[de]={},xe!==void 0&&(he[$]=xe))}de=oe[oe.length-1],he[de]=ae},L.prototype._fillEncodeTable=function(oe,ae,de){for(var ue=this.decodeTables[oe],pe=!1,he={},Oe=0;Oe<256;Oe++){var xe=ue[Oe],$e=ae+Oe;if(!de[$e])if(xe>=0)this._setEncodeChar(xe,$e),pe=!0;else if(xe<=y){var Ne=y-xe;if(!he[Ne]){var Ce=$e<<8>>>0;this._fillEncodeTable(Ne,Ce,de)?pe=!0:he[Ne]=!0}}else xe<=g&&(this._setEncodeSequence(this.decodeTableSeq[g-xe],$e),pe=!0)}return pe};function z(oe,ae){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=ae.encodeTable,this.encodeTableSeq=ae.encodeTableSeq,this.defaultCharSingleByte=ae.defCharSB,this.gb18030=ae.gb18030}z.prototype.write=function(oe){for(var ae=n.alloc(oe.length*(this.gb18030?4:3)),de=this.leadSurrogate,ue=this.seqObj,pe=-1,he=0,Oe=0;;){if(pe===-1){if(he==oe.length)break;var xe=oe.charCodeAt(he++)}else{var xe=pe;pe=-1}if(55296<=xe&&xe<57344)if(xe<56320)if(de===-1){de=xe;continue}else de=xe,xe=e;else de!==-1?(xe=65536+(de-55296)*1024+(xe-56320),de=-1):xe=e;else de!==-1&&(pe=xe,xe=e,de=-1);var $e=e;if(ue!==void 0&&xe!=e){var Ne=ue[xe];if(typeof Ne=="object"){ue=Ne;continue}else typeof Ne=="number"?$e=Ne:Ne==null&&(Ne=ue[$],Ne!==void 0&&($e=Ne,pe=xe));ue=void 0}else if(xe>=0){var Ce=this.encodeTable[xe>>8];if(Ce!==void 0&&($e=Ce[xe&255]),$e<=g){ue=this.encodeTableSeq[g-$e];continue}if($e==e&&this.gb18030){var Fe=re(this.gb18030.uChars,xe);if(Fe!=-1){var $e=this.gb18030.gbChars[Fe]+(xe-this.gb18030.uChars[Fe]);ae[Oe++]=129+Math.floor($e/12600),$e=$e%12600,ae[Oe++]=48+Math.floor($e/1260),$e=$e%1260,ae[Oe++]=129+Math.floor($e/10),$e=$e%10,ae[Oe++]=48+$e;continue}}}$e===e&&($e=this.defaultCharSingleByte),$e<256?ae[Oe++]=$e:$e<65536?(ae[Oe++]=$e>>8,ae[Oe++]=$e&255):$e<16777216?(ae[Oe++]=$e>>16,ae[Oe++]=$e>>8&255,ae[Oe++]=$e&255):(ae[Oe++]=$e>>>24,ae[Oe++]=$e>>>16&255,ae[Oe++]=$e>>>8&255,ae[Oe++]=$e&255)}return this.seqObj=ue,this.leadSurrogate=de,ae.slice(0,Oe)},z.prototype.end=function(){if(!(this.leadSurrogate===-1&&this.seqObj===void 0)){var oe=n.alloc(10),ae=0;if(this.seqObj){var de=this.seqObj[$];de!==void 0&&(de<256?oe[ae++]=de:(oe[ae++]=de>>8,oe[ae++]=de&255)),this.seqObj=void 0}return this.leadSurrogate!==-1&&(oe[ae++]=this.defaultCharSingleByte,this.leadSurrogate=-1),oe.slice(0,ae)}},z.prototype.findIdx=re;function j(oe,ae){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=ae.decodeTables,this.decodeTableSeq=ae.decodeTableSeq,this.defaultCharUnicode=ae.defaultCharUnicode,this.gb18030=ae.gb18030}j.prototype.write=function(oe){for(var ae=n.alloc(oe.length*2),de=this.nodeIdx,ue=this.prevBytes,pe=this.prevBytes.length,he=-this.prevBytes.length,Oe,xe=0,$e=0;xe<oe.length;xe++){var Ne=xe>=0?oe[xe]:ue[xe+pe],Oe=this.decodeTables[de][Ne];if(!(Oe>=0))if(Oe===e)Oe=this.defaultCharUnicode.charCodeAt(0),xe=he;else if(Oe===r){if(xe>=3)var Ce=(oe[xe-3]-129)*12600+(oe[xe-2]-48)*1260+(oe[xe-1]-129)*10+(Ne-48);else var Ce=(ue[xe-3+pe]-129)*12600+((xe-2>=0?oe[xe-2]:ue[xe-2+pe])-48)*1260+((xe-1>=0?oe[xe-1]:ue[xe-1+pe])-129)*10+(Ne-48);var Fe=re(this.gb18030.gbChars,Ce);Oe=this.gb18030.uChars[Fe]+Ce-this.gb18030.gbChars[Fe]}else if(Oe<=y){de=y-Oe;continue}else if(Oe<=g){for(var ze=this.decodeTableSeq[g-Oe],kt=0;kt<ze.length-1;kt++)Oe=ze[kt],ae[$e++]=Oe&255,ae[$e++]=Oe>>8;Oe=ze[ze.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+Oe+" at "+de+"/"+Ne);if(Oe>=65536){Oe-=65536;var At=55296|Oe>>10;ae[$e++]=At&255,ae[$e++]=At>>8,Oe=56320|Oe&1023}ae[$e++]=Oe&255,ae[$e++]=Oe>>8,de=0,he=xe+1}return this.nodeIdx=de,this.prevBytes=he>=0?Array.prototype.slice.call(oe,he):ue.slice(he+pe).concat(Array.prototype.slice.call(oe)),ae.slice(0,$e).toString("ucs2")},j.prototype.end=function(){for(var oe="";this.prevBytes.length>0;){oe+=this.defaultCharUnicode;var ae=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,ae.length>0&&(oe+=this.write(ae))}return this.prevBytes=[],this.nodeIdx=0,oe};function re(oe,ae){if(oe[0]>ae)return-1;for(var de=0,ue=oe.length;de<ue-1;){var pe=de+(ue-de+1>>1);oe[pe]<=ae?de=pe:ue=pe}return de}return dbcsCodec}const require$$0=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],require$$1=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],require$$2$1=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],require$$3=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],uChars=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3],require$$4={uChars,gbChars},require$$5=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],require$$6=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],require$$7=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];var dbcsData,hasRequiredDbcsData;function requireDbcsData(){return hasRequiredDbcsData||(hasRequiredDbcsData=1,dbcsData={shiftjis:{type:"_dbcs",table:function(){return require$$0},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return require$$1},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return require$$2$1}},gbk:{type:"_dbcs",table:function(){return require$$2$1.concat(require$$3)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return require$$2$1.concat(require$$3)},gb18030:function(){return require$$4},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return require$$5}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return require$$6}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return require$$6.concat(require$$7)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),dbcsData}var hasRequiredEncodings;function requireEncodings(){return hasRequiredEncodings||(hasRequiredEncodings=1,function(n){for(var e=[requireInternal(),requireUtf32(),requireUtf16(),requireUtf7(),requireSbcsCodec(),requireSbcsData(),requireSbcsDataGenerated(),requireDbcsCodec(),requireDbcsData()],r=0;r<e.length;r++){var g=e[r];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(n[y]=g[y])}}(encodings)),encodings}var streams,hasRequiredStreams;function requireStreams(){if(hasRequiredStreams)return streams;hasRequiredStreams=1;var n=safer_1.Buffer;return streams=function(e){var r=e.Transform;function g(k,$){this.conv=k,$=$||{},$.decodeStrings=!1,r.call(this,$)}g.prototype=Object.create(r.prototype,{constructor:{value:g}}),g.prototype._transform=function(k,$,V){if(typeof k!="string")return V(new Error("Iconv encoding stream needs strings as its input."));try{var L=this.conv.write(k);L&&L.length&&this.push(L),V()}catch(z){V(z)}},g.prototype._flush=function(k){try{var $=this.conv.end();$&&$.length&&this.push($),k()}catch(V){k(V)}},g.prototype.collect=function(k){var $=[];return this.on("error",k),this.on("data",function(V){$.push(V)}),this.on("end",function(){k(null,n.concat($))}),this};function y(k,$){this.conv=k,$=$||{},$.encoding=this.encoding="utf8",r.call(this,$)}return y.prototype=Object.create(r.prototype,{constructor:{value:y}}),y.prototype._transform=function(k,$,V){if(!n.isBuffer(k)&&!(k instanceof Uint8Array))return V(new Error("Iconv decoding stream needs buffers as its input."));try{var L=this.conv.write(k);L&&L.length&&this.push(L,this.encoding),V()}catch(z){V(z)}},y.prototype._flush=function(k){try{var $=this.conv.end();$&&$.length&&this.push($,this.encoding),k()}catch(V){k(V)}},y.prototype.collect=function(k){var $="";return this.on("error",k),this.on("data",function(V){$+=V}),this.on("end",function(){k(null,$)}),this},{IconvLiteEncoderStream:g,IconvLiteDecoderStream:y}},streams}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(n){var e=safer_1.Buffer,r=bomHandling,g=n.exports;g.encodings=null,g.defaultCharUnicode="",g.defaultCharSingleByte="?",g.encode=function($,V,L){$=""+($||"");var z=g.getEncoder(V,L),j=z.write($),re=z.end();return re&&re.length>0?e.concat([j,re]):j},g.decode=function($,V,L){typeof $=="string"&&(g.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),g.skipDecodeWarning=!0),$=e.from(""+($||""),"binary"));var z=g.getDecoder(V,L),j=z.write($),re=z.end();return re?j+re:j},g.encodingExists=function($){try{return g.getCodec($),!0}catch{return!1}},g.toEncoding=g.encode,g.fromEncoding=g.decode,g._codecDataCache={},g.getCodec=function($){g.encodings||(g.encodings=requireEncodings());for(var V=g._canonicalizeEncoding($),L={};;){var z=g._codecDataCache[V];if(z)return z;var j=g.encodings[V];switch(typeof j){case"string":V=j;break;case"object":for(var re in j)L[re]=j[re];L.encodingName||(L.encodingName=V),V=j.type;break;case"function":return L.encodingName||(L.encodingName=V),z=new j(L,g),g._codecDataCache[L.encodingName]=z,z;default:throw new Error("Encoding not recognized: '"+$+"' (searched as: '"+V+"')")}}},g._canonicalizeEncoding=function(k){return(""+k).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},g.getEncoder=function($,V){var L=g.getCodec($),z=new L.encoder(V,L);return L.bomAware&&V&&V.addBOM&&(z=new r.PrependBOM(z,V)),z},g.getDecoder=function($,V){var L=g.getCodec($),z=new L.decoder(V,L);return L.bomAware&&!(V&&V.stripBOM===!1)&&(z=new r.StripBOM(z,V)),z},g.enableStreamingAPI=function($){if(!g.supportsStreams){var V=requireStreams()($);g.IconvLiteEncoderStream=V.IconvLiteEncoderStream,g.IconvLiteDecoderStream=V.IconvLiteDecoderStream,g.encodeStream=function(z,j){return new g.IconvLiteEncoderStream(g.getEncoder(z,j),j)},g.decodeStream=function(z,j){return new g.IconvLiteDecoderStream(g.getDecoder(z,j),j)},g.supportsStreams=!0}};var y;try{y=require$$2}catch{}y&&y.Transform?g.enableStreamingAPI(y):g.encodeStream=g.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}})(lib);var libExports=lib.exports;const iconv=getDefaultExportFromCjs(libExports),types$7={version:"uint16",count:"uint16",storageOffset:"Offset16",langTagCount:"uint16",length:"uint16",langTagOffset:"Offset16",platformID:"uint16",encodingID:"uint16",languageID:"uint16",nameID:"uint16",stringOffset:"Offset16",stringPool:"raw"},parse$c=(n,e,r)=>{start(n,e);const g=decoder[types$7.version](),y=decoder[types$7.version](),k=decoder[types$7.storageOffset](),$=[];for(let L=0;L<y;L++){const z=decoder[types$7.platformID](),j=decoder[types$7.encodingID](),re=decoder[types$7.languageID](),oe=decoder[types$7.nameID](),ae=decoder[types$7.length](),de=decoder[types$7.stringOffset](),ue=getStorageString(n,de,ae);$.push({platformID:z,encodingID:j,languageID:re,nameID:oe,length:ae,stringOffset:de,str:ue})}const V={version:g,count:y,storageOffset:k,nameRecord:$};if(g>=1&&(V.langTagCount=decoder[types$7.version](),V.langTagRecord=[],V.langTagCount))for(let L=0;L<V.langTagCount;L++){const z=decoder[types$7.length](),j=decoder[types$7.langTagOffset](),re=getStorageString(n,j,z);V.langTagRecord.push({length:z,langTagOffset:j,str:re})}return end$2(),V},nameTableNames=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],macLanguages={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},windowsLanguages={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},reverseDict=n=>{const e={};for(let r in n)e[n[r]]=parseInt(r);return e},findSubArray=(n,e)=>{const r=n.length,g=e.length-r+1;e:for(let y=0;y<g;y++)for(;y<g;y++){for(let k=0;k<r;k++)if(e[y+k]!==n[k])continue e;return y}return-1},addStringToPool=(n,e)=>{let r=findSubArray(n,e);if(r<0){r=e.length;let g=0;const y=n.length;for(;g<y;++g)e.push(n[g])}return r},createTable$2=(n,e)=>{let r;const g=[],y={},k=reverseDict(nameTableNames);for(let j in n){let re=k[j];if(re===void 0&&(re=j),r=parseInt(re),isNaN(r))throw new Error('Name table entry "'+j+'" does not exist, see nameTableNames for complete list.');y[r]=n[j],g.push(r)}reverseDict(macLanguages);const $=reverseDict(windowsLanguages),V=[],L=[];for(let j=0;j<g.length;j++){r=g[j];const re=y[r];for(let oe in re){const ae=re[oe];encoder.utf16(ae),oe==="zh"&&[...iconv.encode(ae,"gbk")];let de=$[oe];if(de!==void 0){let ue=encoder.utf16(ae),pe=1;const he=addStringToPool(ue,L);V.push({platformID:3,encodingID:pe,languageID:de,nameID:r,length:ue.length,stringOffset:he})}}}return V.sort(function(j,re){return j.platformID-re.platformID||j.encodingID-re.encodingID||j.languageID-re.languageID||j.nameID-re.nameID}),{version:0,count:V.length,storageOffset:6+V.length*12,nameRecord:V,stringPool:L}},create$8=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$7[r],y=n[r];let k=[];if(r==="nameRecord"){const $=y;for(let V=0;V<$.length;V++){const L=$[V];Object.keys(L).forEach(z=>{if(z!=="str"){const j=types$7[z],re=L[z];k=k.concat(encoder[j](re))}})}}else if(r==="langTagRecord"){const $=y;for(let V=0;V<$.length;V++){const L=$[V];Object.keys(L).forEach(z=>{if(z!=="str"){const j=types$7[z],re=L[z];k=k.concat(encoder[j](re))}})}}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},nameTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$8,createTable:createTable$2,parse:parse$c},Symbol.toStringTag,{value:"Module"})),types$6={version:"Version16Dot16",italicAngle:"Fixed",underlinePosition:"FWORD",underlineThickness:"FWORD",isFixedPitch:"uint32",minMemType42:"uint32",maxMemType42:"uint32",minMemType1:"uint32",maxMemType1:"uint32",numGlyphs:"uint16",glyphNameIndex:"uint16",stringData:"uint8",offset:"int8"},parse$b=(n,e,r)=>{start(n,e);const g=decoder[types$6.version](),y=decoder[types$6.italicAngle](),k=decoder[types$6.underlinePosition](),$=decoder[types$6.underlineThickness](),V=decoder[types$6.isFixedPitch](),L=decoder[types$6.minMemType42](),z=decoder[types$6.maxMemType42](),j=decoder[types$6.minMemType1](),re=decoder[types$6.maxMemType1](),oe={version:g,italicAngle:y,underlinePosition:k,underlineThickness:$,isFixedPitch:V,minMemType42:L,maxMemType42:z,minMemType1:j,maxMemType1:re};if(g===2){const ae=decoder[types$6.numGlyphs](),de=[];for(let ue=0;ue<ae;ue++){const pe=decoder[types$6.glyphNameIndex](),he={index:pe};pe>=258&&pe<65535&&(he.code=decoder.uint8(),he.name=String.fromCharCode(he.code)),de.push(he)}oe.glyphNames=de}if(g===2.5){const ae=decoder[types$6.numGlyphs]();for(let de=0;de<ae;de++)oe.offsets?.push(decoder.int8())}return end$2(),oe},create$7=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$6[r],y=n[r];let k=[];if(r==="glyphNames"){const $=y;k=k.concat(encoder[types$6.numGlyphs]($.length));for(let V=0;V<$.length;V++)k=k.concat(encoder[g]($[V].index));for(let V=0;V<$.length;V++)$[V].index>=258&&$[V].index<65535&&(k=k.concat(encoder[g]($[V].name)))}else if(r==="offsets"){const $=y;k=k.concat(encoder[types$6.numGlyphs]($.length));for(let V=0;V<$.length;V++)k=k.concat(encoder[g]($[V]))}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},postTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$7,parse:parse$b},Symbol.toStringTag,{value:"Module"})),types$5={version:"uint16",numTables:"uint16",platformID:"uint16",encodingID:"uint16",subtableOffset:"Offset32",format:"uint16",length:"uint16",language:"uint16",segCountX2:"uint16",searchRange:"uint16",entrySelector:"uint16",rangeShift:"uint16",endCode:"uint16",reservedPad:"uint16",startCode:"uint16",idDelta:"int16",idRangeOffsets:"uint16",glyphIdArray:"uint16"},parse$a=(n,e,r)=>{let g=e;start(n,g);const y=decoder[types$5.version](),k=decoder[types$5.numTables]();g=getOffset$2(),end$2();const $=[],V={};for(let z=0;z<k;z++){start(n,g);const j=decoder[types$5.platformID](),re=decoder[types$5.encodingID](),oe=decoder[types$5.subtableOffset]();g=getOffset$2(),end$2();const ae=getSubTable(n,e+oe,V);$.push({platformID:j,encodingID:re,subtableOffset:oe,subTable:ae})}return{version:y,numTables:k,encodingRecords:$,glyphIndexMap:V}},getSubTable=(n,e,r)=>{let g=null;start(n,e);const y=decoder[types$5.format]();switch(y){case 4:{const k=decoder[types$5.length](),$=decoder[types$5.language](),V=decoder[types$5.segCountX2](),L=decoder[types$5.searchRange](),z=decoder[types$5.entrySelector](),j=decoder[types$5.rangeShift](),re=V/2,oe=[],ae=getOffset$2();end$2();for(let de=0;de<re;de++){const ue=n.getUint16(ae+de*2),pe=n.getUint16(ae+re*2+2+de*2),he=n.getInt16(ae+re*4+2+de*2),Oe=n.getUint16(ae+re*6+2+de*2);oe.push({endCode:ue,startCode:pe,idDelta:he,idRangeOffset:Oe});for(let xe=pe;xe<=ue;xe+=1){let $e;if(Oe!==0){const Ne=ae+re*6+2+de*2+(xe-pe)*2+Oe;$e=n.getUint16(Ne),$e!==0&&($e=$e+he&65535)}else $e=xe+he&65535;r[xe]=$e}}g={format:y,length:k,language:$,segCount:re,searchRange:L,entrySelector:z,rangeShift:j,glyphIndexMap:r,segments:oe};break}case 12:{const k=decoder.uint16(),$=decoder.uint32(),V=decoder.uint32(),L=decoder.uint32(),z=getOffset$2();end$2();const j=[];for(let re=0;re<L;re++){const oe=n.getUint32(z+re*12),ae=n.getUint32(z+re*12+4);let de=n.getUint32(z+re*12+8);j.push({startCharCode:oe,endCharCode:ae,startGlyphId:de});for(let ue=oe;ue<=ae;ue++)r[ue]=de,de++}return{format:y,reserved:k,length:$,language:V,groupCount:L,glyphIndexMap:r,groups:j}}}return end$2(),g},createTable$1=n=>{let e=!0,r;for(r=n.length-1;r>0;r-=1)if(n[r].unicode>65535){e=!1;break}const g={version:0,numTables:e?2:3,encodingRecords:[]};g.encodingRecords.push({platformID:0,encodingID:3,subtableOffset:e?20:28}),g.encodingRecords.push({platformID:3,encodingID:1,subtableOffset:e?20:28}),e||g.encodingRecords.push({platformID:3,encodingID:10,subtableOffset:28}),g.encodingRecords[0].subTable={format:4,length:0,language:0,segCount:0,searchRange:0,entrySelector:0,rangeShift:0},g.encodingRecords[1].subTable={format:4,length:0,language:0,segCount:0,searchRange:0,entrySelector:0,rangeShift:0},e||(g.encodingRecords[g.encodingRecords.length-1].subTable={format:12,reserved:0,length:0,language:0,groupCount:0});const y=[],k=[],$={},V={};for(r=1;r<n.length;r++){const z=n[r];z.unicode<=65535?(y.push({endCode:z.unicode,startCode:z.unicode,idDelta:-(z.unicode-r),idRangeOffset:0}),$[z.unicode]=r):e||(k.push({startCharCode:z.unicode,endCharCode:z.unicode,startGlyphId:r}),V[z.unicode]=r)}y.sort(function(z,j){return z.startCode-j.startCode}),y.push({endCode:65535,startCode:65535,idDelta:1,idRangeOffset:0}),e||(g.encodingRecords[g.encodingRecords.length-1].subTable.groups=k,g.encodingRecords[g.encodingRecords.length-1].subTable.glyphIndexMap=V),g.encodingRecords[0].subTable.segments=y,g.encodingRecords[1].subTable.segments=clone$1(y),g.encodingRecords[0].subTable.glyphIndexMap=$,g.encodingRecords[1].subTable.glyphIndexMap=clone$1($);const L=y.length;return g.encodingRecords[0].subTable.segCount=L,g.encodingRecords[1].subTable.segCount=L,g.encodingRecords[0].subTable.searchRange=Math.pow(2,Math.floor(Math.log(L)/Math.log(2)))*2,g.encodingRecords[1].subTable.searchRange=Math.pow(2,Math.floor(Math.log(L)/Math.log(2)))*2,g.encodingRecords[0].subTable.entrySelector=Math.log(g.encodingRecords[0].subTable.searchRange/2)/Math.log(2),g.encodingRecords[1].subTable.entrySelector=Math.log(g.encodingRecords[1].subTable.searchRange/2)/Math.log(2),g.encodingRecords[0].subTable.rangeShift=L*2-g.encodingRecords[0].subTable.searchRange,g.encodingRecords[1].subTable.rangeShift=L*2-g.encodingRecords[1].subTable.searchRange,g.encodingRecords[0].subTable.length=16+y.length*8,g.encodingRecords[1].subTable.length=16+y.length*8,g.encodingRecords[1].subtableOffset+=g.encodingRecords[0].subTable.length,e||(g.encodingRecords[g.encodingRecords.length-1].subtableOffset+=g.encodingRecords[0].subTable.length+g.encodingRecords[1].subTable.length,g.encodingRecords[g.encodingRecords.length-1].subTable.length=16+k.length*4,g.encodingRecords[g.encodingRecords.length-1].subTable.groupCount=k.length),g},create$6=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$5[r],y=n[r];let k=[];if(r==="encodingRecords"){const $=y;for(let V=0;V<$.length;V++){const L=$[V];Object.keys(L).forEach(z=>{if(z!=="subTable"){const j=types$5[z],re=L[z];k=k.concat(encoder[j](re))}})}for(let V=0;V<$.length;V++){const L=$[V].subTable;if(L.format===4){Object.keys(L).forEach(re=>{if(re==="segCount"){const oe=types$5.segCountX2,ae=L[re]*2;k=k.concat(encoder[oe](ae))}else if(re!=="glyphIndexMap"&&re!=="segments"){const oe=types$5[re],ae=L[re];k=k.concat(encoder[oe](ae))}});const z=L.segments,j=k.length;setByesAt(k,encoder.uint16(0),j+z.length*2);for(let re=0;re<z.length;re++){const oe=z[re];setByesAt(k,encoder[types$5.endCode](oe.endCode),j+re*2),setByesAt(k,encoder[types$5.startCode](oe.startCode),j+z.length*2+2+re*2),setByesAt(k,encoder[types$5.idDelta](oe.idDelta),j+z.length*4+2+re*2),setByesAt(k,encoder[types$5.idRangeOffsets](oe.idRangeOffset),j+z.length*6+2+re*2);for(let ae=oe.startCode;ae<=oe.endCode;ae+=1){const de=L.glyphIndexMap[ae];if(oe.idRangeOffset!==0){const ue=j+z.length*8+2+(ae-oe.startCode)*2+oe.idRangeOffset;setByesAt(k,encoder[types$5.glyphIdArray](de),ue)}}}}else if(L.format===12){k=k.concat(encoder.uint16(L.format)),k=k.concat(encoder.uint16(L.reserved)),k=k.concat(encoder.uint32(L.length)),k=k.concat(encoder.uint32(L.language)),k=k.concat(encoder.uint32(L.groupCount));for(let z=0;z<L.groupCount;z++)k=k.concat(encoder.uint32(L.groups.startCharCode)),k=k.concat(encoder.uint32(L.groups.endCharCode)),k=k.concat(encoder.uint32(L.groups.startGlyphId))}}}else k=k.concat(encoder[g](y));k&&(e=e.concat(k))}),e},cmapTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$6,createTable:createTable$1,parse:parse$a},Symbol.toStringTag,{value:"Module"})),types$4={advanceWidth:"uint16",lsb:"int16",leftSideBearings:"int16"},parse$9=(n,e,r)=>{const g=r.settings.numberOfHMetrics,y=r.settings.numGlyphs,k=[],$=[];start(n,e);for(let L=0;L<g;L++){const z=decoder[types$4.advanceWidth](),j=decoder[types$4.lsb]();k.push({advanceWidth:z,lsb:j})}for(let L=0;L<y-g;L++)$.push(decoder[types$4.leftSideBearings]());const V={hMetrics:k,leftSideBearings:$};return end$2(),V},create$5=n=>{let e=[];const r=n.hMetrics;for(let y=0;y<r.length;y++){const k=r[y];Object.keys(k).forEach($=>{const V=types$4[$],L=k[$];e=e.concat(encoder[V](L))})}const g=n.leftSideBearings;if(g)for(let y=0;y<g.length;y++)e=e.concat(encoder[types$4.leftSideBearings](g[y]));return e},hmtxTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$5,parse:parse$9},Symbol.toStringTag,{value:"Module"})),transformPoint=(n,e)=>({x:e.xScale*n.x+e.scale01*n.y+e.dx,y:e.scale10*n.x+e.yScale*n.y+e.dy}),parse$8=(n,e,r)=>{const g={glyphTables:[]},y=r.settings.numGlyphs,k=(r.tables?.filter(j=>j.name==="loca")[0].table).offsets;for(let j=0;j<y;j++)g.glyphTables.push(parseGlyph(n,e+k[j]));for(let j=0;j<y;j++){const re=g.glyphTables[j];if(re.isComposite){re.contours=[];for(var $=0;$<re.components.length;$+=1){const oe=re.components[$],ae=g.glyphTables[oe.glyphIndex];if(ae.contours.length){let de=[];if(oe.matchedPoints===void 0){de=clone$1(ae.contours);for(let ue=0;ue<de.length;ue++){const pe=de[ue].paths;for(let he=0;he<pe.length;he++){const Oe=pe[he];Oe.start=transformPoint(Oe.start,oe),Oe.end=transformPoint(Oe.end,oe),Oe.type===PathType.QUADRATIC_BEZIER&&(Oe.control=transformPoint(Oe.control,oe))}}}else{let ue=[];for(let he=0;he<re.contours.length;he++){const Oe=re.contours[he];ue=ue.concat(Oe.points)}let pe=[];for(let he=0;he<ae.contours.length;he++){const Oe=ae.contours[he];pe=pe.concat(Oe.points)}if(oe.matchedPoints[0]>ue.length-1||oe.matchedPoints[1]>ue.length-1)break;var V=ue[oe.matchedPoints[0]],L=pe[oe.matchedPoints[1]],z={xScale:oe.xScale,scale01:oe.scale01,scale10:oe.scale10,yScale:oe.yScale,dx:0,dy:0};L=transformPoint(L,z),z.dx=V.x-L.x,z.dy=V.y-L.y,de=clone$1(ae.contours);for(let he=0;he<de.length;he++){const Oe=de[he].paths;for(let xe=0;xe<Oe.length;xe++){const $e=Oe[xe];$e.start=transformPoint($e.start,z),$e.end=transformPoint($e.start,z),$e.type===PathType.QUADRATIC_BEZIER&&($e.control=transformPoint($e.control,z))}}}re.contours.push(...de)}}}}return g},parseGlyph=(n,e,r)=>{start(n,e);const g=decoder.int16(),y=decoder.int16(),k=decoder.int16(),$=decoder.int16(),V=decoder.int16(),L=[];let z=[],j=!1;const re=[],oe=[];let ae=0,de=0;if(g<0){j=!0,z=[];let xe=!0,$e;for(;xe;){$e=decoder.uint16();const Ne={glyphIndex:decoder.uint16(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0,matchedPoints:void 0};($e&1)>0?($e&2)>0?(Ne.dx=decoder.int16(),Ne.dy=decoder.int16()):Ne.matchedPoints=[decoder.uint16(),decoder.uint16()]:($e&2)>0?(Ne.dx=decoder.int8(),Ne.dy=decoder.int8()):Ne.matchedPoints=[decoder.uint8(),decoder.uint8()],($e&8)>0?Ne.xScale=Ne.yScale=decoder.F2DOT14():($e&64)>0?(Ne.xScale=decoder.F2DOT14(),Ne.yScale=decoder.F2DOT14()):($e&128)>0&&(Ne.xScale=decoder.F2DOT14(),Ne.scale01=decoder.F2DOT14(),Ne.scale10=decoder.F2DOT14(),Ne.yScale=decoder.F2DOT14()),z.push(Ne),xe=!!($e&32)}if($e&256){const Ne=decoder.uint16();for(let Ce=0;Ce<Ne;Ce++)re.push(decoder.uint8())}}for(let xe=0;xe<g;xe++)L.push(decoder.uint16());const ue=decoder.uint16();for(let xe=0;xe<ue;xe++)re.push(decoder.uint8());const pe=[],he=L[L.length-1]+1;for(let xe=0;xe<he;xe++){const $e=decoder.uint8();if(pe.push($e),($e&8)>0){const Ne=decoder.uint8();for(let Ce=0;Ce<Ne;Ce++)pe.push($e),xe+=1}}for(let xe=0;xe<g;xe++){const $e=[],Ne=[],Ce=[],Fe=[];oe.push({xCoordinates:$e,yCoordinates:Ne,points:Ce,paths:Fe})}for(let xe=0;xe<g;xe++){const $e=xe>0?L[xe-1]+1:0,Ne=L[xe];for(let Ce=$e;Ce<=Ne;Ce++){const Fe=parseGlyphCoordinate(decoder,pe[Ce],ae,2,16);oe[xe].xCoordinates.push(Fe),oe[xe].points.push({x:Fe,onCurve:!!(pe[Ce]&1)}),ae=Fe}}for(let xe=0;xe<g;xe++){const $e=xe>0?L[xe-1]+1:0,Ne=L[xe];for(let Ce=$e;Ce<=Ne;Ce++){const Fe=parseGlyphCoordinate(decoder,pe[Ce],de,4,32);oe[xe].yCoordinates.push(Fe),oe[xe].points[Ce-$e].y=Fe,de=Fe}}for(let xe=0;xe<g;xe++){const $e=oe[xe],Ne=$e.points;let Ce=null,Fe=Ne[Ne.length-1],ze=Ne[0],kt=null;Fe.onCurve?kt=Fe:ze.onCurve?kt=ze:kt={x:(Fe.x+ze.x)*.5,y:(Fe.y+ze.y)*.5};for(let At=0;At<Ne.length;At++)if(Ce=Fe,Fe=ze,ze=Ne[(At+1)%Ne.length],Fe.onCurve){const Cn={type:PathType.LINE,start:{x:kt.x,y:kt.y},end:{x:Fe.x,y:Fe.y}};kt=Fe,$e.paths.push(Cn)}else{let Cn=ze;Ce.onCurve||((Fe.x+Ce.x)*.5,(Fe.y+Ce.y)*.5),ze.onCurve||(Cn={x:(Fe.x+ze.x)*.5,y:(Fe.y+ze.y)*.5});const Dt={type:PathType.QUADRATIC_BEZIER,start:{x:kt.x,y:kt.y},end:{x:Cn.x,y:Cn.y},control:{x:Fe.x,y:Fe.y}};kt=Cn,$e.paths.push(Dt)}}return end$2(),{numberOfContours:g,xMin:y,yMin:k,xMax:$,yMax:V,endPtsOfContours:L,instructionLength:ue,instructions:re,contours:oe,flags:pe,isComposite:j,components:z}},parseGlyphCoordinate=(n,e,r,g,y)=>{let k;return(e&g)>0?(k=n.uint8(),e&y||(k=-k),k=r+k):(e&y)>0?k=r:k=r+n.int16(),k},create$4=n=>{},glyfTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$4,parse:parse$8},Symbol.toStringTag,{value:"Module"})),parse$7=(n,e,r)=>{const g=r.settings.indexToLocFormat,y=r.settings.numGlyphs,k={offsets:[]};if(start(n,e),g===0)for(let $=0;$<y;$++)k.offsets.push(decoder.Offset16()*2);else if(g===1)for(let $=0;$<y;$++)k.offsets.push(decoder.Offset32());return end$2(),k},create$3=(n,e)=>{let r=[];for(let g=0;g<n.offsets.length;g++)if(e.version===0){const y=encoder.Offset16(n.offsets[g]);y&&(r=r.concat(y))}else if(e.version===1){const y=encoder.Offset32(n.offsets[g]);y&&(r=r.concat(y))}return r},locaTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$3,parse:parse$7},Symbol.toStringTag,{value:"Module"})),types$3={major:"Card8",minor:"Card8",hdrSize:"Card8",offSize:"Card8"},TOP_DICT_META=[{name:"ros",op:1230,type:["SID","SID","number"]},{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset"},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],FONT_DICT_META=[{name:"ros",op:1230,type:["SID","SID","number"]},{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number"},{name:"italicAngle",op:1202,type:"number"},{name:"underlinePosition",op:1203,type:"number"},{name:"underlineThickness",op:1204,type:"number"},{name:"paintType",op:1205,type:"number"},{name:"charstringType",op:1206,type:"number"},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"]},{name:"strokeWidth",op:1208,type:"number"},{name:"xuid",op:14,type:[]},{name:"charset",op:15,type:"offset"},{name:"encoding",op:16,type:"offset"},{name:"charStrings",op:17,type:"offset"},{name:"fontName",op:1238,type:"SID"},{name:"private",op:18,type:["number","offset"]},{name:"cidFontVersion",op:1231,type:"number"},{name:"cidFontRevision",op:1232,type:"number"},{name:"cidFontType",op:1233,type:"number"},{name:"cidCount",op:1234,type:"number"},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"}],PRIVATE_DICT_META=[{name:"BlueValues",op:6,type:["number","number","number","number"]},{name:"OtherBlues",op:7,type:["number","number"]},{name:"FamilyBlues",op:8,type:"array"},{name:"FamilyOtherBlues",op:9,type:"array"},{name:"BlueScale",op:1209,type:"real"},{name:"BlueShift",op:1210,type:"number"},{name:"BlueFuzz",op:1211,type:"number"},{name:"StdHW",op:10,type:"number"},{name:"StdVW",op:11,type:"number"},{name:"StemSnapH",op:1212,type:"array"},{name:"StemSnapV",op:1213,type:"array"},{name:"ForceBold",op:1214,type:"number"},{name:"LanguageGroup",op:1217,type:"number"},{name:"ExpansionFactor",op:1218,type:"real"},{name:"initialRandomSeed",op:1219,type:"number"},{name:"Subrs",op:19,type:"offset"},{name:"defaultWidthX",op:20,type:"number"},{name:"nominalWidthX",op:21,type:"number"}],cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],parseIndex=(n,e,r)=>{let g=[],y=e;start(n,e);let k=e;const $=decoder.uint16();g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;const V=decoder.uint8();g.push(n.getUint8(y)),y++;const L=[],z=[],j=[];if($!==0){for(let re=0;re<$+1;re++)switch(V){case 1:{L.push(decoder.uint8()),g.push(n.getUint8(y)),y++;break}case 2:{L.push(decoder.uint16()),g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;break}case 3:{L.push(decoder.uint32()),g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;break}case 4:{L.push(decoder.bigInt()),g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++,g.push(n.getUint8(y)),y++;break}}k=getOffset$2(),end$2();for(let re=0;re<L.length-1;re++){const oe=[];for(let ae=L[re];ae<L[re+1];ae++){let de=0;typeof ae!="bigint"?de=n.getUint8(k-1+ae):de=n.getUint8(Number(BigInt(k-1)+ae)),oe.push(de)}z.push(oe),j.push(r?r(oe):oe)}}return{data:{configRawData:g,index:{count:$,offSize:V,offset:L,data:z},data:j},offset:typeof L[$]=="bigint"?Number(BigInt(k-1)+($===0?BigInt(0):L[$])):k-1+($===0?0:L[$])}},parseType2CharString=(n,e,r,g)=>{const y=[];let k=[];const $=[];let V=null,L=0,z=0,j=0;const re=[];let oe,ae,de;if(g.settings.isCIDFont){const he=r._fdSelect[e],Oe=r._fdArray[he];oe=Oe._subrs,ae=Oe._subrsBias,de=Oe._defaultWidthX,Oe._nominalWidthX}else oe=r._subrs,ae=r._subrsBias,de=r._defaultWidthX,r._nominalWidthX;const ue=()=>{re.length%2!==0&&(V=re.shift())},pe=he=>{let Oe=0;for(;Oe<he.length;){const xe=he[Oe];switch(Oe++,xe){case 1:{V===null&&ue(),L+=re.length>>1;const $e=[];for(;re.length;)$e.push(re.shift());$.push({command:"hstem",data:$e});break}case 3:{V===null&&ue(),L+=re.length>>1;const $e=[];for(;re.length;)$e.push(re.shift());$.push({command:"vstem",data:$e});break}case 18:{V===null&&ue(),L+=re.length>>1;const $e=[];for(;re.length;)$e.push(re.shift());$.push({command:"hstemhm",data:$e});break}case 23:{V===null&&ue(),L+=re.length>>1;const $e=[];for(;re.length;)$e.push(re.shift());$.push({command:"vstemhm",data:$e});break}case 19:{V===null&&ue(),L+=re.length>>1;const $e=[];for(;re.length;)$e.push(re.shift());const Ne=[];let Ce=L+7>>3;for(;Ce;)Ne.push(he[Oe+Ce]),Ce--;Oe+=L+7>>3,$.push({command:"hintmask",data:$e,mask:Ne});break}case 20:{V===null&&ue(),L+=re.length>>1;const $e=[];for(;re.length;)$e.push(re.shift());const Ne=[];let Ce=L+7>>3;for(;Ce;)Ne.push(he[Oe+Ce]),Ce--;Oe+=L+7>>3,$.push({command:"cntrmask",data:$e,mask:Ne});break}case 21:{V===null&&ue(),k.length&&(y.push(k),k=[]);const $e=re.pop(),Ne=re.pop();z+=Ne,j+=$e,$.push({command:"rmoveto",data:[Ne,$e]});break}case 4:{V===null&&ue(),k.length&&(y.push(k),k=[]);const $e=re.pop();j+=$e,$.push({command:"vmoveto",data:[$e]});break}case 22:{V===null&&ue(),k.length&&(y.push(k),k=[]);const $e=re.pop();z+=$e,$.push({command:"hmoveto",data:[$e]});break}case 5:{const $e=[];for(;re.length;){const Ne=re.shift(),Ce=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Ne,y:j+Ce}}),z+=Ne,j+=Ce,$e.push(Ne),$e.push(Ce)}$.push({command:"rlineto",data:$e});break}case 6:{const $e=[],Ne=re.shift();for($e.push(Ne),k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Ne,y:j}}),z+=Ne;re.length;){const Ce=re.shift(),Fe=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Ce,y:j}}),z+=Ce,j+=Fe,$e.push(Ce)}$.push({command:"hlineto",data:$e});break}case 7:{const $e=[],Ne=re.shift();for($e.push(Ne),k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z,y:j+Ne}}),j+=Ne;re.length;){const Ce=re.shift(),Fe=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Ce,y:j+Fe}}),z+=Ce,j+=Fe,$e.push(Ce),$e.push(Fe)}$.push({command:"vlineto",data:$e});break}case 8:{const $e=[];for(;re.length;){const Ne=re.shift(),Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ne,y:j+Ce},control2:{x:z+Ne+Fe,y:j+Ce+ze},end:{x:z+Ne+Fe+kt,y:j+Ce+ze+At}}),z+=Ne+Fe+kt,j+=Ce+ze+At,$e.push(Ne,Ce,Fe,ze,kt,At)}$.push({command:"rrcurveto",data:$e});break}case 27:{const $e=[];let Ne=re.length%2!==0?$e.push(re.shift())&&$e[0]:0;for(;re.length;){const Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce,y:j+Ne},control2:{x:z+Ce+Fe,y:j+Ne+ze},end:{x:z+Ce+Fe+kt,y:j+Ne+ze}}),z+=Ce+Fe+kt,j+=Ne+ze,$e.push(Ce,Fe,ze,kt)}$.push({command:"hhcurveto",data:$e});break}case 26:{const $e=[];let Ne=re.length%2!==0?$e.push(re.shift())&&$e[0]:0;for(;re.length;){const Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ne,y:j+Ce},control2:{x:z+Ne+Fe,y:j+Ce+ze},end:{x:z+Ne+Fe,y:j+Ce+ze}}),z+=Ne+Fe,j+=Ce+ze+kt,$e.push(Ce,Fe,ze,kt)}$.push({command:"vvcurveto",data:$e});break}case 31:{const $e=[];for(;re.length>0;){const Ne=re.shift(),Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.length===1?re.shift():null;if(k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ne,y:j},control2:{x:z+Ne+Ce,y:j+Fe},end:{x:kt===null?z+Ne+Ce:z+Ne+Ce+kt,y:j+Fe+ze}}),z+=kt===null?Ne+Ce:Ne+Ce+kt,j+=Fe+ze,$e.push(Ne,Ce,Fe,ze),kt!==null&&$e.push(kt),re.length===0)break;const At=re.shift(),Cn=re.shift(),Dt=re.shift(),On=re.shift(),jt=re.length===1?re.shift():null;k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z,y:j+At},control2:{x:z+Cn,y:j+At+Dt},end:{x:z+Cn+On,y:jt===null?j+At+Dt:j+At+Dt+jt}}),z+=Cn+On,j+=jt===null?At+Dt:At+Dt+jt,$e.push(Ne,Ce,Fe,ze),jt!==null&&$e.push(jt)}$.push({command:"hvcurveto",data:$e});break}case 30:{const $e=[];for(;re.length>0;){const Ne=re.shift(),Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.length===1?re.shift():null;if(k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z,y:j+Ne},control2:{x:z+Ce,y:j+Ne+Fe},end:{x:z+Ce+ze,y:kt===null?j+Ne+Fe:j+Ne+Fe+kt}}),z+=Ce+ze,j+=kt===null?Ne+Fe:Ne+Fe+kt,$e.push(Ne,Ce,Fe,ze),kt!==null&&$e.push(kt),re.length===0)break;const At=re.shift(),Cn=re.shift(),Dt=re.shift(),On=re.shift(),jt=re.length===1?re.shift():null;k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+At,y:j},control2:{x:z+At+Cn,y:j+Dt},end:{x:jt===null?z+At+Cn:z+At+Cn+jt,y:j+Dt+On}}),z+=jt===null?At+Cn:At+Cn+jt,j+=Dt+On,$e.push(At,Cn,Dt,On),jt!==null&&$e.push(jt)}$.push({command:"vhcurveto",data:$e});break}case 24:{const $e=[];for(;re.length>2;){const Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift(),Cn=re.shift(),Dt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Fe,y:j+ze},control2:{x:z+Fe+kt,y:j+ze+At},end:{x:z+Fe+kt+Cn,y:j+ze+At+Dt}}),z+=Fe+kt+Cn,j+=ze+At+Dt,$e.push(Fe,ze,kt,At,Cn,Dt)}const Ne=re.shift(),Ce=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Ne,y:j+Ce}}),$e.push(Ne,Ce),$.push({command:"rcurveline",data:$e});break}case 25:{const $e=[];for(;re.length>6;){const Cn=re.shift(),Dt=re.shift();k.push({type:PathType.LINE,start:{x:z,y:j},end:{x:z+Cn,y:j+Dt}}),z+=Cn,j+=Dt,$e.push(Cn,Dt)}const Ne=re.shift(),Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ne,y:j+Ce},control2:{x:z+Ne+Fe,y:j+Ce+ze},end:{x:z+Ne+Fe+kt,y:j+Ne+Fe+At}}),$e.push(Ne,Ce,Fe,ze,kt,At),$.push({command:"rlinecurve",data:$e});break}case 12:{const $e=he[Oe];switch(Oe++,$e){case 35:{const Ne=[],Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift(),Cn=re.shift(),Dt=re.shift(),On=re.shift(),jt=re.shift(),An=re.shift(),Mn=re.shift(),$n=re.shift(),Ln=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce,y:j+Fe},control2:{x:z+Ce+ze,y:j+Fe+kt},end:{x:z+Ce+ze+At,y:j+Fe+kt+Cn}}),z+=Ce+ze+At,j+=Fe+kt+Cn,k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Dt,y:j+On},control2:{x:z+Dt+jt,y:j+On+An},end:{x:z+Dt+jt+Mn,y:j+On+An+$n}}),z+=Dt+jt+Mn,j+=On+An+$n,Ne.push(Ce,Fe,ze,kt,At,Cn,Dt,On,jt,An,Mn,$n,Ln),$.push({command:"flex",data:Ne});break}case 34:{const Ne=[],Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift(),Cn=re.shift(),Dt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce,y:j},control2:{x:z+Ce+Fe,y:j+ze},end:{x:z+Ce+Fe+kt,y:j+ze}}),k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce+Fe+kt+At,y:j+ze},control2:{x:z+Ce+Fe+kt+At+Cn,y:j},end:{x:z+Ce+Fe+kt+At+Cn+Dt,y:j}}),z+=Ce+Fe+kt+At+Cn+Dt,Ne.push(Ce,Fe,ze,kt,At,Cn,Dt),$.push({command:"hflex",data:Ne});break}case 36:{const Ne=[],Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift(),Cn=re.shift(),Dt=re.shift(),On=re.shift(),jt=re.shift();k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce,y:j+Fe},control2:{x:z+Ce+ze,y:j+Fe+kt},end:{x:z+Ce+ze+At,y:j+Fe+kt}}),k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce+ze+At+Cn,y:j+Fe+kt},control2:{x:z+Ce+ze+At+Cn+Dt,y:j+Fe+kt+On},end:{x:z+Ce+ze+At+Cn+Dt+jt,y:j}}),z+=Ce+ze+At+Cn+Dt+jt,Ne.push(Ce,Fe,ze,kt,At,Cn,Dt,On,jt),$.push({command:"hflex1",data:Ne});break}case 37:{const Ne=[],Ce=re.shift(),Fe=re.shift(),ze=re.shift(),kt=re.shift(),At=re.shift(),Cn=re.shift(),Dt=re.shift(),On=re.shift(),jt=re.shift(),An=re.shift(),Mn=re.shift(),$n=Math.abs(Ce+ze+At+Dt+jt)-Math.abs(Fe+kt+Cn+On+An);k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Ce,y:j+Fe},control2:{x:z+Ce+ze,y:j+Fe+kt},end:{x:z+Ce+ze+At,y:j+Fe+kt+Cn}}),z+=Ce+ze+At,j+=Fe+kt+Cn,k.push({type:PathType.CUBIC_BEZIER,start:{x:z,y:j},control1:{x:z+Dt,y:j+On},control2:{x:z+Dt+jt,y:j+On+An},end:{x:z+Dt+jt+($n>0?Mn:0),y:j+On+An+($n<0?Mn:0)}}),z+=Dt+jt+($n>0?Mn:0),j+=On+An+($n<0?Mn:0),Ne.push(Ce,Fe,ze,kt,At,Cn,Dt,On,jt,An,Mn),$.push({command:"flex1",data:Ne});break}}break}case 10:{const $e=re.pop()+ae,Ne=oe[$e];Ne&&pe(Ne);break}case 11:return;case 14:{V&&ue(),k.length&&y.push(k);break}default:{if(!(xe<32))if(xe<247)re.push(xe-139);else if(xe<251){const $e=he[Oe];Oe+=1,re.push((xe-247)*256+$e+108)}else if(xe<255){const $e=he[Oe];Oe+=1,re.push(-(xe-251)*256-$e-108)}else{const $e=he[Oe],Ne=he[Oe+1],Ce=he[Oe+2],Fe=he[Oe+3];Oe+=4,re.push(($e<<24|Ne<<16|Ce<<8|Fe)/65536)}break}}}};return pe(n),V||(V=de),{contours:y,commands:$,advanceWidth:V}},parseDict=(n,e=0,r)=>{const g=[];let y=[];for(start(n,e);getOffset$2()<r;){let k=decoder.uint8();if(k<=21)k===12&&(k=1200+decoder.uint8()),g.push([k,y]),y=[];else{const{value:$,offset:V}=parseOperand(n,getOffset$2(),k);y.push($),setOffset(V)}}return end$2(),entriesToObject(g)},parseOperand=(n,e,r)=>{let g,y,k,$;if(start(n,e),r===28)return g=decoder.uint8(),y=decoder.uint8(),{value:g<<8|y,offset:getOffset$2()};if(r===29)return g=decoder.uint8(),y=decoder.uint8(),k=decoder.uint8(),$=decoder.uint8(),{value:g<<24|y<<16|k<<8|$,offset:getOffset$2()};if(r===30)return parseFloatOperand(n,e);if(r>=32&&r<=246)return{value:r-139,offset:e};if(r>=247&&r<=250)return g=decoder.uint8(),{value:(r-247)*256+g+108,offset:getOffset$2()};if(r>=251&&r<=254)return g=decoder.uint8(),{value:-(r-251)*256-g-108,offset:getOffset$2()};throw end$2(),new Error("Invalid b0 "+r)},parseFloatOperand=(n,e)=>{let r="";const y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];for(start(n,e);;){const k=decoder.uint8(),$=k>>4,V=k&15;if($===15||(r+=y[$],V===15))break;r+=y[V]}return{value:parseFloat(r),offset:getOffset$2()}},interpretDict=(n,e,r)=>{const g={};let y;for(let k=0;k<e.length;k+=1){const $=e[k];if(Array.isArray($.type)){const V=[];V.length=$.type.length;for(let L=0;L<$.type.length;L++)y=n[$.op]!==void 0?n[$.op][L]:void 0,y===void 0&&(y=$.value!==void 0&&$.value[L]!==void 0?$.value[L]:null),$.type[L]==="SID"&&(y=getString(r,y)),V[L]=y;g[$.name]=V}else y=n[$.op],y===void 0&&(y=$.value!==void 0?$.value:null),$.type==="SID"&&(y=getString(r,y)),g[$.name]=y}return g},entriesToObject=n=>{const e={};for(let r=0;r<n.length;r+=1){const g=n[r][0],y=n[r][1];let k;if(y.length===1?k=y[0]:k=y,e.hasOwnProperty(g)&&!isNaN(e[g]))throw new Error("Object "+e+" already has key "+g);e[g]=k}return e},parseTopDict=(n,e)=>{const r=parseDict(n,0,n.byteLength);return interpretDict(r,TOP_DICT_META,e)},parsePrivateDict=(n,e,r,g)=>{const y=parseDict(n,e,r);return interpretDict(y,PRIVATE_DICT_META,g)},calcSubroutineBias=n=>{let e;return n.length<1240?e=107:n.length<33900?e=1131:e=32768,e},gatherTopDicts=(n,e,r,g)=>{const y=[];for(let k=0;k<r.length;k+=1){const $=new DataView(new Uint8Array(r[k]).buffer),V=parseTopDict($,g);V._subrs=[],V._subrsBias=0,V._defaultWidthX=0,V._nominalWidthX=0;const L=V.private[0],z=V.private[1];if(L!==0&&z!==0){const j=parsePrivateDict(n,z+e,L,g);if(V._defaultWidthX=j.defaultWidthX,V._nominalWidthX=j.nominalWidthX,j.subrs!==0){const re=z+j.subrs,oe=parseIndex(n,re+e);V._subrs=oe.data,V._subrsBias=calcSubroutineBias(V._subrs)}V._privateDict=j}y.push(V)}return y},createFDSelect=n=>{const e=[];e.push(0);for(let r=0;r<n.length;r++)e.push(0);return e},parseFDSelect=(n,e,r,g)=>{const y=[];let k;const $=n.getUint8(e);if($===0)for(let V=0;V<r;V++){if(k=n.getUint8(e+1+V),k>=g)throw new Error("CFF table CID Font FDSelect has bad FD index value "+k+" (FD count "+g+")");y.push(k)}else if($===3){const V=n.getUint16(e+1);let L=n.getUint16(e+3);if(L!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+L);let z;for(let j=0;j<V;j++){if(k=n.getUint8(e+5+j*3),z=n.getUint16(e+5+j*3+1),k>=g)throw new Error("CFF table CID Font FDSelect has bad FD index value "+k+" (FD count "+g+")");if(z>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+z);for(;L<z;L++)y.push(k);L=z}if(z!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+z)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+$);return y},parseHeader=(n,e)=>{start(n,e);const r=decoder.uint8(),g=decoder.uint8(),y=decoder.uint8(),k=decoder.uint8(),$={major:r,minor:g,hdrSize:y,offSize:k},V=getOffset$2();return end$2(),{data:$,offset:V}},parseEncodings=(n,e)=>{start(n,e);const r=decoder.uint8(),g={format:r};if(r&0){g.nCodes=decoder.uint8(),g.code=[];for(let k=0;k<g.nCodes;k+=1)g.code.push(decoder.uint8())}else if(r&1){g.nRanges=decoder.uint8(),g.Range1=[],g.code=[];for(let k=0;k<g.nRanges;k+=1){const $=decoder.uint8(),V=decoder.uint8();g.Range1.push({first:$,nLeft:V});for(let L=$;L<=$+V;L+=1)g.code.push(L)}}if(r!==0&&r!==1){g.nSups=decoder.uint8(),g.supplement=[];for(let k=0;k<g.nSups;k+=1){const $={};$.code=decoder.uint8(),$.glyph=decoder.uint8(),g.supplement.push($)}}const y=getOffset$2();return end$2(),{data:g,offset:y}},getString=(n,e)=>{let r="";return e<=390?r=cffStandardStrings[e]:r=n[e-391],r},parseCharsets=(n,e,r,g)=>{start(n,e);const y=r.settings.numGlyphs?r.settings.numGlyphs-1:0,k=[".notdef"],$=decoder.uint8();if($===0)for(let V=0;V<y;V+=1){const L=decoder.uint16();k.push(getString(g.data,L))}else if($===1)for(;k.length<=y;){let V=decoder.uint16(),L=decoder.uint8();for(let z=0;z<=L;z+=1)k.push(getString(g.data,V)),V+=1}else if($===2)for(;k.length<=y;){let V=decoder.uint16(),L=decoder.uint8();for(let z=0;z<=L;z+=1)k.push(getString(g.data,V)),V+=1}else throw new Error("Unknown charset format "+$);return end$2(),{format:$,data:k}},parse$6=(n,e,r)=>{const g=parseHeader(n,e),y=parseIndex(n,g.offset),k=parseIndex(n,y.offset),$=parseIndex(n,k.offset,pe=>{let he="";for(let Oe=0;Oe<pe.length;Oe+=1)he+=String.fromCharCode(pe[Oe]);return he}),V=parseIndex(n,$.offset);r.settings.gsubrs=V.data.data,r.settings.gsubrsBias=calcSubroutineBias(V.data.data);const z=gatherTopDicts(n,V.offset,k.data.data,$.data.data)[0];if(z._privateDict&&(r.settings.defaultWidthX=z._privateDict.defaultWidthX,r.settings.nominalWidthX=z._privateDict.nominalWidthX),z.ros[0]!==void 0&&z.ros[1]!==void 0&&(r.settings.isCIDFont=!0),r.settings.isCIDFont){let pe=z.fdArray,he=z.fdSelect;if(pe===0||he===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");pe+=e;const Oe=parseIndex(n,pe),xe=gatherTopDicts(n,e,Oe.data.data,$.data.data);z._fdArray=xe,he+=e,z._fdSelect=parseFDSelect(n,he,r.settings.numGlyphs,xe.length)}const j=e+z.private[1],re=parsePrivateDict(n,j,z.private[0],$.data.data);if(r.settings.defaultWidthX=re.defaultWidthX,r.settings.nominalWidthX=re.nominalWidthX,re.subrs!==0){const pe=j+re.subrs,he=parseIndex(n,pe);r.settings.subrs=he.data.data,r.settings.subrsBias=calcSubroutineBias(r.settings.subrs)}else r.settings.subrs=[],r.settings.subrsBias=0;let oe=null;z.encoding===0?oe=cffStandardEncoding:z.encoding===1?oe=cffExpertEncoding:oe=parseEncodings(n,e+z.encoding);const ae=parseCharsets(n,e+z.charset,r,$.data),de=parseIndex(n,e+z.charStrings),ue=[];for(let pe=0;pe<r.settings.numGlyphs;pe++){const he=de.data.data[pe];ue.push(parseType2CharString(he,pe,z,r))}return{header:g,nameIndex:y,topDictIndex:k,stringIndex:$,globalSubrIndex:V,encodings:oe,charsets:ae,charStringIndex:de,topDict:z,glyphTables:ue}},createIndex=n=>{let e=1;const r=[e];let g=[];for(let V=0;V<n.length;V+=1){const L=n[V].type,z=n[V].value,j=encoder[L](z);g=g.concat(j),e+=j.length,r.push(e)}if(g.length===0)return[0,0];const y=[],k=2,$=[void 0,encoder.uint8,encoder.uint16,encoder.uint24,encoder.uint32][k];for(let V=0;V<r.length;V+=1){const L=$(r[V]);Array.prototype.push.apply(y,L)}return Array.prototype.concat(encoder.Card16(n.length),encoder.OffSize(k),y,g)};function equals(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r+=1)if(!equals(n[r],e[r]))return!1;return!0}else return!1}function encodeString(n,e){let r,g=cffStandardStrings.indexOf(n);g>=0&&(r=g);const y=encodeToASCII(n);return g=e.indexOf(y),g>=0?r=g+cffStandardStrings.length:(r=cffStandardStrings.length+e.length,e.push(y)),r}function encodeToASCII(n){return typeof n=="number"?n:n.split("").map(e=>{const r=e.charCodeAt(0);return r<128?e:`${r.toString(16).padStart(4,"0")}`}).join("")}const createDict=(n,e,r)=>{const g=[];for(let k=0;k<n.length;k+=1){const $=n[k];let V=e[$.name];if(V!==void 0&&!equals(V,$.value)){if($.type==="SID"&&(V=encodeString(V,r)),Array.isArray(V)){V=Object.assign([],V);for(let L=0;L<V.length;L++)$.type[L]==="SID"&&(V[L]=encodeString(V[L],r))}g.push({op:$.op,name:$.name,type:$.type,value:V})}}let y=[];for(let k=0;k<g.length;k+=1){const $=g[k],V=$.op;y=y.concat(encoder.Operand($.value,$.type)),y=y.concat(encoder.Operator(V))}return y},glyphToOps=n=>{const e=[];e.push({name:"width",type:"number",value:n.advanceWidth});let r=0,g=0;for(let y=0;y<n.contours.length;y++){if(!n.contours[y].length)continue;const k=n.contours[y][0],$=Math.round(k.start.x-r),V=Math.round(k.start.y-g);e.push({name:"dx",type:"number",value:$}),e.push({name:"dy",type:"number",value:V}),e.push({name:"rmoveto",type:"op",value:21}),r=Math.round(k.start.x),g=Math.round(k.start.y);for(let L=0;L<n.contours[y].length;L++){const z=n.contours[y][L];switch(z.type){case PathType.LINE:{const j=Math.round(z.end.x-r),re=Math.round(z.end.y-g);e.push({name:"dx",type:"number",value:j}),e.push({name:"dy",type:"number",value:re}),e.push({name:"rlineto",type:"op",value:5}),r=Math.round(z.end.x),g=Math.round(z.end.y);break}case PathType.CUBIC_BEZIER:{const j=Math.round(z.control1.x-r),re=Math.round(z.control1.y-g),oe=Math.round(z.control2.x-z.control1.x),ae=Math.round(z.control2.y-z.control1.y),de=Math.round(z.end.x-z.control2.x),ue=Math.round(z.end.y-z.control2.y);e.push({name:"dx1",type:"number",value:j}),e.push({name:"dy1",type:"number",value:re}),e.push({name:"dx2",type:"number",value:oe}),e.push({name:"dy2",type:"number",value:ae}),e.push({name:"dx",type:"number",value:de}),e.push({name:"dy",type:"number",value:ue}),e.push({name:"rrcurveto",type:"op",value:8}),r=Math.round(z.end.x),g=Math.round(z.end.y)}}}}return e.push({name:"endchar",type:"op",value:14}),e},createTable=(n,e)=>{const r=1/e.unitsPerEm,g={header:{major:1,minor:0,hdrSize:4,offSize:2},nameIndex:{data:[e.postScriptName]},globalSubrIndex:{data:[]},topDict:{version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,charStrings:999,ros:["Adobe","GB1",5],cidFontVersion:1,cidFontRevision:0,cidFontType:0,cidCount:n.length,isFixedPitch:1,fdArray:0,fdSelect:0}},y=[];for(let $=1;$<n.length;$++)y.push(n[$].name);const k=[];return g.charsets={format:0,data:y},g.glyphTables=n.map($=>({numberOfContours:$.contourNum,contours:$.contours,advanceWidth:$.advanceWidth})),g.stringIndex={data:k},g},create$2=n=>{const e=clone$1(n),r=e.header;let g=[];const y=e.glyphTables;Object.keys(r).forEach(ze=>{const kt=types$3[ze],At=r[ze],Cn=encoder[kt](At);Cn&&(g=g.concat(Cn))});const k=e.nameIndex,$=createIndex(k.data.map(ze=>({type:"Name",value:ze}))),V=[],L=[0,0],z=e.charsets.data;let j=[];j=j.concat(encoder.Card8(0));for(let ze=0;ze<z.length;ze+=1){const kt=ze+1;j=j.concat(encoder.SID(kt))}const re=[];for(let ze=0;ze<y.length;ze++){loaded$1.value++,loaded$1.value>=total$1.value&&(loading.value=!1,loaded$1.value=0,total$1.value=0);const kt=y[ze],At=glyphToOps(kt);re.push({type:"CharString",value:At})}const oe=createIndex(re),ae={private:[0,0],fontBBox:e.topDict.fontBBox,fontMatrix:e.topDict.fontMatrix,fontName:e.topDict.familyName,weight:e.topDict.weight};let de=createDict(FONT_DICT_META,ae,V),ue=createIndex([{type:"raw",value:de}]);const pe=createFDSelect(y);let he=createDict(TOP_DICT_META,e.topDict,V),Oe=createIndex([{type:"raw",value:he}]),$e=createDict(PRIVATE_DICT_META,{BlueValues:[-16,16,800,16],OtherBlues:[-216,16],BlueScale:.039625,BlueShift:7,BlueFuzz:1,ForcedBold:0,LanguageGroup:0,ExpansionFactor:.06,initialRandomSeed:0,defaultWidthX:0,nominalWidthX:0,StdHW:50,StdVW:100},V);e.stringIndex;const Ne=createIndex(V.map(ze=>({type:"Name",value:ze}))),Ce=g.length+$.length+Oe.length+Ne.length+L.length;return e.topDict.charset=Ce,e.topDict.charStrings=e.topDict.charset+j.length+pe.length,e.topDict.fdArray=e.topDict.charStrings+oe.length,e.topDict.fdSelect=e.topDict.charset+j.length,ae.private[0]=$e.length,ae.private[1]=e.topDict.charStrings+oe.length+ue.length,de=createDict(FONT_DICT_META,ae,V),ue=createIndex([{type:"raw",value:de}]),he=createDict(TOP_DICT_META,e.topDict,V),Oe=createIndex([{type:"raw",value:he}]),[...g,...$,...Oe,...Ne,...L,...j,...pe,...oe,...ue,...$e]},cffTable=Object.freeze(Object.defineProperty({__proto__:null,create:create$2,createTable,parse:parse$6,parseType2CharString},Symbol.toStringTag,{value:"Module"})),tableTool={head:headTable,hhea:hheaTable,"OS/2":os2Table,maxp:maxpTable,name:nameTable,post:postTable,cmap:cmapTable,hmtx:hmtxTable,glyf:glyfTable,loca:locaTable,"CFF ":cffTable},types$2={sfntVersion:"Tag",numTables:"uint16",searchRange:"uint16",entrySelector:"uint16",rangeShift:"uint16",tag:"Tag",checkSum:"uint32",offset:"uint32",length:"uint32"},log2=n=>Math.log(n)/Math.log(2)|0,createRecord=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$2[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},createConfig=n=>{let e=[];return Object.keys(n).forEach(r=>{const g=types$2[r],y=n[r],k=encoder[g](y);k&&(e=e.concat(k))}),e},updateCharactersByTables=n=>{n.characters=parseTablesToCharacters(n.tables)},parse$5=(n,e)=>{start(n,0);const r=decoder[types$2.sfntVersion](),g=decoder[types$2.numTables](),y=decoder[types$2.searchRange](),k=decoder[types$2.entrySelector](),$=decoder[types$2.rangeShift](),V={sfntVersion:r,numTables:g,searchRange:y,entrySelector:k,rangeShift:$};e.tableConfig=V;for(let z=0;z<g;z++){const j=decoder[types$2.tag](),re=decoder[types$2.checkSum](),oe=decoder[types$2.offset](),ae=decoder[types$2.length](),de={name:j.tagStr,table:null,config:{tableTag:j,checkSum:re,offset:oe,length:ae}};e.tables.push(de)}end$2();const L={head:1,maxp:2,loca:3,hhea:4,name:5,post:6,"OS/2":7,hmtx:8,cmap:9,glyf:10,"CFF ":11};return e.tables=e.tables.filter(z=>L[z.name]).sort((z,j)=>L[z.name]-L[j.name]),e.tables.map(z=>{z.table=tableTool[z.name]?.parse(n,z.config.offset,e)}),updateCharactersByTables(e),e},create$1=(n,e="")=>{let r=0;const g=[],y={},k={},$=Object.keys(n),V=$.length,L=Math.pow(2,log2(V)),z=16*L,j=createConfig({sfntVersion:"OTTO",numTables:V,searchRange:z,entrySelector:log2(L),rangeShift:V*16-z});r+=computeCheckSum(j);let re=[],oe=[],ae=j.length+createRecord({tag:"xxxx",checkSum:0,offset:0,length:0}).length*V,de=0;for(;ae%4!==0;)ae++,de++;for(let ue=0;ue<$.length;ue++){const pe=n[$[ue]];let he=tableTool[$[ue]].create(pe);k[$[ue]]=he;let Oe=computeCheckSum(he);if(Oe%=4294967296,$[ue]==="head"&&e==="final"){const Ne=clone$1(pe);Ne.checkSumAdjustment=0;const Ce=tableTool[$[ue]].create(Ne);Oe=computeCheckSum(Ce),Oe%=4294967296}const xe=he.length,$e=createRecord({tag:$[ue],checkSum:Oe,offset:ae,length:xe});for(g.push({name:$[ue],table:pe,config:{tableTag:{tagStr:$[ue]},checkSum:Oe,offset:ae,length:xe}}),r+=computeCheckSum($e),r+=computeCheckSum(he),y[$[ue]]=$e,oe=oe.concat(he),ae+=xe;ae%4!==0;)ae++,oe=oe.concat(encoder.uint8(0))}$.sort((ue,pe)=>ue>pe?1:-1);for(let ue=0;ue<$.length;ue++){const pe=y[$[ue]];re=re.concat(pe)}for(let ue=0;ue<de;ue++)re=re.concat(encoder.uint8(0));return{data:[...j,...re,...oe],tables:g,tablesDataMap:k,checksum:r}};var UNIHANS=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],PINYINS=["A","AI","AN","ANG","AO","BA","BAI","BAN","BANG","BAO","BEI","BEN","BENG","BI","BIAN","BIAO","BIE","BIN","BING","BO","BU","CA","CAI","CAN","CANG","CAO","CE","CEN","CENG","CHA","CHAI","CHAN","CHANG","CHAO","CHE","CHEN","CHENG","CHI","CHONG","CHOU","CHU","CHUA","CHUAI","CHUAN","CHUANG","CHUI","CHUN","CHUO","CI","CONG","COU","CU","CUAN","CUI","CUN","CUO","DA","DAI","DAN","DANG","DAO","DE","DEN","DENG","DI","DIAN","DIAO","DIE","DING","DIU","DONG","DOU","DU","DUAN","DUI","DUN","DUO","E","EI","EN","ENG","ER","FA","FAN","FANG","FEI","FEN","FENG","FIAO","FO","FOU","FU","GA","GAI","GAN","GANG","GAO","GE","GEI","GEN","GENG","GONG","GOU","GU","GUA","GUAI","GUAN","GUANG","GUI","GUN","GUO","HA","HAI","HAN","HANG","HAO","HE","HEI","HEN","HENG","HM","HONG","HOU","HU","HUA","HUAI","HUAN","HUANG","HUI","HUN","HUO","JI","JIA","JIAN","JIANG","JIAO","JIE","JIN","JING","JIONG","JIU","JU","JUAN","JUE","JUN","KA","KAI","KAN","KANG","KAO","KE","KEN","KENG","KONG","KOU","KU","KUA","KUAI","KUAN","KUANG","KUI","KUN","KUO","LA","LAI","LAN","LANG","LAO","LE","LEI","LENG","LI","LIA","LIAN","LIANG","LIAO","LIE","LIN","LING","LIU","LO","LONG","LOU","LU","LV","LUAN","LVE","LUN","LUO","M","MA","MAI","MAN","MANG","MAO","ME","MEI","MEN","MENG","MI","MIAN","MIAO","MIE","MIN","MING","MIU","MO","MOU","MU","N","NA","NAI","NAN","NANG","NAO","NE","NEI","NEN","NENG","NI","NIAN","NIANG","NIAO","NIE","NIN","NING","NIU","NONG","NOU","NU","NV","NUAN","NVE","NUN","NUO","O","OU","PA","PAI","PAN","PANG","PAO","PEI","PEN","PENG","PI","PIAN","PIAO","PIE","PIN","PING","PO","POU","PU","QI","QIA","QIAN","QIANG","QIAO","QIE","QIN","QING","QIONG","QIU","QU","QUAN","QUE","QUN","RAN","RANG","RAO","RE","REN","RENG","RI","RONG","ROU","RU","RUA","RUAN","RUI","RUN","RUO","SA","SAI","SAN","SANG","SAO","SE","SEN","SENG","SHA","SHAI","SHAN","SHANG","SHAO","SHE","SHEN","SHENG","SHI","SHOU","SHU","SHUA","SHUAI","SHUAN","SHUANG","SHUI","SHUN","SHUO","SI","SONG","SOU","SU","SUAN","SUI","SUN","SUO","TA","TAI","TAN","TANG","TAO","TE","TENG","TI","TIAN","TIAO","TIE","TING","TONG","TOU","TU","TUAN","TUI","TUN","TUO","WA","WAI","WAN","WANG","WEI","WEN","WENG","WO","WU","XI","XIA","XIAN","XIANG","XIAO","XIE","XIN","XING","XIONG","XIU","XU","XUAN","XUE","XUN","YA","YAN","YANG","YAO","YE","YI","YIN","YING","YO","YONG","YOU","YU","YUAN","YUE","YUN","ZA","ZAI","ZAN","ZANG","ZAO","ZE","ZEI","ZEN","ZENG","ZHA","ZHAI","ZHAN","ZHANG","ZHAO","ZHE","ZHEN","ZHENG","ZHI","ZHONG","ZHOU","ZHU","ZHUA","ZHUAI","ZHUAN","ZHUANG","ZHUI","ZHUN","ZHUO","ZI","ZONG","ZOU","ZU","ZUAN","ZUI","ZUN","ZUO",""],EXCEPTIONS={:"ZENG",:"SHEN",:"DIA",:"ZHOU",:"GUO",:"QUE",:"KE",:"HUA",:"MO",:"MO",:"PAN",:"XI",:"PAN",:"XIAN",:"XIN",:"CHI",:"XING",:"JUN",:"CHANG",:"ZHEN",:"SHI",:"NA",:"XIONG",:"SHUI"},dict={PINYINS,UNIHANS,EXCEPTIONS},_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},DICT=dict,FIRST_PINYIN_UNIHAN="",LAST_PINYIN_UNIHAN="",LATIN=1,PINYIN=2,UNKNOWN=3,supported=null,COLLATOR=void 0;function patchDict(n){n&&(typeof n=="function"&&(n=[n]),n.forEach&&n.forEach(function(e){typeof e=="function"&&e(DICT)}))}function isSupported(n){return!n&&supported!==null||((typeof Intl>"u"?"undefined":_typeof$2(Intl))==="object"&&Intl.Collator?(COLLATOR=new Intl.Collator(["zh-Hans-CN","zh-CN"]),supported=Intl.Collator.supportedLocalesOf(["zh-CN"]).length===1):supported=!1),supported}function genToken(n){var e=DICT.UNIHANS,r=DICT.PINYINS,g=DICT.EXCEPTIONS,y={source:n};if(n in g)return y.type=PINYIN,y.target=g[n],y;var k=-1,$=void 0;if(n.charCodeAt(0)<256)return y.type=LATIN,y.target=n,y;if($=COLLATOR.compare(n,FIRST_PINYIN_UNIHAN),$<0)return y.type=UNKNOWN,y.target=n,y;if($===0)y.type=PINYIN,k=0;else{if($=COLLATOR.compare(n,LAST_PINYIN_UNIHAN),$>0)return y.type=UNKNOWN,y.target=n,y;$===0&&(y.type=PINYIN,k=e.length-1)}if(y.type=PINYIN,k<0)for(var V=0,L=e.length-1;V<=L;){k=~~((V+L)/2);var z=e[k];if($=COLLATOR.compare(n,z),$===0)break;$>0?V=k+1:L=k-1}return $<0&&k--,y.target=r[k],y.target||(y.type=UNKNOWN,y.target=y.source),y}function parse$4(n){if(typeof n!="string")throw new Error("argument should be string.");if(!isSupported())throw new Error("not support Intl or zh-CN language.");return n.split("").map(function(e){return genToken(e)})}var core={isSupported,parse:parse$4,patchDict,genToken,convertToPinyin:function(e,r,g){return parse$4(e).map(function(y){return g&&y.type===PINYIN?y.target.toLowerCase():y.target}).join(r||"")}},_56l={exports:{}};(function(n,e){e=n.exports=function(g){g.EXCEPTIONS={:"DIA",:"ZHOU",:"GUO",:"QUE",:"KE",:"HUA",:"MO",:"XI",:"PAN",:"XIAN",:"CHI",:"XING",:"ZHEN",:"XIONG",:"SHUI",:"KE"},g.UNIHANS[91]="",g.UNIHANS[347]="",g.UNIHANS[393]="",g.UNIHANS[39]="",g.UNIHANS[50]="",g.UNIHANS[369]="",g.UNIHANS[123]="",g.UNIHANS[171]="",g.UNIHANS[102]="",g.UNIHANS[126]="",g.UNIHANS[176]="",g.UNIHANS[178]="",g.UNIHANS[252]="",g.UNIHANS[330]=""},e.shouldPatch=function(g){return typeof g!="function"?!1:g("").target==="FOU"&&g("").target==="XIA"&&g("").target==="ZHONG"&&g("").target==="CHONG"&&g("").target==="CONG"&&g("").target==="YONG"&&g("").target==="HOU"&&g("").target==="LENG"&&g("").target==="GONG"&&g("").target==="HUAI"&&g("").target==="LIAO"&&g("").target==="LIN"&&g("").target==="E"}})(_56l,_56l.exports);var _56lExports=_56l.exports,pinyin=core,patcher56L=_56lExports;pinyin.isSupported()&&patcher56L.shouldPatch(pinyin.genToken)&&pinyin.patchDict(patcher56L);var dist$1=pinyin;const average=n=>{let e=0;for(let r=0;r<n.length;r+=1)e+=n[r];return e/n.length},parseFont=n=>{const e=new DataView(n);return parse$5(e,{characters:[],settings:{},rawData:e,buffer:n,tables:[]})},createFont$1=(n,e)=>{let r="";for(let En=0;En<e.familyName.length;En++){const jn=e.familyName[En].charCodeAt(0);jn>=33&&jn<=126?r+=`${e.familyName[En]}`:r+=`${jn}`}hasChineseChar(e.familyName)&&(r=dist$1.convertToPinyin(e.familyName));const g={fontFamily:{en:e.familyName||" ",zh:e.familyName||" "},fontSubfamily:{en:"Regular",zh:""},fullName:{en:e.fullName||e.familyName+" "+e.styleName,zh:e.fullName||e.familyName+" "},postScriptName:{en:e.postScriptName||(r+"-"+e.styleName).replace(/\s/g,"").slice(0,63),zh:e.postScriptName||(r+"-"+e.styleName).replace(/\s/g,"").slice(0,63)},designer:{en:e.designer||" ",zh:e.designer||" "},designerURL:{en:e.designerURL||" ",zh:e.designerURL||" "},manufacturer:{en:e.manufacturer||" ",zh:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" ",zh:e.manufacturerURL||" "},license:{en:e.license||" ",zh:e.license||" "},licenseURL:{en:e.licenseURL||" ",zh:e.licenseURL||" "},version:{en:e.version||"Version 1.0",zh:e.version||"Version 1.0"},description:{en:e.description||" ",zh:e.description||" "},copyright:{en:e.copyright||" ",zh:e.copyright||" "},trademark:{en:e.trademark||" ",zh:e.trademark||" "}},y=Object.keys(g);for(let En=0;En<y.length;En++){const jn=g[y[En]].en;hasChineseChar(jn)&&(g[y[En]].en=dist$1.convertToPinyin(jn))}const k={characters:n,settings:{unitsPerEm:e.unitsPerEm||1e3,ascender:e.ascender,descender:e.descender}},$=[],V=[],L=[],z=[],j=[],re=[],oe=[];let ae,de=0,ue=0,pe=0,he=0,Oe=0;for(let En=0;En<n.length;En+=1){loaded$1.value++,loaded$1.value>=total$1.value&&(loading.value=!1,loaded$1.value=0,total$1.value=0);const jn=n[En],cr=jn.unicode|0;(ae>cr||ae===void 0)&&cr>0&&(ae=cr),de<cr&&(de=cr);const gr=getUnicodeRange(cr);if(gr<32)ue|=1<<gr;else if(gr<64)pe|=1<<gr-32;else if(gr<96)he|=1<<gr-64;else if(gr<123)Oe|=1<<gr-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(cr===0)continue;const Cr=getMetrics(jn);$.push(Cr.xMin),V.push(Cr.yMin),L.push(Cr.xMax),z.push(Cr.yMax),re.push(Cr.leftSideBearing),oe.push(Cr.rightSideBearing),j.push(jn.advanceWidth)}const xe={xMin:Math.min.apply(null,$),yMin:Math.min.apply(null,V),xMax:Math.max.apply(null,L),yMax:Math.max.apply(null,z),advanceWidthMax:Math.max.apply(null,j),advanceWidthAvg:average(j),minLeftSideBearing:Math.min.apply(null,re),maxLeftSideBearing:Math.max.apply(null,re),minRightSideBearing:Math.min.apply(null,oe),ascender:e.ascender,descender:e.descender},$e={majorVersion:1,minorVersion:0,fontRevision:65536,checkSumAdjustment:0,magicNumber:1594834165,flags:3,unitsPerEm:e.unitsPerEm,created:Math.floor(e.createdTimestamp||Date.now()/1e3)+2082844800,modified:Math.floor(Date.now()/1e3)+2082844800,xMin:0,yMin:-200,xMax:1e3,yMax:800,macStyle:0,lowestRecPPEM:7,fontDirectionHint:2,indexToLocFormat:0,glyphDataFormat:0},Ne={majorVersion:1,minorVersion:0,ascender:e.ascender,descender:e.descender,lineGap:0,advanceWidthMax:xe.advanceWidthMax,minLeftSideBearing:xe.minLeftSideBearing,minRightSideBearing:xe.minRightSideBearing,xMaxExtent:xe.maxLeftSideBearing+(xe.xMax-xe.xMin),caretSlopeRise:1,caretSlopeRun:0,caretOffset:0,reserved0:0,reserved1:0,reserved2:0,reserved3:0,metricDataFormat:0,numberOfHMetrics:n.length},Ce={version:20480,numGlyphs:n.length},Fe={version:5,xAvgCharWidth:Math.round(xe.advanceWidthAvg),usWeightClass:400,usWidthClass:5,fsType:0,ySubscriptXSize:650,ySubscriptYSize:699,ySubscriptXOffset:0,ySubscriptYOffset:140,ySuperscriptXSize:650,ySuperscriptYSize:699,ySuperscriptXOffset:0,ySuperscriptYOffset:479,yStrikeoutSize:49,yStrikeoutPosition:258,sFamilyClass:0,panose:[0,0,0,0,0,0,0,0,0,0],ulUnicodeRange1:ue,ulUnicodeRange2:pe,ulUnicodeRange3:he,ulUnicodeRange4:Oe,achVendID:"UKWN",fsSelection:64,usFirstCharIndex:ae,usLastCharIndex:de,sTypoAscender:xe.ascender,sTypoDescender:xe.descender,sTypoLineGap:0,usWinAscent:800,usWinDescent:200,ulCodePageRange1:1|1<<18|1<<20,ulCodePageRange2:0,sxHeight:metricsForChar(k,"xyvw",{yMax:Math.round(xe.ascender/2)}).yMax,sCapHeight:metricsForChar(k,"HIKLEFJMNTZBDPRAGOQSUVWXY",xe).yMax,usDefaultChar:hasChar(k," ")?32:0,usBreakChar:hasChar(k," ")?32:0,usMaxContext:0,usLowerOpticalPointSize:8,usUpperOpticalPointSize:72},ze={hMetrics:[]};for(let En=0;En<n.length;En++){const jn=n[En],cr=jn.advanceWidth||0,gr=jn.leftSideBearing||0;ze.hMetrics.push({advanceWidth:cr,lsb:gr})}const kt=createTable$1(n),At=En=>{const jn=g[En];if(jn)return jn.en},Cn=At("fontFamily"),Dt=At("fontSubfamily"),On=Cn+"-"+Dt;let jt=At("postScriptName");jt||(jt=Cn.replace(/\s/g,"")+"-"+Dt);const An={};for(let En in g)An[En]=g[En];An.uniqueID||(An.uniqueID={en:On,zh:On}),An.postScriptName||(An.postScriptName={en:jt,zh:jt});const Mn=createTable$2(An),$n={version:196608,italicAngle:0,underlinePosition:0,underlineThickness:0,isFixedPitch:1,minMemType42:0,maxMemType42:0,minMemType1:0,maxMemType1:0},Ln=createTable(n,{version:At("version"),fullName:On,familyName:Cn,weightName:Dt,postScriptName:jt,unitsPerEm:k.settings.unitsPerEm,fontBBox:[0,xe.yMin,xe.ascender,xe.advanceWidthMax]}),Tn={head:$e,hhea:Ne,maxp:Ce,"OS/2":Fe,name:Mn,cmap:kt,post:$n,hmtx:ze,"CFF ":Ln};$e.checkSumAdjustment=0;let Zn=create$1(Tn,"checksum");const Qn=Zn.checksum;$e.checkSumAdjustment=2981146554-Qn%4294967296;const Pn=encoder.uint32($e.checkSumAdjustment);$e.checkSumAdjustment<0&&($e.checkSumAdjustment=($e.checkSumAdjustment+4294967296)%4294967296);const{data:Wn,tables:ur,tablesDataMap:hr}=Zn;return Wn[164]=Pn[0],Wn[165]=Pn[1],Wn[166]=Pn[2],Wn[167]=Pn[3],k.bytes=Wn,Object.keys(Tn).sort((En,jn)=>En>jn?1:-1),k.tables=ur,k},toArrayBuffer=n=>{if(n.bytes){const e=new ArrayBuffer(n.bytes.length),r=new Uint8Array(e);for(let g=0;g<n.bytes.length;g++)r[g]=n.bytes[g];return e}else if(n.rawData)return n.rawData.buffer},metricsForChar=(n,e,r)=>{for(let g=0;g<e.length;g+=1){const y=getCharacterIndex(n,e[g]);if(y>0){const k=n.characters[y];return getMetrics(k)}}return r},getCharacterIndex=(n,e)=>{const r=e.codePointAt(0),g=n.characters;if(g){for(let y=0;y<g.length;y++)if(g[y].unicode===r)return y}return-1},hasChar=(n,e)=>getCharacterIndex(n,e)!==-1,parse$3=n=>parseFont(n),create=(n,e)=>createFont$1(n,e),editing$7=ref(!1),setEditing$5=n=>{editing$7.value=n},points$1=reactive({value:[]}),setPoints$1=n=>{points$1.value=n},mousedown$1=ref(!1),mousemove$1=ref(!1),editing$6=ref(!1),setEditing$4=n=>{editing$6.value=n},points=reactive({value:[]}),setPoints=n=>{points.value=n},mousedown=ref(!1),mousemove=ref(!1),editing$5=ref(!1),setEditing$3=n=>{editing$5.value=n},rectX=ref(-1),setRectX=n=>{rectX.value=n},rectY=ref(-1),setRectY=n=>{rectY.value=n},rectWidth=ref(0),setRectWidth=n=>{rectWidth.value=n},rectHeight=ref(0),setRectHeight=n=>{rectHeight.value=n},editing$4=ref(!1),setEditing$2=n=>{editing$4.value=n},ellipseX=ref(-1),setEllipseX=n=>{ellipseX.value=n},ellipseY=ref(-1),setEllipseY=n=>{ellipseY.value=n},radiusX=ref(0),setRadiusX=n=>{radiusX.value=n},radiusY=ref(0),setRadiusY=n=>{radiusY.value=n},selectControl$2=ref("null"),selectAnchor=ref(""),selectPenPoint=ref(""),hoverPenPoint=ref(""),onPenEditMode=ref(!1),setOnPenEditMode=n=>{onPenEditMode.value=n},FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,obtainAllFocusableElements$1=n=>Array.from(n.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(e=>isFocusable(e)&&isVisible(e)),isFocusable=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.disabled)return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(n,e,...r){let g;e.includes("mouse")||e.includes("click")?g="MouseEvents":e.includes("key")?g="KeyboardEvent":g="HTMLEvents";const y=document.createEvent(g);return y.initEvent(e,...r),n.dispatchEvent(y),n},isLeaf=n=>!n.getAttribute("aria-owns"),getSibling=(n,e,r)=>{const{parentNode:g}=n;if(!g)return null;const y=g.querySelectorAll(r),k=Array.prototype.indexOf.call(y,n);return y[k+e]||null},focusNode=n=>{n&&(n.focus(),!isLeaf(n)&&n.click())},composeEventHandlers=(n,e,{checkForDefaultPrevented:r=!0}={})=>y=>{const k=n?.(y);if(r===!1||!k)return e?.(y)},whenMouse=n=>e=>e.pointerType==="mouse"?n(e):void 0;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(n,e,r)=>e in n?__defProp$9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues$9=(n,e)=>{for(var r in e||(e={}))__hasOwnProp$b.call(e,r)&&__defNormalProp$9(n,r,e[r]);if(__getOwnPropSymbols$b)for(var r of __getOwnPropSymbols$b(e))__propIsEnum$b.call(e,r)&&__defNormalProp$9(n,r,e[r]);return n},__spreadProps$6=(n,e)=>__defProps$6(n,__getOwnPropDescs$6(e));function computedEager(n,e){var r;const g=shallowRef();return watchEffect(()=>{g.value=n()},__spreadProps$6(__spreadValues$9({},e),{flush:(r=e?.flush)!=null?r:"sync"})),readonly(g)}var _a$1;const isClient=typeof window<"u",isDef=n=>typeof n<"u",isFunction$2=n=>typeof n=="function",isString$2=n=>typeof n=="string",noop$4=()=>{},isIOS=isClient&&((_a$1=window?.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(n){return typeof n=="function"?n():unref(n)}function createFilterWrapper(n,e){function r(...g){return new Promise((y,k)=>{Promise.resolve(n(()=>e.apply(this,g),{fn:e,thisArg:this,args:g})).then(y).catch(k)})}return r}function debounceFilter(n,e={}){let r,g,y=noop$4;const k=V=>{clearTimeout(V),y(),y=noop$4};return V=>{const L=resolveUnref(n),z=resolveUnref(e.maxWait);return r&&k(r),L<=0||z!==void 0&&z<=0?(g&&(k(g),g=null),Promise.resolve(V())):new Promise((j,re)=>{y=e.rejectOnCancel?re:j,z&&!g&&(g=setTimeout(()=>{r&&k(r),g=null,j(V())},z)),r=setTimeout(()=>{g&&k(g),g=null,j(V())},L)})}}function throttleFilter(n,e=!0,r=!0,g=!1){let y=0,k,$=!0,V=noop$4,L;const z=()=>{k&&(clearTimeout(k),k=void 0,V(),V=noop$4)};return re=>{const oe=resolveUnref(n),ae=Date.now()-y,de=()=>L=re();return z(),oe<=0?(y=Date.now(),de()):(ae>oe&&(r||!$)?(y=Date.now(),de()):e&&(L=new Promise((ue,pe)=>{V=g?pe:ue,k=setTimeout(()=>{y=Date.now(),$=!0,ue(de()),z()},Math.max(0,oe-ae))})),!r&&!k&&(k=setTimeout(()=>$=!0,oe)),$=!1,L)}}function identity$1(n){return n}function tryOnScopeDispose(n){return getCurrentScope()?(onScopeDispose(n),!0):!1}function useDebounceFn(n,e=200,r={}){return createFilterWrapper(debounceFilter(e,r),n)}function refDebounced(n,e=200,r={}){const g=ref(n.value),y=useDebounceFn(()=>{g.value=n.value},e,r);return watch(n,()=>y()),g}function useThrottleFn(n,e=200,r=!1,g=!0,y=!1){return createFilterWrapper(throttleFilter(e,r,g,y),n)}function tryOnMounted(n,e=!0){getCurrentInstance()?onMounted(n):e?n():nextTick(n)}function useTimeoutFn(n,e,r={}){const{immediate:g=!0}=r,y=ref(!1);let k=null;function $(){k&&(clearTimeout(k),k=null)}function V(){y.value=!1,$()}function L(...z){$(),y.value=!0,k=setTimeout(()=>{y.value=!1,k=null,n(...z)},resolveUnref(e))}return g&&(y.value=!0,isClient&&L()),tryOnScopeDispose(V),{isPending:readonly(y),start:L,stop:V}}function unrefElement(n){var e;const r=resolveUnref(n);return(e=r?.$el)!=null?e:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...n){let e,r,g,y;if(isString$2(n[0])||Array.isArray(n[0])?([r,g,y]=n,e=defaultWindow):[e,r,g,y]=n,!e)return noop$4;Array.isArray(r)||(r=[r]),Array.isArray(g)||(g=[g]);const k=[],$=()=>{k.forEach(j=>j()),k.length=0},V=(j,re,oe,ae)=>(j.addEventListener(re,oe,ae),()=>j.removeEventListener(re,oe,ae)),L=watch(()=>[unrefElement(e),resolveUnref(y)],([j,re])=>{$(),j&&k.push(...r.flatMap(oe=>g.map(ae=>V(j,oe,ae,re))))},{immediate:!0,flush:"post"}),z=()=>{L(),$()};return tryOnScopeDispose(z),z}let _iOSWorkaround=!1;function onClickOutside(n,e,r={}){const{window:g=defaultWindow,ignore:y=[],capture:k=!0,detectIframe:$=!1}=r;if(!g)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(g.document.body.children).forEach(oe=>oe.addEventListener("click",noop$4)));let V=!0;const L=oe=>y.some(ae=>{if(typeof ae=="string")return Array.from(g.document.querySelectorAll(ae)).some(de=>de===oe.target||oe.composedPath().includes(de));{const de=unrefElement(ae);return de&&(oe.target===de||oe.composedPath().includes(de))}}),j=[useEventListener(g,"click",oe=>{const ae=unrefElement(n);if(!(!ae||ae===oe.target||oe.composedPath().includes(ae))){if(oe.detail===0&&(V=!L(oe)),!V){V=!0;return}e(oe)}},{passive:!0,capture:k}),useEventListener(g,"pointerdown",oe=>{const ae=unrefElement(n);ae&&(V=!oe.composedPath().includes(ae)&&!L(oe))},{passive:!0}),$&&useEventListener(g,"blur",oe=>{var ae;const de=unrefElement(n);((ae=g.document.activeElement)==null?void 0:ae.tagName)==="IFRAME"&&!de?.contains(g.document.activeElement)&&e(oe)})].filter(Boolean);return()=>j.forEach(oe=>oe())}function useSupported(n,e=!1){const r=ref(),g=()=>r.value=!!n();return g(),tryOnMounted(g,e),r}function cloneFnJSON(n){return JSON.parse(JSON.stringify(n))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};function useCssVar(n,e,{window:r=defaultWindow,initialValue:g=""}={}){const y=ref(g),k=computed(()=>{var $;return unrefElement(e)||(($=r?.document)==null?void 0:$.documentElement)});return watch([k,()=>resolveUnref(n)],([$,V])=>{var L;if($&&r){const z=(L=r.getComputedStyle($).getPropertyValue(V))==null?void 0:L.trim();y.value=z||g}},{immediate:!0}),watch(y,$=>{var V;(V=k.value)!=null&&V.style&&k.value.style.setProperty(resolveUnref(n),$)}),y}function useDocumentVisibility({document:n=defaultDocument}={}){if(!n)return ref("visible");const e=ref(n.visibilityState);return useEventListener(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(n,e)=>{var r={};for(var g in n)__hasOwnProp$g.call(n,g)&&e.indexOf(g)<0&&(r[g]=n[g]);if(n!=null&&__getOwnPropSymbols$g)for(var g of __getOwnPropSymbols$g(n))e.indexOf(g)<0&&__propIsEnum$g.call(n,g)&&(r[g]=n[g]);return r};function useResizeObserver(n,e,r={}){const g=r,{window:y=defaultWindow}=g,k=__objRest$2(g,["window"]);let $;const V=useSupported(()=>y&&"ResizeObserver"in y),L=()=>{$&&($.disconnect(),$=void 0)},z=watch(()=>unrefElement(n),re=>{L(),V.value&&y&&re&&($=new ResizeObserver(e),$.observe(re,k))},{immediate:!0,flush:"post"}),j=()=>{L(),z()};return tryOnScopeDispose(j),{isSupported:V,stop:j}}function useElementBounding(n,e={}){const{reset:r=!0,windowResize:g=!0,windowScroll:y=!0,immediate:k=!0}=e,$=ref(0),V=ref(0),L=ref(0),z=ref(0),j=ref(0),re=ref(0),oe=ref(0),ae=ref(0);function de(){const ue=unrefElement(n);if(!ue){r&&($.value=0,V.value=0,L.value=0,z.value=0,j.value=0,re.value=0,oe.value=0,ae.value=0);return}const pe=ue.getBoundingClientRect();$.value=pe.height,V.value=pe.bottom,L.value=pe.left,z.value=pe.right,j.value=pe.top,re.value=pe.width,oe.value=pe.x,ae.value=pe.y}return useResizeObserver(n,de),watch(()=>unrefElement(n),ue=>!ue&&de()),y&&useEventListener("scroll",de,{capture:!0,passive:!0}),g&&useEventListener("resize",de,{passive:!0}),tryOnMounted(()=>{k&&de()}),{height:$,bottom:V,left:L,right:z,top:j,width:re,x:oe,y:ae,update:de}}var SwipeDirection;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(n,e,r)=>e in n?__defProp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues=(n,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp(n,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp(n,r,e[r]);return n};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);function useVModel(n,e,r,g={}){var y,k,$;const{clone:V=!1,passive:L=!1,eventName:z,deep:j=!1,defaultValue:re}=g,oe=getCurrentInstance(),ae=r||oe?.emit||((y=oe?.$emit)==null?void 0:y.bind(oe))||(($=(k=oe?.proxy)==null?void 0:k.$emit)==null?void 0:$.bind(oe?.proxy));let de=z;e||(e="modelValue"),de=z||de||`update:${e.toString()}`;const ue=he=>V?isFunction$2(V)?V(he):cloneFnJSON(he):he,pe=()=>isDef(n[e])?ue(n[e]):re;if(L){const he=pe(),Oe=ref(he);return watch(()=>n[e],xe=>Oe.value=ue(xe)),watch(Oe,xe=>{(xe!==n[e]||j)&&ae(de,xe)},{deep:j}),Oe}else return computed({get(){return pe()},set(he){ae(de,he)}})}function useWindowFocus({window:n=defaultWindow}={}){if(!n)return ref(!1);const e=ref(n.document.hasFocus());return useEventListener(n,"blur",()=>{e.value=!1}),useEventListener(n,"focus",()=>{e.value=!0}),e}function useWindowSize(n={}){const{window:e=defaultWindow,initialWidth:r=1/0,initialHeight:g=1/0,listenOrientation:y=!0,includeScrollbar:k=!0}=n,$=ref(r),V=ref(g),L=()=>{e&&(k?($.value=e.innerWidth,V.value=e.innerHeight):($.value=e.document.documentElement.clientWidth,V.value=e.document.documentElement.clientHeight))};return L(),tryOnMounted(L),useEventListener("resize",L,{passive:!0}),y&&useEventListener("orientationchange",L,{passive:!0}),{width:$,height:V}}const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent),isInContainer=(n,e)=>{if(!isClient||!n||!e)return!1;const r=n.getBoundingClientRect();let g;return e instanceof Element?g=e.getBoundingClientRect():g={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<g.bottom&&r.bottom>g.top&&r.right>g.left&&r.left<g.right},getOffsetTop=n=>{let e=0,r=n;for(;r;)e+=r.offsetTop,r=r.offsetParent;return e},getOffsetTopDistance=(n,e)=>Math.abs(getOffsetTop(n)-getOffsetTop(e)),getClientXY=n=>{let e,r;return n.type==="touchend"?(r=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(r=n.touches[0].clientY,e=n.touches[0].clientX):(r=n.clientY,e=n.clientX),{clientX:e,clientY:r}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(n){var e=hasOwnProperty$d.call(n,symToStringTag$1),r=n[symToStringTag$1];try{n[symToStringTag$1]=void 0;var g=!0}catch{}var y=nativeObjectToString$1.call(n);return g&&(e?n[symToStringTag$1]=r:delete n[symToStringTag$1]),y}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(n){return nativeObjectToString.call(n)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(n){return n==null?n===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(n)?getRawTag(n):objectToString$1(n)}function isObjectLike(n){return n!=null&&typeof n=="object"}var symbolTag$3="[object Symbol]";function isSymbol(n){return typeof n=="symbol"||isObjectLike(n)&&baseGetTag(n)==symbolTag$3}function arrayMap(n,e){for(var r=-1,g=n==null?0:n.length,y=Array(g);++r<g;)y[r]=e(n[r],r,n);return y}var isArray$1=Array.isArray,INFINITY$4=1/0,symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(n){if(typeof n=="string")return n;if(isArray$1(n))return arrayMap(n,baseToString)+"";if(isSymbol(n))return symbolToString?symbolToString.call(n):"";var e=n+"";return e=="0"&&1/n==-INFINITY$4?"-0":e}var reWhitespace=/\s/;function trimmedEndIndex(n){for(var e=n.length;e--&&reWhitespace.test(n.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(n){return n&&n.slice(0,trimmedEndIndex(n)+1).replace(reTrimStart,"")}function isObject$2(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(n){if(typeof n=="number")return n;if(isSymbol(n))return NAN;if(isObject$2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=isObject$2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=baseTrim(n);var r=reIsBinary.test(n);return r||reIsOctal.test(n)?freeParseInt(n.slice(2),r?2:8):reIsBadHex.test(n)?NAN:+n}var INFINITY$3=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(n){if(!n)return n===0?n:0;if(n=toNumber(n),n===INFINITY$3||n===-INFINITY$3){var e=n<0?-1:1;return e*MAX_INTEGER}return n===n?n:0}function toInteger(n){var e=toFinite(n),r=e%1;return e===e?r?e-r:e:0}function identity(n){return n}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(n){if(!isObject$2(n))return!1;var e=baseGetTag(n);return e==funcTag$2||e==genTag$1||e==asyncTag||e==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var n=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function isMasked(n){return!!maskSrcKey&&maskSrcKey in n}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(n){if(n!=null){try{return funcToString$2.call(n)}catch{}try{return n+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$c=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(n){if(!isObject$2(n)||isMasked(n))return!1;var e=isFunction$1(n)?reIsNative:reIsHostCtor;return e.test(toSource(n))}function getValue$1(n,e){return n?.[e]}function getNative(n,e){var r=getValue$1(n,e);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function n(){}return function(e){if(!isObject$2(e))return{};if(objectCreate)return objectCreate(e);n.prototype=e;var r=new n;return n.prototype=void 0,r}}();function apply$1(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)}function noop$3(){}function copyArray(n,e){var r=-1,g=n.length;for(e||(e=Array(g));++r<g;)e[r]=n[r];return e}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(n){var e=0,r=0;return function(){var g=nativeNow(),y=HOT_SPAN-(g-r);if(r=g,y>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function constant(n){return function(){return n}}var defineProperty=function(){try{var n=getNative(Object,"defineProperty");return n({},"",{}),n}catch{}}(),baseSetToString=defineProperty?function(n,e){return defineProperty(n,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);function arrayEach(n,e){for(var r=-1,g=n==null?0:n.length;++r<g&&e(n[r],r,n)!==!1;);return n}function baseFindIndex(n,e,r,g){for(var y=n.length,k=r+(g?1:-1);g?k--:++k<y;)if(e(n[k],k,n))return k;return-1}function baseIsNaN(n){return n!==n}function strictIndexOf(n,e,r){for(var g=r-1,y=n.length;++g<y;)if(n[g]===e)return g;return-1}function baseIndexOf(n,e,r){return e===e?strictIndexOf(n,e,r):baseFindIndex(n,baseIsNaN,r)}function arrayIncludes(n,e){var r=n==null?0:n.length;return!!r&&baseIndexOf(n,e,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(n,e){var r=typeof n;return e=e??MAX_SAFE_INTEGER$1,!!e&&(r=="number"||r!="symbol"&&reIsUint.test(n))&&n>-1&&n%1==0&&n<e}function baseAssignValue(n,e,r){e=="__proto__"&&defineProperty?defineProperty(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}function eq(n,e){return n===e||n!==n&&e!==e}var objectProto$c=Object.prototype,hasOwnProperty$b=objectProto$c.hasOwnProperty;function assignValue(n,e,r){var g=n[e];(!(hasOwnProperty$b.call(n,e)&&eq(g,r))||r===void 0&&!(e in n))&&baseAssignValue(n,e,r)}function copyObject(n,e,r,g){var y=!r;r||(r={});for(var k=-1,$=e.length;++k<$;){var V=e[k],L=g?g(r[V],n[V],V,r,n):void 0;L===void 0&&(L=n[V]),y?baseAssignValue(r,V,L):assignValue(r,V,L)}return r}var nativeMax$2=Math.max;function overRest(n,e,r){return e=nativeMax$2(e===void 0?n.length-1:e,0),function(){for(var g=arguments,y=-1,k=nativeMax$2(g.length-e,0),$=Array(k);++y<k;)$[y]=g[e+y];y=-1;for(var V=Array(e+1);++y<e;)V[y]=g[y];return V[e]=r($),apply$1(n,this,V)}}function baseRest(n,e){return setToString(overRest(n,e,identity),n+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MAX_SAFE_INTEGER}function isArrayLike(n){return n!=null&&isLength(n.length)&&!isFunction$1(n)}function isIterateeCall(n,e,r){if(!isObject$2(r))return!1;var g=typeof e;return(g=="number"?isArrayLike(r)&&isIndex(e,r.length):g=="string"&&e in r)?eq(r[e],n):!1}function createAssigner(n){return baseRest(function(e,r){var g=-1,y=r.length,k=y>1?r[y-1]:void 0,$=y>2?r[2]:void 0;for(k=n.length>3&&typeof k=="function"?(y--,k):void 0,$&&isIterateeCall(r[0],r[1],$)&&(k=y<3?void 0:k,y=1),e=Object(e);++g<y;){var V=r[g];V&&n(e,V,g,k)}return e})}var objectProto$b=Object.prototype;function isPrototype(n){var e=n&&n.constructor,r=typeof e=="function"&&e.prototype||objectProto$b;return n===r}function baseTimes(n,e){for(var r=-1,g=Array(n);++r<n;)g[r]=e(r);return g}var argsTag$3="[object Arguments]";function baseIsArguments(n){return isObjectLike(n)&&baseGetTag(n)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$a=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(n){return isObjectLike(n)&&hasOwnProperty$a.call(n,"callee")&&!propertyIsEnumerable$1.call(n,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(n){return isObjectLike(n)&&isLength(n.length)&&!!typedArrayTags[baseGetTag(n)]}function baseUnary(n){return function(e){return n(e)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var n=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return n||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$9=objectProto$9.hasOwnProperty;function arrayLikeKeys(n,e){var r=isArray$1(n),g=!r&&isArguments(n),y=!r&&!g&&isBuffer(n),k=!r&&!g&&!y&&isTypedArray(n),$=r||g||y||k,V=$?baseTimes(n.length,String):[],L=V.length;for(var z in n)(e||hasOwnProperty$9.call(n,z))&&!($&&(z=="length"||y&&(z=="offset"||z=="parent")||k&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||isIndex(z,L)))&&V.push(z);return V}function overArg(n,e){return function(r){return n(e(r))}}var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty;function baseKeys(n){if(!isPrototype(n))return nativeKeys(n);var e=[];for(var r in Object(n))hasOwnProperty$8.call(n,r)&&r!="constructor"&&e.push(r);return e}function keys$1(n){return isArrayLike(n)?arrayLikeKeys(n):baseKeys(n)}function nativeKeysIn(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeysIn(n){if(!isObject$2(n))return nativeKeysIn(n);var e=isPrototype(n),r=[];for(var g in n)g=="constructor"&&(e||!hasOwnProperty$7.call(n,g))||r.push(g);return r}function keysIn(n){return isArrayLike(n)?arrayLikeKeys(n,!0):baseKeysIn(n)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(n,e){if(isArray$1(n))return!1;var r=typeof n;return r=="number"||r=="symbol"||r=="boolean"||n==null||isSymbol(n)?!0:reIsPlainProp.test(n)||!reIsDeepProp.test(n)||e!=null&&n in Object(e)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function hashGet(n){var e=this.__data__;if(nativeCreate){var r=e[n];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$6.call(e,n)?e[n]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function hashHas(n){var e=this.__data__;return nativeCreate?e[n]!==void 0:hasOwnProperty$5.call(e,n)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var g=n[e];this.set(g[0],g[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(n,e){for(var r=n.length;r--;)if(eq(n[r][0],e))return r;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(n){var e=this.__data__,r=assocIndexOf(e,n);if(r<0)return!1;var g=e.length-1;return r==g?e.pop():splice.call(e,r,1),--this.size,!0}function listCacheGet(n){var e=this.__data__,r=assocIndexOf(e,n);return r<0?void 0:e[r][1]}function listCacheHas(n){return assocIndexOf(this.__data__,n)>-1}function listCacheSet(n,e){var r=this.__data__,g=assocIndexOf(r,n);return g<0?(++this.size,r.push([n,e])):r[g][1]=e,this}function ListCache(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var g=n[e];this.set(g[0],g[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function getMapData(n,e){var r=n.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}function mapCacheDelete(n){var e=getMapData(this,n).delete(n);return this.size-=e?1:0,e}function mapCacheGet(n){return getMapData(this,n).get(n)}function mapCacheHas(n){return getMapData(this,n).has(n)}function mapCacheSet(n,e){var r=getMapData(this,n),g=r.size;return r.set(n,e),this.size+=r.size==g?0:1,this}function MapCache(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var g=n[e];this.set(g[0],g[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var r=function(){var g=arguments,y=e?e.apply(this,g):g[0],k=r.cache;if(k.has(y))return k.get(y);var $=n.apply(this,g);return r.cache=k.set(y,$)||k,$};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(n){var e=memoize(n,function(g){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),g}),r=e.cache;return e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(rePropName,function(r,g,y,k){e.push(y?k.replace(reEscapeChar,"$1"):g||r)}),e});function toString(n){return n==null?"":baseToString(n)}function castPath(n,e){return isArray$1(n)?n:isKey(n,e)?[n]:stringToPath(toString(n))}var INFINITY$2=1/0;function toKey(n){if(typeof n=="string"||isSymbol(n))return n;var e=n+"";return e=="0"&&1/n==-INFINITY$2?"-0":e}function baseGet(n,e){e=castPath(e,n);for(var r=0,g=e.length;n!=null&&r<g;)n=n[toKey(e[r++])];return r&&r==g?n:void 0}function get(n,e,r){var g=n==null?void 0:baseGet(n,e);return g===void 0?r:g}function arrayPush(n,e){for(var r=-1,g=e.length,y=n.length;++r<g;)n[y+r]=e[r];return n}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(n){return isArray$1(n)||isArguments(n)||!!(spreadableSymbol&&n&&n[spreadableSymbol])}function baseFlatten(n,e,r,g,y){var k=-1,$=n.length;for(r||(r=isFlattenable),y||(y=[]);++k<$;){var V=n[k];e>0&&r(V)?e>1?baseFlatten(V,e-1,r,g,y):arrayPush(y,V):g||(y[y.length]=V)}return y}function flatten$1(n){var e=n==null?0:n.length;return e?baseFlatten(n,1):[]}function flatRest(n){return setToString(overRest(n,void 0,flatten$1),n+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(n){if(!isObjectLike(n)||baseGetTag(n)!=objectTag$3)return!1;var e=getPrototype$1(n);if(e===null)return!0;var r=hasOwnProperty$4.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&funcToString.call(r)==objectCtorString}function castArray$1(){if(!arguments.length)return[];var n=arguments[0];return isArray$1(n)?n:[n]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r}function stackGet(n){return this.__data__.get(n)}function stackHas(n){return this.__data__.has(n)}var LARGE_ARRAY_SIZE$1=200;function stackSet(n,e){var r=this.__data__;if(r instanceof ListCache){var g=r.__data__;if(!Map$1||g.length<LARGE_ARRAY_SIZE$1-1)return g.push([n,e]),this.size=++r.size,this;r=this.__data__=new MapCache(g)}return r.set(n,e),this.size=r.size,this}function Stack$1(n){var e=this.__data__=new ListCache(n);this.size=e.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;function baseAssign(n,e){return n&&copyObject(e,keys$1(e),n)}function baseAssignIn(n,e){return n&&copyObject(e,keysIn(e),n)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(n,e){if(e)return n.slice();var r=n.length,g=allocUnsafe?allocUnsafe(r):new n.constructor(r);return n.copy(g),g}function arrayFilter(n,e){for(var r=-1,g=n==null?0:n.length,y=0,k=[];++r<g;){var $=n[r];e($,r,n)&&(k[y++]=$)}return k}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(n){return n==null?[]:(n=Object(n),arrayFilter(nativeGetSymbols$1(n),function(e){return propertyIsEnumerable.call(n,e)}))}:stubArray;function copySymbols(n,e){return copyObject(n,getSymbols(n),e)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(n){for(var e=[];n;)arrayPush(e,getSymbols(n)),n=getPrototype$1(n);return e}:stubArray;function copySymbolsIn(n,e){return copyObject(n,getSymbolsIn(n),e)}function baseGetAllKeys(n,e,r){var g=e(n);return isArray$1(n)?g:arrayPush(g,r(n))}function getAllKeys(n){return baseGetAllKeys(n,keys$1,getSymbols)}function getAllKeysIn(n){return baseGetAllKeys(n,keysIn,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(n){var e=baseGetTag(n),r=e==objectTag$2?n.constructor:void 0,g=r?toSource(r):"";if(g)switch(g){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return e});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function initCloneArray(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&hasOwnProperty$3.call(n,"index")&&(r.index=n.index,r.input=n.input),r}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(n){var e=new n.constructor(n.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(n)),e}function cloneDataView(n,e){var r=e?cloneArrayBuffer(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}var reFlags=/\w*$/;function cloneRegExp(n){var e=new n.constructor(n.source,reFlags.exec(n));return e.lastIndex=n.lastIndex,e}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(n){return symbolValueOf$1?Object(symbolValueOf$1.call(n)):{}}function cloneTypedArray(n,e){var r=e?cloneArrayBuffer(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(n,e,r){var g=n.constructor;switch(e){case arrayBufferTag$2:return cloneArrayBuffer(n);case boolTag$2:case dateTag$2:return new g(+n);case dataViewTag$2:return cloneDataView(n,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(n,r);case mapTag$3:return new g;case numberTag$2:case stringTag$2:return new g(n);case regexpTag$2:return cloneRegExp(n);case setTag$3:return new g;case symbolTag$2:return cloneSymbol(n)}}function initCloneObject(n){return typeof n.constructor=="function"&&!isPrototype(n)?baseCreate(getPrototype$1(n)):{}}var mapTag$2="[object Map]";function baseIsMap(n){return isObjectLike(n)&&getTag$1(n)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(n){return isObjectLike(n)&&getTag$1(n)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(n,e,r,g,y,k){var $,V=e&CLONE_DEEP_FLAG$1,L=e&CLONE_FLAT_FLAG,z=e&CLONE_SYMBOLS_FLAG$2;if(r&&($=y?r(n,g,y,k):r(n)),$!==void 0)return $;if(!isObject$2(n))return n;var j=isArray$1(n);if(j){if($=initCloneArray(n),!V)return copyArray(n,$)}else{var re=getTag$1(n),oe=re==funcTag||re==genTag;if(isBuffer(n))return cloneBuffer(n,V);if(re==objectTag$1||re==argsTag$1||oe&&!y){if($=L||oe?{}:initCloneObject(n),!V)return L?copySymbolsIn(n,baseAssignIn($,n)):copySymbols(n,baseAssign($,n))}else{if(!cloneableTags[re])return y?n:{};$=initCloneByTag(n,re,V)}}k||(k=new Stack$1);var ae=k.get(n);if(ae)return ae;k.set(n,$),isSet(n)?n.forEach(function(pe){$.add(baseClone(pe,e,r,pe,n,k))}):isMap(n)&&n.forEach(function(pe,he){$.set(he,baseClone(pe,e,r,he,n,k))});var de=z?L?getAllKeysIn:getAllKeys:L?keysIn:keys$1,ue=j?void 0:de(n);return arrayEach(ue||n,function(pe,he){ue&&(he=pe,pe=n[he]),assignValue($,he,baseClone(pe,e,r,he,n,k))}),$}var CLONE_SYMBOLS_FLAG$1=4;function clone(n){return baseClone(n,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(n){return baseClone(n,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(n){return this.__data__.set(n,HASH_UNDEFINED),this}function setCacheHas(n){return this.__data__.has(n)}function SetCache(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new MapCache;++e<r;)this.add(n[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(n,e){for(var r=-1,g=n==null?0:n.length;++r<g;)if(e(n[r],r,n))return!0;return!1}function cacheHas(n,e){return n.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(n,e,r,g,y,k){var $=r&COMPARE_PARTIAL_FLAG$5,V=n.length,L=e.length;if(V!=L&&!($&&L>V))return!1;var z=k.get(n),j=k.get(e);if(z&&j)return z==e&&j==n;var re=-1,oe=!0,ae=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(k.set(n,e),k.set(e,n);++re<V;){var de=n[re],ue=e[re];if(g)var pe=$?g(ue,de,re,e,n,k):g(de,ue,re,n,e,k);if(pe!==void 0){if(pe)continue;oe=!1;break}if(ae){if(!arraySome(e,function(he,Oe){if(!cacheHas(ae,Oe)&&(de===he||y(de,he,r,g,k)))return ae.push(Oe)})){oe=!1;break}}else if(!(de===ue||y(de,ue,r,g,k))){oe=!1;break}}return k.delete(n),k.delete(e),oe}function mapToArray(n){var e=-1,r=Array(n.size);return n.forEach(function(g,y){r[++e]=[y,g]}),r}function setToArray(n){var e=-1,r=Array(n.size);return n.forEach(function(g){r[++e]=g}),r}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(n,e,r,g,y,k,$){switch(r){case dataViewTag:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case arrayBufferTag:return!(n.byteLength!=e.byteLength||!k(new Uint8Array$1(n),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq(+n,+e);case errorTag:return n.name==e.name&&n.message==e.message;case regexpTag:case stringTag:return n==e+"";case mapTag:var V=mapToArray;case setTag:var L=g&COMPARE_PARTIAL_FLAG$4;if(V||(V=setToArray),n.size!=e.size&&!L)return!1;var z=$.get(n);if(z)return z==e;g|=COMPARE_UNORDERED_FLAG$2,$.set(n,e);var j=equalArrays(V(n),V(e),g,y,k,$);return $.delete(n),j;case symbolTag:if(symbolValueOf)return symbolValueOf.call(n)==symbolValueOf.call(e)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(n,e,r,g,y,k){var $=r&COMPARE_PARTIAL_FLAG$3,V=getAllKeys(n),L=V.length,z=getAllKeys(e),j=z.length;if(L!=j&&!$)return!1;for(var re=L;re--;){var oe=V[re];if(!($?oe in e:hasOwnProperty$2.call(e,oe)))return!1}var ae=k.get(n),de=k.get(e);if(ae&&de)return ae==e&&de==n;var ue=!0;k.set(n,e),k.set(e,n);for(var pe=$;++re<L;){oe=V[re];var he=n[oe],Oe=e[oe];if(g)var xe=$?g(Oe,he,oe,e,n,k):g(he,Oe,oe,n,e,k);if(!(xe===void 0?he===Oe||y(he,Oe,r,g,k):xe)){ue=!1;break}pe||(pe=oe=="constructor")}if(ue&&!pe){var $e=n.constructor,Ne=e.constructor;$e!=Ne&&"constructor"in n&&"constructor"in e&&!(typeof $e=="function"&&$e instanceof $e&&typeof Ne=="function"&&Ne instanceof Ne)&&(ue=!1)}return k.delete(n),k.delete(e),ue}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(n,e,r,g,y,k){var $=isArray$1(n),V=isArray$1(e),L=$?arrayTag:getTag$1(n),z=V?arrayTag:getTag$1(e);L=L==argsTag?objectTag:L,z=z==argsTag?objectTag:z;var j=L==objectTag,re=z==objectTag,oe=L==z;if(oe&&isBuffer(n)){if(!isBuffer(e))return!1;$=!0,j=!1}if(oe&&!j)return k||(k=new Stack$1),$||isTypedArray(n)?equalArrays(n,e,r,g,y,k):equalByTag(n,e,L,r,g,y,k);if(!(r&COMPARE_PARTIAL_FLAG$2)){var ae=j&&hasOwnProperty$1.call(n,"__wrapped__"),de=re&&hasOwnProperty$1.call(e,"__wrapped__");if(ae||de){var ue=ae?n.value():n,pe=de?e.value():e;return k||(k=new Stack$1),y(ue,pe,r,g,k)}}return oe?(k||(k=new Stack$1),equalObjects(n,e,r,g,y,k)):!1}function baseIsEqual(n,e,r,g,y){return n===e?!0:n==null||e==null||!isObjectLike(n)&&!isObjectLike(e)?n!==n&&e!==e:baseIsEqualDeep(n,e,r,g,baseIsEqual,y)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(n,e,r,g){var y=r.length,k=y,$=!g;if(n==null)return!k;for(n=Object(n);y--;){var V=r[y];if($&&V[2]?V[1]!==n[V[0]]:!(V[0]in n))return!1}for(;++y<k;){V=r[y];var L=V[0],z=n[L],j=V[1];if($&&V[2]){if(z===void 0&&!(L in n))return!1}else{var re=new Stack$1;if(g)var oe=g(z,j,L,n,e,re);if(!(oe===void 0?baseIsEqual(j,z,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,g,re):oe))return!1}}return!0}function isStrictComparable(n){return n===n&&!isObject$2(n)}function getMatchData(n){for(var e=keys$1(n),r=e.length;r--;){var g=e[r],y=n[g];e[r]=[g,y,isStrictComparable(y)]}return e}function matchesStrictComparable(n,e){return function(r){return r==null?!1:r[n]===e&&(e!==void 0||n in Object(r))}}function baseMatches(n){var e=getMatchData(n);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(r){return r===n||baseIsMatch(r,n,e)}}function baseHasIn(n,e){return n!=null&&e in Object(n)}function hasPath(n,e,r){e=castPath(e,n);for(var g=-1,y=e.length,k=!1;++g<y;){var $=toKey(e[g]);if(!(k=n!=null&&r(n,$)))break;n=n[$]}return k||++g!=y?k:(y=n==null?0:n.length,!!y&&isLength(y)&&isIndex($,y)&&(isArray$1(n)||isArguments(n)))}function hasIn(n,e){return n!=null&&hasPath(n,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(n,e){return isKey(n)&&isStrictComparable(e)?matchesStrictComparable(toKey(n),e):function(r){var g=get(r,n);return g===void 0&&g===e?hasIn(r,n):baseIsEqual(e,g,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(n){return function(e){return e?.[n]}}function basePropertyDeep(n){return function(e){return baseGet(e,n)}}function property(n){return isKey(n)?baseProperty(toKey(n)):basePropertyDeep(n)}function baseIteratee(n){return typeof n=="function"?n:n==null?identity:typeof n=="object"?isArray$1(n)?baseMatchesProperty(n[0],n[1]):baseMatches(n):property(n)}function createBaseFor(n){return function(e,r,g){for(var y=-1,k=Object(e),$=g(e),V=$.length;V--;){var L=$[n?V:++y];if(r(k[L],L,k)===!1)break}return e}}var baseFor=createBaseFor();function baseForOwn(n,e){return n&&baseFor(n,e,keys$1)}function createBaseEach(n,e){return function(r,g){if(r==null)return r;if(!isArrayLike(r))return n(r,g);for(var y=r.length,k=e?y:-1,$=Object(r);(e?k--:++k<y)&&g($[k],k,$)!==!1;);return r}}var baseEach=createBaseEach(baseForOwn),now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin$1=Math.min;function debounce(n,e,r){var g,y,k,$,V,L,z=0,j=!1,re=!1,oe=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$1);e=toNumber(e)||0,isObject$2(r)&&(j=!!r.leading,re="maxWait"in r,k=re?nativeMax$1(toNumber(r.maxWait)||0,e):k,oe="trailing"in r?!!r.trailing:oe);function ae(Ce){var Fe=g,ze=y;return g=y=void 0,z=Ce,$=n.apply(ze,Fe),$}function de(Ce){return z=Ce,V=setTimeout(he,e),j?ae(Ce):$}function ue(Ce){var Fe=Ce-L,ze=Ce-z,kt=e-Fe;return re?nativeMin$1(kt,k-ze):kt}function pe(Ce){var Fe=Ce-L,ze=Ce-z;return L===void 0||Fe>=e||Fe<0||re&&ze>=k}function he(){var Ce=now();if(pe(Ce))return Oe(Ce);V=setTimeout(he,ue(Ce))}function Oe(Ce){return V=void 0,oe&&g?ae(Ce):(g=y=void 0,$)}function xe(){V!==void 0&&clearTimeout(V),z=0,g=L=y=V=void 0}function $e(){return V===void 0?$:Oe(now())}function Ne(){var Ce=now(),Fe=pe(Ce);if(g=arguments,y=this,L=Ce,Fe){if(V===void 0)return de(L);if(re)return clearTimeout(V),V=setTimeout(he,e),ae(L)}return V===void 0&&(V=setTimeout(he,e)),$}return Ne.cancel=xe,Ne.flush=$e,Ne}function assignMergeValue(n,e,r){(r!==void 0&&!eq(n[e],r)||r===void 0&&!(e in n))&&baseAssignValue(n,e,r)}function isArrayLikeObject(n){return isObjectLike(n)&&isArrayLike(n)}function safeGet(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function toPlainObject(n){return copyObject(n,keysIn(n))}function baseMergeDeep(n,e,r,g,y,k,$){var V=safeGet(n,r),L=safeGet(e,r),z=$.get(L);if(z){assignMergeValue(n,r,z);return}var j=k?k(V,L,r+"",n,e,$):void 0,re=j===void 0;if(re){var oe=isArray$1(L),ae=!oe&&isBuffer(L),de=!oe&&!ae&&isTypedArray(L);j=L,oe||ae||de?isArray$1(V)?j=V:isArrayLikeObject(V)?j=copyArray(V):ae?(re=!1,j=cloneBuffer(L,!0)):de?(re=!1,j=cloneTypedArray(L,!0)):j=[]:isPlainObject$1(L)||isArguments(L)?(j=V,isArguments(V)?j=toPlainObject(V):(!isObject$2(V)||isFunction$1(V))&&(j=initCloneObject(L))):re=!1}re&&($.set(L,j),y(j,L,g,k,$),$.delete(L)),assignMergeValue(n,r,j)}function baseMerge(n,e,r,g,y){n!==e&&baseFor(e,function(k,$){if(y||(y=new Stack$1),isObject$2(k))baseMergeDeep(n,e,$,r,baseMerge,g,y);else{var V=g?g(safeGet(n,$),k,$+"",n,e,y):void 0;V===void 0&&(V=k),assignMergeValue(n,$,V)}},keysIn)}function arrayIncludesWith(n,e,r){for(var g=-1,y=n==null?0:n.length;++g<y;)if(r(e,n[g]))return!0;return!1}var nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(n,e,r){var g=n==null?0:n.length;if(!g)return-1;var y=g-1;return r!==void 0&&(y=toInteger(r),y=r<0?nativeMax(g+y,0):nativeMin(y,g-1)),baseFindIndex(n,baseIteratee(e),y,!0)}function baseMap(n,e){var r=-1,g=isArrayLike(n)?Array(n.length):[];return baseEach(n,function(y,k,$){g[++r]=e(y,k,$)}),g}function map(n,e){var r=isArray$1(n)?arrayMap:baseMap;return r(n,baseIteratee(e))}function flatMap(n,e){return baseFlatten(map(n,e),1)}var INFINITY$1=1/0;function flattenDeep(n){var e=n==null?0:n.length;return e?baseFlatten(n,INFINITY$1):[]}function fromPairs(n){for(var e=-1,r=n==null?0:n.length,g={};++e<r;){var y=n[e];g[y[0]]=y[1]}return g}function isEqual$1(n,e){return baseIsEqual(n,e)}function isNil(n){return n==null}function isUndefined$1(n){return n===void 0}var merge=createAssigner(function(n,e,r){baseMerge(n,e,r)});const merge$1=merge;function baseSet(n,e,r,g){if(!isObject$2(n))return n;e=castPath(e,n);for(var y=-1,k=e.length,$=k-1,V=n;V!=null&&++y<k;){var L=toKey(e[y]),z=r;if(L==="__proto__"||L==="constructor"||L==="prototype")return n;if(y!=$){var j=V[L];z=g?g(j,L,V):void 0,z===void 0&&(z=isObject$2(j)?j:isIndex(e[y+1])?[]:{})}assignValue(V,L,z),V=V[L]}return n}function basePickBy(n,e,r){for(var g=-1,y=e.length,k={};++g<y;){var $=e[g],V=baseGet(n,$);r(V,$)&&baseSet(k,castPath($,n),V)}return k}function basePick(n,e){return basePickBy(n,e,function(r,g){return hasIn(n,g)})}var pick=flatRest(function(n,e){return n==null?{}:basePick(n,e)});function set(n,e,r){return n==null?n:baseSet(n,e,r)}var FUNC_ERROR_TEXT="Expected a function";function throttle(n,e,r){var g=!0,y=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$2(r)&&(g="leading"in r?!!r.leading:g,y="trailing"in r?!!r.trailing:y),debounce(n,e,{leading:g,maxWait:e,trailing:y})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(n){return new Set$1(n)}:noop$3,LARGE_ARRAY_SIZE=200;function baseUniq(n,e,r){var g=-1,y=arrayIncludes,k=n.length,$=!0,V=[],L=V;if(r)$=!1,y=arrayIncludesWith;else if(k>=LARGE_ARRAY_SIZE){var z=e?null:createSet(n);if(z)return setToArray(z);$=!1,y=cacheHas,L=new SetCache}else L=e?[]:V;e:for(;++g<k;){var j=n[g],re=e?e(j):j;if(j=r||j!==0?j:0,$&&re===re){for(var oe=L.length;oe--;)if(L[oe]===re)continue e;e&&L.push(re),V.push(j)}else y(L,re,r)||(L!==V&&L.push(re),V.push(j))}return V}var union=baseRest(function(n){return baseUniq(baseFlatten(n,1,isArrayLikeObject,!0))});const isUndefined=n=>n===void 0,isBoolean$1=n=>typeof n=="boolean",isNumber$1=n=>typeof n=="number",isEmpty=n=>!n&&n!==0||isArray$3(n)&&n.length===0||isObject$3(n)&&!Object.keys(n).length,isElement$1=n=>typeof Element>"u"?!1:n instanceof Element,isPropAbsent=n=>isNil(n),isStringNumber=n=>isString$3(n)?!Number.isNaN(Number(n)):!1,escapeStringRegexp=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize$1=n=>capitalize$2(n),keysOf=n=>Object.keys(n),entriesOf=n=>Object.entries(n),getProp=(n,e,r)=>({get value(){return get(n,e,r)},set value(g){set(n,e,g)}});class ElementPlusError extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function throwError(n,e){throw new ElementPlusError(`[${n}] ${e}`)}function debugWarn(n,e){}const classNameToArray=(n="")=>n.split(" ").filter(e=>!!e.trim()),hasClass=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},addClass=(n,e)=>{!n||!e.trim()||n.classList.add(...classNameToArray(e))},removeClass=(n,e)=>{!n||!e.trim()||n.classList.remove(...classNameToArray(e))},getStyle=(n,e)=>{var r;if(!isClient||!n||!e)return"";let g=camelize(e);g==="float"&&(g="cssFloat");try{const y=n.style[g];if(y)return y;const k=(r=document.defaultView)==null?void 0:r.getComputedStyle(n,"");return k?k[g]:""}catch{return n.style[g]}};function addUnit(n,e="px"){if(!n)return"";if(isNumber$1(n)||isStringNumber(n))return`${n}${e}`;if(isString$3(n))return n}const isScroll=(n,e)=>{if(!isClient)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],g=getStyle(n,r);return["scroll","auto","overlay"].some(y=>g.includes(y))},getScrollContainer=(n,e)=>{if(!isClient)return;let r=n;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(isScroll(r,e))return r;r=r.parentNode}return r};let scrollBarWidth;const getScrollBarWidth=n=>{var e;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const r=document.createElement("div");r.className=`${n}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const g=r.offsetWidth;r.style.overflow="scroll";const y=document.createElement("div");y.style.width="100%",r.appendChild(y);const k=y.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),scrollBarWidth=g-k,scrollBarWidth};function scrollIntoView$2(n,e){if(!isClient)return;if(!e){n.scrollTop=0;return}const r=[];let g=e.offsetParent;for(;g!==null&&n!==g&&n.contains(g);)r.push(g),g=g.offsetParent;const y=e.offsetTop+r.reduce((L,z)=>L+z.offsetTop,0),k=y+e.offsetHeight,$=n.scrollTop,V=$+n.clientHeight;y<$?n.scrollTop=y:k>V&&(n.scrollTop=k-n.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var export_helper_default=(n,e)=>{let r=n.__vccOpts||n;for(let[g,y]of e)r[g]=y;return r},arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16$b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_26$3=createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36=[_hoisted_26$3];function _sfc_render6(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_16$b,_hoisted_36)}var arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),arrow_left_bold_vue_vue_type_script_lang_default={name:"ArrowLeftBold"},_hoisted_17$9={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_27$2=createBaseVNode("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"},null,-1),_hoisted_37=[_hoisted_27$2];function _sfc_render7(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_17$9,_hoisted_37)}var arrow_left_bold_default=export_helper_default(arrow_left_bold_vue_vue_type_script_lang_default,[["render",_sfc_render7],["__file","arrow-left-bold.vue"]]),arrow_left_vue_vue_type_script_lang_default={name:"ArrowLeft"},_hoisted_18$8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_28$2=createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_38=[_hoisted_28$2];function _sfc_render8(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_18$8,_hoisted_38)}var arrow_left_default=export_helper_default(arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render8],["__file","arrow-left.vue"]]),arrow_right_bold_vue_vue_type_script_lang_default={name:"ArrowRightBold"},_hoisted_19$8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_29$2=createBaseVNode("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"},null,-1),_hoisted_39=[_hoisted_29$2];function _sfc_render9(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_19$8,_hoisted_39)}var arrow_right_bold_default=export_helper_default(arrow_right_bold_vue_vue_type_script_lang_default,[["render",_sfc_render9],["__file","arrow-right-bold.vue"]]),arrow_right_vue_vue_type_script_lang_default={name:"ArrowRight"},_hoisted_110={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_210=createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_310=[_hoisted_210];function _sfc_render10(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_110,_hoisted_310)}var arrow_right_default=export_helper_default(arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render10],["__file","arrow-right.vue"]]),arrow_up_vue_vue_type_script_lang_default={name:"ArrowUp"},_hoisted_112={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_212=createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),_hoisted_312=[_hoisted_212];function _sfc_render12(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_112,_hoisted_312)}var arrow_up_default=export_helper_default(arrow_up_vue_vue_type_script_lang_default,[["render",_sfc_render12],["__file","arrow-up.vue"]]),back_vue_vue_type_script_lang_default={name:"Back"},_hoisted_114={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_214=createBaseVNode("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),_hoisted_314=createBaseVNode("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),_hoisted_44=[_hoisted_214,_hoisted_314];function _sfc_render14(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_114,_hoisted_44)}var back_default=export_helper_default(back_vue_vue_type_script_lang_default,[["render",_sfc_render14],["__file","back.vue"]]),calendar_vue_vue_type_script_lang_default={name:"Calendar"},_hoisted_129={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_229=createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),_hoisted_328=[_hoisted_229];function _sfc_render29(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_129,_hoisted_328)}var calendar_default=export_helper_default(calendar_vue_vue_type_script_lang_default,[["render",_sfc_render29],["__file","calendar.vue"]]),caret_right_vue_vue_type_script_lang_default={name:"CaretRight"},_hoisted_134={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_234=createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),_hoisted_333=[_hoisted_234];function _sfc_render34(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_134,_hoisted_333)}var caret_right_default=export_helper_default(caret_right_vue_vue_type_script_lang_default,[["render",_sfc_render34],["__file","caret-right.vue"]]),caret_top_vue_vue_type_script_lang_default={name:"CaretTop"},_hoisted_135={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_235=createBaseVNode("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),_hoisted_334=[_hoisted_235];function _sfc_render35(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_135,_hoisted_334)}var caret_top_default=export_helper_default(caret_top_vue_vue_type_script_lang_default,[["render",_sfc_render35],["__file","caret-top.vue"]]),check_vue_vue_type_script_lang_default={name:"Check"},_hoisted_143={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_243=createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),_hoisted_342=[_hoisted_243];function _sfc_render43(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_143,_hoisted_342)}var check_default=export_helper_default(check_vue_vue_type_script_lang_default,[["render",_sfc_render43],["__file","check.vue"]]),circle_check_filled_vue_vue_type_script_lang_default={name:"CircleCheckFilled"},_hoisted_148={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_248=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_347=[_hoisted_248];function _sfc_render48(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_148,_hoisted_347)}var circle_check_filled_default=export_helper_default(circle_check_filled_vue_vue_type_script_lang_default,[["render",_sfc_render48],["__file","circle-check-filled.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_249=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_filled_vue_vue_type_script_lang_default={name:"CircleCloseFilled"},_hoisted_150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_250=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),_hoisted_349=[_hoisted_250];function _sfc_render50(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_150,_hoisted_349)}var circle_close_filled_default=export_helper_default(circle_close_filled_vue_vue_type_script_lang_default,[["render",_sfc_render50],["__file","circle-close-filled.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_251=createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_151,_hoisted_416)}var circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),clock_vue_vue_type_script_lang_default={name:"Clock"},_hoisted_154={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_254=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_353=createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),_hoisted_418=createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),_hoisted_56=[_hoisted_254,_hoisted_353,_hoisted_418];function _sfc_render54(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_154,_hoisted_56)}var clock_default=export_helper_default(clock_vue_vue_type_script_lang_default,[["render",_sfc_render54],["__file","clock.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_256=createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_156,_hoisted_355)}var close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),d_arrow_left_vue_vue_type_script_lang_default={name:"DArrowLeft"},_hoisted_172={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_272=createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),_hoisted_371=[_hoisted_272];function _sfc_render72(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_172,_hoisted_371)}var d_arrow_left_default=export_helper_default(d_arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render72],["__file","d-arrow-left.vue"]]),d_arrow_right_vue_vue_type_script_lang_default={name:"DArrowRight"},_hoisted_173={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_273=createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),_hoisted_372=[_hoisted_273];function _sfc_render73(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_173,_hoisted_372)}var d_arrow_right_default=export_helper_default(d_arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render73],["__file","d-arrow-right.vue"]]),delete_vue_vue_type_script_lang_default={name:"Delete"},_hoisted_180={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_280=createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),_hoisted_379=[_hoisted_280];function _sfc_render80(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_180,_hoisted_379)}var delete_default=export_helper_default(delete_vue_vue_type_script_lang_default,[["render",_sfc_render80],["__file","delete.vue"]]),document_add_vue_vue_type_script_lang_default={name:"DocumentAdd"},_hoisted_185={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_285=createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),_hoisted_384=[_hoisted_285];function _sfc_render85(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_185,_hoisted_384)}var document_add_default=export_helper_default(document_add_vue_vue_type_script_lang_default,[["render",_sfc_render85],["__file","document-add.vue"]]),document_vue_vue_type_script_lang_default={name:"Document"},_hoisted_190={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_290=createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),_hoisted_389=[_hoisted_290];function _sfc_render90(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_190,_hoisted_389)}var document_default=export_helper_default(document_vue_vue_type_script_lang_default,[["render",_sfc_render90],["__file","document.vue"]]),download_vue_vue_type_script_lang_default={name:"Download"},_hoisted_191={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_291=createBaseVNode("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),_hoisted_390=[_hoisted_291];function _sfc_render91(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_191,_hoisted_390)}var download_default=export_helper_default(download_vue_vue_type_script_lang_default,[["render",_sfc_render91],["__file","download.vue"]]),edit_vue_vue_type_script_lang_default={name:"Edit"},_hoisted_194={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_294=createBaseVNode("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),_hoisted_393=createBaseVNode("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),_hoisted_431=[_hoisted_294,_hoisted_393];function _sfc_render94(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_194,_hoisted_431)}var edit_default=export_helper_default(edit_vue_vue_type_script_lang_default,[["render",_sfc_render94],["__file","edit.vue"]]),files_vue_vue_type_script_lang_default={name:"Files"},_hoisted_1101={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2101=createBaseVNode("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),_hoisted_3100=[_hoisted_2101];function _sfc_render101(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1101,_hoisted_3100)}var files_default=export_helper_default(files_vue_vue_type_script_lang_default,[["render",_sfc_render101],["__file","files.vue"]]),folder_opened_vue_vue_type_script_lang_default={name:"FolderOpened"},_hoisted_1111={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2111=createBaseVNode("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),_hoisted_3110=[_hoisted_2111];function _sfc_render111(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1111,_hoisted_3110)}var folder_opened_default=export_helper_default(folder_opened_vue_vue_type_script_lang_default,[["render",_sfc_render111],["__file","folder-opened.vue"]]),full_screen_vue_vue_type_script_lang_default={name:"FullScreen"},_hoisted_1118={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2118=createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),_hoisted_3117=[_hoisted_2118];function _sfc_render118(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1118,_hoisted_3117)}var full_screen_default=export_helper_default(full_screen_vue_vue_type_script_lang_default,[["render",_sfc_render118],["__file","full-screen.vue"]]),grid_vue_vue_type_script_lang_default={name:"Grid"},_hoisted_1127={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2127=createBaseVNode("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),_hoisted_3126=[_hoisted_2127];function _sfc_render127(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1127,_hoisted_3126)}var grid_default=export_helper_default(grid_vue_vue_type_script_lang_default,[["render",_sfc_render127],["__file","grid.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2133=createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),_hoisted_3132=createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),info_filled_vue_vue_type_script_lang_default={name:"InfoFilled"},_hoisted_1143={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2143=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_hoisted_3142=[_hoisted_2143];function _sfc_render143(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1143,_hoisted_3142)}var info_filled_default=export_helper_default(info_filled_vue_vue_type_script_lang_default,[["render",_sfc_render143],["__file","info-filled.vue"]]),list_vue_vue_type_script_lang_default={name:"List"},_hoisted_1149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2149=createBaseVNode("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384v-64zM288 512h448v-64H288v64zm0 256h448v-64H288v64zm96-576V96h256v96H384z"},null,-1),_hoisted_3148=[_hoisted_2149];function _sfc_render149(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1149,_hoisted_3148)}var list_default=export_helper_default(list_vue_vue_type_script_lang_default,[["render",_sfc_render149],["__file","list.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2150=createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),lock_vue_vue_type_script_lang_default={name:"Lock"},_hoisted_1154={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2154=createBaseVNode("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),_hoisted_3153=createBaseVNode("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),_hoisted_442=[_hoisted_2154,_hoisted_3153];function _sfc_render154(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1154,_hoisted_442)}var lock_default=export_helper_default(lock_vue_vue_type_script_lang_default,[["render",_sfc_render154],["__file","lock.vue"]]),minus_vue_vue_type_script_lang_default={name:"Minus"},_hoisted_1169={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2169=createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),_hoisted_3168=[_hoisted_2169];function _sfc_render169(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1169,_hoisted_3168)}var minus_default=export_helper_default(minus_vue_vue_type_script_lang_default,[["render",_sfc_render169],["__file","minus.vue"]]),more_filled_vue_vue_type_script_lang_default={name:"MoreFilled"},_hoisted_1174={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2174=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),_hoisted_3173=[_hoisted_2174];function _sfc_render174(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1174,_hoisted_3173)}var more_filled_default=export_helper_default(more_filled_vue_vue_type_script_lang_default,[["render",_sfc_render174],["__file","more-filled.vue"]]),more_vue_vue_type_script_lang_default={name:"More"},_hoisted_1175={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2175=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),_hoisted_3174=[_hoisted_2175];function _sfc_render175(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1175,_hoisted_3174)}var more_default=export_helper_default(more_vue_vue_type_script_lang_default,[["render",_sfc_render175],["__file","more.vue"]]),picture_filled_vue_vue_type_script_lang_default={name:"PictureFilled"},_hoisted_1195={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2195=createBaseVNode("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),_hoisted_3194=[_hoisted_2195];function _sfc_render195(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1195,_hoisted_3194)}var picture_filled_default=export_helper_default(picture_filled_vue_vue_type_script_lang_default,[["render",_sfc_render195],["__file","picture-filled.vue"]]),plus_vue_vue_type_script_lang_default={name:"Plus"},_hoisted_1201={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2201=createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),_hoisted_3200=[_hoisted_2201];function _sfc_render201(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1201,_hoisted_3200)}var plus_default=export_helper_default(plus_vue_vue_type_script_lang_default,[["render",_sfc_render201],["__file","plus.vue"]]),question_filled_vue_vue_type_script_lang_default={name:"QuestionFilled"},_hoisted_1211={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2211=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),_hoisted_3210=[_hoisted_2211];function _sfc_render211(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1211,_hoisted_3210)}var question_filled_default=export_helper_default(question_filled_vue_vue_type_script_lang_default,[["render",_sfc_render211],["__file","question-filled.vue"]]),refresh_left_vue_vue_type_script_lang_default={name:"RefreshLeft"},_hoisted_1215={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2215=createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),_hoisted_3214=[_hoisted_2215];function _sfc_render215(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1215,_hoisted_3214)}var refresh_left_default=export_helper_default(refresh_left_vue_vue_type_script_lang_default,[["render",_sfc_render215],["__file","refresh-left.vue"]]),refresh_right_vue_vue_type_script_lang_default={name:"RefreshRight"},_hoisted_1216={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2216=createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),_hoisted_3215=[_hoisted_2216];function _sfc_render216(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1216,_hoisted_3215)}var refresh_right_default=export_helper_default(refresh_right_vue_vue_type_script_lang_default,[["render",_sfc_render216],["__file","refresh-right.vue"]]),scale_to_original_vue_vue_type_script_lang_default={name:"ScaleToOriginal"},_hoisted_1222={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2222=createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),_hoisted_3221=[_hoisted_2222];function _sfc_render222(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1222,_hoisted_3221)}var scale_to_original_default=export_helper_default(scale_to_original_vue_vue_type_script_lang_default,[["render",_sfc_render222],["__file","scale-to-original.vue"]]),search_vue_vue_type_script_lang_default={name:"Search"},_hoisted_1225={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2225=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),_hoisted_3224=[_hoisted_2225];function _sfc_render225(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1225,_hoisted_3224)}var search_default=export_helper_default(search_vue_vue_type_script_lang_default,[["render",_sfc_render225],["__file","search.vue"]]),setting_vue_vue_type_script_lang_default={name:"Setting"},_hoisted_1231={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2231=createBaseVNode("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),_hoisted_3230=[_hoisted_2231];function _sfc_render231(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1231,_hoisted_3230)}var setting_default=export_helper_default(setting_vue_vue_type_script_lang_default,[["render",_sfc_render231],["__file","setting.vue"]]),sort_down_vue_vue_type_script_lang_default={name:"SortDown"},_hoisted_1242={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2242=createBaseVNode("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),_hoisted_3241=[_hoisted_2242];function _sfc_render242(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1242,_hoisted_3241)}var sort_down_default=export_helper_default(sort_down_vue_vue_type_script_lang_default,[["render",_sfc_render242],["__file","sort-down.vue"]]),sort_up_vue_vue_type_script_lang_default={name:"SortUp"},_hoisted_1243={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2243=createBaseVNode("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),_hoisted_3242=[_hoisted_2243];function _sfc_render243(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1243,_hoisted_3242)}var sort_up_default=export_helper_default(sort_up_vue_vue_type_script_lang_default,[["render",_sfc_render243],["__file","sort-up.vue"]]),star_filled_vue_vue_type_script_lang_default={name:"StarFilled"},_hoisted_1246={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2246=createBaseVNode("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),_hoisted_3245=[_hoisted_2246];function _sfc_render246(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1246,_hoisted_3245)}var star_filled_default=export_helper_default(star_filled_vue_vue_type_script_lang_default,[["render",_sfc_render246],["__file","star-filled.vue"]]),star_vue_vue_type_script_lang_default={name:"Star"},_hoisted_1247={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2247=createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),_hoisted_3246=[_hoisted_2247];function _sfc_render247(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1247,_hoisted_3246)}var star_default=export_helper_default(star_vue_vue_type_script_lang_default,[["render",_sfc_render247],["__file","star.vue"]]),success_filled_vue_vue_type_script_lang_default={name:"SuccessFilled"},_hoisted_1249={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2249=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_3248=[_hoisted_2249];function _sfc_render249(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1249,_hoisted_3248)}var success_filled_default=export_helper_default(success_filled_vue_vue_type_script_lang_default,[["render",_sfc_render249],["__file","success-filled.vue"]]),switch_vue_vue_type_script_lang_default={name:"Switch"},_hoisted_1258={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2258=createBaseVNode("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),_hoisted_3257=[_hoisted_2258];function _sfc_render258(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1258,_hoisted_3257)}var switch_default=export_helper_default(switch_vue_vue_type_script_lang_default,[["render",_sfc_render258],["__file","switch.vue"]]),tickets_vue_vue_type_script_lang_default={name:"Tickets"},_hoisted_1261={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2261=createBaseVNode("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1),_hoisted_3260=[_hoisted_2261];function _sfc_render261(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1261,_hoisted_3260)}var tickets_default=export_helper_default(tickets_vue_vue_type_script_lang_default,[["render",_sfc_render261],["__file","tickets.vue"]]),tools_vue_vue_type_script_lang_default={name:"Tools"},_hoisted_1264={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2264=createBaseVNode("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),_hoisted_3263=[_hoisted_2264];function _sfc_render264(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1264,_hoisted_3263)}var tools_default=export_helper_default(tools_vue_vue_type_script_lang_default,[["render",_sfc_render264],["__file","tools.vue"]]),unlock_vue_vue_type_script_lang_default={name:"Unlock"},_hoisted_1273={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2273=createBaseVNode("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),_hoisted_3272=createBaseVNode("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104l-59.456 23.808z"},null,-1),_hoisted_484=[_hoisted_2273,_hoisted_3272];function _sfc_render273(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1273,_hoisted_484)}var unlock_default=export_helper_default(unlock_vue_vue_type_script_lang_default,[["render",_sfc_render273],["__file","unlock.vue"]]),upload_vue_vue_type_script_lang_default={name:"Upload"},_hoisted_1275={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2275=createBaseVNode("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),_hoisted_3274=[_hoisted_2275];function _sfc_render275(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1275,_hoisted_3274)}var upload_default=export_helper_default(upload_vue_vue_type_script_lang_default,[["render",_sfc_render275],["__file","upload.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2283=createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1283,_hoisted_3282)}var view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),warning_filled_vue_vue_type_script_lang_default={name:"WarningFilled"},_hoisted_1287={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2287=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),_hoisted_3286=[_hoisted_2287];function _sfc_render287(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1287,_hoisted_3286)}var warning_filled_default=export_helper_default(warning_filled_vue_vue_type_script_lang_default,[["render",_sfc_render287],["__file","warning-filled.vue"]]),zoom_in_vue_vue_type_script_lang_default={name:"ZoomIn"},_hoisted_1292={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2292=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),_hoisted_3291=[_hoisted_2292];function _sfc_render292(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1292,_hoisted_3291)}var zoom_in_default=export_helper_default(zoom_in_vue_vue_type_script_lang_default,[["render",_sfc_render292],["__file","zoom-in.vue"]]),zoom_out_vue_vue_type_script_lang_default={name:"ZoomOut"},_hoisted_1293={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2293=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),_hoisted_3292=[_hoisted_2293];function _sfc_render293(n,e,r,g,y,k){return openBlock(),createElementBlock("svg",_hoisted_1293,_hoisted_3292)}var zoom_out_default=export_helper_default(zoom_out_vue_vue_type_script_lang_default,[["render",_sfc_render293],["__file","zoom-out.vue"]]);const epPropKey="__epPropKey",definePropType=n=>n,isEpProp=n=>isObject$3(n)&&!!n[epPropKey],buildProp=(n,e)=>{if(!isObject$3(n)||isEpProp(n))return n;const{values:r,required:g,default:y,type:k,validator:$}=n,L={type:k,required:!!g,validator:r||$?z=>{let j=!1,re=[];if(r&&(re=Array.from(r),hasOwn$1(n,"default")&&re.push(y),j||(j=re.includes(z))),$&&(j||(j=$(z))),!j&&re.length>0){const oe=[...new Set(re)].map(ae=>JSON.stringify(ae)).join(", ");warn$1(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${oe}], got value ${JSON.stringify(z)}.`)}return j}:void 0,[epPropKey]:!0};return hasOwn$1(n,"default")&&(L.default=y),L},buildProps=n=>fromPairs(Object.entries(n).map(([e,r])=>[e,buildProp(r,e)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(n,e)=>{if(n.install=r=>{for(const g of[n,...Object.values(e??{})])r.component(g.name,g)},e)for(const[r,g]of Object.entries(e))n[r]=g;return n},withInstallFunction=(n,e)=>(n.install=r=>{n._context=r._context,r.config.globalProperties[e]=n},n),withInstallDirective=(n,e)=>(n.install=r=>{r.directive(e,n)},n),withNoopInstall=n=>(n.install=NOOP,n),composeRefs=(...n)=>e=>{n.forEach(r=>{isFunction$3(r)?r(e):r.value=e})},EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},datePickTypes=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",INSTALLED_KEY=Symbol("INSTALLED_KEY"),componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=n=>componentSizeMap[n||"default"],isValidComponentSize=n=>["",...componentSizes].includes(n);var PatchFlags=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(PatchFlags||{});function isFragment(n){return isVNode$1(n)&&n.type===Fragment}function isComment(n){return isVNode$1(n)&&n.type===Comment}function isValidElementNode(n){return isVNode$1(n)&&!isFragment(n)&&!isComment(n)}const getNormalizedProps=n=>{if(!isVNode$1(n))return{};const e=n.props||{},r=(isVNode$1(n.type)?n.type.props:void 0)||{},g={};return Object.keys(r).forEach(y=>{hasOwn$1(r[y],"default")&&(g[y]=r[y].default)}),Object.keys(e).forEach(y=>{g[camelize(y)]=e[y]}),g},ensureOnlyChild=n=>{if(!isArray$3(n)||n.length>1)throw new Error("expect to receive a single Vue element child");return n[0]},flattedChildren=n=>{const e=isArray$3(n)?n:[n],r=[];return e.forEach(g=>{var y;isArray$3(g)?r.push(...flattedChildren(g)):isVNode$1(g)&&isArray$3(g.children)?r.push(...flattedChildren(g.children)):(r.push(g),isVNode$1(g)&&((y=g.component)!=null&&y.subTree)&&r.push(...flattedChildren(g.component.subTree)))}),r},unique=n=>[...new Set(n)],castArray=n=>!n&&n!==0?[]:Array.isArray(n)?n:[n],isKorean=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),rAF=n=>isClient?window.requestAnimationFrame(n):setTimeout(n,16),cAF=n=>isClient?window.cancelAnimationFrame(n):clearTimeout(n),generateId=()=>Math.floor(Math.random()*1e4),mutable=n=>n,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(n={})=>{const{excludeListeners:e=!1,excludeKeys:r}=n,g=computed(()=>(r?.value||[]).concat(DEFAULT_EXCLUDE_KEYS)),y=getCurrentInstance();return computed(y?()=>{var k;return fromPairs(Object.entries((k=y.proxy)==null?void 0:k.$attrs).filter(([$])=>!g.value.includes($)&&!(e&&LISTENER_PREFIX.test($))))}:()=>({}))},useDeprecated=({from:n,replacement:e,scope:r,version:g,ref:y,type:k="API"},$)=>{watch(()=>unref($),V=>{},{immediate:!0})},useDraggable=(n,e,r)=>{let g={offsetX:0,offsetY:0};const y=V=>{const L=V.clientX,z=V.clientY,{offsetX:j,offsetY:re}=g,oe=n.value.getBoundingClientRect(),ae=oe.left,de=oe.top,ue=oe.width,pe=oe.height,he=document.documentElement.clientWidth,Oe=document.documentElement.clientHeight,xe=-ae+j,$e=-de+re,Ne=he-ae-ue+j,Ce=Oe-de-pe+re,Fe=kt=>{const At=Math.min(Math.max(j+kt.clientX-L,xe),Ne),Cn=Math.min(Math.max(re+kt.clientY-z,$e),Ce);g={offsetX:At,offsetY:Cn},n.value.style.transform=`translate(${addUnit(At)}, ${addUnit(Cn)})`},ze=()=>{document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",ze)};document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",ze)},k=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",y)},$=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",y)};onMounted(()=>{watchEffect(()=>{r.value?k():$()})}),onBeforeUnmount(()=>{$()})};var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=n=>(e,r)=>translate$2(e,r,unref(n)),translate$2=(n,e,r)=>get(r,n,n).replace(/\{(\w+)\}/g,(g,y)=>{var k;return`${(k=e?.[y])!=null?k:`{${y}}`}`}),buildLocaleContext=n=>{const e=computed(()=>unref(n).name),r=isRef(n)?n:ref(n);return{lang:e,locale:r,t:buildTranslator(n)}},localeContextKey=Symbol("localeContextKey"),useLocale=n=>{const e=n||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>e.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(n,e,r,g,y)=>{let k=`${n}-${e}`;return r&&(k+=`-${r}`),g&&(k+=`__${g}`),y&&(k+=`--${y}`),k},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=n=>{const e=n||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(e)||defaultNamespace)},useNamespace=(n,e)=>{const r=useGetDerivedNamespace(e);return{namespace:r,b:(ue="")=>_bem(r.value,n,ue,"",""),e:ue=>ue?_bem(r.value,n,"",ue,""):"",m:ue=>ue?_bem(r.value,n,"","",ue):"",be:(ue,pe)=>ue&&pe?_bem(r.value,n,ue,pe,""):"",em:(ue,pe)=>ue&&pe?_bem(r.value,n,"",ue,pe):"",bm:(ue,pe)=>ue&&pe?_bem(r.value,n,ue,"",pe):"",bem:(ue,pe,he)=>ue&&pe&&he?_bem(r.value,n,ue,pe,he):"",is:(ue,...pe)=>{const he=pe.length>=1?pe[0]:!0;return ue&&he?`${statePrefix}${ue}`:""},cssVar:ue=>{const pe={};for(const he in ue)ue[he]&&(pe[`--${r.value}-${he}`]=ue[he]);return pe},cssVarName:ue=>`--${r.value}-${ue}`,cssVarBlock:ue=>{const pe={};for(const he in ue)ue[he]&&(pe[`--${r.value}-${n}-${he}`]=ue[he]);return pe},cssVarBlockName:ue=>`--${r.value}-${n}-${ue}`}},useLockscreen=(n,e={})=>{isRef(n)||throwError("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||useNamespace("popup"),g=computed$1(()=>r.bm("parent","hidden"));if(!isClient||hasClass(document.body,g.value))return;let y=0,k=!1,$="0";const V=()=>{setTimeout(()=>{removeClass(document?.body,g.value),k&&document&&(document.body.style.width=$)},200)};watch(n,L=>{if(!L){V();return}k=!hasClass(document.body,g.value),k&&($=document.body.style.width),y=getScrollBarWidth(r.namespace.value);const z=document.documentElement.clientHeight<document.body.scrollHeight,j=getStyle(document.body,"overflowY");y>0&&(z||j==="scroll")&&k&&(document.body.style.width=`calc(100% - ${y}px)`),addClass(document.body,g.value)}),onScopeDispose(()=>V())},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=n=>{const e=`update:${n}`,r=`onUpdate:${n}`,g=[e],y={[n]:_prop,[r]:_event};return{useModelToggle:({indicator:$,toggleReason:V,shouldHideWhenRouteChanges:L,shouldProceed:z,onShow:j,onHide:re})=>{const oe=getCurrentInstance(),{emit:ae}=oe,de=oe.props,ue=computed(()=>isFunction$3(de[r])),pe=computed(()=>de[n]===null),he=Fe=>{$.value!==!0&&($.value=!0,V&&(V.value=Fe),isFunction$3(j)&&j(Fe))},Oe=Fe=>{$.value!==!1&&($.value=!1,V&&(V.value=Fe),isFunction$3(re)&&re(Fe))},xe=Fe=>{if(de.disabled===!0||isFunction$3(z)&&!z())return;const ze=ue.value&&isClient;ze&&ae(e,!0),(pe.value||!ze)&&he(Fe)},$e=Fe=>{if(de.disabled===!0||!isClient)return;const ze=ue.value&&isClient;ze&&ae(e,!1),(pe.value||!ze)&&Oe(Fe)},Ne=Fe=>{isBoolean$1(Fe)&&(de.disabled&&Fe?ue.value&&ae(e,!1):$.value!==Fe&&(Fe?he():Oe()))},Ce=()=>{$.value?$e():xe()};return watch(()=>de[n],Ne),L&&oe.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...oe.proxy.$route}),()=>{L.value&&$.value&&$e()}),onMounted(()=>{Ne(de[n])}),{hide:$e,show:xe,toggle:Ce,hasUpdateHandler:ue}},useModelToggleProps:y,useModelToggleEmits:g}};createModelToggleComposable("modelValue");const useProp=n=>{const e=getCurrentInstance();return computed(()=>{var r,g;return(g=(r=e?.proxy)==null?void 0:r.$props)==null?void 0:g[n]})};var E$1="top",R="bottom",W="right",P$1="left",me="auto",G=[E$1,R,W,P$1],U$1="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(n,e){return n.concat([e+"-"+U$1,e+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(n,e){return n.concat([e,e+"-"+U$1,e+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C$1(n){return n?(n.nodeName||"").toLowerCase():null}function H(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Q(n){var e=H(n).Element;return n instanceof e||n instanceof Element}function B(n){var e=H(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Pe(n){if(typeof ShadowRoot>"u")return!1;var e=H(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Mt(n){var e=n.state;Object.keys(e.elements).forEach(function(r){var g=e.styles[r]||{},y=e.attributes[r]||{},k=e.elements[r];!B(k)||!C$1(k)||(Object.assign(k.style,g),Object.keys(y).forEach(function($){var V=y[$];V===!1?k.removeAttribute($):k.setAttribute($,V===!0?"":V)}))})}function Rt(n){var e=n.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(g){var y=e.elements[g],k=e.attributes[g]||{},$=Object.keys(e.styles.hasOwnProperty(g)?e.styles[g]:r[g]),V=$.reduce(function(L,z){return L[z]="",L},{});!B(y)||!C$1(y)||(Object.assign(y.style,V),Object.keys(k).forEach(function(L){y.removeAttribute(L)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(n){return n.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(n,e){e===void 0&&(e=!1);var r=n.getBoundingClientRect(),g=1,y=1;if(B(n)&&e){var k=n.offsetHeight,$=n.offsetWidth;$>0&&(g=Z(r.width)/$||1),k>0&&(y=Z(r.height)/k||1)}return{width:r.width/g,height:r.height/y,top:r.top/y,right:r.right/g,bottom:r.bottom/y,left:r.left/g,x:r.left/g,y:r.top/y}}function ke(n){var e=ee(n),r=n.offsetWidth,g=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-g)<=1&&(g=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:g}}function it(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&Pe(r)){var g=e;do{if(g&&n.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function N$1(n){return H(n).getComputedStyle(n)}function Wt(n){return["table","td","th"].indexOf(C$1(n))>=0}function I$1(n){return((Q(n)?n.ownerDocument:n.document)||window.document).documentElement}function ge(n){return C$1(n)==="html"?n:n.assignedSlot||n.parentNode||(Pe(n)?n.host:null)||I$1(n)}function at(n){return!B(n)||N$1(n).position==="fixed"?null:n.offsetParent}function Bt(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B(n)){var g=N$1(n);if(g.position==="fixed")return null}var y=ge(n);for(Pe(y)&&(y=y.host);B(y)&&["html","body"].indexOf(C$1(y))<0;){var k=N$1(y);if(k.transform!=="none"||k.perspective!=="none"||k.contain==="paint"||["transform","perspective"].indexOf(k.willChange)!==-1||e&&k.willChange==="filter"||e&&k.filter&&k.filter!=="none")return y;y=y.parentNode}return null}function se(n){for(var e=H(n),r=at(n);r&&Wt(r)&&N$1(r).position==="static";)r=at(r);return r&&(C$1(r)==="html"||C$1(r)==="body"&&N$1(r).position==="static")?e:r||Bt(n)||e}function Le(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function fe(n,e,r){return X$1(n,ve(e,r))}function St(n,e,r){var g=fe(n,e,r);return g>r?r:g}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(n){return Object.assign({},st(),n)}function ct(n,e){return e.reduce(function(r,g){return r[g]=n,r},{})}var Tt=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,ft(typeof n!="number"?n:ct(n,G))};function Ht(n){var e,r=n.state,g=n.name,y=n.options,k=r.elements.arrow,$=r.modifiersData.popperOffsets,V=q(r.placement),L=Le(V),z=[P$1,W].indexOf(V)>=0,j=z?"height":"width";if(!(!k||!$)){var re=Tt(y.padding,r),oe=ke(k),ae=L==="y"?E$1:P$1,de=L==="y"?R:W,ue=r.rects.reference[j]+r.rects.reference[L]-$[L]-r.rects.popper[j],pe=$[L]-r.rects.reference[L],he=se(k),Oe=he?L==="y"?he.clientHeight||0:he.clientWidth||0:0,xe=ue/2-pe/2,$e=re[ae],Ne=Oe-oe[j]-re[de],Ce=Oe/2-oe[j]/2+xe,Fe=fe($e,Ce,Ne),ze=L;r.modifiersData[g]=(e={},e[ze]=Fe,e.centerOffset=Fe-Ce,e)}}function Ct(n){var e=n.state,r=n.options,g=r.element,y=g===void 0?"[data-popper-arrow]":g;y!=null&&(typeof y=="string"&&(y=e.elements.popper.querySelector(y),!y)||!it(e.elements.popper,y)||(e.elements.arrow=y))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(n){return n.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(n){var e=n.x,r=n.y,g=window,y=g.devicePixelRatio||1;return{x:Z(e*y)/y||0,y:Z(r*y)/y||0}}function ut(n){var e,r=n.popper,g=n.popperRect,y=n.placement,k=n.variation,$=n.offsets,V=n.position,L=n.gpuAcceleration,z=n.adaptive,j=n.roundOffsets,re=n.isFixed,oe=$.x,ae=oe===void 0?0:oe,de=$.y,ue=de===void 0?0:de,pe=typeof j=="function"?j({x:ae,y:ue}):{x:ae,y:ue};ae=pe.x,ue=pe.y;var he=$.hasOwnProperty("x"),Oe=$.hasOwnProperty("y"),xe=P$1,$e=E$1,Ne=window;if(z){var Ce=se(r),Fe="clientHeight",ze="clientWidth";if(Ce===H(r)&&(Ce=I$1(r),N$1(Ce).position!=="static"&&V==="absolute"&&(Fe="scrollHeight",ze="scrollWidth")),Ce=Ce,y===E$1||(y===P$1||y===W)&&k===J){$e=R;var kt=re&&Ce===Ne&&Ne.visualViewport?Ne.visualViewport.height:Ce[Fe];ue-=kt-g.height,ue*=L?1:-1}if(y===P$1||(y===E$1||y===R)&&k===J){xe=W;var At=re&&Ce===Ne&&Ne.visualViewport?Ne.visualViewport.width:Ce[ze];ae-=At-g.width,ae*=L?1:-1}}var Cn=Object.assign({position:V},z&&qt),Dt=j===!0?Vt({x:ae,y:ue}):{x:ae,y:ue};if(ae=Dt.x,ue=Dt.y,L){var On;return Object.assign({},Cn,(On={},On[$e]=Oe?"0":"",On[xe]=he?"0":"",On.transform=(Ne.devicePixelRatio||1)<=1?"translate("+ae+"px, "+ue+"px)":"translate3d("+ae+"px, "+ue+"px, 0)",On))}return Object.assign({},Cn,(e={},e[$e]=Oe?ue+"px":"",e[xe]=he?ae+"px":"",e.transform="",e))}function Nt(n){var e=n.state,r=n.options,g=r.gpuAcceleration,y=g===void 0?!0:g,k=r.adaptive,$=k===void 0?!0:k,V=r.roundOffsets,L=V===void 0?!0:V,z={placement:q(e.placement),variation:te(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:y,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ut(Object.assign({},z,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:$,roundOffsets:L})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ut(Object.assign({},z,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:L})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(n){var e=n.state,r=n.instance,g=n.options,y=g.scroll,k=y===void 0?!0:y,$=g.resize,V=$===void 0?!0:$,L=H(e.elements.popper),z=[].concat(e.scrollParents.reference,e.scrollParents.popper);return k&&z.forEach(function(j){j.addEventListener("scroll",r.update,ye)}),V&&L.addEventListener("resize",r.update,ye),function(){k&&z.forEach(function(j){j.removeEventListener("scroll",r.update,ye)}),V&&L.removeEventListener("resize",r.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(n){return n.replace(/left|right|bottom|top/g,function(e){return _t[e]})}var zt={start:"end",end:"start"};function lt$1(n){return n.replace(/start|end/g,function(e){return zt[e]})}function We(n){var e=H(n),r=e.pageXOffset,g=e.pageYOffset;return{scrollLeft:r,scrollTop:g}}function Be(n){return ee(I$1(n)).left+We(n).scrollLeft}function Ft(n){var e=H(n),r=I$1(n),g=e.visualViewport,y=r.clientWidth,k=r.clientHeight,$=0,V=0;return g&&(y=g.width,k=g.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||($=g.offsetLeft,V=g.offsetTop)),{width:y,height:k,x:$+Be(n),y:V}}function Ut(n){var e,r=I$1(n),g=We(n),y=(e=n.ownerDocument)==null?void 0:e.body,k=X$1(r.scrollWidth,r.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),$=X$1(r.scrollHeight,r.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),V=-g.scrollLeft+Be(n),L=-g.scrollTop;return N$1(y||r).direction==="rtl"&&(V+=X$1(r.clientWidth,y?y.clientWidth:0)-k),{width:k,height:$,x:V,y:L}}function Se(n){var e=N$1(n),r=e.overflow,g=e.overflowX,y=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+y+g)}function dt(n){return["html","body","#document"].indexOf(C$1(n))>=0?n.ownerDocument.body:B(n)&&Se(n)?n:dt(ge(n))}function ce(n,e){var r;e===void 0&&(e=[]);var g=dt(n),y=g===((r=n.ownerDocument)==null?void 0:r.body),k=H(g),$=y?[k].concat(k.visualViewport||[],Se(g)?g:[]):g,V=e.concat($);return y?V:V.concat(ce(ge($)))}function Te(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Xt(n){var e=ee(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function ht(n,e){return e===je?Te(Ft(n)):Q(e)?Xt(e):Te(Ut(I$1(n)))}function Yt(n){var e=ce(ge(n)),r=["absolute","fixed"].indexOf(N$1(n).position)>=0,g=r&&B(n)?se(n):n;return Q(g)?e.filter(function(y){return Q(y)&&it(y,g)&&C$1(y)!=="body"}):[]}function Gt(n,e,r){var g=e==="clippingParents"?Yt(n):[].concat(e),y=[].concat(g,[r]),k=y[0],$=y.reduce(function(V,L){var z=ht(n,L);return V.top=X$1(z.top,V.top),V.right=ve(z.right,V.right),V.bottom=ve(z.bottom,V.bottom),V.left=X$1(z.left,V.left),V},ht(n,k));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function mt(n){var e=n.reference,r=n.element,g=n.placement,y=g?q(g):null,k=g?te(g):null,$=e.x+e.width/2-r.width/2,V=e.y+e.height/2-r.height/2,L;switch(y){case E$1:L={x:$,y:e.y-r.height};break;case R:L={x:$,y:e.y+e.height};break;case W:L={x:e.x+e.width,y:V};break;case P$1:L={x:e.x-r.width,y:V};break;default:L={x:e.x,y:e.y}}var z=y?Le(y):null;if(z!=null){var j=z==="y"?"height":"width";switch(k){case U$1:L[z]=L[z]-(e[j]/2-r[j]/2);break;case J:L[z]=L[z]+(e[j]/2-r[j]/2);break}}return L}function ne(n,e){e===void 0&&(e={});var r=e,g=r.placement,y=g===void 0?n.placement:g,k=r.boundary,$=k===void 0?Xe:k,V=r.rootBoundary,L=V===void 0?je:V,z=r.elementContext,j=z===void 0?K:z,re=r.altBoundary,oe=re===void 0?!1:re,ae=r.padding,de=ae===void 0?0:ae,ue=ft(typeof de!="number"?de:ct(de,G)),pe=j===K?Ye:K,he=n.rects.popper,Oe=n.elements[oe?pe:j],xe=Gt(Q(Oe)?Oe:Oe.contextElement||I$1(n.elements.popper),$,L),$e=ee(n.elements.reference),Ne=mt({reference:$e,element:he,strategy:"absolute",placement:y}),Ce=Te(Object.assign({},he,Ne)),Fe=j===K?Ce:$e,ze={top:xe.top-Fe.top+ue.top,bottom:Fe.bottom-xe.bottom+ue.bottom,left:xe.left-Fe.left+ue.left,right:Fe.right-xe.right+ue.right},kt=n.modifiersData.offset;if(j===K&&kt){var At=kt[y];Object.keys(ze).forEach(function(Cn){var Dt=[W,R].indexOf(Cn)>=0?1:-1,On=[E$1,R].indexOf(Cn)>=0?"y":"x";ze[Cn]+=At[On]*Dt})}return ze}function Jt(n,e){e===void 0&&(e={});var r=e,g=r.placement,y=r.boundary,k=r.rootBoundary,$=r.padding,V=r.flipVariations,L=r.allowedAutoPlacements,z=L===void 0?Ee:L,j=te(g),re=j?V?De:De.filter(function(de){return te(de)===j}):G,oe=re.filter(function(de){return z.indexOf(de)>=0});oe.length===0&&(oe=re);var ae=oe.reduce(function(de,ue){return de[ue]=ne(n,{placement:ue,boundary:y,rootBoundary:k,padding:$})[q(ue)],de},{});return Object.keys(ae).sort(function(de,ue){return ae[de]-ae[ue]})}function Kt(n){if(q(n)===me)return[];var e=be(n);return[lt$1(n),e,lt$1(e)]}function Qt(n){var e=n.state,r=n.options,g=n.name;if(!e.modifiersData[g]._skip){for(var y=r.mainAxis,k=y===void 0?!0:y,$=r.altAxis,V=$===void 0?!0:$,L=r.fallbackPlacements,z=r.padding,j=r.boundary,re=r.rootBoundary,oe=r.altBoundary,ae=r.flipVariations,de=ae===void 0?!0:ae,ue=r.allowedAutoPlacements,pe=e.options.placement,he=q(pe),Oe=he===pe,xe=L||(Oe||!de?[be(pe)]:Kt(pe)),$e=[pe].concat(xe).reduce(function(ur,hr){return ur.concat(q(hr)===me?Jt(e,{placement:hr,boundary:j,rootBoundary:re,padding:z,flipVariations:de,allowedAutoPlacements:ue}):hr)},[]),Ne=e.rects.reference,Ce=e.rects.popper,Fe=new Map,ze=!0,kt=$e[0],At=0;At<$e.length;At++){var Cn=$e[At],Dt=q(Cn),On=te(Cn)===U$1,jt=[E$1,R].indexOf(Dt)>=0,An=jt?"width":"height",Mn=ne(e,{placement:Cn,boundary:j,rootBoundary:re,altBoundary:oe,padding:z}),$n=jt?On?W:P$1:On?R:E$1;Ne[An]>Ce[An]&&($n=be($n));var Ln=be($n),Tn=[];if(k&&Tn.push(Mn[Dt]<=0),V&&Tn.push(Mn[$n]<=0,Mn[Ln]<=0),Tn.every(function(ur){return ur})){kt=Cn,ze=!1;break}Fe.set(Cn,Tn)}if(ze)for(var Zn=de?3:1,Qn=function(ur){var hr=$e.find(function(Vn){var En=Fe.get(Vn);if(En)return En.slice(0,ur).every(function(jn){return jn})});if(hr)return kt=hr,"break"},Pn=Zn;Pn>0;Pn--){var Wn=Qn(Pn);if(Wn==="break")break}e.placement!==kt&&(e.modifiersData[g]._skip=!0,e.placement=kt,e.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function yt(n){return[E$1,W,R,P$1].some(function(e){return n[e]>=0})}function Zt(n){var e=n.state,r=n.name,g=e.rects.reference,y=e.rects.popper,k=e.modifiersData.preventOverflow,$=ne(e,{elementContext:"reference"}),V=ne(e,{altBoundary:!0}),L=gt($,g),z=gt(V,y,k),j=yt(L),re=yt(z);e.modifiersData[r]={referenceClippingOffsets:L,popperEscapeOffsets:z,isReferenceHidden:j,hasPopperEscaped:re},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":re})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(n,e,r){var g=q(n),y=[P$1,E$1].indexOf(g)>=0?-1:1,k=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,$=k[0],V=k[1];return $=$||0,V=(V||0)*y,[P$1,W].indexOf(g)>=0?{x:V,y:$}:{x:$,y:V}}function tn(n){var e=n.state,r=n.options,g=n.name,y=r.offset,k=y===void 0?[0,0]:y,$=Ee.reduce(function(j,re){return j[re]=en(re,e.rects,k),j},{}),V=$[e.placement],L=V.x,z=V.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=L,e.modifiersData.popperOffsets.y+=z),e.modifiersData[g]=$}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(n){var e=n.state,r=n.name;e.modifiersData[r]=mt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(n){return n==="x"?"y":"x"}function on(n){var e=n.state,r=n.options,g=n.name,y=r.mainAxis,k=y===void 0?!0:y,$=r.altAxis,V=$===void 0?!1:$,L=r.boundary,z=r.rootBoundary,j=r.altBoundary,re=r.padding,oe=r.tether,ae=oe===void 0?!0:oe,de=r.tetherOffset,ue=de===void 0?0:de,pe=ne(e,{boundary:L,rootBoundary:z,padding:re,altBoundary:j}),he=q(e.placement),Oe=te(e.placement),xe=!Oe,$e=Le(he),Ne=rn($e),Ce=e.modifiersData.popperOffsets,Fe=e.rects.reference,ze=e.rects.popper,kt=typeof ue=="function"?ue(Object.assign({},e.rects,{placement:e.placement})):ue,At=typeof kt=="number"?{mainAxis:kt,altAxis:kt}:Object.assign({mainAxis:0,altAxis:0},kt),Cn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Dt={x:0,y:0};if(Ce){if(k){var On,jt=$e==="y"?E$1:P$1,An=$e==="y"?R:W,Mn=$e==="y"?"height":"width",$n=Ce[$e],Ln=$n+pe[jt],Tn=$n-pe[An],Zn=ae?-ze[Mn]/2:0,Qn=Oe===U$1?Fe[Mn]:ze[Mn],Pn=Oe===U$1?-ze[Mn]:-Fe[Mn],Wn=e.elements.arrow,ur=ae&&Wn?ke(Wn):{width:0,height:0},hr=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:st(),Vn=hr[jt],En=hr[An],jn=fe(0,Fe[Mn],ur[Mn]),cr=xe?Fe[Mn]/2-Zn-jn-Vn-At.mainAxis:Qn-jn-Vn-At.mainAxis,gr=xe?-Fe[Mn]/2+Zn+jn+En+At.mainAxis:Pn+jn+En+At.mainAxis,Cr=e.elements.arrow&&se(e.elements.arrow),ir=Cr?$e==="y"?Cr.clientTop||0:Cr.clientLeft||0:0,Gn=(On=Cn?.[$e])!=null?On:0,hn=$n+cr-Gn-ir,Kn=$n+gr-Gn,Nn=fe(ae?ve(Ln,hn):Ln,$n,ae?X$1(Tn,Kn):Tn);Ce[$e]=Nn,Dt[$e]=Nn-$n}if(V){var Lt,_n=$e==="x"?E$1:P$1,Bn=$e==="x"?R:W,Xn=Ce[Ne],rr=Ne==="y"?"height":"width",ar=Xn+pe[_n],sr=Xn-pe[Bn],mr=[E$1,P$1].indexOf(he)!==-1,lr=(Lt=Cn?.[Ne])!=null?Lt:0,le=mr?ar:Xn-Fe[rr]-ze[rr]-lr+At.altAxis,_e=mr?Xn+Fe[rr]+ze[rr]-lr-At.altAxis:sr,Ie=ae&&mr?St(le,Xn,_e):fe(ae?le:ar,Xn,ae?_e:sr);Ce[Ne]=Ie,Dt[Ne]=Ie-Xn}e.modifiersData[g]=Dt}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sn(n){return n===H(n)||!B(n)?We(n):an(n)}function fn(n){var e=n.getBoundingClientRect(),r=Z(e.width)/n.offsetWidth||1,g=Z(e.height)/n.offsetHeight||1;return r!==1||g!==1}function cn(n,e,r){r===void 0&&(r=!1);var g=B(e),y=B(e)&&fn(e),k=I$1(e),$=ee(n,y),V={scrollLeft:0,scrollTop:0},L={x:0,y:0};return(g||!g&&!r)&&((C$1(e)!=="body"||Se(k))&&(V=sn(e)),B(e)?(L=ee(e,!0),L.x+=e.clientLeft,L.y+=e.clientTop):k&&(L.x=Be(k))),{x:$.left+V.scrollLeft-L.x,y:$.top+V.scrollTop-L.y,width:$.width,height:$.height}}function pn(n){var e=new Map,r=new Set,g=[];n.forEach(function(k){e.set(k.name,k)});function y(k){r.add(k.name);var $=[].concat(k.requires||[],k.requiresIfExists||[]);$.forEach(function(V){if(!r.has(V)){var L=e.get(V);L&&y(L)}}),g.push(k)}return n.forEach(function(k){r.has(k.name)||y(k)}),g}function un(n){var e=pn(n);return ot.reduce(function(r,g){return r.concat(e.filter(function(y){return y.phase===g}))},[])}function ln(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function dn(n){var e=n.reduce(function(r,g){var y=r[g.name];return r[g.name]=y?Object.assign({},y,g,{options:Object.assign({},y.options,g.options),data:Object.assign({},y.data,g.data)}):g,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function we(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,g=r===void 0?[]:r,y=e.defaultOptions,k=y===void 0?Ot:y;return function($,V,L){L===void 0&&(L=k);var z={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,k),modifiersData:{},elements:{reference:$,popper:V},attributes:{},styles:{}},j=[],re=!1,oe={state:z,setOptions:function(ue){var pe=typeof ue=="function"?ue(z.options):ue;de(),z.options=Object.assign({},k,z.options,pe),z.scrollParents={reference:Q($)?ce($):$.contextElement?ce($.contextElement):[],popper:ce(V)};var he=un(dn([].concat(g,z.options.modifiers)));return z.orderedModifiers=he.filter(function(Oe){return Oe.enabled}),ae(),oe.update()},forceUpdate:function(){if(!re){var ue=z.elements,pe=ue.reference,he=ue.popper;if($t(pe,he)){z.rects={reference:cn(pe,se(he),z.options.strategy==="fixed"),popper:ke(he)},z.reset=!1,z.placement=z.options.placement,z.orderedModifiers.forEach(function(ze){return z.modifiersData[ze.name]=Object.assign({},ze.data)});for(var Oe=0;Oe<z.orderedModifiers.length;Oe++){if(z.reset===!0){z.reset=!1,Oe=-1;continue}var xe=z.orderedModifiers[Oe],$e=xe.fn,Ne=xe.options,Ce=Ne===void 0?{}:Ne,Fe=xe.name;typeof $e=="function"&&(z=$e({state:z,options:Ce,name:Fe,instance:oe})||z)}}}},update:ln(function(){return new Promise(function(ue){oe.forceUpdate(),ue(z)})}),destroy:function(){de(),re=!0}};if(!$t($,V))return oe;oe.setOptions(L).then(function(ue){!re&&L.onFirstUpdate&&L.onFirstUpdate(ue)});function ae(){z.orderedModifiers.forEach(function(ue){var pe=ue.name,he=ue.options,Oe=he===void 0?{}:he,xe=ue.effect;if(typeof xe=="function"){var $e=xe({state:z,name:pe,instance:oe,options:Oe}),Ne=function(){};j.push($e||Ne)}})}function de(){j.forEach(function(ue){return ue()}),j=[]}return oe}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(n,e,r={})=>{const g={name:"updateState",enabled:!0,phase:"write",fn:({state:L})=>{const z=deriveState(L);Object.assign($.value,z)},requires:["computeStyles"]},y=computed(()=>{const{onFirstUpdate:L,placement:z,strategy:j,modifiers:re}=unref(r);return{onFirstUpdate:L,placement:z||"bottom",strategy:j||"absolute",modifiers:[...re||[],g,{name:"applyStyles",enabled:!1}]}}),k=shallowRef(),$=ref({styles:{popper:{position:unref(y).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),V=()=>{k.value&&(k.value.destroy(),k.value=void 0)};return watch(y,L=>{const z=unref(k);z&&z.setOptions(L)},{deep:!0}),watch([n,e],([L,z])=>{V(),!(!L||!z)&&(k.value=yn(L,z,unref(y)))}),onBeforeUnmount(()=>{V()}),{state:computed(()=>{var L;return{...((L=unref(k))==null?void 0:L.state)||{}}}),styles:computed(()=>unref($).styles),attributes:computed(()=>unref($).attributes),update:()=>{var L;return(L=unref(k))==null?void 0:L.update()},forceUpdate:()=>{var L;return(L=unref(k))==null?void 0:L.forceUpdate()},instanceRef:computed(()=>unref(k))}};function deriveState(n){const e=Object.keys(n.elements),r=fromPairs(e.map(y=>[y,n.styles[y]||{}])),g=fromPairs(e.map(y=>[y,n.attributes[y]]));return{styles:r,attributes:g}}const useSameTarget=n=>{if(!n)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let e=!1,r=!1;return{onClick:$=>{e&&r&&n($),e=r=!1},onMousedown:$=>{e=$.target===$.currentTarget},onMouseup:$=>{r=$.target===$.currentTarget}}},useThrottleRender=(n,e=0)=>{if(e===0)return n;const r=ref(!1);let g=0;const y=()=>{g&&clearTimeout(g),g=window.setTimeout(()=>{r.value=n.value},e)};return onMounted(y),watch(()=>n.value,k=>{k?y():r.value=k}),r};function useTimeout(){let n;const e=(g,y)=>{r(),n=window.setTimeout(g,y)},r=()=>window.clearTimeout(n);return tryOnScopeDispose(()=>r()),{registerTimeout:e,cancelTimeout:r}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=n=>{const e=useIdInjection(),r=useGetDerivedNamespace();return computed(()=>unref(n)||`${r.value}-id-${e.prefix}-${e.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=n=>{const e=n;e.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(r=>r(e))},useEscapeKeydown=n=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(n)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(e=>e!==n),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const n=useGetDerivedNamespace(),e=useIdInjection(),r=computed(()=>`${n.value}-popper-container-${e.prefix}`),g=computed(()=>`#${r.value}`);return{id:r,selector:g}},createContainer=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},usePopperContainer=()=>{const{id:n,selector:e}=usePopperContainerId();return onBeforeMount(()=>{isClient&&!cachedContainer&&!document.body.querySelector(e.value)&&(cachedContainer=createContainer(n.value))}),{id:n,selector:e}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:n,hideAfter:e,autoClose:r,open:g,close:y})=>{const{registerTimeout:k}=useTimeout(),{registerTimeout:$,cancelTimeout:V}=useTimeout();return{onOpen:j=>{k(()=>{g(j);const re=unref(r);isNumber$1(re)&&re>0&&$(()=>{y(j)},re)},unref(n))},onClose:j=>{V(),k(()=>{y(j)},unref(e))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=n=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:r=>{n.value=r}})},useForwardRefDirective=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),zIndex=ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=n=>{const e=n||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),r=computed(()=>{const k=unref(e);return isNumber$1(k)?k:defaultInitialZIndex}),g=computed(()=>r.value+zIndex.value);return{initialZIndex:r,currentZIndex:g,nextZIndex:()=>(zIndex.value++,g.value)}},min$1=Math.min,max$1=Math.max,round=Math.round,createCoords=n=>({x:n,y:n});function clamp(n,e,r){return max$1(n,min$1(e,r))}function evaluate(n,e){return typeof n=="function"?n(e):n}function getSide(n){return n.split("-")[0]}function getAlignment(n){return n.split("-")[1]}function getOppositeAxis(n){return n==="x"?"y":"x"}function getAxisLength(n){return n==="y"?"height":"width"}function getSideAxis(n){return["top","bottom"].includes(getSide(n))?"y":"x"}function getAlignmentAxis(n){return getOppositeAxis(getSideAxis(n))}function expandPaddingObject(n){return{top:0,right:0,bottom:0,left:0,...n}}function getPaddingObject(n){return typeof n!="number"?expandPaddingObject(n):{top:n,right:n,bottom:n,left:n}}function rectToClientRect(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function computeCoordsFromPlacement(n,e,r){let{reference:g,floating:y}=n;const k=getSideAxis(e),$=getAlignmentAxis(e),V=getAxisLength($),L=getSide(e),z=k==="y",j=g.x+g.width/2-y.width/2,re=g.y+g.height/2-y.height/2,oe=g[V]/2-y[V]/2;let ae;switch(L){case"top":ae={x:j,y:g.y-y.height};break;case"bottom":ae={x:j,y:g.y+g.height};break;case"right":ae={x:g.x+g.width,y:re};break;case"left":ae={x:g.x-y.width,y:re};break;default:ae={x:g.x,y:g.y}}switch(getAlignment(e)){case"start":ae[$]-=oe*(r&&z?-1:1);break;case"end":ae[$]+=oe*(r&&z?-1:1);break}return ae}const computePosition$1=async(n,e,r)=>{const{placement:g="bottom",strategy:y="absolute",middleware:k=[],platform:$}=r,V=k.filter(Boolean),L=await($.isRTL==null?void 0:$.isRTL(e));let z=await $.getElementRects({reference:n,floating:e,strategy:y}),{x:j,y:re}=computeCoordsFromPlacement(z,g,L),oe=g,ae={},de=0;for(let ue=0;ue<V.length;ue++){const{name:pe,fn:he}=V[ue],{x:Oe,y:xe,data:$e,reset:Ne}=await he({x:j,y:re,initialPlacement:g,placement:oe,strategy:y,middlewareData:ae,rects:z,platform:$,elements:{reference:n,floating:e}});if(j=Oe??j,re=xe??re,ae={...ae,[pe]:{...ae[pe],...$e}},Ne&&de<=50){de++,typeof Ne=="object"&&(Ne.placement&&(oe=Ne.placement),Ne.rects&&(z=Ne.rects===!0?await $.getElementRects({reference:n,floating:e,strategy:y}):Ne.rects),{x:j,y:re}=computeCoordsFromPlacement(z,oe,L)),ue=-1;continue}}return{x:j,y:re,placement:oe,strategy:y,middlewareData:ae}},arrow=n=>({name:"arrow",options:n,async fn(e){const{x:r,y:g,placement:y,rects:k,platform:$,elements:V}=e,{element:L,padding:z=0}=evaluate(n,e)||{};if(L==null)return{};const j=getPaddingObject(z),re={x:r,y:g},oe=getAlignmentAxis(y),ae=getAxisLength(oe),de=await $.getDimensions(L),ue=oe==="y",pe=ue?"top":"left",he=ue?"bottom":"right",Oe=ue?"clientHeight":"clientWidth",xe=k.reference[ae]+k.reference[oe]-re[oe]-k.floating[ae],$e=re[oe]-k.reference[oe],Ne=await($.getOffsetParent==null?void 0:$.getOffsetParent(L));let Ce=Ne?Ne[Oe]:0;(!Ce||!await($.isElement==null?void 0:$.isElement(Ne)))&&(Ce=V.floating[Oe]||k.floating[ae]);const Fe=xe/2-$e/2,ze=Ce/2-de[ae]/2-1,kt=min$1(j[pe],ze),At=min$1(j[he],ze),Cn=kt,Dt=Ce-de[ae]-At,On=Ce/2-de[ae]/2+Fe,jt=clamp(Cn,On,Dt),Mn=getAlignment(y)!=null&&On!=jt&&k.reference[ae]/2-(On<Cn?kt:At)-de[ae]/2<0?On<Cn?Cn-On:Dt-On:0;return{[oe]:re[oe]-Mn,data:{[oe]:jt,centerOffset:On-jt+Mn}}}});async function convertValueToCoords(n,e){const{placement:r,platform:g,elements:y}=n,k=await(g.isRTL==null?void 0:g.isRTL(y.floating)),$=getSide(r),V=getAlignment(r),L=getSideAxis(r)==="y",z=["left","top"].includes($)?-1:1,j=k&&L?-1:1,re=evaluate(e,n);let{mainAxis:oe,crossAxis:ae,alignmentAxis:de}=typeof re=="number"?{mainAxis:re,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...re};return V&&typeof de=="number"&&(ae=V==="end"?de*-1:de),L?{x:ae*j,y:oe*z}:{x:oe*z,y:ae*j}}const offset=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:r,y:g}=e,y=await convertValueToCoords(e,n);return{x:r+y.x,y:g+y.y,data:y}}}};function getNodeName(n){return isNode(n)?(n.nodeName||"").toLowerCase():"#document"}function getWindow(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(n){var e;return(e=(isNode(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function isNode(n){return n instanceof Node||n instanceof getWindow(n).Node}function isElement(n){return n instanceof Element||n instanceof getWindow(n).Element}function isHTMLElement(n){return n instanceof HTMLElement||n instanceof getWindow(n).HTMLElement}function isShadowRoot(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof getWindow(n).ShadowRoot}function isOverflowElement(n){const{overflow:e,overflowX:r,overflowY:g,display:y}=getComputedStyle$1(n);return/auto|scroll|overlay|hidden|clip/.test(e+g+r)&&!["inline","contents"].includes(y)}function isTableElement(n){return["table","td","th"].includes(getNodeName(n))}function isContainingBlock(n){const e=isWebKit(),r=getComputedStyle$1(n);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(g=>(r.willChange||"").includes(g))||["paint","layout","strict","content"].some(g=>(r.contain||"").includes(g))}function getContainingBlock(n){let e=getParentNode(n);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(n){return["html","body","#document"].includes(getNodeName(n))}function getComputedStyle$1(n){return getWindow(n).getComputedStyle(n)}function getNodeScroll(n){return isElement(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function getParentNode(n){if(getNodeName(n)==="html")return n;const e=n.assignedSlot||n.parentNode||isShadowRoot(n)&&n.host||getDocumentElement(n);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(n){const e=getParentNode(n);return isLastTraversableNode(e)?n.ownerDocument?n.ownerDocument.body:n.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(n,e){var r;e===void 0&&(e=[]);const g=getNearestOverflowAncestor(n),y=g===((r=n.ownerDocument)==null?void 0:r.body),k=getWindow(g);return y?e.concat(k,k.visualViewport||[],isOverflowElement(g)?g:[],k.frameElement?getOverflowAncestors(k.frameElement):[]):e.concat(g,getOverflowAncestors(g))}function getCssDimensions(n){const e=getComputedStyle$1(n);let r=parseFloat(e.width)||0,g=parseFloat(e.height)||0;const y=isHTMLElement(n),k=y?n.offsetWidth:r,$=y?n.offsetHeight:g,V=round(r)!==k||round(g)!==$;return V&&(r=k,g=$),{width:r,height:g,$:V}}function unwrapElement(n){return isElement(n)?n:n.contextElement}function getScale$1(n){const e=unwrapElement(n);if(!isHTMLElement(e))return createCoords(1);const r=e.getBoundingClientRect(),{width:g,height:y,$:k}=getCssDimensions(e);let $=(k?round(r.width):r.width)/g,V=(k?round(r.height):r.height)/y;return(!$||!Number.isFinite($))&&($=1),(!V||!Number.isFinite(V))&&(V=1),{x:$,y:V}}const noOffsets=createCoords(0);function getVisualOffsets(n){const e=getWindow(n);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(n,e,r){return e===void 0&&(e=!1),!r||e&&r!==getWindow(n)?!1:e}function getBoundingClientRect(n,e,r,g){e===void 0&&(e=!1),r===void 0&&(r=!1);const y=n.getBoundingClientRect(),k=unwrapElement(n);let $=createCoords(1);e&&(g?isElement(g)&&($=getScale$1(g)):$=getScale$1(n));const V=shouldAddVisualOffsets(k,r,g)?getVisualOffsets(k):createCoords(0);let L=(y.left+V.x)/$.x,z=(y.top+V.y)/$.y,j=y.width/$.x,re=y.height/$.y;if(k){const oe=getWindow(k),ae=g&&isElement(g)?getWindow(g):g;let de=oe.frameElement;for(;de&&g&&ae!==oe;){const ue=getScale$1(de),pe=de.getBoundingClientRect(),he=getComputedStyle$1(de),Oe=pe.left+(de.clientLeft+parseFloat(he.paddingLeft))*ue.x,xe=pe.top+(de.clientTop+parseFloat(he.paddingTop))*ue.y;L*=ue.x,z*=ue.y,j*=ue.x,re*=ue.y,L+=Oe,z+=xe,de=getWindow(de).frameElement}}return rectToClientRect({width:j,height:re,x:L,y:z})}function convertOffsetParentRelativeRectToViewportRelativeRect(n){let{rect:e,offsetParent:r,strategy:g}=n;const y=isHTMLElement(r),k=getDocumentElement(r);if(r===k)return e;let $={scrollLeft:0,scrollTop:0},V=createCoords(1);const L=createCoords(0);if((y||!y&&g!=="fixed")&&((getNodeName(r)!=="body"||isOverflowElement(k))&&($=getNodeScroll(r)),isHTMLElement(r))){const z=getBoundingClientRect(r);V=getScale$1(r),L.x=z.x+r.clientLeft,L.y=z.y+r.clientTop}return{width:e.width*V.x,height:e.height*V.y,x:e.x*V.x-$.scrollLeft*V.x+L.x,y:e.y*V.y-$.scrollTop*V.y+L.y}}function getClientRects(n){return Array.from(n.getClientRects())}function getWindowScrollBarX(n){return getBoundingClientRect(getDocumentElement(n)).left+getNodeScroll(n).scrollLeft}function getDocumentRect(n){const e=getDocumentElement(n),r=getNodeScroll(n),g=n.ownerDocument.body,y=max$1(e.scrollWidth,e.clientWidth,g.scrollWidth,g.clientWidth),k=max$1(e.scrollHeight,e.clientHeight,g.scrollHeight,g.clientHeight);let $=-r.scrollLeft+getWindowScrollBarX(n);const V=-r.scrollTop;return getComputedStyle$1(g).direction==="rtl"&&($+=max$1(e.clientWidth,g.clientWidth)-y),{width:y,height:k,x:$,y:V}}function getViewportRect(n,e){const r=getWindow(n),g=getDocumentElement(n),y=r.visualViewport;let k=g.clientWidth,$=g.clientHeight,V=0,L=0;if(y){k=y.width,$=y.height;const z=isWebKit();(!z||z&&e==="fixed")&&(V=y.offsetLeft,L=y.offsetTop)}return{width:k,height:$,x:V,y:L}}function getInnerBoundingClientRect(n,e){const r=getBoundingClientRect(n,!0,e==="fixed"),g=r.top+n.clientTop,y=r.left+n.clientLeft,k=isHTMLElement(n)?getScale$1(n):createCoords(1),$=n.clientWidth*k.x,V=n.clientHeight*k.y,L=y*k.x,z=g*k.y;return{width:$,height:V,x:L,y:z}}function getClientRectFromClippingAncestor(n,e,r){let g;if(e==="viewport")g=getViewportRect(n,r);else if(e==="document")g=getDocumentRect(getDocumentElement(n));else if(isElement(e))g=getInnerBoundingClientRect(e,r);else{const y=getVisualOffsets(n);g={...e,x:e.x-y.x,y:e.y-y.y}}return rectToClientRect(g)}function hasFixedPositionAncestor(n,e){const r=getParentNode(n);return r===e||!isElement(r)||isLastTraversableNode(r)?!1:getComputedStyle$1(r).position==="fixed"||hasFixedPositionAncestor(r,e)}function getClippingElementAncestors(n,e){const r=e.get(n);if(r)return r;let g=getOverflowAncestors(n).filter(V=>isElement(V)&&getNodeName(V)!=="body"),y=null;const k=getComputedStyle$1(n).position==="fixed";let $=k?getParentNode(n):n;for(;isElement($)&&!isLastTraversableNode($);){const V=getComputedStyle$1($),L=isContainingBlock($);!L&&V.position==="fixed"&&(y=null),(k?!L&&!y:!L&&V.position==="static"&&!!y&&["absolute","fixed"].includes(y.position)||isOverflowElement($)&&!L&&hasFixedPositionAncestor(n,$))?g=g.filter(j=>j!==$):y=V,$=getParentNode($)}return e.set(n,g),g}function getClippingRect(n){let{element:e,boundary:r,rootBoundary:g,strategy:y}=n;const $=[...r==="clippingAncestors"?getClippingElementAncestors(e,this._c):[].concat(r),g],V=$[0],L=$.reduce((z,j)=>{const re=getClientRectFromClippingAncestor(e,j,y);return z.top=max$1(re.top,z.top),z.right=min$1(re.right,z.right),z.bottom=min$1(re.bottom,z.bottom),z.left=max$1(re.left,z.left),z},getClientRectFromClippingAncestor(e,V,y));return{width:L.right-L.left,height:L.bottom-L.top,x:L.left,y:L.top}}function getDimensions(n){return getCssDimensions(n)}function getRectRelativeToOffsetParent(n,e,r){const g=isHTMLElement(e),y=getDocumentElement(e),k=r==="fixed",$=getBoundingClientRect(n,!0,k,e);let V={scrollLeft:0,scrollTop:0};const L=createCoords(0);if(g||!g&&!k)if((getNodeName(e)!=="body"||isOverflowElement(y))&&(V=getNodeScroll(e)),g){const z=getBoundingClientRect(e,!0,k,e);L.x=z.x+e.clientLeft,L.y=z.y+e.clientTop}else y&&(L.x=getWindowScrollBarX(y));return{x:$.left+V.scrollLeft-L.x,y:$.top+V.scrollTop-L.y,width:$.width,height:$.height}}function getTrueOffsetParent(n,e){return!isHTMLElement(n)||getComputedStyle$1(n).position==="fixed"?null:e?e(n):n.offsetParent}function getOffsetParent(n,e){const r=getWindow(n);if(!isHTMLElement(n))return r;let g=getTrueOffsetParent(n,e);for(;g&&isTableElement(g)&&getComputedStyle$1(g).position==="static";)g=getTrueOffsetParent(g,e);return g&&(getNodeName(g)==="html"||getNodeName(g)==="body"&&getComputedStyle$1(g).position==="static"&&!isContainingBlock(g))?r:g||getContainingBlock(n)||r}const getElementRects=async function(n){let{reference:e,floating:r,strategy:g}=n;const y=this.getOffsetParent||getOffsetParent,k=this.getDimensions;return{reference:getRectRelativeToOffsetParent(e,await y(r),g),floating:{x:0,y:0,...await k(r)}}};function isRTL$1(n){return getComputedStyle$1(n).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement,isRTL:isRTL$1},computePosition=(n,e,r)=>{const g=new Map,y={platform,...r},k={...y.platform,_c:g};return computePosition$1(n,e,{...y,platform:k})};buildProps({});const unrefReference=n=>{if(!isClient)return;if(!n)return n;const e=unrefElement(n);return e||(isRef(n)?e:n)},useFloating=({middleware:n,placement:e,strategy:r})=>{const g=ref(),y=ref(),k=ref(),$=ref(),V=ref({}),L={x:k,y:$,placement:e,strategy:r,middlewareData:V},z=async()=>{if(!isClient)return;const j=unrefReference(g),re=unrefElement(y);if(!j||!re)return;const oe=await computePosition(j,re,{placement:unref(e),strategy:unref(r),middleware:unref(n)});keysOf(L).forEach(ae=>{L[ae].value=oe[ae]})};return onMounted(()=>{watchEffect(()=>{z()})}),{...L,update:z,referenceRef:g,contentRef:y}},arrowMiddleware=({arrowRef:n,padding:e})=>({name:"arrow",options:{element:n,padding:e},fn(r){const g=unref(n);return g?arrow({element:g,padding:e}).fn(r):{}}});function useCursor(n){const e=ref();function r(){if(n.value==null)return;const{selectionStart:y,selectionEnd:k,value:$}=n.value;if(y==null||k==null)return;const V=$.slice(0,Math.max(0,y)),L=$.slice(Math.max(0,k));e.value={selectionStart:y,selectionEnd:k,value:$,beforeTxt:V,afterTxt:L}}function g(){if(n.value==null||e.value==null)return;const{value:y}=n.value,{beforeTxt:k,afterTxt:$,selectionStart:V}=e.value;if(k==null||$==null||V==null)return;let L=y.length;if(y.endsWith($))L=y.length-$.length;else if(y.startsWith(k))L=k.length;else{const z=k[V-1],j=y.indexOf(z,V-1);j!==-1&&(L=j+1)}n.value.setSelectionRange(L,L)}return[r,g]}const getOrderedChildren=(n,e,r)=>flattedChildren(n.subTree).filter(k=>{var $;return isVNode$1(k)&&(($=k.type)==null?void 0:$.name)===e&&!!k.component}).map(k=>k.component.uid).map(k=>r[k]).filter(k=>!!k),useOrderedChildren=(n,e)=>{const r={},g=shallowRef([]);return{children:g,addChild:$=>{r[$.uid]=$,g.value=getOrderedChildren(n,e,r)},removeChild:$=>{delete r[$],g.value=g.value.filter(V=>V.uid!==$)}}},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const n=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(n.size)||"")};function useFocusController(n,{afterFocus:e,afterBlur:r}={}){const g=getCurrentInstance(),{emit:y}=g,k=shallowRef(),$=ref(!1),V=j=>{$.value||($.value=!0,y("focus",j),e?.())},L=j=>{var re;j.relatedTarget&&((re=k.value)!=null&&re.contains(j.relatedTarget))||($.value=!1,y("blur",j),r?.())},z=()=>{var j;(j=n.value)==null||j.focus()};return watch(k,j=>{j&&j.setAttribute("tabindex","-1")}),useEventListener(k,"click",z),{wrapperRef:k,isFocused:$,handleFocus:V,handleBlur:L}}const configProviderContextKey=Symbol(),globalConfig=ref();function useGlobalConfig(n,e=void 0){const r=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return n?computed(()=>{var g,y;return(y=(g=r.value)==null?void 0:g[n])!=null?y:e}):r}function useGlobalComponentSettings(n,e){const r=useGlobalConfig(),g=useNamespace(n,computed(()=>{var V;return((V=r.value)==null?void 0:V.namespace)||defaultNamespace})),y=useLocale(computed(()=>{var V;return(V=r.value)==null?void 0:V.locale})),k=useZIndex(computed(()=>{var V;return((V=r.value)==null?void 0:V.zIndex)||defaultInitialZIndex})),$=computed(()=>{var V;return unref(e)||((V=r.value)==null?void 0:V.size)||""});return provideGlobalConfig(computed(()=>unref(r)||{})),{ns:g,locale:y,zIndex:k,size:$}}const provideGlobalConfig=(n,e,r=!1)=>{var g;const y=!!getCurrentInstance(),k=y?useGlobalConfig():void 0,$=(g=e?.provide)!=null?g:y?provide:void 0;if(!$)return;const V=computed(()=>{const L=unref(n);return k?.value?mergeConfig(k.value,L):L});return $(configProviderContextKey,V),$(localeContextKey,computed(()=>V.value.locale)),$(namespaceContextKey,computed(()=>V.value.namespace)),$(zIndexContextKey,computed(()=>V.value.zIndex)),$(SIZE_INJECTION_KEY,{size:computed(()=>V.value.size||"")}),(r||!globalConfig.value)&&(globalConfig.value=V.value),V},mergeConfig=(n,e)=>{var r;const g=[...new Set([...keysOf(n),...keysOf(e)])],y={};for(const k of g)y[k]=(r=e[k])!=null?r:n[k];return y},configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),messageConfig={},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(n,{slots:e}){watch(()=>n.message,g=>{Object.assign(messageConfig,g??{})},{immediate:!0,deep:!0});const r=provideGlobalConfig(n);return()=>renderSlot(e,"default",{config:r?.value})}}),ElConfigProvider=withInstall(ConfigProvider),version="2.3.12",makeInstaller=(n=[])=>({version,install:(r,g)=>{r[INSTALLED_KEY]||(r[INSTALLED_KEY]=!0,n.forEach(y=>r.use(y)),g&&provideGlobalConfig(g,r,!0))}}),affixProps=buildProps({zIndex:{type:definePropType([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),affixEmits={scroll:({scrollTop:n,fixed:e})=>isNumber$1(n)&&isBoolean$1(e),[CHANGE_EVENT]:n=>isBoolean$1(n)};var _export_sfc$1=(n,e)=>{const r=n.__vccOpts||n;for(const[g,y]of e)r[g]=y;return r};const COMPONENT_NAME$n="ElAffix",__default__$1C=defineComponent({name:COMPONENT_NAME$n}),_sfc_main$3f=defineComponent({...__default__$1C,props:affixProps,emits:affixEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("affix"),k=shallowRef(),$=shallowRef(),V=shallowRef(),{height:L}=useWindowSize(),{height:z,width:j,top:re,bottom:oe,update:ae}=useElementBounding($,{windowScroll:!1}),de=useElementBounding(k),ue=ref(!1),pe=ref(0),he=ref(0),Oe=computed(()=>({height:ue.value?`${z.value}px`:"",width:ue.value?`${j.value}px`:""})),xe=computed(()=>{if(!ue.value)return{};const Ce=g.offset?addUnit(g.offset):0;return{height:`${z.value}px`,width:`${j.value}px`,top:g.position==="top"?Ce:"",bottom:g.position==="bottom"?Ce:"",transform:he.value?`translateY(${he.value}px)`:"",zIndex:g.zIndex}}),$e=()=>{if(V.value)if(pe.value=V.value instanceof Window?document.documentElement.scrollTop:V.value.scrollTop||0,g.position==="top")if(g.target){const Ce=de.bottom.value-g.offset-z.value;ue.value=g.offset>re.value&&de.bottom.value>0,he.value=Ce<0?Ce:0}else ue.value=g.offset>re.value;else if(g.target){const Ce=L.value-de.top.value-g.offset-z.value;ue.value=L.value-g.offset<oe.value&&L.value>de.top.value,he.value=Ce<0?-Ce:0}else ue.value=L.value-g.offset<oe.value},Ne=()=>{ae(),r("scroll",{scrollTop:pe.value,fixed:ue.value})};return watch(ue,Ce=>r("change",Ce)),onMounted(()=>{var Ce;g.target?(k.value=(Ce=document.querySelector(g.target))!=null?Ce:void 0,k.value||throwError(COMPONENT_NAME$n,`Target is not existed: ${g.target}`)):k.value=document.documentElement,V.value=getScrollContainer($.value,!0),ae()}),useEventListener(V,"scroll",Ne),watchEffect($e),e({update:$e,updateRoot:ae}),(Ce,Fe)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:$,class:normalizeClass(unref(y).b()),style:normalizeStyle(unref(Oe))},[createBaseVNode("div",{class:normalizeClass({[unref(y).m("fixed")]:ue.value}),style:normalizeStyle(unref(xe))},[renderSlot(Ce.$slots,"default")],6)],6))}});var Affix=_export_sfc$1(_sfc_main$3f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const ElAffix=withInstall(Affix),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$1B=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$3e=defineComponent({...__default__$1B,props:iconProps,setup(n){const e=n,r=useNamespace("icon"),g=computed(()=>{const{size:y,color:k}=e;return!y&&!k?{}:{fontSize:isUndefined(y)?void 0:addUnit(y),"--color":k}});return(y,k)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref(g)},y.$attrs),[renderSlot(y.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon),alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"}}),alertEmits={close:n=>n instanceof MouseEvent},__default__$1A=defineComponent({name:"ElAlert"}),_sfc_main$3d=defineComponent({...__default__$1A,props:alertProps,emits:alertEmits,setup(n,{emit:e}){const r=n,{Close:g}=TypeComponents,y=useSlots(),k=useNamespace("alert"),$=ref(!0),V=computed(()=>TypeComponentsMap[r.type]),L=computed(()=>[k.e("icon"),{[k.is("big")]:!!r.description||!!y.default}]),z=computed(()=>({[k.is("bold")]:r.description||y.default})),j=re=>{$.value=!1,e("close",re)};return(re,oe)=>(openBlock(),createBlock(Transition,{name:unref(k).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref(k).b(),unref(k).m(re.type),unref(k).is("center",re.center),unref(k).is(re.effect)]),role:"alert"},[re.showIcon&&unref(V)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(V))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).e("content"))},[re.title||re.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(k).e("title"),unref(z)])},[renderSlot(re.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(re.title),1)])],2)):createCommentVNode("v-if",!0),re.$slots.default||re.description?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref(k).e("description"))},[renderSlot(re.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(re.description),1)])],2)):createCommentVNode("v-if",!0),re.closable?(openBlock(),createElementBlock(Fragment,{key:2},[re.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(k).e("close-btn"),unref(k).is("customed")]),onClick:j},toDisplayString$1(re.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(k).e("close-btn")),onClick:j},{default:withCtx(()=>[createVNode(unref(g))]),_:1},8,["class"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,$.value]])]),_:3},8,["name"]))}});var Alert=_export_sfc$1(_sfc_main$3d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const ElAlert=withInstall(Alert),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(n,e={})=>{const r=ref(void 0),g=e.prop?r:useProp("size"),y=e.global?r:useGlobalSize(),k=e.form?{size:void 0}:inject(formContextKey,void 0),$=e.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>g.value||unref(n)||$?.size||k?.size||y.value||"")},useFormDisabled=n=>{const e=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>e.value||unref(n)||r?.disabled||!1)},useFormItem=()=>{const n=inject(formContextKey,void 0),e=inject(formItemContextKey,void 0);return{form:n,formItem:e}},useFormItemInputId=(n,{formItemContext:e,disableIdGeneration:r,disableIdManagement:g})=>{r||(r=ref(!1)),g||(g=ref(!1));const y=ref();let k;const $=computed(()=>{var V;return!!(!n.label&&e&&e.inputIds&&((V=e.inputIds)==null?void 0:V.length)<=1)});return onMounted(()=>{k=watch([toRef(n,"id"),r],([V,L])=>{const z=V??(L?void 0:useId().value);z!==y.value&&(e?.removeInputId&&(y.value&&e.removeInputId(y.value),!g?.value&&!L&&z&&e.addInputId(z)),y.value=z)},{immediate:!0})}),onUnmounted(()=>{k&&k(),e?.removeInputId&&y.value&&e.removeInputId(y.value)}),{isLabeledByFormItem:$,inputId:y}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(n,e,r)=>(isArray$3(n)||isString$3(n))&&isBoolean$1(e)&&isString$3(r)};function useFormLabelWidth(){const n=ref([]),e=computed(()=>{if(!n.value.length)return"0";const k=Math.max(...n.value);return k?`${k}px`:""});function r(k){const $=n.value.indexOf(k);return $===-1&&e.value,$}function g(k,$){if(k&&$){const V=r($);n.value.splice(V,1,k)}else k&&n.value.push(k)}function y(k){const $=r(k);$>-1&&n.value.splice($,1)}return{autoLabelWidth:e,registerLabelWidth:g,deregisterLabelWidth:y}}const filterFields=(n,e)=>{const r=castArray$1(e);return r.length>0?n.filter(g=>g.prop&&r.includes(g.prop)):n},COMPONENT_NAME$m="ElForm",__default__$1z=defineComponent({name:COMPONENT_NAME$m}),_sfc_main$3c=defineComponent({...__default__$1z,props:formProps,emits:formEmits,setup(n,{expose:e,emit:r}){const g=n,y=[],k=useFormSize(),$=useNamespace("form"),V=computed(()=>{const{labelPosition:Oe,inline:xe}=g;return[$.b(),$.m(k.value||"default"),{[$.m(`label-${Oe}`)]:Oe,[$.m("inline")]:xe}]}),L=Oe=>{y.push(Oe)},z=Oe=>{Oe.prop&&y.splice(y.indexOf(Oe),1)},j=(Oe=[])=>{g.model&&filterFields(y,Oe).forEach(xe=>xe.resetField())},re=(Oe=[])=>{filterFields(y,Oe).forEach(xe=>xe.clearValidate())},oe=computed(()=>!!g.model),ae=Oe=>{if(y.length===0)return[];const xe=filterFields(y,Oe);return xe.length?xe:[]},de=async Oe=>pe(void 0,Oe),ue=async(Oe=[])=>{if(!oe.value)return!1;const xe=ae(Oe);if(xe.length===0)return!0;let $e={};for(const Ne of xe)try{await Ne.validate("")}catch(Ce){$e={...$e,...Ce}}return Object.keys($e).length===0?!0:Promise.reject($e)},pe=async(Oe=[],xe)=>{const $e=!isFunction$3(xe);try{const Ne=await ue(Oe);return Ne===!0&&xe?.(Ne),Ne}catch(Ne){if(Ne instanceof Error)throw Ne;const Ce=Ne;return g.scrollToError&&he(Object.keys(Ce)[0]),xe?.(!1,Ce),$e&&Promise.reject(Ce)}},he=Oe=>{var xe;const $e=filterFields(y,Oe)[0];$e&&((xe=$e.$el)==null||xe.scrollIntoView(g.scrollIntoViewOptions))};return watch(()=>g.rules,()=>{g.validateOnRuleChange&&de().catch(Oe=>void 0)},{deep:!0}),provide(formContextKey,reactive({...toRefs(g),emit:r,resetFields:j,clearValidate:re,validateField:pe,addField:L,removeField:z,...useFormLabelWidth()})),e({validate:de,validateField:pe,resetFields:j,clearValidate:re,scrollToField:he}),(Oe,xe)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(V))},[renderSlot(Oe.$slots,"default")],2))}});var Form=_export_sfc$1(_sfc_main$3c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]),define_process_env_default$1={};function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(n[g]=r[g])}return n},_extends.apply(this,arguments)}function _inheritsLoose(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_setPrototypeOf(n,e)}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(n)}function _setPrototypeOf(n,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,y){return g.__proto__=y,g},_setPrototypeOf(n,e)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(n,e,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(y,k,$){var V=[null];V.push.apply(V,k);var L=Function.bind.apply(y,V),z=new L;return $&&_setPrototypeOf(z,$.prototype),z},_construct.apply(null,arguments)}function _isNativeFunction(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function _wrapNativeSuper(n){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(g){if(g===null||!_isNativeFunction(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(g))return e.get(g);e.set(g,y)}function y(){return _construct(g,arguments,_getPrototypeOf(this).constructor)}return y.prototype=Object.create(g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(y,g)},_wrapNativeSuper(n)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process<"u";function convertFieldsError(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var g=r.field;e[g]=e[g]||[],e[g].push(r)}),e}function format$2(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),g=1;g<e;g++)r[g-1]=arguments[g];var y=0,k=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var $=n.replace(formatRegExp,function(V){if(V==="%%")return"%";if(y>=k)return V;switch(V){case"%s":return String(r[y++]);case"%d":return Number(r[y++]);case"%j":try{return JSON.stringify(r[y++])}catch{return"[Circular]"}break;default:return V}});return $}return n}function isNativeStringType(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function isEmptyValue(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||isNativeStringType(e)&&typeof n=="string"&&!n)}function asyncParallelArray(n,e,r){var g=[],y=0,k=n.length;function $(V){g.push.apply(g,V||[]),y++,y===k&&r(g)}n.forEach(function(V){e(V,$)})}function asyncSerialArray(n,e,r){var g=0,y=n.length;function k($){if($&&$.length){r($);return}var V=g;g=g+1,V<y?e(n[V],k):r([])}k([])}function flattenObjArr(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,n[r]||[])}),e}var AsyncValidationError=function(n){_inheritsLoose(e,n);function e(r,g){var y;return y=n.call(this,"Async Validation Error")||this,y.errors=r,y.fields=g,y}return e}(_wrapNativeSuper(Error));function asyncMap(n,e,r,g,y){if(e.first){var k=new Promise(function(oe,ae){var de=function(he){return g(he),he.length?ae(new AsyncValidationError(he,convertFieldsError(he))):oe(y)},ue=flattenObjArr(n);asyncSerialArray(ue,r,de)});return k.catch(function(oe){return oe}),k}var $=e.firstFields===!0?Object.keys(n):e.firstFields||[],V=Object.keys(n),L=V.length,z=0,j=[],re=new Promise(function(oe,ae){var de=function(pe){if(j.push.apply(j,pe),z++,z===L)return g(j),j.length?ae(new AsyncValidationError(j,convertFieldsError(j))):oe(y)};V.length||(g(j),oe(y)),V.forEach(function(ue){var pe=n[ue];$.indexOf(ue)!==-1?asyncSerialArray(pe,r,de):asyncParallelArray(pe,r,de)})});return re.catch(function(oe){return oe}),re}function isErrorObj(n){return!!(n&&n.message!==void 0)}function getValue(n,e){for(var r=n,g=0;g<e.length;g++){if(r==null)return r;r=r[e[g]]}return r}function complementError(n,e){return function(r){var g;return n.fullFields?g=getValue(e,n.fullFields):g=e[r.field||n.fullField],isErrorObj(r)?(r.field=r.field||n.fullField,r.fieldValue=g,r):{message:typeof r=="function"?r():r,fieldValue:g,field:r.field||n.fullField}}}function deepMerge(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var g=e[r];typeof g=="object"&&typeof n[r]=="object"?n[r]=_extends({},n[r],g):n[r]=g}}return n}var required$1=function(e,r,g,y,k,$){e.required&&(!g.hasOwnProperty(e.field)||isEmptyValue(r,$||e.type))&&y.push(format$2(k.messages.required,e.fullField))},whitespace=function(e,r,g,y,k){(/^\s+$/.test(r)||r==="")&&y.push(format$2(k.messages.whitespace,e.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var n="[a-fA-F\\d:]",e=function($e){return $e&&$e.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",g="[a-fA-F\\d]{1,4}",y=(`
(?:
(?:`+g+":){7}(?:"+g+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+g+":){6}(?:"+r+"|:"+g+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+g+":){5}(?::"+r+"|(?::"+g+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+g+":){4}(?:(?::"+g+"){0,1}:"+r+"|(?::"+g+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+g+":){3}(?:(?::"+g+"){0,2}:"+r+"|(?::"+g+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+g+":){2}(?:(?::"+g+"){0,3}:"+r+"|(?::"+g+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+g+":){1}(?:(?::"+g+"){0,4}:"+r+"|(?::"+g+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+g+"){0,5}:"+r+"|(?::"+g+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),k=new RegExp("(?:^"+r+"$)|(?:^"+y+"$)"),$=new RegExp("^"+r+"$"),V=new RegExp("^"+y+"$"),L=function($e){return $e&&$e.exact?k:new RegExp("(?:"+e($e)+r+e($e)+")|(?:"+e($e)+y+e($e)+")","g")};L.v4=function(xe){return xe&&xe.exact?$:new RegExp(""+e(xe)+r+e(xe),"g")},L.v6=function(xe){return xe&&xe.exact?V:new RegExp(""+e(xe)+y+e(xe),"g")};var z="(?:(?:[a-z]+:)?//)",j="(?:\\S+(?::\\S*)?@)?",re=L.v4().source,oe=L.v6().source,ae="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",de="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",ue="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",pe="(?::\\d{2,5})?",he='(?:[/?#][^\\s"]*)?',Oe="(?:"+z+"|www\\.)"+j+"(?:localhost|"+re+"|"+oe+"|"+ae+de+ue+")"+pe+he;return urlReg=new RegExp("(?:^"+Oe+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types$1={integer:function(e){return types$1.number(e)&&parseInt(e,10)===e},float:function(e){return types$1.number(e)&&!types$1.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!types$1.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(pattern$2.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(getUrlRegex())},hex:function(e){return typeof e=="string"&&!!e.match(pattern$2.hex)}},type$1=function(e,r,g,y,k){if(e.required&&r===void 0){required$1(e,r,g,y,k);return}var $=["integer","float","array","regexp","object","method","email","number","date","url","hex"],V=e.type;$.indexOf(V)>-1?types$1[V](r)||y.push(format$2(k.messages.types[V],e.fullField,e.type)):V&&typeof r!==e.type&&y.push(format$2(k.messages.types[V],e.fullField,e.type))},range=function(e,r,g,y,k){var $=typeof e.len=="number",V=typeof e.min=="number",L=typeof e.max=="number",z=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=r,re=null,oe=typeof r=="number",ae=typeof r=="string",de=Array.isArray(r);if(oe?re="number":ae?re="string":de&&(re="array"),!re)return!1;de&&(j=r.length),ae&&(j=r.replace(z,"_").length),$?j!==e.len&&y.push(format$2(k.messages[re].len,e.fullField,e.len)):V&&!L&&j<e.min?y.push(format$2(k.messages[re].min,e.fullField,e.min)):L&&!V&&j>e.max?y.push(format$2(k.messages[re].max,e.fullField,e.max)):V&&L&&(j<e.min||j>e.max)&&y.push(format$2(k.messages[re].range,e.fullField,e.min,e.max))},ENUM$1="enum",enumerable$1=function(e,r,g,y,k){e[ENUM$1]=Array.isArray(e[ENUM$1])?e[ENUM$1]:[],e[ENUM$1].indexOf(r)===-1&&y.push(format$2(k.messages[ENUM$1],e.fullField,e[ENUM$1].join(", ")))},pattern$1=function(e,r,g,y,k){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||y.push(format$2(k.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var $=new RegExp(e.pattern);$.test(r)||y.push(format$2(k.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string$1=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r,"string")&&!e.required)return g();rules.required(e,r,y,$,k,"string"),isEmptyValue(r,"string")||(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k),rules.pattern(e,r,y,$,k),e.whitespace===!0&&rules.whitespace(e,r,y,$,k))}g($)},method2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules.type(e,r,y,$,k)}g($)},number2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(r===""&&(r=void 0),isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},_boolean=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules.type(e,r,y,$,k)}g($)},regexp2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),isEmptyValue(r)||rules.type(e,r,y,$,k)}g($)},integer2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},floatFn=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},array2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(r==null&&!e.required)return g();rules.required(e,r,y,$,k,"array"),r!=null&&(rules.type(e,r,y,$,k),rules.range(e,r,y,$,k))}g($)},object2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules.type(e,r,y,$,k)}g($)},ENUM="enum",enumerable2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k),r!==void 0&&rules[ENUM](e,r,y,$,k)}g($)},pattern2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r,"string")&&!e.required)return g();rules.required(e,r,y,$,k),isEmptyValue(r,"string")||rules.pattern(e,r,y,$,k)}g($)},date2=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r,"date")&&!e.required)return g();if(rules.required(e,r,y,$,k),!isEmptyValue(r,"date")){var L;r instanceof Date?L=r:L=new Date(r),rules.type(e,L,y,$,k),L&&rules.range(e,L.getTime(),y,$,k)}}g($)},required2=function(e,r,g,y,k){var $=[],V=Array.isArray(r)?"array":typeof r;rules.required(e,r,y,$,k,V),g($)},type2=function(e,r,g,y,k){var $=e.type,V=[],L=e.required||!e.required&&y.hasOwnProperty(e.field);if(L){if(isEmptyValue(r,$)&&!e.required)return g();rules.required(e,r,y,V,k,$),isEmptyValue(r,$)||rules.type(e,r,y,V,k)}g(V)},any=function(e,r,g,y,k){var $=[],V=e.required||!e.required&&y.hasOwnProperty(e.field);if(V){if(isEmptyValue(r)&&!e.required)return g();rules.required(e,r,y,$,k)}g($)},validators={string:string$1,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var messages$1=newMessages(),Schema=function(){function n(r){this.rules=null,this._messages=messages$1,this.define(r)}var e=n.prototype;return e.define=function(g){var y=this;if(!g)throw new Error("Cannot configure a schema with no rules");if(typeof g!="object"||Array.isArray(g))throw new Error("Rules must be an object");this.rules={},Object.keys(g).forEach(function(k){var $=g[k];y.rules[k]=Array.isArray($)?$:[$]})},e.messages=function(g){return g&&(this._messages=deepMerge(newMessages(),g)),this._messages},e.validate=function(g,y,k){var $=this;y===void 0&&(y={}),k===void 0&&(k=function(){});var V=g,L=y,z=k;if(typeof L=="function"&&(z=L,L={}),!this.rules||Object.keys(this.rules).length===0)return z&&z(null,V),Promise.resolve(V);function j(ue){var pe=[],he={};function Oe($e){if(Array.isArray($e)){var Ne;pe=(Ne=pe).concat.apply(Ne,$e)}else pe.push($e)}for(var xe=0;xe<ue.length;xe++)Oe(ue[xe]);pe.length?(he=convertFieldsError(pe),z(pe,he)):z(null,V)}if(L.messages){var re=this.messages();re===messages$1&&(re=newMessages()),deepMerge(re,L.messages),L.messages=re}else L.messages=this.messages();var oe={},ae=L.keys||Object.keys(this.rules);ae.forEach(function(ue){var pe=$.rules[ue],he=V[ue];pe.forEach(function(Oe){var xe=Oe;typeof xe.transform=="function"&&(V===g&&(V=_extends({},V)),he=V[ue]=xe.transform(he)),typeof xe=="function"?xe={validator:xe}:xe=_extends({},xe),xe.validator=$.getValidationMethod(xe),xe.validator&&(xe.field=ue,xe.fullField=xe.fullField||ue,xe.type=$.getType(xe),oe[ue]=oe[ue]||[],oe[ue].push({rule:xe,value:he,source:V,field:ue}))})});var de={};return asyncMap(oe,L,function(ue,pe){var he=ue.rule,Oe=(he.type==="object"||he.type==="array")&&(typeof he.fields=="object"||typeof he.defaultField=="object");Oe=Oe&&(he.required||!he.required&&ue.value),he.field=ue.field;function xe(Ce,Fe){return _extends({},Fe,{fullField:he.fullField+"."+Ce,fullFields:he.fullFields?[].concat(he.fullFields,[Ce]):[Ce]})}function $e(Ce){Ce===void 0&&(Ce=[]);var Fe=Array.isArray(Ce)?Ce:[Ce];!L.suppressWarning&&Fe.length&&n.warning("async-validator:",Fe),Fe.length&&he.message!==void 0&&(Fe=[].concat(he.message));var ze=Fe.map(complementError(he,V));if(L.first&&ze.length)return de[he.field]=1,pe(ze);if(!Oe)pe(ze);else{if(he.required&&!ue.value)return he.message!==void 0?ze=[].concat(he.message).map(complementError(he,V)):L.error&&(ze=[L.error(he,format$2(L.messages.required,he.field))]),pe(ze);var kt={};he.defaultField&&Object.keys(ue.value).map(function(Dt){kt[Dt]=he.defaultField}),kt=_extends({},kt,ue.rule.fields);var At={};Object.keys(kt).forEach(function(Dt){var On=kt[Dt],jt=Array.isArray(On)?On:[On];At[Dt]=jt.map(xe.bind(null,Dt))});var Cn=new n(At);Cn.messages(L.messages),ue.rule.options&&(ue.rule.options.messages=L.messages,ue.rule.options.error=L.error),Cn.validate(ue.value,ue.rule.options||L,function(Dt){var On=[];ze&&ze.length&&On.push.apply(On,ze),Dt&&Dt.length&&On.push.apply(On,Dt),pe(On.length?On:null)})}}var Ne;if(he.asyncValidator)Ne=he.asyncValidator(he,ue.value,$e,ue.source,L);else if(he.validator){try{Ne=he.validator(he,ue.value,$e,ue.source,L)}catch(Ce){console.error?.(Ce),L.suppressValidatorError||setTimeout(function(){throw Ce},0),$e(Ce.message)}Ne===!0?$e():Ne===!1?$e(typeof he.message=="function"?he.message(he.fullField||he.field):he.message||(he.fullField||he.field)+" fails"):Ne instanceof Array?$e(Ne):Ne instanceof Error&&$e(Ne.message)}Ne&&Ne.then&&Ne.then(function(){return $e()},function(Ce){return $e(Ce)})},function(ue){j(ue)},V)},e.getType=function(g){if(g.type===void 0&&g.pattern instanceof RegExp&&(g.type="pattern"),typeof g.validator!="function"&&g.type&&!validators.hasOwnProperty(g.type))throw new Error(format$2("Unknown rule type %s",g.type));return g.type||"string"},e.getValidationMethod=function(g){if(typeof g.validator=="function")return g.validator;var y=Object.keys(g),k=y.indexOf("message");return k!==-1&&y.splice(k,1),y.length===1&&y[0]==="required"?validators.required:validators[this.getType(g)]||void 0},n}();Schema.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[e]=r};Schema.warning=warning;Schema.messages=messages$1;Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$l="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$l,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const r=inject(formContextKey,void 0),g=inject(formItemContextKey);g||throwError(COMPONENT_NAME$l,"usage: <el-form-item><label-wrap /></el-form-item>");const y=useNamespace("form"),k=ref(),$=ref(0),V=()=>{var j;if((j=k.value)!=null&&j.firstElementChild){const re=window.getComputedStyle(k.value.firstElementChild).width;return Math.ceil(Number.parseFloat(re))}else return 0},L=(j="update")=>{nextTick(()=>{e.default&&n.isAutoWidth&&(j==="update"?$.value=V():j==="remove"&&r?.deregisterLabelWidth($.value))})},z=()=>L("update");return onMounted(()=>{z()}),onBeforeUnmount(()=>{L("remove")}),onUpdated(()=>z()),watch($,(j,re)=>{n.updateAll&&r?.registerLabelWidth(j,re)}),useResizeObserver(computed(()=>{var j,re;return(re=(j=k.value)==null?void 0:j.firstElementChild)!=null?re:null}),z),()=>{var j,re;if(!e)return null;const{isAutoWidth:oe}=n;if(oe){const ae=r?.autoLabelWidth,de=g?.hasLabel,ue={};if(de&&ae&&ae!=="auto"){const pe=Math.max(0,Number.parseInt(ae,10)-$.value),he=r.labelPosition==="left"?"marginRight":"marginLeft";pe&&(ue[he]=`${pe}px`)}return createVNode("div",{ref:k,class:[y.be("item","label-wrap")],style:ue},[(j=e.default)==null?void 0:j.call(e)])}else return createVNode(Fragment,{ref:k},[(re=e.default)==null?void 0:re.call(e)])}}});const _hoisted_1$1_=["role","aria-labelledby"],__default__$1y=defineComponent({name:"ElFormItem"}),_sfc_main$3b=defineComponent({...__default__$1y,props:formItemProps,setup(n,{expose:e}){const r=n,g=useSlots(),y=inject(formContextKey,void 0),k=inject(formItemContextKey,void 0),$=useFormSize(void 0,{formItem:!1}),V=useNamespace("form-item"),L=useId().value,z=ref([]),j=ref(""),re=refDebounced(j,100),oe=ref(""),ae=ref();let de,ue=!1;const pe=computed(()=>{if(y?.labelPosition==="top")return{};const En=addUnit(r.labelWidth||y?.labelWidth||"");return En?{width:En}:{}}),he=computed(()=>{if(y?.labelPosition==="top"||y?.inline)return{};if(!r.label&&!r.labelWidth&&kt)return{};const En=addUnit(r.labelWidth||y?.labelWidth||"");return!r.label&&!g.label?{marginLeft:En}:{}}),Oe=computed(()=>[V.b(),V.m($.value),V.is("error",j.value==="error"),V.is("validating",j.value==="validating"),V.is("success",j.value==="success"),V.is("required",jt.value||r.required),V.is("no-asterisk",y?.hideRequiredAsterisk),y?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[V.m("feedback")]:y?.statusIcon}]),xe=computed(()=>isBoolean$1(r.inlineMessage)?r.inlineMessage:y?.inlineMessage||!1),$e=computed(()=>[V.e("error"),{[V.em("error","inline")]:xe.value}]),Ne=computed(()=>r.prop?isString$3(r.prop)?r.prop:r.prop.join("."):""),Ce=computed(()=>!!(r.label||g.label)),Fe=computed(()=>r.for||z.value.length===1?z.value[0]:void 0),ze=computed(()=>!Fe.value&&Ce.value),kt=!!k,At=computed(()=>{const En=y?.model;if(!(!En||!r.prop))return getProp(En,r.prop).value}),Cn=computed(()=>{const{required:En}=r,jn=[];r.rules&&jn.push(...castArray$1(r.rules));const cr=y?.rules;if(cr&&r.prop){const gr=getProp(cr,r.prop).value;gr&&jn.push(...castArray$1(gr))}if(En!==void 0){const gr=jn.map((Cr,ir)=>[Cr,ir]).filter(([Cr])=>Object.keys(Cr).includes("required"));if(gr.length>0)for(const[Cr,ir]of gr)Cr.required!==En&&(jn[ir]={...Cr,required:En});else jn.push({required:En})}return jn}),Dt=computed(()=>Cn.value.length>0),On=En=>Cn.value.filter(cr=>!cr.trigger||!En?!0:Array.isArray(cr.trigger)?cr.trigger.includes(En):cr.trigger===En).map(({trigger:cr,...gr})=>gr),jt=computed(()=>Cn.value.some(En=>En.required)),An=computed(()=>{var En;return re.value==="error"&&r.showMessage&&((En=y?.showMessage)!=null?En:!0)}),Mn=computed(()=>`${r.label||""}${y?.labelSuffix||""}`),$n=En=>{j.value=En},Ln=En=>{var jn,cr;const{errors:gr,fields:Cr}=En;(!gr||!Cr)&&console.error(En),$n("error"),oe.value=gr?(cr=(jn=gr?.[0])==null?void 0:jn.message)!=null?cr:`${r.prop} is required`:"",y?.emit("validate",r.prop,!1,oe.value)},Tn=()=>{$n("success"),y?.emit("validate",r.prop,!0,"")},Zn=async En=>{const jn=Ne.value;return new Schema({[jn]:En}).validate({[jn]:At.value},{firstFields:!0}).then(()=>(Tn(),!0)).catch(gr=>(Ln(gr),Promise.reject(gr)))},Qn=async(En,jn)=>{if(ue||!r.prop)return!1;const cr=isFunction$3(jn);if(!Dt.value)return jn?.(!1),!1;const gr=On(En);return gr.length===0?(jn?.(!0),!0):($n("validating"),Zn(gr).then(()=>(jn?.(!0),!0)).catch(Cr=>{const{fields:ir}=Cr;return jn?.(!1,ir),cr?!1:Promise.reject(ir)}))},Pn=()=>{$n(""),oe.value="",ue=!1},Wn=async()=>{const En=y?.model;if(!En||!r.prop)return;const jn=getProp(En,r.prop);ue=!0,jn.value=clone(de),await nextTick(),Pn(),ue=!1},ur=En=>{z.value.includes(En)||z.value.push(En)},hr=En=>{z.value=z.value.filter(jn=>jn!==En)};watch(()=>r.error,En=>{oe.value=En||"",$n(En?"error":"")},{immediate:!0}),watch(()=>r.validateStatus,En=>$n(En||""));const Vn=reactive({...toRefs(r),$el:ae,size:$,validateState:j,labelId:L,inputIds:z,isGroup:ze,hasLabel:Ce,addInputId:ur,removeInputId:hr,resetField:Wn,clearValidate:Pn,validate:Qn});return provide(formItemContextKey,Vn),onMounted(()=>{r.prop&&(y?.addField(Vn),de=clone(At.value))}),onBeforeUnmount(()=>{y?.removeField(Vn)}),e({size:$,validateMessage:oe,validateState:j,validate:Qn,clearValidate:Pn,resetField:Wn}),(En,jn)=>{var cr;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:ae,class:normalizeClass(unref(Oe)),role:unref(ze)?"group":void 0,"aria-labelledby":unref(ze)?unref(L):void 0},[createVNode(unref(FormLabelWrap),{"is-auto-width":unref(pe).width==="auto","update-all":((cr=unref(y))==null?void 0:cr.labelWidth)==="auto"},{default:withCtx(()=>[unref(Ce)?(openBlock(),createBlock(resolveDynamicComponent(unref(Fe)?"label":"div"),{key:0,id:unref(L),for:unref(Fe),class:normalizeClass(unref(V).e("label")),style:normalizeStyle(unref(pe))},{default:withCtx(()=>[renderSlot(En.$slots,"label",{label:unref(Mn)},()=>[createTextVNode(toDisplayString$1(unref(Mn)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(V).e("content")),style:normalizeStyle(unref(he))},[renderSlot(En.$slots,"default"),createVNode(TransitionGroup,{name:`${unref(V).namespace.value}-zoom-in-top`},{default:withCtx(()=>[unref(An)?renderSlot(En.$slots,"error",{key:0,error:oe.value},()=>[createBaseVNode("div",{class:normalizeClass(unref($e))},toDisplayString$1(oe.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$1_)}}});var FormItem=_export_sfc$1(_sfc_main$3b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(n){const e=window.getComputedStyle(n),r=e.getPropertyValue("box-sizing"),g=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),y=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map($=>`${$}:${e.getPropertyValue($)}`).join(";"),paddingSize:g,borderSize:y,boxSizing:r}}function calcTextareaHeight(n,e=1,r){var g;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:y,borderSize:k,boxSizing:$,contextStyle:V}=calculateNodeStyling(n);hiddenTextarea.setAttribute("style",`${V};${HIDDEN_STYLE}`),hiddenTextarea.value=n.value||n.placeholder||"";let L=hiddenTextarea.scrollHeight;const z={};$==="border-box"?L=L+k:$==="content-box"&&(L=L-y),hiddenTextarea.value="";const j=hiddenTextarea.scrollHeight-y;if(isNumber$1(e)){let re=j*e;$==="border-box"&&(re=re+y+k),L=Math.max(re,L),z.minHeight=`${re}px`}if(isNumber$1(r)){let re=j*r;$==="border-box"&&(re=re+y+k),L=Math.min(re,L)}return z.height=`${L}px`,(g=hiddenTextarea.parentNode)==null||g.removeChild(hiddenTextarea),hiddenTextarea=void 0,z}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n),input:n=>isString$3(n),change:n=>isString$3(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},_hoisted_1$1Z=["role"],_hoisted_2$1z=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$S=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$1x=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$3a=defineComponent({...__default__$1x,props:inputProps,emits:inputEmits,setup(n,{expose:e,emit:r}){const g=n,y=useAttrs$1(),k=useSlots(),$=computed(()=>{const lr={};return g.containerRole==="combobox"&&(lr["aria-haspopup"]=y["aria-haspopup"],lr["aria-owns"]=y["aria-owns"],lr["aria-expanded"]=y["aria-expanded"]),lr}),V=computed(()=>[g.type==="textarea"?pe.b():ue.b(),ue.m(ae.value),ue.is("disabled",de.value),ue.is("exceed",ur.value),{[ue.b("group")]:k.prepend||k.append,[ue.bm("group","append")]:k.append,[ue.bm("group","prepend")]:k.prepend,[ue.m("prefix")]:k.prefix||g.prefixIcon,[ue.m("suffix")]:k.suffix||g.suffixIcon||g.clearable||g.showPassword,[ue.bm("suffix","password-clear")]:Zn.value&&Qn.value},y.class]),L=computed(()=>[ue.e("wrapper"),ue.is("focus",At.value)]),z=useAttrs({excludeKeys:computed(()=>Object.keys($.value))}),{form:j,formItem:re}=useFormItem(),{inputId:oe}=useFormItemInputId(g,{formItemContext:re}),ae=useFormSize(),de=useFormDisabled(),ue=useNamespace("input"),pe=useNamespace("textarea"),he=shallowRef(),Oe=shallowRef(),xe=ref(!1),$e=ref(!1),Ne=ref(!1),Ce=ref(),Fe=shallowRef(g.inputStyle),ze=computed(()=>he.value||Oe.value),{wrapperRef:kt,isFocused:At,handleFocus:Cn,handleBlur:Dt}=useFocusController(ze,{afterBlur(){var lr;g.validateEvent&&((lr=re?.validate)==null||lr.call(re,"blur").catch(le=>void 0))}}),On=computed(()=>{var lr;return(lr=j?.statusIcon)!=null?lr:!1}),jt=computed(()=>re?.validateState||""),An=computed(()=>jt.value&&ValidateComponentsMap[jt.value]),Mn=computed(()=>Ne.value?view_default:hide_default),$n=computed(()=>[y.style,g.inputStyle]),Ln=computed(()=>[g.inputStyle,Fe.value,{resize:g.resize}]),Tn=computed(()=>isNil(g.modelValue)?"":String(g.modelValue)),Zn=computed(()=>g.clearable&&!de.value&&!g.readonly&&!!Tn.value&&(At.value||xe.value)),Qn=computed(()=>g.showPassword&&!de.value&&!g.readonly&&!!Tn.value&&(!!Tn.value||At.value)),Pn=computed(()=>g.showWordLimit&&!!z.value.maxlength&&(g.type==="text"||g.type==="textarea")&&!de.value&&!g.readonly&&!g.showPassword),Wn=computed(()=>Tn.value.length),ur=computed(()=>!!Pn.value&&Wn.value>Number(z.value.maxlength)),hr=computed(()=>!!k.suffix||!!g.suffixIcon||Zn.value||g.showPassword||Pn.value||!!jt.value&&On.value),[Vn,En]=useCursor(he);useResizeObserver(Oe,lr=>{if(gr(),!Pn.value||g.resize!=="both")return;const le=lr[0],{width:_e}=le.contentRect;Ce.value={right:`calc(100% - ${_e+15+6}px)`}});const jn=()=>{const{type:lr,autosize:le}=g;if(!(!isClient||lr!=="textarea"||!Oe.value))if(le){const _e=isObject$3(le)?le.minRows:void 0,Ie=isObject$3(le)?le.maxRows:void 0,Ue=calcTextareaHeight(Oe.value,_e,Ie);Fe.value={overflowY:"hidden",...Ue},nextTick(()=>{Oe.value.offsetHeight,Fe.value=Ue})}else Fe.value={minHeight:calcTextareaHeight(Oe.value).minHeight}},gr=(lr=>{let le=!1;return()=>{var _e;if(le||!g.autosize)return;((_e=Oe.value)==null?void 0:_e.offsetParent)===null||(lr(),le=!0)}})(jn),Cr=()=>{const lr=ze.value,le=g.formatter?g.formatter(Tn.value):Tn.value;!lr||lr.value===le||(lr.value=le)},ir=async lr=>{Vn();let{value:le}=lr.target;if(g.formatter&&(le=g.parser?g.parser(le):le),!$e.value){if(le===Tn.value){Cr();return}r(UPDATE_MODEL_EVENT,le),r("input",le),await nextTick(),Cr(),En()}},Gn=lr=>{r("change",lr.target.value)},hn=lr=>{r("compositionstart",lr),$e.value=!0},Kn=lr=>{var le;r("compositionupdate",lr);const _e=(le=lr.target)==null?void 0:le.value,Ie=_e[_e.length-1]||"";$e.value=!isKorean(Ie)},Nn=lr=>{r("compositionend",lr),$e.value&&($e.value=!1,ir(lr))},Lt=()=>{Ne.value=!Ne.value,_n()},_n=async()=>{var lr;await nextTick(),(lr=ze.value)==null||lr.focus()},Bn=()=>{var lr;return(lr=ze.value)==null?void 0:lr.blur()},Xn=lr=>{xe.value=!1,r("mouseleave",lr)},rr=lr=>{xe.value=!0,r("mouseenter",lr)},ar=lr=>{r("keydown",lr)},sr=()=>{var lr;(lr=ze.value)==null||lr.select()},mr=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return watch(()=>g.modelValue,()=>{var lr;nextTick(()=>jn()),g.validateEvent&&((lr=re?.validate)==null||lr.call(re,"change").catch(le=>void 0))}),watch(Tn,()=>Cr()),watch(()=>g.type,async()=>{await nextTick(),Cr(),jn()}),onMounted(()=>{!g.formatter&&g.parser,Cr(),nextTick(jn)}),e({input:he,textarea:Oe,ref:ze,textareaStyle:Ln,autosize:toRef(g,"autosize"),focus:_n,blur:Bn,select:sr,clear:mr,resizeTextarea:jn}),(lr,le)=>withDirectives((openBlock(),createElementBlock("div",mergeProps(unref($),{class:unref(V),style:unref($n),role:lr.containerRole,onMouseenter:rr,onMouseleave:Xn}),[createCommentVNode(" input "),lr.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),lr.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(ue).be("group","prepend"))},[renderSlot(lr.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:kt,class:normalizeClass(unref(L))},[createCommentVNode(" prefix slot "),lr.$slots.prefix||lr.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ue).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(ue).e("prefix-inner"))},[renderSlot(lr.$slots,"prefix"),lr.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ue).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(lr.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(oe),ref_key:"input",ref:he,class:unref(ue).e("inner")},unref(z),{type:lr.showPassword?Ne.value?"text":"password":lr.type,disabled:unref(de),formatter:lr.formatter,parser:lr.parser,readonly:lr.readonly,autocomplete:lr.autocomplete,tabindex:lr.tabindex,"aria-label":lr.label,placeholder:lr.placeholder,style:lr.inputStyle,form:g.form,onCompositionstart:hn,onCompositionupdate:Kn,onCompositionend:Nn,onInput:ir,onFocus:le[0]||(le[0]=(..._e)=>unref(Cn)&&unref(Cn)(..._e)),onBlur:le[1]||(le[1]=(..._e)=>unref(Dt)&&unref(Dt)(..._e)),onChange:Gn,onKeydown:ar}),null,16,_hoisted_2$1z),createCommentVNode(" suffix slot "),unref(hr)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(ue).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(ue).e("suffix-inner"))},[!unref(Zn)||!unref(Qn)||!unref(Pn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(lr.$slots,"suffix"),lr.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ue).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(lr.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Zn)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(ue).e("icon"),unref(ue).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:mr},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(Qn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(ue).e("icon"),unref(ue).e("password")]),onClick:Lt},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Mn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(Pn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(ue).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(ue).e("count-inner"))},toDisplayString$1(unref(Wn))+" / "+toDisplayString$1(unref(z).maxlength),3)],2)):createCommentVNode("v-if",!0),unref(jt)&&unref(An)&&unref(On)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(ue).e("icon"),unref(ue).e("validateIcon"),unref(ue).is("loading",unref(jt)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(An))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),lr.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(ue).be("group","append"))},[renderSlot(lr.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(oe),ref_key:"textarea",ref:Oe,class:unref(pe).e("inner")},unref(z),{tabindex:lr.tabindex,disabled:unref(de),readonly:lr.readonly,autocomplete:lr.autocomplete,style:unref(Ln),"aria-label":lr.label,placeholder:lr.placeholder,form:g.form,onCompositionstart:hn,onCompositionupdate:Kn,onCompositionend:Nn,onInput:ir,onFocus:le[2]||(le[2]=(..._e)=>unref(Cn)&&unref(Cn)(..._e)),onBlur:le[3]||(le[3]=(..._e)=>unref(Dt)&&unref(Dt)(..._e)),onChange:Gn,onKeydown:ar}),null,16,_hoisted_3$S),unref(Pn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(Ce.value),class:normalizeClass(unref(ue).e("count"))},toDisplayString$1(unref(Wn))+" / "+toDisplayString$1(unref(z).maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$1Z)),[[vShow,lr.type!=="hidden"]])}});var Input=_export_sfc$1(_sfc_main$3a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle$1=({move:n,size:e,bar:r})=>({[r.size]:e,transform:`translate${r.axis}(${n}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$k="Thumb",_sfc_main$39=defineComponent({__name:"thumb",props:thumbProps,setup(n){const e=n,r=inject(scrollbarContextKey),g=useNamespace("scrollbar");r||throwError(COMPONENT_NAME$k,"can not inject scrollbar context");const y=ref(),k=ref(),$=ref({}),V=ref(!1);let L=!1,z=!1,j=isClient?document.onselectstart:null;const re=computed(()=>BAR_MAP[e.vertical?"vertical":"horizontal"]),oe=computed(()=>renderThumbStyle$1({size:e.size,move:e.move,bar:re.value})),ae=computed(()=>y.value[re.value.offset]**2/r.wrapElement[re.value.scrollSize]/e.ratio/k.value[re.value.offset]),de=Ce=>{var Fe;if(Ce.stopPropagation(),Ce.ctrlKey||[1,2].includes(Ce.button))return;(Fe=window.getSelection())==null||Fe.removeAllRanges(),pe(Ce);const ze=Ce.currentTarget;ze&&($.value[re.value.axis]=ze[re.value.offset]-(Ce[re.value.client]-ze.getBoundingClientRect()[re.value.direction]))},ue=Ce=>{if(!k.value||!y.value||!r.wrapElement)return;const Fe=Math.abs(Ce.target.getBoundingClientRect()[re.value.direction]-Ce[re.value.client]),ze=k.value[re.value.offset]/2,kt=(Fe-ze)*100*ae.value/y.value[re.value.offset];r.wrapElement[re.value.scroll]=kt*r.wrapElement[re.value.scrollSize]/100},pe=Ce=>{Ce.stopImmediatePropagation(),L=!0,document.addEventListener("mousemove",he),document.addEventListener("mouseup",Oe),j=document.onselectstart,document.onselectstart=()=>!1},he=Ce=>{if(!y.value||!k.value||L===!1)return;const Fe=$.value[re.value.axis];if(!Fe)return;const ze=(y.value.getBoundingClientRect()[re.value.direction]-Ce[re.value.client])*-1,kt=k.value[re.value.offset]-Fe,At=(ze-kt)*100*ae.value/y.value[re.value.offset];r.wrapElement[re.value.scroll]=At*r.wrapElement[re.value.scrollSize]/100},Oe=()=>{L=!1,$.value[re.value.axis]=0,document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",Oe),Ne(),z&&(V.value=!1)},xe=()=>{z=!1,V.value=!!e.size},$e=()=>{z=!0,V.value=L};onBeforeUnmount(()=>{Ne(),document.removeEventListener("mouseup",Oe)});const Ne=()=>{document.onselectstart!==j&&(document.onselectstart=j)};return useEventListener(toRef(r,"scrollbarElement"),"mousemove",xe),useEventListener(toRef(r,"scrollbarElement"),"mouseleave",$e),(Ce,Fe)=>(openBlock(),createBlock(Transition,{name:unref(g).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:y,class:normalizeClass([unref(g).e("bar"),unref(g).is(unref(re).key)]),onMousedown:ue},[createBaseVNode("div",{ref_key:"thumb",ref:k,class:normalizeClass(unref(g).e("thumb")),style:normalizeStyle(unref(oe)),onMousedown:de},null,38)],34),[[vShow,Ce.always||V.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$39,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$38=defineComponent({__name:"bar",props:barProps,setup(n,{expose:e}){const r=n,g=ref(0),y=ref(0);return e({handleScroll:$=>{if($){const V=$.offsetHeight-GAP,L=$.offsetWidth-GAP;y.value=$.scrollTop*100/V*r.ratioY,g.value=$.scrollLeft*100/L*r.ratioX}}}),($,V)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Thumb,{move:g.value,ratio:$.ratioX,size:$.width,always:$.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:y.value,ratio:$.ratioY,size:$.height,vertical:"",always:$.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$38,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(isNumber$1)},COMPONENT_NAME$j="ElScrollbar",__default__$1w=defineComponent({name:COMPONENT_NAME$j}),_sfc_main$37=defineComponent({...__default__$1w,props:scrollbarProps,emits:scrollbarEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("scrollbar");let k,$;const V=ref(),L=ref(),z=ref(),j=ref("0"),re=ref("0"),oe=ref(),ae=ref(1),de=ref(1),ue=computed(()=>{const Fe={};return g.height&&(Fe.height=addUnit(g.height)),g.maxHeight&&(Fe.maxHeight=addUnit(g.maxHeight)),[g.wrapStyle,Fe]}),pe=computed(()=>[g.wrapClass,y.e("wrap"),{[y.em("wrap","hidden-default")]:!g.native}]),he=computed(()=>[y.e("view"),g.viewClass]),Oe=()=>{var Fe;L.value&&((Fe=oe.value)==null||Fe.handleScroll(L.value),r("scroll",{scrollTop:L.value.scrollTop,scrollLeft:L.value.scrollLeft}))};function xe(Fe,ze){isObject$3(Fe)?L.value.scrollTo(Fe):isNumber$1(Fe)&&isNumber$1(ze)&&L.value.scrollTo(Fe,ze)}const $e=Fe=>{isNumber$1(Fe)&&(L.value.scrollTop=Fe)},Ne=Fe=>{isNumber$1(Fe)&&(L.value.scrollLeft=Fe)},Ce=()=>{if(!L.value)return;const Fe=L.value.offsetHeight-GAP,ze=L.value.offsetWidth-GAP,kt=Fe**2/L.value.scrollHeight,At=ze**2/L.value.scrollWidth,Cn=Math.max(kt,g.minSize),Dt=Math.max(At,g.minSize);ae.value=kt/(Fe-kt)/(Cn/(Fe-Cn)),de.value=At/(ze-At)/(Dt/(ze-Dt)),re.value=Cn+GAP<Fe?`${Cn}px`:"",j.value=Dt+GAP<ze?`${Dt}px`:""};return watch(()=>g.noresize,Fe=>{Fe?(k?.(),$?.()):({stop:k}=useResizeObserver(z,Ce),$=useEventListener("resize",Ce))},{immediate:!0}),watch(()=>[g.maxHeight,g.height],()=>{g.native||nextTick(()=>{var Fe;Ce(),L.value&&((Fe=oe.value)==null||Fe.handleScroll(L.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:V,wrapElement:L})),onMounted(()=>{g.native||nextTick(()=>{Ce()})}),onUpdated(()=>Ce()),e({wrapRef:L,update:Ce,scrollTo:xe,setScrollTop:$e,setScrollLeft:Ne,handleScroll:Oe}),(Fe,ze)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:V,class:normalizeClass(unref(y).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:L,class:normalizeClass(unref(pe)),style:normalizeStyle(unref(ue)),onScroll:Oe},[(openBlock(),createBlock(resolveDynamicComponent(Fe.tag),{ref_key:"resizeRef",ref:z,class:normalizeClass(unref(he)),style:normalizeStyle(Fe.viewStyle)},{default:withCtx(()=>[renderSlot(Fe.$slots,"default")]),_:3},8,["class","style"]))],38),Fe.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:oe,height:re.value,width:j.value,always:Fe.always,"ratio-x":de.value,"ratio-y":ae.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$37,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$1v=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$36=defineComponent({...__default__$1v,props:popperProps,setup(n,{expose:e}){const r=n,g=ref(),y=ref(),k=ref(),$=ref(),V=computed(()=>r.role),L={triggerRef:g,popperInstanceRef:y,contentRef:k,referenceRef:$,role:V};return e(L),provide(POPPER_INJECTION_KEY,L),(z,j)=>renderSlot(z.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$36,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$1u=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$35=defineComponent({...__default__$1u,props:popperArrowProps,setup(n,{expose:e}){const r=n,g=useNamespace("popper"),{arrowOffset:y,arrowRef:k,arrowStyle:$}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>r.arrowOffset,V=>{y.value=V}),onBeforeUnmount(()=>{k.value=void 0}),e({arrowRef:k}),(V,L)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:k,class:normalizeClass(unref(g).e("arrow")),style:normalizeStyle(unref($)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc$1(_sfc_main$35,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(n,{slots:e,attrs:r}){var g;const y=inject(FORWARD_REF_INJECTION_KEY),k=useForwardRefDirective((g=y?.setForwardRef)!=null?g:NOOP);return()=>{var $;const V=($=e.default)==null?void 0:$.call(e,r);if(!V||V.length>1)return null;const L=findFirstLegitChild(V);return L?withDirectives(cloneVNode(L,r),[[k]]):null}}});function findFirstLegitChild(n){if(!n)return null;const e=n;for(const r of e){if(isObject$3(r))switch(r.type){case Comment:continue;case Text$2:case"svg":return wrapTextContent(r);case Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(n){const e=useNamespace("only-child");return createVNode("span",{class:e.e("content")},[n])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$1t=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$34=defineComponent({...__default__$1t,props:popperTriggerProps,setup(n,{expose:e}){const r=n,{role:g,triggerRef:y}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(y);const k=computed(()=>V.value?r.id:void 0),$=computed(()=>{if(g&&g.value==="tooltip")return r.open&&r.id?r.id:void 0}),V=computed(()=>{if(g&&g.value!=="tooltip")return g.value}),L=computed(()=>V.value?`${r.open}`:void 0);let z;return onMounted(()=>{watch(()=>r.virtualRef,j=>{j&&(y.value=unrefElement(j))},{immediate:!0}),watch(y,(j,re)=>{z?.(),z=void 0,isElement$1(j)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(oe=>{var ae;const de=r[oe];de&&(j.addEventListener(oe.slice(2).toLowerCase(),de),(ae=re?.removeEventListener)==null||ae.call(re,oe.slice(2).toLowerCase(),de))}),z=watch([k,$,V,L],oe=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((ae,de)=>{isNil(oe[de])?j.removeAttribute(ae):j.setAttribute(ae,oe[de])})},{immediate:!0})),isElement$1(re)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(oe=>re.removeAttribute(oe))},{immediate:!0})}),onBeforeUnmount(()=>{z?.(),z=void 0}),e({triggerRef:y}),(j,re)=>j.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},j.$attrs,{"aria-controls":unref(k),"aria-describedby":unref($),"aria-expanded":unref(L),"aria-haspopup":unref(V)}),{default:withCtx(()=>[renderSlot(j.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$34,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=n=>{const e=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:g=>{const y=g.tagName==="INPUT"&&g.type==="hidden";return g.disabled||g.hidden||y?NodeFilter.FILTER_SKIP:g.tabIndex>=0||g===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},getVisibleElement=(n,e)=>{for(const r of n)if(!isHidden(r,e))return r},isHidden=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},getEdges=n=>{const e=obtainAllFocusableElements(n),r=getVisibleElement(e,n),g=getVisibleElement(e.reverse(),n);return[r,g]},isSelectable=n=>n instanceof HTMLInputElement&&"select"in n,tryFocus=(n,e)=>{if(n&&n.focus){const r=document.activeElement;n.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),n!==r&&isSelectable(n)&&e&&n.select()}};function removeFromStack(n,e){const r=[...n],g=n.indexOf(e);return g!==-1&&r.splice(g,1),r}const createFocusableStack=()=>{let n=[];return{push:g=>{const y=n[0];y&&g!==y&&y.pause(),n=removeFromStack(n,g),n.unshift(g)},remove:g=>{var y,k;n=removeFromStack(n,g),(k=(y=n[0])==null?void 0:y.resume)==null||k.call(y)}}},focusFirstDescendant=(n,e=!1)=>{const r=document.activeElement;for(const g of n)if(tryFocus(g,e),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=n=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:n}),_sfc_main$33=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const r=ref();let g,y;const{focusReason:k}=useFocusReason();useEscapeKeydown(de=>{n.trapped&&!$.paused&&e("release-requested",de)});const $={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},V=de=>{if(!n.loop&&!n.trapped||$.paused)return;const{key:ue,altKey:pe,ctrlKey:he,metaKey:Oe,currentTarget:xe,shiftKey:$e}=de,{loop:Ne}=n,Ce=ue===EVENT_CODE.tab&&!pe&&!he&&!Oe,Fe=document.activeElement;if(Ce&&Fe){const ze=xe,[kt,At]=getEdges(ze);if(kt&&At){if(!$e&&Fe===At){const Dt=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",Dt),Dt.defaultPrevented||(de.preventDefault(),Ne&&tryFocus(kt,!0))}else if($e&&[kt,ze].includes(Fe)){const Dt=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",Dt),Dt.defaultPrevented||(de.preventDefault(),Ne&&tryFocus(At,!0))}}else if(Fe===ze){const Dt=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",Dt),Dt.defaultPrevented||de.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:V}),watch(()=>n.focusTrapEl,de=>{de&&(r.value=de)},{immediate:!0}),watch([r],([de],[ue])=>{de&&(de.addEventListener("keydown",V),de.addEventListener("focusin",j),de.addEventListener("focusout",re)),ue&&(ue.removeEventListener("keydown",V),ue.removeEventListener("focusin",j),ue.removeEventListener("focusout",re))});const L=de=>{e(ON_TRAP_FOCUS_EVT,de)},z=de=>e(ON_RELEASE_FOCUS_EVT,de),j=de=>{const ue=unref(r);if(!ue)return;const pe=de.target,he=de.relatedTarget,Oe=pe&&ue.contains(pe);n.trapped||he&&ue.contains(he)||(g=he),Oe&&e("focusin",de),!$.paused&&n.trapped&&(Oe?y=pe:tryFocus(y,!0))},re=de=>{const ue=unref(r);if(!($.paused||!ue))if(n.trapped){const pe=de.relatedTarget;!isNil(pe)&&!ue.contains(pe)&&setTimeout(()=>{if(!$.paused&&n.trapped){const he=createFocusOutPreventedEvent({focusReason:k.value});e("focusout-prevented",he),he.defaultPrevented||tryFocus(y,!0)}},0)}else{const pe=de.target;pe&&ue.contains(pe)||e("focusout",de)}};async function oe(){await nextTick();const de=unref(r);if(de){focusableStack.push($);const ue=de.contains(document.activeElement)?g:document.activeElement;if(g=ue,!de.contains(ue)){const he=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);de.addEventListener(FOCUS_AFTER_TRAPPED,L),de.dispatchEvent(he),he.defaultPrevented||nextTick(()=>{let Oe=n.focusStartEl;isString$3(Oe)||(tryFocus(Oe),document.activeElement!==Oe&&(Oe="first")),Oe==="first"&&focusFirstDescendant(obtainAllFocusableElements(de),!0),(document.activeElement===ue||Oe==="container")&&tryFocus(de)})}}}function ae(){const de=unref(r);if(de){de.removeEventListener(FOCUS_AFTER_TRAPPED,L);const ue=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:k.value}});de.addEventListener(FOCUS_AFTER_RELEASED,z),de.dispatchEvent(ue),!ue.defaultPrevented&&(k.value=="keyboard"||!isFocusCausedByUserEvent()||de.contains(document.activeElement))&&tryFocus(g??document.body),de.removeEventListener(FOCUS_AFTER_RELEASED,z),focusableStack.remove($)}}return onMounted(()=>{n.trapped&&oe(),watch(()=>n.trapped,de=>{de?oe():ae()})}),onBeforeUnmount(()=>{n.trapped&&ae()}),{onKeydown:V}}});function _sfc_render$v(n,e,r,g,y,k){return renderSlot(n.$slots,"default",{handleKeydown:n.onKeydown})}var ElFocusTrap=_export_sfc$1(_sfc_main$33,[["render",_sfc_render$v],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(n,e=[])=>{const{placement:r,strategy:g,popperOptions:y}=n,k={placement:r,strategy:g,...y,modifiers:[...genModifiers(n),...e]};return deriveExtraModifiers(k,y?.modifiers),k},unwrapMeasurableEl=n=>{if(isClient)return unrefElement(n)};function genModifiers(n){const{offset:e,gpuAcceleration:r,fallbackPlacements:g}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:g}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function deriveExtraModifiers(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=n=>{const{popperInstanceRef:e,contentRef:r,triggerRef:g,role:y}=inject(POPPER_INJECTION_KEY,void 0),k=ref(),$=ref(),V=computed(()=>({name:"eventListeners",enabled:!!n.visible})),L=computed(()=>{var he;const Oe=unref(k),xe=(he=unref($))!=null?he:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(Oe),options:{element:Oe,padding:xe}}}),z=computed(()=>({onFirstUpdate:()=>{de()},...buildPopperOptions(n,[unref(L),unref(V)])})),j=computed(()=>unwrapMeasurableEl(n.referenceEl)||unref(g)),{attributes:re,state:oe,styles:ae,update:de,forceUpdate:ue,instanceRef:pe}=usePopper(j,r,z);return watch(pe,he=>e.value=he),onMounted(()=>{watch(()=>{var he;return(he=unref(j))==null?void 0:he.getBoundingClientRect()},()=>{de()})}),{attributes:re,arrowRef:k,contentRef:r,instanceRef:pe,state:oe,styles:ae,role:y,forceUpdate:ue,update:de}},usePopperContentDOM=(n,{attributes:e,styles:r,role:g})=>{const{nextZIndex:y}=useZIndex(),k=useNamespace("popper"),$=computed(()=>unref(e).popper),V=ref(n.zIndex||y()),L=computed(()=>[k.b(),k.is("pure",n.pure),k.is(n.effect),n.popperClass]),z=computed(()=>[{zIndex:unref(V)},unref(r).popper,n.popperStyle||{}]),j=computed(()=>g.value==="dialog"?"false":void 0),re=computed(()=>unref(r).arrow||{});return{ariaModal:j,arrowStyle:re,contentAttrs:$,contentClass:L,contentStyle:z,contentZIndex:V,updateZIndex:()=>{V.value=n.zIndex||y()}}},usePopperContentFocusTrap=(n,e)=>{const r=ref(!1),g=ref();return{focusStartRef:g,trapped:r,onFocusAfterReleased:z=>{var j;((j=z.detail)==null?void 0:j.focusReason)!=="pointer"&&(g.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:z=>{n.visible&&!r.value&&(z.target&&(g.value=z.target),r.value=!0)},onFocusoutPrevented:z=>{n.trapping||(z.detail.focusReason==="pointer"&&z.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},__default__$1s=defineComponent({name:"ElPopperContent"}),_sfc_main$32=defineComponent({...__default__$1s,props:popperContentProps,emits:popperContentEmits,setup(n,{expose:e,emit:r}){const g=n,{focusStartRef:y,trapped:k,onFocusAfterReleased:$,onFocusAfterTrapped:V,onFocusInTrap:L,onFocusoutPrevented:z,onReleaseRequested:j}=usePopperContentFocusTrap(g,r),{attributes:re,arrowRef:oe,contentRef:ae,styles:de,instanceRef:ue,role:pe,update:he}=usePopperContent(g),{ariaModal:Oe,arrowStyle:xe,contentAttrs:$e,contentClass:Ne,contentStyle:Ce,updateZIndex:Fe}=usePopperContentDOM(g,{styles:de,attributes:re,role:pe}),ze=inject(formItemContextKey,void 0),kt=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:xe,arrowRef:oe,arrowOffset:kt}),ze&&(ze.addInputId||ze.removeInputId)&&provide(formItemContextKey,{...ze,addInputId:NOOP,removeInputId:NOOP});let At;const Cn=(On=!0)=>{he(),On&&Fe()},Dt=()=>{Cn(!1),g.visible&&g.focusOnShow?k.value=!0:g.visible===!1&&(k.value=!1)};return onMounted(()=>{watch(()=>g.triggerTargetEl,(On,jt)=>{At?.(),At=void 0;const An=unref(On||ae.value),Mn=unref(jt||ae.value);isElement$1(An)&&(At=watch([pe,()=>g.ariaLabel,Oe,()=>g.id],$n=>{["role","aria-label","aria-modal","id"].forEach((Ln,Tn)=>{isNil($n[Tn])?An.removeAttribute(Ln):An.setAttribute(Ln,$n[Tn])})},{immediate:!0})),Mn!==An&&isElement$1(Mn)&&["role","aria-label","aria-modal","id"].forEach($n=>{Mn.removeAttribute($n)})},{immediate:!0}),watch(()=>g.visible,Dt,{immediate:!0})}),onBeforeUnmount(()=>{At?.(),At=void 0}),e({popperContentRef:ae,popperInstanceRef:ue,updatePopper:Cn,contentStyle:Ce}),(On,jt)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:ae},unref($e),{style:unref(Ce),class:unref(Ne),tabindex:"-1",onMouseenter:jt[0]||(jt[0]=An=>On.$emit("mouseenter",An)),onMouseleave:jt[1]||(jt[1]=An=>On.$emit("mouseleave",An))}),[createVNode(unref(ElFocusTrap),{trapped:unref(k),"trap-on-focus-in":!0,"focus-trap-el":unref(ae),"focus-start-el":unref(y),onFocusAfterTrapped:unref(V),onFocusAfterReleased:unref($),onFocusin:unref(L),onFocusoutPrevented:unref(z),onReleaseRequested:unref(j)},{default:withCtx(()=>[renderSlot(On.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc$1(_sfc_main$32,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(n,e)=>isArray$3(n)?n.includes(e):n===e,whenTrigger=(n,e,r)=>g=>{isTriggerType(unref(n),e)&&r(g)},__default__$1r=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$31=defineComponent({...__default__$1r,props:useTooltipTriggerProps,setup(n,{expose:e}){const r=n,g=useNamespace("tooltip"),{controlled:y,id:k,open:$,onOpen:V,onClose:L,onToggle:z}=inject(TOOLTIP_INJECTION_KEY,void 0),j=ref(null),re=()=>{if(unref(y)||r.disabled)return!0},oe=toRef(r,"trigger"),ae=composeEventHandlers(re,whenTrigger(oe,"hover",V)),de=composeEventHandlers(re,whenTrigger(oe,"hover",L)),ue=composeEventHandlers(re,whenTrigger(oe,"click",$e=>{$e.button===0&&z($e)})),pe=composeEventHandlers(re,whenTrigger(oe,"focus",V)),he=composeEventHandlers(re,whenTrigger(oe,"focus",L)),Oe=composeEventHandlers(re,whenTrigger(oe,"contextmenu",$e=>{$e.preventDefault(),z($e)})),xe=composeEventHandlers(re,$e=>{const{code:Ne}=$e;r.triggerKeys.includes(Ne)&&($e.preventDefault(),z($e))});return e({triggerRef:j}),($e,Ne)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(k),"virtual-ref":$e.virtualRef,open:unref($),"virtual-triggering":$e.virtualTriggering,class:normalizeClass(unref(g).e("trigger")),onBlur:unref(he),onClick:unref(ue),onContextmenu:unref(Oe),onFocus:unref(pe),onMouseenter:unref(ae),onMouseleave:unref(de),onKeydown:unref(xe)},{default:withCtx(()=>[renderSlot($e.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$31,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$1q=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$30=defineComponent({...__default__$1q,props:useTooltipContentProps,setup(n,{expose:e}){const r=n,{selector:g}=usePopperContainerId(),y=useNamespace("tooltip"),k=ref(null),$=ref(!1),{controlled:V,id:L,open:z,trigger:j,onClose:re,onOpen:oe,onShow:ae,onHide:de,onBeforeShow:ue,onBeforeHide:pe}=inject(TOOLTIP_INJECTION_KEY,void 0),he=computed(()=>r.transition||`${y.namespace.value}-fade-in-linear`),Oe=computed(()=>r.persistent);onBeforeUnmount(()=>{$.value=!0});const xe=computed(()=>unref(Oe)?!0:unref(z)),$e=computed(()=>r.disabled?!1:unref(z)),Ne=computed(()=>r.appendTo||g.value),Ce=computed(()=>{var $n;return($n=r.style)!=null?$n:{}}),Fe=computed(()=>!unref(z)),ze=()=>{de()},kt=()=>{if(unref(V))return!0},At=composeEventHandlers(kt,()=>{r.enterable&&unref(j)==="hover"&&oe()}),Cn=composeEventHandlers(kt,()=>{unref(j)==="hover"&&re()}),Dt=()=>{var $n,Ln;(Ln=($n=k.value)==null?void 0:$n.updatePopper)==null||Ln.call($n),ue?.()},On=()=>{pe?.()},jt=()=>{ae(),Mn=onClickOutside(computed(()=>{var $n;return($n=k.value)==null?void 0:$n.popperContentRef}),()=>{if(unref(V))return;unref(j)!=="hover"&&re()})},An=()=>{r.virtualTriggering||re()};let Mn;return watch(()=>unref(z),$n=>{$n||Mn?.()},{flush:"post"}),watch(()=>r.content,()=>{var $n,Ln;(Ln=($n=k.value)==null?void 0:$n.updatePopper)==null||Ln.call($n)}),e({contentRef:k}),($n,Ln)=>(openBlock(),createBlock(Teleport,{disabled:!$n.teleported,to:unref(Ne)},[createVNode(Transition,{name:unref(he),onAfterLeave:ze,onBeforeEnter:Dt,onAfterEnter:jt,onBeforeLeave:On},{default:withCtx(()=>[unref(xe)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(L),ref_key:"contentRef",ref:k},$n.$attrs,{"aria-label":$n.ariaLabel,"aria-hidden":unref(Fe),"boundaries-padding":$n.boundariesPadding,"fallback-placements":$n.fallbackPlacements,"gpu-acceleration":$n.gpuAcceleration,offset:$n.offset,placement:$n.placement,"popper-options":$n.popperOptions,strategy:$n.strategy,effect:$n.effect,enterable:$n.enterable,pure:$n.pure,"popper-class":$n.popperClass,"popper-style":[$n.popperStyle,unref(Ce)],"reference-el":$n.referenceEl,"trigger-target-el":$n.triggerTargetEl,visible:unref($e),"z-index":$n.zIndex,onMouseenter:unref(At),onMouseleave:unref(Cn),onBlur:An,onClose:unref(re)}),{default:withCtx(()=>[$.value?createCommentVNode("v-if",!0):renderSlot($n.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref($e)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$30,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$1Y=["innerHTML"],_hoisted_2$1y={key:1},__default__$1p=defineComponent({name:"ElTooltip"}),_sfc_main$2$=defineComponent({...__default__$1p,props:useTooltipProps,emits:tooltipEmits,setup(n,{expose:e,emit:r}){const g=n;usePopperContainer();const y=useId(),k=ref(),$=ref(),V=()=>{var he;const Oe=unref(k);Oe&&((he=Oe.popperInstanceRef)==null||he.update())},L=ref(!1),z=ref(),{show:j,hide:re,hasUpdateHandler:oe}=useTooltipModelToggle({indicator:L,toggleReason:z}),{onOpen:ae,onClose:de}=useDelayedToggle({showAfter:toRef(g,"showAfter"),hideAfter:toRef(g,"hideAfter"),autoClose:toRef(g,"autoClose"),open:j,close:re}),ue=computed(()=>isBoolean$1(g.visible)&&!oe.value);provide(TOOLTIP_INJECTION_KEY,{controlled:ue,id:y,open:readonly(L),trigger:toRef(g,"trigger"),onOpen:he=>{ae(he)},onClose:he=>{de(he)},onToggle:he=>{unref(L)?de(he):ae(he)},onShow:()=>{r("show",z.value)},onHide:()=>{r("hide",z.value)},onBeforeShow:()=>{r("before-show",z.value)},onBeforeHide:()=>{r("before-hide",z.value)},updatePopper:V}),watch(()=>g.disabled,he=>{he&&L.value&&(L.value=!1)});const pe=he=>{var Oe,xe;const $e=(xe=(Oe=$.value)==null?void 0:Oe.contentRef)==null?void 0:xe.popperContentRef,Ne=he?.relatedTarget||document.activeElement;return $e&&$e.contains(Ne)};return onDeactivated(()=>L.value&&re()),e({popperRef:k,contentRef:$,isFocusInsideContent:pe,updatePopper:V,onOpen:ae,onClose:de,hide:re}),(he,Oe)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:k,role:he.role},{default:withCtx(()=>[createVNode(ElTooltipTrigger,{disabled:he.disabled,trigger:he.trigger,"trigger-keys":he.triggerKeys,"virtual-ref":he.virtualRef,"virtual-triggering":he.virtualTriggering},{default:withCtx(()=>[he.$slots.default?renderSlot(he.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:$,"aria-label":he.ariaLabel,"boundaries-padding":he.boundariesPadding,content:he.content,disabled:he.disabled,effect:he.effect,enterable:he.enterable,"fallback-placements":he.fallbackPlacements,"hide-after":he.hideAfter,"gpu-acceleration":he.gpuAcceleration,offset:he.offset,persistent:he.persistent,"popper-class":he.popperClass,"popper-style":he.popperStyle,placement:he.placement,"popper-options":he.popperOptions,pure:he.pure,"raw-content":he.rawContent,"reference-el":he.referenceEl,"trigger-target-el":he.triggerTargetEl,"show-after":he.showAfter,strategy:he.strategy,teleported:he.teleported,transition:he.transition,"virtual-triggering":he.virtualTriggering,"z-index":he.zIndex,"append-to":he.appendTo},{default:withCtx(()=>[renderSlot(he.$slots,"content",{},()=>[he.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:he.content},null,8,_hoisted_1$1Y)):(openBlock(),createElementBlock("span",_hoisted_2$1y,toDisplayString$1(he.content),1))]),he.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":he.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$2$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),autocompleteProps=buildProps({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:definePropType(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:definePropType([Function,Array]),default:NOOP},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:useTooltipContentProps.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),autocompleteEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n),[INPUT_EVENT]:n=>isString$3(n),[CHANGE_EVENT]:n=>isString$3(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,select:n=>isObject$3(n)},_hoisted_1$1X=["aria-expanded","aria-owns"],_hoisted_2$1x={key:0},_hoisted_3$R=["id","aria-selected","onClick"],COMPONENT_NAME$i="ElAutocomplete",__default__$1o=defineComponent({name:COMPONENT_NAME$i,inheritAttrs:!1}),_sfc_main$2_=defineComponent({...__default__$1o,props:autocompleteProps,emits:autocompleteEmits,setup(n,{expose:e,emit:r}){const g=n,y=useAttrs(),k=useAttrs$1(),$=useFormDisabled(),V=useNamespace("autocomplete"),L=ref(),z=ref(),j=ref(),re=ref();let oe=!1,ae=!1;const de=ref([]),ue=ref(-1),pe=ref(""),he=ref(!1),Oe=ref(!1),xe=ref(!1),$e=computed(()=>V.b(String(generateId()))),Ne=computed(()=>k.style),Ce=computed(()=>(de.value.length>0||xe.value)&&he.value),Fe=computed(()=>!g.hideLoading&&xe.value),ze=computed(()=>L.value?Array.from(L.value.$el.querySelectorAll("input")):[]),kt=()=>{Ce.value&&(pe.value=`${L.value.$el.offsetWidth}px`)},At=()=>{ue.value=-1},Dt=debounce(async Vn=>{if(Oe.value)return;const En=jn=>{xe.value=!1,!Oe.value&&(isArray$3(jn)?(de.value=jn,ue.value=g.highlightFirstItem?0:-1):throwError(COMPONENT_NAME$i,"autocomplete suggestions must be an array"))};if(xe.value=!0,isArray$3(g.fetchSuggestions))En(g.fetchSuggestions);else{const jn=await g.fetchSuggestions(Vn,En);isArray$3(jn)&&En(jn)}},g.debounce),On=Vn=>{const En=!!Vn;if(r(INPUT_EVENT,Vn),r(UPDATE_MODEL_EVENT,Vn),Oe.value=!1,he.value||(he.value=En),!g.triggerOnFocus&&!Vn){Oe.value=!0,de.value=[];return}Dt(Vn)},jt=Vn=>{var En;$.value||(((En=Vn.target)==null?void 0:En.tagName)!=="INPUT"||ze.value.includes(document.activeElement))&&(he.value=!0)},An=Vn=>{r(CHANGE_EVENT,Vn)},Mn=Vn=>{ae?ae=!1:(he.value=!0,r("focus",Vn),g.triggerOnFocus&&!oe&&Dt(String(g.modelValue)))},$n=Vn=>{setTimeout(()=>{var En;if((En=j.value)!=null&&En.isFocusInsideContent()){ae=!0;return}he.value&&Qn(),r("blur",Vn)})},Ln=()=>{he.value=!1,r(UPDATE_MODEL_EVENT,""),r("clear")},Tn=async()=>{Ce.value&&ue.value>=0&&ue.value<de.value.length?ur(de.value[ue.value]):g.selectWhenUnmatched&&(r("select",{value:g.modelValue}),de.value=[],ue.value=-1)},Zn=Vn=>{Ce.value&&(Vn.preventDefault(),Vn.stopPropagation(),Qn())},Qn=()=>{he.value=!1},Pn=()=>{var Vn;(Vn=L.value)==null||Vn.focus()},Wn=()=>{var Vn;(Vn=L.value)==null||Vn.blur()},ur=async Vn=>{r(INPUT_EVENT,Vn[g.valueKey]),r(UPDATE_MODEL_EVENT,Vn[g.valueKey]),r("select",Vn),de.value=[],ue.value=-1},hr=Vn=>{if(!Ce.value||xe.value)return;if(Vn<0){ue.value=-1;return}Vn>=de.value.length&&(Vn=de.value.length-1);const En=z.value.querySelector(`.${V.be("suggestion","wrap")}`),cr=En.querySelectorAll(`.${V.be("suggestion","list")} li`)[Vn],gr=En.scrollTop,{offsetTop:Cr,scrollHeight:ir}=cr;Cr+ir>gr+En.clientHeight&&(En.scrollTop+=ir),Cr<gr&&(En.scrollTop-=ir),ue.value=Vn,L.value.ref.setAttribute("aria-activedescendant",`${$e.value}-item-${ue.value}`)};return onClickOutside(re,()=>{Ce.value&&Qn()}),onMounted(()=>{L.value.ref.setAttribute("role","textbox"),L.value.ref.setAttribute("aria-autocomplete","list"),L.value.ref.setAttribute("aria-controls","id"),L.value.ref.setAttribute("aria-activedescendant",`${$e.value}-item-${ue.value}`),oe=L.value.ref.hasAttribute("readonly")}),e({highlightedIndex:ue,activated:he,loading:xe,inputRef:L,popperRef:j,suggestions:de,handleSelect:ur,handleKeyEnter:Tn,focus:Pn,blur:Wn,close:Qn,highlight:hr}),(Vn,En)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popperRef",ref:j,visible:unref(Ce),placement:Vn.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[unref(V).e("popper"),Vn.popperClass],teleported:Vn.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${unref(V).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:kt,onHide:At},{content:withCtx(()=>[createBaseVNode("div",{ref_key:"regionRef",ref:z,class:normalizeClass([unref(V).b("suggestion"),unref(V).is("loading",unref(Fe))]),style:normalizeStyle({[Vn.fitInputWidth?"width":"minWidth"]:pe.value,outline:"none"}),role:"region"},[createVNode(unref(ElScrollbar),{id:unref($e),tag:"ul","wrap-class":unref(V).be("suggestion","wrap"),"view-class":unref(V).be("suggestion","list"),role:"listbox"},{default:withCtx(()=>[unref(Fe)?(openBlock(),createElementBlock("li",_hoisted_2$1x,[createVNode(unref(ElIcon),{class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(de.value,(jn,cr)=>(openBlock(),createElementBlock("li",{id:`${unref($e)}-item-${cr}`,key:cr,class:normalizeClass({highlighted:ue.value===cr}),role:"option","aria-selected":ue.value===cr,onClick:gr=>ur(jn)},[renderSlot(Vn.$slots,"default",{item:jn},()=>[createTextVNode(toDisplayString$1(jn[Vn.valueKey]),1)])],10,_hoisted_3$R))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"listboxRef",ref:re,class:normalizeClass([unref(V).b(),Vn.$attrs.class]),style:normalizeStyle(unref(Ne)),role:"combobox","aria-haspopup":"listbox","aria-expanded":unref(Ce),"aria-owns":unref($e)},[createVNode(unref(ElInput),mergeProps({ref_key:"inputRef",ref:L},unref(y),{clearable:Vn.clearable,disabled:unref($),name:Vn.name,"model-value":Vn.modelValue,onInput:On,onChange:An,onFocus:Mn,onBlur:$n,onClear:Ln,onKeydown:[En[0]||(En[0]=withKeys(withModifiers(jn=>hr(ue.value-1),["prevent"]),["up"])),En[1]||(En[1]=withKeys(withModifiers(jn=>hr(ue.value+1),["prevent"]),["down"])),withKeys(Tn,["enter"]),withKeys(Qn,["tab"]),withKeys(Zn,["esc"])],onMousedown:jt}),createSlots({_:2},[Vn.$slots.prepend?{name:"prepend",fn:withCtx(()=>[renderSlot(Vn.$slots,"prepend")])}:void 0,Vn.$slots.append?{name:"append",fn:withCtx(()=>[renderSlot(Vn.$slots,"append")])}:void 0,Vn.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Vn.$slots,"prefix")])}:void 0,Vn.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(Vn.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,_hoisted_1$1X)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Autocomplete=_export_sfc$1(_sfc_main$2_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const ElAutocomplete=withInstall(Autocomplete),avatarProps=buildProps({size:{type:[Number,String],values:componentSizes,default:"",validator:n=>isNumber$1(n)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:n=>n instanceof Event},_hoisted_1$1W=["src","alt","srcset"],__default__$1n=defineComponent({name:"ElAvatar"}),_sfc_main$2Z=defineComponent({...__default__$1n,props:avatarProps,emits:avatarEmits,setup(n,{emit:e}){const r=n,g=useNamespace("avatar"),y=ref(!1),k=computed(()=>{const{size:z,icon:j,shape:re}=r,oe=[g.b()];return isString$3(z)&&oe.push(g.m(z)),j&&oe.push(g.m("icon")),re&&oe.push(g.m(re)),oe}),$=computed(()=>{const{size:z}=r;return isNumber$1(z)?g.cssVarBlock({size:addUnit(z)||""}):void 0}),V=computed(()=>({objectFit:r.fit}));watch(()=>r.src,()=>y.value=!1);function L(z){y.value=!0,e("error",z)}return(z,j)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(k)),style:normalizeStyle(unref($))},[(z.src||z.srcSet)&&!y.value?(openBlock(),createElementBlock("img",{key:0,src:z.src,alt:z.alt,srcset:z.srcSet,style:normalizeStyle(unref(V)),onError:L},null,44,_hoisted_1$1W)):z.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(z.icon)))]),_:1})):renderSlot(z.$slots,"default",{key:2})],6))}});var Avatar=_export_sfc$1(_sfc_main$2Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const ElAvatar=withInstall(Avatar),backtopProps={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},backtopEmits={click:n=>n instanceof MouseEvent},useBackTop=(n,e,r)=>{const g=shallowRef(),y=shallowRef(),k=ref(!1),$=()=>{g.value&&(k.value=g.value.scrollTop>=n.visibilityHeight)},V=z=>{var j;(j=g.value)==null||j.scrollTo({top:0,behavior:"smooth"}),e("click",z)},L=useThrottleFn($,300,!0);return useEventListener(y,"scroll",L),onMounted(()=>{var z;y.value=document,g.value=document.documentElement,n.target&&(g.value=(z=document.querySelector(n.target))!=null?z:void 0,g.value||throwError(r,`target does not exist: ${n.target}`),y.value=g.value),$()}),{visible:k,handleClick:V}},COMPONENT_NAME$h="ElBacktop",__default__$1m=defineComponent({name:COMPONENT_NAME$h}),_sfc_main$2Y=defineComponent({...__default__$1m,props:backtopProps,emits:backtopEmits,setup(n,{emit:e}){const r=n,g=useNamespace("backtop"),{handleClick:y,visible:k}=useBackTop(r,e,COMPONENT_NAME$h),$=computed(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(V,L)=>(openBlock(),createBlock(Transition,{name:`${unref(g).namespace.value}-fade-in`},{default:withCtx(()=>[unref(k)?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle(unref($)),class:normalizeClass(unref(g).b()),onClick:L[0]||(L[0]=withModifiers((...z)=>unref(y)&&unref(y)(...z),["stop"]))},[renderSlot(V.$slots,"default",{},()=>[createVNode(unref(ElIcon),{class:normalizeClass(unref(g).e("icon"))},{default:withCtx(()=>[createVNode(unref(caret_top_default))]),_:1},8,["class"])])],6)):createCommentVNode("v-if",!0)]),_:3},8,["name"]))}});var Backtop=_export_sfc$1(_sfc_main$2Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ElBacktop=withInstall(Backtop),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_hoisted_1$1V=["textContent"],__default__$1l=defineComponent({name:"ElBadge"}),_sfc_main$2X=defineComponent({...__default__$1l,props:badgeProps,setup(n,{expose:e}){const r=n,g=useNamespace("badge"),y=computed(()=>r.isDot?"":isNumber$1(r.value)&&isNumber$1(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return e({content:y}),(k,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[renderSlot(k.$slots,"default"),createVNode(Transition,{name:`${unref(g).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(g).e("content"),unref(g).em("content",k.type),unref(g).is("fixed",!!k.$slots.default),unref(g).is("dot",k.isDot)]),textContent:toDisplayString$1(unref(y))},null,10,_hoisted_1$1V),[[vShow,!k.hidden&&(unref(y)||k.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$2X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),__default__$1k=defineComponent({name:"ElBreadcrumb"}),_sfc_main$2W=defineComponent({...__default__$1k,props:breadcrumbProps,setup(n){const e=n,r=useNamespace("breadcrumb"),g=ref();return provide(breadcrumbKey,e),onMounted(()=>{const y=g.value.querySelectorAll(`.${r.e("item")}`);y.length&&y[y.length-1].setAttribute("aria-current","page")}),(y,k)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:g,class:normalizeClass(unref(r).b()),"aria-label":"Breadcrumb",role:"navigation"},[renderSlot(y.$slots,"default")],2))}});var Breadcrumb=_export_sfc$1(_sfc_main$2W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:{type:Boolean,default:!1}}),__default__$1j=defineComponent({name:"ElBreadcrumbItem"}),_sfc_main$2V=defineComponent({...__default__$1j,props:breadcrumbItemProps,setup(n){const e=n,r=getCurrentInstance(),g=inject(breadcrumbKey,void 0),y=useNamespace("breadcrumb"),k=r.appContext.config.globalProperties.$router,$=ref(),V=()=>{!e.to||!k||(e.replace?k.replace(e.to):k.push(e.to))};return(L,z)=>{var j,re;return openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("item"))},[createBaseVNode("span",{ref_key:"link",ref:$,class:normalizeClass([unref(y).e("inner"),unref(y).is("link",!!L.to)]),role:"link",onClick:V},[renderSlot(L.$slots,"default")],2),(j=unref(g))!=null&&j.separatorIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("separator"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(g).separatorIcon)))]),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(y).e("separator")),role:"presentation"},toDisplayString$1((re=unref(g))==null?void 0:re.separator),3))],2)}}});var BreadcrumbItem=_export_sfc$1(_sfc_main$2V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb,{BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(n,e)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>n.type==="text"));const r=inject(buttonGroupContextKey,void 0),g=useGlobalConfig("button"),{form:y}=useFormItem(),k=useFormSize(computed(()=>r?.size)),$=useFormDisabled(),V=ref(),L=useSlots(),z=computed(()=>n.type||r?.type||""),j=computed(()=>{var de,ue,pe;return(pe=(ue=n.autoInsertSpace)!=null?ue:(de=g.value)==null?void 0:de.autoInsertSpace)!=null?pe:!1}),re=computed(()=>n.tag==="button"?{ariaDisabled:$.value||n.loading,disabled:$.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),oe=computed(()=>{var de;const ue=(de=L.default)==null?void 0:de.call(L);if(j.value&&ue?.length===1){const pe=ue[0];if(pe?.type===Text$2){const he=pe.children;return/^\p{Unified_Ideograph}{2}$/u.test(he.trim())}}return!1});return{_disabled:$,_size:k,_type:z,_ref:V,_props:re,shouldAddSpace:oe,handleClick:de=>{n.nativeType==="reset"&&y?.resetFields(),e("click",de)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:n=>n instanceof MouseEvent};function bound01$1(n,e){isOnePointZero$1(n)&&(n="100%");var r=isPercentage$1(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function clamp01(n){return Math.min(1,Math.max(0,n))}function isOnePointZero$1(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function isPercentage$1(n){return typeof n=="string"&&n.indexOf("%")!==-1}function boundAlpha(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function convertToPercentage(n){return n<=1?"".concat(Number(n)*100,"%"):n}function pad2(n){return n.length===1?"0"+n:String(n)}function rgbToRgb(n,e,r){return{r:bound01$1(n,255)*255,g:bound01$1(e,255)*255,b:bound01$1(r,255)*255}}function rgbToHsl(n,e,r){n=bound01$1(n,255),e=bound01$1(e,255),r=bound01$1(r,255);var g=Math.max(n,e,r),y=Math.min(n,e,r),k=0,$=0,V=(g+y)/2;if(g===y)$=0,k=0;else{var L=g-y;switch($=V>.5?L/(2-g-y):L/(g+y),g){case n:k=(e-r)/L+(e<r?6:0);break;case e:k=(r-n)/L+2;break;case r:k=(n-e)/L+4;break}k/=6}return{h:k,s:$,l:V}}function hue2rgb(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*(6*r):r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function hslToRgb(n,e,r){var g,y,k;if(n=bound01$1(n,360),e=bound01$1(e,100),r=bound01$1(r,100),e===0)y=r,k=r,g=r;else{var $=r<.5?r*(1+e):r+e-r*e,V=2*r-$;g=hue2rgb(V,$,n+1/3),y=hue2rgb(V,$,n),k=hue2rgb(V,$,n-1/3)}return{r:g*255,g:y*255,b:k*255}}function rgbToHsv(n,e,r){n=bound01$1(n,255),e=bound01$1(e,255),r=bound01$1(r,255);var g=Math.max(n,e,r),y=Math.min(n,e,r),k=0,$=g,V=g-y,L=g===0?0:V/g;if(g===y)k=0;else{switch(g){case n:k=(e-r)/V+(e<r?6:0);break;case e:k=(r-n)/V+2;break;case r:k=(n-e)/V+4;break}k/=6}return{h:k,s:L,v:$}}function hsvToRgb(n,e,r){n=bound01$1(n,360)*6,e=bound01$1(e,100),r=bound01$1(r,100);var g=Math.floor(n),y=n-g,k=r*(1-e),$=r*(1-y*e),V=r*(1-(1-y)*e),L=g%6,z=[r,$,k,k,V,r][L],j=[V,r,r,$,k,k][L],re=[k,k,V,r,r,$][L];return{r:z*255,g:j*255,b:re*255}}function rgbToHex(n,e,r,g){var y=[pad2(Math.round(n).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16))];return g&&y[0].startsWith(y[0].charAt(1))&&y[1].startsWith(y[1].charAt(1))&&y[2].startsWith(y[2].charAt(1))?y[0].charAt(0)+y[1].charAt(0)+y[2].charAt(0):y.join("")}function rgbaToHex(n,e,r,g,y){var k=[pad2(Math.round(n).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex(g))];return y&&k[0].startsWith(k[0].charAt(1))&&k[1].startsWith(k[1].charAt(1))&&k[2].startsWith(k[2].charAt(1))&&k[3].startsWith(k[3].charAt(1))?k[0].charAt(0)+k[1].charAt(0)+k[2].charAt(0)+k[3].charAt(0):k.join("")}function convertDecimalToHex(n){return Math.round(parseFloat(n)*255).toString(16)}function convertHexToDecimal(n){return parseIntFromHex(n)/255}function parseIntFromHex(n){return parseInt(n,16)}function numberInputToObject(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(n){var e={r:0,g:0,b:0},r=1,g=null,y=null,k=null,$=!1,V=!1;return typeof n=="string"&&(n=stringInputToObject(n)),typeof n=="object"&&(isValidCSSUnit(n.r)&&isValidCSSUnit(n.g)&&isValidCSSUnit(n.b)?(e=rgbToRgb(n.r,n.g,n.b),$=!0,V=String(n.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(n.h)&&isValidCSSUnit(n.s)&&isValidCSSUnit(n.v)?(g=convertToPercentage(n.s),y=convertToPercentage(n.v),e=hsvToRgb(n.h,g,y),$=!0,V="hsv"):isValidCSSUnit(n.h)&&isValidCSSUnit(n.s)&&isValidCSSUnit(n.l)&&(g=convertToPercentage(n.s),k=convertToPercentage(n.l),e=hslToRgb(n.h,g,k),$=!0,V="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(r=n.a)),r=boundAlpha(r),{ok:$,format:n.format||V,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(names[n])n=names[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(n);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(n),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(n),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(n),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(n),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(n),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(n),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:e?"name":"hex8"}:(r=matchers.hex6.exec(n),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:e?"name":"hex"}:(r=matchers.hex4.exec(n),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:e?"name":"hex8"}:(r=matchers.hex3.exec(n),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function isValidCSSUnit(n){return!!matchers.CSS_UNIT.exec(String(n))}var TinyColor=function(){function n(e,r){e===void 0&&(e=""),r===void 0&&(r={});var g;if(e instanceof n)return e;typeof e=="number"&&(e=numberInputToObject(e)),this.originalInput=e;var y=inputToRGB(e);this.originalInput=e,this.r=y.r,this.g=y.g,this.b=y.b,this.a=y.a,this.roundA=Math.round(100*this.a)/100,this.format=(g=r.format)!==null&&g!==void 0?g:y.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=y.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),r,g,y,k=e.r/255,$=e.g/255,V=e.b/255;return k<=.03928?r=k/12.92:r=Math.pow((k+.055)/1.055,2.4),$<=.03928?g=$/12.92:g=Math.pow(($+.055)/1.055,2.4),V<=.03928?y=V/12.92:y=Math.pow((V+.055)/1.055,2.4),.2126*r+.7152*g+.0722*y},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=boundAlpha(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=rgbToHsv(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=rgbToHsv(this.r,this.g,this.b),r=Math.round(e.h*360),g=Math.round(e.s*100),y=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(g,"%, ").concat(y,"%)"):"hsva(".concat(r,", ").concat(g,"%, ").concat(y,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=rgbToHsl(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=rgbToHsl(this.r,this.g,this.b),r=Math.round(e.h*360),g=Math.round(e.s*100),y=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(g,"%, ").concat(y,"%)"):"hsla(".concat(r,", ").concat(g,"%, ").concat(y,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),rgbToHex(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),rgbaToHex(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),g=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(g,")"):"rgba(".concat(e,", ").concat(r,", ").concat(g,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(bound01$1(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(bound01$1(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,g=Object.entries(names);r<g.length;r++){var y=g[r],k=y[0],$=y[1];if(e===$)return k}return!1},n.prototype.toString=function(e){var r=!!e;e=e??this.format;var g=!1,y=this.a<1&&this.a>=0,k=!r&&y&&(e.startsWith("hex")||e==="name");return k?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(g=this.toRgbString()),e==="prgb"&&(g=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(g=this.toHexString()),e==="hex3"&&(g=this.toHexString(!0)),e==="hex4"&&(g=this.toHex8String(!0)),e==="hex8"&&(g=this.toHex8String()),e==="name"&&(g=this.toName()),e==="hsl"&&(g=this.toHslString()),e==="hsv"&&(g=this.toHsvString()),g||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=clamp01(r.l),new n(r)},n.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new n(r)},n.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=clamp01(r.l),new n(r)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=clamp01(r.s),new n(r)},n.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=clamp01(r.s),new n(r)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var r=this.toHsl(),g=(r.h+e)%360;return r.h=g<0?360+g:g,new n(r)},n.prototype.mix=function(e,r){r===void 0&&(r=50);var g=this.toRgb(),y=new n(e).toRgb(),k=r/100,$={r:(y.r-g.r)*k+g.r,g:(y.g-g.g)*k+g.g,b:(y.b-g.b)*k+g.b,a:(y.a-g.a)*k+g.a};return new n($)},n.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var g=this.toHsl(),y=360/r,k=[this];for(g.h=(g.h-(y*e>>1)+720)%360;--e;)g.h=(g.h+y)%360,k.push(new n(g));return k},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),g=r.h,y=r.s,k=r.v,$=[],V=1/e;e--;)$.push(new n({h:g,s:y,v:k})),k=(k+V)%1;return $},n.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new n({h:(r+72)%360,s:e.s,l:e.l}),new n({h:(r+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var r=this.toRgb(),g=new n(e).toRgb(),y=r.a+g.a*(1-r.a);return new n({r:(r.r*r.a+g.r*g.a*(1-r.a))/y,g:(r.g*r.a+g.g*g.a*(1-r.a))/y,b:(r.b*r.a+g.b*g.a*(1-r.a))/y,a:y})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var r=this.toHsl(),g=r.h,y=[this],k=360/e,$=1;$<e;$++)y.push(new n({h:(g+$*k)%360,s:r.s,l:r.l}));return y},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function darken(n,e=20){return n.mix("#141414",e).toString()}function useButtonCustomStyle(n){const e=useFormDisabled(),r=useNamespace("button");return computed(()=>{let g={};const y=n.color;if(y){const k=new TinyColor(y),$=n.dark?k.tint(20).toString():darken(k,20);if(n.plain)g=r.cssVarBlock({"bg-color":n.dark?darken(k,90):k.tint(90).toString(),"text-color":y,"border-color":n.dark?darken(k,50):k.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":y,"hover-border-color":y,"active-bg-color":$,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":$}),e.value&&(g[r.cssVarBlockName("disabled-bg-color")]=n.dark?darken(k,90):k.tint(90).toString(),g[r.cssVarBlockName("disabled-text-color")]=n.dark?darken(k,50):k.tint(50).toString(),g[r.cssVarBlockName("disabled-border-color")]=n.dark?darken(k,80):k.tint(80).toString());else{const V=n.dark?darken(k,30):k.tint(30).toString(),L=k.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(g=r.cssVarBlock({"bg-color":y,"text-color":L,"border-color":y,"hover-bg-color":V,"hover-text-color":L,"hover-border-color":V,"active-bg-color":$,"active-border-color":$}),e.value){const z=n.dark?darken(k,50):k.tint(50).toString();g[r.cssVarBlockName("disabled-bg-color")]=z,g[r.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,g[r.cssVarBlockName("disabled-border-color")]=z}}}return g})}const __default__$1i=defineComponent({name:"ElButton"}),_sfc_main$2U=defineComponent({...__default__$1i,props:buttonProps,emits:buttonEmits,setup(n,{expose:e,emit:r}){const g=n,y=useButtonCustomStyle(g),k=useNamespace("button"),{_ref:$,_size:V,_type:L,_disabled:z,_props:j,shouldAddSpace:re,handleClick:oe}=useButton(g,r);return e({ref:$,size:V,type:L,disabled:z,shouldAddSpace:re}),(ae,de)=>(openBlock(),createBlock(resolveDynamicComponent(ae.tag),mergeProps({ref_key:"_ref",ref:$},unref(j),{class:[unref(k).b(),unref(k).m(unref(L)),unref(k).m(unref(V)),unref(k).is("disabled",unref(z)),unref(k).is("loading",ae.loading),unref(k).is("plain",ae.plain),unref(k).is("round",ae.round),unref(k).is("circle",ae.circle),unref(k).is("text",ae.text),unref(k).is("link",ae.link),unref(k).is("has-bg",ae.bg)],style:unref(y),onClick:unref(oe)}),{default:withCtx(()=>[ae.loading?(openBlock(),createElementBlock(Fragment,{key:0},[ae.$slots.loading?renderSlot(ae.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(k).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ae.loadingIcon)))]),_:1},8,["class"]))],64)):ae.icon||ae.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[ae.icon?(openBlock(),createBlock(resolveDynamicComponent(ae.icon),{key:0})):renderSlot(ae.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),ae.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(k).em("text","expand")]:unref(re)})},[renderSlot(ae.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc$1(_sfc_main$2U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$1h=defineComponent({name:"ElButtonGroup"}),_sfc_main$2T=defineComponent({...__default__$1h,props:buttonGroupProps,setup(n){const e=n;provide(buttonGroupContextKey,reactive({size:toRef(e,"size"),type:toRef(e,"type")}));const r=useNamespace("button");return(g,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(r).b("group")}`)},[renderSlot(g.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$2T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var dayjs_min={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){var r=1e3,g=6e4,y=36e5,k="millisecond",$="second",V="minute",L="hour",z="day",j="week",re="month",oe="quarter",ae="year",de="date",ue="Invalid Date",pe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,he=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(On){var jt=["th","st","nd","rd"],An=On%100;return"["+On+(jt[(An-20)%10]||jt[An]||jt[0])+"]"}},xe=function(On,jt,An){var Mn=String(On);return!Mn||Mn.length>=jt?On:""+Array(jt+1-Mn.length).join(An)+On},$e={s:xe,z:function(On){var jt=-On.utcOffset(),An=Math.abs(jt),Mn=Math.floor(An/60),$n=An%60;return(jt<=0?"+":"-")+xe(Mn,2,"0")+":"+xe($n,2,"0")},m:function On(jt,An){if(jt.date()<An.date())return-On(An,jt);var Mn=12*(An.year()-jt.year())+(An.month()-jt.month()),$n=jt.clone().add(Mn,re),Ln=An-$n<0,Tn=jt.clone().add(Mn+(Ln?-1:1),re);return+(-(Mn+(An-$n)/(Ln?$n-Tn:Tn-$n))||0)},a:function(On){return On<0?Math.ceil(On)||0:Math.floor(On)},p:function(On){return{M:re,y:ae,w:j,d:z,D:de,h:L,m:V,s:$,ms:k,Q:oe}[On]||String(On||"").toLowerCase().replace(/s$/,"")},u:function(On){return On===void 0}},Ne="en",Ce={};Ce[Ne]=Oe;var Fe=function(On){return On instanceof Cn},ze=function On(jt,An,Mn){var $n;if(!jt)return Ne;if(typeof jt=="string"){var Ln=jt.toLowerCase();Ce[Ln]&&($n=Ln),An&&(Ce[Ln]=An,$n=Ln);var Tn=jt.split("-");if(!$n&&Tn.length>1)return On(Tn[0])}else{var Zn=jt.name;Ce[Zn]=jt,$n=Zn}return!Mn&&$n&&(Ne=$n),$n||!Mn&&Ne},kt=function(On,jt){if(Fe(On))return On.clone();var An=typeof jt=="object"?jt:{};return An.date=On,An.args=arguments,new Cn(An)},At=$e;At.l=ze,At.i=Fe,At.w=function(On,jt){return kt(On,{locale:jt.$L,utc:jt.$u,x:jt.$x,$offset:jt.$offset})};var Cn=function(){function On(An){this.$L=ze(An.locale,null,!0),this.parse(An)}var jt=On.prototype;return jt.parse=function(An){this.$d=function(Mn){var $n=Mn.date,Ln=Mn.utc;if($n===null)return new Date(NaN);if(At.u($n))return new Date;if($n instanceof Date)return new Date($n);if(typeof $n=="string"&&!/Z$/i.test($n)){var Tn=$n.match(pe);if(Tn){var Zn=Tn[2]-1||0,Qn=(Tn[7]||"0").substring(0,3);return Ln?new Date(Date.UTC(Tn[1],Zn,Tn[3]||1,Tn[4]||0,Tn[5]||0,Tn[6]||0,Qn)):new Date(Tn[1],Zn,Tn[3]||1,Tn[4]||0,Tn[5]||0,Tn[6]||0,Qn)}}return new Date($n)}(An),this.$x=An.x||{},this.init()},jt.init=function(){var An=this.$d;this.$y=An.getFullYear(),this.$M=An.getMonth(),this.$D=An.getDate(),this.$W=An.getDay(),this.$H=An.getHours(),this.$m=An.getMinutes(),this.$s=An.getSeconds(),this.$ms=An.getMilliseconds()},jt.$utils=function(){return At},jt.isValid=function(){return this.$d.toString()!==ue},jt.isSame=function(An,Mn){var $n=kt(An);return this.startOf(Mn)<=$n&&$n<=this.endOf(Mn)},jt.isAfter=function(An,Mn){return kt(An)<this.startOf(Mn)},jt.isBefore=function(An,Mn){return this.endOf(Mn)<kt(An)},jt.$g=function(An,Mn,$n){return At.u(An)?this[Mn]:this.set($n,An)},jt.unix=function(){return Math.floor(this.valueOf()/1e3)},jt.valueOf=function(){return this.$d.getTime()},jt.startOf=function(An,Mn){var $n=this,Ln=!!At.u(Mn)||Mn,Tn=At.p(An),Zn=function(jn,cr){var gr=At.w($n.$u?Date.UTC($n.$y,cr,jn):new Date($n.$y,cr,jn),$n);return Ln?gr:gr.endOf(z)},Qn=function(jn,cr){return At.w($n.toDate()[jn].apply($n.toDate("s"),(Ln?[0,0,0,0]:[23,59,59,999]).slice(cr)),$n)},Pn=this.$W,Wn=this.$M,ur=this.$D,hr="set"+(this.$u?"UTC":"");switch(Tn){case ae:return Ln?Zn(1,0):Zn(31,11);case re:return Ln?Zn(1,Wn):Zn(0,Wn+1);case j:var Vn=this.$locale().weekStart||0,En=(Pn<Vn?Pn+7:Pn)-Vn;return Zn(Ln?ur-En:ur+(6-En),Wn);case z:case de:return Qn(hr+"Hours",0);case L:return Qn(hr+"Minutes",1);case V:return Qn(hr+"Seconds",2);case $:return Qn(hr+"Milliseconds",3);default:return this.clone()}},jt.endOf=function(An){return this.startOf(An,!1)},jt.$set=function(An,Mn){var $n,Ln=At.p(An),Tn="set"+(this.$u?"UTC":""),Zn=($n={},$n[z]=Tn+"Date",$n[de]=Tn+"Date",$n[re]=Tn+"Month",$n[ae]=Tn+"FullYear",$n[L]=Tn+"Hours",$n[V]=Tn+"Minutes",$n[$]=Tn+"Seconds",$n[k]=Tn+"Milliseconds",$n)[Ln],Qn=Ln===z?this.$D+(Mn-this.$W):Mn;if(Ln===re||Ln===ae){var Pn=this.clone().set(de,1);Pn.$d[Zn](Qn),Pn.init(),this.$d=Pn.set(de,Math.min(this.$D,Pn.daysInMonth())).$d}else Zn&&this.$d[Zn](Qn);return this.init(),this},jt.set=function(An,Mn){return this.clone().$set(An,Mn)},jt.get=function(An){return this[At.p(An)]()},jt.add=function(An,Mn){var $n,Ln=this;An=Number(An);var Tn=At.p(Mn),Zn=function(Wn){var ur=kt(Ln);return At.w(ur.date(ur.date()+Math.round(Wn*An)),Ln)};if(Tn===re)return this.set(re,this.$M+An);if(Tn===ae)return this.set(ae,this.$y+An);if(Tn===z)return Zn(1);if(Tn===j)return Zn(7);var Qn=($n={},$n[V]=g,$n[L]=y,$n[$]=r,$n)[Tn]||1,Pn=this.$d.getTime()+An*Qn;return At.w(Pn,this)},jt.subtract=function(An,Mn){return this.add(-1*An,Mn)},jt.format=function(An){var Mn=this,$n=this.$locale();if(!this.isValid())return $n.invalidDate||ue;var Ln=An||"YYYY-MM-DDTHH:mm:ssZ",Tn=At.z(this),Zn=this.$H,Qn=this.$m,Pn=this.$M,Wn=$n.weekdays,ur=$n.months,hr=$n.meridiem,Vn=function(cr,gr,Cr,ir){return cr&&(cr[gr]||cr(Mn,Ln))||Cr[gr].slice(0,ir)},En=function(cr){return At.s(Zn%12||12,cr,"0")},jn=hr||function(cr,gr,Cr){var ir=cr<12?"AM":"PM";return Cr?ir.toLowerCase():ir};return Ln.replace(he,function(cr,gr){return gr||function(Cr){switch(Cr){case"YY":return String(Mn.$y).slice(-2);case"YYYY":return At.s(Mn.$y,4,"0");case"M":return Pn+1;case"MM":return At.s(Pn+1,2,"0");case"MMM":return Vn($n.monthsShort,Pn,ur,3);case"MMMM":return Vn(ur,Pn);case"D":return Mn.$D;case"DD":return At.s(Mn.$D,2,"0");case"d":return String(Mn.$W);case"dd":return Vn($n.weekdaysMin,Mn.$W,Wn,2);case"ddd":return Vn($n.weekdaysShort,Mn.$W,Wn,3);case"dddd":return Wn[Mn.$W];case"H":return String(Zn);case"HH":return At.s(Zn,2,"0");case"h":return En(1);case"hh":return En(2);case"a":return jn(Zn,Qn,!0);case"A":return jn(Zn,Qn,!1);case"m":return String(Qn);case"mm":return At.s(Qn,2,"0");case"s":return String(Mn.$s);case"ss":return At.s(Mn.$s,2,"0");case"SSS":return At.s(Mn.$ms,3,"0");case"Z":return Tn}return null}(cr)||Tn.replace(":","")})},jt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},jt.diff=function(An,Mn,$n){var Ln,Tn=this,Zn=At.p(Mn),Qn=kt(An),Pn=(Qn.utcOffset()-this.utcOffset())*g,Wn=this-Qn,ur=function(){return At.m(Tn,Qn)};switch(Zn){case ae:Ln=ur()/12;break;case re:Ln=ur();break;case oe:Ln=ur()/3;break;case j:Ln=(Wn-Pn)/6048e5;break;case z:Ln=(Wn-Pn)/864e5;break;case L:Ln=Wn/y;break;case V:Ln=Wn/g;break;case $:Ln=Wn/r;break;default:Ln=Wn}return $n?Ln:At.a(Ln)},jt.daysInMonth=function(){return this.endOf(re).$D},jt.$locale=function(){return Ce[this.$L]},jt.locale=function(An,Mn){if(!An)return this.$L;var $n=this.clone(),Ln=ze(An,Mn,!0);return Ln&&($n.$L=Ln),$n},jt.clone=function(){return At.w(this.$d,this)},jt.toDate=function(){return new Date(this.valueOf())},jt.toJSON=function(){return this.isValid()?this.toISOString():null},jt.toISOString=function(){return this.$d.toISOString()},jt.toString=function(){return this.$d.toUTCString()},On}(),Dt=Cn.prototype;return kt.prototype=Dt,[["$ms",k],["$s",$],["$m",V],["$H",L],["$W",z],["$M",re],["$y",ae],["$D",de]].forEach(function(On){Dt[On[1]]=function(jt){return this.$g(jt,On[0],On[1])}}),kt.extend=function(On,jt){return On.$i||(On(jt,Cn,kt),On.$i=!0),kt},kt.locale=ze,kt.isDayjs=Fe,kt.unix=function(On){return kt(1e3*On)},kt.en=Ce[Ne],kt.Ls=Ce,kt.p={},kt})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var customParseFormat$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},g=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,y=/\d\d/,k=/\d\d?/,$=/\d*[^-_:/,()\s\d]+/,V={},L=function(ue){return(ue=+ue)+(ue>68?1900:2e3)},z=function(ue){return function(pe){this[ue]=+pe}},j=[/[+-]\d\d:?(\d\d)?|Z/,function(ue){(this.zone||(this.zone={})).offset=function(pe){if(!pe||pe==="Z")return 0;var he=pe.match(/([+-]|\d\d)/g),Oe=60*he[1]+(+he[2]||0);return Oe===0?0:he[0]==="+"?-Oe:Oe}(ue)}],re=function(ue){var pe=V[ue];return pe&&(pe.indexOf?pe:pe.s.concat(pe.f))},oe=function(ue,pe){var he,Oe=V.meridiem;if(Oe){for(var xe=1;xe<=24;xe+=1)if(ue.indexOf(Oe(xe,0,pe))>-1){he=xe>12;break}}else he=ue===(pe?"pm":"PM");return he},ae={A:[$,function(ue){this.afternoon=oe(ue,!1)}],a:[$,function(ue){this.afternoon=oe(ue,!0)}],S:[/\d/,function(ue){this.milliseconds=100*+ue}],SS:[y,function(ue){this.milliseconds=10*+ue}],SSS:[/\d{3}/,function(ue){this.milliseconds=+ue}],s:[k,z("seconds")],ss:[k,z("seconds")],m:[k,z("minutes")],mm:[k,z("minutes")],H:[k,z("hours")],h:[k,z("hours")],HH:[k,z("hours")],hh:[k,z("hours")],D:[k,z("day")],DD:[y,z("day")],Do:[$,function(ue){var pe=V.ordinal,he=ue.match(/\d+/);if(this.day=he[0],pe)for(var Oe=1;Oe<=31;Oe+=1)pe(Oe).replace(/\[|\]/g,"")===ue&&(this.day=Oe)}],M:[k,z("month")],MM:[y,z("month")],MMM:[$,function(ue){var pe=re("months"),he=(re("monthsShort")||pe.map(function(Oe){return Oe.slice(0,3)})).indexOf(ue)+1;if(he<1)throw new Error;this.month=he%12||he}],MMMM:[$,function(ue){var pe=re("months").indexOf(ue)+1;if(pe<1)throw new Error;this.month=pe%12||pe}],Y:[/[+-]?\d+/,z("year")],YY:[y,function(ue){this.year=L(ue)}],YYYY:[/\d{4}/,z("year")],Z:j,ZZ:j};function de(ue){var pe,he;pe=ue,he=V&&V.formats;for(var Oe=(ue=pe.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(kt,At,Cn){var Dt=Cn&&Cn.toUpperCase();return At||he[Cn]||r[Cn]||he[Dt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(On,jt,An){return jt||An.slice(1)})})).match(g),xe=Oe.length,$e=0;$e<xe;$e+=1){var Ne=Oe[$e],Ce=ae[Ne],Fe=Ce&&Ce[0],ze=Ce&&Ce[1];Oe[$e]=ze?{regex:Fe,parser:ze}:Ne.replace(/^\[|\]$/g,"")}return function(kt){for(var At={},Cn=0,Dt=0;Cn<xe;Cn+=1){var On=Oe[Cn];if(typeof On=="string")Dt+=On.length;else{var jt=On.regex,An=On.parser,Mn=kt.slice(Dt),$n=jt.exec(Mn)[0];An.call(At,$n),kt=kt.replace($n,"")}}return function(Ln){var Tn=Ln.afternoon;if(Tn!==void 0){var Zn=Ln.hours;Tn?Zn<12&&(Ln.hours+=12):Zn===12&&(Ln.hours=0),delete Ln.afternoon}}(At),At}}return function(ue,pe,he){he.p.customParseFormat=!0,ue&&ue.parseTwoDigitYear&&(L=ue.parseTwoDigitYear);var Oe=pe.prototype,xe=Oe.parse;Oe.parse=function($e){var Ne=$e.date,Ce=$e.utc,Fe=$e.args;this.$u=Ce;var ze=Fe[1];if(typeof ze=="string"){var kt=Fe[2]===!0,At=Fe[3]===!0,Cn=kt||At,Dt=Fe[2];At&&(Dt=Fe[2]),V=this.$locale(),!kt&&Dt&&(V=he.Ls[Dt]),this.$d=function(Mn,$n,Ln){try{if(["x","X"].indexOf($n)>-1)return new Date(($n==="X"?1e3:1)*Mn);var Tn=de($n)(Mn),Zn=Tn.year,Qn=Tn.month,Pn=Tn.day,Wn=Tn.hours,ur=Tn.minutes,hr=Tn.seconds,Vn=Tn.milliseconds,En=Tn.zone,jn=new Date,cr=Pn||(Zn||Qn?1:jn.getDate()),gr=Zn||jn.getFullYear(),Cr=0;Zn&&!Qn||(Cr=Qn>0?Qn-1:jn.getMonth());var ir=Wn||0,Gn=ur||0,hn=hr||0,Kn=Vn||0;return En?new Date(Date.UTC(gr,Cr,cr,ir,Gn,hn,Kn+60*En.offset*1e3)):Ln?new Date(Date.UTC(gr,Cr,cr,ir,Gn,hn,Kn)):new Date(gr,Cr,cr,ir,Gn,hn,Kn)}catch{return new Date("")}}(Ne,ze,Ce),this.init(),Dt&&Dt!==!0&&(this.$L=this.locale(Dt).$L),Cn&&Ne!=this.format(ze)&&(this.$d=new Date("")),V={}}else if(ze instanceof Array)for(var On=ze.length,jt=1;jt<=On;jt+=1){Fe[1]=ze[jt-1];var An=he.apply(this,Fe);if(An.isValid()){this.$d=An.$d,this.$L=An.$L,this.init();break}jt===On&&(this.$d=new Date(""))}else xe.call(this,$e)}}})})(customParseFormat$1);var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs(customParseFormatExports),timeUnits$1=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},buildTimeList=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],rangeArr=n=>Array.from(Array.from({length:n}).keys()),extractDateFormat=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(n,e){const r=isDate$1(n),g=isDate$1(e);return r&&g?n.getTime()===e.getTime():!r&&!g?n===e:!1},valueEquals=function(n,e){const r=isArray$3(n),g=isArray$3(e);return r&&g?n.length!==e.length?!1:n.every((y,k)=>dateEquals(y,e[k])):!r&&!g?dateEquals(n,e):!1},parseDate=function(n,e,r){const g=isEmpty(e)||e==="x"?dayjs(n).locale(r):dayjs(n,e).locale(r);return g.isValid()?g:void 0},formatter=function(n,e,r){return isEmpty(e)?n:e==="x"?+n:dayjs(n).locale(r).format(e)},makeList=(n,e)=>{var r;const g=[],y=e?.();for(let k=0;k<n;k++)g.push((r=y?.includes(k))!=null?r:!1);return g},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:{type:Boolean,default:!1},...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),_hoisted_1$1U=["id","name","placeholder","value","disabled","readonly"],_hoisted_2$1w=["id","name","placeholder","value","disabled","readonly"],__default__$1g=defineComponent({name:"Picker"}),_sfc_main$2S=defineComponent({...__default__$1g,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:r}){const g=n,y=useAttrs$1(),{lang:k}=useLocale(),$=useNamespace("date"),V=useNamespace("input"),L=useNamespace("range"),{form:z,formItem:j}=useFormItem(),re=inject("ElPopperOptions",{}),oe=ref(),ae=ref(),de=ref(!1),ue=ref(!1),pe=ref(null);let he=!1,Oe=!1;const xe=computed(()=>[$.b("editor"),$.bm("editor",g.type),V.e("wrapper"),$.is("disabled",Pn.value),$.is("active",de.value),L.b("editor"),Lt?L.bm("editor",Lt.value):"",y.class]),$e=computed(()=>[V.e("icon"),L.e("close-icon"),cr.value?"":L.e("close-icon--hidden")]);watch(de,bn=>{bn?nextTick(()=>{bn&&(pe.value=g.modelValue)}):(Xn.value=null,nextTick(()=>{Ne(g.modelValue)}))});const Ne=(bn,In)=>{(In||!valueEquals(bn,pe.value))&&(r("change",bn),g.validateEvent&&j?.validate("change").catch(Fn=>void 0))},Ce=bn=>{if(!valueEquals(g.modelValue,bn)){let In;isArray$3(bn)?In=bn.map(Fn=>formatter(Fn,g.valueFormat,k.value)):bn&&(In=formatter(bn,g.valueFormat,k.value)),r("update:modelValue",bn&&In,k.value)}},Fe=bn=>{r("keydown",bn)},ze=computed(()=>{if(ae.value){const bn=Nn.value?ae.value:ae.value.$el;return Array.from(bn.querySelectorAll("input"))}return[]}),kt=(bn,In,Fn)=>{const Dn=ze.value;Dn.length&&(!Fn||Fn==="min"?(Dn[0].setSelectionRange(bn,In),Dn[0].focus()):Fn==="max"&&(Dn[1].setSelectionRange(bn,In),Dn[1].focus()))},At=()=>{Ln(!0,!0),nextTick(()=>{Oe=!1})},Cn=(bn="",In=!1)=>{In||(Oe=!0),de.value=In;let Fn;isArray$3(bn)?Fn=bn.map(Dn=>Dn.toDate()):Fn=bn&&bn.toDate(),Xn.value=null,Ce(Fn)},Dt=()=>{ue.value=!0},On=()=>{r("visible-change",!0)},jt=bn=>{bn?.key===EVENT_CODE.esc&&Ln(!0,!0)},An=()=>{ue.value=!1,de.value=!1,Oe=!1,r("visible-change",!1)},Mn=()=>{de.value=!0},$n=()=>{de.value=!1},Ln=(bn=!0,In=!1)=>{Oe=In;const[Fn,Dn]=unref(ze);let Un=Fn;!bn&&Nn.value&&(Un=Dn),Un&&Un.focus()},Tn=bn=>{g.readonly||Pn.value||de.value||Oe||(de.value=!0,r("focus",bn))};let Zn;const Qn=bn=>{const In=async()=>{setTimeout(()=>{var Fn;Zn===In&&(!((Fn=oe.value)!=null&&Fn.isFocusInsideContent()&&!he)&&ze.value.filter(Dn=>Dn.contains(document.activeElement)).length===0&&(rr(),de.value=!1,r("blur",bn),g.validateEvent&&j?.validate("blur").catch(Dn=>void 0)),he=!1)},0)};Zn=In,In()},Pn=computed(()=>g.disabled||z?.disabled),Wn=computed(()=>{let bn;if(Cr.value?Et.value.getDefaultValue&&(bn=Et.value.getDefaultValue()):isArray$3(g.modelValue)?bn=g.modelValue.map(In=>parseDate(In,g.valueFormat,k.value)):bn=parseDate(g.modelValue,g.valueFormat,k.value),Et.value.getRangeAvailableTime){const In=Et.value.getRangeAvailableTime(bn);isEqual$1(In,bn)||(bn=In,Ce(isArray$3(bn)?bn.map(Fn=>Fn.toDate()):bn.toDate()))}return isArray$3(bn)&&bn.some(In=>!In)&&(bn=[]),bn}),ur=computed(()=>{if(!Et.value.panelReady)return"";const bn=sr(Wn.value);return isArray$3(Xn.value)?[Xn.value[0]||bn&&bn[0]||"",Xn.value[1]||bn&&bn[1]||""]:Xn.value!==null?Xn.value:!Vn.value&&Cr.value||!de.value&&Cr.value?"":bn?En.value?bn.join(", "):bn:""}),hr=computed(()=>g.type.includes("time")),Vn=computed(()=>g.type.startsWith("time")),En=computed(()=>g.type==="dates"),jn=computed(()=>g.prefixIcon||(hr.value?clock_default:calendar_default)),cr=ref(!1),gr=bn=>{g.readonly||Pn.value||cr.value&&(bn.stopPropagation(),At(),Ce(null),Ne(null,!0),cr.value=!1,de.value=!1,Et.value.handleClear&&Et.value.handleClear())},Cr=computed(()=>{const{modelValue:bn}=g;return!bn||isArray$3(bn)&&!bn.filter(Boolean).length}),ir=async bn=>{var In;g.readonly||Pn.value||(((In=bn.target)==null?void 0:In.tagName)!=="INPUT"||ze.value.includes(document.activeElement))&&(de.value=!0)},Gn=()=>{g.readonly||Pn.value||!Cr.value&&g.clearable&&(cr.value=!0)},hn=()=>{cr.value=!1},Kn=bn=>{var In;g.readonly||Pn.value||(((In=bn.touches[0].target)==null?void 0:In.tagName)!=="INPUT"||ze.value.includes(document.activeElement))&&(de.value=!0)},Nn=computed(()=>g.type.includes("range")),Lt=useFormSize(),_n=computed(()=>{var bn,In;return(In=(bn=unref(oe))==null?void 0:bn.popperRef)==null?void 0:In.contentRef}),Bn=computed(()=>{var bn;return unref(Nn)?unref(ae):(bn=unref(ae))==null?void 0:bn.$el});onClickOutside(Bn,bn=>{const In=unref(_n),Fn=unref(Bn);In&&(bn.target===In||bn.composedPath().includes(In))||bn.target===Fn||bn.composedPath().includes(Fn)||(de.value=!1)});const Xn=ref(null),rr=()=>{if(Xn.value){const bn=ar(ur.value);bn&&mr(bn)&&(Ce(isArray$3(bn)?bn.map(In=>In.toDate()):bn.toDate()),Xn.value=null)}Xn.value===""&&(Ce(null),Ne(null),Xn.value=null)},ar=bn=>bn?Et.value.parseUserInput(bn):null,sr=bn=>bn?Et.value.formatToString(bn):null,mr=bn=>Et.value.isValidValue(bn),lr=async bn=>{if(g.readonly||Pn.value)return;const{code:In}=bn;if(Fe(bn),In===EVENT_CODE.esc){de.value===!0&&(de.value=!1,bn.preventDefault(),bn.stopPropagation());return}if(In===EVENT_CODE.down&&(Et.value.handleFocusPicker&&(bn.preventDefault(),bn.stopPropagation()),de.value===!1&&(de.value=!0,await nextTick()),Et.value.handleFocusPicker)){Et.value.handleFocusPicker();return}if(In===EVENT_CODE.tab){he=!0;return}if(In===EVENT_CODE.enter||In===EVENT_CODE.numpadEnter){(Xn.value===null||Xn.value===""||mr(ar(ur.value)))&&(rr(),de.value=!1),bn.stopPropagation();return}if(Xn.value){bn.stopPropagation();return}Et.value.handleKeydownInput&&Et.value.handleKeydownInput(bn)},le=bn=>{Xn.value=bn,de.value||(de.value=!0)},_e=bn=>{const In=bn.target;Xn.value?Xn.value=[In.value,Xn.value[1]]:Xn.value=[In.value,null]},Ie=bn=>{const In=bn.target;Xn.value?Xn.value=[Xn.value[0],In.value]:Xn.value=[null,In.value]},Ue=()=>{var bn;const In=Xn.value,Fn=ar(In&&In[0]),Dn=unref(Wn);if(Fn&&Fn.isValid()){Xn.value=[sr(Fn),((bn=ur.value)==null?void 0:bn[1])||null];const Un=[Fn,Dn&&(Dn[1]||null)];mr(Un)&&(Ce(Un),Xn.value=null)}},qe=()=>{var bn;const In=unref(Xn),Fn=ar(In&&In[1]),Dn=unref(Wn);if(Fn&&Fn.isValid()){Xn.value=[((bn=unref(ur))==null?void 0:bn[0])||null,sr(Fn)];const Un=[Dn&&Dn[0],Fn];mr(Un)&&(Ce(Un),Xn.value=null)}},Et=ref({}),vn=bn=>{Et.value[bn[0]]=bn[1],Et.value.panelReady=!0},Pt=bn=>{r("calendar-change",bn)},wn=(bn,In,Fn)=>{r("panel-change",bn,In,Fn)};return provide("EP_PICKER_BASE",{props:g}),e({focus:Ln,handleFocusInput:Tn,handleBlurInput:Qn,handleOpen:Mn,handleClose:$n,onPick:Cn}),(bn,In)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:oe,visible:de.value,effect:"light",pure:"",trigger:"click"},bn.$attrs,{role:"dialog",teleported:"",transition:`${unref($).namespace.value}-zoom-in-top`,"popper-class":[`${unref($).namespace.value}-picker__popper`,bn.popperClass],"popper-options":unref(re),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Dt,onShow:On,onHide:An}),{default:withCtx(()=>[unref(Nn)?(openBlock(),createElementBlock("div",{key:1,ref_key:"inputRef",ref:ae,class:normalizeClass(unref(xe)),style:normalizeStyle(bn.$attrs.style),onClick:Tn,onMouseenter:Gn,onMouseleave:hn,onTouchstart:Kn,onKeydown:lr},[unref(jn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(V).e("icon"),unref(L).e("icon")]),onMousedown:withModifiers(ir,["prevent"]),onTouchstart:Kn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(jn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),createBaseVNode("input",{id:bn.id&&bn.id[0],autocomplete:"off",name:bn.name&&bn.name[0],placeholder:bn.startPlaceholder,value:unref(ur)&&unref(ur)[0],disabled:unref(Pn),readonly:!bn.editable||bn.readonly,class:normalizeClass(unref(L).b("input")),onMousedown:ir,onInput:_e,onChange:Ue,onFocus:Tn,onBlur:Qn},null,42,_hoisted_1$1U),renderSlot(bn.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(L).b("separator"))},toDisplayString$1(bn.rangeSeparator),3)]),createBaseVNode("input",{id:bn.id&&bn.id[1],autocomplete:"off",name:bn.name&&bn.name[1],placeholder:bn.endPlaceholder,value:unref(ur)&&unref(ur)[1],disabled:unref(Pn),readonly:!bn.editable||bn.readonly,class:normalizeClass(unref(L).b("input")),onMousedown:ir,onFocus:Tn,onBlur:Qn,onInput:Ie,onChange:qe},null,42,_hoisted_2$1w),bn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref($e)),onClick:gr},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(bn.clearIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],38)):(openBlock(),createBlock(unref(ElInput),{key:0,id:bn.id,ref_key:"inputRef",ref:ae,"container-role":"combobox","model-value":unref(ur),name:bn.name,size:unref(Lt),disabled:unref(Pn),placeholder:bn.placeholder,class:normalizeClass([unref($).b("editor"),unref($).bm("editor",bn.type),bn.$attrs.class]),style:normalizeStyle(bn.$attrs.style),readonly:!bn.editable||bn.readonly||unref(En)||bn.type==="week",label:bn.label,tabindex:bn.tabindex,"validate-event":!1,onInput:le,onFocus:Tn,onBlur:Qn,onKeydown:lr,onChange:rr,onMousedown:ir,onMouseenter:Gn,onMouseleave:hn,onTouchstart:Kn,onClick:In[0]||(In[0]=withModifiers(()=>{},["stop"]))},{prefix:withCtx(()=>[unref(jn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).e("icon")),onMousedown:withModifiers(ir,["prevent"]),onTouchstart:Kn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(jn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[cr.value&&bn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(V).e("icon")} clear-icon`),onClick:withModifiers(gr,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(bn.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:withCtx(()=>[renderSlot(bn.$slots,"default",{visible:de.value,actualVisible:ue.value,parsedValue:unref(Wn),format:bn.format,unlinkPanels:bn.unlinkPanels,type:bn.type,defaultValue:bn.defaultValue,onPick:Cn,onSelectRange:kt,onSetPickerOption:vn,onCalendarChange:Pt,onPanelChange:wn,onKeydown:jt,onMousedown:In[1]||(In[1]=withModifiers(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var CommonPicker=_export_sfc$1(_sfc_main$2S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:r})=>{const g=($,V,L,z)=>{const j={hour:n,minute:e,second:r};let re=$;return["hour","minute","second"].forEach(oe=>{if(j[oe]){let ae;const de=j[oe];switch(oe){case"minute":{ae=de(re.hour(),V,z);break}case"second":{ae=de(re.hour(),re.minute(),V,z);break}default:{ae=de(V,z);break}}if(ae?.length&&!ae.includes(re[oe]())){const ue=L?0:ae.length-1;re=re[oe](ae[ue])}}}),re},y={};return{timePickerOptions:y,getAvailableTime:g,onSetOption:([$,V])=>{y[$]=V}}},makeAvailableArr=n=>{const e=(g,y)=>g||y,r=g=>g!==!0;return n.map(e).filter(r)},getTimeLists=(n,e,r)=>({getHoursList:($,V)=>makeList(24,n&&(()=>n?.($,V))),getMinutesList:($,V,L)=>makeList(60,e&&(()=>e?.($,V,L))),getSecondsList:($,V,L,z)=>makeList(60,r&&(()=>r?.($,V,L,z)))}),buildAvailableTimeSlotGetter=(n,e,r)=>{const{getHoursList:g,getMinutesList:y,getSecondsList:k}=getTimeLists(n,e,r);return{getAvailableHours:(z,j)=>makeAvailableArr(g(z,j)),getAvailableMinutes:(z,j,re)=>makeAvailableArr(y(z,j,re)),getAvailableSeconds:(z,j,re,oe)=>makeAvailableArr(k(z,j,re,oe))}},useOldValue=n=>{const e=ref(n.parsedValue);return watch(()=>n.visible,r=>{r||(e.value=n.parsedValue)}),e},nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",n=>startClick=n),document.addEventListener("mouseup",n=>{for(const e of nodeList.values())for(const{documentHandler:r}of e)r(n,startClick)}));function createDocumentHandler(n,e){let r=[];return Array.isArray(e.arg)?r=e.arg:isElement$1(e.arg)&&r.push(e.arg),function(g,y){const k=e.instance.popperRef,$=g.target,V=y?.target,L=!e||!e.instance,z=!$||!V,j=n.contains($)||n.contains(V),re=n===$,oe=r.length&&r.some(de=>de?.contains($))||r.length&&r.includes(V),ae=k&&(k.contains($)||k.contains(V));L||z||j||re||oe||ae||e.value(g,y)}}const ClickOutside={beforeMount(n,e){nodeList.has(n)||nodeList.set(n,[]),nodeList.get(n).push({documentHandler:createDocumentHandler(n,e),bindingFn:e.value})},updated(n,e){nodeList.has(n)||nodeList.set(n,[]);const r=nodeList.get(n),g=r.findIndex(k=>k.bindingFn===e.oldValue),y={documentHandler:createDocumentHandler(n,e),bindingFn:e.value};g>=0?r.splice(g,1,y):r.push(y)},unmounted(n){nodeList.delete(n)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(n,e){const r=e.value,{interval:g=REPEAT_INTERVAL,delay:y=REPEAT_DELAY}=isFunction$3(r)?{}:r;let k,$;const V=()=>isFunction$3(r)?r():r.handler(),L=()=>{$&&(clearTimeout($),$=void 0),k&&(clearInterval(k),k=void 0)};n.addEventListener("mousedown",z=>{z.button===0&&(L(),V(),document.addEventListener("mouseup",()=>L(),{once:!0}),$=setTimeout(()=>{k=setInterval(()=>{V()},g)},y))})}},FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=n=>{if(FOCUS_STACK.length===0)return;const e=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(e.length>0&&n.code===EVENT_CODE.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const r=n.shiftKey,g=n.target===e[0],y=n.target===e[e.length-1];g&&r&&(n.preventDefault(),e[e.length-1].focus()),y&&!r&&(n.preventDefault(),e[0].focus())}},TrapFocus={beforeMount(n){n[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(n),FOCUS_STACK.push(n),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(n){nextTick(()=>{n[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(n)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&document.removeEventListener("keydown",FOCUS_HANDLER)}};var v=!1,o,f,s,u,d$1,N,l,p$1,m,w$1,D,x,E,M,F;function a(){if(!v){v=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),r=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(x=/\b(iPhone|iP[ao]d)/.exec(n),E=/\b(iP[ao]d)/.exec(n),w$1=/Android/i.exec(n),M=/FBAN\/\w+;/i.exec(n),F=/Mobile/i.exec(n),D=!!/Win64/.exec(n),e){o=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var g=/(?:Trident\/(\d+.\d+))/.exec(n);N=g?parseFloat(g[1])+4:o,f=e[2]?parseFloat(e[2]):NaN,s=e[3]?parseFloat(e[3]):NaN,u=e[4]?parseFloat(e[4]):NaN,u?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),d$1=e&&e[1]?parseFloat(e[1]):NaN):d$1=NaN}else o=f=s=d$1=u=NaN;if(r){if(r[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);l=y?parseFloat(y[1].replace("_",".")):!0}else l=!1;p$1=!!r[2],m=!!r[3]}else l=p$1=m=!1}}var _={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N>o},ie64:function(){return _.ie()&&D},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _.webkit()},chrome:function(){return a()||d$1},windows:function(){return a()||p$1},osx:function(){return a()||l},linux:function(){return a()||m},iphone:function(){return a()||x},mobile:function(){return a()||x||E||w$1||F},nativeApp:function(){return a()||M},android:function(){return a()||w$1},ipad:function(){return a()||E}},A=_,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U={canUseDOM:c,canUseWorkers:typeof Worker<"u",canUseEventListeners:c&&!!(window.addEventListener||window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c},h=U,X;h.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(n,e){if(!h.canUseDOM||e&&!("addEventListener"in document))return!1;var r="on"+n,g=r in document;if(!g){var y=document.createElement("div");y.setAttribute(r,"return;"),g=typeof y[r]=="function"}return!g&&X&&n==="wheel"&&(g=document.implementation.hasFeature("Events.wheel","3.0")),g}var b=S,O=10,I=40,P=800;function T(n){var e=0,r=0,g=0,y=0;return"detail"in n&&(r=n.detail),"wheelDelta"in n&&(r=-n.wheelDelta/120),"wheelDeltaY"in n&&(r=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=r,r=0),g=e*O,y=r*O,"deltaY"in n&&(y=n.deltaY),"deltaX"in n&&(g=n.deltaX),(g||y)&&n.deltaMode&&(n.deltaMode==1?(g*=I,y*=I):(g*=P,y*=P)),g&&!e&&(e=g<1?-1:1),y&&!r&&(r=y<1?-1:1),{spinX:e,spinY:r,pixelX:g,pixelY:y}}T.getEventType=function(){return A.firefox()?"DOMMouseScroll":b("wheel")?"wheel":"mousewheel"};var Y=T;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const mousewheel=function(n,e){if(n&&n.addEventListener){const r=function(g){const y=Y(g);e&&Reflect.apply(e,this,[g,y])};n.addEventListener("wheel",r,{passive:!0})}},Mousewheel={beforeMount(n,e){mousewheel(n,e.value)}},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),_hoisted_1$1T=["onClick"],_hoisted_2$1v=["onMouseenter"],_sfc_main$2R=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(n,{emit:e}){const r=n,g=useNamespace("time"),{getHoursList:y,getMinutesList:k,getSecondsList:$}=getTimeLists(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let V=!1;const L=ref(),z=ref(),j=ref(),re=ref(),oe={hours:z,minutes:j,seconds:re},ae=computed(()=>r.showSeconds?timeUnits$1:timeUnits$1.slice(0,2)),de=computed(()=>{const{spinnerDate:Tn}=r,Zn=Tn.hour(),Qn=Tn.minute(),Pn=Tn.second();return{hours:Zn,minutes:Qn,seconds:Pn}}),ue=computed(()=>{const{hours:Tn,minutes:Zn}=unref(de);return{hours:y(r.role),minutes:k(Tn,r.role),seconds:$(Tn,Zn,r.role)}}),pe=computed(()=>{const{hours:Tn,minutes:Zn,seconds:Qn}=unref(de);return{hours:buildTimeList(Tn,23),minutes:buildTimeList(Zn,59),seconds:buildTimeList(Qn,59)}}),he=debounce(Tn=>{V=!1,$e(Tn)},200),Oe=Tn=>{if(!!!r.amPmMode)return"";const Qn=r.amPmMode==="A";let Pn=Tn<12?" am":" pm";return Qn&&(Pn=Pn.toUpperCase()),Pn},xe=Tn=>{let Zn;switch(Tn){case"hours":Zn=[0,2];break;case"minutes":Zn=[3,5];break;case"seconds":Zn=[6,8];break}const[Qn,Pn]=Zn;e("select-range",Qn,Pn),L.value=Tn},$e=Tn=>{Fe(Tn,unref(de)[Tn])},Ne=()=>{$e("hours"),$e("minutes"),$e("seconds")},Ce=Tn=>Tn.querySelector(`.${g.namespace.value}-scrollbar__wrap`),Fe=(Tn,Zn)=>{if(r.arrowControl)return;const Qn=unref(oe[Tn]);Qn&&Qn.$el&&(Ce(Qn.$el).scrollTop=Math.max(0,Zn*ze(Tn)))},ze=Tn=>{const Zn=unref(oe[Tn]),Qn=Zn?.$el.querySelector("li");return Qn&&Number.parseFloat(getStyle(Qn,"height"))||0},kt=()=>{Cn(1)},At=()=>{Cn(-1)},Cn=Tn=>{L.value||xe("hours");const Zn=L.value,Qn=unref(de)[Zn],Pn=L.value==="hours"?24:60,Wn=Dt(Zn,Qn,Tn,Pn);On(Zn,Wn),Fe(Zn,Wn),nextTick(()=>xe(Zn))},Dt=(Tn,Zn,Qn,Pn)=>{let Wn=(Zn+Qn+Pn)%Pn;const ur=unref(ue)[Tn];for(;ur[Wn]&&Wn!==Zn;)Wn=(Wn+Qn+Pn)%Pn;return Wn},On=(Tn,Zn)=>{if(unref(ue)[Tn][Zn])return;const{hours:Wn,minutes:ur,seconds:hr}=unref(de);let Vn;switch(Tn){case"hours":Vn=r.spinnerDate.hour(Zn).minute(ur).second(hr);break;case"minutes":Vn=r.spinnerDate.hour(Wn).minute(Zn).second(hr);break;case"seconds":Vn=r.spinnerDate.hour(Wn).minute(ur).second(Zn);break}e("change",Vn)},jt=(Tn,{value:Zn,disabled:Qn})=>{Qn||(On(Tn,Zn),xe(Tn),Fe(Tn,Zn))},An=Tn=>{V=!0,he(Tn);const Zn=Math.min(Math.round((Ce(unref(oe[Tn]).$el).scrollTop-(Mn(Tn)*.5-10)/ze(Tn)+3)/ze(Tn)),Tn==="hours"?23:59);On(Tn,Zn)},Mn=Tn=>unref(oe[Tn]).$el.offsetHeight,$n=()=>{const Tn=Zn=>{const Qn=unref(oe[Zn]);Qn&&Qn.$el&&(Ce(Qn.$el).onscroll=()=>{An(Zn)})};Tn("hours"),Tn("minutes"),Tn("seconds")};onMounted(()=>{nextTick(()=>{!r.arrowControl&&$n(),Ne(),r.role==="start"&&xe("hours")})});const Ln=(Tn,Zn)=>{oe[Zn].value=Tn};return e("set-option",[`${r.role}_scrollDown`,Cn]),e("set-option",[`${r.role}_emitSelectRange`,xe]),watch(()=>r.spinnerDate,()=>{V||Ne()}),(Tn,Zn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b("spinner"),{"has-seconds":Tn.showSeconds}])},[Tn.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(ae),Qn=>(openBlock(),createBlock(unref(ElScrollbar),{key:Qn,ref_for:!0,ref:Pn=>Ln(Pn,Qn),class:normalizeClass(unref(g).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(g).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Pn=>xe(Qn),onMousemove:Pn=>$e(Qn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ue)[Qn],(Pn,Wn)=>(openBlock(),createElementBlock("li",{key:Wn,class:normalizeClass([unref(g).be("spinner","item"),unref(g).is("active",Wn===unref(de)[Qn]),unref(g).is("disabled",Pn)]),onClick:ur=>jt(Qn,{value:Wn,disabled:Pn})},[Qn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(("0"+(Tn.amPmMode?Wn%12||12:Wn)).slice(-2))+toDisplayString$1(Oe(Wn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString$1(("0"+Wn).slice(-2)),1)],64))],10,_hoisted_1$1T))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),Tn.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(ae),Qn=>(openBlock(),createElementBlock("div",{key:Qn,class:normalizeClass([unref(g).be("spinner","wrapper"),unref(g).is("arrow")]),onMouseenter:Pn=>xe(Qn)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(g).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),At]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(g).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),kt]]),createBaseVNode("ul",{class:normalizeClass(unref(g).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(pe)[Qn],(Pn,Wn)=>(openBlock(),createElementBlock("li",{key:Wn,class:normalizeClass([unref(g).be("spinner","item"),unref(g).is("active",Pn===unref(de)[Qn]),unref(g).is("disabled",unref(ue)[Qn][Pn])])},[typeof Pn=="number"?(openBlock(),createElementBlock(Fragment,{key:0},[Qn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(("0"+(Tn.amPmMode?Pn%12||12:Pn)).slice(-2))+toDisplayString$1(Oe(Pn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString$1(("0"+Pn).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,_hoisted_2$1v))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc$1(_sfc_main$2R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const _sfc_main$2Q=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const r=n,g=inject("EP_PICKER_BASE"),{arrowControl:y,disabledHours:k,disabledMinutes:$,disabledSeconds:V,defaultValue:L}=g.props,{getAvailableHours:z,getAvailableMinutes:j,getAvailableSeconds:re}=buildAvailableTimeSlotGetter(k,$,V),oe=useNamespace("time"),{t:ae,lang:de}=useLocale(),ue=ref([0,2]),pe=useOldValue(r),he=computed(()=>isUndefined(r.actualVisible)?`${oe.namespace.value}-zoom-in-top`:""),Oe=computed(()=>r.format.includes("ss")),xe=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),$e=Ln=>{const Tn=dayjs(Ln).locale(de.value),Zn=jt(Tn);return Tn.isSame(Zn)},Ne=()=>{e("pick",pe.value,!1)},Ce=(Ln=!1,Tn=!1)=>{Tn||e("pick",r.parsedValue,Ln)},Fe=Ln=>{if(!r.visible)return;const Tn=jt(Ln).millisecond(0);e("pick",Tn,!0)},ze=(Ln,Tn)=>{e("select-range",Ln,Tn),ue.value=[Ln,Tn]},kt=Ln=>{const Tn=[0,3].concat(Oe.value?[6]:[]),Zn=["hours","minutes"].concat(Oe.value?["seconds"]:[]),Pn=(Tn.indexOf(ue.value[0])+Ln+Tn.length)%Tn.length;Cn.start_emitSelectRange(Zn[Pn])},At=Ln=>{const Tn=Ln.code,{left:Zn,right:Qn,up:Pn,down:Wn}=EVENT_CODE;if([Zn,Qn].includes(Tn)){kt(Tn===Zn?-1:1),Ln.preventDefault();return}if([Pn,Wn].includes(Tn)){const ur=Tn===Pn?-1:1;Cn.start_scrollDown(ur),Ln.preventDefault();return}},{timePickerOptions:Cn,onSetOption:Dt,getAvailableTime:On}=useTimePanel({getAvailableHours:z,getAvailableMinutes:j,getAvailableSeconds:re}),jt=Ln=>On(Ln,r.datetimeRole||"",!0),An=Ln=>Ln?dayjs(Ln,r.format).locale(de.value):null,Mn=Ln=>Ln?Ln.format(r.format):null,$n=()=>dayjs(L).locale(de.value);return e("set-picker-option",["isValidValue",$e]),e("set-picker-option",["formatToString",Mn]),e("set-picker-option",["parseUserInput",An]),e("set-picker-option",["handleKeydownInput",At]),e("set-picker-option",["getRangeAvailableTime",jt]),e("set-picker-option",["getDefaultValue",$n]),(Ln,Tn)=>(openBlock(),createBlock(Transition,{name:unref(he)},{default:withCtx(()=>[Ln.actualVisible||Ln.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(oe).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(oe).be("panel","content"),{"has-seconds":unref(Oe)}])},[createVNode(TimeSpinner,{ref:"spinner",role:Ln.datetimeRole||"start","arrow-control":unref(y),"show-seconds":unref(Oe),"am-pm-mode":unref(xe),"spinner-date":Ln.parsedValue,"disabled-hours":unref(k),"disabled-minutes":unref($),"disabled-seconds":unref(V),onChange:Fe,onSetOption:unref(Dt),onSelectRange:ze},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"cancel"]),onClick:Ne},toDisplayString$1(unref(ae)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"confirm"]),onClick:Tn[0]||(Tn[0]=Zn=>Ce())},toDisplayString$1(unref(ae)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc$1(_sfc_main$2Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$1S=["disabled"],_sfc_main$2P=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const r=n,g=(Cr,ir)=>{const Gn=[];for(let hn=Cr;hn<=ir;hn++)Gn.push(hn);return Gn},{t:y,lang:k}=useLocale(),$=useNamespace("time"),V=useNamespace("picker"),L=inject("EP_PICKER_BASE"),{arrowControl:z,disabledHours:j,disabledMinutes:re,disabledSeconds:oe,defaultValue:ae}=L.props,de=computed(()=>[$.be("range-picker","body"),$.be("panel","content"),$.is("arrow",z),$e.value?"has-seconds":""]),ue=computed(()=>[$.be("range-picker","body"),$.be("panel","content"),$.is("arrow",z),$e.value?"has-seconds":""]),pe=computed(()=>r.parsedValue[0]),he=computed(()=>r.parsedValue[1]),Oe=useOldValue(r),xe=()=>{e("pick",Oe.value,!1)},$e=computed(()=>r.format.includes("ss")),Ne=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),Ce=(Cr=!1)=>{e("pick",[pe.value,he.value],Cr)},Fe=Cr=>{At(Cr.millisecond(0),he.value)},ze=Cr=>{At(pe.value,Cr.millisecond(0))},kt=Cr=>{const ir=Cr.map(hn=>dayjs(hn).locale(k.value)),Gn=Qn(ir);return ir[0].isSame(Gn[0])&&ir[1].isSame(Gn[1])},At=(Cr,ir)=>{e("pick",[Cr,ir],!0)},Cn=computed(()=>pe.value>he.value),Dt=ref([0,2]),On=(Cr,ir)=>{e("select-range",Cr,ir,"min"),Dt.value=[Cr,ir]},jt=computed(()=>$e.value?11:8),An=(Cr,ir)=>{e("select-range",Cr,ir,"max");const Gn=unref(jt);Dt.value=[Cr+Gn,ir+Gn]},Mn=Cr=>{const ir=$e.value?[0,3,6,11,14,17]:[0,3,8,11],Gn=["hours","minutes"].concat($e.value?["seconds"]:[]),Kn=(ir.indexOf(Dt.value[0])+Cr+ir.length)%ir.length,Nn=ir.length/2;Kn<Nn?hr.start_emitSelectRange(Gn[Kn]):hr.end_emitSelectRange(Gn[Kn-Nn])},$n=Cr=>{const ir=Cr.code,{left:Gn,right:hn,up:Kn,down:Nn}=EVENT_CODE;if([Gn,hn].includes(ir)){Mn(ir===Gn?-1:1),Cr.preventDefault();return}if([Kn,Nn].includes(ir)){const Lt=ir===Kn?-1:1,_n=Dt.value[0]<jt.value?"start":"end";hr[`${_n}_scrollDown`](Lt),Cr.preventDefault();return}},Ln=(Cr,ir)=>{const Gn=j?j(Cr):[],hn=Cr==="start",Nn=(ir||(hn?he.value:pe.value)).hour(),Lt=hn?g(Nn+1,23):g(0,Nn-1);return union(Gn,Lt)},Tn=(Cr,ir,Gn)=>{const hn=re?re(Cr,ir):[],Kn=ir==="start",Nn=Gn||(Kn?he.value:pe.value),Lt=Nn.hour();if(Cr!==Lt)return hn;const _n=Nn.minute(),Bn=Kn?g(_n+1,59):g(0,_n-1);return union(hn,Bn)},Zn=(Cr,ir,Gn,hn)=>{const Kn=oe?oe(Cr,ir,Gn):[],Nn=Gn==="start",Lt=hn||(Nn?he.value:pe.value),_n=Lt.hour(),Bn=Lt.minute();if(Cr!==_n||ir!==Bn)return Kn;const Xn=Lt.second(),rr=Nn?g(Xn+1,59):g(0,Xn-1);return union(Kn,rr)},Qn=([Cr,ir])=>[Vn(Cr,"start",!0,ir),Vn(ir,"end",!1,Cr)],{getAvailableHours:Pn,getAvailableMinutes:Wn,getAvailableSeconds:ur}=buildAvailableTimeSlotGetter(Ln,Tn,Zn),{timePickerOptions:hr,getAvailableTime:Vn,onSetOption:En}=useTimePanel({getAvailableHours:Pn,getAvailableMinutes:Wn,getAvailableSeconds:ur}),jn=Cr=>Cr?isArray$3(Cr)?Cr.map(ir=>dayjs(ir,r.format).locale(k.value)):dayjs(Cr,r.format).locale(k.value):null,cr=Cr=>Cr?isArray$3(Cr)?Cr.map(ir=>ir.format(r.format)):Cr.format(r.format):null,gr=()=>{if(isArray$3(ae))return ae.map(ir=>dayjs(ir).locale(k.value));const Cr=dayjs(ae).locale(k.value);return[Cr,Cr.add(60,"m")]};return e("set-picker-option",["formatToString",cr]),e("set-picker-option",["parseUserInput",jn]),e("set-picker-option",["isValidValue",kt]),e("set-picker-option",["handleKeydownInput",$n]),e("set-picker-option",["getDefaultValue",gr]),e("set-picker-option",["getRangeAvailableTime",Qn]),(Cr,ir)=>Cr.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref($).b("range-picker"),unref(V).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","header"))},toDisplayString$1(unref(y)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(unref(de))},[createVNode(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref($e),"am-pm-mode":unref(Ne),"arrow-control":unref(z),"spinner-date":unref(pe),"disabled-hours":Ln,"disabled-minutes":Tn,"disabled-seconds":Zn,onChange:Fe,onSetOption:unref(En),onSelectRange:On},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref($).be("range-picker","header"))},toDisplayString$1(unref(y)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(unref(ue))},[createVNode(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref($e),"am-pm-mode":unref(Ne),"arrow-control":unref(z),"spinner-date":unref(he),"disabled-hours":Ln,"disabled-minutes":Tn,"disabled-seconds":Zn,onChange:ze,onSetOption:unref(En),onSelectRange:An},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref($).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref($).be("panel","btn"),"cancel"]),onClick:ir[0]||(ir[0]=Gn=>xe())},toDisplayString$1(unref(y)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref($).be("panel","btn"),"confirm"]),disabled:unref(Cn),onClick:ir[1]||(ir[1]=Gn=>Ce())},toDisplayString$1(unref(y)("el.datepicker.confirm")),11,_hoisted_1$1S)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc$1(_sfc_main$2P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,e){const r=ref(),[g,y]=n.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],k=$=>e.emit("update:modelValue",$);return provide("ElPopperOptions",n.popperOptions),e.expose({focus:$=>{var V;(V=r.value)==null||V.handleFocusInput($)},blur:$=>{var V;(V=r.value)==null||V.handleBlurInput($)},handleOpen:()=>{var $;($=r.value)==null||$.handleOpen()},handleClose:()=>{var $;($=r.value)==null||$.handleClose()}}),()=>{var $;const V=($=n.format)!=null?$:DEFAULT_FORMATS_TIME;return createVNode(CommonPicker,mergeProps(n,{ref:r,type:g,format:V,"onUpdate:modelValue":k}),{default:L=>createVNode(y,L,null)})}}});const _TimePicker=TimePicker;_TimePicker.install=n=>{n.component(_TimePicker.name,_TimePicker)};const ElTimePicker=_TimePicker,getPrevMonthLastDays=(n,e)=>{const r=n.subtract(1,"month").endOf("month").date();return rangeArr(e).map((g,y)=>r-(e-y-1))},getMonthDays=n=>{const e=n.daysInMonth();return rangeArr(e).map((r,g)=>g+1)},toNestedArr=n=>rangeArr(n.length/7).map(e=>{const r=e*7;return n.slice(r,r+7)}),dateTableProps=buildProps({selectedDay:{type:definePropType(Object)},range:{type:definePropType(Array)},date:{type:definePropType(Object),required:!0},hideHeader:{type:Boolean}}),dateTableEmits={pick:n=>isObject$3(n)};var localeData$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g,y){var k=g.prototype,$=function(re){return re&&(re.indexOf?re:re.s)},V=function(re,oe,ae,de,ue){var pe=re.name?re:re.$locale(),he=$(pe[oe]),Oe=$(pe[ae]),xe=he||Oe.map(function(Ne){return Ne.slice(0,de)});if(!ue)return xe;var $e=pe.weekStart;return xe.map(function(Ne,Ce){return xe[(Ce+($e||0))%7]})},L=function(){return y.Ls[y.locale()]},z=function(re,oe){return re.formats[oe]||function(ae){return ae.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(de,ue,pe){return ue||pe.slice(1)})}(re.formats[oe.toUpperCase()])},j=function(){var re=this;return{months:function(oe){return oe?oe.format("MMMM"):V(re,"months")},monthsShort:function(oe){return oe?oe.format("MMM"):V(re,"monthsShort","months",3)},firstDayOfWeek:function(){return re.$locale().weekStart||0},weekdays:function(oe){return oe?oe.format("dddd"):V(re,"weekdays")},weekdaysMin:function(oe){return oe?oe.format("dd"):V(re,"weekdaysMin","weekdays",2)},weekdaysShort:function(oe){return oe?oe.format("ddd"):V(re,"weekdaysShort","weekdays",3)},longDateFormat:function(oe){return z(re.$locale(),oe)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};k.localeData=function(){return j.bind(this)()},y.localeData=function(){var re=L();return{firstDayOfWeek:function(){return re.weekStart||0},weekdays:function(){return y.weekdays()},weekdaysShort:function(){return y.weekdaysShort()},weekdaysMin:function(){return y.weekdaysMin()},months:function(){return y.months()},monthsShort:function(){return y.monthsShort()},longDateFormat:function(oe){return z(re,oe)},meridiem:re.meridiem,ordinal:re.ordinal}},y.months=function(){return V(L(),"months")},y.monthsShort=function(){return V(L(),"monthsShort","months",3)},y.weekdays=function(re){return V(L(),"weekdays",null,null,re)},y.weekdaysShort=function(re){return V(L(),"weekdaysShort","weekdays",3,re)},y.weekdaysMin=function(re){return V(L(),"weekdaysMin","weekdays",2,re)}}})})(localeData$1);var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs(localeDataExports),useDateTable=(n,e)=>{dayjs.extend(localeData);const r=dayjs.localeData().firstDayOfWeek(),{t:g,lang:y}=useLocale(),k=dayjs().locale(y.value),$=computed(()=>!!n.range&&!!n.range.length),V=computed(()=>{let oe=[];if($.value){const[ae,de]=n.range,ue=rangeArr(de.date()-ae.date()+1).map(Oe=>({text:ae.date()+Oe,type:"current"}));let pe=ue.length%7;pe=pe===0?0:7-pe;const he=rangeArr(pe).map((Oe,xe)=>({text:xe+1,type:"next"}));oe=ue.concat(he)}else{const ae=n.date.startOf("month").day(),de=getPrevMonthLastDays(n.date,(ae-r+7)%7).map(Oe=>({text:Oe,type:"prev"})),ue=getMonthDays(n.date).map(Oe=>({text:Oe,type:"current"}));oe=[...de,...ue];const pe=7-(oe.length%7||7),he=rangeArr(pe).map((Oe,xe)=>({text:xe+1,type:"next"}));oe=oe.concat(he)}return toNestedArr(oe)}),L=computed(()=>{const oe=r;return oe===0?WEEK_DAYS.map(ae=>g(`el.datepicker.weeks.${ae}`)):WEEK_DAYS.slice(oe).concat(WEEK_DAYS.slice(0,oe)).map(ae=>g(`el.datepicker.weeks.${ae}`))}),z=(oe,ae)=>{switch(ae){case"prev":return n.date.startOf("month").subtract(1,"month").date(oe);case"next":return n.date.startOf("month").add(1,"month").date(oe);case"current":return n.date.date(oe)}};return{now:k,isInRange:$,rows:V,weekDays:L,getFormattedDate:z,handlePickDay:({text:oe,type:ae})=>{const de=z(oe,ae);e("pick",de)},getSlotData:({text:oe,type:ae})=>{const de=z(oe,ae);return{isSelected:de.isSame(n.selectedDay),type:`${ae}-month`,day:de.format("YYYY-MM-DD"),date:de.toDate()}}}},_hoisted_1$1R={key:0},_hoisted_2$1u=["onClick"],__default__$1f=defineComponent({name:"DateTable"}),_sfc_main$2O=defineComponent({...__default__$1f,props:dateTableProps,emits:dateTableEmits,setup(n,{expose:e,emit:r}){const g=n,{isInRange:y,now:k,rows:$,weekDays:V,getFormattedDate:L,handlePickDay:z,getSlotData:j}=useDateTable(g,r),re=useNamespace("calendar-table"),oe=useNamespace("calendar-day"),ae=({text:de,type:ue})=>{const pe=[ue];if(ue==="current"){const he=L(de,ue);he.isSame(g.selectedDay,"day")&&pe.push(oe.is("selected")),he.isSame(k,"day")&&pe.push(oe.is("today"))}return pe};return e({getFormattedDate:L}),(de,ue)=>(openBlock(),createElementBlock("table",{class:normalizeClass([unref(re).b(),unref(re).is("range",unref(y))]),cellspacing:"0",cellpadding:"0"},[de.hideHeader?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("thead",_hoisted_1$1R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),pe=>(openBlock(),createElementBlock("th",{key:pe},toDisplayString$1(pe),1))),128))])),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(pe,he)=>(openBlock(),createElementBlock("tr",{key:he,class:normalizeClass({[unref(re).e("row")]:!0,[unref(re).em("row","hide-border")]:he===0&&de.hideHeader})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(pe,(Oe,xe)=>(openBlock(),createElementBlock("td",{key:xe,class:normalizeClass(ae(Oe)),onClick:$e=>unref(z)(Oe)},[createBaseVNode("div",{class:normalizeClass(unref(oe).b())},[renderSlot(de.$slots,"date-cell",{data:unref(j)(Oe)},()=>[createBaseVNode("span",null,toDisplayString$1(Oe.text),1)])],2)],10,_hoisted_2$1u))),128))],2))),128))])],2))}});var DateTable$1=_export_sfc$1(_sfc_main$2O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const adjacentMonth=(n,e)=>{const r=n.endOf("month"),g=e.startOf("month"),k=r.isSame(g,"week")?g.add(1,"week"):g;return[[n,r],[k.startOf("week"),e]]},threeConsecutiveMonth=(n,e)=>{const r=n.endOf("month"),g=n.add(1,"month").startOf("month"),y=r.isSame(g,"week")?g.add(1,"week"):g,k=y.endOf("month"),$=e.startOf("month"),V=k.isSame($,"week")?$.add(1,"week"):$;return[[n,r],[y.startOf("week"),k],[V.startOf("week"),e]]},useCalendar=(n,e,r)=>{const g=useSlots(),{lang:y}=useLocale(),k=ref(),$=dayjs().locale(y.value),V=computed({get(){return n.modelValue?z.value:k.value},set(he){if(!he)return;k.value=he;const Oe=he.toDate();e(INPUT_EVENT,Oe),e(UPDATE_MODEL_EVENT,Oe)}}),L=computed(()=>{if(!n.range)return[];const he=n.range.map($e=>dayjs($e).locale(y.value)),[Oe,xe]=he;return Oe.isAfter(xe)?[]:Oe.isSame(xe,"month")?de(Oe,xe):Oe.add(1,"month").month()!==xe.month()?[]:de(Oe,xe)}),z=computed(()=>n.modelValue?dayjs(n.modelValue).locale(y.value):V.value||(L.value.length?L.value[0][0]:$)),j=computed(()=>z.value.subtract(1,"month").date(1)),re=computed(()=>z.value.add(1,"month").date(1)),oe=computed(()=>z.value.subtract(1,"year").date(1)),ae=computed(()=>z.value.add(1,"year").date(1)),de=(he,Oe)=>{const xe=he.startOf("week"),$e=Oe.endOf("week"),Ne=xe.get("month"),Ce=$e.get("month");return Ne===Ce?[[xe,$e]]:(Ne+1)%12===Ce?adjacentMonth(xe,$e):Ne+2===Ce||(Ne+1)%11===Ce?threeConsecutiveMonth(xe,$e):[]},ue=he=>{V.value=he},pe=he=>{const xe={"prev-month":j.value,"next-month":re.value,"prev-year":oe.value,"next-year":ae.value,today:$}[he];xe.isSame(z.value,"day")||ue(xe)};return useDeprecated({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},computed(()=>!!g.dateCell)),{calculateValidatedDateRange:de,date:z,realSelectedDay:V,pickDay:ue,selectDate:pe,validatedRange:L}},isValidRange$1=n=>isArray$3(n)&&n.length===2&&n.every(e=>isDate$1(e)),calendarProps=buildProps({modelValue:{type:Date},range:{type:definePropType(Array),validator:isValidRange$1}}),calendarEmits={[UPDATE_MODEL_EVENT]:n=>isDate$1(n),[INPUT_EVENT]:n=>isDate$1(n)},COMPONENT_NAME$g="ElCalendar",__default__$1e=defineComponent({name:COMPONENT_NAME$g}),_sfc_main$2N=defineComponent({...__default__$1e,props:calendarProps,emits:calendarEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("calendar"),{calculateValidatedDateRange:k,date:$,pickDay:V,realSelectedDay:L,selectDate:z,validatedRange:j}=useCalendar(g,r),{t:re}=useLocale(),oe=computed(()=>{const ae=`el.datepicker.month${$.value.format("M")}`;return`${$.value.year()} ${re("el.datepicker.year")} ${re(ae)}`});return e({selectedDay:L,pickDay:V,selectDate:z,calculateValidatedDateRange:k}),(ae,de)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("header"))},[renderSlot(ae.$slots,"header",{date:unref(oe)},()=>[createBaseVNode("div",{class:normalizeClass(unref(y).e("title"))},toDisplayString$1(unref(oe)),3),unref(j).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("button-group"))},[createVNode(unref(ElButtonGroup$1),null,{default:withCtx(()=>[createVNode(unref(ElButton),{size:"small",onClick:de[0]||(de[0]=ue=>unref(z)("prev-month"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)("el.datepicker.prevMonth")),1)]),_:1}),createVNode(unref(ElButton),{size:"small",onClick:de[1]||(de[1]=ue=>unref(z)("today"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)("el.datepicker.today")),1)]),_:1}),createVNode(unref(ElButton),{size:"small",onClick:de[2]||(de[2]=ue=>unref(z)("next-month"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):createCommentVNode("v-if",!0)])],2),unref(j).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("body"))},[createVNode(DateTable$1,{date:unref($),"selected-day":unref(L),onPick:unref(V)},createSlots({_:2},[ae.$slots["date-cell"]||ae.$slots.dateCell?{name:"date-cell",fn:withCtx(ue=>[ae.$slots["date-cell"]?renderSlot(ae.$slots,"date-cell",normalizeProps(mergeProps({key:0},ue))):renderSlot(ae.$slots,"dateCell",normalizeProps(mergeProps({key:1},ue)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("body"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),(ue,pe)=>(openBlock(),createBlock(DateTable$1,{key:pe,date:ue[0],"selected-day":unref(L),range:ue,"hide-header":pe!==0,onPick:unref(V)},createSlots({_:2},[ae.$slots["date-cell"]||ae.$slots.dateCell?{name:"date-cell",fn:withCtx(he=>[ae.$slots["date-cell"]?renderSlot(ae.$slots,"date-cell",normalizeProps(mergeProps({key:0},he))):renderSlot(ae.$slots,"dateCell",normalizeProps(mergeProps({key:1},he)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Calendar=_export_sfc$1(_sfc_main$2N,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const ElCalendar=withInstall(Calendar),cardProps=buildProps({header:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$1d=defineComponent({name:"ElCard"}),_sfc_main$2M=defineComponent({...__default__$1d,props:cardProps,setup(n){const e=useNamespace("card");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(e).b(),unref(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(e).e("header"))},[renderSlot(r.$slots,"header",{},()=>[createTextVNode(toDisplayString$1(r.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(e).e("body"),r.bodyClass]),style:normalizeStyle(r.bodyStyle)},[renderSlot(r.$slots,"default")],6)],2))}});var Card=_export_sfc$1(_sfc_main$2M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const ElCard=withInstall(Card),carouselProps=buildProps({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),carouselEmits={change:(n,e)=>[n,e].every(isNumber$1)},carouselContextKey=Symbol("carouselContextKey"),THROTTLE_TIME=300,useCarousel=(n,e,r)=>{const{children:g,addChild:y,removeChild:k}=useOrderedChildren(getCurrentInstance(),"ElCarouselItem"),$=ref(-1),V=ref(null),L=ref(!1),z=ref(),j=ref(0),re=computed(()=>n.arrow!=="never"&&!unref(de)),oe=computed(()=>g.value.some(Tn=>Tn.props.label.toString().length>0)),ae=computed(()=>n.type==="card"),de=computed(()=>n.direction==="vertical"),ue=computed(()=>n.height!=="auto"?{height:n.height}:{height:`${j.value}px`,overflow:"hidden"}),pe=throttle(Tn=>{Ne(Tn)},THROTTLE_TIME,{trailing:!0}),he=throttle(Tn=>{On(Tn)},THROTTLE_TIME);function Oe(){V.value&&(clearInterval(V.value),V.value=null)}function xe(){n.interval<=0||!n.autoplay||V.value||(V.value=setInterval(()=>$e(),n.interval))}const $e=()=>{$.value<g.value.length-1?$.value=$.value+1:n.loop&&($.value=0)};function Ne(Tn){if(isString$3(Tn)){const Pn=g.value.filter(Wn=>Wn.props.name===Tn);Pn.length>0&&(Tn=g.value.indexOf(Pn[0]))}if(Tn=Number(Tn),Number.isNaN(Tn)||Tn!==Math.floor(Tn))return;const Zn=g.value.length,Qn=$.value;Tn<0?$.value=n.loop?Zn-1:0:Tn>=Zn?$.value=n.loop?0:Zn-1:$.value=Tn,Qn===$.value&&Ce(Qn),Mn()}function Ce(Tn){g.value.forEach((Zn,Qn)=>{Zn.translateItem(Qn,$.value,Tn)})}function Fe(Tn,Zn){var Qn,Pn,Wn,ur;const hr=unref(g),Vn=hr.length;if(Vn===0||!Tn.states.inStage)return!1;const En=Zn+1,jn=Zn-1,cr=Vn-1,gr=hr[cr].states.active,Cr=hr[0].states.active,ir=(Pn=(Qn=hr[En])==null?void 0:Qn.states)==null?void 0:Pn.active,Gn=(ur=(Wn=hr[jn])==null?void 0:Wn.states)==null?void 0:ur.active;return Zn===cr&&Cr||ir?"left":Zn===0&&gr||Gn?"right":!1}function ze(){L.value=!0,n.pauseOnHover&&Oe()}function kt(){L.value=!1,xe()}function At(Tn){unref(de)||g.value.forEach((Zn,Qn)=>{Tn===Fe(Zn,Qn)&&(Zn.states.hover=!0)})}function Cn(){unref(de)||g.value.forEach(Tn=>{Tn.states.hover=!1})}function Dt(Tn){$.value=Tn}function On(Tn){n.trigger==="hover"&&Tn!==$.value&&($.value=Tn)}function jt(){Ne($.value-1)}function An(){Ne($.value+1)}function Mn(){Oe(),xe()}function $n(Tn){n.height==="auto"&&(j.value=Tn)}watch(()=>$.value,(Tn,Zn)=>{Ce(Zn),Zn>-1&&e("change",Tn,Zn)}),watch(()=>n.autoplay,Tn=>{Tn?xe():Oe()}),watch(()=>n.loop,()=>{Ne($.value)}),watch(()=>n.interval,()=>{Mn()}),watch(()=>g.value,()=>{g.value.length>0&&Ne(n.initialIndex)});const Ln=shallowRef();return onMounted(()=>{Ln.value=useResizeObserver(z.value,()=>{Ce()}),xe()}),onBeforeUnmount(()=>{Oe(),z.value&&Ln.value&&Ln.value.stop()}),provide(carouselContextKey,{root:z,isCardType:ae,isVertical:de,items:g,loop:n.loop,addItem:y,removeItem:k,setActiveItem:Ne,setContainerHeight:$n}),{root:z,activeIndex:$,arrowDisplay:re,hasLabel:oe,hover:L,isCardType:ae,items:g,isVertical:de,containerStyle:ue,handleButtonEnter:At,handleButtonLeave:Cn,handleIndicatorClick:Dt,handleMouseEnter:ze,handleMouseLeave:kt,setActiveItem:Ne,prev:jt,next:An,throttledArrowClick:pe,throttledIndicatorHover:he}},_hoisted_1$1Q=["onMouseenter","onClick"],_hoisted_2$1t={key:0},COMPONENT_NAME$f="ElCarousel",__default__$1c=defineComponent({name:COMPONENT_NAME$f}),_sfc_main$2L=defineComponent({...__default__$1c,props:carouselProps,emits:carouselEmits,setup(n,{expose:e,emit:r}){const g=n,{root:y,activeIndex:k,arrowDisplay:$,hasLabel:V,hover:L,isCardType:z,items:j,isVertical:re,containerStyle:oe,handleButtonEnter:ae,handleButtonLeave:de,handleIndicatorClick:ue,handleMouseEnter:pe,handleMouseLeave:he,setActiveItem:Oe,prev:xe,next:$e,throttledArrowClick:Ne,throttledIndicatorHover:Ce}=useCarousel(g,r),Fe=useNamespace("carousel"),ze=computed(()=>{const At=[Fe.b(),Fe.m(g.direction)];return unref(z)&&At.push(Fe.m("card")),At}),kt=computed(()=>{const At=[Fe.e("indicators"),Fe.em("indicators",g.direction)];return unref(V)&&At.push(Fe.em("indicators","labels")),g.indicatorPosition==="outside"&&At.push(Fe.em("indicators","outside")),unref(re)&&At.push(Fe.em("indicators","right")),At});return e({setActiveItem:Oe,prev:xe,next:$e}),(At,Cn)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:y,class:normalizeClass(unref(ze)),onMouseenter:Cn[6]||(Cn[6]=withModifiers((...Dt)=>unref(pe)&&unref(pe)(...Dt),["stop"])),onMouseleave:Cn[7]||(Cn[7]=withModifiers((...Dt)=>unref(he)&&unref(he)(...Dt),["stop"]))},[createBaseVNode("div",{class:normalizeClass(unref(Fe).e("container")),style:normalizeStyle(unref(oe))},[unref($)?(openBlock(),createBlock(Transition,{key:0,name:"carousel-arrow-left",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Fe).e("arrow"),unref(Fe).em("arrow","left")]),onMouseenter:Cn[0]||(Cn[0]=Dt=>unref(ae)("left")),onMouseleave:Cn[1]||(Cn[1]=(...Dt)=>unref(de)&&unref(de)(...Dt)),onClick:Cn[2]||(Cn[2]=withModifiers(Dt=>unref(Ne)(unref(k)-1),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],34),[[vShow,(At.arrow==="always"||unref(L))&&(g.loop||unref(k)>0)]])]),_:1})):createCommentVNode("v-if",!0),unref($)?(openBlock(),createBlock(Transition,{key:1,name:"carousel-arrow-right",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Fe).e("arrow"),unref(Fe).em("arrow","right")]),onMouseenter:Cn[3]||(Cn[3]=Dt=>unref(ae)("right")),onMouseleave:Cn[4]||(Cn[4]=(...Dt)=>unref(de)&&unref(de)(...Dt)),onClick:Cn[5]||(Cn[5]=withModifiers(Dt=>unref(Ne)(unref(k)+1),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],34),[[vShow,(At.arrow==="always"||unref(L))&&(g.loop||unref(k)<unref(j).length-1)]])]),_:1})):createCommentVNode("v-if",!0),renderSlot(At.$slots,"default")],6),At.indicatorPosition!=="none"?(openBlock(),createElementBlock("ul",{key:0,class:normalizeClass(unref(kt))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),(Dt,On)=>(openBlock(),createElementBlock("li",{key:On,class:normalizeClass([unref(Fe).e("indicator"),unref(Fe).em("indicator",At.direction),unref(Fe).is("active",On===unref(k))]),onMouseenter:jt=>unref(Ce)(On),onClick:withModifiers(jt=>unref(ue)(On),["stop"])},[createBaseVNode("button",{class:normalizeClass(unref(Fe).e("button"))},[unref(V)?(openBlock(),createElementBlock("span",_hoisted_2$1t,toDisplayString$1(Dt.props.label),1)):createCommentVNode("v-if",!0)],2)],42,_hoisted_1$1Q))),128))],2)):createCommentVNode("v-if",!0)],34))}});var Carousel=_export_sfc$1(_sfc_main$2L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const carouselItemProps=buildProps({name:{type:String,default:""},label:{type:[String,Number],default:""}}),useCarouselItem=(n,e)=>{const r=inject(carouselContextKey),g=getCurrentInstance(),y=.83,k=ref(),$=ref(!1),V=ref(0),L=ref(1),z=ref(!1),j=ref(!1),re=ref(!1),oe=ref(!1),{isCardType:ae,isVertical:de}=r;function ue($e,Ne,Ce){const Fe=Ce-1,ze=Ne-1,kt=Ne+1,At=Ce/2;return Ne===0&&$e===Fe?-1:Ne===Fe&&$e===0?Ce:$e<ze&&Ne-$e>=At?Ce+1:$e>kt&&$e-Ne>=At?-2:$e}function pe($e,Ne){var Ce,Fe;const ze=unref(de)?((Ce=r.root.value)==null?void 0:Ce.offsetHeight)||0:((Fe=r.root.value)==null?void 0:Fe.offsetWidth)||0;return re.value?ze*((2-y)*($e-Ne)+1)/4:$e<Ne?-(1+y)*ze/4:(3+y)*ze/4}function he($e,Ne,Ce){const Fe=r.root.value;return Fe?((Ce?Fe.offsetHeight:Fe.offsetWidth)||0)*($e-Ne):0}const Oe=($e,Ne,Ce)=>{var Fe;const ze=unref(ae),kt=(Fe=r.items.value.length)!=null?Fe:Number.NaN,At=$e===Ne;!ze&&!isUndefined(Ce)&&(oe.value=At||$e===Ce),!At&&kt>2&&r.loop&&($e=ue($e,Ne,kt));const Cn=unref(de);z.value=At,ze?(re.value=Math.round(Math.abs($e-Ne))<=1,V.value=pe($e,Ne),L.value=unref(z)?1:y):V.value=he($e,Ne,Cn),j.value=!0,At&&k.value&&r.setContainerHeight(k.value.offsetHeight)};function xe(){if(r&&unref(ae)){const $e=r.items.value.findIndex(({uid:Ne})=>Ne===g.uid);r.setActiveItem($e)}}return onMounted(()=>{r.addItem({props:n,states:reactive({hover:$,translate:V,scale:L,active:z,ready:j,inStage:re,animating:oe}),uid:g.uid,translateItem:Oe})}),onUnmounted(()=>{r.removeItem(g.uid)}),{carouselItemRef:k,active:z,animating:oe,hover:$,inStage:re,isVertical:de,translate:V,isCardType:ae,scale:L,ready:j,handleItemClick:xe}},__default__$1b=defineComponent({name:"ElCarouselItem"}),_sfc_main$2K=defineComponent({...__default__$1b,props:carouselItemProps,setup(n){const e=n,r=useNamespace("carousel"),{carouselItemRef:g,active:y,animating:k,hover:$,inStage:V,isVertical:L,translate:z,isCardType:j,scale:re,ready:oe,handleItemClick:ae}=useCarouselItem(e),de=computed(()=>{const pe=`${`translate${unref(L)?"Y":"X"}`}(${unref(z)}px)`,he=`scale(${unref(re)})`;return{transform:[pe,he].join(" ")}});return(ue,pe)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"carouselItemRef",ref:g,class:normalizeClass([unref(r).e("item"),unref(r).is("active",unref(y)),unref(r).is("in-stage",unref(V)),unref(r).is("hover",unref($)),unref(r).is("animating",unref(k)),{[unref(r).em("item","card")]:unref(j),[unref(r).em("item","card-vertical")]:unref(j)&&unref(L)}]),style:normalizeStyle(unref(de)),onClick:pe[0]||(pe[0]=(...he)=>unref(ae)&&unref(ae)(...he))},[unref(j)?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("mask"))},null,2)),[[vShow,!unref(y)]]):createCommentVNode("v-if",!0),renderSlot(ue.$slots,"default")],6)),[[vShow,unref(oe)]])}});var CarouselItem=_export_sfc$1(_sfc_main$2K,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ElCarousel=withInstall(Carousel,{CarouselItem}),ElCarouselItem=withNoopInstall(CarouselItem),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},checkboxEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n),change:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:n,isChecked:e})=>{const r=inject(checkboxGroupContextKey,void 0),g=computed(()=>{var k,$;const V=(k=r?.max)==null?void 0:k.value,L=($=r?.min)==null?void 0:$.value;return!isUndefined(V)&&n.value.length>=V&&!e.value||!isUndefined(L)&&n.value.length<=L&&e.value});return{isDisabled:useFormDisabled(computed(()=>r?.disabled.value||g.value)),isLimitDisabled:g}},useCheckboxEvent=(n,{model:e,isLimitExceeded:r,hasOwnLabel:g,isDisabled:y,isLabeledByFormItem:k})=>{const $=inject(checkboxGroupContextKey,void 0),{formItem:V}=useFormItem(),{emit:L}=getCurrentInstance();function z(de){var ue,pe;return de===n.trueLabel||de===!0?(ue=n.trueLabel)!=null?ue:!0:(pe=n.falseLabel)!=null?pe:!1}function j(de,ue){L("change",z(de),ue)}function re(de){if(r.value)return;const ue=de.target;L("change",z(ue.checked),de)}async function oe(de){r.value||!g.value&&!y.value&&k.value&&(de.composedPath().some(he=>he.tagName==="LABEL")||(e.value=z([!1,n.falseLabel].includes(e.value)),await nextTick(),j(e.value,de)))}const ae=computed(()=>$?.validateEvent||n.validateEvent);return watch(()=>n.modelValue,()=>{ae.value&&V?.validate("change").catch(de=>void 0)}),{handleChange:re,onClickRoot:oe}},useCheckboxModel=n=>{const e=ref(!1),{emit:r}=getCurrentInstance(),g=inject(checkboxGroupContextKey,void 0),y=computed(()=>isUndefined(g)===!1),k=ref(!1);return{model:computed({get(){var V,L;return y.value?(V=g?.modelValue)==null?void 0:V.value:(L=n.modelValue)!=null?L:e.value},set(V){var L,z;y.value&&isArray$3(V)?(k.value=((L=g?.max)==null?void 0:L.value)!==void 0&&V.length>g?.max.value,k.value===!1&&((z=g?.changeEvent)==null||z.call(g,V))):(r(UPDATE_MODEL_EVENT,V),e.value=V)}}),isGroup:y,isLimitExceeded:k}},useCheckboxStatus=(n,e,{model:r})=>{const g=inject(checkboxGroupContextKey,void 0),y=ref(!1),k=computed(()=>{const z=r.value;return isBoolean$1(z)?z:isArray$3(z)?isObject$3(n.label)?z.map(toRaw).some(j=>isEqual$1(j,n.label)):z.map(toRaw).includes(n.label):z!=null?z===n.trueLabel:!!z}),$=useFormSize(computed(()=>{var z;return(z=g?.size)==null?void 0:z.value}),{prop:!0}),V=useFormSize(computed(()=>{var z;return(z=g?.size)==null?void 0:z.value})),L=computed(()=>!!(e.default||n.label));return{checkboxButtonSize:$,isChecked:k,isFocused:y,checkboxSize:V,hasOwnLabel:L}},setStoreValue=(n,{model:e})=>{function r(){isArray$3(e.value)&&!e.value.includes(n.label)?e.value.push(n.label):e.value=n.trueLabel||!0}n.checked&&r()},useCheckbox=(n,e)=>{const{formItem:r}=useFormItem(),{model:g,isGroup:y,isLimitExceeded:k}=useCheckboxModel(n),{isFocused:$,isChecked:V,checkboxButtonSize:L,checkboxSize:z,hasOwnLabel:j}=useCheckboxStatus(n,e,{model:g}),{isDisabled:re}=useCheckboxDisabled({model:g,isChecked:V}),{inputId:oe,isLabeledByFormItem:ae}=useFormItemInputId(n,{formItemContext:r,disableIdGeneration:j,disableIdManagement:y}),{handleChange:de,onClickRoot:ue}=useCheckboxEvent(n,{model:g,isLimitExceeded:k,hasOwnLabel:j,isDisabled:re,isLabeledByFormItem:ae});return setStoreValue(n,{model:g}),{inputId:oe,isLabeledByFormItem:ae,isChecked:V,isDisabled:re,isFocused:$,checkboxButtonSize:L,checkboxSize:z,hasOwnLabel:j,model:g,handleChange:de,onClickRoot:ue}},_hoisted_1$1P=["tabindex","role","aria-checked"],_hoisted_2$1s=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],_hoisted_3$Q=["id","aria-hidden","disabled","value","name","tabindex"],__default__$1a=defineComponent({name:"ElCheckbox"}),_sfc_main$2J=defineComponent({...__default__$1a,props:checkboxProps,emits:checkboxEmits,setup(n){const e=n,r=useSlots(),{inputId:g,isLabeledByFormItem:y,isChecked:k,isDisabled:$,isFocused:V,checkboxSize:L,hasOwnLabel:z,model:j,handleChange:re,onClickRoot:oe}=useCheckbox(e,r),ae=useNamespace("checkbox"),de=computed(()=>[ae.b(),ae.m(L.value),ae.is("disabled",$.value),ae.is("bordered",e.border),ae.is("checked",k.value)]),ue=computed(()=>[ae.e("input"),ae.is("disabled",$.value),ae.is("checked",k.value),ae.is("indeterminate",e.indeterminate),ae.is("focus",V.value)]);return(pe,he)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(z)&&unref(y)?"span":"label"),{class:normalizeClass(unref(de)),"aria-controls":pe.indeterminate?pe.controls:null,onClick:unref(oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(ue)),tabindex:pe.indeterminate?0:void 0,role:pe.indeterminate?"checkbox":void 0,"aria-checked":pe.indeterminate?"mixed":void 0},[pe.trueLabel||pe.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(g),"onUpdate:modelValue":he[0]||(he[0]=Oe=>isRef(j)?j.value=Oe:null),class:normalizeClass(unref(ae).e("original")),type:"checkbox","aria-hidden":pe.indeterminate?"true":"false",name:pe.name,tabindex:pe.tabindex,disabled:unref($),"true-value":pe.trueLabel,"false-value":pe.falseLabel,onChange:he[1]||(he[1]=(...Oe)=>unref(re)&&unref(re)(...Oe)),onFocus:he[2]||(he[2]=Oe=>V.value=!0),onBlur:he[3]||(he[3]=Oe=>V.value=!1),onClick:he[4]||(he[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$1s)),[[vModelCheckbox,unref(j)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(g),"onUpdate:modelValue":he[5]||(he[5]=Oe=>isRef(j)?j.value=Oe:null),class:normalizeClass(unref(ae).e("original")),type:"checkbox","aria-hidden":pe.indeterminate?"true":"false",disabled:unref($),value:pe.label,name:pe.name,tabindex:pe.tabindex,onChange:he[6]||(he[6]=(...Oe)=>unref(re)&&unref(re)(...Oe)),onFocus:he[7]||(he[7]=Oe=>V.value=!0),onBlur:he[8]||(he[8]=Oe=>V.value=!1),onClick:he[9]||(he[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_3$Q)),[[vModelCheckbox,unref(j)]]),createBaseVNode("span",{class:normalizeClass(unref(ae).e("inner"))},null,2)],10,_hoisted_1$1P),unref(z)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ae).e("label"))},[renderSlot(pe.$slots,"default"),pe.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(pe.label),1)],64))],2)):createCommentVNode("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$2J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _hoisted_1$1O=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$1r=["name","tabindex","disabled","value"],__default__$19=defineComponent({name:"ElCheckboxButton"}),_sfc_main$2I=defineComponent({...__default__$19,props:checkboxProps,emits:checkboxEmits,setup(n){const e=n,r=useSlots(),{isFocused:g,isChecked:y,isDisabled:k,checkboxButtonSize:$,model:V,handleChange:L}=useCheckbox(e,r),z=inject(checkboxGroupContextKey,void 0),j=useNamespace("checkbox"),re=computed(()=>{var ae,de,ue,pe;const he=(de=(ae=z?.fill)==null?void 0:ae.value)!=null?de:"";return{backgroundColor:he,borderColor:he,color:(pe=(ue=z?.textColor)==null?void 0:ue.value)!=null?pe:"",boxShadow:he?`-1px 0 0 0 ${he}`:void 0}}),oe=computed(()=>[j.b("button"),j.bm("button",$.value),j.is("disabled",k.value),j.is("checked",y.value),j.is("focus",g.value)]);return(ae,de)=>(openBlock(),createElementBlock("label",{class:normalizeClass(unref(oe))},[ae.trueLabel||ae.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":de[0]||(de[0]=ue=>isRef(V)?V.value=ue:null),class:normalizeClass(unref(j).be("button","original")),type:"checkbox",name:ae.name,tabindex:ae.tabindex,disabled:unref(k),"true-value":ae.trueLabel,"false-value":ae.falseLabel,onChange:de[1]||(de[1]=(...ue)=>unref(L)&&unref(L)(...ue)),onFocus:de[2]||(de[2]=ue=>g.value=!0),onBlur:de[3]||(de[3]=ue=>g.value=!1),onClick:de[4]||(de[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1O)),[[vModelCheckbox,unref(V)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":de[5]||(de[5]=ue=>isRef(V)?V.value=ue:null),class:normalizeClass(unref(j).be("button","original")),type:"checkbox",name:ae.name,tabindex:ae.tabindex,disabled:unref(k),value:ae.label,onChange:de[6]||(de[6]=(...ue)=>unref(L)&&unref(L)(...ue)),onFocus:de[7]||(de[7]=ue=>g.value=!0),onBlur:de[8]||(de[8]=ue=>g.value=!1),onClick:de[9]||(de[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$1r)),[[vModelCheckbox,unref(V)]]),ae.$slots.default||ae.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(j).be("button","inner")),style:normalizeStyle(unref(y)?unref(re):void 0)},[renderSlot(ae.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(ae.label),1)])],6)):createCommentVNode("v-if",!0)],2))}});var CheckboxButton=_export_sfc$1(_sfc_main$2I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:n=>isArray$3(n),change:n=>isArray$3(n)},__default__$18=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$2H=defineComponent({...__default__$18,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(n,{emit:e}){const r=n,g=useNamespace("checkbox"),{formItem:y}=useFormItem(),{inputId:k,isLabeledByFormItem:$}=useFormItemInputId(r,{formItemContext:y}),V=async z=>{e(UPDATE_MODEL_EVENT,z),await nextTick(),e("change",z)},L=computed({get(){return r.modelValue},set(z){V(z)}});return provide(checkboxGroupContextKey,{...pick(toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:L,changeEvent:V}),watch(()=>r.modelValue,()=>{r.validateEvent&&y?.validate("change").catch(z=>void 0)}),(z,j)=>{var re;return openBlock(),createBlock(resolveDynamicComponent(z.tag),{id:unref(k),class:normalizeClass(unref(g).b("group")),role:"group","aria-label":unref($)?void 0:z.label||"checkbox-group","aria-labelledby":unref($)?(re=unref(y))==null?void 0:re.labelId:void 0},{default:withCtx(()=>[renderSlot(z.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$2H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),ElCheckboxButton=withNoopInstall(CheckboxButton),ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),radioProps=buildProps({...radioPropsBase,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n),[CHANGE_EVENT]:n=>isString$3(n)||isNumber$1(n)||isBoolean$1(n)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(n,e)=>{const r=ref(),g=inject(radioGroupKey,void 0),y=computed(()=>!!g),k=computed({get(){return y.value?g.modelValue:n.modelValue},set(j){y.value?g.changeEvent(j):e&&e(UPDATE_MODEL_EVENT,j),r.value.checked=n.modelValue===n.label}}),$=useFormSize(computed(()=>g?.size)),V=useFormDisabled(computed(()=>g?.disabled)),L=ref(!1),z=computed(()=>V.value||y.value&&k.value!==n.label?-1:0);return{radioRef:r,isGroup:y,radioGroup:g,focus:L,size:$,disabled:V,tabIndex:z,modelValue:k}},_hoisted_1$1N=["value","name","disabled"],__default__$17=defineComponent({name:"ElRadio"}),_sfc_main$2G=defineComponent({...__default__$17,props:radioProps,emits:radioEmits,setup(n,{emit:e}){const r=n,g=useNamespace("radio"),{radioRef:y,radioGroup:k,focus:$,size:V,disabled:L,modelValue:z}=useRadio(r,e);function j(){nextTick(()=>e("change",z.value))}return(re,oe)=>{var ae;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(g).b(),unref(g).is("disabled",unref(L)),unref(g).is("focus",unref($)),unref(g).is("bordered",re.border),unref(g).is("checked",unref(z)===re.label),unref(g).m(unref(V))])},[createBaseVNode("span",{class:normalizeClass([unref(g).e("input"),unref(g).is("disabled",unref(L)),unref(g).is("checked",unref(z)===re.label)])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:y,"onUpdate:modelValue":oe[0]||(oe[0]=de=>isRef(z)?z.value=de:null),class:normalizeClass(unref(g).e("original")),value:re.label,name:re.name||((ae=unref(k))==null?void 0:ae.name),disabled:unref(L),type:"radio",onFocus:oe[1]||(oe[1]=de=>$.value=!0),onBlur:oe[2]||(oe[2]=de=>$.value=!1),onChange:j,onClick:oe[3]||(oe[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1N),[[vModelRadio,unref(z)]]),createBaseVNode("span",{class:normalizeClass(unref(g).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(g).e("label")),onKeydown:oe[4]||(oe[4]=withModifiers(()=>{},["stop"]))},[renderSlot(re.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(re.label),1)])],34)],2)}}});var Radio=_export_sfc$1(_sfc_main$2G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase,name:{type:String,default:""}}),_hoisted_1$1M=["value","name","disabled"],__default__$16=defineComponent({name:"ElRadioButton"}),_sfc_main$2F=defineComponent({...__default__$16,props:radioButtonProps,setup(n){const e=n,r=useNamespace("radio"),{radioRef:g,focus:y,size:k,disabled:$,modelValue:V,radioGroup:L}=useRadio(e),z=computed(()=>({backgroundColor:L?.fill||"",borderColor:L?.fill||"",boxShadow:L?.fill?`-1px 0 0 0 ${L.fill}`:"",color:L?.textColor||""}));return(j,re)=>{var oe;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b("button"),unref(r).is("active",unref(V)===j.label),unref(r).is("disabled",unref($)),unref(r).is("focus",unref(y)),unref(r).bm("button",unref(k))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:g,"onUpdate:modelValue":re[0]||(re[0]=ae=>isRef(V)?V.value=ae:null),class:normalizeClass(unref(r).be("button","original-radio")),value:j.label,type:"radio",name:j.name||((oe=unref(L))==null?void 0:oe.name),disabled:unref($),onFocus:re[1]||(re[1]=ae=>y.value=!0),onBlur:re[2]||(re[2]=ae=>y.value=!1),onClick:re[3]||(re[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1M),[[vModelRadio,unref(V)]]),createBaseVNode("span",{class:normalizeClass(unref(r).be("button","inner")),style:normalizeStyle(unref(V)===j.label?unref(z):{}),onKeydown:re[4]||(re[4]=withModifiers(()=>{},["stop"]))},[renderSlot(j.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(j.label),1)])],38)],2)}}});var RadioButton=_export_sfc$1(_sfc_main$2F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),radioGroupEmits=radioEmits,_hoisted_1$1L=["id","aria-label","aria-labelledby"],__default__$15=defineComponent({name:"ElRadioGroup"}),_sfc_main$2E=defineComponent({...__default__$15,props:radioGroupProps,emits:radioGroupEmits,setup(n,{emit:e}){const r=n,g=useNamespace("radio"),y=useId(),k=ref(),{formItem:$}=useFormItem(),{inputId:V,isLabeledByFormItem:L}=useFormItemInputId(r,{formItemContext:$}),z=re=>{e(UPDATE_MODEL_EVENT,re),nextTick(()=>e("change",re))};onMounted(()=>{const re=k.value.querySelectorAll("[type=radio]"),oe=re[0];!Array.from(re).some(ae=>ae.checked)&&oe&&(oe.tabIndex=0)});const j=computed(()=>r.name||y.value);return provide(radioGroupKey,reactive({...toRefs(r),changeEvent:z,name:j})),watch(()=>r.modelValue,()=>{r.validateEvent&&$?.validate("change").catch(re=>void 0)}),(re,oe)=>(openBlock(),createElementBlock("div",{id:unref(V),ref_key:"radioGroupRef",ref:k,class:normalizeClass(unref(g).b("group")),role:"radiogroup","aria-label":unref(L)?void 0:re.label||"radio-group","aria-labelledby":unref(L)?unref($).labelId:void 0},[renderSlot(re.$slots,"default")],10,_hoisted_1$1L))}});var RadioGroup=_export_sfc$1(_sfc_main$2E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton);var NodeContent$1=defineComponent({name:"NodeContent",setup(){return{ns:useNamespace("cascader-node")}},render(){const{ns:n}=this,{node:e,panel:r}=this.$parent,{data:g,label:y}=e,{renderLabelFn:k}=r;return h$1("span",{class:n.e("label")},k?k({node:e,data:g}):y)}});const CASCADER_PANEL_INJECTION_KEY=Symbol(),_sfc_main$2D=defineComponent({name:"ElCascaderNode",components:{ElCheckbox,ElRadio,NodeContent:NodeContent$1,ElIcon,Check:check_default,Loading:loading_default,ArrowRight:arrow_right_default},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const r=inject(CASCADER_PANEL_INJECTION_KEY),g=useNamespace("cascader-node"),y=computed(()=>r.isHoverMenu),k=computed(()=>r.config.multiple),$=computed(()=>r.config.checkStrictly),V=computed(()=>{var Ce;return(Ce=r.checkedNodes[0])==null?void 0:Ce.uid}),L=computed(()=>n.node.isDisabled),z=computed(()=>n.node.isLeaf),j=computed(()=>$.value&&!z.value||!L.value),re=computed(()=>ae(r.expandingNode)),oe=computed(()=>$.value&&r.checkedNodes.some(ae)),ae=Ce=>{var Fe;const{level:ze,uid:kt}=n.node;return((Fe=Ce?.pathNodes[ze-1])==null?void 0:Fe.uid)===kt},de=()=>{re.value||r.expandNode(n.node)},ue=Ce=>{const{node:Fe}=n;Ce!==Fe.checked&&r.handleCheckChange(Fe,Ce)},pe=()=>{r.lazyLoad(n.node,()=>{z.value||de()})},he=Ce=>{y.value&&(Oe(),!z.value&&e("expand",Ce))},Oe=()=>{const{node:Ce}=n;!j.value||Ce.loading||(Ce.loaded?de():pe())},xe=()=>{y.value&&!z.value||(z.value&&!L.value&&!$.value&&!k.value?Ne(!0):Oe())},$e=Ce=>{$.value?(ue(Ce),n.node.loaded&&de()):Ne(Ce)},Ne=Ce=>{n.node.loaded?(ue(Ce),!$.value&&de()):pe()};return{panel:r,isHoverMenu:y,multiple:k,checkStrictly:$,checkedNodeId:V,isDisabled:L,isLeaf:z,expandable:j,inExpandingPath:re,inCheckedPath:oe,ns:g,handleHoverExpand:he,handleExpand:Oe,handleClick:xe,handleCheck:Ne,handleSelectCheck:$e}}}),_hoisted_1$1K=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],_hoisted_2$1q=createBaseVNode("span",null,null,-1);function _sfc_render$u(n,e,r,g,y,k){const $=resolveComponent("el-checkbox"),V=resolveComponent("el-radio"),L=resolveComponent("check"),z=resolveComponent("el-icon"),j=resolveComponent("node-content"),re=resolveComponent("loading"),oe=resolveComponent("arrow-right");return openBlock(),createElementBlock("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:normalizeClass([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...ae)=>n.handleHoverExpand&&n.handleHoverExpand(...ae)),onFocus:e[3]||(e[3]=(...ae)=>n.handleHoverExpand&&n.handleHoverExpand(...ae)),onClick:e[4]||(e[4]=(...ae)=>n.handleClick&&n.handleClick(...ae))},[createCommentVNode(" prefix "),n.multiple?(openBlock(),createBlock($,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:e[0]||(e[0]=withModifiers(()=>{},["stop"])),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):n.checkStrictly?(openBlock(),createBlock(V,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:e[1]||(e[1]=withModifiers(()=>{},["stop"]))},{default:withCtx(()=>[createCommentVNode(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),_hoisted_2$1q]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):n.isLeaf&&n.node.checked?(openBlock(),createBlock(z,{key:2,class:normalizeClass(n.ns.e("prefix"))},{default:withCtx(()=>[createVNode(L)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode(j),createCommentVNode(" postfix "),n.isLeaf?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:3},[n.node.loading?(openBlock(),createBlock(z,{key:0,class:normalizeClass([n.ns.is("loading"),n.ns.e("postfix")])},{default:withCtx(()=>[createVNode(re)]),_:1},8,["class"])):(openBlock(),createBlock(z,{key:1,class:normalizeClass(["arrow-right",n.ns.e("postfix")])},{default:withCtx(()=>[createVNode(oe)]),_:1},8,["class"]))],64))],42,_hoisted_1$1K)}var ElCascaderNode=_export_sfc$1(_sfc_main$2D,[["render",_sfc_render$u],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const _sfc_main$2C=defineComponent({name:"ElCascaderMenu",components:{Loading:loading_default,ElIcon,ElScrollbar,ElCascaderNode},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=getCurrentInstance(),r=useNamespace("cascader-menu"),{t:g}=useLocale(),y=generateId();let k=null,$=null;const V=inject(CASCADER_PANEL_INJECTION_KEY),L=ref(null),z=computed(()=>!n.nodes.length),j=computed(()=>!V.initialLoaded),re=computed(()=>`cascader-menu-${y}-${n.index}`),oe=pe=>{k=pe.target},ae=pe=>{if(!(!V.isHoverMenu||!k||!L.value))if(k.contains(pe.target)){de();const he=e.vnode.el,{left:Oe}=he.getBoundingClientRect(),{offsetWidth:xe,offsetHeight:$e}=he,Ne=pe.clientX-Oe,Ce=k.offsetTop,Fe=Ce+k.offsetHeight;L.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${Ne} ${Ce} L${xe} 0 V${Ce} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${Ne} ${Fe} L${xe} ${$e} V${Fe} Z" />
        `}else $||($=window.setTimeout(ue,V.config.hoverThreshold))},de=()=>{$&&(clearTimeout($),$=null)},ue=()=>{L.value&&(L.value.innerHTML="",de())};return{ns:r,panel:V,hoverZone:L,isEmpty:z,isLoading:j,menuId:re,t:g,handleExpand:oe,handleMouseMove:ae,clearHoverZone:ue}}});function _sfc_render$t(n,e,r,g,y,k){const $=resolveComponent("el-cascader-node"),V=resolveComponent("loading"),L=resolveComponent("el-icon"),z=resolveComponent("el-scrollbar");return openBlock(),createBlock(z,{key:n.menuId,tag:"ul",role:"menu",class:normalizeClass(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:withCtx(()=>{var j;return[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.nodes,re=>(openBlock(),createBlock($,{key:re.uid,node:re,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.e("empty-text"))},[createVNode(L,{size:"14",class:normalizeClass(n.ns.is("loading"))},{default:withCtx(()=>[createVNode(V)]),_:1},8,["class"]),createTextVNode(" "+toDisplayString$1(n.t("el.cascader.loading")),1)],2)):n.isEmpty?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.e("empty-text"))},toDisplayString$1(n.t("el.cascader.noData")),3)):(j=n.panel)!=null&&j.isHoverMenu?(openBlock(),createElementBlock("svg",{key:2,ref:"hoverZone",class:normalizeClass(n.ns.e("hover-zone"))},null,2)):createCommentVNode("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ElCascaderMenu=_export_sfc$1(_sfc_main$2C,[["render",_sfc_render$t],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let uid=0;const calculatePathNodes=n=>{const e=[n];let{parent:r}=n;for(;r;)e.unshift(r),r=r.parent;return e};let Node$2=class Na{constructor(e,r,g,y=!1){this.data=e,this.config=r,this.parent=g,this.root=y,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:k,label:$,children:V}=r,L=e[V],z=calculatePathNodes(this);this.level=y?0:g?g.level+1:1,this.value=e[k],this.label=e[$],this.pathNodes=z,this.pathValues=z.map(j=>j.value),this.pathLabels=z.map(j=>j.label),this.childrenData=L,this.children=(L||[]).map(j=>new Na(j,r,this)),this.loaded=!r.lazy||this.isLeaf||!isEmpty(L)}get isDisabled(){const{data:e,parent:r,config:g}=this,{disabled:y,checkStrictly:k}=g;return(isFunction$3(y)?y(e,this):!!e[y])||!k&&r?.isDisabled}get isLeaf(){const{data:e,config:r,childrenData:g,loaded:y}=this,{lazy:k,leaf:$}=r,V=isFunction$3($)?$(e,this):e[$];return isUndefined(V)?k&&!y?!1:!(Array.isArray(g)&&g.length):!!V}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:r,children:g}=this,y=new Na(e,this.config,this);return Array.isArray(r)?r.push(e):this.childrenData=[e],g.push(y),y}calcText(e,r){const g=e?this.pathLabels.join(r):this.label;return this.text=g,g}broadcast(e,...r){const g=`onParent${capitalize$1(e)}`;this.children.forEach(y=>{y&&(y.broadcast(e,...r),y[g]&&y[g](...r))})}emit(e,...r){const{parent:g}=this,y=`onChild${capitalize$1(e)}`;g&&(g[y]&&g[y](...r),g.emit(e,...r))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,r=e.filter(y=>!y.isDisabled),g=r.length?r.every(y=>y.checked):!1;this.setCheckState(g)}setCheckState(e){const r=this.children.length,g=this.children.reduce((y,k)=>{const $=k.checked?1:k.indeterminate?.5:0;return y+$},0);this.checked=this.loaded&&this.children.filter(y=>!y.isDisabled).every(y=>y.loaded&&y.checked)&&e,this.indeterminate=this.loaded&&g!==r&&g>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:r,multiple:g}=this.config;r||!g?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const flatNodes=(n,e)=>n.reduce((r,g)=>(g.isLeaf?r.push(g):(!e&&r.push(g),r=r.concat(flatNodes(g.children,e))),r),[]);class Store{constructor(e,r){this.config=r;const g=(e||[]).map(y=>new Node$2(y,this.config));this.nodes=g,this.allNodes=flatNodes(g,!1),this.leafNodes=flatNodes(g,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,r){const g=r?r.appendChild(e):new Node$2(e,this.config);r||this.nodes.push(g),this.allNodes.push(g),g.isLeaf&&this.leafNodes.push(g)}appendNodes(e,r){e.forEach(g=>this.appendNode(g,r))}getNodeByValue(e,r=!1){return!e&&e!==0?null:this.getFlattedNodes(r).find(y=>isEqual$1(y.value,e)||isEqual$1(y.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:g,level:y})=>isEqual$1(e.value,g)&&e.level===y)||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},useCascaderConfig=n=>computed(()=>({...DefaultProps,...n.props})),getMenuIndex=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},checkNode=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():isLeaf(n)&&n.click()},sortByOriginalOrder=(n,e)=>{const r=e.slice(0),g=r.map(k=>k.uid),y=n.reduce((k,$)=>{const V=g.indexOf($.uid);return V>-1&&(k.push($),r.splice(V,1),g.splice(V,1)),k},[]);return y.push(...r),y},_sfc_main$2B=defineComponent({name:"ElCascaderPanel",components:{ElCascaderMenu},props:{...CommonProps,border:{type:Boolean,default:!0},renderLabel:Function},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"close","expand-change"],setup(n,{emit:e,slots:r}){let g=!1;const y=useNamespace("cascader"),k=useCascaderConfig(n);let $=null;const V=ref(!0),L=ref([]),z=ref(null),j=ref([]),re=ref(null),oe=ref([]),ae=computed(()=>k.value.expandTrigger==="hover"),de=computed(()=>n.renderLabel||r.default),ue=()=>{const{options:Dt}=n,On=k.value;g=!1,$=new Store(Dt,On),j.value=[$.getNodes()],On.lazy&&isEmpty(n.options)?(V.value=!1,pe(void 0,jt=>{jt&&($=new Store(jt,On),j.value=[$.getNodes()]),V.value=!0,ze(!1,!0)})):ze(!1,!0)},pe=(Dt,On)=>{const jt=k.value;Dt=Dt||new Node$2({},jt,void 0,!0),Dt.loading=!0;const An=Mn=>{const $n=Dt,Ln=$n.root?null:$n;Mn&&$?.appendNodes(Mn,Ln),$n.loading=!1,$n.loaded=!0,$n.childrenData=$n.childrenData||[],On&&On(Mn)};jt.lazyLoad(Dt,An)},he=(Dt,On)=>{var jt;const{level:An}=Dt,Mn=j.value.slice(0,An);let $n;Dt.isLeaf?$n=Dt.pathNodes[An-2]:($n=Dt,Mn.push(Dt.children)),((jt=re.value)==null?void 0:jt.uid)!==$n?.uid&&(re.value=Dt,j.value=Mn,!On&&e("expand-change",Dt?.pathValues||[]))},Oe=(Dt,On,jt=!0)=>{const{checkStrictly:An,multiple:Mn}=k.value,$n=oe.value[0];g=!0,!Mn&&$n?.doCheck(!1),Dt.doCheck(On),Fe(),jt&&!Mn&&!An&&e("close"),!jt&&!Mn&&!An&&xe(Dt)},xe=Dt=>{Dt&&(Dt=Dt.parent,xe(Dt),Dt&&he(Dt))},$e=Dt=>$?.getFlattedNodes(Dt),Ne=Dt=>{var On;return(On=$e(Dt))==null?void 0:On.filter(jt=>jt.checked!==!1)},Ce=()=>{oe.value.forEach(Dt=>Dt.doCheck(!1)),Fe(),j.value=j.value.slice(0,1),re.value=null,e("expand-change",[])},Fe=()=>{var Dt;const{checkStrictly:On,multiple:jt}=k.value,An=oe.value,Mn=Ne(!On),$n=sortByOriginalOrder(An,Mn),Ln=$n.map(Tn=>Tn.valueByOption);oe.value=$n,z.value=jt?Ln:(Dt=Ln[0])!=null?Dt:null},ze=(Dt=!1,On=!1)=>{const{modelValue:jt}=n,{lazy:An,multiple:Mn,checkStrictly:$n}=k.value,Ln=!$n;if(!(!V.value||g||!On&&isEqual$1(jt,z.value)))if(An&&!Dt){const Zn=unique(flattenDeep(castArray(jt))).map(Qn=>$?.getNodeByValue(Qn)).filter(Qn=>!!Qn&&!Qn.loaded&&!Qn.loading);Zn.length?Zn.forEach(Qn=>{pe(Qn,()=>ze(!1,On))}):ze(!0,On)}else{const Tn=Mn?castArray(jt):[jt],Zn=unique(Tn.map(Qn=>$?.getNodeByValue(Qn,Ln)));kt(Zn,On),z.value=cloneDeep(jt)}},kt=(Dt,On=!0)=>{const{checkStrictly:jt}=k.value,An=oe.value,Mn=Dt.filter(Tn=>!!Tn&&(jt||Tn.isLeaf)),$n=$?.getSameNode(re.value),Ln=On&&$n||Mn[0];Ln?Ln.pathNodes.forEach(Tn=>he(Tn,!0)):re.value=null,An.forEach(Tn=>Tn.doCheck(!1)),n.props.multiple?reactive(Mn).forEach(Tn=>Tn.doCheck(!0)):Mn.forEach(Tn=>Tn.doCheck(!0)),oe.value=Mn,nextTick(At)},At=()=>{isClient&&L.value.forEach(Dt=>{const On=Dt?.$el;if(On){const jt=On.querySelector(`.${y.namespace.value}-scrollbar__wrap`),An=On.querySelector(`.${y.b("node")}.${y.is("active")}`)||On.querySelector(`.${y.b("node")}.in-active-path`);scrollIntoView$2(jt,An)}})},Cn=Dt=>{const On=Dt.target,{code:jt}=Dt;switch(jt){case EVENT_CODE.up:case EVENT_CODE.down:{Dt.preventDefault();const An=jt===EVENT_CODE.up?-1:1;focusNode(getSibling(On,An,`.${y.b("node")}[tabindex="-1"]`));break}case EVENT_CODE.left:{Dt.preventDefault();const An=L.value[getMenuIndex(On)-1],Mn=An?.$el.querySelector(`.${y.b("node")}[aria-expanded="true"]`);focusNode(Mn);break}case EVENT_CODE.right:{Dt.preventDefault();const An=L.value[getMenuIndex(On)+1],Mn=An?.$el.querySelector(`.${y.b("node")}[tabindex="-1"]`);focusNode(Mn);break}case EVENT_CODE.enter:checkNode(On);break}};return provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:k,expandingNode:re,checkedNodes:oe,isHoverMenu:ae,initialLoaded:V,renderLabelFn:de,lazyLoad:pe,expandNode:he,handleCheckChange:Oe})),watch([k,()=>n.options],ue,{deep:!0,immediate:!0}),watch(()=>n.modelValue,()=>{g=!1,ze()},{deep:!0}),watch(()=>z.value,Dt=>{isEqual$1(Dt,n.modelValue)||(e(UPDATE_MODEL_EVENT,Dt),e(CHANGE_EVENT,Dt))}),onBeforeUpdate(()=>L.value=[]),onMounted(()=>!isEmpty(n.modelValue)&&ze()),{ns:y,menuList:L,menus:j,checkedNodes:oe,handleKeyDown:Cn,handleCheckChange:Oe,getFlattedNodes:$e,getCheckedNodes:Ne,clearCheckedNodes:Ce,calculateCheckedValue:Fe,scrollToExpandingNode:At}}});function _sfc_render$s(n,e,r,g,y,k){const $=resolveComponent("el-cascader-menu");return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b("panel"),n.ns.is("bordered",n.border)]),onKeydown:e[0]||(e[0]=(...V)=>n.handleKeyDown&&n.handleKeyDown(...V))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.menus,(V,L)=>(openBlock(),createBlock($,{key:L,ref_for:!0,ref:z=>n.menuList[L]=z,index:L,nodes:[...V]},null,8,["index","nodes"]))),128))],34)}var CascaderPanel=_export_sfc$1(_sfc_main$2B,[["render",_sfc_render$s],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);CascaderPanel.install=n=>{n.component(CascaderPanel.name,CascaderPanel)};const _CascaderPanel=CascaderPanel,ElCascaderPanel=_CascaderPanel,tagProps=buildProps({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},__default__$14=defineComponent({name:"ElTag"}),_sfc_main$2A=defineComponent({...__default__$14,props:tagProps,emits:tagEmits,setup(n,{emit:e}){const r=n,g=useFormSize(),y=useNamespace("tag"),k=computed(()=>{const{type:L,hit:z,effect:j,closable:re,round:oe}=r;return[y.b(),y.is("closable",re),y.m(L),y.m(g.value),y.m(j),y.is("hit",z),y.is("round",oe)]}),$=L=>{e("close",L)},V=L=>{e("click",L)};return(L,z)=>L.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(k)),style:normalizeStyle({backgroundColor:L.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(L.$slots,"default")],2),L.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("close")),onClick:withModifiers($,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(y).namespace.value}-zoom-in-center`,appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(k)),style:normalizeStyle({backgroundColor:L.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(L.$slots,"default")],2),L.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("close")),onClick:withModifiers($,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag$1=_export_sfc$1(_sfc_main$2A,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag$1),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:definePropType(Function),default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:useTooltipContentProps.teleported,tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),cascaderEmits={[UPDATE_MODEL_EVENT]:n=>!!n||n===null,[CHANGE_EVENT]:n=>!!n||n===null,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,visibleChange:n=>isBoolean$1(n),expandChange:n=>!!n,removeTag:n=>!!n},_hoisted_1$1J={key:0},_hoisted_2$1p=["placeholder","onKeydown"],_hoisted_3$P=["onClick"],COMPONENT_NAME$e="ElCascader",__default__$13=defineComponent({name:COMPONENT_NAME$e}),_sfc_main$2z=defineComponent({...__default__$13,props:cascaderProps,emits:cascaderEmits,setup(n,{expose:e,emit:r}){const g=n,y={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:vn})=>{const{modifiersData:Pt,placement:wn}=vn;["right","left","bottom","top"].includes(wn)||(Pt.arrow.x=35)},requires:["arrow"]}]},k=useAttrs$1();let $=0,V=0;const L=useNamespace("cascader"),z=useNamespace("input"),{t:j}=useLocale(),{form:re,formItem:oe}=useFormItem(),ae=ref(null),de=ref(null),ue=ref(null),pe=ref(null),he=ref(null),Oe=ref(!1),xe=ref(!1),$e=ref(!1),Ne=ref(!1),Ce=ref(""),Fe=ref(""),ze=ref([]),kt=ref([]),At=ref([]),Cn=ref(!1),Dt=computed(()=>k.style),On=computed(()=>g.disabled||re?.disabled),jt=computed(()=>g.placeholder||j("el.cascader.placeholder")),An=computed(()=>Fe.value||ze.value.length>0||Cn.value?"":jt.value),Mn=useFormSize(),$n=computed(()=>["small"].includes(Mn.value)?"small":"default"),Ln=computed(()=>!!g.props.multiple),Tn=computed(()=>!g.filterable||Ln.value),Zn=computed(()=>Ln.value?Fe.value:Ce.value),Qn=computed(()=>{var vn;return((vn=pe.value)==null?void 0:vn.checkedNodes)||[]}),Pn=computed(()=>!g.clearable||On.value||$e.value||!xe.value?!1:!!Qn.value.length),Wn=computed(()=>{const{showAllLevels:vn,separator:Pt}=g,wn=Qn.value;return wn.length?Ln.value?"":wn[0].calcText(vn,Pt):""}),ur=computed({get(){return cloneDeep(g.modelValue)},set(vn){r(UPDATE_MODEL_EVENT,vn),r(CHANGE_EVENT,vn),g.validateEvent&&oe?.validate("change").catch(Pt=>void 0)}}),hr=computed(()=>[L.b(),L.m(Mn.value),L.is("disabled",On.value),k.class]),Vn=computed(()=>[z.e("icon"),"icon-arrow-down",L.is("reverse",Oe.value)]),En=computed(()=>L.is("focus",Oe.value||Ne.value)),jn=computed(()=>{var vn,Pt;return(Pt=(vn=ae.value)==null?void 0:vn.popperRef)==null?void 0:Pt.contentRef}),cr=vn=>{var Pt,wn,bn;On.value||(vn=vn??!Oe.value,vn!==Oe.value&&(Oe.value=vn,(wn=(Pt=de.value)==null?void 0:Pt.input)==null||wn.setAttribute("aria-expanded",`${vn}`),vn?(gr(),nextTick((bn=pe.value)==null?void 0:bn.scrollToExpandingNode)):g.filterable&&sr(),r("visibleChange",vn)))},gr=()=>{nextTick(()=>{var vn;(vn=ae.value)==null||vn.updatePopper()})},Cr=()=>{$e.value=!1},ir=vn=>{const{showAllLevels:Pt,separator:wn}=g;return{node:vn,key:vn.uid,text:vn.calcText(Pt,wn),hitState:!1,closable:!On.value&&!vn.isDisabled,isCollapseTag:!1}},Gn=vn=>{var Pt;const wn=vn.node;wn.doCheck(!1),(Pt=pe.value)==null||Pt.calculateCheckedValue(),r("removeTag",wn.valueByOption)},hn=()=>{if(!Ln.value)return;const vn=Qn.value,Pt=[],wn=[];if(vn.forEach(bn=>wn.push(ir(bn))),kt.value=wn,vn.length){vn.slice(0,g.maxCollapseTags).forEach(Fn=>Pt.push(ir(Fn)));const bn=vn.slice(g.maxCollapseTags),In=bn.length;In&&(g.collapseTags?Pt.push({key:-1,text:`+ ${In}`,closable:!1,isCollapseTag:!0}):bn.forEach(Fn=>Pt.push(ir(Fn))))}ze.value=Pt},Kn=()=>{var vn,Pt;const{filterMethod:wn,showAllLevels:bn,separator:In}=g,Fn=(Pt=(vn=pe.value)==null?void 0:vn.getFlattedNodes(!g.props.checkStrictly))==null?void 0:Pt.filter(Dn=>Dn.isDisabled?!1:(Dn.calcText(bn,In),wn(Dn,Zn.value)));Ln.value&&(ze.value.forEach(Dn=>{Dn.hitState=!1}),kt.value.forEach(Dn=>{Dn.hitState=!1})),$e.value=!0,At.value=Fn,gr()},Nn=()=>{var vn;let Pt;$e.value&&he.value?Pt=he.value.$el.querySelector(`.${L.e("suggestion-item")}`):Pt=(vn=pe.value)==null?void 0:vn.$el.querySelector(`.${L.b("node")}[tabindex="-1"]`),Pt&&(Pt.focus(),!$e.value&&Pt.click())},Lt=()=>{var vn,Pt;const wn=(vn=de.value)==null?void 0:vn.input,bn=ue.value,In=(Pt=he.value)==null?void 0:Pt.$el;if(!(!isClient||!wn)){if(In){const Fn=In.querySelector(`.${L.e("suggestion-list")}`);Fn.style.minWidth=`${wn.offsetWidth}px`}if(bn){const{offsetHeight:Fn}=bn,Dn=ze.value.length>0?`${Math.max(Fn+6,$)}px`:`${$}px`;wn.style.height=Dn,gr()}}},_n=vn=>{var Pt;return(Pt=pe.value)==null?void 0:Pt.getCheckedNodes(vn)},Bn=vn=>{gr(),r("expandChange",vn)},Xn=vn=>{var Pt;const wn=(Pt=vn.target)==null?void 0:Pt.value;if(vn.type==="compositionend")Cn.value=!1,nextTick(()=>qe(wn));else{const bn=wn[wn.length-1]||"";Cn.value=!isKorean(bn)}},rr=vn=>{if(!Cn.value)switch(vn.code){case EVENT_CODE.enter:cr();break;case EVENT_CODE.down:cr(!0),nextTick(Nn),vn.preventDefault();break;case EVENT_CODE.esc:Oe.value===!0&&(vn.preventDefault(),vn.stopPropagation(),cr(!1));break;case EVENT_CODE.tab:cr(!1);break}},ar=()=>{var vn;(vn=pe.value)==null||vn.clearCheckedNodes(),!Oe.value&&g.filterable&&sr(),cr(!1)},sr=()=>{const{value:vn}=Wn;Ce.value=vn,Fe.value=vn},mr=vn=>{var Pt,wn;const{checked:bn}=vn;Ln.value?(Pt=pe.value)==null||Pt.handleCheckChange(vn,!bn,!1):(!bn&&((wn=pe.value)==null||wn.handleCheckChange(vn,!0,!1)),cr(!1))},lr=vn=>{const Pt=vn.target,{code:wn}=vn;switch(wn){case EVENT_CODE.up:case EVENT_CODE.down:{const bn=wn===EVENT_CODE.up?-1:1;focusNode(getSibling(Pt,bn,`.${L.e("suggestion-item")}[tabindex="-1"]`));break}case EVENT_CODE.enter:Pt.click();break}},le=()=>{const vn=ze.value,Pt=vn[vn.length-1];V=Fe.value?0:V+1,!(!Pt||!V||g.collapseTags&&vn.length>1)&&(Pt.hitState?Gn(Pt):Pt.hitState=!0)},_e=vn=>{const Pt=vn.target,wn=L.e("search-input");Pt.className===wn&&(Ne.value=!0),r("focus",vn)},Ie=vn=>{Ne.value=!1,r("blur",vn)},Ue=debounce(()=>{const{value:vn}=Zn;if(!vn)return;const Pt=g.beforeFilter(vn);isPromise(Pt)?Pt.then(Kn).catch(()=>{}):Pt!==!1?Kn():Cr()},g.debounce),qe=(vn,Pt)=>{!Oe.value&&cr(!0),!Pt?.isComposing&&(vn?Ue():Cr())},Et=vn=>Number.parseFloat(useCssVar(z.cssVarName("input-height"),vn).value)-2;return watch($e,gr),watch([Qn,On],hn),watch(ze,()=>{nextTick(()=>Lt())}),watch(Mn,async()=>{await nextTick();const vn=de.value.input;$=Et(vn)||$,Lt()}),watch(Wn,sr,{immediate:!0}),onMounted(()=>{const vn=de.value.input,Pt=Et(vn);$=vn.offsetHeight||Pt,useResizeObserver(vn,Lt)}),e({getCheckedNodes:_n,cascaderPanelRef:pe,togglePopperVisible:cr,contentRef:jn}),(vn,Pt)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:ae,visible:Oe.value,teleported:vn.teleported,"popper-class":[unref(L).e("dropdown"),vn.popperClass],"popper-options":y,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${unref(L).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Cr},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(unref(hr)),style:normalizeStyle(unref(Dt)),onClick:Pt[5]||(Pt[5]=()=>cr(unref(Tn)?void 0:!0)),onKeydown:rr,onMouseenter:Pt[6]||(Pt[6]=wn=>xe.value=!0),onMouseleave:Pt[7]||(Pt[7]=wn=>xe.value=!1)},[createVNode(unref(ElInput),{ref_key:"input",ref:de,modelValue:Ce.value,"onUpdate:modelValue":Pt[1]||(Pt[1]=wn=>Ce.value=wn),placeholder:unref(An),readonly:unref(Tn),disabled:unref(On),"validate-event":!1,size:unref(Mn),class:normalizeClass(unref(En)),tabindex:unref(Ln)&&vn.filterable&&!unref(On)?-1:void 0,onCompositionstart:Xn,onCompositionupdate:Xn,onCompositionend:Xn,onFocus:_e,onBlur:Ie,onInput:qe},{suffix:withCtx(()=>[unref(Pn)?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref(z).e("icon"),"icon-circle-close"]),onClick:withModifiers(ar,["stop"])},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onClick"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(unref(Vn)),onClick:Pt[0]||(Pt[0]=withModifiers(wn=>cr(),["stop"]))},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),unref(Ln)?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:ue,class:normalizeClass(unref(L).e("tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ze.value,wn=>(openBlock(),createBlock(unref(ElTag),{key:wn.key,type:vn.tagType,size:unref($n),hit:wn.hitState,closable:wn.closable,"disable-transitions":"",onClose:bn=>Gn(wn)},{default:withCtx(()=>[wn.isCollapseTag===!1?(openBlock(),createElementBlock("span",_hoisted_1$1J,toDisplayString$1(wn.text),1)):(openBlock(),createBlock(unref(ElTooltip),{key:1,disabled:Oe.value||!vn.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(wn.text),1)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(L).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(kt.value.slice(vn.maxCollapseTags),(bn,In)=>(openBlock(),createElementBlock("div",{key:In,class:normalizeClass(unref(L).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:bn.key,class:"in-tooltip",type:vn.tagType,size:unref($n),hit:bn.hitState,closable:bn.closable,"disable-transitions":"",onClose:Fn=>Gn(bn)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(bn.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),vn.filterable&&!unref(On)?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":Pt[2]||(Pt[2]=wn=>Fe.value=wn),type:"text",class:normalizeClass(unref(L).e("search-input")),placeholder:unref(Wn)?"":unref(jt),onInput:Pt[3]||(Pt[3]=wn=>qe(Fe.value,wn)),onClick:Pt[4]||(Pt[4]=withModifiers(wn=>cr(!0),["stop"])),onKeydown:withKeys(le,["delete"]),onCompositionstart:Xn,onCompositionupdate:Xn,onCompositionend:Xn,onFocus:_e,onBlur:Ie},null,42,_hoisted_2$1p)),[[vModelText,Fe.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],38)),[[unref(ClickOutside),()=>cr(!1),unref(jn)]])]),content:withCtx(()=>[withDirectives(createVNode(unref(_CascaderPanel),{ref_key:"cascaderPanelRef",ref:pe,modelValue:unref(ur),"onUpdate:modelValue":Pt[8]||(Pt[8]=wn=>isRef(ur)?ur.value=wn:null),options:vn.options,props:g.props,border:!1,"render-label":vn.$slots.default,onExpandChange:Bn,onClose:Pt[9]||(Pt[9]=wn=>vn.$nextTick(()=>cr(!1)))},null,8,["modelValue","options","props","render-label"]),[[vShow,!$e.value]]),vn.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:0,ref_key:"suggestionPanel",ref:he,tag:"ul",class:normalizeClass(unref(L).e("suggestion-panel")),"view-class":unref(L).e("suggestion-list"),onKeydown:lr},{default:withCtx(()=>[At.value.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(At.value,wn=>(openBlock(),createElementBlock("li",{key:wn.uid,class:normalizeClass([unref(L).e("suggestion-item"),unref(L).is("checked",wn.checked)]),tabindex:-1,onClick:bn=>mr(wn)},[createBaseVNode("span",null,toDisplayString$1(wn.text),1),wn.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1})):createCommentVNode("v-if",!0)],10,_hoisted_3$P))),128)):renderSlot(vn.$slots,"empty",{key:1},()=>[createBaseVNode("li",{class:normalizeClass(unref(L).e("empty-text"))},toDisplayString$1(unref(j)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vShow,$e.value]]):createCommentVNode("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Cascader=_export_sfc$1(_sfc_main$2z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);Cascader.install=n=>{n.component(Cascader.name,Cascader)};const _Cascader=Cascader,ElCascader=_Cascader,checkTagProps=buildProps({checked:{type:Boolean,default:!1}}),checkTagEmits={"update:checked":n=>isBoolean$1(n),[CHANGE_EVENT]:n=>isBoolean$1(n)},__default__$12=defineComponent({name:"ElCheckTag"}),_sfc_main$2y=defineComponent({...__default__$12,props:checkTagProps,emits:checkTagEmits,setup(n,{emit:e}){const r=n,g=useNamespace("check-tag"),y=computed(()=>[g.b(),g.is("checked",r.checked)]),k=()=>{const $=!r.checked;e(CHANGE_EVENT,$),e("update:checked",$)};return($,V)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(y)),onClick:k},[renderSlot($.$slots,"default")],2))}});var CheckTag=_export_sfc$1(_sfc_main$2y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const ElCheckTag=withInstall(CheckTag),rowContextKey=Symbol("rowContextKey"),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),__default__$11=defineComponent({name:"ElRow"}),_sfc_main$2x=defineComponent({...__default__$11,props:rowProps,setup(n){const e=n,r=useNamespace("row"),g=computed(()=>e.gutter);provide(rowContextKey,{gutter:g});const y=computed(()=>{const $={};return e.gutter&&($.marginRight=$.marginLeft=`-${e.gutter/2}px`),$}),k=computed(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,!!e.align)]);return($,V)=>(openBlock(),createBlock(resolveDynamicComponent($.tag),{class:normalizeClass(unref(k)),style:normalizeStyle(unref(y))},{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},8,["class","style"]))}});var Row=_export_sfc$1(_sfc_main$2x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const ElRow=withInstall(Row),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$10=defineComponent({name:"ElCol"}),_sfc_main$2w=defineComponent({...__default__$10,props:colProps,setup(n){const e=n,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),g=useNamespace("col"),y=computed(()=>{const $={};return r.value&&($.paddingLeft=$.paddingRight=`${r.value/2}px`),$}),k=computed(()=>{const $=[];return["span","offset","pull","push"].forEach(z=>{const j=e[z];isNumber$1(j)&&(z==="span"?$.push(g.b(`${e[z]}`)):j>0&&$.push(g.b(`${z}-${e[z]}`)))}),["xs","sm","md","lg","xl"].forEach(z=>{isNumber$1(e[z])?$.push(g.b(`${z}-${e[z]}`)):isObject$3(e[z])&&Object.entries(e[z]).forEach(([j,re])=>{$.push(j!=="span"?g.b(`${z}-${j}-${re}`):g.b(`${z}-${re}`))})}),r.value&&$.push(g.is("guttered")),[g.b(),$]});return($,V)=>(openBlock(),createBlock(resolveDynamicComponent($.tag),{class:normalizeClass(unref(k)),style:normalizeStyle(unref(y))},{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$2w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=n=>typeof isNumber$1(n),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),useCollapse=(n,e)=>{const r=ref(castArray$1(n.modelValue)),g=k=>{r.value=k;const $=n.accordion?r.value[0]:r.value;e(UPDATE_MODEL_EVENT,$),e(CHANGE_EVENT,$)},y=k=>{if(n.accordion)g([r.value[0]===k?"":k]);else{const $=[...r.value],V=$.indexOf(k);V>-1?$.splice(V,1):$.push(k),g($)}};return watch(()=>n.modelValue,()=>r.value=castArray$1(n.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:r,handleItemClick:y}),{activeNames:r,setActiveNames:g}},useCollapseDOM=()=>{const n=useNamespace("collapse");return{rootKls:computed(()=>n.b())}},__default__$$=defineComponent({name:"ElCollapse"}),_sfc_main$2v=defineComponent({...__default__$$,props:collapseProps,emits:collapseEmits,setup(n,{expose:e,emit:r}){const g=n,{activeNames:y,setActiveNames:k}=useCollapse(g,r),{rootKls:$}=useCollapseDOM();return e({activeNames:y,setActiveNames:k}),(V,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($)),role:"tablist","aria-multiselectable":"true"},[renderSlot(V.$slots,"default")],2))}});var Collapse=_export_sfc$1(_sfc_main$2v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const __default__$_=defineComponent({name:"ElCollapseTransition"}),_sfc_main$2u=defineComponent({...__default__$_,setup(n){const e=useNamespace("collapse-transition"),r=y=>{y.style.maxHeight="",y.style.overflow=y.dataset.oldOverflow,y.style.paddingTop=y.dataset.oldPaddingTop,y.style.paddingBottom=y.dataset.oldPaddingBottom},g={beforeEnter(y){y.dataset||(y.dataset={}),y.dataset.oldPaddingTop=y.style.paddingTop,y.dataset.oldPaddingBottom=y.style.paddingBottom,y.style.maxHeight=0,y.style.paddingTop=0,y.style.paddingBottom=0},enter(y){y.dataset.oldOverflow=y.style.overflow,y.scrollHeight!==0?y.style.maxHeight=`${y.scrollHeight}px`:y.style.maxHeight=0,y.style.paddingTop=y.dataset.oldPaddingTop,y.style.paddingBottom=y.dataset.oldPaddingBottom,y.style.overflow="hidden"},afterEnter(y){y.style.maxHeight="",y.style.overflow=y.dataset.oldOverflow},enterCancelled(y){r(y)},beforeLeave(y){y.dataset||(y.dataset={}),y.dataset.oldPaddingTop=y.style.paddingTop,y.dataset.oldPaddingBottom=y.style.paddingBottom,y.dataset.oldOverflow=y.style.overflow,y.style.maxHeight=`${y.scrollHeight}px`,y.style.overflow="hidden"},leave(y){y.scrollHeight!==0&&(y.style.maxHeight=0,y.style.paddingTop=0,y.style.paddingBottom=0)},afterLeave(y){r(y)},leaveCancelled(y){r(y)}};return(y,k)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(e).b()},toHandlers(g)),{default:withCtx(()=>[renderSlot(y.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$2u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);CollapseTransition.install=n=>{n.component(CollapseTransition.name,CollapseTransition)};const _CollapseTransition=CollapseTransition,ElCollapseTransition=_CollapseTransition,collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:()=>generateId()},disabled:Boolean}),useCollapseItem=n=>{const e=inject(collapseContextKey),r=ref(!1),g=ref(!1),y=ref(generateId()),k=computed(()=>e?.activeNames.value.includes(n.name));return{focusing:r,id:y,isActive:k,handleFocus:()=>{setTimeout(()=>{g.value?g.value=!1:r.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e?.handleItemClick(n.name),r.value=!1,g.value=!0)},handleEnterClick:()=>{e?.handleItemClick(n.name)}}},useCollapseItemDOM=(n,{focusing:e,isActive:r,id:g})=>{const y=useNamespace("collapse"),k=computed(()=>[y.b("item"),y.is("active",unref(r)),y.is("disabled",n.disabled)]),$=computed(()=>[y.be("item","header"),y.is("active",unref(r)),{focusing:unref(e)&&!n.disabled}]),V=computed(()=>[y.be("item","arrow"),y.is("active",unref(r))]),L=computed(()=>y.be("item","wrap")),z=computed(()=>y.be("item","content")),j=computed(()=>y.b(`content-${unref(g)}`)),re=computed(()=>y.b(`head-${unref(g)}`));return{arrowKls:V,headKls:$,rootKls:k,itemWrapperKls:L,itemContentKls:z,scopedContentId:j,scopedHeadId:re}},_hoisted_1$1I=["aria-expanded","aria-controls","aria-describedby"],_hoisted_2$1o=["id","tabindex"],_hoisted_3$O=["id","aria-hidden","aria-labelledby"],__default__$Z=defineComponent({name:"ElCollapseItem"}),_sfc_main$2t=defineComponent({...__default__$Z,props:collapseItemProps,setup(n,{expose:e}){const r=n,{focusing:g,id:y,isActive:k,handleFocus:$,handleHeaderClick:V,handleEnterClick:L}=useCollapseItem(r),{arrowKls:z,headKls:j,rootKls:re,itemWrapperKls:oe,itemContentKls:ae,scopedContentId:de,scopedHeadId:ue}=useCollapseItemDOM(r,{focusing:g,isActive:k,id:y});return e({isActive:k}),(pe,he)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(re))},[createBaseVNode("div",{role:"tab","aria-expanded":unref(k),"aria-controls":unref(de),"aria-describedby":unref(de)},[createBaseVNode("div",{id:unref(ue),class:normalizeClass(unref(j)),role:"button",tabindex:pe.disabled?-1:0,onClick:he[0]||(he[0]=(...Oe)=>unref(V)&&unref(V)(...Oe)),onKeypress:he[1]||(he[1]=withKeys(withModifiers((...Oe)=>unref(L)&&unref(L)(...Oe),["stop","prevent"]),["space","enter"])),onFocus:he[2]||(he[2]=(...Oe)=>unref($)&&unref($)(...Oe)),onBlur:he[3]||(he[3]=Oe=>g.value=!1)},[renderSlot(pe.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(pe.title),1)]),createVNode(unref(ElIcon),{class:normalizeClass(unref(z))},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1},8,["class"])],42,_hoisted_2$1o)],8,_hoisted_1$1I),createVNode(unref(_CollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(de),class:normalizeClass(unref(oe)),role:"tabpanel","aria-hidden":!unref(k),"aria-labelledby":unref(ue)},[createBaseVNode("div",{class:normalizeClass(unref(ae))},[renderSlot(pe.$slots,"default")],2)],10,_hoisted_3$O),[[vShow,unref(k)]])]),_:3})],2))}});var CollapseItem=_export_sfc$1(_sfc_main$2t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(n,e){if(!isClient)return;const r=function(k){var $;($=e.drag)==null||$.call(e,k)},g=function(k){var $;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",g),document.onselectstart=null,document.ondragstart=null,isDragging=!1,($=e.end)==null||$.call(e,k)},y=function(k){var $;isDragging||(k.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",g),document.addEventListener("touchmove",r),document.addEventListener("touchend",g),isDragging=!0,($=e.start)==null||$.call(e,k))};n.addEventListener("mousedown",y),n.addEventListener("touchstart",y)}const useAlphaSlider=n=>{const e=getCurrentInstance(),r=shallowRef(),g=shallowRef();function y($){$.target!==r.value&&k($)}function k($){if(!g.value||!r.value)return;const L=e.vnode.el.getBoundingClientRect(),{clientX:z,clientY:j}=getClientXY($);if(n.vertical){let re=j-L.top;re=Math.max(r.value.offsetHeight/2,re),re=Math.min(re,L.height-r.value.offsetHeight/2),n.color.set("alpha",Math.round((re-r.value.offsetHeight/2)/(L.height-r.value.offsetHeight)*100))}else{let re=z-L.left;re=Math.max(r.value.offsetWidth/2,re),re=Math.min(re,L.width-r.value.offsetWidth/2),n.color.set("alpha",Math.round((re-r.value.offsetWidth/2)/(L.width-r.value.offsetWidth)*100))}}return{thumb:r,bar:g,handleDrag:k,handleClick:y}},useAlphaSliderDOM=(n,{bar:e,thumb:r,handleDrag:g})=>{const y=getCurrentInstance(),k=useNamespace("color-alpha-slider"),$=ref(0),V=ref(0),L=ref();function z(){if(!r.value||n.vertical)return 0;const Oe=y.vnode.el,xe=n.color.get("alpha");return Oe?Math.round(xe*(Oe.offsetWidth-r.value.offsetWidth/2)/100):0}function j(){if(!r.value)return 0;const Oe=y.vnode.el;if(!n.vertical)return 0;const xe=n.color.get("alpha");return Oe?Math.round(xe*(Oe.offsetHeight-r.value.offsetHeight/2)/100):0}function re(){if(n.color&&n.color.value){const{r:Oe,g:xe,b:$e}=n.color.toRgb();return`linear-gradient(to right, rgba(${Oe}, ${xe}, ${$e}, 0) 0%, rgba(${Oe}, ${xe}, ${$e}, 1) 100%)`}return""}function oe(){$.value=z(),V.value=j(),L.value=re()}onMounted(()=>{if(!e.value||!r.value)return;const Oe={drag:xe=>{g(xe)},end:xe=>{g(xe)}};draggable(e.value,Oe),draggable(r.value,Oe),oe()}),watch(()=>n.color.get("alpha"),()=>oe()),watch(()=>n.color.value,()=>oe());const ae=computed(()=>[k.b(),k.is("vertical",n.vertical)]),de=computed(()=>k.e("bar")),ue=computed(()=>k.e("thumb")),pe=computed(()=>({background:L.value})),he=computed(()=>({left:addUnit($.value),top:addUnit(V.value)}));return{rootKls:ae,barKls:de,barStyle:pe,thumbKls:ue,thumbStyle:he,update:oe}},COMPONENT_NAME$d="ElColorAlphaSlider",__default__$Y=defineComponent({name:COMPONENT_NAME$d}),_sfc_main$2s=defineComponent({...__default__$Y,props:alphaSliderProps,setup(n,{expose:e}){const r=n,{bar:g,thumb:y,handleDrag:k,handleClick:$}=useAlphaSlider(r),{rootKls:V,barKls:L,barStyle:z,thumbKls:j,thumbStyle:re,update:oe}=useAlphaSliderDOM(r,{bar:g,thumb:y,handleDrag:k});return e({update:oe,bar:g,thumb:y}),(ae,de)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V))},[createBaseVNode("div",{ref_key:"bar",ref:g,class:normalizeClass(unref(L)),style:normalizeStyle(unref(z)),onClick:de[0]||(de[0]=(...ue)=>unref($)&&unref($)(...ue))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:y,class:normalizeClass(unref(j)),style:normalizeStyle(unref(re))},null,6)],2))}});var AlphaSlider=_export_sfc$1(_sfc_main$2s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const _sfc_main$2r=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=useNamespace("color-hue-slider"),r=getCurrentInstance(),g=ref(),y=ref(),k=ref(0),$=ref(0),V=computed(()=>n.color.get("hue"));watch(()=>V.value,()=>{oe()});function L(ae){ae.target!==g.value&&z(ae)}function z(ae){if(!y.value||!g.value)return;const ue=r.vnode.el.getBoundingClientRect(),{clientX:pe,clientY:he}=getClientXY(ae);let Oe;if(n.vertical){let xe=he-ue.top;xe=Math.min(xe,ue.height-g.value.offsetHeight/2),xe=Math.max(g.value.offsetHeight/2,xe),Oe=Math.round((xe-g.value.offsetHeight/2)/(ue.height-g.value.offsetHeight)*360)}else{let xe=pe-ue.left;xe=Math.min(xe,ue.width-g.value.offsetWidth/2),xe=Math.max(g.value.offsetWidth/2,xe),Oe=Math.round((xe-g.value.offsetWidth/2)/(ue.width-g.value.offsetWidth)*360)}n.color.set("hue",Oe)}function j(){if(!g.value)return 0;const ae=r.vnode.el;if(n.vertical)return 0;const de=n.color.get("hue");return ae?Math.round(de*(ae.offsetWidth-g.value.offsetWidth/2)/360):0}function re(){if(!g.value)return 0;const ae=r.vnode.el;if(!n.vertical)return 0;const de=n.color.get("hue");return ae?Math.round(de*(ae.offsetHeight-g.value.offsetHeight/2)/360):0}function oe(){k.value=j(),$.value=re()}return onMounted(()=>{if(!y.value||!g.value)return;const ae={drag:de=>{z(de)},end:de=>{z(de)}};draggable(y.value,ae),draggable(g.value,ae),oe()}),{bar:y,thumb:g,thumbLeft:k,thumbTop:$,hueValue:V,handleClick:L,update:oe,ns:e}}});function _sfc_render$r(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b(),n.ns.is("vertical",n.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(n.ns.e("bar")),onClick:e[0]||(e[0]=(...$)=>n.handleClick&&n.handleClick(...$))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(n.ns.e("thumb")),style:normalizeStyle({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc$1(_sfc_main$2r,[["render",_sfc_render$r],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0}}),colorPickerEmits={[UPDATE_MODEL_EVENT]:n=>isString$3(n)||isNil(n),[CHANGE_EVENT]:n=>isString$3(n)||isNil(n),activeChange:n=>isString$3(n)||isNil(n)},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(n,e,r){return[n,e*r/((n=(2-e)*r)<1?n:2-n)||0,n/2]},isOnePointZero=function(n){return typeof n=="string"&&n.includes(".")&&Number.parseFloat(n)===1},isPercentage=function(n){return typeof n=="string"&&n.includes("%")},bound01=function(n,e){isOnePointZero(n)&&(n="100%");const r=isPercentage(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),r&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),r=n%16;return`${INT_HEX_MAP[e]||e}${INT_HEX_MAP[r]||r}`},toHex$1=function({r:n,g:e,b:r}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+r)?"":`#${hexOne(n)}${hexOne(e)}${hexOne(r)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(n){return n.length===2?(HEX_INT_MAP[n[0].toUpperCase()]||+n[0])*16+(HEX_INT_MAP[n[1].toUpperCase()]||+n[1]):HEX_INT_MAP[n[1].toUpperCase()]||+n[1]},hsl2hsv=function(n,e,r){e=e/100,r=r/100;let g=e;const y=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,g*=y<=1?y:2-y;const k=(r+e)/2,$=r===0?2*g/(y+g):2*e/(r+e);return{h:n,s:$*100,v:k*100}},rgb2hsv=(n,e,r)=>{n=bound01(n,255),e=bound01(e,255),r=bound01(r,255);const g=Math.max(n,e,r),y=Math.min(n,e,r);let k;const $=g,V=g-y,L=g===0?0:V/g;if(g===y)k=0;else{switch(g){case n:{k=(e-r)/V+(e<r?6:0);break}case e:{k=(r-n)/V+2;break}case r:{k=(n-e)/V+4;break}}k/=6}return{h:k*360,s:L*100,v:$*100}},hsv2rgb=function(n,e,r){n=bound01(n,360)*6,e=bound01(e,100),r=bound01(r,100);const g=Math.floor(n),y=n-g,k=r*(1-e),$=r*(1-y*e),V=r*(1-(1-y)*e),L=g%6,z=[r,$,k,k,V,r][L],j=[V,r,r,$,k,k][L],re=[k,k,V,r,r,$][L];return{r:Math.round(z*255),g:Math.round(j*255),b:Math.round(re*255)}};class Color{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in e)hasOwn$1(e,r)&&(this[r]=e[r]);e.value?this.fromString(e.value):this.doOnChange()}set(e,r){if(arguments.length===1&&typeof e=="object"){for(const g in e)hasOwn$1(e,g)&&this.set(g,e[g]);return}this[`_${e}`]=r,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=(g,y,k)=>{this._hue=Math.max(0,Math.min(360,g)),this._saturation=Math.max(0,Math.min(100,y)),this._value=Math.max(0,Math.min(100,k)),this.doOnChange()};if(e.includes("hsl")){const g=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(y=>y!=="").map((y,k)=>k>2?Number.parseFloat(y):Number.parseInt(y,10));if(g.length===4?this._alpha=Number.parseFloat(g[3])*100:g.length===3&&(this._alpha=100),g.length>=3){const{h:y,s:k,v:$}=hsl2hsv(g[0],g[1],g[2]);r(y,k,$)}}else if(e.includes("hsv")){const g=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(y=>y!=="").map((y,k)=>k>2?Number.parseFloat(y):Number.parseInt(y,10));g.length===4?this._alpha=Number.parseFloat(g[3])*100:g.length===3&&(this._alpha=100),g.length>=3&&r(g[0],g[1],g[2])}else if(e.includes("rgb")){const g=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(y=>y!=="").map((y,k)=>k>2?Number.parseFloat(y):Number.parseInt(y,10));if(g.length===4?this._alpha=Number.parseFloat(g[3])*100:g.length===3&&(this._alpha=100),g.length>=3){const{h:y,s:k,v:$}=rgb2hsv(g[0],g[1],g[2]);r(y,k,$)}}else if(e.includes("#")){const g=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(g))return;let y,k,$;g.length===3?(y=parseHexChannel(g[0]+g[0]),k=parseHexChannel(g[1]+g[1]),$=parseHexChannel(g[2]+g[2])):(g.length===6||g.length===8)&&(y=parseHexChannel(g.slice(0,2)),k=parseHexChannel(g.slice(2,4)),$=parseHexChannel(g.slice(4,6))),g.length===8?this._alpha=parseHexChannel(g.slice(6))/255*100:(g.length===3||g.length===6)&&(this._alpha=100);const{h:V,s:L,v:z}=rgb2hsv(y,k,$);r(V,L,z)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:r,_value:g,_alpha:y,format:k}=this;if(this.enableAlpha)switch(k){case"hsl":{const $=hsv2hsl(e,r/100,g/100);this.value=`hsla(${e}, ${Math.round($[1]*100)}%, ${Math.round($[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(r)}%, ${Math.round(g)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${toHex$1(hsv2rgb(e,r,g))}${hexOne(y*255/100)}`;break}default:{const{r:$,g:V,b:L}=hsv2rgb(e,r,g);this.value=`rgba(${$}, ${V}, ${L}, ${this.get("alpha")/100})`}}else switch(k){case"hsl":{const $=hsv2hsl(e,r/100,g/100);this.value=`hsl(${e}, ${Math.round($[1]*100)}%, ${Math.round($[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(r)}%, ${Math.round(g)}%)`;break}case"rgb":{const{r:$,g:V,b:L}=hsv2rgb(e,r,g);this.value=`rgb(${$}, ${V}, ${L})`;break}default:this.value=toHex$1(hsv2rgb(e,r,g))}}}const _sfc_main$2q=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(n){const e=useNamespace("color-predefine"),{currentColor:r}=inject(colorPickerContextKey),g=ref(k(n.colors,n.color));watch(()=>r.value,$=>{const V=new Color;V.fromString($),g.value.forEach(L=>{L.selected=V.compare(L)})}),watchEffect(()=>{g.value=k(n.colors,n.color)});function y($){n.color.fromString(n.colors[$])}function k($,V){return $.map(L=>{const z=new Color;return z.enableAlpha=!0,z.format="rgba",z.fromString(L),z.selected=z.value===V.value,z})}return{rgbaColors:g,handleSelect:y,ns:e}}}),_hoisted_1$1H=["onClick"];function _sfc_render$q(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass(n.ns.b())},[createBaseVNode("div",{class:normalizeClass(n.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.rgbaColors,($,V)=>(openBlock(),createElementBlock("div",{key:n.colors[V],class:normalizeClass([n.ns.e("color-selector"),n.ns.is("alpha",$._alpha<100),{selected:$.selected}]),onClick:L=>n.handleSelect(V)},[createBaseVNode("div",{style:normalizeStyle({backgroundColor:$.value})},null,4)],10,_hoisted_1$1H))),128))],2)],2)}var Predefine=_export_sfc$1(_sfc_main$2q,[["render",_sfc_render$q],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const _sfc_main$2p=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=useNamespace("color-svpanel"),r=getCurrentInstance(),g=ref(0),y=ref(0),k=ref("hsl(0, 100%, 50%)"),$=computed(()=>{const z=n.color.get("hue"),j=n.color.get("value");return{hue:z,value:j}});function V(){const z=n.color.get("saturation"),j=n.color.get("value"),re=r.vnode.el,{clientWidth:oe,clientHeight:ae}=re;y.value=z*oe/100,g.value=(100-j)*ae/100,k.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function L(z){const re=r.vnode.el.getBoundingClientRect(),{clientX:oe,clientY:ae}=getClientXY(z);let de=oe-re.left,ue=ae-re.top;de=Math.max(0,de),de=Math.min(de,re.width),ue=Math.max(0,ue),ue=Math.min(ue,re.height),y.value=de,g.value=ue,n.color.set({saturation:de/re.width*100,value:100-ue/re.height*100})}return watch(()=>$.value,()=>{V()}),onMounted(()=>{draggable(r.vnode.el,{drag:z=>{L(z)},end:z=>{L(z)}}),V()}),{cursorTop:g,cursorLeft:y,background:k,colorValue:$,handleDrag:L,update:V,ns:e}}}),_hoisted_1$1G=createBaseVNode("div",null,null,-1),_hoisted_2$1n=[_hoisted_1$1G];function _sfc_render$p(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass(n.ns.b()),style:normalizeStyle({backgroundColor:n.background})},[createBaseVNode("div",{class:normalizeClass(n.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(n.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(n.ns.e("cursor")),style:normalizeStyle({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},_hoisted_2$1n,6)],6)}var SvPanel=_export_sfc$1(_sfc_main$2p,[["render",_sfc_render$p],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const _hoisted_1$1F=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],__default__$X=defineComponent({name:"ElColorPicker"}),_sfc_main$2o=defineComponent({...__default__$X,props:colorPickerProps,emits:colorPickerEmits,setup(n,{expose:e,emit:r}){const g=n,{t:y}=useLocale(),k=useNamespace("color"),{formItem:$}=useFormItem(),V=useFormSize(),L=useFormDisabled(),{inputId:z,isLabeledByFormItem:j}=useFormItemInputId(g,{formItemContext:$}),re=ref(),oe=ref(),ae=ref(),de=ref();let ue=!0;const pe=reactive(new Color({enableAlpha:g.showAlpha,format:g.colorFormat||"",value:g.modelValue})),he=ref(!1),Oe=ref(!1),xe=ref(""),$e=computed(()=>!g.modelValue&&!Oe.value?"transparent":kt(pe,g.showAlpha)),Ne=computed(()=>!g.modelValue&&!Oe.value?"":pe.value),Ce=computed(()=>j.value?void 0:g.label||y("el.colorpicker.defaultLabel")),Fe=computed(()=>j.value?$?.labelId:void 0),ze=computed(()=>[k.b("picker"),k.is("disabled",L.value),k.bm("picker",V.value)]);function kt(Tn,Zn){if(!(Tn instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:Qn,g:Pn,b:Wn}=Tn.toRgb();return Zn?`rgba(${Qn}, ${Pn}, ${Wn}, ${Tn.get("alpha")/100})`:`rgb(${Qn}, ${Pn}, ${Wn})`}function At(Tn){he.value=Tn}const Cn=debounce(At,100);function Dt(){L.value||At(!0)}function On(){Cn(!1),jt()}function jt(){nextTick(()=>{g.modelValue?pe.fromString(g.modelValue):(pe.value="",nextTick(()=>{Oe.value=!1}))})}function An(){L.value||Cn(!he.value)}function Mn(){pe.fromString(xe.value)}function $n(){const Tn=pe.value;r(UPDATE_MODEL_EVENT,Tn),r("change",Tn),g.validateEvent&&$?.validate("change").catch(Zn=>void 0),Cn(!1),nextTick(()=>{const Zn=new Color({enableAlpha:g.showAlpha,format:g.colorFormat||"",value:g.modelValue});pe.compare(Zn)||jt()})}function Ln(){Cn(!1),r(UPDATE_MODEL_EVENT,null),r("change",null),g.modelValue!==null&&g.validateEvent&&$?.validate("change").catch(Tn=>void 0),jt()}return onMounted(()=>{g.modelValue&&(xe.value=Ne.value)}),watch(()=>g.modelValue,Tn=>{Tn?Tn&&Tn!==pe.value&&(ue=!1,pe.fromString(Tn)):Oe.value=!1}),watch(()=>Ne.value,Tn=>{xe.value=Tn,ue&&r("activeChange",Tn),ue=!0}),watch(()=>pe.value,()=>{!g.modelValue&&!Oe.value&&(Oe.value=!0)}),watch(()=>he.value,()=>{nextTick(()=>{var Tn,Zn,Qn;(Tn=re.value)==null||Tn.update(),(Zn=oe.value)==null||Zn.update(),(Qn=ae.value)==null||Qn.update()})}),provide(colorPickerContextKey,{currentColor:Ne}),e({color:pe,show:Dt,hide:On}),(Tn,Zn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:de,visible:he.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(k).be("picker","panel"),unref(k).b("dropdown"),Tn.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${unref(k).namespace.value}-zoom-in-top`,persistent:""},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:normalizeClass(unref(k).be("dropdown","main-wrapper"))},[createVNode(HueSlider,{ref_key:"hue",ref:re,class:"hue-slider",color:unref(pe),vertical:""},null,8,["color"]),createVNode(SvPanel,{ref_key:"sv",ref:oe,color:unref(pe)},null,8,["color"])],2),Tn.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:ae,color:unref(pe)},null,8,["color"])):createCommentVNode("v-if",!0),Tn.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine",color:unref(pe),colors:Tn.predefine},null,8,["color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(k).be("dropdown","value"))},[createVNode(unref(ElInput),{modelValue:xe.value,"onUpdate:modelValue":Zn[0]||(Zn[0]=Qn=>xe.value=Qn),"validate-event":!1,size:"small",onKeyup:withKeys(Mn,["enter"]),onBlur:Mn},null,8,["modelValue","onKeyup"])],2),createVNode(unref(ElButton),{class:normalizeClass(unref(k).be("dropdown","link-btn")),text:"",size:"small",onClick:Ln},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(y)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(k).be("dropdown","btn")),onClick:$n},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(y)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[unref(ClickOutside),On]])]),default:withCtx(()=>[createBaseVNode("div",{id:unref(z),class:normalizeClass(unref(ze)),role:"button","aria-label":unref(Ce),"aria-labelledby":unref(Fe),"aria-description":unref(y)("el.colorpicker.description",{color:Tn.modelValue||""}),tabindex:Tn.tabindex,onKeydown:withKeys(An,["enter"])},[unref(L)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).be("picker","trigger")),onClick:An},[createBaseVNode("span",{class:normalizeClass([unref(k).be("picker","color"),unref(k).is("alpha",Tn.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(k).be("picker","color-inner")),style:normalizeStyle({backgroundColor:unref($e)})},[withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(k).be("picker","icon"),unref(k).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,Tn.modelValue||Oe.value]]),!Tn.modelValue&&!Oe.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(k).be("picker","empty"),unref(k).is("icon-close")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)],2)],2)],42,_hoisted_1$1F)]),_:1},8,["visible","popper-class","transition"]))}});var ColorPicker=_export_sfc$1(_sfc_main$2o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),__default__$W=defineComponent({name:"ElContainer"}),_sfc_main$2n=defineComponent({...__default__$W,props:{direction:{type:String}},setup(n){const e=n,r=useSlots(),g=useNamespace("container"),y=computed(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some($=>{const V=$.type.name;return V==="ElHeader"||V==="ElFooter"}):!1);return(k,$)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(g).b(),unref(g).is("vertical",unref(y))])},[renderSlot(k.$slots,"default")],2))}});var Container=_export_sfc$1(_sfc_main$2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const __default__$V=defineComponent({name:"ElAside"}),_sfc_main$2m=defineComponent({...__default__$V,props:{width:{type:String,default:null}},setup(n){const e=n,r=useNamespace("aside"),g=computed(()=>e.width?r.cssVarBlock({width:e.width}):{});return(y,k)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Aside=_export_sfc$1(_sfc_main$2m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const __default__$U=defineComponent({name:"ElFooter"}),_sfc_main$2l=defineComponent({...__default__$U,props:{height:{type:String,default:null}},setup(n){const e=n,r=useNamespace("footer"),g=computed(()=>e.height?r.cssVarBlock({height:e.height}):{});return(y,k)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Footer$2=_export_sfc$1(_sfc_main$2l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const __default__$T=defineComponent({name:"ElHeader"}),_sfc_main$2k=defineComponent({...__default__$T,props:{height:{type:String,default:null}},setup(n){const e=n,r=useNamespace("header"),g=computed(()=>e.height?r.cssVarBlock({height:e.height}):{});return(y,k)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Header=_export_sfc$1(_sfc_main$2k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const __default__$S=defineComponent({name:"ElMain"}),_sfc_main$2j=defineComponent({...__default__$S,setup(n){const e=useNamespace("main");return(r,g)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(e).b())},[renderSlot(r.$slots,"default")],2))}});var Main=_export_sfc$1(_sfc_main$2j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer:Footer$2,Header,Main}),ElAside=withNoopInstall(Aside),ElFooter=withNoopInstall(Footer$2),ElHeader=withNoopInstall(Header),ElMain=withNoopInstall(Main);var advancedFormat$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){var y=g.prototype,k=y.format;y.format=function($){var V=this,L=this.$locale();if(!this.isValid())return k.bind(this)($);var z=this.$utils(),j=($||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(re){switch(re){case"Q":return Math.ceil((V.$M+1)/3);case"Do":return L.ordinal(V.$D);case"gggg":return V.weekYear();case"GGGG":return V.isoWeekYear();case"wo":return L.ordinal(V.week(),"W");case"w":case"ww":return z.s(V.week(),re==="w"?1:2,"0");case"W":case"WW":return z.s(V.isoWeek(),re==="W"?1:2,"0");case"k":case"kk":return z.s(String(V.$H===0?24:V.$H),re==="k"?1:2,"0");case"X":return Math.floor(V.$d.getTime()/1e3);case"x":return V.$d.getTime();case"z":return"["+V.offsetName()+"]";case"zzz":return"["+V.offsetName("long")+"]";default:return re}});return k.bind(this)(j)}}})})(advancedFormat$1);var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var weekOfYear$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){var r="week",g="year";return function(y,k,$){var V=k.prototype;V.week=function(L){if(L===void 0&&(L=null),L!==null)return this.add(7*(L-this.week()),"day");var z=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var j=$(this).startOf(g).add(1,g).date(z),re=$(this).endOf(r);if(j.isBefore(re))return 1}var oe=$(this).startOf(g).date(z).startOf(r).subtract(1,"millisecond"),ae=this.diff(oe,r,!0);return ae<0?$(this).startOf("week").week():Math.ceil(ae)},V.weeks=function(L){return L===void 0&&(L=null),this.week(L)}}})})(weekOfYear$1);var weekOfYearExports=weekOfYear$1.exports;const weekOfYear=getDefaultExportFromCjs(weekOfYearExports);var weekYear$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){g.prototype.weekYear=function(){var y=this.month(),k=this.week(),$=this.year();return k===1&&y===11?$+1:y===0&&k>=52?$-1:$}}})})(weekYear$1);var weekYearExports=weekYear$1.exports;const weekYear=getDefaultExportFromCjs(weekYearExports);var dayOfYear$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g,y){g.prototype.dayOfYear=function(k){var $=Math.round((y(this).startOf("day")-y(this).startOf("year"))/864e5)+1;return k==null?$:this.add(k-$,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);var isSameOrAfter$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){g.prototype.isSameOrAfter=function(y,k){return this.isSame(y,k)||this.isAfter(y,k)}}})})(isSameOrAfter$1);var isSameOrAfterExports=isSameOrAfter$1.exports;const isSameOrAfter=getDefaultExportFromCjs(isSameOrAfterExports);var isSameOrBefore$1={exports:{}};(function(n,e){(function(r,g){n.exports=g()})(commonjsGlobal$1,function(){return function(r,g){g.prototype.isSameOrBefore=function(y,k){return this.isSame(y,k)||this.isBefore(y,k)}}})})(isSameOrBefore$1);var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports),ROOT_PICKER_INJECTION_KEY=Symbol(),datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","month","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=n=>({type:String,values:selectionModes,default:n}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),isValidRange=n=>{if(!isArray$3(n))return!1;const[e,r]=n;return dayjs.isDayjs(e)&&dayjs.isDayjs(r)&&e.isSameOrBefore(r)},getDefaultValue=(n,{lang:e,unit:r,unlinkPanels:g})=>{let y;if(isArray$3(n)){let[k,$]=n.map(V=>dayjs(V).locale(e));return g||($=k.add(1,r)),[k,$]}else n?y=dayjs(n):y=dayjs();return y=y.locale(e),[y,y.add(1,r)]},buildPickerTable=(n,e,{columnIndexOffset:r,startDate:g,nextEndDate:y,now:k,unit:$,relativeDateGetter:V,setCellMetadata:L,setRowMetadata:z})=>{for(let j=0;j<n.row;j++){const re=e[j];for(let oe=0;oe<n.column;oe++){let ae=re[oe+r];ae||(ae={row:j,column:oe,type:"normal",inRange:!1,start:!1,end:!1});const de=j*n.column+oe,ue=V(de);ae.dayjs=ue,ae.date=ue.toDate(),ae.timestamp=ue.valueOf(),ae.type="normal",ae.inRange=!!(g&&ue.isSameOrAfter(g,$)&&y&&ue.isSameOrBefore(y,$))||!!(g&&ue.isSameOrBefore(g,$)&&y&&ue.isSameOrAfter(y,$)),g?.isSameOrAfter(y)?(ae.start=!!y&&ue.isSame(y,$),ae.end=g&&ue.isSame(g,$)):(ae.start=!!g&&ue.isSame(g,$),ae.end=!!y&&ue.isSame(y,$)),ue.isSame(k,$)&&(ae.type="today"),L?.(ae,{rowIndex:j,columnIndex:oe}),re[oe+r]=ae}z?.(re)}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(n){const e=useNamespace("date-table-cell"),{slots:r}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:g}=n;if(r.default){const y=r.default(g).filter(k=>k.patchFlag!==-2&&k.type.toString()!=="Symbol(Comment)");if(y.length)return y}return createVNode("div",{class:e.b()},[createVNode("span",{class:e.e("text")},[g?.text])])}}});const _hoisted_1$1E=["aria-label","onMousedown"],_hoisted_2$1m={key:0,scope:"col"},_hoisted_3$N=["aria-label"],_hoisted_4$E=["aria-current","aria-selected","tabindex"],_sfc_main$2i=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:["changerange","pick","select"],setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("date-table"),{t:k,lang:$}=useLocale(),V=ref(),L=ref(),z=ref(),j=ref(),re=ref([[],[],[],[],[],[]]);let oe=!1;const ae=g.date.$locale().weekStart||7,de=g.date.locale("en").localeData().weekdaysShort().map(Pn=>Pn.toLowerCase()),ue=computed(()=>ae>3?7-ae:-ae),pe=computed(()=>{const Pn=g.date.startOf("month");return Pn.subtract(Pn.day()||7,"day")}),he=computed(()=>de.concat(de).slice(ae,ae+7)),Oe=computed(()=>flatten$1(ze.value).some(Pn=>Pn.isCurrent)),xe=computed(()=>{const Pn=g.date.startOf("month"),Wn=Pn.day()||7,ur=Pn.daysInMonth(),hr=Pn.subtract(1,"month").daysInMonth();return{startOfMonthDay:Wn,dateCountOfMonth:ur,dateCountOfLastMonth:hr}}),$e=computed(()=>g.selectionMode==="dates"?castArray(g.parsedValue):[]),Ne=(Pn,{count:Wn,rowIndex:ur,columnIndex:hr})=>{const{startOfMonthDay:Vn,dateCountOfMonth:En,dateCountOfLastMonth:jn}=unref(xe),cr=unref(ue);if(ur>=0&&ur<=1){const gr=Vn+cr<0?7+Vn+cr:Vn+cr;if(hr+ur*7>=gr)return Pn.text=Wn,!0;Pn.text=jn-(gr-hr%7)+1+ur*7,Pn.type="prev-month"}else return Wn<=En?Pn.text=Wn:(Pn.text=Wn-En,Pn.type="next-month"),!0;return!1},Ce=(Pn,{columnIndex:Wn,rowIndex:ur},hr)=>{const{disabledDate:Vn,cellClassName:En}=g,jn=unref($e),cr=Ne(Pn,{count:hr,rowIndex:ur,columnIndex:Wn}),gr=Pn.dayjs.toDate();return Pn.selected=jn.find(Cr=>Cr.valueOf()===Pn.dayjs.valueOf()),Pn.isSelected=!!Pn.selected,Pn.isCurrent=Cn(Pn),Pn.disabled=Vn?.(gr),Pn.customClass=En?.(gr),cr},Fe=Pn=>{if(g.selectionMode==="week"){const[Wn,ur]=g.showWeekNumber?[1,7]:[0,6],hr=Qn(Pn[Wn+1]);Pn[Wn].inRange=hr,Pn[Wn].start=hr,Pn[ur].inRange=hr,Pn[ur].end=hr}},ze=computed(()=>{const{minDate:Pn,maxDate:Wn,rangeState:ur,showWeekNumber:hr}=g,Vn=ue.value,En=re.value,jn="day";let cr=1;if(hr)for(let gr=0;gr<6;gr++)En[gr][0]||(En[gr][0]={type:"week",text:pe.value.add(gr*7+1,jn).week()});return buildPickerTable({row:6,column:7},En,{startDate:Pn,columnIndexOffset:hr?1:0,nextEndDate:ur.endDate||Wn||ur.selecting&&Pn||null,now:dayjs().locale(unref($)).startOf(jn),unit:jn,relativeDateGetter:gr=>pe.value.add(gr-Vn,jn),setCellMetadata:(...gr)=>{Ce(...gr,cr)&&(cr+=1)},setRowMetadata:Fe}),En});watch(()=>g.date,async()=>{var Pn,Wn;(Pn=V.value)!=null&&Pn.contains(document.activeElement)&&(await nextTick(),(Wn=L.value)==null||Wn.focus())});const kt=async()=>{var Pn;(Pn=L.value)==null||Pn.focus()},At=(Pn="")=>["normal","today"].includes(Pn),Cn=Pn=>g.selectionMode==="date"&&At(Pn.type)&&Dt(Pn,g.parsedValue),Dt=(Pn,Wn)=>Wn?dayjs(Wn).locale($.value).isSame(g.date.date(Number(Pn.text)),"day"):!1,On=Pn=>{const Wn=[];return At(Pn.type)&&!Pn.disabled?(Wn.push("available"),Pn.type==="today"&&Wn.push("today")):Wn.push(Pn.type),Cn(Pn)&&Wn.push("current"),Pn.inRange&&(At(Pn.type)||g.selectionMode==="week")&&(Wn.push("in-range"),Pn.start&&Wn.push("start-date"),Pn.end&&Wn.push("end-date")),Pn.disabled&&Wn.push("disabled"),Pn.selected&&Wn.push("selected"),Pn.customClass&&Wn.push(Pn.customClass),Wn.join(" ")},jt=(Pn,Wn)=>{const ur=Pn*7+(Wn-(g.showWeekNumber?1:0))-ue.value;return pe.value.add(ur,"day")},An=Pn=>{var Wn;if(!g.rangeState.selecting)return;let ur=Pn.target;if(ur.tagName==="SPAN"&&(ur=(Wn=ur.parentNode)==null?void 0:Wn.parentNode),ur.tagName==="DIV"&&(ur=ur.parentNode),ur.tagName!=="TD")return;const hr=ur.parentNode.rowIndex-1,Vn=ur.cellIndex;ze.value[hr][Vn].disabled||(hr!==z.value||Vn!==j.value)&&(z.value=hr,j.value=Vn,r("changerange",{selecting:!0,endDate:jt(hr,Vn)}))},Mn=Pn=>!Oe.value&&Pn?.text===1&&Pn.type==="normal"||Pn.isCurrent,$n=Pn=>{oe||Oe.value||g.selectionMode!=="date"||Zn(Pn,!0)},Ln=Pn=>{Pn.target.closest("td")&&(oe=!0)},Tn=Pn=>{Pn.target.closest("td")&&(oe=!1)},Zn=(Pn,Wn=!1)=>{const ur=Pn.target.closest("td");if(!ur)return;const hr=ur.parentNode.rowIndex-1,Vn=ur.cellIndex,En=ze.value[hr][Vn];if(En.disabled||En.type==="week")return;const jn=jt(hr,Vn);if(g.selectionMode==="range")!g.rangeState.selecting||!g.minDate?(r("pick",{minDate:jn,maxDate:null}),r("select",!0)):(jn>=g.minDate?r("pick",{minDate:g.minDate,maxDate:jn}):r("pick",{minDate:jn,maxDate:g.minDate}),r("select",!1));else if(g.selectionMode==="date")r("pick",jn,Wn);else if(g.selectionMode==="week"){const cr=jn.week(),gr=`${jn.year()}w${cr}`;r("pick",{year:jn.year(),week:cr,value:gr,date:jn.startOf("week")})}else if(g.selectionMode==="dates"){const cr=En.selected?castArray(g.parsedValue).filter(gr=>gr?.valueOf()!==jn.valueOf()):castArray(g.parsedValue).concat([jn]);r("pick",cr)}},Qn=Pn=>{if(g.selectionMode!=="week")return!1;let Wn=g.date.startOf("day");if(Pn.type==="prev-month"&&(Wn=Wn.subtract(1,"month")),Pn.type==="next-month"&&(Wn=Wn.add(1,"month")),Wn=Wn.date(Number.parseInt(Pn.text,10)),g.parsedValue&&!Array.isArray(g.parsedValue)){const ur=(g.parsedValue.day()-ae+7)%7-1;return g.parsedValue.subtract(ur,"day").isSame(Wn,"day")}return!1};return e({focus:kt}),(Pn,Wn)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(k)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:normalizeClass([unref(y).b(),{"is-week-mode":Pn.selectionMode==="week"}]),onClick:Zn,onMousemove:An,onMousedown:withModifiers(Ln,["prevent"]),onMouseup:Tn},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:V},[createBaseVNode("tr",null,[Pn.showWeekNumber?(openBlock(),createElementBlock("th",_hoisted_2$1m,toDisplayString$1(unref(k)("el.datepicker.week")),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(he),(ur,hr)=>(openBlock(),createElementBlock("th",{key:hr,scope:"col","aria-label":unref(k)("el.datepicker.weeksFull."+ur)},toDisplayString$1(unref(k)("el.datepicker.weeks."+ur)),9,_hoisted_3$N))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ze),(ur,hr)=>(openBlock(),createElementBlock("tr",{key:hr,class:normalizeClass([unref(y).e("row"),{current:Qn(ur[1])}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ur,(Vn,En)=>(openBlock(),createElementBlock("td",{key:`${hr}.${En}`,ref_for:!0,ref:jn=>Mn(Vn)&&(L.value=jn),class:normalizeClass(On(Vn)),"aria-current":Vn.isCurrent?"date":void 0,"aria-selected":Vn.isCurrent,tabindex:Mn(Vn)?0:-1,onFocus:$n},[createVNode(unref(ElDatePickerCell),{cell:Vn},null,8,["cell"])],42,_hoisted_4$E))),128))],2))),128))],512)],42,_hoisted_1$1E))}});var DateTable=_export_sfc$1(_sfc_main$2i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$1D=["aria-label"],_hoisted_2$1l=["aria-selected","aria-label","tabindex","onKeydown"],_hoisted_3$M={class:"cell"},_sfc_main$2h=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(n,{expose:e,emit:r}){const g=n,y=($e,Ne,Ce)=>{const Fe=dayjs().locale(Ce).startOf("month").month(Ne).year($e),ze=Fe.daysInMonth();return rangeArr(ze).map(kt=>Fe.add(kt,"day").toDate())},k=useNamespace("month-table"),{t:$,lang:V}=useLocale(),L=ref(),z=ref(),j=ref(g.date.locale("en").localeData().monthsShort().map($e=>$e.toLowerCase())),re=ref([[],[],[]]),oe=ref(),ae=ref(),de=computed(()=>{var $e,Ne;const Ce=re.value,Fe=dayjs().locale(V.value).startOf("month");for(let ze=0;ze<3;ze++){const kt=Ce[ze];for(let At=0;At<4;At++){const Cn=kt[At]||(kt[At]={row:ze,column:At,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Cn.type="normal";const Dt=ze*4+At,On=g.date.startOf("year").month(Dt),jt=g.rangeState.endDate||g.maxDate||g.rangeState.selecting&&g.minDate||null;Cn.inRange=!!(g.minDate&&On.isSameOrAfter(g.minDate,"month")&&jt&&On.isSameOrBefore(jt,"month"))||!!(g.minDate&&On.isSameOrBefore(g.minDate,"month")&&jt&&On.isSameOrAfter(jt,"month")),($e=g.minDate)!=null&&$e.isSameOrAfter(jt)?(Cn.start=!!(jt&&On.isSame(jt,"month")),Cn.end=g.minDate&&On.isSame(g.minDate,"month")):(Cn.start=!!(g.minDate&&On.isSame(g.minDate,"month")),Cn.end=!!(jt&&On.isSame(jt,"month"))),Fe.isSame(On)&&(Cn.type="today"),Cn.text=Dt,Cn.disabled=((Ne=g.disabledDate)==null?void 0:Ne.call(g,On.toDate()))||!1}}return Ce}),ue=()=>{var $e;($e=z.value)==null||$e.focus()},pe=$e=>{const Ne={},Ce=g.date.year(),Fe=new Date,ze=$e.text;return Ne.disabled=g.disabledDate?y(Ce,ze,V.value).every(g.disabledDate):!1,Ne.current=castArray(g.parsedValue).findIndex(kt=>dayjs.isDayjs(kt)&&kt.year()===Ce&&kt.month()===ze)>=0,Ne.today=Fe.getFullYear()===Ce&&Fe.getMonth()===ze,$e.inRange&&(Ne["in-range"]=!0,$e.start&&(Ne["start-date"]=!0),$e.end&&(Ne["end-date"]=!0)),Ne},he=$e=>{const Ne=g.date.year(),Ce=$e.text;return castArray(g.date).findIndex(Fe=>Fe.year()===Ne&&Fe.month()===Ce)>=0},Oe=$e=>{var Ne;if(!g.rangeState.selecting)return;let Ce=$e.target;if(Ce.tagName==="A"&&(Ce=(Ne=Ce.parentNode)==null?void 0:Ne.parentNode),Ce.tagName==="DIV"&&(Ce=Ce.parentNode),Ce.tagName!=="TD")return;const Fe=Ce.parentNode.rowIndex,ze=Ce.cellIndex;de.value[Fe][ze].disabled||(Fe!==oe.value||ze!==ae.value)&&(oe.value=Fe,ae.value=ze,r("changerange",{selecting:!0,endDate:g.date.startOf("year").month(Fe*4+ze)}))},xe=$e=>{var Ne;const Ce=(Ne=$e.target)==null?void 0:Ne.closest("td");if(Ce?.tagName!=="TD"||hasClass(Ce,"disabled"))return;const Fe=Ce.cellIndex,kt=Ce.parentNode.rowIndex*4+Fe,At=g.date.startOf("year").month(kt);g.selectionMode==="range"?g.rangeState.selecting?(g.minDate&&At>=g.minDate?r("pick",{minDate:g.minDate,maxDate:At}):r("pick",{minDate:At,maxDate:g.minDate}),r("select",!1)):(r("pick",{minDate:At,maxDate:null}),r("select",!0)):r("pick",kt)};return watch(()=>g.date,async()=>{var $e,Ne;($e=L.value)!=null&&$e.contains(document.activeElement)&&(await nextTick(),(Ne=z.value)==null||Ne.focus())}),e({focus:ue}),($e,Ne)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref($)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(k).b()),onClick:xe,onMousemove:Oe},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:L},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(de),(Ce,Fe)=>(openBlock(),createElementBlock("tr",{key:Fe},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ce,(ze,kt)=>(openBlock(),createElementBlock("td",{key:kt,ref_for:!0,ref:At=>he(ze)&&(z.value=At),class:normalizeClass(pe(ze)),"aria-selected":`${he(ze)}`,"aria-label":unref($)(`el.datepicker.month${+ze.text+1}`),tabindex:he(ze)?0:-1,onKeydown:[withKeys(withModifiers(xe,["prevent","stop"]),["space"]),withKeys(withModifiers(xe,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$M,toDisplayString$1(unref($)("el.datepicker.months."+j.value[ze.text])),1)])],42,_hoisted_2$1l))),128))]))),128))],512)],42,_hoisted_1$1D))}});var MonthTable=_export_sfc$1(_sfc_main$2h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date,disabledDate,parsedValue}=datePickerSharedProps,basicYearTableProps=buildProps({date,disabledDate,parsedValue}),_hoisted_1$1C=["aria-label"],_hoisted_2$1k=["aria-selected","tabindex","onKeydown"],_hoisted_3$L={class:"cell"},_hoisted_4$D={key:1},_sfc_main$2g=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["pick"],setup(n,{expose:e,emit:r}){const g=n,y=(ue,pe)=>{const he=dayjs(String(ue)).locale(pe).startOf("year"),xe=he.endOf("year").dayOfYear();return rangeArr(xe).map($e=>he.add($e,"day").toDate())},k=useNamespace("year-table"),{t:$,lang:V}=useLocale(),L=ref(),z=ref(),j=computed(()=>Math.floor(g.date.year()/10)*10),re=()=>{var ue;(ue=z.value)==null||ue.focus()},oe=ue=>{const pe={},he=dayjs().locale(V.value);return pe.disabled=g.disabledDate?y(ue,V.value).every(g.disabledDate):!1,pe.current=castArray(g.parsedValue).findIndex(Oe=>Oe.year()===ue)>=0,pe.today=he.year()===ue,pe},ae=ue=>ue===j.value&&g.date.year()<j.value&&g.date.year()>j.value+9||castArray(g.date).findIndex(pe=>pe.year()===ue)>=0,de=ue=>{const he=ue.target.closest("td");if(he&&he.textContent){if(hasClass(he,"disabled"))return;const Oe=he.textContent||he.innerText;r("pick",Number(Oe))}};return watch(()=>g.date,async()=>{var ue,pe;(ue=L.value)!=null&&ue.contains(document.activeElement)&&(await nextTick(),(pe=z.value)==null||pe.focus())}),e({focus:re}),(ue,pe)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref($)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(k).b()),onClick:de},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:L},[(openBlock(),createElementBlock(Fragment,null,renderList(3,(he,Oe)=>createBaseVNode("tr",{key:Oe},[(openBlock(),createElementBlock(Fragment,null,renderList(4,(xe,$e)=>(openBlock(),createElementBlock(Fragment,{key:Oe+"_"+$e},[Oe*4+$e<10?(openBlock(),createElementBlock("td",{key:0,ref_for:!0,ref:Ne=>ae(unref(j)+Oe*4+$e)&&(z.value=Ne),class:normalizeClass(["available",oe(unref(j)+Oe*4+$e)]),"aria-selected":`${ae(unref(j)+Oe*4+$e)}`,tabindex:ae(unref(j)+Oe*4+$e)?0:-1,onKeydown:[withKeys(withModifiers(de,["prevent","stop"]),["space"]),withKeys(withModifiers(de,["prevent","stop"]),["enter"])]},[createBaseVNode("span",_hoisted_3$L,toDisplayString$1(unref(j)+Oe*4+$e),1)],42,_hoisted_2$1k)):(openBlock(),createElementBlock("td",_hoisted_4$D))],64))),64))])),64))],512)],10,_hoisted_1$1C))}});var YearTable=_export_sfc$1(_sfc_main$2g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const _hoisted_1$1B=["onClick"],_hoisted_2$1j=["aria-label"],_hoisted_3$K=["aria-label"],_hoisted_4$C=["aria-label"],_hoisted_5$x=["aria-label"],_sfc_main$2f=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const r=n,g=(Et,vn,Pt)=>!0,y=useNamespace("picker-panel"),k=useNamespace("date-picker"),$=useAttrs$1(),V=useSlots(),{t:L,lang:z}=useLocale(),j=inject("EP_PICKER_BASE"),re=inject(TOOLTIP_INJECTION_KEY),{shortcuts:oe,disabledDate:ae,cellClassName:de,defaultTime:ue}=j.props,pe=toRef(j.props,"defaultValue"),he=ref(),Oe=ref(dayjs().locale(z.value)),xe=ref(!1);let $e=!1;const Ne=computed(()=>dayjs(ue).locale(z.value)),Ce=computed(()=>Oe.value.month()),Fe=computed(()=>Oe.value.year()),ze=ref([]),kt=ref(null),At=ref(null),Cn=Et=>ze.value.length>0?g(Et,ze.value,r.format||"HH:mm:ss"):!0,Dt=Et=>ue&&!hn.value&&!xe.value&&!$e?Ne.value.year(Et.year()).month(Et.month()).date(Et.date()):Vn.value?Et.millisecond(0):Et.startOf("day"),On=(Et,...vn)=>{if(!Et)e("pick",Et,...vn);else if(isArray$3(Et)){const Pt=Et.map(Dt);e("pick",Pt,...vn)}else e("pick",Dt(Et),...vn);kt.value=null,At.value=null,xe.value=!1,$e=!1},jt=(Et,vn)=>{if(Zn.value==="date"){Et=Et;let Pt=r.parsedValue?r.parsedValue.year(Et.year()).month(Et.month()).date(Et.date()):Et;Cn(Pt)||(Pt=ze.value[0][0].year(Et.year()).month(Et.month()).date(Et.date())),Oe.value=Pt,On(Pt,Vn.value||vn)}else Zn.value==="week"?On(Et.date):Zn.value==="dates"&&On(Et,!0)},An=Et=>{const vn=Et?"add":"subtract";Oe.value=Oe.value[vn](1,"month"),qe("month")},Mn=Et=>{const vn=Oe.value,Pt=Et?"add":"subtract";Oe.value=$n.value==="year"?vn[Pt](10,"year"):vn[Pt](1,"year"),qe("year")},$n=ref("date"),Ln=computed(()=>{const Et=L("el.datepicker.year");if($n.value==="year"){const vn=Math.floor(Fe.value/10)*10;return Et?`${vn} ${Et} - ${vn+9} ${Et}`:`${vn} - ${vn+9}`}return`${Fe.value} ${Et}`}),Tn=Et=>{const vn=isFunction$3(Et.value)?Et.value():Et.value;if(vn){$e=!0,On(dayjs(vn).locale(z.value));return}Et.onClick&&Et.onClick({attrs:$,slots:V,emit:e})},Zn=computed(()=>{const{type:Et}=r;return["week","month","year","dates"].includes(Et)?Et:"date"}),Qn=computed(()=>Zn.value==="date"?$n.value:Zn.value),Pn=computed(()=>!!oe.length),Wn=async Et=>{Oe.value=Oe.value.startOf("month").month(Et),Zn.value==="month"?On(Oe.value,!1):($n.value="date",["month","year","date","week"].includes(Zn.value)&&(On(Oe.value,!0),await nextTick(),_e())),qe("month")},ur=async Et=>{Zn.value==="year"?(Oe.value=Oe.value.startOf("year").year(Et),On(Oe.value,!1)):(Oe.value=Oe.value.year(Et),$n.value="month",["month","year","date","week"].includes(Zn.value)&&(On(Oe.value,!0),await nextTick(),_e())),qe("year")},hr=async Et=>{$n.value=Et,await nextTick(),_e()},Vn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),En=computed(()=>Vn.value||Zn.value==="dates"),jn=computed(()=>ae?r.parsedValue?isArray$3(r.parsedValue)?ae(r.parsedValue[0].toDate()):ae(r.parsedValue.toDate()):!0:!1),cr=()=>{if(Zn.value==="dates")On(r.parsedValue);else{let Et=r.parsedValue;if(!Et){const vn=dayjs(ue).locale(z.value),Pt=le();Et=vn.year(Pt.year()).month(Pt.month()).date(Pt.date())}Oe.value=Et,On(Et)}},gr=computed(()=>ae?ae(dayjs().locale(z.value).toDate()):!1),Cr=()=>{const vn=dayjs().locale(z.value).toDate();xe.value=!0,(!ae||!ae(vn))&&Cn(vn)&&(Oe.value=dayjs().locale(z.value),On(Oe.value))},ir=computed(()=>extractTimeFormat(r.format)),Gn=computed(()=>extractDateFormat(r.format)),hn=computed(()=>{if(At.value)return At.value;if(!(!r.parsedValue&&!pe.value))return(r.parsedValue||Oe.value).format(ir.value)}),Kn=computed(()=>{if(kt.value)return kt.value;if(!(!r.parsedValue&&!pe.value))return(r.parsedValue||Oe.value).format(Gn.value)}),Nn=ref(!1),Lt=()=>{Nn.value=!0},_n=()=>{Nn.value=!1},Bn=Et=>({hour:Et.hour(),minute:Et.minute(),second:Et.second(),year:Et.year(),month:Et.month(),date:Et.date()}),Xn=(Et,vn,Pt)=>{const{hour:wn,minute:bn,second:In}=Bn(Et),Fn=r.parsedValue?r.parsedValue.hour(wn).minute(bn).second(In):Et;Oe.value=Fn,On(Oe.value,!0),Pt||(Nn.value=vn)},rr=Et=>{const vn=dayjs(Et,ir.value).locale(z.value);if(vn.isValid()&&Cn(vn)){const{year:Pt,month:wn,date:bn}=Bn(Oe.value);Oe.value=vn.year(Pt).month(wn).date(bn),At.value=null,Nn.value=!1,On(Oe.value,!0)}},ar=Et=>{const vn=dayjs(Et,Gn.value).locale(z.value);if(vn.isValid()){if(ae&&ae(vn.toDate()))return;const{hour:Pt,minute:wn,second:bn}=Bn(Oe.value);Oe.value=vn.hour(Pt).minute(wn).second(bn),kt.value=null,On(Oe.value,!0)}},sr=Et=>dayjs.isDayjs(Et)&&Et.isValid()&&(ae?!ae(Et.toDate()):!0),mr=Et=>Zn.value==="dates"?Et.map(vn=>vn.format(r.format)):Et.format(r.format),lr=Et=>dayjs(Et,r.format).locale(z.value),le=()=>{const Et=dayjs(pe.value).locale(z.value);if(!pe.value){const vn=Ne.value;return dayjs().hour(vn.hour()).minute(vn.minute()).second(vn.second()).locale(z.value)}return Et},_e=async()=>{var Et;["week","month","year","date"].includes(Zn.value)&&((Et=he.value)==null||Et.focus(),Zn.value==="week"&&Ue(EVENT_CODE.down))},Ie=Et=>{const{code:vn}=Et;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(vn)&&(Ue(vn),Et.stopPropagation(),Et.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(vn)&&kt.value===null&&At.value===null&&(Et.preventDefault(),On(Oe.value,!1))},Ue=Et=>{var vn;const{up:Pt,down:wn,left:bn,right:In,home:Fn,end:Dn,pageUp:Un,pageDown:Jn}=EVENT_CODE,Hn={year:{[Pt]:-4,[wn]:4,[bn]:-1,[In]:1,offset:(kn,zn)=>kn.setFullYear(kn.getFullYear()+zn)},month:{[Pt]:-4,[wn]:4,[bn]:-1,[In]:1,offset:(kn,zn)=>kn.setMonth(kn.getMonth()+zn)},week:{[Pt]:-1,[wn]:1,[bn]:-1,[In]:1,offset:(kn,zn)=>kn.setDate(kn.getDate()+zn*7)},date:{[Pt]:-7,[wn]:7,[bn]:-1,[In]:1,[Fn]:kn=>-kn.getDay(),[Dn]:kn=>-kn.getDay()+6,[Un]:kn=>-new Date(kn.getFullYear(),kn.getMonth(),0).getDate(),[Jn]:kn=>new Date(kn.getFullYear(),kn.getMonth()+1,0).getDate(),offset:(kn,zn)=>kn.setDate(kn.getDate()+zn)}},tr=Oe.value.toDate();for(;Math.abs(Oe.value.diff(tr,"year",!0))<1;){const kn=Hn[Qn.value];if(!kn)return;if(kn.offset(tr,isFunction$3(kn[Et])?kn[Et](tr):(vn=kn[Et])!=null?vn:0),ae&&ae(tr))break;const zn=dayjs(tr).locale(z.value);Oe.value=zn,e("pick",zn,!0);break}},qe=Et=>{e("panel-change",Oe.value.toDate(),Et,$n.value)};return watch(()=>Zn.value,Et=>{if(["month","year"].includes(Et)){$n.value=Et;return}$n.value="date"},{immediate:!0}),watch(()=>$n.value,()=>{re?.updatePopper()}),watch(()=>pe.value,Et=>{Et&&(Oe.value=le())},{immediate:!0}),watch(()=>r.parsedValue,Et=>{if(Et){if(Zn.value==="dates"||Array.isArray(Et))return;Oe.value=Et}else Oe.value=le()},{immediate:!0}),e("set-picker-option",["isValidValue",sr]),e("set-picker-option",["formatToString",mr]),e("set-picker-option",["parseUserInput",lr]),e("set-picker-option",["handleFocusPicker",_e]),(Et,vn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref(k).b(),{"has-sidebar":Et.$slots.sidebar||unref(Pn),"has-time":unref(Vn)}])},[createBaseVNode("div",{class:normalizeClass(unref(y).e("body-wrapper"))},[renderSlot(Et.$slots,"sidebar",{class:normalizeClass(unref(y).e("sidebar"))}),unref(Pn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(oe),(Pt,wn)=>(openBlock(),createElementBlock("button",{key:wn,type:"button",class:normalizeClass(unref(y).e("shortcut")),onClick:bn=>Tn(Pt)},toDisplayString$1(Pt.text),11,_hoisted_1$1B))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("body"))},[unref(Vn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(k).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(L)("el.datepicker.selectDate"),"model-value":unref(Kn),size:"small","validate-event":!1,onInput:vn[0]||(vn[0]=Pt=>kt.value=Pt),onChange:ar},null,8,["placeholder","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(k).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(L)("el.datepicker.selectTime"),"model-value":unref(hn),size:"small","validate-event":!1,onFocus:Lt,onInput:vn[1]||(vn[1]=Pt=>At.value=Pt),onChange:rr},null,8,["placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:Nn.value,format:unref(ir),"parsed-value":Oe.value,onPick:Xn},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),_n]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(k).e("header"),($n.value==="year"||$n.value==="month")&&unref(k).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(k).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(y).e("icon-btn")]),onClick:vn[2]||(vn[2]=Pt=>Mn(!1))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_2$1j),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.prevMonth"),class:normalizeClass([unref(y).e("icon-btn"),"arrow-left"]),onClick:vn[3]||(vn[3]=Pt=>An(!1))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_3$K),[[vShow,$n.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(k).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:vn[4]||(vn[4]=withKeys(Pt=>hr("year"),["enter"])),onClick:vn[5]||(vn[5]=Pt=>hr("year"))},toDisplayString$1(unref(Ln)),35),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(k).e("header-label"),{active:$n.value==="month"}]),onKeydown:vn[6]||(vn[6]=withKeys(Pt=>hr("month"),["enter"])),onClick:vn[7]||(vn[7]=Pt=>hr("month"))},toDisplayString$1(unref(L)(`el.datepicker.month${unref(Ce)+1}`)),35),[[vShow,$n.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(k).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.nextMonth"),class:normalizeClass([unref(y).e("icon-btn"),"arrow-right"]),onClick:vn[8]||(vn[8]=Pt=>An(!0))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_4$C),[[vShow,$n.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(L)("el.datepicker.nextYear"),class:normalizeClass([unref(y).e("icon-btn"),"d-arrow-right"]),onClick:vn[9]||(vn[9]=Pt=>Mn(!0))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_5$x)],2)],2),[[vShow,$n.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref(y).e("content")),onKeydown:Ie},[$n.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:he,"selection-mode":unref(Zn),date:Oe.value,"parsed-value":Et.parsedValue,"disabled-date":unref(ae),"cell-class-name":unref(de),onPick:jt},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),$n.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:he,date:Oe.value,"disabled-date":unref(ae),"parsed-value":Et.parsedValue,onPick:ur},null,8,["date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),$n.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:he,date:Oe.value,"parsed-value":Et.parsedValue,"disabled-date":unref(ae),onPick:Wn},null,8,["date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(y).e("footer"))},[withDirectives(createVNode(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(y).e("link-btn")),disabled:unref(gr),onClick:Cr},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(L)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vShow,unref(Zn)!=="dates"]]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(y).e("link-btn")),disabled:unref(jn),onClick:cr},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(L)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[vShow,unref(En)&&$n.value==="date"]])],2))}});var DatePickPanel=_export_sfc$1(_sfc_main$2f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=n=>{const{emit:e}=getCurrentInstance(),r=useAttrs$1(),g=useSlots();return k=>{const $=isFunction$3(k.value)?k.value():k.value;if($){e("pick",[dayjs($[0]).locale(n.value),dayjs($[1]).locale(n.value)]);return}k.onClick&&k.onClick({attrs:r,slots:g,emit:e})}},useRangePicker=(n,{defaultValue:e,leftDate:r,rightDate:g,unit:y,onParsedValueChanged:k})=>{const{emit:$}=getCurrentInstance(),{pickerNs:V}=inject(ROOT_PICKER_INJECTION_KEY),L=useNamespace("date-range-picker"),{t:z,lang:j}=useLocale(),re=useShortcut(j),oe=ref(),ae=ref(),de=ref({endDate:null,selecting:!1}),ue=xe=>{de.value=xe},pe=(xe=!1)=>{const $e=unref(oe),Ne=unref(ae);isValidRange([$e,Ne])&&$("pick",[$e,Ne],xe)},he=xe=>{de.value.selecting=xe,xe||(de.value.endDate=null)},Oe=()=>{const[xe,$e]=getDefaultValue(unref(e),{lang:unref(j),unit:y,unlinkPanels:n.unlinkPanels});oe.value=void 0,ae.value=void 0,r.value=xe,g.value=$e};return watch(e,xe=>{xe&&Oe()},{immediate:!0}),watch(()=>n.parsedValue,xe=>{if(isArray$3(xe)&&xe.length===2){const[$e,Ne]=xe;oe.value=$e,r.value=$e,ae.value=Ne,k(unref(oe),unref(ae))}else Oe()},{immediate:!0}),{minDate:oe,maxDate:ae,rangeState:de,lang:j,ppNs:V,drpNs:L,handleChangeRange:ue,handleRangeConfirm:pe,handleShortcutClick:re,onSelect:he,t:z}},_hoisted_1$1A=["onClick"],_hoisted_2$1i=["disabled"],_hoisted_3$J=["disabled"],_hoisted_4$B=["disabled"],_hoisted_5$w=["disabled"],unit$1="month",_sfc_main$2e=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const r=n,g=inject("EP_PICKER_BASE"),{disabledDate:y,cellClassName:k,format:$,defaultTime:V,clearable:L}=g.props,z=toRef(g.props,"shortcuts"),j=toRef(g.props,"defaultValue"),{lang:re}=useLocale(),oe=ref(dayjs().locale(re.value)),ae=ref(dayjs().locale(re.value).add(1,unit$1)),{minDate:de,maxDate:ue,rangeState:pe,ppNs:he,drpNs:Oe,handleChangeRange:xe,handleRangeConfirm:$e,handleShortcutClick:Ne,onSelect:Ce,t:Fe}=useRangePicker(r,{defaultValue:j,leftDate:oe,rightDate:ae,unit:unit$1,onParsedValueChanged:vn}),ze=ref({min:null,max:null}),kt=ref({min:null,max:null}),At=computed(()=>`${oe.value.year()} ${Fe("el.datepicker.year")} ${Fe(`el.datepicker.month${oe.value.month()+1}`)}`),Cn=computed(()=>`${ae.value.year()} ${Fe("el.datepicker.year")} ${Fe(`el.datepicker.month${ae.value.month()+1}`)}`),Dt=computed(()=>oe.value.year()),On=computed(()=>oe.value.month()),jt=computed(()=>ae.value.year()),An=computed(()=>ae.value.month()),Mn=computed(()=>!!z.value.length),$n=computed(()=>ze.value.min!==null?ze.value.min:de.value?de.value.format(Pn.value):""),Ln=computed(()=>ze.value.max!==null?ze.value.max:ue.value||de.value?(ue.value||de.value).format(Pn.value):""),Tn=computed(()=>kt.value.min!==null?kt.value.min:de.value?de.value.format(Qn.value):""),Zn=computed(()=>kt.value.max!==null?kt.value.max:ue.value||de.value?(ue.value||de.value).format(Qn.value):""),Qn=computed(()=>extractTimeFormat($)),Pn=computed(()=>extractDateFormat($)),Wn=Pt=>isValidRange(Pt)&&(y?!y(Pt[0].toDate())&&!y(Pt[1].toDate()):!0),ur=()=>{oe.value=oe.value.subtract(1,"year"),r.unlinkPanels||(ae.value=oe.value.add(1,"month")),ir("year")},hr=()=>{oe.value=oe.value.subtract(1,"month"),r.unlinkPanels||(ae.value=oe.value.add(1,"month")),ir("month")},Vn=()=>{r.unlinkPanels?ae.value=ae.value.add(1,"year"):(oe.value=oe.value.add(1,"year"),ae.value=oe.value.add(1,"month")),ir("year")},En=()=>{r.unlinkPanels?ae.value=ae.value.add(1,"month"):(oe.value=oe.value.add(1,"month"),ae.value=oe.value.add(1,"month")),ir("month")},jn=()=>{oe.value=oe.value.add(1,"year"),ir("year")},cr=()=>{oe.value=oe.value.add(1,"month"),ir("month")},gr=()=>{ae.value=ae.value.subtract(1,"year"),ir("year")},Cr=()=>{ae.value=ae.value.subtract(1,"month"),ir("month")},ir=Pt=>{e("panel-change",[oe.value.toDate(),ae.value.toDate()],Pt)},Gn=computed(()=>{const Pt=(On.value+1)%12,wn=On.value+1>=12?1:0;return r.unlinkPanels&&new Date(Dt.value+wn,Pt)<new Date(jt.value,An.value)}),hn=computed(()=>r.unlinkPanels&&jt.value*12+An.value-(Dt.value*12+On.value+1)>=12),Kn=computed(()=>!(de.value&&ue.value&&!pe.value.selecting&&isValidRange([de.value,ue.value]))),Nn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Lt=(Pt,wn)=>{if(Pt)return V?dayjs(V[wn]||V).locale(re.value).year(Pt.year()).month(Pt.month()).date(Pt.date()):Pt},_n=(Pt,wn=!0)=>{const bn=Pt.minDate,In=Pt.maxDate,Fn=Lt(bn,0),Dn=Lt(In,1);ue.value===Dn&&de.value===Fn||(e("calendar-change",[bn.toDate(),In&&In.toDate()]),ue.value=Dn,de.value=Fn,!(!wn||Nn.value)&&$e())},Bn=ref(!1),Xn=ref(!1),rr=()=>{Bn.value=!1},ar=()=>{Xn.value=!1},sr=(Pt,wn)=>{ze.value[wn]=Pt;const bn=dayjs(Pt,Pn.value).locale(re.value);if(bn.isValid()){if(y&&y(bn.toDate()))return;wn==="min"?(oe.value=bn,de.value=(de.value||oe.value).year(bn.year()).month(bn.month()).date(bn.date()),!r.unlinkPanels&&(!ue.value||ue.value.isBefore(de.value))&&(ae.value=bn.add(1,"month"),ue.value=de.value.add(1,"month"))):(ae.value=bn,ue.value=(ue.value||ae.value).year(bn.year()).month(bn.month()).date(bn.date()),!r.unlinkPanels&&(!de.value||de.value.isAfter(ue.value))&&(oe.value=bn.subtract(1,"month"),de.value=ue.value.subtract(1,"month")))}},mr=(Pt,wn)=>{ze.value[wn]=null},lr=(Pt,wn)=>{kt.value[wn]=Pt;const bn=dayjs(Pt,Qn.value).locale(re.value);bn.isValid()&&(wn==="min"?(Bn.value=!0,de.value=(de.value||oe.value).hour(bn.hour()).minute(bn.minute()).second(bn.second()),(!ue.value||ue.value.isBefore(de.value))&&(ue.value=de.value)):(Xn.value=!0,ue.value=(ue.value||ae.value).hour(bn.hour()).minute(bn.minute()).second(bn.second()),ae.value=ue.value,ue.value&&ue.value.isBefore(de.value)&&(de.value=ue.value)))},le=(Pt,wn)=>{kt.value[wn]=null,wn==="min"?(oe.value=de.value,Bn.value=!1):(ae.value=ue.value,Xn.value=!1)},_e=(Pt,wn,bn)=>{kt.value.min||(Pt&&(oe.value=Pt,de.value=(de.value||oe.value).hour(Pt.hour()).minute(Pt.minute()).second(Pt.second())),bn||(Bn.value=wn),(!ue.value||ue.value.isBefore(de.value))&&(ue.value=de.value,ae.value=Pt))},Ie=(Pt,wn,bn)=>{kt.value.max||(Pt&&(ae.value=Pt,ue.value=(ue.value||ae.value).hour(Pt.hour()).minute(Pt.minute()).second(Pt.second())),bn||(Xn.value=wn),ue.value&&ue.value.isBefore(de.value)&&(de.value=ue.value))},Ue=()=>{oe.value=getDefaultValue(unref(j),{lang:unref(re),unit:"month",unlinkPanels:r.unlinkPanels})[0],ae.value=oe.value.add(1,"month"),e("pick",null)},qe=Pt=>isArray$3(Pt)?Pt.map(wn=>wn.format($)):Pt.format($),Et=Pt=>isArray$3(Pt)?Pt.map(wn=>dayjs(wn,$).locale(re.value)):dayjs(Pt,$).locale(re.value);function vn(Pt,wn){if(r.unlinkPanels&&wn){const bn=Pt?.year()||0,In=Pt?.month()||0,Fn=wn.year(),Dn=wn.month();ae.value=bn===Fn&&In===Dn?wn.add(1,unit$1):wn}else ae.value=oe.value.add(1,unit$1),wn&&(ae.value=ae.value.hour(wn.hour()).minute(wn.minute()).second(wn.second()))}return e("set-picker-option",["isValidValue",Wn]),e("set-picker-option",["parseUserInput",Et]),e("set-picker-option",["formatToString",qe]),e("set-picker-option",["handleClear",Ue]),(Pt,wn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(he).b(),unref(Oe).b(),{"has-sidebar":Pt.$slots.sidebar||unref(Mn),"has-time":unref(Nn)}])},[createBaseVNode("div",{class:normalizeClass(unref(he).e("body-wrapper"))},[renderSlot(Pt.$slots,"sidebar",{class:normalizeClass(unref(he).e("sidebar"))}),unref(Mn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(he).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(z),(bn,In)=>(openBlock(),createElementBlock("button",{key:In,type:"button",class:normalizeClass(unref(he).e("shortcut")),onClick:Fn=>unref(Ne)(bn)},toDisplayString$1(bn.text),11,_hoisted_1$1A))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(he).e("body"))},[unref(Nn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.startDate"),class:normalizeClass(unref(Oe).e("editor")),"model-value":unref($n),"validate-event":!1,onInput:wn[0]||(wn[0]=bn=>sr(bn,"min")),onChange:wn[1]||(wn[1]=bn=>mr(bn,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Oe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(Oe).e("editor")),disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.startTime"),"model-value":unref(Tn),"validate-event":!1,onFocus:wn[2]||(wn[2]=bn=>Bn.value=!0),onInput:wn[3]||(wn[3]=bn=>lr(bn,"min")),onChange:wn[4]||(wn[4]=bn=>le(bn,"min"))},null,8,["class","disabled","placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:Bn.value,format:unref(Qn),"datetime-role":"start","parsed-value":oe.value,onPick:_e},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),rr]])],2),createBaseVNode("span",null,[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(Oe).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(Oe).e("editor")),disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.endDate"),"model-value":unref(Ln),readonly:!unref(de),"validate-event":!1,onInput:wn[5]||(wn[5]=bn=>sr(bn,"max")),onChange:wn[6]||(wn[6]=bn=>mr(bn,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Oe).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(Oe).e("editor")),disabled:unref(pe).selecting,placeholder:unref(Fe)("el.datepicker.endTime"),"model-value":unref(Zn),readonly:!unref(de),"validate-event":!1,onFocus:wn[7]||(wn[7]=bn=>unref(de)&&(Xn.value=!0)),onInput:wn[8]||(wn[8]=bn=>lr(bn,"max")),onChange:wn[9]||(wn[9]=bn=>le(bn,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode(unref(TimePickPanel),{"datetime-role":"end",visible:Xn.value,format:unref(Qn),"parsed-value":ae.value,onPick:Ie},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),ar]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(he).e("content"),unref(Oe).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"d-arrow-left"]),onClick:ur},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"arrow-left"]),onClick:hr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],2),Pt.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(hn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(hn)}],"d-arrow-right"]),onClick:jn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$1i)):createCommentVNode("v-if",!0),Pt.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Gn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(Gn)}],"arrow-right"]),onClick:cr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_3$J)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString$1(unref(At)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:oe.value,"min-date":unref(de),"max-date":unref(ue),"range-state":unref(pe),"disabled-date":unref(y),"cell-class-name":unref(k),onChangerange:unref(xe),onPick:_n,onSelect:unref(Ce)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(he).e("content"),unref(Oe).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("header"))},[Pt.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(hn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(hn)}],"d-arrow-left"]),onClick:gr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_4$B)):createCommentVNode("v-if",!0),Pt.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Gn),class:normalizeClass([[unref(he).e("icon-btn"),{"is-disabled":!unref(Gn)}],"arrow-left"]),onClick:Cr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_5$w)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"d-arrow-right"]),onClick:Vn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).e("icon-btn"),"arrow-right"]),onClick:En},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString$1(unref(Cn)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:ae.value,"min-date":unref(de),"max-date":unref(ue),"range-state":unref(pe),"disabled-date":unref(y),"cell-class-name":unref(k),onChangerange:unref(xe),onPick:_n,onSelect:unref(Ce)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(Nn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(he).e("footer"))},[unref(L)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(he).e("link-btn")),onClick:Ue},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(Fe)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(he).e("link-btn")),disabled:unref(Kn),onClick:wn[10]||(wn[10]=bn=>unref($e)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(Fe)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc$1(_sfc_main$2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option"],useMonthRangeHeader=({unlinkPanels:n,leftDate:e,rightDate:r})=>{const{t:g}=useLocale(),y=()=>{e.value=e.value.subtract(1,"year"),n.value||(r.value=r.value.subtract(1,"year"))},k=()=>{n.value||(e.value=e.value.add(1,"year")),r.value=r.value.add(1,"year")},$=()=>{e.value=e.value.add(1,"year")},V=()=>{r.value=r.value.subtract(1,"year")},L=computed(()=>`${e.value.year()} ${g("el.datepicker.year")}`),z=computed(()=>`${r.value.year()} ${g("el.datepicker.year")}`),j=computed(()=>e.value.year()),re=computed(()=>r.value.year()===e.value.year()?e.value.year()+1:r.value.year());return{leftPrevYear:y,rightNextYear:k,leftNextYear:$,rightPrevYear:V,leftLabel:L,rightLabel:z,leftYear:j,rightYear:re}},_hoisted_1$1z=["onClick"],_hoisted_2$1h=["disabled"],_hoisted_3$I=["disabled"],unit="year",__default__$R=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$2d=defineComponent({...__default__$R,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(n,{emit:e}){const r=n,{lang:g}=useLocale(),y=inject("EP_PICKER_BASE"),{shortcuts:k,disabledDate:$,format:V}=y.props,L=toRef(y.props,"defaultValue"),z=ref(dayjs().locale(g.value)),j=ref(dayjs().locale(g.value).add(1,unit)),{minDate:re,maxDate:oe,rangeState:ae,ppNs:de,drpNs:ue,handleChangeRange:pe,handleRangeConfirm:he,handleShortcutClick:Oe,onSelect:xe}=useRangePicker(r,{defaultValue:L,leftDate:z,rightDate:j,unit,onParsedValueChanged:Mn}),$e=computed(()=>!!k.length),{leftPrevYear:Ne,rightNextYear:Ce,leftNextYear:Fe,rightPrevYear:ze,leftLabel:kt,rightLabel:At,leftYear:Cn,rightYear:Dt}=useMonthRangeHeader({unlinkPanels:toRef(r,"unlinkPanels"),leftDate:z,rightDate:j}),On=computed(()=>r.unlinkPanels&&Dt.value>Cn.value+1),jt=($n,Ln=!0)=>{const Tn=$n.minDate,Zn=$n.maxDate;oe.value===Zn&&re.value===Tn||(oe.value=Zn,re.value=Tn,Ln&&he())},An=$n=>$n.map(Ln=>Ln.format(V));function Mn($n,Ln){if(r.unlinkPanels&&Ln){const Tn=$n?.year()||0,Zn=Ln.year();j.value=Tn===Zn?Ln.add(1,unit):Ln}else j.value=z.value.add(1,unit)}return e("set-picker-option",["formatToString",An]),($n,Ln)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(de).b(),unref(ue).b(),{"has-sidebar":!!$n.$slots.sidebar||unref($e)}])},[createBaseVNode("div",{class:normalizeClass(unref(de).e("body-wrapper"))},[renderSlot($n.$slots,"sidebar",{class:normalizeClass(unref(de).e("sidebar"))}),unref($e)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(de).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(k),(Tn,Zn)=>(openBlock(),createElementBlock("button",{key:Zn,type:"button",class:normalizeClass(unref(de).e("shortcut")),onClick:Qn=>unref(Oe)(Tn)},toDisplayString$1(Tn.text),11,_hoisted_1$1z))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(de).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(de).e("content"),unref(ue).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(ue).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(de).e("icon-btn"),"d-arrow-left"]),onClick:Ln[0]||(Ln[0]=(...Tn)=>unref(Ne)&&unref(Ne)(...Tn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],2),$n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(On),class:normalizeClass([[unref(de).e("icon-btn"),{[unref(de).is("disabled")]:!unref(On)}],"d-arrow-right"]),onClick:Ln[1]||(Ln[1]=(...Tn)=>unref(Fe)&&unref(Fe)(...Tn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$1h)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString$1(unref(kt)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:z.value,"min-date":unref(re),"max-date":unref(oe),"range-state":unref(ae),"disabled-date":unref($),onChangerange:unref(pe),onPick:jt,onSelect:unref(xe)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(de).e("content"),unref(ue).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(ue).e("header"))},[$n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(On),class:normalizeClass([[unref(de).e("icon-btn"),{"is-disabled":!unref(On)}],"d-arrow-left"]),onClick:Ln[2]||(Ln[2]=(...Tn)=>unref(ze)&&unref(ze)(...Tn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_3$I)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(de).e("icon-btn"),"d-arrow-right"]),onClick:Ln[3]||(Ln[3]=(...Tn)=>unref(Ce)&&unref(Ce)(...Tn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString$1(unref(At)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:j.value,"min-date":unref(re),"max-date":unref(oe),"range-state":unref(ae),"disabled-date":unref($),onChangerange:unref(pe),onPick:jt,onSelect:unref(xe)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc$1(_sfc_main$2d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const getPanel$1=function(n){switch(n){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData);dayjs.extend(advancedFormat);dayjs.extend(customParseFormat);dayjs.extend(weekOfYear);dayjs.extend(weekYear);dayjs.extend(dayOfYear);dayjs.extend(isSameOrAfter);dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:["update:modelValue"],setup(n,{expose:e,emit:r,slots:g}){const y=useNamespace("picker-panel");provide("ElPopperOptions",reactive(toRef(n,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:g,pickerNs:y});const k=ref();e({focus:(L=!0)=>{var z;(z=k.value)==null||z.focus(L)},handleOpen:()=>{var L;(L=k.value)==null||L.handleOpen()},handleClose:()=>{var L;(L=k.value)==null||L.handleClose()}});const V=L=>{r("update:modelValue",L)};return()=>{var L;const z=(L=n.format)!=null?L:DEFAULT_FORMATS_DATEPICKER[n.type]||DEFAULT_FORMATS_DATE,j=getPanel$1(n.type);return createVNode(CommonPicker,mergeProps(n,{format:z,type:n.type,ref:k,"onUpdate:modelValue":V}),{default:re=>createVNode(j,re,null),"range-separator":g["range-separator"]})}}});const _DatePicker=DatePicker;_DatePicker.install=n=>{n.component(_DatePicker.name,_DatePicker)};const ElDatePicker=_DatePicker,descriptionsKey=Symbol("elDescriptions");var ElDescriptionsCell=defineComponent({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:inject(descriptionsKey,{})}},render(){var n,e,r,g,y,k;const $=getNormalizedProps(this.cell),{border:V,direction:L}=this.descriptions,z=L==="vertical",j=((r=(e=(n=this.cell)==null?void 0:n.children)==null?void 0:e.label)==null?void 0:r.call(e))||$.label,re=(k=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.default)==null?void 0:k.call(y),oe=$.span,ae=$.align?`is-${$.align}`:"",de=$.labelAlign?`is-${$.labelAlign}`:ae,ue=$.className,pe=$.labelClassName,he={width:addUnit($.width),minWidth:addUnit($.minWidth)},Oe=useNamespace("descriptions");switch(this.type){case"label":return h$1(this.tag,{style:he,class:[Oe.e("cell"),Oe.e("label"),Oe.is("bordered-label",V),Oe.is("vertical-label",z),de,pe],colSpan:z?oe:1},j);case"content":return h$1(this.tag,{style:he,class:[Oe.e("cell"),Oe.e("content"),Oe.is("bordered-content",V),Oe.is("vertical-content",z),ae,ue],colSpan:z?oe:oe*2-1},re);default:return h$1("td",{style:he,class:[Oe.e("cell"),ae],colSpan:oe},[isNil(j)?void 0:h$1("span",{class:[Oe.e("label"),pe]},j),h$1("span",{class:[Oe.e("content"),ue]},re)])}}});const descriptionsRowProps=buildProps({row:{type:Array,default:()=>[]}}),_hoisted_1$1y={key:1},__default__$Q=defineComponent({name:"ElDescriptionsRow"}),_sfc_main$2c=defineComponent({...__default__$Q,props:descriptionsRowProps,setup(n){const e=inject(descriptionsKey,{});return(r,g)=>unref(e).direction==="vertical"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,k)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr1-${k}`,cell:y,tag:"th",type:"label"},null,8,["cell"]))),128))]),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,k)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr2-${k}`,cell:y,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(openBlock(),createElementBlock("tr",_hoisted_1$1y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,k)=>(openBlock(),createElementBlock(Fragment,{key:`tr3-${k}`},[unref(e).border?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(ElDescriptionsCell),{cell:y,tag:"td",type:"label"},null,8,["cell"]),createVNode(unref(ElDescriptionsCell),{cell:y,tag:"td",type:"content"},null,8,["cell"])],64)):(openBlock(),createBlock(unref(ElDescriptionsCell),{key:1,cell:y,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ElDescriptionsRow=_export_sfc$1(_sfc_main$2c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const descriptionProps=buildProps({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:useSizeProp,title:{type:String,default:""},extra:{type:String,default:""}}),__default__$P=defineComponent({name:"ElDescriptions"}),_sfc_main$2b=defineComponent({...__default__$P,props:descriptionProps,setup(n){const e=n,r=useNamespace("descriptions"),g=useFormSize(),y=useSlots();provide(descriptionsKey,e);const k=computed(()=>[r.b(),r.m(g.value)]),$=(L,z,j,re=!1)=>(L.props||(L.props={}),z>j&&(L.props.span=j),re&&(L.props.span=z),L),V=()=>{var L;const z=flattedChildren((L=y.default)==null?void 0:L.call(y)).filter(de=>{var ue;return((ue=de?.type)==null?void 0:ue.name)==="ElDescriptionsItem"}),j=[];let re=[],oe=e.column,ae=0;return z.forEach((de,ue)=>{var pe;const he=((pe=de.props)==null?void 0:pe.span)||1;if(ue<z.length-1&&(ae+=he>oe?oe:he),ue===z.length-1){const Oe=e.column-ae%e.column;re.push($(de,Oe,oe,!0)),j.push(re);return}he<oe?(oe-=he,re.push(de)):(re.push($(de,he,oe)),j.push(re),oe=e.column,re=[])}),j};return(L,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(k))},[L.title||L.extra||L.$slots.title||L.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(r).e("title"))},[renderSlot(L.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(L.title),1)])],2),createBaseVNode("div",{class:normalizeClass(unref(r).e("extra"))},[renderSlot(L.$slots,"extra",{},()=>[createTextVNode(toDisplayString$1(L.extra),1)])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("body"))},[createBaseVNode("table",{class:normalizeClass([unref(r).e("table"),unref(r).is("bordered",L.border)])},[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(V(),(j,re)=>(openBlock(),createBlock(ElDescriptionsRow,{key:re,row:j},null,8,["row"]))),128))])],2)],2)],2))}});var Descriptions=_export_sfc$1(_sfc_main$2b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),DescriptionsItem=defineComponent({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const ElDescriptions=withInstall(Descriptions,{DescriptionsItem}),ElDescriptionsItem=withNoopInstall(DescriptionsItem),overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:n=>n instanceof MouseEvent},BLOCK="overlay";var Overlay$1=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(n,{slots:e,emit:r}){const g=useNamespace(BLOCK),y=L=>{r("click",L)},{onClick:k,onMousedown:$,onMouseup:V}=useSameTarget(n.customMaskEvent?void 0:y);return()=>n.mask?createVNode("div",{class:[g.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:k,onMousedown:$,onMouseup:V},[renderSlot(e,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(e,"default")])}});const ElOverlay=Overlay$1,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},_hoisted_1$1x=["aria-level"],_hoisted_2$1g=["aria-label"],_hoisted_3$H=["id"],__default__$O=defineComponent({name:"ElDialogContent"}),_sfc_main$2a=defineComponent({...__default__$O,props:dialogContentProps,emits:dialogContentEmits,setup(n){const e=n,{t:r}=useLocale(),{Close:g}=CloseComponents,{dialogRef:y,headerRef:k,bodyId:$,ns:V,style:L}=inject(dialogInjectionKey),{focusTrapRef:z}=inject(FOCUS_TRAP_INJECTION_KEY),j=computed(()=>[V.b(),V.is("fullscreen",e.fullscreen),V.is("draggable",e.draggable),V.is("align-center",e.alignCenter),{[V.m("center")]:e.center},e.customClass]),re=composeRefs(z,y),oe=computed(()=>e.draggable);return useDraggable(y,k,oe),(ae,de)=>(openBlock(),createElementBlock("div",{ref:unref(re),class:normalizeClass(unref(j)),style:normalizeStyle(unref(L)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:k,class:normalizeClass(unref(V).e("header"))},[renderSlot(ae.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":ae.ariaLevel,class:normalizeClass(unref(V).e("title"))},toDisplayString$1(ae.title),11,_hoisted_1$1x)]),ae.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(r)("el.dialog.close"),class:normalizeClass(unref(V).e("headerbtn")),type:"button",onClick:de[0]||(de[0]=ue=>ae.$emit("close"))},[createVNode(unref(ElIcon),{class:normalizeClass(unref(V).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ae.closeIcon||unref(g))))]),_:1},8,["class"])],10,_hoisted_2$1g)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref($),class:normalizeClass(unref(V).e("body"))},[renderSlot(ae.$slots,"default")],10,_hoisted_3$H),ae.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(unref(V).e("footer"))},[renderSlot(ae.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc$1(_sfc_main$2a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:n=>isBoolean$1(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useDialog=(n,e)=>{const g=getCurrentInstance().emit,{nextZIndex:y}=useZIndex();let k="";const $=useId(),V=useId(),L=ref(!1),z=ref(!1),j=ref(!1),re=ref(n.zIndex||y());let oe,ae;const de=useGlobalConfig("namespace",defaultNamespace),ue=computed(()=>{const jt={},An=`--${de.value}-dialog`;return n.fullscreen||(n.top&&(jt[`${An}-margin-top`]=n.top),n.width&&(jt[`${An}-width`]=addUnit(n.width))),jt}),pe=computed(()=>n.alignCenter?{display:"flex"}:{});function he(){g("opened")}function Oe(){g("closed"),g(UPDATE_MODEL_EVENT,!1),n.destroyOnClose&&(j.value=!1)}function xe(){g("close")}function $e(){ae?.(),oe?.(),n.openDelay&&n.openDelay>0?{stop:oe}=useTimeoutFn(()=>ze(),n.openDelay):ze()}function Ne(){oe?.(),ae?.(),n.closeDelay&&n.closeDelay>0?{stop:ae}=useTimeoutFn(()=>kt(),n.closeDelay):kt()}function Ce(){function jt(An){An||(z.value=!0,L.value=!1)}n.beforeClose?n.beforeClose(jt):Ne()}function Fe(){n.closeOnClickModal&&Ce()}function ze(){isClient&&(L.value=!0)}function kt(){L.value=!1}function At(){g("openAutoFocus")}function Cn(){g("closeAutoFocus")}function Dt(jt){var An;((An=jt.detail)==null?void 0:An.focusReason)==="pointer"&&jt.preventDefault()}n.lockScroll&&useLockscreen(L);function On(){n.closeOnPressEscape&&Ce()}return watch(()=>n.modelValue,jt=>{jt?(z.value=!1,$e(),j.value=!0,re.value=n.zIndex?re.value++:y(),nextTick(()=>{g("open"),e.value&&(e.value.scrollTop=0)})):L.value&&Ne()}),watch(()=>n.fullscreen,jt=>{e.value&&(jt?(k=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=k)}),onMounted(()=>{n.modelValue&&(L.value=!0,j.value=!0,$e())}),{afterEnter:he,afterLeave:Oe,beforeLeave:xe,handleClose:Ce,onModalClick:Fe,close:Ne,doClose:kt,onOpenAutoFocus:At,onCloseAutoFocus:Cn,onCloseRequested:On,onFocusoutPrevented:Dt,titleId:$,bodyId:V,closed:z,style:ue,overlayDialogStyle:pe,rendered:j,visible:L,zIndex:re}},_hoisted_1$1w=["aria-label","aria-labelledby","aria-describedby"],__default__$N=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$29=defineComponent({...__default__$N,props:dialogProps,emits:dialogEmits,setup(n,{expose:e}){const r=n,g=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!g.title)),useDeprecated({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},computed(()=>!!r.customClass));const y=useNamespace("dialog"),k=ref(),$=ref(),V=ref(),{visible:L,titleId:z,bodyId:j,style:re,overlayDialogStyle:oe,rendered:ae,zIndex:de,afterEnter:ue,afterLeave:pe,beforeLeave:he,handleClose:Oe,onModalClick:xe,onOpenAutoFocus:$e,onCloseAutoFocus:Ne,onCloseRequested:Ce,onFocusoutPrevented:Fe}=useDialog(r,k);provide(dialogInjectionKey,{dialogRef:k,headerRef:$,bodyId:j,ns:y,rendered:ae,style:re});const ze=useSameTarget(xe),kt=computed(()=>r.draggable&&!r.fullscreen);return e({visible:L,dialogContentRef:V}),(At,Cn)=>(openBlock(),createBlock(Teleport,{to:"body",disabled:!At.appendToBody},[createVNode(Transition,{name:"dialog-fade",onAfterEnter:unref(ue),onAfterLeave:unref(pe),onBeforeLeave:unref(he),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(unref(ElOverlay),{"custom-mask-event":"",mask:At.modal,"overlay-class":At.modalClass,"z-index":unref(de)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":At.title||void 0,"aria-labelledby":At.title?void 0:unref(z),"aria-describedby":unref(j),class:normalizeClass(`${unref(y).namespace.value}-overlay-dialog`),style:normalizeStyle(unref(oe)),onClick:Cn[0]||(Cn[0]=(...Dt)=>unref(ze).onClick&&unref(ze).onClick(...Dt)),onMousedown:Cn[1]||(Cn[1]=(...Dt)=>unref(ze).onMousedown&&unref(ze).onMousedown(...Dt)),onMouseup:Cn[2]||(Cn[2]=(...Dt)=>unref(ze).onMouseup&&unref(ze).onMouseup(...Dt))},[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(L),"focus-start-el":"container",onFocusAfterTrapped:unref($e),onFocusAfterReleased:unref(Ne),onFocusoutPrevented:unref(Fe),onReleaseRequested:unref(Ce)},{default:withCtx(()=>[unref(ae)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:V},At.$attrs,{"custom-class":At.customClass,center:At.center,"align-center":At.alignCenter,"close-icon":At.closeIcon,draggable:unref(kt),fullscreen:At.fullscreen,"show-close":At.showClose,title:At.title,"aria-level":At.headerAriaLevel,onClose:unref(Oe)}),createSlots({header:withCtx(()=>[At.$slots.title?renderSlot(At.$slots,"title",{key:1}):renderSlot(At.$slots,"header",{key:0,close:unref(Oe),titleId:unref(z),titleClass:unref(y).e("title")})]),default:withCtx(()=>[renderSlot(At.$slots,"default")]),_:2},[At.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(At.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,_hoisted_1$1w)]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(L)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Dialog=_export_sfc$1(_sfc_main$29,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),__default__$M=defineComponent({name:"ElDivider"}),_sfc_main$28=defineComponent({...__default__$M,props:dividerProps,setup(n){const e=n,r=useNamespace("divider"),g=computed(()=>r.cssVar({"border-style":e.borderStyle}));return(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(y.direction)]),style:normalizeStyle(unref(g)),role:"separator"},[y.$slots.default&&y.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("text"),unref(r).is(y.contentPosition)])},[renderSlot(y.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc$1(_sfc_main$28,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const ElDivider=withInstall(Divider),drawerProps=buildProps({...dialogProps,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),drawerEmits=dialogEmits,_sfc_main$27=defineComponent({name:"ElDrawer",components:{ElOverlay,ElFocusTrap,ElIcon,Close:close_default},inheritAttrs:!1,props:drawerProps,emits:drawerEmits,setup(n,{slots:e}){useDeprecated({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},computed(()=>!!e.title)),useDeprecated({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},computed(()=>!!n.customClass));const r=ref(),g=ref(),y=useNamespace("drawer"),{t:k}=useLocale(),$=computed(()=>n.direction==="rtl"||n.direction==="ltr"),V=computed(()=>addUnit(n.size));return{...useDialog(n,r),drawerRef:r,focusStartRef:g,isHorizontal:$,drawerSize:V,ns:y,t:k}}}),_hoisted_1$1v=["aria-label","aria-labelledby","aria-describedby"],_hoisted_2$1f=["id","aria-level"],_hoisted_3$G=["aria-label"],_hoisted_4$A=["id"];function _sfc_render$o(n,e,r,g,y,k){const $=resolveComponent("close"),V=resolveComponent("el-icon"),L=resolveComponent("el-focus-trap"),z=resolveComponent("el-overlay");return openBlock(),createBlock(Teleport,{to:"body",disabled:!n.appendToBody},[createVNode(Transition,{name:n.ns.b("fade"),onAfterEnter:n.afterEnter,onAfterLeave:n.afterLeave,onBeforeLeave:n.beforeLeave,persisted:""},{default:withCtx(()=>[withDirectives(createVNode(z,{mask:n.modal,"overlay-class":n.modalClass,"z-index":n.zIndex,onClick:n.onModalClick},{default:withCtx(()=>[createVNode(L,{loop:"",trapped:n.visible,"focus-trap-el":n.drawerRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",mergeProps({ref:"drawerRef","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:n.titleId,"aria-describedby":n.bodyId},n.$attrs,{class:[n.ns.b(),n.direction,n.visible&&"open",n.customClass],style:n.isHorizontal?"width: "+n.drawerSize:"height: "+n.drawerSize,role:"dialog",onClick:e[1]||(e[1]=withModifiers(()=>{},["stop"]))}),[createBaseVNode("span",{ref:"focusStartRef",class:normalizeClass(n.ns.e("sr-focus")),tabindex:"-1"},null,2),n.withHeader?(openBlock(),createElementBlock("header",{key:0,class:normalizeClass(n.ns.e("header"))},[n.$slots.title?renderSlot(n.$slots,"title",{key:1},()=>[createCommentVNode(" DEPRECATED SLOT ")]):renderSlot(n.$slots,"header",{key:0,close:n.handleClose,titleId:n.titleId,titleClass:n.ns.e("title")},()=>[n.$slots.title?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,id:n.titleId,role:"heading","aria-level":n.headerAriaLevel,class:normalizeClass(n.ns.e("title"))},toDisplayString$1(n.title),11,_hoisted_2$1f))]),n.showClose?(openBlock(),createElementBlock("button",{key:2,"aria-label":n.t("el.drawer.close"),class:normalizeClass(n.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...j)=>n.handleClose&&n.handleClose(...j))},[createVNode(V,{class:normalizeClass(n.ns.e("close"))},{default:withCtx(()=>[createVNode($)]),_:1},8,["class"])],10,_hoisted_3$G)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),n.rendered?(openBlock(),createElementBlock("div",{key:1,id:n.bodyId,class:normalizeClass(n.ns.e("body"))},[renderSlot(n.$slots,"default")],10,_hoisted_4$A)):createCommentVNode("v-if",!0),n.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(n.ns.e("footer"))},[renderSlot(n.$slots,"footer")],2)):createCommentVNode("v-if",!0)],16,_hoisted_1$1v)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vShow,n.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Drawer=_export_sfc$1(_sfc_main$27,[["render",_sfc_render$o],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const ElDrawer=withInstall(Drawer),_sfc_main$26=defineComponent({inheritAttrs:!1});function _sfc_render$n(n,e,r,g,y,k){return renderSlot(n.$slots,"default")}var Collection=_export_sfc$1(_sfc_main$26,[["render",_sfc_render$n],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const _sfc_main$25=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$m(n,e,r,g,y,k){return renderSlot(n.$slots,"default")}var CollectionItem=_export_sfc$1(_sfc_main$25,[["render",_sfc_render$m],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=n=>{const e=`El${n}Collection`,r=`${e}Item`,g=Symbol(e),y=Symbol(r),k={...Collection,name:e,setup(){const V=ref(null),L=new Map;provide(g,{itemMap:L,getItems:()=>{const j=unref(V);if(!j)return[];const re=Array.from(j.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...L.values()].sort((ae,de)=>re.indexOf(ae.ref)-re.indexOf(de.ref))},collectionRef:V})}},$={...CollectionItem,name:r,setup(V,{attrs:L}){const z=ref(null),j=inject(g,void 0);provide(y,{collectionItemRef:z}),onMounted(()=>{const re=unref(z);re&&j.itemMap.set(re,{ref:re,...L})}),onBeforeUnmount(()=>{const re=unref(z);j.itemMap.delete(re)})}};return{COLLECTION_INJECTION_KEY:g,COLLECTION_ITEM_INJECTION_KEY:y,ElCollection:k,ElCollectionItem:$}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(n,e)=>{if(e!=="rtl")return n;switch(n){case EVENT_CODE.right:return EVENT_CODE.left;case EVENT_CODE.left:return EVENT_CODE.right;default:return n}},getFocusIntent=(n,e,r)=>{const g=getDirectionAwareKey(n.key,r);if(!(e==="vertical"&&[EVENT_CODE.left,EVENT_CODE.right].includes(g))&&!(e==="horizontal"&&[EVENT_CODE.up,EVENT_CODE.down].includes(g)))return MAP_KEY_TO_FOCUS_INTENT[g]},reorderArray=(n,e)=>n.map((r,g)=>n[(g+e)%n.length]),focusFirst=n=>{const{activeElement:e}=document;for(const r of n)if(r===e||(r.focus(),e!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$24=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(n,{emit:e}){var r;const g=ref((r=n.currentTabId||n.defaultCurrentTabId)!=null?r:null),y=ref(!1),k=ref(!1),$=ref(null),{getItems:V}=inject(COLLECTION_INJECTION_KEY$1,void 0),L=computed(()=>[{outline:"none"},n.style]),z=ue=>{e(CURRENT_TAB_ID_CHANGE_EVT,ue)},j=()=>{y.value=!0},re=composeEventHandlers(ue=>{var pe;(pe=n.onMousedown)==null||pe.call(n,ue)},()=>{k.value=!0}),oe=composeEventHandlers(ue=>{var pe;(pe=n.onFocus)==null||pe.call(n,ue)},ue=>{const pe=!unref(k),{target:he,currentTarget:Oe}=ue;if(he===Oe&&pe&&!unref(y)){const xe=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(Oe?.dispatchEvent(xe),!xe.defaultPrevented){const $e=V().filter(kt=>kt.focusable),Ne=$e.find(kt=>kt.active),Ce=$e.find(kt=>kt.id===unref(g)),ze=[Ne,Ce,...$e].filter(Boolean).map(kt=>kt.ref);focusFirst(ze)}}k.value=!1}),ae=composeEventHandlers(ue=>{var pe;(pe=n.onBlur)==null||pe.call(n,ue)},()=>{y.value=!1}),de=(...ue)=>{e("entryFocus",...ue)};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(g),loop:toRef(n,"loop"),tabIndex:computed(()=>unref(y)?-1:0),rovingFocusGroupRef:$,rovingFocusGroupRootStyle:L,orientation:toRef(n,"orientation"),dir:toRef(n,"dir"),onItemFocus:z,onItemShiftTab:j,onBlur:ae,onFocus:oe,onMousedown:re}),watch(()=>n.currentTabId,ue=>{g.value=ue??null}),useEventListener($,ENTRY_FOCUS_EVT,de)}});function _sfc_render$l(n,e,r,g,y,k){return renderSlot(n.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc$1(_sfc_main$24,[["render",_sfc_render$l],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const _sfc_main$23=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl}});function _sfc_render$k(n,e,r,g,y,k){const $=resolveComponent("el-roving-focus-group-impl"),V=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(V,null,{default:withCtx(()=>[createVNode($,normalizeProps(guardReactiveProps(n.$attrs)),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc$1(_sfc_main$23,[["render",_sfc_render$k],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const _sfc_main$22=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:r,loop:g,onItemFocus:y,onItemShiftTab:k}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:$}=inject(COLLECTION_INJECTION_KEY$1,void 0),V=useId(),L=ref(null),z=composeEventHandlers(ae=>{e("mousedown",ae)},ae=>{n.focusable?y(unref(V)):ae.preventDefault()}),j=composeEventHandlers(ae=>{e("focus",ae)},()=>{y(unref(V))}),re=composeEventHandlers(ae=>{e("keydown",ae)},ae=>{const{key:de,shiftKey:ue,target:pe,currentTarget:he}=ae;if(de===EVENT_CODE.tab&&ue){k();return}if(pe!==he)return;const Oe=getFocusIntent(ae);if(Oe){ae.preventDefault();let $e=$().filter(Ne=>Ne.focusable).map(Ne=>Ne.ref);switch(Oe){case"last":{$e.reverse();break}case"prev":case"next":{Oe==="prev"&&$e.reverse();const Ne=$e.indexOf(he);$e=g.value?reorderArray($e,Ne+1):$e.slice(Ne+1);break}}nextTick(()=>{focusFirst($e)})}}),oe=computed(()=>r.value===unref(V));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:L,tabIndex:computed(()=>unref(oe)?0:-1),handleMousedown:z,handleFocus:j,handleKeydown:re}),{id:V,handleKeydown:re,handleFocus:j,handleMousedown:z}}});function _sfc_render$j(n,e,r,g,y,k){const $=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock($,{id:n.id,focusable:n.focusable,active:n.active},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc$1(_sfc_main$22,[["render",_sfc_render$j],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$21=defineComponent({name:"ElDropdown",components:{ElButton,ElButtonGroup,ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip,ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(n,{emit:e}){const r=getCurrentInstance(),g=useNamespace("dropdown"),{t:y}=useLocale(),k=ref(),$=ref(),V=ref(null),L=ref(null),z=ref(null),j=ref(null),re=ref(!1),oe=[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.down],ae=computed(()=>({maxHeight:addUnit(n.maxHeight)})),de=computed(()=>[g.m(Ne.value)]),ue=computed(()=>castArray$1(n.trigger)),pe=useId().value,he=computed(()=>n.id||pe);watch([k,ue],([$n,Ln],[Tn])=>{var Zn,Qn,Pn;(Zn=Tn?.$el)!=null&&Zn.removeEventListener&&Tn.$el.removeEventListener("pointerenter",Fe),(Qn=$n?.$el)!=null&&Qn.removeEventListener&&$n.$el.removeEventListener("pointerenter",Fe),(Pn=$n?.$el)!=null&&Pn.addEventListener&&Ln.includes("hover")&&$n.$el.addEventListener("pointerenter",Fe)},{immediate:!0}),onBeforeUnmount(()=>{var $n,Ln;(Ln=($n=k.value)==null?void 0:$n.$el)!=null&&Ln.removeEventListener&&k.value.$el.removeEventListener("pointerenter",Fe)});function Oe(){xe()}function xe(){var $n;($n=V.value)==null||$n.onClose()}function $e(){var $n;($n=V.value)==null||$n.onOpen()}const Ne=useFormSize();function Ce(...$n){e("command",...$n)}function Fe(){var $n,Ln;(Ln=($n=k.value)==null?void 0:$n.$el)==null||Ln.focus()}function ze(){}function kt(){const $n=unref(L);ue.value.includes("hover")&&$n?.focus(),j.value=null}function At($n){j.value=$n}function Cn($n){re.value||($n.preventDefault(),$n.stopImmediatePropagation())}function Dt(){e("visible-change",!0)}function On($n){$n?.type==="keydown"&&L.value.focus()}function jt(){e("visible-change",!1)}return provide(DROPDOWN_INJECTION_KEY,{contentRef:L,role:computed(()=>n.role),triggerId:he,isUsingKeyboard:re,onItemEnter:ze,onItemLeave:kt}),provide("elDropdown",{instance:r,dropdownSize:Ne,handleClick:Oe,commandHandler:Ce,trigger:toRef(n,"trigger"),hideOnClick:toRef(n,"hideOnClick")}),{t:y,ns:g,scrollbar:z,wrapStyle:ae,dropdownTriggerKls:de,dropdownSize:Ne,triggerId:he,triggerKeys:oe,currentTabId:j,handleCurrentTabIdChange:At,handlerMainButtonClick:$n=>{e("click",$n)},handleEntryFocus:Cn,handleClose:xe,handleOpen:$e,handleBeforeShowTooltip:Dt,handleShowTooltip:On,handleBeforeHideTooltip:jt,onFocusAfterTrapped:$n=>{var Ln,Tn;$n.preventDefault(),(Tn=(Ln=L.value)==null?void 0:Ln.focus)==null||Tn.call(Ln,{preventScroll:!0})},popperRef:V,contentRef:L,triggeringElementRef:k,referenceElementRef:$}}});function _sfc_render$i(n,e,r,g,y,k){var $;const V=resolveComponent("el-dropdown-collection"),L=resolveComponent("el-roving-focus-group"),z=resolveComponent("el-scrollbar"),j=resolveComponent("el-only-child"),re=resolveComponent("el-tooltip"),oe=resolveComponent("el-button"),ae=resolveComponent("arrow-down"),de=resolveComponent("el-icon"),ue=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b(),n.ns.is("disabled",n.disabled)])},[createVNode(re,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":($=n.referenceElementRef)==null?void 0:$.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},createSlots({content:withCtx(()=>[createVNode(z,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:withCtx(()=>[createVNode(L,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[renderSlot(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:withCtx(()=>[createVNode(j,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(openBlock(),createBlock(ue,{key:0},{default:withCtx(()=>[createVNode(oe,mergeProps({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode(oe,mergeProps({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:withCtx(()=>[createVNode(de,{class:normalizeClass(n.ns.e("icon"))},{default:withCtx(()=>[createVNode(ae)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc$1(_sfc_main$21,[["render",_sfc_render$i],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const _sfc_main$20=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const r=useNamespace("dropdown"),{role:g}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:y}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:k}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:$,tabIndex:V,handleFocus:L,handleKeydown:z,handleMousedown:j}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),re=composeRefs(y,k,$),oe=computed(()=>g.value==="menu"?"menuitem":g.value==="navigation"?"link":"button"),ae=composeEventHandlers(de=>{const{code:ue}=de;if(ue===EVENT_CODE.enter||ue===EVENT_CODE.space)return de.preventDefault(),de.stopImmediatePropagation(),e("clickimpl",de),!0},z);return{ns:r,itemRef:re,dataset:{[COLLECTION_ITEM_SIGN]:""},role:oe,tabIndex:V,handleFocus:L,handleKeydown:ae,handleMousedown:j}}}),_hoisted_1$1u=["aria-disabled","tabindex","role"];function _sfc_render$h(n,e,r,g,y,k){const $=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[n.divided?(openBlock(),createElementBlock("li",mergeProps({key:0,role:"separator",class:n.ns.bem("menu","item","divided")},n.$attrs),null,16)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:e[0]||(e[0]=V=>n.$emit("clickimpl",V)),onFocus:e[1]||(e[1]=(...V)=>n.handleFocus&&n.handleFocus(...V)),onKeydown:e[2]||(e[2]=withModifiers((...V)=>n.handleKeydown&&n.handleKeydown(...V),["self"])),onMousedown:e[3]||(e[3]=(...V)=>n.handleMousedown&&n.handleMousedown(...V)),onPointermove:e[4]||(e[4]=V=>n.$emit("pointermove",V)),onPointerleave:e[5]||(e[5]=V=>n.$emit("pointerleave",V))}),[n.icon?(openBlock(),createBlock($,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(n.$slots,"default")],16,_hoisted_1$1u)],64)}var ElDropdownItemImpl=_export_sfc$1(_sfc_main$20,[["render",_sfc_render$h],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const useDropdown=()=>{const n=inject("elDropdown",{}),e=computed(()=>n?.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},_sfc_main$1$=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:r}){const{elDropdown:g}=useDropdown(),y=getCurrentInstance(),k=ref(null),$=computed(()=>{var ae,de;return(de=(ae=unref(k))==null?void 0:ae.textContent)!=null?de:""}),{onItemEnter:V,onItemLeave:L}=inject(DROPDOWN_INJECTION_KEY,void 0),z=composeEventHandlers(ae=>(e("pointermove",ae),ae.defaultPrevented),whenMouse(ae=>{if(n.disabled){L(ae);return}const de=ae.currentTarget;de===document.activeElement||de.contains(document.activeElement)||(V(ae),ae.defaultPrevented||de?.focus())})),j=composeEventHandlers(ae=>(e("pointerleave",ae),ae.defaultPrevented),whenMouse(ae=>{L(ae)})),re=composeEventHandlers(ae=>{if(!n.disabled)return e("click",ae),ae.type!=="keydown"&&ae.defaultPrevented},ae=>{var de,ue,pe;if(n.disabled){ae.stopImmediatePropagation();return}(de=g?.hideOnClick)!=null&&de.value&&((ue=g.handleClick)==null||ue.call(g)),(pe=g.commandHandler)==null||pe.call(g,n.command,y,ae)}),oe=computed(()=>({...n,...r}));return{handleClick:re,handlePointerMove:z,handlePointerLeave:j,textContent:$,propsAndAttrs:oe}}});function _sfc_render$g(n,e,r,g,y,k){var $;const V=resolveComponent("el-dropdown-item-impl"),L=resolveComponent("el-roving-focus-item"),z=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(z,{disabled:n.disabled,"text-value":($=n.textValue)!=null?$:n.textContent},{default:withCtx(()=>[createVNode(L,{focusable:!n.disabled},{default:withCtx(()=>[createVNode(V,mergeProps(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc$1(_sfc_main$1$,[["render",_sfc_render$g],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const _sfc_main$1_=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(n){const e=useNamespace("dropdown"),{_elDropdownSize:r}=useDropdown(),g=r.value,{focusTrapRef:y,onKeydown:k}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:$,role:V,triggerId:L}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:z,getItems:j}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:re,rovingFocusGroupRootStyle:oe,tabIndex:ae,onBlur:de,onFocus:ue,onMousedown:pe}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:he}=inject(COLLECTION_INJECTION_KEY$1,void 0),Oe=computed(()=>[e.b("menu"),e.bm("menu",g?.value)]),xe=composeRefs($,z,y,re,he),$e=composeEventHandlers(Ce=>{var Fe;(Fe=n.onKeydown)==null||Fe.call(n,Ce)},Ce=>{const{currentTarget:Fe,code:ze,target:kt}=Ce;if(Fe.contains(kt),EVENT_CODE.tab===ze&&Ce.stopImmediatePropagation(),Ce.preventDefault(),kt!==unref($)||!FIRST_LAST_KEYS.includes(ze))return;const Cn=j().filter(Dt=>!Dt.disabled).map(Dt=>Dt.ref);LAST_KEYS.includes(ze)&&Cn.reverse(),focusFirst(Cn)});return{size:g,rovingFocusGroupRootStyle:oe,tabIndex:ae,dropdownKls:Oe,role:V,triggerId:L,dropdownListWrapperRef:xe,handleKeydown:Ce=>{$e(Ce),k(Ce)},onBlur:de,onFocus:ue,onMousedown:pe}}}),_hoisted_1$1t=["role","aria-labelledby"];function _sfc_render$f(n,e,r,g,y,k){return openBlock(),createElementBlock("ul",{ref:n.dropdownListWrapperRef,class:normalizeClass(n.dropdownKls),style:normalizeStyle(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:e[0]||(e[0]=(...$)=>n.onBlur&&n.onBlur(...$)),onFocus:e[1]||(e[1]=(...$)=>n.onFocus&&n.onFocus(...$)),onKeydown:e[2]||(e[2]=withModifiers((...$)=>n.handleKeydown&&n.handleKeydown(...$),["self"])),onMousedown:e[3]||(e[3]=withModifiers((...$)=>n.onMousedown&&n.onMousedown(...$),["self"]))},[renderSlot(n.$slots,"default")],46,_hoisted_1$1t)}var DropdownMenu=_export_sfc$1(_sfc_main$1_,[["render",_sfc_render$f],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),_hoisted_1$1s={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_hoisted_2$1e=["id"],_hoisted_3$F=["stop-color"],_hoisted_4$z=["stop-color"],_hoisted_5$v=["id"],_hoisted_6$p=["stop-color"],_hoisted_7$m=["stop-color"],_hoisted_8$l=["id"],_hoisted_9$l={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_hoisted_10$j={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},_hoisted_11$i={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},_hoisted_12$g=["fill"],_hoisted_13$g=["fill"],_hoisted_14$f={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},_hoisted_15$c=["fill"],_hoisted_16$a=["fill"],_hoisted_17$8=["fill"],_hoisted_18$7=["fill"],_hoisted_19$7=["fill"],_hoisted_20$6={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},_hoisted_21$6=["fill","xlink:href"],_hoisted_22$4=["fill","mask"],_hoisted_23$4=["fill"],__default__$L=defineComponent({name:"ImgEmpty"}),_sfc_main$1Z=defineComponent({...__default__$L,setup(n){const e=useNamespace("empty"),r=useId();return(g,y)=>(openBlock(),createElementBlock("svg",_hoisted_1$1s,[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:`linearGradient-1-${unref(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_3$F),createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,_hoisted_4$z)],8,_hoisted_2$1e),createBaseVNode("linearGradient",{id:`linearGradient-2-${unref(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_6$p),createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,_hoisted_7$m)],8,_hoisted_5$v),createBaseVNode("rect",{id:`path-3-${unref(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,_hoisted_8$l)]),createBaseVNode("g",_hoisted_9$l,[createBaseVNode("g",_hoisted_10$j,[createBaseVNode("g",_hoisted_11$i,[createBaseVNode("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${unref(e).cssVarBlockName("fill-color-3")})`},null,8,_hoisted_12$g),createBaseVNode("polygon",{id:"Rectangle-Copy-14",fill:`var(${unref(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,_hoisted_13$g),createBaseVNode("g",_hoisted_14$f,[createBaseVNode("polygon",{id:"Rectangle-Copy-10",fill:`var(${unref(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,_hoisted_15$c),createBaseVNode("polygon",{id:"Rectangle-Copy-11",fill:`var(${unref(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,_hoisted_16$a),createBaseVNode("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${unref(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,_hoisted_17$8),createBaseVNode("polygon",{id:"Rectangle-Copy-13",fill:`var(${unref(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,_hoisted_18$7)]),createBaseVNode("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${unref(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,_hoisted_19$7),createBaseVNode("g",_hoisted_20$6,[createBaseVNode("use",{id:"Mask",fill:`var(${unref(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${unref(r)}`},null,8,_hoisted_21$6),createBaseVNode("polygon",{id:"Rectangle-Copy",fill:`var(${unref(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${unref(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,_hoisted_22$4)]),createBaseVNode("polygon",{id:"Rectangle-Copy-18",fill:`var(${unref(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,_hoisted_23$4)])])])]))}});var ImgEmpty=_export_sfc$1(_sfc_main$1Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const emptyProps=buildProps({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),_hoisted_1$1r=["src"],_hoisted_2$1d={key:1},__default__$K=defineComponent({name:"ElEmpty"}),_sfc_main$1Y=defineComponent({...__default__$K,props:emptyProps,setup(n){const e=n,{t:r}=useLocale(),g=useNamespace("empty"),y=computed(()=>e.description||r("el.table.emptyText")),k=computed(()=>({width:addUnit(e.imageSize)}));return($,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[createBaseVNode("div",{class:normalizeClass(unref(g).e("image")),style:normalizeStyle(unref(k))},[$.image?(openBlock(),createElementBlock("img",{key:0,src:$.image,ondragstart:"return false"},null,8,_hoisted_1$1r)):renderSlot($.$slots,"image",{key:1},()=>[createVNode(ImgEmpty)])],6),createBaseVNode("div",{class:normalizeClass(unref(g).e("description"))},[$.$slots.description?renderSlot($.$slots,"description",{key:0}):(openBlock(),createElementBlock("p",_hoisted_2$1d,toDisplayString$1(unref(y)),1))],2),$.$slots.default?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("bottom"))},[renderSlot($.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var Empty=_export_sfc$1(_sfc_main$1Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const ElEmpty=withInstall(Empty),imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),imageViewerEmits={close:()=>!0,switch:n=>isNumber$1(n)},_hoisted_1$1q=["src"],__default__$J=defineComponent({name:"ElImageViewer"}),_sfc_main$1X=defineComponent({...__default__$J,props:imageViewerProps,emits:imageViewerEmits,setup(n,{expose:e,emit:r}){const g=n,y={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}},{t:k}=useLocale(),$=useNamespace("image-viewer"),{nextZIndex:V}=useZIndex(),L=ref(),z=ref([]),j=effectScope(),re=ref(!0),oe=ref(g.initialIndex),ae=shallowRef(y.CONTAIN),de=ref({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),ue=computed(()=>{const{urlList:Tn}=g;return Tn.length<=1}),pe=computed(()=>oe.value===0),he=computed(()=>oe.value===g.urlList.length-1),Oe=computed(()=>g.urlList[oe.value]),xe=computed(()=>[$.e("btn"),$.e("prev"),$.is("disabled",!g.infinite&&pe.value)]),$e=computed(()=>[$.e("btn"),$.e("next"),$.is("disabled",!g.infinite&&he.value)]),Ne=computed(()=>{const{scale:Tn,deg:Zn,offsetX:Qn,offsetY:Pn,enableTransition:Wn}=de.value;let ur=Qn/Tn,hr=Pn/Tn;switch(Zn%360){case 90:case-270:[ur,hr]=[hr,-ur];break;case 180:case-180:[ur,hr]=[-ur,-hr];break;case 270:case-90:[ur,hr]=[-hr,ur];break}const Vn={transform:`scale(${Tn}) rotate(${Zn}deg) translate(${ur}px, ${hr}px)`,transition:Wn?"transform .3s":""};return ae.value.name===y.CONTAIN.name&&(Vn.maxWidth=Vn.maxHeight="100%"),Vn}),Ce=computed(()=>isNumber$1(g.zIndex)?g.zIndex:V());function Fe(){kt(),r("close")}function ze(){const Tn=throttle(Qn=>{switch(Qn.code){case EVENT_CODE.esc:g.closeOnPressEscape&&Fe();break;case EVENT_CODE.space:jt();break;case EVENT_CODE.left:Mn();break;case EVENT_CODE.up:Ln("zoomIn");break;case EVENT_CODE.right:$n();break;case EVENT_CODE.down:Ln("zoomOut");break}}),Zn=throttle(Qn=>{const Pn=Qn.deltaY||Qn.deltaX;Ln(Pn<0?"zoomIn":"zoomOut",{zoomRate:g.zoomRate,enableTransition:!1})});j.run(()=>{useEventListener(document,"keydown",Tn),useEventListener(document,"wheel",Zn)})}function kt(){j.stop()}function At(){re.value=!1}function Cn(Tn){re.value=!1,Tn.target.alt=k("el.image.error")}function Dt(Tn){if(re.value||Tn.button!==0||!L.value)return;de.value.enableTransition=!1;const{offsetX:Zn,offsetY:Qn}=de.value,Pn=Tn.pageX,Wn=Tn.pageY,ur=throttle(Vn=>{de.value={...de.value,offsetX:Zn+Vn.pageX-Pn,offsetY:Qn+Vn.pageY-Wn}}),hr=useEventListener(document,"mousemove",ur);useEventListener(document,"mouseup",()=>{hr()}),Tn.preventDefault()}function On(){de.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function jt(){if(re.value)return;const Tn=keysOf(y),Zn=Object.values(y),Qn=ae.value.name,Wn=(Zn.findIndex(ur=>ur.name===Qn)+1)%Tn.length;ae.value=y[Tn[Wn]],On()}function An(Tn){const Zn=g.urlList.length;oe.value=(Tn+Zn)%Zn}function Mn(){pe.value&&!g.infinite||An(oe.value-1)}function $n(){he.value&&!g.infinite||An(oe.value+1)}function Ln(Tn,Zn={}){if(re.value)return;const{zoomRate:Qn,rotateDeg:Pn,enableTransition:Wn}={zoomRate:g.zoomRate,rotateDeg:90,enableTransition:!0,...Zn};switch(Tn){case"zoomOut":de.value.scale>.2&&(de.value.scale=Number.parseFloat((de.value.scale/Qn).toFixed(3)));break;case"zoomIn":de.value.scale<7&&(de.value.scale=Number.parseFloat((de.value.scale*Qn).toFixed(3)));break;case"clockwise":de.value.deg+=Pn;break;case"anticlockwise":de.value.deg-=Pn;break}de.value.enableTransition=Wn}return watch(Oe,()=>{nextTick(()=>{const Tn=z.value[0];Tn?.complete||(re.value=!0)})}),watch(oe,Tn=>{On(),r("switch",Tn)}),onMounted(()=>{var Tn,Zn;ze(),(Zn=(Tn=L.value)==null?void 0:Tn.focus)==null||Zn.call(Tn)}),e({setActiveItem:An}),(Tn,Zn)=>(openBlock(),createBlock(Teleport,{to:"body",disabled:!Tn.teleported},[createVNode(Transition,{name:"viewer-fade",appear:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"wrapper",ref:L,tabindex:-1,class:normalizeClass(unref($).e("wrapper")),style:normalizeStyle({zIndex:unref(Ce)})},[createBaseVNode("div",{class:normalizeClass(unref($).e("mask")),onClick:Zn[0]||(Zn[0]=withModifiers(Qn=>Tn.hideOnClickModal&&Fe(),["self"]))},null,2),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref($).e("btn"),unref($).e("close")]),onClick:Fe},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],2),createCommentVNode(" ARROW "),unref(ue)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:normalizeClass(unref(xe)),onClick:Mn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],2),createBaseVNode("span",{class:normalizeClass(unref($e)),onClick:$n},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],2)],64)),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref($).e("btn"),unref($).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref($).e("actions__inner"))},[createVNode(unref(ElIcon),{onClick:Zn[1]||(Zn[1]=Qn=>Ln("zoomOut"))},{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Zn[2]||(Zn[2]=Qn=>Ln("zoomIn"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref($).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:jt},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ae).icon)))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref($).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:Zn[3]||(Zn[3]=Qn=>Ln("anticlockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_left_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Zn[4]||(Zn[4]=Qn=>Ln("clockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_right_default))]),_:1})],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref($).e("canvas"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tn.urlList,(Qn,Pn)=>withDirectives((openBlock(),createElementBlock("img",{ref_for:!0,ref:Wn=>z.value[Pn]=Wn,key:Qn,src:Qn,style:normalizeStyle(unref(Ne)),class:normalizeClass(unref($).e("img")),onLoad:At,onError:Cn,onMousedown:Dt},null,46,_hoisted_1$1q)),[[vShow,Pn===oe.value]])),128))],2),renderSlot(Tn.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var ImageViewer=_export_sfc$1(_sfc_main$1X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const ElImageViewer=withInstall(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),imageEmits={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>isNumber$1(n),close:()=>!0,show:()=>!0},_hoisted_1$1p=["src","loading"],_hoisted_2$1c={key:0},__default__$I=defineComponent({name:"ElImage",inheritAttrs:!1}),_sfc_main$1W=defineComponent({...__default__$I,props:imageProps,emits:imageEmits,setup(n,{emit:e}){const r=n;let g="";const{t:y}=useLocale(),k=useNamespace("image"),$=useAttrs$1(),V=useAttrs(),L=ref(),z=ref(!1),j=ref(!0),re=ref(!1),oe=ref(),ae=ref(),de=isClient&&"loading"in HTMLImageElement.prototype;let ue,pe;const he=computed(()=>[k.e("inner"),$e.value&&k.e("preview"),j.value&&k.is("loading")]),Oe=computed(()=>$.style),xe=computed(()=>{const{fit:Ln}=r;return isClient&&Ln?{objectFit:Ln}:{}}),$e=computed(()=>{const{previewSrcList:Ln}=r;return Array.isArray(Ln)&&Ln.length>0}),Ne=computed(()=>{const{previewSrcList:Ln,initialIndex:Tn}=r;let Zn=Tn;return Tn>Ln.length-1&&(Zn=0),Zn}),Ce=computed(()=>r.loading==="eager"?!1:!de&&r.loading==="lazy"||r.lazy),Fe=()=>{isClient&&(j.value=!0,z.value=!1,L.value=r.src)};function ze(Ln){j.value=!1,z.value=!1,e("load",Ln)}function kt(Ln){j.value=!1,z.value=!0,e("error",Ln)}function At(){isInContainer(oe.value,ae.value)&&(Fe(),On())}const Cn=useThrottleFn(At,200,!0);async function Dt(){var Ln;if(!isClient)return;await nextTick();const{scrollContainer:Tn}=r;isElement$1(Tn)?ae.value=Tn:isString$3(Tn)&&Tn!==""?ae.value=(Ln=document.querySelector(Tn))!=null?Ln:void 0:oe.value&&(ae.value=getScrollContainer(oe.value)),ae.value&&(ue=useEventListener(ae,"scroll",Cn),setTimeout(()=>At(),100))}function On(){!isClient||!ae.value||!Cn||(ue?.(),ae.value=void 0)}function jt(Ln){if(Ln.ctrlKey){if(Ln.deltaY<0)return Ln.preventDefault(),!1;if(Ln.deltaY>0)return Ln.preventDefault(),!1}}function An(){$e.value&&(pe=useEventListener("wheel",jt,{passive:!1}),g=document.body.style.overflow,document.body.style.overflow="hidden",re.value=!0,e("show"))}function Mn(){pe?.(),document.body.style.overflow=g,re.value=!1,e("close")}function $n(Ln){e("switch",Ln)}return watch(()=>r.src,()=>{Ce.value?(j.value=!0,z.value=!1,On(),Dt()):Fe()}),onMounted(()=>{Ce.value?Dt():Fe()}),(Ln,Tn)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:oe,class:normalizeClass([unref(k).b(),Ln.$attrs.class]),style:normalizeStyle(unref(Oe))},[z.value?renderSlot(Ln.$slots,"error",{key:0},()=>[createBaseVNode("div",{class:normalizeClass(unref(k).e("error"))},toDisplayString$1(unref(y)("el.image.error")),3)]):(openBlock(),createElementBlock(Fragment,{key:1},[L.value!==void 0?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(V),{src:L.value,loading:Ln.loading,style:unref(xe),class:unref(he),onClick:An,onLoad:ze,onError:kt}),null,16,_hoisted_1$1p)):createCommentVNode("v-if",!0),j.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(k).e("wrapper"))},[renderSlot(Ln.$slots,"placeholder",{},()=>[createBaseVNode("div",{class:normalizeClass(unref(k).e("placeholder"))},null,2)])],2)):createCommentVNode("v-if",!0)],64)),unref($e)?(openBlock(),createElementBlock(Fragment,{key:2},[re.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":Ln.zIndex,"initial-index":unref(Ne),infinite:Ln.infinite,"zoom-rate":Ln.zoomRate,"url-list":Ln.previewSrcList,"hide-on-click-modal":Ln.hideOnClickModal,teleported:Ln.previewTeleported,"close-on-press-escape":Ln.closeOnPressEscape,onClose:Mn,onSwitch:$n},{default:withCtx(()=>[Ln.$slots.viewer?(openBlock(),createElementBlock("div",_hoisted_2$1c,[renderSlot(Ln.$slots,"viewer")])):createCommentVNode("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],6))}});var Image$1=_export_sfc$1(_sfc_main$1W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const ElImage=withInstall(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||isNumber$1(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0}}),inputNumberEmits={[CHANGE_EVENT]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[INPUT_EVENT]:n=>isNumber$1(n)||isNil(n),[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)||isNil(n)},_hoisted_1$1o=["aria-label","onKeydown"],_hoisted_2$1b=["aria-label","onKeydown"],__default__$H=defineComponent({name:"ElInputNumber"}),_sfc_main$1V=defineComponent({...__default__$H,props:inputNumberProps,emits:inputNumberEmits,setup(n,{expose:e,emit:r}){const g=n,{t:y}=useLocale(),k=useNamespace("input-number"),$=ref(),V=reactive({currentValue:g.modelValue,userInput:null}),{formItem:L}=useFormItem(),z=computed(()=>isNumber$1(g.modelValue)&&g.modelValue<=g.min),j=computed(()=>isNumber$1(g.modelValue)&&g.modelValue>=g.max),re=computed(()=>{const On=he(g.step);return isUndefined(g.precision)?Math.max(he(g.modelValue),On):(On>g.precision,g.precision)}),oe=computed(()=>g.controls&&g.controlsPosition==="right"),ae=useFormSize(),de=useFormDisabled(),ue=computed(()=>{if(V.userInput!==null)return V.userInput;let On=V.currentValue;if(isNil(On))return"";if(isNumber$1(On)){if(Number.isNaN(On))return"";isUndefined(g.precision)||(On=On.toFixed(g.precision))}return On}),pe=(On,jt)=>{if(isUndefined(jt)&&(jt=re.value),jt===0)return Math.round(On);let An=String(On);const Mn=An.indexOf(".");if(Mn===-1||!An.replace(".","").split("")[Mn+jt])return On;const Tn=An.length;return An.charAt(Tn-1)==="5"&&(An=`${An.slice(0,Math.max(0,Tn-1))}6`),Number.parseFloat(Number(An).toFixed(jt))},he=On=>{if(isNil(On))return 0;const jt=On.toString(),An=jt.indexOf(".");let Mn=0;return An!==-1&&(Mn=jt.length-An-1),Mn},Oe=(On,jt=1)=>isNumber$1(On)?pe(On+g.step*jt):V.currentValue,xe=()=>{if(g.readonly||de.value||j.value)return;const On=Number(ue.value)||0,jt=Oe(On);Ce(jt),r(INPUT_EVENT,V.currentValue)},$e=()=>{if(g.readonly||de.value||z.value)return;const On=Number(ue.value)||0,jt=Oe(On,-1);Ce(jt),r(INPUT_EVENT,V.currentValue)},Ne=(On,jt)=>{const{max:An,min:Mn,step:$n,precision:Ln,stepStrictly:Tn,valueOnClear:Zn}=g;An<Mn&&throwError("InputNumber","min should not be greater than max.");let Qn=Number(On);if(isNil(On)||Number.isNaN(Qn))return null;if(On===""){if(Zn===null)return null;Qn=isString$3(Zn)?{min:Mn,max:An}[Zn]:Zn}return Tn&&(Qn=pe(Math.round(Qn/$n)*$n,Ln)),isUndefined(Ln)||(Qn=pe(Qn,Ln)),(Qn>An||Qn<Mn)&&(Qn=Qn>An?An:Mn,jt&&r(UPDATE_MODEL_EVENT,Qn)),Qn},Ce=(On,jt=!0)=>{var An;const Mn=V.currentValue,$n=Ne(On);if(!jt){r(UPDATE_MODEL_EVENT,$n);return}Mn!==$n&&(V.userInput=null,r(UPDATE_MODEL_EVENT,$n),r(CHANGE_EVENT,$n,Mn),g.validateEvent&&((An=L?.validate)==null||An.call(L,"change").catch(Ln=>void 0)),V.currentValue=$n)},Fe=On=>{V.userInput=On;const jt=On===""?null:Number(On);r(INPUT_EVENT,jt),Ce(jt,!1)},ze=On=>{const jt=On!==""?Number(On):"";(isNumber$1(jt)&&!Number.isNaN(jt)||On==="")&&Ce(jt),V.userInput=null},kt=()=>{var On,jt;(jt=(On=$.value)==null?void 0:On.focus)==null||jt.call(On)},At=()=>{var On,jt;(jt=(On=$.value)==null?void 0:On.blur)==null||jt.call(On)},Cn=On=>{r("focus",On)},Dt=On=>{var jt;r("blur",On),g.validateEvent&&((jt=L?.validate)==null||jt.call(L,"blur").catch(An=>void 0))};return watch(()=>g.modelValue,On=>{const jt=Ne(V.userInput),An=Ne(On,!0);!isNumber$1(jt)&&(!jt||jt!==An)&&(V.currentValue=An,V.userInput=null)},{immediate:!0}),onMounted(()=>{var On;const{min:jt,max:An,modelValue:Mn}=g,$n=(On=$.value)==null?void 0:On.input;if($n.setAttribute("role","spinbutton"),Number.isFinite(An)?$n.setAttribute("aria-valuemax",String(An)):$n.removeAttribute("aria-valuemax"),Number.isFinite(jt)?$n.setAttribute("aria-valuemin",String(jt)):$n.removeAttribute("aria-valuemin"),$n.setAttribute("aria-valuenow",V.currentValue||V.currentValue===0?String(V.currentValue):""),$n.setAttribute("aria-disabled",String(de.value)),!isNumber$1(Mn)&&Mn!=null){let Ln=Number(Mn);Number.isNaN(Ln)&&(Ln=null),r(UPDATE_MODEL_EVENT,Ln)}}),onUpdated(()=>{var On,jt;const An=(On=$.value)==null?void 0:On.input;An?.setAttribute("aria-valuenow",`${(jt=V.currentValue)!=null?jt:""}`)}),e({focus:kt,blur:At}),(On,jt)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(k).b(),unref(k).m(unref(ae)),unref(k).is("disabled",unref(de)),unref(k).is("without-controls",!On.controls),unref(k).is("controls-right",unref(oe))]),onDragstart:jt[1]||(jt[1]=withModifiers(()=>{},["prevent"]))},[On.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(y)("el.inputNumber.decrease"),class:normalizeClass([unref(k).e("decrease"),unref(k).is("disabled",unref(z))]),onKeydown:withKeys($e,["enter"])},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(oe)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})],42,_hoisted_1$1o)),[[unref(vRepeatClick),$e]]):createCommentVNode("v-if",!0),On.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(y)("el.inputNumber.increase"),class:normalizeClass([unref(k).e("increase"),unref(k).is("disabled",unref(j))]),onKeydown:withKeys(xe,["enter"])},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(oe)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})],42,_hoisted_2$1b)),[[unref(vRepeatClick),xe]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:On.id,ref_key:"input",ref:$,type:"number",step:On.step,"model-value":unref(ue),placeholder:On.placeholder,readonly:On.readonly,disabled:unref(de),size:unref(ae),max:On.max,min:On.min,name:On.name,label:On.label,"validate-event":!1,onWheel:jt[0]||(jt[0]=withModifiers(()=>{},["prevent"])),onKeydown:[withKeys(withModifiers(xe,["prevent"]),["up"]),withKeys(withModifiers($e,["prevent"]),["down"])],onBlur:Dt,onFocus:Cn,onInput:Fe,onChange:ze},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var InputNumber=_export_sfc$1(_sfc_main$1V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),linkProps=buildProps({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:iconPropType}}),linkEmits={click:n=>n instanceof MouseEvent},_hoisted_1$1n=["href"],__default__$G=defineComponent({name:"ElLink"}),_sfc_main$1U=defineComponent({...__default__$G,props:linkProps,emits:linkEmits,setup(n,{emit:e}){const r=n,g=useNamespace("link"),y=computed(()=>[g.b(),g.m(r.type),g.is("disabled",r.disabled),g.is("underline",r.underline&&!r.disabled)]);function k($){r.disabled||e("click",$)}return($,V)=>(openBlock(),createElementBlock("a",{class:normalizeClass(unref(y)),href:$.disabled||!$.href?void 0:$.href,onClick:k},[$.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.icon)))]),_:1})):createCommentVNode("v-if",!0),$.$slots.default?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(g).e("inner"))},[renderSlot($.$slots,"default")],2)):createCommentVNode("v-if",!0),$.$slots.icon?renderSlot($.$slots,"icon",{key:2}):createCommentVNode("v-if",!0)],10,_hoisted_1$1n))}});var Link=_export_sfc$1(_sfc_main$1U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const ElLink=withInstall(Link);let SubMenu$1=class{constructor(e,r){this.parent=e,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",g=>{let y=!1;switch(g.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),y=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),y=!0;break}case EVENT_CODE.tab:{triggerEvent(e,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{y=!0,g.currentTarget.click();break}}return y&&(g.preventDefault(),g.stopPropagation()),!1})})}},MenuItem$1=class{constructor(e,r){this.domNode=e,this.submenu=null,this.submenu=null,this.init(r)}init(e){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${e}-menu`);r&&(this.submenu=new SubMenu$1(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let r=!1;switch(e.code){case EVENT_CODE.down:{triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case EVENT_CODE.up:{triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case EVENT_CODE.tab:{triggerEvent(e.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},Menu$1=class{constructor(e,r){this.domNode=e,this.init(r)}init(e){const r=this.domNode.childNodes;Array.from(r).forEach(g=>{g.nodeType===1&&new MenuItem$1(g,e)})}};const _sfc_main$1T=defineComponent({name:"ElMenuCollapseTransition",setup(){const n=useNamespace("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,g){addClass(r,`${n.namespace.value}-opacity-transition`),r.style.opacity="1",g()},onAfterEnter(r){removeClass(r,`${n.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),hasClass(r,n.m("collapse"))?(removeClass(r,n.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),addClass(r,n.m("collapse"))):(addClass(r,n.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),removeClass(r,n.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){addClass(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function _sfc_render$e(n,e,r,g,y,k){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},n.listeners),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16)}var ElMenuCollapseTransition=_export_sfc$1(_sfc_main$1T,[["render",_sfc_render$e],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function useMenu(n,e){const r=computed(()=>{let y=n.parent;const k=[e.value];for(;y.type.name!=="ElMenu";)y.props.index&&k.unshift(y.props.index),y=y.parent;return k});return{parentMenu:computed(()=>{let y=n.parent;for(;y&&!["ElMenu","ElSubMenu"].includes(y.type.name);)y=y.parent;return y}),indexPath:r}}function useMenuColor(n){return computed(()=>{const r=n.backgroundColor;return r?new TinyColor(r).shade(20).toString():""})}const useMenuCssVar=(n,e)=>{const r=useNamespace("menu");return computed(()=>r.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":useMenuColor(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$c="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$c,props:subMenuProps,setup(n,{slots:e,expose:r}){useDeprecated({from:"popper-append-to-body",replacement:"teleported",scope:COMPONENT_NAME$c,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},computed(()=>n.popperAppendToBody!==void 0));const g=getCurrentInstance(),{indexPath:y,parentMenu:k}=useMenu(g,computed(()=>n.index)),$=useNamespace("menu"),V=useNamespace("sub-menu"),L=inject("rootMenu");L||throwError(COMPONENT_NAME$c,"can not inject root menu");const z=inject(`subMenu:${k.value.uid}`);z||throwError(COMPONENT_NAME$c,"can not inject sub menu");const j=ref({}),re=ref({});let oe;const ae=ref(!1),de=ref(),ue=ref(null),pe=computed(()=>Cn.value==="horizontal"&&Oe.value?"bottom-start":"right-start"),he=computed(()=>Cn.value==="horizontal"&&Oe.value||Cn.value==="vertical"&&!L.props.collapse?n.expandCloseIcon&&n.expandOpenIcon?Ce.value?n.expandOpenIcon:n.expandCloseIcon:arrow_down_default:n.collapseCloseIcon&&n.collapseOpenIcon?Ce.value?n.collapseOpenIcon:n.collapseCloseIcon:arrow_right_default),Oe=computed(()=>z.level===0),xe=computed(()=>{var Zn;const Qn=(Zn=n.teleported)!=null?Zn:n.popperAppendToBody;return Qn===void 0?Oe.value:Qn}),$e=computed(()=>L.props.collapse?`${$.namespace.value}-zoom-in-left`:`${$.namespace.value}-zoom-in-top`),Ne=computed(()=>Cn.value==="horizontal"&&Oe.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),Ce=computed(()=>L.openedMenus.includes(n.index)),Fe=computed(()=>{let Zn=!1;return Object.values(j.value).forEach(Qn=>{Qn.active&&(Zn=!0)}),Object.values(re.value).forEach(Qn=>{Qn.active&&(Zn=!0)}),Zn}),ze=computed(()=>L.props.backgroundColor||""),kt=computed(()=>L.props.activeTextColor||""),At=computed(()=>L.props.textColor||""),Cn=computed(()=>L.props.mode),Dt=reactive({index:n.index,indexPath:y,active:Fe}),On=useMenuCssVar(L.props,z.level+1),jt=computed(()=>Cn.value!=="horizontal"?{color:At.value}:{borderBottomColor:Fe.value?L.props.activeTextColor?kt.value:"":"transparent",color:Fe.value?kt.value:At.value}),An=()=>{var Zn,Qn,Pn;return(Pn=(Qn=(Zn=ue.value)==null?void 0:Zn.popperRef)==null?void 0:Qn.popperInstanceRef)==null?void 0:Pn.destroy()},Mn=Zn=>{Zn||An()},$n=()=>{L.props.menuTrigger==="hover"&&L.props.mode==="horizontal"||L.props.collapse&&L.props.mode==="vertical"||n.disabled||L.handleSubMenuClick({index:n.index,indexPath:y.value,active:Fe.value})},Ln=(Zn,Qn=n.showTimeout)=>{var Pn;Zn.type!=="focus"&&(L.props.menuTrigger==="click"&&L.props.mode==="horizontal"||!L.props.collapse&&L.props.mode==="vertical"||n.disabled||(z.mouseInChild.value=!0,oe?.(),{stop:oe}=useTimeoutFn(()=>{L.openMenu(n.index,y.value)},Qn),xe.value&&((Pn=k.value.vnode.el)==null||Pn.dispatchEvent(new MouseEvent("mouseenter")))))},Tn=(Zn=!1)=>{var Qn,Pn;L.props.menuTrigger==="click"&&L.props.mode==="horizontal"||!L.props.collapse&&L.props.mode==="vertical"||(oe?.(),z.mouseInChild.value=!1,{stop:oe}=useTimeoutFn(()=>!ae.value&&L.closeMenu(n.index,y.value),n.hideTimeout),xe.value&&Zn&&((Qn=g.parent)==null?void 0:Qn.type.name)==="ElSubMenu"&&((Pn=z.handleMouseleave)==null||Pn.call(z,!0)))};watch(()=>L.props.collapse,Zn=>Mn(!!Zn));{const Zn=Pn=>{re.value[Pn.index]=Pn},Qn=Pn=>{delete re.value[Pn.index]};provide(`subMenu:${g.uid}`,{addSubMenu:Zn,removeSubMenu:Qn,handleMouseleave:Tn,mouseInChild:ae,level:z.level+1})}return r({opened:Ce}),onMounted(()=>{L.addSubMenu(Dt),z.addSubMenu(Dt)}),onBeforeUnmount(()=>{z.removeSubMenu(Dt),L.removeSubMenu(Dt)}),()=>{var Zn;const Qn=[(Zn=e.title)==null?void 0:Zn.call(e),h$1(ElIcon,{class:V.e("icon-arrow"),style:{transform:Ce.value?n.expandCloseIcon&&n.expandOpenIcon||n.collapseCloseIcon&&n.collapseOpenIcon&&L.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$3(he.value)?h$1(g.appContext.components[he.value]):h$1(he.value)})],Pn=L.isMenuPopup?h$1(ElTooltip,{ref:ue,visible:Ce.value,effect:"light",pure:!0,offset:n.popperOffset,showArrow:!1,persistent:!0,popperClass:n.popperClass,placement:pe.value,teleported:xe.value,fallbackPlacements:Ne.value,transition:$e.value,gpuAcceleration:!1},{content:()=>{var Wn;return h$1("div",{class:[$.m(Cn.value),$.m("popup-container"),n.popperClass],onMouseenter:ur=>Ln(ur,100),onMouseleave:()=>Tn(!0),onFocus:ur=>Ln(ur,100)},[h$1("ul",{class:[$.b(),$.m("popup"),$.m(`popup-${pe.value}`)],style:On.value},[(Wn=e.default)==null?void 0:Wn.call(e)])])},default:()=>h$1("div",{class:V.e("title"),style:[jt.value,{backgroundColor:ze.value}],onClick:$n},Qn)}):h$1(Fragment,{},[h$1("div",{class:V.e("title"),style:[jt.value,{backgroundColor:ze.value}],ref:de,onClick:$n},Qn),h$1(_CollapseTransition,{},{default:()=>{var Wn;return withDirectives(h$1("ul",{role:"menu",class:[$.b(),$.m("inline")],style:On.value},[(Wn=e.default)==null?void 0:Wn.call(e)]),[[vShow,Ce.value]])}})]);return h$1("li",{class:[V.b(),V.is("active",Fe.value),V.is("opened",Ce.value),V.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:Ce.value,onMouseenter:Ln,onMouseleave:()=>Tn(!0),onFocus:Ln},[Pn])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),checkIndexPath=n=>Array.isArray(n)&&n.every(e=>isString$3(e)),menuEmits={close:(n,e)=>isString$3(n)&&checkIndexPath(e),open:(n,e)=>isString$3(n)&&checkIndexPath(e),select:(n,e,r,g)=>isString$3(n)&&checkIndexPath(e)&&isObject$3(r)&&(g===void 0||g instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(n,{emit:e,slots:r,expose:g}){const y=getCurrentInstance(),k=y.appContext.config.globalProperties.$router,$=ref(),V=useNamespace("menu"),L=useNamespace("sub-menu"),z=ref(-1),j=ref(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),re=ref(n.defaultActive),oe=ref({}),ae=ref({}),de=computed(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),ue=()=>{const Cn=re.value&&oe.value[re.value];if(!Cn||n.mode==="horizontal"||n.collapse)return;Cn.indexPath.forEach(On=>{const jt=ae.value[On];jt&&pe(On,jt.indexPath)})},pe=(Cn,Dt)=>{j.value.includes(Cn)||(n.uniqueOpened&&(j.value=j.value.filter(On=>Dt.includes(On))),j.value.push(Cn),e("open",Cn,Dt))},he=Cn=>{const Dt=j.value.indexOf(Cn);Dt!==-1&&j.value.splice(Dt,1)},Oe=(Cn,Dt)=>{he(Cn),e("close",Cn,Dt)},xe=({index:Cn,indexPath:Dt})=>{j.value.includes(Cn)?Oe(Cn,Dt):pe(Cn,Dt)},$e=Cn=>{(n.mode==="horizontal"||n.collapse)&&(j.value=[]);const{index:Dt,indexPath:On}=Cn;if(!(isNil(Dt)||isNil(On)))if(n.router&&k){const jt=Cn.route||Dt,An=k.push(jt).then(Mn=>(Mn||(re.value=Dt),Mn));e("select",Dt,On,{index:Dt,indexPath:On,route:jt},An)}else re.value=Dt,e("select",Dt,On,{index:Dt,indexPath:On})},Ne=Cn=>{const Dt=oe.value,On=Dt[Cn]||re.value&&Dt[re.value]||Dt[n.defaultActive];On?re.value=On.index:re.value=Cn},Ce=()=>{var Cn,Dt;if(!$.value)return-1;const On=Array.from((Dt=(Cn=$.value)==null?void 0:Cn.childNodes)!=null?Dt:[]).filter(Zn=>Zn.nodeName!=="#comment"&&(Zn.nodeName!=="#text"||Zn.nodeValue)),jt=64,An=Number.parseInt(getComputedStyle($.value).paddingLeft,10),Mn=Number.parseInt(getComputedStyle($.value).paddingRight,10),$n=$.value.clientWidth-An-Mn;let Ln=0,Tn=0;return On.forEach((Zn,Qn)=>{Ln+=Zn.offsetWidth||0,Ln<=$n-jt&&(Tn=Qn+1)}),Tn===On.length?-1:Tn},Fe=(Cn,Dt=33.34)=>{let On;return()=>{On&&clearTimeout(On),On=setTimeout(()=>{Cn()},Dt)}};let ze=!0;const kt=()=>{const Cn=()=>{z.value=-1,nextTick(()=>{z.value=Ce()})};ze?Cn():Fe(Cn)(),ze=!1};watch(()=>n.defaultActive,Cn=>{oe.value[Cn]||(re.value=""),Ne(Cn)}),watch(()=>n.collapse,Cn=>{Cn&&(j.value=[])}),watch(oe.value,ue);let At;watchEffect(()=>{n.mode==="horizontal"&&n.ellipsis?At=useResizeObserver($,kt).stop:At?.()});{const Cn=An=>{ae.value[An.index]=An},Dt=An=>{delete ae.value[An.index]};provide("rootMenu",reactive({props:n,openedMenus:j,items:oe,subMenus:ae,activeIndex:re,isMenuPopup:de,addMenuItem:An=>{oe.value[An.index]=An},removeMenuItem:An=>{delete oe.value[An.index]},addSubMenu:Cn,removeSubMenu:Dt,openMenu:pe,closeMenu:Oe,handleMenuItemClick:$e,handleSubMenuClick:xe})),provide(`subMenu:${y.uid}`,{addSubMenu:Cn,removeSubMenu:Dt,mouseInChild:ref(!1),level:0})}return onMounted(()=>{n.mode==="horizontal"&&new Menu$1(y.vnode.el,V.namespace.value)}),g({open:Dt=>{const{indexPath:On}=ae.value[Dt];On.forEach(jt=>pe(jt,On))},close:he,handleResize:kt}),()=>{var Cn,Dt;let On=(Dt=(Cn=r.default)==null?void 0:Cn.call(r))!=null?Dt:[];const jt=[];if(n.mode==="horizontal"&&$.value){const $n=flattedChildren(On),Ln=z.value===-1?$n:$n.slice(0,z.value),Tn=z.value===-1?[]:$n.slice(z.value);Tn?.length&&n.ellipsis&&(On=Ln,jt.push(h$1(SubMenu,{index:"sub-menu-more",class:L.e("hide-arrow")},{title:()=>h$1(ElIcon,{class:L.e("icon-more")},{default:()=>h$1(more_default)}),default:()=>Tn})))}const An=useMenuCssVar(n,0),Mn=h$1("ul",{key:String(n.collapse),role:"menubar",ref:$,style:An.value,class:{[V.b()]:!0,[V.m(n.mode)]:!0,[V.m("collapse")]:n.collapse}},[...On,...jt]);return n.collapseTransition&&n.mode==="vertical"?h$1(ElMenuCollapseTransition,()=>Mn):Mn}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:n=>isString$3(n.index)&&Array.isArray(n.indexPath)},COMPONENT_NAME$b="ElMenuItem",_sfc_main$1S=defineComponent({name:COMPONENT_NAME$b,components:{ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(n,{emit:e}){const r=getCurrentInstance(),g=inject("rootMenu"),y=useNamespace("menu"),k=useNamespace("menu-item");g||throwError(COMPONENT_NAME$b,"can not inject root menu");const{parentMenu:$,indexPath:V}=useMenu(r,toRef(n,"index")),L=inject(`subMenu:${$.value.uid}`);L||throwError(COMPONENT_NAME$b,"can not inject sub menu");const z=computed(()=>n.index===g.activeIndex),j=reactive({index:n.index,indexPath:V,active:z}),re=()=>{n.disabled||(g.handleMenuItemClick({index:n.index,indexPath:V.value,route:n.route}),e("click",j))};return onMounted(()=>{L.addSubMenu(j),g.addMenuItem(j)}),onBeforeUnmount(()=>{L.removeSubMenu(j),g.removeMenuItem(j)}),{parentMenu:$,rootMenu:g,active:z,nsMenu:y,nsMenuItem:k,handleClick:re}}});function _sfc_render$d(n,e,r,g,y,k){const $=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...V)=>n.handleClick&&n.handleClick(...V))},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(openBlock(),createBlock($,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx(()=>[renderSlot(n.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.nsMenu.be("tooltip","trigger"))},[renderSlot(n.$slots,"default")],2)]),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(n.$slots,"default"),renderSlot(n.$slots,"title")],64))],2)}var MenuItem=_export_sfc$1(_sfc_main$1S,[["render",_sfc_render$d],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$a="ElMenuItemGroup",_sfc_main$1R=defineComponent({name:COMPONENT_NAME$a,props:menuItemGroupProps,setup(){return{ns:useNamespace("menu-item-group")}}});function _sfc_render$c(n,e,r,g,y,k){return openBlock(),createElementBlock("li",{class:normalizeClass(n.ns.b())},[createBaseVNode("div",{class:normalizeClass(n.ns.e("title"))},[n.$slots.title?renderSlot(n.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(n.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(n.$slots,"default")])],2)}var MenuItemGroup=_export_sfc$1(_sfc_main$1R,[["render",_sfc_render$c],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem),ElMenuItemGroup=withNoopInstall(MenuItemGroup),ElSubMenu=withNoopInstall(SubMenu),pageHeaderProps=buildProps({icon:{type:iconPropType,default:()=>back_default},title:String,content:{type:String,default:""}}),pageHeaderEmits={back:()=>!0},_hoisted_1$1m=["aria-label"],__default__$F=defineComponent({name:"ElPageHeader"}),_sfc_main$1Q=defineComponent({...__default__$F,props:pageHeaderProps,emits:pageHeaderEmits,setup(n,{emit:e}){const r=useSlots(),{t:g}=useLocale(),y=useNamespace("page-header"),k=computed(()=>[y.b(),{[y.m("has-breadcrumb")]:!!r.breadcrumb,[y.m("has-extra")]:!!r.extra,[y.is("contentful")]:!!r.default}]);function $(){e("back")}return(V,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(k))},[V.$slots.breadcrumb?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("breadcrumb"))},[renderSlot(V.$slots,"breadcrumb")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("left"))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("back")),role:"button",tabindex:"0",onClick:$},[V.icon||V.$slots.icon?(openBlock(),createElementBlock("div",{key:0,"aria-label":V.title||unref(g)("el.pageHeader.title"),class:normalizeClass(unref(y).e("icon"))},[renderSlot(V.$slots,"icon",{},()=>[V.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(V.icon)))]),_:1})):createCommentVNode("v-if",!0)])],10,_hoisted_1$1m)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("title"))},[renderSlot(V.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(V.title||unref(g)("el.pageHeader.title")),1)])],2)],2),createVNode(unref(ElDivider),{direction:"vertical"}),createBaseVNode("div",{class:normalizeClass(unref(y).e("content"))},[renderSlot(V.$slots,"content",{},()=>[createTextVNode(toDisplayString$1(V.content),1)])],2)],2),V.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("extra"))},[renderSlot(V.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2),V.$slots.default?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("main"))},[renderSlot(V.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var PageHeader=_export_sfc$1(_sfc_main$1Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const ElPageHeader=withInstall(PageHeader),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:n=>n instanceof MouseEvent},_hoisted_1$1l=["disabled","aria-label","aria-disabled"],_hoisted_2$1a={key:0},__default__$E=defineComponent({name:"ElPaginationPrev"}),_sfc_main$1P=defineComponent({...__default__$E,props:paginationPrevProps,emits:paginationPrevEmits,setup(n){const e=n,{t:r}=useLocale(),g=computed(()=>e.disabled||e.currentPage<=1);return(y,k)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:unref(g),"aria-label":y.prevText||unref(r)("el.pagination.prev"),"aria-disabled":unref(g),onClick:k[0]||(k[0]=$=>y.$emit("click",$))},[y.prevText?(openBlock(),createElementBlock("span",_hoisted_2$1a,toDisplayString$1(y.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.prevIcon)))]),_:1}))],8,_hoisted_1$1l))}});var Prev=_export_sfc$1(_sfc_main$1P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),_hoisted_1$1k=["disabled","aria-label","aria-disabled"],_hoisted_2$19={key:0},__default__$D=defineComponent({name:"ElPaginationNext"}),_sfc_main$1O=defineComponent({...__default__$D,props:paginationNextProps,emits:["click"],setup(n){const e=n,{t:r}=useLocale(),g=computed(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(y,k)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:unref(g),"aria-label":y.nextText||unref(r)("el.pagination.next"),"aria-disabled":unref(g),onClick:k[0]||(k[0]=$=>y.$emit("click",$))},[y.nextText?(openBlock(),createElementBlock("span",_hoisted_2$19,toDisplayString$1(y.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.nextIcon)))]),_:1}))],8,_hoisted_1$1k))}});var Next=_export_sfc$1(_sfc_main$1O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption$1(n,e){const r=inject(selectKey),g=inject(selectGroupKey,{disabled:!1}),y=computed(()=>Object.prototype.toString.call(n.value).toLowerCase()==="[object object]"),k=computed(()=>r.props.multiple?re(r.props.modelValue,n.value):oe(n.value,r.props.modelValue)),$=computed(()=>{if(r.props.multiple){const ue=r.props.modelValue||[];return!k.value&&ue.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),V=computed(()=>n.label||(y.value?"":n.value)),L=computed(()=>n.value||n.label||""),z=computed(()=>n.disabled||e.groupDisabled||$.value),j=getCurrentInstance(),re=(ue=[],pe)=>{if(y.value){const he=r.props.valueKey;return ue&&ue.some(Oe=>toRaw(get(Oe,he))===get(pe,he))}else return ue&&ue.includes(pe)},oe=(ue,pe)=>{if(y.value){const{valueKey:he}=r.props;return get(ue,he)===get(pe,he)}else return ue===pe},ae=()=>{!n.disabled&&!g.disabled&&(r.hoverIndex=r.optionsArray.indexOf(j.proxy))};watch(()=>V.value,()=>{!n.created&&!r.props.remote&&r.setSelected()}),watch(()=>n.value,(ue,pe)=>{const{remote:he,valueKey:Oe}=r.props;if(Object.is(ue,pe)||(r.onOptionDestroy(pe,j.proxy),r.onOptionCreate(j.proxy)),!n.created&&!he){if(Oe&&typeof ue=="object"&&typeof pe=="object"&&ue[Oe]===pe[Oe])return;r.setSelected()}}),watch(()=>g.disabled,()=>{e.groupDisabled=g.disabled},{immediate:!0});const{queryChange:de}=toRaw(r);return watch(de,ue=>{const{query:pe}=unref(ue),he=new RegExp(escapeStringRegexp(pe),"i");e.visible=he.test(V.value)||n.created,e.visible||r.filteredOptionsCount--},{immediate:!0}),{select:r,currentLabel:V,currentValue:L,itemSelected:k,isDisabled:z,hoverItem:ae}}const _sfc_main$1N=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=useNamespace("select"),r=computed(()=>[e.be("dropdown","item"),e.is("disabled",unref($)),{selected:unref(k),hover:unref(j)}]),g=reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:y,itemSelected:k,isDisabled:$,select:V,hoverItem:L}=useOption$1(n,g),{visible:z,hover:j}=toRefs(g),re=getCurrentInstance().proxy;V.onOptionCreate(re),onBeforeUnmount(()=>{const ae=re.value,{selected:de}=V,pe=(V.props.multiple?de:[de]).some(he=>he.value===re.value);nextTick(()=>{V.cachedOptions.get(ae)===re&&!pe&&V.cachedOptions.delete(ae)}),V.onOptionDestroy(ae,re)});function oe(){n.disabled!==!0&&g.groupDisabled!==!0&&V.handleOptionSelect(re)}return{ns:e,containerKls:r,currentLabel:y,itemSelected:k,isDisabled:$,select:V,hoverItem:L,visible:z,hover:j,selectOptionClick:oe,states:g}}});function _sfc_render$b(n,e,r,g,y,k){return withDirectives((openBlock(),createElementBlock("li",{class:normalizeClass(n.containerKls),onMouseenter:e[0]||(e[0]=(...$)=>n.hoverItem&&n.hoverItem(...$)),onClick:e[1]||(e[1]=withModifiers((...$)=>n.selectOptionClick&&n.selectOptionClick(...$),["stop"]))},[renderSlot(n.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString$1(n.currentLabel),1)])],34)),[[vShow,n.visible]])}var Option$1=_export_sfc$1(_sfc_main$1N,[["render",_sfc_render$b],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$1M=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=inject(selectKey),e=useNamespace("select"),r=computed(()=>n.props.popperClass),g=computed(()=>n.props.multiple),y=computed(()=>n.props.fitInputWidth),k=ref("");function $(){var V;k.value=`${(V=n.selectWrapper)==null?void 0:V.offsetWidth}px`}return onMounted(()=>{$(),useResizeObserver(n.selectWrapper,$)}),{ns:e,minWidth:k,popperClass:r,isMultiple:g,isFitInputWidth:y}}});function _sfc_render$a(n,e,r,g,y,k){return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:normalizeStyle({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[renderSlot(n.$slots,"default")],6)}var ElSelectMenu$1=_export_sfc$1(_sfc_main$1M,[["render",_sfc_render$a],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(n){const{t:e}=useLocale();return reactive({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:n.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const useSelect$2=(n,e,r)=>{const{t:g}=useLocale(),y=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},computed(()=>n.suffixTransition===!1));const k=ref(null),$=ref(null),V=ref(null),L=ref(null),z=ref(null),j=ref(null),re=ref(null),oe=ref(null),ae=ref(-1),de=shallowRef({query:""}),ue=shallowRef(""),pe=ref([]);let he=0;const{form:Oe,formItem:xe}=useFormItem(),$e=computed(()=>!n.filterable||n.multiple||!e.visible),Ne=computed(()=>n.disabled||Oe?.disabled),Ce=computed(()=>{const kn=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!=="";return n.clearable&&!Ne.value&&e.inputHovering&&kn}),Fe=computed(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),ze=computed(()=>y.is("reverse",Fe.value&&e.visible&&n.suffixTransition)),kt=computed(()=>Oe?.statusIcon&&xe?.validateState&&ValidateComponentsMap[xe?.validateState]),At=computed(()=>n.remote?300:0),Cn=computed(()=>n.loading?n.loadingText||g("el.select.loading"):n.remote&&e.query===""&&e.options.size===0?!1:n.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?n.noMatchText||g("el.select.noMatch"):e.options.size===0?n.noDataText||g("el.select.noData"):null),Dt=computed(()=>{const kn=Array.from(e.options.values()),zn=[];return pe.value.forEach(xn=>{const Rn=kn.findIndex(qn=>qn.currentLabel===xn);Rn>-1&&zn.push(kn[Rn])}),zn.length?zn:kn}),On=computed(()=>Array.from(e.cachedOptions.values())),jt=computed(()=>{const kn=Dt.value.filter(zn=>!zn.created).some(zn=>zn.currentLabel===e.query);return n.filterable&&n.allowCreate&&e.query!==""&&!kn}),An=useFormSize(),Mn=computed(()=>["small"].includes(An.value)?"small":"default"),$n=computed({get(){return e.visible&&Cn.value!==!1},set(kn){e.visible=kn}});watch([()=>Ne.value,()=>An.value,()=>Oe?.size],()=>{nextTick(()=>{Ln()})}),watch(()=>n.placeholder,kn=>{e.cachedPlaceHolder=e.currentPlaceholder=kn,n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(e.currentPlaceholder="")}),watch(()=>n.modelValue,(kn,zn)=>{n.multiple&&(Ln(),kn&&kn.length>0||$.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,n.filterable&&!n.reserveKeyword&&(e.query="",Tn(e.query))),Pn(),n.filterable&&!n.multiple&&(e.inputLength=20),!isEqual$1(kn,zn)&&n.validateEvent&&xe?.validate("change").catch(xn=>void 0)},{flush:"post",deep:!0}),watch(()=>e.visible,kn=>{var zn,xn,Rn,qn,nr;kn?((xn=(zn=L.value)==null?void 0:zn.updatePopper)==null||xn.call(zn),n.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=n.remote?"":e.selectedLabel,(qn=(Rn=V.value)==null?void 0:Rn.focus)==null||qn.call(Rn),n.multiple?(nr=$.value)==null||nr.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),Tn(e.query),!n.multiple&&!n.remote&&(de.value.query="",triggerRef(de),triggerRef(ue)))):(n.filterable&&(isFunction$3(n.filterMethod)&&n.filterMethod(""),isFunction$3(n.remoteMethod)&&n.remoteMethod("")),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,ur(),nextTick(()=>{$.value&&$.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),n.multiple||(e.selected&&(n.filterable&&n.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,n.filterable&&(e.query=e.selectedLabel)),n.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),r.emit("visible-change",kn)}),watch(()=>e.options.entries(),()=>{var kn,zn,xn;if(!isClient)return;(zn=(kn=L.value)==null?void 0:kn.updatePopper)==null||zn.call(kn),n.multiple&&Ln();const Rn=((xn=re.value)==null?void 0:xn.querySelectorAll("input"))||[];(!n.filterable&&!n.defaultFirstOption&&!isUndefined(n.modelValue)||!Array.from(Rn).includes(document.activeElement))&&Pn(),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&Qn()},{flush:"post"}),watch(()=>e.hoverIndex,kn=>{isNumber$1(kn)&&kn>-1?ae.value=Dt.value[kn]||{}:ae.value={},Dt.value.forEach(zn=>{zn.hover=ae.value===zn})});const Ln=()=>{nextTick(()=>{var kn,zn;if(!k.value)return;const xn=k.value.$el.querySelector("input");he=he||(xn.clientHeight>0?xn.clientHeight+2:0);const Rn=j.value,qn=getComponentSize(An.value||Oe?.size),nr=An.value||qn===he||he<=0?qn:he;!(xn.offsetParent===null)&&(xn.style.height=`${(e.selected.length===0?nr:Math.max(Rn?Rn.clientHeight+(Rn.clientHeight>nr?6:0):0,nr))-2}px`),e.visible&&Cn.value!==!1&&((zn=(kn=L.value)==null?void 0:kn.updatePopper)==null||zn.call(kn))})},Tn=async kn=>{if(!(e.previousQuery===kn||e.isOnComposition)){if(e.previousQuery===null&&(isFunction$3(n.filterMethod)||isFunction$3(n.remoteMethod))){e.previousQuery=kn;return}e.previousQuery=kn,nextTick(()=>{var zn,xn;e.visible&&((xn=(zn=L.value)==null?void 0:zn.updatePopper)==null||xn.call(zn))}),e.hoverIndex=-1,n.multiple&&n.filterable&&nextTick(()=>{if(!Ne.value){const zn=$.value.value.length*15+20;e.inputLength=n.collapseTags?Math.min(50,zn):zn,Zn()}Ln()}),n.remote&&isFunction$3(n.remoteMethod)?(e.hoverIndex=-1,n.remoteMethod(kn)):isFunction$3(n.filterMethod)?(n.filterMethod(kn),triggerRef(ue)):(e.filteredOptionsCount=e.optionsCount,de.value.query=kn,triggerRef(de),triggerRef(ue)),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&(await nextTick(),Qn())}},Zn=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=$.value.value?"":e.cachedPlaceHolder)},Qn=()=>{const kn=Dt.value.filter(Rn=>Rn.visible&&!Rn.disabled&&!Rn.states.groupDisabled),zn=kn.find(Rn=>Rn.created),xn=kn[0];e.hoverIndex=Nn(Dt.value,zn||xn)},Pn=()=>{var kn;if(n.multiple)e.selectedLabel="";else{const xn=Wn(n.modelValue);(kn=xn.props)!=null&&kn.created?(e.createdLabel=xn.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=xn.currentLabel,e.selected=xn,n.filterable&&(e.query=e.selectedLabel);return}const zn=[];Array.isArray(n.modelValue)&&n.modelValue.forEach(xn=>{zn.push(Wn(xn))}),e.selected=zn,nextTick(()=>{Ln()})},Wn=kn=>{let zn;const xn=toRawType(kn).toLowerCase()==="object",Rn=toRawType(kn).toLowerCase()==="null",qn=toRawType(kn).toLowerCase()==="undefined";for(let fr=e.cachedOptions.size-1;fr>=0;fr--){const pr=On.value[fr];if(xn?get(pr.value,n.valueKey)===get(kn,n.valueKey):pr.value===kn){zn={value:kn,currentLabel:pr.currentLabel,isDisabled:pr.isDisabled};break}}if(zn)return zn;const nr=xn?kn.label:!Rn&&!qn?kn:"",er={value:kn,currentLabel:nr};return n.multiple&&(er.hitState=!1),er},ur=()=>{setTimeout(()=>{const kn=n.valueKey;n.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(zn=>Dt.value.findIndex(xn=>get(xn,kn)===get(zn,kn)))):e.hoverIndex=-1:e.hoverIndex=Dt.value.findIndex(zn=>wn(zn)===wn(e.selected))},300)},hr=()=>{var kn,zn;Vn(),(zn=(kn=L.value)==null?void 0:kn.updatePopper)==null||zn.call(kn),n.multiple&&Ln()},Vn=()=>{var kn;e.inputWidth=(kn=k.value)==null?void 0:kn.$el.offsetWidth},En=()=>{n.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,Tn(e.query))},jn=debounce(()=>{En()},At.value),cr=debounce(kn=>{Tn(kn.target.value)},At.value),gr=kn=>{isEqual$1(n.modelValue,kn)||r.emit(CHANGE_EVENT,kn)},Cr=kn=>findLastIndex(kn,zn=>!e.disabledOptions.has(zn)),ir=kn=>{if(kn.code!==EVENT_CODE.delete){if(kn.target.value.length<=0&&!ar()){const zn=n.modelValue.slice(),xn=Cr(zn);if(xn<0)return;zn.splice(xn,1),r.emit(UPDATE_MODEL_EVENT,zn),gr(zn)}kn.target.value.length===1&&n.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}},Gn=(kn,zn)=>{const xn=e.selected.indexOf(zn);if(xn>-1&&!Ne.value){const Rn=n.modelValue.slice();Rn.splice(xn,1),r.emit(UPDATE_MODEL_EVENT,Rn),gr(Rn),r.emit("remove-tag",zn.value)}kn.stopPropagation(),le()},hn=kn=>{kn.stopPropagation();const zn=n.multiple?[]:"";if(!isString$3(zn))for(const xn of e.selected)xn.isDisabled&&zn.push(xn.value);r.emit(UPDATE_MODEL_EVENT,zn),gr(zn),e.hoverIndex=-1,e.visible=!1,r.emit("clear"),le()},Kn=kn=>{var zn;if(n.multiple){const xn=(n.modelValue||[]).slice(),Rn=Nn(xn,kn.value);Rn>-1?xn.splice(Rn,1):(n.multipleLimit<=0||xn.length<n.multipleLimit)&&xn.push(kn.value),r.emit(UPDATE_MODEL_EVENT,xn),gr(xn),kn.created&&(e.query="",Tn(""),e.inputLength=20),n.filterable&&((zn=$.value)==null||zn.focus())}else r.emit(UPDATE_MODEL_EVENT,kn.value),gr(kn.value),e.visible=!1;Lt(),!e.visible&&nextTick(()=>{_n(kn)})},Nn=(kn=[],zn)=>{if(!isObject$3(zn))return kn.indexOf(zn);const xn=n.valueKey;let Rn=-1;return kn.some((qn,nr)=>toRaw(get(qn,xn))===get(zn,xn)?(Rn=nr,!0):!1),Rn},Lt=()=>{const kn=$.value||k.value;kn&&kn?.focus()},_n=kn=>{var zn,xn,Rn,qn,nr;const er=Array.isArray(kn)?kn[0]:kn;let fr=null;if(er?.value){const pr=Dt.value.filter(_r=>_r.value===er.value);pr.length>0&&(fr=pr[0].$el)}if(L.value&&fr){const pr=(qn=(Rn=(xn=(zn=L.value)==null?void 0:zn.popperRef)==null?void 0:xn.contentRef)==null?void 0:Rn.querySelector)==null?void 0:qn.call(Rn,`.${y.be("dropdown","wrap")}`);pr&&scrollIntoView$2(pr,fr)}(nr=oe.value)==null||nr.handleScroll()},Bn=kn=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(kn.value,kn),e.cachedOptions.set(kn.value,kn),kn.disabled&&e.disabledOptions.set(kn.value,kn)},Xn=(kn,zn)=>{e.options.get(kn)===zn&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(kn))},rr=kn=>{kn.code!==EVENT_CODE.backspace&&ar(!1),e.inputLength=$.value.value.length*15+20,Ln()},ar=kn=>{if(!Array.isArray(e.selected))return;const zn=Cr(e.selected.map(Rn=>Rn.value)),xn=e.selected[zn];if(xn)return kn===!0||kn===!1?(xn.hitState=kn,kn):(xn.hitState=!xn.hitState,xn.hitState)},sr=kn=>{const zn=kn.target.value;if(kn.type==="compositionend")e.isOnComposition=!1,nextTick(()=>Tn(zn));else{const xn=zn[zn.length-1]||"";e.isOnComposition=!isKorean(xn)}},mr=()=>{nextTick(()=>_n(e.selected))},lr=kn=>{e.focused||((n.automaticDropdown||n.filterable)&&(n.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),e.focused=!0,r.emit("focus",kn))},le=()=>{var kn,zn;e.visible?(kn=$.value||k.value)==null||kn.focus():(zn=k.value)==null||zn.focus()},_e=()=>{var kn,zn,xn;e.visible=!1,(kn=k.value)==null||kn.blur(),(xn=(zn=V.value)==null?void 0:zn.blur)==null||xn.call(zn)},Ie=kn=>{var zn,xn,Rn;(zn=L.value)!=null&&zn.isFocusInsideContent(kn)||(xn=z.value)!=null&&xn.isFocusInsideContent(kn)||(Rn=re.value)!=null&&Rn.contains(kn.relatedTarget)||(e.visible&&qe(),e.focused=!1,r.emit("blur",kn))},Ue=kn=>{hn(kn)},qe=()=>{e.visible=!1},Et=kn=>{e.visible&&(kn.preventDefault(),kn.stopPropagation(),e.visible=!1)},vn=kn=>{kn&&!e.mouseEnter||Ne.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!L.value||!L.value.isFocusInsideContent())&&(e.visible=!e.visible),le())},Pt=()=>{e.visible?Dt.value[e.hoverIndex]&&Kn(Dt.value[e.hoverIndex]):vn()},wn=kn=>isObject$3(kn.value)?get(kn.value,n.valueKey):kn.value,bn=computed(()=>Dt.value.filter(kn=>kn.visible).every(kn=>kn.disabled)),In=computed(()=>e.selected.slice(0,n.maxCollapseTags)),Fn=computed(()=>e.selected.slice(n.maxCollapseTags)),Dn=kn=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!bn.value){kn==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):kn==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const zn=Dt.value[e.hoverIndex];(zn.disabled===!0||zn.states.groupDisabled===!0||!zn.visible)&&Dn(kn),nextTick(()=>_n(ae.value))}},Un=()=>{e.mouseEnter=!0},Jn=()=>{e.mouseEnter=!1},Hn=(kn,zn)=>{var xn,Rn;Gn(kn,zn),(Rn=(xn=z.value)==null?void 0:xn.updatePopper)==null||Rn.call(xn)},tr=computed(()=>({maxWidth:`${unref(e.inputWidth)-32-(kt.value?22:0)}px`,width:"100%"}));return{optionList:pe,optionsArray:Dt,selectSize:An,handleResize:hr,debouncedOnInputChange:jn,debouncedQueryChange:cr,deletePrevTag:ir,deleteTag:Gn,deleteSelected:hn,handleOptionSelect:Kn,scrollToOption:_n,readonly:$e,resetInputHeight:Ln,showClose:Ce,iconComponent:Fe,iconReverse:ze,showNewOption:jt,collapseTagSize:Mn,setSelected:Pn,managePlaceholder:Zn,selectDisabled:Ne,emptyText:Cn,toggleLastOptionHitState:ar,resetInputState:rr,handleComposition:sr,onOptionCreate:Bn,onOptionDestroy:Xn,handleMenuEnter:mr,handleFocus:lr,focus:le,blur:_e,handleBlur:Ie,handleClearClick:Ue,handleClose:qe,handleKeydownEscape:Et,toggleMenu:vn,selectOption:Pt,getValueKey:wn,navigateOptions:Dn,handleDeleteTooltipTag:Hn,dropMenuVisible:$n,queryChange:de,groupQueryChange:ue,showTagList:In,collapseTagList:Fn,selectTagsStyle:tr,reference:k,input:$,iOSInput:V,tooltipRef:L,tagTooltipRef:z,tags:j,selectWrapper:re,scrollbar:oe,handleMouseEnter:Un,handleMouseLeave:Jn}};var ElOptions=defineComponent({name:"ElOptions",emits:["update-options"],setup(n,{slots:e,emit:r}){let g=[];function y(k,$){if(k.length!==$.length)return!1;for(const[V]of k.entries())if(k[V]!=$[V])return!1;return!0}return()=>{var k,$;const V=(k=e.default)==null?void 0:k.call(e),L=[];function z(j){Array.isArray(j)&&j.forEach(re=>{var oe,ae,de,ue;const pe=(oe=re?.type||{})==null?void 0:oe.name;pe==="ElOptionGroup"?z(!isString$3(re.children)&&!Array.isArray(re.children)&&isFunction$3((ae=re.children)==null?void 0:ae.default)?(de=re.children)==null?void 0:de.default():re.children):pe==="ElOption"?L.push((ue=re.props)==null?void 0:ue.label):Array.isArray(re.children)&&z(re.children)})}return V.length&&z(($=V[0])==null?void 0:$.children),y(L,g)||(g=L,r("update-options",L)),V}}});const COMPONENT_NAME$9="ElSelect",_sfc_main$1L=defineComponent({name:COMPONENT_NAME$9,componentName:COMPONENT_NAME$9,components:{ElInput,ElSelectMenu:ElSelectMenu$1,ElOption:Option$1,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(n,e){const r=useNamespace("select"),g=useNamespace("input"),{t:y}=useLocale(),k=useSelectStates(n),{optionList:$,optionsArray:V,selectSize:L,readonly:z,handleResize:j,collapseTagSize:re,debouncedOnInputChange:oe,debouncedQueryChange:ae,deletePrevTag:de,deleteTag:ue,deleteSelected:pe,handleOptionSelect:he,scrollToOption:Oe,setSelected:xe,resetInputHeight:$e,managePlaceholder:Ne,showClose:Ce,selectDisabled:Fe,iconComponent:ze,iconReverse:kt,showNewOption:At,emptyText:Cn,toggleLastOptionHitState:Dt,resetInputState:On,handleComposition:jt,onOptionCreate:An,onOptionDestroy:Mn,handleMenuEnter:$n,handleFocus:Ln,focus:Tn,blur:Zn,handleBlur:Qn,handleClearClick:Pn,handleClose:Wn,handleKeydownEscape:ur,toggleMenu:hr,selectOption:Vn,getValueKey:En,navigateOptions:jn,handleDeleteTooltipTag:cr,dropMenuVisible:gr,reference:Cr,input:ir,iOSInput:Gn,tooltipRef:hn,tagTooltipRef:Kn,tags:Nn,selectWrapper:Lt,scrollbar:_n,queryChange:Bn,groupQueryChange:Xn,handleMouseEnter:rr,handleMouseLeave:ar,showTagList:sr,collapseTagList:mr,selectTagsStyle:lr}=useSelect$2(n,k,e),{inputWidth:le,selected:_e,inputLength:Ie,filteredOptionsCount:Ue,visible:qe,selectedLabel:Et,hoverIndex:vn,query:Pt,inputHovering:wn,currentPlaceholder:bn,menuVisibleOnFocus:In,isOnComposition:Fn,options:Dn,cachedOptions:Un,optionsCount:Jn,prefixWidth:Hn}=toRefs(k),tr=computed(()=>{const _r=[r.b()],xr=unref(L);return xr&&_r.push(r.m(xr)),n.disabled&&_r.push(r.m("disabled")),_r}),kn=computed(()=>[r.e("tags"),r.is("disabled",unref(Fe))]),zn=computed(()=>[r.b("tags-wrapper"),{"has-prefix":unref(Hn)&&unref(_e).length}]),xn=computed(()=>[r.e("input"),r.is(unref(L)),r.is("disabled",unref(Fe))]),Rn=computed(()=>[r.e("input"),r.is(unref(L)),r.em("input","iOS")]),qn=computed(()=>[r.is("empty",!n.allowCreate&&!!unref(Pt)&&unref(Ue)===0)]),nr=computed(()=>({maxWidth:`${unref(le)>123?unref(le)-123:unref(le)-75}px`})),er=computed(()=>({marginLeft:`${unref(Hn)}px`,flexGrow:1,width:`${unref(Ie)/(unref(le)-32)}%`,maxWidth:`${unref(le)-42}px`}));provide(selectKey,reactive({props:n,options:Dn,optionsArray:V,cachedOptions:Un,optionsCount:Jn,filteredOptionsCount:Ue,hoverIndex:vn,handleOptionSelect:he,onOptionCreate:An,onOptionDestroy:Mn,selectWrapper:Lt,selected:_e,setSelected:xe,queryChange:Bn,groupQueryChange:Xn})),onMounted(()=>{k.cachedPlaceHolder=bn.value=n.placeholder||(()=>y("el.select.placeholder")),n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(bn.value=""),useResizeObserver(Lt,j),n.remote&&n.multiple&&$e(),nextTick(()=>{const _r=Cr.value&&Cr.value.$el;if(_r&&(le.value=_r.getBoundingClientRect().width,e.slots.prefix)){const xr=_r.querySelector(`.${g.e("prefix")}`);Hn.value=Math.max(xr.getBoundingClientRect().width+11,30)}}),xe()}),n.multiple&&!Array.isArray(n.modelValue)&&e.emit(UPDATE_MODEL_EVENT,[]),!n.multiple&&Array.isArray(n.modelValue)&&e.emit(UPDATE_MODEL_EVENT,"");const fr=computed(()=>{var _r,xr;return(xr=(_r=hn.value)==null?void 0:_r.popperRef)==null?void 0:xr.contentRef});return{isIOS,onOptionsRendered:_r=>{$.value=_r},prefixWidth:Hn,selectSize:L,readonly:z,handleResize:j,collapseTagSize:re,debouncedOnInputChange:oe,debouncedQueryChange:ae,deletePrevTag:de,deleteTag:ue,handleDeleteTooltipTag:cr,deleteSelected:pe,handleOptionSelect:he,scrollToOption:Oe,inputWidth:le,selected:_e,inputLength:Ie,filteredOptionsCount:Ue,visible:qe,selectedLabel:Et,hoverIndex:vn,query:Pt,inputHovering:wn,currentPlaceholder:bn,menuVisibleOnFocus:In,isOnComposition:Fn,options:Dn,resetInputHeight:$e,managePlaceholder:Ne,showClose:Ce,selectDisabled:Fe,iconComponent:ze,iconReverse:kt,showNewOption:At,emptyText:Cn,toggleLastOptionHitState:Dt,resetInputState:On,handleComposition:jt,handleMenuEnter:$n,handleFocus:Ln,focus:Tn,blur:Zn,handleBlur:Qn,handleClearClick:Pn,handleClose:Wn,handleKeydownEscape:ur,toggleMenu:hr,selectOption:Vn,getValueKey:En,navigateOptions:jn,dropMenuVisible:gr,reference:Cr,input:ir,iOSInput:Gn,tooltipRef:hn,popperPaneRef:fr,tags:Nn,selectWrapper:Lt,scrollbar:_n,wrapperKls:tr,tagsKls:kn,tagWrapperKls:zn,inputKls:xn,iOSInputKls:Rn,scrollbarKls:qn,selectTagsStyle:lr,nsSelect:r,tagTextStyle:nr,inputStyle:er,handleMouseEnter:rr,handleMouseLeave:ar,showTagList:sr,collapseTagList:mr,tagTooltipRef:Kn}}}),_hoisted_1$1j=["disabled","autocomplete","aria-label"],_hoisted_2$18=["disabled"],_hoisted_3$E={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$9(n,e,r,g,y,k){const $=resolveComponent("el-tag"),V=resolveComponent("el-tooltip"),L=resolveComponent("el-icon"),z=resolveComponent("el-input"),j=resolveComponent("el-option"),re=resolveComponent("el-options"),oe=resolveComponent("el-scrollbar"),ae=resolveComponent("el-select-menu"),de=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectWrapper",class:normalizeClass(n.wrapperKls),onMouseenter:e[22]||(e[22]=(...ue)=>n.handleMouseEnter&&n.handleMouseEnter(...ue)),onMouseleave:e[23]||(e[23]=(...ue)=>n.handleMouseLeave&&n.handleMouseLeave(...ue)),onClick:e[24]||(e[24]=withModifiers((...ue)=>n.toggleMenu&&n.toggleMenu(...ue),["stop"]))},[createVNode(V,{ref:"tooltipRef",visible:n.dropMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onShow:n.handleMenuEnter},{default:withCtx(()=>[createBaseVNode("div",{class:"select-trigger",onMouseenter:e[20]||(e[20]=ue=>n.inputHovering=!0),onMouseleave:e[21]||(e[21]=ue=>n.inputHovering=!1)},[n.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"tags",tabindex:"-1",class:normalizeClass(n.tagsKls),style:normalizeStyle(n.selectTagsStyle),onClick:e[15]||(e[15]=(...ue)=>n.focus&&n.focus(...ue))},[n.collapseTags&&n.selected.length?(openBlock(),createBlock(Transition,{key:0,onAfterLeave:n.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.tagWrapperKls)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.showTagList,ue=>(openBlock(),createBlock($,{key:n.getValueKey(ue),closable:!n.selectDisabled&&!ue.isDisabled,size:n.collapseTagSize,hit:ue.hitState,type:n.tagType,"disable-transitions":"",onClose:pe=>n.deleteTag(pe,ue)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text")),style:normalizeStyle(n.tagTextStyle)},toDisplayString$1(ue.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),n.selected.length>n.maxCollapseTags?(openBlock(),createBlock($,{key:0,closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":""},{default:withCtx(()=>[n.collapseTagsTooltip?(openBlock(),createBlock(V,{key:0,ref:"tagTooltipRef",disabled:n.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text"))},"+ "+toDisplayString$1(n.selected.length-n.maxCollapseTags),3)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.nsSelect.e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.collapseTagList,ue=>(openBlock(),createElementBlock("div",{key:n.getValueKey(ue),class:normalizeClass(n.nsSelect.e("collapse-tag"))},[createVNode($,{class:"in-tooltip",closable:!n.selectDisabled&&!ue.isDisabled,size:n.collapseTagSize,hit:ue.hitState,type:n.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:pe=>n.handleDeleteTooltipTag(pe,ue)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:n.inputWidth-75+"px"})},toDisplayString$1(ue.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(n.nsSelect.e("tags-text"))},"+ "+toDisplayString$1(n.selected.length-n.maxCollapseTags),3))]),_:1},8,["size","type"])):createCommentVNode("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):createCommentVNode("v-if",!0),n.collapseTags?createCommentVNode("v-if",!0):(openBlock(),createBlock(Transition,{key:1,onAfterLeave:n.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.tagWrapperKls),style:normalizeStyle(n.prefixWidth&&n.selected.length?{marginLeft:`${n.prefixWidth}px`}:"")},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.selected,ue=>(openBlock(),createBlock($,{key:n.getValueKey(ue),closable:!n.selectDisabled&&!ue.isDisabled,size:n.collapseTagSize,hit:ue.hitState,type:n.tagType,"disable-transitions":"",onClose:pe=>n.deleteTag(pe,ue)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:n.inputWidth-75+"px"})},toDisplayString$1(ue.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),n.filterable&&!n.selectDisabled?withDirectives((openBlock(),createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":e[0]||(e[0]=ue=>n.query=ue),type:"text",class:normalizeClass(n.inputKls),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:normalizeStyle(n.inputStyle),"aria-label":n.ariaLabel,onFocus:e[1]||(e[1]=(...ue)=>n.handleFocus&&n.handleFocus(...ue)),onBlur:e[2]||(e[2]=(...ue)=>n.handleBlur&&n.handleBlur(...ue)),onKeyup:e[3]||(e[3]=(...ue)=>n.managePlaceholder&&n.managePlaceholder(...ue)),onKeydown:[e[4]||(e[4]=(...ue)=>n.resetInputState&&n.resetInputState(...ue)),e[5]||(e[5]=withKeys(withModifiers(ue=>n.navigateOptions("next"),["prevent"]),["down"])),e[6]||(e[6]=withKeys(withModifiers(ue=>n.navigateOptions("prev"),["prevent"]),["up"])),e[7]||(e[7]=withKeys((...ue)=>n.handleKeydownEscape&&n.handleKeydownEscape(...ue),["esc"])),e[8]||(e[8]=withKeys(withModifiers((...ue)=>n.selectOption&&n.selectOption(...ue),["stop","prevent"]),["enter"])),e[9]||(e[9]=withKeys((...ue)=>n.deletePrevTag&&n.deletePrevTag(...ue),["delete"])),e[10]||(e[10]=withKeys(ue=>n.visible=!1,["tab"]))],onCompositionstart:e[11]||(e[11]=(...ue)=>n.handleComposition&&n.handleComposition(...ue)),onCompositionupdate:e[12]||(e[12]=(...ue)=>n.handleComposition&&n.handleComposition(...ue)),onCompositionend:e[13]||(e[13]=(...ue)=>n.handleComposition&&n.handleComposition(...ue)),onInput:e[14]||(e[14]=(...ue)=>n.debouncedQueryChange&&n.debouncedQueryChange(...ue))},null,46,_hoisted_1$1j)),[[vModelText,n.query]]):createCommentVNode("v-if",!0)],6)):createCommentVNode("v-if",!0),createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),n.isIOS&&!n.multiple&&n.filterable&&n.readonly?(openBlock(),createElementBlock("input",{key:1,ref:"iOSInput",class:normalizeClass(n.iOSInputKls),disabled:n.selectDisabled,type:"text"},null,10,_hoisted_2$18)):createCommentVNode("v-if",!0),createVNode(z,{id:n.id,ref:"reference",modelValue:n.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=ue=>n.selectedLabel=ue),type:"text",placeholder:typeof n.currentPlaceholder=="function"?n.currentPlaceholder():n.currentPlaceholder,name:n.name,autocomplete:n.autocomplete,size:n.selectSize,disabled:n.selectDisabled,readonly:n.readonly,"validate-event":!1,class:normalizeClass([n.nsSelect.is("focus",n.visible)]),tabindex:n.multiple&&n.filterable?-1:void 0,label:n.ariaLabel,onFocus:n.handleFocus,onBlur:n.handleBlur,onInput:n.debouncedOnInputChange,onPaste:n.debouncedOnInputChange,onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onKeydown:[e[17]||(e[17]=withKeys(withModifiers(ue=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=withKeys(withModifiers(ue=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),withKeys(withModifiers(n.selectOption,["stop","prevent"]),["enter"]),withKeys(n.handleKeydownEscape,["esc"]),e[19]||(e[19]=withKeys(ue=>n.visible=!1,["tab"]))]},createSlots({suffix:withCtx(()=>[n.iconComponent&&!n.showClose?(openBlock(),createBlock(L,{key:0,class:normalizeClass([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),n.showClose&&n.clearIcon?(openBlock(),createBlock(L,{key:1,class:normalizeClass([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:2},[n.$slots.prefix?{name:"prefix",fn:withCtx(()=>[createBaseVNode("div",_hoisted_3$E,[renderSlot(n.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[withDirectives(createVNode(oe,{ref:"scrollbar",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:normalizeClass(n.scrollbarKls)},{default:withCtx(()=>[n.showNewOption?(openBlock(),createBlock(j,{key:0,value:n.query,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(re,{onUpdateOptions:n.onOptionsRendered},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[vShow,n.options.size>0&&!n.loading]]),n.emptyText&&(!n.allowCreate||n.loading||n.allowCreate&&n.options.size===0)?(openBlock(),createElementBlock(Fragment,{key:0},[n.$slots.empty?renderSlot(n.$slots,"empty",{key:0}):(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(n.nsSelect.be("dropdown","empty"))},toDisplayString$1(n.emptyText),3))],64)):createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[de,n.handleClose,n.popperPaneRef]])}var Select$1=_export_sfc$1(_sfc_main$1L,[["render",_sfc_render$9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$1K=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=useNamespace("select"),r=ref(!0),g=getCurrentInstance(),y=ref([]);provide(selectGroupKey,reactive({...toRefs(n)}));const k=inject(selectKey);onMounted(()=>{y.value=$(g.subTree)});const $=L=>{const z=[];return Array.isArray(L.children)&&L.children.forEach(j=>{var re;j.type&&j.type.name==="ElOption"&&j.component&&j.component.proxy?z.push(j.component.proxy):(re=j.children)!=null&&re.length&&z.push(...$(j))}),z},{groupQueryChange:V}=toRaw(k);return watch(V,()=>{r.value=y.value.some(L=>L.visible===!0)},{flush:"post"}),{visible:r,ns:e}}});function _sfc_render$8(n,e,r,g,y,k){return withDirectives((openBlock(),createElementBlock("ul",{class:normalizeClass(n.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(n.ns.be("group","title"))},toDisplayString$1(n.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(n.ns.b("group"))},[renderSlot(n.$slots,"default")],2)])],2)),[[vShow,n.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$1K,[["render",_sfc_render$8],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const ElSelect=withInstall(Select$1,{Option:Option$1,OptionGroup}),ElOption=withNoopInstall(Option$1),ElOptionGroup=withNoopInstall(OptionGroup),usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:componentSizes}}),__default__$C=defineComponent({name:"ElPaginationSizes"}),_sfc_main$1J=defineComponent({...__default__$C,props:paginationSizesProps,emits:["page-size-change"],setup(n,{emit:e}){const r=n,{t:g}=useLocale(),y=useNamespace("pagination"),k=usePagination(),$=ref(r.pageSize);watch(()=>r.pageSizes,(z,j)=>{if(!isEqual$1(z,j)&&Array.isArray(z)){const re=z.includes(r.pageSize)?r.pageSize:r.pageSizes[0];e("page-size-change",re)}}),watch(()=>r.pageSize,z=>{$.value=z});const V=computed(()=>r.pageSizes);function L(z){var j;z!==$.value&&($.value=z,(j=k.handleSizeChange)==null||j.call(k,Number(z)))}return(z,j)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("sizes"))},[createVNode(unref(ElSelect),{"model-value":$.value,disabled:z.disabled,"popper-class":z.popperClass,size:z.size,"validate-event":!1,onChange:L},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),re=>(openBlock(),createBlock(unref(ElOption),{key:re,value:re,label:re+unref(g)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Sizes=_export_sfc$1(_sfc_main$1J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),_hoisted_1$1i=["disabled"],__default__$B=defineComponent({name:"ElPaginationJumper"}),_sfc_main$1I=defineComponent({...__default__$B,props:paginationJumperProps,setup(n){const{t:e}=useLocale(),r=useNamespace("pagination"),{pageCount:g,disabled:y,currentPage:k,changeEvent:$}=usePagination(),V=ref(),L=computed(()=>{var re;return(re=V.value)!=null?re:k?.value});function z(re){V.value=re?+re:""}function j(re){re=Math.trunc(+re),$?.(re),V.value=void 0}return(re,oe)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("jump")),disabled:unref(y)},[createBaseVNode("span",{class:normalizeClass([unref(r).e("goto")])},toDisplayString$1(unref(e)("el.pagination.goto")),3),createVNode(unref(ElInput),{size:re.size,class:normalizeClass([unref(r).e("editor"),unref(r).is("in-pagination")]),min:1,max:unref(g),disabled:unref(y),"model-value":unref(L),"validate-event":!1,label:unref(e)("el.pagination.page"),type:"number","onUpdate:modelValue":z,onChange:j},null,8,["size","class","max","disabled","model-value","label"]),createBaseVNode("span",{class:normalizeClass([unref(r).e("classifier")])},toDisplayString$1(unref(e)("el.pagination.pageClassifier")),3)],10,_hoisted_1$1i))}});var Jumper=_export_sfc$1(_sfc_main$1I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),_hoisted_1$1h=["disabled"],__default__$A=defineComponent({name:"ElPaginationTotal"}),_sfc_main$1H=defineComponent({...__default__$A,props:paginationTotalProps,setup(n){const{t:e}=useLocale(),r=useNamespace("pagination"),{disabled:g}=usePagination();return(y,k)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("total")),disabled:unref(g)},toDisplayString$1(unref(e)("el.pagination.total",{total:y.total})),11,_hoisted_1$1h))}});var Total=_export_sfc$1(_sfc_main$1H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),_hoisted_1$1g=["onKeyup"],_hoisted_2$17=["aria-current","aria-label","tabindex"],_hoisted_3$D=["tabindex","aria-label"],_hoisted_4$y=["aria-current","aria-label","tabindex"],_hoisted_5$u=["tabindex","aria-label"],_hoisted_6$o=["aria-current","aria-label","tabindex"],__default__$z=defineComponent({name:"ElPaginationPager"}),_sfc_main$1G=defineComponent({...__default__$z,props:paginationPagerProps,emits:["change"],setup(n,{emit:e}){const r=n,g=useNamespace("pager"),y=useNamespace("icon"),{t:k}=useLocale(),$=ref(!1),V=ref(!1),L=ref(!1),z=ref(!1),j=ref(!1),re=ref(!1),oe=computed(()=>{const $e=r.pagerCount,Ne=($e-1)/2,Ce=Number(r.currentPage),Fe=Number(r.pageCount);let ze=!1,kt=!1;Fe>$e&&(Ce>$e-Ne&&(ze=!0),Ce<Fe-Ne&&(kt=!0));const At=[];if(ze&&!kt){const Cn=Fe-($e-2);for(let Dt=Cn;Dt<Fe;Dt++)At.push(Dt)}else if(!ze&&kt)for(let Cn=2;Cn<$e;Cn++)At.push(Cn);else if(ze&&kt){const Cn=Math.floor($e/2)-1;for(let Dt=Ce-Cn;Dt<=Ce+Cn;Dt++)At.push(Dt)}else for(let Cn=2;Cn<Fe;Cn++)At.push(Cn);return At}),ae=computed(()=>["more","btn-quickprev",y.b(),g.is("disabled",r.disabled)]),de=computed(()=>["more","btn-quicknext",y.b(),g.is("disabled",r.disabled)]),ue=computed(()=>r.disabled?-1:0);watchEffect(()=>{const $e=(r.pagerCount-1)/2;$.value=!1,V.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-$e&&($.value=!0),r.currentPage<r.pageCount-$e&&(V.value=!0))});function pe($e=!1){r.disabled||($e?L.value=!0:z.value=!0)}function he($e=!1){$e?j.value=!0:re.value=!0}function Oe($e){const Ne=$e.target;if(Ne.tagName.toLowerCase()==="li"&&Array.from(Ne.classList).includes("number")){const Ce=Number(Ne.textContent);Ce!==r.currentPage&&e("change",Ce)}else Ne.tagName.toLowerCase()==="li"&&Array.from(Ne.classList).includes("more")&&xe($e)}function xe($e){const Ne=$e.target;if(Ne.tagName.toLowerCase()==="ul"||r.disabled)return;let Ce=Number(Ne.textContent);const Fe=r.pageCount,ze=r.currentPage,kt=r.pagerCount-2;Ne.className.includes("more")&&(Ne.className.includes("quickprev")?Ce=ze-kt:Ne.className.includes("quicknext")&&(Ce=ze+kt)),Number.isNaN(+Ce)||(Ce<1&&(Ce=1),Ce>Fe&&(Ce=Fe)),Ce!==ze&&e("change",Ce)}return($e,Ne)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref(g).b()),onClick:xe,onKeyup:withKeys(Oe,["enter"])},[$e.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref(g).is("active",$e.currentPage===1),unref(g).is("disabled",$e.disabled)],"number"]),"aria-current":$e.currentPage===1,"aria-label":unref(k)("el.pagination.currentPage",{pager:1}),tabindex:unref(ue)}," 1 ",10,_hoisted_2$17)):createCommentVNode("v-if",!0),$.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(unref(ae)),tabindex:unref(ue),"aria-label":unref(k)("el.pagination.prevPages",{pager:$e.pagerCount-2}),onMouseenter:Ne[0]||(Ne[0]=Ce=>pe(!0)),onMouseleave:Ne[1]||(Ne[1]=Ce=>L.value=!1),onFocus:Ne[2]||(Ne[2]=Ce=>he(!0)),onBlur:Ne[3]||(Ne[3]=Ce=>j.value=!1)},[(L.value||j.value)&&!$e.disabled?(openBlock(),createBlock(unref(d_arrow_left_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_3$D)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(oe),Ce=>(openBlock(),createElementBlock("li",{key:Ce,class:normalizeClass([[unref(g).is("active",$e.currentPage===Ce),unref(g).is("disabled",$e.disabled)],"number"]),"aria-current":$e.currentPage===Ce,"aria-label":unref(k)("el.pagination.currentPage",{pager:Ce}),tabindex:unref(ue)},toDisplayString$1(Ce),11,_hoisted_4$y))),128)),V.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(unref(de)),tabindex:unref(ue),"aria-label":unref(k)("el.pagination.nextPages",{pager:$e.pagerCount-2}),onMouseenter:Ne[4]||(Ne[4]=Ce=>pe()),onMouseleave:Ne[5]||(Ne[5]=Ce=>z.value=!1),onFocus:Ne[6]||(Ne[6]=Ce=>he()),onBlur:Ne[7]||(Ne[7]=Ce=>re.value=!1)},[(z.value||re.value)&&!$e.disabled?(openBlock(),createBlock(unref(d_arrow_right_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_5$u)):createCommentVNode("v-if",!0),$e.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref(g).is("active",$e.currentPage===$e.pageCount),unref(g).is("disabled",$e.disabled)],"number"]),"aria-current":$e.currentPage===$e.pageCount,"aria-label":unref(k)("el.pagination.currentPage",{pager:$e.pageCount}),tabindex:unref(ue)},toDisplayString$1($e.pageCount),11,_hoisted_6$o)):createCommentVNode("v-if",!0)],42,_hoisted_1$1g))}});var Pager=_export_sfc$1(_sfc_main$1G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const isAbsent=n=>typeof n!="number",paginationProps=buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>isNumber$1(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),paginationEmits={"update:current-page":n=>isNumber$1(n),"update:page-size":n=>isNumber$1(n),"size-change":n=>isNumber$1(n),"current-change":n=>isNumber$1(n),"prev-click":n=>isNumber$1(n),"next-click":n=>isNumber$1(n)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(n,{emit:e,slots:r}){const{t:g}=useLocale(),y=useNamespace("pagination"),k=getCurrentInstance().vnode.props||{},$="onUpdate:currentPage"in k||"onUpdate:current-page"in k||"onCurrentChange"in k,V="onUpdate:pageSize"in k||"onUpdate:page-size"in k||"onSizeChange"in k,L=computed(()=>{if(isAbsent(n.total)&&isAbsent(n.pageCount)||!isAbsent(n.currentPage)&&!$)return!1;if(n.layout.includes("sizes")){if(isAbsent(n.pageCount)){if(!isAbsent(n.total)&&!isAbsent(n.pageSize)&&!V)return!1}else if(!V)return!1}return!0}),z=ref(isAbsent(n.defaultPageSize)?10:n.defaultPageSize),j=ref(isAbsent(n.defaultCurrentPage)?1:n.defaultCurrentPage),re=computed({get(){return isAbsent(n.pageSize)?z.value:n.pageSize},set(xe){isAbsent(n.pageSize)&&(z.value=xe),V&&(e("update:page-size",xe),e("size-change",xe))}}),oe=computed(()=>{let xe=0;return isAbsent(n.pageCount)?isAbsent(n.total)||(xe=Math.max(1,Math.ceil(n.total/re.value))):xe=n.pageCount,xe}),ae=computed({get(){return isAbsent(n.currentPage)?j.value:n.currentPage},set(xe){let $e=xe;xe<1?$e=1:xe>oe.value&&($e=oe.value),isAbsent(n.currentPage)&&(j.value=$e),$&&(e("update:current-page",$e),e("current-change",$e))}});watch(oe,xe=>{ae.value>xe&&(ae.value=xe)});function de(xe){ae.value=xe}function ue(xe){re.value=xe;const $e=oe.value;ae.value>$e&&(ae.value=$e)}function pe(){n.disabled||(ae.value-=1,e("prev-click",ae.value))}function he(){n.disabled||(ae.value+=1,e("next-click",ae.value))}function Oe(xe,$e){xe&&(xe.props||(xe.props={}),xe.props.class=[xe.props.class,$e].join(" "))}return provide(elPaginationKey,{pageCount:oe,disabled:computed(()=>n.disabled),currentPage:ae,changeEvent:de,handleSizeChange:ue}),()=>{var xe,$e;if(!L.value)return g("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&oe.value<=1)return null;const Ne=[],Ce=[],Fe=h$1("div",{class:y.e("rightwrapper")},Ce),ze={prev:h$1(Prev,{disabled:n.disabled,currentPage:ae.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:pe}),jumper:h$1(Jumper,{size:n.small?"small":"default"}),pager:h$1(Pager,{currentPage:ae.value,pageCount:oe.value,pagerCount:n.pagerCount,onChange:de,disabled:n.disabled}),next:h$1(Next,{disabled:n.disabled,currentPage:ae.value,pageCount:oe.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:he}),sizes:h$1(Sizes,{pageSize:re.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,size:n.small?"small":"default"}),slot:($e=(xe=r?.default)==null?void 0:xe.call(r))!=null?$e:null,total:h$1(Total,{total:isAbsent(n.total)?0:n.total})},kt=n.layout.split(",").map(Cn=>Cn.trim());let At=!1;return kt.forEach(Cn=>{if(Cn==="->"){At=!0;return}At?Ce.push(ze[Cn]):Ne.push(ze[Cn])}),Oe(Ne[0],y.is("first")),Oe(Ne[Ne.length-1],y.is("last")),At&&Ce.length>0&&(Oe(Ce[0],y.is("first")),Oe(Ce[Ce.length-1],y.is("last")),Ne.push(Fe)),h$1("div",{class:[y.b(),y.is("background",n.background),{[y.m("small")]:n.small}]},Ne)}}});const ElPagination=withInstall(Pagination),popconfirmProps=buildProps({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:buttonTypes,default:"primary"},cancelButtonType:{type:String,values:buttonTypes,default:"text"},icon:{type:iconPropType,default:()=>question_filled_default},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:useTooltipContentProps.teleported,persistent:useTooltipContentProps.persistent,width:{type:[String,Number],default:150}}),popconfirmEmits={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},__default__$y=defineComponent({name:"ElPopconfirm"}),_sfc_main$1F=defineComponent({...__default__$y,props:popconfirmProps,emits:popconfirmEmits,setup(n,{emit:e}){const r=n,{t:g}=useLocale(),y=useNamespace("popconfirm"),k=ref(),$=()=>{var oe,ae;(ae=(oe=k.value)==null?void 0:oe.onClose)==null||ae.call(oe)},V=computed(()=>({width:addUnit(r.width)})),L=oe=>{e("confirm",oe),$()},z=oe=>{e("cancel",oe),$()},j=computed(()=>r.confirmButtonText||g("el.popconfirm.confirmButtonText")),re=computed(()=>r.cancelButtonText||g("el.popconfirm.cancelButtonText"));return(oe,ae)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:k,trigger:"click",effect:"light"},oe.$attrs,{"popper-class":`${unref(y).namespace.value}-popover`,"popper-style":unref(V),teleported:oe.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":oe.hideAfter,persistent:oe.persistent}),{content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("main"))},[!oe.hideIcon&&oe.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("icon")),style:normalizeStyle({color:oe.iconColor})},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(oe.icon)))]),_:1},8,["class","style"])):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString$1(oe.title),1)],2),createBaseVNode("div",{class:normalizeClass(unref(y).e("action"))},[createVNode(unref(ElButton),{size:"small",type:oe.cancelButtonType==="text"?"":oe.cancelButtonType,text:oe.cancelButtonType==="text",onClick:z},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(re)),1)]),_:1},8,["type","text"]),createVNode(unref(ElButton),{size:"small",type:oe.confirmButtonType==="text"?"":oe.confirmButtonType,text:oe.confirmButtonType==="text",onClick:L},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(j)),1)]),_:1},8,["type","text"])],2)],2)]),default:withCtx(()=>[oe.$slots.reference?renderSlot(oe.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Popconfirm=_export_sfc$1(_sfc_main$1F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ElPopconfirm=withInstall(Popconfirm),popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":n=>isBoolean$1(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$x=defineComponent({name:"ElPopover"}),_sfc_main$1E=defineComponent({...__default__$x,props:popoverProps,emits:popoverEmits,setup(n,{expose:e,emit:r}){const g=n,y=computed(()=>g[updateEventKeyRaw]),k=useNamespace("popover"),$=ref(),V=computed(()=>{var pe;return(pe=unref($))==null?void 0:pe.popperRef}),L=computed(()=>[{width:addUnit(g.width)},g.popperStyle]),z=computed(()=>[k.b(),g.popperClass,{[k.m("plain")]:!!g.content}]),j=computed(()=>g.transition===`${k.namespace.value}-fade-in-linear`),re=()=>{var pe;(pe=$.value)==null||pe.hide()},oe=()=>{r("before-enter")},ae=()=>{r("before-leave")},de=()=>{r("after-enter")},ue=()=>{r("update:visible",!1),r("after-leave")};return e({popperRef:V,hide:re}),(pe,he)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:$},pe.$attrs,{trigger:pe.trigger,placement:pe.placement,disabled:pe.disabled,visible:pe.visible,transition:pe.transition,"popper-options":pe.popperOptions,tabindex:pe.tabindex,content:pe.content,offset:pe.offset,"show-after":pe.showAfter,"hide-after":pe.hideAfter,"auto-close":pe.autoClose,"show-arrow":pe.showArrow,"aria-label":pe.title,effect:pe.effect,enterable:pe.enterable,"popper-class":unref(z),"popper-style":unref(L),teleported:pe.teleported,persistent:pe.persistent,"gpu-acceleration":unref(j),"onUpdate:visible":unref(y),onBeforeShow:oe,onBeforeHide:ae,onShow:de,onHide:ue}),{content:withCtx(()=>[pe.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).e("title")),role:"title"},toDisplayString$1(pe.title),3)):createCommentVNode("v-if",!0),renderSlot(pe.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(pe.content),1)])]),default:withCtx(()=>[pe.$slots.reference?renderSlot(pe.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc$1(_sfc_main$1E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const attachEvents=(n,e)=>{const r=e.arg||e.value,g=r?.popperRef;g&&(g.triggerRef=n)};var PopoverDirective={mounted(n,e){attachEvents(n,e)},updated(n,e){attachEvents(n,e)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:n=>`${n}%`}}),_hoisted_1$1f=["aria-valuenow"],_hoisted_2$16={viewBox:"0 0 100 100"},_hoisted_3$C=["d","stroke","stroke-linecap","stroke-width"],_hoisted_4$x=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$t={key:0},__default__$w=defineComponent({name:"ElProgress"}),_sfc_main$1D=defineComponent({...__default__$w,props:progressProps,setup(n){const e=n,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},g=useNamespace("progress"),y=computed(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:Oe(e.percentage)})),k=computed(()=>(e.strokeWidth/e.width*100).toFixed(1)),$=computed(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(k.value)/2}`,10):0),V=computed(()=>{const xe=$.value,$e=e.type==="dashboard";return`
          M 50 50
          m 0 ${$e?"":"-"}${xe}
          a ${xe} ${xe} 0 1 1 0 ${$e?"-":""}${xe*2}
          a ${xe} ${xe} 0 1 1 0 ${$e?"":"-"}${xe*2}
          `}),L=computed(()=>2*Math.PI*$.value),z=computed(()=>e.type==="dashboard"?.75:1),j=computed(()=>`${-1*L.value*(1-z.value)/2}px`),re=computed(()=>({strokeDasharray:`${L.value*z.value}px, ${L.value}px`,strokeDashoffset:j.value})),oe=computed(()=>({strokeDasharray:`${L.value*z.value*(e.percentage/100)}px, ${L.value}px`,strokeDashoffset:j.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),ae=computed(()=>{let xe;return e.color?xe=Oe(e.percentage):xe=r[e.status]||r.default,xe}),de=computed(()=>e.status==="warning"?warning_filled_default:e.type==="line"?e.status==="success"?circle_check_default:circle_close_default:e.status==="success"?check_default:close_default),ue=computed(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),pe=computed(()=>e.format(e.percentage));function he(xe){const $e=100/xe.length;return xe.map((Ce,Fe)=>isString$3(Ce)?{color:Ce,percentage:(Fe+1)*$e}:Ce).sort((Ce,Fe)=>Ce.percentage-Fe.percentage)}const Oe=xe=>{var $e;const{color:Ne}=e;if(isFunction$3(Ne))return Ne(xe);if(isString$3(Ne))return Ne;{const Ce=he(Ne);for(const Fe of Ce)if(Fe.percentage>xe)return Fe.color;return($e=Ce[Ce.length-1])==null?void 0:$e.color}};return(xe,$e)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(xe.type),unref(g).is(xe.status),{[unref(g).m("without-text")]:!xe.showText,[unref(g).m("text-inside")]:xe.textInside}]),role:"progressbar","aria-valuenow":xe.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[xe.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(g).be("bar","outer")),style:normalizeStyle({height:`${xe.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(g).be("bar","inner"),{[unref(g).bem("bar","inner","indeterminate")]:xe.indeterminate},{[unref(g).bem("bar","inner","striped")]:xe.striped},{[unref(g).bem("bar","inner","striped-flow")]:xe.stripedFlow}]),style:normalizeStyle(unref(y))},[(xe.showText||xe.$slots.default)&&xe.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).be("bar","innerText"))},[renderSlot(xe.$slots,"default",{percentage:xe.percentage},()=>[createBaseVNode("span",null,toDisplayString$1(unref(pe)),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).b("circle")),style:normalizeStyle({height:`${xe.width}px`,width:`${xe.width}px`})},[(openBlock(),createElementBlock("svg",_hoisted_2$16,[createBaseVNode("path",{class:normalizeClass(unref(g).be("circle","track")),d:unref(V),stroke:`var(${unref(g).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":xe.strokeLinecap,"stroke-width":unref(k),fill:"none",style:normalizeStyle(unref(re))},null,14,_hoisted_3$C),createBaseVNode("path",{class:normalizeClass(unref(g).be("circle","path")),d:unref(V),stroke:unref(ae),fill:"none",opacity:xe.percentage?1:0,"stroke-linecap":xe.strokeLinecap,"stroke-width":unref(k),style:normalizeStyle(unref(oe))},null,14,_hoisted_4$x)]))],6)),(xe.showText||xe.$slots.default)&&!xe.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(g).e("text")),style:normalizeStyle({fontSize:`${unref(ue)}px`})},[renderSlot(xe.$slots,"default",{percentage:xe.percentage},()=>[xe.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de))))]),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$t,toDisplayString$1(unref(pe)),1))])],6)):createCommentVNode("v-if",!0)],10,_hoisted_1$1f))}});var Progress=_export_sfc$1(_sfc_main$1D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ElProgress=withInstall(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),rateEmits={[CHANGE_EVENT]:n=>isNumber$1(n),[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)},_hoisted_1$1e=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],_hoisted_2$15=["onMousemove","onClick"],__default__$v=defineComponent({name:"ElRate"}),_sfc_main$1C=defineComponent({...__default__$v,props:rateProps,emits:rateEmits,setup(n,{expose:e,emit:r}){const g=n;function y(Mn,$n){const Ln=Qn=>isObject$3(Qn),Tn=Object.keys($n).map(Qn=>+Qn).filter(Qn=>{const Pn=$n[Qn];return(Ln(Pn)?Pn.excluded:!1)?Mn<Qn:Mn<=Qn}).sort((Qn,Pn)=>Qn-Pn),Zn=$n[Tn[0]];return Ln(Zn)&&Zn.value||Zn}const k=inject(formContextKey,void 0),$=inject(formItemContextKey,void 0),V=useFormSize(),L=useNamespace("rate"),{inputId:z,isLabeledByFormItem:j}=useFormItemInputId(g,{formItemContext:$}),re=ref(g.modelValue),oe=ref(-1),ae=ref(!0),de=computed(()=>[L.b(),L.m(V.value)]),ue=computed(()=>g.disabled||k?.disabled),pe=computed(()=>L.cssVarBlock({"void-color":g.voidColor,"disabled-void-color":g.disabledVoidColor,"fill-color":$e.value})),he=computed(()=>{let Mn="";return g.showScore?Mn=g.scoreTemplate.replace(/\{\s*value\s*\}/,ue.value?`${g.modelValue}`:`${re.value}`):g.showText&&(Mn=g.texts[Math.ceil(re.value)-1]),Mn}),Oe=computed(()=>g.modelValue*100-Math.floor(g.modelValue)*100),xe=computed(()=>isArray$3(g.colors)?{[g.lowThreshold]:g.colors[0],[g.highThreshold]:{value:g.colors[1],excluded:!0},[g.max]:g.colors[2]}:g.colors),$e=computed(()=>{const Mn=y(re.value,xe.value);return isObject$3(Mn)?"":Mn}),Ne=computed(()=>{let Mn="";return ue.value?Mn=`${Oe.value}%`:g.allowHalf&&(Mn="50%"),{color:$e.value,width:Mn}}),Ce=computed(()=>{let Mn=isArray$3(g.icons)?[...g.icons]:{...g.icons};return Mn=markRaw(Mn),isArray$3(Mn)?{[g.lowThreshold]:Mn[0],[g.highThreshold]:{value:Mn[1],excluded:!0},[g.max]:Mn[2]}:Mn}),Fe=computed(()=>y(g.modelValue,Ce.value)),ze=computed(()=>ue.value?isString$3(g.disabledVoidIcon)?g.disabledVoidIcon:markRaw(g.disabledVoidIcon):isString$3(g.voidIcon)?g.voidIcon:markRaw(g.voidIcon)),kt=computed(()=>y(re.value,Ce.value));function At(Mn){const $n=ue.value&&Oe.value>0&&Mn-1<g.modelValue&&Mn>g.modelValue,Ln=g.allowHalf&&ae.value&&Mn-.5<=re.value&&Mn>re.value;return $n||Ln}function Cn(Mn){g.clearable&&Mn===g.modelValue&&(Mn=0),r(UPDATE_MODEL_EVENT,Mn),g.modelValue!==Mn&&r("change",Mn)}function Dt(Mn){ue.value||(g.allowHalf&&ae.value?Cn(re.value):Cn(Mn))}function On(Mn){if(ue.value)return;let $n=re.value;const Ln=Mn.code;return Ln===EVENT_CODE.up||Ln===EVENT_CODE.right?(g.allowHalf?$n+=.5:$n+=1,Mn.stopPropagation(),Mn.preventDefault()):(Ln===EVENT_CODE.left||Ln===EVENT_CODE.down)&&(g.allowHalf?$n-=.5:$n-=1,Mn.stopPropagation(),Mn.preventDefault()),$n=$n<0?0:$n,$n=$n>g.max?g.max:$n,r(UPDATE_MODEL_EVENT,$n),r("change",$n),$n}function jt(Mn,$n){if(!ue.value){if(g.allowHalf&&$n){let Ln=$n.target;hasClass(Ln,L.e("item"))&&(Ln=Ln.querySelector(`.${L.e("icon")}`)),(Ln.clientWidth===0||hasClass(Ln,L.e("decimal")))&&(Ln=Ln.parentNode),ae.value=$n.offsetX*2<=Ln.clientWidth,re.value=ae.value?Mn-.5:Mn}else re.value=Mn;oe.value=Mn}}function An(){ue.value||(g.allowHalf&&(ae.value=g.modelValue!==Math.floor(g.modelValue)),re.value=g.modelValue,oe.value=-1)}return watch(()=>g.modelValue,Mn=>{re.value=Mn,ae.value=g.modelValue!==Math.floor(g.modelValue)}),g.modelValue||r(UPDATE_MODEL_EVENT,0),e({setCurrentValue:jt,resetCurrentValue:An}),(Mn,$n)=>{var Ln;return openBlock(),createElementBlock("div",{id:unref(z),class:normalizeClass([unref(de),unref(L).is("disabled",unref(ue))]),role:"slider","aria-label":unref(j)?void 0:Mn.label||"rating","aria-labelledby":unref(j)?(Ln=unref($))==null?void 0:Ln.labelId:void 0,"aria-valuenow":re.value,"aria-valuetext":unref(he)||void 0,"aria-valuemin":"0","aria-valuemax":Mn.max,tabindex:"0",style:normalizeStyle(unref(pe)),onKeydown:On},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Mn.max,(Tn,Zn)=>(openBlock(),createElementBlock("span",{key:Zn,class:normalizeClass(unref(L).e("item")),onMousemove:Qn=>jt(Tn,Qn),onMouseleave:An,onClick:Qn=>Dt(Tn)},[createVNode(unref(ElIcon),{class:normalizeClass([unref(L).e("icon"),{hover:oe.value===Tn},unref(L).is("active",Tn<=re.value)])},{default:withCtx(()=>[At(Tn)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(kt)),null,null,512)),[[vShow,Tn<=re.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(ze)),null,null,512)),[[vShow,!(Tn<=re.value)]])],64)),At(Tn)?(openBlock(),createBlock(unref(ElIcon),{key:1,style:normalizeStyle(unref(Ne)),class:normalizeClass([unref(L).e("icon"),unref(L).e("decimal")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Fe))))]),_:1},8,["style","class"])):createCommentVNode("v-if",!0)]),_:2},1032,["class"])],42,_hoisted_2$15))),128)),Mn.showText||Mn.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(L).e("text"))},toDisplayString$1(unref(he)),3)):createCommentVNode("v-if",!0)],46,_hoisted_1$1e)}}});var Rate=_export_sfc$1(_sfc_main$1C,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ElRate=withInstall(Rate),IconMap={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IconComponentMap={[IconMap.success]:circle_check_filled_default,[IconMap.warning]:warning_filled_default,[IconMap.error]:circle_close_filled_default,[IconMap.info]:info_filled_default},resultProps=buildProps({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),__default__$u=defineComponent({name:"ElResult"}),_sfc_main$1B=defineComponent({...__default__$u,props:resultProps,setup(n){const e=n,r=useNamespace("result"),g=computed(()=>{const y=e.icon,k=y&&IconMap[y]?IconMap[y]:"icon-info",$=IconComponentMap[k]||IconComponentMap["icon-info"];return{class:k,component:$}});return(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[createBaseVNode("div",{class:normalizeClass(unref(r).e("icon"))},[renderSlot(y.$slots,"icon",{},()=>[unref(g).component?(openBlock(),createBlock(resolveDynamicComponent(unref(g).component),{key:0,class:normalizeClass(unref(g).class)},null,8,["class"])):createCommentVNode("v-if",!0)])],2),y.title||y.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("title"))},[renderSlot(y.$slots,"title",{},()=>[createBaseVNode("p",null,toDisplayString$1(y.title),1)])],2)):createCommentVNode("v-if",!0),y.subTitle||y.$slots["sub-title"]?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("subtitle"))},[renderSlot(y.$slots,"sub-title",{},()=>[createBaseVNode("p",null,toDisplayString$1(y.subTitle),1)])],2)):createCommentVNode("v-if",!0),y.$slots.extra?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(r).e("extra"))},[renderSlot(y.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2))}});var Result=_export_sfc$1(_sfc_main$1B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const ElResult=withInstall(Result);var safeIsNaN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function isEqual(n,e){return!!(n===e||safeIsNaN(n)&&safeIsNaN(e))}function areInputsEqual(n,e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(!isEqual(n[r],e[r]))return!1;return!0}function memoizeOne(n,e){e===void 0&&(e=areInputsEqual);var r=null;function g(){for(var y=[],k=0;k<arguments.length;k++)y[k]=arguments[k];if(r&&r.lastThis===this&&e(y,r.lastArgs))return r.lastResult;var $=n.apply(this,y);return r={lastResult:$,lastArgs:y,lastThis:this},$}return g.clear=function(){r=null},g}const useCache=()=>{const e=getCurrentInstance().proxy.$props;return computed(()=>{const r=(g,y,k)=>({});return e.perfMode?memoize(r):memoizeOne(r)})},DEFAULT_DYNAMIC_LIST_ITEM_SIZE=50,ITEM_RENDER_EVT="itemRendered",SCROLL_EVT="scroll",FORWARD="forward",BACKWARD="backward",AUTO_ALIGNMENT="auto",SMART_ALIGNMENT="smart",START_ALIGNMENT="start",CENTERED_ALIGNMENT="center",END_ALIGNMENT="end",HORIZONTAL="horizontal",VERTICAL="vertical",LTR$1="ltr",RTL$1="rtl",RTL_OFFSET_NAG="negative",RTL_OFFSET_POS_ASC="positive-ascending",RTL_OFFSET_POS_DESC="positive-descending",ScrollbarDirKey={[HORIZONTAL]:"left",[VERTICAL]:"top"},SCROLLBAR_MIN_SIZE=20,LayoutKeys={[HORIZONTAL]:"deltaX",[VERTICAL]:"deltaY"},useWheel=({atEndEdge:n,atStartEdge:e,layout:r},g)=>{let y,k=0;const $=L=>L<0&&e.value||L>0&&n.value;return{hasReachedEdge:$,onWheel:L=>{cAF(y);const z=L[LayoutKeys[r.value]];$(k)&&$(k+z)||(k+=z,isFirefox()||L.preventDefault(),y=rAF(()=>{g(k),k=0}))}}},itemSize$1=buildProp({type:definePropType([Number,Function]),required:!0}),estimatedItemSize=buildProp({type:Number}),cache$2=buildProp({type:Number,default:2}),direction=buildProp({type:String,values:["ltr","rtl"],default:"ltr"}),initScrollOffset=buildProp({type:Number,default:0}),total=buildProp({type:Number,required:!0}),layout=buildProp({type:String,values:["horizontal","vertical"],default:VERTICAL}),virtualizedProps=buildProps({className:{type:String,default:""},containerElement:{type:definePropType([String,Object]),default:"div"},data:{type:definePropType(Array),default:()=>mutable([])},direction,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:definePropType([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),virtualizedListProps=buildProps({cache:cache$2,estimatedItemSize,layout,initScrollOffset,total,itemSize:itemSize$1,...virtualizedProps}),scrollbarSize={type:Number,default:6},startGap={type:Number,default:0},endGap={type:Number,default:2},virtualizedGridProps=buildProps({columnCache:cache$2,columnWidth:itemSize$1,estimatedColumnWidth:estimatedItemSize,estimatedRowHeight:estimatedItemSize,initScrollLeft:initScrollOffset,initScrollTop:initScrollOffset,itemKey:{type:definePropType(Function),default:({columnIndex:n,rowIndex:e})=>`${e}:${n}`},rowCache:cache$2,rowHeight:itemSize$1,totalColumn:total,totalRow:total,hScrollbarSize:scrollbarSize,vScrollbarSize:scrollbarSize,scrollbarStartGap:startGap,scrollbarEndGap:endGap,role:String,...virtualizedProps}),virtualizedScrollbarProps=buildProps({alwaysOn:Boolean,class:String,layout,total,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize,startGap,endGap,visible:Boolean}),getScrollDir=(n,e)=>n<e?FORWARD:BACKWARD,isHorizontal=n=>n===LTR$1||n===RTL$1||n===HORIZONTAL,isRTL=n=>n===RTL$1;let cachedRTLResult=null;function getRTLOffsetType(n=!1){if(cachedRTLResult===null||n){const e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";const g=document.createElement("div"),y=g.style;return y.width="100px",y.height="100px",e.appendChild(g),document.body.appendChild(e),e.scrollLeft>0?cachedRTLResult=RTL_OFFSET_POS_DESC:(e.scrollLeft=1,e.scrollLeft===0?cachedRTLResult=RTL_OFFSET_NAG:cachedRTLResult=RTL_OFFSET_POS_ASC),document.body.removeChild(e),cachedRTLResult}return cachedRTLResult}function renderThumbStyle({move:n,size:e,bar:r},g){const y={},k=`translate${r.axis}(${n}px)`;return y[r.size]=e,y.transform=k,y.msTransform=k,y.webkitTransform=k,g==="horizontal"?y.height="100%":y.width="100%",y}const ScrollBar=defineComponent({name:"ElVirtualScrollBar",props:virtualizedScrollbarProps,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const r=computed(()=>n.startGap+n.endGap),g=useNamespace("virtual-scrollbar"),y=useNamespace("scrollbar"),k=ref(),$=ref();let V=null,L=null;const z=reactive({isDragging:!1,traveled:0}),j=computed(()=>BAR_MAP[n.layout]),re=computed(()=>n.clientSize-unref(r)),oe=computed(()=>({position:"absolute",width:`${HORIZONTAL===n.layout?re.value:n.scrollbarSize}px`,height:`${HORIZONTAL===n.layout?n.scrollbarSize:re.value}px`,[ScrollbarDirKey[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),ae=computed(()=>{const Ce=n.ratio,Fe=n.clientSize;if(Ce>=100)return Number.POSITIVE_INFINITY;if(Ce>=50)return Ce*Fe/100;const ze=Fe/3;return Math.floor(Math.min(Math.max(Ce*Fe,SCROLLBAR_MIN_SIZE),ze))}),de=computed(()=>{if(!Number.isFinite(ae.value))return{display:"none"};const Ce=`${ae.value}px`;return renderThumbStyle({bar:j.value,size:Ce,move:z.traveled},n.layout)}),ue=computed(()=>Math.floor(n.clientSize-ae.value-unref(r))),pe=()=>{window.addEventListener("mousemove",$e),window.addEventListener("mouseup",xe);const Ce=unref($);Ce&&(L=document.onselectstart,document.onselectstart=()=>!1,Ce.addEventListener("touchmove",$e),Ce.addEventListener("touchend",xe))},he=()=>{window.removeEventListener("mousemove",$e),window.removeEventListener("mouseup",xe),document.onselectstart=L,L=null;const Ce=unref($);Ce&&(Ce.removeEventListener("touchmove",$e),Ce.removeEventListener("touchend",xe))},Oe=Ce=>{Ce.stopImmediatePropagation(),!(Ce.ctrlKey||[1,2].includes(Ce.button))&&(z.isDragging=!0,z[j.value.axis]=Ce.currentTarget[j.value.offset]-(Ce[j.value.client]-Ce.currentTarget.getBoundingClientRect()[j.value.direction]),e("start-move"),pe())},xe=()=>{z.isDragging=!1,z[j.value.axis]=0,e("stop-move"),he()},$e=Ce=>{const{isDragging:Fe}=z;if(!Fe||!$.value||!k.value)return;const ze=z[j.value.axis];if(!ze)return;cAF(V);const kt=(k.value.getBoundingClientRect()[j.value.direction]-Ce[j.value.client])*-1,At=$.value[j.value.offset]-ze,Cn=kt-At;V=rAF(()=>{z.traveled=Math.max(n.startGap,Math.min(Cn,ue.value)),e("scroll",Cn,ue.value)})},Ne=Ce=>{const Fe=Math.abs(Ce.target.getBoundingClientRect()[j.value.direction]-Ce[j.value.client]),ze=$.value[j.value.offset]/2,kt=Fe-ze;z.traveled=Math.max(0,Math.min(kt,ue.value)),e("scroll",kt,ue.value)};return watch(()=>n.scrollFrom,Ce=>{z.isDragging||(z.traveled=Math.ceil(Ce*ue.value))}),onBeforeUnmount(()=>{he()}),()=>h$1("div",{role:"presentation",ref:k,class:[g.b(),n.class,(n.alwaysOn||z.isDragging)&&"always-on"],style:oe.value,onMousedown:withModifiers(Ne,["stop","prevent"]),onTouchstartPrevent:Oe},h$1("div",{ref:$,class:y.e("thumb"),style:de.value,onMousedown:Oe},[]))}}),createList=({name:n,getOffset:e,getItemSize:r,getItemOffset:g,getEstimatedTotalSize:y,getStartIndexForOffset:k,getStopIndexForStartIndex:$,initCache:V,clearCache:L,validateProps:z})=>defineComponent({name:n??"ElVirtualList",props:virtualizedListProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(j,{emit:re,expose:oe}){z(j);const ae=getCurrentInstance(),de=useNamespace("vl"),ue=ref(V(j,ae)),pe=useCache(),he=ref(),Oe=ref(),xe=ref(),$e=ref({isScrolling:!1,scrollDir:"forward",scrollOffset:isNumber$1(j.initScrollOffset)?j.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:j.scrollbarAlwaysOn}),Ne=computed(()=>{const{total:Wn,cache:ur}=j,{isScrolling:hr,scrollDir:Vn,scrollOffset:En}=unref($e);if(Wn===0)return[0,0,0,0];const jn=k(j,En,unref(ue)),cr=$(j,jn,En,unref(ue)),gr=!hr||Vn===BACKWARD?Math.max(1,ur):1,Cr=!hr||Vn===FORWARD?Math.max(1,ur):1;return[Math.max(0,jn-gr),Math.max(0,Math.min(Wn-1,cr+Cr)),jn,cr]}),Ce=computed(()=>y(j,unref(ue))),Fe=computed(()=>isHorizontal(j.layout)),ze=computed(()=>[{position:"relative",[`overflow-${Fe.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:j.direction,height:isNumber$1(j.height)?`${j.height}px`:j.height,width:isNumber$1(j.width)?`${j.width}px`:j.width},j.style]),kt=computed(()=>{const Wn=unref(Ce),ur=unref(Fe);return{height:ur?"100%":`${Wn}px`,pointerEvents:unref($e).isScrolling?"none":void 0,width:ur?`${Wn}px`:"100%"}}),At=computed(()=>Fe.value?j.width:j.height),{onWheel:Cn}=useWheel({atStartEdge:computed(()=>$e.value.scrollOffset<=0),atEndEdge:computed(()=>$e.value.scrollOffset>=Ce.value),layout:computed(()=>j.layout)},Wn=>{var ur,hr;(hr=(ur=xe.value).onMouseUp)==null||hr.call(ur),$n(Math.min($e.value.scrollOffset+Wn,Ce.value-At.value))}),Dt=()=>{const{total:Wn}=j;if(Wn>0){const[En,jn,cr,gr]=unref(Ne);re(ITEM_RENDER_EVT,En,jn,cr,gr)}const{scrollDir:ur,scrollOffset:hr,updateRequested:Vn}=unref($e);re(SCROLL_EVT,ur,hr,Vn)},On=Wn=>{const{clientHeight:ur,scrollHeight:hr,scrollTop:Vn}=Wn.currentTarget,En=unref($e);if(En.scrollOffset===Vn)return;const jn=Math.max(0,Math.min(Vn,hr-ur));$e.value={...En,isScrolling:!0,scrollDir:getScrollDir(En.scrollOffset,jn),scrollOffset:jn,updateRequested:!1},nextTick(Zn)},jt=Wn=>{const{clientWidth:ur,scrollLeft:hr,scrollWidth:Vn}=Wn.currentTarget,En=unref($e);if(En.scrollOffset===hr)return;const{direction:jn}=j;let cr=hr;if(jn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{cr=-hr;break}case RTL_OFFSET_POS_DESC:{cr=Vn-ur-hr;break}}cr=Math.max(0,Math.min(cr,Vn-ur)),$e.value={...En,isScrolling:!0,scrollDir:getScrollDir(En.scrollOffset,cr),scrollOffset:cr,updateRequested:!1},nextTick(Zn)},An=Wn=>{unref(Fe)?jt(Wn):On(Wn),Dt()},Mn=(Wn,ur)=>{const hr=(Ce.value-At.value)/ur*Wn;$n(Math.min(Ce.value-At.value,hr))},$n=Wn=>{Wn=Math.max(Wn,0),Wn!==unref($e).scrollOffset&&($e.value={...unref($e),scrollOffset:Wn,scrollDir:getScrollDir(unref($e).scrollOffset,Wn),updateRequested:!0},nextTick(Zn))},Ln=(Wn,ur=AUTO_ALIGNMENT)=>{const{scrollOffset:hr}=unref($e);Wn=Math.max(0,Math.min(Wn,j.total-1)),$n(e(j,Wn,ur,hr,unref(ue)))},Tn=Wn=>{const{direction:ur,itemSize:hr,layout:Vn}=j,En=pe.value(L&&hr,L&&Vn,L&&ur);let jn;if(hasOwn$1(En,String(Wn)))jn=En[Wn];else{const cr=g(j,Wn,unref(ue)),gr=r(j,Wn,unref(ue)),Cr=unref(Fe),ir=ur===RTL$1,Gn=Cr?cr:0;En[Wn]=jn={position:"absolute",left:ir?void 0:`${Gn}px`,right:ir?`${Gn}px`:void 0,top:Cr?0:`${cr}px`,height:Cr?"100%":`${gr}px`,width:Cr?`${gr}px`:"100%"}}return jn},Zn=()=>{$e.value.isScrolling=!1,nextTick(()=>{pe.value(-1,null,null)})},Qn=()=>{const Wn=he.value;Wn&&(Wn.scrollTop=0)};onMounted(()=>{if(!isClient)return;const{initScrollOffset:Wn}=j,ur=unref(he);isNumber$1(Wn)&&ur&&(unref(Fe)?ur.scrollLeft=Wn:ur.scrollTop=Wn),Dt()}),onUpdated(()=>{const{direction:Wn,layout:ur}=j,{scrollOffset:hr,updateRequested:Vn}=unref($e),En=unref(he);if(Vn&&En)if(ur===HORIZONTAL)if(Wn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{En.scrollLeft=-hr;break}case RTL_OFFSET_POS_ASC:{En.scrollLeft=hr;break}default:{const{clientWidth:jn,scrollWidth:cr}=En;En.scrollLeft=cr-jn-hr;break}}else En.scrollLeft=hr;else En.scrollTop=hr});const Pn={ns:de,clientSize:At,estimatedTotalSize:Ce,windowStyle:ze,windowRef:he,innerRef:Oe,innerStyle:kt,itemsToRender:Ne,scrollbarRef:xe,states:$e,getItemStyle:Tn,onScroll:An,onScrollbarScroll:Mn,onWheel:Cn,scrollTo:$n,scrollToItem:Ln,resetScrollTop:Qn};return oe({windowRef:he,innerRef:Oe,getItemStyleCache:pe,scrollTo:$n,scrollToItem:Ln,resetScrollTop:Qn,states:$e}),Pn},render(j){var re;const{$slots:oe,className:ae,clientSize:de,containerElement:ue,data:pe,getItemStyle:he,innerElement:Oe,itemsToRender:xe,innerStyle:$e,layout:Ne,total:Ce,onScroll:Fe,onScrollbarScroll:ze,onWheel:kt,states:At,useIsScrolling:Cn,windowStyle:Dt,ns:On}=j,[jt,An]=xe,Mn=resolveDynamicComponent(ue),$n=resolveDynamicComponent(Oe),Ln=[];if(Ce>0)for(let Pn=jt;Pn<=An;Pn++)Ln.push((re=oe.default)==null?void 0:re.call(oe,{data:pe,key:Pn,index:Pn,isScrolling:Cn?At.isScrolling:void 0,style:he(Pn)}));const Tn=[h$1($n,{style:$e,ref:"innerRef"},isString$3($n)?Ln:{default:()=>Ln})],Zn=h$1(ScrollBar,{ref:"scrollbarRef",clientSize:de,layout:Ne,onScroll:ze,ratio:de*100/this.estimatedTotalSize,scrollFrom:At.scrollOffset/(this.estimatedTotalSize-de),total:Ce}),Qn=h$1(Mn,{class:[On.e("window"),ae],style:Dt,onScroll:Fe,onWheel:kt,ref:"windowRef",key:0},isString$3(Mn)?[Tn]:{default:()=>[Tn]});return h$1("div",{key:0,class:[On.e("wrapper"),At.scrollbarAlwaysOn?"always-on":""]},[Qn,Zn])}}),FixedSizeList=createList({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:r,layout:g,width:y},k,$,V)=>{const L=isHorizontal(g)?y:n,z=Math.max(0,e*r-L),j=Math.min(z,k*r),re=Math.max(0,(k+1)*r-L);switch($===SMART_ALIGNMENT&&(V>=re-L&&V<=j+L?$=AUTO_ALIGNMENT:$=CENTERED_ALIGNMENT),$){case START_ALIGNMENT:return j;case END_ALIGNMENT:return re;case CENTERED_ALIGNMENT:{const oe=Math.round(re+(j-re)/2);return oe<Math.ceil(L/2)?0:oe>z+Math.floor(L/2)?z:oe}case AUTO_ALIGNMENT:default:return V>=re&&V<=j?V:V<re?re:j}},getStartIndexForOffset:({total:n,itemSize:e},r)=>Math.max(0,Math.min(n-1,Math.floor(r/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:r,layout:g,width:y},k,$)=>{const V=k*r,L=isHorizontal(g)?y:n,z=Math.ceil((L+$-V)/r);return Math.max(0,Math.min(e-1,k+z-1))},initCache(){},clearCache:!0,validateProps(){}}),getItemFromCache$1=(n,e,r)=>{const{itemSize:g}=n,{items:y,lastVisitedIndex:k}=r;if(e>k){let $=0;if(k>=0){const V=y[k];$=V.offset+V.size}for(let V=k+1;V<=e;V++){const L=g(V);y[V]={offset:$,size:L},$+=L}r.lastVisitedIndex=e}return y[e]},findItem$1=(n,e,r)=>{const{items:g,lastVisitedIndex:y}=e;return(y>0?g[y].offset:0)>=r?bs$1(n,e,0,y,r):es$1(n,e,Math.max(0,y),r)},bs$1=(n,e,r,g,y)=>{for(;r<=g;){const k=r+Math.floor((g-r)/2),$=getItemFromCache$1(n,k,e).offset;if($===y)return k;$<y?r=k+1:$>y&&(g=k-1)}return Math.max(0,r-1)},es$1=(n,e,r,g)=>{const{total:y}=n;let k=1;for(;r<y&&getItemFromCache$1(n,r,e).offset<g;)r+=k,k*=2;return bs$1(n,e,Math.floor(r/2),Math.min(r,y-1),g)},getEstimatedTotalSize=({total:n},{items:e,estimatedItemSize:r,lastVisitedIndex:g})=>{let y=0;if(g>=n&&(g=n-1),g>=0){const V=e[g];y=V.offset+V.size}const $=(n-g-1)*r;return y+$},DynamicSizeList=createList({name:"ElDynamicSizeList",getItemOffset:(n,e,r)=>getItemFromCache$1(n,e,r).offset,getItemSize:(n,e,{items:r})=>r[e].size,getEstimatedTotalSize,getOffset:(n,e,r,g,y)=>{const{height:k,layout:$,width:V}=n,L=isHorizontal($)?V:k,z=getItemFromCache$1(n,e,y),j=getEstimatedTotalSize(n,y),re=Math.max(0,Math.min(j-L,z.offset)),oe=Math.max(0,z.offset-L+z.size);switch(r===SMART_ALIGNMENT&&(g>=oe-L&&g<=re+L?r=AUTO_ALIGNMENT:r=CENTERED_ALIGNMENT),r){case START_ALIGNMENT:return re;case END_ALIGNMENT:return oe;case CENTERED_ALIGNMENT:return Math.round(oe+(re-oe)/2);case AUTO_ALIGNMENT:default:return g>=oe&&g<=re?g:g<oe?oe:re}},getStartIndexForOffset:(n,e,r)=>findItem$1(n,r,e),getStopIndexForStartIndex:(n,e,r,g)=>{const{height:y,total:k,layout:$,width:V}=n,L=isHorizontal($)?V:y,z=getItemFromCache$1(n,e,g),j=r+L;let re=z.offset+z.size,oe=e;for(;oe<k-1&&re<j;)oe++,re+=getItemFromCache$1(n,oe,g).size;return oe},initCache({estimatedItemSize:n=DEFAULT_DYNAMIC_LIST_ITEM_SIZE},e){const r={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return r.clearCacheAfterIndex=(g,y=!0)=>{var k,$;r.lastVisitedIndex=Math.min(r.lastVisitedIndex,g-1),(k=e.exposed)==null||k.getItemStyleCache(-1),y&&(($=e.proxy)==null||$.$forceUpdate())},r},clearCache:!1,validateProps:({itemSize:n})=>{}}),useGridWheel=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:r,atYStartEdge:g},y)=>{let k=null,$=0,V=0;const L=(j,re)=>{const oe=j<=0&&e.value||j>=0&&n.value,ae=re<=0&&g.value||re>=0&&r.value;return oe&&ae};return{hasReachedEdge:L,onWheel:j=>{cAF(k);let re=j.deltaX,oe=j.deltaY;Math.abs(re)>Math.abs(oe)?oe=0:re=0,j.shiftKey&&oe!==0&&(re=oe,oe=0),!(L($,V)&&L($+re,V+oe))&&($+=re,V+=oe,j.preventDefault(),k=rAF(()=>{y($,V),$=0,V=0}))}}},createGrid=({name:n,clearCache:e,getColumnPosition:r,getColumnStartIndexForOffset:g,getColumnStopIndexForStartIndex:y,getEstimatedTotalHeight:k,getEstimatedTotalWidth:$,getColumnOffset:V,getRowOffset:L,getRowPosition:z,getRowStartIndexForOffset:j,getRowStopIndexForStartIndex:re,initCache:oe,injectToInstance:ae,validateProps:de})=>defineComponent({name:n??"ElVirtualList",props:virtualizedGridProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(ue,{emit:pe,expose:he,slots:Oe}){const xe=useNamespace("vl");de(ue);const $e=getCurrentInstance(),Ne=ref(oe(ue,$e));ae?.($e,Ne);const Ce=ref(),Fe=ref(),ze=ref(),kt=ref(null),At=ref({isScrolling:!1,scrollLeft:isNumber$1(ue.initScrollLeft)?ue.initScrollLeft:0,scrollTop:isNumber$1(ue.initScrollTop)?ue.initScrollTop:0,updateRequested:!1,xAxisScrollDir:FORWARD,yAxisScrollDir:FORWARD}),Cn=useCache(),Dt=computed(()=>Number.parseInt(`${ue.height}`,10)),On=computed(()=>Number.parseInt(`${ue.width}`,10)),jt=computed(()=>{const{totalColumn:Lt,totalRow:_n,columnCache:Bn}=ue,{isScrolling:Xn,xAxisScrollDir:rr,scrollLeft:ar}=unref(At);if(Lt===0||_n===0)return[0,0,0,0];const sr=g(ue,ar,unref(Ne)),mr=y(ue,sr,ar,unref(Ne)),lr=!Xn||rr===BACKWARD?Math.max(1,Bn):1,le=!Xn||rr===FORWARD?Math.max(1,Bn):1;return[Math.max(0,sr-lr),Math.max(0,Math.min(Lt-1,mr+le)),sr,mr]}),An=computed(()=>{const{totalColumn:Lt,totalRow:_n,rowCache:Bn}=ue,{isScrolling:Xn,yAxisScrollDir:rr,scrollTop:ar}=unref(At);if(Lt===0||_n===0)return[0,0,0,0];const sr=j(ue,ar,unref(Ne)),mr=re(ue,sr,ar,unref(Ne)),lr=!Xn||rr===BACKWARD?Math.max(1,Bn):1,le=!Xn||rr===FORWARD?Math.max(1,Bn):1;return[Math.max(0,sr-lr),Math.max(0,Math.min(_n-1,mr+le)),sr,mr]}),Mn=computed(()=>k(ue,unref(Ne))),$n=computed(()=>$(ue,unref(Ne))),Ln=computed(()=>{var Lt;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:ue.direction,height:isNumber$1(ue.height)?`${ue.height}px`:ue.height,width:isNumber$1(ue.width)?`${ue.width}px`:ue.width},(Lt=ue.style)!=null?Lt:{}]}),Tn=computed(()=>{const Lt=`${unref($n)}px`;return{height:`${unref(Mn)}px`,pointerEvents:unref(At).isScrolling?"none":void 0,width:Lt}}),Zn=()=>{const{totalColumn:Lt,totalRow:_n}=ue;if(Lt>0&&_n>0){const[mr,lr,le,_e]=unref(jt),[Ie,Ue,qe,Et]=unref(An);pe(ITEM_RENDER_EVT,{columnCacheStart:mr,columnCacheEnd:lr,rowCacheStart:Ie,rowCacheEnd:Ue,columnVisibleStart:le,columnVisibleEnd:_e,rowVisibleStart:qe,rowVisibleEnd:Et})}const{scrollLeft:Bn,scrollTop:Xn,updateRequested:rr,xAxisScrollDir:ar,yAxisScrollDir:sr}=unref(At);pe(SCROLL_EVT,{xAxisScrollDir:ar,scrollLeft:Bn,yAxisScrollDir:sr,scrollTop:Xn,updateRequested:rr})},Qn=Lt=>{const{clientHeight:_n,clientWidth:Bn,scrollHeight:Xn,scrollLeft:rr,scrollTop:ar,scrollWidth:sr}=Lt.currentTarget,mr=unref(At);if(mr.scrollTop===ar&&mr.scrollLeft===rr)return;let lr=rr;if(isRTL(ue.direction))switch(getRTLOffsetType()){case RTL_OFFSET_NAG:lr=-rr;break;case RTL_OFFSET_POS_DESC:lr=sr-Bn-rr;break}At.value={...mr,isScrolling:!0,scrollLeft:lr,scrollTop:Math.max(0,Math.min(ar,Xn-_n)),updateRequested:!0,xAxisScrollDir:getScrollDir(mr.scrollLeft,lr),yAxisScrollDir:getScrollDir(mr.scrollTop,ar)},nextTick(()=>jn()),cr(),Zn()},Pn=(Lt,_n)=>{const Bn=unref(Dt),Xn=(Mn.value-Bn)/_n*Lt;hr({scrollTop:Math.min(Mn.value-Bn,Xn)})},Wn=(Lt,_n)=>{const Bn=unref(On),Xn=($n.value-Bn)/_n*Lt;hr({scrollLeft:Math.min($n.value-Bn,Xn)})},{onWheel:ur}=useGridWheel({atXStartEdge:computed(()=>At.value.scrollLeft<=0),atXEndEdge:computed(()=>At.value.scrollLeft>=$n.value-unref(On)),atYStartEdge:computed(()=>At.value.scrollTop<=0),atYEndEdge:computed(()=>At.value.scrollTop>=Mn.value-unref(Dt))},(Lt,_n)=>{var Bn,Xn,rr,ar;(Xn=(Bn=Fe.value)==null?void 0:Bn.onMouseUp)==null||Xn.call(Bn),(ar=(rr=ze.value)==null?void 0:rr.onMouseUp)==null||ar.call(rr);const sr=unref(On),mr=unref(Dt);hr({scrollLeft:Math.min(At.value.scrollLeft+Lt,$n.value-sr),scrollTop:Math.min(At.value.scrollTop+_n,Mn.value-mr)})}),hr=({scrollLeft:Lt=At.value.scrollLeft,scrollTop:_n=At.value.scrollTop})=>{Lt=Math.max(Lt,0),_n=Math.max(_n,0);const Bn=unref(At);_n===Bn.scrollTop&&Lt===Bn.scrollLeft||(At.value={...Bn,xAxisScrollDir:getScrollDir(Bn.scrollLeft,Lt),yAxisScrollDir:getScrollDir(Bn.scrollTop,_n),scrollLeft:Lt,scrollTop:_n,updateRequested:!0},nextTick(()=>jn()),cr(),Zn())},Vn=(Lt=0,_n=0,Bn=AUTO_ALIGNMENT)=>{const Xn=unref(At);_n=Math.max(0,Math.min(_n,ue.totalColumn-1)),Lt=Math.max(0,Math.min(Lt,ue.totalRow-1));const rr=getScrollBarWidth(xe.namespace.value),ar=unref(Ne),sr=k(ue,ar),mr=$(ue,ar);hr({scrollLeft:V(ue,_n,Bn,Xn.scrollLeft,ar,mr>ue.width?rr:0),scrollTop:L(ue,Lt,Bn,Xn.scrollTop,ar,sr>ue.height?rr:0)})},En=(Lt,_n)=>{const{columnWidth:Bn,direction:Xn,rowHeight:rr}=ue,ar=Cn.value(e&&Bn,e&&rr,e&&Xn),sr=`${Lt},${_n}`;if(hasOwn$1(ar,sr))return ar[sr];{const[,mr]=r(ue,_n,unref(Ne)),lr=unref(Ne),le=isRTL(Xn),[_e,Ie]=z(ue,Lt,lr),[Ue]=r(ue,_n,lr);return ar[sr]={position:"absolute",left:le?void 0:`${mr}px`,right:le?`${mr}px`:void 0,top:`${Ie}px`,height:`${_e}px`,width:`${Ue}px`},ar[sr]}},jn=()=>{At.value.isScrolling=!1,nextTick(()=>{Cn.value(-1,null,null)})};onMounted(()=>{if(!isClient)return;const{initScrollLeft:Lt,initScrollTop:_n}=ue,Bn=unref(Ce);Bn&&(isNumber$1(Lt)&&(Bn.scrollLeft=Lt),isNumber$1(_n)&&(Bn.scrollTop=_n)),Zn()});const cr=()=>{const{direction:Lt}=ue,{scrollLeft:_n,scrollTop:Bn,updateRequested:Xn}=unref(At),rr=unref(Ce);if(Xn&&rr){if(Lt===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{rr.scrollLeft=-_n;break}case RTL_OFFSET_POS_ASC:{rr.scrollLeft=_n;break}default:{const{clientWidth:ar,scrollWidth:sr}=rr;rr.scrollLeft=sr-ar-_n;break}}else rr.scrollLeft=Math.max(0,_n);rr.scrollTop=Math.max(0,Bn)}},{resetAfterColumnIndex:gr,resetAfterRowIndex:Cr,resetAfter:ir}=$e.proxy;he({windowRef:Ce,innerRef:kt,getItemStyleCache:Cn,scrollTo:hr,scrollToItem:Vn,states:At,resetAfterColumnIndex:gr,resetAfterRowIndex:Cr,resetAfter:ir});const Gn=()=>{const{scrollbarAlwaysOn:Lt,scrollbarStartGap:_n,scrollbarEndGap:Bn,totalColumn:Xn,totalRow:rr}=ue,ar=unref(On),sr=unref(Dt),mr=unref($n),lr=unref(Mn),{scrollLeft:le,scrollTop:_e}=unref(At),Ie=h$1(ScrollBar,{ref:Fe,alwaysOn:Lt,startGap:_n,endGap:Bn,class:xe.e("horizontal"),clientSize:ar,layout:"horizontal",onScroll:Wn,ratio:ar*100/mr,scrollFrom:le/(mr-ar),total:rr,visible:!0}),Ue=h$1(ScrollBar,{ref:ze,alwaysOn:Lt,startGap:_n,endGap:Bn,class:xe.e("vertical"),clientSize:sr,layout:"vertical",onScroll:Pn,ratio:sr*100/lr,scrollFrom:_e/(lr-sr),total:Xn,visible:!0});return{horizontalScrollbar:Ie,verticalScrollbar:Ue}},hn=()=>{var Lt;const[_n,Bn]=unref(jt),[Xn,rr]=unref(An),{data:ar,totalColumn:sr,totalRow:mr,useIsScrolling:lr,itemKey:le}=ue,_e=[];if(mr>0&&sr>0)for(let Ie=Xn;Ie<=rr;Ie++)for(let Ue=_n;Ue<=Bn;Ue++)_e.push((Lt=Oe.default)==null?void 0:Lt.call(Oe,{columnIndex:Ue,data:ar,key:le({columnIndex:Ue,data:ar,rowIndex:Ie}),isScrolling:lr?unref(At).isScrolling:void 0,style:En(Ie,Ue),rowIndex:Ie}));return _e},Kn=()=>{const Lt=resolveDynamicComponent(ue.innerElement),_n=hn();return[h$1(Lt,{style:unref(Tn),ref:kt},isString$3(Lt)?_n:{default:()=>_n})]};return()=>{const Lt=resolveDynamicComponent(ue.containerElement),{horizontalScrollbar:_n,verticalScrollbar:Bn}=Gn(),Xn=Kn();return h$1("div",{key:0,class:xe.e("wrapper"),role:ue.role},[h$1(Lt,{class:ue.className,style:unref(Ln),onScroll:Qn,onWheel:ur,ref:Ce},isString$3(Lt)?Xn:{default:()=>Xn}),_n,Bn])}}}),FixedSizeGrid=createGrid({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:r},g,y,k,$,V)=>{r=Number(r);const L=Math.max(0,n*e-r),z=Math.min(L,g*e),j=Math.max(0,g*e-r+V+e);switch(y==="smart"&&(k>=j-r&&k<=z+r?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return z;case END_ALIGNMENT:return j;case CENTERED_ALIGNMENT:{const re=Math.round(j+(z-j)/2);return re<Math.ceil(r/2)?0:re>L+Math.floor(r/2)?L:re}case AUTO_ALIGNMENT:default:return k>=j&&k<=z?k:j>z||k<j?j:z}},getRowOffset:({rowHeight:n,height:e,totalRow:r},g,y,k,$,V)=>{e=Number(e);const L=Math.max(0,r*n-e),z=Math.min(L,g*n),j=Math.max(0,g*n-e+V+n);switch(y===SMART_ALIGNMENT&&(k>=j-e&&k<=z+e?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return z;case END_ALIGNMENT:return j;case CENTERED_ALIGNMENT:{const re=Math.round(j+(z-j)/2);return re<Math.ceil(e/2)?0:re>L+Math.floor(e/2)?L:re}case AUTO_ALIGNMENT:default:return k>=j&&k<=z?k:j>z||k<j?j:z}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},r)=>Math.max(0,Math.min(e-1,Math.floor(r/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:r},g,y)=>{const k=g*n,$=Math.ceil((r+y-k)/n);return Math.max(0,Math.min(e-1,g+$-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},r)=>Math.max(0,Math.min(e-1,Math.floor(r/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:r},g,y)=>{const k=g*n,$=Math.ceil((r+y-k)/n);return Math.max(0,Math.min(e-1,g+$-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}}),{max,min,floor}=Math,ACCESS_SIZER_KEY_MAP={column:"columnWidth",row:"rowHeight"},ACCESS_LAST_VISITED_KEY_MAP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},getItemFromCache=(n,e,r,g)=>{const[y,k,$]=[r[g],n[ACCESS_SIZER_KEY_MAP[g]],r[ACCESS_LAST_VISITED_KEY_MAP[g]]];if(e>$){let V=0;if($>=0){const L=y[$];V=L.offset+L.size}for(let L=$+1;L<=e;L++){const z=k(L);y[L]={offset:V,size:z},V+=z}r[ACCESS_LAST_VISITED_KEY_MAP[g]]=e}return y[e]},bs=(n,e,r,g,y,k)=>{for(;r<=g;){const $=r+floor((g-r)/2),V=getItemFromCache(n,$,e,k).offset;if(V===y)return $;V<y?r=$+1:g=$-1}return max(0,r-1)},es=(n,e,r,g,y)=>{const k=y==="column"?n.totalColumn:n.totalRow;let $=1;for(;r<k&&getItemFromCache(n,r,e,y).offset<g;)r+=$,$*=2;return bs(n,e,floor(r/2),min(r,k-1),g,y)},findItem=(n,e,r,g)=>{const[y,k]=[e[g],e[ACCESS_LAST_VISITED_KEY_MAP[g]]];return(k>0?y[k].offset:0)>=r?bs(n,e,0,k,r,g):es(n,e,max(0,k),r,g)},getEstimatedTotalHeight=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:r,row:g})=>{let y=0;if(r>=n&&(r=n-1),r>=0){const V=g[r];y=V.offset+V.size}const $=(n-r-1)*e;return y+$},getEstimatedTotalWidth=({totalColumn:n},{column:e,estimatedColumnWidth:r,lastVisitedColumnIndex:g})=>{let y=0;if(g>n&&(g=n-1),g>=0){const V=e[g];y=V.offset+V.size}const $=(n-g-1)*r;return y+$},ACCESS_ESTIMATED_SIZE_KEY_MAP={column:getEstimatedTotalWidth,row:getEstimatedTotalHeight},getOffset$1=(n,e,r,g,y,k,$)=>{const[V,L]=[k==="row"?n.height:n.width,ACCESS_ESTIMATED_SIZE_KEY_MAP[k]],z=getItemFromCache(n,e,y,k),j=L(n,y),re=max(0,min(j-V,z.offset)),oe=max(0,z.offset-V+$+z.size);switch(r===SMART_ALIGNMENT&&(g>=oe-V&&g<=re+V?r=AUTO_ALIGNMENT:r=CENTERED_ALIGNMENT),r){case START_ALIGNMENT:return re;case END_ALIGNMENT:return oe;case CENTERED_ALIGNMENT:return Math.round(oe+(re-oe)/2);case AUTO_ALIGNMENT:default:return g>=oe&&g<=re?g:oe>re||g<oe?oe:re}},DynamicSizeGrid=createGrid({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,r)=>{const g=getItemFromCache(n,e,r,"column");return[g.size,g.offset]},getRowPosition:(n,e,r)=>{const g=getItemFromCache(n,e,r,"row");return[g.size,g.offset]},getColumnOffset:(n,e,r,g,y,k)=>getOffset$1(n,e,r,g,y,"column",k),getRowOffset:(n,e,r,g,y,k)=>getOffset$1(n,e,r,g,y,"row",k),getColumnStartIndexForOffset:(n,e,r)=>findItem(n,r,e,"column"),getColumnStopIndexForStartIndex:(n,e,r,g)=>{const y=getItemFromCache(n,e,g,"column"),k=r+n.width;let $=y.offset+y.size,V=e;for(;V<n.totalColumn-1&&$<k;)V++,$+=getItemFromCache(n,e,g,"column").size;return V},getEstimatedTotalHeight,getEstimatedTotalWidth,getRowStartIndexForOffset:(n,e,r)=>findItem(n,r,e,"row"),getRowStopIndexForStartIndex:(n,e,r,g)=>{const{totalRow:y,height:k}=n,$=getItemFromCache(n,e,g,"row"),V=r+k;let L=$.size+$.offset,z=e;for(;z<y-1&&L<V;)z++,L+=getItemFromCache(n,z,g,"row").size;return z},injectToInstance:(n,e)=>{const r=({columnIndex:k,rowIndex:$},V)=>{var L,z;V=isUndefined(V)?!0:V,isNumber$1(k)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,k-1)),isNumber$1($)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,$-1)),(L=n.exposed)==null||L.getItemStyleCache.value(-1,null,null),V&&((z=n.proxy)==null||z.$forceUpdate())},g=(k,$)=>{r({columnIndex:k},$)},y=(k,$)=>{r({rowIndex:k},$)};Object.assign(n.proxy,{resetAfterColumnIndex:g,resetAfterRowIndex:y,resetAfter:r})},initCache:({estimatedColumnWidth:n=DEFAULT_DYNAMIC_LIST_ITEM_SIZE,estimatedRowHeight:e=DEFAULT_DYNAMIC_LIST_ITEM_SIZE})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:n,rowHeight:e})=>{}}),_sfc_main$1A=defineComponent({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:useNamespace("select")}}});function _sfc_render$7(n,e,r,g,y,k){return n.item.isTitle?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.be("group","title")),style:normalizeStyle([n.style,{lineHeight:`${n.height}px`}])},toDisplayString$1(n.item.label),7)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.be("group","split")),style:normalizeStyle(n.style)},[createBaseVNode("span",{class:normalizeClass(n.ns.be("group","split-dash")),style:normalizeStyle({top:`${n.height/2}px`})},null,6)],6))}var GroupItem=_export_sfc$1(_sfc_main$1A,[["render",_sfc_render$7],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function useOption(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const SelectProps={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:circle_close_default},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:isValidComponentSize},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"}},OptionProps={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},_sfc_main$1z=defineComponent({props:OptionProps,emits:["select","hover"],setup(n,{emit:e}){const r=useNamespace("select"),{hoverItem:g,selectOptionClick:y}=useOption(n,{emit:e});return{ns:r,hoverItem:g,selectOptionClick:y}}}),_hoisted_1$1d=["aria-selected"];function _sfc_render$6(n,e,r,g,y,k){return openBlock(),createElementBlock("li",{"aria-selected":n.selected,style:normalizeStyle(n.style),class:normalizeClass([n.ns.be("dropdown","option-item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),{hover:n.hovering}]),onMouseenter:e[0]||(e[0]=(...$)=>n.hoverItem&&n.hoverItem(...$)),onClick:e[1]||(e[1]=withModifiers((...$)=>n.selectOptionClick&&n.selectOptionClick(...$),["stop"]))},[renderSlot(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[createBaseVNode("span",null,toDisplayString$1(n.item.label),1)])],46,_hoisted_1$1d)}var OptionItem=_export_sfc$1(_sfc_main$1z,[["render",_sfc_render$6],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const selectV2InjectionKey=Symbol("ElSelectV2Injection");var ElSelectMenu=defineComponent({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(n,{slots:e,expose:r}){const g=inject(selectV2InjectionKey),y=useNamespace("select"),k=ref([]),$=ref(),V=computed(()=>n.data.length);watch(()=>V.value,()=>{var ze,kt;(kt=(ze=g.popper.value).updatePopper)==null||kt.call(ze)});const L=computed(()=>isUndefined(g.props.estimatedOptionHeight)),z=computed(()=>L.value?{itemSize:g.props.itemHeight}:{estimatedSize:g.props.estimatedOptionHeight,itemSize:ze=>k.value[ze]}),j=(ze=[],kt)=>{const{props:{valueKey:At}}=g;return isObject$3(kt)?ze&&ze.some(Cn=>get(Cn,At)===get(kt,At)):ze.includes(kt)},re=(ze,kt)=>{if(isObject$3(kt)){const{valueKey:At}=g.props;return get(ze,At)===get(kt,At)}else return ze===kt},oe=(ze,kt)=>{const{valueKey:At}=g.props;return g.props.multiple?j(ze,get(kt,At)):re(ze,get(kt,At))},ae=(ze,kt)=>{const{disabled:At,multiple:Cn,multipleLimit:Dt}=g.props;return At||!kt&&(Cn?Dt>0&&ze.length>=Dt:!1)},de=ze=>n.hoveringIndex===ze;r({listRef:$,isSized:L,isItemDisabled:ae,isItemHovering:de,isItemSelected:oe,scrollToItem:ze=>{const kt=$.value;kt&&kt.scrollToItem(ze)},resetScrollTop:()=>{const ze=$.value;ze&&ze.resetScrollTop()}});const he=ze=>{const{index:kt,data:At,style:Cn}=ze,Dt=unref(L),{itemSize:On,estimatedSize:jt}=unref(z),{modelValue:An}=g.props,{onSelect:Mn,onHover:$n}=g,Ln=At[kt];if(Ln.type==="Group")return createVNode(GroupItem,{item:Ln,style:Cn,height:Dt?On:jt},null);const Tn=oe(An,Ln),Zn=ae(An,Tn),Qn=de(kt);return createVNode(OptionItem,mergeProps(ze,{selected:Tn,disabled:Ln.disabled||Zn,created:!!Ln.created,hovering:Qn,item:Ln,onSelect:Mn,onHover:$n}),{default:Pn=>{var Wn;return((Wn=e.default)==null?void 0:Wn.call(e,Pn))||createVNode("span",null,[Ln.label])}})},{onKeyboardNavigate:Oe,onKeyboardSelect:xe}=g,$e=()=>{Oe("forward")},Ne=()=>{Oe("backward")},Ce=()=>{g.expanded=!1},Fe=ze=>{const{code:kt}=ze,{tab:At,esc:Cn,down:Dt,up:On,enter:jt}=EVENT_CODE;switch(kt!==At&&(ze.preventDefault(),ze.stopPropagation()),kt){case At:case Cn:{Ce();break}case Dt:{$e();break}case On:{Ne();break}case jt:{xe();break}}};return()=>{var ze;const{data:kt,width:At}=n,{height:Cn,multiple:Dt,scrollbarAlwaysOn:On}=g.props;if(kt.length===0)return createVNode("div",{class:y.b("dropdown"),style:{width:`${At}px`}},[(ze=e.empty)==null?void 0:ze.call(e)]);const jt=unref(L)?FixedSizeList:DynamicSizeList;return createVNode("div",{class:[y.b("dropdown"),y.is("multiple",Dt)]},[createVNode(jt,mergeProps({ref:$},unref(z),{className:y.be("dropdown","list"),scrollbarAlwaysOn:On,data:kt,height:Cn,width:At,total:kt.length,onKeydown:Fe}),{default:An=>createVNode(he,An,null)})])}}});function useAllowCreate(n,e){const r=ref(0),g=ref(null),y=computed(()=>n.allowCreate&&n.filterable);function k(j){const re=oe=>oe.value===j;return n.options&&n.options.some(re)||e.createdOptions.some(re)}function $(j){y.value&&(n.multiple&&j.created?r.value++:g.value=j)}function V(j){if(y.value)if(j&&j.length>0&&!k(j)){const re={value:j,label:j,created:!0,disabled:!1};e.createdOptions.length>=r.value?e.createdOptions[r.value]=re:e.createdOptions.push(re)}else if(n.multiple)e.createdOptions.length=r.value;else{const re=g.value;e.createdOptions.length=0,re&&re.created&&e.createdOptions.push(re)}}function L(j){if(!y.value||!j||!j.created||j.created&&n.reserveKeyword&&e.inputValue===j.label)return;const re=e.createdOptions.findIndex(oe=>oe.value===j.value);~re&&(e.createdOptions.splice(re,1),r.value--)}function z(){y.value&&(e.createdOptions.length=0,r.value=0)}return{createNewOption:V,removeNewOption:L,selectNewOption:$,clearAllNewOption:z}}const flattenOptions=n=>{const e=[];return n.forEach(r=>{isArray$3(r.options)?(e.push({label:r.label,isTitle:!0,type:"Group"}),r.options.forEach(g=>{e.push(g)}),e.push({type:"Group"})):e.push(r)}),e};function useInput(n){const e=ref(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:k=>{const $=k.target.value,V=$[$.length-1]||"";e.value=!isKorean(V)},handleCompositionEnd:k=>{e.value&&(e.value=!1,isFunction$3(n)&&n(k))}}}const DEFAULT_INPUT_PLACEHOLDER="",MINIMUM_INPUT_WIDTH=11,TAG_BASE_WIDTH={larget:51,default:42,small:33},useSelect$1=(n,e)=>{const{t:r}=useLocale(),g=useNamespace("select-v2"),y=useNamespace("input"),{form:k,formItem:$}=useFormItem(),V=reactive({inputValue:DEFAULT_INPUT_PLACEHOLDER,displayInputValue:DEFAULT_INPUT_PLACEHOLDER,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),L=ref(-1),z=ref(-1),j=ref(null),re=ref(null),oe=ref(null),ae=ref(null),de=ref(null),ue=ref(null),pe=ref(null),he=ref(!1),Oe=computed(()=>n.disabled||k?.disabled),xe=computed(()=>{const xn=Dt.value.length*34;return xn>n.height?n.height:xn}),$e=computed(()=>!isNil(n.modelValue)),Ne=computed(()=>{const xn=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:$e.value;return n.clearable&&!Oe.value&&V.comboBoxHovering&&xn}),Ce=computed(()=>n.remote&&n.filterable?"":arrow_up_default),Fe=computed(()=>Ce.value&&g.is("reverse",he.value)),ze=computed(()=>$?.validateState||""),kt=computed(()=>ValidateComponentsMap[ze.value]),At=computed(()=>n.remote?300:0),Cn=computed(()=>{const xn=Dt.value;return n.loading?n.loadingText||r("el.select.loading"):n.remote&&V.inputValue===""&&xn.length===0?!1:n.filterable&&V.inputValue&&xn.length>0?n.noMatchText||r("el.select.noMatch"):xn.length===0?n.noDataText||r("el.select.noData"):null}),Dt=computed(()=>{const xn=Rn=>{const qn=V.inputValue,nr=new RegExp(escapeStringRegexp(qn),"i");return qn?nr.test(Rn.label||""):!0};return n.loading?[]:flattenOptions(n.options.concat(V.createdOptions).map(Rn=>{if(isArray$3(Rn.options)){const qn=Rn.options.filter(xn);if(qn.length>0)return{...Rn,options:qn}}else if(n.remote||xn(Rn))return Rn;return null}).filter(Rn=>Rn!==null))}),On=computed(()=>{const xn=new Map;return Dt.value.forEach((Rn,qn)=>{xn.set(ar(Rn),{option:Rn,index:qn})}),xn}),jt=computed(()=>Dt.value.every(xn=>xn.disabled)),An=useFormSize(),Mn=computed(()=>An.value==="small"?"small":"default"),$n=computed(()=>{const xn=ue.value,Rn=Mn.value||"default",qn=xn?Number.parseInt(getComputedStyle(xn).paddingLeft):0,nr=xn?Number.parseInt(getComputedStyle(xn).paddingRight):0;return V.selectWidth-nr-qn-TAG_BASE_WIDTH[Rn]}),Ln=()=>{var xn;z.value=((xn=de.value)==null?void 0:xn.offsetWidth)||200},Tn=computed(()=>({width:`${V.calculatedWidth===0?MINIMUM_INPUT_WIDTH:Math.ceil(V.calculatedWidth)+MINIMUM_INPUT_WIDTH}px`})),Zn=computed(()=>isArray$3(n.modelValue)?n.modelValue.length===0&&!V.displayInputValue:n.filterable?V.displayInputValue.length===0:!0),Qn=computed(()=>{const xn=n.placeholder||r("el.select.placeholder");return n.multiple||isNil(n.modelValue)?xn:V.selectedLabel}),Pn=computed(()=>{var xn,Rn;return(Rn=(xn=ae.value)==null?void 0:xn.popperRef)==null?void 0:Rn.contentRef}),Wn=computed(()=>{if(n.multiple){const xn=n.modelValue.length;if(n.modelValue.length>0&&On.value.has(n.modelValue[xn-1])){const{index:Rn}=On.value.get(n.modelValue[xn-1]);return Rn}}else if(n.modelValue&&On.value.has(n.modelValue)){const{index:xn}=On.value.get(n.modelValue);return xn}return-1}),ur=computed({get(){return he.value&&Cn.value!==!1},set(xn){he.value=xn}}),hr=computed(()=>V.cachedOptions.slice(0,n.maxCollapseTags)),Vn=computed(()=>V.cachedOptions.slice(n.maxCollapseTags)),{createNewOption:En,removeNewOption:jn,selectNewOption:cr,clearAllNewOption:gr}=useAllowCreate(n,V),{handleCompositionStart:Cr,handleCompositionUpdate:ir,handleCompositionEnd:Gn}=useInput(xn=>Jn(xn)),hn=()=>{var xn,Rn,qn;(Rn=(xn=re.value)==null?void 0:xn.focus)==null||Rn.call(xn),(qn=ae.value)==null||qn.updatePopper()},Kn=()=>{if(!n.automaticDropdown&&!Oe.value)return V.isComposing&&(V.softFocus=!0),nextTick(()=>{var xn,Rn;he.value=!he.value,(Rn=(xn=re.value)==null?void 0:xn.focus)==null||Rn.call(xn)})},Nn=()=>(n.filterable&&V.inputValue!==V.selectedLabel&&(V.query=V.selectedLabel),_n(V.inputValue),nextTick(()=>{En(V.inputValue)})),Lt=debounce(Nn,At.value),_n=xn=>{V.previousQuery!==xn&&(V.previousQuery=xn,n.filterable&&isFunction$3(n.filterMethod)?n.filterMethod(xn):n.filterable&&n.remote&&isFunction$3(n.remoteMethod)&&n.remoteMethod(xn))},Bn=xn=>{isEqual$1(n.modelValue,xn)||e(CHANGE_EVENT,xn)},Xn=xn=>{e(UPDATE_MODEL_EVENT,xn),Bn(xn),V.previousValue=xn?.toString()},rr=(xn=[],Rn)=>{if(!isObject$3(Rn))return xn.indexOf(Rn);const qn=n.valueKey;let nr=-1;return xn.some((er,fr)=>get(er,qn)===get(Rn,qn)?(nr=fr,!0):!1),nr},ar=xn=>isObject$3(xn)?get(xn,n.valueKey):xn,sr=xn=>isObject$3(xn)?xn.label:xn,mr=()=>nextTick(()=>{var xn,Rn;if(!re.value)return;const qn=ue.value;de.value.height=qn.offsetHeight,he.value&&Cn.value!==!1&&((Rn=(xn=ae.value)==null?void 0:xn.updatePopper)==null||Rn.call(xn))}),lr=()=>{var xn,Rn;if(le(),Ln(),(Rn=(xn=ae.value)==null?void 0:xn.updatePopper)==null||Rn.call(xn),n.multiple)return mr()},le=()=>{const xn=ue.value;xn&&(V.selectWidth=xn.getBoundingClientRect().width)},_e=(xn,Rn,qn=!0)=>{var nr,er;if(n.multiple){let fr=n.modelValue.slice();const pr=rr(fr,ar(xn));pr>-1?(fr=[...fr.slice(0,pr),...fr.slice(pr+1)],V.cachedOptions.splice(pr,1),jn(xn)):(n.multipleLimit<=0||fr.length<n.multipleLimit)&&(fr=[...fr,ar(xn)],V.cachedOptions.push(xn),cr(xn),Fn(Rn)),Xn(fr),xn.created&&(V.query="",_n(""),V.inputLength=20),n.filterable&&!n.reserveKeyword&&((er=(nr=re.value).focus)==null||er.call(nr),wn("")),n.filterable&&(V.calculatedWidth=pe.value.getBoundingClientRect().width),mr(),Un()}else L.value=Rn,V.selectedLabel=xn.label,Xn(ar(xn)),he.value=!1,V.isComposing=!1,V.isSilentBlur=qn,cr(xn),xn.created||gr(),Fn(Rn)},Ie=(xn,Rn)=>{const{valueKey:qn}=n,nr=n.modelValue.indexOf(get(Rn,qn));if(nr>-1&&!Oe.value){const er=[...n.modelValue.slice(0,nr),...n.modelValue.slice(nr+1)];return V.cachedOptions.splice(nr,1),Xn(er),e("remove-tag",get(Rn,qn)),V.softFocus=!0,jn(Rn),nextTick(hn)}xn.stopPropagation()},Ue=xn=>{const Rn=V.isComposing;V.isComposing=!0,V.softFocus?V.softFocus=!1:Rn||e("focus",xn)},qe=xn=>(V.softFocus=!1,nextTick(()=>{var Rn,qn;(qn=(Rn=re.value)==null?void 0:Rn.blur)==null||qn.call(Rn),pe.value&&(V.calculatedWidth=pe.value.getBoundingClientRect().width),V.isSilentBlur?V.isSilentBlur=!1:V.isComposing&&e("blur",xn),V.isComposing=!1})),Et=()=>{V.displayInputValue.length>0?wn(""):he.value=!1},vn=xn=>{if(V.displayInputValue.length===0){xn.preventDefault();const Rn=n.modelValue.slice();Rn.pop(),jn(V.cachedOptions.pop()),Xn(Rn)}},Pt=()=>{let xn;return isArray$3(n.modelValue)?xn=[]:xn=void 0,V.softFocus=!0,n.multiple?V.cachedOptions=[]:V.selectedLabel="",he.value=!1,Xn(xn),e("clear"),gr(),nextTick(hn)},wn=xn=>{V.displayInputValue=xn,V.inputValue=xn},bn=(xn,Rn=void 0)=>{const qn=Dt.value;if(!["forward","backward"].includes(xn)||Oe.value||qn.length<=0||jt.value)return;if(!he.value)return Kn();Rn===void 0&&(Rn=V.hoveringIndex);let nr=-1;xn==="forward"?(nr=Rn+1,nr>=qn.length&&(nr=0)):xn==="backward"&&(nr=Rn-1,(nr<0||nr>=qn.length)&&(nr=qn.length-1));const er=qn[nr];if(er.disabled||er.type==="Group")return bn(xn,nr);Fn(nr),kn(nr)},In=()=>{if(he.value)~V.hoveringIndex&&Dt.value[V.hoveringIndex]&&_e(Dt.value[V.hoveringIndex],V.hoveringIndex,!1);else return Kn()},Fn=xn=>{V.hoveringIndex=xn},Dn=()=>{V.hoveringIndex=-1},Un=()=>{var xn;const Rn=re.value;Rn&&((xn=Rn.focus)==null||xn.call(Rn))},Jn=xn=>{const Rn=xn.target.value;if(wn(Rn),V.displayInputValue.length>0&&!he.value&&(he.value=!0),V.calculatedWidth=pe.value.getBoundingClientRect().width,n.multiple&&mr(),n.remote)Lt();else return Nn()},Hn=()=>(he.value=!1,qe()),tr=()=>(V.inputValue=V.displayInputValue,nextTick(()=>{~Wn.value&&(Fn(Wn.value),kn(V.hoveringIndex))})),kn=xn=>{oe.value.scrollToItem(xn)},zn=()=>{if(Dn(),n.multiple)if(n.modelValue.length>0){let xn=!1;V.cachedOptions.length=0,V.previousValue=n.modelValue.toString();for(const Rn of n.modelValue)if(On.value.has(Rn)){const{index:qn,option:nr}=On.value.get(Rn);V.cachedOptions.push(nr),xn||Fn(qn),xn=!0}}else V.cachedOptions=[],V.previousValue=void 0;else if($e.value){V.previousValue=n.modelValue;const xn=Dt.value,Rn=xn.findIndex(qn=>ar(qn)===ar(n.modelValue));~Rn?(V.selectedLabel=xn[Rn].label,Fn(Rn)):V.selectedLabel=`${n.modelValue}`}else V.selectedLabel="",V.previousValue=void 0;gr(),Ln()};return watch(he,xn=>{var Rn,qn;e("visible-change",xn),xn?(qn=(Rn=ae.value).update)==null||qn.call(Rn):(V.displayInputValue="",V.previousQuery=null,En(""))}),watch(()=>n.modelValue,(xn,Rn)=>{var qn;(!xn||xn.toString()!==V.previousValue)&&zn(),!isEqual$1(xn,Rn)&&n.validateEvent&&((qn=$?.validate)==null||qn.call($,"change").catch(nr=>void 0))},{deep:!0}),watch(()=>n.options,()=>{const xn=re.value;(!xn||xn&&document.activeElement!==xn)&&zn()},{deep:!0}),watch(Dt,()=>nextTick(oe.value.resetScrollTop)),watch(()=>ur.value,xn=>{xn||Dn()}),onMounted(()=>{zn()}),useResizeObserver(de,lr),{collapseTagSize:Mn,currentPlaceholder:Qn,expanded:he,emptyText:Cn,popupHeight:xe,debounce:At,filteredOptions:Dt,iconComponent:Ce,iconReverse:Fe,inputWrapperStyle:Tn,popperSize:z,dropdownMenuVisible:ur,hasModelValue:$e,shouldShowPlaceholder:Zn,selectDisabled:Oe,selectSize:An,showClearBtn:Ne,states:V,tagMaxWidth:$n,nsSelectV2:g,nsInput:y,calculatorRef:pe,controlRef:j,inputRef:re,menuRef:oe,popper:ae,selectRef:de,selectionRef:ue,popperRef:Pn,validateState:ze,validateIcon:kt,showTagList:hr,collapseTagList:Vn,debouncedOnInputChange:Lt,deleteTag:Ie,getLabel:sr,getValueKey:ar,handleBlur:qe,handleClear:Pt,handleClickOutside:Hn,handleDel:vn,handleEsc:Et,handleFocus:Ue,handleMenuEnter:tr,handleResize:lr,toggleMenu:Kn,scrollTo:kn,onInput:Jn,onKeyboardNavigate:bn,onKeyboardSelect:In,onSelect:_e,onHover:Fn,onUpdateInputValue:wn,handleCompositionStart:Cr,handleCompositionEnd:Gn,handleCompositionUpdate:ir}},_sfc_main$1y=defineComponent({name:"ElSelectV2",components:{ElSelectMenu,ElTag,ElTooltip,ElIcon},directives:{ClickOutside,ModelText:vModelText},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const r=computed(()=>{const{modelValue:y,multiple:k}=n,$=k?[]:void 0;return isArray$3(y)?k?y:$:k?$:y}),g=useSelect$1(reactive({...toRefs(n),modelValue:r}),e);return provide(selectV2InjectionKey,{props:reactive({...toRefs(n),height:g.popupHeight,modelValue:r}),popper:g.popper,onSelect:g.onSelect,onHover:g.onHover,onKeyboardNavigate:g.onKeyboardNavigate,onKeyboardSelect:g.onKeyboardSelect}),{...g,modelValue:r}}}),_hoisted_1$1c={key:0},_hoisted_2$14=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],_hoisted_3$B=["textContent"],_hoisted_4$w=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],_hoisted_5$s=["textContent"];function _sfc_render$5(n,e,r,g,y,k){const $=resolveComponent("el-tag"),V=resolveComponent("el-tooltip"),L=resolveComponent("el-icon"),z=resolveComponent("el-select-menu"),j=resolveDirective("model-text"),re=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([n.nsSelectV2.b(),n.nsSelectV2.m(n.selectSize)]),onClick:e[24]||(e[24]=withModifiers((...oe)=>n.toggleMenu&&n.toggleMenu(...oe),["stop"])),onMouseenter:e[25]||(e[25]=oe=>n.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=oe=>n.states.comboBoxHovering=!1)},[createVNode(V,{ref:"popper",visible:n.dropdownMenuVisible,teleported:n.teleported,"popper-class":[n.nsSelectV2.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,placement:n.placement,pure:"",transition:`${n.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:n.persistent,onBeforeShow:n.handleMenuEnter,onHide:e[23]||(e[23]=oe=>n.states.inputValue=n.states.displayInputValue)},{default:withCtx(()=>[createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([n.nsSelectV2.e("wrapper"),n.nsSelectV2.is("focused",n.states.isComposing||n.expanded),n.nsSelectV2.is("hovering",n.states.comboBoxHovering),n.nsSelectV2.is("filterable",n.filterable),n.nsSelectV2.is("disabled",n.selectDisabled)])},[n.$slots.prefix?(openBlock(),createElementBlock("div",_hoisted_1$1c,[renderSlot(n.$slots,"prefix")])):createCommentVNode("v-if",!0),n.multiple?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.nsSelectV2.e("selection"))},[n.collapseTags&&n.modelValue.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.showTagList,oe=>(openBlock(),createElementBlock("div",{key:n.getValueKey(oe),class:normalizeClass(n.nsSelectV2.e("selected-item"))},[createVNode($,{closable:!n.selectDisabled&&!oe?.disable,size:n.collapseTagSize,type:"info","disable-transitions":"",onClose:ae=>n.deleteTag(ae,oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},toDisplayString$1(oe?.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),createBaseVNode("div",{class:normalizeClass(n.nsSelectV2.e("selected-item"))},[n.modelValue.length>n.maxCollapseTags?(openBlock(),createBlock($,{key:0,closable:!1,size:n.collapseTagSize,type:"info","disable-transitions":""},{default:withCtx(()=>[n.collapseTagsTooltip?(openBlock(),createBlock(V,{key:0,disabled:n.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:!1},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},"+ "+toDisplayString$1(n.modelValue.length-n.maxCollapseTags),7)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.nsSelectV2.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.collapseTagList,oe=>(openBlock(),createElementBlock("div",{key:n.getValueKey(oe),class:normalizeClass(n.nsSelectV2.e("selected-item"))},[createVNode($,{closable:!n.selectDisabled&&!oe.disabled,size:n.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:ae=>n.deleteTag(ae,oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},toDisplayString$1(n.getLabel(oe)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},"+ "+toDisplayString$1(n.modelValue.length-n.maxCollapseTags),7))]),_:1},8,["size"])):createCommentVNode("v-if",!0)],2)],64)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(n.states.cachedOptions,oe=>(openBlock(),createElementBlock("div",{key:n.getValueKey(oe),class:normalizeClass(n.nsSelectV2.e("selected-item"))},[createVNode($,{closable:!n.selectDisabled&&!oe.disabled,size:n.collapseTagSize,type:"info","disable-transitions":"",onClose:ae=>n.deleteTag(ae,oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${n.tagMaxWidth}px`})},toDisplayString$1(n.getLabel(oe)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),createBaseVNode("div",{class:normalizeClass([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-wrapper")]),style:normalizeStyle(n.inputWrapperStyle)},[withDirectives(createBaseVNode("input",{id:n.id,ref:"inputRef",autocomplete:n.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-labelledby":n.label,class:normalizeClass([n.nsSelectV2.is(n.selectSize),n.nsSelectV2.e("combobox-input")]),disabled:n.disabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,unselectable:n.expanded?"on":void 0,"onUpdate:modelValue":e[0]||(e[0]=(...oe)=>n.onUpdateInputValue&&n.onUpdateInputValue(...oe)),onFocus:e[1]||(e[1]=(...oe)=>n.handleFocus&&n.handleFocus(...oe)),onBlur:e[2]||(e[2]=(...oe)=>n.handleBlur&&n.handleBlur(...oe)),onInput:e[3]||(e[3]=(...oe)=>n.onInput&&n.onInput(...oe)),onCompositionstart:e[4]||(e[4]=(...oe)=>n.handleCompositionStart&&n.handleCompositionStart(...oe)),onCompositionupdate:e[5]||(e[5]=(...oe)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...oe)),onCompositionend:e[6]||(e[6]=(...oe)=>n.handleCompositionEnd&&n.handleCompositionEnd(...oe)),onKeydown:[e[7]||(e[7]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=withKeys(withModifiers((...oe)=>n.onKeyboardSelect&&n.onKeyboardSelect(...oe),["stop","prevent"]),["enter"])),e[10]||(e[10]=withKeys(withModifiers((...oe)=>n.handleEsc&&n.handleEsc(...oe),["stop","prevent"]),["esc"])),e[11]||(e[11]=withKeys(withModifiers((...oe)=>n.handleDel&&n.handleDel(...oe),["stop"]),["delete"]))]},null,42,_hoisted_2$14),[[j,n.states.displayInputValue]]),n.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(n.nsSelectV2.e("input-calculator")),textContent:toDisplayString$1(n.states.displayInputValue)},null,10,_hoisted_3$B)):createCommentVNode("v-if",!0)],6)],2)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",{class:normalizeClass([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-wrapper")])},[withDirectives(createBaseVNode("input",{id:n.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":n.label,"aria-expanded":n.expanded,autocapitalize:"off",autocomplete:n.autocomplete,class:normalizeClass(n.nsSelectV2.e("combobox-input")),disabled:n.disabled,name:n.name,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",unselectable:n.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...oe)=>n.handleCompositionStart&&n.handleCompositionStart(...oe)),onCompositionupdate:e[13]||(e[13]=(...oe)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...oe)),onCompositionend:e[14]||(e[14]=(...oe)=>n.handleCompositionEnd&&n.handleCompositionEnd(...oe)),onFocus:e[15]||(e[15]=(...oe)=>n.handleFocus&&n.handleFocus(...oe)),onBlur:e[16]||(e[16]=(...oe)=>n.handleBlur&&n.handleBlur(...oe)),onInput:e[17]||(e[17]=(...oe)=>n.onInput&&n.onInput(...oe)),onKeydown:[e[18]||(e[18]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[19]||(e[19]=withKeys(withModifiers(oe=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[20]||(e[20]=withKeys(withModifiers((...oe)=>n.onKeyboardSelect&&n.onKeyboardSelect(...oe),["stop","prevent"]),["enter"])),e[21]||(e[21]=withKeys(withModifiers((...oe)=>n.handleEsc&&n.handleEsc(...oe),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[22]||(e[22]=(...oe)=>n.onUpdateInputValue&&n.onUpdateInputValue(...oe))},null,42,_hoisted_4$w),[[j,n.states.displayInputValue]])],2),n.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-calculator")]),textContent:toDisplayString$1(n.states.displayInputValue)},null,10,_hoisted_5$s)):createCommentVNode("v-if",!0)],64)),n.shouldShowPlaceholder?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass([n.nsSelectV2.e("placeholder"),n.nsSelectV2.is("transparent",n.multiple?n.modelValue.length===0:!n.hasModelValue)])},toDisplayString$1(n.currentPlaceholder),3)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(n.nsSelectV2.e("suffix"))},[n.iconComponent?withDirectives((openBlock(),createBlock(L,{key:0,class:normalizeClass([n.nsSelectV2.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])),[[vShow,!n.showClearBtn]]):createCommentVNode("v-if",!0),n.showClearBtn&&n.clearIcon?(openBlock(),createBlock(L,{key:1,class:normalizeClass([n.nsSelectV2.e("caret"),n.nsInput.e("icon")]),onClick:withModifiers(n.handleClear,["prevent","stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),n.validateState&&n.validateIcon?(openBlock(),createBlock(L,{key:2,class:normalizeClass([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)]),content:withCtx(()=>[createVNode(z,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},{default:withCtx(oe=>[renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps(oe)))]),empty:withCtx(()=>[renderSlot(n.$slots,"empty",{},()=>[createBaseVNode("p",{class:normalizeClass(n.nsSelectV2.e("empty"))},toDisplayString$1(n.emptyText?n.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[re,n.handleClickOutside,n.popperRef]])}var Select=_export_sfc$1(_sfc_main$1y,[["render",_sfc_render$5],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Select.install=n=>{n.component(Select.name,Select)};const _Select=Select,ElSelectV2=_Select,skeletonProps=buildProps({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),__default__$t=defineComponent({name:"ElSkeletonItem"}),_sfc_main$1x=defineComponent({...__default__$t,props:skeletonItemProps,setup(n){const e=useNamespace("skeleton");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(e).e("item"),unref(e).e(r.variant)])},[r.variant==="image"?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc$1(_sfc_main$1x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const __default__$s=defineComponent({name:"ElSkeleton"}),_sfc_main$1w=defineComponent({...__default__$s,props:skeletonProps,setup(n,{expose:e}){const r=n,g=useNamespace("skeleton"),y=useThrottleRender(toRef(r,"loading"),r.throttle);return e({uiLoading:y}),(k,$)=>unref(y)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(g).b(),unref(g).is("animated",k.animated)]},k.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.count,V=>(openBlock(),createElementBlock(Fragment,{key:V},[k.loading?renderSlot(k.$slots,"template",{key:V},()=>[createVNode(SkeletonItem,{class:normalizeClass(unref(g).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(k.rows,L=>(openBlock(),createBlock(SkeletonItem,{key:L,class:normalizeClass([unref(g).e("paragraph"),unref(g).is("last",L===k.rows&&k.rows>1)]),variant:"p"},null,8,["class"]))),128))]):createCommentVNode("v-if",!0)],64))),128))],16)):renderSlot(k.$slots,"default",normalizeProps(mergeProps({key:1},k.$attrs)))}});var Skeleton$1=_export_sfc$1(_sfc_main$1w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton$1,{SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0}}),isValidValue$1=n=>isNumber$1(n)||isArray$3(n)&&n.every(isNumber$1),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},useLifecycle=(n,e,r)=>{const g=ref();return onMounted(async()=>{n.range?(Array.isArray(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof n.modelValue!="number"||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),useEventListener(window,"resize",r),await nextTick(),r()}),{sliderWrapper:g}},useMarks=n=>computed(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((r,g)=>r-g).filter(r=>r<=n.max&&r>=n.min).map(r=>({point:r,position:(r-n.min)*100/(n.max-n.min),mark:n.marks[r]})):[]),useSlide=(n,e,r)=>{const{form:g,formItem:y}=useFormItem(),k=shallowRef(),$=ref(),V=ref(),L={firstButton:$,secondButton:V},z=computed(()=>n.disabled||g?.disabled||!1),j=computed(()=>Math.min(e.firstValue,e.secondValue)),re=computed(()=>Math.max(e.firstValue,e.secondValue)),oe=computed(()=>n.range?`${100*(re.value-j.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),ae=computed(()=>n.range?`${100*(j.value-n.min)/(n.max-n.min)}%`:"0%"),de=computed(()=>n.vertical?{height:n.height}:{}),ue=computed(()=>n.vertical?{height:oe.value,bottom:ae.value}:{width:oe.value,left:ae.value}),pe=()=>{k.value&&(e.sliderSize=k.value[`client${n.vertical?"Height":"Width"}`])},he=Cn=>{const Dt=n.min+Cn*(n.max-n.min)/100;if(!n.range)return $;let On;return Math.abs(j.value-Dt)<Math.abs(re.value-Dt)?On=e.firstValue<e.secondValue?"firstButton":"secondButton":On=e.firstValue>e.secondValue?"firstButton":"secondButton",L[On]},Oe=Cn=>{const Dt=he(Cn);return Dt.value.setPosition(Cn),Dt},xe=Cn=>{e.firstValue=Cn,Ne(n.range?[j.value,re.value]:Cn)},$e=Cn=>{e.secondValue=Cn,n.range&&Ne([j.value,re.value])},Ne=Cn=>{r(UPDATE_MODEL_EVENT,Cn),r(INPUT_EVENT,Cn)},Ce=async()=>{await nextTick(),r(CHANGE_EVENT,n.range?[j.value,re.value]:n.modelValue)},Fe=Cn=>{var Dt,On,jt,An,Mn,$n;if(z.value||e.dragging)return;pe();let Ln=0;if(n.vertical){const Tn=(jt=(On=(Dt=Cn.touches)==null?void 0:Dt.item(0))==null?void 0:On.clientY)!=null?jt:Cn.clientY;Ln=(k.value.getBoundingClientRect().bottom-Tn)/e.sliderSize*100}else{const Tn=($n=(Mn=(An=Cn.touches)==null?void 0:An.item(0))==null?void 0:Mn.clientX)!=null?$n:Cn.clientX,Zn=k.value.getBoundingClientRect().left;Ln=(Tn-Zn)/e.sliderSize*100}if(!(Ln<0||Ln>100))return Oe(Ln)};return{elFormItem:y,slider:k,firstButton:$,secondButton:V,sliderDisabled:z,minValue:j,maxValue:re,runwayStyle:de,barStyle:ue,resetSize:pe,setPosition:Oe,emitChange:Ce,onSliderWrapperPrevent:Cn=>{var Dt,On;((Dt=L.firstButton.value)!=null&&Dt.dragging||(On=L.secondButton.value)!=null&&On.dragging)&&Cn.preventDefault()},onSliderClick:Cn=>{Fe(Cn)&&Ce()},onSliderDown:async Cn=>{const Dt=Fe(Cn);Dt&&(await nextTick(),Dt.value.onButtonDown(Cn))},setFirstValue:xe,setSecondValue:$e}},{left,down,right,up,home,end:end$1,pageUp,pageDown}=EVENT_CODE,useTooltip=(n,e,r)=>{const g=ref(),y=ref(!1),k=computed(()=>e.value instanceof Function),$=computed(()=>k.value&&e.value(n.modelValue)||n.modelValue),V=debounce(()=>{r.value&&(y.value=!0)},50),L=debounce(()=>{r.value&&(y.value=!1)},50);return{tooltip:g,tooltipVisible:y,formatValue:$,displayTooltip:V,hideTooltip:L}},useSliderButton=(n,e,r)=>{const{disabled:g,min:y,max:k,step:$,showTooltip:V,precision:L,sliderSize:z,formatTooltip:j,emitChange:re,resetSize:oe,updateDragging:ae}=inject(sliderContextKey),{tooltip:de,tooltipVisible:ue,formatValue:pe,displayTooltip:he,hideTooltip:Oe}=useTooltip(n,j,V),xe=ref(),$e=computed(()=>`${(n.modelValue-y.value)/(k.value-y.value)*100}%`),Ne=computed(()=>n.vertical?{bottom:$e.value}:{left:$e.value}),Ce=()=>{e.hovering=!0,he()},Fe=()=>{e.hovering=!1,e.dragging||Oe()},ze=Pn=>{g.value||(Pn.preventDefault(),Ln(Pn),window.addEventListener("mousemove",Tn),window.addEventListener("touchmove",Tn),window.addEventListener("mouseup",Zn),window.addEventListener("touchend",Zn),window.addEventListener("contextmenu",Zn),xe.value.focus())},kt=Pn=>{g.value||(e.newPosition=Number.parseFloat($e.value)+Pn/(k.value-y.value)*100,Qn(e.newPosition),re())},At=()=>{kt(-$.value)},Cn=()=>{kt($.value)},Dt=()=>{kt(-$.value*4)},On=()=>{kt($.value*4)},jt=()=>{g.value||(Qn(0),re())},An=()=>{g.value||(Qn(100),re())},Mn=Pn=>{let Wn=!0;[left,down].includes(Pn.key)?At():[right,up].includes(Pn.key)?Cn():Pn.key===home?jt():Pn.key===end$1?An():Pn.key===pageDown?Dt():Pn.key===pageUp?On():Wn=!1,Wn&&Pn.preventDefault()},$n=Pn=>{let Wn,ur;return Pn.type.startsWith("touch")?(ur=Pn.touches[0].clientY,Wn=Pn.touches[0].clientX):(ur=Pn.clientY,Wn=Pn.clientX),{clientX:Wn,clientY:ur}},Ln=Pn=>{e.dragging=!0,e.isClick=!0;const{clientX:Wn,clientY:ur}=$n(Pn);n.vertical?e.startY=ur:e.startX=Wn,e.startPosition=Number.parseFloat($e.value),e.newPosition=e.startPosition},Tn=Pn=>{if(e.dragging){e.isClick=!1,he(),oe();let Wn;const{clientX:ur,clientY:hr}=$n(Pn);n.vertical?(e.currentY=hr,Wn=(e.startY-e.currentY)/z.value*100):(e.currentX=ur,Wn=(e.currentX-e.startX)/z.value*100),e.newPosition=e.startPosition+Wn,Qn(e.newPosition)}},Zn=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||Oe(),e.isClick||Qn(e.newPosition),re()},0),window.removeEventListener("mousemove",Tn),window.removeEventListener("touchmove",Tn),window.removeEventListener("mouseup",Zn),window.removeEventListener("touchend",Zn),window.removeEventListener("contextmenu",Zn))},Qn=async Pn=>{if(Pn===null||Number.isNaN(+Pn))return;Pn<0?Pn=0:Pn>100&&(Pn=100);const Wn=100/((k.value-y.value)/$.value);let hr=Math.round(Pn/Wn)*Wn*(k.value-y.value)*.01+y.value;hr=Number.parseFloat(hr.toFixed(L.value)),hr!==n.modelValue&&r(UPDATE_MODEL_EVENT,hr),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await nextTick(),e.dragging&&he(),de.value.updatePopper()};return watch(()=>e.dragging,Pn=>{ae(Pn)}),{disabled:g,button:xe,tooltip:de,tooltipVisible:ue,showTooltip:V,wrapperStyle:Ne,formatValue:pe,handleMouseEnter:Ce,handleMouseLeave:Fe,onButtonDown:ze,onKeyDown:Mn,setPosition:Qn}},useStops=(n,e,r,g)=>({stops:computed(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const $=(n.max-n.min)/n.step,V=100*n.step/(n.max-n.min),L=Array.from({length:$-1}).map((z,j)=>(j+1)*V);return n.range?L.filter(z=>z<100*(r.value-n.min)/(n.max-n.min)||z>100*(g.value-n.min)/(n.max-n.min)):L.filter(z=>z>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:$=>n.vertical?{bottom:`${$}%`}:{left:`${$}%`}}),useWatch=(n,e,r,g,y,k)=>{const $=z=>{y(UPDATE_MODEL_EVENT,z),y(INPUT_EVENT,z)},V=()=>n.range?![r.value,g.value].every((z,j)=>z===e.oldValue[j]):n.modelValue!==e.oldValue,L=()=>{var z,j;n.min>n.max&&throwError("Slider","min should not be greater than max.");const re=n.modelValue;n.range&&Array.isArray(re)?re[1]<n.min?$([n.min,n.min]):re[0]>n.max?$([n.max,n.max]):re[0]<n.min?$([n.min,re[1]]):re[1]>n.max?$([re[0],n.max]):(e.firstValue=re[0],e.secondValue=re[1],V()&&(n.validateEvent&&((z=k?.validate)==null||z.call(k,"change").catch(oe=>void 0)),e.oldValue=re.slice())):!n.range&&typeof re=="number"&&!Number.isNaN(re)&&(re<n.min?$(n.min):re>n.max?$(n.max):(e.firstValue=re,V()&&(n.validateEvent&&((j=k?.validate)==null||j.call(k,"change").catch(oe=>void 0)),e.oldValue=re)))};L(),watch(()=>e.dragging,z=>{z||L()}),watch(()=>n.modelValue,(z,j)=>{e.dragging||Array.isArray(z)&&Array.isArray(j)&&z.every((re,oe)=>re===j[oe])&&e.firstValue===z[0]&&e.secondValue===z[1]||L()},{deep:!0}),watch(()=>[n.min,n.max],()=>{L()})},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)},_hoisted_1$1b=["tabindex"],__default__$r=defineComponent({name:"ElSliderButton"}),_sfc_main$1v=defineComponent({...__default__$r,props:sliderButtonProps,emits:sliderButtonEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("slider"),k=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:g.modelValue}),{disabled:$,button:V,tooltip:L,showTooltip:z,tooltipVisible:j,wrapperStyle:re,formatValue:oe,handleMouseEnter:ae,handleMouseLeave:de,onButtonDown:ue,onKeyDown:pe,setPosition:he}=useSliderButton(g,k,r),{hovering:Oe,dragging:xe}=toRefs(k);return e({onButtonDown:ue,onKeyDown:pe,setPosition:he,hovering:Oe,dragging:xe}),($e,Ne)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:V,class:normalizeClass([unref(y).e("button-wrapper"),{hover:unref(Oe),dragging:unref(xe)}]),style:normalizeStyle(unref(re)),tabindex:unref($)?-1:0,onMouseenter:Ne[0]||(Ne[0]=(...Ce)=>unref(ae)&&unref(ae)(...Ce)),onMouseleave:Ne[1]||(Ne[1]=(...Ce)=>unref(de)&&unref(de)(...Ce)),onMousedown:Ne[2]||(Ne[2]=(...Ce)=>unref(ue)&&unref(ue)(...Ce)),onTouchstart:Ne[3]||(Ne[3]=(...Ce)=>unref(ue)&&unref(ue)(...Ce)),onFocus:Ne[4]||(Ne[4]=(...Ce)=>unref(ae)&&unref(ae)(...Ce)),onBlur:Ne[5]||(Ne[5]=(...Ce)=>unref(de)&&unref(de)(...Ce)),onKeydown:Ne[6]||(Ne[6]=(...Ce)=>unref(pe)&&unref(pe)(...Ce))},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:L,visible:unref(j),placement:$e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":$e.tooltipClass,disabled:!unref(z),persistent:""},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(unref(oe)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(y).e("button"),{hover:unref(Oe),dragging:unref(xe)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,_hoisted_1$1b))}});var SliderButton=_export_sfc$1(_sfc_main$1v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(n){const e=useNamespace("slider"),r=computed(()=>isString$3(n.mark)?n.mark:n.mark.label),g=computed(()=>isString$3(n.mark)?void 0:n.mark.style);return()=>h$1("div",{class:e.e("marks-text"),style:g.value},r.value)}});const _hoisted_1$1a=["id","role","aria-label","aria-labelledby"],_hoisted_2$13={key:1},__default__$q=defineComponent({name:"ElSlider"}),_sfc_main$1u=defineComponent({...__default__$q,props:sliderProps,emits:sliderEmits,setup(n,{expose:e,emit:r}){const g=n,y=useNamespace("slider"),{t:k}=useLocale(),$=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:V,slider:L,firstButton:z,secondButton:j,sliderDisabled:re,minValue:oe,maxValue:ae,runwayStyle:de,barStyle:ue,resetSize:pe,emitChange:he,onSliderWrapperPrevent:Oe,onSliderClick:xe,onSliderDown:$e,setFirstValue:Ne,setSecondValue:Ce}=useSlide(g,$,r),{stops:Fe,getStopStyle:ze}=useStops(g,$,oe,ae),{inputId:kt,isLabeledByFormItem:At}=useFormItemInputId(g,{formItemContext:V}),Cn=useFormSize(),Dt=computed(()=>g.inputSize||Cn.value),On=computed(()=>g.label||k("el.slider.defaultLabel",{min:g.min,max:g.max})),jt=computed(()=>g.range?g.rangeStartLabel||k("el.slider.defaultRangeStartLabel"):On.value),An=computed(()=>g.formatValueText?g.formatValueText(Pn.value):`${Pn.value}`),Mn=computed(()=>g.rangeEndLabel||k("el.slider.defaultRangeEndLabel")),$n=computed(()=>g.formatValueText?g.formatValueText(Wn.value):`${Wn.value}`),Ln=computed(()=>[y.b(),y.m(Cn.value),y.is("vertical",g.vertical),{[y.m("with-input")]:g.showInput}]),Tn=useMarks(g);useWatch(g,$,oe,ae,r,V);const Zn=computed(()=>{const Vn=[g.min,g.max,g.step].map(En=>{const jn=`${En}`.split(".")[1];return jn?jn.length:0});return Math.max.apply(null,Vn)}),{sliderWrapper:Qn}=useLifecycle(g,$,pe),{firstValue:Pn,secondValue:Wn,sliderSize:ur}=toRefs($),hr=Vn=>{$.dragging=Vn};return provide(sliderContextKey,{...toRefs(g),sliderSize:ur,disabled:re,precision:Zn,emitChange:he,resetSize:pe,updateDragging:hr}),e({onSliderClick:xe}),(Vn,En)=>{var jn,cr;return openBlock(),createElementBlock("div",{id:Vn.range?unref(kt):void 0,ref_key:"sliderWrapper",ref:Qn,class:normalizeClass(unref(Ln)),role:Vn.range?"group":void 0,"aria-label":Vn.range&&!unref(At)?unref(On):void 0,"aria-labelledby":Vn.range&&unref(At)?(jn=unref(V))==null?void 0:jn.labelId:void 0,onTouchstart:En[2]||(En[2]=(...gr)=>unref(Oe)&&unref(Oe)(...gr)),onTouchmove:En[3]||(En[3]=(...gr)=>unref(Oe)&&unref(Oe)(...gr))},[createBaseVNode("div",{ref_key:"slider",ref:L,class:normalizeClass([unref(y).e("runway"),{"show-input":Vn.showInput&&!Vn.range},unref(y).is("disabled",unref(re))]),style:normalizeStyle(unref(de)),onMousedown:En[0]||(En[0]=(...gr)=>unref($e)&&unref($e)(...gr)),onTouchstart:En[1]||(En[1]=(...gr)=>unref($e)&&unref($e)(...gr))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("bar")),style:normalizeStyle(unref(ue))},null,6),createVNode(SliderButton,{id:Vn.range?void 0:unref(kt),ref_key:"firstButton",ref:z,"model-value":unref(Pn),vertical:Vn.vertical,"tooltip-class":Vn.tooltipClass,placement:Vn.placement,role:"slider","aria-label":Vn.range||!unref(At)?unref(jt):void 0,"aria-labelledby":!Vn.range&&unref(At)?(cr=unref(V))==null?void 0:cr.labelId:void 0,"aria-valuemin":Vn.min,"aria-valuemax":Vn.range?unref(Wn):Vn.max,"aria-valuenow":unref(Pn),"aria-valuetext":unref(An),"aria-orientation":Vn.vertical?"vertical":"horizontal","aria-disabled":unref(re),"onUpdate:modelValue":unref(Ne)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Vn.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:j,"model-value":unref(Wn),vertical:Vn.vertical,"tooltip-class":Vn.tooltipClass,placement:Vn.placement,role:"slider","aria-label":unref(Mn),"aria-valuemin":unref(Pn),"aria-valuemax":Vn.max,"aria-valuenow":unref(Wn),"aria-valuetext":unref($n),"aria-orientation":Vn.vertical?"vertical":"horizontal","aria-disabled":unref(re),"onUpdate:modelValue":unref(Ce)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),Vn.showStops?(openBlock(),createElementBlock("div",_hoisted_2$13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Fe),(gr,Cr)=>(openBlock(),createElementBlock("div",{key:Cr,class:normalizeClass(unref(y).e("stop")),style:normalizeStyle(unref(ze)(gr))},null,6))),128))])):createCommentVNode("v-if",!0),unref(Tn).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Tn),(gr,Cr)=>(openBlock(),createElementBlock("div",{key:Cr,style:normalizeStyle(unref(ze)(gr.position)),class:normalizeClass([unref(y).e("stop"),unref(y).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref(y).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Tn),(gr,Cr)=>(openBlock(),createBlock(unref(SliderMarker),{key:Cr,mark:gr.mark,style:normalizeStyle(unref(ze)(gr.position))},null,8,["mark","style"]))),128))],2)],64)):createCommentVNode("v-if",!0)],38),Vn.showInput&&!Vn.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(Pn),class:normalizeClass(unref(y).e("input")),step:Vn.step,disabled:unref(re),controls:Vn.showInputControls,min:Vn.min,max:Vn.max,debounce:Vn.debounce,size:unref(Dt),"onUpdate:modelValue":unref(Ne),onChange:unref(he)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],42,_hoisted_1$1a)}}});var Slider=_export_sfc$1(_sfc_main$1u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(n,{slots:e}){const r=useNamespace("space"),g=computed(()=>`${n.prefixCls||r.b()}__item`);return()=>h$1("div",{class:g.value},renderSlot(e,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(n){const e=useNamespace("space"),r=computed(()=>[e.b(),e.m(n.direction),n.class]),g=ref(0),y=ref(0),k=computed(()=>{const V=n.wrap||n.fill?{flexWrap:"wrap",marginBottom:`-${y.value}px`}:{},L={alignItems:n.alignment};return[V,L,n.style]}),$=computed(()=>{const V={paddingBottom:`${y.value}px`,marginRight:`${g.value}px`},L=n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{};return[V,L]});return watchEffect(()=>{const{size:V="small",wrap:L,direction:z,fill:j}=n;if(isArray$3(V)){const[re=0,oe=0]=V;g.value=re,y.value=oe}else{let re;isNumber$1(V)?re=V:re=SIZE_MAP[V||"small"]||SIZE_MAP.small,(L||j)&&z==="horizontal"?g.value=y.value=re:z==="horizontal"?(g.value=re,y.value=0):(y.value=re,g.value=0)}}),{classes:r,containerStyle:k,itemStyle:$}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:n=>isVNode$1(n)||isNumber$1(n)||isString$3(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:n=>isNumber$1(n)||isArray$3(n)&&n.length===2&&n.every(isNumber$1)}}),Space=defineComponent({name:"ElSpace",props:spaceProps,setup(n,{slots:e}){const{classes:r,containerStyle:g,itemStyle:y}=useSpace(n);function k($,V="",L=[]){const{prefixCls:z}=n;return $.forEach((j,re)=>{isFragment(j)?isArray$3(j.children)&&j.children.forEach((oe,ae)=>{isFragment(oe)&&isArray$3(oe.children)?k(oe.children,`${V+ae}-`,L):L.push(createVNode(SpaceItem,{style:y.value,prefixCls:z,key:`nested-${V+ae}`},{default:()=>[oe]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}):isValidElementNode(j)&&L.push(createVNode(SpaceItem,{style:y.value,prefixCls:z,key:`LoopKey${V+re}`},{default:()=>[j]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}),L}return()=>{var $;const{spacer:V,direction:L}=n,z=renderSlot(e,"default",{key:0},()=>[]);if((($=z.children)!=null?$:[]).length===0)return null;if(isArray$3(z.children)){let j=k(z.children);if(V){const re=j.length-1;j=j.reduce((oe,ae,de)=>{const ue=[...oe,ae];return de!==re&&ue.push(createVNode("span",{style:[y.value,L==="vertical"?"width: 100%":null],key:de},[isVNode$1(V)?V:createTextVNode(V,PatchFlags.TEXT)],PatchFlags.STYLE)),ue},[])}return createVNode("div",{class:r.value,style:g.value},j,PatchFlags.STYLE|PatchFlags.CLASS)}return z.children}}}),ElSpace=withInstall(Space),statisticProps=buildProps({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:definePropType([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:definePropType([String,Object,Array])}}),__default__$p=defineComponent({name:"ElStatistic"}),_sfc_main$1t=defineComponent({...__default__$p,props:statisticProps,setup(n,{expose:e}){const r=n,g=useNamespace("statistic"),y=computed(()=>{const{value:k,formatter:$,precision:V,decimalSeparator:L,groupSeparator:z}=r;if(isFunction$3($))return $(k);if(!isNumber$1(k))return k;let[j,re=""]=String(k).split(".");return re=re.padEnd(V,"0").slice(0,V>0?V:0),j=j.replace(/\B(?=(\d{3})+(?!\d))/g,z),[j,re].join(re?L:"")});return e({displayValue:y}),(k,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[k.$slots.title||k.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("head"))},[renderSlot(k.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(k.title),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("content"))},[k.$slots.prefix||k.prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("prefix"))},[renderSlot(k.$slots,"prefix",{},()=>[createBaseVNode("span",null,toDisplayString$1(k.prefix),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(g).e("number")),style:normalizeStyle(k.valueStyle)},toDisplayString$1(unref(y)),7),k.$slots.suffix||k.suffix?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("suffix"))},[renderSlot(k.$slots,"suffix",{},()=>[createBaseVNode("span",null,toDisplayString$1(k.suffix),1)])],2)):createCommentVNode("v-if",!0)],2)],2))}});var Statistic=_export_sfc$1(_sfc_main$1t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const ElStatistic=withInstall(Statistic),countdownProps=buildProps({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:definePropType([Number,Object]),default:0},valueStyle:{type:definePropType([String,Object,Array])}}),countdownEmits={finish:()=>!0,[CHANGE_EVENT]:n=>isNumber$1(n)},timeUnits=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],getTime=n=>isNumber$1(n)?new Date(n).getTime():n.valueOf(),formatTime$1=(n,e)=>{let r=n;const g=/\[([^\]]*)]/g;return timeUnits.reduce((k,[$,V])=>{const L=new RegExp(`${$}+(?![^\\[\\]]*\\])`,"g");if(L.test(k)){const z=Math.floor(r/V);return r-=z*V,k.replace(L,j=>String(z).padStart(j.length,"0"))}return k},e).replace(g,"$1")},__default__$o=defineComponent({name:"ElCountdown"}),_sfc_main$1s=defineComponent({...__default__$o,props:countdownProps,emits:countdownEmits,setup(n,{expose:e,emit:r}){const g=n;let y;const k=ref(getTime(g.value)-Date.now()),$=computed(()=>formatTime$1(k.value,g.format)),V=j=>formatTime$1(j,g.format),L=()=>{y&&(cAF(y),y=void 0)},z=()=>{const j=getTime(g.value),re=()=>{let oe=j-Date.now();r("change",oe),oe<=0?(oe=0,L(),r("finish")):y=rAF(re),k.value=oe};y=rAF(re)};return watch(()=>[g.value,g.format],()=>{L(),z()},{immediate:!0}),onBeforeUnmount(()=>{L()}),e({displayValue:$}),(j,re)=>(openBlock(),createBlock(unref(ElStatistic),{value:k.value,title:j.title,prefix:j.prefix,suffix:j.suffix,"value-style":j.valueStyle,formatter:V},createSlots({_:2},[renderList(j.$slots,(oe,ae)=>({name:ae,fn:withCtx(()=>[renderSlot(j.$slots,ae)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Countdown=_export_sfc$1(_sfc_main$1s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const ElCountdown=withInstall(Countdown),stepsProps=buildProps({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),stepsEmits={[CHANGE_EVENT]:(n,e)=>[n,e].every(isNumber$1)},__default__$n=defineComponent({name:"ElSteps"}),_sfc_main$1r=defineComponent({...__default__$n,props:stepsProps,emits:stepsEmits,setup(n,{emit:e}){const r=n,g=useNamespace("steps"),{children:y,addChild:k,removeChild:$}=useOrderedChildren(getCurrentInstance(),"ElStep");return watch(y,()=>{y.value.forEach((V,L)=>{V.setIndex(L)})}),provide("ElSteps",{props:r,steps:y,addStep:k,removeStep:$}),watch(()=>r.active,(V,L)=>{e(CHANGE_EVENT,V,L)}),(V,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(V.simple?"simple":V.direction)])},[renderSlot(V.$slots,"default")],2))}});var Steps=_export_sfc$1(_sfc_main$1r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const stepProps=buildProps({title:{type:String,default:""},icon:{type:iconPropType},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),__default__$m=defineComponent({name:"ElStep"}),_sfc_main$1q=defineComponent({...__default__$m,props:stepProps,setup(n){const e=n,r=useNamespace("step"),g=ref(-1),y=ref({}),k=ref(""),$=inject("ElSteps"),V=getCurrentInstance();onMounted(()=>{watch([()=>$.props.active,()=>$.props.processStatus,()=>$.props.finishStatus],([Ce])=>{$e(Ce)},{immediate:!0})}),onBeforeUnmount(()=>{$.removeStep(Ne.uid)});const L=computed(()=>e.status||k.value),z=computed(()=>{const Ce=$.steps.value[g.value-1];return Ce?Ce.currentStatus:"wait"}),j=computed(()=>$.props.alignCenter),re=computed(()=>$.props.direction==="vertical"),oe=computed(()=>$.props.simple),ae=computed(()=>$.steps.value.length),de=computed(()=>{var Ce;return((Ce=$.steps.value[ae.value-1])==null?void 0:Ce.uid)===V?.uid}),ue=computed(()=>oe.value?"":$.props.space),pe=computed(()=>[r.b(),r.is(oe.value?"simple":$.props.direction),r.is("flex",de.value&&!ue.value&&!j.value),r.is("center",j.value&&!re.value&&!oe.value)]),he=computed(()=>{const Ce={flexBasis:isNumber$1(ue.value)?`${ue.value}px`:ue.value?ue.value:`${100/(ae.value-(j.value?0:1))}%`};return re.value||de.value&&(Ce.maxWidth=`${100/ae.value}%`),Ce}),Oe=Ce=>{g.value=Ce},xe=Ce=>{const Fe=Ce==="wait",ze={transitionDelay:`${Fe?"-":""}${150*g.value}ms`},kt=Ce===$.props.processStatus||Fe?0:100;ze.borderWidth=kt&&!oe.value?"1px":0,ze[$.props.direction==="vertical"?"height":"width"]=`${kt}%`,y.value=ze},$e=Ce=>{Ce>g.value?k.value=$.props.finishStatus:Ce===g.value&&z.value!=="error"?k.value=$.props.processStatus:k.value="wait";const Fe=$.steps.value[g.value-1];Fe&&Fe.calcProgress(k.value)},Ne=reactive({uid:V.uid,currentStatus:L,setIndex:Oe,calcProgress:xe});return $.addStep(Ne),(Ce,Fe)=>(openBlock(),createElementBlock("div",{style:normalizeStyle(unref(he)),class:normalizeClass(unref(pe))},[createCommentVNode(" icon & line "),createBaseVNode("div",{class:normalizeClass([unref(r).e("head"),unref(r).is(unref(L))])},[unref(oe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("line"))},[createBaseVNode("i",{class:normalizeClass(unref(r).e("line-inner")),style:normalizeStyle(y.value)},null,6)],2)),createBaseVNode("div",{class:normalizeClass([unref(r).e("icon"),unref(r).is(Ce.icon||Ce.$slots.icon?"icon":"text")])},[renderSlot(Ce.$slots,"icon",{},()=>[Ce.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("icon-inner"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ce.icon)))]),_:1},8,["class"])):unref(L)==="success"?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(r).e("icon-inner"),unref(r).is("status")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):unref(L)==="error"?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(r).e("icon-inner"),unref(r).is("status")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"])):unref(oe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(unref(r).e("icon-inner"))},toDisplayString$1(g.value+1),3))])],2)],2),createCommentVNode(" title & description "),createBaseVNode("div",{class:normalizeClass(unref(r).e("main"))},[createBaseVNode("div",{class:normalizeClass([unref(r).e("title"),unref(r).is(unref(L))])},[renderSlot(Ce.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(Ce.title),1)])],2),unref(oe)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("arrow"))},null,2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(r).e("description"),unref(r).is(unref(L))])},[renderSlot(Ce.$slots,"description",{},()=>[createTextVNode(toDisplayString$1(Ce.description),1)])],2))],2)],6))}});var Step=_export_sfc$1(_sfc_main$1q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const ElSteps=withInstall(Steps,{Step}),ElStep=withNoopInstall(Step),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),switchEmits={[UPDATE_MODEL_EVENT]:n=>isBoolean$1(n)||isString$3(n)||isNumber$1(n),[CHANGE_EVENT]:n=>isBoolean$1(n)||isString$3(n)||isNumber$1(n),[INPUT_EVENT]:n=>isBoolean$1(n)||isString$3(n)||isNumber$1(n)},_hoisted_1$19=["onClick"],_hoisted_2$12=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$A=["aria-hidden"],_hoisted_4$v=["aria-hidden"],_hoisted_5$r=["aria-hidden"],COMPONENT_NAME$8="ElSwitch",__default__$l=defineComponent({name:COMPONENT_NAME$8}),_sfc_main$1p=defineComponent({...__default__$l,props:switchProps,emits:switchEmits,setup(n,{expose:e,emit:r}){const g=n,y=getCurrentInstance(),{formItem:k}=useFormItem(),$=useFormSize(),V=useNamespace("switch");(ze=>{ze.forEach(kt=>{useDeprecated({from:kt[0],replacement:kt[1],scope:COMPONENT_NAME$8,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},computed(()=>{var At;return!!((At=y.vnode.props)!=null&&At[kt[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:z}=useFormItemInputId(g,{formItemContext:k}),j=useFormDisabled(computed(()=>g.loading)),re=ref(g.modelValue!==!1),oe=ref(),ae=ref(),de=computed(()=>[V.b(),V.m($.value),V.is("disabled",j.value),V.is("checked",xe.value)]),ue=computed(()=>[V.e("label"),V.em("label","left"),V.is("active",!xe.value)]),pe=computed(()=>[V.e("label"),V.em("label","right"),V.is("active",xe.value)]),he=computed(()=>({width:addUnit(g.width)}));watch(()=>g.modelValue,()=>{re.value=!0}),watch(()=>g.value,()=>{re.value=!1});const Oe=computed(()=>re.value?g.modelValue:g.value),xe=computed(()=>Oe.value===g.activeValue);[g.activeValue,g.inactiveValue].includes(Oe.value)||(r(UPDATE_MODEL_EVENT,g.inactiveValue),r(CHANGE_EVENT,g.inactiveValue),r(INPUT_EVENT,g.inactiveValue)),watch(xe,ze=>{var kt;oe.value.checked=ze,g.validateEvent&&((kt=k?.validate)==null||kt.call(k,"change").catch(At=>void 0))});const $e=()=>{const ze=xe.value?g.inactiveValue:g.activeValue;r(UPDATE_MODEL_EVENT,ze),r(CHANGE_EVENT,ze),r(INPUT_EVENT,ze),nextTick(()=>{oe.value.checked=xe.value})},Ne=()=>{if(j.value)return;const{beforeChange:ze}=g;if(!ze){$e();return}const kt=ze();[isPromise(kt),isBoolean$1(kt)].includes(!0)||throwError(COMPONENT_NAME$8,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(kt)?kt.then(Cn=>{Cn&&$e()}).catch(Cn=>{}):kt&&$e()},Ce=computed(()=>V.cssVarBlock({...g.activeColor?{"on-color":g.activeColor}:null,...g.inactiveColor?{"off-color":g.inactiveColor}:null,...g.borderColor?{"border-color":g.borderColor}:null})),Fe=()=>{var ze,kt;(kt=(ze=oe.value)==null?void 0:ze.focus)==null||kt.call(ze)};return onMounted(()=>{oe.value.checked=xe.value}),e({focus:Fe,checked:xe}),(ze,kt)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(de)),style:normalizeStyle(unref(Ce)),onClick:withModifiers(Ne,["prevent"])},[createBaseVNode("input",{id:unref(z),ref_key:"input",ref:oe,class:normalizeClass(unref(V).e("input")),type:"checkbox",role:"switch","aria-checked":unref(xe),"aria-disabled":unref(j),name:ze.name,"true-value":ze.activeValue,"false-value":ze.inactiveValue,disabled:unref(j),tabindex:ze.tabindex,onChange:$e,onKeydown:withKeys(Ne,["enter"])},null,42,_hoisted_2$12),!ze.inlinePrompt&&(ze.inactiveIcon||ze.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ue))},[ze.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ze.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!ze.inactiveIcon&&ze.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(xe)},toDisplayString$1(ze.inactiveText),9,_hoisted_3$A)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:ae,class:normalizeClass(unref(V).e("core")),style:normalizeStyle(unref(he))},[ze.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).e("inner"))},[ze.activeIcon||ze.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(xe)?ze.activeIcon:ze.inactiveIcon)))]),_:1},8,["class"])):ze.activeText||ze.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(V).is("text")),"aria-hidden":!unref(xe)},toDisplayString$1(unref(xe)?ze.activeText:ze.inactiveText),11,_hoisted_4$v)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(V).e("action"))},[ze.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):ze.activeActionIcon&&unref(xe)?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ze.activeActionIcon)))]),_:1})):ze.inactiveActionIcon&&!unref(xe)?(openBlock(),createBlock(unref(ElIcon),{key:2},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ze.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)],2)],6),!ze.inlinePrompt&&(ze.activeIcon||ze.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(pe))},[ze.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ze.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!ze.activeIcon&&ze.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(xe)},toDisplayString$1(ze.activeText),9,_hoisted_5$r)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$19))}});var Switch=_export_sfc$1(_sfc_main$1p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ElSwitch=withInstall(Switch);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml$1;function escapeHtml$1(n){var e=""+n,r=matchHtmlRegExp.exec(e);if(!r)return e;var g,y="",k=0,$=0;for(k=r.index;k<e.length;k++){switch(e.charCodeAt(k)){case 34:g="&quot;";break;case 38:g="&amp;";break;case 39:g="&#39;";break;case 60:g="&lt;";break;case 62:g="&gt;";break;default:continue}$!==k&&(y+=e.substring($,k)),$=k+1,y+=g}return $!==k?y+e.substring($,k):y}const escapeHtml$2=getDefaultExportFromCjs(escapeHtml_1),getCell=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},orderBy=function(n,e,r,g,y){if(!e&&!g&&(!y||Array.isArray(y)&&!y.length))return n;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const k=g?null:function(V,L){return y?(Array.isArray(y)||(y=[y]),y.map(z=>typeof z=="string"?get(V,z):z(V,L,n))):(e!=="$key"&&isObject$3(V)&&"$value"in V&&(V=V.$value),[isObject$3(V)?get(V,e):V])},$=function(V,L){if(g)return g(V.value,L.value);for(let z=0,j=V.key.length;z<j;z++){if(V.key[z]<L.key[z])return-1;if(V.key[z]>L.key[z])return 1}return 0};return n.map((V,L)=>({value:V,index:L,key:k?k(V,L):null})).sort((V,L)=>{let z=$(V,L);return z||(z=V.index-L.index),z*+r}).map(V=>V.value)},getColumnById=function(n,e){let r=null;return n.columns.forEach(g=>{g.id===e&&(r=g)}),r},getColumnByKey=function(n,e){let r=null;for(let g=0;g<n.columns.length;g++){const y=n.columns[g];if(y.columnKey===e){r=y;break}}return r||throwError("ElTable",`No column matching with column-key: ${e}`),r},getColumnByCell=function(n,e,r){const g=(e.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return g?getColumnById(n,g[0]):null},getRowIdentity=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${n[e]}`;const r=e.split(".");let g=n;for(const y of r)g=g[y];return`${g}`}else if(typeof e=="function")return e.call(null,n)},getKeysMap=function(n,e){const r={};return(n||[]).forEach((g,y)=>{r[getRowIdentity(g,e)]={row:g,index:y}}),r};function mergeOptions(n,e){const r={};let g;for(g in n)r[g]=n[g];for(g in e)if(hasOwn$1(e,g)){const y=e[g];typeof y<"u"&&(r[g]=y)}return r}function parseWidth(n){return n===""||n!==void 0&&(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function parseMinWidth(n){return n===""||n!==void 0&&(n=parseWidth(n),Number.isNaN(n)&&(n=80)),n}function parseHeight(n){return typeof n=="number"?n:typeof n=="string"?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function compose(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,r)=>(...g)=>e(r(...g)))}function toggleRowStatus(n,e,r){let g=!1;const y=n.indexOf(e),k=y!==-1,$=V=>{V==="add"?n.push(e):n.splice(y,1),g=!0,isArray$3(e.children)&&e.children.forEach(L=>{toggleRowStatus(n,L,r??!k)})};return isBoolean$1(r)?r&&!k?$("add"):!r&&k&&$("remove"):$(k?"remove":"add"),g}function walkTreeNode(n,e,r="children",g="hasChildren"){const y=$=>!(Array.isArray($)&&$.length);function k($,V,L){e($,V,L),V.forEach(z=>{if(z[g]){e(z,null,L+1);return}const j=z[r];y(j)||k(z,j,L+1)})}n.forEach($=>{if($[g]){e($,null,0);return}const V=$[r];y(V)||k($,V,0)})}let removePopper;function createTablePopper(n,e,r,g,y){y=merge$1({enterable:!0,showArrow:!0},y);const k=n?.dataset.prefix,$=n?.querySelector(`.${k}-scrollbar__wrap`);function V(){const pe=y.effect==="light",he=document.createElement("div");return he.className=[`${k}-popper`,pe?"is-light":"is-dark",y.popperClass||""].join(" "),r=escapeHtml$2(r),he.innerHTML=r,he.style.zIndex=String(g()),n?.appendChild(he),he}function L(){const pe=document.createElement("div");return pe.className=`${k}-popper__arrow`,pe}function z(){j&&j.update()}removePopper?.(),removePopper=()=>{try{j&&j.destroy(),ae&&n?.removeChild(ae),e.removeEventListener("mouseenter",re),e.removeEventListener("mouseleave",oe),$?.removeEventListener("scroll",removePopper),removePopper=void 0}catch{}};let j=null,re=z,oe=removePopper;y.enterable&&({onOpen:re,onClose:oe}=useDelayedToggle({showAfter:y.showAfter,hideAfter:y.hideAfter,open:z,close:removePopper}));const ae=V();ae.onmouseenter=re,ae.onmouseleave=oe;const de=[];if(y.offset&&de.push({name:"offset",options:{offset:[0,y.offset]}}),y.showArrow){const pe=ae.appendChild(L());de.push({name:"arrow",options:{element:pe,padding:10}})}const ue=y.popperOptions||{};return j=yn(e,ae,{placement:y.placement||"top",strategy:"fixed",...ue,modifiers:ue.modifiers?de.concat(ue.modifiers):de}),e.addEventListener("mouseenter",re),e.addEventListener("mouseleave",oe),$?.addEventListener("scroll",removePopper),j}function getCurrentColumns(n){return n.children?flatMap(n.children,getCurrentColumns):[n]}function getColSpan(n,e){return n+e.colSpan}const isFixedColumn=(n,e,r,g)=>{let y=0,k=n;const $=r.states.columns.value;if(g){const L=getCurrentColumns(g[n]);y=$.slice(0,$.indexOf(L[0])).reduce(getColSpan,0),k=y+L.reduce(getColSpan,0)-1}else y=n;let V;switch(e){case"left":k<r.states.fixedLeafColumnsLength.value&&(V="left");break;case"right":y>=$.length-r.states.rightFixedLeafColumnsLength.value&&(V="right");break;default:k<r.states.fixedLeafColumnsLength.value?V="left":y>=$.length-r.states.rightFixedLeafColumnsLength.value&&(V="right")}return V?{direction:V,start:y,after:k}:{}},getFixedColumnsClass=(n,e,r,g,y,k=0)=>{const $=[],{direction:V,start:L,after:z}=isFixedColumn(e,r,g,y);if(V){const j=V==="left";$.push(`${n}-fixed-column--${V}`),j&&z+k===g.states.fixedLeafColumnsLength.value-1?$.push("is-last-column"):!j&&L-k===g.states.columns.value.length-g.states.rightFixedLeafColumnsLength.value&&$.push("is-first-column")}return $};function getOffset(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const getFixedColumnOffset=(n,e,r,g)=>{const{direction:y,start:k=0,after:$=0}=isFixedColumn(n,e,r,g);if(!y)return;const V={},L=y==="left",z=r.states.columns.value;return L?V.left=z.slice(0,k).reduce(getOffset,0):V.right=z.slice($+1).reverse().reduce(getOffset,0),V},ensurePosition=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};function useExpand(n){const e=getCurrentInstance(),r=ref(!1),g=ref([]);return{updateExpandRows:()=>{const L=n.data.value||[],z=n.rowKey.value;if(r.value)g.value=L.slice();else if(z){const j=getKeysMap(g.value,z);g.value=L.reduce((re,oe)=>{const ae=getRowIdentity(oe,z);return j[ae]&&re.push(oe),re},[])}else g.value=[]},toggleRowExpansion:(L,z)=>{toggleRowStatus(g.value,L,z)&&e.emit("expand-change",L,g.value.slice())},setExpandRowKeys:L=>{e.store.assertRowKey();const z=n.data.value||[],j=n.rowKey.value,re=getKeysMap(z,j);g.value=L.reduce((oe,ae)=>{const de=re[ae];return de&&oe.push(de.row),oe},[])},isRowExpanded:L=>{const z=n.rowKey.value;return z?!!getKeysMap(g.value,z)[getRowIdentity(L,z)]:g.value.includes(L)},states:{expandRows:g,defaultExpandAll:r}}}function useCurrent(n){const e=getCurrentInstance(),r=ref(null),g=ref(null),y=z=>{e.store.assertRowKey(),r.value=z,$(z)},k=()=>{r.value=null},$=z=>{const{data:j,rowKey:re}=n;let oe=null;re.value&&(oe=(unref(j)||[]).find(ae=>getRowIdentity(ae,re.value)===z)),g.value=oe,e.emit("current-change",g.value,null)};return{setCurrentRowKey:y,restoreCurrentRowKey:k,setCurrentRowByKey:$,updateCurrentRow:z=>{const j=g.value;if(z&&z!==j){g.value=z,e.emit("current-change",g.value,j);return}!z&&j&&(g.value=null,e.emit("current-change",null,j))},updateCurrentRowData:()=>{const z=n.rowKey.value,j=n.data.value||[],re=g.value;if(!j.includes(re)&&re){if(z){const oe=getRowIdentity(re,z);$(oe)}else g.value=null;g.value===null&&e.emit("current-change",null,re)}else r.value&&($(r.value),k())},states:{_currentRowKey:r,currentRow:g}}}function useTree$2(n){const e=ref([]),r=ref({}),g=ref(16),y=ref(!1),k=ref({}),$=ref("hasChildren"),V=ref("children"),L=getCurrentInstance(),z=computed(()=>{if(!n.rowKey.value)return{};const he=n.data.value||[];return re(he)}),j=computed(()=>{const he=n.rowKey.value,Oe=Object.keys(k.value),xe={};return Oe.length&&Oe.forEach($e=>{if(k.value[$e].length){const Ne={children:[]};k.value[$e].forEach(Ce=>{const Fe=getRowIdentity(Ce,he);Ne.children.push(Fe),Ce[$.value]&&!xe[Fe]&&(xe[Fe]={children:[]})}),xe[$e]=Ne}}),xe}),re=he=>{const Oe=n.rowKey.value,xe={};return walkTreeNode(he,($e,Ne,Ce)=>{const Fe=getRowIdentity($e,Oe);Array.isArray(Ne)?xe[Fe]={children:Ne.map(ze=>getRowIdentity(ze,Oe)),level:Ce}:y.value&&(xe[Fe]={children:[],lazy:!0,level:Ce})},V.value,$.value),xe},oe=(he=!1,Oe=(xe=>(xe=L.store)==null?void 0:xe.states.defaultExpandAll.value)())=>{var xe;const $e=z.value,Ne=j.value,Ce=Object.keys($e),Fe={};if(Ce.length){const ze=unref(r),kt=[],At=(Dt,On)=>{if(he)return e.value?Oe||e.value.includes(On):!!(Oe||Dt?.expanded);{const jt=Oe||e.value&&e.value.includes(On);return!!(Dt?.expanded||jt)}};Ce.forEach(Dt=>{const On=ze[Dt],jt={...$e[Dt]};if(jt.expanded=At(On,Dt),jt.lazy){const{loaded:An=!1,loading:Mn=!1}=On||{};jt.loaded=!!An,jt.loading=!!Mn,kt.push(Dt)}Fe[Dt]=jt});const Cn=Object.keys(Ne);y.value&&Cn.length&&kt.length&&Cn.forEach(Dt=>{const On=ze[Dt],jt=Ne[Dt].children;if(kt.includes(Dt)){if(Fe[Dt].children.length!==0)throw new Error("[ElTable]children must be an empty array.");Fe[Dt].children=jt}else{const{loaded:An=!1,loading:Mn=!1}=On||{};Fe[Dt]={lazy:!0,loaded:!!An,loading:!!Mn,expanded:At(On,Dt),children:jt,level:""}}})}r.value=Fe,(xe=L.store)==null||xe.updateTableScrollY()};watch(()=>e.value,()=>{oe(!0)}),watch(()=>z.value,()=>{oe()}),watch(()=>j.value,()=>{oe()});const ae=he=>{e.value=he,oe()},de=(he,Oe)=>{L.store.assertRowKey();const xe=n.rowKey.value,$e=getRowIdentity(he,xe),Ne=$e&&r.value[$e];if($e&&Ne&&"expanded"in Ne){const Ce=Ne.expanded;Oe=typeof Oe>"u"?!Ne.expanded:Oe,r.value[$e].expanded=Oe,Ce!==Oe&&L.emit("expand-change",he,Oe),L.store.updateTableScrollY()}},ue=he=>{L.store.assertRowKey();const Oe=n.rowKey.value,xe=getRowIdentity(he,Oe),$e=r.value[xe];y.value&&$e&&"loaded"in $e&&!$e.loaded?pe(he,xe,$e):de(he,void 0)},pe=(he,Oe,xe)=>{const{load:$e}=L.props;$e&&!r.value[Oe].loaded&&(r.value[Oe].loading=!0,$e(he,xe,Ne=>{if(!Array.isArray(Ne))throw new TypeError("[ElTable] data must be an array");r.value[Oe].loading=!1,r.value[Oe].loaded=!0,r.value[Oe].expanded=!0,Ne.length&&(k.value[Oe]=Ne),L.emit("expand-change",he,!0)}))};return{loadData:pe,loadOrToggle:ue,toggleTreeExpansion:de,updateTreeExpandKeys:ae,updateTreeData:oe,normalize:re,states:{expandRowKeys:e,treeData:r,indent:g,lazy:y,lazyTreeNodeMap:k,lazyColumnIdentifier:$,childrenColumnName:V}}}const sortData=(n,e)=>{const r=e.sortingColumn;return!r||typeof r.sortable=="string"?n:orderBy(n,e.sortProp,e.sortOrder,r.sortMethod,r.sortBy)},doFlattenColumns=n=>{const e=[];return n.forEach(r=>{r.children&&r.children.length>0?e.push.apply(e,doFlattenColumns(r.children)):e.push(r)}),e};function useWatcher$1(){var n;const e=getCurrentInstance(),{size:r}=toRefs((n=e.proxy)==null?void 0:n.$props),g=ref(null),y=ref([]),k=ref([]),$=ref(!1),V=ref([]),L=ref([]),z=ref([]),j=ref([]),re=ref([]),oe=ref([]),ae=ref([]),de=ref([]),ue=[],pe=ref(0),he=ref(0),Oe=ref(0),xe=ref(!1),$e=ref([]),Ne=ref(!1),Ce=ref(!1),Fe=ref(null),ze=ref({}),kt=ref(null),At=ref(null),Cn=ref(null),Dt=ref(null),On=ref(null);watch(y,()=>e.state&&$n(!1),{deep:!0});const jt=()=>{if(!g.value)throw new Error("[ElTable] prop row-key is required")},An=qe=>{var Et;(Et=qe.children)==null||Et.forEach(vn=>{vn.fixed=qe.fixed,An(vn)})},Mn=()=>{V.value.forEach(wn=>{An(wn)}),j.value=V.value.filter(wn=>wn.fixed===!0||wn.fixed==="left"),re.value=V.value.filter(wn=>wn.fixed==="right"),j.value.length>0&&V.value[0]&&V.value[0].type==="selection"&&!V.value[0].fixed&&(V.value[0].fixed=!0,j.value.unshift(V.value[0]));const qe=V.value.filter(wn=>!wn.fixed);L.value=[].concat(j.value).concat(qe).concat(re.value);const Et=doFlattenColumns(qe),vn=doFlattenColumns(j.value),Pt=doFlattenColumns(re.value);pe.value=Et.length,he.value=vn.length,Oe.value=Pt.length,z.value=[].concat(vn).concat(Et).concat(Pt),$.value=j.value.length>0||re.value.length>0},$n=(qe,Et=!1)=>{qe&&Mn(),Et?e.state.doLayout():e.state.debouncedUpdateLayout()},Ln=qe=>$e.value.includes(qe),Tn=()=>{xe.value=!1,$e.value.length&&($e.value=[],e.emit("selection-change",[]))},Zn=()=>{let qe;if(g.value){qe=[];const Et=getKeysMap($e.value,g.value),vn=getKeysMap(y.value,g.value);for(const Pt in Et)hasOwn$1(Et,Pt)&&!vn[Pt]&&qe.push(Et[Pt].row)}else qe=$e.value.filter(Et=>!y.value.includes(Et));if(qe.length){const Et=$e.value.filter(vn=>!qe.includes(vn));$e.value=Et,e.emit("selection-change",Et.slice())}},Qn=()=>($e.value||[]).slice(),Pn=(qe,Et=void 0,vn=!0)=>{if(toggleRowStatus($e.value,qe,Et)){const wn=($e.value||[]).slice();vn&&e.emit("select",wn,qe),e.emit("selection-change",wn)}},Wn=()=>{var qe,Et;const vn=Ce.value?!xe.value:!(xe.value||$e.value.length);xe.value=vn;let Pt=!1,wn=0;const bn=(Et=(qe=e?.store)==null?void 0:qe.states)==null?void 0:Et.rowKey.value;y.value.forEach((In,Fn)=>{const Dn=Fn+wn;Fe.value?Fe.value.call(null,In,Dn)&&toggleRowStatus($e.value,In,vn)&&(Pt=!0):toggleRowStatus($e.value,In,vn)&&(Pt=!0),wn+=Vn(getRowIdentity(In,bn))}),Pt&&e.emit("selection-change",$e.value?$e.value.slice():[]),e.emit("select-all",$e.value)},ur=()=>{const qe=getKeysMap($e.value,g.value);y.value.forEach(Et=>{const vn=getRowIdentity(Et,g.value),Pt=qe[vn];Pt&&($e.value[Pt.index]=Et)})},hr=()=>{var qe,Et,vn;if(((qe=y.value)==null?void 0:qe.length)===0){xe.value=!1;return}let Pt;g.value&&(Pt=getKeysMap($e.value,g.value));const wn=function(Dn){return Pt?!!Pt[getRowIdentity(Dn,g.value)]:$e.value.includes(Dn)};let bn=!0,In=0,Fn=0;for(let Dn=0,Un=(y.value||[]).length;Dn<Un;Dn++){const Jn=(vn=(Et=e?.store)==null?void 0:Et.states)==null?void 0:vn.rowKey.value,Hn=Dn+Fn,tr=y.value[Dn],kn=Fe.value&&Fe.value.call(null,tr,Hn);if(wn(tr))In++;else if(!Fe.value||kn){bn=!1;break}Fn+=Vn(getRowIdentity(tr,Jn))}In===0&&(bn=!1),xe.value=bn},Vn=qe=>{var Et;if(!e||!e.store)return 0;const{treeData:vn}=e.store.states;let Pt=0;const wn=(Et=vn.value[qe])==null?void 0:Et.children;return wn&&(Pt+=wn.length,wn.forEach(bn=>{Pt+=Vn(bn)})),Pt},En=(qe,Et)=>{Array.isArray(qe)||(qe=[qe]);const vn={};return qe.forEach(Pt=>{ze.value[Pt.id]=Et,vn[Pt.columnKey||Pt.id]=Et}),vn},jn=(qe,Et,vn)=>{At.value&&At.value!==qe&&(At.value.order=null),At.value=qe,Cn.value=Et,Dt.value=vn},cr=()=>{let qe=unref(k);Object.keys(ze.value).forEach(Et=>{const vn=ze.value[Et];if(!vn||vn.length===0)return;const Pt=getColumnById({columns:z.value},Et);Pt&&Pt.filterMethod&&(qe=qe.filter(wn=>vn.some(bn=>Pt.filterMethod.call(null,bn,wn,Pt))))}),kt.value=qe},gr=()=>{y.value=sortData(kt.value,{sortingColumn:At.value,sortProp:Cn.value,sortOrder:Dt.value})},Cr=(qe=void 0)=>{qe&&qe.filter||cr(),gr()},ir=qe=>{const{tableHeaderRef:Et}=e.refs;if(!Et)return;const vn=Object.assign({},Et.filterPanels),Pt=Object.keys(vn);if(Pt.length)if(typeof qe=="string"&&(qe=[qe]),Array.isArray(qe)){const wn=qe.map(bn=>getColumnByKey({columns:z.value},bn));Pt.forEach(bn=>{const In=wn.find(Fn=>Fn.id===bn);In&&(In.filteredValue=[])}),e.store.commit("filterChange",{column:wn,values:[],silent:!0,multi:!0})}else Pt.forEach(wn=>{const bn=z.value.find(In=>In.id===wn);bn&&(bn.filteredValue=[])}),ze.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Gn=()=>{At.value&&(jn(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:hn,toggleRowExpansion:Kn,updateExpandRows:Nn,states:Lt,isRowExpanded:_n}=useExpand({data:y,rowKey:g}),{updateTreeExpandKeys:Bn,toggleTreeExpansion:Xn,updateTreeData:rr,loadOrToggle:ar,states:sr}=useTree$2({data:y,rowKey:g}),{updateCurrentRowData:mr,updateCurrentRow:lr,setCurrentRowKey:le,states:_e}=useCurrent({data:y,rowKey:g});return{assertRowKey:jt,updateColumns:Mn,scheduleLayout:$n,isSelected:Ln,clearSelection:Tn,cleanSelection:Zn,getSelectionRows:Qn,toggleRowSelection:Pn,_toggleAllSelection:Wn,toggleAllSelection:null,updateSelectionByRowKey:ur,updateAllSelected:hr,updateFilters:En,updateCurrentRow:lr,updateSort:jn,execFilter:cr,execSort:gr,execQuery:Cr,clearFilter:ir,clearSort:Gn,toggleRowExpansion:Kn,setExpandRowKeysAdapter:qe=>{hn(qe),Bn(qe)},setCurrentRowKey:le,toggleRowExpansionAdapter:(qe,Et)=>{z.value.some(({type:Pt})=>Pt==="expand")?Kn(qe,Et):Xn(qe,Et)},isRowExpanded:_n,updateExpandRows:Nn,updateCurrentRowData:mr,loadOrToggle:ar,updateTreeData:rr,states:{tableSize:r,rowKey:g,data:y,_data:k,isComplex:$,_columns:V,originColumns:L,columns:z,fixedColumns:j,rightFixedColumns:re,leafColumns:oe,fixedLeafColumns:ae,rightFixedLeafColumns:de,updateOrderFns:ue,leafColumnsLength:pe,fixedLeafColumnsLength:he,rightFixedLeafColumnsLength:Oe,isAllSelected:xe,selection:$e,reserveSelection:Ne,selectOnIndeterminate:Ce,selectable:Fe,filters:ze,filteredData:kt,sortingColumn:At,sortProp:Cn,sortOrder:Dt,hoverRow:On,...Lt,...sr,..._e}}}function replaceColumn(n,e){return n.map(r=>{var g;return r.id===e.id?e:((g=r.children)!=null&&g.length&&(r.children=replaceColumn(r.children,e)),r)})}function sortColumn(n){n.forEach(e=>{var r,g;e.no=(r=e.getColumnIndex)==null?void 0:r.call(e),(g=e.children)!=null&&g.length&&sortColumn(e.children)}),n.sort((e,r)=>e.no-r.no)}function useStore(){const n=getCurrentInstance(),e=useWatcher$1();return{ns:useNamespace("table"),...e,mutations:{setData($,V){const L=unref($._data)!==V;$.data.value=V,$._data.value=V,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),unref($.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):L?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn($,V,L,z){const j=unref($._columns);let re=[];L?(L&&!L.children&&(L.children=[]),L.children.push(V),re=replaceColumn(j,L)):(j.push(V),re=j),sortColumn(re),$._columns.value=re,$.updateOrderFns.push(z),V.type==="selection"&&($.selectable.value=V.selectable,$.reserveSelection.value=V.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},updateColumnOrder($,V){var L;((L=V.getColumnIndex)==null?void 0:L.call(V))!==V.no&&(sortColumn($._columns.value),n.$ready&&n.store.updateColumns())},removeColumn($,V,L,z){const j=unref($._columns)||[];if(L)L.children.splice(L.children.findIndex(oe=>oe.id===V.id),1),nextTick(()=>{var oe;((oe=L.children)==null?void 0:oe.length)===0&&delete L.children}),$._columns.value=replaceColumn(j,L);else{const oe=j.indexOf(V);oe>-1&&(j.splice(oe,1),$._columns.value=j)}const re=$.updateOrderFns.indexOf(z);re>-1&&$.updateOrderFns.splice(re,1),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort($,V){const{prop:L,order:z,init:j}=V;if(L){const re=unref($.columns).find(oe=>oe.property===L);re&&(re.order=z,n.store.updateSort(re,L,z),n.store.commit("changeSortCondition",{init:j}))}},changeSortCondition($,V){const{sortingColumn:L,sortProp:z,sortOrder:j}=$,re=unref(L),oe=unref(z),ae=unref(j);ae===null&&($.sortingColumn.value=null,$.sortProp.value=null);const de={filter:!0};n.store.execQuery(de),(!V||!(V.silent||V.init))&&n.emit("sort-change",{column:re,prop:oe,order:ae}),n.store.updateTableScrollY()},filterChange($,V){const{column:L,values:z,silent:j}=V,re=n.store.updateFilters(L,z);n.store.execQuery(),j||n.emit("filter-change",re),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged($,V){n.store.toggleRowSelection(V),n.store.updateAllSelected()},setHoverRow($,V){$.hoverRow.value=V},setCurrentRow($,V){n.store.updateCurrentRow(V)}},commit:function($,...V){const L=n.store.mutations;if(L[$])L[$].apply(n,[n.store.states].concat(V));else throw new Error(`Action not found: ${$}`)},updateTableScrollY:function(){nextTick(()=>n.layout.updateScrollY.apply(n.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function createStore(n,e){if(!n)throw new Error("Table is required.");const r=useStore();return r.toggleAllSelection=debounce(r._toggleAllSelection,10),Object.keys(InitialStateMap).forEach(g=>{handleValue(getArrKeysValue(e,g),g,r)}),proxyTableProps(r,e),r}function proxyTableProps(n,e){Object.keys(InitialStateMap).forEach(r=>{watch(()=>getArrKeysValue(e,r),g=>{handleValue(g,r,n)})})}function handleValue(n,e,r){let g=n,y=InitialStateMap[e];typeof InitialStateMap[e]=="object"&&(y=y.key,g=g||InitialStateMap[e].default),r.states[y].value=g}function getArrKeysValue(n,e){if(e.includes(".")){const r=e.split(".");let g=n;return r.forEach(y=>{g=g[y]}),g}else return n[e]}class TableLayout{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const r in e)hasOwn$1(e,r)&&(isRef(this[r])?this[r].value=e[r]:this[r]=e[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&r?.wrapRef){let g=!0;const y=this.scrollY.value;return g=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=g,y!==g}return!1}setHeight(e,r="height"){if(!isClient)return;const g=this.table.vnode.el;if(e=parseHeight(e),this.height.value=Number(e),!g&&(e||e===0))return nextTick(()=>this.setHeight(e,r));typeof e=="number"?(g.style[r]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(g.style[r]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(g=>{g.isColumnGroup?e.push.apply(e,g.columns):e.push(g)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let r=e;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!isClient)return;const e=this.fit,r=this.table.vnode.el.clientWidth;let g=0;const y=this.getFlattenColumns(),k=y.filter(L=>typeof L.width!="number");if(y.forEach(L=>{typeof L.width=="number"&&L.realWidth&&(L.realWidth=null)}),k.length>0&&e){if(y.forEach(L=>{g+=Number(L.width||L.minWidth||80)}),g<=r){this.scrollX.value=!1;const L=r-g;if(k.length===1)k[0].realWidth=Number(k[0].minWidth||80)+L;else{const z=k.reduce((oe,ae)=>oe+Number(ae.minWidth||80),0),j=L/z;let re=0;k.forEach((oe,ae)=>{if(ae===0)return;const de=Math.floor(Number(oe.minWidth||80)*j);re+=de,oe.realWidth=Number(oe.minWidth||80)+de}),k[0].realWidth=Number(k[0].minWidth||80)+L-re}}else this.scrollX.value=!0,k.forEach(L=>{L.realWidth=Number(L.minWidth)});this.bodyWidth.value=Math.max(g,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else y.forEach(L=>{!L.width&&!L.minWidth?L.realWidth=80:L.realWidth=Number(L.width||L.minWidth),g+=L.realWidth}),this.scrollX.value=g>r,this.bodyWidth.value=g;const $=this.store.states.fixedColumns.value;if($.length>0){let L=0;$.forEach(z=>{L+=Number(z.realWidth||z.width)}),this.fixedWidth.value=L}const V=this.store.states.rightFixedColumns.value;if(V.length>0){let L=0;V.forEach(z=>{L+=Number(z.realWidth||z.width)}),this.rightFixedWidth.value=L}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const r=this.observers.indexOf(e);r!==-1&&this.observers.splice(r,1)}notifyObservers(e){this.observers.forEach(g=>{var y,k;switch(e){case"columns":(y=g.state)==null||y.onColumnsChange(this);break;case"scrollable":(k=g.state)==null||k.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$1o=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(n){const e=getCurrentInstance(),{t:r}=useLocale(),g=useNamespace("table-filter"),y=e?.parent;y.filterPanels.value[n.column.id]||(y.filterPanels.value[n.column.id]=e);const k=ref(!1),$=ref(null),V=computed(()=>n.column&&n.column.filters),L=computed({get:()=>{var $e;return((($e=n.column)==null?void 0:$e.filteredValue)||[])[0]},set:$e=>{z.value&&(typeof $e<"u"&&$e!==null?z.value.splice(0,1,$e):z.value.splice(0,1))}}),z=computed({get(){return n.column?n.column.filteredValue||[]:[]},set($e){n.column&&n.upDataColumn("filteredValue",$e)}}),j=computed(()=>n.column?n.column.filterMultiple:!0),re=$e=>$e.value===L.value,oe=()=>{k.value=!1},ae=$e=>{$e.stopPropagation(),k.value=!k.value},de=()=>{k.value=!1},ue=()=>{Oe(z.value),oe()},pe=()=>{z.value=[],Oe(z.value),oe()},he=$e=>{L.value=$e,Oe(typeof $e<"u"&&$e!==null?z.value:[]),oe()},Oe=$e=>{n.store.commit("filterChange",{column:n.column,values:$e}),n.store.updateAllSelected()};watch(k,$e=>{n.column&&n.upDataColumn("filterOpened",$e)},{immediate:!0});const xe=computed(()=>{var $e,Ne;return(Ne=($e=$.value)==null?void 0:$e.popperRef)==null?void 0:Ne.contentRef});return{tooltipVisible:k,multiple:j,filteredValue:z,filterValue:L,filters:V,handleConfirm:ue,handleReset:pe,handleSelect:he,isActive:re,t:r,ns:g,showFilterPanel:ae,hideFilterPanel:de,popperPaneRef:xe,tooltip:$}}}),_hoisted_1$18={key:0},_hoisted_2$11=["disabled"],_hoisted_3$z=["label","onClick"];function _sfc_render$4(n,e,r,g,y,k){const $=resolveComponent("el-checkbox"),V=resolveComponent("el-checkbox-group"),L=resolveComponent("el-scrollbar"),z=resolveComponent("arrow-up"),j=resolveComponent("arrow-down"),re=resolveComponent("el-icon"),oe=resolveComponent("el-tooltip"),ae=resolveDirective("click-outside");return openBlock(),createBlock(oe,{ref:"tooltip",visible:n.tooltipVisible,offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":n.ns.b(),persistent:""},{content:withCtx(()=>[n.multiple?(openBlock(),createElementBlock("div",_hoisted_1$18,[createBaseVNode("div",{class:normalizeClass(n.ns.e("content"))},[createVNode(L,{"wrap-class":n.ns.e("wrap")},{default:withCtx(()=>[createVNode(V,{modelValue:n.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=de=>n.filteredValue=de),class:normalizeClass(n.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filters,de=>(openBlock(),createBlock($,{key:de.value,label:de.value},{default:withCtx(()=>[createTextVNode(toDisplayString$1(de.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(n.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...de)=>n.handleConfirm&&n.handleConfirm(...de))},toDisplayString$1(n.t("el.table.confirmFilter")),11,_hoisted_2$11),createBaseVNode("button",{type:"button",onClick:e[2]||(e[2]=(...de)=>n.handleReset&&n.handleReset(...de))},toDisplayString$1(n.t("el.table.resetFilter")),1)],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(n.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:e[3]||(e[3]=de=>n.handleSelect(null))},toDisplayString$1(n.t("el.table.clearFilter")),3),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filters,de=>(openBlock(),createElementBlock("li",{key:de.value,class:normalizeClass([n.ns.e("list-item"),n.ns.is("active",n.isActive(de))]),label:de.value,onClick:ue=>n.handleSelect(de.value)},toDisplayString$1(de.text),11,_hoisted_3$z))),128))],2))]),default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...de)=>n.showFilterPanel&&n.showFilterPanel(...de))},[createVNode(re,null,{default:withCtx(()=>[n.column.filterOpened?(openBlock(),createBlock(z,{key:0})):(openBlock(),createBlock(j,{key:1}))]),_:1})],2)),[[ae,n.hideFilterPanel,n.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var FilterPanel=_export_sfc$1(_sfc_main$1o,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function useLayoutObserver(n){const e=getCurrentInstance();onBeforeMount(()=>{r.value.addObserver(e)}),onMounted(()=>{g(r.value),y(r.value)}),onUpdated(()=>{g(r.value),y(r.value)}),onUnmounted(()=>{r.value.removeObserver(e)});const r=computed(()=>{const k=n.layout;if(!k)throw new Error("Can not find table layout.");return k}),g=k=>{var $;const V=(($=n.vnode.el)==null?void 0:$.querySelectorAll("colgroup > col"))||[];if(!V.length)return;const L=k.getFlattenColumns(),z={};L.forEach(j=>{z[j.id]=j});for(let j=0,re=V.length;j<re;j++){const oe=V[j],ae=oe.getAttribute("name"),de=z[ae];de&&oe.setAttribute("width",de.realWidth||de.width)}},y=k=>{var $,V;const L=(($=n.vnode.el)==null?void 0:$.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let j=0,re=L.length;j<re;j++)L[j].setAttribute("width",k.scrollY.value?k.gutterWidth:"0");const z=((V=n.vnode.el)==null?void 0:V.querySelectorAll("th.gutter"))||[];for(let j=0,re=z.length;j<re;j++){const oe=z[j];oe.style.width=k.scrollY.value?`${k.gutterWidth}px`:"0",oe.style.display=k.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:g,onScrollableChange:y}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(n,e){const r=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=ue=>{ue.stopPropagation()},k=(ue,pe)=>{!pe.filters&&pe.sortable?de(ue,pe,!1):pe.filterable&&!pe.sortable&&y(ue),g?.emit("header-click",pe,ue)},$=(ue,pe)=>{g?.emit("header-contextmenu",pe,ue)},V=ref(null),L=ref(!1),z=ref({}),j=(ue,pe)=>{if(isClient&&!(pe.children&&pe.children.length>0)&&V.value&&n.border){L.value=!0;const he=g;e("set-drag-visible",!0);const xe=(he?.vnode.el).getBoundingClientRect().left,$e=r.vnode.el.querySelector(`th.${pe.id}`),Ne=$e.getBoundingClientRect(),Ce=Ne.left-xe+30;addClass($e,"noclick"),z.value={startMouseLeft:ue.clientX,startLeft:Ne.right-xe,startColumnLeft:Ne.left-xe,tableLeft:xe};const Fe=he?.refs.resizeProxy;Fe.style.left=`${z.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const ze=At=>{const Cn=At.clientX-z.value.startMouseLeft,Dt=z.value.startLeft+Cn;Fe.style.left=`${Math.max(Ce,Dt)}px`},kt=()=>{if(L.value){const{startColumnLeft:At,startLeft:Cn}=z.value,On=Number.parseInt(Fe.style.left,10)-At;pe.width=pe.realWidth=On,he?.emit("header-dragend",pe.width,Cn-At,pe,ue),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",L.value=!1,V.value=null,z.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",kt),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass($e,"noclick")},0)};document.addEventListener("mousemove",ze),document.addEventListener("mouseup",kt)}},re=(ue,pe)=>{if(pe.children&&pe.children.length>0)return;const he=ue.target;if(!isElement$1(he))return;const Oe=he?.closest("th");if(!(!pe||!pe.resizable)&&!L.value&&n.border){const xe=Oe.getBoundingClientRect(),$e=document.body.style;xe.width>12&&xe.right-ue.pageX<8?($e.cursor="col-resize",hasClass(Oe,"is-sortable")&&(Oe.style.cursor="col-resize"),V.value=pe):L.value||($e.cursor="",hasClass(Oe,"is-sortable")&&(Oe.style.cursor="pointer"),V.value=null)}},oe=()=>{isClient&&(document.body.style.cursor="")},ae=({order:ue,sortOrders:pe})=>{if(ue==="")return pe[0];const he=pe.indexOf(ue||null);return pe[he>pe.length-2?0:he+1]},de=(ue,pe,he)=>{var Oe;ue.stopPropagation();const xe=pe.order===he?null:he||ae(pe),$e=(Oe=ue.target)==null?void 0:Oe.closest("th");if($e&&hasClass($e,"noclick")){removeClass($e,"noclick");return}if(!pe.sortable)return;const Ne=n.store.states;let Ce=Ne.sortProp.value,Fe;const ze=Ne.sortingColumn.value;(ze!==pe||ze===pe&&ze.order===null)&&(ze&&(ze.order=null),Ne.sortingColumn.value=pe,Ce=pe.property),xe?Fe=pe.order=xe:Fe=pe.order=null,Ne.sortProp.value=Ce,Ne.sortOrder.value=Fe,g?.store.commit("changeSortCondition")};return{handleHeaderClick:k,handleHeaderContextMenu:$,handleMouseDown:j,handleMouseMove:re,handleMouseOut:oe,handleSortClick:de,handleFilterClick:y}}function useStyle$2(n){const e=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getHeaderRowStyle:V=>{const L=e?.props.headerRowStyle;return typeof L=="function"?L.call(null,{rowIndex:V}):L},getHeaderRowClass:V=>{const L=[],z=e?.props.headerRowClassName;return typeof z=="string"?L.push(z):typeof z=="function"&&L.push(z.call(null,{rowIndex:V})),L.join(" ")},getHeaderCellStyle:(V,L,z,j)=>{var re;let oe=(re=e?.props.headerCellStyle)!=null?re:{};typeof oe=="function"&&(oe=oe.call(null,{rowIndex:V,columnIndex:L,row:z,column:j}));const ae=getFixedColumnOffset(L,j.fixed,n.store,z);return ensurePosition(ae,"left"),ensurePosition(ae,"right"),Object.assign({},oe,ae)},getHeaderCellClass:(V,L,z,j)=>{const re=getFixedColumnsClass(r.b(),L,j.fixed,n.store,z),oe=[j.id,j.order,j.headerAlign,j.className,j.labelClassName,...re];j.children||oe.push("is-leaf"),j.sortable&&oe.push("is-sortable");const ae=e?.props.headerCellClassName;return typeof ae=="string"?oe.push(ae):typeof ae=="function"&&oe.push(ae.call(null,{rowIndex:V,columnIndex:L,row:z,column:j})),oe.push(r.e("cell")),oe.filter(de=>!!de).join(" ")}}}const getAllColumns=n=>{const e=[];return n.forEach(r=>{r.children?(e.push(r),e.push.apply(e,getAllColumns(r.children))):e.push(r)}),e},convertToRows=n=>{let e=1;const r=(k,$)=>{if($&&(k.level=$.level+1,e<k.level&&(e=k.level)),k.children){let V=0;k.children.forEach(L=>{r(L,k),V+=L.colSpan}),k.colSpan=V}else k.colSpan=1};n.forEach(k=>{k.level=1,r(k,void 0)});const g=[];for(let k=0;k<e;k++)g.push([]);return getAllColumns(n).forEach(k=>{k.children?(k.rowSpan=1,k.children.forEach($=>$.isSubColumn=!0)):k.rowSpan=e-k.level+1,g[k.level-1].push(k)}),g};function useUtils$1(n){const e=inject(TABLE_INJECTION_KEY),r=computed(()=>convertToRows(n.store.states.originColumns.value));return{isGroup:computed(()=>{const k=r.value.length>1;return k&&e&&(e.state.isGroup.value=!0),k}),toggleAllSelection:k=>{k.stopPropagation(),e?.store.commit("toggleAllSelection")},columnRows:r}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n,{emit:e}){const r=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=useNamespace("table"),k=ref({}),{onColumnsChange:$,onScrollableChange:V}=useLayoutObserver(g);onMounted(async()=>{await nextTick(),await nextTick();const{prop:Ce,order:Fe}=n.defaultSort;g?.store.commit("sort",{prop:Ce,order:Fe,init:!0})});const{handleHeaderClick:L,handleHeaderContextMenu:z,handleMouseDown:j,handleMouseMove:re,handleMouseOut:oe,handleSortClick:ae,handleFilterClick:de}=useEvent(n,e),{getHeaderRowStyle:ue,getHeaderRowClass:pe,getHeaderCellStyle:he,getHeaderCellClass:Oe}=useStyle$2(n),{isGroup:xe,toggleAllSelection:$e,columnRows:Ne}=useUtils$1(n);return r.state={onColumnsChange:$,onScrollableChange:V},r.filterPanels=k,{ns:y,filterPanels:k,onColumnsChange:$,onScrollableChange:V,columnRows:Ne,getHeaderRowClass:pe,getHeaderRowStyle:ue,getHeaderCellClass:Oe,getHeaderCellStyle:he,handleHeaderClick:L,handleHeaderContextMenu:z,handleMouseDown:j,handleMouseMove:re,handleMouseOut:oe,handleSortClick:ae,handleFilterClick:de,isGroup:xe,toggleAllSelection:$e}},render(){const{ns:n,isGroup:e,columnRows:r,getHeaderCellStyle:g,getHeaderCellClass:y,getHeaderRowClass:k,getHeaderRowStyle:$,handleHeaderClick:V,handleHeaderContextMenu:L,handleMouseDown:z,handleMouseMove:j,handleSortClick:re,handleMouseOut:oe,store:ae,$parent:de}=this;let ue=1;return h$1("thead",{class:{[n.is("group")]:e}},r.map((pe,he)=>h$1("tr",{class:k(he),key:he,style:$(he)},pe.map((Oe,xe)=>(Oe.rowSpan>ue&&(ue=Oe.rowSpan),h$1("th",{class:y(he,xe,pe,Oe),colspan:Oe.colSpan,key:`${Oe.id}-thead`,rowspan:Oe.rowSpan,style:g(he,xe,pe,Oe),onClick:$e=>V($e,Oe),onContextmenu:$e=>L($e,Oe),onMousedown:$e=>z($e,Oe),onMousemove:$e=>j($e,Oe),onMouseout:oe},[h$1("div",{class:["cell",Oe.filteredValue&&Oe.filteredValue.length>0?"highlight":""]},[Oe.renderHeader?Oe.renderHeader({column:Oe,$index:xe,store:ae,_self:de}):Oe.label,Oe.sortable&&h$1("span",{onClick:$e=>re($e,Oe),class:"caret-wrapper"},[h$1("i",{onClick:$e=>re($e,Oe,"ascending"),class:"sort-caret ascending"}),h$1("i",{onClick:$e=>re($e,Oe,"descending"),class:"sort-caret descending"})]),Oe.filterable&&h$1(FilterPanel,{store:ae,placement:Oe.filterPlacement||"bottom-start",column:Oe,upDataColumn:($e,Ne)=>{Oe[$e]=Ne}})])]))))))}});function useEvents(n){const e=inject(TABLE_INJECTION_KEY),r=ref(""),g=ref(h$1("div")),{nextZIndex:y}=useZIndex(),k=(de,ue,pe)=>{var he;const Oe=e,xe=getCell(de);let $e;const Ne=(he=Oe?.vnode.el)==null?void 0:he.dataset.prefix;xe&&($e=getColumnByCell({columns:n.store.states.columns.value},xe,Ne),$e&&Oe?.emit(`cell-${pe}`,ue,$e,xe,de)),Oe?.emit(`row-${pe}`,ue,$e,de)},$=(de,ue)=>{k(de,ue,"dblclick")},V=(de,ue)=>{n.store.commit("setCurrentRow",ue),k(de,ue,"click")},L=(de,ue)=>{k(de,ue,"contextmenu")},z=debounce(de=>{n.store.commit("setHoverRow",de)},30),j=debounce(()=>{n.store.commit("setHoverRow",null)},30),re=de=>{const ue=window.getComputedStyle(de,null),pe=Number.parseInt(ue.paddingLeft,10)||0,he=Number.parseInt(ue.paddingRight,10)||0,Oe=Number.parseInt(ue.paddingTop,10)||0,xe=Number.parseInt(ue.paddingBottom,10)||0;return{left:pe,right:he,top:Oe,bottom:xe}};return{handleDoubleClick:$,handleClick:V,handleContextMenu:L,handleMouseEnter:z,handleMouseLeave:j,handleCellMouseEnter:(de,ue,pe)=>{var he;const Oe=e,xe=getCell(de),$e=(he=Oe?.vnode.el)==null?void 0:he.dataset.prefix;if(xe){const $n=getColumnByCell({columns:n.store.states.columns.value},xe,$e),Ln=Oe.hoverState={cell:xe,column:$n,row:ue};Oe?.emit("cell-mouse-enter",Ln.row,Ln.column,Ln.cell,de)}if(!pe)return;const Ne=de.target.querySelector(".cell");if(!(hasClass(Ne,`${$e}-tooltip`)&&Ne.childNodes.length))return;const Ce=document.createRange();Ce.setStart(Ne,0),Ce.setEnd(Ne,Ne.childNodes.length);let Fe=Ce.getBoundingClientRect().width,ze=Ce.getBoundingClientRect().height;Fe-Math.floor(Fe)<.001&&(Fe=Math.floor(Fe)),ze-Math.floor(ze)<.001&&(ze=Math.floor(ze));const{top:Cn,left:Dt,right:On,bottom:jt}=re(Ne),An=Dt+On,Mn=Cn+jt;(Fe+An>Ne.offsetWidth||ze+Mn>Ne.offsetHeight||Ne.scrollWidth>Ne.offsetWidth)&&createTablePopper(e?.refs.tableWrapper,xe,xe.innerText||xe.textContent,y,pe)},handleCellMouseLeave:de=>{if(!getCell(de))return;const pe=e?.hoverState;e?.emit("cell-mouse-leave",pe?.row,pe?.column,pe?.cell,de)},tooltipContent:r,tooltipTrigger:g}}function useStyles$1(n){const e=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getRowStyle:(z,j)=>{const re=e?.props.rowStyle;return typeof re=="function"?re.call(null,{row:z,rowIndex:j}):re||null},getRowClass:(z,j)=>{const re=[r.e("row")];e?.props.highlightCurrentRow&&z===n.store.states.currentRow.value&&re.push("current-row"),n.stripe&&j%2===1&&re.push(r.em("row","striped"));const oe=e?.props.rowClassName;return typeof oe=="string"?re.push(oe):typeof oe=="function"&&re.push(oe.call(null,{row:z,rowIndex:j})),re},getCellStyle:(z,j,re,oe)=>{const ae=e?.props.cellStyle;let de=ae??{};typeof ae=="function"&&(de=ae.call(null,{rowIndex:z,columnIndex:j,row:re,column:oe}));const ue=getFixedColumnOffset(j,n?.fixed,n.store);return ensurePosition(ue,"left"),ensurePosition(ue,"right"),Object.assign({},de,ue)},getCellClass:(z,j,re,oe,ae)=>{const de=getFixedColumnsClass(r.b(),j,n?.fixed,n.store,void 0,ae),ue=[oe.id,oe.align,oe.className,...de],pe=e?.props.cellClassName;return typeof pe=="string"?ue.push(pe):typeof pe=="function"&&ue.push(pe.call(null,{rowIndex:z,columnIndex:j,row:re,column:oe})),ue.push(r.e("cell")),ue.filter(he=>!!he).join(" ")},getSpan:(z,j,re,oe)=>{let ae=1,de=1;const ue=e?.props.spanMethod;if(typeof ue=="function"){const pe=ue({row:z,column:j,rowIndex:re,columnIndex:oe});Array.isArray(pe)?(ae=pe[0],de=pe[1]):typeof pe=="object"&&(ae=pe.rowspan,de=pe.colspan)}return{rowspan:ae,colspan:de}},getColspanRealWidth:(z,j,re)=>{if(j<1)return z[re].realWidth;const oe=z.map(({realWidth:ae,width:de})=>ae||de).slice(re,re+j);return Number(oe.reduce((ae,de)=>Number(ae)+Number(de),-1))}}}function useRender$1(n){const e=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{handleDoubleClick:g,handleClick:y,handleContextMenu:k,handleMouseEnter:$,handleMouseLeave:V,handleCellMouseEnter:L,handleCellMouseLeave:z,tooltipContent:j,tooltipTrigger:re}=useEvents(n),{getRowStyle:oe,getRowClass:ae,getCellStyle:de,getCellClass:ue,getSpan:pe,getColspanRealWidth:he}=useStyles$1(n),Oe=computed(()=>n.store.states.columns.value.findIndex(({type:Fe})=>Fe==="default")),xe=(Fe,ze)=>{const kt=e.props.rowKey;return kt?getRowIdentity(Fe,kt):ze},$e=(Fe,ze,kt,At=!1)=>{const{tooltipEffect:Cn,tooltipOptions:Dt,store:On}=n,{indent:jt,columns:An}=On.states,Mn=ae(Fe,ze);let $n=!0;return kt&&(Mn.push(r.em("row",`level-${kt.level}`)),$n=kt.display),h$1("tr",{style:[$n?null:{display:"none"},oe(Fe,ze)],class:Mn,key:xe(Fe,ze),onDblclick:Tn=>g(Tn,Fe),onClick:Tn=>y(Tn,Fe),onContextmenu:Tn=>k(Tn,Fe),onMouseenter:()=>$(ze),onMouseleave:V},An.value.map((Tn,Zn)=>{const{rowspan:Qn,colspan:Pn}=pe(Fe,Tn,ze,Zn);if(!Qn||!Pn)return null;const Wn=Object.assign({},Tn);Wn.realWidth=he(An.value,Pn,Zn);const ur={store:n.store,_self:n.context||e,column:Wn,row:Fe,$index:ze,cellIndex:Zn,expanded:At};Zn===Oe.value&&kt&&(ur.treeNode={indent:kt.level*jt.value,level:kt.level},typeof kt.expanded=="boolean"&&(ur.treeNode.expanded=kt.expanded,"loading"in kt&&(ur.treeNode.loading=kt.loading),"noLazyChildren"in kt&&(ur.treeNode.noLazyChildren=kt.noLazyChildren)));const hr=`${ze},${Zn}`,Vn=Wn.columnKey||Wn.rawColumnKey||"",En=Ne(Zn,Tn,ur),jn=Tn.showOverflowTooltip&&merge$1({effect:Cn},Dt,Tn.showOverflowTooltip);return h$1("td",{style:de(ze,Zn,Fe,Tn),class:ue(ze,Zn,Fe,Tn,Pn-1),key:`${Vn}${hr}`,rowspan:Qn,colspan:Pn,onMouseenter:cr=>L(cr,Fe,jn),onMouseleave:z},[En])}))},Ne=(Fe,ze,kt)=>ze.renderCell(kt);return{wrappedRowRender:(Fe,ze)=>{const kt=n.store,{isRowExpanded:At,assertRowKey:Cn}=kt,{treeData:Dt,lazyTreeNodeMap:On,childrenColumnName:jt,rowKey:An}=kt.states,Mn=kt.states.columns.value;if(Mn.some(({type:Ln})=>Ln==="expand")){const Ln=At(Fe),Tn=$e(Fe,ze,void 0,Ln),Zn=e.renderExpanded;return Ln?Zn?[[Tn,h$1("tr",{key:`expanded-row__${Tn.key}`},[h$1("td",{colspan:Mn.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[Zn({row:Fe,$index:ze,store:kt,expanded:Ln})])])]]:(console.error("[Element Error]renderExpanded is required."),Tn):[[Tn]]}else if(Object.keys(Dt.value).length){Cn();const Ln=getRowIdentity(Fe,An.value);let Tn=Dt.value[Ln],Zn=null;Tn&&(Zn={expanded:Tn.expanded,level:Tn.level,display:!0},typeof Tn.lazy=="boolean"&&(typeof Tn.loaded=="boolean"&&Tn.loaded&&(Zn.noLazyChildren=!(Tn.children&&Tn.children.length)),Zn.loading=Tn.loading));const Qn=[$e(Fe,ze,Zn)];if(Tn){let Pn=0;const Wn=(hr,Vn)=>{hr&&hr.length&&Vn&&hr.forEach(En=>{const jn={display:Vn.display&&Vn.expanded,level:Vn.level+1,expanded:!1,noLazyChildren:!1,loading:!1},cr=getRowIdentity(En,An.value);if(cr==null)throw new Error("For nested data item, row-key is required.");if(Tn={...Dt.value[cr]},Tn&&(jn.expanded=Tn.expanded,Tn.level=Tn.level||jn.level,Tn.display=!!(Tn.expanded&&jn.display),typeof Tn.lazy=="boolean"&&(typeof Tn.loaded=="boolean"&&Tn.loaded&&(jn.noLazyChildren=!(Tn.children&&Tn.children.length)),jn.loading=Tn.loading)),Pn++,Qn.push($e(En,ze+Pn,jn)),Tn){const gr=On.value[cr]||En[jt.value];Wn(gr,Tn)}})};Tn.display=!0;const ur=On.value[Ln]||Fe[jt.value];Wn(ur,Tn)}return Qn}else return $e(Fe,ze,void 0)},tooltipContent:j,tooltipTrigger:re}}const defaultProps$2={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$2,setup(n){const e=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),g=useNamespace("table"),{wrappedRowRender:y,tooltipContent:k,tooltipTrigger:$}=useRender$1(n),{onColumnsChange:V,onScrollableChange:L}=useLayoutObserver(r);return watch(n.store.states.hoverRow,(z,j)=>{!n.store.states.isComplex.value||!isClient||rAF(()=>{const re=e?.vnode.el,oe=Array.from(re?.children||[]).filter(ue=>ue?.classList.contains(`${g.e("row")}`)),ae=oe[j],de=oe[z];ae&&removeClass(ae,"hover-row"),de&&addClass(de,"hover-row")})}),onUnmounted(()=>{var z;(z=removePopper)==null||z()}),{ns:g,onColumnsChange:V,onScrollableChange:L,wrappedRowRender:y,tooltipContent:k,tooltipTrigger:$}},render(){const{wrappedRowRender:n,store:e}=this,r=e.states.data.value||[];return h$1("tbody",{},[r.reduce((g,y)=>g.concat(n(y,g.length)),[])])}});function hColgroup(n){const e=n.tableLayout==="auto";let r=n.columns||[];e&&r.every(y=>y.width===void 0)&&(r=[]);const g=y=>{const k={key:`${n.tableLayout}_${y.id}`,style:{},name:void 0};return e?k.style={width:`${y.width}px`}:k.name=y.id,k};return h$1("colgroup",{},r.map(y=>h$1("col",g(y))))}hColgroup.props=["columns","tableLayout"];function useMapState(){const n=inject(TABLE_INJECTION_KEY),e=n?.store,r=computed(()=>e.states.fixedLeafColumnsLength.value),g=computed(()=>e.states.rightFixedColumns.value.length),y=computed(()=>e.states.columns.value.length),k=computed(()=>e.states.fixedColumns.value.length),$=computed(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:g,columnsCount:y,leftFixedCount:k,rightFixedCount:$,columns:e.states.columns}}function useStyle$1(n){const{columns:e}=useMapState(),r=useNamespace("table");return{getCellClasses:(k,$)=>{const V=k[$],L=[r.e("cell"),V.id,V.align,V.labelClassName,...getFixedColumnsClass(r.b(),$,V.fixed,n.store)];return V.className&&L.push(V.className),V.children||L.push(r.is("leaf")),L},getCellStyles:(k,$)=>{const V=getFixedColumnOffset($,k.fixed,n.store);return ensurePosition(V,"left"),ensurePosition(V,"right"),V},columns:e}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:r,columns:g}=useStyle$1(n);return{ns:useNamespace("table"),getCellClasses:e,getCellStyles:r,columns:g}},render(){const{columns:n,getCellStyles:e,getCellClasses:r,summaryMethod:g,sumText:y,ns:k}=this,$=this.store.states.data.value;let V=[];return g?V=g({columns:n,data:$}):n.forEach((L,z)=>{if(z===0){V[z]=y;return}const j=$.map(de=>Number(de[L.property])),re=[];let oe=!0;j.forEach(de=>{if(!Number.isNaN(+de)){oe=!1;const ue=`${de}`.split(".")[1];re.push(ue?ue.length:0)}});const ae=Math.max.apply(null,re);oe?V[z]="":V[z]=j.reduce((de,ue)=>{const pe=Number(ue);return Number.isNaN(+pe)?de:Number.parseFloat((de+ue).toFixed(Math.min(ae,20)))},0)}),h$1("table",{class:k.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[hColgroup({columns:n}),h$1("tbody",[h$1("tr",{},[...n.map((L,z)=>h$1("td",{key:z,colspan:L.colSpan,rowspan:L.rowSpan,class:r(n,z),style:e(L,z)},[h$1("div",{class:["cell",L.labelClassName]},[V[z]])]))])])])}});function useUtils(n){return{setCurrentRow:j=>{n.commit("setCurrentRow",j)},getSelectionRows:()=>n.getSelectionRows(),toggleRowSelection:(j,re)=>{n.toggleRowSelection(j,re,!1),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:j=>{n.clearFilter(j)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(j,re)=>{n.toggleRowExpansionAdapter(j,re)},clearSort:()=>{n.clearSort()},sort:(j,re)=>{n.commit("sort",{prop:j,order:re})}}}function useStyle(n,e,r,g){const y=ref(!1),k=ref(null),$=ref(!1),V=Tn=>{$.value=Tn},L=ref({width:null,height:null,headerHeight:null}),z=ref(!1),j={display:"inline-block",verticalAlign:"middle"},re=ref(),oe=ref(0),ae=ref(0),de=ref(0),ue=ref(0),pe=ref(0);watchEffect(()=>{e.setHeight(n.height)}),watchEffect(()=>{e.setMaxHeight(n.maxHeight)}),watch(()=>[n.currentRowKey,r.states.rowKey],([Tn,Zn])=>{!unref(Zn)||!unref(Tn)||r.setCurrentRowKey(`${Tn}`)},{immediate:!0}),watch(()=>n.data,Tn=>{g.store.commit("setData",Tn)},{immediate:!0,deep:!0}),watchEffect(()=>{n.expandRowKeys&&r.setExpandRowKeysAdapter(n.expandRowKeys)});const he=()=>{g.store.commit("setHoverRow",null),g.hoverState&&(g.hoverState=null)},Oe=(Tn,Zn)=>{const{pixelX:Qn,pixelY:Pn}=Zn;Math.abs(Qn)>=Math.abs(Pn)&&(g.refs.bodyWrapper.scrollLeft+=Zn.pixelX/5)},xe=computed(()=>n.height||n.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),$e=computed(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),Ne=()=>{xe.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(kt)};onMounted(async()=>{await nextTick(),r.updateColumns(),At(),requestAnimationFrame(Ne);const Tn=g.vnode.el,Zn=g.refs.headerWrapper;n.flexible&&Tn&&Tn.parentElement&&(Tn.parentElement.style.minWidth="0"),L.value={width:re.value=Tn.offsetWidth,height:Tn.offsetHeight,headerHeight:n.showHeader&&Zn?Zn.offsetHeight:null},r.states.columns.value.forEach(Qn=>{Qn.filteredValue&&Qn.filteredValue.length&&g.store.commit("filterChange",{column:Qn,values:Qn.filteredValue,silent:!0})}),g.$ready=!0});const Ce=(Tn,Zn)=>{if(!Tn)return;const Qn=Array.from(Tn.classList).filter(Pn=>!Pn.startsWith("is-scrolling-"));Qn.push(e.scrollX.value?Zn:"is-scrolling-none"),Tn.className=Qn.join(" ")},Fe=Tn=>{const{tableWrapper:Zn}=g.refs;Ce(Zn,Tn)},ze=Tn=>{const{tableWrapper:Zn}=g.refs;return!!(Zn&&Zn.classList.contains(Tn))},kt=function(){if(!g.refs.scrollBarRef)return;if(!e.scrollX.value){const Vn="is-scrolling-none";ze(Vn)||Fe(Vn);return}const Tn=g.refs.scrollBarRef.wrapRef;if(!Tn)return;const{scrollLeft:Zn,offsetWidth:Qn,scrollWidth:Pn}=Tn,{headerWrapper:Wn,footerWrapper:ur}=g.refs;Wn&&(Wn.scrollLeft=Zn),ur&&(ur.scrollLeft=Zn);const hr=Pn-Qn-1;Zn>=hr?Fe("is-scrolling-right"):Fe(Zn===0?"is-scrolling-left":"is-scrolling-middle")},At=()=>{g.refs.scrollBarRef&&(g.refs.scrollBarRef.wrapRef&&useEventListener(g.refs.scrollBarRef.wrapRef,"scroll",kt,{passive:!0}),n.fit?useResizeObserver(g.vnode.el,Cn):useEventListener(window,"resize",Cn),useResizeObserver(g.refs.bodyWrapper,()=>{var Tn,Zn;Cn(),(Zn=(Tn=g.refs)==null?void 0:Tn.scrollBarRef)==null||Zn.update()}))},Cn=()=>{var Tn,Zn,Qn,Pn;const Wn=g.vnode.el;if(!g.$ready||!Wn)return;let ur=!1;const{width:hr,height:Vn,headerHeight:En}=L.value,jn=re.value=Wn.offsetWidth;hr!==jn&&(ur=!0);const cr=Wn.offsetHeight;(n.height||xe.value)&&Vn!==cr&&(ur=!0);const gr=n.tableLayout==="fixed"?g.refs.headerWrapper:(Tn=g.refs.tableHeaderRef)==null?void 0:Tn.$el;n.showHeader&&gr?.offsetHeight!==En&&(ur=!0),oe.value=((Zn=g.refs.tableWrapper)==null?void 0:Zn.scrollHeight)||0,de.value=gr?.scrollHeight||0,ue.value=((Qn=g.refs.footerWrapper)==null?void 0:Qn.offsetHeight)||0,pe.value=((Pn=g.refs.appendWrapper)==null?void 0:Pn.offsetHeight)||0,ae.value=oe.value-de.value-ue.value-pe.value,ur&&(L.value={width:jn,height:cr,headerHeight:n.showHeader&&gr?.offsetHeight||0},Ne())},Dt=useFormSize(),On=computed(()=>{const{bodyWidth:Tn,scrollY:Zn,gutterWidth:Qn}=e;return Tn.value?`${Tn.value-(Zn.value?Qn:0)}px`:""}),jt=computed(()=>n.maxHeight?"fixed":n.tableLayout),An=computed(()=>{if(n.data&&n.data.length)return null;let Tn="100%";n.height&&ae.value&&(Tn=`${ae.value}px`);const Zn=re.value;return{width:Zn?`${Zn}px`:"",height:Tn}}),Mn=computed(()=>n.height?{height:Number.isNaN(Number(n.height))?n.height:`${n.height}px`}:n.maxHeight?{maxHeight:Number.isNaN(Number(n.maxHeight))?n.maxHeight:`${n.maxHeight}px`}:{}),$n=computed(()=>n.height?{height:"100%"}:n.maxHeight?Number.isNaN(Number(n.maxHeight))?{maxHeight:`calc(${n.maxHeight} - ${de.value+ue.value}px)`}:{maxHeight:`${n.maxHeight-de.value-ue.value}px`}:{});return{isHidden:y,renderExpanded:k,setDragVisible:V,isGroup:z,handleMouseLeave:he,handleHeaderFooterMousewheel:Oe,tableSize:Dt,emptyBlockStyle:An,handleFixedMousewheel:(Tn,Zn)=>{const Qn=g.refs.bodyWrapper;if(Math.abs(Zn.spinY)>0){const Pn=Qn.scrollTop;Zn.pixelY<0&&Pn!==0&&Tn.preventDefault(),Zn.pixelY>0&&Qn.scrollHeight-Qn.clientHeight>Pn&&Tn.preventDefault(),Qn.scrollTop+=Math.ceil(Zn.pixelY/5)}else Qn.scrollLeft+=Math.ceil(Zn.pixelX/5)},resizeProxyVisible:$,bodyWidth:On,resizeState:L,doLayout:Ne,tableBodyStyles:$e,tableLayout:jt,scrollbarViewStyle:j,tableInnerStyle:Mn,scrollbarStyle:$n}}function useKeyRender(n){const e=ref(),r=()=>{const y=n.vnode.el.querySelector(".hidden-columns"),k={childList:!0,subtree:!0},$=n.store.states.updateOrderFns;e.value=new MutationObserver(()=>{$.forEach(V=>V())}),e.value.observe(y,k)};onMounted(()=>{r()}),onUnmounted(()=>{var g;(g=e.value)==null||g.disconnect()})}var defaultProps$1={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean,showOverflowTooltip:[Boolean,Object]};const useScrollbar$1=()=>{const n=ref(),e=(k,$)=>{const V=n.value;V&&V.scrollTo(k,$)},r=(k,$)=>{const V=n.value;V&&isNumber$1($)&&["Top","Left"].includes(k)&&V[`setScroll${k}`]($)};return{scrollBarRef:n,scrollTo:e,setScrollTop:k=>r("Top",k),setScrollLeft:k=>r("Left",k)}};let tableIdSeed=1;const _sfc_main$1n=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$1,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(n){const{t:e}=useLocale(),r=useNamespace("table"),g=getCurrentInstance();provide(TABLE_INJECTION_KEY,g);const y=createStore(g,n);g.store=y;const k=new TableLayout({store:g.store,table:g,fit:n.fit,showHeader:n.showHeader});g.layout=k;const $=computed(()=>(y.states.data.value||[]).length===0),{setCurrentRow:V,getSelectionRows:L,toggleRowSelection:z,clearSelection:j,clearFilter:re,toggleAllSelection:oe,toggleRowExpansion:ae,clearSort:de,sort:ue}=useUtils(y),{isHidden:pe,renderExpanded:he,setDragVisible:Oe,isGroup:xe,handleMouseLeave:$e,handleHeaderFooterMousewheel:Ne,tableSize:Ce,emptyBlockStyle:Fe,handleFixedMousewheel:ze,resizeProxyVisible:kt,bodyWidth:At,resizeState:Cn,doLayout:Dt,tableBodyStyles:On,tableLayout:jt,scrollbarViewStyle:An,tableInnerStyle:Mn,scrollbarStyle:$n}=useStyle(n,k,y,g),{scrollBarRef:Ln,scrollTo:Tn,setScrollLeft:Zn,setScrollTop:Qn}=useScrollbar$1(),Pn=debounce(Dt,50),Wn=`${r.namespace.value}-table_${tableIdSeed++}`;g.tableId=Wn,g.state={isGroup:xe,resizeState:Cn,doLayout:Dt,debouncedUpdateLayout:Pn};const ur=computed(()=>n.sumText||e("el.table.sumText")),hr=computed(()=>n.emptyText||e("el.table.emptyText"));return useKeyRender(g),{ns:r,layout:k,store:y,handleHeaderFooterMousewheel:Ne,handleMouseLeave:$e,tableId:Wn,tableSize:Ce,isHidden:pe,isEmpty:$,renderExpanded:he,resizeProxyVisible:kt,resizeState:Cn,isGroup:xe,bodyWidth:At,tableBodyStyles:On,emptyBlockStyle:Fe,debouncedUpdateLayout:Pn,handleFixedMousewheel:ze,setCurrentRow:V,getSelectionRows:L,toggleRowSelection:z,clearSelection:j,clearFilter:re,toggleAllSelection:oe,toggleRowExpansion:ae,clearSort:de,doLayout:Dt,sort:ue,t:e,setDragVisible:Oe,context:g,computedSumText:ur,computedEmptyText:hr,tableLayout:jt,scrollbarViewStyle:An,tableInnerStyle:Mn,scrollbarStyle:$n,scrollBarRef:Ln,scrollTo:Tn,setScrollLeft:Zn,setScrollTop:Qn}}}),_hoisted_1$17=["data-prefix"],_hoisted_2$10={ref:"hiddenColumns",class:"hidden-columns"};function _sfc_render$3(n,e,r,g,y,k){const $=resolveComponent("hColgroup"),V=resolveComponent("table-header"),L=resolveComponent("table-body"),z=resolveComponent("el-scrollbar"),j=resolveComponent("table-footer"),re=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:normalizeStyle(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...oe)=>n.handleMouseLeave&&n.handleMouseLeave(...oe))},[createBaseVNode("div",{class:normalizeClass(n.ns.e("inner-wrapper")),style:normalizeStyle(n.tableInnerStyle)},[createBaseVNode("div",_hoisted_2$10,[renderSlot(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(n.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(n.ns.e("header")),style:normalizeStyle(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode($,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),createVNode(V,{ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[re,n.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(n.ns.e("body-wrapper"))},[createVNode(z,{ref:"scrollBarRef","view-style":n.scrollbarViewStyle,"wrap-style":n.scrollbarStyle,always:n.scrollbarAlwaysOn},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle({width:n.bodyWidth,tableLayout:n.tableLayout})},[createVNode($,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?(openBlock(),createBlock(V,{key:0,ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode(L,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"tooltip-options":n.tooltipOptions,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"])],6),n.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle(n.emptyBlockStyle),class:normalizeClass(n.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(n.ns.e("empty-text"))},[renderSlot(n.$slots,"empty",{},()=>[createTextVNode(toDisplayString$1(n.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),n.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(n.ns.e("append-wrapper"))},[renderSlot(n.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),n.showSummary?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(n.ns.e("footer-wrapper"))},[createVNode(j,{border:n.border,"default-sort":n.defaultSort,store:n.store,style:normalizeStyle(n.tableBodyStyles),"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[vShow,!n.isEmpty],[re,n.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),n.border||n.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(n.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],6),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(n.ns.e("column-resize-proxy"))},null,2),[[vShow,n.resizeProxyVisible]])],46,_hoisted_1$17)}var Table=_export_sfc$1(_sfc_main$1n,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=n=>defaultClassNames[n]||"",cellForced={selection:{renderHeader({store:n,column:e}){function r(){return n.states.data.value&&n.states.data.value.length===0}return h$1(ElCheckbox,{disabled:r(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:n,column:e,store:r,$index:g}){return h$1(ElCheckbox,{disabled:e.selectable?!e.selectable.call(null,n,g):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",n)},onClick:y=>y.stopPropagation(),modelValue:r.isSelected(n),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let r=e+1;const g=n.index;return typeof g=="number"?r=e+g:typeof g=="function"&&(r=g(e)),h$1("div",{},[r])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e,expanded:r}){const{ns:g}=e,y=[g.e("expand-icon")];return r&&y.push(g.em("expand-icon","expanded")),h$1("div",{class:y,onClick:function($){$.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[h$1(ElIcon,null,{default:()=>[h$1(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:n,column:e,$index:r}){var g;const y=e.property,k=y&&getProp(n,y).value;return e&&e.formatter?e.formatter(n,e,k,r):((g=k?.toString)==null?void 0:g.call(k))||""}function treeCellPrefix({row:n,treeNode:e,store:r},g=!1){const{ns:y}=r;if(!e)return g?[h$1("span",{class:y.e("placeholder")})]:null;const k=[],$=function(V){V.stopPropagation(),!e.loading&&r.loadOrToggle(n)};if(e.indent&&k.push(h$1("span",{class:y.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const V=[y.e("expand-icon"),e.expanded?y.em("expand-icon","expanded"):""];let L=arrow_right_default;e.loading&&(L=loading_default),k.push(h$1("div",{class:V,onClick:$},{default:()=>[h$1(ElIcon,{class:{[y.is("loading")]:e.loading}},{default:()=>[h$1(L)]})]}))}else k.push(h$1("span",{class:y.e("placeholder")}));return k}function getAllAliases(n,e){return n.reduce((r,g)=>(r[g]=g,r),e)}function useWatcher(n,e){const r=getCurrentInstance();return{registerComplexWatchers:()=>{const k=["fixed"],$={realWidth:"width",realMinWidth:"minWidth"},V=getAllAliases(k,$);Object.keys(V).forEach(L=>{const z=$[L];hasOwn$1(e,z)&&watch(()=>e[z],j=>{let re=j;z==="width"&&L==="realWidth"&&(re=parseWidth(j)),z==="minWidth"&&L==="realMinWidth"&&(re=parseMinWidth(j)),r.columnConfig.value[z]=re,r.columnConfig.value[L]=re;const oe=z==="fixed";n.value.store.scheduleLayout(oe)})})},registerNormalWatchers:()=>{const k=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],$={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},V=getAllAliases(k,$);Object.keys(V).forEach(L=>{const z=$[L];hasOwn$1(e,z)&&watch(()=>e[z],j=>{r.columnConfig.value[L]=j})})}}}function useRender(n,e,r){const g=getCurrentInstance(),y=ref(""),k=ref(!1),$=ref(),V=ref(),L=useNamespace("table");watchEffect(()=>{$.value=n.align?`is-${n.align}`:null,$.value}),watchEffect(()=>{V.value=n.headerAlign?`is-${n.headerAlign}`:$.value,V.value});const z=computed(()=>{let $e=g.vnode.vParent||g.parent;for(;$e&&!$e.tableId&&!$e.columnId;)$e=$e.vnode.vParent||$e.parent;return $e}),j=computed(()=>{const{store:$e}=g.parent;if(!$e)return!1;const{treeData:Ne}=$e.states,Ce=Ne.value;return Ce&&Object.keys(Ce).length>0}),re=ref(parseWidth(n.width)),oe=ref(parseMinWidth(n.minWidth)),ae=$e=>(re.value&&($e.width=re.value),oe.value&&($e.minWidth=oe.value),!re.value&&oe.value&&($e.width=void 0),$e.minWidth||($e.minWidth=80),$e.realWidth=Number($e.width===void 0?$e.minWidth:$e.width),$e),de=$e=>{const Ne=$e.type,Ce=cellForced[Ne]||{};Object.keys(Ce).forEach(ze=>{const kt=Ce[ze];ze!=="className"&&kt!==void 0&&($e[ze]=kt)});const Fe=getDefaultClassName(Ne);if(Fe){const ze=`${unref(L.namespace)}-${Fe}`;$e.className=$e.className?`${$e.className} ${ze}`:ze}return $e},ue=$e=>{Array.isArray($e)?$e.forEach(Ce=>Ne(Ce)):Ne($e);function Ne(Ce){var Fe;((Fe=Ce?.type)==null?void 0:Fe.name)==="ElTableColumn"&&(Ce.vParent=g)}};return{columnId:y,realAlign:$,isSubColumn:k,realHeaderAlign:V,columnOrTableParent:z,setColumnWidth:ae,setColumnForcedProps:de,setColumnRenders:$e=>{n.renderHeader||$e.type!=="selection"&&($e.renderHeader=Ce=>{g.columnConfig.value.label;const Fe=e.header;return Fe?Fe(Ce):$e.label});let Ne=$e.renderCell;return $e.type==="expand"?($e.renderCell=Ce=>h$1("div",{class:"cell"},[Ne(Ce)]),r.value.renderExpanded=Ce=>e.default?e.default(Ce):e.default):(Ne=Ne||defaultRenderCell,$e.renderCell=Ce=>{let Fe=null;if(e.default){const On=e.default(Ce);Fe=On.some(jt=>jt.type!==Comment)?On:Ne(Ce)}else Fe=Ne(Ce);const{columns:ze}=r.value.store.states,kt=ze.value.findIndex(On=>On.type==="default"),At=j.value&&Ce.cellIndex===kt,Cn=treeCellPrefix(Ce,At),Dt={class:"cell",style:{}};return $e.showOverflowTooltip&&(Dt.class=`${Dt.class} ${unref(L.namespace)}-tooltip`,Dt.style={width:`${(Ce.column.realWidth||Number(Ce.column.width))-1}px`}),ue(Fe),h$1("div",Dt,[Cn,Fe])}),$e},getPropsData:(...$e)=>$e.reduce((Ne,Ce)=>(Array.isArray(Ce)&&Ce.forEach(Fe=>{Ne[Fe]=n[Fe]}),Ne),{}),getColumnElIndex:($e,Ne)=>Array.prototype.indexOf.call($e,Ne),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",g.columnConfig.value)}}}var defaultProps={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].includes(e))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps,setup(n,{slots:e}){const r=getCurrentInstance(),g=ref({}),y=computed(()=>{let xe=r.parent;for(;xe&&!xe.tableId;)xe=xe.parent;return xe}),{registerNormalWatchers:k,registerComplexWatchers:$}=useWatcher(y,n),{columnId:V,isSubColumn:L,realHeaderAlign:z,columnOrTableParent:j,setColumnWidth:re,setColumnForcedProps:oe,setColumnRenders:ae,getPropsData:de,getColumnElIndex:ue,realAlign:pe,updateColumnOrder:he}=useRender(n,e,y),Oe=j.value;V.value=`${Oe.tableId||Oe.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{L.value=y.value!==Oe;const xe=n.type||"default",$e=n.sortable===""?!0:n.sortable,Ne=isUndefined(n.showOverflowTooltip)?Oe.props.showOverflowTooltip:n.showOverflowTooltip,Ce={...cellStarts[xe],id:V.value,type:xe,property:n.prop||n.property,align:pe,headerAlign:z,showOverflowTooltip:Ne,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:$e,index:n.index,rawColumnKey:r.vnode.key};let Cn=de(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);Cn=mergeOptions(Ce,Cn),Cn=compose(ae,re,oe)(Cn),g.value=Cn,k(),$()}),onMounted(()=>{var xe;const $e=j.value,Ne=L.value?$e.vnode.el.children:(xe=$e.refs.hiddenColumns)==null?void 0:xe.children,Ce=()=>ue(Ne||[],r.vnode.el);g.value.getColumnIndex=Ce,Ce()>-1&&y.value.store.commit("insertColumn",g.value,L.value?$e.columnConfig.value:null,he)}),onBeforeUnmount(()=>{y.value.store.commit("removeColumn",g.value,L.value?Oe.columnConfig.value:null,he)}),r.columnId=V.value,r.columnConfig=g},render(){var n,e,r;try{const g=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1}),y=[];if(Array.isArray(g))for(const $ of g)((r=$.type)==null?void 0:r.name)==="ElTableColumn"||$.shapeFlag&2?y.push($):$.type===Fragment&&Array.isArray($.children)&&$.children.forEach(V=>{V?.patchFlag!==1024&&!isString$3(V?.children)&&y.push(V)});return h$1("div",y)}catch{return h$1("div",[])}}});const ElTable=withInstall(Table,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1);var SortOrder=(n=>(n.ASC="asc",n.DESC="desc",n))(SortOrder||{}),Alignment=(n=>(n.CENTER="center",n.RIGHT="right",n))(Alignment||{}),FixedDir=(n=>(n.LEFT="left",n.RIGHT="right",n))(FixedDir||{});const oppositeOrderMap={asc:"desc",desc:"asc"},placeholderSign=Symbol("placeholder"),calcColumnStyle=(n,e,r)=>{var g;const y={flexGrow:0,flexShrink:0,...r?{}:{flexGrow:n.flexGrow||0,flexShrink:n.flexShrink||1}};r||(y.flexShrink=1);const k={...(g=n.style)!=null?g:{},...y,flexBasis:"auto",width:n.width};return e||(n.maxWidth&&(k.maxWidth=n.maxWidth),n.minWidth&&(k.minWidth=n.minWidth)),k};function useColumns(n,e,r){const g=computed(()=>unref(e).filter(ue=>!ue.hidden)),y=computed(()=>unref(g).filter(ue=>ue.fixed==="left"||ue.fixed===!0)),k=computed(()=>unref(g).filter(ue=>ue.fixed==="right")),$=computed(()=>unref(g).filter(ue=>!ue.fixed)),V=computed(()=>{const ue=[];return unref(y).forEach(pe=>{ue.push({...pe,placeholderSign})}),unref($).forEach(pe=>{ue.push(pe)}),unref(k).forEach(pe=>{ue.push({...pe,placeholderSign})}),ue}),L=computed(()=>unref(y).length||unref(k).length),z=computed(()=>unref(e).reduce((pe,he)=>(pe[he.key]=calcColumnStyle(he,unref(r),n.fixed),pe),{})),j=computed(()=>unref(g).reduce((ue,pe)=>ue+pe.width,0)),re=ue=>unref(e).find(pe=>pe.key===ue),oe=ue=>unref(z)[ue],ae=(ue,pe)=>{ue.width=pe};function de(ue){var pe;const{key:he}=ue.currentTarget.dataset;if(!he)return;const{sortState:Oe,sortBy:xe}=n;let $e=SortOrder.ASC;isObject$3(Oe)?$e=oppositeOrderMap[Oe[he]]:$e=oppositeOrderMap[xe.order],(pe=n.onColumnSort)==null||pe.call(n,{column:re(he),key:he,order:$e})}return{columns:e,columnsStyles:z,columnsTotalWidth:j,fixedColumnsOnLeft:y,fixedColumnsOnRight:k,hasFixedColumns:L,mainColumns:V,normalColumns:$,visibleColumns:g,getColumn:re,getColumnStyle:oe,updateColumnWidth:ae,onColumnSorted:de}}const useScrollbar=(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g,onMaybeEndReached:y})=>{const k=ref({scrollLeft:0,scrollTop:0});function $(ae){var de,ue,pe;const{scrollTop:he}=ae;(de=e.value)==null||de.scrollTo(ae),(ue=r.value)==null||ue.scrollToTop(he),(pe=g.value)==null||pe.scrollToTop(he)}function V(ae){k.value=ae,$(ae)}function L(ae){k.value.scrollTop=ae,$(unref(k))}function z(ae){var de,ue;k.value.scrollLeft=ae,(ue=(de=e.value)==null?void 0:de.scrollTo)==null||ue.call(de,unref(k))}function j(ae){var de;V(ae),(de=n.onScroll)==null||de.call(n,ae)}function re({scrollTop:ae}){const{scrollTop:de}=unref(k);ae!==de&&L(ae)}function oe(ae,de="auto"){var ue;(ue=e.value)==null||ue.scrollToRow(ae,de)}return watch(()=>unref(k).scrollTop,(ae,de)=>{ae>de&&y()}),{scrollPos:k,scrollTo:V,scrollToLeft:z,scrollToTop:L,scrollToRow:oe,onScroll:j,onVerticalScroll:re}},useRow=(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g})=>{const y=getCurrentInstance(),{emit:k}=y,$=shallowRef(!1),V=shallowRef(null),L=ref(n.defaultExpandedRowKeys||[]),z=ref(-1),j=shallowRef(null),re=ref({}),oe=ref({}),ae=shallowRef({}),de=shallowRef({}),ue=shallowRef({}),pe=computed(()=>isNumber$1(n.estimatedRowHeight));function he(ze){var kt;(kt=n.onRowsRendered)==null||kt.call(n,ze),ze.rowCacheEnd>unref(z)&&(z.value=ze.rowCacheEnd)}function Oe({hovered:ze,rowKey:kt}){V.value=ze?kt:null}function xe({expanded:ze,rowData:kt,rowIndex:At,rowKey:Cn}){var Dt,On;const jt=[...unref(L)],An=jt.indexOf(Cn);ze?An===-1&&jt.push(Cn):An>-1&&jt.splice(An,1),L.value=jt,k("update:expandedRowKeys",jt),(Dt=n.onRowExpand)==null||Dt.call(n,{expanded:ze,rowData:kt,rowIndex:At,rowKey:Cn}),(On=n.onExpandedRowsChange)==null||On.call(n,jt)}const $e=debounce(()=>{var ze,kt,At,Cn;$.value=!0,re.value={...unref(re),...unref(oe)},Ne(unref(j),!1),oe.value={},j.value=null,(ze=e.value)==null||ze.forceUpdate(),(kt=r.value)==null||kt.forceUpdate(),(At=g.value)==null||At.forceUpdate(),(Cn=y.proxy)==null||Cn.$forceUpdate(),$.value=!1},0);function Ne(ze,kt=!1){unref(pe)&&[e,r,g].forEach(At=>{const Cn=unref(At);Cn&&Cn.resetAfterRowIndex(ze,kt)})}function Ce(ze,kt,At){const Cn=unref(j);(Cn===null||Cn>At)&&(j.value=At),oe.value[ze]=kt}function Fe({rowKey:ze,height:kt,rowIndex:At},Cn){Cn?Cn===FixedDir.RIGHT?ue.value[ze]=kt:ae.value[ze]=kt:de.value[ze]=kt;const Dt=Math.max(...[ae,ue,de].map(On=>On.value[ze]||0));unref(re)[ze]!==Dt&&(Ce(ze,Dt,At),$e())}return{hoveringRowKey:V,expandedRowKeys:L,lastRenderedRowIndex:z,isDynamic:pe,isResetting:$,rowHeights:re,resetAfterIndex:Ne,onRowExpanded:xe,onRowHovered:Oe,onRowsRendered:he,onRowHeightChange:Fe}},useData=(n,{expandedRowKeys:e,lastRenderedRowIndex:r,resetAfterIndex:g})=>{const y=ref({}),k=computed(()=>{const V={},{data:L,rowKey:z}=n,j=unref(e);if(!j||!j.length)return L;const re=[],oe=new Set;j.forEach(de=>oe.add(de));let ae=L.slice();for(ae.forEach(de=>V[de[z]]=0);ae.length>0;){const de=ae.shift();re.push(de),oe.has(de[z])&&Array.isArray(de.children)&&de.children.length>0&&(ae=[...de.children,...ae],de.children.forEach(ue=>V[ue[z]]=V[de[z]]+1))}return y.value=V,re}),$=computed(()=>{const{data:V,expandColumnKey:L}=n;return L?unref(k):V});return watch($,(V,L)=>{V!==L&&(r.value=-1,g(0,!0))}),{data:$,depthMap:y}},sumReducer=(n,e)=>n+e,sum=n=>isArray$3(n)?n.reduce(sumReducer,0):n,tryCall=(n,e,r={})=>isFunction$3(n)?n(e):n??r,enforceUnit=n=>(["width","maxWidth","minWidth","height"].forEach(e=>{n[e]=addUnit(n[e])}),n),componentToSlot=n=>isVNode$1(n)?e=>h$1(n,e):n,useStyles=(n,{columnsTotalWidth:e,data:r,fixedColumnsOnLeft:g,fixedColumnsOnRight:y})=>{const k=computed(()=>{const{fixed:xe,width:$e,vScrollbarSize:Ne}=n,Ce=$e-Ne;return xe?Math.max(Math.round(unref(e)),Ce):Ce}),$=computed(()=>unref(k)+(n.fixed?n.vScrollbarSize:0)),V=computed(()=>{const{height:xe=0,maxHeight:$e=0,footerHeight:Ne,hScrollbarSize:Ce}=n;if($e>0){const Fe=unref(de),ze=unref(L),At=unref(ae)+Fe+ze+Ce;return Math.min(At,$e-Ne)}return xe-Ne}),L=computed(()=>{const{rowHeight:xe,estimatedRowHeight:$e}=n,Ne=unref(r);return isNumber$1($e)?Ne.length*$e:Ne.length*xe}),z=computed(()=>{const{maxHeight:xe}=n,$e=unref(V);if(isNumber$1(xe)&&xe>0)return $e;const Ne=unref(L)+unref(ae)+unref(de);return Math.min($e,Ne)}),j=xe=>xe.width,re=computed(()=>sum(unref(g).map(j))),oe=computed(()=>sum(unref(y).map(j))),ae=computed(()=>sum(n.headerHeight)),de=computed(()=>{var xe;return(((xe=n.fixedData)==null?void 0:xe.length)||0)*n.rowHeight}),ue=computed(()=>unref(V)-unref(ae)-unref(de)),pe=computed(()=>{const{style:xe={},height:$e,width:Ne}=n;return enforceUnit({...xe,height:$e,width:Ne})}),he=computed(()=>enforceUnit({height:n.footerHeight})),Oe=computed(()=>({top:addUnit(unref(ae)),bottom:addUnit(n.footerHeight),width:addUnit(n.width)}));return{bodyWidth:k,fixedTableHeight:z,mainTableHeight:V,leftTableWidth:re,rightTableWidth:oe,headerWidth:$,rowsHeight:L,windowHeight:ue,footerHeight:he,emptyStyle:Oe,rootStyle:pe,headerHeight:ae}},useAutoResize=n=>{const e=ref(),r=ref(0),g=ref(0);let y;return onMounted(()=>{y=useResizeObserver(e,([k])=>{const{width:$,height:V}=k.contentRect,{paddingLeft:L,paddingRight:z,paddingTop:j,paddingBottom:re}=getComputedStyle(k.target),oe=Number.parseInt(L)||0,ae=Number.parseInt(z)||0,de=Number.parseInt(j)||0,ue=Number.parseInt(re)||0;r.value=$-oe-ae,g.value=V-de-ue}).stop}),onBeforeUnmount(()=>{y?.()}),watch([r,g],([k,$])=>{var V;(V=n.onResize)==null||V.call(n,{width:k,height:$})}),{sizer:e,width:r,height:g}};function useTable(n){const e=ref(),r=ref(),g=ref(),{columns:y,columnsStyles:k,columnsTotalWidth:$,fixedColumnsOnLeft:V,fixedColumnsOnRight:L,hasFixedColumns:z,mainColumns:j,onColumnSorted:re}=useColumns(n,toRef(n,"columns"),toRef(n,"fixed")),{scrollTo:oe,scrollToLeft:ae,scrollToTop:de,scrollToRow:ue,onScroll:pe,onVerticalScroll:he,scrollPos:Oe}=useScrollbar(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g,onMaybeEndReached:ir}),{expandedRowKeys:xe,hoveringRowKey:$e,lastRenderedRowIndex:Ne,isDynamic:Ce,isResetting:Fe,rowHeights:ze,resetAfterIndex:kt,onRowExpanded:At,onRowHeightChange:Cn,onRowHovered:Dt,onRowsRendered:On}=useRow(n,{mainTableRef:e,leftTableRef:r,rightTableRef:g}),{data:jt,depthMap:An}=useData(n,{expandedRowKeys:xe,lastRenderedRowIndex:Ne,resetAfterIndex:kt}),{bodyWidth:Mn,fixedTableHeight:$n,mainTableHeight:Ln,leftTableWidth:Tn,rightTableWidth:Zn,headerWidth:Qn,rowsHeight:Pn,windowHeight:Wn,footerHeight:ur,emptyStyle:hr,rootStyle:Vn,headerHeight:En}=useStyles(n,{columnsTotalWidth:$,data:jt,fixedColumnsOnLeft:V,fixedColumnsOnRight:L}),jn=shallowRef(!1),cr=ref(),gr=computed(()=>{const Gn=unref(jt).length===0;return isArray$3(n.fixedData)?n.fixedData.length===0&&Gn:Gn});function Cr(Gn){const{estimatedRowHeight:hn,rowHeight:Kn,rowKey:Nn}=n;return hn?unref(ze)[unref(jt)[Gn][Nn]]||hn:Kn}function ir(){const{onEndReached:Gn}=n;if(!Gn)return;const{scrollTop:hn}=unref(Oe),Kn=unref(Pn),Nn=unref(Wn),Lt=Kn-(hn+Nn)+n.hScrollbarSize;unref(Ne)>=0&&Kn===hn+unref(Ln)-unref(En)&&Gn(Lt)}return watch(()=>n.expandedRowKeys,Gn=>xe.value=Gn,{deep:!0}),{columns:y,containerRef:cr,mainTableRef:e,leftTableRef:r,rightTableRef:g,isDynamic:Ce,isResetting:Fe,isScrolling:jn,hoveringRowKey:$e,hasFixedColumns:z,columnsStyles:k,columnsTotalWidth:$,data:jt,expandedRowKeys:xe,depthMap:An,fixedColumnsOnLeft:V,fixedColumnsOnRight:L,mainColumns:j,bodyWidth:Mn,emptyStyle:hr,rootStyle:Vn,headerWidth:Qn,footerHeight:ur,mainTableHeight:Ln,fixedTableHeight:$n,leftTableWidth:Tn,rightTableWidth:Zn,showEmpty:gr,getRowHeight:Cr,onColumnSorted:re,onRowHovered:Dt,onRowExpanded:At,onRowsRendered:On,onRowHeightChange:Cn,scrollTo:oe,scrollToLeft:ae,scrollToTop:de,scrollToRow:ue,onScroll:pe,onVerticalScroll:he}}const TableV2InjectionKey=Symbol("tableV2"),classType=String,columns={type:definePropType(Array),required:!0},fixedDataType={type:definePropType(Array)},dataType={...fixedDataType,required:!0},expandColumnKey=String,expandKeys={type:definePropType(Array),default:()=>mutable([])},requiredNumber={type:Number,required:!0},rowKey={type:definePropType([String,Number,Symbol]),default:"id"},styleType={type:definePropType(Object)},tableV2RowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},depth:Number,expandColumnKey,estimatedRowHeight:{...virtualizedGridProps.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:definePropType(Function)},onRowHover:{type:definePropType(Function)},onRowHeightChange:{type:definePropType(Function)},rowData:{type:definePropType(Object),required:!0},rowEventHandlers:{type:definePropType(Object)},rowIndex:{type:Number,required:!0},rowKey,style:{type:definePropType(Object)}}),requiredNumberType={type:Number,required:!0},tableV2HeaderProps=buildProps({class:String,columns,fixedHeaderData:{type:definePropType(Array)},headerData:{type:definePropType(Array),required:!0},headerHeight:{type:definePropType([Number,Array]),default:50},rowWidth:requiredNumberType,rowHeight:{type:Number,default:50},height:requiredNumberType,width:requiredNumberType}),tableV2GridProps=buildProps({columns,data:dataType,fixedData:fixedDataType,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,width:requiredNumber,height:requiredNumber,headerWidth:requiredNumber,headerHeight:tableV2HeaderProps.headerHeight,bodyWidth:requiredNumber,rowHeight:requiredNumber,cache:virtualizedListProps.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:virtualizedGridProps.scrollbarAlwaysOn,scrollbarStartGap:virtualizedGridProps.scrollbarStartGap,scrollbarEndGap:virtualizedGridProps.scrollbarEndGap,class:classType,style:styleType,containerStyle:styleType,getRowHeight:{type:definePropType(Function),required:!0},rowKey:tableV2RowProps.rowKey,onRowsRendered:{type:definePropType(Function)},onScroll:{type:definePropType(Function)}}),tableV2Props=buildProps({cache:tableV2GridProps.cache,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,rowKey,headerClass:{type:definePropType([String,Function])},headerProps:{type:definePropType([Object,Function])},headerCellProps:{type:definePropType([Object,Function])},headerHeight:tableV2HeaderProps.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:definePropType([String,Function])},rowProps:{type:definePropType([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:definePropType([Object,Function])},columns,data:dataType,dataGetter:{type:definePropType(Function)},fixedData:fixedDataType,expandColumnKey:tableV2RowProps.expandColumnKey,expandedRowKeys:expandKeys,defaultExpandedRowKeys:expandKeys,class:classType,fixed:Boolean,style:{type:definePropType(Object)},width:requiredNumber,height:requiredNumber,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:virtualizedGridProps.hScrollbarSize,vScrollbarSize:virtualizedGridProps.vScrollbarSize,scrollbarAlwaysOn:virtualizedScrollbarProps.alwaysOn,sortBy:{type:definePropType(Object),default:()=>({})},sortState:{type:definePropType(Object),default:void 0},onColumnSort:{type:definePropType(Function)},onExpandedRowsChange:{type:definePropType(Function)},onEndReached:{type:definePropType(Function)},onRowExpand:tableV2RowProps.onRowExpand,onScroll:tableV2GridProps.onScroll,onRowsRendered:tableV2GridProps.onRowsRendered,rowEventHandlers:tableV2RowProps.rowEventHandlers}),TableV2Cell=(n,{slots:e})=>{var r;const{cellData:g,style:y}=n,k=((r=g?.toString)==null?void 0:r.call(g))||"";return createVNode("div",{class:n.class,title:k,style:y},[e.default?e.default(n):k])};TableV2Cell.displayName="ElTableV2Cell";TableV2Cell.inheritAttrs=!1;const HeaderCell=(n,{slots:e})=>{var r,g;return e.default?e.default(n):createVNode("div",{class:n.class,title:(r=n.column)==null?void 0:r.title},[(g=n.column)==null?void 0:g.title])};HeaderCell.displayName="ElTableV2HeaderCell";HeaderCell.inheritAttrs=!1;const tableV2HeaderRowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},headerIndex:Number,style:{type:definePropType(Object)}}),TableV2HeaderRow=defineComponent({name:"ElTableV2HeaderRow",props:tableV2HeaderRowProps,setup(n,{slots:e}){return()=>{const{columns:r,columnsStyles:g,headerIndex:y,style:k}=n;let $=r.map((V,L)=>e.cell({columns:r,column:V,columnIndex:L,headerIndex:y,style:g[V.key]}));return e.header&&($=e.header({cells:$.map(V=>isArray$3(V)&&V.length===1?V[0]:V),columns:r,headerIndex:y})),createVNode("div",{class:n.class,style:k,role:"row"},[$])}}}),COMPONENT_NAME$7="ElTableV2Header",TableV2Header=defineComponent({name:COMPONENT_NAME$7,props:tableV2HeaderProps,setup(n,{slots:e,expose:r}){const g=useNamespace("table-v2"),y=ref(),k=computed(()=>enforceUnit({width:n.width,height:n.height})),$=computed(()=>enforceUnit({width:n.rowWidth,height:n.height})),V=computed(()=>castArray$1(unref(n.headerHeight))),L=re=>{const oe=unref(y);nextTick(()=>{oe?.scroll&&oe.scroll({left:re})})},z=()=>{const re=g.e("fixed-header-row"),{columns:oe,fixedHeaderData:ae,rowHeight:de}=n;return ae?.map((ue,pe)=>{var he;const Oe=enforceUnit({height:de,width:"100%"});return(he=e.fixed)==null?void 0:he.call(e,{class:re,columns:oe,rowData:ue,rowIndex:-(pe+1),style:Oe})})},j=()=>{const re=g.e("dynamic-header-row"),{columns:oe}=n;return unref(V).map((ae,de)=>{var ue;const pe=enforceUnit({width:"100%",height:ae});return(ue=e.dynamic)==null?void 0:ue.call(e,{class:re,columns:oe,headerIndex:de,style:pe})})};return r({scrollToLeft:L}),()=>{if(!(n.height<=0))return createVNode("div",{ref:y,class:n.class,style:unref(k),role:"rowgroup"},[createVNode("div",{style:unref($),class:g.e("header")},[j(),z()])])}}}),useTableRow=n=>{const{isScrolling:e}=inject(TableV2InjectionKey),r=ref(!1),g=ref(),y=computed(()=>isNumber$1(n.estimatedRowHeight)&&n.rowIndex>=0),k=(L=!1)=>{const z=unref(g);if(!z)return;const{columns:j,onRowHeightChange:re,rowKey:oe,rowIndex:ae,style:de}=n,{height:ue}=z.getBoundingClientRect();r.value=!0,nextTick(()=>{if(L||ue!==Number.parseInt(de.height)){const pe=j[0],he=pe?.placeholderSign===placeholderSign;re?.({rowKey:oe,height:ue,rowIndex:ae},pe&&!he&&pe.fixed)}})},$=computed(()=>{const{rowData:L,rowIndex:z,rowKey:j,onRowHover:re}=n,oe=n.rowEventHandlers||{},ae={};return Object.entries(oe).forEach(([de,ue])=>{isFunction$3(ue)&&(ae[de]=pe=>{ue({event:pe,rowData:L,rowIndex:z,rowKey:j})})}),re&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:de,hovered:ue})=>{const pe=ae[de];ae[de]=he=>{re({event:he,hovered:ue,rowData:L,rowIndex:z,rowKey:j}),pe?.(he)}}),ae}),V=L=>{const{onRowExpand:z,rowData:j,rowIndex:re,rowKey:oe}=n;z?.({expanded:L,rowData:j,rowIndex:re,rowKey:oe})};return onMounted(()=>{unref(y)&&k(!0)}),{isScrolling:e,measurable:y,measured:r,rowRef:g,eventHandlers:$,onExpand:V}},COMPONENT_NAME$6="ElTableV2TableRow",TableV2Row=defineComponent({name:COMPONENT_NAME$6,props:tableV2RowProps,setup(n,{expose:e,slots:r,attrs:g}){const{eventHandlers:y,isScrolling:k,measurable:$,measured:V,rowRef:L,onExpand:z}=useTableRow(n);return e({onExpand:z}),()=>{const{columns:j,columnsStyles:re,expandColumnKey:oe,depth:ae,rowData:de,rowIndex:ue,style:pe}=n;let he=j.map((Oe,xe)=>{const $e=isArray$3(de.children)&&de.children.length>0&&Oe.key===oe;return r.cell({column:Oe,columns:j,columnIndex:xe,depth:ae,style:re[Oe.key],rowData:de,rowIndex:ue,isScrolling:unref(k),expandIconProps:$e?{rowData:de,rowIndex:ue,onExpand:z}:void 0})});if(r.row&&(he=r.row({cells:he.map(Oe=>isArray$3(Oe)&&Oe.length===1?Oe[0]:Oe),style:pe,columns:j,depth:ae,rowData:de,rowIndex:ue,isScrolling:unref(k)})),unref($)){const{height:Oe,...xe}=pe||{},$e=unref(V);return createVNode("div",mergeProps({ref:L,class:n.class,style:$e?pe:xe,role:"row"},g,unref(y)),[he])}return createVNode("div",mergeProps(g,{ref:L,class:n.class,style:pe,role:"row"},unref(y)),[he])}}}),SortIcon=n=>{const{sortOrder:e}=n;return createVNode(ElIcon,{size:14,class:n.class},{default:()=>[e===SortOrder.ASC?createVNode(sort_up_default,null,null):createVNode(sort_down_default,null,null)]})},ExpandIcon=n=>{const{expanded:e,expandable:r,onExpand:g,style:y,size:k}=n,$={onClick:r?()=>g(!e):void 0,class:n.class};return createVNode(ElIcon,mergeProps($,{size:k,style:y}),{default:()=>[createVNode(arrow_right_default,null,null)]})},COMPONENT_NAME$5="ElTableV2Grid",useTableGrid=n=>{const e=ref(),r=ref(),g=computed(()=>{const{data:ue,rowHeight:pe,estimatedRowHeight:he}=n;if(!he)return ue.length*pe}),y=computed(()=>{const{fixedData:ue,rowHeight:pe}=n;return(ue?.length||0)*pe}),k=computed(()=>sum(n.headerHeight)),$=computed(()=>{const{height:ue}=n;return Math.max(0,ue-unref(k)-unref(y))}),V=computed(()=>unref(k)+unref(y)>0),L=({data:ue,rowIndex:pe})=>ue[pe][n.rowKey];function z({rowCacheStart:ue,rowCacheEnd:pe,rowVisibleStart:he,rowVisibleEnd:Oe}){var xe;(xe=n.onRowsRendered)==null||xe.call(n,{rowCacheStart:ue,rowCacheEnd:pe,rowVisibleStart:he,rowVisibleEnd:Oe})}function j(ue,pe){var he;(he=r.value)==null||he.resetAfterRowIndex(ue,pe)}function re(ue,pe){const he=unref(e),Oe=unref(r);!he||!Oe||(isObject$3(ue)?(he.scrollToLeft(ue.scrollLeft),Oe.scrollTo(ue)):(he.scrollToLeft(ue),Oe.scrollTo({scrollLeft:ue,scrollTop:pe})))}function oe(ue){var pe;(pe=unref(r))==null||pe.scrollTo({scrollTop:ue})}function ae(ue,pe){var he;(he=unref(r))==null||he.scrollToItem(ue,1,pe)}function de(){var ue,pe;(ue=unref(r))==null||ue.$forceUpdate(),(pe=unref(e))==null||pe.$forceUpdate()}return{bodyRef:r,forceUpdate:de,fixedRowHeight:y,gridHeight:$,hasHeader:V,headerHeight:k,headerRef:e,totalHeight:g,itemKey:L,onItemRendered:z,resetAfterRowIndex:j,scrollTo:re,scrollToTop:oe,scrollToRow:ae}},TableGrid=defineComponent({name:COMPONENT_NAME$5,props:tableV2GridProps,setup(n,{slots:e,expose:r}){const{ns:g}=inject(TableV2InjectionKey),{bodyRef:y,fixedRowHeight:k,gridHeight:$,hasHeader:V,headerRef:L,headerHeight:z,totalHeight:j,forceUpdate:re,itemKey:oe,onItemRendered:ae,resetAfterRowIndex:de,scrollTo:ue,scrollToTop:pe,scrollToRow:he}=useTableGrid(n);r({forceUpdate:re,totalHeight:j,scrollTo:ue,scrollToTop:pe,scrollToRow:he,resetAfterRowIndex:de});const Oe=()=>n.bodyWidth;return()=>{const{cache:xe,columns:$e,data:Ne,fixedData:Ce,useIsScrolling:Fe,scrollbarAlwaysOn:ze,scrollbarEndGap:kt,scrollbarStartGap:At,style:Cn,rowHeight:Dt,bodyWidth:On,estimatedRowHeight:jt,headerWidth:An,height:Mn,width:$n,getRowHeight:Ln,onScroll:Tn}=n,Zn=isNumber$1(jt),Qn=Zn?DynamicSizeGrid:FixedSizeGrid,Pn=unref(z);return createVNode("div",{role:"table",class:[g.e("table"),n.class],style:Cn},[createVNode(Qn,{ref:y,data:Ne,useIsScrolling:Fe,itemKey:oe,columnCache:0,columnWidth:Zn?Oe:On,totalColumn:1,totalRow:Ne.length,rowCache:xe,rowHeight:Zn?Ln:Dt,width:$n,height:unref($),class:g.e("body"),role:"rowgroup",scrollbarStartGap:At,scrollbarEndGap:kt,scrollbarAlwaysOn:ze,onScroll:Tn,onItemRendered:ae,perfMode:!1},{default:Wn=>{var ur;const hr=Ne[Wn.rowIndex];return(ur=e.row)==null?void 0:ur.call(e,{...Wn,columns:$e,rowData:hr})}}),unref(V)&&createVNode(TableV2Header,{ref:L,class:g.e("header-wrapper"),columns:$e,headerData:Ne,headerHeight:n.headerHeight,fixedHeaderData:Ce,rowWidth:An,rowHeight:Dt,width:$n,height:Math.min(Pn+unref(k),Mn)},{dynamic:e.header,fixed:e.row})])}}});function _isSlot$5(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const MainTable=(n,{slots:e})=>{const{mainTableRef:r,...g}=n;return createVNode(TableGrid,mergeProps({ref:r},g),_isSlot$5(e)?e:{default:()=>[e]})};function _isSlot$4(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const LeftTable$1=(n,{slots:e})=>{if(!n.columns.length)return;const{leftTableRef:r,...g}=n;return createVNode(TableGrid,mergeProps({ref:r},g),_isSlot$4(e)?e:{default:()=>[e]})};function _isSlot$3(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const LeftTable=(n,{slots:e})=>{if(!n.columns.length)return;const{rightTableRef:r,...g}=n;return createVNode(TableGrid,mergeProps({ref:r},g),_isSlot$3(e)?e:{default:()=>[e]})};function _isSlot$2(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const RowRenderer=(n,{slots:e})=>{const{columns:r,columnsStyles:g,depthMap:y,expandColumnKey:k,expandedRowKeys:$,estimatedRowHeight:V,hasFixedColumns:L,hoveringRowKey:z,rowData:j,rowIndex:re,style:oe,isScrolling:ae,rowProps:de,rowClass:ue,rowKey:pe,rowEventHandlers:he,ns:Oe,onRowHovered:xe,onRowExpanded:$e}=n,Ne=tryCall(ue,{columns:r,rowData:j,rowIndex:re},""),Ce=tryCall(de,{columns:r,rowData:j,rowIndex:re}),Fe=j[pe],ze=y[Fe]||0,kt=!!k,At=re<0,Cn=[Oe.e("row"),Ne,{[Oe.e(`row-depth-${ze}`)]:kt&&re>=0,[Oe.is("expanded")]:kt&&$.includes(Fe),[Oe.is("hovered")]:!ae&&Fe===z,[Oe.is("fixed")]:!ze&&At,[Oe.is("customized")]:!!e.row}],Dt=L?xe:void 0,On={...Ce,columns:r,columnsStyles:g,class:Cn,depth:ze,expandColumnKey:k,estimatedRowHeight:At?void 0:V,isScrolling:ae,rowIndex:re,rowData:j,rowKey:Fe,rowEventHandlers:he,style:oe};return createVNode(TableV2Row,mergeProps(On,{onRowHover:Dt,onRowExpand:$e}),_isSlot$2(e)?e:{default:()=>[e]})},CellRenderer=({columns:n,column:e,columnIndex:r,depth:g,expandIconProps:y,isScrolling:k,rowData:$,rowIndex:V,style:L,expandedRowKeys:z,ns:j,cellProps:re,expandColumnKey:oe,indentSize:ae,iconSize:de,rowKey:ue},{slots:pe})=>{const he=enforceUnit(L);if(e.placeholderSign===placeholderSign)return createVNode("div",{class:j.em("row-cell","placeholder"),style:he},null);const{cellRenderer:Oe,dataKey:xe,dataGetter:$e}=e,Ce=componentToSlot(Oe)||pe.default||(Mn=>createVNode(TableV2Cell,Mn,null)),Fe=isFunction$3($e)?$e({columns:n,column:e,columnIndex:r,rowData:$,rowIndex:V}):get($,xe??""),ze=tryCall(re,{cellData:Fe,columns:n,column:e,columnIndex:r,rowIndex:V,rowData:$}),kt={class:j.e("cell-text"),columns:n,column:e,columnIndex:r,cellData:Fe,isScrolling:k,rowData:$,rowIndex:V},At=Ce(kt),Cn=[j.e("row-cell"),e.class,e.align===Alignment.CENTER&&j.is("align-center"),e.align===Alignment.RIGHT&&j.is("align-right")],Dt=V>=0&&oe&&e.key===oe,On=V>=0&&z.includes($[ue]);let jt;const An=`margin-inline-start: ${g*ae}px;`;return Dt&&(isObject$3(y)?jt=createVNode(ExpandIcon,mergeProps(y,{class:[j.e("expand-icon"),j.is("expanded",On)],size:de,expanded:On,style:An,expandable:!0}),null):jt=createVNode("div",{style:[An,`width: ${de}px; height: ${de}px;`].join(" ")},null)),createVNode("div",mergeProps({class:Cn,style:he},ze,{role:"cell"}),[jt,At])};CellRenderer.inheritAttrs=!1;function _isSlot$1(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const HeaderRenderer=({columns:n,columnsStyles:e,headerIndex:r,style:g,headerClass:y,headerProps:k,ns:$},{slots:V})=>{const L={columns:n,headerIndex:r},z=[$.e("header-row"),tryCall(y,L,""),{[$.is("customized")]:!!V.header}],j={...tryCall(k,L),columnsStyles:e,class:z,columns:n,headerIndex:r,style:g};return createVNode(TableV2HeaderRow,j,_isSlot$1(V)?V:{default:()=>[V]})},HeaderCellRenderer=(n,{slots:e})=>{const{column:r,ns:g,style:y,onColumnSorted:k}=n,$=enforceUnit(y);if(r.placeholderSign===placeholderSign)return createVNode("div",{class:g.em("header-row-cell","placeholder"),style:$},null);const{headerCellRenderer:V,headerClass:L,sortable:z}=r,j={...n,class:g.e("header-cell-text")},oe=(componentToSlot(V)||e.default||($e=>createVNode(HeaderCell,$e,null)))(j),{sortBy:ae,sortState:de,headerCellProps:ue}=n;let pe,he;if(de){const $e=de[r.key];pe=!!oppositeOrderMap[$e],he=pe?$e:SortOrder.ASC}else pe=r.key===ae.key,he=pe?ae.order:SortOrder.ASC;const Oe=[g.e("header-cell"),tryCall(L,n,""),r.align===Alignment.CENTER&&g.is("align-center"),r.align===Alignment.RIGHT&&g.is("align-right"),z&&g.is("sortable")],xe={...tryCall(ue,n),onClick:r.sortable?k:void 0,class:Oe,style:$,"data-key":r.key};return createVNode("div",mergeProps(xe,{role:"columnheader"}),[oe,z&&createVNode(SortIcon,{class:[g.e("sort-icon"),pe&&g.is("sorting")],sortOrder:he},null)])},Footer$1=(n,{slots:e})=>{var r;return createVNode("div",{class:n.class,style:n.style},[(r=e.default)==null?void 0:r.call(e)])};Footer$1.displayName="ElTableV2Footer";const Footer=(n,{slots:e})=>createVNode("div",{class:n.class,style:n.style},[e.default?e.default():createVNode(ElEmpty,null,null)]);Footer.displayName="ElTableV2Empty";const Overlay=(n,{slots:e})=>{var r;return createVNode("div",{class:n.class,style:n.style},[(r=e.default)==null?void 0:r.call(e)])};Overlay.displayName="ElTableV2Overlay";function _isSlot(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!isVNode$1(n)}const COMPONENT_NAME$4="ElTableV2",TableV2=defineComponent({name:COMPONENT_NAME$4,props:tableV2Props,setup(n,{slots:e,expose:r}){const g=useNamespace("table-v2"),{columnsStyles:y,fixedColumnsOnLeft:k,fixedColumnsOnRight:$,mainColumns:V,mainTableHeight:L,fixedTableHeight:z,leftTableWidth:j,rightTableWidth:re,data:oe,depthMap:ae,expandedRowKeys:de,hasFixedColumns:ue,hoveringRowKey:pe,mainTableRef:he,leftTableRef:Oe,rightTableRef:xe,isDynamic:$e,isResetting:Ne,isScrolling:Ce,bodyWidth:Fe,emptyStyle:ze,rootStyle:kt,headerWidth:At,footerHeight:Cn,showEmpty:Dt,scrollTo:On,scrollToLeft:jt,scrollToTop:An,scrollToRow:Mn,getRowHeight:$n,onColumnSorted:Ln,onRowHeightChange:Tn,onRowHovered:Zn,onRowExpanded:Qn,onRowsRendered:Pn,onScroll:Wn,onVerticalScroll:ur}=useTable(n);return r({scrollTo:On,scrollToLeft:jt,scrollToTop:An,scrollToRow:Mn}),provide(TableV2InjectionKey,{ns:g,isResetting:Ne,hoveringRowKey:pe,isScrolling:Ce}),()=>{const{cache:hr,cellProps:Vn,estimatedRowHeight:En,expandColumnKey:jn,fixedData:cr,headerHeight:gr,headerClass:Cr,headerProps:ir,headerCellProps:Gn,sortBy:hn,sortState:Kn,rowHeight:Nn,rowClass:Lt,rowEventHandlers:_n,rowKey:Bn,rowProps:Xn,scrollbarAlwaysOn:rr,indentSize:ar,iconSize:sr,useIsScrolling:mr,vScrollbarSize:lr,width:le}=n,_e=unref(oe),Ie={cache:hr,class:g.e("main"),columns:unref(V),data:_e,fixedData:cr,estimatedRowHeight:En,bodyWidth:unref(Fe)+lr,headerHeight:gr,headerWidth:unref(At),height:unref(L),mainTableRef:he,rowKey:Bn,rowHeight:Nn,scrollbarAlwaysOn:rr,scrollbarStartGap:2,scrollbarEndGap:lr,useIsScrolling:mr,width:le,getRowHeight:$n,onRowsRendered:Pn,onScroll:Wn},Ue=unref(j),qe=unref(z),Et={cache:hr,class:g.e("left"),columns:unref(k),data:_e,estimatedRowHeight:En,leftTableRef:Oe,rowHeight:Nn,bodyWidth:Ue,headerWidth:Ue,headerHeight:gr,height:qe,rowKey:Bn,scrollbarAlwaysOn:rr,scrollbarStartGap:2,scrollbarEndGap:lr,useIsScrolling:mr,width:Ue,getRowHeight:$n,onScroll:ur},Pt=unref(re)+lr,wn={cache:hr,class:g.e("right"),columns:unref($),data:_e,estimatedRowHeight:En,rightTableRef:xe,rowHeight:Nn,bodyWidth:Pt,headerWidth:Pt,headerHeight:gr,height:qe,rowKey:Bn,scrollbarAlwaysOn:rr,scrollbarStartGap:2,scrollbarEndGap:lr,width:Pt,style:`--${unref(g.namespace)}-table-scrollbar-size: ${lr}px`,useIsScrolling:mr,getRowHeight:$n,onScroll:ur},bn=unref(y),In={ns:g,depthMap:unref(ae),columnsStyles:bn,expandColumnKey:jn,expandedRowKeys:unref(de),estimatedRowHeight:En,hasFixedColumns:unref(ue),hoveringRowKey:unref(pe),rowProps:Xn,rowClass:Lt,rowKey:Bn,rowEventHandlers:_n,onRowHovered:Zn,onRowExpanded:Qn,onRowHeightChange:Tn},Fn={cellProps:Vn,expandColumnKey:jn,indentSize:ar,iconSize:sr,rowKey:Bn,expandedRowKeys:unref(de),ns:g},Dn={ns:g,headerClass:Cr,headerProps:ir,columnsStyles:bn},Un={ns:g,sortBy:hn,sortState:Kn,headerCellProps:Gn,onColumnSorted:Ln},Jn={row:kn=>createVNode(RowRenderer,mergeProps(kn,In),{row:e.row,cell:zn=>{let xn;return e.cell?createVNode(CellRenderer,mergeProps(zn,Fn,{style:bn[zn.column.key]}),_isSlot(xn=e.cell(zn))?xn:{default:()=>[xn]}):createVNode(CellRenderer,mergeProps(zn,Fn,{style:bn[zn.column.key]}),null)}}),header:kn=>createVNode(HeaderRenderer,mergeProps(kn,Dn),{header:e.header,cell:zn=>{let xn;return e["header-cell"]?createVNode(HeaderCellRenderer,mergeProps(zn,Un,{style:bn[zn.column.key]}),_isSlot(xn=e["header-cell"](zn))?xn:{default:()=>[xn]}):createVNode(HeaderCellRenderer,mergeProps(zn,Un,{style:bn[zn.column.key]}),null)}})},Hn=[n.class,g.b(),g.e("root"),{[g.is("dynamic")]:unref($e)}],tr={class:g.e("footer"),style:unref(Cn)};return createVNode("div",{class:Hn,style:unref(kt)},[createVNode(MainTable,Ie,_isSlot(Jn)?Jn:{default:()=>[Jn]}),createVNode(LeftTable$1,Et,_isSlot(Jn)?Jn:{default:()=>[Jn]}),createVNode(LeftTable,wn,_isSlot(Jn)?Jn:{default:()=>[Jn]}),e.footer&&createVNode(Footer$1,tr,{default:e.footer}),unref(Dt)&&createVNode(Footer,{class:g.e("empty"),style:unref(ze)},{default:e.empty}),e.overlay&&createVNode(Overlay,{class:g.e("overlay")},{default:e.overlay})])}}}),autoResizerProps=buildProps({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:definePropType(Function)}}),AutoResizer=defineComponent({name:"ElAutoResizer",props:autoResizerProps,setup(n,{slots:e}){const r=useNamespace("auto-resizer"),{height:g,width:y,sizer:k}=useAutoResize(n),$={width:"100%",height:"100%"};return()=>{var V;return createVNode("div",{ref:k,class:r.b(),style:$},[(V=e.default)==null?void 0:V.call(e,{height:g.value,width:y.value})])}}}),ElTableV2=withInstall(TableV2),ElAutoResizer=withInstall(AutoResizer),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),COMPONENT_NAME$3="ElTabBar",__default__$k=defineComponent({name:COMPONENT_NAME$3}),_sfc_main$1m=defineComponent({...__default__$k,props:tabBarProps,setup(n,{expose:e}){const r=n,g=getCurrentInstance(),y=inject(tabsRootContextKey);y||throwError(COMPONENT_NAME$3,"<el-tabs><el-tab-bar /></el-tabs>");const k=useNamespace("tabs"),$=ref(),V=ref(),L=()=>{let j=0,re=0;const oe=["top","bottom"].includes(y.props.tabPosition)?"width":"height",ae=oe==="width"?"x":"y",de=ae==="x"?"left":"top";return r.tabs.every(ue=>{var pe,he;const Oe=(he=(pe=g.parent)==null?void 0:pe.refs)==null?void 0:he[`tab-${ue.uid}`];if(!Oe)return!1;if(!ue.active)return!0;j=Oe[`offset${capitalize$1(de)}`],re=Oe[`client${capitalize$1(oe)}`];const xe=window.getComputedStyle(Oe);return oe==="width"&&(r.tabs.length>1&&(re-=Number.parseFloat(xe.paddingLeft)+Number.parseFloat(xe.paddingRight)),j+=Number.parseFloat(xe.paddingLeft)),!1}),{[oe]:`${re}px`,transform:`translate${capitalize$1(ae)}(${j}px)`}},z=()=>V.value=L();return watch(()=>r.tabs,async()=>{await nextTick(),z()},{immediate:!0}),useResizeObserver($,()=>z()),e({ref:$,update:z}),(j,re)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:$,class:normalizeClass([unref(k).e("active-bar"),unref(k).is(unref(y).props.tabPosition)]),style:normalizeStyle(V.value)},null,6))}});var TabBar=_export_sfc$1(_sfc_main$1m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(n,e,r)=>r instanceof Event,tabRemove:(n,e)=>e instanceof Event},COMPONENT_NAME$2="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$2,props:tabNavProps,emits:tabNavEmits,setup(n,{expose:e,emit:r}){const g=getCurrentInstance(),y=inject(tabsRootContextKey);y||throwError(COMPONENT_NAME$2,"<el-tabs><tab-nav /></el-tabs>");const k=useNamespace("tabs"),$=useDocumentVisibility(),V=useWindowFocus(),L=ref(),z=ref(),j=ref(),re=ref(),oe=ref(!1),ae=ref(0),de=ref(!1),ue=ref(!0),pe=computed(()=>["top","bottom"].includes(y.props.tabPosition)?"width":"height"),he=computed(()=>({transform:`translate${pe.value==="width"?"X":"Y"}(-${ae.value}px)`})),Oe=()=>{if(!L.value)return;const kt=L.value[`offset${capitalize$1(pe.value)}`],At=ae.value;if(!At)return;const Cn=At>kt?At-kt:0;ae.value=Cn},xe=()=>{if(!L.value||!z.value)return;const kt=z.value[`offset${capitalize$1(pe.value)}`],At=L.value[`offset${capitalize$1(pe.value)}`],Cn=ae.value;if(kt-Cn<=At)return;const Dt=kt-Cn>At*2?Cn+At:kt-At;ae.value=Dt},$e=async()=>{const kt=z.value;if(!oe.value||!j.value||!L.value||!kt)return;await nextTick();const At=j.value.querySelector(".is-active");if(!At)return;const Cn=L.value,Dt=["top","bottom"].includes(y.props.tabPosition),On=At.getBoundingClientRect(),jt=Cn.getBoundingClientRect(),An=Dt?kt.offsetWidth-jt.width:kt.offsetHeight-jt.height,Mn=ae.value;let $n=Mn;Dt?(On.left<jt.left&&($n=Mn-(jt.left-On.left)),On.right>jt.right&&($n=Mn+On.right-jt.right)):(On.top<jt.top&&($n=Mn-(jt.top-On.top)),On.bottom>jt.bottom&&($n=Mn+(On.bottom-jt.bottom))),$n=Math.max($n,0),ae.value=Math.min($n,An)},Ne=()=>{var kt;if(!z.value||!L.value)return;n.stretch&&((kt=re.value)==null||kt.update());const At=z.value[`offset${capitalize$1(pe.value)}`],Cn=L.value[`offset${capitalize$1(pe.value)}`],Dt=ae.value;Cn<At?(oe.value=oe.value||{},oe.value.prev=Dt,oe.value.next=Dt+Cn<At,At-Dt<Cn&&(ae.value=At-Cn)):(oe.value=!1,Dt>0&&(ae.value=0))},Ce=kt=>{const At=kt.code,{up:Cn,down:Dt,left:On,right:jt}=EVENT_CODE;if(![Cn,Dt,On,jt].includes(At))return;const An=Array.from(kt.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Mn=An.indexOf(kt.target);let $n;At===On||At===Cn?Mn===0?$n=An.length-1:$n=Mn-1:Mn<An.length-1?$n=Mn+1:$n=0,An[$n].focus({preventScroll:!0}),An[$n].click(),Fe()},Fe=()=>{ue.value&&(de.value=!0)},ze=()=>de.value=!1;return watch($,kt=>{kt==="hidden"?ue.value=!1:kt==="visible"&&setTimeout(()=>ue.value=!0,50)}),watch(V,kt=>{kt?setTimeout(()=>ue.value=!0,50):ue.value=!1}),useResizeObserver(j,Ne),onMounted(()=>setTimeout(()=>$e(),0)),onUpdated(()=>Ne()),e({scrollToActiveTab:$e,removeFocus:ze}),watch(()=>n.panes,()=>g.update(),{flush:"post",deep:!0}),()=>{const kt=oe.value?[createVNode("span",{class:[k.e("nav-prev"),k.is("disabled",!oe.value.prev)],onClick:Oe},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[k.e("nav-next"),k.is("disabled",!oe.value.next)],onClick:xe},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,At=n.panes.map((Cn,Dt)=>{var On,jt,An,Mn;const $n=Cn.uid,Ln=Cn.props.disabled,Tn=(jt=(On=Cn.props.name)!=null?On:Cn.index)!=null?jt:`${Dt}`,Zn=!Ln&&(Cn.isClosable||n.editable);Cn.index=`${Dt}`;const Qn=Zn?createVNode(ElIcon,{class:"is-icon-close",onClick:ur=>r("tabRemove",Cn,ur)},{default:()=>[createVNode(close_default,null,null)]}):null,Pn=((Mn=(An=Cn.slots).label)==null?void 0:Mn.call(An))||Cn.props.label,Wn=!Ln&&Cn.active?0:-1;return createVNode("div",{ref:`tab-${$n}`,class:[k.e("item"),k.is(y.props.tabPosition),k.is("active",Cn.active),k.is("disabled",Ln),k.is("closable",Zn),k.is("focus",de.value)],id:`tab-${Tn}`,key:`tab-${$n}`,"aria-controls":`pane-${Tn}`,role:"tab","aria-selected":Cn.active,tabindex:Wn,onFocus:()=>Fe(),onBlur:()=>ze(),onClick:ur=>{ze(),r("tabClick",Cn,Tn,ur)},onKeydown:ur=>{Zn&&(ur.code===EVENT_CODE.delete||ur.code===EVENT_CODE.backspace)&&r("tabRemove",Cn,ur)}},[Pn,Qn])});return createVNode("div",{ref:j,class:[k.e("nav-wrap"),k.is("scrollable",!!oe.value),k.is(y.props.tabPosition)]},[kt,createVNode("div",{class:k.e("nav-scroll"),ref:L},[createVNode("div",{class:[k.e("nav"),k.is(y.props.tabPosition),k.is("stretch",n.stretch&&["top","bottom"].includes(y.props.tabPosition))],ref:z,style:he.value,role:"tablist",onKeydown:Ce},[n.type?null:createVNode(TabBar,{ref:re,tabs:[...n.panes]},null),At])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=n=>isString$3(n)||isNumber$1(n),tabsEmits={[UPDATE_MODEL_EVENT]:n=>isPaneName(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>isPaneName(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>isPaneName(n),tabAdd:()=>!0};var Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(n,{emit:e,slots:r,expose:g}){var y,k;const $=useNamespace("tabs"),{children:V,addChild:L,removeChild:z}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),j=ref(),re=ref((k=(y=n.modelValue)!=null?y:n.activeName)!=null?k:"0"),oe=he=>{re.value=he,e(UPDATE_MODEL_EVENT,he),e("tabChange",he)},ae=async he=>{var Oe,xe,$e;if(!(re.value===he||isUndefined(he)))try{await((Oe=n.beforeLeave)==null?void 0:Oe.call(n,he,re.value))!==!1&&(oe(he),($e=(xe=j.value)==null?void 0:xe.removeFocus)==null||$e.call(xe))}catch{}},de=(he,Oe,xe)=>{he.props.disabled||(ae(Oe),e("tabClick",he,xe))},ue=(he,Oe)=>{he.props.disabled||isUndefined(he.props.name)||(Oe.stopPropagation(),e("edit",he.props.name,"remove"),e("tabRemove",he.props.name))},pe=()=>{e("edit",void 0,"add"),e("tabAdd")};return useDeprecated({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},computed(()=>!!n.activeName)),watch(()=>n.activeName,he=>ae(he)),watch(()=>n.modelValue,he=>ae(he)),watch(re,async()=>{var he;await nextTick(),(he=j.value)==null||he.scrollToActiveTab()}),provide(tabsRootContextKey,{props:n,currentName:re,registerPane:L,unregisterPane:z}),g({currentName:re}),()=>{const he=n.editable||n.addable?createVNode("span",{class:$.e("new-tab"),tabindex:"0",onClick:pe,onKeydown:$e=>{$e.code===EVENT_CODE.enter&&pe()}},[createVNode(ElIcon,{class:$.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,Oe=createVNode("div",{class:[$.e("header"),$.is(n.tabPosition)]},[he,createVNode(TabNav,{ref:j,currentName:re.value,editable:n.editable,type:n.type,panes:V.value,stretch:n.stretch,onTabClick:de,onTabRemove:ue},null)]),xe=createVNode("div",{class:$.e("content")},[renderSlot(r,"default")]);return createVNode("div",{class:[$.b(),$.m(n.tabPosition),{[$.m("card")]:n.type==="card",[$.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[Oe,xe]:[xe,Oe]])}}});const tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_hoisted_1$16=["id","aria-hidden","aria-labelledby"],COMPONENT_NAME$1="ElTabPane",__default__$j=defineComponent({name:COMPONENT_NAME$1}),_sfc_main$1l=defineComponent({...__default__$j,props:tabPaneProps,setup(n){const e=n,r=getCurrentInstance(),g=useSlots(),y=inject(tabsRootContextKey);y||throwError(COMPONENT_NAME$1,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const k=useNamespace("tab-pane"),$=ref(),V=computed(()=>e.closable||y.props.closable),L=computedEager(()=>{var ae;return y.currentName.value===((ae=e.name)!=null?ae:$.value)}),z=ref(L.value),j=computed(()=>{var ae;return(ae=e.name)!=null?ae:$.value}),re=computedEager(()=>!e.lazy||z.value||L.value);watch(L,ae=>{ae&&(z.value=!0)});const oe=reactive({uid:r.uid,slots:g,props:e,paneName:j,active:L,index:$,isClosable:V});return onMounted(()=>{y.registerPane(oe)}),onUnmounted(()=>{y.unregisterPane(oe.uid)}),(ae,de)=>unref(re)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(j)}`,class:normalizeClass(unref(k).b()),role:"tabpanel","aria-hidden":!unref(L),"aria-labelledby":`tab-${unref(j)}`},[renderSlot(ae.$slots,"default")],10,_hoisted_1$16)),[[vShow,unref(L)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc$1(_sfc_main$1l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ElTabs=withInstall(Tabs,{TabPane}),ElTabPane=withNoopInstall(TabPane),textProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:componentSizes,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),__default__$i=defineComponent({name:"ElText"}),_sfc_main$1k=defineComponent({...__default__$i,props:textProps,setup(n){const e=n,r=useFormSize(),g=useNamespace("text"),y=computed(()=>[g.b(),g.m(e.type),g.m(r.value),g.is("truncated",e.truncated)]);return(k,$)=>(openBlock(),createBlock(resolveDynamicComponent(k.tag),{class:normalizeClass(unref(y))},{default:withCtx(()=>[renderSlot(k.$slots,"default")]),_:3},8,["class"]))}});var Text$1=_export_sfc$1(_sfc_main$1k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const ElText=withInstall(Text$1),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default}}),parseTime=n=>{const e=(n||"").split(":");if(e.length>=2){let r=Number.parseInt(e[0],10);const g=Number.parseInt(e[1],10),y=n.toUpperCase();return y.includes("AM")&&r===12?r=0:y.includes("PM")&&r!==12&&(r+=12),{hours:r,minutes:g}}return null},compareTime=(n,e)=>{const r=parseTime(n);if(!r)return-1;const g=parseTime(e);if(!g)return-1;const y=r.minutes+r.hours*60,k=g.minutes+g.hours*60;return y===k?0:y>k?1:-1},padTime=n=>`${n}`.padStart(2,"0"),formatTime=n=>`${padTime(n.hours)}:${padTime(n.minutes)}`,nextTime=(n,e)=>{const r=parseTime(n);if(!r)return"";const g=parseTime(e);if(!g)return"";const y={hours:r.hours,minutes:r.minutes};return y.minutes+=g.minutes,y.hours+=g.hours,y.hours+=Math.floor(y.minutes/60),y.minutes=y.minutes%60,formatTime(y)},__default__$h=defineComponent({name:"ElTimeSelect"}),_sfc_main$1j=defineComponent({...__default__$h,props:timeSelectProps,emits:["change","blur","focus","update:modelValue"],setup(n,{expose:e}){const r=n;dayjs.extend(customParseFormat);const{Option:g}=ElSelect,y=useNamespace("input"),k=ref(),$=useFormDisabled(),V=computed(()=>r.modelValue),L=computed(()=>{const pe=parseTime(r.start);return pe?formatTime(pe):null}),z=computed(()=>{const pe=parseTime(r.end);return pe?formatTime(pe):null}),j=computed(()=>{const pe=parseTime(r.step);return pe?formatTime(pe):null}),re=computed(()=>{const pe=parseTime(r.minTime||"");return pe?formatTime(pe):null}),oe=computed(()=>{const pe=parseTime(r.maxTime||"");return pe?formatTime(pe):null}),ae=computed(()=>{const pe=[];if(r.start&&r.end&&r.step){let he=L.value,Oe;for(;he&&z.value&&compareTime(he,z.value)<=0;)Oe=dayjs(he,"HH:mm").format(r.format),pe.push({value:Oe,disabled:compareTime(he,re.value||"-1:-1")<=0||compareTime(he,oe.value||"100:100")>=0}),he=nextTime(he,j.value)}return pe});return e({blur:()=>{var pe,he;(he=(pe=k.value)==null?void 0:pe.blur)==null||he.call(pe)},focus:()=>{var pe,he;(he=(pe=k.value)==null?void 0:pe.focus)==null||he.call(pe)}}),(pe,he)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:k,"model-value":unref(V),disabled:unref($),clearable:pe.clearable,"clear-icon":pe.clearIcon,size:pe.size,effect:pe.effect,placeholder:pe.placeholder,"default-first-option":"",filterable:pe.editable,"onUpdate:modelValue":he[0]||(he[0]=Oe=>pe.$emit("update:modelValue",Oe)),onChange:he[1]||(he[1]=Oe=>pe.$emit("change",Oe)),onBlur:he[2]||(he[2]=Oe=>pe.$emit("blur",Oe)),onFocus:he[3]||(he[3]=Oe=>pe.$emit("focus",Oe))},{prefix:withCtx(()=>[pe.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("prefix-icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(pe.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ae),Oe=>(openBlock(),createBlock(unref(g),{key:Oe.value,label:Oe.value,value:Oe.value,disabled:Oe.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var TimeSelect=_export_sfc$1(_sfc_main$1j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);TimeSelect.install=n=>{n.component(TimeSelect.name,TimeSelect)};const _TimeSelect=TimeSelect,ElTimeSelect=_TimeSelect,Timeline=defineComponent({name:"ElTimeline",setup(n,{slots:e}){const r=useNamespace("timeline");return provide("timeline",e),()=>h$1("ul",{class:[r.b()]},[renderSlot(e,"default")])}}),timelineItemProps=buildProps({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:iconPropType},hollow:{type:Boolean,default:!1}}),__default__$g=defineComponent({name:"ElTimelineItem"}),_sfc_main$1i=defineComponent({...__default__$g,props:timelineItemProps,setup(n){const e=n,r=useNamespace("timeline-item"),g=computed(()=>[r.e("node"),r.em("node",e.size||""),r.em("node",e.type||""),r.is("hollow",e.hollow)]);return(y,k)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(r).b(),{[unref(r).e("center")]:y.center}])},[createBaseVNode("div",{class:normalizeClass(unref(r).e("tail"))},null,2),y.$slots.dot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g)),style:normalizeStyle({backgroundColor:y.color})},[y.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.icon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)),y.$slots.dot?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("dot"))},[renderSlot(y.$slots,"dot")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("wrapper"))},[!y.hideTimestamp&&y.placement==="top"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("timestamp"),unref(r).is("top")])},toDisplayString$1(y.timestamp),3)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("content"))},[renderSlot(y.$slots,"default")],2),!y.hideTimestamp&&y.placement==="bottom"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(r).e("timestamp"),unref(r).is("bottom")])},toDisplayString$1(y.timestamp),3)):createCommentVNode("v-if",!0)],2)],2))}});var TimelineItem=_export_sfc$1(_sfc_main$1i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const ElTimeline=withInstall(Timeline,{TimelineItem}),ElTimelineItem=withNoopInstall(TimelineItem),tooltipV2CommonProps=buildProps({nowrap:Boolean});var TooltipV2Sides=(n=>(n.top="top",n.bottom="bottom",n.left="left",n.right="right",n))(TooltipV2Sides||{});const tooltipV2Sides=Object.values(TooltipV2Sides),tooltipV2ArrowProps=buildProps({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:definePropType(Object),default:null}}),tooltipV2ArrowSpecialProps=buildProps({side:{type:definePropType(String),values:tooltipV2Sides,required:!0}}),tooltipV2Strategies=["absolute","fixed"],tooltipV2Placements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tooltipV2ContentProps=buildProps({ariaLabel:String,arrowPadding:{type:definePropType(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:definePropType(String),values:tooltipV2Placements,default:"bottom"},reference:{type:definePropType(Object),default:null},offset:{type:Number,default:8},strategy:{type:definePropType(String),values:tooltipV2Strategies,default:"absolute"},showArrow:{type:Boolean,default:!1}}),tooltipV2RootProps=buildProps({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:definePropType(Function)},"onUpdate:open":{type:definePropType(Function)}}),EventHandler={type:definePropType(Function)},tooltipV2TriggerProps=buildProps({onBlur:EventHandler,onClick:EventHandler,onFocus:EventHandler,onMouseDown:EventHandler,onMouseEnter:EventHandler,onMouseLeave:EventHandler}),tooltipV2Props=buildProps({...tooltipV2RootProps,...tooltipV2ArrowProps,...tooltipV2TriggerProps,...tooltipV2ContentProps,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:definePropType(Object),default:null},teleported:Boolean,to:{type:definePropType(String),default:"body"}}),tooltipV2RootKey=Symbol("tooltipV2"),tooltipV2ContentKey=Symbol("tooltipV2Content"),TOOLTIP_V2_OPEN="tooltip_v2.open",__default__$f=defineComponent({name:"ElTooltipV2Root"}),_sfc_main$1h=defineComponent({...__default__$f,props:tooltipV2RootProps,setup(n,{expose:e}){const r=n,g=ref(r.defaultOpen),y=ref(null),k=computed({get:()=>isPropAbsent(r.open)?g.value:r.open,set:pe=>{var he;g.value=pe,(he=r["onUpdate:open"])==null||he.call(r,pe)}}),$=computed(()=>isNumber$1(r.delayDuration)&&r.delayDuration>0),{start:V,stop:L}=useTimeoutFn(()=>{k.value=!0},computed(()=>r.delayDuration),{immediate:!1}),z=useNamespace("tooltip-v2"),j=useId(),re=()=>{L(),k.value=!0},oe=()=>{unref($)?V():re()},ae=re,de=()=>{L(),k.value=!1};return watch(k,pe=>{var he;pe&&(document.dispatchEvent(new CustomEvent(TOOLTIP_V2_OPEN)),ae()),(he=r.onOpenChange)==null||he.call(r,pe)}),onMounted(()=>{document.addEventListener(TOOLTIP_V2_OPEN,de)}),onBeforeUnmount(()=>{L(),document.removeEventListener(TOOLTIP_V2_OPEN,de)}),provide(tooltipV2RootKey,{contentId:j,triggerRef:y,ns:z,onClose:de,onDelayOpen:oe,onOpen:ae}),e({onOpen:ae,onClose:de}),(pe,he)=>renderSlot(pe.$slots,"default",{open:unref(k)})}});var TooltipV2Root=_export_sfc$1(_sfc_main$1h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const __default__$e=defineComponent({name:"ElTooltipV2Arrow"}),_sfc_main$1g=defineComponent({...__default__$e,props:{...tooltipV2ArrowProps,...tooltipV2ArrowSpecialProps},setup(n){const e=n,{ns:r}=inject(tooltipV2RootKey),{arrowRef:g}=inject(tooltipV2ContentKey),y=computed(()=>{const{style:k,width:$,height:V}=e,L=r.namespace.value;return{[`--${L}-tooltip-v2-arrow-width`]:`${$}px`,[`--${L}-tooltip-v2-arrow-height`]:`${V}px`,[`--${L}-tooltip-v2-arrow-border-width`]:`${$/2}px`,[`--${L}-tooltip-v2-arrow-cover-width`]:$/2-1,...k||{}}});return(k,$)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:g,style:normalizeStyle(unref(y)),class:normalizeClass(unref(r).e("arrow"))},null,6))}});var TooltipV2Arrow=_export_sfc$1(_sfc_main$1g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const visualHiddenProps=buildProps({style:{type:definePropType([String,Object,Array]),default:()=>({})}}),__default__$d=defineComponent({name:"ElVisuallyHidden"}),_sfc_main$1f=defineComponent({...__default__$d,props:visualHiddenProps,setup(n){const e=n,r=computed(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(g,y)=>(openBlock(),createElementBlock("span",mergeProps(g.$attrs,{style:unref(r)}),[renderSlot(g.$slots,"default")],16))}});var ElVisuallyHidden=_export_sfc$1(_sfc_main$1f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const _hoisted_1$15=["data-side"],__default__$c=defineComponent({name:"ElTooltipV2Content"}),_sfc_main$1e=defineComponent({...__default__$c,props:{...tooltipV2ContentProps,...tooltipV2CommonProps},setup(n){const e=n,{triggerRef:r,contentId:g}=inject(tooltipV2RootKey),y=ref(e.placement),k=ref(e.strategy),$=ref(null),{referenceRef:V,contentRef:L,middlewareData:z,x:j,y:re,update:oe}=useFloating({placement:y,strategy:k,middleware:computed(()=>{const xe=[offset(e.offset)];return e.showArrow&&xe.push(arrowMiddleware({arrowRef:$})),xe})}),ae=useZIndex().nextZIndex(),de=useNamespace("tooltip-v2"),ue=computed(()=>y.value.split("-")[0]),pe=computed(()=>({position:unref(k),top:`${unref(re)||0}px`,left:`${unref(j)||0}px`,zIndex:ae})),he=computed(()=>{if(!e.showArrow)return{};const{arrow:xe}=unref(z);return{[`--${de.namespace.value}-tooltip-v2-arrow-x`]:`${xe?.x}px`||"",[`--${de.namespace.value}-tooltip-v2-arrow-y`]:`${xe?.y}px`||""}}),Oe=computed(()=>[de.e("content"),de.is("dark",e.effect==="dark"),de.is(unref(k)),e.contentClass]);return watch($,()=>oe()),watch(()=>e.placement,xe=>y.value=xe),onMounted(()=>{watch(()=>e.reference||r.value,xe=>{V.value=xe||void 0},{immediate:!0})}),provide(tooltipV2ContentKey,{arrowRef:$}),(xe,$e)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:L,style:normalizeStyle(unref(pe)),"data-tooltip-v2-root":""},[xe.nowrap?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,"data-side":unref(ue),class:normalizeClass(unref(Oe))},[renderSlot(xe.$slots,"default",{contentStyle:unref(pe),contentClass:unref(Oe)}),createVNode(unref(ElVisuallyHidden),{id:unref(g),role:"tooltip"},{default:withCtx(()=>[xe.ariaLabel?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(xe.ariaLabel),1)],64)):renderSlot(xe.$slots,"default",{key:1})]),_:3},8,["id"]),renderSlot(xe.$slots,"arrow",{style:normalizeStyle(unref(he)),side:unref(ue)})],10,_hoisted_1$15))],4))}});var TooltipV2Content=_export_sfc$1(_sfc_main$1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const forwardRefProps=buildProps({setRef:{type:definePropType(Function),required:!0},onlyChild:Boolean});var ForwardRef=defineComponent({props:forwardRefProps,setup(n,{slots:e}){const r=ref(),g=composeRefs(r,y=>{y?n.setRef(y.nextElementSibling):n.setRef(null)});return()=>{var y;const[k]=((y=e.default)==null?void 0:y.call(e))||[],$=n.onlyChild?ensureOnlyChild(k.children):k.children;return createVNode(Fragment,{ref:g},[$])}}});const __default__$b=defineComponent({name:"ElTooltipV2Trigger"}),_sfc_main$1d=defineComponent({...__default__$b,props:{...tooltipV2CommonProps,...tooltipV2TriggerProps},setup(n){const e=n,{onClose:r,onOpen:g,onDelayOpen:y,triggerRef:k,contentId:$}=inject(tooltipV2RootKey);let V=!1;const L=Oe=>{k.value=Oe},z=()=>{V=!1},j=composeEventHandlers(e.onMouseEnter,y),re=composeEventHandlers(e.onMouseLeave,r),oe=composeEventHandlers(e.onMouseDown,()=>{r(),V=!0,document.addEventListener("mouseup",z,{once:!0})}),ae=composeEventHandlers(e.onFocus,()=>{V||g()}),de=composeEventHandlers(e.onBlur,r),ue=composeEventHandlers(e.onClick,Oe=>{Oe.detail===0&&r()}),pe={blur:de,click:ue,focus:ae,mousedown:oe,mouseenter:j,mouseleave:re},he=(Oe,xe,$e)=>{Oe&&Object.entries(xe).forEach(([Ne,Ce])=>{Oe[$e](Ne,Ce)})};return watch(k,(Oe,xe)=>{he(Oe,pe,"addEventListener"),he(xe,pe,"removeEventListener"),Oe&&Oe.setAttribute("aria-describedby",$.value)}),onBeforeUnmount(()=>{he(k.value,pe,"removeEventListener"),document.removeEventListener("mouseup",z)}),(Oe,xe)=>Oe.nowrap?(openBlock(),createBlock(unref(ForwardRef),{key:0,"set-ref":L,"only-child":""},{default:withCtx(()=>[renderSlot(Oe.$slots,"default")]),_:3})):(openBlock(),createElementBlock("button",mergeProps({key:1,ref_key:"triggerRef",ref:k},Oe.$attrs),[renderSlot(Oe.$slots,"default")],16))}});var TooltipV2Trigger=_export_sfc$1(_sfc_main$1d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const __default__$a=defineComponent({name:"ElTooltipV2"}),_sfc_main$1c=defineComponent({...__default__$a,props:tooltipV2Props,setup(n){const r=toRefs(n),g=reactive(pick(r,Object.keys(tooltipV2ArrowProps))),y=reactive(pick(r,Object.keys(tooltipV2ContentProps))),k=reactive(pick(r,Object.keys(tooltipV2RootProps))),$=reactive(pick(r,Object.keys(tooltipV2TriggerProps)));return(V,L)=>(openBlock(),createBlock(TooltipV2Root,normalizeProps(guardReactiveProps(k)),{default:withCtx(({open:z})=>[createVNode(TooltipV2Trigger,mergeProps($,{nowrap:""}),{default:withCtx(()=>[renderSlot(V.$slots,"trigger")]),_:3},16),(openBlock(),createBlock(Teleport,{to:V.to,disabled:!V.teleported},[V.fullTransition?(openBlock(),createBlock(Transition,normalizeProps(mergeProps({key:0},V.transitionProps)),{default:withCtx(()=>[V.alwaysOn||z?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},y)),{arrow:withCtx(({style:j,side:re})=>[V.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},g,{style:j,side:re}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)]),_:2},1040)):(openBlock(),createElementBlock(Fragment,{key:1},[V.alwaysOn||z?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},y)),{arrow:withCtx(({style:j,side:re})=>[V.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},g,{style:j,side:re}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var TooltipV2=_export_sfc$1(_sfc_main$1c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const ElTooltipV2=withInstall(TooltipV2),LEFT_CHECK_CHANGE_EVENT="left-check-change",RIGHT_CHECK_CHANGE_EVENT="right-check-change",transferProps=buildProps({data:{type:definePropType(Array),default:()=>[]},titles:{type:definePropType(Array),default:()=>[]},buttonTexts:{type:definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:definePropType(Function)},leftDefaultChecked:{type:definePropType(Array),default:()=>[]},rightDefaultChecked:{type:definePropType(Array),default:()=>[]},renderContent:{type:definePropType(Function)},modelValue:{type:definePropType(Array),default:()=>[]},format:{type:definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:definePropType(Object),default:()=>mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),transferCheckedChangeFn=(n,e)=>[n,e].every(isArray$3)||isArray$3(n)&&isNil(e),transferEmits={[CHANGE_EVENT]:(n,e,r)=>[n,r].every(isArray$3)&&["left","right"].includes(e),[UPDATE_MODEL_EVENT]:n=>isArray$3(n),[LEFT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn,[RIGHT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn},CHECKED_CHANGE_EVENT="checked-change",transferPanelProps=buildProps({data:transferProps.data,optionRender:{type:definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:transferProps.format,filterMethod:transferProps.filterMethod,defaultChecked:transferProps.leftDefaultChecked,props:transferProps.props}),transferPanelEmits={[CHECKED_CHANGE_EVENT]:transferCheckedChangeFn},usePropsAlias=n=>{const e={label:"label",key:"key",disabled:"disabled"};return computed(()=>({...e,...n.props}))},useCheck$1=(n,e,r)=>{const g=usePropsAlias(n),y=computed(()=>n.data.filter(j=>isFunction$3(n.filterMethod)?n.filterMethod(e.query,j):String(j[g.value.label]||j[g.value.key]).toLowerCase().includes(e.query.toLowerCase()))),k=computed(()=>y.value.filter(j=>!j[g.value.disabled])),$=computed(()=>{const j=e.checked.length,re=n.data.length,{noChecked:oe,hasChecked:ae}=n.format;return oe&&ae?j>0?ae.replace(/\${checked}/g,j.toString()).replace(/\${total}/g,re.toString()):oe.replace(/\${total}/g,re.toString()):`${j}/${re}`}),V=computed(()=>{const j=e.checked.length;return j>0&&j<k.value.length}),L=()=>{const j=k.value.map(re=>re[g.value.key]);e.allChecked=j.length>0&&j.every(re=>e.checked.includes(re))},z=j=>{e.checked=j?k.value.map(re=>re[g.value.key]):[]};return watch(()=>e.checked,(j,re)=>{if(L(),e.checkChangeByUser){const oe=j.concat(re).filter(ae=>!j.includes(ae)||!re.includes(ae));r(CHECKED_CHANGE_EVENT,j,oe)}else r(CHECKED_CHANGE_EVENT,j),e.checkChangeByUser=!0}),watch(k,()=>{L()}),watch(()=>n.data,()=>{const j=[],re=y.value.map(oe=>oe[g.value.key]);e.checked.forEach(oe=>{re.includes(oe)&&j.push(oe)}),e.checkChangeByUser=!1,e.checked=j}),watch(()=>n.defaultChecked,(j,re)=>{if(re&&j.length===re.length&&j.every(de=>re.includes(de)))return;const oe=[],ae=k.value.map(de=>de[g.value.key]);j.forEach(de=>{ae.includes(de)&&oe.push(de)}),e.checkChangeByUser=!1,e.checked=oe},{immediate:!0}),{filteredData:y,checkableData:k,checkedSummary:$,isIndeterminate:V,updateAllChecked:L,handleAllCheckedChange:z}},useCheckedChange=(n,e)=>({onSourceCheckedChange:(y,k)=>{n.leftChecked=y,k&&e(LEFT_CHECK_CHANGE_EVENT,y,k)},onTargetCheckedChange:(y,k)=>{n.rightChecked=y,k&&e(RIGHT_CHECK_CHANGE_EVENT,y,k)}}),useComputedData=n=>{const e=usePropsAlias(n),r=computed(()=>n.data.reduce((k,$)=>(k[$[e.value.key]]=$)&&k,{})),g=computed(()=>n.data.filter(k=>!n.modelValue.includes(k[e.value.key]))),y=computed(()=>n.targetOrder==="original"?n.data.filter(k=>n.modelValue.includes(k[e.value.key])):n.modelValue.reduce((k,$)=>{const V=r.value[$];return V&&k.push(V),k},[]));return{sourceData:g,targetData:y}},useMove=(n,e,r)=>{const g=usePropsAlias(n),y=(V,L,z)=>{r(UPDATE_MODEL_EVENT,V),r(CHANGE_EVENT,V,L,z)};return{addToLeft:()=>{const V=n.modelValue.slice();e.rightChecked.forEach(L=>{const z=V.indexOf(L);z>-1&&V.splice(z,1)}),y(V,"left",e.rightChecked)},addToRight:()=>{let V=n.modelValue.slice();const L=n.data.filter(z=>{const j=z[g.value.key];return e.leftChecked.includes(j)&&!n.modelValue.includes(j)}).map(z=>z[g.value.key]);V=n.targetOrder==="unshift"?L.concat(V):V.concat(L),n.targetOrder==="original"&&(V=n.data.filter(z=>V.includes(z[g.value.key])).map(z=>z[g.value.key])),y(V,"right",e.leftChecked)}}},__default__$9=defineComponent({name:"ElTransferPanel"}),_sfc_main$1b=defineComponent({...__default__$9,props:transferPanelProps,emits:transferPanelEmits,setup(n,{expose:e,emit:r}){const g=n,y=useSlots(),k=({option:xe})=>xe,{t:$}=useLocale(),V=useNamespace("transfer"),L=reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),z=usePropsAlias(g),{filteredData:j,checkedSummary:re,isIndeterminate:oe,handleAllCheckedChange:ae}=useCheck$1(g,L,r),de=computed(()=>!isEmpty(L.query)&&isEmpty(j.value)),ue=computed(()=>!isEmpty(y.default()[0].children)),{checked:pe,allChecked:he,query:Oe}=toRefs(L);return e({query:Oe}),(xe,$e)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V).b("panel"))},[createBaseVNode("p",{class:normalizeClass(unref(V).be("panel","header"))},[createVNode(unref(ElCheckbox),{modelValue:unref(he),"onUpdate:modelValue":$e[0]||($e[0]=Ne=>isRef(he)?he.value=Ne:null),indeterminate:unref(oe),"validate-event":!1,onChange:unref(ae)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(xe.title)+" ",1),createBaseVNode("span",null,toDisplayString$1(unref(re)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),createBaseVNode("div",{class:normalizeClass([unref(V).be("panel","body"),unref(V).is("with-footer",unref(ue))])},[xe.filterable?(openBlock(),createBlock(unref(ElInput),{key:0,modelValue:unref(Oe),"onUpdate:modelValue":$e[1]||($e[1]=Ne=>isRef(Oe)?Oe.value=Ne:null),class:normalizeClass(unref(V).be("panel","filter")),size:"default",placeholder:xe.placeholder,"prefix-icon":unref(search_default),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):createCommentVNode("v-if",!0),withDirectives(createVNode(unref(ElCheckboxGroup$1),{modelValue:unref(pe),"onUpdate:modelValue":$e[2]||($e[2]=Ne=>isRef(pe)?pe.value=Ne:null),"validate-event":!1,class:normalizeClass([unref(V).is("filterable",xe.filterable),unref(V).be("panel","list")])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),Ne=>(openBlock(),createBlock(unref(ElCheckbox),{key:Ne[unref(z).key],class:normalizeClass(unref(V).be("panel","item")),label:Ne[unref(z).key],disabled:Ne[unref(z).disabled],"validate-event":!1},{default:withCtx(()=>{var Ce;return[createVNode(k,{option:(Ce=xe.optionRender)==null?void 0:Ce.call(xe,Ne)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[vShow,!unref(de)&&!unref(isEmpty)(xe.data)]]),withDirectives(createBaseVNode("p",{class:normalizeClass(unref(V).be("panel","empty"))},toDisplayString$1(unref(de)?unref($)("el.transfer.noMatch"):unref($)("el.transfer.noData")),3),[[vShow,unref(de)||unref(isEmpty)(xe.data)]])],2),unref(ue)?(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(V).be("panel","footer"))},[renderSlot(xe.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var TransferPanel=_export_sfc$1(_sfc_main$1b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const _hoisted_1$14={key:0},_hoisted_2$$={key:0},__default__$8=defineComponent({name:"ElTransfer"}),_sfc_main$1a=defineComponent({...__default__$8,props:transferProps,emits:transferEmits,setup(n,{expose:e,emit:r}){const g=n,y=useSlots(),{t:k}=useLocale(),$=useNamespace("transfer"),{formItem:V}=useFormItem(),L=reactive({leftChecked:[],rightChecked:[]}),z=usePropsAlias(g),{sourceData:j,targetData:re}=useComputedData(g),{onSourceCheckedChange:oe,onTargetCheckedChange:ae}=useCheckedChange(L,r),{addToLeft:de,addToRight:ue}=useMove(g,L,r),pe=ref(),he=ref(),Oe=ze=>{switch(ze){case"left":pe.value.query="";break;case"right":he.value.query="";break}},xe=computed(()=>g.buttonTexts.length===2),$e=computed(()=>g.titles[0]||k("el.transfer.titles.0")),Ne=computed(()=>g.titles[1]||k("el.transfer.titles.1")),Ce=computed(()=>g.filterPlaceholder||k("el.transfer.filterPlaceholder"));watch(()=>g.modelValue,()=>{var ze;g.validateEvent&&((ze=V?.validate)==null||ze.call(V,"change").catch(kt=>void 0))});const Fe=computed(()=>ze=>g.renderContent?g.renderContent(h$1,ze):y.default?y.default({option:ze}):h$1("span",ze[z.value.label]||ze[z.value.key]));return e({clearQuery:Oe,leftPanel:pe,rightPanel:he}),(ze,kt)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($).b())},[createVNode(TransferPanel,{ref_key:"leftPanel",ref:pe,data:unref(j),"option-render":unref(Fe),placeholder:unref(Ce),title:unref($e),filterable:ze.filterable,format:ze.format,"filter-method":ze.filterMethod,"default-checked":ze.leftDefaultChecked,props:g.props,onCheckedChange:unref(oe)},{default:withCtx(()=>[renderSlot(ze.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),createBaseVNode("div",{class:normalizeClass(unref($).e("buttons"))},[createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref($).e("button"),unref($).is("with-texts",unref(xe))]),disabled:unref(isEmpty)(L.rightChecked),onClick:unref(de)},{default:withCtx(()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1}),unref(isUndefined)(ze.buttonTexts[0])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_1$14,toDisplayString$1(ze.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref($).e("button"),unref($).is("with-texts",unref(xe))]),disabled:unref(isEmpty)(L.leftChecked),onClick:unref(ue)},{default:withCtx(()=>[unref(isUndefined)(ze.buttonTexts[1])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_2$$,toDisplayString$1(ze.buttonTexts[1]),1)),createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),createVNode(TransferPanel,{ref_key:"rightPanel",ref:he,data:unref(re),"option-render":unref(Fe),placeholder:unref(Ce),filterable:ze.filterable,format:ze.format,"filter-method":ze.filterMethod,title:unref(Ne),"default-checked":ze.rightDefaultChecked,props:g.props,onCheckedChange:unref(ae)},{default:withCtx(()=>[renderSlot(ze.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Transfer=_export_sfc$1(_sfc_main$1a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const ElTransfer=withInstall(Transfer),NODE_KEY="$treeNodeId",markNodeData=function(n,e){!e||e[NODE_KEY]||Object.defineProperty(e,NODE_KEY,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=function(n,e){return n?e[n]:e[NODE_KEY]},handleCurrentChange=(n,e,r)=>{const g=n.value.currentNode;r();const y=n.value.currentNode;g!==y&&e("current-change",y?y.data:null,y)},getChildState=n=>{let e=!0,r=!0,g=!0;for(let y=0,k=n.length;y<k;y++){const $=n[y];($.checked!==!0||$.indeterminate)&&(e=!1,$.disabled||(g=!1)),($.checked!==!1||$.indeterminate)&&(r=!1)}return{all:e,none:r,allWithoutDisable:g,half:!e&&!r}},reInitChecked=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:r,half:g}=getChildState(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):g?(n.checked=!1,n.indeterminate=!0):r&&(n.checked=!1,n.indeterminate=!1);const y=n.parent;!y||y.level===0||n.store.checkStrictly||reInitChecked(y)},getPropertyFromData=function(n,e){const r=n.store.props,g=n.data||{},y=r[e];if(typeof y=="function")return y(g,n);if(typeof y=="string")return g[y];if(typeof y>"u"){const k=g[e];return k===void 0?"":k}};let nodeIdSeed=0,Node$1=class ga{constructor(e){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const r in e)hasOwn$1(e,r)&&(this[r]=e[r]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const r=e.props;if(r&&typeof r.isLeaf<"u"){const k=getPropertyFromData(this,"isLeaf");typeof k=="boolean"&&(this.isLeafByUser=k)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||markNodeData(this,this.data),!this.data)return;const g=e.defaultExpandedKeys,y=e.key;y&&g&&g.includes(this.key)&&this.expand(null,e.autoExpandParent),y&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||markNodeData(this,e),this.data=e,this.childNodes=[];let r;this.level===0&&Array.isArray(this.data)?r=this.data:r=getPropertyFromData(this,"children")||[];for(let g=0,y=r.length;g<y;g++)this.insertChild({data:r[g]})}get label(){return getPropertyFromData(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const r=e.childNodes.indexOf(this);if(r>-1)return e.childNodes[r+1]}return null}get previousSibling(){const e=this.parent;if(e){const r=e.childNodes.indexOf(this);if(r>-1)return r>0?e.childNodes[r-1]:null}return null}contains(e,r=!0){return(this.childNodes||[]).some(g=>g===e||r&&g.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,r,g){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof ga)){if(!g){const y=this.getChildren(!0);y.includes(e.data)||(typeof r>"u"||r<0?y.push(e.data):y.splice(r,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=reactive(new ga(e)),e instanceof ga&&e.initialize()}e.level=this.level+1,typeof r>"u"||r<0?this.childNodes.push(e):this.childNodes.splice(r,0,e),this.updateLeafState()}insertBefore(e,r){let g;r&&(g=this.childNodes.indexOf(r)),this.insertChild(e,g)}insertAfter(e,r){let g;r&&(g=this.childNodes.indexOf(r),g!==-1&&(g+=1)),this.insertChild(e,g)}removeChild(e){const r=this.getChildren()||[],g=r.indexOf(e.data);g>-1&&r.splice(g,1);const y=this.childNodes.indexOf(e);y>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(y,1)),this.updateLeafState()}removeChildByData(e){let r=null;for(let g=0;g<this.childNodes.length;g++)if(this.childNodes[g].data===e){r=this.childNodes[g];break}r&&this.removeChild(r)}expand(e,r){const g=()=>{if(r){let y=this.parent;for(;y.level>0;)y.expanded=!0,y=y.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(y=>{y.canFocus=!0})};this.shouldLoadData()?this.loadData(y=>{Array.isArray(y)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),g())}):g()}doCreateChildren(e,r={}){e.forEach(g=>{this.insertChild(Object.assign({data:g},r),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,r,g,y){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:$,allWithoutDisable:V}=getChildState(this.childNodes);!this.isLeaf&&!$&&V&&(this.checked=!1,e=!1);const L=()=>{if(r){const z=this.childNodes;for(let oe=0,ae=z.length;oe<ae;oe++){const de=z[oe];y=y||e!==!1;const ue=de.disabled?de.checked:y;de.setChecked(ue,r,!0,y)}const{half:j,all:re}=getChildState(z);re||(this.checked=re,this.indeterminate=j)}};if(this.shouldLoadData()){this.loadData(()=>{L(),reInitChecked(this)},{checked:e!==!1});return}else L()}const k=this.parent;!k||k.level===0||g||reInitChecked(k)}getChildren(e=!1){if(this.level===0)return this.data;const r=this.data;if(!r)return null;const g=this.store.props;let y="children";return g&&(y=g.children||"children"),r[y]===void 0&&(r[y]=null),e&&!r[y]&&(r[y]=[]),r[y]}updateChildren(){const e=this.getChildren()||[],r=this.childNodes.map(k=>k.data),g={},y=[];e.forEach((k,$)=>{const V=k[NODE_KEY];!!V&&r.findIndex(z=>z[NODE_KEY]===V)>=0?g[V]={index:$,data:k}:y.push({index:$,data:k})}),this.store.lazy||r.forEach(k=>{g[k[NODE_KEY]]||this.removeChildByData(k)}),y.forEach(({index:k,data:$})=>{this.insertChild({data:$},k)}),this.updateLeafState()}loadData(e,r={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(r).length)){this.loading=!0;const g=y=>{this.childNodes=[],this.doCreateChildren(y,r),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,y)};this.store.load(this,g)}else e&&e.call(this)}};class TreeStore{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const r in e)hasOwn$1(e,r)&&(this[r]=e[r]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,r=>{this.root.doCreateChildren(r),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const r=this.filterNodeMethod,g=this.lazy,y=function(k){const $=k.root?k.root.childNodes:k.childNodes;if($.forEach(V=>{V.visible=r.call(V,e,V.data,V),y(V)}),!k.visible&&$.length){let V=!0;V=!$.some(L=>L.visible),k.root?k.root.visible=V===!1:k.visible=V===!1}e&&k.visible&&!k.isLeaf&&!g&&k.expand()};y(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Node$1)return e;const r=isObject$3(e)?getNodeKey(this.key,e):e;return this.nodesMap[r]||null}insertBefore(e,r){const g=this.getNode(r);g.parent.insertBefore({data:e},g)}insertAfter(e,r){const g=this.getNode(r);g.parent.insertAfter({data:e},g)}remove(e){const r=this.getNode(e);r&&r.parent&&(r===this.currentNode&&(this.currentNode=null),r.parent.removeChild(r))}append(e,r){const g=r?this.getNode(r):this.root;g&&g.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],r=this.nodesMap;e.forEach(g=>{const y=r[g];y&&y.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const r=this.key;!e||!e.data||(r?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(g=>{this.deregisterNode(g)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,r=!1){const g=[],y=function(k){(k.root?k.root.childNodes:k.childNodes).forEach(V=>{(V.checked||r&&V.indeterminate)&&(!e||e&&V.isLeaf)&&g.push(V.data),y(V)})};return y(this),g}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(r=>(r||{})[this.key])}getHalfCheckedNodes(){const e=[],r=function(g){(g.root?g.root.childNodes:g.childNodes).forEach(k=>{k.indeterminate&&e.push(k.data),r(k)})};return r(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],r=this.nodesMap;for(const g in r)hasOwn$1(r,g)&&e.push(r[g]);return e}updateChildren(e,r){const g=this.nodesMap[e];if(!g)return;const y=g.childNodes;for(let k=y.length-1;k>=0;k--){const $=y[k];this.remove($.data)}for(let k=0,$=r.length;k<$;k++){const V=r[k];this.append(V,g.data)}}_setCheckedKeys(e,r=!1,g){const y=this._getAllNodes().sort((V,L)=>L.level-V.level),k=Object.create(null),$=Object.keys(g);y.forEach(V=>V.setChecked(!1,!1));for(let V=0,L=y.length;V<L;V++){const z=y[V],j=z.data[e].toString();if(!$.includes(j)){z.checked&&!k[j]&&z.setChecked(!1,!1);continue}let oe=z.parent;for(;oe&&oe.level>0;)k[oe.data[e]]=!0,oe=oe.parent;if(z.isLeaf||this.checkStrictly){z.setChecked(!0,!1);continue}if(z.setChecked(!0,!0),r){z.setChecked(!1,!1);const ae=function(de){de.childNodes.forEach(pe=>{pe.isLeaf||pe.setChecked(!1,!1),ae(pe)})};ae(z)}}}setCheckedNodes(e,r=!1){const g=this.key,y={};e.forEach(k=>{y[(k||{})[g]]=!0}),this._setCheckedKeys(g,r,y)}setCheckedKeys(e,r=!1){this.defaultCheckedKeys=e;const g=this.key,y={};e.forEach(k=>{y[k]=!0}),this._setCheckedKeys(g,r,y)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(r=>{const g=this.getNode(r);g&&g.expand(null,this.autoExpandParent)})}setChecked(e,r,g){const y=this.getNode(e);y&&y.setChecked(!!r,g)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const r=this.currentNode;r&&(r.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,r=!0){const g=e[this.key],y=this.nodesMap[g];this.setCurrentNode(y),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,r=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const g=this.getNode(e);g&&(this.setCurrentNode(g),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _sfc_main$19=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=useNamespace("tree"),r=inject("NodeInstance"),g=inject("RootTree");return()=>{const y=n.node,{data:k,store:$}=y;return n.renderContent?n.renderContent(h$1,{_self:r,node:y,data:k,store:$}):g.ctx.slots.default?g.ctx.slots.default({node:y,data:k}):h$1("span",{class:e.be("node","label")},[y.label])}}});var NodeContent=_export_sfc$1(_sfc_main$19,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function useNodeExpandEventBroadcast(n){const e=inject("TreeNodeMap",null),r={treeNodeExpand:g=>{n.node!==g&&n.node.collapse()},children:[]};return e&&e.children.push(r),provide("TreeNodeMap",r),{broadcastExpanded:g=>{if(n.accordion)for(const y of r.children)y.treeNodeExpand(g)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:n,ctx:e,el$:r,dropIndicator$:g,store:y}){const k=useNamespace("tree"),$=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:j,treeNode:re})=>{if(typeof n.allowDrag=="function"&&!n.allowDrag(re.node))return j.preventDefault(),!1;j.dataTransfer.effectAllowed="move";try{j.dataTransfer.setData("text/plain","")}catch{}$.value.draggingNode=re,e.emit("node-drag-start",re.node,j)},treeNodeDragOver:({event:j,treeNode:re})=>{const oe=re,ae=$.value.dropNode;ae&&ae.node.id!==oe.node.id&&removeClass(ae.$el,k.is("drop-inner"));const de=$.value.draggingNode;if(!de||!oe)return;let ue=!0,pe=!0,he=!0,Oe=!0;typeof n.allowDrop=="function"&&(ue=n.allowDrop(de.node,oe.node,"prev"),Oe=pe=n.allowDrop(de.node,oe.node,"inner"),he=n.allowDrop(de.node,oe.node,"next")),j.dataTransfer.dropEffect=pe||ue||he?"move":"none",(ue||pe||he)&&ae?.node.id!==oe.node.id&&(ae&&e.emit("node-drag-leave",de.node,ae.node,j),e.emit("node-drag-enter",de.node,oe.node,j)),(ue||pe||he)&&($.value.dropNode=oe),oe.node.nextSibling===de.node&&(he=!1),oe.node.previousSibling===de.node&&(ue=!1),oe.node.contains(de.node,!1)&&(pe=!1),(de.node===oe.node||de.node.contains(oe.node))&&(ue=!1,pe=!1,he=!1);const xe=oe.$el.querySelector(`.${k.be("node","content")}`).getBoundingClientRect(),$e=r.value.getBoundingClientRect();let Ne;const Ce=ue?pe?.25:he?.45:1:-1,Fe=he?pe?.75:ue?.55:0:1;let ze=-9999;const kt=j.clientY-xe.top;kt<xe.height*Ce?Ne="before":kt>xe.height*Fe?Ne="after":pe?Ne="inner":Ne="none";const At=oe.$el.querySelector(`.${k.be("node","expand-icon")}`).getBoundingClientRect(),Cn=g.value;Ne==="before"?ze=At.top-$e.top:Ne==="after"&&(ze=At.bottom-$e.top),Cn.style.top=`${ze}px`,Cn.style.left=`${At.right-$e.left}px`,Ne==="inner"?addClass(oe.$el,k.is("drop-inner")):removeClass(oe.$el,k.is("drop-inner")),$.value.showDropIndicator=Ne==="before"||Ne==="after",$.value.allowDrop=$.value.showDropIndicator||Oe,$.value.dropType=Ne,e.emit("node-drag-over",de.node,oe.node,j)},treeNodeDragEnd:j=>{const{draggingNode:re,dropType:oe,dropNode:ae}=$.value;if(j.preventDefault(),j.dataTransfer.dropEffect="move",re&&ae){const de={data:re.node.data};oe!=="none"&&re.node.remove(),oe==="before"?ae.node.parent.insertBefore(de,ae.node):oe==="after"?ae.node.parent.insertAfter(de,ae.node):oe==="inner"&&ae.node.insertChild(de),oe!=="none"&&y.value.registerNode(de),removeClass(ae.$el,k.is("drop-inner")),e.emit("node-drag-end",re.node,ae.node,oe,j),oe!=="none"&&e.emit("node-drop",re.node,ae.node,oe,j)}re&&!ae&&e.emit("node-drag-end",re.node,null,oe,j),$.value.showDropIndicator=!1,$.value.draggingNode=null,$.value.dropNode=null,$.value.allowDrop=!0}}),{dragState:$}}const _sfc_main$18=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition:_CollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const r=useNamespace("tree"),{broadcastExpanded:g}=useNodeExpandEventBroadcast(n),y=inject("RootTree"),k=ref(!1),$=ref(!1),V=ref(null),L=ref(null),z=ref(null),j=inject(dragEventsKey),re=getCurrentInstance();provide("NodeInstance",re),n.node.expanded&&(k.value=!0,$.value=!0);const oe=y.props.props.children||"children";watch(()=>{const kt=n.node.data[oe];return kt&&[...kt]},()=>{n.node.updateChildren()}),watch(()=>n.node.indeterminate,kt=>{ue(n.node.checked,kt)}),watch(()=>n.node.checked,kt=>{ue(kt,n.node.indeterminate)}),watch(()=>n.node.expanded,kt=>{nextTick(()=>k.value=kt),kt&&($.value=!0)});const ae=kt=>getNodeKey(y.props.nodeKey,kt.data),de=kt=>{const At=n.props.class;if(!At)return{};let Cn;if(isFunction$3(At)){const{data:Dt}=kt;Cn=At(Dt,kt)}else Cn=At;return isString$3(Cn)?{[Cn]:!0}:Cn},ue=(kt,At)=>{(V.value!==kt||L.value!==At)&&y.ctx.emit("check-change",n.node.data,kt,At),V.value=kt,L.value=At},pe=kt=>{handleCurrentChange(y.store,y.ctx.emit,()=>y.store.value.setCurrentNode(n.node)),y.currentNode.value=n.node,y.props.expandOnClickNode&&Oe(),y.props.checkOnClickNode&&!n.node.disabled&&xe(null,{target:{checked:!n.node.checked}}),y.ctx.emit("node-click",n.node.data,n.node,re,kt)},he=kt=>{y.instance.vnode.props.onNodeContextmenu&&(kt.stopPropagation(),kt.preventDefault()),y.ctx.emit("node-contextmenu",kt,n.node.data,n.node,re)},Oe=()=>{n.node.isLeaf||(k.value?(y.ctx.emit("node-collapse",n.node.data,n.node,re),n.node.collapse()):(n.node.expand(),e.emit("node-expand",n.node.data,n.node,re)))},xe=(kt,At)=>{n.node.setChecked(At.target.checked,!y.props.checkStrictly),nextTick(()=>{const Cn=y.store.value;y.ctx.emit("check",n.node.data,{checkedNodes:Cn.getCheckedNodes(),checkedKeys:Cn.getCheckedKeys(),halfCheckedNodes:Cn.getHalfCheckedNodes(),halfCheckedKeys:Cn.getHalfCheckedKeys()})})};return{ns:r,node$:z,tree:y,expanded:k,childNodeRendered:$,oldChecked:V,oldIndeterminate:L,getNodeKey:ae,getNodeClass:de,handleSelectChange:ue,handleClick:pe,handleContextMenu:he,handleExpandIconClick:Oe,handleCheckChange:xe,handleChildNodeExpand:(kt,At,Cn)=>{g(At),y.ctx.emit("node-expand",kt,At,Cn)},handleDragStart:kt=>{y.props.draggable&&j.treeNodeDragStart({event:kt,treeNode:n})},handleDragOver:kt=>{kt.preventDefault(),y.props.draggable&&j.treeNodeDragOver({event:kt,treeNode:{$el:z.value,node:n.node}})},handleDrop:kt=>{kt.preventDefault()},handleDragEnd:kt=>{y.props.draggable&&j.treeNodeDragEnd(kt)},CaretRight:caret_right_default}}}),_hoisted_1$13=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_hoisted_2$_=["aria-expanded"];function _sfc_render$2(n,e,r,g,y,k){const $=resolveComponent("el-icon"),V=resolveComponent("el-checkbox"),L=resolveComponent("loading"),z=resolveComponent("node-content"),j=resolveComponent("el-tree-node"),re=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:e[1]||(e[1]=withModifiers((...oe)=>n.handleClick&&n.handleClick(...oe),["stop"])),onContextmenu:e[2]||(e[2]=(...oe)=>n.handleContextMenu&&n.handleContextMenu(...oe)),onDragstart:e[3]||(e[3]=withModifiers((...oe)=>n.handleDragStart&&n.handleDragStart(...oe),["stop"])),onDragover:e[4]||(e[4]=withModifiers((...oe)=>n.handleDragOver&&n.handleDragOver(...oe),["stop"])),onDragend:e[5]||(e[5]=withModifiers((...oe)=>n.handleDragEnd&&n.handleDragEnd(...oe),["stop"])),onDrop:e[6]||(e[6]=withModifiers((...oe)=>n.handleDrop&&n.handleDrop(...oe),["stop"]))},[createBaseVNode("div",{class:normalizeClass(n.ns.be("node","content")),style:normalizeStyle({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(openBlock(),createBlock($,{key:0,class:normalizeClass([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:withModifiers(n.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),n.showCheckbox?(openBlock(),createBlock(V,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:e[0]||(e[0]=withModifiers(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):createCommentVNode("v-if",!0),n.node.loading?(openBlock(),createBlock($,{key:2,class:normalizeClass([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:withCtx(()=>[createVNode(L)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(z,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),createVNode(re,null,{default:withCtx(()=>[!n.renderAfterExpand||n.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.node.childNodes,oe=>(openBlock(),createBlock(j,{key:n.getNodeKey(oe),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:oe,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,_hoisted_2$_)),[[vShow,n.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,_hoisted_1$13)),[[vShow,n.node.visible]])}var ElTreeNode$1=_export_sfc$1(_sfc_main$18,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function useKeydown({el$:n},e){const r=useNamespace("tree"),g=shallowRef([]),y=shallowRef([]);onMounted(()=>{$()}),onUpdated(()=>{g.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),y.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),watch(y,V=>{V.forEach(L=>{L.setAttribute("tabindex","-1")})}),useEventListener(n,"keydown",V=>{const L=V.target;if(!L.className.includes(r.b("node")))return;const z=V.code;g.value=Array.from(n.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`));const j=g.value.indexOf(L);let re;if([EVENT_CODE.up,EVENT_CODE.down].includes(z)){if(V.preventDefault(),z===EVENT_CODE.up){re=j===-1?0:j!==0?j-1:g.value.length-1;const ae=re;for(;!e.value.getNode(g.value[re].dataset.key).canFocus;){if(re--,re===ae){re=-1;break}re<0&&(re=g.value.length-1)}}else{re=j===-1?0:j<g.value.length-1?j+1:0;const ae=re;for(;!e.value.getNode(g.value[re].dataset.key).canFocus;){if(re++,re===ae){re=-1;break}re>=g.value.length&&(re=0)}}re!==-1&&g.value[re].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(z)&&(V.preventDefault(),L.click());const oe=L.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.space].includes(z)&&oe&&(V.preventDefault(),oe.click())});const $=()=>{var V;g.value=Array.from(n.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`)),y.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const L=n.value.querySelectorAll(`.${r.is("checked")}[role=treeitem]`);if(L.length){L[0].setAttribute("tabindex","0");return}(V=g.value[0])==null||V.setAttribute("tabindex","0")}}const _sfc_main$17=defineComponent({name:"ElTree",components:{ElTreeNode:ElTreeNode$1},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t:r}=useLocale(),g=useNamespace("tree"),y=ref(new TreeStore({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));y.value.initialize();const k=ref(y.value.root),$=ref(null),V=ref(null),L=ref(null),{broadcastExpanded:z}=useNodeExpandEventBroadcast(n),{dragState:j}=useDragNodeHandler({props:n,ctx:e,el$:V,dropIndicator$:L,store:y});useKeydown({el$:V},y);const re=computed(()=>{const{childNodes:$n}=k.value;return!$n||$n.length===0||$n.every(({visible:Ln})=>!Ln)});watch(()=>n.currentNodeKey,$n=>{y.value.setCurrentNodeKey($n)}),watch(()=>n.defaultCheckedKeys,$n=>{y.value.setDefaultCheckedKey($n)}),watch(()=>n.defaultExpandedKeys,$n=>{y.value.setDefaultExpandedKeys($n)}),watch(()=>n.data,$n=>{y.value.setData($n)},{deep:!0}),watch(()=>n.checkStrictly,$n=>{y.value.checkStrictly=$n});const oe=$n=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");y.value.filter($n)},ae=$n=>getNodeKey(n.nodeKey,$n.data),de=$n=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const Ln=y.value.getNode($n);if(!Ln)return[];const Tn=[Ln.data];let Zn=Ln.parent;for(;Zn&&Zn!==k.value;)Tn.push(Zn.data),Zn=Zn.parent;return Tn.reverse()},ue=($n,Ln)=>y.value.getCheckedNodes($n,Ln),pe=$n=>y.value.getCheckedKeys($n),he=()=>{const $n=y.value.getCurrentNode();return $n?$n.data:null},Oe=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const $n=he();return $n?$n[n.nodeKey]:null},xe=($n,Ln)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");y.value.setCheckedNodes($n,Ln)},$e=($n,Ln)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");y.value.setCheckedKeys($n,Ln)},Ne=($n,Ln,Tn)=>{y.value.setChecked($n,Ln,Tn)},Ce=()=>y.value.getHalfCheckedNodes(),Fe=()=>y.value.getHalfCheckedKeys(),ze=($n,Ln=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange(y,e.emit,()=>y.value.setUserCurrentNode($n,Ln))},kt=($n,Ln=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange(y,e.emit,()=>y.value.setCurrentNodeKey($n,Ln))},At=$n=>y.value.getNode($n),Cn=$n=>{y.value.remove($n)},Dt=($n,Ln)=>{y.value.append($n,Ln)},On=($n,Ln)=>{y.value.insertBefore($n,Ln)},jt=($n,Ln)=>{y.value.insertAfter($n,Ln)},An=($n,Ln,Tn)=>{z(Ln),e.emit("node-expand",$n,Ln,Tn)},Mn=($n,Ln)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");y.value.updateChildren($n,Ln)};return provide("RootTree",{ctx:e,props:n,store:y,root:k,currentNode:$,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:g,store:y,root:k,currentNode:$,dragState:j,el$:V,dropIndicator$:L,isEmpty:re,filter:oe,getNodeKey:ae,getNodePath:de,getCheckedNodes:ue,getCheckedKeys:pe,getCurrentNode:he,getCurrentKey:Oe,setCheckedNodes:xe,setCheckedKeys:$e,setChecked:Ne,getHalfCheckedNodes:Ce,getHalfCheckedKeys:Fe,setCurrentNode:ze,setCurrentKey:kt,t:r,getNode:At,remove:Cn,append:Dt,insertBefore:On,insertAfter:jt,handleNodeExpand:An,updateKeyChildren:Mn}}});function _sfc_render$1(n,e,r,g,y,k){const $=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.root.childNodes,V=>(openBlock(),createBlock($,{key:n.getNodeKey(V),node:V,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.e("empty-block"))},[renderSlot(n.$slots,"empty",{},()=>{var V;return[createBaseVNode("span",{class:normalizeClass(n.ns.e("empty-text"))},toDisplayString$1((V=n.emptyText)!=null?V:n.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(n.ns.e("drop-indicator"))},null,2),[[vShow,n.dragState.showDropIndicator]])],2)}var Tree$1=_export_sfc$1(_sfc_main$17,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Tree$1.install=n=>{n.component(Tree$1.name,Tree$1)};const _Tree=Tree$1,ElTree=_Tree,useSelect=(n,{attrs:e},{tree:r,key:g})=>{const y=useNamespace("tree-select"),k={...pick(toRefs(n),Object.keys(ElSelect.props)),...e,valueKey:g,popperClass:computed(()=>{const $=[y.e("popper")];return n.popperClass&&$.push(n.popperClass),$.join(" ")}),filterMethod:($="")=>{n.filterMethod&&n.filterMethod($),nextTick(()=>{var V;(V=r.value)==null||V.filter($)})},onVisibleChange:$=>{var V;(V=e.onVisibleChange)==null||V.call(e,$),n.filterable&&$&&k.filterMethod()}};return k},component=defineComponent({extends:ElOption,setup(n,e){const r=ElOption.setup(n,e);delete r.selectOptionClick;const g=getCurrentInstance().proxy;return nextTick(()=>{r.select.cachedOptions.get(g.value)||r.select.onOptionCreate(g)}),r},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(n){return n||n===0}function isValidArray(n){return Array.isArray(n)&&n.length}function toValidArray(n){return Array.isArray(n)?n:isValidValue(n)?[n]:[]}function treeFind(n,e,r,g,y){for(let k=0;k<n.length;k++){const $=n[k];if(e($,k,n,y))return g?g($,k,n,y):$;{const V=r($);if(isValidArray(V)){const L=treeFind(V,e,r,g,$);if(L)return L}}}}function treeEach(n,e,r,g){for(let y=0;y<n.length;y++){const k=n[y];e(k,y,n,g);const $=r(k);isValidArray($)&&treeEach($,e,r,k)}}const useTree$1=(n,{attrs:e,slots:r,emit:g},{select:y,tree:k,key:$})=>{watch(()=>n.modelValue,()=>{n.showCheckbox&&nextTick(()=>{const oe=k.value;oe&&!isEqual$1(oe.getCheckedKeys(),toValidArray(n.modelValue))&&oe.setCheckedKeys(toValidArray(n.modelValue))})},{immediate:!0,deep:!0});const V=computed(()=>({value:$.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...n.props})),L=(oe,ae)=>{var de;const ue=V.value[oe];return isFunction$3(ue)?ue(ae,(de=k.value)==null?void 0:de.getNode(L("value",ae))):ae[ue]},z=toValidArray(n.modelValue).map(oe=>treeFind(n.data||[],ae=>L("value",ae)===oe,ae=>L("children",ae),(ae,de,ue,pe)=>pe&&L("value",pe))).filter(oe=>isValidValue(oe)),j=computed(()=>{if(!n.renderAfterExpand&&!n.lazy)return[];const oe=[];return treeEach(n.data.concat(n.cacheData),ae=>{const de=L("value",ae);oe.push({value:de,currentLabel:L("label",ae),isDisabled:L("disabled",ae)})},ae=>L("children",ae)),oe}),re=computed(()=>j.value.reduce((oe,ae)=>({...oe,[ae.value]:ae}),{}));return{...pick(toRefs(n),Object.keys(_Tree.props)),...e,nodeKey:$,expandOnClickNode:computed(()=>!n.checkStrictly&&n.expandOnClickNode),defaultExpandedKeys:computed(()=>n.defaultExpandedKeys?n.defaultExpandedKeys.concat(z):z),renderContent:(oe,{node:ae,data:de,store:ue})=>oe(component,{value:L("value",de),label:L("label",de),disabled:L("disabled",de)},n.renderContent?()=>n.renderContent(oe,{node:ae,data:de,store:ue}):r.default?()=>r.default({node:ae,data:de,store:ue}):void 0),filterNodeMethod:(oe,ae,de)=>{var ue;return n.filterNodeMethod?n.filterNodeMethod(oe,ae,de):oe?(ue=L("label",ae))==null?void 0:ue.includes(oe):!0},onNodeClick:(oe,ae,de)=>{var ue,pe,he;if((ue=e.onNodeClick)==null||ue.call(e,oe,ae,de),!(n.showCheckbox&&n.checkOnClickNode))if(!n.showCheckbox&&(n.checkStrictly||ae.isLeaf)){if(!L("disabled",oe)){const Oe=(pe=y.value)==null?void 0:pe.options.get(L("value",oe));(he=y.value)==null||he.handleOptionSelect(Oe)}}else n.expandOnClickNode&&de.proxy.handleExpandIconClick()},onCheck:(oe,ae)=>{if(!n.showCheckbox)return;const de=L("value",oe),ue=ae.checkedKeys,pe=n.multiple?toValidArray(n.modelValue).filter(Oe=>Oe in re.value&&!k.value.getNode(Oe)&&!ue.includes(Oe)):[],he=ue.concat(pe);if(n.checkStrictly)g(UPDATE_MODEL_EVENT,n.multiple?he:he.includes(de)?de:void 0);else if(n.multiple)g(UPDATE_MODEL_EVENT,k.value.getCheckedKeys(!0));else{const Oe=treeFind([oe],Ne=>!isValidArray(L("children",Ne))&&!L("disabled",Ne),Ne=>L("children",Ne)),xe=Oe?L("value",Oe):void 0,$e=isValidValue(n.modelValue)&&!!treeFind([oe],Ne=>L("value",Ne)===n.modelValue,Ne=>L("children",Ne));g(UPDATE_MODEL_EVENT,xe===n.modelValue||$e?void 0:xe)}nextTick(()=>{var Oe;const xe=toValidArray(n.modelValue);k.value.setCheckedKeys(xe),(Oe=e.onCheck)==null||Oe.call(e,oe,{checkedKeys:k.value.getCheckedKeys(),checkedNodes:k.value.getCheckedNodes(),halfCheckedKeys:k.value.getHalfCheckedKeys(),halfCheckedNodes:k.value.getHalfCheckedNodes()})})},cacheOptions:j}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(n){const e=inject(selectKey);return watch(()=>n.data,()=>{var r;n.data.forEach(y=>{e.cachedOptions.has(y.value)||e.cachedOptions.set(y.value,y)});const g=((r=e.selectWrapper)==null?void 0:r.querySelectorAll("input"))||[];Array.from(g).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$16=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...ElSelect.props,..._Tree.props,cacheData:{type:Array,default:()=>[]}},setup(n,e){const{slots:r,expose:g}=e,y=ref(),k=ref(),$=computed(()=>n.nodeKey||n.valueKey||"value"),V=useSelect(n,e,{select:y,tree:k,key:$}),{cacheOptions:L,...z}=useTree$1(n,e,{select:y,tree:k,key:$}),j=reactive({});return g(j),onMounted(()=>{Object.assign(j,{...pick(k.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick(y.value,["focus","blur"])})}),()=>h$1(ElSelect,reactive({...V,ref:re=>y.value=re}),{...r,default:()=>[h$1(CacheOptions,{data:L.value}),h$1(_Tree,reactive({...z,ref:re=>k.value=re}))]})}});var TreeSelect=_export_sfc$1(_sfc_main$16,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);TreeSelect.install=n=>{n.component(TreeSelect.name,TreeSelect)};const _TreeSelect=TreeSelect,ElTreeSelect=_TreeSelect,ROOT_TREE_INJECTION_KEY=Symbol(),EMPTY_NODE={key:-1,level:-1,data:{}};var TreeOptionsEnum=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n))(TreeOptionsEnum||{}),SetOperationEnum=(n=>(n.ADD="add",n.DELETE="delete",n))(SetOperationEnum||{});const itemSize={type:Number,default:26},treeProps=buildProps({data:{type:definePropType(Array),default:()=>mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:definePropType(Object),default:()=>mutable({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:definePropType(Array),default:()=>mutable([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:definePropType(Array),default:()=>mutable([])},indent:{type:Number,default:16},itemSize,icon:{type:iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:definePropType([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:definePropType(Function)},perfMode:{type:Boolean,default:!0}}),treeNodeProps=buildProps({node:{type:definePropType(Object),default:()=>mutable(EMPTY_NODE)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize}),treeNodeContentProps=buildProps({node:{type:definePropType(Object),required:!0}}),NODE_CLICK="node-click",NODE_EXPAND="node-expand",NODE_COLLAPSE="node-collapse",CURRENT_CHANGE="current-change",NODE_CHECK="check",NODE_CHECK_CHANGE="check-change",NODE_CONTEXTMENU="node-contextmenu",treeEmits={[NODE_CLICK]:(n,e,r)=>n&&e&&r,[NODE_EXPAND]:(n,e)=>n&&e,[NODE_COLLAPSE]:(n,e)=>n&&e,[CURRENT_CHANGE]:(n,e)=>n&&e,[NODE_CHECK]:(n,e)=>n&&e,[NODE_CHECK_CHANGE]:(n,e)=>n&&typeof e=="boolean",[NODE_CONTEXTMENU]:(n,e,r)=>n&&e&&r},treeNodeEmits={click:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&typeof e=="boolean"};function useCheck(n,e){const r=ref(new Set),g=ref(new Set),{emit:y}=getCurrentInstance();watch([()=>e.value,()=>n.defaultCheckedKeys],()=>nextTick(()=>{Oe(n.defaultCheckedKeys)}),{immediate:!0});const k=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:xe,maxLevel:$e}=e.value,Ne=r.value,Ce=new Set;for(let Fe=$e-1;Fe>=1;--Fe){const ze=xe.get(Fe);ze&&ze.forEach(kt=>{const At=kt.children;if(At){let Cn=!0,Dt=!1;for(const On of At){const jt=On.key;if(Ne.has(jt))Dt=!0;else if(Ce.has(jt)){Cn=!1,Dt=!0;break}else Cn=!1}Cn?Ne.add(kt.key):Dt?(Ce.add(kt.key),Ne.delete(kt.key)):(Ne.delete(kt.key),Ce.delete(kt.key))}})}g.value=Ce},$=xe=>r.value.has(xe.key),V=xe=>g.value.has(xe.key),L=(xe,$e,Ne=!0)=>{const Ce=r.value,Fe=(ze,kt)=>{Ce[kt?SetOperationEnum.ADD:SetOperationEnum.DELETE](ze.key);const At=ze.children;!n.checkStrictly&&At&&At.forEach(Cn=>{Cn.disabled||Fe(Cn,kt)})};Fe(xe,$e),k(),Ne&&z(xe,$e)},z=(xe,$e)=>{const{checkedNodes:Ne,checkedKeys:Ce}=de(),{halfCheckedNodes:Fe,halfCheckedKeys:ze}=ue();y(NODE_CHECK,xe.data,{checkedKeys:Ce,checkedNodes:Ne,halfCheckedKeys:ze,halfCheckedNodes:Fe}),y(NODE_CHECK_CHANGE,xe.data,$e)};function j(xe=!1){return de(xe).checkedKeys}function re(xe=!1){return de(xe).checkedNodes}function oe(){return ue().halfCheckedKeys}function ae(){return ue().halfCheckedNodes}function de(xe=!1){const $e=[],Ne=[];if(e?.value&&n.showCheckbox){const{treeNodeMap:Ce}=e.value;r.value.forEach(Fe=>{const ze=Ce.get(Fe);ze&&(!xe||xe&&ze.isLeaf)&&(Ne.push(Fe),$e.push(ze.data))})}return{checkedKeys:Ne,checkedNodes:$e}}function ue(){const xe=[],$e=[];if(e?.value&&n.showCheckbox){const{treeNodeMap:Ne}=e.value;g.value.forEach(Ce=>{const Fe=Ne.get(Ce);Fe&&($e.push(Ce),xe.push(Fe.data))})}return{halfCheckedNodes:xe,halfCheckedKeys:$e}}function pe(xe){r.value.clear(),g.value.clear(),Oe(xe)}function he(xe,$e){if(e?.value&&n.showCheckbox){const Ne=e.value.treeNodeMap.get(xe);Ne&&L(Ne,$e,!1)}}function Oe(xe){if(e?.value){const{treeNodeMap:$e}=e.value;if(n.showCheckbox&&$e&&xe)for(const Ne of xe){const Ce=$e.get(Ne);Ce&&!$(Ce)&&L(Ce,!0,!1)}}}return{updateCheckedKeys:k,toggleCheckbox:L,isChecked:$,isIndeterminate:V,getCheckedKeys:j,getCheckedNodes:re,getHalfCheckedKeys:oe,getHalfCheckedNodes:ae,setChecked:he,setCheckedKeys:pe}}function useFilter(n,e){const r=ref(new Set([])),g=ref(new Set([])),y=computed(()=>isFunction$3(n.filterMethod));function k(V){var L;if(!y.value)return;const z=new Set,j=g.value,re=r.value,oe=[],ae=((L=e.value)==null?void 0:L.treeNodes)||[],de=n.filterMethod;re.clear();function ue(pe){pe.forEach(he=>{oe.push(he),de?.(V,he.data)?oe.forEach(xe=>{z.add(xe.key)}):he.isLeaf&&re.add(he.key);const Oe=he.children;if(Oe&&ue(Oe),!he.isLeaf){if(!z.has(he.key))re.add(he.key);else if(Oe){let xe=!0;for(const $e of Oe)if(!re.has($e.key)){xe=!1;break}xe?j.add(he.key):j.delete(he.key)}}oe.pop()})}return ue(ae),z}function $(V){return g.value.has(V.key)}return{hiddenExpandIconKeySet:g,hiddenNodeKeySet:r,doFilter:k,isForceHiddenExpandIcon:$}}function useTree(n,e){const r=ref(new Set(n.defaultExpandedKeys)),g=ref(),y=shallowRef();watch(()=>n.currentNodeKey,jn=>{g.value=jn},{immediate:!0}),watch(()=>n.data,jn=>{Vn(jn)},{immediate:!0});const{isIndeterminate:k,isChecked:$,toggleCheckbox:V,getCheckedKeys:L,getCheckedNodes:z,getHalfCheckedKeys:j,getHalfCheckedNodes:re,setChecked:oe,setCheckedKeys:ae}=useCheck(n,y),{doFilter:de,hiddenNodeKeySet:ue,isForceHiddenExpandIcon:pe}=useFilter(n,y),he=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.value)||TreeOptionsEnum.KEY}),Oe=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.children)||TreeOptionsEnum.CHILDREN}),xe=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.disabled)||TreeOptionsEnum.DISABLED}),$e=computed(()=>{var jn;return((jn=n.props)==null?void 0:jn.label)||TreeOptionsEnum.LABEL}),Ne=computed(()=>{const jn=r.value,cr=ue.value,gr=[],Cr=y.value&&y.value.treeNodes||[];function ir(){const Gn=[];for(let hn=Cr.length-1;hn>=0;--hn)Gn.push(Cr[hn]);for(;Gn.length;){const hn=Gn.pop();if(hn&&(cr.has(hn.key)||gr.push(hn),jn.has(hn.key))){const Kn=hn.children;if(Kn){const Nn=Kn.length;for(let Lt=Nn-1;Lt>=0;--Lt)Gn.push(Kn[Lt])}}}}return ir(),gr}),Ce=computed(()=>Ne.value.length>0);function Fe(jn){const cr=new Map,gr=new Map;let Cr=1;function ir(hn,Kn=1,Nn=void 0){var Lt;const _n=[];for(const Bn of hn){const Xn=At(Bn),rr={level:Kn,key:Xn,data:Bn};rr.label=Dt(Bn),rr.parent=Nn;const ar=kt(Bn);rr.disabled=Cn(Bn),rr.isLeaf=!ar||ar.length===0,ar&&ar.length&&(rr.children=ir(ar,Kn+1,rr)),_n.push(rr),cr.set(Xn,rr),gr.has(Kn)||gr.set(Kn,[]),(Lt=gr.get(Kn))==null||Lt.push(rr)}return Kn>Cr&&(Cr=Kn),_n}const Gn=ir(jn);return{treeNodeMap:cr,levelTreeNodeMap:gr,maxLevel:Cr,treeNodes:Gn}}function ze(jn){const cr=de(jn);cr&&(r.value=cr)}function kt(jn){return jn[Oe.value]}function At(jn){return jn?jn[he.value]:""}function Cn(jn){return jn[xe.value]}function Dt(jn){return jn[$e.value]}function On(jn){r.value.has(jn.key)?Tn(jn):Ln(jn)}function jt(jn){r.value=new Set(jn)}function An(jn,cr){e(NODE_CLICK,jn.data,jn,cr),Mn(jn),n.expandOnClickNode&&On(jn),n.showCheckbox&&n.checkOnClickNode&&!jn.disabled&&V(jn,!$(jn),!0)}function Mn(jn){Pn(jn)||(g.value=jn.key,e(CURRENT_CHANGE,jn.data,jn))}function $n(jn,cr){V(jn,cr)}function Ln(jn){const cr=r.value;if(y.value&&n.accordion){const{treeNodeMap:gr}=y.value;cr.forEach(Cr=>{const ir=gr.get(Cr);jn&&jn.level===ir?.level&&cr.delete(Cr)})}cr.add(jn.key),e(NODE_EXPAND,jn.data,jn)}function Tn(jn){r.value.delete(jn.key),e(NODE_COLLAPSE,jn.data,jn)}function Zn(jn){return r.value.has(jn.key)}function Qn(jn){return!!jn.disabled}function Pn(jn){const cr=g.value;return cr!==void 0&&cr===jn.key}function Wn(){var jn,cr;if(g.value)return(cr=(jn=y.value)==null?void 0:jn.treeNodeMap.get(g.value))==null?void 0:cr.data}function ur(){return g.value}function hr(jn){g.value=jn}function Vn(jn){nextTick(()=>y.value=Fe(jn))}function En(jn){var cr;const gr=isObject$3(jn)?At(jn):jn;return(cr=y.value)==null?void 0:cr.treeNodeMap.get(gr)}return{tree:y,flattenTree:Ne,isNotEmpty:Ce,getKey:At,getChildren:kt,toggleExpand:On,toggleCheckbox:V,isExpanded:Zn,isChecked:$,isIndeterminate:k,isDisabled:Qn,isCurrent:Pn,isForceHiddenExpandIcon:pe,handleNodeClick:An,handleNodeCheck:$n,getCurrentNode:Wn,getCurrentKey:ur,setCurrentKey:hr,getCheckedKeys:L,getCheckedNodes:z,getHalfCheckedKeys:j,getHalfCheckedNodes:re,setChecked:oe,setCheckedKeys:ae,filter:ze,setData:Vn,getNode:En,expandNode:Ln,collapseNode:Tn,setExpandedKeys:jt}}var ElNodeContent=defineComponent({name:"ElTreeNodeContent",props:treeNodeContentProps,setup(n){const e=inject(ROOT_TREE_INJECTION_KEY),r=useNamespace("tree");return()=>{const g=n.node,{data:y}=g;return e?.ctx.slots.default?e.ctx.slots.default({node:g,data:y}):h$1("span",{class:r.be("node","label")},[g?.label])}}});const _hoisted_1$12=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],__default__$7=defineComponent({name:"ElTreeNode"}),_sfc_main$15=defineComponent({...__default__$7,props:treeNodeProps,emits:treeNodeEmits,setup(n,{emit:e}){const r=n,g=inject(ROOT_TREE_INJECTION_KEY),y=useNamespace("tree"),k=computed(()=>{var re;return(re=g?.props.indent)!=null?re:16}),$=computed(()=>{var re;return(re=g?.props.icon)!=null?re:caret_right_default}),V=re=>{e("click",r.node,re)},L=()=>{e("toggle",r.node)},z=re=>{e("check",r.node,re)},j=re=>{var oe,ae,de,ue;(de=(ae=(oe=g?.instance)==null?void 0:oe.vnode)==null?void 0:ae.props)!=null&&de.onNodeContextmenu&&(re.stopPropagation(),re.preventDefault()),g?.ctx.emit(NODE_CONTEXTMENU,re,(ue=r.node)==null?void 0:ue.data,r.node)};return(re,oe)=>{var ae,de,ue;return openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([unref(y).b("node"),unref(y).is("expanded",re.expanded),unref(y).is("current",re.current),unref(y).is("focusable",!re.disabled),unref(y).is("checked",!re.disabled&&re.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":re.expanded,"aria-disabled":re.disabled,"aria-checked":re.checked,"data-key":(ae=re.node)==null?void 0:ae.key,onClick:withModifiers(V,["stop"]),onContextmenu:j},[createBaseVNode("div",{class:normalizeClass(unref(y).be("node","content")),style:normalizeStyle({paddingLeft:`${(re.node.level-1)*unref(k)}px`,height:re.itemSize+"px"})},[unref($)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).is("leaf",!!((de=re.node)!=null&&de.isLeaf)),unref(y).is("hidden",re.hiddenExpandIcon),{expanded:!((ue=re.node)!=null&&ue.isLeaf)&&re.expanded},unref(y).be("node","expand-icon")]),onClick:withModifiers(L,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref($))))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),re.showCheckbox?(openBlock(),createBlock(unref(ElCheckbox),{key:1,"model-value":re.checked,indeterminate:re.indeterminate,disabled:re.disabled,onChange:z,onClick:oe[0]||(oe[0]=withModifiers(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):createCommentVNode("v-if",!0),createVNode(unref(ElNodeContent),{node:re.node},null,8,["node"])],6)],42,_hoisted_1$12)}}});var ElTreeNode=_export_sfc$1(_sfc_main$15,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const __default__$6=defineComponent({name:"ElTreeV2"}),_sfc_main$14=defineComponent({...__default__$6,props:treeProps,emits:treeEmits,setup(n,{expose:e,emit:r}){const g=n,y=useSlots(),k=computed(()=>g.itemSize);provide(ROOT_TREE_INJECTION_KEY,{ctx:{emit:r,slots:y},props:g,instance:getCurrentInstance()}),provide(formItemContextKey,void 0);const{t:$}=useLocale(),V=useNamespace("tree"),{flattenTree:L,isNotEmpty:z,toggleExpand:j,isExpanded:re,isIndeterminate:oe,isChecked:ae,isDisabled:de,isCurrent:ue,isForceHiddenExpandIcon:pe,handleNodeClick:he,handleNodeCheck:Oe,toggleCheckbox:xe,getCurrentNode:$e,getCurrentKey:Ne,setCurrentKey:Ce,getCheckedKeys:Fe,getCheckedNodes:ze,getHalfCheckedKeys:kt,getHalfCheckedNodes:At,setChecked:Cn,setCheckedKeys:Dt,filter:On,setData:jt,getNode:An,expandNode:Mn,collapseNode:$n,setExpandedKeys:Ln}=useTree(g,r);return e({toggleCheckbox:xe,getCurrentNode:$e,getCurrentKey:Ne,setCurrentKey:Ce,getCheckedKeys:Fe,getCheckedNodes:ze,getHalfCheckedKeys:kt,getHalfCheckedNodes:At,setChecked:Cn,setCheckedKeys:Dt,filter:On,setData:jt,getNode:An,expandNode:Mn,collapseNode:$n,setExpandedKeys:Ln}),(Tn,Zn)=>{var Qn;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(V).b(),{[unref(V).m("highlight-current")]:Tn.highlightCurrent}]),role:"tree"},[unref(z)?(openBlock(),createBlock(unref(FixedSizeList),{key:0,"class-name":unref(V).b("virtual-list"),data:unref(L),total:unref(L).length,height:Tn.height,"item-size":unref(k),"perf-mode":Tn.perfMode},{default:withCtx(({data:Pn,index:Wn,style:ur})=>[(openBlock(),createBlock(ElTreeNode,{key:Pn[Wn].key,style:normalizeStyle(ur),node:Pn[Wn],expanded:unref(re)(Pn[Wn]),"show-checkbox":Tn.showCheckbox,checked:unref(ae)(Pn[Wn]),indeterminate:unref(oe)(Pn[Wn]),"item-size":unref(k),disabled:unref(de)(Pn[Wn]),current:unref(ue)(Pn[Wn]),"hidden-expand-icon":unref(pe)(Pn[Wn]),onClick:unref(he),onToggle:unref(j),onCheck:unref(Oe)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(V).e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(unref(V).e("empty-text"))},toDisplayString$1((Qn=Tn.emptyText)!=null?Qn:unref($)("el.tree.emptyText")),3)],2))],2)}}});var TreeV2=_export_sfc$1(_sfc_main$14,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const ElTreeV2=withInstall(TreeV2),uploadContextKey=Symbol("uploadContextKey"),SCOPE$2="ElUpload";class UploadAjaxError extends Error{constructor(e,r,g,y){super(e),this.name="UploadAjaxError",this.status=r,this.method=g,this.url=y}}function getError(n,e,r){let g;return r.response?g=`${r.response.error||r.response}`:r.responseText?g=`${r.responseText}`:g=`fail to ${e.method} ${n} ${r.status}`,new UploadAjaxError(g,r.status,e.method,n)}function getBody(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const ajaxUpload=n=>{typeof XMLHttpRequest>"u"&&throwError(SCOPE$2,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,r=n.action;e.upload&&e.upload.addEventListener("progress",k=>{const $=k;$.percent=k.total>0?k.loaded/k.total*100:0,n.onProgress($)});const g=new FormData;if(n.data)for(const[k,$]of Object.entries(n.data))isArray$3($)&&$.length?g.append(k,...$):g.append(k,$);g.append(n.filename,n.file,n.file.name),e.addEventListener("error",()=>{n.onError(getError(r,n,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return n.onError(getError(r,n,e));n.onSuccess(getBody(e))}),e.open(n.method,r,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const y=n.headers||{};if(y instanceof Headers)y.forEach((k,$)=>e.setRequestHeader($,k));else for(const[k,$]of Object.entries(y))isNil($)||e.setRequestHeader(k,String($));return e.send(g),e},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>mutable({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"}}),uploadListEmits={remove:n=>!!n},_hoisted_1$11=["onKeydown"],_hoisted_2$Z=["src"],_hoisted_3$y=["onClick"],_hoisted_4$u=["title"],_hoisted_5$q=["onClick"],_hoisted_6$n=["onClick"],__default__$5=defineComponent({name:"ElUploadList"}),_sfc_main$13=defineComponent({...__default__$5,props:uploadListProps,emits:uploadListEmits,setup(n,{emit:e}){const{t:r}=useLocale(),g=useNamespace("upload"),y=useNamespace("icon"),k=useNamespace("list"),$=useFormDisabled(),V=ref(!1),L=z=>{e("remove",z)};return(z,j)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass([unref(g).b("list"),unref(g).bm("list",z.listType),unref(g).is("disabled",unref($))]),name:unref(k).b()},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(z.files,re=>(openBlock(),createElementBlock("li",{key:re.uid||re.name,class:normalizeClass([unref(g).be("list","item"),unref(g).is(re.status),{focusing:V.value}]),tabindex:"0",onKeydown:withKeys(oe=>!unref($)&&L(re),["delete"]),onFocus:j[0]||(j[0]=oe=>V.value=!0),onBlur:j[1]||(j[1]=oe=>V.value=!1),onClick:j[2]||(j[2]=oe=>V.value=!1)},[renderSlot(z.$slots,"default",{file:re},()=>[z.listType==="picture"||re.status!=="uploading"&&z.listType==="picture-card"?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref(g).be("list","item-thumbnail")),src:re.url,alt:""},null,10,_hoisted_2$Z)):createCommentVNode("v-if",!0),re.status==="uploading"||z.listType!=="picture-card"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref(g).be("list","item-name")),onClick:withModifiers(oe=>z.handlePreview(re),["prevent"])},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("document"))},{default:withCtx(()=>[createVNode(unref(document_default))]),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref(g).be("list","item-file-name")),title:re.name},toDisplayString$1(re.name),11,_hoisted_4$u)],10,_hoisted_3$y),re.status==="uploading"?(openBlock(),createBlock(unref(ElProgress),{key:0,type:z.listType==="picture-card"?"circle":"line","stroke-width":z.listType==="picture-card"?6:2,percentage:Number(re.percentage),style:normalizeStyle(z.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref(g).be("list","item-status-label"))},[z.listType==="text"?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).m("upload-success"),unref(y).m("circle-check")])},{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1},8,["class"])):["picture-card","picture"].includes(z.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(y).m("upload-success"),unref(y).m("check")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref($)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(y).m("close")),onClick:oe=>L(re)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref($)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(y).m("close-tip"))},toDisplayString$1(unref(r)("el.upload.deleteTip")),3)),z.listType==="picture-card"?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref(g).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref(g).be("list","item-preview")),onClick:oe=>z.handlePreview(re)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("zoom-in"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1},8,["class"])],10,_hoisted_5$q),unref($)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(g).be("list","item-delete")),onClick:oe=>L(re)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("delete"))},{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1},8,["class"])],10,_hoisted_6$n))],2)):createCommentVNode("v-if",!0)])],42,_hoisted_1$11))),128)),renderSlot(z.$slots,"append")]),_:3},8,["class","name"]))}});var UploadList=_export_sfc$1(_sfc_main$13,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:n=>isArray$3(n)},_hoisted_1$10=["onDrop","onDragover"],COMPONENT_NAME="ElUploadDrag",__default__$4=defineComponent({name:COMPONENT_NAME}),_sfc_main$12=defineComponent({...__default__$4,props:uploadDraggerProps,emits:uploadDraggerEmits,setup(n,{emit:e}){const r=inject(uploadContextKey);r||throwError(COMPONENT_NAME,"usage: <el-upload><el-upload-dragger /></el-upload>");const g=useNamespace("upload"),y=ref(!1),k=useFormDisabled(),$=L=>{if(k.value)return;y.value=!1,L.stopPropagation();const z=Array.from(L.dataTransfer.files),j=r.accept.value;if(!j){e("file",z);return}const re=z.filter(oe=>{const{type:ae,name:de}=oe,ue=de.includes(".")?`.${de.split(".").pop()}`:"",pe=ae.replace(/\/.*$/,"");return j.split(",").map(he=>he.trim()).filter(he=>he).some(he=>he.startsWith(".")?ue===he:/\/\*$/.test(he)?pe===he.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(he)?ae===he:!1)});e("file",re)},V=()=>{k.value||(y.value=!0)};return(L,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b("dragger"),unref(g).is("dragover",y.value)]),onDrop:withModifiers($,["prevent"]),onDragover:withModifiers(V,["prevent"]),onDragleave:z[0]||(z[0]=withModifiers(j=>y.value=!1,["prevent"]))},[renderSlot(L.$slots,"default")],42,_hoisted_1$10))}});var UploadDragger=_export_sfc$1(_sfc_main$12,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),_hoisted_1$$=["onKeydown"],_hoisted_2$Y=["name","multiple","accept"],__default__$3=defineComponent({name:"ElUploadContent",inheritAttrs:!1}),_sfc_main$11=defineComponent({...__default__$3,props:uploadContentProps,setup(n,{expose:e}){const r=n,g=useNamespace("upload"),y=useFormDisabled(),k=shallowRef({}),$=shallowRef(),V=de=>{if(de.length===0)return;const{autoUpload:ue,limit:pe,fileList:he,multiple:Oe,onStart:xe,onExceed:$e}=r;if(pe&&he.length+de.length>pe){$e(de,he);return}Oe||(de=de.slice(0,1));for(const Ne of de){const Ce=Ne;Ce.uid=genFileId(),xe(Ce),ue&&L(Ce)}},L=async de=>{if($.value.value="",!r.beforeUpload)return z(de);let ue,pe={};try{const Oe=r.data,xe=r.beforeUpload(de);pe=isObject$3(r.data)?cloneDeep(r.data):r.data,ue=await xe,isObject$3(r.data)&&isEqual$1(Oe,pe)&&(pe=cloneDeep(r.data))}catch{ue=!1}if(ue===!1){r.onRemove(de);return}let he=de;ue instanceof Blob&&(ue instanceof File?he=ue:he=new File([ue],de.name,{type:de.type})),z(Object.assign(he,{uid:de.uid}),pe)},z=(de,ue)=>{const{headers:pe,data:he,method:Oe,withCredentials:xe,name:$e,action:Ne,onProgress:Ce,onSuccess:Fe,onError:ze,httpRequest:kt}=r,{uid:At}=de,Cn={headers:pe||{},withCredentials:xe,file:de,data:ue??he,method:Oe,filename:$e,action:Ne,onProgress:On=>{Ce(On,de)},onSuccess:On=>{Fe(On,de),delete k.value[At]},onError:On=>{ze(On,de),delete k.value[At]}},Dt=kt(Cn);k.value[At]=Dt,Dt instanceof Promise&&Dt.then(Cn.onSuccess,Cn.onError)},j=de=>{const ue=de.target.files;ue&&V(Array.from(ue))},re=()=>{y.value||($.value.value="",$.value.click())},oe=()=>{re()};return e({abort:de=>{entriesOf(k.value).filter(de?([pe])=>String(de.uid)===pe:()=>!0).forEach(([pe,he])=>{he instanceof XMLHttpRequest&&he.abort(),delete k.value[pe]})},upload:L}),(de,ue)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(de.listType),unref(g).is("drag",de.drag)]),tabindex:"0",onClick:re,onKeydown:withKeys(withModifiers(oe,["self"]),["enter","space"])},[de.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref(y),onFile:V},{default:withCtx(()=>[renderSlot(de.$slots,"default")]),_:3},8,["disabled"])):renderSlot(de.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:$,class:normalizeClass(unref(g).e("input")),name:de.name,multiple:de.multiple,accept:de.accept,type:"file",onChange:j,onClick:ue[0]||(ue[0]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$Y)],42,_hoisted_1$$))}});var UploadContent=_export_sfc$1(_sfc_main$11,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const SCOPE$1="ElUpload",revokeObjectURL=n=>{var e;(e=n.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(n.url)},useHandlers=(n,e)=>{const r=useVModel(n,"fileList",void 0,{passive:!0}),g=oe=>r.value.find(ae=>ae.uid===oe.uid);function y(oe){var ae;(ae=e.value)==null||ae.abort(oe)}function k(oe=["ready","uploading","success","fail"]){r.value=r.value.filter(ae=>!oe.includes(ae.status))}const $=(oe,ae)=>{const de=g(ae);de&&(console.error(oe),de.status="fail",r.value.splice(r.value.indexOf(de),1),n.onError(oe,de,r.value),n.onChange(de,r.value))},V=(oe,ae)=>{const de=g(ae);de&&(n.onProgress(oe,de,r.value),de.status="uploading",de.percentage=Math.round(oe.percent))},L=(oe,ae)=>{const de=g(ae);de&&(de.status="success",de.response=oe,n.onSuccess(oe,de,r.value),n.onChange(de,r.value))},z=oe=>{isNil(oe.uid)&&(oe.uid=genFileId());const ae={name:oe.name,percentage:0,status:"ready",size:oe.size,raw:oe,uid:oe.uid};if(n.listType==="picture-card"||n.listType==="picture")try{ae.url=URL.createObjectURL(oe)}catch(de){de.message,n.onError(de,ae,r.value)}r.value=[...r.value,ae],n.onChange(ae,r.value)},j=async oe=>{const ae=oe instanceof File?g(oe):oe;ae||throwError(SCOPE$1,"file to be removed not found");const de=ue=>{y(ue);const pe=r.value;pe.splice(pe.indexOf(ue),1),n.onRemove(ue,pe),revokeObjectURL(ue)};n.beforeRemove?await n.beforeRemove(ae,r.value)!==!1&&de(ae):de(ae)};function re(){r.value.filter(({status:oe})=>oe==="ready").forEach(({raw:oe})=>{var ae;return oe&&((ae=e.value)==null?void 0:ae.upload(oe))})}return watch(()=>n.listType,oe=>{oe!=="picture-card"&&oe!=="picture"||(r.value=r.value.map(ae=>{const{raw:de,url:ue}=ae;if(!ue&&de)try{ae.url=URL.createObjectURL(de)}catch(pe){n.onError(pe,ae,r.value)}return ae}))}),watch(r,oe=>{for(const ae of oe)ae.uid||(ae.uid=genFileId()),ae.status||(ae.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:y,clearFiles:k,handleError:$,handleProgress:V,handleStart:z,handleSuccess:L,handleRemove:j,submit:re}},__default__$2=defineComponent({name:"ElUpload"}),_sfc_main$10=defineComponent({...__default__$2,props:uploadProps,setup(n,{expose:e}){const r=n,g=useFormDisabled(),y=shallowRef(),{abort:k,submit:$,clearFiles:V,uploadFiles:L,handleStart:z,handleError:j,handleRemove:re,handleSuccess:oe,handleProgress:ae}=useHandlers(r,y),de=computed(()=>r.listType==="picture-card"),ue=computed(()=>({...r,fileList:L.value,onStart:z,onProgress:ae,onSuccess:oe,onError:j,onRemove:re}));return onBeforeUnmount(()=>{L.value.forEach(({url:pe})=>{pe?.startsWith("blob:")&&URL.revokeObjectURL(pe)})}),provide(uploadContextKey,{accept:toRef(r,"accept")}),e({abort:k,submit:$,clearFiles:V,handleStart:z,handleRemove:re}),(pe,he)=>(openBlock(),createElementBlock("div",null,[unref(de)&&pe.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(g),"list-type":pe.listType,files:unref(L),"handle-preview":pe.onPreview,onRemove:unref(re)},createSlots({append:withCtx(()=>[createVNode(UploadContent,mergeProps({ref_key:"uploadRef",ref:y},unref(ue)),{default:withCtx(()=>[pe.$slots.trigger?renderSlot(pe.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!pe.$slots.trigger&&pe.$slots.default?renderSlot(pe.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)]),_:2},[pe.$slots.file?{name:"default",fn:withCtx(({file:Oe})=>[renderSlot(pe.$slots,"file",{file:Oe})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!unref(de)||unref(de)&&!pe.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:y},unref(ue)),{default:withCtx(()=>[pe.$slots.trigger?renderSlot(pe.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!pe.$slots.trigger&&pe.$slots.default?renderSlot(pe.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)):createCommentVNode("v-if",!0),pe.$slots.trigger?renderSlot(pe.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(pe.$slots,"tip"),!unref(de)&&pe.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(g),"list-type":pe.listType,files:unref(L),"handle-preview":pe.onPreview,onRemove:unref(re)},createSlots({_:2},[pe.$slots.file?{name:"default",fn:withCtx(({file:Oe})=>[renderSlot(pe.$slots,"file",{file:Oe})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc$1(_sfc_main$10,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ElUpload=withInstall(Upload);var Components=[ElAffix,ElAlert,ElAutocomplete,ElAutoResizer,ElAvatar,ElBacktop,ElBadge,ElBreadcrumb,ElBreadcrumbItem,ElButton,ElButtonGroup$1,ElCalendar,ElCard,ElCarousel,ElCarouselItem,ElCascader,ElCascaderPanel,ElCheckTag,ElCheckbox,ElCheckboxButton,ElCheckboxGroup$1,ElCol,ElCollapse,ElCollapseItem,ElCollapseTransition,ElColorPicker,ElConfigProvider,ElContainer,ElAside,ElFooter,ElHeader,ElMain,ElDatePicker,ElDescriptions,ElDescriptionsItem,ElDialog,ElDivider,ElDrawer,ElDropdown,ElDropdownItem,ElDropdownMenu,ElEmpty,ElForm,ElFormItem,ElIcon,ElImage,ElImageViewer,ElInput,ElInputNumber,ElLink,ElMenu,ElMenuItem,ElMenuItemGroup,ElSubMenu,ElPageHeader,ElPagination,ElPopconfirm,ElPopover,ElPopper,ElProgress,ElRadio,ElRadioButton,ElRadioGroup,ElRate,ElResult,ElRow,ElScrollbar,ElSelect,ElOption,ElOptionGroup,ElSelectV2,ElSkeleton,ElSkeletonItem,ElSlider,ElSpace,ElStatistic,ElCountdown,ElSteps,ElStep,ElSwitch,ElTable,ElTableColumn,ElTableV2,ElTabs,ElTabPane,ElTag,ElText,ElTimePicker,ElTimeSelect,ElTimeline,ElTimelineItem,ElTooltip,ElTooltipV2,ElTransfer,ElTree,ElTreeSelect,ElTreeV2,ElUpload];const SCOPE="ElInfiniteScroll",CHECK_INTERVAL=50,DEFAULT_DELAY=200,DEFAULT_DISTANCE=0,attributes={delay:{type:Number,default:DEFAULT_DELAY},distance:{type:Number,default:DEFAULT_DISTANCE},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},getScrollOptions=(n,e)=>Object.entries(attributes).reduce((r,[g,y])=>{var k,$;const{type:V,default:L}=y,z=n.getAttribute(`infinite-scroll-${g}`);let j=($=(k=e[z])!=null?k:z)!=null?$:L;return j=j==="false"?!1:j,j=V(j),r[g]=Number.isNaN(j)?L:j,r},{}),destroyObserver=n=>{const{observer:e}=n[SCOPE];e&&(e.disconnect(),delete n[SCOPE].observer)},handleScroll=(n,e)=>{const{container:r,containerEl:g,instance:y,observer:k,lastScrollTop:$}=n[SCOPE],{disabled:V,distance:L}=getScrollOptions(n,y),{clientHeight:z,scrollHeight:j,scrollTop:re}=g,oe=re-$;if(n[SCOPE].lastScrollTop=re,k||V||oe<0)return;let ae=!1;if(r===n)ae=j-(z+re)<=L;else{const{clientTop:de,scrollHeight:ue}=n,pe=getOffsetTopDistance(n,g);ae=re+z>=pe+de+ue-L}ae&&e.call(y)};function checkFull(n,e){const{containerEl:r,instance:g}=n[SCOPE],{disabled:y}=getScrollOptions(n,g);y||r.clientHeight===0||(r.scrollHeight<=r.clientHeight?e.call(g):destroyObserver(n))}const InfiniteScroll={async mounted(n,e){const{instance:r,value:g}=e;isFunction$3(g)||throwError(SCOPE,"'v-infinite-scroll' binding value must be a function"),await nextTick();const{delay:y,immediate:k}=getScrollOptions(n,r),$=getScrollContainer(n,!0),V=$===window?document.documentElement:$,L=throttle(handleScroll.bind(null,n,g),y);if($){if(n[SCOPE]={instance:r,container:$,containerEl:V,delay:y,cb:g,onScroll:L,lastScrollTop:V.scrollTop},k){const z=new MutationObserver(throttle(checkFull.bind(null,n,g),CHECK_INTERVAL));n[SCOPE].observer=z,z.observe(n,{childList:!0,subtree:!0}),checkFull(n,g)}$.addEventListener("scroll",L)}},unmounted(n){const{container:e,onScroll:r}=n[SCOPE];e?.removeEventListener("scroll",r),destroyObserver(n)},async updated(n){if(!n[SCOPE])await nextTick();else{const{containerEl:e,cb:r,observer:g}=n[SCOPE];e.clientHeight&&g&&checkFull(n,r)}}},_InfiniteScroll=InfiniteScroll;_InfiniteScroll.install=n=>{n.directive("InfiniteScroll",_InfiniteScroll)};const ElInfiniteScroll=_InfiniteScroll;function createLoadingComponent(n){let e;const r=ref(!1),g=reactive({...n,originalPosition:"",originalOverflow:"",visible:!1});function y(oe){g.text=oe}function k(){const oe=g.parent,ae=re.ns;if(!oe.vLoadingAddClassList){let de=oe.getAttribute("loading-number");de=Number.parseInt(de)-1,de?oe.setAttribute("loading-number",de.toString()):(removeClass(oe,ae.bm("parent","relative")),oe.removeAttribute("loading-number")),removeClass(oe,ae.bm("parent","hidden"))}$(),j.unmount()}function $(){var oe,ae;(ae=(oe=re.$el)==null?void 0:oe.parentNode)==null||ae.removeChild(re.$el)}function V(){var oe;n.beforeClose&&!n.beforeClose()||(r.value=!0,clearTimeout(e),e=window.setTimeout(L,400),g.visible=!1,(oe=n.closed)==null||oe.call(n))}function L(){if(!r.value)return;const oe=g.parent;r.value=!1,oe.vLoadingAddClassList=void 0,k()}const z=defineComponent({name:"ElLoading",setup(oe,{expose:ae}){const{ns:de,zIndex:ue}=useGlobalComponentSettings("loading");return ae({ns:de,zIndex:ue}),()=>{const pe=g.spinner||g.svg,he=h$1("svg",{class:"circular",viewBox:g.svgViewBox?g.svgViewBox:"0 0 50 50",...pe?{innerHTML:pe}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),Oe=g.text?h$1("p",{class:de.b("text")},[g.text]):void 0;return h$1(Transition,{name:de.b("fade"),onAfterLeave:L},{default:withCtx(()=>[withDirectives(createVNode("div",{style:{backgroundColor:g.background||""},class:[de.b("mask"),g.customClass,g.fullscreen?"is-fullscreen":""]},[h$1("div",{class:de.b("spinner")},[he,Oe])]),[[vShow,g.visible]])])})}}}),j=createApp(z),re=j.mount(document.createElement("div"));return{...toRefs(g),setText:y,removeElLoadingChild:$,close:V,handleAfterLeave:L,vm:re,get $el(){return re.$el}}}let fullscreenInstance;const Loading=function(n={}){if(!isClient)return;const e=resolveOptions(n);if(e.fullscreen&&fullscreenInstance)return fullscreenInstance;const r=createLoadingComponent({...e,closed:()=>{var y;(y=e.closed)==null||y.call(e),e.fullscreen&&(fullscreenInstance=void 0)}});addStyle(e,e.parent,r),addClassList(e,e.parent,r),e.parent.vLoadingAddClassList=()=>addClassList(e,e.parent,r);let g=e.parent.getAttribute("loading-number");return g?g=`${Number.parseInt(g)+1}`:g="1",e.parent.setAttribute("loading-number",g),e.parent.appendChild(r.$el),nextTick(()=>r.visible.value=e.visible),e.fullscreen&&(fullscreenInstance=r),r},resolveOptions=n=>{var e,r,g,y;let k;return isString$3(n.target)?k=(e=document.querySelector(n.target))!=null?e:document.body:k=n.target||document.body,{parent:k===document.body||n.body?document.body:k,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:k===document.body&&((r=n.fullscreen)!=null?r:!0),lock:(g=n.lock)!=null?g:!1,customClass:n.customClass||"",visible:(y=n.visible)!=null?y:!0,target:k}},addStyle=async(n,e,r)=>{const{nextZIndex:g}=r.vm.zIndex||r.vm._.exposed.zIndex,y={};if(n.fullscreen)r.originalPosition.value=getStyle(document.body,"position"),r.originalOverflow.value=getStyle(document.body,"overflow"),y.zIndex=g();else if(n.parent===document.body){r.originalPosition.value=getStyle(document.body,"position"),await nextTick();for(const k of["top","left"]){const $=k==="top"?"scrollTop":"scrollLeft";y[k]=`${n.target.getBoundingClientRect()[k]+document.body[$]+document.documentElement[$]-Number.parseInt(getStyle(document.body,`margin-${k}`),10)}px`}for(const k of["height","width"])y[k]=`${n.target.getBoundingClientRect()[k]}px`}else r.originalPosition.value=getStyle(e,"position");for(const[k,$]of Object.entries(y))r.$el.style[k]=$},addClassList=(n,e,r)=>{const g=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?removeClass(e,g.bm("parent","relative")):addClass(e,g.bm("parent","relative")),n.fullscreen&&n.lock?addClass(e,g.bm("parent","hidden")):removeClass(e,g.bm("parent","hidden"))},INSTANCE_KEY=Symbol("ElLoading"),createInstance=(n,e)=>{var r,g,y,k;const $=e.instance,V=oe=>isObject$3(e.value)?e.value[oe]:void 0,L=oe=>{const ae=isString$3(oe)&&$?.[oe]||oe;return ae&&ref(ae)},z=oe=>L(V(oe)||n.getAttribute(`element-loading-${hyphenate(oe)}`)),j=(r=V("fullscreen"))!=null?r:e.modifiers.fullscreen,re={text:z("text"),svg:z("svg"),svgViewBox:z("svgViewBox"),spinner:z("spinner"),background:z("background"),customClass:z("customClass"),fullscreen:j,target:(g=V("target"))!=null?g:j?void 0:n,body:(y=V("body"))!=null?y:e.modifiers.body,lock:(k=V("lock"))!=null?k:e.modifiers.lock};n[INSTANCE_KEY]={options:re,instance:Loading(re)}},updateOptions=(n,e)=>{for(const r of Object.keys(e))isRef(e[r])&&(e[r].value=n[r])},vLoading={mounted(n,e){e.value&&createInstance(n,e)},updated(n,e){const r=n[INSTANCE_KEY];e.oldValue!==e.value&&(e.value&&!e.oldValue?createInstance(n,e):e.value&&e.oldValue?isObject$3(e.value)&&updateOptions(e.value,r.options):r?.instance.close())},unmounted(n){var e;(e=n[INSTANCE_KEY])==null||e.instance.close()}},ElLoading={install(n){n.directive("loading",vLoading),n.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),required:!1},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances=shallowReactive([]),getInstance=n=>{const e=instances.findIndex(y=>y.id===n),r=instances[e];let g;return e>0&&(g=instances[e-1]),{current:r,prev:g}},getLastOffset=n=>{const{prev:e}=getInstance(n);return e?e.vm.exposed.bottom.value:0},getOffsetOrSpace=(n,e)=>instances.findIndex(g=>g.id===n)>0?20:e,_hoisted_1$_=["id"],_hoisted_2$X=["innerHTML"],__default__$1=defineComponent({name:"ElMessage"}),_sfc_main$$=defineComponent({...__default__$1,props:messageProps,emits:messageEmits,setup(n,{expose:e}){const r=n,{Close:g}=TypeComponents,{ns:y,zIndex:k}=useGlobalComponentSettings("message"),{currentZIndex:$,nextZIndex:V}=k,L=ref(),z=ref(!1),j=ref(0);let re;const oe=computed(()=>r.type?r.type==="error"?"danger":r.type:"info"),ae=computed(()=>{const Fe=r.type;return{[y.bm("icon",Fe)]:Fe&&TypeComponentsMap[Fe]}}),de=computed(()=>r.icon||TypeComponentsMap[r.type]||""),ue=computed(()=>getLastOffset(r.id)),pe=computed(()=>getOffsetOrSpace(r.id,r.offset)+ue.value),he=computed(()=>j.value+pe.value),Oe=computed(()=>({top:`${pe.value}px`,zIndex:$.value}));function xe(){r.duration!==0&&({stop:re}=useTimeoutFn(()=>{Ne()},r.duration))}function $e(){re?.()}function Ne(){z.value=!1}function Ce({code:Fe}){Fe===EVENT_CODE.esc&&Ne()}return onMounted(()=>{xe(),V(),z.value=!0}),watch(()=>r.repeatNum,()=>{$e(),xe()}),useEventListener(document,"keydown",Ce),useResizeObserver(L,()=>{j.value=L.value.getBoundingClientRect().height}),e({visible:z,bottom:he,close:Ne}),(Fe,ze)=>(openBlock(),createBlock(Transition,{name:unref(y).b("fade"),onBeforeLeave:Fe.onClose,onAfterLeave:ze[0]||(ze[0]=kt=>Fe.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:Fe.id,ref_key:"messageRef",ref:L,class:normalizeClass([unref(y).b(),{[unref(y).m(Fe.type)]:Fe.type&&!Fe.icon},unref(y).is("center",Fe.center),unref(y).is("closable",Fe.showClose),Fe.customClass]),style:normalizeStyle(unref(Oe)),role:"alert",onMouseenter:$e,onMouseleave:xe},[Fe.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:Fe.repeatNum,type:unref(oe),class:normalizeClass(unref(y).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(de)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(y).e("icon"),unref(ae)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(Fe.$slots,"default",{},()=>[Fe.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(y).e("content")),innerHTML:Fe.message},null,10,_hoisted_2$X)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(y).e("content"))},toDisplayString$1(Fe.message),3))]),Fe.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(y).e("closeBtn")),onClick:withModifiers(Ne,["stop"])},{default:withCtx(()=>[createVNode(unref(g))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$_),[[vShow,z.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let seed$1=1;const normalizeOptions=n=>{const e=!n||isString$3(n)||isVNode$1(n)||isFunction$3(n)?{message:n}:n,r={...messageDefaults,...e};if(!r.appendTo)r.appendTo=document.body;else if(isString$3(r.appendTo)){let g=document.querySelector(r.appendTo);isElement$1(g)||(g=document.body),r.appendTo=g}return r},closeMessage=n=>{const e=instances.indexOf(n);if(e===-1)return;instances.splice(e,1);const{handler:r}=n;r.close()},createMessage=({appendTo:n,...e},r)=>{const g=`message_${seed$1++}`,y=e.onClose,k=document.createElement("div"),$={...e,id:g,onClose:()=>{y?.(),closeMessage(j)},onDestroy:()=>{render$2(null,k)}},V=createVNode(MessageConstructor,$,isFunction$3($.message)||isVNode$1($.message)?{default:isFunction$3($.message)?$.message:()=>$.message}:null);V.appContext=r||message._context,render$2(V,k),n.appendChild(k.firstElementChild);const L=V.component,j={id:g,vnode:V,vm:L,handler:{close:()=>{L.exposed.visible.value=!1}},props:V.component.props};return j},message=(n={},e)=>{if(!isClient)return{close:()=>{}};if(isNumber$1(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};const r=normalizeOptions(n);if(r.grouping&&instances.length){const y=instances.find(({vnode:k})=>{var $;return(($=k.props)==null?void 0:$.message)===r.message});if(y)return y.props.repeatNum+=1,y.props.type=r.type,y.handler}const g=createMessage(r,e);return instances.push(g),g.handler};messageTypes.forEach(n=>{message[n]=(e={},r)=>{const g=normalizeOptions(e);return message({...g,type:n},r)}});function closeAll$1(n){for(const e of instances)(!n||n===e.props.type)&&e.handler.close()}message.closeAll=closeAll$1;message._context=null;const ElMessage=withInstallFunction(message,"$message"),_sfc_main$_=defineComponent({name:"ElMessageBox",directives:{TrapFocus},components:{ElButton,ElFocusTrap,ElInput,ElOverlay,ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{locale:r,zIndex:g,ns:y,size:k}=useGlobalComponentSettings("message-box",computed(()=>n.buttonSize)),{t:$}=r,{nextZIndex:V}=g,L=ref(!1),z=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:V()}),j=computed(()=>{const An=z.type;return{[y.bm("icon",An)]:An&&TypeComponentsMap[An]}}),re=useId(),oe=useId(),ae=computed(()=>z.icon||TypeComponentsMap[z.type]||""),de=computed(()=>!!z.message),ue=ref(),pe=ref(),he=ref(),Oe=ref(),xe=ref(),$e=computed(()=>z.confirmButtonClass);watch(()=>z.inputValue,async An=>{await nextTick(),n.boxType==="prompt"&&An!==null&&Cn()},{immediate:!0}),watch(()=>L.value,An=>{var Mn,$n;An&&(n.boxType!=="prompt"&&(z.autofocus?he.value=($n=(Mn=xe.value)==null?void 0:Mn.$el)!=null?$n:ue.value:he.value=ue.value),z.zIndex=V()),n.boxType==="prompt"&&(An?nextTick().then(()=>{var Ln;Oe.value&&Oe.value.$el&&(z.autofocus?he.value=(Ln=Dt())!=null?Ln:ue.value:he.value=ue.value)}):(z.editorErrorMessage="",z.validateError=!1))});const Ne=computed(()=>n.draggable);useDraggable(ue,pe,Ne),onMounted(async()=>{await nextTick(),n.closeOnHashChange&&window.addEventListener("hashchange",Ce)}),onBeforeUnmount(()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",Ce)});function Ce(){L.value&&(L.value=!1,nextTick(()=>{z.action&&e("action",z.action)}))}const Fe=()=>{n.closeOnClickModal&&At(z.distinguishCancelAndClose?"close":"cancel")},ze=useSameTarget(Fe),kt=An=>{if(z.inputType!=="textarea")return An.preventDefault(),At("confirm")},At=An=>{var Mn;n.boxType==="prompt"&&An==="confirm"&&!Cn()||(z.action=An,z.beforeClose?(Mn=z.beforeClose)==null||Mn.call(z,An,z,Ce):Ce())},Cn=()=>{if(n.boxType==="prompt"){const An=z.inputPattern;if(An&&!An.test(z.inputValue||""))return z.editorErrorMessage=z.inputErrorMessage||$("el.messagebox.error"),z.validateError=!0,!1;const Mn=z.inputValidator;if(typeof Mn=="function"){const $n=Mn(z.inputValue);if($n===!1)return z.editorErrorMessage=z.inputErrorMessage||$("el.messagebox.error"),z.validateError=!0,!1;if(typeof $n=="string")return z.editorErrorMessage=$n,z.validateError=!0,!1}}return z.editorErrorMessage="",z.validateError=!1,!0},Dt=()=>{const An=Oe.value.$refs;return An.input||An.textarea},On=()=>{At("close")},jt=()=>{n.closeOnPressEscape&&On()};return n.lockScroll&&useLockscreen(L),{...toRefs(z),ns:y,overlayEvent:ze,visible:L,hasMessage:de,typeClass:j,contentId:re,inputId:oe,btnSize:k,iconComponent:ae,confirmButtonClasses:$e,rootRef:ue,focusStartRef:he,headerRef:pe,inputRef:Oe,confirmRef:xe,doClose:Ce,handleClose:On,onCloseRequested:jt,handleWrapperClick:Fe,handleInputEnter:kt,handleAction:At,t:$}}}),_hoisted_1$Z=["aria-label","aria-describedby"],_hoisted_2$W=["aria-label"],_hoisted_3$x=["id"];function _sfc_render(n,e,r,g,y,k){const $=resolveComponent("el-icon"),V=resolveComponent("close"),L=resolveComponent("el-input"),z=resolveComponent("el-button"),j=resolveComponent("el-focus-trap"),re=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=oe=>n.$emit("vanish")),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(re,{"z-index":n.zIndex,"overlay-class":[n.ns.is("message-box"),n.modalClass],mask:n.modal},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-label":n.title,"aria-modal":"true","aria-describedby":n.showInput?void 0:n.contentId,class:normalizeClass(`${n.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...oe)=>n.overlayEvent.onClick&&n.overlayEvent.onClick(...oe)),onMousedown:e[9]||(e[9]=(...oe)=>n.overlayEvent.onMousedown&&n.overlayEvent.onMousedown(...oe)),onMouseup:e[10]||(e[10]=(...oe)=>n.overlayEvent.onMouseup&&n.overlayEvent.onMouseup(...oe))},[createVNode(j,{loop:"",trapped:n.visible,"focus-trap-el":n.rootRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([n.ns.b(),n.customClass,n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center}]),style:normalizeStyle(n.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=withModifiers(()=>{},["stop"]))},[n.title!==null&&n.title!==void 0?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass(n.ns.e("header"))},[createBaseVNode("div",{class:normalizeClass(n.ns.e("title"))},[n.iconComponent&&n.center?(openBlock(),createBlock($,{key:0,class:normalizeClass([n.ns.e("status"),n.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString$1(n.title),1)],2),n.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(n.ns.e("headerbtn")),"aria-label":n.t("el.messagebox.close"),onClick:e[0]||(e[0]=oe=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=withKeys(withModifiers(oe=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[createVNode($,{class:normalizeClass(n.ns.e("close"))},{default:withCtx(()=>[createVNode(V)]),_:1},8,["class"])],42,_hoisted_2$W)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:n.contentId,class:normalizeClass(n.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(n.ns.e("container"))},[n.iconComponent&&!n.center&&n.hasMessage?(openBlock(),createBlock($,{key:0,class:normalizeClass([n.ns.e("status"),n.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),n.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.e("message"))},[renderSlot(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(n.showInput?"label":"p"),{key:1,for:n.showInput?n.inputId:void 0,innerHTML:n.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(n.showInput?"label":"p"),{key:0,for:n.showInput?n.inputId:void 0},{default:withCtx(()=>[createTextVNode(toDisplayString$1(n.dangerouslyUseHTMLString?"":n.message),1)]),_:1},8,["for"]))])],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(n.ns.e("input"))},[createVNode(L,{id:n.inputId,ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":e[2]||(e[2]=oe=>n.inputValue=oe),type:n.inputType,placeholder:n.inputPlaceholder,"aria-invalid":n.validateError,class:normalizeClass({invalid:n.validateError}),onKeydown:withKeys(n.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(n.ns.e("errormsg")),style:normalizeStyle({visibility:n.editorErrorMessage?"visible":"hidden"})},toDisplayString$1(n.editorErrorMessage),7)],2),[[vShow,n.showInput]])],10,_hoisted_3$x),createBaseVNode("div",{class:normalizeClass(n.ns.e("btns"))},[n.showCancelButton?(openBlock(),createBlock(z,{key:0,loading:n.cancelButtonLoading,class:normalizeClass([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:e[3]||(e[3]=oe=>n.handleAction("cancel")),onKeydown:e[4]||(e[4]=withKeys(withModifiers(oe=>n.handleAction("cancel"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):createCommentVNode("v-if",!0),withDirectives(createVNode(z,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,class:normalizeClass([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:e[5]||(e[5]=oe=>n.handleAction("confirm")),onKeydown:e[6]||(e[6]=withKeys(withModifiers(oe=>n.handleAction("confirm"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[vShow,n.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,_hoisted_1$Z)]),_:3},8,["z-index","overlay-class","mask"]),[[vShow,n.visible]])]),_:3})}var MessageBoxConstructor=_export_sfc$1(_sfc_main$_,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const messageInstance=new Map,getAppendToElement=n=>{let e=document.body;return n.appendTo&&(isString$3(n.appendTo)&&(e=document.querySelector(n.appendTo)),isElement$1(n.appendTo)&&(e=n.appendTo),isElement$1(e)||(e=document.body)),e},initInstance=(n,e,r=null)=>{const g=createVNode(MessageBoxConstructor,n,isFunction$3(n.message)||isVNode$1(n.message)?{default:isFunction$3(n.message)?n.message:()=>n.message}:null);return g.appContext=r,render$2(g,e),getAppendToElement(n).appendChild(e.firstElementChild),g.component},genContainer=()=>document.createElement("div"),showMessage=(n,e)=>{const r=genContainer();n.onVanish=()=>{render$2(null,r),messageInstance.delete(y)},n.onAction=k=>{const $=messageInstance.get(y);let V;n.showInput?V={value:y.inputValue,action:k}:V=k,n.callback?n.callback(V,g.proxy):k==="cancel"||k==="close"?n.distinguishCancelAndClose&&k!=="cancel"?$.reject("close"):$.reject("cancel"):$.resolve(V)};const g=initInstance(n,r,e),y=g.proxy;for(const k in n)hasOwn$1(n,k)&&!hasOwn$1(y.$props,k)&&(y[k]=n[k]);return y.visible=!0,y};function MessageBox(n,e=null){if(!isClient)return Promise.reject();let r;return isString$3(n)||isVNode$1(n)?n={message:n}:r=n.callback,new Promise((g,y)=>{const k=showMessage(n,e??MessageBox._context);messageInstance.set(k,{options:n,callback:r,resolve:g,reject:y})})}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MESSAGE_BOX_VARIANTS.forEach(n=>{MessageBox[n]=messageBoxFactory(n)});function messageBoxFactory(n){return(e,r,g,y)=>{let k="";return isObject$3(r)?(g=r,k=""):isUndefined(r)?k="":k=r,MessageBox(Object.assign({title:k,message:e,type:"",...MESSAGE_BOX_DEFAULT_OPTS[n]},g,{boxType:n}),y)}}MessageBox.close=()=>{messageInstance.forEach((n,e)=>{e.doClose()}),messageInstance.clear()};MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=n=>{_MessageBox._context=n._context,n.config.globalProperties.$msgbox=_MessageBox,n.config.globalProperties.$messageBox=_MessageBox,n.config.globalProperties.$alert=_MessageBox.alert,n.config.globalProperties.$confirm=_MessageBox.confirm,n.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number}),notificationEmits={destroy:()=>!0},_hoisted_1$Y=["id"],_hoisted_2$V=["textContent"],_hoisted_3$w={key:0},_hoisted_4$t=["innerHTML"],__default__=defineComponent({name:"ElNotification"}),_sfc_main$Z=defineComponent({...__default__,props:notificationProps,emits:notificationEmits,setup(n,{expose:e}){const r=n,{ns:g,zIndex:y}=useGlobalComponentSettings("notification"),{nextZIndex:k,currentZIndex:$}=y,{Close:V}=CloseComponents,L=ref(!1);let z;const j=computed(()=>{const xe=r.type;return xe&&TypeComponentsMap[r.type]?g.m(xe):""}),re=computed(()=>r.type&&TypeComponentsMap[r.type]||r.icon),oe=computed(()=>r.position.endsWith("right")?"right":"left"),ae=computed(()=>r.position.startsWith("top")?"top":"bottom"),de=computed(()=>{var xe;return{[ae.value]:`${r.offset}px`,zIndex:(xe=r.zIndex)!=null?xe:$.value}});function ue(){r.duration>0&&({stop:z}=useTimeoutFn(()=>{L.value&&he()},r.duration))}function pe(){z?.()}function he(){L.value=!1}function Oe({code:xe}){xe===EVENT_CODE.delete||xe===EVENT_CODE.backspace?pe():xe===EVENT_CODE.esc?L.value&&he():ue()}return onMounted(()=>{ue(),k(),L.value=!0}),useEventListener(document,"keydown",Oe),e({visible:L,close:he}),(xe,$e)=>(openBlock(),createBlock(Transition,{name:unref(g).b("fade"),onBeforeLeave:xe.onClose,onAfterLeave:$e[1]||($e[1]=Ne=>xe.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:xe.id,class:normalizeClass([unref(g).b(),xe.customClass,unref(oe)]),style:normalizeStyle(unref(de)),role:"alert",onMouseenter:pe,onMouseleave:ue,onClick:$e[0]||($e[0]=(...Ne)=>xe.onClick&&xe.onClick(...Ne))},[unref(re)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(g).e("icon"),unref(j)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(re))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(g).e("title")),textContent:toDisplayString$1(xe.title)},null,10,_hoisted_2$V),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(g).e("content")),style:normalizeStyle(xe.title?void 0:{margin:0})},[renderSlot(xe.$slots,"default",{},()=>[xe.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:xe.message},null,8,_hoisted_4$t)],2112)):(openBlock(),createElementBlock("p",_hoisted_3$w,toDisplayString$1(xe.message),1))])],6),[[vShow,xe.message]]),xe.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("closeBtn")),onClick:withModifiers(he,["stop"])},{default:withCtx(()=>[createVNode(unref(V))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,_hoisted_1$Y),[[vShow,L.value]])]),_:3},8,["name","onBeforeLeave"]))}});var NotificationConstructor=_export_sfc$1(_sfc_main$Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed=1;const notify=function(n={},e=null){if(!isClient)return{close:()=>{}};(typeof n=="string"||isVNode$1(n))&&(n={message:n});const r=n.position||"top-right";let g=n.offset||0;notifications[r].forEach(({vm:j})=>{var re;g+=(((re=j.el)==null?void 0:re.offsetHeight)||0)+GAP_SIZE}),g+=GAP_SIZE;const y=`notification_${seed++}`,k=n.onClose,$={...n,offset:g,id:y,onClose:()=>{close(y,r,k)}};let V=document.body;isElement$1(n.appendTo)?V=n.appendTo:isString$3(n.appendTo)&&(V=document.querySelector(n.appendTo)),isElement$1(V)||(V=document.body);const L=document.createElement("div"),z=createVNode(NotificationConstructor,$,isVNode$1($.message)?{default:()=>$.message}:null);return z.appContext=e??notify._context,z.props.onDestroy=()=>{render$2(null,L)},render$2(z,L),notifications[r].push({vm:z}),V.appendChild(L.firstElementChild),{close:()=>{z.component.exposed.visible.value=!1}}};notificationTypes.forEach(n=>{notify[n]=(e={})=>((typeof e=="string"||isVNode$1(e))&&(e={message:e}),notify({...e,type:n}))});function close(n,e,r){const g=notifications[e],y=g.findIndex(({vm:z})=>{var j;return((j=z.component)==null?void 0:j.props.id)===n});if(y===-1)return;const{vm:k}=g[y];if(!k)return;r?.(k);const $=k.el.offsetHeight,V=e.split("-")[0];g.splice(y,1);const L=g.length;if(!(L<1))for(let z=y;z<L;z++){const{el:j,component:re}=g[z].vm,oe=Number.parseInt(j.style[V],10)-$-GAP_SIZE;re.props.offset=oe}}function closeAll(){for(const n of Object.values(notifications))n.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}notify.closeAll=closeAll;notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");var Plugins=[ElInfiniteScroll,ElLoading,ElMessage,ElMessageBox,ElNotification,ElPopoverDirective],installer=makeInstaller([...Components,...Plugins]);const redoStack=[],undoStack=[];var StoreType=(n=>(n[n.EditCharacter=0]="EditCharacter",n[n.EditGlyph=1]="EditGlyph",n[n.Tools=2]="Tools",n[n.Pen=3]="Pen",n[n.Polygon=4]="Polygon",n[n.Rectangle=5]="Rectangle",n[n.Ellipse=6]="Ellipse",n[n.GlyphCompnent=7]="GlyphCompnent",n[n.Status=8]="Status",n[n.Grid=9]="Grid",n))(StoreType||{}),OpType=(n=>(n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n))(OpType||{});const saveState=(n,e,r,g={newRecord:!0,undoTip:"",redoTip:""})=>{let y=[];r===1?y=redoStack:r===0&&(redoStack.length=0,y=undoStack);let k={};for(let $=0;$<e.length;$++)switch(e[$]){case 0:{k.editCharacterFile=clone$1(g.editCharacterFile||editCharacterFile.value);break}case 7:{k.draggable=g.draggable||draggable$1.value,k.dragOption=clone$1(g.dragOption||dragOption.value),k.checkRefLines=g.checkRefLines||checkRefLines.value,k.checkJoints=g.checkJoints||checkJoints.value;break}case 1:{k.editGlyph=clone$1(g.editGlyph||editGlyph.value);break}case 8:{k.editStatus=g.editStatus||editStatus.value;break}case 2:{k.tool=clone$1(g.tool||tool.value);break}case 3:{k.editingPen=clone$1(editing$7.value),k.pointsPen=clone$1(points$1.value),k.selectAnchor=clone$1(selectAnchor.value),k.selectPenPoint=clone$1(selectPenPoint.value),k.mousedownPen=mousedown$1.value,k.mousemovePen=mousemove$1.value;break}case 4:{k.editingPolygon=clone$1(editing$6.value),k.pointsPolygon=clone$1(points.value),k.mousedownPolygon=mousedown.value,k.mousemovePolygon=mousemove.value;break}case 5:{k.editingRectangle=clone$1(editing$5.value),k.rectX=clone$1(rectX.value),k.rectY=clone$1(rectY.value),k.rectWidth=clone$1(rectWidth.value),k.rectHeight=clone$1(rectHeight.value);break}case 6:{k.editingEllipse=clone$1(editing$4.value),k.ellipseX=clone$1(ellipseX.value),k.ellipseY=clone$1(ellipseY.value),k.radiusX=clone$1(radiusX.value),k.radiusY=clone$1(radiusY.value);break}case 9:{k.gridSettings=clone$1(g.gridSettings||gridSettings.value),k.gridChanged=clone$1(g.gridChanged||gridChanged.value);break}}if(g.newRecord||!y.length)y.push({opName:n,opStores:e,states:k,options:g});else{const $=y.pop();$.opName=n,$.opStores=e,$.states=k,$.options=g,y.push($)}},undo$2=()=>{if(!undoStack.length)return;const n=undoStack[undoStack.length-1];n.options.undoTip?ElMessageBox.confirm(n.options.undoTip,`${n.opName}`,{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{undoStack.pop(),saveState(n.opName,n.opStores,1,n.options),updateState(n),ElMessage({type:"success",message:`${n.opName}`})}).catch(()=>{}):(undoStack.pop(),saveState(n.opName,n.opStores,1,n.options),updateState(n))},redo$2=()=>{if(!redoStack.length)return;const n=redoStack[redoStack.length-1];n.options.redoTip?ElMessageBox.confirm(n.options.redoTip,`${n.opName}`,{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{redoStack.pop(),updateState(n),saveState(n.opName,n.opStores,0,n.options),ElMessage({type:"success",message:`${n.opName}`})}).catch(()=>{}):(redoStack.pop(),updateState(n),saveState(n.opName,n.opStores,0,n.options))},updateState=n=>{for(let e=0;e<n.opStores.length;e++)switch(n.opStores[e]){case 0:{for(let g=0;g<selectedFile.value.characterList.length;g++)editCharacterFileUUID.value===selectedFile.value.characterList[g].uuid&&(selectedFile.value.characterList[g]=n.states.editCharacterFile);break}case 1:{for(let g=0;g<glyphs.value.length;g++)glyphs.value[g].uuid===editGlyphUUID.value&&(glyphs.value[g]=n.states.editGlyph);for(let g=0;g<radical_glyphs.value.length;g++)radical_glyphs.value[g].uuid===editGlyphUUID.value&&(radical_glyphs.value[g]=n.states.editGlyph);for(let g=0;g<stroke_glyphs.value.length;g++)stroke_glyphs.value[g].uuid===editGlyphUUID.value&&(stroke_glyphs.value[g]=n.states.editGlyph);for(let g=0;g<comp_glyphs.value.length;g++)comp_glyphs.value[g].uuid===editGlyphUUID.value&&(comp_glyphs.value[g]=n.states.editGlyph);break}case 2:{tool.value=n.states.tool;break}case 8:{editStatus.value=n.states.editStatus;break}case 3:{points$1.value=n.states.pointsPen,editing$7.value=n.states.editingPen,selectAnchor.value=n.states.selectAnchor,selectPenPoint.value=n.states.selectPenPoint,mousedown$1.value=n.states.mousedownPen,mousemove$1.value=n.states.mousemovePen;break}case 4:{points.value=n.states.pointsPolygon,editing$6.value=n.states.editingPolygon,mousedown.value=n.states.mousedownPolygon,mousemove.value=n.states.mousemovePolygon;break}case 5:{editing$5.value=n.states.editingRectangle,rectX.value=n.states.rectX,rectY.value=n.states.rectY,rectWidth.value=n.states.rectWidth,rectHeight.value=n.states.rectHeight;break}case 6:{editing$4.value=n.states.editingEllipse,ellipseX.value=n.states.ellipseY,ellipseY.value=n.states.ellipseX,radiusX.value=n.states.radiusX,radiusY.value=n.states.radiusY;break}case 9:{gridSettings.value=n.gridSettings,gridChanged.value=n.gridChanged;break}}},clearState=()=>{redoStack.length=0,undoStack.length=0},initPen=(n,e=!1)=>{mousedown$1.value=!1,mousemove$1.value=!1;let r=null;const g=5;let y=!1,k,$;const V=ae=>{if(points$1.value.length||saveState("",[StoreType.Pen,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),mousedown$1.value=!0,setEditing$5(!0),points$1.value.length)r={uuid:points$1.value[points$1.value.length-2].uuid,index:points$1.value.length-2};else{const de={uuid:genUUID(),type:"anchor",x:getCoord(ae.offsetX),y:getCoord(ae.offsetY),origin:null,isShow:!0},ue={uuid:genUUID(),type:"control",x:getCoord(ae.offsetX),y:getCoord(ae.offsetY),origin:de.uuid,isShow:!0};r={uuid:de.uuid,index:0},setPoints$1([de,ue]),r={uuid:points$1.value[0].uuid,index:0}}},L=ae=>{if(!points$1.value.length||!editing$7)return;const de=clone$1(points$1.value);if(mousedown$1.value){if(k&&(de[$]=k),r.index===0){de[r.index];let ue=de[r.index+1];ue.x=getCoord(ae.offsetX),ue.y=getCoord(ae.offsetY),ue.isShow=!0}else{let ue=de[r.index],pe=de[r.index-1],he=de[r.index+1];he.x=getCoord(ae.offsetX),he.y=getCoord(ae.offsetY),he.isShow=!0,pe.x=ue.x-(getCoord(ae.offsetX)-ue.x),pe.y=ue.y-(getCoord(ae.offsetY)-ue.y),pe.isShow=!0}mousemove$1.value=!0,setPoints$1(de)}if(!mousedown$1.value){if(!mousemove$1.value&&de.length){saveState("",[StoreType.Pen,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),k=Object.assign({},de[de.length-1]),$=de.length-1;const ue={uuid:genUUID(),type:"anchor",x:getCoord(ae.offsetX),y:getCoord(ae.offsetY),origin:null,isShow:!0},pe={uuid:genUUID(),type:"control",x:ue.x,y:ue.y,origin:ue.uuid,isShow:!1},he={uuid:genUUID(),type:"control",x:ue.x,y:ue.y,origin:ue.uuid,isShow:!1};de.push(pe,ue,he),setPoints$1(de),mousemove$1.value=!0}else if(de.length){$=de.length-4;const ue=de[de.length-2],pe=de[de.length-3],he=de[de.length-1];ue.x=getCoord(ae.offsetX),ue.y=getCoord(ae.offsetY),he.x=getCoord(ae.offsetX),he.y=getCoord(ae.offsetY),y=!1,isNearPoint(getCoord(ae.offsetX),getCoord(ae.offsetY),points$1.value[0].x,points$1.value[0].y,g)&&(ue.x=points$1.value[0].x,ue.y=points$1.value[0].y,he.x=points$1.value[1].x,he.y=points$1.value[1].y,pe.x=points$1.value[0].x-(points$1.value[1].x-points$1.value[0].x),pe.y=points$1.value[0].y-(points$1.value[1].y-points$1.value[0].y),y=!0),setPoints$1(de),mousemove$1.value=!0}}},z=ae=>{if(!(!points$1.value.length||!editing$7)&&(mousedown$1.value=!1,mousemove$1.value=!1,r=null,y)){setEditing$5(!1);const de=genPenComponent(clone$1(points$1).value,!0);setPoints$1([]),e?addComponentForCurrentGlyph(de):addComponentForCurrentCharacterFile(de),k=void 0,$=void 0,y=!1,r=null}},j=ae=>{if(!points$1.value.length||!editing$7)return;const de=clone$1(points$1.value);if(points$1.value.length>=2){const ue={uuid:genUUID(),type:"anchor",x:points$1.value[0].x,y:points$1.value[0].y,origin:null,isShow:!0},pe={uuid:genUUID(),type:"control",x:points$1.value[0].x,y:points$1.value[0].y,origin:ue.uuid,isShow:!1},he={uuid:genUUID(),type:"control",x:points$1.value[0].x,y:points$1.value[0].y,origin:ue.uuid,isShow:!1};de.push(pe,ue,he),setPoints$1(de)}setEditing$5(!1),e?addComponentForCurrentGlyph(genPenComponent(clone$1(points$1).value,!0)):addComponentForCurrentCharacterFile(genPenComponent(clone$1(points$1).value,!0)),setPoints$1([]),k=void 0,$=void 0,y=!1,r=null},re=ae=>{ae.code==="Enter"&&j()};return n.addEventListener("mousedown",V),n.addEventListener("mousemove",L),window.addEventListener("mouseup",z),window.addEventListener("keydown",re),()=>{n.removeEventListener("mousedown",V),n.removeEventListener("mousemove",L),window.removeEventListener("mouseup",z),window.removeEventListener("keydown",re),setEditing$5(!1),setPoints$1([]),k=void 0,$=void 0,y=!1,r=null}},renderPenEditor=n=>{const e=n.getContext("2d"),r=points$1.value.map(y=>({isShow:y.isShow,...mapCanvasCoords({x:y.x,y:y.y})}));if(!r.length)return;const g=10;e.strokeStyle="#000",e.fillStyle="#000",e.beginPath(),e.moveTo(r[0].x,r[0].y),r.length>=4&&e.bezierCurveTo(r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y);for(let y=3;y<r.length-1&&!(y+3>=r.length);y+=3)e.bezierCurveTo(r[y+1].x,r[y+1].y,r[y+2].x,r[y+2].y,r[y+3].x,r[y+3].y);e.stroke(),e.closePath();for(let y=0;y<r.length-1&&(r[y].isShow&&e.fillRect(r[y].x-g/2,r[y].y-g/2,g,g),r[y+1].isShow&&e.strokeRect(r[y+1].x-g/2,r[y+1].y-g/2,g,g),!(y+2>r.length-1));y+=3)r[y+2].isShow&&e.strokeRect(r[y+2].x-g/2,r[y+2].y-g/2,g,g);e.beginPath(),e.moveTo(r[0].x,r[0].y),e.lineTo(r[1].x,r[1].y),e.stroke(),e.closePath();for(let y=3;y<r.length-1;y+=3)r[y-1].isShow&&(e.beginPath(),e.moveTo(r[y].x,r[y].y),e.lineTo(r[y-1].x,r[y-1].y),e.stroke(),e.closePath()),r[y+1].isShow&&(e.beginPath(),e.moveTo(r[y].x,r[y].y),e.lineTo(r[y+1].x,r[y+1].y),e.stroke(),e.closePath())},genPenComponent=(n,e,r="",g="#000")=>{const{x:y,y:k,w:$,h:V}=getBound$4(n.reduce((Oe,xe)=>(Oe.push({x:xe.x,y:xe.y}),Oe),[])),L=0,z=!1,j=!1;let re={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(re.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,re.descender=selectedFile.value.fontSettings.descender,re.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let oe=transformPoints(n,{x:y,y:k,w:$,h:V,rotation:L,flipX:z,flipY:j});const ae=formatPoints(oe,re,1),de=genPenContour(ae),ue=100/re.unitsPerEm,pe=oe.map(Oe=>Object.assign({},Oe,{x:Oe.x*ue,y:Oe.y*ue})),he=genPenContour(pe);return{uuid:genUUID(),type:"pen",name:"pen",lock:!1,visible:!0,value:{points:n,fillColor:r,strokeColor:g,closePath:e,editMode:!1,preview:he,contour:de},x:y,y:k,w:$,h:V,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},bezierCurve={q:(n,e)=>{const r=n[0],g=n[1],y=n[2],k=n[3],$=r.x*Math.pow(1-e,3)+3*g.x*e*Math.pow(1-e,2)+3*y.x*e*e*(1-e)+k.x*Math.pow(e,3),V=r.y*Math.pow(1-e,3)+3*g.y*e*Math.pow(1-e,2)+3*y.y*e*e*(1-e)+k.y*Math.pow(e,3);return{x:$,y:V}},qprime:(n,e)=>{const r=n[0],g=n[1],y=n[2],k=n[3],$=3*Math.pow(1-e,2)*(g.x-r.x)+6*(1-e)*e*(y.x-g.x)+3*Math.pow(e,2)*(k.x-y.x),V=3*Math.pow(1-e,2)*(g.y-r.y)+6*(1-e)*e*(y.y-g.y)+3*Math.pow(e,2)*(k.y-y.y);return{x:$,y:V}},qprimeprime:(n,e)=>{const r=n[0],g=n[1],y=n[2],k=n[3],$=6*(1-e)*(y.x-2*g.x+r.x)+6*e*(k.x-2*y.x+g.x),V=6*(1-e)*(y.y-2*g.y+r.y)+6*e*(k.y-2*y.y+g.y);return{x:$,y:V}}},fitCurve=(n,e)=>{const r=normalize({x:n[1].x-n[0].x,y:n[1].y-n[0].y}),g=normalize({x:n[n.length-2].x-n[n.length-1].x,y:n[n.length-2].y-n[n.length-1].y});return fitCubic(n,r,g,e)},fitCubic=(n,e,r,g)=>{if(n.length===2){const re=norm({x:n[1].x-n[0].x,y:n[1].y-n[0].y})/3;return[[n[0],{x:n[0].x+e.x*re,y:n[0].y+e.y*re},{x:n[1].x+r.x*re,y:n[1].y+r.y*re},n[1]]]}let y=chordLengthParamerize(n),k=generateBezier(n,y,e,r);const{maxDist:$,splitPoint:V}=computeMaxError(n,k,y);if($<g)return[k];if($<Math.pow(g,2))for(let re=0;re<20;re++){const oe=reparameterize(k,n,y);k=generateBezier(n,oe,e,r);const{maxDist:ae,splitPoint:de}=computeMaxError(n,k,y);if(ae<g)return[k];y=oe}const L=[],z=normalize({x:n[V-1].x-n[V+1].x,y:n[V-1].y-n[V+1].y}),j={x:-z.x,y:-z.y};return L.push(...fitCubic(n.slice(0,V+1),e,z,g)),L.push(...fitCubic(n.slice(V),j,r,g)),L},generateBezier=(n,e,r,g)=>{const y=[n[0],null,null,n[n.length-1]],k=[];for(let ue=0;ue<e.length;ue++){const pe=e[ue];k[ue]=[],k[ue].push([r.x*3*Math.pow(1-pe,2)*pe,r.y*3*Math.pow(1-pe,2)*pe]),k[ue].push([g.x*3*(1-pe)*Math.pow(pe,2),g.y*3*(1-pe)*Math.pow(pe,2)])}const $=[[0,0],[0,0]],V=[0,0];for(let ue=0;ue<n.length;ue++){const pe=n[ue],he=e[ue];$[0][0]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},{x:k[ue][0][0],y:k[ue][0][1]}),$[0][1]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},{x:k[ue][1][0],y:k[ue][1][1]}),$[1][0]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},{x:k[ue][1][0],y:k[ue][1][1]}),$[1][1]+=dot$1({x:k[ue][1][0],y:k[ue][1][1]},{x:k[ue][1][0],y:k[ue][1][1]});const Oe=bezierCurve.q([n[0],n[0],n[n.length-1],n[n.length-1]],he),xe={x:pe.x-Oe.x,y:pe.y-Oe.y};V[0]+=dot$1({x:k[ue][0][0],y:k[ue][0][1]},xe),V[1]+=dot$1({x:k[ue][1][0],y:k[ue][1][1]},xe)}const L=$[0][0]*$[1][1]-$[1][0]*$[0][1],z=$[0][0]*V[1]-$[1][0]*V[0],j=V[0]*$[1][1]-V[1]*$[0][1],re=L===0?0:j/L,oe=L===0?0:z/L,ae=norm({x:n[0].x-n[n.length-1].x,y:n[0].y-n[n.length-1].y}),de=1e-6*ae;return re<de||oe<de?(y[1]={x:y[0].x+r.x*(ae/3),y:y[0].y+r.y*(ae/3)},y[2]={x:y[3].x+g.x*(ae/3),y:y[3].y+g.y*(ae/3)}):(y[1]={x:y[0].x+r.x*re,y:y[0].y+r.y*re},y[2]={x:y[3].x+g.x*oe,y:y[3].y+g.y*oe}),y},reparameterize=(n,e,r)=>{const g=[];for(let y=0;y<r.length;y++){const k=r[y],$=e[y];g.push(newtonRaphsonRootFind(n,$,k))}return g},newtonRaphsonRootFind=(n,e,r)=>{const g=bezierCurve.q(n,r),y={x:g.x-e.x,y:g.y-e.y},k=bezierCurve.qprime(n,r),$=bezierCurve.qprimeprime(n,r),V=y.x*k.x+y.y*k.y,L=Math.pow(k.x,2)+y.x*$.x+Math.pow(k.y,2)+y.y*$.y;return L===0?r:r-V/L},chordLengthParamerize=n=>{const e=[0];for(let r=1;r<n.length;r++)e.push(e[r-1]+norm({x:n[r].x-n[r-1].x,y:n[r].y-n[r-1].y}));for(let r=0;r<e.length;r++)e[r]=e[r]/e[e.length-1];return e},computeMaxError=(n,e,r)=>{let g=0,y=n.length/2;for(let k=0;k<n.length;k++){const $=bezierCurve.q(e,r[k]),V=n[k],L=norm({x:$.x-V.x,y:$.y-V.y});L>g&&(g=L,y=k)}return{maxDist:g,splitPoint:y}},normalize=n=>n.x===0&&n.y===0?{x:0,y:0}:{x:n.x/norm(n),y:n.y/norm(n)},norm=n=>Math.sqrt(n.x*n.x+n.y*n.y),dot$1=(n,e)=>n.x*e.x+n.y*e.y,mesh=(n,e)=>{const{unitsPerEm:r,descender:g}=selectedFile.value.fontSettings,y=.8*r,k=.6*r,$=16,V=n.width,L=n.height,z=n.getContext("2d");z.fillStyle="#dcdfe6",z.fillRect(0,0,V,L);const j=(V-mapCanvasWidth(y))/2,re=j+mapCanvasWidth(y),oe=L+mapCanvasHeight(g)-mapCanvasHeight(k),ae=[0,8,16],de=oe+mapCanvasHeight(k);for(let ue=0;ue<=$;ue++){const pe=j+mapCanvasWidth(y)/$*ue;z.strokeStyle=ae.indexOf(ue)!==-1?"#811616":"#cda2a2",z.beginPath(),z.moveTo(pe,oe),z.lineTo(pe,de),z.closePath(),z.stroke()}for(let ue=0;ue<=$;ue++){const pe=oe+mapCanvasHeight(k)/$*ue;z.strokeStyle=ae.indexOf(ue)!==-1?"#811616":"#cda2a2",z.beginPath(),z.moveTo(j,pe),z.lineTo(re,pe),z.closePath(),z.stroke()}},transparent=n=>{const e=n.width,r=n.height,g=n.getContext("2d"),y=mapCanvasWidth(grid.precision);for(let k=0;k<e;k+=2*y)for(let $=0;$<r;$+=2*y)g.fillStyle="#FFFFFF",g.fillRect(k,$,y,y),g.fillRect(k+y,$+y,y,y),g.fillStyle="#EFEFEF",g.fillRect(k+y,$,y,y),g.fillRect(k,$+y,y,y)};class PenComponent{points;hasPathBegan=!1;type="glyph-pen";usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(){}beginPath(){this.hasPathBegan=!0,this.points=[]}closePath(){this.hasPathBegan=!1}moveTo(e,r){this.hasPathBegan&&!this.points.length&&(this.points[0]={uuid:genUUID(),type:"anchor",x:e,y:r,origin:null})}bezierTo(e,r,g,y,k,$){if(this.hasPathBegan&&this.points.length){const V=this.points[this.points.length-1].uuid,L=genUUID();this.points.push({uuid:genUUID(),type:"control",x:e,y:r,origin:V}),this.points.push({uuid:genUUID(),type:"control",x:g,y,origin:L}),this.points.push({uuid:L,type:"anchor",x:k,y:$,origin:null})}}quadraticBezierTo(e,r,g,y){if(this.hasPathBegan&&this.points.length){const k=this.points[this.points.length-1].uuid,$=genUUID();this.points.push({uuid:genUUID(),type:"control",x:this.points[this.points.length-1].x+2/3*(e-this.points[this.points.length-1].x),y:this.points[this.points.length-1].y+2/3*(r-this.points[this.points.length-1].y),origin:k}),this.points.push({uuid:genUUID(),type:"control",x:g+2/3*(e-g),y:y+2/3*(r-y),origin:$}),this.points.push({uuid:$,type:"anchor",x:g,y,origin:null})}}lineTo(e,r){if(this.hasPathBegan&&this.points.length){const g=this.points[this.points.length-1].uuid,y=genUUID();this.points.push({uuid:genUUID(),type:"control",x:this.points[this.points.length-1].x,y:this.points[this.points.length-1].y,origin:g}),this.points.push({uuid:genUUID(),type:"control",x:e,y:r,origin:y}),this.points.push({uuid:y,type:"anchor",x:e,y:r,origin:null})}}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale;if(this.points.length>=4){const y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.moveTo(mapCanvasX(this.points[0].x)*g,mapCanvasY(this.points[0].y)*g);for(let k=1;k<this.points.length;k+=3)y.bezierCurveTo(mapCanvasX(this.points[k].x)*g,mapCanvasY(this.points[k].y)*g,mapCanvasX(this.points[k+1].x)*g,mapCanvasY(this.points[k+1].y)*g,mapCanvasX(this.points[k+2].x)*g,mapCanvasY(this.points[k+2].y)*g);y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=k=>({x:r.offset.x+k.x,y:r.offset.y+k.y}),y=r.scale;if(this.points.length>=4){const k=e.getContext("2d");k.strokeStyle="#000",k.beginPath();const $=computeCoords(r.grid,g(this.points[0]));k.moveTo(mapCanvasX($.x)*y,mapCanvasY($.y)*y);for(let V=1;V<this.points.length;V+=3){const L=computeCoords(r.grid,g(this.points[V])),z=computeCoords(r.grid,g(this.points[V+1])),j=computeCoords(r.grid,g(this.points[V+2]));k.bezierCurveTo(mapCanvasX(L.x)*y,mapCanvasY(L.y)*y,mapCanvasX(z.x)*y,mapCanvasY(z.y)*y,mapCanvasX(j.x)*y,mapCanvasY(j.y)*y)}k.stroke(),k.closePath(),k.setTransform(1,0,0,1,0,0)}}getData=()=>({points:clone$1(this.points),type:this.type,hasPathBegan:this.hasPathBegan,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.points=clone$1(e.points),this.type=e.type,this.hasPathBegan=e.hasPathBegan,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=this.points;y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe});let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genPenContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genPenContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=this.points,r=genPenContour(e);this.contour2=r}}class PolygonComponent{points;type="glyph-polygon";hasPathBegan=!1;usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(){}beginPath(){this.hasPathBegan=!0,this.points=[]}closePath(){this.hasPathBegan=!1}moveTo(e,r){this.hasPathBegan&&!this.points.length&&(this.points[0]={uuid:genUUID(),x:e,y:r})}lineTo(e,r){this.hasPathBegan&&this.points.length&&this.points.push({uuid:genUUID(),x:e,y:r})}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale;if(this.points.length>=4){const y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.moveTo(mapCanvasX(this.points[0].x)*g,mapCanvasY(this.points[0].y)*g);for(let k=1;k<this.points.length;k++)y.lineTo(mapCanvasX(this.points[k].x)*g,mapCanvasY(this.points[k].y)*g);y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=k=>({x:r.offset.x+k.x,y:r.offset.y+k.y}),y=r.scale;if(this.points.length>=4){const k=e.getContext("2d");k.strokeStyle="#000",k.beginPath();const $=computeCoords(r.grid,g(this.points[0]));k.moveTo(mapCanvasX($.x)*y,mapCanvasY($.y)*y);for(let V=1;V<this.points.length;V++){const{x:L,y:z}=computeCoords(r.grid,g(this.points[V]));k.lineTo(mapCanvasX(L)*y,mapCanvasY(z)*y)}k.stroke(),k.closePath(),k.setTransform(1,0,0,1,0,0)}}getData=()=>({points:clone$1(this.points),type:this.type,hasPathBegan:this.hasPathBegan,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.points=clone$1(e.points),this.type=e.type,this.hasPathBegan=e.hasPathBegan,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=this.points;y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe});let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genPolygonContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genPolygonContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=this.points,r=genPolygonContour(e);this.contour2=r}}class RectangleComponent{x;y;width;height;type="glyph-rectangle";usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(e,r,g,y){this.x=e,this.y=r,this.width=g,this.height=y}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale,y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.rect(mapCanvasX(this.x)*g,mapCanvasY(this.y)*g,mapCanvasX(this.width)*g,mapCanvasY(this.height)*g),y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=L=>({x:r.offset.x+L.x,y:r.offset.y+L.y}),y=getRectanglePoints(this.width,this.height,this.x,this.y),k=r.scale,$=e.getContext("2d");$.strokeStyle="#000",$.beginPath();const V=computeCoords(r.grid,g({x:y[0].x,y:y[0].y}));$.moveTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k);for(let L=1;L<y.length;L++){const{x:z,y:j}=computeCoords(r.grid,g({x:y[L].x,y:y[L].y}));$.lineTo(mapCanvasX(z)*k,mapCanvasY(j)*k)}$.lineTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k),$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}getData=()=>({x:this.x,y:this.y,width:this.width,height:this.height,type:this.type,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.type=e.type,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=getRectanglePoints(this.width,this.height,this.x,this.y);y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe}),g&&(y=y.map(re=>computeCoords(g,re)));let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genRectangleContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genRectangleContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=getRectanglePoints(this.width,this.height,this.x,this.y),r=genRectangleContour(e);this.contour2=r}}class Joint{_x;_y;rootComponent;componentsTree;component;uuid;name;constructor(e,r){this._x=r.x,this._y=r.y,this.name=e,this.uuid=genUUID()}render(e){const g=e.getContext("2d"),{ox:y,oy:k}=this.getOrigin();(y||k)&&g.translate(mapCanvasX(y),mapCanvasY(k)),g.beginPath(),g.fillStyle="blue",g.fillRect(mapCanvasX(this.x)-4,mapCanvasY(this.y)-4,4*2,4*2),g.closePath(),g.setTransform(1,0,0,1,0,0)}putAt(e,r){this.getOrigin();const g=this.getCoords();if(!this.component)return!1;const y=e-g.x,k=r-g.y;this.component.ox=y,this.component.oy=k}putAtJoint(e,r={deltaX:0,deltaY:0}){if(!this.component)return!1;const g=e.getCoords(),y=this.getCoords(),k=g.x+r.deltaX,$=g.y+r.deltaY,V=k-y.x,L=$-y.y;this.component.ox=V,this.component.oy=L}getOrigin=()=>{if(this.rootComponent){let e={ox:this.rootComponent.ox,oy:this.rootComponent.oy},r=this.rootComponent;for(let g=1;g<this.componentsTree.length;g++){const y=this.componentsTree[g];for(let k=0;k<r.value.components.length;k++){const $=r.value.components[k];if($.uuid===y){e.ox+=$.ox,e.oy+=$.oy,r=$;break}}}return e}return{ox:this.component?this.component.ox:0,oy:this.component?this.component.oy:0}};getCoords(){const{ox:e,oy:r}=this.getOrigin();return{x:this.x+e,y:this.y+r}}getPlainCoords(){return{x:this.x,y:this.y}}get x(){return this._x}get y(){return this._y}getData=()=>({_x:this._x,_y:this._y,uuid:this.uuid,name:this.name});setData=e=>{this._x=e._x,this._y=e._y,this.uuid=e.uuid,this.name=e.name}}const linkComponentsForJoints=n=>{let e=n,r=[e.uuid];const g=(y,k)=>{y.value._o.getJoints().map($=>{const V=Object.assign([],k);V.push(y.uuid),$.component=y,$.rootComponent=e,$.componentsTree=V}),y.type==="glyph"&&y.value.components&&y.value.components.length&&y.value.components.map($=>{const V=Object.assign([],k);V.push($.uuid),executeScript($.value),g($,V)})};g(n,r)};class CustomGlyph{_glyph;_joints=[];_reflines=[];_components=[];constructor(e){this._glyph=e,e._o=this}getJoints(){return this._glyph.joints?this._glyph.joints.concat(this._joints):[].concat(this._joints)}getRefLines(){return this._glyph.reflines?this._glyph.reflines.concat(this._reflines):[].concat(this._reflines)}addJoint(e){this._joints.push(e)}addComponent(e){this._components.push(e)}render(e,r=!0,g={x:0,y:0},y=!1,k=1){const $=e.getContext("2d");renderCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!1}),this._components.forEach(V=>{V.render(e,{offset:g,scale:k})}),(fontRenderStyle.value==="color"||y)&&($.fillStyle="#000",$.fill())}render_forceUpdate(e,r=!0,g={x:0,y:0},y=!1,k=1){const $=e.getContext("2d");renderCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!0}),this._components.forEach(V=>{V.render(e,{offset:g,scale:k})}),(fontRenderStyle.value==="color"||y)&&($.fillStyle="#000",$.fill())}render_grid(e,r=!0,g={x:0,y:0},y=!1,k=1,$){const V=e.getContext("2d");renderGridCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!1,grid:$}),this._components.forEach(L=>{L.render_grid(e,{offset:g,scale:k,grid:$})}),(fontRenderStyle.value==="color"||y)&&(V.fillStyle="#000",V.fill())}render_grid_forceUpdate(e,r=!0,g={x:0,y:0},y=!1,k=1,$){const V=e.getContext("2d");renderCanvas(orderedListWithItemsForGlyph(this._glyph),e,{offset:g,scale:k,fill:!1,forceUpdate:!0,grid:$}),this._components.forEach(L=>{L.render(e,{offset:g,scale:k,grid:$})}),(fontRenderStyle.value==="color"||y)&&(V.fillStyle="#000",V.fill())}renderJoints(e,r={type:"all"}){r.type==="all"?this.getJoints().forEach(g=>{g.render(e)}):r.type==="selected"&&r.joints.length&&this.getJoints().forEach(g=>{r.joints.indexOf(g.name)!==-1&&g.render(e)})}renderRefLines(e,r={type:"all"}){r.type==="all"?this.getRefLines().forEach(g=>{const y=e.getContext("2d"),k=this.getJoint(g.start).getCoords(),$=this.getJoint(g.end).getCoords();y.strokeStyle="blue",y.beginPath(),y.moveTo(mapCanvasX(k.x),mapCanvasY(k.y)),y.lineTo(mapCanvasX($.x),mapCanvasY($.y)),y.stroke()}):r.type==="selected"&&r.reflines.length&&this.getRefLines().forEach(g=>{if(r.reflines.indexOf(g.name)!==-1){const y=e.getContext("2d"),k=this.getJoint(g.start).getCoords(),$=this.getJoint(g.end).getCoords();y.strokeStyle="blue",y.beginPath(),y.moveTo(mapCanvasX(k.x),mapCanvasY(k.y)),y.lineTo(mapCanvasX($.x),mapCanvasY($.y)),y.stroke()}})}addRefLine(e){this._reflines.push(e)}getParam(e){return this._glyph.parameters.get(e)}setParam(e,r){this._glyph.parameters.set(e,r)}getJoint(e){const r=this.getJoints().filter(g=>g.name===e);return r.length?r[0]:null}get components(){return orderedListWithItemsForGlyph(this._glyph).concat(this._components)}getRatioLayout(e){return getRatioLayout2(this._glyph,e)}getComponent(e){for(let r=0;r<this._glyph.components.length;r++)if(this._glyph.components[r].name===e)return this._glyph.components[r];return null}getGlyph(e){for(let r=0;r<this._glyph.components.length;r++)if(this._glyph.components[r].name===e)return this._glyph.components[r].value._o;return null}getData=()=>({_joints:this._joints.map(e=>e?.getData()),_reflines:this._reflines,_components:this._components.map(e=>e.getData())});setData=e=>{this._joints=e._joints.map(r=>{const g=new Joint(r.name,{x:r._x,y:r._y});return g.setData(r),g}),this._reflines=e._reflines,this._components=e._components.map(r=>{let g=null;switch(r.type){case"glyph-pen":{g=new PenComponent;break}case"glyph-ellipse":{g=new EllipseComponent(r.centerX,r.centerY,r.radiusX,r.radiusY);break}case"glyph-polygon":{g=new PolygonComponent;break}case"glyph-rectangle":{g=new RectangleComponent(r.x,r.y,r.width,r.height);break}}return g.setData(r),g})}}const getRatioCoords=(n,e,r,g,y)=>{const{x1:k,x2:$,y1:V,y2:L,l:z}=y,{x:j,y:re,w:oe,h:ae}=n.rect,de=g*z/ae,ue=re/z*de+r;let pe=0;ue<=de/3?pe=Math.round(ue/(de/3)*V):ue<=de/3*2?pe=V+Math.round((ue-de/3)/(de/3)*(L-V)):pe=L+Math.round((ue-de/3*2)/(de/3)*(z-L));const he=g*z/oe,Oe=j/z*he+e;let xe=0;return Oe<=he/3?xe=Math.round(Oe/(he/3)*k):Oe<=he/3*2?xe=k+Math.round((Oe-he/3)/(he/3)*($-k)):xe=$+Math.round((Oe-he/3*2)/(he/3)*(z-$)),{x:xe,y:pe}},renderLayout=(layoutTree,rect,level,params,canvas)=>{const ctx=canvas.getContext("2d");ctx.strokeStyle="red",ctx.fillStyle="rgba(255, 0, 0, 0.2)";const{x1,x2,y1,y2,l}=params,mapCanvas=n=>n/l*canvas.width,d=5*level;let dir="H";layoutTree[0].label===""&&(dir="V");for(let i=0;i<layoutTree.length;i++){const node=layoutTree[i];let{x:_x,y:_y,w:_w,h:_h}=rect;if(dir==="H"?(_y=rect.y,_x=eval(node.coords[0]),_w=eval(node.coords[1])-_x,_h=rect.h):dir==="V"&&(_x=rect.x,_y=eval(node.coords[0]),_w=rect.w,_h=eval(node.coords[1])-_y),ctx.fillRect(mapCanvas(_x)+d,mapCanvas(_y)+d,mapCanvas(_w)-2*d,mapCanvas(_h)-2*d),ctx.strokeRect(mapCanvas(_x)+d,mapCanvas(_y)+d,mapCanvas(_w)-2*d,mapCanvas(_h)-2*d),node.children&&node.children.length)renderLayout(node.children,{x:_x,y:_y,w:_w,h:_h},level+1,params,canvas);else if(node.showCoords==="ratio"){ctx.fillStyle="red";const n=5;for(let e=0;e<node.coordsSegment;e++)for(let r=0;r<node.coordsSegment;r++){const g=getRatioCoords(node,e,r,node.coordsSegment,params);ctx.fillRect(mapCanvas(g.x)-n,mapCanvas(g.y)-n,2*n,2*n)}ctx.fillStyle="rgba(255, 0, 0, 0.2)"}}},layoutGrid=n=>{const{dx:e,dy:r,centerSquareSize:g,size:y}=editCharacterFile.value.info.gridSettings,k=editCharacterFile.value.info.layoutTree,$=Math.round((y-g)/2)+e,V=Math.round((y-g)/2+g)+e,L=Math.round((y-g)/2)+r,z=Math.round((y-g)/2+g)+r,j=[mapCanvasWidth(y/2)+mapCanvasWidth(e),mapCanvasHeight(y/2)+mapCanvasHeight(r)],re=n.getContext("2d");re.strokeStyle="#811616",re.lineWidth=2,re.beginPath(),re.moveTo(0,mapCanvasHeight(L)),re.lineTo(mapCanvasWidth(y),mapCanvasHeight(L)),re.stroke(),re.closePath(),re.beginPath(),re.moveTo(0,mapCanvasHeight(z)),re.lineTo(mapCanvasWidth(y),mapCanvasHeight(z)),re.stroke(),re.closePath(),re.beginPath(),re.moveTo(mapCanvasWidth($),0),re.lineTo(mapCanvasWidth($),mapCanvasHeight(y)),re.stroke(),re.closePath(),re.beginPath(),re.moveTo(mapCanvasWidth(V),0),re.lineTo(mapCanvasWidth(V),mapCanvasHeight(y)),re.stroke(),re.closePath(),re.beginPath(),re.strokeStyle="#153063",re.rect(mapCanvasWidth(y/2-g/4),mapCanvasHeight(y/2-g/4),mapCanvasWidth(g/2),mapCanvasHeight(g/2)),re.stroke(),re.closePath(),re.fillStyle="#153063",re.lineWidth=0,re.beginPath(),re.arc(j[0],j[1],20,0,2*Math.PI),re.closePath(),re.fill(),k.length&&renderLayout(k,{x:0,y:0,w:y,h:y},1,{x1:$,x2:V,y1:L,y2:z,l:y},n)},clearCanvas=n=>{const e=n.getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height)},fillBackground=(n,e,r)=>{const g=n.width,y=n.height,k=n.getContext("2d");e.type===BackgroundType.Color&&(k.fillStyle=e.color,k.fillRect(0,0,g,y)),e.type===BackgroundType.Transparent&&transparent(n),r.type===GridType.Mesh?mesh(n,r.precision):r.type===GridType.LayoutGrid&&layoutGrid(n)},renderCanvas=(n,e,r={fill:!1,offset:{x:0,y:0},scale:1,forceUpdate:!1})=>{const g=r.scale,y=e.getContext("2d");y.beginPath(),n.map((k,$)=>{if(k.visible){if(k.type==="pen"){const{x:V,y:L,w:z,h:j,rotation:re,flipX:oe,flipY:ae}=k,de=mapCanvasX(V)*g,ue=mapCanvasY(L)*g,pe=mapCanvasWidth(z)*g,he=mapCanvasHeight(j)*g,{strokeColor:Oe,fillColor:xe,points:$e,closePath:Ne}=k.value;y.strokeStyle=Oe||"#000",y.fillStyle=xe||"rgba(0, 0, 0, 0)",xe==="none"&&(y.fillStyle="rgba(0, 0, 0, 0)");let Ce=transformPoints($e,{x:V,y:L,w:z,h:j,rotation:0,flipX:oe,flipY:ae});Ce=Ce.map(Fe=>mapCanvasCoords({x:Fe.x*g,y:Fe.y*g})),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(de+pe/2,ue+he/2),y.rotate(re*Math.PI/180),y.translate(-(de+pe/2),-(ue+he/2)),y.moveTo(Ce[0].x,Ce[0].y),Ce.length>=4&&y.bezierCurveTo(Ce[1].x,Ce[1].y,Ce[2].x,Ce[2].y,Ce[3].x,Ce[3].y);for(let Fe=3;Fe<Ce.length-1&&!(Fe+3>=Ce.length);Fe+=3)y.bezierCurveTo(Ce[Fe+1].x,Ce[Fe+1].y,Ce[Fe+2].x,Ce[Fe+2].y,Ce[Fe+3].x,Ce[Fe+3].y);y.setTransform(1,0,0,1,0,0)}if(k.type==="polygon"){const{x:V,y:L,w:z,h:j,rotation:re,flipX:oe,flipY:ae}=k,de=mapCanvasX(V)*g,ue=mapCanvasY(L)*g,pe=mapCanvasWidth(z)*g,he=mapCanvasHeight(j)*g,{strokeColor:Oe,fillColor:xe,points:$e,closePath:Ne}=k.value;y.strokeStyle=Oe||"#000",y.fillStyle=xe||"rgba(0, 0, 0, 0)";let Ce=transformPoints($e,{x:V,y:L,w:z,h:j,rotation:0,flipX:oe,flipY:ae});Ce=Ce.map(Fe=>mapCanvasCoords({x:Fe.x*g,y:Fe.y*g})),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(de+pe/2,ue+he/2),y.rotate(re*Math.PI/180),y.translate(-(de+pe/2),-(ue+he/2)),y.moveTo(Ce[0].x,Ce[0].y);for(let Fe=1;Fe<Ce.length;Fe++)y.lineTo(Ce[Fe].x,Ce[Fe].y);y.setTransform(1,0,0,1,0,0)}if(k.type==="ellipse"){const{x:V,y:L,w:z,h:j,rotation:re}=k,oe=mapCanvasX(V)*g,ae=mapCanvasY(L)*g,de=mapCanvasWidth(z)*g,ue=mapCanvasHeight(j)*g,{strokeColor:pe,fillColor:he,closePath:Oe}=k.value,xe=de/2,$e=ue/2,Ne=oe,Ce=ae;y.strokeStyle=pe||"#000",y.fillStyle=he||"rgba(0, 0, 0, 0)",y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2)),y.moveTo(Ne+2*xe,Ce+$e),y.ellipse(Ne+xe,Ce+$e,xe,$e,0,0,2*Math.PI),y.setTransform(1,0,0,1,0,0)}if(k.type==="rectangle"){const{x:V,y:L,w:z,h:j,rotation:re}=k,oe=mapCanvasX(V)*g,ae=mapCanvasY(L)*g,de=mapCanvasWidth(z)*g,ue=mapCanvasHeight(j)*g,{strokeColor:pe,fillColor:he,closePath:Oe}=k.value,xe=de,$e=ue,Ne=oe,Ce=ae;y.strokeStyle=pe||"#000",y.fillStyle=he||"rgba(0, 0, 0, 0)",y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2)),y.rect(Ne,Ce,xe,$e),y.setTransform(1,0,0,1,0,0)}if(k.type==="picture"){const{x:V,y:L,w:z,h:j,rotation:re}=k,oe=mapCanvasX(V)*g,ae=mapCanvasY(L)*g,de=mapCanvasWidth(z)*g,ue=mapCanvasHeight(j)*g,{img:pe,pixelMode:he,pixels:Oe}=k.value;if(!he)k.opacity&&(y.globalAlpha=k.opacity),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2)),y.drawImage(pe,oe,ae,de,ue),y.setTransform(1,0,0,1,0,0),k.opacity&&(y.globalAlpha=1);else{k.opacity&&(y.globalAlpha=k.opacity),y.translate(mapCanvasX(r.offset.x),mapCanvasY(r.offset.y)),y.translate(oe+de/2,ae+ue/2),y.rotate(re*Math.PI/180),y.translate(-(oe+de/2),-(ae+ue/2));for(let xe=0;xe<de;xe++)for(let $e=0;$e<ue;$e++){const Ne=pe.width,Ce=pe.height,Fe=Math.floor(xe*Ne/de),kt=(Math.floor($e*Ce/ue)*Ne+Fe)*4;y.fillStyle=`rgba(${Oe[kt]}, ${Oe[kt+1]}, ${Oe[kt+2]}, ${Oe[kt+3]})`,y.fillRect(xe,$e,1,1)}k.opacity&&(y.globalAlpha=1),y.setTransform(1,0,0,1,0,0)}}if(k.type==="glyph"){(!k.value._o||!k.value._o.components||!k.value._o.components.length||r.forceUpdate)&&executeScript(k.value);const V=k.value._o?k.value._o:new CustomGlyph(k.value);r.forceUpdate?V.render_forceUpdate(e,!0,{x:r.offset.x+k.ox,y:r.offset.y+k.oy},!1,g):V.render(e,!0,{x:r.offset.x+k.ox,y:r.offset.y+k.oy},!1,g)}}}),y.closePath(),(fontRenderStyle.value==="color"||r.fill)&&(y.fillStyle="#000",y.fill("nonzero")),y.stroke()},computeCoords=(n,e)=>{let{dx:r,dy:g,size:y,centerSquareSize:k,x1:$,x2:V,y1:L,y2:z}=n;(!$||!V||!L||!z)&&($=Math.round((y-k)/2)+r,V=Math.round((y-k)/2+k)+r,L=Math.round((y-k)/2)+g,z=Math.round((y-k)/2+k)+g);const{x:j,y:re}=e;let oe=j,ae=re;return j<y/3?oe=j*$/(y/3):j>=y/3&&j<y*2/3?oe=$+(j-y/3)*(V-$)/(y/3):oe=V+(j-y*2/3)*(y-V)/(y/3),re<y/3?ae=re*L/(y/3):re>=y/3&&re<y*2/3?ae=L+(re-y/3)*(z-L)/(y/3):ae=z+(re-y*2/3)*(y-z)/(y/3),{x:oe,y:ae}},renderGridCanvas=(n,e,r={fill:!1,offset:{x:0,y:0},scale:1,forceUpdate:!1,grid:null})=>{if(!r.grid)return;const g=V=>({x:r.offset.x+V.x,y:r.offset.y+V.y}),y=r.grid,k=r.scale,$=e.getContext("2d");$.beginPath(),n.map((V,L)=>{if(V.visible){if(V.type==="pen"){const{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue}=V,{strokeColor:pe,fillColor:he,points:Oe,closePath:xe}=V.value;$.strokeStyle=pe||"#000",$.fillStyle=he||"rgba(0, 0, 0, 0)",he==="none"&&($.fillStyle="rgba(0, 0, 0, 0)");let $e=transformPoints(Oe,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue});$e=$e.map(Ne=>{const{x:Ce,y:Fe}=computeCoords(y,g(Ne));return mapCanvasCoords({x:Ce*k,y:Fe*k})}),$.moveTo($e[0].x,$e[0].y);for(let Ne=1;Ne<$e.length-2;Ne+=3)$.bezierCurveTo($e[Ne].x,$e[Ne].y,$e[Ne+1].x,$e[Ne+1].y,$e[Ne+2].x,$e[Ne+2].y);$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}if(V.type==="polygon"){const{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue}=V,{strokeColor:pe,fillColor:he,points:Oe,closePath:xe}=V.value;$.strokeStyle=pe||"#000",$.fillStyle=he||"rgba(0, 0, 0, 0)";let $e=transformPoints(Oe,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:de,flipY:ue});$e=$e.map(Ne=>{const{x:Ce,y:Fe}=computeCoords(y,g(Ne));return mapCanvasCoords({x:Ce*k,y:Fe*k})}),$.beginPath(),$.moveTo($e[0].x,$e[0].y);for(let Ne=1;Ne<$e.length;Ne++)$.lineTo($e[Ne].x,$e[Ne].y);$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}if(V.type==="ellipse"){const{x:z,y:j,w:re,h:oe,rotation:ae}=V,de=re/2,ue=oe/2,pe=z,he=j;let Oe=getEllipsePoints(de,ue,1e3,pe+de,he+ue),xe=transformPoints(Oe,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:!1,flipY:!1});xe=xe.map($e=>{const{x:Ne,y:Ce}=computeCoords(y,g($e));return mapCanvasCoords({x:Ne*k,y:Ce*k})}),V.value,$.beginPath(),$.moveTo(xe[0].x,xe[0].y);for(let $e=1;$e<xe.length;$e++)$.lineTo(xe[$e].x,xe[$e].y);$.lineTo(xe[0].x,xe[0].y),$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}if(V.type==="rectangle"){const{x:z,y:j,w:re,h:oe,rotation:ae}=V,de=getRectanglePoints(re,oe,z,j);let ue=transformPoints(de,{x:z,y:j,w:re,h:oe,rotation:ae,flipX:!1,flipY:!1});ue=ue.map($e=>{const{x:Ne,y:Ce}=computeCoords(y,g($e));return mapCanvasCoords({x:Ne*pe,y:Ce*pe})});const pe=r.scale,{strokeColor:he,fillColor:Oe,closePath:xe}=V.value;$.strokeStyle=he||"#000",$.fillStyle=Oe||"rgba(0, 0, 0, 0)",$.translate(mapCanvasX(r.offset.x)*pe,mapCanvasY(r.offset.y)*pe),$.beginPath(),$.moveTo(ue[0].x,ue[0].y);for(let $e=1;$e<ue.length;$e++)$.lineTo(ue[$e].x,ue[$e].y);$.lineTo(ue[0].x,ue[0].y),$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}if(V.type==="glyph"){(!V.value._o||!V.value._o.components||!V.value._o.components.length||r.forceUpdate)&&executeScript(V.value);const z=V.value._o?V.value._o:new CustomGlyph(V.value);r.forceUpdate?z.render_grid_forceUpdate(e,!0,{x:r.offset.x+V.ox,y:r.offset.y+V.oy},!1,k,y):z.render_grid(e,!0,{x:r.offset.x+V.ox,y:r.offset.y+V.oy},!1,k,y)}}}),$.closePath(),(fontRenderStyle.value==="color"||r.fill)&&($.fillStyle="#000",$.fill("nonzero")),$.stroke()},render$1=(n,e=!0,r=!1)=>{if(clearCanvas(n),e)fillBackground(n,background$1,grid);else if(background$1.color){const g=n.getContext("2d");g.fillStyle=background$1.color,g.fillRect(0,0,n.width,n.height)}if(editStatus.value===Status.Edit)renderCanvas(orderedListWithItemsForCurrentCharacterFile.value,n,{forceUpdate:r,fill:!1,offset:{x:0,y:0},scale:1});else if(editStatus.value===Status.Glyph){const g=editGlyph.value._o?editGlyph.value._o:new CustomGlyph(editGlyph.value);renderGlyph(g,n,e,!1,!1)}},renderGlyph=(n,e,r=!0,g=!0,y=!0,k=!1)=>{if(clearCanvas(e),r)fillBackground(e,background$1,grid);else if(background$1.color){const $=e.getContext("2d");$.fillStyle=background$1.color,$.fillRect(0,0,e.width,e.height)}n.render_forceUpdate(e),g&&n.renderJoints(e),y&&n.renderJoints(e)},renderPreview2=(n,e)=>{const r=n.getContext("2d");if(r){r.fillStyle="white",r.fillRect(0,0,n.width,n.height),r.beginPath();for(let g=0;g<e.length;g++){const y=e[g];if(!(!y||!y.length)){r.moveTo(y[0].start.x,y[0].start.y);for(let k=0;k<y.length;k++){const $=y[k];$.type===PathType.LINE?r.lineTo($.end.x,$.end.y):$.type===PathType.CUBIC_BEZIER&&r.bezierCurveTo($.control1.x,$.control1.y,$.control2.x,$.control2.y,$.end.x,$.end.y)}}}r.closePath(),r.fillStyle="#000",r.fill("nonzero")}},formatPoints=(n,e,r)=>{const{unitsPerEm:g,descender:y,advanceWidth:k}=e;return r===0?n.map(V=>{let L=V.x+(g-k)/2,z=g-V.y;return z=z+y,L*=1,z*=1,{...V,x:L,y:z}}):r===1?n.map(V=>{let L=V.x*1,z=V.y*1;return L-=(g-k)/2,z=z-y,z=g-z,{...V,x:L,y:z}}):n},translate$1=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),componentsToContours=(n,e,r={x:0,y:0},g=!1,y=!0,k=!1)=>{let $=[];return n.map(V=>{if(!V.usedInCharacter)return;let{x:L,y:z,w:j,h:re,rotation:oe,flipX:ae,flipY:de}=V;switch(V.type){case"pen":{if(!V.value.contour||k){let ue=transformPoints(V.value.points,{x:L,y:z,w:j,h:re,rotation:oe,flipX:ae,flipY:de});ue=ue.map(Ne=>{const Ce=translate$1(Ne,r);return e.grid?computeCoords(e.grid,Ce):Ce});const pe=formatPoints(ue,e,1),he=genPenContour(pe),Oe=100/e.unitsPerEm,xe=ue.map(Ne=>Object.assign({},Ne,{x:Ne.x*Oe,y:Ne.y*Oe})),$e=genPenContour(xe);V.value.preview=$e,V.value.contour=he}y?$.push(V.value.preview):$.push(V.value.contour);break}case"polygon":{if(!V.value.contour||k){let ue=transformPoints(V.value.points,{x:L,y:z,w:j,h:re,rotation:oe,flipX:ae,flipY:de});ue=ue.map(Ne=>{const Ce=translate$1(Ne,r);return e.grid?computeCoords(e.grid,Ce):Ce});const pe=formatPoints(ue,e,1),he=genPolygonContour(pe);$.push(he);const Oe=100/e.unitsPerEm,xe=ue.map(Ne=>Object.assign({},Ne,{x:Ne.x*Oe,y:Ne.y*Oe})),$e=genPolygonContour(xe);V.value.preview=$e,V.value.contour=he}y?$.push(V.value.preview):$.push(V.value.contour);break}case"rectangle":{if(!V.value.contour||k){const ue=V.value;let pe=transformPoints(getRectanglePoints(ue.width,ue.height,V.x,V.y),{x:L,y:z,w:j,h:re,rotation:oe,flipX:ae,flipY:de});pe=pe.map(Ce=>{const Fe=translate$1(Ce,r);return e.grid?computeCoords(e.grid,Fe):Fe});const he=formatPoints(pe,e,1),Oe=genRectangleContour(he);$.push(Oe);const xe=100/e.unitsPerEm,$e=pe.map(Ce=>Object.assign({},Ce,{x:Ce.x*xe,y:Ce.y*xe})),Ne=genRectangleContour($e);V.value.preview=Ne,V.value.contour=Oe}y?$.push(V.value.preview):$.push(V.value.contour);break}case"ellipse":{if(!V.value.contour||k){const ue=V.value;let pe=getEllipsePoints(ue.radiusX,ue.radiusY,1e3,V.x+ue.radiusX,V.y+ue.radiusY),he=transformPoints(pe,{x:L,y:z,w:j,h:re,rotation:oe,flipX:ae,flipY:de});he=he.map(Fe=>{const ze=translate$1(Fe,r);return e.grid?computeCoords(e.grid,ze):ze});const Oe=formatPoints(he,e,1),xe=genEllipseContour(Oe);$.push(xe);const $e=100/e.unitsPerEm,Ne=he.map(Fe=>Object.assign({},Fe,{x:Fe.x*$e,y:Fe.y*$e})),Ce=genEllipseContour(Ne);V.value.preview=Ce,V.value.contour=xe}y?$.push(V.value.preview):$.push(V.value.contour);break}case"glyph-pen":{(!V.contour||!V.contour.length||k)&&V.updateData(g,r,e.grid),y?$.push(V.preview):$.push(V.contour);break}case"glyph-polygon":{(!V.contour||!V.contour.length||k)&&V.updateData(g,r,e.grid),y?$.push(V.preview):$.push(V.contour);break}case"glyph-rectangle":{(!V.contour||!V.contour.length||k)&&V.updateData(g,r,e.grid),y?$.push(V.preview):$.push(V.contour);break}case"glyph-ellipse":{(!V.contour||!V.contour.length||k)&&V.updateData(g,r,e.grid),y?$.push(V.preview):$.push(V.contour);break}case"glyph":{const{ox:ue,oy:pe}=V,he=V.value;(!he._o||k)&&(executeScript(he),he._o.getJoints().map(xe=>{xe.component=V}));const Oe=componentsToContours(he._o.components,e,{x:r.x+ue,y:r.y+pe},g,y,!0);$=$.concat(Oe);break}default:{const ue=[];$.push(ue);break}}}),$},componentsToContours2=(n,e={x:0,y:0},r=!1)=>{let g=[];if(n.map(y=>{if(!y.usedInCharacter)return;let{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re}=y;switch(y.type){case"pen":{let oe=transformPoints(y.value.points,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const ae=genPenContour(oe);g.push(ae);break}case"polygon":{let oe=transformPoints(y.value.points,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const ae=genPolygonContour(oe);g.push(ae);break}case"rectangle":{const oe=y.value;let ae=transformPoints(getRectanglePoints(oe.width,oe.height,y.x,y.y),{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const de=genRectangleContour(ae);g.push(de);break}case"ellipse":{const oe=y.value;let ae=getEllipsePoints(oe.radiusX,oe.radiusY,1e3,y.x+oe.radiusX,y.y+oe.radiusY);const de=transformPoints(ae,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re}),ue=genEllipseContour(de);g.push(ue);break}case"glyph-pen":{y.updateData2(),g.push(y.contour2);break}case"glyph-polygon":{y.updateData2(),g.push(y.contour2);break}case"glyph-rectangle":{y.updateData2(),g.push(y.contour);break}case"glyph-ellipse":{y.updateData2(),g.push(y.contour);break}case"glyph":{const{ox:oe,oy:ae}=y,de=y.value;de._o||(executeScript(de),de._o.getJoints().map(pe=>{pe.component=y}));const ue=componentsToContours2(de._o.components,{x:oe,y:ae},r);g=g.concat(ue);break}default:{const oe=[];g.push(oe);break}}}),e.x||e.y){g=clone$1(g);for(let k=0;k<g.length;k++){const $=g[k];for(let V=0;V<$.length;V++){const L=$[V];L.type===PathType.LINE?(L.start.x+=e.x*1,L.start.y-=e.y*1,L.end.x+=e.x*1,L.end.y-=e.y*1):L.type===PathType.QUADRATIC_BEZIER?(L.start.x+=e.x*1,L.start.y-=e.y*1,L.end.x+=e.x*1,L.end.y-=e.y*1,L.control.x+=e.x*1,L.control.y-=e.y*1):L.type===PathType.CUBIC_BEZIER&&(L.start.x+=e.x*1,L.start.y-=e.y*1,L.end.x+=e.x*1,L.end.y-=e.y*1,L.control1.x+=e.x*1,L.control1.y-=e.y*1,L.control2.x+=e.x*1,L.control2.y-=e.y*1)}}}return g},genEllipseContour=n=>{const e=[];let r=fitCurve(n,2);if(r.length)for(let g=0;g<r.length;g++){const y=r[g];e.push({type:PathType.CUBIC_BEZIER,start:{x:y[0].x,y:y[0].y},end:{x:y[3].x,y:y[3].y},control1:{x:y[1].x,y:y[1].y},control2:{x:y[2].x,y:y[2].y}})}return e},genRectangleContour=n=>{const e=[];for(let r=0;r<n.length-1;r++)e.push({type:PathType.LINE,start:{x:n[r].x,y:n[r].y},end:{x:n[r+1].x,y:n[r+1].y}});return e},genPenContour=(n,e=!1)=>{const r=[];for(let g=0;g<n.length-1&&!(g+3>=n.length);g+=3)r.push({type:PathType.CUBIC_BEZIER,start:{x:n[g].x,y:n[g].y},end:{x:n[g+3].x,y:n[g+3].y},control1:{x:n[g+1].x,y:n[g+1].y},control2:{x:n[g+2].x,y:n[g+2].y},fill:e});return r},genPolygonContour=n=>{const e=[];for(let r=0;r<n.length-1;r++)e.push({type:PathType.LINE,start:{x:n[r].x,y:n[r].y},end:{x:n[r+1].x,y:n[r+1].y}});return e};class EllipseComponent{centerX;centerY;radiusX;radiusY;type="glyph-ellipse";usedInCharacter=!0;contour=[];contour2=[];preview=[];constructor(e,r,g,y){this.centerX=e,this.centerY=r,this.radiusX=g,this.radiusY=y}render(e,r={offset:{x:0,y:0},scale:1}){const g=r.scale,y=e.getContext("2d");y.strokeStyle="#000",y.translate(mapCanvasX(r.offset.x)*g,mapCanvasY(r.offset.y)*g),y.beginPath(),y.ellipse(mapCanvasX(this.centerX)*g,mapCanvasY(this.centerY)*g,mapCanvasX(this.radiusX)*g,mapCanvasY(this.radiusY)*g,0,0,Math.PI*2),y.stroke(),y.closePath(),y.setTransform(1,0,0,1,0,0)}render_grid(e,r={offset:{x:0,y:0},scale:1,grid:null}){const g=L=>({x:r.offset.x+L.x,y:r.offset.y+L.y});let y=getEllipsePoints(this.radiusX,this.radiusY,1e3,this.centerX+this.radiusX,this.centerY+this.radiusY);const k=r.scale,$=e.getContext("2d");$.strokeStyle="#000",$.beginPath();const V=computeCoords(r.grid,g({x:y[0].x,y:y[0].y}));$.moveTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k);for(let L=1;L<y.length;L++){const{x:z,y:j}=computeCoords(r.grid,g({x:y[L].x,y:y[L].y}));$.lineTo(mapCanvasX(z)*k,mapCanvasY(j)*k)}$.lineTo(mapCanvasX(V.x)*k,mapCanvasY(V.y)*k),$.stroke(),$.closePath(),$.setTransform(1,0,0,1,0,0)}getData=()=>({centerX:this.centerX,centerY:this.centerY,radiusX:this.radiusX,radiusY:this.radiusY,usedInCharacter:this.usedInCharacter,contour:clone$1(this.contour),preview:clone$1(this.preview)});setData=e=>{this.centerX=e.centerX,this.centerY=e.centerY,this.radiusX=e.radiusX,this.radiusY=e.radiusY,this.type=e.type,this.usedInCharacter=e.usedInCharacter,this.contour=clone$1(e.contour),this.preview=clone$1(e.preview)};updateData=(e=!0,r,g)=>{let y=getEllipsePoints(this.radiusX,this.radiusY,1e3,this.centerX,this.centerY);y=y.map(re=>{const oe=translate$1(re,r);return g?computeCoords(g,oe):oe}),g&&(y=y.map(re=>computeCoords(g,re)));let k={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};e||(k.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,k.descender=selectedFile.value.fontSettings.descender,k.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);const $=formatPoints(y,k,1),V=genEllipseContour($),L=100/k.unitsPerEm,z=y.map(re=>Object.assign({},re,{x:re.x*L,y:re.y*L})),j=genEllipseContour(z);this.contour=V,this.preview=j};updateData2=()=>{const e=getEllipsePoints(this.radiusX,this.radiusY,1e3,this.centerX,this.centerY),r=genEllipseContour(e);this.contour2=r}}class Skeleton{skeleton=[];weight;pointer;constructor(e){this.skeleton=[],this.weight=e}moveTo(e,r){this.pointer={x:e,y:r}}lineTo(e,r){if(!this.pointer)return!1;this.skeleton.push({type:"line",start:{x:this.pointer.x,y:this.pointer.y},end:{x:e,y:r}}),this.pointer={x:e,y:r}}quadraticBezierTo(e,r,g,y){if(!this.pointer)return!1;this.skeleton.push({type:"quadratic-bezier",start:{x:this.pointer.x,y:this.pointer.y},control1:{x:e,y:r},end:{x:g,y}}),this.pointer={x:g,y}}cubicBezierTo(e,r,g,y,k,$){if(!this.pointer)return!1;this.skeleton.push({type:"cubic-bezier",start:{x:this.pointer.x,y:this.pointer.y},control1:{x:e,y:r},control2:{x:g,y},end:{x:k,y:$}}),this.pointer={x:k,y:$}}fitCurveTo(e){if(!this.pointer)return!1;fitCurve([this.pointer,...e],2).map(g=>{this.skeleton.push({type:"cubic-bezier",start:g[0],control1:g[1],control2:g[2],end:g[3]}),this.pointer={x:g[3].x,y:g[3].y}})}genComponent(){if(!this.skeleton.length)return null;const e=[],r=[];for(let y=0;y<this.skeleton.length;y++){const k=this.skeleton[y];if(k.type==="line"){let $=1;k.start.x===k.end.x&&(y>0&&y<this.skeleton.length-1?($=this.skeleton[y-1].start.x-this.skeleton[y+1].end.x,$/=Math.abs($)):y>0?($=this.skeleton[y-1].start.x-this.skeleton[y].start.x,$/=Math.abs($)):y<this.skeleton.length-1&&($=this.skeleton[y].start.x-this.skeleton[y+1].end.x,$/=Math.abs($)));const V=-(k.start.y-k.end.y)/(k.start.x-k.end.x)*$,L=Math.atan(V),z={type:"line",start:{x:k.start.x-this.weight/2*Math.sin(L),y:k.start.y-this.weight/2*Math.cos(L)},end:{x:k.end.x-this.weight/2*Math.sin(L),y:k.end.y-this.weight/2*Math.cos(L)},k1:V},j={type:"line",start:{x:k.start.x+this.weight/2*Math.sin(L),y:k.start.y+this.weight/2*Math.cos(L)},end:{x:k.end.x+this.weight/2*Math.sin(L),y:k.end.y+this.weight/2*Math.cos(L)},k1:V};k.start.x===k.end.x?y===0?this.skeleton.length>1&&this.skeleton[y+1].end.x-k.end.x<=0?(e.push(j),r.push(z)):(e.push(z),r.push(j)):this.skeleton[y-1].start.x-k.start.x<=0?(e.push(z),r.push(j)):(e.push(j),r.push(z)):k.start.x-k.end.x<0?(e.push(z),r.push(j)):(e.push(j),r.push(z))}else if(k.type==="quadratic-bezier"){const $=[k.start,k.control1,k.control1,k.end];addContours($,e,r,[{pos:0,weight:this.weight},{pos:1,weight:this.weight}])}else if(k.type==="cubic-bezier"){const $=[k.start,k.control1,k.control2,k.end];addContours($,e,r,[{pos:0,weight:this.weight},{pos:1,weight:this.weight}])}}const g=new PenComponent;g.beginPath(),g.moveTo(e[0].start.x,e[0].start.y);for(let y=0;y<e.length;y++){const k=e[y];if(k.type==="line")if(y<e.length-1){const $=e[y+1],V=intersection(k.k1,k.start.x,getCoordY(k.start.y),$.k1,$.start.x,getCoordY($.start.y));g.lineTo(V.x,getCanvasY(V.y))}else g.lineTo(k.end.x,k.end.y);else if(k.type==="quadratic-bezier")if(y<e.length-1){const $=e[y+1],V=intersection(k.k2,k.end.x,getCoordY(k.end.y),$.k1,$.start.x,getCoordY($.start.y));g.quadraticBezierTo(k.control1.x,k.control1.y,V.x,getCanvasY(V.y))}else g.quadraticBezierTo(k.control1.x,k.control1.y,k.end.x,k.end.y);else if(k.type==="cubic-bezier")if(y<e.length-1){const $=e[y+1],V=intersection(k.k3,k.end.x,getCoordY(k.end.y),$.k1,$.start.x,getCoordY($.start.y));g.bezierTo(k.control1.x,k.control1.y,k.control2.x,k.control2.y,V.x,getCanvasY(V.y))}else g.bezierTo(k.control1.x,k.control1.y,k.control2.x,k.control2.y,k.end.x,k.end.y)}g.lineTo(r[r.length-1].end.x,r[r.length-1].end.y);for(let y=r.length-1;y>=0;y--){const k=r[y];if(k.type==="line")if(y>0){const $=r[y-1],V=$.k3?$.k3:$.k2?$.k2:$.k1,L=intersection(k.k1,k.start.x,getCoordY(k.start.y),V,$.end.x,getCoordY($.end.y));g.lineTo(L.x,getCanvasY(L.y))}else g.lineTo(k.start.x,k.start.y);else if(k.type==="quadratic-bezier")if(y>0){const $=r[y-1],V=$.k3?$.k3:$.k2?$.k2:$.k1,L=intersection(k.k1,k.start.x,getCoordY(k.start.y),V,$.end.x,getCoordY($.end.y));g.quadraticBezierTo(k.control1.x,k.control1.y,L.x,getCanvasY(L.y))}else g.quadraticBezierTo(k.control1.x,k.control1.y,k.start.x,k.start.y);else if(k.type==="cubic-bezier")if(y>0){const $=r[y-1],V=$.k3?$.k3:$.k2?$.k2:$.k1,L=intersection(k.k1,k.start.x,getCoordY(k.start.y),V,$.end.x,getCoordY($.end.y));g.bezierTo(k.control2.x,k.control2.y,k.control1.x,k.control1.y,L.x,getCanvasY(L.y))}else g.bezierTo(k.control2.x,k.control2.y,k.control1.x,k.control1.y,k.start.x,k.start.y)}return g.lineTo(e[0].start.x,e[0].start.y),g.closePath(),g}setweight(e){this.weight=e}getWeight(){return this.weight}static getContours(e,r){const g=[],y=[];return addContours(e,g,y,r),{contour1:g,contour2:y}}}const intersection=(n,e,r,g,y,k)=>{if(n===1/0||n===-1/0){const L=e,z=g*(L-y)+k;return{x:L,y:z}}else if(g===1/0||g===-1/0){const L=y,z=n*(L-e)+r;return{x:L,y:z}}const $=(k-r+(n*e-g*y))/(n-g),V=(-n*k+g*r+(y-e)*n*g)/(g-n);return{x:$,y:V}},getCoordY=n=>-(n-250),getCanvasY=n=>-n+250,addContours=(n,e,r,g)=>{const y=[],k=[];let V=bezierCurve.q(n,0),L=bezierCurve.qprime(n,0),z=Math.atan(-L.y/L.x);const j=g.sort((ue,pe)=>ue.pos-pe.pos),re=[];let oe=0;for(let ue=0;ue<j.length;ue++){const{pos:pe,weight:he}=j[ue];if(pe<1&&ue<j.length-1){const{pos:Oe,weight:xe}=j[ue+1];pe===0&&(oe=he);for(let $e=Math.round(1e3*pe);$e<Math.round(1e3*Oe);$e++)re[$e]=oe+(xe-oe)/Math.round(1e3*(Oe-pe))*($e-Math.round(1e3*pe));oe=re[re.length-1]}else for(let Oe=Math.round(1e3*pe);Oe<1e3;Oe++)re[Oe]=he}for(let ue=1;ue<1e3;ue++){const pe=re[ue],he=bezierCurve.q(n,ue/1e3),Oe=bezierCurve.qprime(n,ue/1e3),xe=Math.atan(-Oe.y/Oe.x);z<=0||he.y-V.y<0?(y.push({x:V.x-pe/2*Math.sin(z),y:V.y-pe/2*Math.cos(z)}),k.push({x:V.x+pe/2*Math.sin(z),y:V.y+pe/2*Math.cos(z)})):(k.push({x:V.x-pe/2*Math.sin(z),y:V.y-pe/2*Math.cos(z)}),y.push({x:V.x+pe/2*Math.sin(z),y:V.y+pe/2*Math.cos(z)})),V=he,L=Oe,z=xe}const ae=fitCurve(y,2),de=fitCurve(k,2);ae.map(ue=>{const pe=-(ue[0].y-ue[1].y)/(ue[0].x-ue[1].x),he=-(ue[2].y-ue[3].y)/(ue[2].x-ue[3].x),Oe=-(ue[1].y-ue[2].y)/(ue[1].x-ue[2].x),xe={type:"cubic-bezier",start:ue[0],control1:ue[1],control2:ue[2],end:ue[3],k1:pe,k2:he,k3:Oe};e.push(xe)}),de.map(ue=>{const pe=-(ue[0].y-ue[1].y)/(ue[0].x-ue[1].x),he=-(ue[2].y-ue[3].y)/(ue[2].x-ue[3].x),Oe=-(ue[1].y-ue[2].y)/(ue[1].x-ue[2].x),xe={type:"cubic-bezier",start:ue[0],control1:ue[1],control2:ue[2],end:ue[3],k1:pe,k2:he,k3:Oe};r.push(xe)})};class Character{_character;constructor(e){this._character=e,e._o=this}getComponent(e){for(let r=0;r<this._character.components.length;r++)if(this._character.components[r].name===e)return this._character.components[r];return null}getGlyph(e){for(let r=0;r<this._character.components.length;r++)if(this._character.components[r].name===e)return this._character.components[r].value._o;return null}getLayoutByID(e){if(this._character.info&&this._character.info.layoutTree){const r=this._character.info.layoutTree;return getNodeByID(e,r)}return null}getCoords(e,r,g,y){const k=e.rect,{x:$,y:V,w:L,h:z}=k,j=$+L/y*r,re=V+z/y*g;return{x:j,y:re}}getRatioCoords(e,r,g,y){const{dx:k,dy:$,size:V,centerSquareSize:L}=this._character.info.gridSettings,z=Math.round((V-L)/2)+k,j=Math.round((V-L)/2+L)+k,re=Math.round((V-L)/2)+$,oe=Math.round((V-L)/2+L)+$;return getRatioCoords(e,r,g,y,{x1:z,x2:j,y1:re,y2:oe,l:V})}getRatioLayout(e){return getCharacterRatioLayout(this._character,e)}}const getNodeByID=(n,e)=>{for(let r=0;r<e.length;r++){const g=e[r];if(g.id===n)return g;if(g.children){const y=getNodeByID(n,g.children);if(y)return y}}return null},FP={EllipseComponent,PenComponent,PolygonComponent,RectangleComponent,Skeleton,Joint,Character,fitCurve};function mitt(n){return{all:n=n||new Map,on:function(e,r){var g=n.get(e);g?g.push(r):n.set(e,[r])},off:function(e,r){var g=n.get(e);g&&(r?g.splice(g.indexOf(r)>>>0,1):n.set(e,[]))},emit:function(e,r){var g=n.get(e);g&&g.slice().map(function(y){y(r)}),(g=n.get("*"))&&g.slice().map(function(y){y(e,r)})}}}const emitter=mitt();var ParameterType=(n=>(n[n.Number=0]="Number",n[n.Constant=1]="Constant",n[n.RingController=2]="RingController",n))(ParameterType||{});ref(0);const selectedParam=ref(null),selectedParamType=ref(""),constants=ref([]),constantsMap=new ConstantsMap(constants.value),glyphs=ref([]),radical_glyphs=ref([]),stroke_glyphs=ref([]),comp_glyphs=ref([]);var ConstantType=(n=>(n[n.Component=0]="Component",n[n.Parameter=1]="Parameter",n))(ConstantType||{}),GlyphType=(n=>(n[n.Char=0]="Char",n[n.StrokeGlyph=1]="StrokeGlyph",n[n.RadicalGlyph=2]="RadicalGlyph",n[n.CompGlyph=3]="CompGlyph",n[n.Glyph=4]="Glyph",n))(GlyphType||{});const convertGlyphType=n=>n===Status.GlyphList?4:n===Status.StrokeGlyphList?1:n===Status.RadicalGlyphList?2:n===Status.CompGlyphList?3:n===Status.CharacterList?0:null,constantGlyphMap=new Map,editGlyphUUID=ref(""),initGlyphEnvironment=async()=>{window.FP=FP},getGlyphByUUID=n=>{let e=null;for(let r=0;r<glyphs.value.length;r++)if(glyphs.value[r].uuid===n)return e=glyphs.value[r],e;for(let r=0;r<radical_glyphs.value.length;r++)if(radical_glyphs.value[r].uuid===n)return e=radical_glyphs.value[r],e;for(let r=0;r<stroke_glyphs.value.length;r++)if(stroke_glyphs.value[r].uuid===n)return e=stroke_glyphs.value[r],e;for(let r=0;r<comp_glyphs.value.length;r++)if(comp_glyphs.value[r].uuid===n)return e=comp_glyphs.value[r],e;return e},getGlyphByName=n=>{let e=null;for(let r=0;r<glyphs.value.length;r++)if(glyphs.value[r].name===n)return e=glyphs.value[r],e;for(let r=0;r<radical_glyphs.value.length;r++)if(radical_glyphs.value[r].name===n)return e=radical_glyphs.value[r],e;for(let r=0;r<stroke_glyphs.value.length;r++)if(stroke_glyphs.value[r].name===n)return e=stroke_glyphs.value[r],e;for(let r=0;r<comp_glyphs.value.length;r++)if(comp_glyphs.value[r].name===n)return e=comp_glyphs.value[r],e;return e},getGlyphType=n=>{for(let e=0;e<glyphs.value.length;e++)if(glyphs.value[e].uuid===n)return Status.GlyphList;for(let e=0;e<radical_glyphs.value.length;e++)if(radical_glyphs.value[e].uuid===n)return Status.RadicalGlyphList;for(let e=0;e<stroke_glyphs.value.length;e++)if(stroke_glyphs.value[e].uuid===n)return Status.StrokeGlyphList;for(let e=0;e<comp_glyphs.value.length;e++)if(comp_glyphs.value[e].uuid===n)return Status.CompGlyphList;return Status.Glyph},editGlyph=computed(()=>editGlyphUUID.value?getGlyphByUUID(editGlyphUUID.value):null),selectedComponent$1=computed(()=>!selectedComponents$1.value||selectedComponents$1.value.length===0?null:selectedComponents$1.value.length===1?selectedComponents$1.value[0]:"multi"),selectedComponentUUID$1=computed(()=>!selectedComponents$1.value||selectedComponents$1.value.length===0?"":selectedComponents$1.value.length===1?selectedComponents$1.value[0].uuid:"multi"),usedComponents$1=computed(()=>componentsForCurrentGlyph.value.filter(e=>e.usedInCharacter===!0)),selectedComponents$1=computed(()=>editGlyphUUID.value?editGlyph.value?.selectedComponentsUUIDs.map(e=>traverseComponents$1(editGlyph.value.components,e)):null),traverseComponents$1=(n,e)=>{for(let r=0;r<n.length;r++){const g=n[r];if(g.uuid===e)return g;if(g.value.components&&g.value.components.length){const y=traverseComponents$1(g.value.components,e);if(y)return y}}return null},SubComponents$1=computed(()=>{if(!editGlyphUUID.value||!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)return null;let n=null;for(let r=0;r<editGlyph.value?.selectedComponentsTree.length-1;r++){const g=editGlyph.value?.selectedComponentsTree[r];n?n=selectedItemByUUID(n.value.components,g):n=selectedItemByUUID(editGlyph.value.components,g)}return n.value.components.map(r=>selectedItemByUUID(n.value.components,r.uuid))}),SubComponentsRoot$1=computed(()=>{if(!editGlyphUUID.value||!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)return null;let n=null;for(let e=0;e<editGlyph.value?.selectedComponentsTree.length-1;e++){const r=editGlyph.value?.selectedComponentsTree[e];n?n=selectedItemByUUID(n.value.components,r):n=selectedItemByUUID(editGlyph.value.components,r)}return n}),selectedSubComponent$1=computed(()=>{let n=null;if(!editGlyphUUID.value)n=null;else if(!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)n=null;else{let e=null;for(let g=0;g<editGlyph.value?.selectedComponentsTree.length-1;g++){const y=editGlyph.value?.selectedComponentsTree[g];e?e=selectedItemByUUID(e.value.components,y):e=selectedItemByUUID(editGlyph.value.components,y)}const r=editGlyph.value?.selectedComponentsTree[editGlyph.value?.selectedComponentsTree.length-1];r!=="null"&&(n=selectedItemByUUID(e.value.components,r))}return n}),componentsForCurrentGlyph=computed(()=>editGlyphUUID.value?editGlyph.value.components:[]),orderedListWithItemsForCurrentGlyph=computed(()=>editGlyphUUID.value?editGlyph.value.orderedList.map(n=>n.type==="group"?selectedItemByUUID(editGlyph.value.groups,n.uuid):selectedItemByUUID(editGlyph.value.components,n.uuid)):[]),orderedListWithItemsForGlyph=n=>n.orderedList.map(e=>e.type==="group"?selectedItemByUUID(n.groups,e.uuid):selectedItemByUUID(n.components,e.uuid)),orderedListForCurrentGlyph=computed(()=>editGlyphUUID.value?editGlyph.value.orderedList:[]),selectedComponentsUUIDs$1=computed(()=>editGlyphUUID.value?editGlyph.value.selectedComponentsUUIDs:""),getConstant=n=>{let e=null;return constants.value.forEach(r=>{r.uuid===n&&(e=r)}),e},removeOrderedItemForCurrentGlyph=n=>{const e=(()=>{for(let r=0;r<editGlyph.value.orderedList.length;r++)if(editGlyph.value.orderedList[r].uuid===n)return r;return-1})();e>=0&&editGlyph.value.orderedList.splice(e,1)},removeComponentForCurrentGlyph=n=>{const e=(()=>{for(let r=0;r<editGlyph.value.components.length;r++)if(editGlyph.value.components[r].uuid===n)return r;return-1})();removeOrderedItemForCurrentGlyph(n),editGlyph.value.glyph_script&&editGlyph.value.glyph_script[n]&&delete editGlyph.value.glyph_script[n],editGlyph.value.components.splice(e,1)},insertComponentForCurrentGlyph=(n,e)=>{editGlyph.value.components.push(n),insertOrderedItemForCurrentGlyph({type:"component",uuid:n.uuid},e)},setSelectionForCurrentGlyph=n=>{n?enableMultiSelect.value?editGlyph.value.selectedComponentsUUIDs.push(n):editGlyph.value.selectedComponentsUUIDs=[n]:editGlyph.value.selectedComponentsUUIDs=[]},modifySubComponent$1=n=>{if(!(!editGlyph.value?.selectedComponentsTree||!editGlyph.value?.selectedComponentsTree.length)){let e=null,r=null;const g=clone$1(editGlyph.value?.components);for(let $=0;$<editGlyph.value?.selectedComponentsTree.length-1;$++){const V=editGlyph.value?.selectedComponentsTree[$];e?e=selectedItemByUUID(e.value.components,V):e=selectedItemByUUID(g,V)}const y=editGlyph.value?.selectedComponentsTree[editGlyph.value?.selectedComponentsTree.length-1];y!=="null"&&(r=selectedItemByUUID(e.value.components,y));const k=Object.keys(n);for(let $=0;$<k.length;$++){const V=k[$];r[V]=n[V]}editGlyph.value.components=g}},modifyGlyph=(n,e)=>{const r=getGlyphByUUID(n);Object.keys(e).map(g=>{g==="view"?Object.keys(e.view).map(y=>{r.view[y]=e.view[y]}):r[g]=e[g]}),emitter.emit("renderGlyphPreviewCanvasByUUID",n)},modifyComponentForCurrentGlyph=(n,e)=>{const r=clone$1(editGlyph.value.components);r.forEach(g=>{g.uuid===n&&Object.keys(e).map(y=>{switch(y){case"type":g.type=e.type;break;case"name":g.name=e.name;break;case"lock":g.lock=e.lock;break;case"visible":g.visible=e.visible;break;case"x":g.x=e.x;break;case"y":g.y=e.y;break;case"w":g.w=e.w;break;case"h":g.h=e.h;break;case"rotation":g.rotation=e.rotation;break;case"flipX":g.flipX=e.flipX;break;case"flipY":g.flipY=e.flipY;break;case"usedInCharacter":g.usedInCharacter=e.usedInCharacter;break;case"ox":g.ox=e.ox;break;case"oy":g.oy=e.oy;break;case"opacity":g.opacity=e.opacity;break;case"value":Object.keys(e.value).map(k=>{if(g.value[k]=e.value[k],k==="points"){const{x:$,y:V,w:L,h:z}=getBound$4(e.value[k].reduce((j,re)=>(j.push({x:re.x,y:re.y}),j),[]));g.x=$,g.y=V,g.w=L,g.h=z}});break}}),editGlyph.value.components=r}),emitter.emit("renderGlyphPreviewCanvasByUUID",n)},addOrderedItemForGlyph=(n,e)=>{getGlyphByUUID(n).orderedList.push(e)},addOrderedItemForCurrentGlyph=n=>{editGlyph.value.orderedList.push(n)},insertOrderedItemForCurrentGlyph=(n,e)=>{const r=(()=>{for(let g=0;g<editGlyph.value.orderedList.length;g++)if(editGlyph.value.orderedList[g].uuid===e.uuid)return g})();e.pos==="prev"&&editGlyph.value.orderedList.splice(r,0,n),e.pos==="next"&&editGlyph.value.orderedList.splice(r+1,0,n)},setOrderedListForCurrentGlyph=n=>{editGlyph.value.orderedList=n},setEditGlyphUUID=n=>{editGlyphUUID.value=n},addGlyph=(n,e)=>{e===Status.GlyphList?glyphs.value.push(n):e===Status.StrokeGlyphList?stroke_glyphs.value.push(n):e===Status.RadicalGlyphList?radical_glyphs.value.push(n):e===Status.CompGlyphList&&comp_glyphs.value.push(n)},removeGlyph=(n,e)=>{if(e===Status.GlyphList){for(let r=0;r<glyphs.value.length;r++)if(glyphs.value[r].uuid===n){glyphs.value.splice(r,1);return}}else if(e===Status.StrokeGlyphList){for(let r=0;r<stroke_glyphs.value.length;r++)if(stroke_glyphs.value[r].uuid===n){stroke_glyphs.value.splice(r,1);return}}else if(e===Status.RadicalGlyphList){for(let r=0;r<radical_glyphs.value.length;r++)if(radical_glyphs.value[r].uuid===n){radical_glyphs.value.splice(r,1);return}}else if(e===Status.CompGlyphList){for(let r=0;r<comp_glyphs.value.length;r++)if(comp_glyphs.value[r].uuid===n){comp_glyphs.value.splice(r,1);return}}},addComponentsForGlyph=(n,e)=>{getGlyphByUUID(n),e.forEach(r=>{addComponentForGlyph(n,r)})},addComponentForGlyph=(n,e)=>{getGlyphByUUID(n).components.push(e),addOrderedItemForGlyph(n,{type:"component",uuid:e.uuid}),setSelectionForCurrentGlyph(e.uuid)},addComponentForCurrentGlyph=n=>{editGlyph.value.components.push(n),addOrderedItemForCurrentGlyph({type:"component",uuid:n.uuid}),setSelectionForCurrentGlyph(n.uuid)},executeScript=n=>{try{const e=new CustomGlyph(n),r=e._glyph;for(let g=0;g<n.components.length;g++)n.components[g].type==="glyph"&&executeScript(n.components[g].value);window.glyph=e,constantsMap.update(constants.value),window.constantsMap=constantsMap;try{new Function(`${n.script}
script_${n.uuid.replaceAll("-","_")} (glyph, constantsMap, FP)`)()}catch(g){console.error(g)}if(n&&n.glyph_script){const g=Object.keys(n.glyph_script);for(let y=0;y<g.length;y++){const k=n.glyph_script[g[y]];new Function(`${k}`)()}}if(n&&n.param_script){const g=Object.keys(n.param_script);for(let y=0;y<g.length;y++){const k=n.param_script[g[y]];new Function(`${k}`)()}}n?.components?.map(g=>{if(window.comp_glyph=new CustomGlyph(g.value),g.value&&g.value.system_script){const y=Object.keys(g.value.system_script);for(let k=0;k<y.length;k++){const $=g.value.system_script[y[k]];window.glyph=e,new Function(`${$}`)()}}window.comp_glyph=null})}catch(e){console.warn(e)}},getRatioOptions=n=>{const e=[{key:0,value:"DEFAULT",label:"DEFAULT",uuid:"",type:""}];return n.layout?n.layout.type==="rect"&&(e.push({key:1,value:"width",label:"width",uuid:n.uuid,type:n.type}),e.push({key:2,value:"height",label:"height",uuid:n.uuid,type:n.type})):n.parent&&n.parent.type==="system"&&n.parent.layout?n.parent.layout.type==="rect"&&(e.push({key:1,value:"width",label:"width",uuid:n.parent.uuid,type:n.parent.type}),e.push({key:2,value:"height",label:"height",uuid:n.parent.uuid,type:n.parent.type})):n.parent&&(n.parent.type==="text"||n.parent.type==="icon")&&n.parent.info&&n.parent.info.layoutTree&&findLeafNodes$1(n.parent.info?.layoutTree).map((g,y)=>{e.push({key:`${y}-1`,value:`${g.id}-w`,label:`${g.id}-w`,uuid:n.parent.uuid,type:n.parent.type}),e.push({key:`${y}-2`,value:`${g.id}-h`,label:`${g.id}-h`,uuid:n.parent.uuid,type:n.parent.type})}),e},getRatioLayout=(n,e)=>{let r=null;if(!n.parent&&n.layout)r=n.layout.params[e];else if(n.parent&&n.parent.type==="system"&&n.parent.layout)r=n.parent.layout.params[e];else if(n.parent&&(n.parent.type==="text"||n.parent.type==="icon")&&n.parent.info&&n.parent.info.layoutTree){const g=e.split("-"),y=g.splice(g.length-1,1)[0],k=g.join("-");findLeafNodes$1(n.parent.info?.layoutTree).map(V=>{V.id===k&&(r=V.rect[y])})}return r},getRatioLayout2=(n,e)=>{let r=null;return n.layout&&(r=n.layout.params[e]),r},findLeafNodes$1=n=>{const e=[],r=g=>{!g.children||g.children.length===0?e.push(g):g.children.forEach(y=>r(y))};return n.forEach(g=>r(g)),e},deleteCharacter$1=(n,e)=>{n.stopPropagation(),removeGlyph(e,getGlyphType(e)),deleteGlyphTemplate(e,editStatus.value)},editGlyphFile=n=>{setEditGlyphUUID(n),setPrevStatus(editStatus.value),setEditStatus(Status.Glyph)},renameCharacter$1=(n,e)=>{n.stopPropagation(),editedGlyphUUID.value=e,setEditGlyphDialogVisible(!0)},copyCharacter$1=(n,e)=>{n.stopPropagation(),copiedGlyphUUID.value=e,setCopyGlyphDialogVisible(!0)},generateGlyphTemplate=n=>{const e=document.getElementById("glyph-template").querySelector(".glyph").cloneNode(!0);return e.className=`glyph glyph-${n.uuid}`,e.querySelector(".preview-canvas").id=`preview-canvas-${n.uuid}`,e.querySelector(".name").innerHTML=`${n.name}`,e.querySelector(".edit-icon").addEventListener("click",r=>renameCharacter$1(r,n.uuid)),e.querySelector(".copy-icon").addEventListener("click",r=>copyCharacter$1(r,n.uuid)),e.querySelector(".delete-icon").addEventListener("click",r=>deleteCharacter$1(r,n.uuid)),e.addEventListener("click",()=>editGlyphFile(n.uuid)),e},selected_glyphs=ref([]),multi_glyph_selection=ref(!1),addSelectedGlyph=n=>{const e=clone$1(n);e.parent=editStatus.value===Status.Edit?editCharacterFile.value:editGlyph.value;const r={uuid:genUUID(),type:"glyph",name:n.name+Date.now().toString().slice(9),lock:!1,visible:!0,value:e,ox:selectedFile.value.width/2-1e3/2,oy:selectedFile.value.height/2-1e3/2,usedInCharacter:!0};executeScript(r.value),linkComponentsForJoints(r),editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(r):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(r),glyphComponentsDialogVisible2.value=!1},selectGlyph=n=>{if(!glyphComponentsDialogVisible2.value)return;const e=getGlyphByUUID(n);multi_glyph_selection.value?selected_glyphs.value.push(e):addSelectedGlyph(e)},generateGlyphSelectionTemplate=n=>{const e=document.getElementById("glyph-template").querySelector(".glyph").cloneNode(!0);return e.className=`glyph glyph-${n.uuid}`,e.querySelector(".preview-canvas").id=`preview-canvas-${n.uuid}`,e.querySelector(".name").innerHTML=`${n.name}`,e.addEventListener("click",()=>selectGlyph(n.uuid)),e},deleteGlyphTemplate=(n,e)=>{let r=document.getElementById("glyph-render-list"),g=document.getElementById("glyph-components-wrapper");e===Status.StrokeGlyphList?(r=document.getElementById("stroke-glyph-render-list"),g=document.getElementById("stroke-glyph-components-wrapper")):e===Status.RadicalGlyphList?(r=document.getElementById("radical-glyph-render-list"),g=document.getElementById("radical-glyph-components-wrapper")):e===Status.CompGlyphList&&(r=document.getElementById("comp-glyph-render-list"),g=document.getElementById("comp-glyph-components-wrapper"));const y=r.querySelector(`.glyph-${n}`);r.removeChild(y);const k=g.querySelector(`.glyph-${n}`);g.removeChild(k)},addGlyphTemplate=(n,e)=>{const r=generateGlyphTemplate(n),g=generateGlyphSelectionTemplate(n);let y=document.getElementById("glyph-components-wrapper"),k=document.getElementById("glyph-render-list");e===Status.StrokeGlyphList?(k=document.getElementById("stroke-glyph-render-list"),y=document.getElementById("stroke-glyph-components-wrapper")):e===Status.RadicalGlyphList?(k=document.getElementById("radical-glyph-render-list"),y=document.getElementById("radical-glyph-components-wrapper")):e===Status.CompGlyphList&&(k=document.getElementById("comp-glyph-render-list"),y=document.getElementById("comp-glyph-components-wrapper"));const $=k.querySelector(".default-glyph");$&&k.insertBefore(r,$),y.appendChild(g)},clearGlyphRenderList=n=>{let e=document.getElementById("glyph-render-list");if(n===Status.StrokeGlyphList?e=document.getElementById("stroke-glyph-render-list"):n===Status.RadicalGlyphList?e=document.getElementById("radical-glyph-render-list"):n===Status.CompGlyphList&&(e=document.getElementById("comp-glyph-render-list")),!e)return;const r=document.getElementById("default-glyph-template").querySelector(".default-glyph").cloneNode(!0);r.addEventListener("click",()=>setAddGlyphDialogVisible(!0)),e.innerHTML="",e.appendChild(r)},clearSelectionGlyphRenderList=n=>{let e=document.getElementById("glyph-components-wrapper");if(n===Status.StrokeGlyphList?e=document.getElementById("stroke-glyph-components-wrapper"):n===Status.RadicalGlyphList?e=document.getElementById("radical-glyph-components-wrapper"):n===Status.CompGlyphList&&(e=document.getElementById("comp-glyph-components-wrapper")),!n){clearSelectionGlyphRenderList(Status.GlyphList),clearSelectionGlyphRenderList(Status.StrokeGlyphList),clearSelectionGlyphRenderList(Status.RadicalGlyphList),clearSelectionGlyphRenderList(Status.CompGlyphList);return}e.innerHTML=""},selectedItemByUUID=(n,e)=>{let r=null;for(let g=0;g<n.length;g++)n[g].uuid===e&&(r=n[g]);return r},files=reactive({value:[]}),selectedFileUUID=ref(""),clipBoard=reactive({value:[]}),editCharacterFileUUID=ref(""),enableMultiSelect=ref(!1),selectedComponent=computed(()=>!selectedComponents.value||selectedComponents.value.length===0?null:selectedComponents.value.length===1?selectedComponents.value[0]:"multi"),selectedComponentUUID=computed(()=>!selectedComponents.value||selectedComponents.value.length===0?"":selectedComponents.value.length===1?selectedComponents.value[0].uuid:"multi"),usedComponents=computed(()=>orderedListWithItemsForCurrentCharacterFile.value.filter(e=>!!e.usedInCharacter)),editCharacterFile=computed(()=>{if(!selectedFileUUID.value)return null;const n=selectedFile.value.characterList;for(let e=0;e<n.length;e++)if(editCharacterFileUUID.value===n[e].uuid)return n[e];return null}),selectedFile=computed(()=>selectedFileUUID.value?selectedItemByUUID(files.value,selectedFileUUID.value):null),characterList=computed(()=>selectedFileUUID.value?selectedItemByUUID(files.value,selectedFileUUID.value).characterList:null),selectedComponents=computed(()=>{if(!selectedFileUUID.value)return null;const n=selectedItemByUUID(files.value,selectedFileUUID.value),e=selectedItemByUUID(n.characterList,editCharacterFileUUID.value);return e?.selectedComponentsUUIDs.map(g=>traverseComponents(e.components,g))}),traverseComponents=(n,e)=>{for(let r=0;r<n.length;r++){const g=n[r];if(g.uuid===e)return g;if(g.value.components&&g.value.components.length){const y=traverseComponents(g.value.components,e);if(y)return y}}return null},SubComponents=computed(()=>{if(!selectedFileUUID.value)return null;const n=selectedItemByUUID(files.value,selectedFileUUID.value),e=selectedItemByUUID(n.characterList,editCharacterFileUUID.value);if(!e?.selectedComponentsTree||!e?.selectedComponentsTree.length)return null;let r=null;for(let y=0;y<e?.selectedComponentsTree.length-1;y++){const k=e?.selectedComponentsTree[y];r?r=selectedItemByUUID(r.value.components,k):r=selectedItemByUUID(e.components,k)}return r.value.components.map(y=>selectedItemByUUID(r.value.components,y.uuid))}),SubComponentsRoot=computed(()=>{if(!selectedFileUUID.value)return null;const n=selectedItemByUUID(files.value,selectedFileUUID.value),e=selectedItemByUUID(n.characterList,editCharacterFileUUID.value);if(!e?.selectedComponentsTree||!e?.selectedComponentsTree.length)return null;let r=null;for(let g=0;g<e?.selectedComponentsTree.length-1;g++){const y=e?.selectedComponentsTree[g];r?r=selectedItemByUUID(r.value.components,y):r=selectedItemByUUID(e.components,y)}return r}),selectedSubComponent=computed(()=>{let n=null;if(!selectedFileUUID.value)n=null;else{const e=selectedItemByUUID(files.value,selectedFileUUID.value),r=selectedItemByUUID(e.characterList,editCharacterFileUUID.value);if(!r?.selectedComponentsTree||!r?.selectedComponentsTree.length)n=null;else{let g=null;for(let k=0;k<r?.selectedComponentsTree.length-1;k++){const $=r?.selectedComponentsTree[k];g?g=selectedItemByUUID(g.value.components,$):g=selectedItemByUUID(r.components,$)}const y=r?.selectedComponentsTree[r?.selectedComponentsTree.length-1];y!=="null"&&(n=selectedItemByUUID(g.value.components,y))}}return n}),componentsForCurrentCharacterFile=computed(()=>{if(!selectedFileUUID.value)return[];const n=selectedItemByUUID(files.value,selectedFileUUID.value);return selectedItemByUUID(n.characterList,editCharacterFileUUID.value).components}),orderedListWithItemsForCurrentCharacterFile=computed(()=>{if(!selectedFileUUID.value||!editCharacterFileUUID.value)return[];const n=selectedItemByUUID(files.value,selectedFileUUID.value),e=selectedItemByUUID(n.characterList,editCharacterFileUUID.value);return e.orderedList.map(r=>r.type==="group"?selectedItemByUUID(e.groups,r.uuid):selectedItemByUUID(e.components,r.uuid))}),orderedListWithItemsForCharacterFile=n=>n.orderedList.map(e=>e.type==="group"?selectedItemByUUID(n.groups,e.uuid):selectedItemByUUID(n.components,e.uuid)),orderedListForCurrentCharacterFile=computed(()=>{if(!selectedFileUUID.value)return[];const n=selectedItemByUUID(files.value,selectedFileUUID.value);return selectedItemByUUID(n.characterList,editCharacterFileUUID.value).orderedList}),selectedComponentsUUIDs=computed(()=>{if(!selectedFileUUID.value)return"";const n=selectedItemByUUID(files.value,selectedFileUUID.value);return selectedItemByUUID(n.characterList,editCharacterFileUUID.value).selectedComponentsUUIDs}),setSelectedFileUUID=n=>{selectedFileUUID.value=n,n&&(gridSettings.value.centerSquareSize=selectedFile.value.width/3,gridSettings.value.size=selectedFile.value.width)},addFile=n=>{files.value.push(n)},removeFile=n=>{selectedFileUUID.value===n&&setSelectedFileUUID(""),editCharacterFileUUID.value="";const e=(()=>{for(let r=0;r<files.value.length;r++)if(files.value[r].uuid===n)return r;return-1})();e>=0&&files.value.splice(e,1)},updateFontSettings=n=>{const e=selectedFile.value,{name:r,unitsPerEm:g,ascender:y,descender:k}=n;if(r&&(e.name=r),g!==selectedFile.value.fontSettings.unitsPerEm||y!==selectedFile.value.fontSettings.ascender||k!==selectedFile.value.fontSettings.descender){e.fontSettings={unitsPerEm:g,ascender:y,descender:k},e.width=g,e.height=g,total$1.value=e.characterList.length,loaded$1.value=0,loading.value=!0;for(let $=0;$<e.characterList.length;$++){const V=e.characterList[$];V._o||executeCharacterScript(V),componentsToContours(orderedListWithItemsForCharacterFile(V),{unitsPerEm:g,descender:k,advanceWidth:g},{x:0,y:0},!1,!1,!0),loaded$1.value+=1}loading.value=!1}},modifyCharacterFile=(n,e)=>{const r=selectedItemByUUID(files.value,selectedFileUUID.value);let g=selectedItemByUUID(r.characterList,n);Object.keys(e).map(y=>{y==="view"?Object.keys(e.view).map(k=>{g.view[k]=e.view[k]}):g[y]=e[y]}),emitter.emit("renderPreviewCanvasByUUID",n)},removeOrderedItemForCurrentCharacterFile=n=>{const e=selectedFile.value,r=selectedItemByUUID(e.characterList,editCharacterFileUUID.value),g=(()=>{for(let y=0;y<r.orderedList.length;y++)if(r.orderedList[y].uuid===n)return y;return-1})();g>=0&&r.orderedList.splice(g,1)},removeComponentForCurrentCharacterFile=n=>{const e=selectedFile.value,r=selectedItemByUUID(e.characterList,editCharacterFileUUID.value),g=(()=>{for(let y=0;y<r.components.length;y++)if(r.components[y].uuid===n)return y;return-1})();removeOrderedItemForCurrentCharacterFile(n),r.glyph_script&&r.glyph_script[n]&&delete r.glyph_script[n],r.components.splice(g,1)},insertComponentForCurrentCharacterFile=(n,e)=>{const r=selectedFile.value;selectedItemByUUID(r.characterList,editCharacterFileUUID.value).components.push(n),insertOrderedItemForCurrentCharacterFile({type:"component",uuid:n.uuid},e)},setSelectionForCurrentCharacterFile=n=>{const e=selectedItemByUUID(files.value,selectedFileUUID.value),r=selectedItemByUUID(e.characterList,editCharacterFileUUID.value);n?enableMultiSelect.value?r.selectedComponentsUUIDs.push(n):r.selectedComponentsUUIDs=[n]:r.selectedComponentsUUIDs=[]},modifySubComponent=n=>{const e=selectedItemByUUID(files.value,selectedFileUUID.value),r=selectedItemByUUID(e.characterList,editCharacterFileUUID.value);if(!(!r?.selectedComponentsTree||!r?.selectedComponentsTree.length)){let g=null,y=null;const k=clone$1(r.components);for(let L=0;L<r?.selectedComponentsTree.length-1;L++){const z=r?.selectedComponentsTree[L];g?g=selectedItemByUUID(g.value.components,z):g=selectedItemByUUID(k,z)}const $=r?.selectedComponentsTree[r?.selectedComponentsTree.length-1];$!=="null"&&(y=selectedItemByUUID(g.value.components,$));const V=Object.keys(n);for(let L=0;L<V.length;L++){const z=V[L];y[z]=n[z]}r.components=k}},modifyComponentForCurrentCharacterFile=(n,e)=>{const r=selectedFile.value,g=selectedItemByUUID(r.characterList,editCharacterFileUUID.value),y=clone$1(g.components);y.forEach(k=>{k.uuid===n&&Object.keys(e).map($=>{switch($){case"type":k.type=e.type;break;case"name":k.name=e.name;break;case"lock":k.lock=e.lock;break;case"visible":k.visible=e.visible;break;case"x":k.x=e.x;break;case"y":k.y=e.y;break;case"ox":k.ox=e.ox;break;case"oy":k.oy=e.oy;break;case"w":k.w=e.w;break;case"h":k.h=e.h;break;case"rotation":k.rotation=e.rotation;break;case"flipX":k.flipX=e.flipX;break;case"flipY":k.flipY=e.flipY;break;case"usedInCharacter":k.usedInCharacter=e.usedInCharacter;break;case"opacity":k.opacity=e.opacity;break;case"value":Object.keys(e.value).map(V=>{if(k.value[V]=e.value[V],V==="points"){const{x:L,y:z,w:j,h:re}=getBound$4(e.value[V].reduce((oe,ae)=>(oe.push({x:ae.x,y:ae.y}),oe),[]));k.x=L,k.y=z,k.w=j,k.h=re}});break}}),g.components=y}),emitter.emit("renderPreviewCanvasByUUID",editCharacterFileUUID.value)},addOrderedItemForCurrentCharacterFile=n=>{const e=selectedFile.value;selectedItemByUUID(e.characterList,editCharacterFileUUID.value).orderedList.push(n)},addOrderedItemForCharacterFile=(n,e)=>{const r=selectedFile.value;selectedItemByUUID(r.characterList,e).orderedList.push(n)},insertOrderedItemForCurrentCharacterFile=(n,e)=>{const r=selectedFile.value,g=selectedItemByUUID(r.characterList,editCharacterFileUUID.value),y=(()=>{for(let k=0;k<g.orderedList.length;k++)if(g.orderedList[k].uuid===e.uuid)return k})();e.pos==="prev"&&g.orderedList.splice(y,0,n),e.pos==="next"&&g.orderedList.splice(y+1,0,n)},setOrderedListForCurrentCharacterFile=n=>{const e=selectedFile.value,r=selectedItemByUUID(e.characterList,editCharacterFileUUID.value);r.orderedList=n},setClipBoard=n=>{clipBoard.value=n},setEditCharacterFileUUID=n=>{editCharacterFileUUID.value=n},addCharacterForCurrentFile=n=>{selectedFile.value.characterList.push(n)},removeCharacterForCurrentFile=n=>{const e=selectedFile.value.characterList;for(let r=0;r<e.length;r++)if(e[r].uuid===n){e.splice(r,1);return}},addComponentForCurrentCharacterFile=n=>{const e=selectedFile.value;selectedItemByUUID(e.characterList,editCharacterFileUUID.value).components.push(n),addOrderedItemForCurrentCharacterFile({type:"component",uuid:n.uuid}),setSelectionForCurrentCharacterFile(n.uuid)},addComponentsForCharacterFile=(n,e)=>{selectedFile.value.characterList.map(g=>{g.uuid===n&&e.forEach(y=>{g.components.push(y),addOrderedItemForCharacterFile({type:"component",uuid:y.uuid},n)})})},executeCharacterScript=n=>{if(window.character=new Character(n),constantsMap.update(constants.value),window.constantsMap=constantsMap,new Function(`${n.script}
script_${n.uuid.replaceAll("-","_")} (character, constantsMap, FP)`)(),window.character._character&&window.character._character.glyph_script){const r=Object.keys(window.character._character.glyph_script);for(let g=0;g<r.length;g++){const y=window.character._character.glyph_script[r[g]];new Function(`${y}`)()}}window.character._character?.components?.map(r=>{if(r.value.system_script){const g=Object.keys(r.value.system_script);for(let y=0;y<g.length;y++){const k=r.value.system_script[g[y]];window.comp_glyph=new CustomGlyph(r.value),new Function(`${k}`)(),window.comp_glyph=null}}})},getCharacterRatioLayout=(n,e)=>{let r=null;if((n.type==="text"||n.type==="icon")&&n.info&&n.info.layoutTree){const g=e.split("-"),y=g.splice(g.length-1,1)[0],k=g.join("-");findLeafNodes(n.info?.layoutTree).map(V=>{V.id===k&&(r=V.rect[y])})}return r},findLeafNodes=n=>{const e=[],r=g=>{!g.children||g.children.length===0?e.push(g):g.children.forEach(y=>r(y))};return n.forEach(g=>r(g)),e},editCharacter=n=>{setEditCharacterFileUUID(n),setPrevStatus(editStatus.value),setEditStatus(Status.Edit)},deleteCharacter=(n,e)=>{n.stopPropagation(),removeCharacterForCurrentFile(e),deleteCharacterTemplate(e)},renameCharacter=(n,e)=>{n.stopPropagation(),editedCharacterUUID.value=e,setEditCharacterDialogVisible(!0)},copyCharacter=(n,e)=>{n.stopPropagation(),copiedCharacterUUID.value=e,setCopyCharacterDialogVisible(!0)},generateCharacterTemplate=n=>{const e=document.getElementById("character-template").querySelector(".character").cloneNode(!0);return e.className=`character character-${n.uuid}`,e.querySelector(".preview-canvas").id=`preview-canvas-${n.uuid}`,e.querySelector(".text").innerHTML=`${n.character.text}`,n.type==="text"&&(e.querySelector(".unicode").innerHTML=`0x${n.character.unicode.toString(16)}`),e.querySelector(".edit-icon").addEventListener("click",r=>renameCharacter(r,n.uuid)),e.querySelector(".copy-icon").addEventListener("click",r=>copyCharacter(r,n.uuid)),e.querySelector(".delete-icon").addEventListener("click",r=>deleteCharacter(r,n.uuid)),e.addEventListener("click",()=>editCharacter(n.uuid)),e},deleteCharacterTemplate=n=>{const e=document.getElementById("character-render-list"),r=e.querySelector(`.character-${n}`);e.removeChild(r)},addCharacterTemplate=n=>{const e=document.getElementById("character-render-list"),r=e.querySelector(".default-character");r&&e.insertBefore(n,r)},clearCharacterRenderList=()=>{const n=document.getElementById("character-render-list"),e=document.getElementById("default-character-template").querySelector(".default-character").cloneNode(!0);e.addEventListener("click",()=>setAddTextDialogVisible(!0)),n.innerHTML="",n.appendChild(e)};var FileSaver_min={exports:{}};(function(n,e){(function(r,g){g()})(commonjsGlobal$1,function(){function r(z,j){return typeof j>"u"?j={autoBom:!1}:typeof j!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),j={autoBom:!j}),j.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\uFEFF",z],{type:z.type}):z}function g(z,j,re){var oe=new XMLHttpRequest;oe.open("GET",z),oe.responseType="blob",oe.onload=function(){L(oe.response,j,re)},oe.onerror=function(){console.error("could not download file")},oe.send()}function y(z){var j=new XMLHttpRequest;j.open("HEAD",z,!1);try{j.send()}catch{}return 200<=j.status&&299>=j.status}function k(z){try{z.dispatchEvent(new MouseEvent("click"))}catch{var j=document.createEvent("MouseEvents");j.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),z.dispatchEvent(j)}}var $=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$1=="object"&&commonjsGlobal$1.global===commonjsGlobal$1?commonjsGlobal$1:void 0,V=$.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),L=$.saveAs||(typeof window!="object"||window!==$?function(){}:"download"in HTMLAnchorElement.prototype&&!V?function(z,j,re){var oe=$.URL||$.webkitURL,ae=document.createElement("a");j=j||z.name||"download",ae.download=j,ae.rel="noopener",typeof z=="string"?(ae.href=z,ae.origin===location.origin?k(ae):y(ae.href)?g(z,j,re):k(ae,ae.target="_blank")):(ae.href=oe.createObjectURL(z),setTimeout(function(){oe.revokeObjectURL(ae.href)},4e4),setTimeout(function(){k(ae)},0))}:"msSaveOrOpenBlob"in navigator?function(z,j,re){if(j=j||z.name||"download",typeof z!="string")navigator.msSaveOrOpenBlob(r(z,re),j);else if(y(z))g(z,j,re);else{var oe=document.createElement("a");oe.href=z,oe.target="_blank",setTimeout(function(){k(oe)})}}:function(z,j,re,oe){if(oe=oe||open("","_blank"),oe&&(oe.document.title=oe.document.body.innerText="downloading..."),typeof z=="string")return g(z,j,re);var ae=z.type==="application/octet-stream",de=/constructor/i.test($.HTMLElement)||$.safari,ue=/CriOS\/[\d]+/.test(navigator.userAgent);if((ue||ae&&de||V)&&typeof FileReader<"u"){var pe=new FileReader;pe.onloadend=function(){var xe=pe.result;xe=ue?xe:xe.replace(/^data:[^;]*;/,"data:attachment/file;"),oe?oe.location.href=xe:location=xe,oe=null},pe.readAsDataURL(z)}else{var he=$.URL||$.webkitURL,Oe=he.createObjectURL(z);oe?oe.location=Oe:location.href=Oe,oe=null,setTimeout(function(){he.revokeObjectURL(Oe)},4e4)}});$.saveAs=L.saveAs=L,n.exports=L})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const saveAs=getDefaultExportFromCjs(FileSaver_minExports),initEllipse=(n,e=!1)=>{let r=!1,g=!1,y=-1,k=-1,$=!1;const V=ae=>{saveState("",[StoreType.Ellipse,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),setEditing$2(!0),r=!0,y=getCoord(ae.offsetX),k=getCoord(ae.offsetY),getCoord(ae.offsetX),getCoord(ae.offsetY)},L=ae=>{if(!r)return;const de=getCoord(ae.offsetX),ue=getCoord(ae.offsetY);if(g=!0,r)if(!$)setRadiusX(Math.abs(de-y)/2),setRadiusY(Math.abs(ue-k)/2),de>=y&&ue>=k?(setEllipseX(y),setEllipseY(k)):de<=y&&ue<=k?(setEllipseX(de),setEllipseY(ue)):de>=y&&ue<=k?(setEllipseX(y),setEllipseY(ue)):(setEllipseX(de),setEllipseY(k));else{const pe=Math.max(Math.abs(de-y),Math.abs(ue-k))/2,he=Math.abs(de-y)>Math.abs(ue-k);setRadiusX(pe),setRadiusY(pe),de>=y&&ue>=k?(setEllipseX(y),setEllipseY(k)):de<=y&&ue<=k?(setEllipseX(y-2*pe),setEllipseY(k-2*pe)):de>=y&&ue<=k?he?(setEllipseX(y),setEllipseY(k-2*pe)):(setEllipseX(y),setEllipseY(ue)):he?(setEllipseX(de),setEllipseY(k)):(setEllipseX(y-2*pe),setEllipseY(k))}},z=ae=>{if(setEditing$2(!1),g){const de=genEllipseComponent(ellipseX.value,ellipseY.value,radiusX.value,radiusY.value);r=!1,g=!1,y=-1,k=-1,$=!1,setEllipseX(-1),setEllipseY(-1),setRadiusX(0),setRadiusY(0),saveState("",[StoreType.Ellipse,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{newRecord:!1}),e?addComponentForCurrentGlyph(de):addComponentForCurrentCharacterFile(de)}else r=!1,g=!1,y=-1,k=-1,$=!1,setEllipseX(-1),setEllipseY(-1),setRadiusX(0),setRadiusY(0)},j=ae=>{ae.key==="Shift"&&($=!0)},re=ae=>{ae.key==="Shift"&&($=!1)};return n.addEventListener("mousedown",V),window.addEventListener("mouseup",z),n.addEventListener("mousemove",L),window.addEventListener("keydown",j),window.addEventListener("keyup",re),()=>{n.removeEventListener("mousedown",V),n.removeEventListener("mousemove",L),window.removeEventListener("mouseup",z),window.removeEventListener("keydown",j),window.removeEventListener("keyup",re),setEditing$2(!1)}},renderEllipseEditor=(n,e=5)=>{const r=n.getContext("2d"),{x:g,y,w:k,h:$}=getBound$3(ellipseX.value,ellipseY.value,radiusX.value,radiusY.value),V=mapCanvasX(g),L=mapCanvasY(y),z=mapCanvasWidth(k),j=mapCanvasHeight($),re=mapCanvasWidth(radiusX.value),oe=mapCanvasWidth(radiusY.value);r.strokeStyle="#000",r.beginPath(),r.ellipse(V+re,L+oe,re,oe,0,0,2*Math.PI),r.closePath(),r.stroke(),r.strokeStyle="#79bbff",r.strokeRect(V,L,z,j),r.strokeRect(V-e,L-e,e*2,e*2),r.strokeRect(V+z-e,L-e,e*2,e*2),r.strokeRect(V-e,L+j-e,e*2,e*2),r.strokeRect(V+z-e,L+j-e,e*2,e*2)},getBound$3=(n,e,r,g)=>({x:n,y:e,w:2*r,h:2*g}),genEllipseComponent=(n,e,r,g)=>{let y=getEllipsePoints(r,g,1e3,n+r,e+g);const{x:k,y:$,w:V,h:L}=getBound$3(n,e,r,g),z=0,j=!1,re=!1;let oe={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(oe.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,oe.descender=selectedFile.value.fontSettings.descender,oe.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let ae=transformPoints(y,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const de=formatPoints(ae,oe,1),ue=genEllipseContour(de),pe=100/oe.unitsPerEm,he=ae.map(xe=>Object.assign({},xe,{x:xe.x*pe,y:xe.y*pe})),Oe=genEllipseContour(he);return{uuid:genUUID(),type:"ellipse",name:"ellipse",lock:!1,visible:!0,value:{radiusX:r,radiusY:g,fillColor:"",strokeColor:"#000",preview:Oe,contour:ue},x:n,y:e,w:2*r,h:2*g,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},initRectangle=(n,e=!1)=>{let r=!1,g=!1,y=-1,k=-1,$=!1;const V=ae=>{saveState("",[StoreType.Rectangle,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),setEditing$3(!0),r=!0,y=getCoord(ae.offsetX),k=getCoord(ae.offsetY),getCoord(ae.offsetX),getCoord(ae.offsetY)},L=ae=>{if(!r)return;const de=getCoord(ae.offsetX),ue=getCoord(ae.offsetY);if(g=!0,r)if(!$)setRectWidth(Math.abs(de-y)),setRectHeight(Math.abs(ue-k)),de>=y&&ue>=k?(setRectX(y),setRectY(k)):de<=y&&ue<=k?(setRectX(de),setRectY(ue)):de>=y&&ue<=k?(setRectX(y),setRectY(ue)):(setRectX(de),setRectY(k));else{const pe=Math.max(Math.abs(de-y),Math.abs(ue-k)),he=Math.abs(de-y)>Math.abs(ue-k);setRectWidth(pe),setRectHeight(pe),de>=y&&ue>=k?(setRectX(y),setRectY(k)):de<=y&&ue<=k?(setRectX(y-pe),setRectY(k-pe)):de>=y&&ue<=k?he?(setRectX(y),setRectY(k-pe)):(setRectX(y),setRectY(ue)):he?(setRectX(de),setRectY(k)):(setRectX(y-pe),setRectY(k))}},z=ae=>{if(setEditing$3(!1),g){const de=genRectComponent(rectX.value,rectY.value,rectWidth.value,rectHeight.value);r=!1,g=!1,$=!1,y=-1,k=-1,setRectX(-1),setRectY(-1),setRectWidth(0),setRectWidth(0),saveState("",[StoreType.Rectangle,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{newRecord:!1}),e?addComponentForCurrentGlyph(de):addComponentForCurrentCharacterFile(de)}else r=!1,g=!1,$=!1,y=-1,k=-1,setRectX(-1),setRectY(-1),setRectWidth(0),setRectWidth(0)},j=ae=>{ae.key==="Shift"&&($=!0)},re=ae=>{ae.key==="Shift"&&($=!1)};return n.addEventListener("mousedown",V),window.addEventListener("mouseup",z),n.addEventListener("mousemove",L),window.addEventListener("keydown",j),window.addEventListener("keyup",re),()=>{n.removeEventListener("mousedown",V),window.removeEventListener("mouseup",z),n.removeEventListener("mousemove",L),window.removeEventListener("keydown",j),window.removeEventListener("keyup",re),setEditing$3(!1)}},renderRectangleEditor=(n,e=5)=>{const r=n.getContext("2d"),{x:g,y,w:k,h:$}=getBound$2(rectX.value,rectY.value,rectWidth.value,rectHeight.value),V=mapCanvasX(g),L=mapCanvasY(y),z=mapCanvasWidth(k),j=mapCanvasHeight($);r.strokeStyle="#000",r.strokeRect(V,L,z,j),r.strokeStyle="#79bbff",r.strokeRect(V,L,z,j),r.strokeRect(V-e,L-e,e*2,e*2),r.strokeRect(V+z-e,L-e,e*2,e*2),r.strokeRect(V-e,L+j-e,e*2,e*2),r.strokeRect(V+z-e,L+j-e,e*2,e*2)},getBound$2=(n,e,r,g)=>({x:n,y:e,w:r,h:g}),genRectComponent=(n,e,r,g)=>{const y=getRectanglePoints(r,g,n,e),{x:k,y:$,w:V,h:L}=getBound$2(n,e,r,g),z=0,j=!1,re=!1;let oe={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(oe.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,oe.descender=selectedFile.value.fontSettings.descender,oe.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let ae=transformPoints(y,{x:k,y:$,w:V,h:L,rotation:z,flipX:j,flipY:re});const de=formatPoints(ae,oe,1),ue=genRectangleContour(de),pe=100/oe.unitsPerEm,he=ae.map(xe=>Object.assign({},xe,{x:xe.x*pe,y:xe.y*pe})),Oe=genRectangleContour(he);return{uuid:genUUID(),type:"rectangle",name:"rectangle",lock:!1,visible:!0,value:{width:r,height:g,fillColor:"",strokeColor:"#000",preview:Oe,contour:ue},x:n,y:e,w:r,h:g,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},initPolygon=(n,e=!1)=>{mousedown.value=!1,mousemove.value=!1;const r=5;let g=!1;const y=j=>{if(points.value.length||saveState("",[StoreType.Polygon,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),setEditing$4(!0),mousedown.value=!0,!points.value.length){const re={uuid:genUUID(),x:getCoord(j.offsetX),y:getCoord(j.offsetY)},oe=clone$1(points.value);oe.push(re),setPoints(oe)}},k=j=>{if(!points.value.length||!editing$6)return;const re=clone$1(points.value);if(!mousedown.value)if(mousemove.value){const oe=re[re.length-1];oe.x=getCoord(j.offsetX),oe.y=getCoord(j.offsetY),g=!1,isNearPoint(getCoord(j.offsetX),getCoord(j.offsetY),points.value[0].x,points.value[0].y,r)&&(oe.x=points.value[0].x,oe.y=points.value[0].y,g=!0),setPoints(re),mousemove.value=!0}else{saveState("",[StoreType.Polygon,e?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo);const oe={uuid:genUUID(),x:getCoord(j.offsetX),y:getCoord(j.offsetY)};re.push(oe),setPoints(re),mousemove.value=!0}},$=j=>{!points.value.length||!editing$6||(mousedown.value=!1,mousemove.value=!1,g&&(setEditing$4(!1),e?addComponentForCurrentGlyph(genPolygonComponent(clone$1(points.value),!0)):addComponentForCurrentCharacterFile(genPolygonComponent(clone$1(points.value),!0)),setPoints([]),g=!1))},V=j=>{const re=clone$1(points.value);if(points.value.length>=0){const oe={uuid:genUUID(),x:points[0].x,y:points[0].y};re.push(oe),setPoints(re)}setEditing$4(!1),e?addComponentForCurrentGlyph(genPolygonComponent(clone$1(points.value),!0)):addComponentForCurrentCharacterFile(genPolygonComponent(clone$1(points.value),!0)),setPoints([]),g=!1},L=j=>{j.code==="Enter"&&V()};return n.addEventListener("mousedown",y),window.addEventListener("mousemove",k),window.addEventListener("mouseup",$),window.addEventListener("keydown",L),()=>{n.removeEventListener("mousedown",y),window.removeEventListener("mouseup",$),window.removeEventListener("keydown",L),window.removeEventListener("mousemove",k),setEditing$4(!1),setPoints([]),g=!1}},renderPolygonEditor=(n,e)=>{const r=e.getContext("2d"),g=n.value.map(k=>mapCanvasCoords({x:k.x,y:k.y}));if(!g.length)return;const y=10;r.strokeStyle="#000",r.fillStyle="#000",r.beginPath(),r.moveTo(g[0].x,g[0].y);for(let k=1;k<g.length;k++)r.lineTo(g[k].x,g[k].y);r.stroke(),r.closePath();for(let k=0;k<g.length;k++)r.fillRect(g[k].x-y/2,g[k].y-y/2,y,y)},genPolygonComponent=(n,e)=>{const{x:r,y:g,w:y,h:k}=getBound$4(n.reduce((pe,he)=>(pe.push({x:he.x,y:he.y}),pe),[])),$=0,V=!1,L=!1;let z={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(z.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,z.descender=selectedFile.value.fontSettings.descender,z.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let j=transformPoints(n,{x:r,y:g,w:y,h:k,rotation:$,flipX:V,flipY:L});const re=formatPoints(j,z,1),oe=genPolygonContour(re),ae=100/z.unitsPerEm,de=j.map(pe=>Object.assign({},pe,{x:pe.x*ae,y:pe.y*ae})),ue=genPolygonContour(de);return{uuid:genUUID(),type:"polygon",name:"polygon",lock:!1,visible:!0,value:{points:n,fillColor:"",strokeColor:"#000",closePath:e,preview:ue,contour:oe},x:r,y:g,w:y,h:k,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!0}},parseSvgPath=n=>{var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g($){var V=[];return $.replace(r,(L,z,j)=>{var re=z.toLowerCase();for(j=k(j),re=="m"&&j.length>2&&(V.push([z].concat(j.splice(0,2))),re="l",z=z=="m"?"l":"L");;){if(j.length==e[re])return j.unshift(z),V.push(j);if(j.length<e[re])throw new Error("malformed path data");V.push([z].concat(j.splice(0,e[re])))}}),V}var y=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function k($){var V=$.match(y);return V?V.map(Number):[]}return g(n)},parseStrToSvg=n=>new DOMParser().parseFromString(n,"image/svg+xml"),parseSvgToComponents=n=>{const e=n.childNodes.length;let r=[];for(let g=0;g<e;g++){const y=n.childNodes[g],k=y.tagName;if(k==="path"){const $=parseSvgPath(y.getAttribute("d")),V=parsePathCommandsToComponents($);r=r.concat(V)}if(k==="g"&&r.push(...parseSvgToComponents(y)),k==="ellipse"){const $=Number(y.getAttribute("cx")),V=Number(y.getAttribute("cy")),L=Number(y.getAttribute("rx")),z=Number(y.getAttribute("ry")),j=genEllipseComponent($,V,L,z);j.value.fillColor=y.getAttribute("fill")||"#000",j.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(j)}if(k==="rect"){const $=Number(y.getAttribute("x"))|0,V=Number(y.getAttribute("y"))|0,L=Number(y.getAttribute("width")),z=Number(y.getAttribute("height")),j=genRectComponent($,V,L,z);j.value.fillColor=y.getAttribute("fill")||"#000",j.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(j)}if(k==="line"){const $=Number(y.getAttribute("x1")),V=Number(y.getAttribute("y1")),L=Number(y.getAttribute("x2")),z=Number(y.getAttribute("y2")),j=[{x:$,y:V,uuid:genUUID()},{x:L,y:z,uuid:genUUID()}],re=genPolygonComponent(j,!1);re.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(re)}if(k==="polygon"){const $=y.getAttribute("points").split(" ").map(L=>{const z=L.split(",");return{uuid:genUUID(),x:Number(z[0]),y:Number(z[1])}});$.push(clone$1($[0]));const V=genPolygonComponent($,!0);V.value.fillColor=y.getAttribute("fill")||"#000",V.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(V)}if(k==="polyline"){const $=y.getAttribute("points").split(" ").map(z=>{const j=z.split(",");return{uuid:genUUID(),x:Number(j[0]),y:Number(j[1])}}),V=y.getAttribute("fill")!=="none";V&&$.push({uuid:genUUID(),x:$[0].x,y:$[0].y});const L=genPolygonComponent($,V);L.value.strokeColor=y.getAttribute("stroke")||"#000",L.value.fillColor=y.getAttribute("fill")||"#000",r.push(L)}if(k==="circle"){const $=Number(y.getAttribute("cx")),V=Number(y.getAttribute("cy")),L=Number(y.getAttribute("r")),j=genEllipseComponent($,V,L,L);j.value.fillColor=y.getAttribute("fill")||"#000",j.value.strokeColor=y.getAttribute("stroke")||"#000",r.push(j)}}return r},parsePathCommandsToComponents=n=>{const e=[[]],r=[];if(!n.length||n[0][0]!=="M")return null;const g={x:n[0][1],y:n[0][2]},y={x:n[0][1],y:n[0][2]};e[0].push({uuid:genUUID(),x:g.x,y:g.y,type:"anchor",origin:null,isShow:!0});let k=!1,$=n.length,V=0;for(let L=1;L<$;L++){const z=n[L],j=z[0];if(j==="M"||j==="m"){if(k){y.x=e[V][0].x,y.y=e[V][0].y;const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}r.push(genPenComponent(e[V],k)),k=!1,y.x=j==="m"?g.x+z[1]:z[1],y.y=j==="m"?g.y+z[2]:z[2],V+=1,e[V]=[{uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0}]}else if(j==="Z"||j==="z")k=!0;else if(j==="L"||j==="l"){y.x=j==="l"?g.x+z[1]:z[1],y.y=j==="l"?g.y+z[2]:z[2];const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="H"||j==="h"){y.x=j==="h"?g.x+z[1]:z[1],y.y=j===g.y;const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="V"||j==="v"){y.x=j===g.x,y.y=j==="v"?g.y+z[1]:z[1];const re={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="C"||j==="c"){y.x=j==="c"?g.x+z[5]:z[5],y.y=j==="c"?g.y+z[6]:z[6];const re={uuid:genUUID(),x:j==="c"?g.x+z[1]:z[1],y:j==="c"?g.y+z[2]:z[2],type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:j==="c"?g.x+z[3]:z[3],y:j==="c"?g.y+z[4]:z[4],type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="S"||j==="s"){y.x=j==="s"?g.x+z[3]:z[3],y.y=j==="s"?g.y+z[4]:z[4];const re=n[L-1][0],oe={x:g.x,y:g.y};if(re.match(/[CcSsQqTt]/g)){const pe=e[V][e[V].length-2];oe.x=g.x+g.x-pe.x,oe.y=g.y+g.y-pe.y}const ae={uuid:genUUID(),x:oe.x,y:oe.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},de={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ue={uuid:genUUID(),x:j==="s"?g.x+z[1]:z[1],y:j==="s"?g.y+z[2]:z[2],type:"control",origin:de.uuid,isShow:!0};e[V].push(ae,ue,de)}if(j==="Q"||j==="q"){y.x=j==="q"?g.x+z[3]:z[3],y.y=j==="q"?g.y+z[4]:z[4];const re={uuid:genUUID(),x:j==="q"?g.x+z[1]:z[1],y:j==="q"?g.y+z[2]:z[2],type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},oe={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ae={uuid:genUUID(),x:j==="q"?g.x+z[1]:z[1],y:j==="q"?g.y+z[2]:z[2],type:"control",origin:oe.uuid,isShow:!0};e[V].push(re,ae,oe)}if(j==="T"||j==="t"){y.x=j==="t"?g.x+z[1]:z[1],y.y=j==="t"?g.y+z[2]:z[2];const re=n[L-1][0],oe={x:g.x,y:g.y};if(re.match(/[CcSsQqTt]/g)){const pe=e[V][e[V].length-2];oe.x=g.x+g.x-pe.x,oe.y=g.y+g.y-pe.y}const ae={uuid:genUUID(),x:oe.x,y:oe.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},de={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},ue={uuid:genUUID(),x:oe.x,y:oe.y,type:"control",origin:de.uuid,isShow:!0};e[V].push(ae,ue,de)}if(j==="A"||j==="a"){const re=z[1],oe=z[2],ae=z[3]*Math.PI/180,de=z[4],ue=z[5];y.x=j==="a"?g.x+z[6]:z[6],y.y=j==="a"?g.y+z[7]:z[7],convertEllipsePathToBeziers(re,oe,ae,de,ue,g.x,g.y,y.x,y.y).forEach(he=>{const Oe={uuid:genUUID(),x:he.cpx1,y:he.cpy1,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},xe={uuid:genUUID(),x:he.en2.x,y:he.en2.y,type:"anchor",origin:null,isShow:!0},$e={uuid:genUUID(),x:he.cpx2,y:he.cpy2,type:"control",origin:xe.uuid,isShow:!0};e[V].push(Oe,$e,xe)})}g.x=y.x,g.y=y.y}if(k){y.x=e[V][0].x,y.y=e[V][0].y;const L={uuid:genUUID(),x:g.x,y:g.y,type:"control",origin:e[V][e[V].length-1].uuid,isShow:!0},z={uuid:genUUID(),x:y.x,y:y.y,type:"anchor",origin:null,isShow:!0},j={uuid:genUUID(),x:y.x,y:y.y,type:"control",origin:z.uuid,isShow:!0};e[V].push(L,j,z)}return r.push(genPenComponent(e[V],k)),r},componentsToSvg=(n,e,r,g="default",y={isSub:!1,ox:0,oy:0})=>{const{isSub:k,ox:$,oy:V}=y;let L=k?"":`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${e} ${r}">`,z=g==="contour"?"":"#000000";for(let j=0;j<n.length;j++){const re=n[j],{x:oe,y:ae,w:de,h:ue,rotation:pe}=re;if(re.type==="pen"){const{points:he,strokeColor:Oe,closePath:xe}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const{x:$e,y:Ne,w:Ce,h:Fe}=getBound$4(he),ze=oe-$e,kt=ae-Ne,At=de/Ce,Cn=ue/Fe,Dt=oe+de/2,On=ae+ue/2;if(!he.length)continue;L+=`<path fill="${z}" stroke="${Oe}" d="M ${he[0].x},${he[0].y} `;for(let jt=1;jt<he.length;jt+=3)L+=`C ${he[jt].x},${he[jt].y},${he[jt+1].x},${he[jt+1].y},${he[jt+2].x},${he[jt+2].y} `;xe&&(L+="z"),L+='" ',L+=`transform="translate(${ze}, ${kt}) `,L+=`scale(${At}, ${Cn}) `,L+=`rotate(${pe}, ${Dt}, ${On})"`,L+=" />"}else if(re.type==="polygon"){const{points:he,strokeColor:Oe,closePath:xe}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const{x:$e,y:Ne,w:Ce,h:Fe}=getBound$4(he),ze=oe-$e,kt=ae-Ne,At=de/Ce,Cn=ue/Fe,Dt=oe+de/2,On=ae+ue/2;if(!he.length)continue;L+=`<path fill="${z}" stroke="${Oe}" d="M ${he[0].x},${he[0].y} `;for(let jt=1;jt<he.length;jt++)L+=`L ${he[jt].x},${he[jt].y} `;xe&&(L+="z"),L+='" ',L+=`transform="translate(${ze}, ${kt}) `,L+=`scale(${At}, ${Cn}) `,L+=`rotate(${pe}, ${Dt}, ${On})"`,L+=" />"}else if(re.type==="ellipse"){const{radiusX:he,radiusY:Oe,strokeColor:xe}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const $e=he,Ne=Oe,Ce=de/(he*2),Fe=ue/(Oe*2),ze=oe+de/2,kt=ae+ue/2;L+=`<ellipse fill="${z}" stroke="${xe}" `,L+=`cx="${oe}" cy="${ae}" rx="${he}" ry="${Oe}" `,L+=`transform="translate(${$e}, ${Ne}) `,L+=`scale(${Ce}, ${Fe}) `,L+=`rotate(${pe}, ${ze}, ${kt})"`,L+=" />"}else if(re.type==="rectangle"){const{width:he,height:Oe,strokeColor:xe}=re.value;g==="default"&&(z=re.value.fillColor||"#000");const $e=de/he,Ne=ue/Oe,Ce=oe+de/2,Fe=ae+ue/2;L+=`<rect fill="${z}" stroke="${xe}" `,L+=`x="${oe}" y="${ae}" width="${he}" height="${Oe}" `,L+='transform="translate(0, 0) ',L+=`scale(${$e}, ${Ne}) `,L+=`rotate(${pe}, ${Ce}, ${Fe})"`,L+=" />"}else if(re.type==="glyph-pen"){const{points:he}=re,Oe="#000";if(g==="default"&&(z="#000"),!he.length)continue;L+=`<path fill="${z}" stroke="${Oe}" d="M ${he[0].x+$},${he[0].y+V} `;for(let xe=1;xe<he.length;xe+=3)L+=`C ${he[xe].x+$},${he[xe].y+V},${he[xe+1].x+$},${he[xe+1].y+V},${he[xe+2].x+$},${he[xe+2].y+V} `;L+="z",L+='"',L+=" />"}else if(re.type==="glyph-polygon"){const{points:he}=re,Oe="#000";if(g==="default"&&(z="#000"),!he.length)continue;L+=`<path fill="${z}" stroke="${Oe}" d="M ${he[0].x+$},${he[0].y+V} `;for(let xe=1;xe<he.length;xe++)L+=`L ${he[xe].x+$},${he[xe].y+V} `;L+="z",L+='"',L+=" />"}else if(re.type==="glyph-ellipse"){const{centerX:he,centerY:Oe,radiusX:xe,radiusY:$e}=re,Ne="#000";g==="default"&&(z="#000"),L+=`<ellipse fill="${z}" stroke="${Ne}" `,L+=`cx="${he+$}" cy="${Oe+V}" rx="${xe}" ry="${$e}"`,L+=" />"}else if(re.type==="glyph-rectangle"){const{x:he,y:Oe,width:xe,height:$e}=re,Ne="#000";g==="default"&&(z="#000"),L+=`<rect fill="${z}" stroke="${Ne}" `,L+=`x="${he+$}" y="${Oe+V}" width="${xe}" height="${$e}" `,L+="/>"}else if(re.type==="glyph"){const he=re.value;he._o||(executeScript(he),he._o.getJoints().map(xe=>{xe.component=re}));const Oe=componentsToSvg(he._o.components,e,r,g,{isSub:!0,ox:$+re.ox,oy:V+re.oy});L+=Oe}}return!k&&(L+="</svg>"),L},convertEllipsePathToBeziers=(n,e,r,g,y,k,$,V,L)=>{const z=(oe,ae,de)=>Math.min(Math.max(oe,ae),de),j=(oe,ae,de,ue)=>{var pe=oe*de+ae*ue,he=Math.sqrt(oe*oe+ae*ae)*Math.sqrt(de*de+ue*ue),Oe=Math.acos(z(pe/he,-1,1));return oe*ue-ae*de<0&&(Oe=-Oe),Oe};return((oe,ae,de,ue,pe,he,Oe,xe,$e)=>{var Ne=Math.abs(oe),Ce=Math.abs(ae),Fe=(he-xe)/2,ze=(Oe-$e)/2,kt=Math.cos(de)*Fe+Math.sin(de)*ze,At=-Math.sin(de)*Fe+Math.cos(de)*ze,Cn=Ne*Ne,Dt=Ce*Ce,On=kt*kt,jt=At*At,An=On/Cn+jt/Dt;if(An>1){var Mn=Math.sqrt(An);Ne=Mn*Ne,Ce=Mn*Ce,Cn=Ne*Ne,Dt=Ce*Ce}var $n=Cn*jt+Dt*On,Ln=(Cn*Dt-$n)/$n,Tn=Math.sqrt(Math.max(0,Ln));ue===pe&&(Tn=-Tn);for(var Zn=Tn*Ne*At/Ce,Qn=-Tn*Ce*kt/Ne,Pn=Math.cos(de)*Zn-Math.sin(de)*Qn+(he+xe)/2,Wn=Math.sin(de)*Zn+Math.cos(de)*Qn+(Oe+$e)/2,ur=j(1,0,(kt-Zn)/Ne,(At-Qn)/Ce),hr=j((kt-Zn)/Ne,(At-Qn)/Ce,(-kt-Zn)/Ne,(-At-Qn)/Ce);hr>Math.PI*2;)hr-=Math.PI*2;for(;hr<0;)hr+=Math.PI*2;pe||(hr-=2*Math.PI);var Vn=ur,En=ur+hr;const jn=Kn=>{var Nn=Pn+oe*Math.cos(de)*Math.cos(Kn)-ae*Math.sin(de)*Math.sin(Kn),Lt=Wn+oe*Math.sin(de)*Math.cos(Kn)+ae*Math.cos(de)*Math.sin(Kn);return{x:Nn,y:Lt}},cr=Kn=>{var Nn=-1*oe*Math.cos(de)*Math.sin(Kn)-ae*Math.sin(de)*Math.cos(Kn),Lt=-1*oe*Math.sin(de)*Math.sin(Kn)+ae*Math.cos(de)*Math.cos(Kn);return{x:Nn,y:Lt}};var gr=[];gr.push(Vn);for(var Cr=Math.PI/4;gr[gr.length-1]+Cr<En;)gr.push(gr[gr.length-1]+Cr);if(En>Vn)for(;gr[gr.length-1]+Cr<En;)gr.push(gr[gr.length-1]+Cr);else for(;gr[gr.length-1]-Cr>En;)gr.push(gr[gr.length-1]-Cr);gr.push(En);const ir=(Kn,Nn)=>{var Lt=jn(Kn),_n=jn(Nn),Bn=cr(Kn),Xn=cr(Nn),rr=Math.sin(Nn-Kn)*(Math.sqrt(4+3*Math.pow(Math.tan((Nn-Kn)/2),2))-1)/3;return{cpx1:Lt.x+rr*Bn.x,cpy1:Lt.y+rr*Bn.y,cpx2:_n.x-rr*Xn.x,cpy2:_n.y-rr*Xn.y,en1:Lt,en2:_n}};for(var Gn=[],hn=0;hn<gr.length-1;hn++)Gn.push(ir(gr[hn],gr[hn+1]));return Gn})(n,e,r,g,y,k,$,V,L)};var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(r){n.exports=r()})(function(){return function r(g,y,k){function $(z,j){if(!y[z]){if(!g[z]){var re=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&re)return re(z,!0);if(V)return V(z,!0);var oe=new Error("Cannot find module '"+z+"'");throw oe.code="MODULE_NOT_FOUND",oe}var ae=y[z]={exports:{}};g[z][0].call(ae.exports,function(de){var ue=g[z][1][de];return $(ue||de)},ae,ae.exports,r,g,y,k)}return y[z].exports}for(var V=typeof commonjsRequire=="function"&&commonjsRequire,L=0;L<k.length;L++)$(k[L]);return $}({1:[function(r,g,y){var k=r("./utils"),$=r("./support"),V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(L){for(var z,j,re,oe,ae,de,ue,pe=[],he=0,Oe=L.length,xe=Oe,$e=k.getTypeOf(L)!=="string";he<L.length;)xe=Oe-he,re=$e?(z=L[he++],j=he<Oe?L[he++]:0,he<Oe?L[he++]:0):(z=L.charCodeAt(he++),j=he<Oe?L.charCodeAt(he++):0,he<Oe?L.charCodeAt(he++):0),oe=z>>2,ae=(3&z)<<4|j>>4,de=1<xe?(15&j)<<2|re>>6:64,ue=2<xe?63&re:64,pe.push(V.charAt(oe)+V.charAt(ae)+V.charAt(de)+V.charAt(ue));return pe.join("")},y.decode=function(L){var z,j,re,oe,ae,de,ue=0,pe=0,he="data:";if(L.substr(0,he.length)===he)throw new Error("Invalid base64 input, it looks like a data url.");var Oe,xe=3*(L=L.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(L.charAt(L.length-1)===V.charAt(64)&&xe--,L.charAt(L.length-2)===V.charAt(64)&&xe--,xe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Oe=$.uint8array?new Uint8Array(0|xe):new Array(0|xe);ue<L.length;)z=V.indexOf(L.charAt(ue++))<<2|(oe=V.indexOf(L.charAt(ue++)))>>4,j=(15&oe)<<4|(ae=V.indexOf(L.charAt(ue++)))>>2,re=(3&ae)<<6|(de=V.indexOf(L.charAt(ue++))),Oe[pe++]=z,ae!==64&&(Oe[pe++]=j),de!==64&&(Oe[pe++]=re);return Oe}},{"./support":30,"./utils":32}],2:[function(r,g,y){var k=r("./external"),$=r("./stream/DataWorker"),V=r("./stream/Crc32Probe"),L=r("./stream/DataLengthProbe");function z(j,re,oe,ae,de){this.compressedSize=j,this.uncompressedSize=re,this.crc32=oe,this.compression=ae,this.compressedContent=de}z.prototype={getContentWorker:function(){var j=new $(k.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new L("data_length")),re=this;return j.on("end",function(){if(this.streamInfo.data_length!==re.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),j},getCompressedWorker:function(){return new $(k.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},z.createWorkerFrom=function(j,re,oe){return j.pipe(new V).pipe(new L("uncompressedSize")).pipe(re.compressWorker(oe)).pipe(new L("compressedSize")).withStreamInfo("compression",re)},g.exports=z},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,g,y){var k=r("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new k("STORE compression")},uncompressWorker:function(){return new k("STORE decompression")}},y.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,g,y){var k=r("./utils"),$=function(){for(var V,L=[],z=0;z<256;z++){V=z;for(var j=0;j<8;j++)V=1&V?3988292384^V>>>1:V>>>1;L[z]=V}return L}();g.exports=function(V,L){return V!==void 0&&V.length?k.getTypeOf(V)!=="string"?function(z,j,re,oe){var ae=$,de=oe+re;z^=-1;for(var ue=oe;ue<de;ue++)z=z>>>8^ae[255&(z^j[ue])];return-1^z}(0|L,V,V.length,0):function(z,j,re,oe){var ae=$,de=oe+re;z^=-1;for(var ue=oe;ue<de;ue++)z=z>>>8^ae[255&(z^j.charCodeAt(ue))];return-1^z}(0|L,V,V.length,0):0}},{"./utils":32}],5:[function(r,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(r,g,y){var k=null;k=typeof Promise<"u"?Promise:r("lie"),g.exports={Promise:k}},{lie:37}],7:[function(r,g,y){var k=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",$=r("pako"),V=r("./utils"),L=r("./stream/GenericWorker"),z=k?"uint8array":"array";function j(re,oe){L.call(this,"FlateWorker/"+re),this._pako=null,this._pakoAction=re,this._pakoOptions=oe,this.meta={}}y.magic="\b\0",V.inherits(j,L),j.prototype.processChunk=function(re){this.meta=re.meta,this._pako===null&&this._createPako(),this._pako.push(V.transformTo(z,re.data),!1)},j.prototype.flush=function(){L.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},j.prototype.cleanUp=function(){L.prototype.cleanUp.call(this),this._pako=null},j.prototype._createPako=function(){this._pako=new $[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var re=this;this._pako.onData=function(oe){re.push({data:oe,meta:re.meta})}},y.compressWorker=function(re){return new j("Deflate",re)},y.uncompressWorker=function(){return new j("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,g,y){function k(ae,de){var ue,pe="";for(ue=0;ue<de;ue++)pe+=String.fromCharCode(255&ae),ae>>>=8;return pe}function $(ae,de,ue,pe,he,Oe){var xe,$e,Ne=ae.file,Ce=ae.compression,Fe=Oe!==z.utf8encode,ze=V.transformTo("string",Oe(Ne.name)),kt=V.transformTo("string",z.utf8encode(Ne.name)),At=Ne.comment,Cn=V.transformTo("string",Oe(At)),Dt=V.transformTo("string",z.utf8encode(At)),On=kt.length!==Ne.name.length,jt=Dt.length!==At.length,An="",Mn="",$n="",Ln=Ne.dir,Tn=Ne.date,Zn={crc32:0,compressedSize:0,uncompressedSize:0};de&&!ue||(Zn.crc32=ae.crc32,Zn.compressedSize=ae.compressedSize,Zn.uncompressedSize=ae.uncompressedSize);var Qn=0;de&&(Qn|=8),Fe||!On&&!jt||(Qn|=2048);var Pn=0,Wn=0;Ln&&(Pn|=16),he==="UNIX"?(Wn=798,Pn|=function(hr,Vn){var En=hr;return hr||(En=Vn?16893:33204),(65535&En)<<16}(Ne.unixPermissions,Ln)):(Wn=20,Pn|=function(hr){return 63&(hr||0)}(Ne.dosPermissions)),xe=Tn.getUTCHours(),xe<<=6,xe|=Tn.getUTCMinutes(),xe<<=5,xe|=Tn.getUTCSeconds()/2,$e=Tn.getUTCFullYear()-1980,$e<<=4,$e|=Tn.getUTCMonth()+1,$e<<=5,$e|=Tn.getUTCDate(),On&&(Mn=k(1,1)+k(j(ze),4)+kt,An+="up"+k(Mn.length,2)+Mn),jt&&($n=k(1,1)+k(j(Cn),4)+Dt,An+="uc"+k($n.length,2)+$n);var ur="";return ur+=`
\0`,ur+=k(Qn,2),ur+=Ce.magic,ur+=k(xe,2),ur+=k($e,2),ur+=k(Zn.crc32,4),ur+=k(Zn.compressedSize,4),ur+=k(Zn.uncompressedSize,4),ur+=k(ze.length,2),ur+=k(An.length,2),{fileRecord:re.LOCAL_FILE_HEADER+ur+ze+An,dirRecord:re.CENTRAL_FILE_HEADER+k(Wn,2)+ur+k(Cn.length,2)+"\0\0\0\0"+k(Pn,4)+k(pe,4)+ze+An+Cn}}var V=r("../utils"),L=r("../stream/GenericWorker"),z=r("../utf8"),j=r("../crc32"),re=r("../signature");function oe(ae,de,ue,pe){L.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=de,this.zipPlatform=ue,this.encodeFileName=pe,this.streamFiles=ae,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}V.inherits(oe,L),oe.prototype.push=function(ae){var de=ae.meta.percent||0,ue=this.entriesCount,pe=this._sources.length;this.accumulate?this.contentBuffer.push(ae):(this.bytesWritten+=ae.data.length,L.prototype.push.call(this,{data:ae.data,meta:{currentFile:this.currentFile,percent:ue?(de+100*(ue-pe-1))/ue:100}}))},oe.prototype.openedSource=function(ae){this.currentSourceOffset=this.bytesWritten,this.currentFile=ae.file.name;var de=this.streamFiles&&!ae.file.dir;if(de){var ue=$(ae,de,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ue.fileRecord,meta:{percent:0}})}else this.accumulate=!0},oe.prototype.closedSource=function(ae){this.accumulate=!1;var de=this.streamFiles&&!ae.file.dir,ue=$(ae,de,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ue.dirRecord),de)this.push({data:function(pe){return re.DATA_DESCRIPTOR+k(pe.crc32,4)+k(pe.compressedSize,4)+k(pe.uncompressedSize,4)}(ae),meta:{percent:100}});else for(this.push({data:ue.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},oe.prototype.flush=function(){for(var ae=this.bytesWritten,de=0;de<this.dirRecords.length;de++)this.push({data:this.dirRecords[de],meta:{percent:100}});var ue=this.bytesWritten-ae,pe=function(he,Oe,xe,$e,Ne){var Ce=V.transformTo("string",Ne($e));return re.CENTRAL_DIRECTORY_END+"\0\0\0\0"+k(he,2)+k(he,2)+k(Oe,4)+k(xe,4)+k(Ce.length,2)+Ce}(this.dirRecords.length,ue,ae,this.zipComment,this.encodeFileName);this.push({data:pe,meta:{percent:100}})},oe.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},oe.prototype.registerPrevious=function(ae){this._sources.push(ae);var de=this;return ae.on("data",function(ue){de.processChunk(ue)}),ae.on("end",function(){de.closedSource(de.previous.streamInfo),de._sources.length?de.prepareNextSource():de.end()}),ae.on("error",function(ue){de.error(ue)}),this},oe.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},oe.prototype.error=function(ae){var de=this._sources;if(!L.prototype.error.call(this,ae))return!1;for(var ue=0;ue<de.length;ue++)try{de[ue].error(ae)}catch{}return!0},oe.prototype.lock=function(){L.prototype.lock.call(this);for(var ae=this._sources,de=0;de<ae.length;de++)ae[de].lock()},g.exports=oe},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,g,y){var k=r("../compressions"),$=r("./ZipFileWorker");y.generateWorker=function(V,L,z){var j=new $(L.streamFiles,z,L.platform,L.encodeFileName),re=0;try{V.forEach(function(oe,ae){re++;var de=function(Oe,xe){var $e=Oe||xe,Ne=k[$e];if(!Ne)throw new Error($e+" is not a valid compression method !");return Ne}(ae.options.compression,L.compression),ue=ae.options.compressionOptions||L.compressionOptions||{},pe=ae.dir,he=ae.date;ae._compressWorker(de,ue).withStreamInfo("file",{name:oe,dir:pe,date:he,comment:ae.comment||"",unixPermissions:ae.unixPermissions,dosPermissions:ae.dosPermissions}).pipe(j)}),j.entriesCount=re}catch(oe){j.error(oe)}return j}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,g,y){function k(){if(!(this instanceof k))return new k;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var $=new k;for(var V in this)typeof this[V]!="function"&&($[V]=this[V]);return $}}(k.prototype=r("./object")).loadAsync=r("./load"),k.support=r("./support"),k.defaults=r("./defaults"),k.version="3.10.1",k.loadAsync=function($,V){return new k().loadAsync($,V)},k.external=r("./external"),g.exports=k},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,g,y){var k=r("./utils"),$=r("./external"),V=r("./utf8"),L=r("./zipEntries"),z=r("./stream/Crc32Probe"),j=r("./nodejsUtils");function re(oe){return new $.Promise(function(ae,de){var ue=oe.decompressed.getContentWorker().pipe(new z);ue.on("error",function(pe){de(pe)}).on("end",function(){ue.streamInfo.crc32!==oe.decompressed.crc32?de(new Error("Corrupted zip : CRC32 mismatch")):ae()}).resume()})}g.exports=function(oe,ae){var de=this;return ae=k.extend(ae||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:V.utf8decode}),j.isNode&&j.isStream(oe)?$.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):k.prepareContent("the loaded zip file",oe,!0,ae.optimizedBinaryString,ae.base64).then(function(ue){var pe=new L(ae);return pe.load(ue),pe}).then(function(ue){var pe=[$.Promise.resolve(ue)],he=ue.files;if(ae.checkCRC32)for(var Oe=0;Oe<he.length;Oe++)pe.push(re(he[Oe]));return $.Promise.all(pe)}).then(function(ue){for(var pe=ue.shift(),he=pe.files,Oe=0;Oe<he.length;Oe++){var xe=he[Oe],$e=xe.fileNameStr,Ne=k.resolve(xe.fileNameStr);de.file(Ne,xe.decompressed,{binary:!0,optimizedBinaryString:!0,date:xe.date,dir:xe.dir,comment:xe.fileCommentStr.length?xe.fileCommentStr:null,unixPermissions:xe.unixPermissions,dosPermissions:xe.dosPermissions,createFolders:ae.createFolders}),xe.dir||(de.file(Ne).unsafeOriginalName=$e)}return pe.zipComment.length&&(de.comment=pe.zipComment),de})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,g,y){var k=r("../utils"),$=r("../stream/GenericWorker");function V(L,z){$.call(this,"Nodejs stream input adapter for "+L),this._upstreamEnded=!1,this._bindStream(z)}k.inherits(V,$),V.prototype._bindStream=function(L){var z=this;(this._stream=L).pause(),L.on("data",function(j){z.push({data:j,meta:{percent:0}})}).on("error",function(j){z.isPaused?this.generatedError=j:z.error(j)}).on("end",function(){z.isPaused?z._upstreamEnded=!0:z.end()})},V.prototype.pause=function(){return!!$.prototype.pause.call(this)&&(this._stream.pause(),!0)},V.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=V},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,g,y){var k=r("readable-stream").Readable;function $(V,L,z){k.call(this,L),this._helper=V;var j=this;V.on("data",function(re,oe){j.push(re)||j._helper.pause(),z&&z(oe)}).on("error",function(re){j.emit("error",re)}).on("end",function(){j.push(null)})}r("../utils").inherits($,k),$.prototype._read=function(){this._helper.resume()},g.exports=$},{"../utils":32,"readable-stream":16}],14:[function(r,g,y){g.exports={isNode:typeof Buffer<"u",newBufferFrom:function(k,$){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(k,$);if(typeof k=="number")throw new Error('The "data" argument must not be a number');return new Buffer(k,$)},allocBuffer:function(k){if(Buffer.alloc)return Buffer.alloc(k);var $=new Buffer(k);return $.fill(0),$},isBuffer:function(k){return Buffer.isBuffer(k)},isStream:function(k){return k&&typeof k.on=="function"&&typeof k.pause=="function"&&typeof k.resume=="function"}}},{}],15:[function(r,g,y){function k(Ne,Ce,Fe){var ze,kt=V.getTypeOf(Ce),At=V.extend(Fe||{},j);At.date=At.date||new Date,At.compression!==null&&(At.compression=At.compression.toUpperCase()),typeof At.unixPermissions=="string"&&(At.unixPermissions=parseInt(At.unixPermissions,8)),At.unixPermissions&&16384&At.unixPermissions&&(At.dir=!0),At.dosPermissions&&16&At.dosPermissions&&(At.dir=!0),At.dir&&(Ne=he(Ne)),At.createFolders&&(ze=pe(Ne))&&Oe.call(this,ze,!0);var Cn=kt==="string"&&At.binary===!1&&At.base64===!1;Fe&&Fe.binary!==void 0||(At.binary=!Cn),(Ce instanceof re&&Ce.uncompressedSize===0||At.dir||!Ce||Ce.length===0)&&(At.base64=!1,At.binary=!0,Ce="",At.compression="STORE",kt="string");var Dt=null;Dt=Ce instanceof re||Ce instanceof L?Ce:de.isNode&&de.isStream(Ce)?new ue(Ne,Ce):V.prepareContent(Ne,Ce,At.binary,At.optimizedBinaryString,At.base64);var On=new oe(Ne,Dt,At);this.files[Ne]=On}var $=r("./utf8"),V=r("./utils"),L=r("./stream/GenericWorker"),z=r("./stream/StreamHelper"),j=r("./defaults"),re=r("./compressedObject"),oe=r("./zipObject"),ae=r("./generate"),de=r("./nodejsUtils"),ue=r("./nodejs/NodejsStreamInputAdapter"),pe=function(Ne){Ne.slice(-1)==="/"&&(Ne=Ne.substring(0,Ne.length-1));var Ce=Ne.lastIndexOf("/");return 0<Ce?Ne.substring(0,Ce):""},he=function(Ne){return Ne.slice(-1)!=="/"&&(Ne+="/"),Ne},Oe=function(Ne,Ce){return Ce=Ce!==void 0?Ce:j.createFolders,Ne=he(Ne),this.files[Ne]||k.call(this,Ne,null,{dir:!0,createFolders:Ce}),this.files[Ne]};function xe(Ne){return Object.prototype.toString.call(Ne)==="[object RegExp]"}var $e={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Ne){var Ce,Fe,ze;for(Ce in this.files)ze=this.files[Ce],(Fe=Ce.slice(this.root.length,Ce.length))&&Ce.slice(0,this.root.length)===this.root&&Ne(Fe,ze)},filter:function(Ne){var Ce=[];return this.forEach(function(Fe,ze){Ne(Fe,ze)&&Ce.push(ze)}),Ce},file:function(Ne,Ce,Fe){if(arguments.length!==1)return Ne=this.root+Ne,k.call(this,Ne,Ce,Fe),this;if(xe(Ne)){var ze=Ne;return this.filter(function(At,Cn){return!Cn.dir&&ze.test(At)})}var kt=this.files[this.root+Ne];return kt&&!kt.dir?kt:null},folder:function(Ne){if(!Ne)return this;if(xe(Ne))return this.filter(function(kt,At){return At.dir&&Ne.test(kt)});var Ce=this.root+Ne,Fe=Oe.call(this,Ce),ze=this.clone();return ze.root=Fe.name,ze},remove:function(Ne){Ne=this.root+Ne;var Ce=this.files[Ne];if(Ce||(Ne.slice(-1)!=="/"&&(Ne+="/"),Ce=this.files[Ne]),Ce&&!Ce.dir)delete this.files[Ne];else for(var Fe=this.filter(function(kt,At){return At.name.slice(0,Ne.length)===Ne}),ze=0;ze<Fe.length;ze++)delete this.files[Fe[ze].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Ne){var Ce,Fe={};try{if((Fe=V.extend(Ne||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:$.utf8encode})).type=Fe.type.toLowerCase(),Fe.compression=Fe.compression.toUpperCase(),Fe.type==="binarystring"&&(Fe.type="string"),!Fe.type)throw new Error("No output type specified.");V.checkSupport(Fe.type),Fe.platform!=="darwin"&&Fe.platform!=="freebsd"&&Fe.platform!=="linux"&&Fe.platform!=="sunos"||(Fe.platform="UNIX"),Fe.platform==="win32"&&(Fe.platform="DOS");var ze=Fe.comment||this.comment||"";Ce=ae.generateWorker(this,Fe,ze)}catch(kt){(Ce=new L("error")).error(kt)}return new z(Ce,Fe.type||"string",Fe.mimeType)},generateAsync:function(Ne,Ce){return this.generateInternalStream(Ne).accumulate(Ce)},generateNodeStream:function(Ne,Ce){return(Ne=Ne||{}).type||(Ne.type="nodebuffer"),this.generateInternalStream(Ne).toNodejsStream(Ce)}};g.exports=$e},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,g,y){g.exports=r("stream")},{stream:void 0}],17:[function(r,g,y){var k=r("./DataReader");function $(V){k.call(this,V);for(var L=0;L<this.data.length;L++)V[L]=255&V[L]}r("../utils").inherits($,k),$.prototype.byteAt=function(V){return this.data[this.zero+V]},$.prototype.lastIndexOfSignature=function(V){for(var L=V.charCodeAt(0),z=V.charCodeAt(1),j=V.charCodeAt(2),re=V.charCodeAt(3),oe=this.length-4;0<=oe;--oe)if(this.data[oe]===L&&this.data[oe+1]===z&&this.data[oe+2]===j&&this.data[oe+3]===re)return oe-this.zero;return-1},$.prototype.readAndCheckSignature=function(V){var L=V.charCodeAt(0),z=V.charCodeAt(1),j=V.charCodeAt(2),re=V.charCodeAt(3),oe=this.readData(4);return L===oe[0]&&z===oe[1]&&j===oe[2]&&re===oe[3]},$.prototype.readData=function(V){if(this.checkOffset(V),V===0)return[];var L=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./DataReader":18}],18:[function(r,g,y){var k=r("../utils");function $(V){this.data=V,this.length=V.length,this.index=0,this.zero=0}$.prototype={checkOffset:function(V){this.checkIndex(this.index+V)},checkIndex:function(V){if(this.length<this.zero+V||V<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+V+"). Corrupted zip ?")},setIndex:function(V){this.checkIndex(V),this.index=V},skip:function(V){this.setIndex(this.index+V)},byteAt:function(){},readInt:function(V){var L,z=0;for(this.checkOffset(V),L=this.index+V-1;L>=this.index;L--)z=(z<<8)+this.byteAt(L);return this.index+=V,z},readString:function(V){return k.transformTo("string",this.readData(V))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var V=this.readInt(4);return new Date(Date.UTC(1980+(V>>25&127),(V>>21&15)-1,V>>16&31,V>>11&31,V>>5&63,(31&V)<<1))}},g.exports=$},{"../utils":32}],19:[function(r,g,y){var k=r("./Uint8ArrayReader");function $(V){k.call(this,V)}r("../utils").inherits($,k),$.prototype.readData=function(V){this.checkOffset(V);var L=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,g,y){var k=r("./DataReader");function $(V){k.call(this,V)}r("../utils").inherits($,k),$.prototype.byteAt=function(V){return this.data.charCodeAt(this.zero+V)},$.prototype.lastIndexOfSignature=function(V){return this.data.lastIndexOf(V)-this.zero},$.prototype.readAndCheckSignature=function(V){return V===this.readData(4)},$.prototype.readData=function(V){this.checkOffset(V);var L=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./DataReader":18}],21:[function(r,g,y){var k=r("./ArrayReader");function $(V){k.call(this,V)}r("../utils").inherits($,k),$.prototype.readData=function(V){if(this.checkOffset(V),V===0)return new Uint8Array(0);var L=this.data.subarray(this.zero+this.index,this.zero+this.index+V);return this.index+=V,L},g.exports=$},{"../utils":32,"./ArrayReader":17}],22:[function(r,g,y){var k=r("../utils"),$=r("../support"),V=r("./ArrayReader"),L=r("./StringReader"),z=r("./NodeBufferReader"),j=r("./Uint8ArrayReader");g.exports=function(re){var oe=k.getTypeOf(re);return k.checkSupport(oe),oe!=="string"||$.uint8array?oe==="nodebuffer"?new z(re):$.uint8array?new j(k.transformTo("uint8array",re)):new V(k.transformTo("array",re)):new L(re)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,g,y){var k=r("./GenericWorker"),$=r("../utils");function V(L){k.call(this,"ConvertWorker to "+L),this.destType=L}$.inherits(V,k),V.prototype.processChunk=function(L){this.push({data:$.transformTo(this.destType,L.data),meta:L.meta})},g.exports=V},{"../utils":32,"./GenericWorker":28}],25:[function(r,g,y){var k=r("./GenericWorker"),$=r("../crc32");function V(){k.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(V,k),V.prototype.processChunk=function(L){this.streamInfo.crc32=$(L.data,this.streamInfo.crc32||0),this.push(L)},g.exports=V},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,g,y){var k=r("../utils"),$=r("./GenericWorker");function V(L){$.call(this,"DataLengthProbe for "+L),this.propName=L,this.withStreamInfo(L,0)}k.inherits(V,$),V.prototype.processChunk=function(L){if(L){var z=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=z+L.data.length}$.prototype.processChunk.call(this,L)},g.exports=V},{"../utils":32,"./GenericWorker":28}],27:[function(r,g,y){var k=r("../utils"),$=r("./GenericWorker");function V(L){$.call(this,"DataWorker");var z=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,L.then(function(j){z.dataIsReady=!0,z.data=j,z.max=j&&j.length||0,z.type=k.getTypeOf(j),z.isPaused||z._tickAndRepeat()},function(j){z.error(j)})}k.inherits(V,$),V.prototype.cleanUp=function(){$.prototype.cleanUp.call(this),this.data=null},V.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,k.delay(this._tickAndRepeat,[],this)),!0)},V.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(k.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},V.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var L=null,z=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":L=this.data.substring(this.index,z);break;case"uint8array":L=this.data.subarray(this.index,z);break;case"array":case"nodebuffer":L=this.data.slice(this.index,z)}return this.index=z,this.push({data:L,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=V},{"../utils":32,"./GenericWorker":28}],28:[function(r,g,y){function k($){this.name=$||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}k.prototype={push:function($){this.emit("data",$)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch($){this.emit("error",$)}return!0},error:function($){return!this.isFinished&&(this.isPaused?this.generatedError=$:(this.isFinished=!0,this.emit("error",$),this.previous&&this.previous.error($),this.cleanUp()),!0)},on:function($,V){return this._listeners[$].push(V),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function($,V){if(this._listeners[$])for(var L=0;L<this._listeners[$].length;L++)this._listeners[$][L].call(this,V)},pipe:function($){return $.registerPrevious(this)},registerPrevious:function($){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=$.streamInfo,this.mergeStreamInfo(),this.previous=$;var V=this;return $.on("data",function(L){V.processChunk(L)}),$.on("end",function(){V.end()}),$.on("error",function(L){V.error(L)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var $=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),$=!0),this.previous&&this.previous.resume(),!$},flush:function(){},processChunk:function($){this.push($)},withStreamInfo:function($,V){return this.extraStreamInfo[$]=V,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var $ in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,$)&&(this.streamInfo[$]=this.extraStreamInfo[$])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var $="Worker "+this.name;return this.previous?this.previous+" -> "+$:$}},g.exports=k},{}],29:[function(r,g,y){var k=r("../utils"),$=r("./ConvertWorker"),V=r("./GenericWorker"),L=r("../base64"),z=r("../support"),j=r("../external"),re=null;if(z.nodestream)try{re=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function oe(de,ue){return new j.Promise(function(pe,he){var Oe=[],xe=de._internalType,$e=de._outputType,Ne=de._mimeType;de.on("data",function(Ce,Fe){Oe.push(Ce),ue&&ue(Fe)}).on("error",function(Ce){Oe=[],he(Ce)}).on("end",function(){try{var Ce=function(Fe,ze,kt){switch(Fe){case"blob":return k.newBlob(k.transformTo("arraybuffer",ze),kt);case"base64":return L.encode(ze);default:return k.transformTo(Fe,ze)}}($e,function(Fe,ze){var kt,At=0,Cn=null,Dt=0;for(kt=0;kt<ze.length;kt++)Dt+=ze[kt].length;switch(Fe){case"string":return ze.join("");case"array":return Array.prototype.concat.apply([],ze);case"uint8array":for(Cn=new Uint8Array(Dt),kt=0;kt<ze.length;kt++)Cn.set(ze[kt],At),At+=ze[kt].length;return Cn;case"nodebuffer":return Buffer.concat(ze);default:throw new Error("concat : unsupported type '"+Fe+"'")}}(xe,Oe),Ne);pe(Ce)}catch(Fe){he(Fe)}Oe=[]}).resume()})}function ae(de,ue,pe){var he=ue;switch(ue){case"blob":case"arraybuffer":he="uint8array";break;case"base64":he="string"}try{this._internalType=he,this._outputType=ue,this._mimeType=pe,k.checkSupport(he),this._worker=de.pipe(new $(he)),de.lock()}catch(Oe){this._worker=new V("error"),this._worker.error(Oe)}}ae.prototype={accumulate:function(de){return oe(this,de)},on:function(de,ue){var pe=this;return de==="data"?this._worker.on(de,function(he){ue.call(pe,he.data,he.meta)}):this._worker.on(de,function(){k.delay(ue,arguments,pe)}),this},resume:function(){return k.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(de){if(k.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new re(this,{objectMode:this._outputType!=="nodebuffer"},de)}},g.exports=ae},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=typeof Buffer<"u",y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var k=new ArrayBuffer(0);try{y.blob=new Blob([k],{type:"application/zip"}).size===0}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);$.append(k),y.blob=$.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!r("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(r,g,y){for(var k=r("./utils"),$=r("./support"),V=r("./nodejsUtils"),L=r("./stream/GenericWorker"),z=new Array(256),j=0;j<256;j++)z[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;z[254]=z[254]=1;function re(){L.call(this,"utf-8 decode"),this.leftOver=null}function oe(){L.call(this,"utf-8 encode")}y.utf8encode=function(ae){return $.nodebuffer?V.newBufferFrom(ae,"utf-8"):function(de){var ue,pe,he,Oe,xe,$e=de.length,Ne=0;for(Oe=0;Oe<$e;Oe++)(64512&(pe=de.charCodeAt(Oe)))==55296&&Oe+1<$e&&(64512&(he=de.charCodeAt(Oe+1)))==56320&&(pe=65536+(pe-55296<<10)+(he-56320),Oe++),Ne+=pe<128?1:pe<2048?2:pe<65536?3:4;for(ue=$.uint8array?new Uint8Array(Ne):new Array(Ne),Oe=xe=0;xe<Ne;Oe++)(64512&(pe=de.charCodeAt(Oe)))==55296&&Oe+1<$e&&(64512&(he=de.charCodeAt(Oe+1)))==56320&&(pe=65536+(pe-55296<<10)+(he-56320),Oe++),pe<128?ue[xe++]=pe:(pe<2048?ue[xe++]=192|pe>>>6:(pe<65536?ue[xe++]=224|pe>>>12:(ue[xe++]=240|pe>>>18,ue[xe++]=128|pe>>>12&63),ue[xe++]=128|pe>>>6&63),ue[xe++]=128|63&pe);return ue}(ae)},y.utf8decode=function(ae){return $.nodebuffer?k.transformTo("nodebuffer",ae).toString("utf-8"):function(de){var ue,pe,he,Oe,xe=de.length,$e=new Array(2*xe);for(ue=pe=0;ue<xe;)if((he=de[ue++])<128)$e[pe++]=he;else if(4<(Oe=z[he]))$e[pe++]=65533,ue+=Oe-1;else{for(he&=Oe===2?31:Oe===3?15:7;1<Oe&&ue<xe;)he=he<<6|63&de[ue++],Oe--;1<Oe?$e[pe++]=65533:he<65536?$e[pe++]=he:(he-=65536,$e[pe++]=55296|he>>10&1023,$e[pe++]=56320|1023&he)}return $e.length!==pe&&($e.subarray?$e=$e.subarray(0,pe):$e.length=pe),k.applyFromCharCode($e)}(ae=k.transformTo($.uint8array?"uint8array":"array",ae))},k.inherits(re,L),re.prototype.processChunk=function(ae){var de=k.transformTo($.uint8array?"uint8array":"array",ae.data);if(this.leftOver&&this.leftOver.length){if($.uint8array){var ue=de;(de=new Uint8Array(ue.length+this.leftOver.length)).set(this.leftOver,0),de.set(ue,this.leftOver.length)}else de=this.leftOver.concat(de);this.leftOver=null}var pe=function(Oe,xe){var $e;for((xe=xe||Oe.length)>Oe.length&&(xe=Oe.length),$e=xe-1;0<=$e&&(192&Oe[$e])==128;)$e--;return $e<0||$e===0?xe:$e+z[Oe[$e]]>xe?$e:xe}(de),he=de;pe!==de.length&&($.uint8array?(he=de.subarray(0,pe),this.leftOver=de.subarray(pe,de.length)):(he=de.slice(0,pe),this.leftOver=de.slice(pe,de.length))),this.push({data:y.utf8decode(he),meta:ae.meta})},re.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=re,k.inherits(oe,L),oe.prototype.processChunk=function(ae){this.push({data:y.utf8encode(ae.data),meta:ae.meta})},y.Utf8EncodeWorker=oe},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,g,y){var k=r("./support"),$=r("./base64"),V=r("./nodejsUtils"),L=r("./external");function z(ue){return ue}function j(ue,pe){for(var he=0;he<ue.length;++he)pe[he]=255&ue.charCodeAt(he);return pe}r("setimmediate"),y.newBlob=function(ue,pe){y.checkSupport("blob");try{return new Blob([ue],{type:pe})}catch{try{var he=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return he.append(ue),he.getBlob(pe)}catch{throw new Error("Bug : can't construct the Blob.")}}};var re={stringifyByChunk:function(ue,pe,he){var Oe=[],xe=0,$e=ue.length;if($e<=he)return String.fromCharCode.apply(null,ue);for(;xe<$e;)pe==="array"||pe==="nodebuffer"?Oe.push(String.fromCharCode.apply(null,ue.slice(xe,Math.min(xe+he,$e)))):Oe.push(String.fromCharCode.apply(null,ue.subarray(xe,Math.min(xe+he,$e)))),xe+=he;return Oe.join("")},stringifyByChar:function(ue){for(var pe="",he=0;he<ue.length;he++)pe+=String.fromCharCode(ue[he]);return pe},applyCanBeUsed:{uint8array:function(){try{return k.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return k.nodebuffer&&String.fromCharCode.apply(null,V.allocBuffer(1)).length===1}catch{return!1}}()}};function oe(ue){var pe=65536,he=y.getTypeOf(ue),Oe=!0;if(he==="uint8array"?Oe=re.applyCanBeUsed.uint8array:he==="nodebuffer"&&(Oe=re.applyCanBeUsed.nodebuffer),Oe)for(;1<pe;)try{return re.stringifyByChunk(ue,he,pe)}catch{pe=Math.floor(pe/2)}return re.stringifyByChar(ue)}function ae(ue,pe){for(var he=0;he<ue.length;he++)pe[he]=ue[he];return pe}y.applyFromCharCode=oe;var de={};de.string={string:z,array:function(ue){return j(ue,new Array(ue.length))},arraybuffer:function(ue){return de.string.uint8array(ue).buffer},uint8array:function(ue){return j(ue,new Uint8Array(ue.length))},nodebuffer:function(ue){return j(ue,V.allocBuffer(ue.length))}},de.array={string:oe,array:z,arraybuffer:function(ue){return new Uint8Array(ue).buffer},uint8array:function(ue){return new Uint8Array(ue)},nodebuffer:function(ue){return V.newBufferFrom(ue)}},de.arraybuffer={string:function(ue){return oe(new Uint8Array(ue))},array:function(ue){return ae(new Uint8Array(ue),new Array(ue.byteLength))},arraybuffer:z,uint8array:function(ue){return new Uint8Array(ue)},nodebuffer:function(ue){return V.newBufferFrom(new Uint8Array(ue))}},de.uint8array={string:oe,array:function(ue){return ae(ue,new Array(ue.length))},arraybuffer:function(ue){return ue.buffer},uint8array:z,nodebuffer:function(ue){return V.newBufferFrom(ue)}},de.nodebuffer={string:oe,array:function(ue){return ae(ue,new Array(ue.length))},arraybuffer:function(ue){return de.nodebuffer.uint8array(ue).buffer},uint8array:function(ue){return ae(ue,new Uint8Array(ue.length))},nodebuffer:z},y.transformTo=function(ue,pe){if(pe=pe||"",!ue)return pe;y.checkSupport(ue);var he=y.getTypeOf(pe);return de[he][ue](pe)},y.resolve=function(ue){for(var pe=ue.split("/"),he=[],Oe=0;Oe<pe.length;Oe++){var xe=pe[Oe];xe==="."||xe===""&&Oe!==0&&Oe!==pe.length-1||(xe===".."?he.pop():he.push(xe))}return he.join("/")},y.getTypeOf=function(ue){return typeof ue=="string"?"string":Object.prototype.toString.call(ue)==="[object Array]"?"array":k.nodebuffer&&V.isBuffer(ue)?"nodebuffer":k.uint8array&&ue instanceof Uint8Array?"uint8array":k.arraybuffer&&ue instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(ue){if(!k[ue.toLowerCase()])throw new Error(ue+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(ue){var pe,he,Oe="";for(he=0;he<(ue||"").length;he++)Oe+="\\x"+((pe=ue.charCodeAt(he))<16?"0":"")+pe.toString(16).toUpperCase();return Oe},y.delay=function(ue,pe,he){setImmediate(function(){ue.apply(he||null,pe||[])})},y.inherits=function(ue,pe){function he(){}he.prototype=pe.prototype,ue.prototype=new he},y.extend=function(){var ue,pe,he={};for(ue=0;ue<arguments.length;ue++)for(pe in arguments[ue])Object.prototype.hasOwnProperty.call(arguments[ue],pe)&&he[pe]===void 0&&(he[pe]=arguments[ue][pe]);return he},y.prepareContent=function(ue,pe,he,Oe,xe){return L.Promise.resolve(pe).then(function($e){return k.blob&&($e instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call($e))!==-1)&&typeof FileReader<"u"?new L.Promise(function(Ne,Ce){var Fe=new FileReader;Fe.onload=function(ze){Ne(ze.target.result)},Fe.onerror=function(ze){Ce(ze.target.error)},Fe.readAsArrayBuffer($e)}):$e}).then(function($e){var Ne=y.getTypeOf($e);return Ne?(Ne==="arraybuffer"?$e=y.transformTo("uint8array",$e):Ne==="string"&&(xe?$e=$.decode($e):he&&Oe!==!0&&($e=function(Ce){return j(Ce,k.uint8array?new Uint8Array(Ce.length):new Array(Ce.length))}($e))),$e):L.Promise.reject(new Error("Can't read the data of '"+ue+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,g,y){var k=r("./reader/readerFor"),$=r("./utils"),V=r("./signature"),L=r("./zipEntry"),z=r("./support");function j(re){this.files=[],this.loadOptions=re}j.prototype={checkSignature:function(re){if(!this.reader.readAndCheckSignature(re)){this.reader.index-=4;var oe=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+$.pretty(oe)+", expected "+$.pretty(re)+")")}},isSignature:function(re,oe){var ae=this.reader.index;this.reader.setIndex(re);var de=this.reader.readString(4)===oe;return this.reader.setIndex(ae),de},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var re=this.reader.readData(this.zipCommentLength),oe=z.uint8array?"uint8array":"array",ae=$.transformTo(oe,re);this.zipComment=this.loadOptions.decodeFileName(ae)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var re,oe,ae,de=this.zip64EndOfCentralSize-44;0<de;)re=this.reader.readInt(2),oe=this.reader.readInt(4),ae=this.reader.readData(oe),this.zip64ExtensibleData[re]={id:re,length:oe,value:ae}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var re,oe;for(re=0;re<this.files.length;re++)oe=this.files[re],this.reader.setIndex(oe.localHeaderOffset),this.checkSignature(V.LOCAL_FILE_HEADER),oe.readLocalPart(this.reader),oe.handleUTF8(),oe.processAttributes()},readCentralDir:function(){var re;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(V.CENTRAL_FILE_HEADER);)(re=new L({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(re);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var re=this.reader.lastIndexOfSignature(V.CENTRAL_DIRECTORY_END);if(re<0)throw this.isSignature(0,V.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(re);var oe=re;if(this.checkSignature(V.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===$.MAX_VALUE_16BITS||this.diskWithCentralDirStart===$.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===$.MAX_VALUE_16BITS||this.centralDirRecords===$.MAX_VALUE_16BITS||this.centralDirSize===$.MAX_VALUE_32BITS||this.centralDirOffset===$.MAX_VALUE_32BITS){if(this.zip64=!0,(re=this.reader.lastIndexOfSignature(V.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(re),this.checkSignature(V.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,V.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(V.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(V.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ae=this.centralDirOffset+this.centralDirSize;this.zip64&&(ae+=20,ae+=12+this.zip64EndOfCentralSize);var de=oe-ae;if(0<de)this.isSignature(oe,V.CENTRAL_FILE_HEADER)||(this.reader.zero=de);else if(de<0)throw new Error("Corrupted zip: missing "+Math.abs(de)+" bytes.")},prepareReader:function(re){this.reader=k(re)},load:function(re){this.prepareReader(re),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=j},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,g,y){var k=r("./reader/readerFor"),$=r("./utils"),V=r("./compressedObject"),L=r("./crc32"),z=r("./utf8"),j=r("./compressions"),re=r("./support");function oe(ae,de){this.options=ae,this.loadOptions=de}oe.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(ae){var de,ue;if(ae.skip(22),this.fileNameLength=ae.readInt(2),ue=ae.readInt(2),this.fileName=ae.readData(this.fileNameLength),ae.skip(ue),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((de=function(pe){for(var he in j)if(Object.prototype.hasOwnProperty.call(j,he)&&j[he].magic===pe)return j[he];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+$.pretty(this.compressionMethod)+" unknown (inner file : "+$.transformTo("string",this.fileName)+")");this.decompressed=new V(this.compressedSize,this.uncompressedSize,this.crc32,de,ae.readData(this.compressedSize))},readCentralPart:function(ae){this.versionMadeBy=ae.readInt(2),ae.skip(2),this.bitFlag=ae.readInt(2),this.compressionMethod=ae.readString(2),this.date=ae.readDate(),this.crc32=ae.readInt(4),this.compressedSize=ae.readInt(4),this.uncompressedSize=ae.readInt(4);var de=ae.readInt(2);if(this.extraFieldsLength=ae.readInt(2),this.fileCommentLength=ae.readInt(2),this.diskNumberStart=ae.readInt(2),this.internalFileAttributes=ae.readInt(2),this.externalFileAttributes=ae.readInt(4),this.localHeaderOffset=ae.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");ae.skip(de),this.readExtraFields(ae),this.parseZIP64ExtraField(ae),this.fileComment=ae.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var ae=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),ae==0&&(this.dosPermissions=63&this.externalFileAttributes),ae==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var ae=k(this.extraFields[1].value);this.uncompressedSize===$.MAX_VALUE_32BITS&&(this.uncompressedSize=ae.readInt(8)),this.compressedSize===$.MAX_VALUE_32BITS&&(this.compressedSize=ae.readInt(8)),this.localHeaderOffset===$.MAX_VALUE_32BITS&&(this.localHeaderOffset=ae.readInt(8)),this.diskNumberStart===$.MAX_VALUE_32BITS&&(this.diskNumberStart=ae.readInt(4))}},readExtraFields:function(ae){var de,ue,pe,he=ae.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});ae.index+4<he;)de=ae.readInt(2),ue=ae.readInt(2),pe=ae.readData(ue),this.extraFields[de]={id:de,length:ue,value:pe};ae.setIndex(he)},handleUTF8:function(){var ae=re.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=z.utf8decode(this.fileName),this.fileCommentStr=z.utf8decode(this.fileComment);else{var de=this.findExtraFieldUnicodePath();if(de!==null)this.fileNameStr=de;else{var ue=$.transformTo(ae,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ue)}var pe=this.findExtraFieldUnicodeComment();if(pe!==null)this.fileCommentStr=pe;else{var he=$.transformTo(ae,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(he)}}},findExtraFieldUnicodePath:function(){var ae=this.extraFields[28789];if(ae){var de=k(ae.value);return de.readInt(1)!==1||L(this.fileName)!==de.readInt(4)?null:z.utf8decode(de.readData(ae.length-5))}return null},findExtraFieldUnicodeComment:function(){var ae=this.extraFields[25461];if(ae){var de=k(ae.value);return de.readInt(1)!==1||L(this.fileComment)!==de.readInt(4)?null:z.utf8decode(de.readData(ae.length-5))}return null}},g.exports=oe},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,g,y){function k(de,ue,pe){this.name=de,this.dir=pe.dir,this.date=pe.date,this.comment=pe.comment,this.unixPermissions=pe.unixPermissions,this.dosPermissions=pe.dosPermissions,this._data=ue,this._dataBinary=pe.binary,this.options={compression:pe.compression,compressionOptions:pe.compressionOptions}}var $=r("./stream/StreamHelper"),V=r("./stream/DataWorker"),L=r("./utf8"),z=r("./compressedObject"),j=r("./stream/GenericWorker");k.prototype={internalStream:function(de){var ue=null,pe="string";try{if(!de)throw new Error("No output type specified.");var he=(pe=de.toLowerCase())==="string"||pe==="text";pe!=="binarystring"&&pe!=="text"||(pe="string"),ue=this._decompressWorker();var Oe=!this._dataBinary;Oe&&!he&&(ue=ue.pipe(new L.Utf8EncodeWorker)),!Oe&&he&&(ue=ue.pipe(new L.Utf8DecodeWorker))}catch(xe){(ue=new j("error")).error(xe)}return new $(ue,pe,"")},async:function(de,ue){return this.internalStream(de).accumulate(ue)},nodeStream:function(de,ue){return this.internalStream(de||"nodebuffer").toNodejsStream(ue)},_compressWorker:function(de,ue){if(this._data instanceof z&&this._data.compression.magic===de.magic)return this._data.getCompressedWorker();var pe=this._decompressWorker();return this._dataBinary||(pe=pe.pipe(new L.Utf8EncodeWorker)),z.createWorkerFrom(pe,de,ue)},_decompressWorker:function(){return this._data instanceof z?this._data.getContentWorker():this._data instanceof j?this._data:new V(this._data)}};for(var re=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],oe=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ae=0;ae<re.length;ae++)k.prototype[re[ae]]=oe;g.exports=k},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,g,y){(function(k){var $,V,L=k.MutationObserver||k.WebKitMutationObserver;if(L){var z=0,j=new L(de),re=k.document.createTextNode("");j.observe(re,{characterData:!0}),$=function(){re.data=z=++z%2}}else if(k.setImmediate||k.MessageChannel===void 0)$="document"in k&&"onreadystatechange"in k.document.createElement("script")?function(){var ue=k.document.createElement("script");ue.onreadystatechange=function(){de(),ue.onreadystatechange=null,ue.parentNode.removeChild(ue),ue=null},k.document.documentElement.appendChild(ue)}:function(){setTimeout(de,0)};else{var oe=new k.MessageChannel;oe.port1.onmessage=de,$=function(){oe.port2.postMessage(0)}}var ae=[];function de(){var ue,pe;V=!0;for(var he=ae.length;he;){for(pe=ae,ae=[],ue=-1;++ue<he;)pe[ue]();he=ae.length}V=!1}g.exports=function(ue){ae.push(ue)!==1||V||$()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,g,y){var k=r("immediate");function $(){}var V={},L=["REJECTED"],z=["FULFILLED"],j=["PENDING"];function re(he){if(typeof he!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,he!==$&&ue(this,he)}function oe(he,Oe,xe){this.promise=he,typeof Oe=="function"&&(this.onFulfilled=Oe,this.callFulfilled=this.otherCallFulfilled),typeof xe=="function"&&(this.onRejected=xe,this.callRejected=this.otherCallRejected)}function ae(he,Oe,xe){k(function(){var $e;try{$e=Oe(xe)}catch(Ne){return V.reject(he,Ne)}$e===he?V.reject(he,new TypeError("Cannot resolve promise with itself")):V.resolve(he,$e)})}function de(he){var Oe=he&&he.then;if(he&&(typeof he=="object"||typeof he=="function")&&typeof Oe=="function")return function(){Oe.apply(he,arguments)}}function ue(he,Oe){var xe=!1;function $e(Fe){xe||(xe=!0,V.reject(he,Fe))}function Ne(Fe){xe||(xe=!0,V.resolve(he,Fe))}var Ce=pe(function(){Oe(Ne,$e)});Ce.status==="error"&&$e(Ce.value)}function pe(he,Oe){var xe={};try{xe.value=he(Oe),xe.status="success"}catch($e){xe.status="error",xe.value=$e}return xe}(g.exports=re).prototype.finally=function(he){if(typeof he!="function")return this;var Oe=this.constructor;return this.then(function(xe){return Oe.resolve(he()).then(function(){return xe})},function(xe){return Oe.resolve(he()).then(function(){throw xe})})},re.prototype.catch=function(he){return this.then(null,he)},re.prototype.then=function(he,Oe){if(typeof he!="function"&&this.state===z||typeof Oe!="function"&&this.state===L)return this;var xe=new this.constructor($);return this.state!==j?ae(xe,this.state===z?he:Oe,this.outcome):this.queue.push(new oe(xe,he,Oe)),xe},oe.prototype.callFulfilled=function(he){V.resolve(this.promise,he)},oe.prototype.otherCallFulfilled=function(he){ae(this.promise,this.onFulfilled,he)},oe.prototype.callRejected=function(he){V.reject(this.promise,he)},oe.prototype.otherCallRejected=function(he){ae(this.promise,this.onRejected,he)},V.resolve=function(he,Oe){var xe=pe(de,Oe);if(xe.status==="error")return V.reject(he,xe.value);var $e=xe.value;if($e)ue(he,$e);else{he.state=z,he.outcome=Oe;for(var Ne=-1,Ce=he.queue.length;++Ne<Ce;)he.queue[Ne].callFulfilled(Oe)}return he},V.reject=function(he,Oe){he.state=L,he.outcome=Oe;for(var xe=-1,$e=he.queue.length;++xe<$e;)he.queue[xe].callRejected(Oe);return he},re.resolve=function(he){return he instanceof this?he:V.resolve(new this($),he)},re.reject=function(he){var Oe=new this($);return V.reject(Oe,he)},re.all=function(he){var Oe=this;if(Object.prototype.toString.call(he)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xe=he.length,$e=!1;if(!xe)return this.resolve([]);for(var Ne=new Array(xe),Ce=0,Fe=-1,ze=new this($);++Fe<xe;)kt(he[Fe],Fe);return ze;function kt(At,Cn){Oe.resolve(At).then(function(Dt){Ne[Cn]=Dt,++Ce!==xe||$e||($e=!0,V.resolve(ze,Ne))},function(Dt){$e||($e=!0,V.reject(ze,Dt))})}},re.race=function(he){var Oe=this;if(Object.prototype.toString.call(he)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xe=he.length,$e=!1;if(!xe)return this.resolve([]);for(var Ne=-1,Ce=new this($);++Ne<xe;)Fe=he[Ne],Oe.resolve(Fe).then(function(ze){$e||($e=!0,V.resolve(Ce,ze))},function(ze){$e||($e=!0,V.reject(Ce,ze))});var Fe;return Ce}},{immediate:36}],38:[function(r,g,y){var k={};(0,r("./lib/utils/common").assign)(k,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),g.exports=k},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,g,y){var k=r("./zlib/deflate"),$=r("./utils/common"),V=r("./utils/strings"),L=r("./zlib/messages"),z=r("./zlib/zstream"),j=Object.prototype.toString,re=0,oe=-1,ae=0,de=8;function ue(he){if(!(this instanceof ue))return new ue(he);this.options=$.assign({level:oe,method:de,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae,to:""},he||{});var Oe=this.options;Oe.raw&&0<Oe.windowBits?Oe.windowBits=-Oe.windowBits:Oe.gzip&&0<Oe.windowBits&&Oe.windowBits<16&&(Oe.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var xe=k.deflateInit2(this.strm,Oe.level,Oe.method,Oe.windowBits,Oe.memLevel,Oe.strategy);if(xe!==re)throw new Error(L[xe]);if(Oe.header&&k.deflateSetHeader(this.strm,Oe.header),Oe.dictionary){var $e;if($e=typeof Oe.dictionary=="string"?V.string2buf(Oe.dictionary):j.call(Oe.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Oe.dictionary):Oe.dictionary,(xe=k.deflateSetDictionary(this.strm,$e))!==re)throw new Error(L[xe]);this._dict_set=!0}}function pe(he,Oe){var xe=new ue(Oe);if(xe.push(he,!0),xe.err)throw xe.msg||L[xe.err];return xe.result}ue.prototype.push=function(he,Oe){var xe,$e,Ne=this.strm,Ce=this.options.chunkSize;if(this.ended)return!1;$e=Oe===~~Oe?Oe:Oe===!0?4:0,typeof he=="string"?Ne.input=V.string2buf(he):j.call(he)==="[object ArrayBuffer]"?Ne.input=new Uint8Array(he):Ne.input=he,Ne.next_in=0,Ne.avail_in=Ne.input.length;do{if(Ne.avail_out===0&&(Ne.output=new $.Buf8(Ce),Ne.next_out=0,Ne.avail_out=Ce),(xe=k.deflate(Ne,$e))!==1&&xe!==re)return this.onEnd(xe),!(this.ended=!0);Ne.avail_out!==0&&(Ne.avail_in!==0||$e!==4&&$e!==2)||(this.options.to==="string"?this.onData(V.buf2binstring($.shrinkBuf(Ne.output,Ne.next_out))):this.onData($.shrinkBuf(Ne.output,Ne.next_out)))}while((0<Ne.avail_in||Ne.avail_out===0)&&xe!==1);return $e===4?(xe=k.deflateEnd(this.strm),this.onEnd(xe),this.ended=!0,xe===re):$e!==2||(this.onEnd(re),!(Ne.avail_out=0))},ue.prototype.onData=function(he){this.chunks.push(he)},ue.prototype.onEnd=function(he){he===re&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=he,this.msg=this.strm.msg},y.Deflate=ue,y.deflate=pe,y.deflateRaw=function(he,Oe){return(Oe=Oe||{}).raw=!0,pe(he,Oe)},y.gzip=function(he,Oe){return(Oe=Oe||{}).gzip=!0,pe(he,Oe)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,g,y){var k=r("./zlib/inflate"),$=r("./utils/common"),V=r("./utils/strings"),L=r("./zlib/constants"),z=r("./zlib/messages"),j=r("./zlib/zstream"),re=r("./zlib/gzheader"),oe=Object.prototype.toString;function ae(ue){if(!(this instanceof ae))return new ae(ue);this.options=$.assign({chunkSize:16384,windowBits:0,to:""},ue||{});var pe=this.options;pe.raw&&0<=pe.windowBits&&pe.windowBits<16&&(pe.windowBits=-pe.windowBits,pe.windowBits===0&&(pe.windowBits=-15)),!(0<=pe.windowBits&&pe.windowBits<16)||ue&&ue.windowBits||(pe.windowBits+=32),15<pe.windowBits&&pe.windowBits<48&&!(15&pe.windowBits)&&(pe.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var he=k.inflateInit2(this.strm,pe.windowBits);if(he!==L.Z_OK)throw new Error(z[he]);this.header=new re,k.inflateGetHeader(this.strm,this.header)}function de(ue,pe){var he=new ae(pe);if(he.push(ue,!0),he.err)throw he.msg||z[he.err];return he.result}ae.prototype.push=function(ue,pe){var he,Oe,xe,$e,Ne,Ce,Fe=this.strm,ze=this.options.chunkSize,kt=this.options.dictionary,At=!1;if(this.ended)return!1;Oe=pe===~~pe?pe:pe===!0?L.Z_FINISH:L.Z_NO_FLUSH,typeof ue=="string"?Fe.input=V.binstring2buf(ue):oe.call(ue)==="[object ArrayBuffer]"?Fe.input=new Uint8Array(ue):Fe.input=ue,Fe.next_in=0,Fe.avail_in=Fe.input.length;do{if(Fe.avail_out===0&&(Fe.output=new $.Buf8(ze),Fe.next_out=0,Fe.avail_out=ze),(he=k.inflate(Fe,L.Z_NO_FLUSH))===L.Z_NEED_DICT&&kt&&(Ce=typeof kt=="string"?V.string2buf(kt):oe.call(kt)==="[object ArrayBuffer]"?new Uint8Array(kt):kt,he=k.inflateSetDictionary(this.strm,Ce)),he===L.Z_BUF_ERROR&&At===!0&&(he=L.Z_OK,At=!1),he!==L.Z_STREAM_END&&he!==L.Z_OK)return this.onEnd(he),!(this.ended=!0);Fe.next_out&&(Fe.avail_out!==0&&he!==L.Z_STREAM_END&&(Fe.avail_in!==0||Oe!==L.Z_FINISH&&Oe!==L.Z_SYNC_FLUSH)||(this.options.to==="string"?(xe=V.utf8border(Fe.output,Fe.next_out),$e=Fe.next_out-xe,Ne=V.buf2string(Fe.output,xe),Fe.next_out=$e,Fe.avail_out=ze-$e,$e&&$.arraySet(Fe.output,Fe.output,xe,$e,0),this.onData(Ne)):this.onData($.shrinkBuf(Fe.output,Fe.next_out)))),Fe.avail_in===0&&Fe.avail_out===0&&(At=!0)}while((0<Fe.avail_in||Fe.avail_out===0)&&he!==L.Z_STREAM_END);return he===L.Z_STREAM_END&&(Oe=L.Z_FINISH),Oe===L.Z_FINISH?(he=k.inflateEnd(this.strm),this.onEnd(he),this.ended=!0,he===L.Z_OK):Oe!==L.Z_SYNC_FLUSH||(this.onEnd(L.Z_OK),!(Fe.avail_out=0))},ae.prototype.onData=function(ue){this.chunks.push(ue)},ae.prototype.onEnd=function(ue){ue===L.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=ue,this.msg=this.strm.msg},y.Inflate=ae,y.inflate=de,y.inflateRaw=function(ue,pe){return(pe=pe||{}).raw=!0,de(ue,pe)},y.ungzip=de},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,g,y){var k=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(L){for(var z=Array.prototype.slice.call(arguments,1);z.length;){var j=z.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var re in j)j.hasOwnProperty(re)&&(L[re]=j[re])}}return L},y.shrinkBuf=function(L,z){return L.length===z?L:L.subarray?L.subarray(0,z):(L.length=z,L)};var $={arraySet:function(L,z,j,re,oe){if(z.subarray&&L.subarray)L.set(z.subarray(j,j+re),oe);else for(var ae=0;ae<re;ae++)L[oe+ae]=z[j+ae]},flattenChunks:function(L){var z,j,re,oe,ae,de;for(z=re=0,j=L.length;z<j;z++)re+=L[z].length;for(de=new Uint8Array(re),z=oe=0,j=L.length;z<j;z++)ae=L[z],de.set(ae,oe),oe+=ae.length;return de}},V={arraySet:function(L,z,j,re,oe){for(var ae=0;ae<re;ae++)L[oe+ae]=z[j+ae]},flattenChunks:function(L){return[].concat.apply([],L)}};y.setTyped=function(L){L?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,$)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,V))},y.setTyped(k)},{}],42:[function(r,g,y){var k=r("./common"),$=!0,V=!0;try{String.fromCharCode.apply(null,[0])}catch{$=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{V=!1}for(var L=new k.Buf8(256),z=0;z<256;z++)L[z]=252<=z?6:248<=z?5:240<=z?4:224<=z?3:192<=z?2:1;function j(re,oe){if(oe<65537&&(re.subarray&&V||!re.subarray&&$))return String.fromCharCode.apply(null,k.shrinkBuf(re,oe));for(var ae="",de=0;de<oe;de++)ae+=String.fromCharCode(re[de]);return ae}L[254]=L[254]=1,y.string2buf=function(re){var oe,ae,de,ue,pe,he=re.length,Oe=0;for(ue=0;ue<he;ue++)(64512&(ae=re.charCodeAt(ue)))==55296&&ue+1<he&&(64512&(de=re.charCodeAt(ue+1)))==56320&&(ae=65536+(ae-55296<<10)+(de-56320),ue++),Oe+=ae<128?1:ae<2048?2:ae<65536?3:4;for(oe=new k.Buf8(Oe),ue=pe=0;pe<Oe;ue++)(64512&(ae=re.charCodeAt(ue)))==55296&&ue+1<he&&(64512&(de=re.charCodeAt(ue+1)))==56320&&(ae=65536+(ae-55296<<10)+(de-56320),ue++),ae<128?oe[pe++]=ae:(ae<2048?oe[pe++]=192|ae>>>6:(ae<65536?oe[pe++]=224|ae>>>12:(oe[pe++]=240|ae>>>18,oe[pe++]=128|ae>>>12&63),oe[pe++]=128|ae>>>6&63),oe[pe++]=128|63&ae);return oe},y.buf2binstring=function(re){return j(re,re.length)},y.binstring2buf=function(re){for(var oe=new k.Buf8(re.length),ae=0,de=oe.length;ae<de;ae++)oe[ae]=re.charCodeAt(ae);return oe},y.buf2string=function(re,oe){var ae,de,ue,pe,he=oe||re.length,Oe=new Array(2*he);for(ae=de=0;ae<he;)if((ue=re[ae++])<128)Oe[de++]=ue;else if(4<(pe=L[ue]))Oe[de++]=65533,ae+=pe-1;else{for(ue&=pe===2?31:pe===3?15:7;1<pe&&ae<he;)ue=ue<<6|63&re[ae++],pe--;1<pe?Oe[de++]=65533:ue<65536?Oe[de++]=ue:(ue-=65536,Oe[de++]=55296|ue>>10&1023,Oe[de++]=56320|1023&ue)}return j(Oe,de)},y.utf8border=function(re,oe){var ae;for((oe=oe||re.length)>re.length&&(oe=re.length),ae=oe-1;0<=ae&&(192&re[ae])==128;)ae--;return ae<0||ae===0?oe:ae+L[re[ae]]>oe?ae:oe}},{"./common":41}],43:[function(r,g,y){g.exports=function(k,$,V,L){for(var z=65535&k|0,j=k>>>16&65535|0,re=0;V!==0;){for(V-=re=2e3<V?2e3:V;j=j+(z=z+$[L++]|0)|0,--re;);z%=65521,j%=65521}return z|j<<16|0}},{}],44:[function(r,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,g,y){var k=function(){for(var $,V=[],L=0;L<256;L++){$=L;for(var z=0;z<8;z++)$=1&$?3988292384^$>>>1:$>>>1;V[L]=$}return V}();g.exports=function($,V,L,z){var j=k,re=z+L;$^=-1;for(var oe=z;oe<re;oe++)$=$>>>8^j[255&($^V[oe])];return-1^$}},{}],46:[function(r,g,y){var k,$=r("../utils/common"),V=r("./trees"),L=r("./adler32"),z=r("./crc32"),j=r("./messages"),re=0,oe=4,ae=0,de=-2,ue=-1,pe=4,he=2,Oe=8,xe=9,$e=286,Ne=30,Ce=19,Fe=2*$e+1,ze=15,kt=3,At=258,Cn=At+kt+1,Dt=42,On=113,jt=1,An=2,Mn=3,$n=4;function Ln(hn,Kn){return hn.msg=j[Kn],Kn}function Tn(hn){return(hn<<1)-(4<hn?9:0)}function Zn(hn){for(var Kn=hn.length;0<=--Kn;)hn[Kn]=0}function Qn(hn){var Kn=hn.state,Nn=Kn.pending;Nn>hn.avail_out&&(Nn=hn.avail_out),Nn!==0&&($.arraySet(hn.output,Kn.pending_buf,Kn.pending_out,Nn,hn.next_out),hn.next_out+=Nn,Kn.pending_out+=Nn,hn.total_out+=Nn,hn.avail_out-=Nn,Kn.pending-=Nn,Kn.pending===0&&(Kn.pending_out=0))}function Pn(hn,Kn){V._tr_flush_block(hn,0<=hn.block_start?hn.block_start:-1,hn.strstart-hn.block_start,Kn),hn.block_start=hn.strstart,Qn(hn.strm)}function Wn(hn,Kn){hn.pending_buf[hn.pending++]=Kn}function ur(hn,Kn){hn.pending_buf[hn.pending++]=Kn>>>8&255,hn.pending_buf[hn.pending++]=255&Kn}function hr(hn,Kn){var Nn,Lt,_n=hn.max_chain_length,Bn=hn.strstart,Xn=hn.prev_length,rr=hn.nice_match,ar=hn.strstart>hn.w_size-Cn?hn.strstart-(hn.w_size-Cn):0,sr=hn.window,mr=hn.w_mask,lr=hn.prev,le=hn.strstart+At,_e=sr[Bn+Xn-1],Ie=sr[Bn+Xn];hn.prev_length>=hn.good_match&&(_n>>=2),rr>hn.lookahead&&(rr=hn.lookahead);do if(sr[(Nn=Kn)+Xn]===Ie&&sr[Nn+Xn-1]===_e&&sr[Nn]===sr[Bn]&&sr[++Nn]===sr[Bn+1]){Bn+=2,Nn++;do;while(sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&sr[++Bn]===sr[++Nn]&&Bn<le);if(Lt=At-(le-Bn),Bn=le-At,Xn<Lt){if(hn.match_start=Kn,rr<=(Xn=Lt))break;_e=sr[Bn+Xn-1],Ie=sr[Bn+Xn]}}while((Kn=lr[Kn&mr])>ar&&--_n!=0);return Xn<=hn.lookahead?Xn:hn.lookahead}function Vn(hn){var Kn,Nn,Lt,_n,Bn,Xn,rr,ar,sr,mr,lr=hn.w_size;do{if(_n=hn.window_size-hn.lookahead-hn.strstart,hn.strstart>=lr+(lr-Cn)){for($.arraySet(hn.window,hn.window,lr,lr,0),hn.match_start-=lr,hn.strstart-=lr,hn.block_start-=lr,Kn=Nn=hn.hash_size;Lt=hn.head[--Kn],hn.head[Kn]=lr<=Lt?Lt-lr:0,--Nn;);for(Kn=Nn=lr;Lt=hn.prev[--Kn],hn.prev[Kn]=lr<=Lt?Lt-lr:0,--Nn;);_n+=lr}if(hn.strm.avail_in===0)break;if(Xn=hn.strm,rr=hn.window,ar=hn.strstart+hn.lookahead,sr=_n,mr=void 0,mr=Xn.avail_in,sr<mr&&(mr=sr),Nn=mr===0?0:(Xn.avail_in-=mr,$.arraySet(rr,Xn.input,Xn.next_in,mr,ar),Xn.state.wrap===1?Xn.adler=L(Xn.adler,rr,mr,ar):Xn.state.wrap===2&&(Xn.adler=z(Xn.adler,rr,mr,ar)),Xn.next_in+=mr,Xn.total_in+=mr,mr),hn.lookahead+=Nn,hn.lookahead+hn.insert>=kt)for(Bn=hn.strstart-hn.insert,hn.ins_h=hn.window[Bn],hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[Bn+1])&hn.hash_mask;hn.insert&&(hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[Bn+kt-1])&hn.hash_mask,hn.prev[Bn&hn.w_mask]=hn.head[hn.ins_h],hn.head[hn.ins_h]=Bn,Bn++,hn.insert--,!(hn.lookahead+hn.insert<kt)););}while(hn.lookahead<Cn&&hn.strm.avail_in!==0)}function En(hn,Kn){for(var Nn,Lt;;){if(hn.lookahead<Cn){if(Vn(hn),hn.lookahead<Cn&&Kn===re)return jt;if(hn.lookahead===0)break}if(Nn=0,hn.lookahead>=kt&&(hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[hn.strstart+kt-1])&hn.hash_mask,Nn=hn.prev[hn.strstart&hn.w_mask]=hn.head[hn.ins_h],hn.head[hn.ins_h]=hn.strstart),Nn!==0&&hn.strstart-Nn<=hn.w_size-Cn&&(hn.match_length=hr(hn,Nn)),hn.match_length>=kt)if(Lt=V._tr_tally(hn,hn.strstart-hn.match_start,hn.match_length-kt),hn.lookahead-=hn.match_length,hn.match_length<=hn.max_lazy_match&&hn.lookahead>=kt){for(hn.match_length--;hn.strstart++,hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[hn.strstart+kt-1])&hn.hash_mask,Nn=hn.prev[hn.strstart&hn.w_mask]=hn.head[hn.ins_h],hn.head[hn.ins_h]=hn.strstart,--hn.match_length!=0;);hn.strstart++}else hn.strstart+=hn.match_length,hn.match_length=0,hn.ins_h=hn.window[hn.strstart],hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[hn.strstart+1])&hn.hash_mask;else Lt=V._tr_tally(hn,0,hn.window[hn.strstart]),hn.lookahead--,hn.strstart++;if(Lt&&(Pn(hn,!1),hn.strm.avail_out===0))return jt}return hn.insert=hn.strstart<kt-1?hn.strstart:kt-1,Kn===oe?(Pn(hn,!0),hn.strm.avail_out===0?Mn:$n):hn.last_lit&&(Pn(hn,!1),hn.strm.avail_out===0)?jt:An}function jn(hn,Kn){for(var Nn,Lt,_n;;){if(hn.lookahead<Cn){if(Vn(hn),hn.lookahead<Cn&&Kn===re)return jt;if(hn.lookahead===0)break}if(Nn=0,hn.lookahead>=kt&&(hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[hn.strstart+kt-1])&hn.hash_mask,Nn=hn.prev[hn.strstart&hn.w_mask]=hn.head[hn.ins_h],hn.head[hn.ins_h]=hn.strstart),hn.prev_length=hn.match_length,hn.prev_match=hn.match_start,hn.match_length=kt-1,Nn!==0&&hn.prev_length<hn.max_lazy_match&&hn.strstart-Nn<=hn.w_size-Cn&&(hn.match_length=hr(hn,Nn),hn.match_length<=5&&(hn.strategy===1||hn.match_length===kt&&4096<hn.strstart-hn.match_start)&&(hn.match_length=kt-1)),hn.prev_length>=kt&&hn.match_length<=hn.prev_length){for(_n=hn.strstart+hn.lookahead-kt,Lt=V._tr_tally(hn,hn.strstart-1-hn.prev_match,hn.prev_length-kt),hn.lookahead-=hn.prev_length-1,hn.prev_length-=2;++hn.strstart<=_n&&(hn.ins_h=(hn.ins_h<<hn.hash_shift^hn.window[hn.strstart+kt-1])&hn.hash_mask,Nn=hn.prev[hn.strstart&hn.w_mask]=hn.head[hn.ins_h],hn.head[hn.ins_h]=hn.strstart),--hn.prev_length!=0;);if(hn.match_available=0,hn.match_length=kt-1,hn.strstart++,Lt&&(Pn(hn,!1),hn.strm.avail_out===0))return jt}else if(hn.match_available){if((Lt=V._tr_tally(hn,0,hn.window[hn.strstart-1]))&&Pn(hn,!1),hn.strstart++,hn.lookahead--,hn.strm.avail_out===0)return jt}else hn.match_available=1,hn.strstart++,hn.lookahead--}return hn.match_available&&(Lt=V._tr_tally(hn,0,hn.window[hn.strstart-1]),hn.match_available=0),hn.insert=hn.strstart<kt-1?hn.strstart:kt-1,Kn===oe?(Pn(hn,!0),hn.strm.avail_out===0?Mn:$n):hn.last_lit&&(Pn(hn,!1),hn.strm.avail_out===0)?jt:An}function cr(hn,Kn,Nn,Lt,_n){this.good_length=hn,this.max_lazy=Kn,this.nice_length=Nn,this.max_chain=Lt,this.func=_n}function gr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(2*Fe),this.dyn_dtree=new $.Buf16(2*(2*Ne+1)),this.bl_tree=new $.Buf16(2*(2*Ce+1)),Zn(this.dyn_ltree),Zn(this.dyn_dtree),Zn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(ze+1),this.heap=new $.Buf16(2*$e+1),Zn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(2*$e+1),Zn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Cr(hn){var Kn;return hn&&hn.state?(hn.total_in=hn.total_out=0,hn.data_type=he,(Kn=hn.state).pending=0,Kn.pending_out=0,Kn.wrap<0&&(Kn.wrap=-Kn.wrap),Kn.status=Kn.wrap?Dt:On,hn.adler=Kn.wrap===2?0:1,Kn.last_flush=re,V._tr_init(Kn),ae):Ln(hn,de)}function ir(hn){var Kn=Cr(hn);return Kn===ae&&function(Nn){Nn.window_size=2*Nn.w_size,Zn(Nn.head),Nn.max_lazy_match=k[Nn.level].max_lazy,Nn.good_match=k[Nn.level].good_length,Nn.nice_match=k[Nn.level].nice_length,Nn.max_chain_length=k[Nn.level].max_chain,Nn.strstart=0,Nn.block_start=0,Nn.lookahead=0,Nn.insert=0,Nn.match_length=Nn.prev_length=kt-1,Nn.match_available=0,Nn.ins_h=0}(hn.state),Kn}function Gn(hn,Kn,Nn,Lt,_n,Bn){if(!hn)return de;var Xn=1;if(Kn===ue&&(Kn=6),Lt<0?(Xn=0,Lt=-Lt):15<Lt&&(Xn=2,Lt-=16),_n<1||xe<_n||Nn!==Oe||Lt<8||15<Lt||Kn<0||9<Kn||Bn<0||pe<Bn)return Ln(hn,de);Lt===8&&(Lt=9);var rr=new gr;return(hn.state=rr).strm=hn,rr.wrap=Xn,rr.gzhead=null,rr.w_bits=Lt,rr.w_size=1<<rr.w_bits,rr.w_mask=rr.w_size-1,rr.hash_bits=_n+7,rr.hash_size=1<<rr.hash_bits,rr.hash_mask=rr.hash_size-1,rr.hash_shift=~~((rr.hash_bits+kt-1)/kt),rr.window=new $.Buf8(2*rr.w_size),rr.head=new $.Buf16(rr.hash_size),rr.prev=new $.Buf16(rr.w_size),rr.lit_bufsize=1<<_n+6,rr.pending_buf_size=4*rr.lit_bufsize,rr.pending_buf=new $.Buf8(rr.pending_buf_size),rr.d_buf=1*rr.lit_bufsize,rr.l_buf=3*rr.lit_bufsize,rr.level=Kn,rr.strategy=Bn,rr.method=Nn,ir(hn)}k=[new cr(0,0,0,0,function(hn,Kn){var Nn=65535;for(Nn>hn.pending_buf_size-5&&(Nn=hn.pending_buf_size-5);;){if(hn.lookahead<=1){if(Vn(hn),hn.lookahead===0&&Kn===re)return jt;if(hn.lookahead===0)break}hn.strstart+=hn.lookahead,hn.lookahead=0;var Lt=hn.block_start+Nn;if((hn.strstart===0||hn.strstart>=Lt)&&(hn.lookahead=hn.strstart-Lt,hn.strstart=Lt,Pn(hn,!1),hn.strm.avail_out===0)||hn.strstart-hn.block_start>=hn.w_size-Cn&&(Pn(hn,!1),hn.strm.avail_out===0))return jt}return hn.insert=0,Kn===oe?(Pn(hn,!0),hn.strm.avail_out===0?Mn:$n):(hn.strstart>hn.block_start&&(Pn(hn,!1),hn.strm.avail_out),jt)}),new cr(4,4,8,4,En),new cr(4,5,16,8,En),new cr(4,6,32,32,En),new cr(4,4,16,16,jn),new cr(8,16,32,32,jn),new cr(8,16,128,128,jn),new cr(8,32,128,256,jn),new cr(32,128,258,1024,jn),new cr(32,258,258,4096,jn)],y.deflateInit=function(hn,Kn){return Gn(hn,Kn,Oe,15,8,0)},y.deflateInit2=Gn,y.deflateReset=ir,y.deflateResetKeep=Cr,y.deflateSetHeader=function(hn,Kn){return hn&&hn.state?hn.state.wrap!==2?de:(hn.state.gzhead=Kn,ae):de},y.deflate=function(hn,Kn){var Nn,Lt,_n,Bn;if(!hn||!hn.state||5<Kn||Kn<0)return hn?Ln(hn,de):de;if(Lt=hn.state,!hn.output||!hn.input&&hn.avail_in!==0||Lt.status===666&&Kn!==oe)return Ln(hn,hn.avail_out===0?-5:de);if(Lt.strm=hn,Nn=Lt.last_flush,Lt.last_flush=Kn,Lt.status===Dt)if(Lt.wrap===2)hn.adler=0,Wn(Lt,31),Wn(Lt,139),Wn(Lt,8),Lt.gzhead?(Wn(Lt,(Lt.gzhead.text?1:0)+(Lt.gzhead.hcrc?2:0)+(Lt.gzhead.extra?4:0)+(Lt.gzhead.name?8:0)+(Lt.gzhead.comment?16:0)),Wn(Lt,255&Lt.gzhead.time),Wn(Lt,Lt.gzhead.time>>8&255),Wn(Lt,Lt.gzhead.time>>16&255),Wn(Lt,Lt.gzhead.time>>24&255),Wn(Lt,Lt.level===9?2:2<=Lt.strategy||Lt.level<2?4:0),Wn(Lt,255&Lt.gzhead.os),Lt.gzhead.extra&&Lt.gzhead.extra.length&&(Wn(Lt,255&Lt.gzhead.extra.length),Wn(Lt,Lt.gzhead.extra.length>>8&255)),Lt.gzhead.hcrc&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending,0)),Lt.gzindex=0,Lt.status=69):(Wn(Lt,0),Wn(Lt,0),Wn(Lt,0),Wn(Lt,0),Wn(Lt,0),Wn(Lt,Lt.level===9?2:2<=Lt.strategy||Lt.level<2?4:0),Wn(Lt,3),Lt.status=On);else{var Xn=Oe+(Lt.w_bits-8<<4)<<8;Xn|=(2<=Lt.strategy||Lt.level<2?0:Lt.level<6?1:Lt.level===6?2:3)<<6,Lt.strstart!==0&&(Xn|=32),Xn+=31-Xn%31,Lt.status=On,ur(Lt,Xn),Lt.strstart!==0&&(ur(Lt,hn.adler>>>16),ur(Lt,65535&hn.adler)),hn.adler=1}if(Lt.status===69)if(Lt.gzhead.extra){for(_n=Lt.pending;Lt.gzindex<(65535&Lt.gzhead.extra.length)&&(Lt.pending!==Lt.pending_buf_size||(Lt.gzhead.hcrc&&Lt.pending>_n&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending-_n,_n)),Qn(hn),_n=Lt.pending,Lt.pending!==Lt.pending_buf_size));)Wn(Lt,255&Lt.gzhead.extra[Lt.gzindex]),Lt.gzindex++;Lt.gzhead.hcrc&&Lt.pending>_n&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending-_n,_n)),Lt.gzindex===Lt.gzhead.extra.length&&(Lt.gzindex=0,Lt.status=73)}else Lt.status=73;if(Lt.status===73)if(Lt.gzhead.name){_n=Lt.pending;do{if(Lt.pending===Lt.pending_buf_size&&(Lt.gzhead.hcrc&&Lt.pending>_n&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending-_n,_n)),Qn(hn),_n=Lt.pending,Lt.pending===Lt.pending_buf_size)){Bn=1;break}Bn=Lt.gzindex<Lt.gzhead.name.length?255&Lt.gzhead.name.charCodeAt(Lt.gzindex++):0,Wn(Lt,Bn)}while(Bn!==0);Lt.gzhead.hcrc&&Lt.pending>_n&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending-_n,_n)),Bn===0&&(Lt.gzindex=0,Lt.status=91)}else Lt.status=91;if(Lt.status===91)if(Lt.gzhead.comment){_n=Lt.pending;do{if(Lt.pending===Lt.pending_buf_size&&(Lt.gzhead.hcrc&&Lt.pending>_n&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending-_n,_n)),Qn(hn),_n=Lt.pending,Lt.pending===Lt.pending_buf_size)){Bn=1;break}Bn=Lt.gzindex<Lt.gzhead.comment.length?255&Lt.gzhead.comment.charCodeAt(Lt.gzindex++):0,Wn(Lt,Bn)}while(Bn!==0);Lt.gzhead.hcrc&&Lt.pending>_n&&(hn.adler=z(hn.adler,Lt.pending_buf,Lt.pending-_n,_n)),Bn===0&&(Lt.status=103)}else Lt.status=103;if(Lt.status===103&&(Lt.gzhead.hcrc?(Lt.pending+2>Lt.pending_buf_size&&Qn(hn),Lt.pending+2<=Lt.pending_buf_size&&(Wn(Lt,255&hn.adler),Wn(Lt,hn.adler>>8&255),hn.adler=0,Lt.status=On)):Lt.status=On),Lt.pending!==0){if(Qn(hn),hn.avail_out===0)return Lt.last_flush=-1,ae}else if(hn.avail_in===0&&Tn(Kn)<=Tn(Nn)&&Kn!==oe)return Ln(hn,-5);if(Lt.status===666&&hn.avail_in!==0)return Ln(hn,-5);if(hn.avail_in!==0||Lt.lookahead!==0||Kn!==re&&Lt.status!==666){var rr=Lt.strategy===2?function(ar,sr){for(var mr;;){if(ar.lookahead===0&&(Vn(ar),ar.lookahead===0)){if(sr===re)return jt;break}if(ar.match_length=0,mr=V._tr_tally(ar,0,ar.window[ar.strstart]),ar.lookahead--,ar.strstart++,mr&&(Pn(ar,!1),ar.strm.avail_out===0))return jt}return ar.insert=0,sr===oe?(Pn(ar,!0),ar.strm.avail_out===0?Mn:$n):ar.last_lit&&(Pn(ar,!1),ar.strm.avail_out===0)?jt:An}(Lt,Kn):Lt.strategy===3?function(ar,sr){for(var mr,lr,le,_e,Ie=ar.window;;){if(ar.lookahead<=At){if(Vn(ar),ar.lookahead<=At&&sr===re)return jt;if(ar.lookahead===0)break}if(ar.match_length=0,ar.lookahead>=kt&&0<ar.strstart&&(lr=Ie[le=ar.strstart-1])===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]){_e=ar.strstart+At;do;while(lr===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]&&lr===Ie[++le]&&le<_e);ar.match_length=At-(_e-le),ar.match_length>ar.lookahead&&(ar.match_length=ar.lookahead)}if(ar.match_length>=kt?(mr=V._tr_tally(ar,1,ar.match_length-kt),ar.lookahead-=ar.match_length,ar.strstart+=ar.match_length,ar.match_length=0):(mr=V._tr_tally(ar,0,ar.window[ar.strstart]),ar.lookahead--,ar.strstart++),mr&&(Pn(ar,!1),ar.strm.avail_out===0))return jt}return ar.insert=0,sr===oe?(Pn(ar,!0),ar.strm.avail_out===0?Mn:$n):ar.last_lit&&(Pn(ar,!1),ar.strm.avail_out===0)?jt:An}(Lt,Kn):k[Lt.level].func(Lt,Kn);if(rr!==Mn&&rr!==$n||(Lt.status=666),rr===jt||rr===Mn)return hn.avail_out===0&&(Lt.last_flush=-1),ae;if(rr===An&&(Kn===1?V._tr_align(Lt):Kn!==5&&(V._tr_stored_block(Lt,0,0,!1),Kn===3&&(Zn(Lt.head),Lt.lookahead===0&&(Lt.strstart=0,Lt.block_start=0,Lt.insert=0))),Qn(hn),hn.avail_out===0))return Lt.last_flush=-1,ae}return Kn!==oe?ae:Lt.wrap<=0?1:(Lt.wrap===2?(Wn(Lt,255&hn.adler),Wn(Lt,hn.adler>>8&255),Wn(Lt,hn.adler>>16&255),Wn(Lt,hn.adler>>24&255),Wn(Lt,255&hn.total_in),Wn(Lt,hn.total_in>>8&255),Wn(Lt,hn.total_in>>16&255),Wn(Lt,hn.total_in>>24&255)):(ur(Lt,hn.adler>>>16),ur(Lt,65535&hn.adler)),Qn(hn),0<Lt.wrap&&(Lt.wrap=-Lt.wrap),Lt.pending!==0?ae:1)},y.deflateEnd=function(hn){var Kn;return hn&&hn.state?(Kn=hn.state.status)!==Dt&&Kn!==69&&Kn!==73&&Kn!==91&&Kn!==103&&Kn!==On&&Kn!==666?Ln(hn,de):(hn.state=null,Kn===On?Ln(hn,-3):ae):de},y.deflateSetDictionary=function(hn,Kn){var Nn,Lt,_n,Bn,Xn,rr,ar,sr,mr=Kn.length;if(!hn||!hn.state||(Bn=(Nn=hn.state).wrap)===2||Bn===1&&Nn.status!==Dt||Nn.lookahead)return de;for(Bn===1&&(hn.adler=L(hn.adler,Kn,mr,0)),Nn.wrap=0,mr>=Nn.w_size&&(Bn===0&&(Zn(Nn.head),Nn.strstart=0,Nn.block_start=0,Nn.insert=0),sr=new $.Buf8(Nn.w_size),$.arraySet(sr,Kn,mr-Nn.w_size,Nn.w_size,0),Kn=sr,mr=Nn.w_size),Xn=hn.avail_in,rr=hn.next_in,ar=hn.input,hn.avail_in=mr,hn.next_in=0,hn.input=Kn,Vn(Nn);Nn.lookahead>=kt;){for(Lt=Nn.strstart,_n=Nn.lookahead-(kt-1);Nn.ins_h=(Nn.ins_h<<Nn.hash_shift^Nn.window[Lt+kt-1])&Nn.hash_mask,Nn.prev[Lt&Nn.w_mask]=Nn.head[Nn.ins_h],Nn.head[Nn.ins_h]=Lt,Lt++,--_n;);Nn.strstart=Lt,Nn.lookahead=kt-1,Vn(Nn)}return Nn.strstart+=Nn.lookahead,Nn.block_start=Nn.strstart,Nn.insert=Nn.lookahead,Nn.lookahead=0,Nn.match_length=Nn.prev_length=kt-1,Nn.match_available=0,hn.next_in=rr,hn.input=ar,hn.avail_in=Xn,Nn.wrap=Bn,ae},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,g,y){g.exports=function(k,$){var V,L,z,j,re,oe,ae,de,ue,pe,he,Oe,xe,$e,Ne,Ce,Fe,ze,kt,At,Cn,Dt,On,jt,An;V=k.state,L=k.next_in,jt=k.input,z=L+(k.avail_in-5),j=k.next_out,An=k.output,re=j-($-k.avail_out),oe=j+(k.avail_out-257),ae=V.dmax,de=V.wsize,ue=V.whave,pe=V.wnext,he=V.window,Oe=V.hold,xe=V.bits,$e=V.lencode,Ne=V.distcode,Ce=(1<<V.lenbits)-1,Fe=(1<<V.distbits)-1;e:do{xe<15&&(Oe+=jt[L++]<<xe,xe+=8,Oe+=jt[L++]<<xe,xe+=8),ze=$e[Oe&Ce];t:for(;;){if(Oe>>>=kt=ze>>>24,xe-=kt,(kt=ze>>>16&255)===0)An[j++]=65535&ze;else{if(!(16&kt)){if(!(64&kt)){ze=$e[(65535&ze)+(Oe&(1<<kt)-1)];continue t}if(32&kt){V.mode=12;break e}k.msg="invalid literal/length code",V.mode=30;break e}At=65535&ze,(kt&=15)&&(xe<kt&&(Oe+=jt[L++]<<xe,xe+=8),At+=Oe&(1<<kt)-1,Oe>>>=kt,xe-=kt),xe<15&&(Oe+=jt[L++]<<xe,xe+=8,Oe+=jt[L++]<<xe,xe+=8),ze=Ne[Oe&Fe];n:for(;;){if(Oe>>>=kt=ze>>>24,xe-=kt,!(16&(kt=ze>>>16&255))){if(!(64&kt)){ze=Ne[(65535&ze)+(Oe&(1<<kt)-1)];continue n}k.msg="invalid distance code",V.mode=30;break e}if(Cn=65535&ze,xe<(kt&=15)&&(Oe+=jt[L++]<<xe,(xe+=8)<kt&&(Oe+=jt[L++]<<xe,xe+=8)),ae<(Cn+=Oe&(1<<kt)-1)){k.msg="invalid distance too far back",V.mode=30;break e}if(Oe>>>=kt,xe-=kt,(kt=j-re)<Cn){if(ue<(kt=Cn-kt)&&V.sane){k.msg="invalid distance too far back",V.mode=30;break e}if(On=he,(Dt=0)===pe){if(Dt+=de-kt,kt<At){for(At-=kt;An[j++]=he[Dt++],--kt;);Dt=j-Cn,On=An}}else if(pe<kt){if(Dt+=de+pe-kt,(kt-=pe)<At){for(At-=kt;An[j++]=he[Dt++],--kt;);if(Dt=0,pe<At){for(At-=kt=pe;An[j++]=he[Dt++],--kt;);Dt=j-Cn,On=An}}}else if(Dt+=pe-kt,kt<At){for(At-=kt;An[j++]=he[Dt++],--kt;);Dt=j-Cn,On=An}for(;2<At;)An[j++]=On[Dt++],An[j++]=On[Dt++],An[j++]=On[Dt++],At-=3;At&&(An[j++]=On[Dt++],1<At&&(An[j++]=On[Dt++]))}else{for(Dt=j-Cn;An[j++]=An[Dt++],An[j++]=An[Dt++],An[j++]=An[Dt++],2<(At-=3););At&&(An[j++]=An[Dt++],1<At&&(An[j++]=An[Dt++]))}break}}break}}while(L<z&&j<oe);L-=At=xe>>3,Oe&=(1<<(xe-=At<<3))-1,k.next_in=L,k.next_out=j,k.avail_in=L<z?z-L+5:5-(L-z),k.avail_out=j<oe?oe-j+257:257-(j-oe),V.hold=Oe,V.bits=xe}},{}],49:[function(r,g,y){var k=r("../utils/common"),$=r("./adler32"),V=r("./crc32"),L=r("./inffast"),z=r("./inftrees"),j=1,re=2,oe=0,ae=-2,de=1,ue=852,pe=592;function he(Dt){return(Dt>>>24&255)+(Dt>>>8&65280)+((65280&Dt)<<8)+((255&Dt)<<24)}function Oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xe(Dt){var On;return Dt&&Dt.state?(On=Dt.state,Dt.total_in=Dt.total_out=On.total=0,Dt.msg="",On.wrap&&(Dt.adler=1&On.wrap),On.mode=de,On.last=0,On.havedict=0,On.dmax=32768,On.head=null,On.hold=0,On.bits=0,On.lencode=On.lendyn=new k.Buf32(ue),On.distcode=On.distdyn=new k.Buf32(pe),On.sane=1,On.back=-1,oe):ae}function $e(Dt){var On;return Dt&&Dt.state?((On=Dt.state).wsize=0,On.whave=0,On.wnext=0,xe(Dt)):ae}function Ne(Dt,On){var jt,An;return Dt&&Dt.state?(An=Dt.state,On<0?(jt=0,On=-On):(jt=1+(On>>4),On<48&&(On&=15)),On&&(On<8||15<On)?ae:(An.window!==null&&An.wbits!==On&&(An.window=null),An.wrap=jt,An.wbits=On,$e(Dt))):ae}function Ce(Dt,On){var jt,An;return Dt?(An=new Oe,(Dt.state=An).window=null,(jt=Ne(Dt,On))!==oe&&(Dt.state=null),jt):ae}var Fe,ze,kt=!0;function At(Dt){if(kt){var On;for(Fe=new k.Buf32(512),ze=new k.Buf32(32),On=0;On<144;)Dt.lens[On++]=8;for(;On<256;)Dt.lens[On++]=9;for(;On<280;)Dt.lens[On++]=7;for(;On<288;)Dt.lens[On++]=8;for(z(j,Dt.lens,0,288,Fe,0,Dt.work,{bits:9}),On=0;On<32;)Dt.lens[On++]=5;z(re,Dt.lens,0,32,ze,0,Dt.work,{bits:5}),kt=!1}Dt.lencode=Fe,Dt.lenbits=9,Dt.distcode=ze,Dt.distbits=5}function Cn(Dt,On,jt,An){var Mn,$n=Dt.state;return $n.window===null&&($n.wsize=1<<$n.wbits,$n.wnext=0,$n.whave=0,$n.window=new k.Buf8($n.wsize)),An>=$n.wsize?(k.arraySet($n.window,On,jt-$n.wsize,$n.wsize,0),$n.wnext=0,$n.whave=$n.wsize):(An<(Mn=$n.wsize-$n.wnext)&&(Mn=An),k.arraySet($n.window,On,jt-An,Mn,$n.wnext),(An-=Mn)?(k.arraySet($n.window,On,jt-An,An,0),$n.wnext=An,$n.whave=$n.wsize):($n.wnext+=Mn,$n.wnext===$n.wsize&&($n.wnext=0),$n.whave<$n.wsize&&($n.whave+=Mn))),0}y.inflateReset=$e,y.inflateReset2=Ne,y.inflateResetKeep=xe,y.inflateInit=function(Dt){return Ce(Dt,15)},y.inflateInit2=Ce,y.inflate=function(Dt,On){var jt,An,Mn,$n,Ln,Tn,Zn,Qn,Pn,Wn,ur,hr,Vn,En,jn,cr,gr,Cr,ir,Gn,hn,Kn,Nn,Lt,_n=0,Bn=new k.Buf8(4),Xn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Dt||!Dt.state||!Dt.output||!Dt.input&&Dt.avail_in!==0)return ae;(jt=Dt.state).mode===12&&(jt.mode=13),Ln=Dt.next_out,Mn=Dt.output,Zn=Dt.avail_out,$n=Dt.next_in,An=Dt.input,Tn=Dt.avail_in,Qn=jt.hold,Pn=jt.bits,Wn=Tn,ur=Zn,Kn=oe;e:for(;;)switch(jt.mode){case de:if(jt.wrap===0){jt.mode=13;break}for(;Pn<16;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(2&jt.wrap&&Qn===35615){Bn[jt.check=0]=255&Qn,Bn[1]=Qn>>>8&255,jt.check=V(jt.check,Bn,2,0),Pn=Qn=0,jt.mode=2;break}if(jt.flags=0,jt.head&&(jt.head.done=!1),!(1&jt.wrap)||(((255&Qn)<<8)+(Qn>>8))%31){Dt.msg="incorrect header check",jt.mode=30;break}if((15&Qn)!=8){Dt.msg="unknown compression method",jt.mode=30;break}if(Pn-=4,hn=8+(15&(Qn>>>=4)),jt.wbits===0)jt.wbits=hn;else if(hn>jt.wbits){Dt.msg="invalid window size",jt.mode=30;break}jt.dmax=1<<hn,Dt.adler=jt.check=1,jt.mode=512&Qn?10:12,Pn=Qn=0;break;case 2:for(;Pn<16;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(jt.flags=Qn,(255&jt.flags)!=8){Dt.msg="unknown compression method",jt.mode=30;break}if(57344&jt.flags){Dt.msg="unknown header flags set",jt.mode=30;break}jt.head&&(jt.head.text=Qn>>8&1),512&jt.flags&&(Bn[0]=255&Qn,Bn[1]=Qn>>>8&255,jt.check=V(jt.check,Bn,2,0)),Pn=Qn=0,jt.mode=3;case 3:for(;Pn<32;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}jt.head&&(jt.head.time=Qn),512&jt.flags&&(Bn[0]=255&Qn,Bn[1]=Qn>>>8&255,Bn[2]=Qn>>>16&255,Bn[3]=Qn>>>24&255,jt.check=V(jt.check,Bn,4,0)),Pn=Qn=0,jt.mode=4;case 4:for(;Pn<16;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}jt.head&&(jt.head.xflags=255&Qn,jt.head.os=Qn>>8),512&jt.flags&&(Bn[0]=255&Qn,Bn[1]=Qn>>>8&255,jt.check=V(jt.check,Bn,2,0)),Pn=Qn=0,jt.mode=5;case 5:if(1024&jt.flags){for(;Pn<16;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}jt.length=Qn,jt.head&&(jt.head.extra_len=Qn),512&jt.flags&&(Bn[0]=255&Qn,Bn[1]=Qn>>>8&255,jt.check=V(jt.check,Bn,2,0)),Pn=Qn=0}else jt.head&&(jt.head.extra=null);jt.mode=6;case 6:if(1024&jt.flags&&(Tn<(hr=jt.length)&&(hr=Tn),hr&&(jt.head&&(hn=jt.head.extra_len-jt.length,jt.head.extra||(jt.head.extra=new Array(jt.head.extra_len)),k.arraySet(jt.head.extra,An,$n,hr,hn)),512&jt.flags&&(jt.check=V(jt.check,An,hr,$n)),Tn-=hr,$n+=hr,jt.length-=hr),jt.length))break e;jt.length=0,jt.mode=7;case 7:if(2048&jt.flags){if(Tn===0)break e;for(hr=0;hn=An[$n+hr++],jt.head&&hn&&jt.length<65536&&(jt.head.name+=String.fromCharCode(hn)),hn&&hr<Tn;);if(512&jt.flags&&(jt.check=V(jt.check,An,hr,$n)),Tn-=hr,$n+=hr,hn)break e}else jt.head&&(jt.head.name=null);jt.length=0,jt.mode=8;case 8:if(4096&jt.flags){if(Tn===0)break e;for(hr=0;hn=An[$n+hr++],jt.head&&hn&&jt.length<65536&&(jt.head.comment+=String.fromCharCode(hn)),hn&&hr<Tn;);if(512&jt.flags&&(jt.check=V(jt.check,An,hr,$n)),Tn-=hr,$n+=hr,hn)break e}else jt.head&&(jt.head.comment=null);jt.mode=9;case 9:if(512&jt.flags){for(;Pn<16;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(Qn!==(65535&jt.check)){Dt.msg="header crc mismatch",jt.mode=30;break}Pn=Qn=0}jt.head&&(jt.head.hcrc=jt.flags>>9&1,jt.head.done=!0),Dt.adler=jt.check=0,jt.mode=12;break;case 10:for(;Pn<32;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}Dt.adler=jt.check=he(Qn),Pn=Qn=0,jt.mode=11;case 11:if(jt.havedict===0)return Dt.next_out=Ln,Dt.avail_out=Zn,Dt.next_in=$n,Dt.avail_in=Tn,jt.hold=Qn,jt.bits=Pn,2;Dt.adler=jt.check=1,jt.mode=12;case 12:if(On===5||On===6)break e;case 13:if(jt.last){Qn>>>=7&Pn,Pn-=7&Pn,jt.mode=27;break}for(;Pn<3;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}switch(jt.last=1&Qn,Pn-=1,3&(Qn>>>=1)){case 0:jt.mode=14;break;case 1:if(At(jt),jt.mode=20,On!==6)break;Qn>>>=2,Pn-=2;break e;case 2:jt.mode=17;break;case 3:Dt.msg="invalid block type",jt.mode=30}Qn>>>=2,Pn-=2;break;case 14:for(Qn>>>=7&Pn,Pn-=7&Pn;Pn<32;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if((65535&Qn)!=(Qn>>>16^65535)){Dt.msg="invalid stored block lengths",jt.mode=30;break}if(jt.length=65535&Qn,Pn=Qn=0,jt.mode=15,On===6)break e;case 15:jt.mode=16;case 16:if(hr=jt.length){if(Tn<hr&&(hr=Tn),Zn<hr&&(hr=Zn),hr===0)break e;k.arraySet(Mn,An,$n,hr,Ln),Tn-=hr,$n+=hr,Zn-=hr,Ln+=hr,jt.length-=hr;break}jt.mode=12;break;case 17:for(;Pn<14;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(jt.nlen=257+(31&Qn),Qn>>>=5,Pn-=5,jt.ndist=1+(31&Qn),Qn>>>=5,Pn-=5,jt.ncode=4+(15&Qn),Qn>>>=4,Pn-=4,286<jt.nlen||30<jt.ndist){Dt.msg="too many length or distance symbols",jt.mode=30;break}jt.have=0,jt.mode=18;case 18:for(;jt.have<jt.ncode;){for(;Pn<3;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}jt.lens[Xn[jt.have++]]=7&Qn,Qn>>>=3,Pn-=3}for(;jt.have<19;)jt.lens[Xn[jt.have++]]=0;if(jt.lencode=jt.lendyn,jt.lenbits=7,Nn={bits:jt.lenbits},Kn=z(0,jt.lens,0,19,jt.lencode,0,jt.work,Nn),jt.lenbits=Nn.bits,Kn){Dt.msg="invalid code lengths set",jt.mode=30;break}jt.have=0,jt.mode=19;case 19:for(;jt.have<jt.nlen+jt.ndist;){for(;cr=(_n=jt.lencode[Qn&(1<<jt.lenbits)-1])>>>16&255,gr=65535&_n,!((jn=_n>>>24)<=Pn);){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(gr<16)Qn>>>=jn,Pn-=jn,jt.lens[jt.have++]=gr;else{if(gr===16){for(Lt=jn+2;Pn<Lt;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(Qn>>>=jn,Pn-=jn,jt.have===0){Dt.msg="invalid bit length repeat",jt.mode=30;break}hn=jt.lens[jt.have-1],hr=3+(3&Qn),Qn>>>=2,Pn-=2}else if(gr===17){for(Lt=jn+3;Pn<Lt;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}Pn-=jn,hn=0,hr=3+(7&(Qn>>>=jn)),Qn>>>=3,Pn-=3}else{for(Lt=jn+7;Pn<Lt;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}Pn-=jn,hn=0,hr=11+(127&(Qn>>>=jn)),Qn>>>=7,Pn-=7}if(jt.have+hr>jt.nlen+jt.ndist){Dt.msg="invalid bit length repeat",jt.mode=30;break}for(;hr--;)jt.lens[jt.have++]=hn}}if(jt.mode===30)break;if(jt.lens[256]===0){Dt.msg="invalid code -- missing end-of-block",jt.mode=30;break}if(jt.lenbits=9,Nn={bits:jt.lenbits},Kn=z(j,jt.lens,0,jt.nlen,jt.lencode,0,jt.work,Nn),jt.lenbits=Nn.bits,Kn){Dt.msg="invalid literal/lengths set",jt.mode=30;break}if(jt.distbits=6,jt.distcode=jt.distdyn,Nn={bits:jt.distbits},Kn=z(re,jt.lens,jt.nlen,jt.ndist,jt.distcode,0,jt.work,Nn),jt.distbits=Nn.bits,Kn){Dt.msg="invalid distances set",jt.mode=30;break}if(jt.mode=20,On===6)break e;case 20:jt.mode=21;case 21:if(6<=Tn&&258<=Zn){Dt.next_out=Ln,Dt.avail_out=Zn,Dt.next_in=$n,Dt.avail_in=Tn,jt.hold=Qn,jt.bits=Pn,L(Dt,ur),Ln=Dt.next_out,Mn=Dt.output,Zn=Dt.avail_out,$n=Dt.next_in,An=Dt.input,Tn=Dt.avail_in,Qn=jt.hold,Pn=jt.bits,jt.mode===12&&(jt.back=-1);break}for(jt.back=0;cr=(_n=jt.lencode[Qn&(1<<jt.lenbits)-1])>>>16&255,gr=65535&_n,!((jn=_n>>>24)<=Pn);){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(cr&&!(240&cr)){for(Cr=jn,ir=cr,Gn=gr;cr=(_n=jt.lencode[Gn+((Qn&(1<<Cr+ir)-1)>>Cr)])>>>16&255,gr=65535&_n,!(Cr+(jn=_n>>>24)<=Pn);){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}Qn>>>=Cr,Pn-=Cr,jt.back+=Cr}if(Qn>>>=jn,Pn-=jn,jt.back+=jn,jt.length=gr,cr===0){jt.mode=26;break}if(32&cr){jt.back=-1,jt.mode=12;break}if(64&cr){Dt.msg="invalid literal/length code",jt.mode=30;break}jt.extra=15&cr,jt.mode=22;case 22:if(jt.extra){for(Lt=jt.extra;Pn<Lt;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}jt.length+=Qn&(1<<jt.extra)-1,Qn>>>=jt.extra,Pn-=jt.extra,jt.back+=jt.extra}jt.was=jt.length,jt.mode=23;case 23:for(;cr=(_n=jt.distcode[Qn&(1<<jt.distbits)-1])>>>16&255,gr=65535&_n,!((jn=_n>>>24)<=Pn);){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(!(240&cr)){for(Cr=jn,ir=cr,Gn=gr;cr=(_n=jt.distcode[Gn+((Qn&(1<<Cr+ir)-1)>>Cr)])>>>16&255,gr=65535&_n,!(Cr+(jn=_n>>>24)<=Pn);){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}Qn>>>=Cr,Pn-=Cr,jt.back+=Cr}if(Qn>>>=jn,Pn-=jn,jt.back+=jn,64&cr){Dt.msg="invalid distance code",jt.mode=30;break}jt.offset=gr,jt.extra=15&cr,jt.mode=24;case 24:if(jt.extra){for(Lt=jt.extra;Pn<Lt;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}jt.offset+=Qn&(1<<jt.extra)-1,Qn>>>=jt.extra,Pn-=jt.extra,jt.back+=jt.extra}if(jt.offset>jt.dmax){Dt.msg="invalid distance too far back",jt.mode=30;break}jt.mode=25;case 25:if(Zn===0)break e;if(hr=ur-Zn,jt.offset>hr){if((hr=jt.offset-hr)>jt.whave&&jt.sane){Dt.msg="invalid distance too far back",jt.mode=30;break}Vn=hr>jt.wnext?(hr-=jt.wnext,jt.wsize-hr):jt.wnext-hr,hr>jt.length&&(hr=jt.length),En=jt.window}else En=Mn,Vn=Ln-jt.offset,hr=jt.length;for(Zn<hr&&(hr=Zn),Zn-=hr,jt.length-=hr;Mn[Ln++]=En[Vn++],--hr;);jt.length===0&&(jt.mode=21);break;case 26:if(Zn===0)break e;Mn[Ln++]=jt.length,Zn--,jt.mode=21;break;case 27:if(jt.wrap){for(;Pn<32;){if(Tn===0)break e;Tn--,Qn|=An[$n++]<<Pn,Pn+=8}if(ur-=Zn,Dt.total_out+=ur,jt.total+=ur,ur&&(Dt.adler=jt.check=jt.flags?V(jt.check,Mn,ur,Ln-ur):$(jt.check,Mn,ur,Ln-ur)),ur=Zn,(jt.flags?Qn:he(Qn))!==jt.check){Dt.msg="incorrect data check",jt.mode=30;break}Pn=Qn=0}jt.mode=28;case 28:if(jt.wrap&&jt.flags){for(;Pn<32;){if(Tn===0)break e;Tn--,Qn+=An[$n++]<<Pn,Pn+=8}if(Qn!==(4294967295&jt.total)){Dt.msg="incorrect length check",jt.mode=30;break}Pn=Qn=0}jt.mode=29;case 29:Kn=1;break e;case 30:Kn=-3;break e;case 31:return-4;case 32:default:return ae}return Dt.next_out=Ln,Dt.avail_out=Zn,Dt.next_in=$n,Dt.avail_in=Tn,jt.hold=Qn,jt.bits=Pn,(jt.wsize||ur!==Dt.avail_out&&jt.mode<30&&(jt.mode<27||On!==4))&&Cn(Dt,Dt.output,Dt.next_out,ur-Dt.avail_out)?(jt.mode=31,-4):(Wn-=Dt.avail_in,ur-=Dt.avail_out,Dt.total_in+=Wn,Dt.total_out+=ur,jt.total+=ur,jt.wrap&&ur&&(Dt.adler=jt.check=jt.flags?V(jt.check,Mn,ur,Dt.next_out-ur):$(jt.check,Mn,ur,Dt.next_out-ur)),Dt.data_type=jt.bits+(jt.last?64:0)+(jt.mode===12?128:0)+(jt.mode===20||jt.mode===15?256:0),(Wn==0&&ur===0||On===4)&&Kn===oe&&(Kn=-5),Kn)},y.inflateEnd=function(Dt){if(!Dt||!Dt.state)return ae;var On=Dt.state;return On.window&&(On.window=null),Dt.state=null,oe},y.inflateGetHeader=function(Dt,On){var jt;return Dt&&Dt.state&&2&(jt=Dt.state).wrap?((jt.head=On).done=!1,oe):ae},y.inflateSetDictionary=function(Dt,On){var jt,An=On.length;return Dt&&Dt.state?(jt=Dt.state).wrap!==0&&jt.mode!==11?ae:jt.mode===11&&$(1,On,An,0)!==jt.check?-3:Cn(Dt,On,An,An)?(jt.mode=31,-4):(jt.havedict=1,oe):ae},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,g,y){var k=r("../utils/common"),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],V=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],z=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(j,re,oe,ae,de,ue,pe,he){var Oe,xe,$e,Ne,Ce,Fe,ze,kt,At,Cn=he.bits,Dt=0,On=0,jt=0,An=0,Mn=0,$n=0,Ln=0,Tn=0,Zn=0,Qn=0,Pn=null,Wn=0,ur=new k.Buf16(16),hr=new k.Buf16(16),Vn=null,En=0;for(Dt=0;Dt<=15;Dt++)ur[Dt]=0;for(On=0;On<ae;On++)ur[re[oe+On]]++;for(Mn=Cn,An=15;1<=An&&ur[An]===0;An--);if(An<Mn&&(Mn=An),An===0)return de[ue++]=20971520,de[ue++]=20971520,he.bits=1,0;for(jt=1;jt<An&&ur[jt]===0;jt++);for(Mn<jt&&(Mn=jt),Dt=Tn=1;Dt<=15;Dt++)if(Tn<<=1,(Tn-=ur[Dt])<0)return-1;if(0<Tn&&(j===0||An!==1))return-1;for(hr[1]=0,Dt=1;Dt<15;Dt++)hr[Dt+1]=hr[Dt]+ur[Dt];for(On=0;On<ae;On++)re[oe+On]!==0&&(pe[hr[re[oe+On]]++]=On);if(Fe=j===0?(Pn=Vn=pe,19):j===1?(Pn=$,Wn-=257,Vn=V,En-=257,256):(Pn=L,Vn=z,-1),Dt=jt,Ce=ue,Ln=On=Qn=0,$e=-1,Ne=(Zn=1<<($n=Mn))-1,j===1&&852<Zn||j===2&&592<Zn)return 1;for(;;){for(ze=Dt-Ln,At=pe[On]<Fe?(kt=0,pe[On]):pe[On]>Fe?(kt=Vn[En+pe[On]],Pn[Wn+pe[On]]):(kt=96,0),Oe=1<<Dt-Ln,jt=xe=1<<$n;de[Ce+(Qn>>Ln)+(xe-=Oe)]=ze<<24|kt<<16|At|0,xe!==0;);for(Oe=1<<Dt-1;Qn&Oe;)Oe>>=1;if(Oe!==0?(Qn&=Oe-1,Qn+=Oe):Qn=0,On++,--ur[Dt]==0){if(Dt===An)break;Dt=re[oe+pe[On]]}if(Mn<Dt&&(Qn&Ne)!==$e){for(Ln===0&&(Ln=Mn),Ce+=jt,Tn=1<<($n=Dt-Ln);$n+Ln<An&&!((Tn-=ur[$n+Ln])<=0);)$n++,Tn<<=1;if(Zn+=1<<$n,j===1&&852<Zn||j===2&&592<Zn)return 1;de[$e=Qn&Ne]=Mn<<24|$n<<16|Ce-ue|0}}return Qn!==0&&(de[Ce+Qn]=Dt-Ln<<24|64<<16|0),he.bits=Mn,0}},{"../utils/common":41}],51:[function(r,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,g,y){var k=r("../utils/common"),$=0,V=1;function L(_n){for(var Bn=_n.length;0<=--Bn;)_n[Bn]=0}var z=0,j=29,re=256,oe=re+1+j,ae=30,de=19,ue=2*oe+1,pe=15,he=16,Oe=7,xe=256,$e=16,Ne=17,Ce=18,Fe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ze=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],kt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Cn=new Array(2*(oe+2));L(Cn);var Dt=new Array(2*ae);L(Dt);var On=new Array(512);L(On);var jt=new Array(256);L(jt);var An=new Array(j);L(An);var Mn,$n,Ln,Tn=new Array(ae);function Zn(_n,Bn,Xn,rr,ar){this.static_tree=_n,this.extra_bits=Bn,this.extra_base=Xn,this.elems=rr,this.max_length=ar,this.has_stree=_n&&_n.length}function Qn(_n,Bn){this.dyn_tree=_n,this.max_code=0,this.stat_desc=Bn}function Pn(_n){return _n<256?On[_n]:On[256+(_n>>>7)]}function Wn(_n,Bn){_n.pending_buf[_n.pending++]=255&Bn,_n.pending_buf[_n.pending++]=Bn>>>8&255}function ur(_n,Bn,Xn){_n.bi_valid>he-Xn?(_n.bi_buf|=Bn<<_n.bi_valid&65535,Wn(_n,_n.bi_buf),_n.bi_buf=Bn>>he-_n.bi_valid,_n.bi_valid+=Xn-he):(_n.bi_buf|=Bn<<_n.bi_valid&65535,_n.bi_valid+=Xn)}function hr(_n,Bn,Xn){ur(_n,Xn[2*Bn],Xn[2*Bn+1])}function Vn(_n,Bn){for(var Xn=0;Xn|=1&_n,_n>>>=1,Xn<<=1,0<--Bn;);return Xn>>>1}function En(_n,Bn,Xn){var rr,ar,sr=new Array(pe+1),mr=0;for(rr=1;rr<=pe;rr++)sr[rr]=mr=mr+Xn[rr-1]<<1;for(ar=0;ar<=Bn;ar++){var lr=_n[2*ar+1];lr!==0&&(_n[2*ar]=Vn(sr[lr]++,lr))}}function jn(_n){var Bn;for(Bn=0;Bn<oe;Bn++)_n.dyn_ltree[2*Bn]=0;for(Bn=0;Bn<ae;Bn++)_n.dyn_dtree[2*Bn]=0;for(Bn=0;Bn<de;Bn++)_n.bl_tree[2*Bn]=0;_n.dyn_ltree[2*xe]=1,_n.opt_len=_n.static_len=0,_n.last_lit=_n.matches=0}function cr(_n){8<_n.bi_valid?Wn(_n,_n.bi_buf):0<_n.bi_valid&&(_n.pending_buf[_n.pending++]=_n.bi_buf),_n.bi_buf=0,_n.bi_valid=0}function gr(_n,Bn,Xn,rr){var ar=2*Bn,sr=2*Xn;return _n[ar]<_n[sr]||_n[ar]===_n[sr]&&rr[Bn]<=rr[Xn]}function Cr(_n,Bn,Xn){for(var rr=_n.heap[Xn],ar=Xn<<1;ar<=_n.heap_len&&(ar<_n.heap_len&&gr(Bn,_n.heap[ar+1],_n.heap[ar],_n.depth)&&ar++,!gr(Bn,rr,_n.heap[ar],_n.depth));)_n.heap[Xn]=_n.heap[ar],Xn=ar,ar<<=1;_n.heap[Xn]=rr}function ir(_n,Bn,Xn){var rr,ar,sr,mr,lr=0;if(_n.last_lit!==0)for(;rr=_n.pending_buf[_n.d_buf+2*lr]<<8|_n.pending_buf[_n.d_buf+2*lr+1],ar=_n.pending_buf[_n.l_buf+lr],lr++,rr===0?hr(_n,ar,Bn):(hr(_n,(sr=jt[ar])+re+1,Bn),(mr=Fe[sr])!==0&&ur(_n,ar-=An[sr],mr),hr(_n,sr=Pn(--rr),Xn),(mr=ze[sr])!==0&&ur(_n,rr-=Tn[sr],mr)),lr<_n.last_lit;);hr(_n,xe,Bn)}function Gn(_n,Bn){var Xn,rr,ar,sr=Bn.dyn_tree,mr=Bn.stat_desc.static_tree,lr=Bn.stat_desc.has_stree,le=Bn.stat_desc.elems,_e=-1;for(_n.heap_len=0,_n.heap_max=ue,Xn=0;Xn<le;Xn++)sr[2*Xn]!==0?(_n.heap[++_n.heap_len]=_e=Xn,_n.depth[Xn]=0):sr[2*Xn+1]=0;for(;_n.heap_len<2;)sr[2*(ar=_n.heap[++_n.heap_len]=_e<2?++_e:0)]=1,_n.depth[ar]=0,_n.opt_len--,lr&&(_n.static_len-=mr[2*ar+1]);for(Bn.max_code=_e,Xn=_n.heap_len>>1;1<=Xn;Xn--)Cr(_n,sr,Xn);for(ar=le;Xn=_n.heap[1],_n.heap[1]=_n.heap[_n.heap_len--],Cr(_n,sr,1),rr=_n.heap[1],_n.heap[--_n.heap_max]=Xn,_n.heap[--_n.heap_max]=rr,sr[2*ar]=sr[2*Xn]+sr[2*rr],_n.depth[ar]=(_n.depth[Xn]>=_n.depth[rr]?_n.depth[Xn]:_n.depth[rr])+1,sr[2*Xn+1]=sr[2*rr+1]=ar,_n.heap[1]=ar++,Cr(_n,sr,1),2<=_n.heap_len;);_n.heap[--_n.heap_max]=_n.heap[1],function(Ie,Ue){var qe,Et,vn,Pt,wn,bn,In=Ue.dyn_tree,Fn=Ue.max_code,Dn=Ue.stat_desc.static_tree,Un=Ue.stat_desc.has_stree,Jn=Ue.stat_desc.extra_bits,Hn=Ue.stat_desc.extra_base,tr=Ue.stat_desc.max_length,kn=0;for(Pt=0;Pt<=pe;Pt++)Ie.bl_count[Pt]=0;for(In[2*Ie.heap[Ie.heap_max]+1]=0,qe=Ie.heap_max+1;qe<ue;qe++)tr<(Pt=In[2*In[2*(Et=Ie.heap[qe])+1]+1]+1)&&(Pt=tr,kn++),In[2*Et+1]=Pt,Fn<Et||(Ie.bl_count[Pt]++,wn=0,Hn<=Et&&(wn=Jn[Et-Hn]),bn=In[2*Et],Ie.opt_len+=bn*(Pt+wn),Un&&(Ie.static_len+=bn*(Dn[2*Et+1]+wn)));if(kn!==0){do{for(Pt=tr-1;Ie.bl_count[Pt]===0;)Pt--;Ie.bl_count[Pt]--,Ie.bl_count[Pt+1]+=2,Ie.bl_count[tr]--,kn-=2}while(0<kn);for(Pt=tr;Pt!==0;Pt--)for(Et=Ie.bl_count[Pt];Et!==0;)Fn<(vn=Ie.heap[--qe])||(In[2*vn+1]!==Pt&&(Ie.opt_len+=(Pt-In[2*vn+1])*In[2*vn],In[2*vn+1]=Pt),Et--)}}(_n,Bn),En(sr,_e,_n.bl_count)}function hn(_n,Bn,Xn){var rr,ar,sr=-1,mr=Bn[1],lr=0,le=7,_e=4;for(mr===0&&(le=138,_e=3),Bn[2*(Xn+1)+1]=65535,rr=0;rr<=Xn;rr++)ar=mr,mr=Bn[2*(rr+1)+1],++lr<le&&ar===mr||(lr<_e?_n.bl_tree[2*ar]+=lr:ar!==0?(ar!==sr&&_n.bl_tree[2*ar]++,_n.bl_tree[2*$e]++):lr<=10?_n.bl_tree[2*Ne]++:_n.bl_tree[2*Ce]++,sr=ar,_e=(lr=0)===mr?(le=138,3):ar===mr?(le=6,3):(le=7,4))}function Kn(_n,Bn,Xn){var rr,ar,sr=-1,mr=Bn[1],lr=0,le=7,_e=4;for(mr===0&&(le=138,_e=3),rr=0;rr<=Xn;rr++)if(ar=mr,mr=Bn[2*(rr+1)+1],!(++lr<le&&ar===mr)){if(lr<_e)for(;hr(_n,ar,_n.bl_tree),--lr!=0;);else ar!==0?(ar!==sr&&(hr(_n,ar,_n.bl_tree),lr--),hr(_n,$e,_n.bl_tree),ur(_n,lr-3,2)):lr<=10?(hr(_n,Ne,_n.bl_tree),ur(_n,lr-3,3)):(hr(_n,Ce,_n.bl_tree),ur(_n,lr-11,7));sr=ar,_e=(lr=0)===mr?(le=138,3):ar===mr?(le=6,3):(le=7,4)}}L(Tn);var Nn=!1;function Lt(_n,Bn,Xn,rr){ur(_n,(z<<1)+(rr?1:0),3),function(ar,sr,mr,lr){cr(ar),lr&&(Wn(ar,mr),Wn(ar,~mr)),k.arraySet(ar.pending_buf,ar.window,sr,mr,ar.pending),ar.pending+=mr}(_n,Bn,Xn,!0)}y._tr_init=function(_n){Nn||(function(){var Bn,Xn,rr,ar,sr,mr=new Array(pe+1);for(ar=rr=0;ar<j-1;ar++)for(An[ar]=rr,Bn=0;Bn<1<<Fe[ar];Bn++)jt[rr++]=ar;for(jt[rr-1]=ar,ar=sr=0;ar<16;ar++)for(Tn[ar]=sr,Bn=0;Bn<1<<ze[ar];Bn++)On[sr++]=ar;for(sr>>=7;ar<ae;ar++)for(Tn[ar]=sr<<7,Bn=0;Bn<1<<ze[ar]-7;Bn++)On[256+sr++]=ar;for(Xn=0;Xn<=pe;Xn++)mr[Xn]=0;for(Bn=0;Bn<=143;)Cn[2*Bn+1]=8,Bn++,mr[8]++;for(;Bn<=255;)Cn[2*Bn+1]=9,Bn++,mr[9]++;for(;Bn<=279;)Cn[2*Bn+1]=7,Bn++,mr[7]++;for(;Bn<=287;)Cn[2*Bn+1]=8,Bn++,mr[8]++;for(En(Cn,oe+1,mr),Bn=0;Bn<ae;Bn++)Dt[2*Bn+1]=5,Dt[2*Bn]=Vn(Bn,5);Mn=new Zn(Cn,Fe,re+1,oe,pe),$n=new Zn(Dt,ze,0,ae,pe),Ln=new Zn(new Array(0),kt,0,de,Oe)}(),Nn=!0),_n.l_desc=new Qn(_n.dyn_ltree,Mn),_n.d_desc=new Qn(_n.dyn_dtree,$n),_n.bl_desc=new Qn(_n.bl_tree,Ln),_n.bi_buf=0,_n.bi_valid=0,jn(_n)},y._tr_stored_block=Lt,y._tr_flush_block=function(_n,Bn,Xn,rr){var ar,sr,mr=0;0<_n.level?(_n.strm.data_type===2&&(_n.strm.data_type=function(lr){var le,_e=4093624447;for(le=0;le<=31;le++,_e>>>=1)if(1&_e&&lr.dyn_ltree[2*le]!==0)return $;if(lr.dyn_ltree[18]!==0||lr.dyn_ltree[20]!==0||lr.dyn_ltree[26]!==0)return V;for(le=32;le<re;le++)if(lr.dyn_ltree[2*le]!==0)return V;return $}(_n)),Gn(_n,_n.l_desc),Gn(_n,_n.d_desc),mr=function(lr){var le;for(hn(lr,lr.dyn_ltree,lr.l_desc.max_code),hn(lr,lr.dyn_dtree,lr.d_desc.max_code),Gn(lr,lr.bl_desc),le=de-1;3<=le&&lr.bl_tree[2*At[le]+1]===0;le--);return lr.opt_len+=3*(le+1)+5+5+4,le}(_n),ar=_n.opt_len+3+7>>>3,(sr=_n.static_len+3+7>>>3)<=ar&&(ar=sr)):ar=sr=Xn+5,Xn+4<=ar&&Bn!==-1?Lt(_n,Bn,Xn,rr):_n.strategy===4||sr===ar?(ur(_n,2+(rr?1:0),3),ir(_n,Cn,Dt)):(ur(_n,4+(rr?1:0),3),function(lr,le,_e,Ie){var Ue;for(ur(lr,le-257,5),ur(lr,_e-1,5),ur(lr,Ie-4,4),Ue=0;Ue<Ie;Ue++)ur(lr,lr.bl_tree[2*At[Ue]+1],3);Kn(lr,lr.dyn_ltree,le-1),Kn(lr,lr.dyn_dtree,_e-1)}(_n,_n.l_desc.max_code+1,_n.d_desc.max_code+1,mr+1),ir(_n,_n.dyn_ltree,_n.dyn_dtree)),jn(_n),rr&&cr(_n)},y._tr_tally=function(_n,Bn,Xn){return _n.pending_buf[_n.d_buf+2*_n.last_lit]=Bn>>>8&255,_n.pending_buf[_n.d_buf+2*_n.last_lit+1]=255&Bn,_n.pending_buf[_n.l_buf+_n.last_lit]=255&Xn,_n.last_lit++,Bn===0?_n.dyn_ltree[2*Xn]++:(_n.matches++,Bn--,_n.dyn_ltree[2*(jt[Xn]+re+1)]++,_n.dyn_dtree[2*Pn(Bn)]++),_n.last_lit===_n.lit_bufsize-1},y._tr_align=function(_n){ur(_n,2,3),hr(_n,xe,Cn),function(Bn){Bn.bi_valid===16?(Wn(Bn,Bn.bi_buf),Bn.bi_buf=0,Bn.bi_valid=0):8<=Bn.bi_valid&&(Bn.pending_buf[Bn.pending++]=255&Bn.bi_buf,Bn.bi_buf>>=8,Bn.bi_valid-=8)}(_n)}},{"../utils/common":41}],53:[function(r,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,g,y){(function(k){(function($,V){if(!$.setImmediate){var L,z,j,re,oe=1,ae={},de=!1,ue=$.document,pe=Object.getPrototypeOf&&Object.getPrototypeOf($);pe=pe&&pe.setTimeout?pe:$,L={}.toString.call($.process)==="[object process]"?function($e){process.nextTick(function(){Oe($e)})}:function(){if($.postMessage&&!$.importScripts){var $e=!0,Ne=$.onmessage;return $.onmessage=function(){$e=!1},$.postMessage("","*"),$.onmessage=Ne,$e}}()?(re="setImmediate$"+Math.random()+"$",$.addEventListener?$.addEventListener("message",xe,!1):$.attachEvent("onmessage",xe),function($e){$.postMessage(re+$e,"*")}):$.MessageChannel?((j=new MessageChannel).port1.onmessage=function($e){Oe($e.data)},function($e){j.port2.postMessage($e)}):ue&&"onreadystatechange"in ue.createElement("script")?(z=ue.documentElement,function($e){var Ne=ue.createElement("script");Ne.onreadystatechange=function(){Oe($e),Ne.onreadystatechange=null,z.removeChild(Ne),Ne=null},z.appendChild(Ne)}):function($e){setTimeout(Oe,0,$e)},pe.setImmediate=function($e){typeof $e!="function"&&($e=new Function(""+$e));for(var Ne=new Array(arguments.length-1),Ce=0;Ce<Ne.length;Ce++)Ne[Ce]=arguments[Ce+1];var Fe={callback:$e,args:Ne};return ae[oe]=Fe,L(oe),oe++},pe.clearImmediate=he}function he($e){delete ae[$e]}function Oe($e){if(de)setTimeout(Oe,0,$e);else{var Ne=ae[$e];if(Ne){de=!0;try{(function(Ce){var Fe=Ce.callback,ze=Ce.args;switch(ze.length){case 0:Fe();break;case 1:Fe(ze[0]);break;case 2:Fe(ze[0],ze[1]);break;case 3:Fe(ze[0],ze[1],ze[2]);break;default:Fe.apply(V,ze)}})(Ne)}finally{he($e),de=!1}}}}function xe($e){$e.source===$&&typeof $e.data=="string"&&$e.data.indexOf(re)===0&&Oe(+$e.data.slice(re.length))}})(typeof self>"u"?k===void 0?this:k:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports),toPixels=n=>{const e=document.createElement("canvas"),r=e.getContext("2d");return e.width=n.width,e.height=n.height,r?.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),r?.getImageData(0,0,e.width,e.height).data},reversePixels=(n,e,r)=>{const g=document.createElement("canvas"),y=g.getContext("2d");g.width=e,g.height=r;for(let $=0;$<e;$++)for(let V=0;V<r;V++){const L=(V*e+$)*4;y.fillStyle=`rgba(${255-n[L]}, ${255-n[L+1]}, ${255-n[L+2]}, ${255-n[L+3]})`,y.fillRect($,V,1,1)}return{pixels:y?.getImageData(0,0,g.width,g.height).data,canvas:g}},toBlackWhiteBitMap=(n,e,r)=>{const g=clone$1(n),{x:y,y:k,width:$,height:V,size:L}=r;let z=L,j=L;L<0&&(z=$,j=V);for(let re=y;re<y+z;re++)for(let oe=k;oe<k+j;oe++){if(re>$||re<0||oe>V||oe<0)continue;const{r:ae,g:de,b:ue,a:pe}={r:n[(oe*$+re)*4],g:n[(oe*$+re)*4+1],b:n[(oe*$+re)*4+2],a:n[(oe*$+re)*4+3]};ae>e.r||de>e.g||ue>e.b?(g[(oe*$+re)*4]=255,g[(oe*$+re)*4+1]=255,g[(oe*$+re)*4+2]=255,g[(oe*$+re)*4+3]=1):(g[(oe*$+re)*4]=0,g[(oe*$+re)*4+1]=0,g[(oe*$+re)*4+2]=0,g[(oe*$+re)*4+3]=1)}return g};class ParametersMap{parameters;constructor(e){this.parameters=e}get(e){for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name===e)return this.getValue(this.parameters[r])}set(e,r){for(let g=0;g<this.parameters.length;g++){const y=this.parameters[g];y.name===e&&(r<y.min?y.value=y.min:r>y.max?y.value=y.max:y.value=r,y.type===ParameterType.Constant&&(y.type=ParameterType.Number))}}getByUUID(e){for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].uuid===e)return this.getValue(this.parameters[r])}getValue(e){if(e.type===ParameterType.Number||e.type===ParameterType.RingController)return e.value;if(e.type===ParameterType.Constant)return constantsMap.getByUUID(e.value)}}/*!
  * shared v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=(n,e=!1)=>e?Symbol.for(n):Symbol(n),generateFormatCacheKey=(n,e,r)=>friendlyJSONstringify({l:n,k:e,s:r}),friendlyJSONstringify=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber=n=>typeof n=="number"&&isFinite(n),isDate=n=>toTypeString(n)==="[object Date]",isRegExp=n=>toTypeString(n)==="[object RegExp]",isEmptyObject=n=>isPlainObject(n)&&Object.keys(n).length===0,assign$1=Object.assign;let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function escapeHtml(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(n,e){return hasOwnProperty.call(n,e)}const isArray=Array.isArray,isFunction=n=>typeof n=="function",isString$1=n=>typeof n=="string",isBoolean=n=>typeof n=="boolean",isObject$1=n=>n!==null&&typeof n=="object",objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),isPlainObject=n=>{if(!isObject$1(n))return!1;const e=Object.getPrototypeOf(n);return e===null||e.constructor===Object},toDisplayString=n=>n==null?"":isArray(n)||isPlainObject(n)&&n.toString===objectToString?JSON.stringify(n,null,2):String(n);function join$1(n,e=""){return n.reduce((r,g,y)=>y===0?r+g:r+e+g,"")}function incrementer(n){let e=n;return()=>++e}function warn(n,e){typeof console<"u"&&(console.warn("[intlify] "+n),e&&console.warn(e.stack))}/*!
  * message-compiler v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(n,e,r){return{line:n,column:e,offset:r}}function createLocation(n,e,r){const g={start:n,end:e};return r!=null&&(g.source=r),g}const RE_ARGS=/\{([0-9a-zA-Z]+)\}/g;function format$1(n,...e){return e.length===1&&isObject(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),n.replace(RE_ARGS,(r,g)=>e.hasOwnProperty(g)?e[g]:"")}const assign=Object.assign,isString=n=>typeof n=="string",isObject=n=>n!==null&&typeof n=="object";function join(n,e=""){return n.reduce((r,g,y)=>y===0?r+g:r+e+g,"")}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},errorMessages={[CompileErrorCodes.EXPECTED_TOKEN]:"Expected token: '{0}'",[CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[CompileErrorCodes.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[CompileErrorCodes.EMPTY_PLACEHOLDER]:"Empty placeholder",[CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[CompileErrorCodes.INVALID_LINKED_FORMAT]:"Invalid linked format",[CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function createCompileError(n,e,r={}){const{domain:g,messages:y,args:k}=r,$=format$1((y||errorMessages)[n]||"",...k||[]),V=new SyntaxError(String($));return V.code=n,e&&(V.location=e),V.domain=g,V}function defaultOnError(n){throw n}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(n){const e=n;let r=0,g=1,y=1,k=0;const $=Fe=>e[Fe]===CHAR_CR&&e[Fe+1]===CHAR_LF,V=Fe=>e[Fe]===CHAR_LF,L=Fe=>e[Fe]===CHAR_PS,z=Fe=>e[Fe]===CHAR_LS,j=Fe=>$(Fe)||V(Fe)||L(Fe)||z(Fe),re=()=>r,oe=()=>g,ae=()=>y,de=()=>k,ue=Fe=>$(Fe)||L(Fe)||z(Fe)?CHAR_LF:e[Fe],pe=()=>ue(r),he=()=>ue(r+k);function Oe(){return k=0,j(r)&&(g++,y=0),$(r)&&r++,r++,y++,e[r]}function xe(){return $(r+k)&&k++,k++,e[r+k]}function $e(){r=0,g=1,y=1,k=0}function Ne(Fe=0){k=Fe}function Ce(){const Fe=r+k;for(;Fe!==r;)Oe();k=0}return{index:re,line:oe,column:ae,peekOffset:de,charAt:ue,currentChar:pe,currentPeek:he,next:Oe,peek:xe,reset:$e,resetPeek:Ne,skipToPeek:Ce}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(n,e={}){const r=e.location!==!1,g=createScanner(n),y=()=>g.index(),k=()=>createPosition(g.line(),g.column(),g.index()),$=k(),V=y(),L={currentType:14,offset:V,startLoc:$,endLoc:$,lastType:14,lastOffset:V,lastStartLoc:$,lastEndLoc:$,braceNest:0,inLinked:!1,text:""},z=()=>L,{onError:j}=e;function re(Gn,hn,Kn,...Nn){const Lt=z();if(hn.column+=Kn,hn.offset+=Kn,j){const _n=r?createLocation(Lt.startLoc,hn):null,Bn=createCompileError(Gn,_n,{domain:ERROR_DOMAIN$3,args:Nn});j(Bn)}}function oe(Gn,hn,Kn){Gn.endLoc=k(),Gn.currentType=hn;const Nn={type:hn};return r&&(Nn.loc=createLocation(Gn.startLoc,Gn.endLoc)),Kn!=null&&(Nn.value=Kn),Nn}const ae=Gn=>oe(Gn,14);function de(Gn,hn){return Gn.currentChar()===hn?(Gn.next(),hn):(re(CompileErrorCodes.EXPECTED_TOKEN,k(),0,hn),"")}function ue(Gn){let hn="";for(;Gn.currentPeek()===CHAR_SP||Gn.currentPeek()===CHAR_LF;)hn+=Gn.currentPeek(),Gn.peek();return hn}function pe(Gn){const hn=ue(Gn);return Gn.skipToPeek(),hn}function he(Gn){if(Gn===EOF)return!1;const hn=Gn.charCodeAt(0);return hn>=97&&hn<=122||hn>=65&&hn<=90||hn===95}function Oe(Gn){if(Gn===EOF)return!1;const hn=Gn.charCodeAt(0);return hn>=48&&hn<=57}function xe(Gn,hn){const{currentType:Kn}=hn;if(Kn!==2)return!1;ue(Gn);const Nn=he(Gn.currentPeek());return Gn.resetPeek(),Nn}function $e(Gn,hn){const{currentType:Kn}=hn;if(Kn!==2)return!1;ue(Gn);const Nn=Gn.currentPeek()==="-"?Gn.peek():Gn.currentPeek(),Lt=Oe(Nn);return Gn.resetPeek(),Lt}function Ne(Gn,hn){const{currentType:Kn}=hn;if(Kn!==2)return!1;ue(Gn);const Nn=Gn.currentPeek()===LITERAL_DELIMITER;return Gn.resetPeek(),Nn}function Ce(Gn,hn){const{currentType:Kn}=hn;if(Kn!==8)return!1;ue(Gn);const Nn=Gn.currentPeek()===".";return Gn.resetPeek(),Nn}function Fe(Gn,hn){const{currentType:Kn}=hn;if(Kn!==9)return!1;ue(Gn);const Nn=he(Gn.currentPeek());return Gn.resetPeek(),Nn}function ze(Gn,hn){const{currentType:Kn}=hn;if(!(Kn===8||Kn===12))return!1;ue(Gn);const Nn=Gn.currentPeek()===":";return Gn.resetPeek(),Nn}function kt(Gn,hn){const{currentType:Kn}=hn;if(Kn!==10)return!1;const Nn=()=>{const _n=Gn.currentPeek();return _n==="{"?he(Gn.peek()):_n==="@"||_n==="%"||_n==="|"||_n===":"||_n==="."||_n===CHAR_SP||!_n?!1:_n===CHAR_LF?(Gn.peek(),Nn()):he(_n)},Lt=Nn();return Gn.resetPeek(),Lt}function At(Gn){ue(Gn);const hn=Gn.currentPeek()==="|";return Gn.resetPeek(),hn}function Cn(Gn){const hn=ue(Gn),Kn=Gn.currentPeek()==="%"&&Gn.peek()==="{";return Gn.resetPeek(),{isModulo:Kn,hasSpace:hn.length>0}}function Dt(Gn,hn=!0){const Kn=(Lt=!1,_n="",Bn=!1)=>{const Xn=Gn.currentPeek();return Xn==="{"?_n==="%"?!1:Lt:Xn==="@"||!Xn?_n==="%"?!0:Lt:Xn==="%"?(Gn.peek(),Kn(Lt,"%",!0)):Xn==="|"?_n==="%"||Bn?!0:!(_n===CHAR_SP||_n===CHAR_LF):Xn===CHAR_SP?(Gn.peek(),Kn(!0,CHAR_SP,Bn)):Xn===CHAR_LF?(Gn.peek(),Kn(!0,CHAR_LF,Bn)):!0},Nn=Kn();return hn&&Gn.resetPeek(),Nn}function On(Gn,hn){const Kn=Gn.currentChar();return Kn===EOF?EOF:hn(Kn)?(Gn.next(),Kn):null}function jt(Gn){return On(Gn,Kn=>{const Nn=Kn.charCodeAt(0);return Nn>=97&&Nn<=122||Nn>=65&&Nn<=90||Nn>=48&&Nn<=57||Nn===95||Nn===36})}function An(Gn){return On(Gn,Kn=>{const Nn=Kn.charCodeAt(0);return Nn>=48&&Nn<=57})}function Mn(Gn){return On(Gn,Kn=>{const Nn=Kn.charCodeAt(0);return Nn>=48&&Nn<=57||Nn>=65&&Nn<=70||Nn>=97&&Nn<=102})}function $n(Gn){let hn="",Kn="";for(;hn=An(Gn);)Kn+=hn;return Kn}function Ln(Gn){pe(Gn);const hn=Gn.currentChar();return hn!=="%"&&re(CompileErrorCodes.EXPECTED_TOKEN,k(),0,hn),Gn.next(),"%"}function Tn(Gn){let hn="";for(;;){const Kn=Gn.currentChar();if(Kn==="{"||Kn==="}"||Kn==="@"||Kn==="|"||!Kn)break;if(Kn==="%")if(Dt(Gn))hn+=Kn,Gn.next();else break;else if(Kn===CHAR_SP||Kn===CHAR_LF)if(Dt(Gn))hn+=Kn,Gn.next();else{if(At(Gn))break;hn+=Kn,Gn.next()}else hn+=Kn,Gn.next()}return hn}function Zn(Gn){pe(Gn);let hn="",Kn="";for(;hn=jt(Gn);)Kn+=hn;return Gn.currentChar()===EOF&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),Kn}function Qn(Gn){pe(Gn);let hn="";return Gn.currentChar()==="-"?(Gn.next(),hn+=`-${$n(Gn)}`):hn+=$n(Gn),Gn.currentChar()===EOF&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),hn}function Pn(Gn){pe(Gn),de(Gn,"'");let hn="",Kn="";const Nn=_n=>_n!==LITERAL_DELIMITER&&_n!==CHAR_LF;for(;hn=On(Gn,Nn);)hn==="\\"?Kn+=Wn(Gn):Kn+=hn;const Lt=Gn.currentChar();return Lt===CHAR_LF||Lt===EOF?(re(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,k(),0),Lt===CHAR_LF&&(Gn.next(),de(Gn,"'")),Kn):(de(Gn,"'"),Kn)}function Wn(Gn){const hn=Gn.currentChar();switch(hn){case"\\":case"'":return Gn.next(),`\\${hn}`;case"u":return ur(Gn,hn,4);case"U":return ur(Gn,hn,6);default:return re(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,k(),0,hn),""}}function ur(Gn,hn,Kn){de(Gn,hn);let Nn="";for(let Lt=0;Lt<Kn;Lt++){const _n=Mn(Gn);if(!_n){re(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,k(),0,`\\${hn}${Nn}${Gn.currentChar()}`);break}Nn+=_n}return`\\${hn}${Nn}`}function hr(Gn){pe(Gn);let hn="",Kn="";const Nn=Lt=>Lt!=="{"&&Lt!=="}"&&Lt!==CHAR_SP&&Lt!==CHAR_LF;for(;hn=On(Gn,Nn);)Kn+=hn;return Kn}function Vn(Gn){let hn="",Kn="";for(;hn=jt(Gn);)Kn+=hn;return Kn}function En(Gn){const hn=(Kn=!1,Nn)=>{const Lt=Gn.currentChar();return Lt==="{"||Lt==="%"||Lt==="@"||Lt==="|"||Lt==="("||Lt===")"||!Lt||Lt===CHAR_SP?Nn:Lt===CHAR_LF||Lt===DOT?(Nn+=Lt,Gn.next(),hn(Kn,Nn)):(Nn+=Lt,Gn.next(),hn(!0,Nn))};return hn(!1,"")}function jn(Gn){pe(Gn);const hn=de(Gn,"|");return pe(Gn),hn}function cr(Gn,hn){let Kn=null;switch(Gn.currentChar()){case"{":return hn.braceNest>=1&&re(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,k(),0),Gn.next(),Kn=oe(hn,2,"{"),pe(Gn),hn.braceNest++,Kn;case"}":return hn.braceNest>0&&hn.currentType===2&&re(CompileErrorCodes.EMPTY_PLACEHOLDER,k(),0),Gn.next(),Kn=oe(hn,3,"}"),hn.braceNest--,hn.braceNest>0&&pe(Gn),hn.inLinked&&hn.braceNest===0&&(hn.inLinked=!1),Kn;case"@":return hn.braceNest>0&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),Kn=gr(Gn,hn)||ae(hn),hn.braceNest=0,Kn;default:let Lt=!0,_n=!0,Bn=!0;if(At(Gn))return hn.braceNest>0&&re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),Kn=oe(hn,1,jn(Gn)),hn.braceNest=0,hn.inLinked=!1,Kn;if(hn.braceNest>0&&(hn.currentType===5||hn.currentType===6||hn.currentType===7))return re(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,k(),0),hn.braceNest=0,Cr(Gn,hn);if(Lt=xe(Gn,hn))return Kn=oe(hn,5,Zn(Gn)),pe(Gn),Kn;if(_n=$e(Gn,hn))return Kn=oe(hn,6,Qn(Gn)),pe(Gn),Kn;if(Bn=Ne(Gn,hn))return Kn=oe(hn,7,Pn(Gn)),pe(Gn),Kn;if(!Lt&&!_n&&!Bn)return Kn=oe(hn,13,hr(Gn)),re(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,k(),0,Kn.value),pe(Gn),Kn;break}return Kn}function gr(Gn,hn){const{currentType:Kn}=hn;let Nn=null;const Lt=Gn.currentChar();switch((Kn===8||Kn===9||Kn===12||Kn===10)&&(Lt===CHAR_LF||Lt===CHAR_SP)&&re(CompileErrorCodes.INVALID_LINKED_FORMAT,k(),0),Lt){case"@":return Gn.next(),Nn=oe(hn,8,"@"),hn.inLinked=!0,Nn;case".":return pe(Gn),Gn.next(),oe(hn,9,".");case":":return pe(Gn),Gn.next(),oe(hn,10,":");default:return At(Gn)?(Nn=oe(hn,1,jn(Gn)),hn.braceNest=0,hn.inLinked=!1,Nn):Ce(Gn,hn)||ze(Gn,hn)?(pe(Gn),gr(Gn,hn)):Fe(Gn,hn)?(pe(Gn),oe(hn,12,Vn(Gn))):kt(Gn,hn)?(pe(Gn),Lt==="{"?cr(Gn,hn)||Nn:oe(hn,11,En(Gn))):(Kn===8&&re(CompileErrorCodes.INVALID_LINKED_FORMAT,k(),0),hn.braceNest=0,hn.inLinked=!1,Cr(Gn,hn))}}function Cr(Gn,hn){let Kn={type:14};if(hn.braceNest>0)return cr(Gn,hn)||ae(hn);if(hn.inLinked)return gr(Gn,hn)||ae(hn);switch(Gn.currentChar()){case"{":return cr(Gn,hn)||ae(hn);case"}":return re(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,k(),0),Gn.next(),oe(hn,3,"}");case"@":return gr(Gn,hn)||ae(hn);default:if(At(Gn))return Kn=oe(hn,1,jn(Gn)),hn.braceNest=0,hn.inLinked=!1,Kn;const{isModulo:Lt,hasSpace:_n}=Cn(Gn);if(Lt)return _n?oe(hn,0,Tn(Gn)):oe(hn,4,Ln(Gn));if(Dt(Gn))return oe(hn,0,Tn(Gn));break}return Kn}function ir(){const{currentType:Gn,offset:hn,startLoc:Kn,endLoc:Nn}=L;return L.lastType=Gn,L.lastOffset=hn,L.lastStartLoc=Kn,L.lastEndLoc=Nn,L.offset=y(),L.startLoc=k(),g.currentChar()===EOF?oe(L,14):Cr(g,L)}return{nextToken:ir,currentOffset:y,currentPosition:k,context:z}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(n,e,r){switch(n){case"\\\\":return"\\";case"\\'":return"'";default:{const g=parseInt(e||r,16);return g<=55295||g>=57344?String.fromCodePoint(g):""}}}function createParser(n={}){const e=n.location!==!1,{onError:r}=n;function g(he,Oe,xe,$e,...Ne){const Ce=he.currentPosition();if(Ce.offset+=$e,Ce.column+=$e,r){const Fe=e?createLocation(xe,Ce):null,ze=createCompileError(Oe,Fe,{domain:ERROR_DOMAIN$2,args:Ne});r(ze)}}function y(he,Oe,xe){const $e={type:he};return e&&($e.start=Oe,$e.end=Oe,$e.loc={start:xe,end:xe}),$e}function k(he,Oe,xe,$e){$e&&(he.type=$e),e&&(he.end=Oe,he.loc&&(he.loc.end=xe))}function $(he,Oe){const xe=he.context(),$e=y(3,xe.offset,xe.startLoc);return $e.value=Oe,k($e,he.currentOffset(),he.currentPosition()),$e}function V(he,Oe){const xe=he.context(),{lastOffset:$e,lastStartLoc:Ne}=xe,Ce=y(5,$e,Ne);return Ce.index=parseInt(Oe,10),he.nextToken(),k(Ce,he.currentOffset(),he.currentPosition()),Ce}function L(he,Oe){const xe=he.context(),{lastOffset:$e,lastStartLoc:Ne}=xe,Ce=y(4,$e,Ne);return Ce.key=Oe,he.nextToken(),k(Ce,he.currentOffset(),he.currentPosition()),Ce}function z(he,Oe){const xe=he.context(),{lastOffset:$e,lastStartLoc:Ne}=xe,Ce=y(9,$e,Ne);return Ce.value=Oe.replace(KNOWN_ESCAPES,fromEscapeSequence),he.nextToken(),k(Ce,he.currentOffset(),he.currentPosition()),Ce}function j(he){const Oe=he.nextToken(),xe=he.context(),{lastOffset:$e,lastStartLoc:Ne}=xe,Ce=y(8,$e,Ne);return Oe.type!==12?(g(he,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,xe.lastStartLoc,0),Ce.value="",k(Ce,$e,Ne),{nextConsumeToken:Oe,node:Ce}):(Oe.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,getTokenCaption(Oe)),Ce.value=Oe.value||"",k(Ce,he.currentOffset(),he.currentPosition()),{node:Ce})}function re(he,Oe){const xe=he.context(),$e=y(7,xe.offset,xe.startLoc);return $e.value=Oe,k($e,he.currentOffset(),he.currentPosition()),$e}function oe(he){const Oe=he.context(),xe=y(6,Oe.offset,Oe.startLoc);let $e=he.nextToken();if($e.type===9){const Ne=j(he);xe.modifier=Ne.node,$e=Ne.nextConsumeToken||he.nextToken()}switch($e.type!==10&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption($e)),$e=he.nextToken(),$e.type===2&&($e=he.nextToken()),$e.type){case 11:$e.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption($e)),xe.key=re(he,$e.value||"");break;case 5:$e.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption($e)),xe.key=L(he,$e.value||"");break;case 6:$e.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption($e)),xe.key=V(he,$e.value||"");break;case 7:$e.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption($e)),xe.key=z(he,$e.value||"");break;default:g(he,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,Oe.lastStartLoc,0);const Ne=he.context(),Ce=y(7,Ne.offset,Ne.startLoc);return Ce.value="",k(Ce,Ne.offset,Ne.startLoc),xe.key=Ce,k(xe,Ne.offset,Ne.startLoc),{nextConsumeToken:$e,node:xe}}return k(xe,he.currentOffset(),he.currentPosition()),{node:xe}}function ae(he){const Oe=he.context(),xe=Oe.currentType===1?he.currentOffset():Oe.offset,$e=Oe.currentType===1?Oe.endLoc:Oe.startLoc,Ne=y(2,xe,$e);Ne.items=[];let Ce=null;do{const kt=Ce||he.nextToken();switch(Ce=null,kt.type){case 0:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption(kt)),Ne.items.push($(he,kt.value||""));break;case 6:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption(kt)),Ne.items.push(V(he,kt.value||""));break;case 5:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption(kt)),Ne.items.push(L(he,kt.value||""));break;case 7:kt.value==null&&g(he,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,Oe.lastStartLoc,0,getTokenCaption(kt)),Ne.items.push(z(he,kt.value||""));break;case 8:const At=oe(he);Ne.items.push(At.node),Ce=At.nextConsumeToken||null;break}}while(Oe.currentType!==14&&Oe.currentType!==1);const Fe=Oe.currentType===1?Oe.lastOffset:he.currentOffset(),ze=Oe.currentType===1?Oe.lastEndLoc:he.currentPosition();return k(Ne,Fe,ze),Ne}function de(he,Oe,xe,$e){const Ne=he.context();let Ce=$e.items.length===0;const Fe=y(1,Oe,xe);Fe.cases=[],Fe.cases.push($e);do{const ze=ae(he);Ce||(Ce=ze.items.length===0),Fe.cases.push(ze)}while(Ne.currentType!==14);return Ce&&g(he,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,xe,0),k(Fe,he.currentOffset(),he.currentPosition()),Fe}function ue(he){const Oe=he.context(),{offset:xe,startLoc:$e}=Oe,Ne=ae(he);return Oe.currentType===14?Ne:de(he,xe,$e,Ne)}function pe(he){const Oe=createTokenizer(he,assign({},n)),xe=Oe.context(),$e=y(0,xe.offset,xe.startLoc);return e&&$e.loc&&($e.loc.source=he),$e.body=ue(Oe),n.onCacheKey&&($e.cacheKey=n.onCacheKey(he)),xe.currentType!==14&&g(Oe,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,xe.lastStartLoc,0,he[xe.offset]||""),k($e,Oe.currentOffset(),Oe.currentPosition()),$e}return{parse:pe}}function getTokenCaption(n){if(n.type===14)return"EOF";const e=(n.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function createTransformer(n,e={}){const r={ast:n,helpers:new Set};return{context:()=>r,helper:k=>(r.helpers.add(k),k)}}function traverseNodes(n,e){for(let r=0;r<n.length;r++)traverseNode(n[r],e)}function traverseNode(n,e){switch(n.type){case 1:traverseNodes(n.cases,e),e.helper("plural");break;case 2:traverseNodes(n.items,e);break;case 6:traverseNode(n.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function transform(n,e={}){const r=createTransformer(n);r.helper("normalize"),n.body&&traverseNode(n.body,r);const g=r.context();n.helpers=Array.from(g.helpers)}function optimize(n){const e=n.body;return e.type===2?optimizeMessageNode(e):e.cases.forEach(r=>optimizeMessageNode(r)),n}function optimizeMessageNode(n){if(n.items.length===1){const e=n.items[0];(e.type===3||e.type===9)&&(n.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<n.items.length;r++){const g=n.items[r];if(!(g.type===3||g.type===9)||g.value==null)break;e.push(g.value)}if(e.length===n.items.length){n.static=join(e);for(let r=0;r<n.items.length;r++){const g=n.items[r];(g.type===3||g.type===9)&&delete g.value}}}}const ERROR_DOMAIN$1="minifier";function minify(n){switch(n.t=n.type,n.type){case 0:const e=n;minify(e.body),e.b=e.body,delete e.body;break;case 1:const r=n,g=r.cases;for(let j=0;j<g.length;j++)minify(g[j]);r.c=g,delete r.cases;break;case 2:const y=n,k=y.items;for(let j=0;j<k.length;j++)minify(k[j]);y.i=k,delete y.items,y.static&&(y.s=y.static,delete y.static);break;case 3:case 9:case 8:case 7:const $=n;$.value&&($.v=$.value,delete $.value);break;case 6:const V=n;minify(V.key),V.k=V.key,delete V.key,V.modifier&&(minify(V.modifier),V.m=V.modifier,delete V.modifier);break;case 5:const L=n;L.i=L.index,delete L.index;break;case 4:const z=n;z.k=z.key,delete z.key;break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ERROR_DOMAIN$1,args:[n.type]})}delete n.type}const ERROR_DOMAIN="parser";function createCodeGenerator(n,e){const{sourceMap:r,filename:g,breakLineCode:y,needIndent:k}=e,$=e.location!==!1,V={filename:g,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:y,needIndent:k,indentLevel:0};$&&n.loc&&(V.source=n.loc.source);const L=()=>V;function z(pe,he){V.code+=pe}function j(pe,he=!0){const Oe=he?y:"";z(k?Oe+"  ".repeat(pe):Oe)}function re(pe=!0){const he=++V.indentLevel;pe&&j(he)}function oe(pe=!0){const he=--V.indentLevel;pe&&j(he)}function ae(){j(V.indentLevel)}return{context:L,push:z,indent:re,deindent:oe,newline:ae,helper:pe=>`_${pe}`,needIndent:()=>V.needIndent}}function generateLinkedNode(n,e){const{helper:r}=n;n.push(`${r("linked")}(`),generateNode(n,e.key),e.modifier?(n.push(", "),generateNode(n,e.modifier),n.push(", _type")):n.push(", undefined, _type"),n.push(")")}function generateMessageNode(n,e){const{helper:r,needIndent:g}=n;n.push(`${r("normalize")}([`),n.indent(g());const y=e.items.length;for(let k=0;k<y&&(generateNode(n,e.items[k]),k!==y-1);k++)n.push(", ");n.deindent(g()),n.push("])")}function generatePluralNode(n,e){const{helper:r,needIndent:g}=n;if(e.cases.length>1){n.push(`${r("plural")}([`),n.indent(g());const y=e.cases.length;for(let k=0;k<y&&(generateNode(n,e.cases[k]),k!==y-1);k++)n.push(", ");n.deindent(g()),n.push("])")}}function generateResource(n,e){e.body?generateNode(n,e.body):n.push("null")}function generateNode(n,e){const{helper:r}=n;switch(e.type){case 0:generateResource(n,e);break;case 1:generatePluralNode(n,e);break;case 2:generateMessageNode(n,e);break;case 6:generateLinkedNode(n,e);break;case 8:n.push(JSON.stringify(e.value),e);break;case 7:n.push(JSON.stringify(e.value),e);break;case 5:n.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:n.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:n.push(JSON.stringify(e.value),e);break;case 3:n.push(JSON.stringify(e.value),e);break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ERROR_DOMAIN,args:[e.type]})}}const generate=(n,e={})=>{const r=isString(e.mode)?e.mode:"normal",g=isString(e.filename)?e.filename:"message.intl",y=!!e.sourceMap,k=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,$=e.needIndent?e.needIndent:r!=="arrow",V=n.helpers||[],L=createCodeGenerator(n,{mode:r,filename:g,sourceMap:y,breakLineCode:k,needIndent:$});L.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),L.indent($),V.length>0&&(L.push(`const { ${join(V.map(re=>`${re}: _${re}`),", ")} } = ctx`),L.newline()),L.push("return "),generateNode(L,n),L.deindent($),L.push("}"),delete n.helpers;const{code:z,map:j}=L.context();return{ast:n,code:z,map:j?j.toJSON():void 0}};function baseCompile$1(n,e={}){const r=assign({},e),g=!!r.jit,y=!!r.minify,k=r.optimize==null?!0:r.optimize,V=createParser(r).parse(n);return g?(k&&optimize(V),y&&minify(V),{ast:V,code:""}):(transform(V,r),generate(V,r))}/*!
  * core-base v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]};pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]};pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]};pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(n){return literalValueRE.test(n)}function stripQuotes(n){const e=n.charCodeAt(0),r=n.charCodeAt(n.length-1);return e===r&&(e===34||e===39)?n.slice(1,-1):n}function getPathCharType(n){if(n==null)return"o";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(n){const e=n.trim();return n.charAt(0)==="0"&&isNaN(parseInt(n))?!1:isLiteral(e)?stripQuotes(e):"*"+e}function parse$2(n){const e=[];let r=-1,g=0,y=0,k,$,V,L,z,j,re;const oe=[];oe[0]=()=>{$===void 0?$=V:$+=V},oe[1]=()=>{$!==void 0&&(e.push($),$=void 0)},oe[2]=()=>{oe[0](),y++},oe[3]=()=>{if(y>0)y--,g=4,oe[0]();else{if(y=0,$===void 0||($=formatSubPath($),$===!1))return!1;oe[1]()}};function ae(){const de=n[r+1];if(g===5&&de==="'"||g===6&&de==='"')return r++,V="\\"+de,oe[0](),!0}for(;g!==null;)if(r++,k=n[r],!(k==="\\"&&ae())){if(L=getPathCharType(k),re=pathStateMachine[g],z=re[L]||re.l||8,z===8||(g=z[0],z[1]!==void 0&&(j=oe[z[1]],j&&(V=k,j()===!1))))return;if(g===7)return e}}const cache$1=new Map;function resolveWithKeyValue(n,e){return isObject$1(n)?n[e]:null}function resolveValue(n,e){if(!isObject$1(n))return null;let r=cache$1.get(e);if(r||(r=parse$2(e),r&&cache$1.set(e,r)),!r)return null;const g=r.length;let y=n,k=0;for(;k<g;){const $=y[r[k]];if($===void 0)return null;y=$,k++}return y}const DEFAULT_MODIFIER=n=>n,DEFAULT_MESSAGE=n=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=n=>n.length===0?"":join$1(n),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(n,e){return n=Math.abs(n),e===2?n?n>1?1:0:1:n?Math.min(n,2):0}function getPluralIndex(n){const e=isNumber(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(isNumber(n.named.count)||isNumber(n.named.n))?isNumber(n.named.count)?n.named.count:isNumber(n.named.n)?n.named.n:e:e}function normalizeNamed(n,e){e.count||(e.count=n),e.n||(e.n=n)}function createMessageContext(n={}){const e=n.locale,r=getPluralIndex(n),g=isObject$1(n.pluralRules)&&isString$1(e)&&isFunction(n.pluralRules[e])?n.pluralRules[e]:pluralDefault,y=isObject$1(n.pluralRules)&&isString$1(e)&&isFunction(n.pluralRules[e])?pluralDefault:void 0,k=he=>he[g(r,he.length,y)],$=n.list||[],V=he=>$[he],L=n.named||{};isNumber(n.pluralIndex)&&normalizeNamed(r,L);const z=he=>L[he];function j(he){const Oe=isFunction(n.messages)?n.messages(he):isObject$1(n.messages)?n.messages[he]:!1;return Oe||(n.parent?n.parent.message(he):DEFAULT_MESSAGE)}const re=he=>n.modifiers?n.modifiers[he]:DEFAULT_MODIFIER,oe=isPlainObject(n.processor)&&isFunction(n.processor.normalize)?n.processor.normalize:DEFAULT_NORMALIZE,ae=isPlainObject(n.processor)&&isFunction(n.processor.interpolate)?n.processor.interpolate:DEFAULT_INTERPOLATE,de=isPlainObject(n.processor)&&isString$1(n.processor.type)?n.processor.type:DEFAULT_MESSAGE_DATA_TYPE,pe={list:V,named:z,plural:k,linked:(he,...Oe)=>{const[xe,$e]=Oe;let Ne="text",Ce="";Oe.length===1?isObject$1(xe)?(Ce=xe.modifier||Ce,Ne=xe.type||Ne):isString$1(xe)&&(Ce=xe||Ce):Oe.length===2&&(isString$1(xe)&&(Ce=xe||Ce),isString$1($e)&&(Ne=$e||Ne));const Fe=j(he)(pe),ze=Ne==="vnode"&&isArray(Fe)&&Ce?Fe[0]:Fe;return Ce?re(Ce)(ze,Ne):ze},message:j,type:de,interpolate:ae,normalize:oe,values:assign$1({},$,L)};return pe}let devtools=null;function setDevToolsHook(n){devtools=n}function initI18nDevTools(n,e,r){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:n,version:e,meta:r})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(n){return e=>devtools&&devtools.emit(n,e)}const CoreWarnCodes={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function fallbackWithSimple(n,e,r){return[...new Set([r,...isArray(e)?e:isObject$1(e)?Object.keys(e):isString$1(e)?[e]:[r]])]}function fallbackWithLocaleChain(n,e,r){const g=isString$1(r)?r:DEFAULT_LOCALE,y=n;y.__localeChainCache||(y.__localeChainCache=new Map);let k=y.__localeChainCache.get(g);if(!k){k=[];let $=[r];for(;isArray($);)$=appendBlockToChain(k,$,e);const V=isArray(e)||!isPlainObject(e)?e:e.default?e.default:null;$=isString$1(V)?[V]:V,isArray($)&&appendBlockToChain(k,$,!1),y.__localeChainCache.set(g,k)}return k}function appendBlockToChain(n,e,r){let g=!0;for(let y=0;y<e.length&&isBoolean(g);y++){const k=e[y];isString$1(k)&&(g=appendLocaleToChain(n,e[y],r))}return g}function appendLocaleToChain(n,e,r){let g;const y=e.split("-");do{const k=y.join("-");g=appendItemToChain(n,k,r),y.splice(-1,1)}while(y.length&&g===!0);return g}function appendItemToChain(n,e,r){let g=!1;if(!n.includes(e)&&(g=!0,e)){g=e[e.length-1]!=="!";const y=e.replace(/!/g,"");n.push(y),(isArray(r)||isPlainObject(r))&&r[y]&&(g=r[y])}return g}const VERSION$1="9.4.1",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(n,e)=>e==="text"&&isString$1(n)?n.toUpperCase():e==="vnode"&&isObject$1(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,e)=>e==="text"&&isString$1(n)?n.toLowerCase():e==="vnode"&&isObject$1(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,e)=>e==="text"&&isString$1(n)?capitalize(n):e==="vnode"&&isObject$1(n)&&"__v_isVNode"in n?capitalize(n.children):n}}let _compiler;function registerMessageCompiler(n){_compiler=n}let _resolver;function registerMessageResolver(n){_resolver=n}let _fallbacker;function registerLocaleFallbacker(n){_fallbacker=n}let _additionalMeta=null;const setAdditionalMeta=n=>{_additionalMeta=n},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=n=>{_fallbackContext=n},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(n={}){const e=isFunction(n.onWarn)?n.onWarn:warn,r=isString$1(n.version)?n.version:VERSION$1,g=isString$1(n.locale)?n.locale:DEFAULT_LOCALE,y=isArray(n.fallbackLocale)||isPlainObject(n.fallbackLocale)||isString$1(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:g,k=isPlainObject(n.messages)?n.messages:{[g]:{}},$=isPlainObject(n.datetimeFormats)?n.datetimeFormats:{[g]:{}},V=isPlainObject(n.numberFormats)?n.numberFormats:{[g]:{}},L=assign$1({},n.modifiers||{},getDefaultLinkedModifiers()),z=n.pluralRules||{},j=isFunction(n.missing)?n.missing:null,re=isBoolean(n.missingWarn)||isRegExp(n.missingWarn)?n.missingWarn:!0,oe=isBoolean(n.fallbackWarn)||isRegExp(n.fallbackWarn)?n.fallbackWarn:!0,ae=!!n.fallbackFormat,de=!!n.unresolving,ue=isFunction(n.postTranslation)?n.postTranslation:null,pe=isPlainObject(n.processor)?n.processor:null,he=isBoolean(n.warnHtmlMessage)?n.warnHtmlMessage:!0,Oe=!!n.escapeParameter,xe=isFunction(n.messageCompiler)?n.messageCompiler:_compiler,$e=isFunction(n.messageResolver)?n.messageResolver:_resolver||resolveWithKeyValue,Ne=isFunction(n.localeFallbacker)?n.localeFallbacker:_fallbacker||fallbackWithSimple,Ce=isObject$1(n.fallbackContext)?n.fallbackContext:void 0,Fe=n,ze=isObject$1(Fe.__datetimeFormatters)?Fe.__datetimeFormatters:new Map,kt=isObject$1(Fe.__numberFormatters)?Fe.__numberFormatters:new Map,At=isObject$1(Fe.__meta)?Fe.__meta:{};_cid++;const Cn={version:r,cid:_cid,locale:g,fallbackLocale:y,messages:k,modifiers:L,pluralRules:z,missing:j,missingWarn:re,fallbackWarn:oe,fallbackFormat:ae,unresolving:de,postTranslation:ue,processor:pe,warnHtmlMessage:he,escapeParameter:Oe,messageCompiler:xe,messageResolver:$e,localeFallbacker:Ne,fallbackContext:Ce,onWarn:e,__meta:At};return Cn.datetimeFormats=$,Cn.numberFormats=V,Cn.__datetimeFormatters=ze,Cn.__numberFormatters=kt,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(Cn,r,At),Cn}function handleMissing(n,e,r,g,y){const{missing:k,onWarn:$}=n;if(k!==null){const V=k(n,r,e,y);return isString$1(V)?V:e}else return e}function updateFallbackLocale(n,e,r){const g=n;g.__localeChainCache=new Map,n.localeFallbacker(n,r,e)}function format(n){return r=>formatParts(r,n)}function formatParts(n,e){const r=e.b||e.body;if((r.t||r.type)===1){const g=r,y=g.c||g.cases;return n.plural(y.reduce((k,$)=>[...k,formatMessageParts(n,$)],[]))}else return formatMessageParts(n,r)}function formatMessageParts(n,e){const r=e.s||e.static;if(r)return n.type==="text"?r:n.normalize([r]);{const g=(e.i||e.items).reduce((y,k)=>[...y,formatMessagePart(n,k)],[]);return n.normalize(g)}}function formatMessagePart(n,e){const r=e.t||e.type;switch(r){case 3:const g=e;return g.v||g.value;case 9:const y=e;return y.v||y.value;case 4:const k=e;return n.interpolate(n.named(k.k||k.key));case 5:const $=e;return n.interpolate(n.list($.i||$.index));case 6:const V=e,L=V.m||V.modifier;return n.linked(formatMessagePart(n,V.k||V.key),L?formatMessagePart(n,L):void 0,n.type);case 7:const z=e;return z.v||z.value;case 8:const j=e;return j.v||j.value;default:throw new Error(`unhandled node type on format message part: ${r}`)}}const code$3=CompileErrorCodes.__EXTEND_POINT__,inc$2=incrementer(code$3),CoreErrorCodes={INVALID_ARGUMENT:code$3,INVALID_DATE_ARGUMENT:inc$2(),INVALID_ISO_DATE_ARGUMENT:inc$2(),NOT_SUPPORT_NON_STRING_MESSAGE:inc$2(),__EXTEND_POINT__:inc$2()};function createCoreError(n){return createCompileError(n,null,void 0)}const defaultOnCacheKey=n=>n;let compileCache=Object.create(null);const isMessageAST=n=>isObject$1(n)&&(n.t===0||n.type===0)&&("b"in n||"body"in n);function baseCompile(n,e={}){let r=!1;const g=e.onError||defaultOnError;return e.onError=y=>{r=!0,g(y)},{...baseCompile$1(n,e),detectError:r}}const compileToFunction=(n,e)=>{if(!isString$1(n))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE);{isBoolean(e.warnHtmlMessage)&&e.warnHtmlMessage;const g=(e.onCacheKey||defaultOnCacheKey)(n),y=compileCache[g];if(y)return y;const{code:k,detectError:$}=baseCompile(n,e),V=new Function(`return ${k}`)();return $?V:compileCache[g]=V}};function compile(n,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(n)){isBoolean(e.warnHtmlMessage)&&e.warnHtmlMessage;const g=(e.onCacheKey||defaultOnCacheKey)(n),y=compileCache[g];if(y)return y;const{ast:k,detectError:$}=baseCompile(n,{...e,location:!1,jit:!0}),V=format(k);return $?V:compileCache[g]=V}else{const r=n.cacheKey;if(r){const g=compileCache[r];return g||(compileCache[r]=format(n))}else return format(n)}}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=n=>isFunction(n);function translate(n,...e){const{fallbackFormat:r,postTranslation:g,unresolving:y,messageCompiler:k,fallbackLocale:$,messages:V}=n,[L,z]=parseTranslateArgs(...e),j=isBoolean(z.missingWarn)?z.missingWarn:n.missingWarn,re=isBoolean(z.fallbackWarn)?z.fallbackWarn:n.fallbackWarn,oe=isBoolean(z.escapeParameter)?z.escapeParameter:n.escapeParameter,ae=!!z.resolvedMessage,de=isString$1(z.default)||isBoolean(z.default)?isBoolean(z.default)?k?L:()=>L:z.default:r?k?L:()=>L:"",ue=r||de!=="",pe=isString$1(z.locale)?z.locale:n.locale;oe&&escapeParams(z);let[he,Oe,xe]=ae?[L,pe,V[pe]||{}]:resolveMessageFormat(n,L,pe,$,re,j),$e=he,Ne=L;if(!ae&&!(isString$1($e)||isMessageAST($e)||isMessageFunction($e))&&ue&&($e=de,Ne=$e),!ae&&(!(isString$1($e)||isMessageAST($e)||isMessageFunction($e))||!isString$1(Oe)))return y?NOT_REOSLVED:L;let Ce=!1;const Fe=()=>{Ce=!0},ze=isMessageFunction($e)?$e:compileMessageFormat(n,L,Oe,$e,Ne,Fe);if(Ce)return $e;const kt=getMessageContextOptions(n,Oe,xe,z),At=createMessageContext(kt),Cn=evaluateMessage(n,ze,At),Dt=g?g(Cn,L):Cn;if(__INTLIFY_PROD_DEVTOOLS__){const On={timestamp:Date.now(),key:isString$1(L)?L:isMessageFunction($e)?$e.key:"",locale:Oe||(isMessageFunction($e)?$e.locale:""),format:isString$1($e)?$e:isMessageFunction($e)?$e.source:"",message:Dt};On.meta=assign$1({},n.__meta,getAdditionalMeta()||{}),translateDevTools(On)}return Dt}function escapeParams(n){isArray(n.list)?n.list=n.list.map(e=>isString$1(e)?escapeHtml(e):e):isObject$1(n.named)&&Object.keys(n.named).forEach(e=>{isString$1(n.named[e])&&(n.named[e]=escapeHtml(n.named[e]))})}function resolveMessageFormat(n,e,r,g,y,k){const{messages:$,onWarn:V,messageResolver:L,localeFallbacker:z}=n,j=z(n,g,r);let re={},oe,ae=null;const de="translate";for(let ue=0;ue<j.length&&(oe=j[ue],re=$[oe]||{},(ae=L(re,e))===null&&(ae=re[e]),!(isString$1(ae)||isMessageAST(ae)||isMessageFunction(ae)));ue++){const pe=handleMissing(n,e,oe,k,de);pe!==e&&(ae=pe)}return[ae,oe,re]}function compileMessageFormat(n,e,r,g,y,k){const{messageCompiler:$,warnHtmlMessage:V}=n;if(isMessageFunction(g)){const z=g;return z.locale=z.locale||r,z.key=z.key||e,z}if($==null){const z=()=>g;return z.locale=r,z.key=e,z}const L=$(g,getCompileContext(n,r,y,g,V,k));return L.locale=r,L.key=e,L.source=g,L}function evaluateMessage(n,e,r){return e(r)}function parseTranslateArgs(...n){const[e,r,g]=n,y={};if(!isString$1(e)&&!isNumber(e)&&!isMessageFunction(e)&&!isMessageAST(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const k=isNumber(e)?String(e):(isMessageFunction(e),e);return isNumber(r)?y.plural=r:isString$1(r)?y.default=r:isPlainObject(r)&&!isEmptyObject(r)?y.named=r:isArray(r)&&(y.list=r),isNumber(g)?y.plural=g:isString$1(g)?y.default=g:isPlainObject(g)&&assign$1(y,g),[k,y]}function getCompileContext(n,e,r,g,y,k){return{locale:e,key:r,warnHtmlMessage:y,onError:$=>{throw k&&k($),$},onCacheKey:$=>generateFormatCacheKey(e,r,$)}}function getMessageContextOptions(n,e,r,g){const{modifiers:y,pluralRules:k,messageResolver:$,fallbackLocale:V,fallbackWarn:L,missingWarn:z,fallbackContext:j}=n,oe={locale:e,modifiers:y,pluralRules:k,messages:ae=>{let de=$(r,ae);if(de==null&&j){const[,,ue]=resolveMessageFormat(j,ae,e,V,L,z);de=$(ue,ae)}if(isString$1(de)||isMessageAST(de)){let ue=!1;const he=compileMessageFormat(n,ae,e,de,ae,()=>{ue=!0});return ue?NOOP_MESSAGE_FUNCTION:he}else return isMessageFunction(de)?de:NOOP_MESSAGE_FUNCTION}};return n.processor&&(oe.processor=n.processor),g.list&&(oe.list=g.list),g.named&&(oe.named=g.named),isNumber(g.plural)&&(oe.pluralIndex=g.plural),oe}function datetime(n,...e){const{datetimeFormats:r,unresolving:g,fallbackLocale:y,onWarn:k,localeFallbacker:$}=n,{__datetimeFormatters:V}=n,[L,z,j,re]=parseDateTimeArgs(...e),oe=isBoolean(j.missingWarn)?j.missingWarn:n.missingWarn;isBoolean(j.fallbackWarn)?j.fallbackWarn:n.fallbackWarn;const ae=!!j.part,de=isString$1(j.locale)?j.locale:n.locale,ue=$(n,y,de);if(!isString$1(L)||L==="")return new Intl.DateTimeFormat(de,re).format(z);let pe={},he,Oe=null;const xe="datetime format";for(let Ce=0;Ce<ue.length&&(he=ue[Ce],pe=r[he]||{},Oe=pe[L],!isPlainObject(Oe));Ce++)handleMissing(n,L,he,oe,xe);if(!isPlainObject(Oe)||!isString$1(he))return g?NOT_REOSLVED:L;let $e=`${he}__${L}`;isEmptyObject(re)||($e=`${$e}__${JSON.stringify(re)}`);let Ne=V.get($e);return Ne||(Ne=new Intl.DateTimeFormat(he,assign$1({},Oe,re)),V.set($e,Ne)),ae?Ne.formatToParts(z):Ne.format(z)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...n){const[e,r,g,y]=n,k={};let $={},V;if(isString$1(e)){const L=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!L)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const z=L[3]?L[3].trim().startsWith("T")?`${L[1].trim()}${L[3].trim()}`:`${L[1].trim()}T${L[3].trim()}`:L[1].trim();V=new Date(z);try{V.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate(e)){if(isNaN(e.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);V=e}else if(isNumber(e))V=e;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(r)?k.key=r:isPlainObject(r)&&Object.keys(r).forEach(L=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(L)?$[L]=r[L]:k[L]=r[L]}),isString$1(g)?k.locale=g:isPlainObject(g)&&($=g),isPlainObject(y)&&($=y),[k.key||"",V,k,$]}function clearDateTimeFormat(n,e,r){const g=n;for(const y in r){const k=`${e}__${y}`;g.__datetimeFormatters.has(k)&&g.__datetimeFormatters.delete(k)}}function number$1(n,...e){const{numberFormats:r,unresolving:g,fallbackLocale:y,onWarn:k,localeFallbacker:$}=n,{__numberFormatters:V}=n,[L,z,j,re]=parseNumberArgs(...e),oe=isBoolean(j.missingWarn)?j.missingWarn:n.missingWarn;isBoolean(j.fallbackWarn)?j.fallbackWarn:n.fallbackWarn;const ae=!!j.part,de=isString$1(j.locale)?j.locale:n.locale,ue=$(n,y,de);if(!isString$1(L)||L==="")return new Intl.NumberFormat(de,re).format(z);let pe={},he,Oe=null;const xe="number format";for(let Ce=0;Ce<ue.length&&(he=ue[Ce],pe=r[he]||{},Oe=pe[L],!isPlainObject(Oe));Ce++)handleMissing(n,L,he,oe,xe);if(!isPlainObject(Oe)||!isString$1(he))return g?NOT_REOSLVED:L;let $e=`${he}__${L}`;isEmptyObject(re)||($e=`${$e}__${JSON.stringify(re)}`);let Ne=V.get($e);return Ne||(Ne=new Intl.NumberFormat(he,assign$1({},Oe,re)),V.set($e,Ne)),ae?Ne.formatToParts(z):Ne.format(z)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...n){const[e,r,g,y]=n,k={};let $={};if(!isNumber(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const V=e;return isString$1(r)?k.key=r:isPlainObject(r)&&Object.keys(r).forEach(L=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(L)?$[L]=r[L]:k[L]=r[L]}),isString$1(g)?k.locale=g:isPlainObject(g)&&($=g),isPlainObject(y)&&($=y),[k.key||"",V,k,$]}function clearNumberFormat(n,e,r){const g=n;for(const y in r){const k=`${e}__${y}`;g.__numberFormatters.has(k)&&g.__numberFormatters.delete(k)}}initFeatureFlags$1();/*!
  * vue-i18n v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION="9.4.1";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const code$1=CoreWarnCodes.__EXTEND_POINT__,inc$1=incrementer(code$1);inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1();const code$2=CoreErrorCodes.__EXTEND_POINT__,inc=incrementer(code$2),I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code$2,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSTALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSTALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(n,...e){return createCompileError(n,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(n){if(!isObject$1(n))return n;for(const e in n)if(hasOwn(n,e))if(!e.includes("."))isObject$1(n[e])&&handleFlatJson(n[e]);else{const r=e.split("."),g=r.length-1;let y=n,k=!1;for(let $=0;$<g;$++){if(r[$]in y||(y[r[$]]={}),!isObject$1(y[r[$]])){k=!0;break}y=y[r[$]]}k||(y[r[g]]=n[e],delete n[e]),isObject$1(y[r[g]])&&handleFlatJson(y[r[g]])}return n}function getLocaleMessages(n,e){const{messages:r,__i18n:g,messageResolver:y,flatJson:k}=e,$=isPlainObject(r)?r:isArray(g)?{}:{[n]:{}};if(isArray(g)&&g.forEach(V=>{if("locale"in V&&"resource"in V){const{locale:L,resource:z}=V;L?($[L]=$[L]||{},deepCopy(z,$[L])):deepCopy(z,$)}else isString$1(V)&&deepCopy(JSON.parse(V),$)}),y==null&&k)for(const V in $)hasOwn($,V)&&handleFlatJson($[V]);return $}const isNotObjectOrIsArray=n=>!isObject$1(n)||isArray(n);function deepCopy(n,e){if(isNotObjectOrIsArray(n)||isNotObjectOrIsArray(e))throw createI18nError(I18nErrorCodes.INVALID_VALUE);for(const r in n)hasOwn(n,r)&&(isNotObjectOrIsArray(n[r])||isNotObjectOrIsArray(e[r])?e[r]=n[r]:deepCopy(n[r],e[r]))}function getComponentOptions(n){return n.type}function adjustI18nResources(n,e,r){let g=isObject$1(e.messages)?e.messages:{};"__i18nGlobal"in r&&(g=getLocaleMessages(n.locale.value,{messages:g,__i18n:r.__i18nGlobal}));const y=Object.keys(g);y.length&&y.forEach(k=>{n.mergeLocaleMessage(k,g[k])});{if(isObject$1(e.datetimeFormats)){const k=Object.keys(e.datetimeFormats);k.length&&k.forEach($=>{n.mergeDateTimeFormat($,e.datetimeFormats[$])})}if(isObject$1(e.numberFormats)){const k=Object.keys(e.numberFormats);k.length&&k.forEach($=>{n.mergeNumberFormat($,e.numberFormats[$])})}}}function createTextNode(n){return createVNode(Text$2,null,n,0)}const DEVTOOLS_META="__INTLIFY_META__";let composerID=0;function defineCoreMissingHandler(n){return(e,r,g,y)=>n(r,g,getCurrentInstance()||void 0,y)}const getMetaInfo=()=>{const n=getCurrentInstance();let e=null;return n&&(e=getComponentOptions(n)[DEVTOOLS_META])?{[DEVTOOLS_META]:e}:null};function createComposer(n={},e){const{__root:r,__injectWithOption:g}=n,y=r===void 0;let k=isBoolean(n.inheritLocale)?n.inheritLocale:!0;const $=ref(r&&k?r.locale.value:isString$1(n.locale)?n.locale:DEFAULT_LOCALE),V=ref(r&&k?r.fallbackLocale.value:isString$1(n.fallbackLocale)||isArray(n.fallbackLocale)||isPlainObject(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:$.value),L=ref(getLocaleMessages($.value,n)),z=ref(isPlainObject(n.datetimeFormats)?n.datetimeFormats:{[$.value]:{}}),j=ref(isPlainObject(n.numberFormats)?n.numberFormats:{[$.value]:{}});let re=r?r.missingWarn:isBoolean(n.missingWarn)||isRegExp(n.missingWarn)?n.missingWarn:!0,oe=r?r.fallbackWarn:isBoolean(n.fallbackWarn)||isRegExp(n.fallbackWarn)?n.fallbackWarn:!0,ae=r?r.fallbackRoot:isBoolean(n.fallbackRoot)?n.fallbackRoot:!0,de=!!n.fallbackFormat,ue=isFunction(n.missing)?n.missing:null,pe=isFunction(n.missing)?defineCoreMissingHandler(n.missing):null,he=isFunction(n.postTranslation)?n.postTranslation:null,Oe=r?r.warnHtmlMessage:isBoolean(n.warnHtmlMessage)?n.warnHtmlMessage:!0,xe=!!n.escapeParameter;const $e=r?r.modifiers:isPlainObject(n.modifiers)?n.modifiers:{};let Ne=n.pluralRules||r&&r.pluralRules,Ce;Ce=(()=>{y&&setFallbackContext(null);const sr={version:VERSION,locale:$.value,fallbackLocale:V.value,messages:L.value,modifiers:$e,pluralRules:Ne,missing:pe===null?void 0:pe,missingWarn:re,fallbackWarn:oe,fallbackFormat:de,unresolving:!0,postTranslation:he===null?void 0:he,warnHtmlMessage:Oe,escapeParameter:xe,messageResolver:n.messageResolver,messageCompiler:n.messageCompiler,__meta:{framework:"vue"}};sr.datetimeFormats=z.value,sr.numberFormats=j.value,sr.__datetimeFormatters=isPlainObject(Ce)?Ce.__datetimeFormatters:void 0,sr.__numberFormatters=isPlainObject(Ce)?Ce.__numberFormatters:void 0;const mr=createCoreContext(sr);return y&&setFallbackContext(mr),mr})(),updateFallbackLocale(Ce,$.value,V.value);function ze(){return[$.value,V.value,L.value,z.value,j.value]}const kt=computed({get:()=>$.value,set:sr=>{$.value=sr,Ce.locale=$.value}}),At=computed({get:()=>V.value,set:sr=>{V.value=sr,Ce.fallbackLocale=V.value,updateFallbackLocale(Ce,$.value,sr)}}),Cn=computed(()=>L.value),Dt=computed(()=>z.value),On=computed(()=>j.value);function jt(){return isFunction(he)?he:null}function An(sr){he=sr,Ce.postTranslation=sr}function Mn(){return ue}function $n(sr){sr!==null&&(pe=defineCoreMissingHandler(sr)),ue=sr,Ce.missing=pe}const Ln=(sr,mr,lr,le,_e,Ie)=>{ze();let Ue;try{__INTLIFY_PROD_DEVTOOLS__&&setAdditionalMeta(getMetaInfo()),y||(Ce.fallbackContext=r?getFallbackContext():void 0),Ue=sr(Ce)}finally{__INTLIFY_PROD_DEVTOOLS__&&setAdditionalMeta(null),y||(Ce.fallbackContext=void 0)}if(isNumber(Ue)&&Ue===NOT_REOSLVED){const[qe,Et]=mr();return r&&ae?le(r):_e(qe)}else{if(Ie(Ue))return Ue;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function Tn(...sr){return Ln(mr=>Reflect.apply(translate,null,[mr,...sr]),()=>parseTranslateArgs(...sr),"translate",mr=>Reflect.apply(mr.t,mr,[...sr]),mr=>mr,mr=>isString$1(mr))}function Zn(...sr){const[mr,lr,le]=sr;if(le&&!isObject$1(le))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return Tn(mr,lr,assign$1({resolvedMessage:!0},le||{}))}function Qn(...sr){return Ln(mr=>Reflect.apply(datetime,null,[mr,...sr]),()=>parseDateTimeArgs(...sr),"datetime format",mr=>Reflect.apply(mr.d,mr,[...sr]),()=>MISSING_RESOLVE_VALUE,mr=>isString$1(mr))}function Pn(...sr){return Ln(mr=>Reflect.apply(number$1,null,[mr,...sr]),()=>parseNumberArgs(...sr),"number format",mr=>Reflect.apply(mr.n,mr,[...sr]),()=>MISSING_RESOLVE_VALUE,mr=>isString$1(mr))}function Wn(sr){return sr.map(mr=>isString$1(mr)||isNumber(mr)||isBoolean(mr)?createTextNode(String(mr)):mr)}const hr={normalize:Wn,interpolate:sr=>sr,type:"vnode"};function Vn(...sr){return Ln(mr=>{let lr;const le=mr;try{le.processor=hr,lr=Reflect.apply(translate,null,[le,...sr])}finally{le.processor=null}return lr},()=>parseTranslateArgs(...sr),"translate",mr=>mr[TranslateVNodeSymbol](...sr),mr=>[createTextNode(mr)],mr=>isArray(mr))}function En(...sr){return Ln(mr=>Reflect.apply(number$1,null,[mr,...sr]),()=>parseNumberArgs(...sr),"number format",mr=>mr[NumberPartsSymbol](...sr),()=>[],mr=>isString$1(mr)||isArray(mr))}function jn(...sr){return Ln(mr=>Reflect.apply(datetime,null,[mr,...sr]),()=>parseDateTimeArgs(...sr),"datetime format",mr=>mr[DatetimePartsSymbol](...sr),()=>[],mr=>isString$1(mr)||isArray(mr))}function cr(sr){Ne=sr,Ce.pluralRules=Ne}function gr(sr,mr){const lr=isString$1(mr)?mr:$.value,le=Gn(lr);return Ce.messageResolver(le,sr)!==null}function Cr(sr){let mr=null;const lr=fallbackWithLocaleChain(Ce,V.value,$.value);for(let le=0;le<lr.length;le++){const _e=L.value[lr[le]]||{},Ie=Ce.messageResolver(_e,sr);if(Ie!=null){mr=Ie;break}}return mr}function ir(sr){const mr=Cr(sr);return mr??(r?r.tm(sr)||{}:{})}function Gn(sr){return L.value[sr]||{}}function hn(sr,mr){L.value[sr]=mr,Ce.messages=L.value}function Kn(sr,mr){L.value[sr]=L.value[sr]||{},deepCopy(mr,L.value[sr]),Ce.messages=L.value}function Nn(sr){return z.value[sr]||{}}function Lt(sr,mr){z.value[sr]=mr,Ce.datetimeFormats=z.value,clearDateTimeFormat(Ce,sr,mr)}function _n(sr,mr){z.value[sr]=assign$1(z.value[sr]||{},mr),Ce.datetimeFormats=z.value,clearDateTimeFormat(Ce,sr,mr)}function Bn(sr){return j.value[sr]||{}}function Xn(sr,mr){j.value[sr]=mr,Ce.numberFormats=j.value,clearNumberFormat(Ce,sr,mr)}function rr(sr,mr){j.value[sr]=assign$1(j.value[sr]||{},mr),Ce.numberFormats=j.value,clearNumberFormat(Ce,sr,mr)}composerID++,r&&inBrowser&&(watch(r.locale,sr=>{k&&($.value=sr,Ce.locale=sr,updateFallbackLocale(Ce,$.value,V.value))}),watch(r.fallbackLocale,sr=>{k&&(V.value=sr,Ce.fallbackLocale=sr,updateFallbackLocale(Ce,$.value,V.value))}));const ar={id:composerID,locale:kt,fallbackLocale:At,get inheritLocale(){return k},set inheritLocale(sr){k=sr,sr&&r&&($.value=r.locale.value,V.value=r.fallbackLocale.value,updateFallbackLocale(Ce,$.value,V.value))},get availableLocales(){return Object.keys(L.value).sort()},messages:Cn,get modifiers(){return $e},get pluralRules(){return Ne||{}},get isGlobal(){return y},get missingWarn(){return re},set missingWarn(sr){re=sr,Ce.missingWarn=re},get fallbackWarn(){return oe},set fallbackWarn(sr){oe=sr,Ce.fallbackWarn=oe},get fallbackRoot(){return ae},set fallbackRoot(sr){ae=sr},get fallbackFormat(){return de},set fallbackFormat(sr){de=sr,Ce.fallbackFormat=de},get warnHtmlMessage(){return Oe},set warnHtmlMessage(sr){Oe=sr,Ce.warnHtmlMessage=sr},get escapeParameter(){return xe},set escapeParameter(sr){xe=sr,Ce.escapeParameter=sr},t:Tn,getLocaleMessage:Gn,setLocaleMessage:hn,mergeLocaleMessage:Kn,getPostTranslationHandler:jt,setPostTranslationHandler:An,getMissingHandler:Mn,setMissingHandler:$n,[SetPluralRulesSymbol]:cr};return ar.datetimeFormats=Dt,ar.numberFormats=On,ar.rt=Zn,ar.te=gr,ar.tm=ir,ar.d=Qn,ar.n=Pn,ar.getDateTimeFormat=Nn,ar.setDateTimeFormat=Lt,ar.mergeDateTimeFormat=_n,ar.getNumberFormat=Bn,ar.setNumberFormat=Xn,ar.mergeNumberFormat=rr,ar[InejctWithOptionSymbol]=g,ar[TranslateVNodeSymbol]=Vn,ar[DatetimePartsSymbol]=jn,ar[NumberPartsSymbol]=En,ar}function convertComposerOptions(n){const e=isString$1(n.locale)?n.locale:DEFAULT_LOCALE,r=isString$1(n.fallbackLocale)||isArray(n.fallbackLocale)||isPlainObject(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:e,g=isFunction(n.missing)?n.missing:void 0,y=isBoolean(n.silentTranslationWarn)||isRegExp(n.silentTranslationWarn)?!n.silentTranslationWarn:!0,k=isBoolean(n.silentFallbackWarn)||isRegExp(n.silentFallbackWarn)?!n.silentFallbackWarn:!0,$=isBoolean(n.fallbackRoot)?n.fallbackRoot:!0,V=!!n.formatFallbackMessages,L=isPlainObject(n.modifiers)?n.modifiers:{},z=n.pluralizationRules,j=isFunction(n.postTranslation)?n.postTranslation:void 0,re=isString$1(n.warnHtmlInMessage)?n.warnHtmlInMessage!=="off":!0,oe=!!n.escapeParameterHtml,ae=isBoolean(n.sync)?n.sync:!0;let de=n.messages;if(isPlainObject(n.sharedMessages)){const Ne=n.sharedMessages;de=Object.keys(Ne).reduce((Fe,ze)=>{const kt=Fe[ze]||(Fe[ze]={});return assign$1(kt,Ne[ze]),Fe},de||{})}const{__i18n:ue,__root:pe,__injectWithOption:he}=n,Oe=n.datetimeFormats,xe=n.numberFormats,$e=n.flatJson;return{locale:e,fallbackLocale:r,messages:de,flatJson:$e,datetimeFormats:Oe,numberFormats:xe,missing:g,missingWarn:y,fallbackWarn:k,fallbackRoot:$,fallbackFormat:V,modifiers:L,pluralRules:z,postTranslation:j,warnHtmlMessage:re,escapeParameter:oe,messageResolver:n.messageResolver,inheritLocale:ae,__i18n:ue,__root:pe,__injectWithOption:he}}function createVueI18n(n={},e){{const r=createComposer(convertComposerOptions(n)),{__extender:g}=n,y={id:r.id,get locale(){return r.locale.value},set locale(k){r.locale.value=k},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(k){r.fallbackLocale.value=k},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(k){},get missing(){return r.getMissingHandler()},set missing(k){r.setMissingHandler(k)},get silentTranslationWarn(){return isBoolean(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(k){r.missingWarn=isBoolean(k)?!k:k},get silentFallbackWarn(){return isBoolean(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(k){r.fallbackWarn=isBoolean(k)?!k:k},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(k){r.fallbackFormat=k},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(k){r.setPostTranslationHandler(k)},get sync(){return r.inheritLocale},set sync(k){r.inheritLocale=k},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(k){r.warnHtmlMessage=k!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(k){r.escapeParameter=k},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(k){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...k){const[$,V,L]=k,z={};let j=null,re=null;if(!isString$1($))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const oe=$;return isString$1(V)?z.locale=V:isArray(V)?j=V:isPlainObject(V)&&(re=V),isArray(L)?j=L:isPlainObject(L)&&(re=L),Reflect.apply(r.t,r,[oe,j||re||{},z])},rt(...k){return Reflect.apply(r.rt,r,[...k])},tc(...k){const[$,V,L]=k,z={plural:1};let j=null,re=null;if(!isString$1($))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const oe=$;return isString$1(V)?z.locale=V:isNumber(V)?z.plural=V:isArray(V)?j=V:isPlainObject(V)&&(re=V),isString$1(L)?z.locale=L:isArray(L)?j=L:isPlainObject(L)&&(re=L),Reflect.apply(r.t,r,[oe,j||re||{},z])},te(k,$){return r.te(k,$)},tm(k){return r.tm(k)},getLocaleMessage(k){return r.getLocaleMessage(k)},setLocaleMessage(k,$){r.setLocaleMessage(k,$)},mergeLocaleMessage(k,$){r.mergeLocaleMessage(k,$)},d(...k){return Reflect.apply(r.d,r,[...k])},getDateTimeFormat(k){return r.getDateTimeFormat(k)},setDateTimeFormat(k,$){r.setDateTimeFormat(k,$)},mergeDateTimeFormat(k,$){r.mergeDateTimeFormat(k,$)},n(...k){return Reflect.apply(r.n,r,[...k])},getNumberFormat(k){return r.getNumberFormat(k)},setNumberFormat(k,$){r.setNumberFormat(k,$)},mergeNumberFormat(k,$){r.mergeNumberFormat(k,$)},getChoiceIndex(k,$){return-1}};return y.__extender=g,y}}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:n=>n==="parent"||n==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:n},e){return e.length===1&&e[0]==="default"?(n.default?n.default():[]).reduce((g,y)=>[...g,...y.type===Fragment?y.children:[y]],[]):e.reduce((r,g)=>{const y=n[g];return y&&(r[g]=y()),r},{})}function getFragmentableTag(n){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:n=>isNumber(n)||!isNaN(n)}},baseFormatProps),setup(n,e){const{slots:r,attrs:g}=e,y=n.i18n||useI18n({useScope:n.scope,__useComponent:!0});return()=>{const k=Object.keys(r).filter(re=>re!=="_"),$={};n.locale&&($.locale=n.locale),n.plural!==void 0&&($.plural=isString$1(n.plural)?+n.plural:n.plural);const V=getInterpolateArg(e,k),L=y[TranslateVNodeSymbol](n.keypath,V,$),z=assign$1({},g),j=isString$1(n.tag)||isObject$1(n.tag)?n.tag:getFragmentableTag();return h$1(j,z,L)}}}),Translation=TranslationImpl;function isVNode(n){return isArray(n)&&!isString$1(n[0])}function renderFormatter(n,e,r,g){const{slots:y,attrs:k}=e;return()=>{const $={part:!0};let V={};n.locale&&($.locale=n.locale),isString$1(n.format)?$.key=n.format:isObject$1(n.format)&&(isString$1(n.format.key)&&($.key=n.format.key),V=Object.keys(n.format).reduce((oe,ae)=>r.includes(ae)?assign$1({},oe,{[ae]:n.format[ae]}):oe,{}));const L=g(n.value,$,V);let z=[$.key];isArray(L)?z=L.map((oe,ae)=>{const de=y[oe.type],ue=de?de({[oe.type]:oe.value,index:ae,parts:L}):[oe.value];return isVNode(ue)&&(ue[0].key=`${oe.type}-${ae}`),ue}):isString$1(L)&&(z=[L]);const j=assign$1({},k),re=isString$1(n.tag)||isObject$1(n.tag)?n.tag:getFragmentableTag();return h$1(re,j,z)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(n,e){const r=n.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(n,e,NUMBER_FORMAT_OPTIONS_KEYS,(...g)=>r[NumberPartsSymbol](...g))}}),NumberFormat=NumberFormatImpl,DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(n,e){const r=n.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(n,e,DATETIME_FORMAT_OPTIONS_KEYS,(...g)=>r[DatetimePartsSymbol](...g))}}),DatetimeFormat=DatetimeFormatImpl;function getComposer$2(n,e){const r=n;if(n.mode==="composition")return r.__getInstance(e)||n.global;{const g=r.__getInstance(e);return g!=null?g.__composer:n.global.__composer}}function vTDirective(n){const e=$=>{const{instance:V,modifiers:L,value:z}=$;if(!V||!V.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const j=getComposer$2(n,V.$),re=parseValue(z);return[Reflect.apply(j.t,j,[...makeParams(re)]),j]};return{created:($,V)=>{const[L,z]=e(V);inBrowser&&n.global===z&&($.__i18nWatcher=watch(z.locale,()=>{V.instance&&V.instance.$forceUpdate()})),$.__composer=z,$.textContent=L},unmounted:$=>{inBrowser&&$.__i18nWatcher&&($.__i18nWatcher(),$.__i18nWatcher=void 0,delete $.__i18nWatcher),$.__composer&&($.__composer=void 0,delete $.__composer)},beforeUpdate:($,{value:V})=>{if($.__composer){const L=$.__composer,z=parseValue(V);$.textContent=Reflect.apply(L.t,L,[...makeParams(z)])}},getSSRProps:$=>{const[V]=e($);return{textContent:V}}}}function parseValue(n){if(isString$1(n))return{path:n};if(isPlainObject(n)){if(!("path"in n))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return n}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(n){const{path:e,locale:r,args:g,choice:y,plural:k}=n,$={},V=g||{};return isString$1(r)&&($.locale=r),isNumber(y)&&($.plural=y),isNumber(k)&&($.plural=k),[e,V,$]}function apply(n,e,...r){const g=isPlainObject(r[0])?r[0]:{},y=!!g.useI18nComponentName;(isBoolean(g.globalInstall)?g.globalInstall:!0)&&([y?"i18n":Translation.name,"I18nT"].forEach($=>n.component($,Translation)),[NumberFormat.name,"I18nN"].forEach($=>n.component($,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach($=>n.component($,DatetimeFormat))),n.directive("t",vTDirective(e))}function defineMixin(n,e,r){return{beforeCreate(){const g=getCurrentInstance();if(!g)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const y=this.$options;if(y.i18n){const k=y.i18n;if(y.__i18n&&(k.__i18n=y.__i18n),k.__root=e,this===this.$root)this.$i18n=mergeToGlobal(n,k);else{k.__injectWithOption=!0,k.__extender=r.__vueI18nExtend,this.$i18n=createVueI18n(k);const $=this.$i18n;$.__extender&&($.__disposer=$.__extender(this.$i18n))}}else if(y.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(n,y);else{this.$i18n=createVueI18n({__i18n:y.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const k=this.$i18n;k.__extender&&(k.__disposer=k.__extender(this.$i18n))}else this.$i18n=n;y.__i18nGlobal&&adjustI18nResources(e,y,y),this.$t=(...k)=>this.$i18n.t(...k),this.$rt=(...k)=>this.$i18n.rt(...k),this.$tc=(...k)=>this.$i18n.tc(...k),this.$te=(k,$)=>this.$i18n.te(k,$),this.$d=(...k)=>this.$i18n.d(...k),this.$n=(...k)=>this.$i18n.n(...k),this.$tm=k=>this.$i18n.tm(k),r.__setInstance(g,this.$i18n)},mounted(){},unmounted(){const g=getCurrentInstance();if(!g)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const y=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,y.__disposer&&(y.__disposer(),delete y.__disposer,delete y.__extender),r.__deleteInstance(g),delete this.$i18n}}}function mergeToGlobal(n,e){n.locale=e.locale||n.locale,n.fallbackLocale=e.fallbackLocale||n.fallbackLocale,n.missing=e.missing||n.missing,n.silentTranslationWarn=e.silentTranslationWarn||n.silentFallbackWarn,n.silentFallbackWarn=e.silentFallbackWarn||n.silentFallbackWarn,n.formatFallbackMessages=e.formatFallbackMessages||n.formatFallbackMessages,n.postTranslation=e.postTranslation||n.postTranslation,n.warnHtmlInMessage=e.warnHtmlInMessage||n.warnHtmlInMessage,n.escapeParameterHtml=e.escapeParameterHtml||n.escapeParameterHtml,n.sync=e.sync||n.sync,n.__composer[SetPluralRulesSymbol](e.pluralizationRules||n.pluralizationRules);const r=getLocaleMessages(n.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(g=>n.mergeLocaleMessage(g,r[g])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(g=>n.mergeDateTimeFormat(g,e.datetimeFormats[g])),e.numberFormats&&Object.keys(e.numberFormats).forEach(g=>n.mergeNumberFormat(g,e.numberFormats[g])),n}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(n={},e){const r=__VUE_I18N_LEGACY_API__&&isBoolean(n.legacy)?n.legacy:__VUE_I18N_LEGACY_API__,g=isBoolean(n.globalInjection)?n.globalInjection:!0,y=__VUE_I18N_LEGACY_API__&&r?!!n.allowComposition:!0,k=new Map,[$,V]=createGlobal(n,r),L=makeSymbol("");function z(oe){return k.get(oe)||null}function j(oe,ae){k.set(oe,ae)}function re(oe){k.delete(oe)}{const oe={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return y},async install(ae,...de){if(ae.__VUE_I18N_SYMBOL__=L,ae.provide(ae.__VUE_I18N_SYMBOL__,oe),isPlainObject(de[0])){const he=de[0];oe.__composerExtend=he.__composerExtend,oe.__vueI18nExtend=he.__vueI18nExtend}let ue=null;!r&&g&&(ue=injectGlobalFields(ae,oe.global)),__VUE_I18N_FULL_INSTALL__&&apply(ae,oe,...de),__VUE_I18N_LEGACY_API__&&r&&ae.mixin(defineMixin(V,V.__composer,oe));const pe=ae.unmount;ae.unmount=()=>{ue&&ue(),oe.dispose(),pe()}},get global(){return V},dispose(){$.stop()},__instances:k,__getInstance:z,__setInstance:j,__deleteInstance:re};return oe}}function useI18n(n={}){const e=getCurrentInstance();if(e==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const r=getI18nInstance(e),g=getGlobalComposer(r),y=getComponentOptions(e),k=getScope$1(n,y);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!n.__useComponent){if(!r.allowComposition)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);return useI18nForLegacy(e,k,g,n)}if(k==="global")return adjustI18nResources(g,n,y),g;if(k==="parent"){let L=getComposer(r,e,n.__useComponent);return L==null&&(L=g),L}const $=r;let V=$.__getInstance(e);if(V==null){const L=assign$1({},n);"__i18n"in y&&(L.__i18n=y.__i18n),g&&(L.__root=g),V=createComposer(L),$.__composerExtend&&(V[DisposeSymbol]=$.__composerExtend(V)),setupLifeCycle($,e,V),$.__setInstance(e,V)}return V}function createGlobal(n,e,r){const g=effectScope();{const y=__VUE_I18N_LEGACY_API__&&e?g.run(()=>createVueI18n(n)):g.run(()=>createComposer(n));if(y==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[g,y]}}function getI18nInstance(n){{const e=inject(n.isCE?I18nInjectionKey:n.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw createI18nError(n.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return e}}function getScope$1(n,e){return isEmptyObject(n)?"__i18n"in e?"local":"global":n.useScope?n.useScope:"local"}function getGlobalComposer(n){return n.mode==="composition"?n.global:n.global.__composer}function getComposer(n,e,r=!1){let g=null;const y=e.root;let k=getParentComponentInstance(e,r);for(;k!=null;){const $=n;if(n.mode==="composition")g=$.__getInstance(k);else if(__VUE_I18N_LEGACY_API__){const V=$.__getInstance(k);V!=null&&(g=V.__composer,r&&g&&!g[InejctWithOptionSymbol]&&(g=null))}if(g!=null||y===k)break;k=k.parent}return g}function getParentComponentInstance(n,e=!1){return n==null?null:e&&n.vnode.ctx||n.parent}function setupLifeCycle(n,e,r){onMounted(()=>{},e),onUnmounted(()=>{const g=r;n.__deleteInstance(e);const y=g[DisposeSymbol];y&&(y(),delete g[DisposeSymbol])},e)}function useI18nForLegacy(n,e,r,g={}){const y=e==="local",k=shallowRef(null);if(y&&n.proxy&&!(n.proxy.$options.i18n||n.proxy.$options.__i18n))throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const $=isBoolean(g.inheritLocale)?g.inheritLocale:!isString$1(g.locale),V=ref(!y||$?r.locale.value:isString$1(g.locale)?g.locale:DEFAULT_LOCALE),L=ref(!y||$?r.fallbackLocale.value:isString$1(g.fallbackLocale)||isArray(g.fallbackLocale)||isPlainObject(g.fallbackLocale)||g.fallbackLocale===!1?g.fallbackLocale:V.value),z=ref(getLocaleMessages(V.value,g)),j=ref(isPlainObject(g.datetimeFormats)?g.datetimeFormats:{[V.value]:{}}),re=ref(isPlainObject(g.numberFormats)?g.numberFormats:{[V.value]:{}}),oe=y?r.missingWarn:isBoolean(g.missingWarn)||isRegExp(g.missingWarn)?g.missingWarn:!0,ae=y?r.fallbackWarn:isBoolean(g.fallbackWarn)||isRegExp(g.fallbackWarn)?g.fallbackWarn:!0,de=y?r.fallbackRoot:isBoolean(g.fallbackRoot)?g.fallbackRoot:!0,ue=!!g.fallbackFormat,pe=isFunction(g.missing)?g.missing:null,he=isFunction(g.postTranslation)?g.postTranslation:null,Oe=y?r.warnHtmlMessage:isBoolean(g.warnHtmlMessage)?g.warnHtmlMessage:!0,xe=!!g.escapeParameter,$e=y?r.modifiers:isPlainObject(g.modifiers)?g.modifiers:{},Ne=g.pluralRules||y&&r.pluralRules;function Ce(){return[V.value,L.value,z.value,j.value,re.value]}const Fe=computed({get:()=>k.value?k.value.locale.value:V.value,set:hn=>{k.value&&(k.value.locale.value=hn),V.value=hn}}),ze=computed({get:()=>k.value?k.value.fallbackLocale.value:L.value,set:hn=>{k.value&&(k.value.fallbackLocale.value=hn),L.value=hn}}),kt=computed(()=>k.value?k.value.messages.value:z.value),At=computed(()=>j.value),Cn=computed(()=>re.value);function Dt(){return k.value?k.value.getPostTranslationHandler():he}function On(hn){k.value&&k.value.setPostTranslationHandler(hn)}function jt(){return k.value?k.value.getMissingHandler():pe}function An(hn){k.value&&k.value.setMissingHandler(hn)}function Mn(hn){return Ce(),hn()}function $n(...hn){return k.value?Mn(()=>Reflect.apply(k.value.t,null,[...hn])):Mn(()=>"")}function Ln(...hn){return k.value?Reflect.apply(k.value.rt,null,[...hn]):""}function Tn(...hn){return k.value?Mn(()=>Reflect.apply(k.value.d,null,[...hn])):Mn(()=>"")}function Zn(...hn){return k.value?Mn(()=>Reflect.apply(k.value.n,null,[...hn])):Mn(()=>"")}function Qn(hn){return k.value?k.value.tm(hn):{}}function Pn(hn,Kn){return k.value?k.value.te(hn,Kn):!1}function Wn(hn){return k.value?k.value.getLocaleMessage(hn):{}}function ur(hn,Kn){k.value&&(k.value.setLocaleMessage(hn,Kn),z.value[hn]=Kn)}function hr(hn,Kn){k.value&&k.value.mergeLocaleMessage(hn,Kn)}function Vn(hn){return k.value?k.value.getDateTimeFormat(hn):{}}function En(hn,Kn){k.value&&(k.value.setDateTimeFormat(hn,Kn),j.value[hn]=Kn)}function jn(hn,Kn){k.value&&k.value.mergeDateTimeFormat(hn,Kn)}function cr(hn){return k.value?k.value.getNumberFormat(hn):{}}function gr(hn,Kn){k.value&&(k.value.setNumberFormat(hn,Kn),re.value[hn]=Kn)}function Cr(hn,Kn){k.value&&k.value.mergeNumberFormat(hn,Kn)}const ir={get id(){return k.value?k.value.id:-1},locale:Fe,fallbackLocale:ze,messages:kt,datetimeFormats:At,numberFormats:Cn,get inheritLocale(){return k.value?k.value.inheritLocale:$},set inheritLocale(hn){k.value&&(k.value.inheritLocale=hn)},get availableLocales(){return k.value?k.value.availableLocales:Object.keys(z.value)},get modifiers(){return k.value?k.value.modifiers:$e},get pluralRules(){return k.value?k.value.pluralRules:Ne},get isGlobal(){return k.value?k.value.isGlobal:!1},get missingWarn(){return k.value?k.value.missingWarn:oe},set missingWarn(hn){k.value&&(k.value.missingWarn=hn)},get fallbackWarn(){return k.value?k.value.fallbackWarn:ae},set fallbackWarn(hn){k.value&&(k.value.missingWarn=hn)},get fallbackRoot(){return k.value?k.value.fallbackRoot:de},set fallbackRoot(hn){k.value&&(k.value.fallbackRoot=hn)},get fallbackFormat(){return k.value?k.value.fallbackFormat:ue},set fallbackFormat(hn){k.value&&(k.value.fallbackFormat=hn)},get warnHtmlMessage(){return k.value?k.value.warnHtmlMessage:Oe},set warnHtmlMessage(hn){k.value&&(k.value.warnHtmlMessage=hn)},get escapeParameter(){return k.value?k.value.escapeParameter:xe},set escapeParameter(hn){k.value&&(k.value.escapeParameter=hn)},t:$n,getPostTranslationHandler:Dt,setPostTranslationHandler:On,getMissingHandler:jt,setMissingHandler:An,rt:Ln,d:Tn,n:Zn,tm:Qn,te:Pn,getLocaleMessage:Wn,setLocaleMessage:ur,mergeLocaleMessage:hr,getDateTimeFormat:Vn,setDateTimeFormat:En,mergeDateTimeFormat:jn,getNumberFormat:cr,setNumberFormat:gr,mergeNumberFormat:Cr};function Gn(hn){hn.locale.value=V.value,hn.fallbackLocale.value=L.value,Object.keys(z.value).forEach(Kn=>{hn.mergeLocaleMessage(Kn,z.value[Kn])}),Object.keys(j.value).forEach(Kn=>{hn.mergeDateTimeFormat(Kn,j.value[Kn])}),Object.keys(re.value).forEach(Kn=>{hn.mergeNumberFormat(Kn,re.value[Kn])}),hn.escapeParameter=xe,hn.fallbackFormat=ue,hn.fallbackRoot=de,hn.fallbackWarn=ae,hn.missingWarn=oe,hn.warnHtmlMessage=Oe}return onBeforeMount(()=>{if(n.proxy==null||n.proxy.$i18n==null)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const hn=k.value=n.proxy.$i18n.__composer;e==="global"?(V.value=hn.locale.value,L.value=hn.fallbackLocale.value,z.value=hn.messages.value,j.value=hn.datetimeFormats.value,re.value=hn.numberFormats.value):y&&Gn(hn)}),ir}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(n,e){const r=Object.create(null);return globalExportProps.forEach(y=>{const k=Object.getOwnPropertyDescriptor(e,y);if(!k)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const $=isRef(k.value)?{get(){return k.value.value},set(V){k.value.value=V}}:{get(){return k.get&&k.get()}};Object.defineProperty(r,y,$)}),n.config.globalProperties.$i18n=r,globalExportMethods.forEach(y=>{const k=Object.getOwnPropertyDescriptor(e,y);if(!k||!k.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${y}`,k)}),()=>{delete n.config.globalProperties.$i18n,globalExportMethods.forEach(y=>{delete n.config.globalProperties[`$${y}`]})}}initFeatureFlags();__INTLIFY_JIT_COMPILATION__?registerMessageCompiler(compile):registerMessageCompiler(compileToFunction);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);if(__INTLIFY_PROD_DEVTOOLS__){const n=getGlobalThis();n.__INTLIFY__=!0,setDevToolsHook(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const _hoisted_1$X={class:"dialog-footer"},_sfc_main$Y=defineComponent({__name:"CreateFileDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref("untitled"),y=ref(1e3),k=ref(800),$=ref(-200),V=()=>{const re={uuid:genUUID(),width:y.value,height:y.value,name:g.value,saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:y.value,ascender:k.value,descender:$.value}};addFile(re),setSelectedFileUUID(re.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"&&router.push("/editor"),setCreateFileDialogVisible(!1)},L=()=>{setCreateFileDialogVisible(!1)},z=()=>{$.value=k.value-y.value},j=()=>{k.value=y.value+$.value};return(re,oe)=>{const ae=resolveComponent("el-input"),de=resolveComponent("el-form-item"),ue=resolveComponent("el-input-number"),pe=resolveComponent("el-form"),he=resolveComponent("el-button"),Oe=resolveComponent("el-dialog");return openBlock(),createBlock(Oe,{"model-value":unref(createFileDialogVisible),class:"create-file-dialog",title:unref(e)("dialogs.addFileDialog.title"),width:"320px","before-close":L},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_1$X,[createVNode(he,{onClick:oe[4]||(oe[4]=xe=>unref(setCreateFileDialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addFileDialog.cancel")),1)]),_:1}),createVNode(he,{type:"primary",onClick:oe[5]||(oe[5]=()=>V())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addFileDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createVNode(pe,{class:"create-file-form","label-width":"80px"},{default:withCtx(()=>[createVNode(de,{label:unref(e)("dialogs.addFileDialog.fontName")},{default:withCtx(()=>[createVNode(ae,{modelValue:g.value,"onUpdate:modelValue":oe[0]||(oe[0]=xe=>g.value=xe)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(de,{label:"unitsPerEm"},{default:withCtx(()=>[createVNode(ue,{modelValue:y.value,"onUpdate:modelValue":oe[1]||(oe[1]=xe=>y.value=xe),precision:0},null,8,["modelValue"])]),_:1}),createVNode(de,{label:"ascender"},{default:withCtx(()=>[createVNode(ue,{modelValue:k.value,"onUpdate:modelValue":oe[2]||(oe[2]=xe=>k.value=xe),precision:0,onChange:z},null,8,["modelValue"])]),_:1}),createVNode(de,{label:"descender"},{default:withCtx(()=>[createVNode(ue,{modelValue:$.value,"onUpdate:modelValue":oe[3]||(oe[3]=xe=>$.value=xe),precision:0,onChange:j},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value","title"])}}}),_hoisted_1$W={class:"form-wrapper"},_hoisted_2$U={class:"dialog-footer"},_sfc_main$X=defineComponent({__name:"LanguageSettingsDialog",setup(n){const{tm:e,t:r,locale:g}=useI18n(),y=ref(g.value),k=()=>{setLanguageSettingsDialogVisible(!1)},$=()=>{g.value=y.value,setLanguageSettingsDialogVisible(!1)},V=[{value:"cn",label:""},{value:"en",label:""}];return(L,z)=>{const j=resolveComponent("el-option"),re=resolveComponent("el-select"),oe=resolveComponent("el-form-item"),ae=resolveComponent("el-form"),de=resolveComponent("el-button"),ue=resolveComponent("el-dialog");return openBlock(),createBlock(ue,{modelValue:unref(languageSettingsDialogVisible),"onUpdate:modelValue":z[1]||(z[1]=pe=>isRef(languageSettingsDialogVisible)?languageSettingsDialogVisible.value=pe:null),title:unref(e)("dialogs.languageSettingsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$U,[createVNode(de,{onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.languageSettingsDialog.cancel")),1)]),_:1}),createVNode(de,{type:"primary",onClick:$},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.languageSettingsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$W,[createVNode(ae,{"label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("dialogs.languageSettingsDialog.label")},{default:withCtx(()=>[createVNode(re,{modelValue:y.value,"onUpdate:modelValue":z[0]||(z[0]=pe=>y.value=pe),class:"edit-filter-select",placeholder:unref(e)("dialogs.languageSettingsDialog.label")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(V,pe=>createVNode(j,{key:pe.value,label:pe.label,value:pe.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$V={class:"welcome","element-loading-text":"","element-loading-background":"rgba(122, 122, 122, 0.8)"},_hoisted_2$T={class:"items-wrapper"},_hoisted_3$v={class:"item-icon"},_hoisted_4$s={class:"item-name"},_hoisted_5$p={class:"description"},_hoisted_6$m={class:"item-icon"},_hoisted_7$l={class:"item-name"},_hoisted_8$k={class:"description"},_hoisted_9$k={class:"item-icon"},_hoisted_10$i={class:"item-name"},_hoisted_11$h={class:"description"},_hoisted_12$f={class:"item-icon"},_hoisted_13$f={class:"item-name"},_hoisted_14$e={class:"description"},_sfc_main$W=defineComponent({__name:"Welcome",setup(n){const{t:e}=useI18n();return onMounted(async()=>{await initGlyphEnvironment()}),(r,g)=>{const y=resolveComponent("el-icon"),k=resolveDirective("loading");return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$V,[createBaseVNode("div",_hoisted_2$T,[createBaseVNode("div",{class:"item new-project-item",onClick:g[0]||(g[0]=(...$)=>unref(createFile)&&unref(createFile)(...$))},[createBaseVNode("div",_hoisted_3$v,[createVNode(y,null,{default:withCtx(()=>[createVNode(unref(document_add_default))]),_:1})]),createBaseVNode("div",_hoisted_4$s,toDisplayString$1(unref(e)("welcome.new.name")),1),createBaseVNode("div",_hoisted_5$p,toDisplayString$1(unref(e)("welcome.new.description")),1)]),createBaseVNode("div",{class:"item open-project-item",onClick:g[1]||(g[1]=(...$)=>unref(openFile)&&unref(openFile)(...$))},[createBaseVNode("div",_hoisted_6$m,[createVNode(y,null,{default:withCtx(()=>[createVNode(unref(folder_opened_default))]),_:1})]),createBaseVNode("div",_hoisted_7$l,toDisplayString$1(unref(e)("welcome.open.name")),1),createBaseVNode("div",_hoisted_8$k,toDisplayString$1(unref(e)("welcome.open.description")),1)]),createBaseVNode("div",{class:"item import-font-item",onClick:g[2]||(g[2]=(...$)=>unref(importFont)&&unref(importFont)(...$))},[createBaseVNode("div",_hoisted_9$k,[createVNode(y,null,{default:withCtx(()=>[createVNode(unref(files_default))]),_:1})]),createBaseVNode("div",_hoisted_10$i,toDisplayString$1(unref(e)("welcome.import.name")),1),createBaseVNode("div",_hoisted_11$h,toDisplayString$1(unref(e)("welcome.import.description")),1)]),createBaseVNode("div",{class:"item template-item",onClick:g[3]||(g[3]=(...$)=>unref(importTemplate1)&&unref(importTemplate1)(...$))},[createBaseVNode("div",_hoisted_12$f,[createVNode(y,null,{default:withCtx(()=>[createVNode(unref(switch_default))]),_:1})]),createBaseVNode("div",_hoisted_13$f,toDisplayString$1(unref(e)("welcome.template.name")),1),createBaseVNode("div",_hoisted_14$e,toDisplayString$1(unref(e)("welcome.template.description")),1)])]),createVNode(_sfc_main$Y),createVNode(_sfc_main$X)])),[[k,unref(loading)]])}}}),_export_sfc=(n,e)=>{const r=n.__vccOpts||n;for(const[g,y]of e)r[g]=y;return r},Welcome=_export_sfc(_sfc_main$W,[["__scopeId","data-v-876b86e2"]]),dialogs={cn:{tipsDialog:{title:"",confirm:"",cancel:"",tip1:"",tip2:""},exportDialog:{title:"",confirm:"",cancel:""},exportFontDialog:{title:"",confirm:"",cancel:""},saveDialog:{title:"",confirm:"",cancel:""},saveAsDialog:{title:"",confirm:"",cancel:""},addIconDialog:{title:"",iconName:"",confirm:"",cancel:""},addTextDialog:{title:"",confirm:"",cancel:""},addGlyphDialog:{title:"",glyphName:"",confirm:"",cancel:""},editGlyphDialog:{title:"",glyphName:"",confirm:"",cancel:""},editCharacterDialog:{title:"",glyphName:"",confirm:"",cancel:""},copyGlyphDialog:{title:"",glyphName:"",confirm:"",cancel:""},copyCharacterDialog:{title:"",characterName:"",confirm:"",cancel:""},glyphComponentDialog:{title:"",confirm:"",cancel:""},addFileDialog:{title:"",fontName:"",cancel:"",confirm:""},fontSettingsDialog:{title:"",fontName:"",cancel:"",confirm:""},preferenceDialog:{title:"",background:{background:"",style:"",color:"",transparent:""},mesh:{mesh:"",style:"",none:"",mi:"",precision:"",layout:""},render:{render:"",style:"",contour:"",color:""},cancel:"",confirm:""},languageSettingsDialog:{title:"",label:"",cancel:"",confirm:""},importTemplatesDialog:{title:"",cancel:"",confirm:""}},en:{tipsDialog:{title:"Tips",confirm:"Confirm",cancel:"Cancel",tip1:"Closing the file will result in the loss of unsaved data. Are you sure you want to close?",tip2:"Saving the project file on the web will store the project in the browser's local cache and not in the cloud. If the user clears the local cache, the project data will be deleted. Are you sure you want to save the project in the cache?"},exportDialog:{title:"Export Project",confirm:"Confirm",cancel:"Cancel"},exportFontDialog:{title:"Export Font",confirm:"Confirm",cancel:"Cancel"},saveDialog:{title:"Save Project",confirm:"Confirm",cancel:"Cancel"},saveAsDialog:{title:"Save As Project",confirm:"Confirm",cancel:"Cancel"},addIconDialog:{title:"Add Icon",iconName:"Icon Name",confirm:"Confirm",cancel:"Cancel"},addTextDialog:{title:"Add Character",confirm:"Confirm",cancel:"Cancel"},addGlyphDialog:{title:"Add Glyph",glyphName:"Glyph Name",confirm:"Confirm",cancel:"Cancel"},editGlyphDialog:{title:"Edit Glyph Name",glyphName:"Glyph Name",confirm:"Confirm",cancel:"Cancel"},editCharacterDialog:{title:"Edit Character",glyphName:"Character",confirm:"Confirm",cancel:"Cancel"},copyGlyphDialog:{title:"Copy Glyph",glyphName:"Glyph Name",confirm:"Confirm",cancel:"Cancel"},copyCharacterDialog:{title:"Copy Character",characterName:"New Character",confirm:"Confirm",cancel:"Cancel"},glyphComponentDialog:{title:"Add Glyph Component",confirm:"Confirm",cancel:"Cancel"},addFileDialog:{title:"New Font",fontName:"Font Name",cancel:"Cancel",confirm:"Confirm"},fontSettingsDialog:{title:"Font Settings",fontName:"Font Name",cancel:"Cancel",confirm:"Confirm"},preferenceDialog:{title:"Preference",background:{background:"Background",style:"Style",color:"Color",transparent:"Transparent"},mesh:{mesh:"Mesh",style:"Style",none:"None",mi:"Mi",precision:"Pricision",layout:"Layout"},render:{render:"Render",style:"Style",contour:"Contour",color:"Color"},cancel:"Cancel",confirm:"Confirm"},languageSettingsDialog:{title:"Language Settings",label:"Language",cancel:"Cancel",confirm:"Confirm"},importTemplatesDialog:{title:"Import Templates",cancel:"Cancel",confirm:"Confirm"}}},panels={cn:{filter:{all:"",font:""},view:"",componentList:{menu:{cut:"",copy:"",paste:"",delete:""}},viewList:{thumbnail:{title:"",description:""},bitmap:{title:"",description:""},contours:{title:"",description:""},curves:{title:"",description:""},preview:{title:"",description:""}},paramsPanel:{componentName:{title:"",label:""},transform:{title:"",x:"X",y:"Y",w:"W",h:"H",rotation:"",flipX:"",flipY:""},opacity:{title:"",opacity:""},editMode:{title:"",label:""},transformToCurve:{title:"",label:""},layout:{title:"",add:"",modify:"",type:"",null:"",rect:""},params:{title:""},joints:{title:""}},picEditPanel:{cancel:"",confirm:"",edit:"",step1:{title:"",tip:"",localBrush:"",brush:""},step2:{title:"",content:""},step3:{title:"",maxError:"",dropThresholding:""},step4:{title:"",content:""}},settingsPanel:{background:{background:"",style:"",color:"",transparent:""},mesh:{mesh:"",style:"",none:"",mi:"",precision:"",layout:""},render:{render:"",style:"",contour:"",color:""}},bottomBar:{reset:"",coords:""}},en:{filter:{all:"All Componnents",font:"Font COmponnents"},view:"View",componentList:{menu:{cut:"Cut",copy:"Copy",paste:"Paste",delete:"Delete"}},viewList:{thumbnail:{title:"Picture Thumbnail",description:"Thumbnail of original picture"},bitmap:{title:"Bitmap",description:"Bitmap picture after thresholding processing"},contours:{title:"Contours",description:"Contours extracted from picture"},curves:{title:"Curves",description:"Curves fitted from contours"},preview:{title:"Preview",description:"Components preview"}},paramsPanel:{componentName:{title:"Component Name",label:"Name"},transform:{title:"Transform",x:"X",y:"Y",w:"W",h:"H",rotation:"Rotation",flipX:"flipX",flipY:"flipY"},opacity:{title:"Style",opacity:"Opacity"},editMode:{title:"Edit Mode",label:"Open"},transformToCurve:{title:"Transform To Pen Curve",label:"Confirm to transform"},layout:{title:"Layout",add:"Add Layout",modify:"Modify Layout",type:"Type",null:"Empty Layout",rect:"Rect Layout"},params:{title:"Parameters"},joints:{title:"Key Points"}},picEditPanel:{cancel:"Cancel",confirm:"Confirm",edit:"Edit",step1:{title:"Step 1: Bitmap Thresholding",tip:"The effect is poor? Try",localBrush:"Local Brush",brush:"Brush"},step2:{title:"Step 2: Extract Contours",content:"Extract contours accordding to step 1's result"},step3:{title:"Step 3: Fit Curve",maxError:"Smoothing",dropThresholding:"Filter"},step4:{title:"Step 4: Fill Color",content:"Auto-fill with black color"}},settingsPanel:{background:{background:"Background",style:"Style",color:"Color",transparent:"Transparent"},mesh:{mesh:"Mesh",style:"Style",none:"None",mi:"Mi",precision:"Pricision",layout:"Layout"},render:{render:"Render",style:"Style",contour:"Contour",color:"Color"}},bottomBar:{reset:"Reset",coords:"Coords"}}},menus={cn:{app:"",about:"",file:{file:"",new:"",open:"",save:"",saveas:"",clear:"",export:"",sync_data:""},edit:{edit:"",undo:"",redo:"",cut:"",copy:"",paste:"",delete:""},import:{import:"",font:"",glyph:"",picture:"",svg:"SVG"},export:{export:"",font:"",glyph:"",jpeg:"JPEG",png:"PNG",svg:"SVG"},char:{char:"",character:"",icon:""},settings:{settings:"",font:"",preference:"",language:""},templates:{templates:"",test1:"1"},tools:{remove_overlap:""}},en:{app:"FontPlayer",about:"about",file:{file:"File",new:"New File",open:"Open File",save:"Save",saveas:"Save As",clear:"Clear Cache",export:"Export Project",sync_data:"Sync Data"},edit:{edit:"Edit",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",delete:"Delete"},import:{import:"Import",font:"Import Font",glyph:"Import Glyph",picture:"Import From Picture",svg:"Import SVG"},export:{export:"Export",font:"Export Font",glyph:"Export Glyph",jpeg:"Export JPEG",png:"Export PNG",svg:"Export SVG"},char:{char:"Char And Icon",character:"Add Character",icon:"Add Icon"},settings:{settings:"Settings",font:"Font Settings",preference:"Preference",language:"Language"},templates:{templates:"Templates",test1:"TestTemplate1"},tools:{remove_overlap:"remove_overlap"}}},welcome={cn:{new:{name:"",description:"web"},open:{name:"",description:"web"},import:{name:"",description:"web"},sync:{name:"",description:"web"},template:{name:"",description:""}},en:{new:{name:"New Project",description:"Create new font (or web font) project"},open:{name:"Open Project",description:"Open existed font (or web font) project"},import:{name:"Import Font",description:"Import font as project"},sync:{name:"Sync Cache",description:"Sync cache"},template:{name:"Import Template",description:"Import template that FontPlayer provides for testing"}}},programming={cn:{"global-constants":"","glyph-parameters":"","glyph-layout":"","new-constant":"","new-parameter":"",joint:"",refline:"",constant:"",number:"",ring:"",widget:"",controlType:"",type:"",value:"",character:"",glyph:"",radical:"",comp:"",glyph_comp:"",stroke:"",reset:"",execute:"",script:""},en:{"global-constants":"Global Constants","glyph-parameters":"Glyph Parameters","glyph-layout":"Glyph Layout","new-constant":"New Constant","new-parameter":"New Parameter",joint:"Joint",refline:"Ref Line",constants:"const",number:"number",ring:"RingController",widget:"Widget",controlType:"Control Type",type:"Type",value:"value",character:"Character",glyph:"Glyph",radical:"Radical",comp:"Glyph",glyph_comp:"Component",stroke:"Stroke",reset:"Reset",execute:"Execute",script:"Script"}},messages={cn:{menus:menus.cn,dialogs:dialogs.cn,panels:panels.cn,welcome:welcome.cn,programming:programming.cn},en:{menus:menus.en,dialogs:dialogs.en,panels:panels.en,welcome:welcome.en,programming:programming.en}},i18nOptions={locale:"cn",fallbackLocale:"en",allowComposition:!0,messages},i18n=createI18n(i18nOptions),{tm}=i18n.global,web_menu=[{label:tm("menus.file.file"),key:"file",submenu:[{label:tm("menus.file.new"),key:"create-file",click:n=>{n["create-file"]()}},{label:tm("menus.file.open"),key:"open-file",click:n=>{n["open-file"]()}},{label:tm("menus.file.save"),key:"save-file",click:n=>{n["save-file"]()}},{label:tm("menus.file.clear"),key:"clear-cache",click:n=>{n["clear-cache"]()}},{label:tm("menus.file.sync_data"),key:"sync-data",click:n=>{n["sync-data"]()}},{label:tm("menus.file.export"),key:"save-as-json",click:n=>{n["save-as-json"]()}}]},{label:tm("menus.edit.edit"),key:"edit",submenu:[{label:tm("menus.edit.undo"),key:"undo",click:n=>{n.undo()}},{label:tm("menus.edit.redo"),key:"redo",click:n=>{n.redo()}},{label:tm("menus.edit.cut"),key:"cut",click:n=>{n.cut()}},{label:tm("menus.edit.copy"),key:"copy",click:n=>{n.copy()}},{label:tm("menus.edit.paste"),key:"paste",click:n=>{n.paste()}},{label:tm("menus.edit.delete"),key:"delete",click:n=>{n.delete()}}]},{label:tm("menus.import.import"),key:"import",submenu:[{label:tm("menus.import.font"),key:"import-font-file",click:n=>{n["import-font-file"]()}},{label:tm("menus.import.glyph"),key:"import-glyphs",click:n=>{n["import-glyphs"]()}},{label:tm("menus.import.picture"),key:"import-pic",click:n=>{n["import-pic"]()}},{label:tm("menus.import.svg"),key:"import-svg",click:n=>{n["import-svg"]()}}]},{label:tm("menus.export.export"),key:"export",submenu:[{label:tm("menus.export.font"),key:"export-font-file",click:n=>{n["export-font-file"]()}},{label:tm("menus.export.glyph"),key:"export-glyphs",click:n=>{n["export-glyphs"]()}},{label:tm("menus.export.jpeg"),key:"export-jpeg",click:n=>{n["export-jpeg"]()}},{label:tm("menus.export.png"),key:"export-png",click:n=>{n["export-png"]()}},{label:tm("menus.export.svg"),key:"export-svg",click:n=>{n["export-svg"]()}}]},{label:tm("menus.char.char"),key:"character",submenu:[{label:tm("menus.char.character"),key:"add-character",click:n=>{n["add-character"]()}},{label:tm("menus.char.icon"),key:"add-icon",click:n=>{n["add-icon"]()}}]},{label:tm("menus.settings.settings"),key:"settings",submenu:[{label:tm("menus.settings.font"),key:"font-settings",click:n=>{n["font-settings"]()}},{label:tm("menus.settings.preference"),key:"preference-settings",click:n=>{n["preference-settings"]()}},{label:tm("menus.settings.language"),key:"language-settings",click:n=>{n["language-settings"]()}}]},{label:tm("menus.templates.templates"),key:"templates",submenu:[{label:tm("menus.templates.test1"),key:"template-1",click:n=>{n["template-1"]()}}]},{label:tm("menus.tools.tools"),key:"tools",submenu:[{label:tm("menus.tools.remove_overlap"),key:"remove_overlap",click:n=>{n.remove_overlap()}}]}],traverse_web_menu=(n,e)=>e.map(g=>{const y={};y.label=g.label,y.key=g.key,g.click&&(y.click=()=>{g&&g.click&&g.click(n)});const k=g.submenu?traverse_web_menu(n,g.submenu):null;return g.submenu&&(y.submenu=k),y}),_hoisted_1$U={key:0,class:"side-bar"},_sfc_main$V=defineComponent({__name:"SideBar",setup(n){const e=()=>!0,r=()=>editStatus.value===Status.Edit||editStatus.value===Status.Glyph,g=()=>editStatus.value===Status.CharacterList||editStatus.value===Status.GlyphList||editStatus.value===Status.StrokeGlyphList||editStatus.value===Status.RadicalGlyphList||editStatus.value===Status.CompGlyphList,k={"create-file":g,"open-file":g,"save-file":e,"clear-cache":e,"sync-data":g,"save-as-json":e,undo:r,redo:r,cut:r,copy:r,paste:r,delete:r,"import-font-file":g,"import-templates-file":g,"import-glyphs":g,"import-pic":r,"import-svg":r,"export-font-file":e,"export-glyphs":g,"export-jpeg":r,"export-png":r,"export-svg":r,"add-character":g,"add-icon":g,"font-settings":e,"preference-settings":e,"language-settings":e,"template-1":()=>editStatus.value!==Status.Edit&&editStatus.value!==Status.Glyph&&editStatus.value!==Status.Pic,remove_overlap:r},$={file:app.component("Files"),edit:app.component("Edit"),import:app.component("Upload"),export:app.component("Download"),character:app.component("Tickets"),settings:app.component("Setting"),templates:app.component("List"),tools:app.component("Tools")},V=traverse_web_menu(web_handlers,web_menu),L=async z=>{web_handlers[z]&&web_handlers[z]()};return(z,j)=>{const re=resolveComponent("el-icon"),oe=resolveComponent("el-menu-item"),ae=resolveComponent("el-sub-menu"),de=resolveComponent("el-menu"),ue=resolveComponent("el-col");return unref(ENV)==="web"||unref(ENV)==="tauri"?(openBlock(),createElementBlock("div",_hoisted_1$U,[createVNode(ue,{class:"side-bar-row"},{default:withCtx(()=>[createVNode(de,{class:"el-menu side-bar",mode:"vertical",collapse:!0,onSelect:L},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),pe=>(openBlock(),createBlock(ae,{index:pe.key},{title:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($[pe.key])))]),_:2},1024)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(pe.submenu,he=>(openBlock(),createBlock(oe,{index:he.key,disabled:!k[he.key]()},{default:withCtx(()=>[createTextVNode(toDisplayString$1(he.label),1)]),_:2},1032,["index","disabled"]))),256))]),_:2},1032,["index"]))),256))]),_:1})]),_:1})])):createCommentVNode("",!0)}}}),SideBar=_export_sfc(_sfc_main$V,[["__scopeId","data-v-c838d584"]]),genPictureComponent=async(n,e,r)=>new Promise((g,y)=>{const k=document.createElement("img");k.onload=()=>{let $=k.width,V=k.height;($>e||V>r)&&(V/r>$/e?(V=r,$=k.width/k.height*V):($=e,V=k.height/k.width*$));const L=document.createElement("canvas");L.width=$,L.height=V,L.getContext("2d").drawImage(k,0,0,k.width,k.height,0,0,$,V);const j=document.createElement("img"),re=L.toDataURL();j.onload=()=>{const oe=toPixels(j),ae={uuid:genUUID(),type:"picture",name:"picture",lock:!1,visible:!0,value:{data:re,img:j,pixels:oe,originImg:k,pixelMode:!1},x:0,y:0,w:$,h:V,rotation:0,flipX:!1,flipY:!1,opacity:.5,usedInCharacter:!1};g(ae)},j.src=re},k.src=n});function __classPrivateFieldGet(n,e,r,g){if(r==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!g:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?g:r==="a"?g.call(n):g?g.value:e.get(n)}function __classPrivateFieldSet(n,e,r,g,y){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!y:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?y.call(n,r):y?y.value=r:e.set(n,r),r}typeof SuppressedError=="function"&&SuppressedError;var _Resource_rid;const SERIALIZE_TO_IPC_FN="__TAURI_TO_IPC_KEY__";function transformCallback(n,e=!1){return window.__TAURI_INTERNALS__.transformCallback(n,e)}async function invoke(n,e={},r){return window.__TAURI_INTERNALS__.invoke(n,e,r)}class Resource{get rid(){return __classPrivateFieldGet(this,_Resource_rid,"f")}constructor(e){_Resource_rid.set(this,void 0),__classPrivateFieldSet(this,_Resource_rid,e,"f")}async close(){return invoke("plugin:resources|close",{rid:this.rid})}}_Resource_rid=new WeakMap;class LogicalSize{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new PhysicalSize(this.width*e,this.height*e)}[SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class PhysicalSize{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new LogicalSize(this.width/e,this.height/e)}[SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class Size{constructor(e){this.size=e}toLogical(e){return this.size instanceof LogicalSize?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof PhysicalSize?this.size:this.size.toPhysical(e)}[SERIALIZE_TO_IPC_FN](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class LogicalPosition{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new PhysicalPosition(this.x*e,this.y*e)}[SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class PhysicalPosition{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new LogicalPosition(this.x/e,this.y/e)}[SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class Position{constructor(e){this.position=e}toLogical(e){return this.position instanceof LogicalPosition?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof PhysicalPosition?this.position:this.position.toPhysical(e)}[SERIALIZE_TO_IPC_FN](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}var TauriEvent;(function(n){n.WINDOW_RESIZED="tauri://resize",n.WINDOW_MOVED="tauri://move",n.WINDOW_CLOSE_REQUESTED="tauri://close-requested",n.WINDOW_DESTROYED="tauri://destroyed",n.WINDOW_FOCUS="tauri://focus",n.WINDOW_BLUR="tauri://blur",n.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",n.WINDOW_THEME_CHANGED="tauri://theme-changed",n.WINDOW_CREATED="tauri://window-created",n.WEBVIEW_CREATED="tauri://webview-created",n.DRAG_ENTER="tauri://drag-enter",n.DRAG_OVER="tauri://drag-over",n.DRAG_DROP="tauri://drag-drop",n.DRAG_LEAVE="tauri://drag-leave"})(TauriEvent||(TauriEvent={}));async function _unlisten(n,e){await invoke("plugin:event|unlisten",{event:n,eventId:e})}async function listen(n,e,r){var g;const y=typeof r?.target=="string"?{kind:"AnyLabel",label:r.target}:(g=r?.target)!==null&&g!==void 0?g:{kind:"Any"};return invoke("plugin:event|listen",{event:n,target:y,handler:transformCallback(e)}).then(k=>async()=>_unlisten(n,k))}async function once(n,e,r){return listen(n,g=>{_unlisten(n,g.id),e(g)},r)}async function emit(n,e){await invoke("plugin:event|emit",{event:n,payload:e})}async function emitTo(n,e,r){await invoke("plugin:event|emit_to",{target:typeof n=="string"?{kind:"AnyLabel",label:n}:n,event:e,payload:r})}class Image extends Resource{constructor(e){super(e)}static async new(e,r,g){return invoke("plugin:image|new",{rgba:transformImage(e),width:r,height:g}).then(y=>new Image(y))}static async fromBytes(e){return invoke("plugin:image|from_bytes",{bytes:transformImage(e)}).then(r=>new Image(r))}static async fromPath(e){return invoke("plugin:image|from_path",{path:e}).then(r=>new Image(r))}async rgba(){return invoke("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return invoke("plugin:image|size",{rid:this.rid})}}function transformImage(n){return n==null?null:typeof n=="string"?n:n instanceof Image?n.rid:n}var UserAttentionType;(function(n){n[n.Critical=1]="Critical",n[n.Informational=2]="Informational"})(UserAttentionType||(UserAttentionType={}));class CloseRequestedEvent{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var ProgressBarStatus;(function(n){n.None="none",n.Normal="normal",n.Indeterminate="indeterminate",n.Paused="paused",n.Error="error"})(ProgressBarStatus||(ProgressBarStatus={}));function getCurrentWindow(){return new Window$1(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function getAllWindows(){return invoke("plugin:window|get_all_windows").then(n=>n.map(e=>new Window$1(e,{skip:!0})))}const localTauriEvents$1=["tauri://created","tauri://error"];let Window$1=class{constructor(e,r={}){var g;this.label=e,this.listeners=Object.create(null),r?.skip||invoke("plugin:window|create",{options:{...r,parent:typeof r.parent=="string"?r.parent:(g=r.parent)===null||g===void 0?void 0:g.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async y=>this.emit("tauri://error",y))}static async getByLabel(e){var r;return(r=(await getAllWindows()).find(g=>g.label===e))!==null&&r!==void 0?r:null}static getCurrent(){return getCurrentWindow()}static async getAll(){return getAllWindows()}static async getFocusedWindow(){for(const e of await getAllWindows())if(await e.isFocused())return e;return null}async listen(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:listen(e,r,{target:{kind:"Window",label:this.label}})}async once(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:once(e,r,{target:{kind:"Window",label:this.label}})}async emit(e,r){if(localTauriEvents$1.includes(e)){for(const g of this.listeners[e]||[])g({event:e,id:-1,payload:r});return}return emit(e,r)}async emitTo(e,r,g){if(localTauriEvents$1.includes(r)){for(const y of this.listeners[r]||[])y({event:r,id:-1,payload:g});return}return emitTo(e,r,g)}_handleTauriEvent(e,r){return localTauriEvents$1.includes(e)?(e in this.listeners?this.listeners[e].push(r):this.listeners[e]=[r],!0):!1}async scaleFactor(){return invoke("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return invoke("plugin:window|inner_position",{label:this.label}).then(e=>new PhysicalPosition(e))}async outerPosition(){return invoke("plugin:window|outer_position",{label:this.label}).then(e=>new PhysicalPosition(e))}async innerSize(){return invoke("plugin:window|inner_size",{label:this.label}).then(e=>new PhysicalSize(e))}async outerSize(){return invoke("plugin:window|outer_size",{label:this.label}).then(e=>new PhysicalSize(e))}async isFullscreen(){return invoke("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return invoke("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return invoke("plugin:window|is_maximized",{label:this.label})}async isFocused(){return invoke("plugin:window|is_focused",{label:this.label})}async isDecorated(){return invoke("plugin:window|is_decorated",{label:this.label})}async isResizable(){return invoke("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return invoke("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return invoke("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return invoke("plugin:window|is_closable",{label:this.label})}async isVisible(){return invoke("plugin:window|is_visible",{label:this.label})}async title(){return invoke("plugin:window|title",{label:this.label})}async theme(){return invoke("plugin:window|theme",{label:this.label})}async center(){return invoke("plugin:window|center",{label:this.label})}async requestUserAttention(e){let r=null;return e&&(e===UserAttentionType.Critical?r={type:"Critical"}:r={type:"Informational"}),invoke("plugin:window|request_user_attention",{label:this.label,value:r})}async setResizable(e){return invoke("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return invoke("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return invoke("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return invoke("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return invoke("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return invoke("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return invoke("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return invoke("plugin:window|maximize",{label:this.label})}async unmaximize(){return invoke("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return invoke("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return invoke("plugin:window|minimize",{label:this.label})}async unminimize(){return invoke("plugin:window|unminimize",{label:this.label})}async show(){return invoke("plugin:window|show",{label:this.label})}async hide(){return invoke("plugin:window|hide",{label:this.label})}async close(){return invoke("plugin:window|close",{label:this.label})}async destroy(){return invoke("plugin:window|destroy",{label:this.label})}async setDecorations(e){return invoke("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return invoke("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return invoke("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return invoke("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return invoke("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return invoke("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return invoke("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return invoke("plugin:window|set_size",{label:this.label,value:e instanceof Size?e:new Size(e)})}async setMinSize(e){return invoke("plugin:window|set_min_size",{label:this.label,value:e instanceof Size?e:e?new Size(e):null})}async setMaxSize(e){return invoke("plugin:window|set_max_size",{label:this.label,value:e instanceof Size?e:e?new Size(e):null})}async setSizeConstraints(e){function r(g){return g?{Logical:g}:null}return invoke("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:r(e?.minWidth),minHeight:r(e?.minHeight),maxWidth:r(e?.maxWidth),maxHeight:r(e?.maxHeight)}})}async setPosition(e){return invoke("plugin:window|set_position",{label:this.label,value:e instanceof Position?e:new Position(e)})}async setFullscreen(e){return invoke("plugin:window|set_fullscreen",{label:this.label,value:e})}async setFocus(){return invoke("plugin:window|set_focus",{label:this.label})}async setIcon(e){return invoke("plugin:window|set_icon",{label:this.label,value:transformImage(e)})}async setSkipTaskbar(e){return invoke("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return invoke("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return invoke("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return invoke("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return invoke("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return invoke("plugin:window|set_cursor_position",{label:this.label,value:e instanceof Position?e:new Position(e)})}async setIgnoreCursorEvents(e){return invoke("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return invoke("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return invoke("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setProgressBar(e){return invoke("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return invoke("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return invoke("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return invoke("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(TauriEvent.WINDOW_RESIZED,r=>{r.payload=new PhysicalSize(r.payload),e(r)})}async onMoved(e){return this.listen(TauriEvent.WINDOW_MOVED,r=>{r.payload=new PhysicalPosition(r.payload),e(r)})}async onCloseRequested(e){return this.listen(TauriEvent.WINDOW_CLOSE_REQUESTED,async r=>{const g=new CloseRequestedEvent(r);await e(g),g.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const r=await this.listen(TauriEvent.DRAG_ENTER,$=>{e({...$,payload:{type:"enter",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),g=await this.listen(TauriEvent.DRAG_OVER,$=>{e({...$,payload:{type:"over",position:new PhysicalPosition($.payload.position)}})}),y=await this.listen(TauriEvent.DRAG_DROP,$=>{e({...$,payload:{type:"drop",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),k=await this.listen(TauriEvent.DRAG_LEAVE,$=>{e({...$,payload:{type:"leave"}})});return()=>{r(),y(),g(),k()}}async onFocusChanged(e){const r=await this.listen(TauriEvent.WINDOW_FOCUS,y=>{e({...y,payload:!0})}),g=await this.listen(TauriEvent.WINDOW_BLUR,y=>{e({...y,payload:!1})});return()=>{r(),g()}}async onScaleChanged(e){return this.listen(TauriEvent.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(TauriEvent.WINDOW_THEME_CHANGED,e)}};var Effect;(function(n){n.AppearanceBased="appearanceBased",n.Light="light",n.Dark="dark",n.MediumLight="mediumLight",n.UltraDark="ultraDark",n.Titlebar="titlebar",n.Selection="selection",n.Menu="menu",n.Popover="popover",n.Sidebar="sidebar",n.HeaderView="headerView",n.Sheet="sheet",n.WindowBackground="windowBackground",n.HudWindow="hudWindow",n.FullScreenUI="fullScreenUI",n.Tooltip="tooltip",n.ContentBackground="contentBackground",n.UnderWindowBackground="underWindowBackground",n.UnderPageBackground="underPageBackground",n.Mica="mica",n.Blur="blur",n.Acrylic="acrylic",n.Tabbed="tabbed",n.TabbedDark="tabbedDark",n.TabbedLight="tabbedLight"})(Effect||(Effect={}));var EffectState;(function(n){n.FollowsWindowActiveState="followsWindowActiveState",n.Active="active",n.Inactive="inactive"})(EffectState||(EffectState={}));function getCurrentWebview(){return new Webview(getCurrentWindow(),window.__TAURI_INTERNALS__.metadata.currentWebview.label,{skip:!0})}async function getAllWebviews(){return invoke("plugin:webview|get_all_webviews").then(n=>n.map(e=>new Webview(new Window$1(e.windowLabel,{skip:!0}),e.label,{skip:!0})))}const localTauriEvents=["tauri://created","tauri://error"];class Webview{constructor(e,r,g){this.window=e,this.label=r,this.listeners=Object.create(null),g?.skip||invoke("plugin:webview|create_webview",{windowLabel:e.label,label:r,options:g}).then(async()=>this.emit("tauri://created")).catch(async y=>this.emit("tauri://error",y))}static async getByLabel(e){var r;return(r=(await getAllWebviews()).find(g=>g.label===e))!==null&&r!==void 0?r:null}static getCurrent(){return getCurrentWebview()}static async getAll(){return getAllWebviews()}async listen(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:listen(e,r,{target:{kind:"Webview",label:this.label}})}async once(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:once(e,r,{target:{kind:"Webview",label:this.label}})}async emit(e,r){if(localTauriEvents.includes(e)){for(const g of this.listeners[e]||[])g({event:e,id:-1,payload:r});return}return emit(e,r)}async emitTo(e,r,g){if(localTauriEvents.includes(r)){for(const y of this.listeners[r]||[])y({event:r,id:-1,payload:g});return}return emitTo(e,r,g)}_handleTauriEvent(e,r){return localTauriEvents.includes(e)?(e in this.listeners?this.listeners[e].push(r):this.listeners[e]=[r],!0):!1}async position(){return invoke("plugin:webview|webview_position",{label:this.label}).then(e=>new PhysicalPosition(e))}async size(){return invoke("plugin:webview|webview_size",{label:this.label}).then(e=>new PhysicalSize(e))}async close(){return invoke("plugin:webview|close",{label:this.label})}async setSize(e){return invoke("plugin:webview|set_webview_size",{label:this.label,value:e instanceof Size?e:new Size(e)})}async setPosition(e){return invoke("plugin:webview|set_webview_position",{label:this.label,value:e instanceof Position?e:new Position(e)})}async setFocus(){return invoke("plugin:webview|set_webview_focus",{label:this.label})}async hide(){return invoke("plugin:webview|webview_hide",{label:this.label})}async show(){return invoke("plugin:webview|webview_show",{label:this.label})}async setZoom(e){return invoke("plugin:webview|set_webview_zoom",{label:this.label,value:e})}async reparent(e){return invoke("plugin:webview|reparent",{label:this.label,window:typeof e=="string"?e:e.label})}async clearAllBrowsingData(){return invoke("plugin:webview|clear_all_browsing_data")}async setBackgroundColor(e){return invoke("plugin:webview|set_webview_background_color",{color:e})}async onDragDropEvent(e){const r=await this.listen(TauriEvent.DRAG_ENTER,$=>{e({...$,payload:{type:"enter",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),g=await this.listen(TauriEvent.DRAG_OVER,$=>{e({...$,payload:{type:"over",position:new PhysicalPosition($.payload.position)}})}),y=await this.listen(TauriEvent.DRAG_DROP,$=>{e({...$,payload:{type:"drop",paths:$.payload.paths,position:new PhysicalPosition($.payload.position)}})}),k=await this.listen(TauriEvent.DRAG_LEAVE,$=>{e({...$,payload:{type:"leave"}})});return()=>{r(),y(),g(),k()}}}function getCurrentWebviewWindow(){const n=getCurrentWebview();return new WebviewWindow(n.label,{skip:!0})}async function getAllWebviewWindows(){return invoke("plugin:window|get_all_windows").then(n=>n.map(e=>new WebviewWindow(e,{skip:!0})))}class WebviewWindow{constructor(e,r={}){var g;this.label=e,this.listeners=Object.create(null),r?.skip||invoke("plugin:webview|create_webview_window",{options:{...r,parent:typeof r.parent=="string"?r.parent:(g=r.parent)===null||g===void 0?void 0:g.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async y=>this.emit("tauri://error",y))}static async getByLabel(e){var r;const g=(r=(await getAllWebviewWindows()).find(y=>y.label===e))!==null&&r!==void 0?r:null;return g?new WebviewWindow(g.label,{skip:!0}):null}static getCurrent(){return getCurrentWebviewWindow()}static async getAll(){return getAllWebviewWindows()}async listen(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:listen(e,r,{target:{kind:"WebviewWindow",label:this.label}})}async once(e,r){return this._handleTauriEvent(e,r)?()=>{const g=this.listeners[e];g.splice(g.indexOf(r),1)}:once(e,r,{target:{kind:"WebviewWindow",label:this.label}})}async setBackgroundColor(e){return invoke("plugin:window|set_background_color",{color:e}).then(()=>invoke("plugin:webview|set_webview_background_color",{color:e}))}}applyMixins(WebviewWindow,[Window$1,Webview]);function applyMixins(n,e){(Array.isArray(e)?e:[e]).forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(g=>{var y;typeof n.prototype=="object"&&n.prototype&&g in n.prototype||Object.defineProperty(n.prototype,g,(y=Object.getOwnPropertyDescriptor(r.prototype,g))!==null&&y!==void 0?y:Object.create(null))})})}const _withScopeId$9=n=>(pushScopeId("data-v-81ae2591"),n=n(),popScopeId(),n),_hoisted_1$T={class:"tool-bar"},_hoisted_2$S=_withScopeId$9(()=>createBaseVNode("span",{class:"to-list-label"},"",-1)),base$1="/fontplayer_demo",_sfc_main$U=defineComponent({__name:"ToolBar",setup(n){const e=async ae=>{if(tool.value==="grid"&&ae!=="grid"&&ElMessageBox.alert("","",{confirmButtonText:""}),ae!=="picture"&&(saveState("",[StoreType.Tools],OpType.Undo),setTool(ae)),ae==="picture")if(saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo),ENV.value==="tauri"){const de=await nativeImportFile(["jpg","png","jpeg"]),{name:ue,uint8Array:pe}=de;if(!pe)return;let he="";pe.forEach(Ce=>{he+=String.fromCharCode(Ce)});const Oe=btoa(he),$e=`data:${ue.split(".")[1]==="png"?"imge/png":"image/jpeg"};base64,${Oe}`,Ne=await genPictureComponent($e,selectedFile.value.width,selectedFile.value.height);editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(Ne):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(Ne)}else{const de=document.createElement("input");de.setAttribute("type","file"),de.setAttribute("style","display: none"),de.setAttribute("accept","image/*"),de.addEventListener("change",async ue=>{const he=ue.currentTarget.files;for(let Oe=0;Oe<he.length;Oe++){const xe=window.URL.createObjectURL(he[Oe]),$e=await genPictureComponent(xe,selectedFile.value.width,selectedFile.value.height);editStatus.value===Status.Edit?addComponentForCurrentCharacterFile($e):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph($e)}document.body.removeChild(de)}),document.body.appendChild(de),de.click()}},r=()=>{setEditStatus(prevStatus.value)};let g=!1;const y=async()=>{if(!g){if(ENV.value==="web")editStatus.value===Status.Edit?(window.__constants=constants.value,window.__script=editCharacterFile.value.script,window.__is_web=ENV.value==="web",window.addEventListener("message",oe),window.open(`${location.origin}${base$1}/#/character-programming-editor`,"character",`popup,width=1280,height=800,left=${(screen.width-1280)/2}`)):editStatus.value===Status.Glyph&&(window.__constants=constants.value,window.__parameters=editGlyph.value.parameters.parameters,window.__script=editGlyph.value.script,window.__is_web=ENV.value==="web",window.addEventListener("message",oe),window.open(`${location.origin}${base$1}/#/glyph-programming-editor`,"custom-glyph",`popup,width=1280,height=800,left=${(screen.width-1280)/2}`));else if(ENV.value==="tauri"){if(editStatus.value===Status.Edit){const ae={url:`${location.origin}${location.pathname}#/character-programming-editor`,width:1280,height:800,x:(screen.width-1280)/2,y:(screen.height-800)/2},de=new WebviewWindow("character-script",ae);de.once("tauri://created",async()=>{console.log("webview created")}),de.once("tauri://error",function(ue){console.log("error creating webview",ue)})}else if(editStatus.value===Status.Glyph){const ae={url:`${location.origin}${location.pathname}#/glyph-programming-editor`,width:1280,height:800,x:(screen.width-1280)/2,y:(screen.height-800)/2},de=new WebviewWindow("glyph-script",ae);de.once("tauri://created",async()=>{console.log("webview created")}),de.once("tauri://error",function(ue){console.log("error creating webview",ue)})}}}};let k=null,$=null,V=null,L=null,z=!1;onMounted(()=>{ENV.value==="tauri"&&(k=listen("on-webview-mounted",async ae=>{editStatus.value===Status.Edit?await emit("init-data",{__constants:constants.value,__script:editCharacterFile.value.script,__isWeb:ENV.value==="web"}):editStatus.value===Status.Glyph&&await emit("init-data",{__constants:constants.value,__parameters:editGlyph.value.parameters.parameters,__script:editGlyph.value.script,__isWeb:ENV.value==="web"})}),$=listen("sync-info",async ae=>{z||re(),z=!0;const{__constants:de,__parameters:ue,__script:pe}=ae.payload;editStatus.value===Status.Glyph?(editGlyph.value.parameters.parameters=ue,constants.value=de,editGlyph.value.script=pe):editStatus.value===Status.Edit&&(constants.value=de,editCharacterFile.value.script=pe)}),V=listen("execute-script",async ae=>{editStatus.value===Status.Glyph?(executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0)):editStatus.value===Status.Edit&&(executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0))}),L=listen("on-webview-close",()=>{j()}))});const j=()=>{z=!1,g=!1},re=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{undoTip:"",redoTip:"",newRecord:!0})};onUnmounted(()=>{k&&k(),$&&$(),V&&V(),L&&L()});const oe=ae=>{ae.data==="sync-info"?(z||re(),z=!0,editStatus.value===Status.Glyph?(editGlyph.value.parameters.parameters=JSON.parse(localStorage.getItem("parameters")),constants.value=JSON.parse(localStorage.getItem("constants")),editGlyph.value.script=localStorage.getItem("script")):editStatus.value===Status.Edit&&(constants.value=JSON.parse(localStorage.getItem("constants")),editCharacterFile.value.script=localStorage.getItem("script"))):ae.data==="execute-script"?editStatus.value===Status.Glyph?(executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0)):editStatus.value===Status.Edit&&(executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0)):ae.data==="close-window"&&j()};return(ae,de)=>{const ue=resolveComponent("font-awesome-icon"),pe=resolveComponent("el-icon"),he=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$T,[createVNode(he,{class:"tool-bar-row"},{default:withCtx(()=>[createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="select"}),onClick:de[0]||(de[0]=Oe=>e("select"))},{default:withCtx(()=>[createVNode(ue,{icon:"fa-solid fa-arrow-pointer"})]),_:1},8,["class"]),createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="pen"}),onClick:de[1]||(de[1]=Oe=>e("pen"))},{default:withCtx(()=>[createVNode(ue,{icon:"fa-solid fa-pen-nib"})]),_:1},8,["class"]),createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="ellipse"}),onClick:de[2]||(de[2]=Oe=>e("ellipse"))},{default:withCtx(()=>[createVNode(ue,{icon:"fa-regular fa-circle"})]),_:1},8,["class"]),createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="rectangle"}),onClick:de[3]||(de[3]=Oe=>e("rectangle"))},{default:withCtx(()=>[createVNode(ue,{icon:"fa-regular fa-square"})]),_:1},8,["class"]),createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="polygon"}),onClick:de[4]||(de[4]=Oe=>e("polygon"))},{default:withCtx(()=>[createVNode(ue,{icon:"fa-solid fa-draw-polygon"})]),_:1},8,["class"]),withDirectives(createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="picture"}),onClick:de[5]||(de[5]=Oe=>e("picture"))},{default:withCtx(()=>[createVNode(ue,{icon:"fa-solid fa-image"})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit]]),withDirectives(createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="glyph"}),onClick:de[6]||(de[6]=Oe=>glyphComponentsDialogVisible2.value=!0)},{default:withCtx(()=>[createVNode(ue,{icon:["fas","font"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Glyph]]),withDirectives(createVNode(pe,{class:"code-icon",onClick:y},{default:withCtx(()=>[createVNode(ue,{icon:["fas","terminal"]})]),_:1},512),[[vShow,unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Glyph]]),withDirectives(createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="params"}),onClick:de[7]||(de[7]=Oe=>e("params"))},{default:withCtx(()=>[createVNode(ue,{icon:["fas","sliders"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Glyph]]),withDirectives(createVNode(pe,{class:normalizeClass({"tool-icon":!0,selected:unref(tool)==="grid"}),onClick:de[8]||(de[8]=Oe=>e("grid"))},{default:withCtx(()=>[createVNode(ue,{icon:["fas","table-cells"]})]),_:1},8,["class"]),[[vShow,unref(editStatus)===unref(Status).Edit]]),createBaseVNode("div",{class:"to-list",onClick:r},[createVNode(pe,{class:"to-list-icon"},{default:withCtx(()=>[createVNode(unref(grid_default))]),_:1}),_hoisted_2$S])]),_:1})])}}}),ToolBar=_export_sfc(_sfc_main$U,[["__scopeId","data-v-81ae2591"]]),_hoisted_1$S={class:"list-wrapper"},_hoisted_2$R={key:0,class:"all-components-list"},_hoisted_3$u={class:"component-item-wrapper"},_hoisted_4$r=["onDragstart","onDragover","onDragend","onDrop","onClick","onContextmenu"],_hoisted_5$o={class:"name"},_hoisted_6$l={class:"tool-wrapper"},_hoisted_7$k={class:"component-menu"},_hoisted_8$j=["onClick"],_hoisted_9$j=["onClick"],_hoisted_10$h=["onClick"],_hoisted_11$g=["onClick"],_hoisted_12$e={key:0,class:"font-components-list"},_hoisted_13$e={class:"component-item-wrapper"},_hoisted_14$d=["onClick"],_hoisted_15$b={class:"name"},_hoisted_16$9={class:"tool-wrapper"},_hoisted_17$7={class:"component-menu"},_hoisted_18$6=["onClick"],_hoisted_19$6=["onClick"],_hoisted_20$5=["onClick"],_hoisted_21$5=["onClick"],_sfc_main$T=defineComponent({__name:"CharacterComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const Ne={};return orderedListWithItemsForCurrentCharacterFile.value.map(Ce=>{Ne[Ce.uuid]=!1}),Ne})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=(Ne,Ce)=>{modifyComponentForCurrentCharacterFile(Ne,{lock:Ce})},z=(Ne,Ce)=>{modifyComponentForCurrentCharacterFile(Ne,{visible:Ce})},j=(Ne,Ce,Fe)=>{Fe==="pucture"||Fe==="pressPen"||modifyComponentForCurrentCharacterFile(Ne,{usedInCharacter:Ce})},re=(Ne,Ce)=>{let Fe=!0;(!selectedComponent.value||selectedComponent.value&&selectedComponent.value.uuid!==Ce)&&(Fe=!1),setSelectionForCurrentCharacterFile(Ce);const ze=selectedItemByUUID(editCharacterFile.value.components,Ce);if(ze.type==="glyph"&&ze.value.components&&ze.value.components.length){let kt=!1;for(let At=0;At<ze.value.components.length;At++)if(ze.value.components[At].type==="glyph"){kt=!0;break}kt&&Fe&&(editCharacterFile.value.selectedComponentsTree||(editCharacterFile.value.selectedComponentsTree=[]),editCharacterFile.value.selectedComponentsTree.push(Ce),editCharacterFile.value.selectedComponentsTree.push("null"))}ze.type==="glyph"&&setTool("glyphDragger")},oe=(Ne,Ce)=>{y=Ce},ae=(Ne,Ce)=>{Ne.preventDefault();const Fe=orderedListForCurrentCharacterFile.value;for(let ze=0;ze<Fe.length;ze++)y===Fe[ze].uuid&&(k=ze),Ce===Fe[ze].uuid&&($=ze);Ne.offsetY<Ne.target.offsetHeight/2?V=$:Ne.offsetY>Ne.target.offsetHeight/2&&(V=$+1)},de=(Ne,Ce)=>{y="",y="",k=-1,$=-1,V=-1},ue=(Ne,Ce)=>{const Fe=clone$1(orderedListForCurrentCharacterFile.value);k!==$&&(Fe.splice(k,1),k<=V&&(V-=1),Fe.splice(V,0,{type:"component",uuid:y}),setOrderedListForCurrentCharacterFile(Fe))},pe=Ne=>{if(!selectedComponents.value||!selectedComponents.value.length){const Ce=selectedItemByUUID(editCharacterFile.value.components,Ne);setClipBoard(clone$1(Ce)),removeComponentForCurrentCharacterFile(Ne)}else{let Ce=!1;if(selectedComponents.value)for(let Fe=0;Fe<selectedComponents.value?.length;Fe++)selectedComponents.value[Fe].uuid===Ne&&(Ce=!0);if(Ce)setClipBoard(clone$1(selectedComponents.value)),selectedComponents.value.map(Fe=>{removeComponentForCurrentCharacterFile(Fe.uuid)});else{const Fe=selectedItemByUUID(editCharacterFile.value.components,Ne);setClipBoard(clone$1(Fe)),removeComponentForCurrentCharacterFile(Ne)}}setSelectionForCurrentCharacterFile(""),g.value=!1,r[Ne]=!1},he=Ne=>{if(!selectedComponents.value||!selectedComponents.value.length){const Ce=selectedItemByUUID(editCharacterFile.value.components,Ne);setClipBoard(clone$1(Ce))}else{let Ce=!1;if(selectedComponents.value)for(let Fe=0;Fe<selectedComponents.value?.length;Fe++)selectedComponents.value[Fe].uuid===Ne&&(Ce=!0);if(Ce)setClipBoard(clone$1(selectedComponents.value));else{const Fe=selectedItemByUUID(editCharacterFile.value.components,Ne);setClipBoard(clone$1(Fe))}}g.value=!1,r[Ne]=!1},Oe=Ne=>{const Ce=clipBoard.value;for(let Fe=Ce.length-1;Fe>=0;Fe--){const ze=Ce[Fe];ze.uuid=genUUID(),insertComponentForCurrentCharacterFile(ze,{uuid:Ne,pos:"next"})}setClipBoard([]),g.value=!1,r[Ne]=!1},xe=Ne=>{if(!selectedComponents.value||!selectedComponents.value.length)removeComponentForCurrentCharacterFile(Ne);else{let Ce=!1;if(selectedComponents.value)for(let Fe=0;Fe<selectedComponents.value?.length;Fe++)selectedComponents.value[Fe].uuid===Ne&&(Ce=!0);Ce?selectedComponents.value.map(Fe=>{removeComponentForCurrentCharacterFile(Fe.uuid)}):removeComponentForCurrentCharacterFile(Ne)}setSelectionForCurrentCharacterFile(""),g.value=!1,r[Ne]=!1},$e=(Ne,Ce)=>{if(Ne.preventDefault(),g.value)return;g.value=!0,r[Ce]=!0;const Fe=ze=>{ze.target.closest(".component.menu")||(g.value=!1,r[Ce]=!1)};document.addEventListener("mousedown",Fe)};return(Ne,Ce)=>{const Fe=resolveComponent("el-icon"),ze=resolveComponent("el-popover"),kt=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$S,[unref(editPanelCompFilter)==="all"?(openBlock(),createBlock(kt,{key:0},{default:withCtx(()=>[unref(editPanelCompFilter)==="all"?(openBlock(),createElementBlock("div",_hoisted_2$R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(orderedListWithItemsForCurrentCharacterFile),At=>(openBlock(),createElementBlock("div",_hoisted_3$u,[createVNode(ze,{placement:"right",width:200,trigger:"manual",visible:r[At.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs).indexOf(At.uuid)!==-1}),draggable:!0,onDragstart:Cn=>oe(Cn,At.uuid),onDragover:Cn=>ae(Cn,At.uuid),onDragend:Cn=>de(Cn,At.uuid),onDrop:Cn=>ue(Cn,At.uuid),onClick:Cn=>re(Cn,At.uuid),onContextmenu:Cn=>$e(Cn,At.uuid)},[createBaseVNode("span",_hoisted_5$o,toDisplayString$1(At.name||At.type),1),createBaseVNode("span",_hoisted_6$l,[createVNode(Fe,{class:"tool-icon used-in-character",onClick:Cn=>j(At.uuid,!At.usedInCharacter,At.type)},{default:withCtx(()=>[At.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),At.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon lock",onClick:Cn=>L(At.uuid,!At.lock)},{default:withCtx(()=>[At.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),At.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon visible",onClick:Cn=>z(At.uuid,!At.visible)},{default:withCtx(()=>[At.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),At.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onClick"])])],42,_hoisted_4$r)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$k,[createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>pe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),9,_hoisted_8$j),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>he(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),9,_hoisted_9$j),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>Oe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),9,_hoisted_10$h),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>xe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),9,_hoisted_11$g)])]),_:2},1032,["visible"])]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),unref(editPanelCompFilter)==="font"?(openBlock(),createBlock(kt,{key:1},{default:withCtx(()=>[unref(editPanelCompFilter)==="font"?(openBlock(),createElementBlock("div",_hoisted_12$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(usedComponents),At=>(openBlock(),createElementBlock("div",_hoisted_13$e,[createVNode(ze,{placement:"right",width:200,trigger:"contextmenu"},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs).indexOf(At.uuid)!==-1}),onClick:Cn=>re(Cn,At.uuid)},[createBaseVNode("span",_hoisted_15$b,toDisplayString$1(At.name||At.type),1),createBaseVNode("span",_hoisted_16$9,[createVNode(Fe,{class:"tool-icon used-in-character",onClick:Cn=>j(At.uuid,!At.usedInCharacter,At.type)},{default:withCtx(()=>[At.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),At.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon lock",onClick:Cn=>L(At.uuid,!At.lock)},{default:withCtx(()=>[At.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),At.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon visible",onClick:Cn=>z(At.uuid,!At.visible)},{default:withCtx(()=>[At.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),At.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onClick"])])],10,_hoisted_14$d)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_17$7,[createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>pe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),9,_hoisted_18$6),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>he(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),9,_hoisted_19$6),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>Oe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),9,_hoisted_20$5),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>xe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),9,_hoisted_21$5)])]),_:2},1024)]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)])}}}),CharacterComponentList=_export_sfc(_sfc_main$T,[["__scopeId","data-v-a892b447"]]),_hoisted_1$R={class:"list-wrapper"},_hoisted_2$Q={key:0,class:"all-components-list"},_hoisted_3$t={class:"component-item-wrapper"},_hoisted_4$q=["onDragstart","onDragover","onDragend","onDrop","onClick","onContextmenu"],_hoisted_5$n={class:"name"},_hoisted_6$k={class:"tool-wrapper"},_hoisted_7$j={class:"component-menu"},_hoisted_8$i=["onClick"],_hoisted_9$i=["onClick"],_hoisted_10$g=["onClick"],_hoisted_11$f=["onClick"],_hoisted_12$d={key:0,class:"font-components-list"},_hoisted_13$d={class:"component-item-wrapper"},_hoisted_14$c=["onClick"],_hoisted_15$a={class:"name"},_hoisted_16$8={class:"tool-wrapper"},_hoisted_17$6={class:"component-menu"},_hoisted_18$5=["onClick"],_hoisted_19$5=["onClick"],_hoisted_20$4=["onClick"],_hoisted_21$4=["onClick"],_sfc_main$S=defineComponent({__name:"GlyphComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const Ne={};return orderedListWithItemsForCurrentGlyph.value.map(Ce=>{Ne[Ce.uuid]=!1}),Ne})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=(Ne,Ce)=>{modifyComponentForCurrentGlyph(Ne,{lock:Ce})},z=(Ne,Ce)=>{modifyComponentForCurrentGlyph(Ne,{visible:Ce})},j=(Ne,Ce,Fe)=>{Fe==="pucture"||Fe==="pressPen"||modifyComponentForCurrentGlyph(Ne,{usedInCharacter:Ce})},re=(Ne,Ce)=>{let Fe=!0;(!selectedComponent$1.value||selectedComponent$1.value&&selectedComponent$1.value.uuid!==Ce)&&(Fe=!1),setSelectionForCurrentGlyph(Ce);const ze=selectedItemByUUID(editGlyph.value.components,Ce);if(ze.type==="glyph"&&ze.value.components&&ze.value.components.length){let kt=!1;for(let At=0;At<ze.value.components.length;At++)if(ze.value.components[At].type==="glyph"){kt=!0;break}kt&&Fe&&(editGlyph.value.selectedComponentsTree||(editGlyph.value.selectedComponentsTree=[]),editGlyph.value.selectedComponentsTree.push(Ce),editGlyph.value.selectedComponentsTree.push("null"))}else ze.type==="glyph"&&setTool("glyphDragger")},oe=(Ne,Ce)=>{y=Ce},ae=(Ne,Ce)=>{Ne.preventDefault();const Fe=orderedListForCurrentGlyph.value;for(let ze=0;ze<Fe.length;ze++)y===Fe[ze].uuid&&(k=ze),Ce===Fe[ze].uuid&&($=ze);Ne.offsetY<Ne.target.offsetHeight/2?V=$:Ne.offsetY>Ne.target.offsetHeight/2&&(V=$+1)},de=(Ne,Ce)=>{y="",y="",k=-1,$=-1,V=-1},ue=(Ne,Ce)=>{const Fe=clone$1(orderedListForCurrentGlyph.value);k!==$&&(Fe.splice(k,1),k<=V&&(V-=1),Fe.splice(V,0,{type:"component",uuid:y}),setOrderedListForCurrentGlyph(Fe))},pe=Ne=>{if(!selectedComponents$1.value||!selectedComponents$1.value.length){const Ce=selectedItemByUUID(editGlyph.value.components,Ne);setClipBoard(clone$1(Ce)),removeComponentForCurrentGlyph(Ne)}else{let Ce=!1;if(selectedComponents$1.value)for(let Fe=0;Fe<selectedComponents$1.value?.length;Fe++)selectedComponents$1.value[Fe].uuid===Ne&&(Ce=!0);if(Ce)setClipBoard(clone$1(selectedComponents$1.value)),selectedComponents$1.value.map(Fe=>{removeComponentForCurrentGlyph(Fe.uuid)});else{const Fe=selectedItemByUUID(editGlyph.value.components,Ne);setClipBoard(clone$1(Fe)),removeComponentForCurrentGlyph(Ne)}}setSelectionForCurrentGlyph(""),g.value=!1,r[Ne]=!1},he=Ne=>{if(!selectedComponents$1.value||!selectedComponents$1.value.length){const Ce=selectedItemByUUID(editGlyph.value.components,Ne);setClipBoard(clone$1(Ce))}else{let Ce=!1;if(selectedComponents$1.value)for(let Fe=0;Fe<selectedComponents$1.value?.length;Fe++)selectedComponents$1.value[Fe].uuid===Ne&&(Ce=!0);if(Ce)setClipBoard(clone$1(selectedComponents$1.value));else{const Fe=selectedItemByUUID(editGlyph.value.components,Ne);setClipBoard(clone$1(Fe))}}g.value=!1,r[Ne]=!1},Oe=Ne=>{const Ce=clipBoard.value;for(let Fe=Ce.length-1;Fe>=0;Fe--){const ze=Ce[Fe];ze.uuid=genUUID(),insertComponentForCurrentGlyph(ze,{uuid:Ne,pos:"next"})}setClipBoard([]),g.value=!1,r[Ne]=!1},xe=Ne=>{if(r[Ne]=!1,!selectedComponents$1.value||!selectedComponents$1.value.length)removeComponentForCurrentGlyph(Ne);else{let Ce=!1;if(selectedComponents$1.value)for(let Fe=0;Fe<selectedComponents$1.value?.length;Fe++)selectedComponents$1.value[Fe].uuid===Ne&&(Ce=!0);Ce?selectedComponents$1.value.map(Fe=>{removeComponentForCurrentGlyph(Fe.uuid)}):removeComponentForCurrentGlyph(Ne)}setSelectionForCurrentGlyph(""),g.value=!1},$e=(Ne,Ce)=>{if(Ne.preventDefault(),g.value)return;g.value=!0,r[Ce]=!0;const Fe=ze=>{ze.target.closest(".component.menu")||(g.value=!1,r[Ce]=!1)};document.addEventListener("mousedown",Fe)};return(Ne,Ce)=>{const Fe=resolveComponent("el-icon"),ze=resolveComponent("el-popover"),kt=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$R,[unref(editPanelCompFilter)==="all"?(openBlock(),createBlock(kt,{key:0},{default:withCtx(()=>[unref(editPanelCompFilter)==="all"?(openBlock(),createElementBlock("div",_hoisted_2$Q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(orderedListWithItemsForCurrentGlyph),At=>(openBlock(),createElementBlock("div",_hoisted_3$t,[createVNode(ze,{placement:"right",width:200,trigger:"manual",inert:"",visible:r[At.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs$1).indexOf(At.uuid)!==-1}),draggable:!0,onDragstart:Cn=>oe(Cn,At.uuid),onDragover:Cn=>ae(Cn,At.uuid),onDragend:Cn=>de(Cn,At.uuid),onDrop:Cn=>ue(Cn,At.uuid),onClick:Cn=>re(Cn,At.uuid),onContextmenu:Cn=>$e(Cn,At.uuid)},[createBaseVNode("span",_hoisted_5$n,toDisplayString$1(At.name||At.type),1),createBaseVNode("span",_hoisted_6$k,[createVNode(Fe,{class:"tool-icon used-in-character",onClick:Cn=>j(At.uuid,!At.usedInCharacter,At.type)},{default:withCtx(()=>[At.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),At.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon lock",onClick:Cn=>L(At.uuid,!At.lock)},{default:withCtx(()=>[At.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),At.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon visible",onClick:Cn=>z(At.uuid,!At.visible)},{default:withCtx(()=>[At.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),At.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onClick"])])],42,_hoisted_4$q)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$j,[createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>pe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),9,_hoisted_8$i),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>he(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),9,_hoisted_9$i),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>Oe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),9,_hoisted_10$g),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>xe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),9,_hoisted_11$f)])]),_:2},1032,["visible"])]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),unref(editPanelCompFilter)==="font"?(openBlock(),createBlock(kt,{key:1},{default:withCtx(()=>[unref(editPanelCompFilter)==="font"?(openBlock(),createElementBlock("div",_hoisted_12$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(usedComponents$1),At=>(openBlock(),createElementBlock("div",_hoisted_13$d,[createVNode(ze,{placement:"right",width:200,trigger:"contextmenu"},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedComponentsUUIDs$1).indexOf(At.uuid)!==-1}),onClick:Cn=>re(Cn,At.uuid)},[createBaseVNode("span",_hoisted_15$a,toDisplayString$1(At.name||At.type),1),createBaseVNode("span",_hoisted_16$8,[createVNode(Fe,{class:"tool-icon used-in-character",onClick:Cn=>j(At.uuid,!At.usedInCharacter,At.type)},{default:withCtx(()=>[At.usedInCharacter?(openBlock(),createBlock(unref(circle_check_default),{key:0})):createCommentVNode("",!0),At.usedInCharacter?createCommentVNode("",!0):(openBlock(),createBlock(unref(circle_close_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon lock",onClick:Cn=>L(At.uuid,!At.lock)},{default:withCtx(()=>[At.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),At.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"tool-icon visible",onClick:Cn=>z(At.uuid,!At.visible)},{default:withCtx(()=>[At.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),At.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onClick"])])],10,_hoisted_14$c)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_17$6,[createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>pe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.cut")),9,_hoisted_18$5),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>he(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.copy")),9,_hoisted_19$5),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>Oe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.paste")),9,_hoisted_20$4),createBaseVNode("div",{class:"component-menu-item",onClick:Cn=>xe(At.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),9,_hoisted_21$4)])]),_:2},1024)]))),256))])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)])}}}),GlyphComponentList=_export_sfc(_sfc_main$S,[["__scopeId","data-v-af1b6de2"]]),_hoisted_1$Q={class:"view-list-wrapper"},_hoisted_2$P={class:"view-thumbnail"},_hoisted_3$s={class:"view-info"},_hoisted_4$p={class:"view-title"},_hoisted_5$m={class:"view-description"},_hoisted_6$j={class:"view-thumbnail"},_hoisted_7$i={class:"view-info"},_hoisted_8$h={class:"view-title"},_hoisted_9$h={class:"view-description"},_hoisted_10$f={class:"view-thumbnail"},_hoisted_11$e=["width","height"],_hoisted_12$c={class:"view-info"},_hoisted_13$c={class:"view-title"},_hoisted_14$b={class:"view-description"},_hoisted_15$9={class:"view-thumbnail"},_hoisted_16$7=["width","height"],_hoisted_17$5={class:"view-info"},_hoisted_18$4={class:"view-title"},_hoisted_19$4={class:"view-description"},_hoisted_20$3={class:"view-thumbnail"},_hoisted_21$3=["width","height"],_hoisted_22$3={class:"view-info"},_hoisted_23$3={class:"view-title"},_hoisted_24$3={class:"view-description"},_sfc_main$R=defineComponent({__name:"ViewList",setup(n){const{t:e}=useI18n(),r=ref(null),g=ref(null),y=ref(null),k=ref(null),$=ref(null),V=()=>{const de=editCharacterPic.value.width,ue=editCharacterPic.value.height;let pe=68,he=pe*ue/de;he>68&&(he=68,pe=he*de/ue),r.value.width=mapCanvasWidth(de),r.value.height=mapCanvasHeight(ue),r.value.style.width=`${pe}px`,r.value.style.height=`${he}px`,r.value.height=mapCanvasHeight(ue),g.value.width=mapCanvasWidth(de),g.value.height=mapCanvasHeight(ue),g.value.style.width=`${pe}px`,g.value.style.height=`${he}px`},L=()=>{const de=r.value.getContext("2d"),{img:ue,width:pe,height:he}=editCharacterPic.value,Oe=ue;de.drawImage(Oe,0,0,Oe.width,Oe.height,0,0,mapCanvasWidth(pe),mapCanvasWidth(he))},z=()=>{const de=g.value.getContext("2d"),{data:ue,width:pe,height:he}=bitmap.value;for(let Oe=0;Oe<pe;Oe++)for(let xe=0;xe<he;xe++){const $e=(xe*pe+Oe)*4,Ne=`rgba(${ue[$e]}, ${ue[$e+1]}, ${ue[$e]+2}, ${ue[$e+3]})`;de.fillStyle=Ne,de.fillRect(mapCanvasX(Oe),mapCanvasY(xe),mapCanvasWidth(1),mapCanvasHeight(1))}},j=()=>{const de=contoursComponents.value.map(ue=>{const pe=clone$1(ue);return pe.value.fillColor="rgba(1, 1, 1, 0)",pe});clearCanvas(y.value),renderCanvas(de,y.value)},re=()=>{const de=curvesComponents.value.map(ue=>{const pe=clone$1(ue);return pe.value.fillColor="rgba(1, 1, 1, 0)",pe});clearCanvas(k.value),renderCanvas(de,k.value)},oe=()=>{clearCanvas($.value),renderCanvas(curvesComponents.value,$.value,{fill:!0,offset:{x:0,y:0},scale:1,forceUpdate:!1})},ae=()=>{oe(),L(),z(),j(),re()};return onMounted(()=>{V(),window.addEventListener("resize",V),ae()}),watch([editCharacterPic,bitmap,contoursComponents,curvesComponents],()=>{ae()}),onBeforeUnmount(()=>{window.removeEventListener("resize",V)}),(de,ue)=>(openBlock(),createElementBlock("div",_hoisted_1$Q,[createBaseVNode("div",{class:"view-item-wrapper",onClick:ue[0]||(ue[0]=pe=>previewStatus.value=0)},[createBaseVNode("span",_hoisted_2$P,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"thumbnailCanvas",ref:r},null,512)]),createBaseVNode("span",_hoisted_3$s,[createBaseVNode("span",_hoisted_4$p,toDisplayString$1(unref(e)("panels.viewList.thumbnail.title")),1),createBaseVNode("span",_hoisted_5$m,toDisplayString$1(unref(e)("panels.viewList.thumbnail.description")),1)])]),createBaseVNode("div",{class:"view-item-wrapper",onClick:ue[1]||(ue[1]=pe=>previewStatus.value=1)},[createBaseVNode("span",_hoisted_6$j,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"bitmapCanvas",ref:g},null,512)]),createBaseVNode("span",_hoisted_7$i,[createBaseVNode("span",_hoisted_8$h,toDisplayString$1(unref(e)("panels.viewList.bitmap.title")),1),createBaseVNode("span",_hoisted_9$h,toDisplayString$1(unref(e)("panels.viewList.bitmap.description")),1)])]),createBaseVNode("div",{class:"view-item-wrapper",onClick:ue[2]||(ue[2]=pe=>previewStatus.value=2)},[createBaseVNode("span",_hoisted_10$f,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"contoursCanvas",ref:y,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_11$e)]),createBaseVNode("span",_hoisted_12$c,[createBaseVNode("span",_hoisted_13$c,toDisplayString$1(unref(e)("panels.viewList.contours.title")),1),createBaseVNode("span",_hoisted_14$b,toDisplayString$1(unref(e)("panels.viewList.contours.description")),1)])]),createBaseVNode("div",{class:"view-item-wrapper",onClick:ue[3]||(ue[3]=pe=>previewStatus.value=3)},[createBaseVNode("span",_hoisted_15$9,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"curvesCanvas",ref:k,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_16$7)]),createBaseVNode("span",_hoisted_17$5,[createBaseVNode("span",_hoisted_18$4,toDisplayString$1(unref(e)("panels.viewList.curves.title")),1),createBaseVNode("span",_hoisted_19$4,toDisplayString$1(unref(e)("panels.viewList.curves.description")),1)])]),createBaseVNode("div",{class:"view-item-wrapper",onClick:ue[4]||(ue[4]=pe=>previewStatus.value=4)},[createBaseVNode("span",_hoisted_20$3,[createBaseVNode("canvas",{class:"view-canvas",ref_key:"previewCanvas",ref:$,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_21$3)]),createBaseVNode("span",_hoisted_22$3,[createBaseVNode("span",_hoisted_23$3,toDisplayString$1(unref(e)("panels.viewList.preview.title")),1),createBaseVNode("span",_hoisted_24$3,toDisplayString$1(unref(e)("panels.viewList.preview.description")),1)])])]))}}),ViewList=_export_sfc(_sfc_main$R,[["__scopeId","data-v-0b7d1a6e"]]),_hoisted_1$P={class:"list-wrapper"},_hoisted_2$O={class:"root-sub-component"},_hoisted_3$r={class:"all-components-list"},_hoisted_4$o={class:"component-item-wrapper"},_hoisted_5$l=["onDragstart","onDragover","onDragend","onDrop","onClick","onContextmenu"],_hoisted_6$i={class:"type"},_hoisted_7$h={class:"tool-wrapper"},_hoisted_8$g={class:"component-menu"},_hoisted_9$g=["onClick"],_sfc_main$Q=defineComponent({__name:"CharacterSubComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const xe={};return orderedListWithItemsForCurrentCharacterFile.value.map($e=>{xe[$e.uuid]=!1}),xe})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=(xe,$e)=>{const Ne=selectedItemByUUID(SubComponentsRoot.value.value.components,xe);Ne.lock=$e},z=(xe,$e)=>{const Ne=selectedItemByUUID(SubComponentsRoot.value.value.components,xe);Ne.visible=$e},j=(xe,$e)=>{if(!editCharacterFile.value.selectedComponentsTree||editCharacterFile.value.selectedComponentsTree.length<2)return;editCharacterFile.value.selectedComponentsTree[editCharacterFile.value.selectedComponentsTree.length-1]=$e;const Ne=selectedItemByUUID(SubComponentsRoot.value.value.components,$e);if(Ne.type==="glyph"&&Ne.value.components&&Ne.value.components.length){let Ce=!1;for(let Fe=0;Fe<Ne.value.components.length;Fe++)if(Ne.value.components[Fe].type==="glyph"){Ce=!0;break}Ce&&editCharacterFile.value.selectedComponentsTree.push("null")}else Ne.type==="glyph"&&setTool("glyphDragger")},re=(xe,$e)=>{y=$e},oe=(xe,$e)=>{xe.preventDefault();const Ne=SubComponentsRoot.value.value.orderedList;for(let Ce=0;Ce<Ne.length;Ce++)y===Ne[Ce].uuid&&(k=Ce),$e===Ne[Ce].uuid&&($=Ce);xe.offsetY<xe.target.offsetHeight/2?V=$:xe.offsetY>xe.target.offsetHeight/2&&(V=$+1)},ae=(xe,$e)=>{y="",y="",k=-1,$=-1,V=-1},de=(xe,$e)=>{const Ne=clone$1(SubComponentsRoot.value.value.orderedList);k!==$&&(Ne.splice(k,1),k<=V&&(V-=1),Ne.splice(V,0,{type:"component",uuid:y}),SubComponentsRoot.value.value.orderedList=Ne)},ue=xe=>{const $e=SubComponentsRoot.value,Ne=(()=>{for(let Fe=0;Fe<$e.value.components.length;Fe++)if($e.value.components[Fe].uuid===xe)return Fe;return-1})();$e.value.components.splice(Ne,1);const Ce=(()=>{for(let Fe=0;Fe<$e.value.orderedList.length;Fe++)if($e.value.orderedList[Fe].uuid===xe)return Fe;return-1})();if(Ce>=0&&$e.value.orderedList.splice(Ce,1),selectedSubComponent.value===xe){let Fe=editCharacterFile.value.selectedComponentsTree;Fe[Fe.length-1]!=="null"&&(Fe[Fe.length-1]="null")}SubComponentsRoot.value.value.glyph_script&&SubComponentsRoot.value.value.glyph_script[xe]&&delete SubComponentsRoot.value.value.glyph_script[xe],g.value=!1,r[xe]=!1},pe=(xe,$e)=>{if(xe.preventDefault(),g.value)return;g.value=!0,r[$e]=!0;const Ne=Ce=>{Ce.target.closest(".component.menu")||(g.value=!1,r[$e]=!1)};document.addEventListener("mousedown",Ne)},he=()=>{let xe=editCharacterFile.value.selectedComponentsTree;xe[xe.length-1]!=="null"&&(xe[xe.length-1]="null"),editCharacterFile.value.selectedComponentsTree=xe},Oe=xe=>{xe.stopPropagation();let $e=editCharacterFile.value.selectedComponentsTree;$e.length<=2?$e=null:($e.splice($e.length-2,2),$e.push("null")),editCharacterFile.value.selectedComponentsTree=$e};return(xe,$e)=>{const Ne=resolveComponent("el-icon"),Ce=resolveComponent("el-popover"),Fe=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("div",{class:normalizeClass(["list-head",{selected:!unref(selectedSubComponent)}]),onClick:he},[createVNode(Ne,{class:"back-icon",onClick:Oe},{default:withCtx(()=>[createVNode(unref(arrow_left_bold_default))]),_:1}),createBaseVNode("div",_hoisted_2$O,toDisplayString$1(unref(SubComponentsRoot).value.name),1)],2),createVNode(Fe,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(SubComponents),ze=>(openBlock(),createElementBlock("div",_hoisted_4$o,[createVNode(Ce,{placement:"right",width:200,trigger:"manual",visible:r[ze.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedSubComponent)&&unref(selectedSubComponent).uuid===ze.uuid}),draggable:!0,onDragstart:kt=>re(kt,ze.uuid),onDragover:kt=>oe(kt,ze.uuid),onDragend:kt=>ae(kt,ze.uuid),onDrop:kt=>de(kt,ze.uuid),onClick:kt=>j(kt,ze.uuid),onContextmenu:kt=>pe(kt,ze.uuid)},[createBaseVNode("span",_hoisted_6$i,toDisplayString$1(ze.name||ze.type),1),createBaseVNode("span",_hoisted_7$h,[createVNode(Ne,{class:"tool-icon lock",onClick:kt=>L(ze.uuid,!ze.lock)},{default:withCtx(()=>[ze.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),ze.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Ne,{class:"tool-icon visible",onClick:kt=>z(ze.uuid,!ze.visible)},{default:withCtx(()=>[ze.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),ze.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onClick"])])],42,_hoisted_5$l)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8$g,[createBaseVNode("div",{class:"component-menu-item",onClick:kt=>ue(ze.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),9,_hoisted_9$g)])]),_:2},1032,["visible"])]))),256))])]),_:1})])}}}),CharacterSubComponentList=_export_sfc(_sfc_main$Q,[["__scopeId","data-v-0dcb8a06"]]),_hoisted_1$O={class:"list-wrapper"},_hoisted_2$N={class:"root-sub-component"},_hoisted_3$q={class:"all-components-list"},_hoisted_4$n={class:"component-item-wrapper"},_hoisted_5$k=["onDragstart","onDragover","onDragend","onDrop","onClick","onContextmenu"],_hoisted_6$h={class:"type"},_hoisted_7$g={class:"tool-wrapper"},_hoisted_8$f={class:"component-menu"},_hoisted_9$f=["onClick"],_sfc_main$P=defineComponent({__name:"GlyphSubComponentList",setup(n){const{t:e}=useI18n(),r=reactive((()=>{const xe={};return orderedListWithItemsForCurrentGlyph.value.map($e=>{xe[$e.uuid]=!1}),xe})()),g=ref(!1);let y="",k=-1,$=-1,V=-1;const L=(xe,$e)=>{const Ne=selectedItemByUUID(SubComponentsRoot$1.value.value.components,xe);Ne.lock=$e},z=(xe,$e)=>{const Ne=selectedItemByUUID(SubComponentsRoot$1.value.value.components,xe);Ne.visible=$e},j=(xe,$e)=>{if(!editGlyph.value.selectedComponentsTree||editGlyph.value.selectedComponentsTree.length<2)return;editGlyph.value.selectedComponentsTree[editGlyph.value.selectedComponentsTree.length-1]=$e;const Ne=selectedItemByUUID(SubComponentsRoot$1.value.value.components,$e);if(Ne.type==="glyph"&&Ne.value.components&&Ne.value.components.length){let Ce=!1;for(let Fe=0;Fe<Ne.value.components.length;Fe++)if(Ne.value.components[Fe].type==="glyph"){Ce=!0;break}Ce&&editGlyph.value.selectedComponentsTree.push("null")}else Ne.type==="glyph"&&setTool("glyphDragger")},re=(xe,$e)=>{y=$e},oe=(xe,$e)=>{xe.preventDefault();const Ne=SubComponentsRoot$1.value.value.orderedList;for(let Ce=0;Ce<Ne.length;Ce++)y===Ne[Ce].uuid&&(k=Ce),$e===Ne[Ce].uuid&&($=Ce);xe.offsetY<xe.target.offsetHeight/2?V=$:xe.offsetY>xe.target.offsetHeight/2&&(V=$+1)},ae=(xe,$e)=>{y="",y="",k=-1,$=-1,V=-1},de=(xe,$e)=>{const Ne=clone$1(SubComponentsRoot$1.value.value.orderedList);k!==$&&(Ne.splice(k,1),k<=V&&(V-=1),Ne.splice(V,0,{type:"component",uuid:y}),SubComponentsRoot$1.value.value.orderedList=Ne)},ue=xe=>{const $e=SubComponentsRoot$1.value,Ne=(()=>{for(let Fe=0;Fe<$e.value.components.length;Fe++)if($e.value.components[Fe].uuid===xe)return Fe;return-1})();$e.value.components.splice(Ne,1);const Ce=(()=>{for(let Fe=0;Fe<$e.value.orderedList.length;Fe++)if($e.value.orderedList[Fe].uuid===xe)return Fe;return-1})();if(Ce>=0&&$e.value.orderedList.splice(Ce,1),selectedSubComponent$1.value===xe){let Fe=editGlyph.value.selectedComponentsTree;Fe[Fe.length-1]!=="null"&&(Fe[Fe.length-1]="null")}SubComponentsRoot$1.value.value.glyph_script&&SubComponentsRoot$1.value.value.glyph_script[xe]&&delete SubComponentsRoot$1.value.value.glyph_script[xe],g.value=!1,r[xe]=!1},pe=(xe,$e)=>{if(xe.preventDefault(),g.value)return;g.value=!0,r[$e]=!0;const Ne=Ce=>{Ce.target.closest(".component.menu")||(g.value=!1,r[$e]=!1)};document.addEventListener("mousedown",Ne)},he=()=>{let xe=editGlyph.value.selectedComponentsTree;xe[xe.length-1]!=="null"&&(xe[xe.length-1]="null"),editGlyph.value.selectedComponentsTree=xe},Oe=xe=>{xe.stopPropagation();let $e=editGlyph.value.selectedComponentsTree;$e.length<=2?$e=null:($e.splice($e.length-2,2),$e.push("null")),editGlyph.value.selectedComponentsTree=$e};return(xe,$e)=>{const Ne=resolveComponent("el-icon"),Ce=resolveComponent("el-popover"),Fe=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$O,[createBaseVNode("div",{class:normalizeClass(["list-head",{selected:!unref(selectedSubComponent$1)}]),onClick:he},[createVNode(Ne,{class:"back-icon",onClick:Oe},{default:withCtx(()=>[createVNode(unref(arrow_left_bold_default))]),_:1}),createBaseVNode("div",_hoisted_2$N,toDisplayString$1(unref(SubComponentsRoot$1).value.name),1)],2),createVNode(Fe,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(SubComponents$1),ze=>(openBlock(),createElementBlock("div",_hoisted_4$n,[createVNode(Ce,{placement:"right",width:200,trigger:"manual",visible:r[ze.uuid]},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({component:!0,selected:unref(selectedSubComponent$1)&&unref(selectedSubComponent$1).uuid===ze.uuid}),draggable:!0,onDragstart:kt=>re(kt,ze.uuid),onDragover:kt=>oe(kt,ze.uuid),onDragend:kt=>ae(kt,ze.uuid),onDrop:kt=>de(kt,ze.uuid),onClick:kt=>j(kt,ze.uuid),onContextmenu:kt=>pe(kt,ze.uuid)},[createBaseVNode("span",_hoisted_6$h,toDisplayString$1(ze.name||ze.type),1),createBaseVNode("span",_hoisted_7$g,[createVNode(Ne,{class:"tool-icon lock",onClick:kt=>L(ze.uuid,!ze.lock)},{default:withCtx(()=>[ze.lock?(openBlock(),createBlock(unref(unlock_default),{key:0})):createCommentVNode("",!0),ze.lock?createCommentVNode("",!0):(openBlock(),createBlock(unref(lock_default),{key:1}))]),_:2},1032,["onClick"]),createVNode(Ne,{class:"tool-icon visible",onClick:kt=>z(ze.uuid,!ze.visible)},{default:withCtx(()=>[ze.visible?(openBlock(),createBlock(unref(view_default),{key:0})):createCommentVNode("",!0),ze.visible?createCommentVNode("",!0):(openBlock(),createBlock(unref(hide_default),{key:1}))]),_:2},1032,["onClick"])])],42,_hoisted_5$k)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8$f,[createBaseVNode("div",{class:"component-menu-item",onClick:kt=>ue(ze.uuid)},toDisplayString$1(unref(e)("panels.componentList.menu.delete")),9,_hoisted_9$f)])]),_:2},1032,["visible"])]))),256))])]),_:1})])}}}),GlyphSubComponentList=_export_sfc(_sfc_main$P,[["__scopeId","data-v-083a83da"]]),_hoisted_1$N={class:"left-panel"},_hoisted_2$M={class:"left-panel-header"},_hoisted_3$p={key:2,class:"view"},_hoisted_4$m={class:"left-panel-content"},_sfc_main$O=defineComponent({__name:"LeftPanel",setup(n){const{tm:e,t:r}=useI18n(),g=[{value:"all"},{value:"font"}],y=$=>{setEditPanelCompFilter($)},k=$=>{setGlyphPanelCompFilter($)};return($,V)=>{const L=resolveComponent("el-option"),z=resolveComponent("el-select");return openBlock(),createElementBlock("div",_hoisted_1$N,[withDirectives(createBaseVNode("div",_hoisted_2$M,[unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(z,{key:0,"model-value":unref(editPanelCompFilter),class:"edit-filter-select",placeholder:"Select",onChange:y},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(g,j=>createVNode(L,{key:j.value,label:unref(e)(`panels.filter.${j.value}`),value:j.value},null,8,["label","value"])),64))]),_:1},8,["model-value"])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(z,{key:1,"model-value":unref(glyphPanelCompFilter),class:"edit-filter-select",placeholder:"Select",onChange:k},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(g,j=>createVNode(L,{key:j.value,label:unref(e)(`panels.filter.${j.value}`),value:j.value},null,8,["label","value"])),64))]),_:1},8,["model-value"])):createCommentVNode("",!0),unref(editStatus)===unref(Status).Pic?(openBlock(),createElementBlock("div",_hoisted_3$p,toDisplayString$1(unref(r)("panels.view")),1)):createCommentVNode("",!0)],512),[[vShow,unref(editCharacterFile)&&(!unref(editCharacterFile).selectedComponentsTree||!unref(editCharacterFile).selectedComponentsTree.length)||unref(editGlyph)&&(!unref(editGlyph).selectedComponentsTree||!unref(editGlyph).selectedComponentsTree.length)]]),createBaseVNode("div",_hoisted_4$m,[unref(editStatus)===unref(Status).Edit&&unref(editCharacterFile)&&unref(editCharacterFile).selectedComponentsTree&&unref(editCharacterFile).selectedComponentsTree.length?(openBlock(),createBlock(CharacterSubComponentList,{key:0})):unref(editStatus)===unref(Status).Glyph&&unref(editGlyph)&&unref(editGlyph).selectedComponentsTree&&unref(editGlyph).selectedComponentsTree.length?(openBlock(),createBlock(GlyphSubComponentList,{key:1})):unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(CharacterComponentList,{key:2})):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(GlyphComponentList,{key:3})):unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(ViewList,{key:4})):createCommentVNode("",!0)])])}}}),LeftPanel=_export_sfc(_sfc_main$O,[["__scopeId","data-v-7c5a0160"]]),_hoisted_1$M={class:"settings-panel"},_hoisted_2$L={class:"background-style-wrap"},_hoisted_3$o={class:"title"},_hoisted_4$l={class:"form-item"},_hoisted_5$j={class:"form-label"},_hoisted_6$g={class:"form-item"},_hoisted_7$f={class:"form-label"},_hoisted_8$e={class:"grid-style-wrap"},_hoisted_9$e={class:"title"},_hoisted_10$e={class:"form-item"},_hoisted_11$d={class:"form-label"},_hoisted_12$b={class:"form-item"},_hoisted_13$b={class:"form-label"},_hoisted_14$a={class:"font-render-style-wrap"},_hoisted_15$8={class:"title"},_hoisted_16$6={class:"form-item"},_hoisted_17$4={class:"form-label"},_sfc_main$N=defineComponent({__name:"SettingsPanel",setup(n){const{t:e}=useI18n(),r=ref("transparent"),g=ref("#FFFFFF"),y=ref("none"),k=ref(20);return watch([r,g,y,k],()=>{switch(y.value){case"none":setGridType(GridType.None);break;case"mesh":setGridType(GridType.Mesh);break;case"mi":setGridType(GridType.Mi);break;case"layout":setGridType(GridType.LayoutGrid);break}switch(r.value){case"color":setBackgroundType(BackgroundType.Color);break;case"transparent":setBackgroundType(BackgroundType.Transparent);break}g.value&&setBackgroundColor(g.value),k.value&&y.value==="mesh"&&setGridPrecision(k.value)}),($,V)=>{const L=resolveComponent("el-radio"),z=resolveComponent("el-radio-group"),j=resolveComponent("el-color-picker"),re=resolveComponent("el-form"),oe=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$M,[createBaseVNode("div",_hoisted_2$L,[createBaseVNode("div",_hoisted_3$o,toDisplayString$1(unref(e)("panels.settingsPanel.background.background")),1),createVNode(re,{class:"background-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$l,[createBaseVNode("div",_hoisted_5$j,toDisplayString$1(unref(e)("panels.settingsPanel.background.style")),1),createVNode(z,{modelValue:r.value,"onUpdate:modelValue":V[0]||(V[0]=ae=>r.value=ae)},{default:withCtx(()=>[createVNode(L,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.background.color")),1)]),_:1}),createVNode(L,{label:"transparent"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.background.transparent")),1)]),_:1})]),_:1},8,["modelValue"])]),withDirectives(createBaseVNode("div",_hoisted_6$g,[createBaseVNode("div",_hoisted_7$f,toDisplayString$1(unref(e)("panels.settingsPanel.background.color")),1),createVNode(j,{modelValue:g.value,"onUpdate:modelValue":V[1]||(V[1]=ae=>g.value=ae),id:"backgroundColor"},null,8,["modelValue"])],512),[[vShow,r.value==="color"]])]),_:1})]),createBaseVNode("div",_hoisted_8$e,[createBaseVNode("div",_hoisted_9$e,toDisplayString$1(unref(e)("panels.settingsPanel.mesh.mesh")),1),createVNode(re,{class:"grid-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$e,[createBaseVNode("div",_hoisted_11$d,toDisplayString$1(unref(e)("panels.settingsPanel.mesh.style")),1),createVNode(z,{modelValue:y.value,"onUpdate:modelValue":V[2]||(V[2]=ae=>y.value=ae),id:"gridStyle"},{default:withCtx(()=>[createVNode(L,{label:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.none")),1)]),_:1}),createVNode(L,{label:"mesh"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.mesh")),1)]),_:1}),createVNode(L,{label:"mi"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.mi")),1)]),_:1}),createVNode(L,{label:"layout"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.mesh.layout")),1)]),_:1})]),_:1},8,["modelValue"])]),withDirectives(createBaseVNode("div",_hoisted_12$b,[createBaseVNode("div",_hoisted_13$b,toDisplayString$1(unref(e)("panels.settingsPanel.mesh.precision")),1),createVNode(oe,{modelValue:k.value,"onUpdate:modelValue":V[3]||(V[3]=ae=>k.value=ae),min:10,max:50},null,8,["modelValue"])],512),[[vShow,y.value==="mesh"]])]),_:1})]),createBaseVNode("div",_hoisted_14$a,[createBaseVNode("div",_hoisted_15$8,toDisplayString$1(unref(e)("panels.settingsPanel.render.render")),1),createVNode(re,{class:"font-render-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_16$6,[createBaseVNode("div",_hoisted_17$4,toDisplayString$1(unref(e)("panels.settingsPanel.render.style")),1),createVNode(z,{modelValue:unref(fontRenderStyle),"onUpdate:modelValue":V[4]||(V[4]=ae=>isRef(fontRenderStyle)?fontRenderStyle.value=ae:null),id:"renderStyle"},{default:withCtx(()=>[createVNode(L,{label:"contour"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.render.contour")),1)]),_:1}),createVNode(L,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.settingsPanel.render.color")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})])])}}}),SettingsPanel=_export_sfc(_sfc_main$N,[["__scopeId","data-v-6a94eba8"]]),_hoisted_1$L={class:"pen-edit-panel"},_hoisted_2$K={key:0,class:"character-edit-panel"},_hoisted_3$n={class:"name-wrap"},_hoisted_4$k={class:"title"},_hoisted_5$i={class:"transform-wrap"},_hoisted_6$f={class:"title"},_hoisted_7$e={key:0,class:"edit-mode-wrap"},_hoisted_8$d={class:"title"},_hoisted_9$d={key:1,class:"glyph-edit-panel"},_hoisted_10$d={class:"name-wrap"},_hoisted_11$c={class:"title"},_hoisted_12$a={class:"transform-wrap"},_hoisted_13$a={class:"title"},_hoisted_14$9={class:"edit-mode-wrap"},_hoisted_15$7={class:"title"},_sfc_main$M=defineComponent({__name:"PenEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[StoreType.Pen,editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:oe})},k=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{y:oe})},$=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{w:oe})},V=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{h:oe})},L=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{rotation:oe})},z=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{flipX:oe}):modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{flipX:oe})},j=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{flipY:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID.value,{flipY:oe})},re=oe=>{g(),setOnPenEditMode(oe),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{value:{editMode:oe}}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{value:{editMode:oe}})};return(oe,ae)=>{const de=resolveComponent("el-input"),ue=resolveComponent("el-form-item"),pe=resolveComponent("el-form"),he=resolveComponent("el-input-number"),Oe=resolveComponent("el-switch");return openBlock(),createElementBlock("div",_hoisted_1$L,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$K,[createBaseVNode("div",_hoisted_3$n,[createBaseVNode("div",_hoisted_4$k,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(pe,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(de,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":ae[0]||(ae[0]=xe=>unref(selectedComponent).name=xe)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$i,[createBaseVNode("div",_hoisted_6$f,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(pe,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipX")},{default:withCtx(()=>[createVNode(Oe,{"model-value":unref(selectedComponent).flipX,onChange:z},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipY")},{default:withCtx(()=>[createVNode(Oe,{"model-value":unref(selectedComponent).flipY,onChange:j},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),unref(selectedComponent).type==="pen"?(openBlock(),createElementBlock("div",_hoisted_7$e,[createBaseVNode("div",_hoisted_8$d,toDisplayString$1(unref(r)("panels.paramsPanel.editMode.title")),1),createVNode(pe,{class:"stroke-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.editMode.label")},{default:withCtx(()=>[createVNode(Oe,{"model-value":unref(selectedComponent).value.editMode,onChange:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])):createCommentVNode("",!0)])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_9$d,[createBaseVNode("div",_hoisted_10$d,[createBaseVNode("div",_hoisted_11$c,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(pe,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(de,{modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":ae[1]||(ae[1]=xe=>unref(selectedComponent$1).name=xe)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_12$a,[createBaseVNode("div",_hoisted_13$a,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(pe,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipX")},{default:withCtx(()=>[createVNode(Oe,{"model-value":unref(selectedComponent$1).flipX,onChange:z},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.flipY")},{default:withCtx(()=>[createVNode(Oe,{"model-value":unref(selectedComponent$1).flipY,onChange:j},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_14$9,[createBaseVNode("div",_hoisted_15$7,toDisplayString$1(unref(r)("panels.paramsPanel.editMode.title")),1),createVNode(pe,{class:"stroke-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.editMode.label")},{default:withCtx(()=>[createVNode(Oe,{"model-value":unref(selectedComponent$1).value.editMode,onChange:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):createCommentVNode("",!0)])}}}),PenEditPanel=_export_sfc(_sfc_main$M,[["__scopeId","data-v-7ecdbe4a"]]);var paperFull={exports:{}},acorn={exports:{}},hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(n,e){(function(r,g){g(e)})(commonjsGlobal$1,function(r){var g=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],y=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],k="-----------------------------------------------------------------------------------------------------------------------------------------------------",$="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",V={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},L="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",z={5:L,"5module":L+" export import",6:L+" const class extends export import super"},j=/^in(stanceof)?$/,re=new RegExp("["+$+"]"),oe=new RegExp("["+$+k+"]");function ae(Ve,Sn){for(var Yn=65536,or=0;or<Sn.length;or+=2){if(Yn+=Sn[or],Yn>Ve)return!1;if(Yn+=Sn[or+1],Yn>=Ve)return!0}return!1}function de(Ve,Sn){return Ve<65?Ve===36:Ve<91?!0:Ve<97?Ve===95:Ve<123?!0:Ve<=65535?Ve>=170&&re.test(String.fromCharCode(Ve)):Sn===!1?!1:ae(Ve,y)}function ue(Ve,Sn){return Ve<48?Ve===36:Ve<58?!0:Ve<65?!1:Ve<91?!0:Ve<97?Ve===95:Ve<123?!0:Ve<=65535?Ve>=170&&oe.test(String.fromCharCode(Ve)):Sn===!1?!1:ae(Ve,y)||ae(Ve,g)}var pe=function(Sn,Yn){Yn===void 0&&(Yn={}),this.label=Sn,this.keyword=Yn.keyword,this.beforeExpr=!!Yn.beforeExpr,this.startsExpr=!!Yn.startsExpr,this.isLoop=!!Yn.isLoop,this.isAssign=!!Yn.isAssign,this.prefix=!!Yn.prefix,this.postfix=!!Yn.postfix,this.binop=Yn.binop||null,this.updateContext=null};function he(Ve,Sn){return new pe(Ve,{beforeExpr:!0,binop:Sn})}var Oe={beforeExpr:!0},xe={startsExpr:!0},$e={};function Ne(Ve,Sn){return Sn===void 0&&(Sn={}),Sn.keyword=Ve,$e[Ve]=new pe(Ve,Sn)}var Ce={num:new pe("num",xe),regexp:new pe("regexp",xe),string:new pe("string",xe),name:new pe("name",xe),privateId:new pe("privateId",xe),eof:new pe("eof"),bracketL:new pe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pe("]"),braceL:new pe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pe("}"),parenL:new pe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pe(")"),comma:new pe(",",Oe),semi:new pe(";",Oe),colon:new pe(":",Oe),dot:new pe("."),question:new pe("?",Oe),questionDot:new pe("?."),arrow:new pe("=>",Oe),template:new pe("template"),invalidTemplate:new pe("invalidTemplate"),ellipsis:new pe("...",Oe),backQuote:new pe("`",xe),dollarBraceL:new pe("${",{beforeExpr:!0,startsExpr:!0}),eq:new pe("=",{beforeExpr:!0,isAssign:!0}),assign:new pe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:he("||",1),logicalAND:he("&&",2),bitwiseOR:he("|",3),bitwiseXOR:he("^",4),bitwiseAND:he("&",5),equality:he("==/!=/===/!==",6),relational:he("</>/<=/>=",7),bitShift:he("<</>>/>>>",8),plusMin:new pe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:he("%",10),star:he("*",10),slash:he("/",10),starstar:new pe("**",{beforeExpr:!0}),coalesce:he("??",1),_break:Ne("break"),_case:Ne("case",Oe),_catch:Ne("catch"),_continue:Ne("continue"),_debugger:Ne("debugger"),_default:Ne("default",Oe),_do:Ne("do",{isLoop:!0,beforeExpr:!0}),_else:Ne("else",Oe),_finally:Ne("finally"),_for:Ne("for",{isLoop:!0}),_function:Ne("function",xe),_if:Ne("if"),_return:Ne("return",Oe),_switch:Ne("switch"),_throw:Ne("throw",Oe),_try:Ne("try"),_var:Ne("var"),_const:Ne("const"),_while:Ne("while",{isLoop:!0}),_with:Ne("with"),_new:Ne("new",{beforeExpr:!0,startsExpr:!0}),_this:Ne("this",xe),_super:Ne("super",xe),_class:Ne("class",xe),_extends:Ne("extends",Oe),_export:Ne("export"),_import:Ne("import",xe),_null:Ne("null",xe),_true:Ne("true",xe),_false:Ne("false",xe),_in:Ne("in",{beforeExpr:!0,binop:7}),_instanceof:Ne("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ne("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ne("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ne("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Fe=/\r\n?|\n|\u2028|\u2029/,ze=new RegExp(Fe.source,"g");function kt(Ve){return Ve===10||Ve===13||Ve===8232||Ve===8233}function At(Ve,Sn,Yn){Yn===void 0&&(Yn=Ve.length);for(var or=Sn;or<Yn;or++){var br=Ve.charCodeAt(or);if(kt(br))return or<Yn-1&&br===13&&Ve.charCodeAt(or+1)===10?or+2:or+1}return-1}var Cn=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Dt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,On=Object.prototype,jt=On.hasOwnProperty,An=On.toString,Mn=Object.hasOwn||function(Ve,Sn){return jt.call(Ve,Sn)},$n=Array.isArray||function(Ve){return An.call(Ve)==="[object Array]"};function Ln(Ve){return new RegExp("^(?:"+Ve.replace(/ /g,"|")+")$")}function Tn(Ve){return Ve<=65535?String.fromCharCode(Ve):(Ve-=65536,String.fromCharCode((Ve>>10)+55296,(Ve&1023)+56320))}var Zn=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Qn=function(Sn,Yn){this.line=Sn,this.column=Yn};Qn.prototype.offset=function(Sn){return new Qn(this.line,this.column+Sn)};var Pn=function(Sn,Yn,or){this.start=Yn,this.end=or,Sn.sourceFile!==null&&(this.source=Sn.sourceFile)};function Wn(Ve,Sn){for(var Yn=1,or=0;;){var br=At(Ve,or,Sn);if(br<0)return new Qn(Yn,Sn-or);++Yn,or=br}}var ur={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},hr=!1;function Vn(Ve){var Sn={};for(var Yn in ur)Sn[Yn]=Ve&&Mn(Ve,Yn)?Ve[Yn]:ur[Yn];if(Sn.ecmaVersion==="latest"?Sn.ecmaVersion=1e8:Sn.ecmaVersion==null?(!hr&&typeof console=="object"&&console.warn&&(hr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Sn.ecmaVersion=11):Sn.ecmaVersion>=2015&&(Sn.ecmaVersion-=2009),Sn.allowReserved==null&&(Sn.allowReserved=Sn.ecmaVersion<5),(!Ve||Ve.allowHashBang==null)&&(Sn.allowHashBang=Sn.ecmaVersion>=14),$n(Sn.onToken)){var or=Sn.onToken;Sn.onToken=function(br){return or.push(br)}}return $n(Sn.onComment)&&(Sn.onComment=En(Sn,Sn.onComment)),Sn}function En(Ve,Sn){return function(Yn,or,br,Br,Vr,Zr){var qr={type:Yn?"Block":"Line",value:or,start:br,end:Br};Ve.locations&&(qr.loc=new Pn(this,Vr,Zr)),Ve.ranges&&(qr.range=[br,Br]),Sn.push(qr)}}var jn=1,cr=2,gr=4,Cr=8,ir=16,Gn=32,hn=64,Kn=128,Nn=256,Lt=jn|cr|Nn;function _n(Ve,Sn){return cr|(Ve?gr:0)|(Sn?Cr:0)}var Bn=0,Xn=1,rr=2,ar=3,sr=4,mr=5,lr=function(Sn,Yn,or){this.options=Sn=Vn(Sn),this.sourceFile=Sn.sourceFile,this.keywords=Ln(z[Sn.ecmaVersion>=6?6:Sn.sourceType==="module"?"5module":5]);var br="";Sn.allowReserved!==!0&&(br=V[Sn.ecmaVersion>=6?6:Sn.ecmaVersion===5?5:3],Sn.sourceType==="module"&&(br+=" await")),this.reservedWords=Ln(br);var Br=(br?br+" ":"")+V.strict;this.reservedWordsStrict=Ln(Br),this.reservedWordsStrictBind=Ln(Br+" "+V.strictBind),this.input=String(Yn),this.containsEsc=!1,or?(this.pos=or,this.lineStart=this.input.lastIndexOf(`
`,or-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Fe).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Ce.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Sn.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Sn.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(jn),this.regexpState=null,this.privateNameStack=[]},le={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};lr.prototype.parse=function(){var Sn=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Sn)},le.inFunction.get=function(){return(this.currentVarScope().flags&cr)>0},le.inGenerator.get=function(){return(this.currentVarScope().flags&Cr)>0&&!this.currentVarScope().inClassFieldInit},le.inAsync.get=function(){return(this.currentVarScope().flags&gr)>0&&!this.currentVarScope().inClassFieldInit},le.canAwait.get=function(){for(var Ve=this.scopeStack.length-1;Ve>=0;Ve--){var Sn=this.scopeStack[Ve];if(Sn.inClassFieldInit||Sn.flags&Nn)return!1;if(Sn.flags&cr)return(Sn.flags&gr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},le.allowSuper.get=function(){var Ve=this.currentThisScope(),Sn=Ve.flags,Yn=Ve.inClassFieldInit;return(Sn&hn)>0||Yn||this.options.allowSuperOutsideMethod},le.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Kn)>0},le.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},le.allowNewDotTarget.get=function(){var Ve=this.currentThisScope(),Sn=Ve.flags,Yn=Ve.inClassFieldInit;return(Sn&(cr|Nn))>0||Yn},le.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Nn)>0},lr.extend=function(){for(var Sn=[],Yn=arguments.length;Yn--;)Sn[Yn]=arguments[Yn];for(var or=this,br=0;br<Sn.length;br++)or=Sn[br](or);return or},lr.parse=function(Sn,Yn){return new this(Yn,Sn).parse()},lr.parseExpressionAt=function(Sn,Yn,or){var br=new this(or,Sn,Yn);return br.nextToken(),br.parseExpression()},lr.tokenizer=function(Sn,Yn){return new this(Yn,Sn)},Object.defineProperties(lr.prototype,le);var _e=lr.prototype,Ie=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;_e.strictDirective=function(Ve){if(this.options.ecmaVersion<5)return!1;for(;;){Dt.lastIndex=Ve,Ve+=Dt.exec(this.input)[0].length;var Sn=Ie.exec(this.input.slice(Ve));if(!Sn)return!1;if((Sn[1]||Sn[2])==="use strict"){Dt.lastIndex=Ve+Sn[0].length;var Yn=Dt.exec(this.input),or=Yn.index+Yn[0].length,br=this.input.charAt(or);return br===";"||br==="}"||Fe.test(Yn[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(br)||br==="!"&&this.input.charAt(or+1)==="=")}Ve+=Sn[0].length,Dt.lastIndex=Ve,Ve+=Dt.exec(this.input)[0].length,this.input[Ve]===";"&&Ve++}},_e.eat=function(Ve){return this.type===Ve?(this.next(),!0):!1},_e.isContextual=function(Ve){return this.type===Ce.name&&this.value===Ve&&!this.containsEsc},_e.eatContextual=function(Ve){return this.isContextual(Ve)?(this.next(),!0):!1},_e.expectContextual=function(Ve){this.eatContextual(Ve)||this.unexpected()},_e.canInsertSemicolon=function(){return this.type===Ce.eof||this.type===Ce.braceR||Fe.test(this.input.slice(this.lastTokEnd,this.start))},_e.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},_e.semicolon=function(){!this.eat(Ce.semi)&&!this.insertSemicolon()&&this.unexpected()},_e.afterTrailingComma=function(Ve,Sn){if(this.type===Ve)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Sn||this.next(),!0},_e.expect=function(Ve){this.eat(Ve)||this.unexpected()},_e.unexpected=function(Ve){this.raise(Ve??this.start,"Unexpected token")};var Ue=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};_e.checkPatternErrors=function(Ve,Sn){if(Ve){Ve.trailingComma>-1&&this.raiseRecoverable(Ve.trailingComma,"Comma is not permitted after the rest element");var Yn=Sn?Ve.parenthesizedAssign:Ve.parenthesizedBind;Yn>-1&&this.raiseRecoverable(Yn,Sn?"Assigning to rvalue":"Parenthesized pattern")}},_e.checkExpressionErrors=function(Ve,Sn){if(!Ve)return!1;var Yn=Ve.shorthandAssign,or=Ve.doubleProto;if(!Sn)return Yn>=0||or>=0;Yn>=0&&this.raise(Yn,"Shorthand property assignments are valid only in destructuring patterns"),or>=0&&this.raiseRecoverable(or,"Redefinition of __proto__ property")},_e.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},_e.isSimpleAssignTarget=function(Ve){return Ve.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(Ve.expression):Ve.type==="Identifier"||Ve.type==="MemberExpression"};var qe=lr.prototype;qe.parseTopLevel=function(Ve){var Sn=Object.create(null);for(Ve.body||(Ve.body=[]);this.type!==Ce.eof;){var Yn=this.parseStatement(null,!0,Sn);Ve.body.push(Yn)}if(this.inModule)for(var or=0,br=Object.keys(this.undefinedExports);or<br.length;or+=1){var Br=br[or];this.raiseRecoverable(this.undefinedExports[Br].start,"Export '"+Br+"' is not defined")}return this.adaptDirectivePrologue(Ve.body),this.next(),Ve.sourceType=this.options.sourceType,this.finishNode(Ve,"Program")};var Et={kind:"loop"},vn={kind:"switch"};qe.isLet=function(Ve){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Dt.lastIndex=this.pos;var Sn=Dt.exec(this.input),Yn=this.pos+Sn[0].length,or=this.input.charCodeAt(Yn);if(or===91||or===92)return!0;if(Ve)return!1;if(or===123||or>55295&&or<56320)return!0;if(de(or,!0)){for(var br=Yn+1;ue(or=this.input.charCodeAt(br),!0);)++br;if(or===92||or>55295&&or<56320)return!0;var Br=this.input.slice(Yn,br);if(!j.test(Br))return!0}return!1},qe.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Dt.lastIndex=this.pos;var Ve=Dt.exec(this.input),Sn=this.pos+Ve[0].length,Yn;return!Fe.test(this.input.slice(this.pos,Sn))&&this.input.slice(Sn,Sn+8)==="function"&&(Sn+8===this.input.length||!(ue(Yn=this.input.charCodeAt(Sn+8))||Yn>55295&&Yn<56320))},qe.parseStatement=function(Ve,Sn,Yn){var or=this.type,br=this.startNode(),Br;switch(this.isLet(Ve)&&(or=Ce._var,Br="let"),or){case Ce._break:case Ce._continue:return this.parseBreakContinueStatement(br,or.keyword);case Ce._debugger:return this.parseDebuggerStatement(br);case Ce._do:return this.parseDoStatement(br);case Ce._for:return this.parseForStatement(br);case Ce._function:return Ve&&(this.strict||Ve!=="if"&&Ve!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(br,!1,!Ve);case Ce._class:return Ve&&this.unexpected(),this.parseClass(br,!0);case Ce._if:return this.parseIfStatement(br);case Ce._return:return this.parseReturnStatement(br);case Ce._switch:return this.parseSwitchStatement(br);case Ce._throw:return this.parseThrowStatement(br);case Ce._try:return this.parseTryStatement(br);case Ce._const:case Ce._var:return Br=Br||this.value,Ve&&Br!=="var"&&this.unexpected(),this.parseVarStatement(br,Br);case Ce._while:return this.parseWhileStatement(br);case Ce._with:return this.parseWithStatement(br);case Ce.braceL:return this.parseBlock(!0,br);case Ce.semi:return this.parseEmptyStatement(br);case Ce._export:case Ce._import:if(this.options.ecmaVersion>10&&or===Ce._import){Dt.lastIndex=this.pos;var Vr=Dt.exec(this.input),Zr=this.pos+Vr[0].length,qr=this.input.charCodeAt(Zr);if(qr===40||qr===46)return this.parseExpressionStatement(br,this.parseExpression())}return this.options.allowImportExportEverywhere||(Sn||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),or===Ce._import?this.parseImport(br):this.parseExport(br,Yn);default:if(this.isAsyncFunction())return Ve&&this.unexpected(),this.next(),this.parseFunctionStatement(br,!0,!Ve);var ho=this.value,po=this.parseExpression();return or===Ce.name&&po.type==="Identifier"&&this.eat(Ce.colon)?this.parseLabeledStatement(br,ho,po,Ve):this.parseExpressionStatement(br,po)}},qe.parseBreakContinueStatement=function(Ve,Sn){var Yn=Sn==="break";this.next(),this.eat(Ce.semi)||this.insertSemicolon()?Ve.label=null:this.type!==Ce.name?this.unexpected():(Ve.label=this.parseIdent(),this.semicolon());for(var or=0;or<this.labels.length;++or){var br=this.labels[or];if((Ve.label==null||br.name===Ve.label.name)&&(br.kind!=null&&(Yn||br.kind==="loop")||Ve.label&&Yn))break}return or===this.labels.length&&this.raise(Ve.start,"Unsyntactic "+Sn),this.finishNode(Ve,Yn?"BreakStatement":"ContinueStatement")},qe.parseDebuggerStatement=function(Ve){return this.next(),this.semicolon(),this.finishNode(Ve,"DebuggerStatement")},qe.parseDoStatement=function(Ve){return this.next(),this.labels.push(Et),Ve.body=this.parseStatement("do"),this.labels.pop(),this.expect(Ce._while),Ve.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Ce.semi):this.semicolon(),this.finishNode(Ve,"DoWhileStatement")},qe.parseForStatement=function(Ve){this.next();var Sn=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Et),this.enterScope(0),this.expect(Ce.parenL),this.type===Ce.semi)return Sn>-1&&this.unexpected(Sn),this.parseFor(Ve,null);var Yn=this.isLet();if(this.type===Ce._var||this.type===Ce._const||Yn){var or=this.startNode(),br=Yn?"let":this.value;return this.next(),this.parseVar(or,!0,br),this.finishNode(or,"VariableDeclaration"),(this.type===Ce._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&or.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===Ce._in?Sn>-1&&this.unexpected(Sn):Ve.await=Sn>-1),this.parseForIn(Ve,or)):(Sn>-1&&this.unexpected(Sn),this.parseFor(Ve,or))}var Br=this.isContextual("let"),Vr=!1,Zr=new Ue,qr=this.parseExpression(Sn>-1?"await":!0,Zr);return this.type===Ce._in||(Vr=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===Ce._in?Sn>-1&&this.unexpected(Sn):Ve.await=Sn>-1),Br&&Vr&&this.raise(qr.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(qr,!1,Zr),this.checkLValPattern(qr),this.parseForIn(Ve,qr)):(this.checkExpressionErrors(Zr,!0),Sn>-1&&this.unexpected(Sn),this.parseFor(Ve,qr))},qe.parseFunctionStatement=function(Ve,Sn,Yn){return this.next(),this.parseFunction(Ve,wn|(Yn?0:bn),!1,Sn)},qe.parseIfStatement=function(Ve){return this.next(),Ve.test=this.parseParenExpression(),Ve.consequent=this.parseStatement("if"),Ve.alternate=this.eat(Ce._else)?this.parseStatement("if"):null,this.finishNode(Ve,"IfStatement")},qe.parseReturnStatement=function(Ve){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Ce.semi)||this.insertSemicolon()?Ve.argument=null:(Ve.argument=this.parseExpression(),this.semicolon()),this.finishNode(Ve,"ReturnStatement")},qe.parseSwitchStatement=function(Ve){this.next(),Ve.discriminant=this.parseParenExpression(),Ve.cases=[],this.expect(Ce.braceL),this.labels.push(vn),this.enterScope(0);for(var Sn,Yn=!1;this.type!==Ce.braceR;)if(this.type===Ce._case||this.type===Ce._default){var or=this.type===Ce._case;Sn&&this.finishNode(Sn,"SwitchCase"),Ve.cases.push(Sn=this.startNode()),Sn.consequent=[],this.next(),or?Sn.test=this.parseExpression():(Yn&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Yn=!0,Sn.test=null),this.expect(Ce.colon)}else Sn||this.unexpected(),Sn.consequent.push(this.parseStatement(null));return this.exitScope(),Sn&&this.finishNode(Sn,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(Ve,"SwitchStatement")},qe.parseThrowStatement=function(Ve){return this.next(),Fe.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),Ve.argument=this.parseExpression(),this.semicolon(),this.finishNode(Ve,"ThrowStatement")};var Pt=[];qe.parseCatchClauseParam=function(){var Ve=this.parseBindingAtom(),Sn=Ve.type==="Identifier";return this.enterScope(Sn?Gn:0),this.checkLValPattern(Ve,Sn?sr:rr),this.expect(Ce.parenR),Ve},qe.parseTryStatement=function(Ve){if(this.next(),Ve.block=this.parseBlock(),Ve.handler=null,this.type===Ce._catch){var Sn=this.startNode();this.next(),this.eat(Ce.parenL)?Sn.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Sn.param=null,this.enterScope(0)),Sn.body=this.parseBlock(!1),this.exitScope(),Ve.handler=this.finishNode(Sn,"CatchClause")}return Ve.finalizer=this.eat(Ce._finally)?this.parseBlock():null,!Ve.handler&&!Ve.finalizer&&this.raise(Ve.start,"Missing catch or finally clause"),this.finishNode(Ve,"TryStatement")},qe.parseVarStatement=function(Ve,Sn,Yn){return this.next(),this.parseVar(Ve,!1,Sn,Yn),this.semicolon(),this.finishNode(Ve,"VariableDeclaration")},qe.parseWhileStatement=function(Ve){return this.next(),Ve.test=this.parseParenExpression(),this.labels.push(Et),Ve.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(Ve,"WhileStatement")},qe.parseWithStatement=function(Ve){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),Ve.object=this.parseParenExpression(),Ve.body=this.parseStatement("with"),this.finishNode(Ve,"WithStatement")},qe.parseEmptyStatement=function(Ve){return this.next(),this.finishNode(Ve,"EmptyStatement")},qe.parseLabeledStatement=function(Ve,Sn,Yn,or){for(var br=0,Br=this.labels;br<Br.length;br+=1){var Vr=Br[br];Vr.name===Sn&&this.raise(Yn.start,"Label '"+Sn+"' is already declared")}for(var Zr=this.type.isLoop?"loop":this.type===Ce._switch?"switch":null,qr=this.labels.length-1;qr>=0;qr--){var ho=this.labels[qr];if(ho.statementStart===Ve.start)ho.statementStart=this.start,ho.kind=Zr;else break}return this.labels.push({name:Sn,kind:Zr,statementStart:this.start}),Ve.body=this.parseStatement(or?or.indexOf("label")===-1?or+"label":or:"label"),this.labels.pop(),Ve.label=Yn,this.finishNode(Ve,"LabeledStatement")},qe.parseExpressionStatement=function(Ve,Sn){return Ve.expression=Sn,this.semicolon(),this.finishNode(Ve,"ExpressionStatement")},qe.parseBlock=function(Ve,Sn,Yn){for(Ve===void 0&&(Ve=!0),Sn===void 0&&(Sn=this.startNode()),Sn.body=[],this.expect(Ce.braceL),Ve&&this.enterScope(0);this.type!==Ce.braceR;){var or=this.parseStatement(null);Sn.body.push(or)}return Yn&&(this.strict=!1),this.next(),Ve&&this.exitScope(),this.finishNode(Sn,"BlockStatement")},qe.parseFor=function(Ve,Sn){return Ve.init=Sn,this.expect(Ce.semi),Ve.test=this.type===Ce.semi?null:this.parseExpression(),this.expect(Ce.semi),Ve.update=this.type===Ce.parenR?null:this.parseExpression(),this.expect(Ce.parenR),Ve.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(Ve,"ForStatement")},qe.parseForIn=function(Ve,Sn){var Yn=this.type===Ce._in;return this.next(),Sn.type==="VariableDeclaration"&&Sn.declarations[0].init!=null&&(!Yn||this.options.ecmaVersion<8||this.strict||Sn.kind!=="var"||Sn.declarations[0].id.type!=="Identifier")&&this.raise(Sn.start,(Yn?"for-in":"for-of")+" loop variable declaration may not have an initializer"),Ve.left=Sn,Ve.right=Yn?this.parseExpression():this.parseMaybeAssign(),this.expect(Ce.parenR),Ve.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(Ve,Yn?"ForInStatement":"ForOfStatement")},qe.parseVar=function(Ve,Sn,Yn,or){for(Ve.declarations=[],Ve.kind=Yn;;){var br=this.startNode();if(this.parseVarId(br,Yn),this.eat(Ce.eq)?br.init=this.parseMaybeAssign(Sn):!or&&Yn==="const"&&!(this.type===Ce._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!or&&br.id.type!=="Identifier"&&!(Sn&&(this.type===Ce._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):br.init=null,Ve.declarations.push(this.finishNode(br,"VariableDeclarator")),!this.eat(Ce.comma))break}return Ve},qe.parseVarId=function(Ve,Sn){Ve.id=this.parseBindingAtom(),this.checkLValPattern(Ve.id,Sn==="var"?Xn:rr,!1)};var wn=1,bn=2,In=4;qe.parseFunction=function(Ve,Sn,Yn,or,br){this.initFunction(Ve),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!or)&&(this.type===Ce.star&&Sn&bn&&this.unexpected(),Ve.generator=this.eat(Ce.star)),this.options.ecmaVersion>=8&&(Ve.async=!!or),Sn&wn&&(Ve.id=Sn&In&&this.type!==Ce.name?null:this.parseIdent(),Ve.id&&!(Sn&bn)&&this.checkLValSimple(Ve.id,this.strict||Ve.generator||Ve.async?this.treatFunctionsAsVar?Xn:rr:ar));var Br=this.yieldPos,Vr=this.awaitPos,Zr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(_n(Ve.async,Ve.generator)),Sn&wn||(Ve.id=this.type===Ce.name?this.parseIdent():null),this.parseFunctionParams(Ve),this.parseFunctionBody(Ve,Yn,!1,br),this.yieldPos=Br,this.awaitPos=Vr,this.awaitIdentPos=Zr,this.finishNode(Ve,Sn&wn?"FunctionDeclaration":"FunctionExpression")},qe.parseFunctionParams=function(Ve){this.expect(Ce.parenL),Ve.params=this.parseBindingList(Ce.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},qe.parseClass=function(Ve,Sn){this.next();var Yn=this.strict;this.strict=!0,this.parseClassId(Ve,Sn),this.parseClassSuper(Ve);var or=this.enterClassBody(),br=this.startNode(),Br=!1;for(br.body=[],this.expect(Ce.braceL);this.type!==Ce.braceR;){var Vr=this.parseClassElement(Ve.superClass!==null);Vr&&(br.body.push(Vr),Vr.type==="MethodDefinition"&&Vr.kind==="constructor"?(Br&&this.raiseRecoverable(Vr.start,"Duplicate constructor in the same class"),Br=!0):Vr.key&&Vr.key.type==="PrivateIdentifier"&&Fn(or,Vr)&&this.raiseRecoverable(Vr.key.start,"Identifier '#"+Vr.key.name+"' has already been declared"))}return this.strict=Yn,this.next(),Ve.body=this.finishNode(br,"ClassBody"),this.exitClassBody(),this.finishNode(Ve,Sn?"ClassDeclaration":"ClassExpression")},qe.parseClassElement=function(Ve){if(this.eat(Ce.semi))return null;var Sn=this.options.ecmaVersion,Yn=this.startNode(),or="",br=!1,Br=!1,Vr="method",Zr=!1;if(this.eatContextual("static")){if(Sn>=13&&this.eat(Ce.braceL))return this.parseClassStaticBlock(Yn),Yn;this.isClassElementNameStart()||this.type===Ce.star?Zr=!0:or="static"}if(Yn.static=Zr,!or&&Sn>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===Ce.star)&&!this.canInsertSemicolon()?Br=!0:or="async"),!or&&(Sn>=9||!Br)&&this.eat(Ce.star)&&(br=!0),!or&&!Br&&!br){var qr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Vr=qr:or=qr)}if(or?(Yn.computed=!1,Yn.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Yn.key.name=or,this.finishNode(Yn.key,"Identifier")):this.parseClassElementName(Yn),Sn<13||this.type===Ce.parenL||Vr!=="method"||br||Br){var ho=!Yn.static&&Dn(Yn,"constructor"),po=ho&&Ve;ho&&Vr!=="method"&&this.raise(Yn.key.start,"Constructor can't have get/set modifier"),Yn.kind=ho?"constructor":Vr,this.parseClassMethod(Yn,br,Br,po)}else this.parseClassField(Yn);return Yn},qe.isClassElementNameStart=function(){return this.type===Ce.name||this.type===Ce.privateId||this.type===Ce.num||this.type===Ce.string||this.type===Ce.bracketL||this.type.keyword},qe.parseClassElementName=function(Ve){this.type===Ce.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),Ve.computed=!1,Ve.key=this.parsePrivateIdent()):this.parsePropertyName(Ve)},qe.parseClassMethod=function(Ve,Sn,Yn,or){var br=Ve.key;Ve.kind==="constructor"?(Sn&&this.raise(br.start,"Constructor can't be a generator"),Yn&&this.raise(br.start,"Constructor can't be an async method")):Ve.static&&Dn(Ve,"prototype")&&this.raise(br.start,"Classes may not have a static property named prototype");var Br=Ve.value=this.parseMethod(Sn,Yn,or);return Ve.kind==="get"&&Br.params.length!==0&&this.raiseRecoverable(Br.start,"getter should have no params"),Ve.kind==="set"&&Br.params.length!==1&&this.raiseRecoverable(Br.start,"setter should have exactly one param"),Ve.kind==="set"&&Br.params[0].type==="RestElement"&&this.raiseRecoverable(Br.params[0].start,"Setter cannot use rest params"),this.finishNode(Ve,"MethodDefinition")},qe.parseClassField=function(Ve){if(Dn(Ve,"constructor")?this.raise(Ve.key.start,"Classes can't have a field named 'constructor'"):Ve.static&&Dn(Ve,"prototype")&&this.raise(Ve.key.start,"Classes can't have a static field named 'prototype'"),this.eat(Ce.eq)){var Sn=this.currentThisScope(),Yn=Sn.inClassFieldInit;Sn.inClassFieldInit=!0,Ve.value=this.parseMaybeAssign(),Sn.inClassFieldInit=Yn}else Ve.value=null;return this.semicolon(),this.finishNode(Ve,"PropertyDefinition")},qe.parseClassStaticBlock=function(Ve){Ve.body=[];var Sn=this.labels;for(this.labels=[],this.enterScope(Nn|hn);this.type!==Ce.braceR;){var Yn=this.parseStatement(null);Ve.body.push(Yn)}return this.next(),this.exitScope(),this.labels=Sn,this.finishNode(Ve,"StaticBlock")},qe.parseClassId=function(Ve,Sn){this.type===Ce.name?(Ve.id=this.parseIdent(),Sn&&this.checkLValSimple(Ve.id,rr,!1)):(Sn===!0&&this.unexpected(),Ve.id=null)},qe.parseClassSuper=function(Ve){Ve.superClass=this.eat(Ce._extends)?this.parseExprSubscripts(null,!1):null},qe.enterClassBody=function(){var Ve={declared:Object.create(null),used:[]};return this.privateNameStack.push(Ve),Ve.declared},qe.exitClassBody=function(){var Ve=this.privateNameStack.pop(),Sn=Ve.declared,Yn=Ve.used;if(this.options.checkPrivateFields)for(var or=this.privateNameStack.length,br=or===0?null:this.privateNameStack[or-1],Br=0;Br<Yn.length;++Br){var Vr=Yn[Br];Mn(Sn,Vr.name)||(br?br.used.push(Vr):this.raiseRecoverable(Vr.start,"Private field '#"+Vr.name+"' must be declared in an enclosing class"))}};function Fn(Ve,Sn){var Yn=Sn.key.name,or=Ve[Yn],br="true";return Sn.type==="MethodDefinition"&&(Sn.kind==="get"||Sn.kind==="set")&&(br=(Sn.static?"s":"i")+Sn.kind),or==="iget"&&br==="iset"||or==="iset"&&br==="iget"||or==="sget"&&br==="sset"||or==="sset"&&br==="sget"?(Ve[Yn]="true",!1):or?!0:(Ve[Yn]=br,!1)}function Dn(Ve,Sn){var Yn=Ve.computed,or=Ve.key;return!Yn&&(or.type==="Identifier"&&or.name===Sn||or.type==="Literal"&&or.value===Sn)}qe.parseExportAllDeclaration=function(Ve,Sn){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(Ve.exported=this.parseModuleExportName(),this.checkExport(Sn,Ve.exported,this.lastTokStart)):Ve.exported=null),this.expectContextual("from"),this.type!==Ce.string&&this.unexpected(),Ve.source=this.parseExprAtom(),this.semicolon(),this.finishNode(Ve,"ExportAllDeclaration")},qe.parseExport=function(Ve,Sn){if(this.next(),this.eat(Ce.star))return this.parseExportAllDeclaration(Ve,Sn);if(this.eat(Ce._default))return this.checkExport(Sn,"default",this.lastTokStart),Ve.declaration=this.parseExportDefaultDeclaration(),this.finishNode(Ve,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())Ve.declaration=this.parseExportDeclaration(Ve),Ve.declaration.type==="VariableDeclaration"?this.checkVariableExport(Sn,Ve.declaration.declarations):this.checkExport(Sn,Ve.declaration.id,Ve.declaration.id.start),Ve.specifiers=[],Ve.source=null;else{if(Ve.declaration=null,Ve.specifiers=this.parseExportSpecifiers(Sn),this.eatContextual("from"))this.type!==Ce.string&&this.unexpected(),Ve.source=this.parseExprAtom();else{for(var Yn=0,or=Ve.specifiers;Yn<or.length;Yn+=1){var br=or[Yn];this.checkUnreserved(br.local),this.checkLocalExport(br.local),br.local.type==="Literal"&&this.raise(br.local.start,"A string literal cannot be used as an exported binding without `from`.")}Ve.source=null}this.semicolon()}return this.finishNode(Ve,"ExportNamedDeclaration")},qe.parseExportDeclaration=function(Ve){return this.parseStatement(null)},qe.parseExportDefaultDeclaration=function(){var Ve;if(this.type===Ce._function||(Ve=this.isAsyncFunction())){var Sn=this.startNode();return this.next(),Ve&&this.next(),this.parseFunction(Sn,wn|In,!1,Ve)}else if(this.type===Ce._class){var Yn=this.startNode();return this.parseClass(Yn,"nullableID")}else{var or=this.parseMaybeAssign();return this.semicolon(),or}},qe.checkExport=function(Ve,Sn,Yn){Ve&&(typeof Sn!="string"&&(Sn=Sn.type==="Identifier"?Sn.name:Sn.value),Mn(Ve,Sn)&&this.raiseRecoverable(Yn,"Duplicate export '"+Sn+"'"),Ve[Sn]=!0)},qe.checkPatternExport=function(Ve,Sn){var Yn=Sn.type;if(Yn==="Identifier")this.checkExport(Ve,Sn,Sn.start);else if(Yn==="ObjectPattern")for(var or=0,br=Sn.properties;or<br.length;or+=1){var Br=br[or];this.checkPatternExport(Ve,Br)}else if(Yn==="ArrayPattern")for(var Vr=0,Zr=Sn.elements;Vr<Zr.length;Vr+=1){var qr=Zr[Vr];qr&&this.checkPatternExport(Ve,qr)}else Yn==="Property"?this.checkPatternExport(Ve,Sn.value):Yn==="AssignmentPattern"?this.checkPatternExport(Ve,Sn.left):Yn==="RestElement"?this.checkPatternExport(Ve,Sn.argument):Yn==="ParenthesizedExpression"&&this.checkPatternExport(Ve,Sn.expression)},qe.checkVariableExport=function(Ve,Sn){if(Ve)for(var Yn=0,or=Sn;Yn<or.length;Yn+=1){var br=or[Yn];this.checkPatternExport(Ve,br.id)}},qe.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},qe.parseExportSpecifier=function(Ve){var Sn=this.startNode();return Sn.local=this.parseModuleExportName(),Sn.exported=this.eatContextual("as")?this.parseModuleExportName():Sn.local,this.checkExport(Ve,Sn.exported,Sn.exported.start),this.finishNode(Sn,"ExportSpecifier")},qe.parseExportSpecifiers=function(Ve){var Sn=[],Yn=!0;for(this.expect(Ce.braceL);!this.eat(Ce.braceR);){if(Yn)Yn=!1;else if(this.expect(Ce.comma),this.afterTrailingComma(Ce.braceR))break;Sn.push(this.parseExportSpecifier(Ve))}return Sn},qe.parseImport=function(Ve){return this.next(),this.type===Ce.string?(Ve.specifiers=Pt,Ve.source=this.parseExprAtom()):(Ve.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),Ve.source=this.type===Ce.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(Ve,"ImportDeclaration")},qe.parseImportSpecifier=function(){var Ve=this.startNode();return Ve.imported=this.parseModuleExportName(),this.eatContextual("as")?Ve.local=this.parseIdent():(this.checkUnreserved(Ve.imported),Ve.local=Ve.imported),this.checkLValSimple(Ve.local,rr),this.finishNode(Ve,"ImportSpecifier")},qe.parseImportDefaultSpecifier=function(){var Ve=this.startNode();return Ve.local=this.parseIdent(),this.checkLValSimple(Ve.local,rr),this.finishNode(Ve,"ImportDefaultSpecifier")},qe.parseImportNamespaceSpecifier=function(){var Ve=this.startNode();return this.next(),this.expectContextual("as"),Ve.local=this.parseIdent(),this.checkLValSimple(Ve.local,rr),this.finishNode(Ve,"ImportNamespaceSpecifier")},qe.parseImportSpecifiers=function(){var Ve=[],Sn=!0;if(this.type===Ce.name&&(Ve.push(this.parseImportDefaultSpecifier()),!this.eat(Ce.comma)))return Ve;if(this.type===Ce.star)return Ve.push(this.parseImportNamespaceSpecifier()),Ve;for(this.expect(Ce.braceL);!this.eat(Ce.braceR);){if(Sn)Sn=!1;else if(this.expect(Ce.comma),this.afterTrailingComma(Ce.braceR))break;Ve.push(this.parseImportSpecifier())}return Ve},qe.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===Ce.string){var Ve=this.parseLiteral(this.value);return Zn.test(Ve.value)&&this.raise(Ve.start,"An export name cannot include a lone surrogate."),Ve}return this.parseIdent(!0)},qe.adaptDirectivePrologue=function(Ve){for(var Sn=0;Sn<Ve.length&&this.isDirectiveCandidate(Ve[Sn]);++Sn)Ve[Sn].directive=Ve[Sn].expression.raw.slice(1,-1)},qe.isDirectiveCandidate=function(Ve){return this.options.ecmaVersion>=5&&Ve.type==="ExpressionStatement"&&Ve.expression.type==="Literal"&&typeof Ve.expression.value=="string"&&(this.input[Ve.start]==='"'||this.input[Ve.start]==="'")};var Un=lr.prototype;Un.toAssignable=function(Ve,Sn,Yn){if(this.options.ecmaVersion>=6&&Ve)switch(Ve.type){case"Identifier":this.inAsync&&Ve.name==="await"&&this.raise(Ve.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":Ve.type="ObjectPattern",Yn&&this.checkPatternErrors(Yn,!0);for(var or=0,br=Ve.properties;or<br.length;or+=1){var Br=br[or];this.toAssignable(Br,Sn),Br.type==="RestElement"&&(Br.argument.type==="ArrayPattern"||Br.argument.type==="ObjectPattern")&&this.raise(Br.argument.start,"Unexpected token")}break;case"Property":Ve.kind!=="init"&&this.raise(Ve.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(Ve.value,Sn);break;case"ArrayExpression":Ve.type="ArrayPattern",Yn&&this.checkPatternErrors(Yn,!0),this.toAssignableList(Ve.elements,Sn);break;case"SpreadElement":Ve.type="RestElement",this.toAssignable(Ve.argument,Sn),Ve.argument.type==="AssignmentPattern"&&this.raise(Ve.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":Ve.operator!=="="&&this.raise(Ve.left.end,"Only '=' operator can be used for specifying default value."),Ve.type="AssignmentPattern",delete Ve.operator,this.toAssignable(Ve.left,Sn);break;case"ParenthesizedExpression":this.toAssignable(Ve.expression,Sn,Yn);break;case"ChainExpression":this.raiseRecoverable(Ve.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Sn)break;default:this.raise(Ve.start,"Assigning to rvalue")}else Yn&&this.checkPatternErrors(Yn,!0);return Ve},Un.toAssignableList=function(Ve,Sn){for(var Yn=Ve.length,or=0;or<Yn;or++){var br=Ve[or];br&&this.toAssignable(br,Sn)}if(Yn){var Br=Ve[Yn-1];this.options.ecmaVersion===6&&Sn&&Br&&Br.type==="RestElement"&&Br.argument.type!=="Identifier"&&this.unexpected(Br.argument.start)}return Ve},Un.parseSpread=function(Ve){var Sn=this.startNode();return this.next(),Sn.argument=this.parseMaybeAssign(!1,Ve),this.finishNode(Sn,"SpreadElement")},Un.parseRestBinding=function(){var Ve=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==Ce.name&&this.unexpected(),Ve.argument=this.parseBindingAtom(),this.finishNode(Ve,"RestElement")},Un.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Ce.bracketL:var Ve=this.startNode();return this.next(),Ve.elements=this.parseBindingList(Ce.bracketR,!0,!0),this.finishNode(Ve,"ArrayPattern");case Ce.braceL:return this.parseObj(!0)}return this.parseIdent()},Un.parseBindingList=function(Ve,Sn,Yn,or){for(var br=[],Br=!0;!this.eat(Ve);)if(Br?Br=!1:this.expect(Ce.comma),Sn&&this.type===Ce.comma)br.push(null);else{if(Yn&&this.afterTrailingComma(Ve))break;if(this.type===Ce.ellipsis){var Vr=this.parseRestBinding();this.parseBindingListItem(Vr),br.push(Vr),this.type===Ce.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(Ve);break}else br.push(this.parseAssignableListItem(or))}return br},Un.parseAssignableListItem=function(Ve){var Sn=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Sn),Sn},Un.parseBindingListItem=function(Ve){return Ve},Un.parseMaybeDefault=function(Ve,Sn,Yn){if(Yn=Yn||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Ce.eq))return Yn;var or=this.startNodeAt(Ve,Sn);return or.left=Yn,or.right=this.parseMaybeAssign(),this.finishNode(or,"AssignmentPattern")},Un.checkLValSimple=function(Ve,Sn,Yn){Sn===void 0&&(Sn=Bn);var or=Sn!==Bn;switch(Ve.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(Ve.name)&&this.raiseRecoverable(Ve.start,(or?"Binding ":"Assigning to ")+Ve.name+" in strict mode"),or&&(Sn===rr&&Ve.name==="let"&&this.raiseRecoverable(Ve.start,"let is disallowed as a lexically bound name"),Yn&&(Mn(Yn,Ve.name)&&this.raiseRecoverable(Ve.start,"Argument name clash"),Yn[Ve.name]=!0),Sn!==mr&&this.declareName(Ve.name,Sn,Ve.start));break;case"ChainExpression":this.raiseRecoverable(Ve.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":or&&this.raiseRecoverable(Ve.start,"Binding member expression");break;case"ParenthesizedExpression":return or&&this.raiseRecoverable(Ve.start,"Binding parenthesized expression"),this.checkLValSimple(Ve.expression,Sn,Yn);default:this.raise(Ve.start,(or?"Binding":"Assigning to")+" rvalue")}},Un.checkLValPattern=function(Ve,Sn,Yn){switch(Sn===void 0&&(Sn=Bn),Ve.type){case"ObjectPattern":for(var or=0,br=Ve.properties;or<br.length;or+=1){var Br=br[or];this.checkLValInnerPattern(Br,Sn,Yn)}break;case"ArrayPattern":for(var Vr=0,Zr=Ve.elements;Vr<Zr.length;Vr+=1){var qr=Zr[Vr];qr&&this.checkLValInnerPattern(qr,Sn,Yn)}break;default:this.checkLValSimple(Ve,Sn,Yn)}},Un.checkLValInnerPattern=function(Ve,Sn,Yn){switch(Sn===void 0&&(Sn=Bn),Ve.type){case"Property":this.checkLValInnerPattern(Ve.value,Sn,Yn);break;case"AssignmentPattern":this.checkLValPattern(Ve.left,Sn,Yn);break;case"RestElement":this.checkLValPattern(Ve.argument,Sn,Yn);break;default:this.checkLValPattern(Ve,Sn,Yn)}};var Jn=function(Sn,Yn,or,br,Br){this.token=Sn,this.isExpr=!!Yn,this.preserveSpace=!!or,this.override=br,this.generator=!!Br},Hn={b_stat:new Jn("{",!1),b_expr:new Jn("{",!0),b_tmpl:new Jn("${",!1),p_stat:new Jn("(",!1),p_expr:new Jn("(",!0),q_tmpl:new Jn("`",!0,!0,function(Ve){return Ve.tryReadTemplateToken()}),f_stat:new Jn("function",!1),f_expr:new Jn("function",!0),f_expr_gen:new Jn("function",!0,!1,null,!0),f_gen:new Jn("function",!1,!1,null,!0)},tr=lr.prototype;tr.initialContext=function(){return[Hn.b_stat]},tr.curContext=function(){return this.context[this.context.length-1]},tr.braceIsBlock=function(Ve){var Sn=this.curContext();return Sn===Hn.f_expr||Sn===Hn.f_stat?!0:Ve===Ce.colon&&(Sn===Hn.b_stat||Sn===Hn.b_expr)?!Sn.isExpr:Ve===Ce._return||Ve===Ce.name&&this.exprAllowed?Fe.test(this.input.slice(this.lastTokEnd,this.start)):Ve===Ce._else||Ve===Ce.semi||Ve===Ce.eof||Ve===Ce.parenR||Ve===Ce.arrow?!0:Ve===Ce.braceL?Sn===Hn.b_stat:Ve===Ce._var||Ve===Ce._const||Ve===Ce.name?!1:!this.exprAllowed},tr.inGeneratorContext=function(){for(var Ve=this.context.length-1;Ve>=1;Ve--){var Sn=this.context[Ve];if(Sn.token==="function")return Sn.generator}return!1},tr.updateContext=function(Ve){var Sn,Yn=this.type;Yn.keyword&&Ve===Ce.dot?this.exprAllowed=!1:(Sn=Yn.updateContext)?Sn.call(this,Ve):this.exprAllowed=Yn.beforeExpr},tr.overrideContext=function(Ve){this.curContext()!==Ve&&(this.context[this.context.length-1]=Ve)},Ce.parenR.updateContext=Ce.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var Ve=this.context.pop();Ve===Hn.b_stat&&this.curContext().token==="function"&&(Ve=this.context.pop()),this.exprAllowed=!Ve.isExpr},Ce.braceL.updateContext=function(Ve){this.context.push(this.braceIsBlock(Ve)?Hn.b_stat:Hn.b_expr),this.exprAllowed=!0},Ce.dollarBraceL.updateContext=function(){this.context.push(Hn.b_tmpl),this.exprAllowed=!0},Ce.parenL.updateContext=function(Ve){var Sn=Ve===Ce._if||Ve===Ce._for||Ve===Ce._with||Ve===Ce._while;this.context.push(Sn?Hn.p_stat:Hn.p_expr),this.exprAllowed=!0},Ce.incDec.updateContext=function(){},Ce._function.updateContext=Ce._class.updateContext=function(Ve){Ve.beforeExpr&&Ve!==Ce._else&&!(Ve===Ce.semi&&this.curContext()!==Hn.p_stat)&&!(Ve===Ce._return&&Fe.test(this.input.slice(this.lastTokEnd,this.start)))&&!((Ve===Ce.colon||Ve===Ce.braceL)&&this.curContext()===Hn.b_stat)?this.context.push(Hn.f_expr):this.context.push(Hn.f_stat),this.exprAllowed=!1},Ce.backQuote.updateContext=function(){this.curContext()===Hn.q_tmpl?this.context.pop():this.context.push(Hn.q_tmpl),this.exprAllowed=!1},Ce.star.updateContext=function(Ve){if(Ve===Ce._function){var Sn=this.context.length-1;this.context[Sn]===Hn.f_expr?this.context[Sn]=Hn.f_expr_gen:this.context[Sn]=Hn.f_gen}this.exprAllowed=!0},Ce.name.updateContext=function(Ve){var Sn=!1;this.options.ecmaVersion>=6&&Ve!==Ce.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Sn=!0),this.exprAllowed=Sn};var kn=lr.prototype;kn.checkPropClash=function(Ve,Sn,Yn){if(!(this.options.ecmaVersion>=9&&Ve.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(Ve.computed||Ve.method||Ve.shorthand))){var or=Ve.key,br;switch(or.type){case"Identifier":br=or.name;break;case"Literal":br=String(or.value);break;default:return}var Br=Ve.kind;if(this.options.ecmaVersion>=6){br==="__proto__"&&Br==="init"&&(Sn.proto&&(Yn?Yn.doubleProto<0&&(Yn.doubleProto=or.start):this.raiseRecoverable(or.start,"Redefinition of __proto__ property")),Sn.proto=!0);return}br="$"+br;var Vr=Sn[br];if(Vr){var Zr;Br==="init"?Zr=this.strict&&Vr.init||Vr.get||Vr.set:Zr=Vr.init||Vr[Br],Zr&&this.raiseRecoverable(or.start,"Redefinition of property")}else Vr=Sn[br]={init:!1,get:!1,set:!1};Vr[Br]=!0}},kn.parseExpression=function(Ve,Sn){var Yn=this.start,or=this.startLoc,br=this.parseMaybeAssign(Ve,Sn);if(this.type===Ce.comma){var Br=this.startNodeAt(Yn,or);for(Br.expressions=[br];this.eat(Ce.comma);)Br.expressions.push(this.parseMaybeAssign(Ve,Sn));return this.finishNode(Br,"SequenceExpression")}return br},kn.parseMaybeAssign=function(Ve,Sn,Yn){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(Ve);this.exprAllowed=!1}var or=!1,br=-1,Br=-1,Vr=-1;Sn?(br=Sn.parenthesizedAssign,Br=Sn.trailingComma,Vr=Sn.doubleProto,Sn.parenthesizedAssign=Sn.trailingComma=-1):(Sn=new Ue,or=!0);var Zr=this.start,qr=this.startLoc;(this.type===Ce.parenL||this.type===Ce.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=Ve==="await");var ho=this.parseMaybeConditional(Ve,Sn);if(Yn&&(ho=Yn.call(this,ho,Zr,qr)),this.type.isAssign){var po=this.startNodeAt(Zr,qr);return po.operator=this.value,this.type===Ce.eq&&(ho=this.toAssignable(ho,!1,Sn)),or||(Sn.parenthesizedAssign=Sn.trailingComma=Sn.doubleProto=-1),Sn.shorthandAssign>=ho.start&&(Sn.shorthandAssign=-1),this.type===Ce.eq?this.checkLValPattern(ho):this.checkLValSimple(ho),po.left=ho,this.next(),po.right=this.parseMaybeAssign(Ve),Vr>-1&&(Sn.doubleProto=Vr),this.finishNode(po,"AssignmentExpression")}else or&&this.checkExpressionErrors(Sn,!0);return br>-1&&(Sn.parenthesizedAssign=br),Br>-1&&(Sn.trailingComma=Br),ho},kn.parseMaybeConditional=function(Ve,Sn){var Yn=this.start,or=this.startLoc,br=this.parseExprOps(Ve,Sn);if(this.checkExpressionErrors(Sn))return br;if(this.eat(Ce.question)){var Br=this.startNodeAt(Yn,or);return Br.test=br,Br.consequent=this.parseMaybeAssign(),this.expect(Ce.colon),Br.alternate=this.parseMaybeAssign(Ve),this.finishNode(Br,"ConditionalExpression")}return br},kn.parseExprOps=function(Ve,Sn){var Yn=this.start,or=this.startLoc,br=this.parseMaybeUnary(Sn,!1,!1,Ve);return this.checkExpressionErrors(Sn)||br.start===Yn&&br.type==="ArrowFunctionExpression"?br:this.parseExprOp(br,Yn,or,-1,Ve)},kn.parseExprOp=function(Ve,Sn,Yn,or,br){var Br=this.type.binop;if(Br!=null&&(!br||this.type!==Ce._in)&&Br>or){var Vr=this.type===Ce.logicalOR||this.type===Ce.logicalAND,Zr=this.type===Ce.coalesce;Zr&&(Br=Ce.logicalAND.binop);var qr=this.value;this.next();var ho=this.start,po=this.startLoc,To=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,br),ho,po,Br,br),zo=this.buildBinary(Sn,Yn,Ve,To,qr,Vr||Zr);return(Vr&&this.type===Ce.coalesce||Zr&&(this.type===Ce.logicalOR||this.type===Ce.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(zo,Sn,Yn,or,br)}return Ve},kn.buildBinary=function(Ve,Sn,Yn,or,br,Br){or.type==="PrivateIdentifier"&&this.raise(or.start,"Private identifier can only be left side of binary expression");var Vr=this.startNodeAt(Ve,Sn);return Vr.left=Yn,Vr.operator=br,Vr.right=or,this.finishNode(Vr,Br?"LogicalExpression":"BinaryExpression")},kn.parseMaybeUnary=function(Ve,Sn,Yn,or){var br=this.start,Br=this.startLoc,Vr;if(this.isContextual("await")&&this.canAwait)Vr=this.parseAwait(or),Sn=!0;else if(this.type.prefix){var Zr=this.startNode(),qr=this.type===Ce.incDec;Zr.operator=this.value,Zr.prefix=!0,this.next(),Zr.argument=this.parseMaybeUnary(null,!0,qr,or),this.checkExpressionErrors(Ve,!0),qr?this.checkLValSimple(Zr.argument):this.strict&&Zr.operator==="delete"&&Zr.argument.type==="Identifier"?this.raiseRecoverable(Zr.start,"Deleting local variable in strict mode"):Zr.operator==="delete"&&zn(Zr.argument)?this.raiseRecoverable(Zr.start,"Private fields can not be deleted"):Sn=!0,Vr=this.finishNode(Zr,qr?"UpdateExpression":"UnaryExpression")}else if(!Sn&&this.type===Ce.privateId)(or||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Vr=this.parsePrivateIdent(),this.type!==Ce._in&&this.unexpected();else{if(Vr=this.parseExprSubscripts(Ve,or),this.checkExpressionErrors(Ve))return Vr;for(;this.type.postfix&&!this.canInsertSemicolon();){var ho=this.startNodeAt(br,Br);ho.operator=this.value,ho.prefix=!1,ho.argument=Vr,this.checkLValSimple(Vr),this.next(),Vr=this.finishNode(ho,"UpdateExpression")}}if(!Yn&&this.eat(Ce.starstar))if(Sn)this.unexpected(this.lastTokStart);else return this.buildBinary(br,Br,Vr,this.parseMaybeUnary(null,!1,!1,or),"**",!1);else return Vr};function zn(Ve){return Ve.type==="MemberExpression"&&Ve.property.type==="PrivateIdentifier"||Ve.type==="ChainExpression"&&zn(Ve.expression)}kn.parseExprSubscripts=function(Ve,Sn){var Yn=this.start,or=this.startLoc,br=this.parseExprAtom(Ve,Sn);if(br.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return br;var Br=this.parseSubscripts(br,Yn,or,!1,Sn);return Ve&&Br.type==="MemberExpression"&&(Ve.parenthesizedAssign>=Br.start&&(Ve.parenthesizedAssign=-1),Ve.parenthesizedBind>=Br.start&&(Ve.parenthesizedBind=-1),Ve.trailingComma>=Br.start&&(Ve.trailingComma=-1)),Br},kn.parseSubscripts=function(Ve,Sn,Yn,or,br){for(var Br=this.options.ecmaVersion>=8&&Ve.type==="Identifier"&&Ve.name==="async"&&this.lastTokEnd===Ve.end&&!this.canInsertSemicolon()&&Ve.end-Ve.start===5&&this.potentialArrowAt===Ve.start,Vr=!1;;){var Zr=this.parseSubscript(Ve,Sn,Yn,or,Br,Vr,br);if(Zr.optional&&(Vr=!0),Zr===Ve||Zr.type==="ArrowFunctionExpression"){if(Vr){var qr=this.startNodeAt(Sn,Yn);qr.expression=Zr,Zr=this.finishNode(qr,"ChainExpression")}return Zr}Ve=Zr}},kn.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(Ce.arrow)},kn.parseSubscriptAsyncArrow=function(Ve,Sn,Yn,or){return this.parseArrowExpression(this.startNodeAt(Ve,Sn),Yn,!0,or)},kn.parseSubscript=function(Ve,Sn,Yn,or,br,Br,Vr){var Zr=this.options.ecmaVersion>=11,qr=Zr&&this.eat(Ce.questionDot);or&&qr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var ho=this.eat(Ce.bracketL);if(ho||qr&&this.type!==Ce.parenL&&this.type!==Ce.backQuote||this.eat(Ce.dot)){var po=this.startNodeAt(Sn,Yn);po.object=Ve,ho?(po.property=this.parseExpression(),this.expect(Ce.bracketR)):this.type===Ce.privateId&&Ve.type!=="Super"?po.property=this.parsePrivateIdent():po.property=this.parseIdent(this.options.allowReserved!=="never"),po.computed=!!ho,Zr&&(po.optional=qr),Ve=this.finishNode(po,"MemberExpression")}else if(!or&&this.eat(Ce.parenL)){var To=new Ue,zo=this.yieldPos,Yo=this.awaitPos,jo=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ea=this.parseExprList(Ce.parenR,this.options.ecmaVersion>=8,!1,To);if(br&&!qr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(To,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=zo,this.awaitPos=Yo,this.awaitIdentPos=jo,this.parseSubscriptAsyncArrow(Sn,Yn,ea,Vr);this.checkExpressionErrors(To,!0),this.yieldPos=zo||this.yieldPos,this.awaitPos=Yo||this.awaitPos,this.awaitIdentPos=jo||this.awaitIdentPos;var Qo=this.startNodeAt(Sn,Yn);Qo.callee=Ve,Qo.arguments=ea,Zr&&(Qo.optional=qr),Ve=this.finishNode(Qo,"CallExpression")}else if(this.type===Ce.backQuote){(qr||Br)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ho=this.startNodeAt(Sn,Yn);Ho.tag=Ve,Ho.quasi=this.parseTemplate({isTagged:!0}),Ve=this.finishNode(Ho,"TaggedTemplateExpression")}return Ve},kn.parseExprAtom=function(Ve,Sn,Yn){this.type===Ce.slash&&this.readRegexp();var or,br=this.potentialArrowAt===this.start;switch(this.type){case Ce._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),or=this.startNode(),this.next(),this.type===Ce.parenL&&!this.allowDirectSuper&&this.raise(or.start,"super() call outside constructor of a subclass"),this.type!==Ce.dot&&this.type!==Ce.bracketL&&this.type!==Ce.parenL&&this.unexpected(),this.finishNode(or,"Super");case Ce._this:return or=this.startNode(),this.next(),this.finishNode(or,"ThisExpression");case Ce.name:var Br=this.start,Vr=this.startLoc,Zr=this.containsEsc,qr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Zr&&qr.name==="async"&&!this.canInsertSemicolon()&&this.eat(Ce._function))return this.overrideContext(Hn.f_expr),this.parseFunction(this.startNodeAt(Br,Vr),0,!1,!0,Sn);if(br&&!this.canInsertSemicolon()){if(this.eat(Ce.arrow))return this.parseArrowExpression(this.startNodeAt(Br,Vr),[qr],!1,Sn);if(this.options.ecmaVersion>=8&&qr.name==="async"&&this.type===Ce.name&&!Zr&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return qr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(Ce.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Br,Vr),[qr],!0,Sn)}return qr;case Ce.regexp:var ho=this.value;return or=this.parseLiteral(ho.value),or.regex={pattern:ho.pattern,flags:ho.flags},or;case Ce.num:case Ce.string:return this.parseLiteral(this.value);case Ce._null:case Ce._true:case Ce._false:return or=this.startNode(),or.value=this.type===Ce._null?null:this.type===Ce._true,or.raw=this.type.keyword,this.next(),this.finishNode(or,"Literal");case Ce.parenL:var po=this.start,To=this.parseParenAndDistinguishExpression(br,Sn);return Ve&&(Ve.parenthesizedAssign<0&&!this.isSimpleAssignTarget(To)&&(Ve.parenthesizedAssign=po),Ve.parenthesizedBind<0&&(Ve.parenthesizedBind=po)),To;case Ce.bracketL:return or=this.startNode(),this.next(),or.elements=this.parseExprList(Ce.bracketR,!0,!0,Ve),this.finishNode(or,"ArrayExpression");case Ce.braceL:return this.overrideContext(Hn.b_expr),this.parseObj(!1,Ve);case Ce._function:return or=this.startNode(),this.next(),this.parseFunction(or,0);case Ce._class:return this.parseClass(this.startNode(),!1);case Ce._new:return this.parseNew();case Ce.backQuote:return this.parseTemplate();case Ce._import:return this.options.ecmaVersion>=11?this.parseExprImport(Yn):this.unexpected();default:return this.parseExprAtomDefault()}},kn.parseExprAtomDefault=function(){this.unexpected()},kn.parseExprImport=function(Ve){var Sn=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var Yn=this.parseIdent(!0);if(this.type===Ce.parenL&&!Ve)return this.parseDynamicImport(Sn);if(this.type===Ce.dot)return Sn.meta=Yn,this.parseImportMeta(Sn);this.unexpected()},kn.parseDynamicImport=function(Ve){if(this.next(),Ve.source=this.parseMaybeAssign(),!this.eat(Ce.parenR)){var Sn=this.start;this.eat(Ce.comma)&&this.eat(Ce.parenR)?this.raiseRecoverable(Sn,"Trailing comma is not allowed in import()"):this.unexpected(Sn)}return this.finishNode(Ve,"ImportExpression")},kn.parseImportMeta=function(Ve){this.next();var Sn=this.containsEsc;return Ve.property=this.parseIdent(!0),Ve.property.name!=="meta"&&this.raiseRecoverable(Ve.property.start,"The only valid meta property for import is 'import.meta'"),Sn&&this.raiseRecoverable(Ve.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(Ve.start,"Cannot use 'import.meta' outside a module"),this.finishNode(Ve,"MetaProperty")},kn.parseLiteral=function(Ve){var Sn=this.startNode();return Sn.value=Ve,Sn.raw=this.input.slice(this.start,this.end),Sn.raw.charCodeAt(Sn.raw.length-1)===110&&(Sn.bigint=Sn.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Sn,"Literal")},kn.parseParenExpression=function(){this.expect(Ce.parenL);var Ve=this.parseExpression();return this.expect(Ce.parenR),Ve},kn.shouldParseArrow=function(Ve){return!this.canInsertSemicolon()},kn.parseParenAndDistinguishExpression=function(Ve,Sn){var Yn=this.start,or=this.startLoc,br,Br=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Vr=this.start,Zr=this.startLoc,qr=[],ho=!0,po=!1,To=new Ue,zo=this.yieldPos,Yo=this.awaitPos,jo;for(this.yieldPos=0,this.awaitPos=0;this.type!==Ce.parenR;)if(ho?ho=!1:this.expect(Ce.comma),Br&&this.afterTrailingComma(Ce.parenR,!0)){po=!0;break}else if(this.type===Ce.ellipsis){jo=this.start,qr.push(this.parseParenItem(this.parseRestBinding())),this.type===Ce.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else qr.push(this.parseMaybeAssign(!1,To,this.parseParenItem));var ea=this.lastTokEnd,Qo=this.lastTokEndLoc;if(this.expect(Ce.parenR),Ve&&this.shouldParseArrow(qr)&&this.eat(Ce.arrow))return this.checkPatternErrors(To,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=zo,this.awaitPos=Yo,this.parseParenArrowList(Yn,or,qr,Sn);(!qr.length||po)&&this.unexpected(this.lastTokStart),jo&&this.unexpected(jo),this.checkExpressionErrors(To,!0),this.yieldPos=zo||this.yieldPos,this.awaitPos=Yo||this.awaitPos,qr.length>1?(br=this.startNodeAt(Vr,Zr),br.expressions=qr,this.finishNodeAt(br,"SequenceExpression",ea,Qo)):br=qr[0]}else br=this.parseParenExpression();if(this.options.preserveParens){var Ho=this.startNodeAt(Yn,or);return Ho.expression=br,this.finishNode(Ho,"ParenthesizedExpression")}else return br},kn.parseParenItem=function(Ve){return Ve},kn.parseParenArrowList=function(Ve,Sn,Yn,or){return this.parseArrowExpression(this.startNodeAt(Ve,Sn),Yn,!1,or)};var xn=[];kn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var Ve=this.startNode(),Sn=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(Ce.dot)){Ve.meta=Sn;var Yn=this.containsEsc;return Ve.property=this.parseIdent(!0),Ve.property.name!=="target"&&this.raiseRecoverable(Ve.property.start,"The only valid meta property for new is 'new.target'"),Yn&&this.raiseRecoverable(Ve.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(Ve.start,"'new.target' can only be used in functions and class static block"),this.finishNode(Ve,"MetaProperty")}var or=this.start,br=this.startLoc;return Ve.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),or,br,!0,!1),this.eat(Ce.parenL)?Ve.arguments=this.parseExprList(Ce.parenR,this.options.ecmaVersion>=8,!1):Ve.arguments=xn,this.finishNode(Ve,"NewExpression")},kn.parseTemplateElement=function(Ve){var Sn=Ve.isTagged,Yn=this.startNode();return this.type===Ce.invalidTemplate?(Sn||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Yn.value={raw:this.value,cooked:null}):Yn.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Yn.tail=this.type===Ce.backQuote,this.finishNode(Yn,"TemplateElement")},kn.parseTemplate=function(Ve){Ve===void 0&&(Ve={});var Sn=Ve.isTagged;Sn===void 0&&(Sn=!1);var Yn=this.startNode();this.next(),Yn.expressions=[];var or=this.parseTemplateElement({isTagged:Sn});for(Yn.quasis=[or];!or.tail;)this.type===Ce.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Ce.dollarBraceL),Yn.expressions.push(this.parseExpression()),this.expect(Ce.braceR),Yn.quasis.push(or=this.parseTemplateElement({isTagged:Sn}));return this.next(),this.finishNode(Yn,"TemplateLiteral")},kn.isAsyncProp=function(Ve){return!Ve.computed&&Ve.key.type==="Identifier"&&Ve.key.name==="async"&&(this.type===Ce.name||this.type===Ce.num||this.type===Ce.string||this.type===Ce.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Ce.star)&&!Fe.test(this.input.slice(this.lastTokEnd,this.start))},kn.parseObj=function(Ve,Sn){var Yn=this.startNode(),or=!0,br={};for(Yn.properties=[],this.next();!this.eat(Ce.braceR);){if(or)or=!1;else if(this.expect(Ce.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(Ce.braceR))break;var Br=this.parseProperty(Ve,Sn);Ve||this.checkPropClash(Br,br,Sn),Yn.properties.push(Br)}return this.finishNode(Yn,Ve?"ObjectPattern":"ObjectExpression")},kn.parseProperty=function(Ve,Sn){var Yn=this.startNode(),or,br,Br,Vr;if(this.options.ecmaVersion>=9&&this.eat(Ce.ellipsis))return Ve?(Yn.argument=this.parseIdent(!1),this.type===Ce.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(Yn,"RestElement")):(Yn.argument=this.parseMaybeAssign(!1,Sn),this.type===Ce.comma&&Sn&&Sn.trailingComma<0&&(Sn.trailingComma=this.start),this.finishNode(Yn,"SpreadElement"));this.options.ecmaVersion>=6&&(Yn.method=!1,Yn.shorthand=!1,(Ve||Sn)&&(Br=this.start,Vr=this.startLoc),Ve||(or=this.eat(Ce.star)));var Zr=this.containsEsc;return this.parsePropertyName(Yn),!Ve&&!Zr&&this.options.ecmaVersion>=8&&!or&&this.isAsyncProp(Yn)?(br=!0,or=this.options.ecmaVersion>=9&&this.eat(Ce.star),this.parsePropertyName(Yn)):br=!1,this.parsePropertyValue(Yn,Ve,or,br,Br,Vr,Sn,Zr),this.finishNode(Yn,"Property")},kn.parseGetterSetter=function(Ve){Ve.kind=Ve.key.name,this.parsePropertyName(Ve),Ve.value=this.parseMethod(!1);var Sn=Ve.kind==="get"?0:1;if(Ve.value.params.length!==Sn){var Yn=Ve.value.start;Ve.kind==="get"?this.raiseRecoverable(Yn,"getter should have no params"):this.raiseRecoverable(Yn,"setter should have exactly one param")}else Ve.kind==="set"&&Ve.value.params[0].type==="RestElement"&&this.raiseRecoverable(Ve.value.params[0].start,"Setter cannot use rest params")},kn.parsePropertyValue=function(Ve,Sn,Yn,or,br,Br,Vr,Zr){(Yn||or)&&this.type===Ce.colon&&this.unexpected(),this.eat(Ce.colon)?(Ve.value=Sn?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Vr),Ve.kind="init"):this.options.ecmaVersion>=6&&this.type===Ce.parenL?(Sn&&this.unexpected(),Ve.kind="init",Ve.method=!0,Ve.value=this.parseMethod(Yn,or)):!Sn&&!Zr&&this.options.ecmaVersion>=5&&!Ve.computed&&Ve.key.type==="Identifier"&&(Ve.key.name==="get"||Ve.key.name==="set")&&this.type!==Ce.comma&&this.type!==Ce.braceR&&this.type!==Ce.eq?((Yn||or)&&this.unexpected(),this.parseGetterSetter(Ve)):this.options.ecmaVersion>=6&&!Ve.computed&&Ve.key.type==="Identifier"?((Yn||or)&&this.unexpected(),this.checkUnreserved(Ve.key),Ve.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=br),Ve.kind="init",Sn?Ve.value=this.parseMaybeDefault(br,Br,this.copyNode(Ve.key)):this.type===Ce.eq&&Vr?(Vr.shorthandAssign<0&&(Vr.shorthandAssign=this.start),Ve.value=this.parseMaybeDefault(br,Br,this.copyNode(Ve.key))):Ve.value=this.copyNode(Ve.key),Ve.shorthand=!0):this.unexpected()},kn.parsePropertyName=function(Ve){if(this.options.ecmaVersion>=6){if(this.eat(Ce.bracketL))return Ve.computed=!0,Ve.key=this.parseMaybeAssign(),this.expect(Ce.bracketR),Ve.key;Ve.computed=!1}return Ve.key=this.type===Ce.num||this.type===Ce.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},kn.initFunction=function(Ve){Ve.id=null,this.options.ecmaVersion>=6&&(Ve.generator=Ve.expression=!1),this.options.ecmaVersion>=8&&(Ve.async=!1)},kn.parseMethod=function(Ve,Sn,Yn){var or=this.startNode(),br=this.yieldPos,Br=this.awaitPos,Vr=this.awaitIdentPos;return this.initFunction(or),this.options.ecmaVersion>=6&&(or.generator=Ve),this.options.ecmaVersion>=8&&(or.async=!!Sn),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(_n(Sn,or.generator)|hn|(Yn?Kn:0)),this.expect(Ce.parenL),or.params=this.parseBindingList(Ce.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(or,!1,!0,!1),this.yieldPos=br,this.awaitPos=Br,this.awaitIdentPos=Vr,this.finishNode(or,"FunctionExpression")},kn.parseArrowExpression=function(Ve,Sn,Yn,or){var br=this.yieldPos,Br=this.awaitPos,Vr=this.awaitIdentPos;return this.enterScope(_n(Yn,!1)|ir),this.initFunction(Ve),this.options.ecmaVersion>=8&&(Ve.async=!!Yn),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,Ve.params=this.toAssignableList(Sn,!0),this.parseFunctionBody(Ve,!0,!1,or),this.yieldPos=br,this.awaitPos=Br,this.awaitIdentPos=Vr,this.finishNode(Ve,"ArrowFunctionExpression")},kn.parseFunctionBody=function(Ve,Sn,Yn,or){var br=Sn&&this.type!==Ce.braceL,Br=this.strict,Vr=!1;if(br)Ve.body=this.parseMaybeAssign(or),Ve.expression=!0,this.checkParams(Ve,!1);else{var Zr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(Ve.params);(!Br||Zr)&&(Vr=this.strictDirective(this.end),Vr&&Zr&&this.raiseRecoverable(Ve.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var qr=this.labels;this.labels=[],Vr&&(this.strict=!0),this.checkParams(Ve,!Br&&!Vr&&!Sn&&!Yn&&this.isSimpleParamList(Ve.params)),this.strict&&Ve.id&&this.checkLValSimple(Ve.id,mr),Ve.body=this.parseBlock(!1,void 0,Vr&&!Br),Ve.expression=!1,this.adaptDirectivePrologue(Ve.body.body),this.labels=qr}this.exitScope()},kn.isSimpleParamList=function(Ve){for(var Sn=0,Yn=Ve;Sn<Yn.length;Sn+=1){var or=Yn[Sn];if(or.type!=="Identifier")return!1}return!0},kn.checkParams=function(Ve,Sn){for(var Yn=Object.create(null),or=0,br=Ve.params;or<br.length;or+=1){var Br=br[or];this.checkLValInnerPattern(Br,Xn,Sn?null:Yn)}},kn.parseExprList=function(Ve,Sn,Yn,or){for(var br=[],Br=!0;!this.eat(Ve);){if(Br)Br=!1;else if(this.expect(Ce.comma),Sn&&this.afterTrailingComma(Ve))break;var Vr=void 0;Yn&&this.type===Ce.comma?Vr=null:this.type===Ce.ellipsis?(Vr=this.parseSpread(or),or&&this.type===Ce.comma&&or.trailingComma<0&&(or.trailingComma=this.start)):Vr=this.parseMaybeAssign(!1,or),br.push(Vr)}return br},kn.checkUnreserved=function(Ve){var Sn=Ve.start,Yn=Ve.end,or=Ve.name;if(this.inGenerator&&or==="yield"&&this.raiseRecoverable(Sn,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&or==="await"&&this.raiseRecoverable(Sn,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&or==="arguments"&&this.raiseRecoverable(Sn,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(or==="arguments"||or==="await")&&this.raise(Sn,"Cannot use "+or+" in class static initialization block"),this.keywords.test(or)&&this.raise(Sn,"Unexpected keyword '"+or+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Sn,Yn).indexOf("\\")!==-1)){var br=this.strict?this.reservedWordsStrict:this.reservedWords;br.test(or)&&(!this.inAsync&&or==="await"&&this.raiseRecoverable(Sn,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Sn,"The keyword '"+or+"' is reserved"))}},kn.parseIdent=function(Ve){var Sn=this.parseIdentNode();return this.next(!!Ve),this.finishNode(Sn,"Identifier"),Ve||(this.checkUnreserved(Sn),Sn.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Sn.start)),Sn},kn.parseIdentNode=function(){var Ve=this.startNode();return this.type===Ce.name?Ve.name=this.value:this.type.keyword?(Ve.name=this.type.keyword,(Ve.name==="class"||Ve.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),Ve},kn.parsePrivateIdent=function(){var Ve=this.startNode();return this.type===Ce.privateId?Ve.name=this.value:this.unexpected(),this.next(),this.finishNode(Ve,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(Ve.start,"Private field '#"+Ve.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(Ve)),Ve},kn.parseYield=function(Ve){this.yieldPos||(this.yieldPos=this.start);var Sn=this.startNode();return this.next(),this.type===Ce.semi||this.canInsertSemicolon()||this.type!==Ce.star&&!this.type.startsExpr?(Sn.delegate=!1,Sn.argument=null):(Sn.delegate=this.eat(Ce.star),Sn.argument=this.parseMaybeAssign(Ve)),this.finishNode(Sn,"YieldExpression")},kn.parseAwait=function(Ve){this.awaitPos||(this.awaitPos=this.start);var Sn=this.startNode();return this.next(),Sn.argument=this.parseMaybeUnary(null,!0,!1,Ve),this.finishNode(Sn,"AwaitExpression")};var Rn=lr.prototype;Rn.raise=function(Ve,Sn){var Yn=Wn(this.input,Ve);Sn+=" ("+Yn.line+":"+Yn.column+")";var or=new SyntaxError(Sn);throw or.pos=Ve,or.loc=Yn,or.raisedAt=this.pos,or},Rn.raiseRecoverable=Rn.raise,Rn.curPosition=function(){if(this.options.locations)return new Qn(this.curLine,this.pos-this.lineStart)};var qn=lr.prototype,nr=function(Sn){this.flags=Sn,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};qn.enterScope=function(Ve){this.scopeStack.push(new nr(Ve))},qn.exitScope=function(){this.scopeStack.pop()},qn.treatFunctionsAsVarInScope=function(Ve){return Ve.flags&cr||!this.inModule&&Ve.flags&jn},qn.declareName=function(Ve,Sn,Yn){var or=!1;if(Sn===rr){var br=this.currentScope();or=br.lexical.indexOf(Ve)>-1||br.functions.indexOf(Ve)>-1||br.var.indexOf(Ve)>-1,br.lexical.push(Ve),this.inModule&&br.flags&jn&&delete this.undefinedExports[Ve]}else if(Sn===sr){var Br=this.currentScope();Br.lexical.push(Ve)}else if(Sn===ar){var Vr=this.currentScope();this.treatFunctionsAsVar?or=Vr.lexical.indexOf(Ve)>-1:or=Vr.lexical.indexOf(Ve)>-1||Vr.var.indexOf(Ve)>-1,Vr.functions.push(Ve)}else for(var Zr=this.scopeStack.length-1;Zr>=0;--Zr){var qr=this.scopeStack[Zr];if(qr.lexical.indexOf(Ve)>-1&&!(qr.flags&Gn&&qr.lexical[0]===Ve)||!this.treatFunctionsAsVarInScope(qr)&&qr.functions.indexOf(Ve)>-1){or=!0;break}if(qr.var.push(Ve),this.inModule&&qr.flags&jn&&delete this.undefinedExports[Ve],qr.flags&Lt)break}or&&this.raiseRecoverable(Yn,"Identifier '"+Ve+"' has already been declared")},qn.checkLocalExport=function(Ve){this.scopeStack[0].lexical.indexOf(Ve.name)===-1&&this.scopeStack[0].var.indexOf(Ve.name)===-1&&(this.undefinedExports[Ve.name]=Ve)},qn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},qn.currentVarScope=function(){for(var Ve=this.scopeStack.length-1;;Ve--){var Sn=this.scopeStack[Ve];if(Sn.flags&Lt)return Sn}},qn.currentThisScope=function(){for(var Ve=this.scopeStack.length-1;;Ve--){var Sn=this.scopeStack[Ve];if(Sn.flags&Lt&&!(Sn.flags&ir))return Sn}};var er=function(Sn,Yn,or){this.type="",this.start=Yn,this.end=0,Sn.options.locations&&(this.loc=new Pn(Sn,or)),Sn.options.directSourceFile&&(this.sourceFile=Sn.options.directSourceFile),Sn.options.ranges&&(this.range=[Yn,0])},fr=lr.prototype;fr.startNode=function(){return new er(this,this.start,this.startLoc)},fr.startNodeAt=function(Ve,Sn){return new er(this,Ve,Sn)};function pr(Ve,Sn,Yn,or){return Ve.type=Sn,Ve.end=Yn,this.options.locations&&(Ve.loc.end=or),this.options.ranges&&(Ve.range[1]=Yn),Ve}fr.finishNode=function(Ve,Sn){return pr.call(this,Ve,Sn,this.lastTokEnd,this.lastTokEndLoc)},fr.finishNodeAt=function(Ve,Sn,Yn,or){return pr.call(this,Ve,Sn,Yn,or)},fr.copyNode=function(Ve){var Sn=new er(this,Ve.start,this.startLoc);for(var Yn in Ve)Sn[Yn]=Ve[Yn];return Sn};var _r="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",xr=_r+" Extended_Pictographic",vr=xr,Sr=vr+" EBase EComp EMod EPres ExtPict",kr=Sr,Nr=kr,Pr={9:_r,10:xr,11:vr,12:Sr,13:kr,14:Nr},Ar="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Ur={9:"",10:"",11:"",12:"",13:"",14:Ar},jr="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Hr="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Kr=Hr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Rr=Kr+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Lr=Rr+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Yr=Lr+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",eo=Yr+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Jr={9:Hr,10:Kr,11:Rr,12:Lr,13:Yr,14:eo},oo={};function ro(Ve){var Sn=oo[Ve]={binary:Ln(Pr[Ve]+" "+jr),binaryOfStrings:Ln(Ur[Ve]),nonBinary:{General_Category:Ln(jr),Script:Ln(Jr[Ve])}};Sn.nonBinary.Script_Extensions=Sn.nonBinary.Script,Sn.nonBinary.gc=Sn.nonBinary.General_Category,Sn.nonBinary.sc=Sn.nonBinary.Script,Sn.nonBinary.scx=Sn.nonBinary.Script_Extensions}for(var ao=0,lo=[9,10,11,12,13,14];ao<lo.length;ao+=1){var io=lo[ao];ro(io)}var Xr=lr.prototype,yo=function(Sn){this.parser=Sn,this.validFlags="gim"+(Sn.options.ecmaVersion>=6?"uy":"")+(Sn.options.ecmaVersion>=9?"s":"")+(Sn.options.ecmaVersion>=13?"d":"")+(Sn.options.ecmaVersion>=15?"v":""),this.unicodeProperties=oo[Sn.options.ecmaVersion>=14?14:Sn.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};yo.prototype.reset=function(Sn,Yn,or){var br=or.indexOf("v")!==-1,Br=or.indexOf("u")!==-1;this.start=Sn|0,this.source=Yn+"",this.flags=or,br&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Br&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Br&&this.parser.options.ecmaVersion>=9)},yo.prototype.raise=function(Sn){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Sn)},yo.prototype.at=function(Sn,Yn){Yn===void 0&&(Yn=!1);var or=this.source,br=or.length;if(Sn>=br)return-1;var Br=or.charCodeAt(Sn);if(!(Yn||this.switchU)||Br<=55295||Br>=57344||Sn+1>=br)return Br;var Vr=or.charCodeAt(Sn+1);return Vr>=56320&&Vr<=57343?(Br<<10)+Vr-56613888:Br},yo.prototype.nextIndex=function(Sn,Yn){Yn===void 0&&(Yn=!1);var or=this.source,br=or.length;if(Sn>=br)return br;var Br=or.charCodeAt(Sn),Vr;return!(Yn||this.switchU)||Br<=55295||Br>=57344||Sn+1>=br||(Vr=or.charCodeAt(Sn+1))<56320||Vr>57343?Sn+1:Sn+2},yo.prototype.current=function(Sn){return Sn===void 0&&(Sn=!1),this.at(this.pos,Sn)},yo.prototype.lookahead=function(Sn){return Sn===void 0&&(Sn=!1),this.at(this.nextIndex(this.pos,Sn),Sn)},yo.prototype.advance=function(Sn){Sn===void 0&&(Sn=!1),this.pos=this.nextIndex(this.pos,Sn)},yo.prototype.eat=function(Sn,Yn){return Yn===void 0&&(Yn=!1),this.current(Yn)===Sn?(this.advance(Yn),!0):!1},yo.prototype.eatChars=function(Sn,Yn){Yn===void 0&&(Yn=!1);for(var or=this.pos,br=0,Br=Sn;br<Br.length;br+=1){var Vr=Br[br],Zr=this.at(or,Yn);if(Zr===-1||Zr!==Vr)return!1;or=this.nextIndex(or,Yn)}return this.pos=or,!0},Xr.validateRegExpFlags=function(Ve){for(var Sn=Ve.validFlags,Yn=Ve.flags,or=!1,br=!1,Br=0;Br<Yn.length;Br++){var Vr=Yn.charAt(Br);Sn.indexOf(Vr)===-1&&this.raise(Ve.start,"Invalid regular expression flag"),Yn.indexOf(Vr,Br+1)>-1&&this.raise(Ve.start,"Duplicate regular expression flag"),Vr==="u"&&(or=!0),Vr==="v"&&(br=!0)}this.options.ecmaVersion>=15&&or&&br&&this.raise(Ve.start,"Invalid regular expression flag")},Xr.validateRegExpPattern=function(Ve){this.regexp_pattern(Ve),!Ve.switchN&&this.options.ecmaVersion>=9&&Ve.groupNames.length>0&&(Ve.switchN=!0,this.regexp_pattern(Ve))},Xr.regexp_pattern=function(Ve){Ve.pos=0,Ve.lastIntValue=0,Ve.lastStringValue="",Ve.lastAssertionIsQuantifiable=!1,Ve.numCapturingParens=0,Ve.maxBackReference=0,Ve.groupNames.length=0,Ve.backReferenceNames.length=0,this.regexp_disjunction(Ve),Ve.pos!==Ve.source.length&&(Ve.eat(41)&&Ve.raise("Unmatched ')'"),(Ve.eat(93)||Ve.eat(125))&&Ve.raise("Lone quantifier brackets")),Ve.maxBackReference>Ve.numCapturingParens&&Ve.raise("Invalid escape");for(var Sn=0,Yn=Ve.backReferenceNames;Sn<Yn.length;Sn+=1){var or=Yn[Sn];Ve.groupNames.indexOf(or)===-1&&Ve.raise("Invalid named capture referenced")}},Xr.regexp_disjunction=function(Ve){for(this.regexp_alternative(Ve);Ve.eat(124);)this.regexp_alternative(Ve);this.regexp_eatQuantifier(Ve,!0)&&Ve.raise("Nothing to repeat"),Ve.eat(123)&&Ve.raise("Lone quantifier brackets")},Xr.regexp_alternative=function(Ve){for(;Ve.pos<Ve.source.length&&this.regexp_eatTerm(Ve););},Xr.regexp_eatTerm=function(Ve){return this.regexp_eatAssertion(Ve)?(Ve.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(Ve)&&Ve.switchU&&Ve.raise("Invalid quantifier"),!0):(Ve.switchU?this.regexp_eatAtom(Ve):this.regexp_eatExtendedAtom(Ve))?(this.regexp_eatQuantifier(Ve),!0):!1},Xr.regexp_eatAssertion=function(Ve){var Sn=Ve.pos;if(Ve.lastAssertionIsQuantifiable=!1,Ve.eat(94)||Ve.eat(36))return!0;if(Ve.eat(92)){if(Ve.eat(66)||Ve.eat(98))return!0;Ve.pos=Sn}if(Ve.eat(40)&&Ve.eat(63)){var Yn=!1;if(this.options.ecmaVersion>=9&&(Yn=Ve.eat(60)),Ve.eat(61)||Ve.eat(33))return this.regexp_disjunction(Ve),Ve.eat(41)||Ve.raise("Unterminated group"),Ve.lastAssertionIsQuantifiable=!Yn,!0}return Ve.pos=Sn,!1},Xr.regexp_eatQuantifier=function(Ve,Sn){return Sn===void 0&&(Sn=!1),this.regexp_eatQuantifierPrefix(Ve,Sn)?(Ve.eat(63),!0):!1},Xr.regexp_eatQuantifierPrefix=function(Ve,Sn){return Ve.eat(42)||Ve.eat(43)||Ve.eat(63)||this.regexp_eatBracedQuantifier(Ve,Sn)},Xr.regexp_eatBracedQuantifier=function(Ve,Sn){var Yn=Ve.pos;if(Ve.eat(123)){var or=0,br=-1;if(this.regexp_eatDecimalDigits(Ve)&&(or=Ve.lastIntValue,Ve.eat(44)&&this.regexp_eatDecimalDigits(Ve)&&(br=Ve.lastIntValue),Ve.eat(125)))return br!==-1&&br<or&&!Sn&&Ve.raise("numbers out of order in {} quantifier"),!0;Ve.switchU&&!Sn&&Ve.raise("Incomplete quantifier"),Ve.pos=Yn}return!1},Xr.regexp_eatAtom=function(Ve){return this.regexp_eatPatternCharacters(Ve)||Ve.eat(46)||this.regexp_eatReverseSolidusAtomEscape(Ve)||this.regexp_eatCharacterClass(Ve)||this.regexp_eatUncapturingGroup(Ve)||this.regexp_eatCapturingGroup(Ve)},Xr.regexp_eatReverseSolidusAtomEscape=function(Ve){var Sn=Ve.pos;if(Ve.eat(92)){if(this.regexp_eatAtomEscape(Ve))return!0;Ve.pos=Sn}return!1},Xr.regexp_eatUncapturingGroup=function(Ve){var Sn=Ve.pos;if(Ve.eat(40)){if(Ve.eat(63)&&Ve.eat(58)){if(this.regexp_disjunction(Ve),Ve.eat(41))return!0;Ve.raise("Unterminated group")}Ve.pos=Sn}return!1},Xr.regexp_eatCapturingGroup=function(Ve){if(Ve.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(Ve):Ve.current()===63&&Ve.raise("Invalid group"),this.regexp_disjunction(Ve),Ve.eat(41))return Ve.numCapturingParens+=1,!0;Ve.raise("Unterminated group")}return!1},Xr.regexp_eatExtendedAtom=function(Ve){return Ve.eat(46)||this.regexp_eatReverseSolidusAtomEscape(Ve)||this.regexp_eatCharacterClass(Ve)||this.regexp_eatUncapturingGroup(Ve)||this.regexp_eatCapturingGroup(Ve)||this.regexp_eatInvalidBracedQuantifier(Ve)||this.regexp_eatExtendedPatternCharacter(Ve)},Xr.regexp_eatInvalidBracedQuantifier=function(Ve){return this.regexp_eatBracedQuantifier(Ve,!0)&&Ve.raise("Nothing to repeat"),!1},Xr.regexp_eatSyntaxCharacter=function(Ve){var Sn=Ve.current();return ko(Sn)?(Ve.lastIntValue=Sn,Ve.advance(),!0):!1};function ko(Ve){return Ve===36||Ve>=40&&Ve<=43||Ve===46||Ve===63||Ve>=91&&Ve<=94||Ve>=123&&Ve<=125}Xr.regexp_eatPatternCharacters=function(Ve){for(var Sn=Ve.pos,Yn=0;(Yn=Ve.current())!==-1&&!ko(Yn);)Ve.advance();return Ve.pos!==Sn},Xr.regexp_eatExtendedPatternCharacter=function(Ve){var Sn=Ve.current();return Sn!==-1&&Sn!==36&&!(Sn>=40&&Sn<=43)&&Sn!==46&&Sn!==63&&Sn!==91&&Sn!==94&&Sn!==124?(Ve.advance(),!0):!1},Xr.regexp_groupSpecifier=function(Ve){if(Ve.eat(63)){if(this.regexp_eatGroupName(Ve)){Ve.groupNames.indexOf(Ve.lastStringValue)!==-1&&Ve.raise("Duplicate capture group name"),Ve.groupNames.push(Ve.lastStringValue);return}Ve.raise("Invalid group")}},Xr.regexp_eatGroupName=function(Ve){if(Ve.lastStringValue="",Ve.eat(60)){if(this.regexp_eatRegExpIdentifierName(Ve)&&Ve.eat(62))return!0;Ve.raise("Invalid capture group name")}return!1},Xr.regexp_eatRegExpIdentifierName=function(Ve){if(Ve.lastStringValue="",this.regexp_eatRegExpIdentifierStart(Ve)){for(Ve.lastStringValue+=Tn(Ve.lastIntValue);this.regexp_eatRegExpIdentifierPart(Ve);)Ve.lastStringValue+=Tn(Ve.lastIntValue);return!0}return!1},Xr.regexp_eatRegExpIdentifierStart=function(Ve){var Sn=Ve.pos,Yn=this.options.ecmaVersion>=11,or=Ve.current(Yn);return Ve.advance(Yn),or===92&&this.regexp_eatRegExpUnicodeEscapeSequence(Ve,Yn)&&(or=Ve.lastIntValue),xo(or)?(Ve.lastIntValue=or,!0):(Ve.pos=Sn,!1)};function xo(Ve){return de(Ve,!0)||Ve===36||Ve===95}Xr.regexp_eatRegExpIdentifierPart=function(Ve){var Sn=Ve.pos,Yn=this.options.ecmaVersion>=11,or=Ve.current(Yn);return Ve.advance(Yn),or===92&&this.regexp_eatRegExpUnicodeEscapeSequence(Ve,Yn)&&(or=Ve.lastIntValue),_o(or)?(Ve.lastIntValue=or,!0):(Ve.pos=Sn,!1)};function _o(Ve){return ue(Ve,!0)||Ve===36||Ve===95||Ve===8204||Ve===8205}Xr.regexp_eatAtomEscape=function(Ve){return this.regexp_eatBackReference(Ve)||this.regexp_eatCharacterClassEscape(Ve)||this.regexp_eatCharacterEscape(Ve)||Ve.switchN&&this.regexp_eatKGroupName(Ve)?!0:(Ve.switchU&&(Ve.current()===99&&Ve.raise("Invalid unicode escape"),Ve.raise("Invalid escape")),!1)},Xr.regexp_eatBackReference=function(Ve){var Sn=Ve.pos;if(this.regexp_eatDecimalEscape(Ve)){var Yn=Ve.lastIntValue;if(Ve.switchU)return Yn>Ve.maxBackReference&&(Ve.maxBackReference=Yn),!0;if(Yn<=Ve.numCapturingParens)return!0;Ve.pos=Sn}return!1},Xr.regexp_eatKGroupName=function(Ve){if(Ve.eat(107)){if(this.regexp_eatGroupName(Ve))return Ve.backReferenceNames.push(Ve.lastStringValue),!0;Ve.raise("Invalid named reference")}return!1},Xr.regexp_eatCharacterEscape=function(Ve){return this.regexp_eatControlEscape(Ve)||this.regexp_eatCControlLetter(Ve)||this.regexp_eatZero(Ve)||this.regexp_eatHexEscapeSequence(Ve)||this.regexp_eatRegExpUnicodeEscapeSequence(Ve,!1)||!Ve.switchU&&this.regexp_eatLegacyOctalEscapeSequence(Ve)||this.regexp_eatIdentityEscape(Ve)},Xr.regexp_eatCControlLetter=function(Ve){var Sn=Ve.pos;if(Ve.eat(99)){if(this.regexp_eatControlLetter(Ve))return!0;Ve.pos=Sn}return!1},Xr.regexp_eatZero=function(Ve){return Ve.current()===48&&!Gr(Ve.lookahead())?(Ve.lastIntValue=0,Ve.advance(),!0):!1},Xr.regexp_eatControlEscape=function(Ve){var Sn=Ve.current();return Sn===116?(Ve.lastIntValue=9,Ve.advance(),!0):Sn===110?(Ve.lastIntValue=10,Ve.advance(),!0):Sn===118?(Ve.lastIntValue=11,Ve.advance(),!0):Sn===102?(Ve.lastIntValue=12,Ve.advance(),!0):Sn===114?(Ve.lastIntValue=13,Ve.advance(),!0):!1},Xr.regexp_eatControlLetter=function(Ve){var Sn=Ve.current();return So(Sn)?(Ve.lastIntValue=Sn%32,Ve.advance(),!0):!1};function So(Ve){return Ve>=65&&Ve<=90||Ve>=97&&Ve<=122}Xr.regexp_eatRegExpUnicodeEscapeSequence=function(Ve,Sn){Sn===void 0&&(Sn=!1);var Yn=Ve.pos,or=Sn||Ve.switchU;if(Ve.eat(117)){if(this.regexp_eatFixedHexDigits(Ve,4)){var br=Ve.lastIntValue;if(or&&br>=55296&&br<=56319){var Br=Ve.pos;if(Ve.eat(92)&&Ve.eat(117)&&this.regexp_eatFixedHexDigits(Ve,4)){var Vr=Ve.lastIntValue;if(Vr>=56320&&Vr<=57343)return Ve.lastIntValue=(br-55296)*1024+(Vr-56320)+65536,!0}Ve.pos=Br,Ve.lastIntValue=br}return!0}if(or&&Ve.eat(123)&&this.regexp_eatHexDigits(Ve)&&Ve.eat(125)&&Io(Ve.lastIntValue))return!0;or&&Ve.raise("Invalid unicode escape"),Ve.pos=Yn}return!1};function Io(Ve){return Ve>=0&&Ve<=1114111}Xr.regexp_eatIdentityEscape=function(Ve){if(Ve.switchU)return this.regexp_eatSyntaxCharacter(Ve)?!0:Ve.eat(47)?(Ve.lastIntValue=47,!0):!1;var Sn=Ve.current();return Sn!==99&&(!Ve.switchN||Sn!==107)?(Ve.lastIntValue=Sn,Ve.advance(),!0):!1},Xr.regexp_eatDecimalEscape=function(Ve){Ve.lastIntValue=0;var Sn=Ve.current();if(Sn>=49&&Sn<=57){do Ve.lastIntValue=10*Ve.lastIntValue+(Sn-48),Ve.advance();while((Sn=Ve.current())>=48&&Sn<=57);return!0}return!1};var Eo=0,dr=1,Or=2;Xr.regexp_eatCharacterClassEscape=function(Ve){var Sn=Ve.current();if(yr(Sn))return Ve.lastIntValue=-1,Ve.advance(),dr;var Yn=!1;if(Ve.switchU&&this.options.ecmaVersion>=9&&((Yn=Sn===80)||Sn===112)){Ve.lastIntValue=-1,Ve.advance();var or;if(Ve.eat(123)&&(or=this.regexp_eatUnicodePropertyValueExpression(Ve))&&Ve.eat(125))return Yn&&or===Or&&Ve.raise("Invalid property name"),or;Ve.raise("Invalid property name")}return Eo};function yr(Ve){return Ve===100||Ve===68||Ve===115||Ve===83||Ve===119||Ve===87}Xr.regexp_eatUnicodePropertyValueExpression=function(Ve){var Sn=Ve.pos;if(this.regexp_eatUnicodePropertyName(Ve)&&Ve.eat(61)){var Yn=Ve.lastStringValue;if(this.regexp_eatUnicodePropertyValue(Ve)){var or=Ve.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(Ve,Yn,or),dr}}if(Ve.pos=Sn,this.regexp_eatLoneUnicodePropertyNameOrValue(Ve)){var br=Ve.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(Ve,br)}return Eo},Xr.regexp_validateUnicodePropertyNameAndValue=function(Ve,Sn,Yn){Mn(Ve.unicodeProperties.nonBinary,Sn)||Ve.raise("Invalid property name"),Ve.unicodeProperties.nonBinary[Sn].test(Yn)||Ve.raise("Invalid property value")},Xr.regexp_validateUnicodePropertyNameOrValue=function(Ve,Sn){if(Ve.unicodeProperties.binary.test(Sn))return dr;if(Ve.switchV&&Ve.unicodeProperties.binaryOfStrings.test(Sn))return Or;Ve.raise("Invalid property name")},Xr.regexp_eatUnicodePropertyName=function(Ve){var Sn=0;for(Ve.lastStringValue="";Tr(Sn=Ve.current());)Ve.lastStringValue+=Tn(Sn),Ve.advance();return Ve.lastStringValue!==""};function Tr(Ve){return So(Ve)||Ve===95}Xr.regexp_eatUnicodePropertyValue=function(Ve){var Sn=0;for(Ve.lastStringValue="";Ir(Sn=Ve.current());)Ve.lastStringValue+=Tn(Sn),Ve.advance();return Ve.lastStringValue!==""};function Ir(Ve){return Tr(Ve)||Gr(Ve)}Xr.regexp_eatLoneUnicodePropertyNameOrValue=function(Ve){return this.regexp_eatUnicodePropertyValue(Ve)},Xr.regexp_eatCharacterClass=function(Ve){if(Ve.eat(91)){var Sn=Ve.eat(94),Yn=this.regexp_classContents(Ve);return Ve.eat(93)||Ve.raise("Unterminated character class"),Sn&&Yn===Or&&Ve.raise("Negated character class may contain strings"),!0}return!1},Xr.regexp_classContents=function(Ve){return Ve.current()===93?dr:Ve.switchV?this.regexp_classSetExpression(Ve):(this.regexp_nonEmptyClassRanges(Ve),dr)},Xr.regexp_nonEmptyClassRanges=function(Ve){for(;this.regexp_eatClassAtom(Ve);){var Sn=Ve.lastIntValue;if(Ve.eat(45)&&this.regexp_eatClassAtom(Ve)){var Yn=Ve.lastIntValue;Ve.switchU&&(Sn===-1||Yn===-1)&&Ve.raise("Invalid character class"),Sn!==-1&&Yn!==-1&&Sn>Yn&&Ve.raise("Range out of order in character class")}}},Xr.regexp_eatClassAtom=function(Ve){var Sn=Ve.pos;if(Ve.eat(92)){if(this.regexp_eatClassEscape(Ve))return!0;if(Ve.switchU){var Yn=Ve.current();(Yn===99||no(Yn))&&Ve.raise("Invalid class escape"),Ve.raise("Invalid escape")}Ve.pos=Sn}var or=Ve.current();return or!==93?(Ve.lastIntValue=or,Ve.advance(),!0):!1},Xr.regexp_eatClassEscape=function(Ve){var Sn=Ve.pos;if(Ve.eat(98))return Ve.lastIntValue=8,!0;if(Ve.switchU&&Ve.eat(45))return Ve.lastIntValue=45,!0;if(!Ve.switchU&&Ve.eat(99)){if(this.regexp_eatClassControlLetter(Ve))return!0;Ve.pos=Sn}return this.regexp_eatCharacterClassEscape(Ve)||this.regexp_eatCharacterEscape(Ve)},Xr.regexp_classSetExpression=function(Ve){var Sn=dr,Yn;if(!this.regexp_eatClassSetRange(Ve))if(Yn=this.regexp_eatClassSetOperand(Ve)){Yn===Or&&(Sn=Or);for(var or=Ve.pos;Ve.eatChars([38,38]);){if(Ve.current()!==38&&(Yn=this.regexp_eatClassSetOperand(Ve))){Yn!==Or&&(Sn=dr);continue}Ve.raise("Invalid character in character class")}if(or!==Ve.pos)return Sn;for(;Ve.eatChars([45,45]);)this.regexp_eatClassSetOperand(Ve)||Ve.raise("Invalid character in character class");if(or!==Ve.pos)return Sn}else Ve.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(Ve)){if(Yn=this.regexp_eatClassSetOperand(Ve),!Yn)return Sn;Yn===Or&&(Sn=Or)}},Xr.regexp_eatClassSetRange=function(Ve){var Sn=Ve.pos;if(this.regexp_eatClassSetCharacter(Ve)){var Yn=Ve.lastIntValue;if(Ve.eat(45)&&this.regexp_eatClassSetCharacter(Ve)){var or=Ve.lastIntValue;return Yn!==-1&&or!==-1&&Yn>or&&Ve.raise("Range out of order in character class"),!0}Ve.pos=Sn}return!1},Xr.regexp_eatClassSetOperand=function(Ve){return this.regexp_eatClassSetCharacter(Ve)?dr:this.regexp_eatClassStringDisjunction(Ve)||this.regexp_eatNestedClass(Ve)},Xr.regexp_eatNestedClass=function(Ve){var Sn=Ve.pos;if(Ve.eat(91)){var Yn=Ve.eat(94),or=this.regexp_classContents(Ve);if(Ve.eat(93))return Yn&&or===Or&&Ve.raise("Negated character class may contain strings"),or;Ve.pos=Sn}if(Ve.eat(92)){var br=this.regexp_eatCharacterClassEscape(Ve);if(br)return br;Ve.pos=Sn}return null},Xr.regexp_eatClassStringDisjunction=function(Ve){var Sn=Ve.pos;if(Ve.eatChars([92,113])){if(Ve.eat(123)){var Yn=this.regexp_classStringDisjunctionContents(Ve);if(Ve.eat(125))return Yn}else Ve.raise("Invalid escape");Ve.pos=Sn}return null},Xr.regexp_classStringDisjunctionContents=function(Ve){for(var Sn=this.regexp_classString(Ve);Ve.eat(124);)this.regexp_classString(Ve)===Or&&(Sn=Or);return Sn},Xr.regexp_classString=function(Ve){for(var Sn=0;this.regexp_eatClassSetCharacter(Ve);)Sn++;return Sn===1?dr:Or},Xr.regexp_eatClassSetCharacter=function(Ve){var Sn=Ve.pos;if(Ve.eat(92))return this.regexp_eatCharacterEscape(Ve)||this.regexp_eatClassSetReservedPunctuator(Ve)?!0:Ve.eat(98)?(Ve.lastIntValue=8,!0):(Ve.pos=Sn,!1);var Yn=Ve.current();return Yn<0||Yn===Ve.lookahead()&&$r(Yn)||Mr(Yn)?!1:(Ve.advance(),Ve.lastIntValue=Yn,!0)};function $r(Ve){return Ve===33||Ve>=35&&Ve<=38||Ve>=42&&Ve<=44||Ve===46||Ve>=58&&Ve<=64||Ve===94||Ve===96||Ve===126}function Mr(Ve){return Ve===40||Ve===41||Ve===45||Ve===47||Ve>=91&&Ve<=93||Ve>=123&&Ve<=125}Xr.regexp_eatClassSetReservedPunctuator=function(Ve){var Sn=Ve.current();return zr(Sn)?(Ve.lastIntValue=Sn,Ve.advance(),!0):!1};function zr(Ve){return Ve===33||Ve===35||Ve===37||Ve===38||Ve===44||Ve===45||Ve>=58&&Ve<=62||Ve===64||Ve===96||Ve===126}Xr.regexp_eatClassControlLetter=function(Ve){var Sn=Ve.current();return Gr(Sn)||Sn===95?(Ve.lastIntValue=Sn%32,Ve.advance(),!0):!1},Xr.regexp_eatHexEscapeSequence=function(Ve){var Sn=Ve.pos;if(Ve.eat(120)){if(this.regexp_eatFixedHexDigits(Ve,2))return!0;Ve.switchU&&Ve.raise("Invalid escape"),Ve.pos=Sn}return!1},Xr.regexp_eatDecimalDigits=function(Ve){var Sn=Ve.pos,Yn=0;for(Ve.lastIntValue=0;Gr(Yn=Ve.current());)Ve.lastIntValue=10*Ve.lastIntValue+(Yn-48),Ve.advance();return Ve.pos!==Sn};function Gr(Ve){return Ve>=48&&Ve<=57}Xr.regexp_eatHexDigits=function(Ve){var Sn=Ve.pos,Yn=0;for(Ve.lastIntValue=0;Qr(Yn=Ve.current());)Ve.lastIntValue=16*Ve.lastIntValue+Wr(Yn),Ve.advance();return Ve.pos!==Sn};function Qr(Ve){return Ve>=48&&Ve<=57||Ve>=65&&Ve<=70||Ve>=97&&Ve<=102}function Wr(Ve){return Ve>=65&&Ve<=70?10+(Ve-65):Ve>=97&&Ve<=102?10+(Ve-97):Ve-48}Xr.regexp_eatLegacyOctalEscapeSequence=function(Ve){if(this.regexp_eatOctalDigit(Ve)){var Sn=Ve.lastIntValue;if(this.regexp_eatOctalDigit(Ve)){var Yn=Ve.lastIntValue;Sn<=3&&this.regexp_eatOctalDigit(Ve)?Ve.lastIntValue=Sn*64+Yn*8+Ve.lastIntValue:Ve.lastIntValue=Sn*8+Yn}else Ve.lastIntValue=Sn;return!0}return!1},Xr.regexp_eatOctalDigit=function(Ve){var Sn=Ve.current();return no(Sn)?(Ve.lastIntValue=Sn-48,Ve.advance(),!0):(Ve.lastIntValue=0,!1)};function no(Ve){return Ve>=48&&Ve<=55}Xr.regexp_eatFixedHexDigits=function(Ve,Sn){var Yn=Ve.pos;Ve.lastIntValue=0;for(var or=0;or<Sn;++or){var br=Ve.current();if(!Qr(br))return Ve.pos=Yn,!1;Ve.lastIntValue=16*Ve.lastIntValue+Wr(br),Ve.advance()}return!0};var uo=function(Sn){this.type=Sn.type,this.value=Sn.value,this.start=Sn.start,this.end=Sn.end,Sn.options.locations&&(this.loc=new Pn(Sn,Sn.startLoc,Sn.endLoc)),Sn.options.ranges&&(this.range=[Sn.start,Sn.end])},to=lr.prototype;to.next=function(Ve){!Ve&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new uo(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},to.getToken=function(){return this.next(),new uo(this)},typeof Symbol<"u"&&(to[Symbol.iterator]=function(){var Ve=this;return{next:function(){var Sn=Ve.getToken();return{done:Sn.type===Ce.eof,value:Sn}}}}),to.nextToken=function(){var Ve=this.curContext();if((!Ve||!Ve.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(Ce.eof);if(Ve.override)return Ve.override(this);this.readToken(this.fullCharCodeAtPos())},to.readToken=function(Ve){return de(Ve,this.options.ecmaVersion>=6)||Ve===92?this.readWord():this.getTokenFromCode(Ve)},to.fullCharCodeAtPos=function(){var Ve=this.input.charCodeAt(this.pos);if(Ve<=55295||Ve>=56320)return Ve;var Sn=this.input.charCodeAt(this.pos+1);return Sn<=56319||Sn>=57344?Ve:(Ve<<10)+Sn-56613888},to.skipBlockComment=function(){var Ve=this.options.onComment&&this.curPosition(),Sn=this.pos,Yn=this.input.indexOf("*/",this.pos+=2);if(Yn===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Yn+2,this.options.locations)for(var or=void 0,br=Sn;(or=At(this.input,br,this.pos))>-1;)++this.curLine,br=this.lineStart=or;this.options.onComment&&this.options.onComment(!0,this.input.slice(Sn+2,Yn),Sn,this.pos,Ve,this.curPosition())},to.skipLineComment=function(Ve){for(var Sn=this.pos,Yn=this.options.onComment&&this.curPosition(),or=this.input.charCodeAt(this.pos+=Ve);this.pos<this.input.length&&!kt(or);)or=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Sn+Ve,this.pos),Sn,this.pos,Yn,this.curPosition())},to.skipSpace=function(){e:for(;this.pos<this.input.length;){var Ve=this.input.charCodeAt(this.pos);switch(Ve){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(Ve>8&&Ve<14||Ve>=5760&&Cn.test(String.fromCharCode(Ve)))++this.pos;else break e}}},to.finishToken=function(Ve,Sn){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Yn=this.type;this.type=Ve,this.value=Sn,this.updateContext(Yn)},to.readToken_dot=function(){var Ve=this.input.charCodeAt(this.pos+1);if(Ve>=48&&Ve<=57)return this.readNumber(!0);var Sn=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&Ve===46&&Sn===46?(this.pos+=3,this.finishToken(Ce.ellipsis)):(++this.pos,this.finishToken(Ce.dot))},to.readToken_slash=function(){var Ve=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):Ve===61?this.finishOp(Ce.assign,2):this.finishOp(Ce.slash,1)},to.readToken_mult_modulo_exp=function(Ve){var Sn=this.input.charCodeAt(this.pos+1),Yn=1,or=Ve===42?Ce.star:Ce.modulo;return this.options.ecmaVersion>=7&&Ve===42&&Sn===42&&(++Yn,or=Ce.starstar,Sn=this.input.charCodeAt(this.pos+2)),Sn===61?this.finishOp(Ce.assign,Yn+1):this.finishOp(or,Yn)},to.readToken_pipe_amp=function(Ve){var Sn=this.input.charCodeAt(this.pos+1);if(Sn===Ve){if(this.options.ecmaVersion>=12){var Yn=this.input.charCodeAt(this.pos+2);if(Yn===61)return this.finishOp(Ce.assign,3)}return this.finishOp(Ve===124?Ce.logicalOR:Ce.logicalAND,2)}return Sn===61?this.finishOp(Ce.assign,2):this.finishOp(Ve===124?Ce.bitwiseOR:Ce.bitwiseAND,1)},to.readToken_caret=function(){var Ve=this.input.charCodeAt(this.pos+1);return Ve===61?this.finishOp(Ce.assign,2):this.finishOp(Ce.bitwiseXOR,1)},to.readToken_plus_min=function(Ve){var Sn=this.input.charCodeAt(this.pos+1);return Sn===Ve?Sn===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Fe.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(Ce.incDec,2):Sn===61?this.finishOp(Ce.assign,2):this.finishOp(Ce.plusMin,1)},to.readToken_lt_gt=function(Ve){var Sn=this.input.charCodeAt(this.pos+1),Yn=1;return Sn===Ve?(Yn=Ve===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Yn)===61?this.finishOp(Ce.assign,Yn+1):this.finishOp(Ce.bitShift,Yn)):Sn===33&&Ve===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Sn===61&&(Yn=2),this.finishOp(Ce.relational,Yn))},to.readToken_eq_excl=function(Ve){var Sn=this.input.charCodeAt(this.pos+1);return Sn===61?this.finishOp(Ce.equality,this.input.charCodeAt(this.pos+2)===61?3:2):Ve===61&&Sn===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Ce.arrow)):this.finishOp(Ve===61?Ce.eq:Ce.prefix,1)},to.readToken_question=function(){var Ve=this.options.ecmaVersion;if(Ve>=11){var Sn=this.input.charCodeAt(this.pos+1);if(Sn===46){var Yn=this.input.charCodeAt(this.pos+2);if(Yn<48||Yn>57)return this.finishOp(Ce.questionDot,2)}if(Sn===63){if(Ve>=12){var or=this.input.charCodeAt(this.pos+2);if(or===61)return this.finishOp(Ce.assign,3)}return this.finishOp(Ce.coalesce,2)}}return this.finishOp(Ce.question,1)},to.readToken_numberSign=function(){var Ve=this.options.ecmaVersion,Sn=35;if(Ve>=13&&(++this.pos,Sn=this.fullCharCodeAtPos(),de(Sn,!0)||Sn===92))return this.finishToken(Ce.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Tn(Sn)+"'")},to.getTokenFromCode=function(Ve){switch(Ve){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Ce.parenL);case 41:return++this.pos,this.finishToken(Ce.parenR);case 59:return++this.pos,this.finishToken(Ce.semi);case 44:return++this.pos,this.finishToken(Ce.comma);case 91:return++this.pos,this.finishToken(Ce.bracketL);case 93:return++this.pos,this.finishToken(Ce.bracketR);case 123:return++this.pos,this.finishToken(Ce.braceL);case 125:return++this.pos,this.finishToken(Ce.braceR);case 58:return++this.pos,this.finishToken(Ce.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Ce.backQuote);case 48:var Sn=this.input.charCodeAt(this.pos+1);if(Sn===120||Sn===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Sn===111||Sn===79)return this.readRadixNumber(8);if(Sn===98||Sn===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(Ve);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(Ve);case 124:case 38:return this.readToken_pipe_amp(Ve);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(Ve);case 60:case 62:return this.readToken_lt_gt(Ve);case 61:case 33:return this.readToken_eq_excl(Ve);case 63:return this.readToken_question();case 126:return this.finishOp(Ce.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Tn(Ve)+"'")},to.finishOp=function(Ve,Sn){var Yn=this.input.slice(this.pos,this.pos+Sn);return this.pos+=Sn,this.finishToken(Ve,Yn)},to.readRegexp=function(){for(var Ve,Sn,Yn=this.pos;;){this.pos>=this.input.length&&this.raise(Yn,"Unterminated regular expression");var or=this.input.charAt(this.pos);if(Fe.test(or)&&this.raise(Yn,"Unterminated regular expression"),Ve)Ve=!1;else{if(or==="[")Sn=!0;else if(or==="]"&&Sn)Sn=!1;else if(or==="/"&&!Sn)break;Ve=or==="\\"}++this.pos}var br=this.input.slice(Yn,this.pos);++this.pos;var Br=this.pos,Vr=this.readWord1();this.containsEsc&&this.unexpected(Br);var Zr=this.regexpState||(this.regexpState=new yo(this));Zr.reset(Yn,br,Vr),this.validateRegExpFlags(Zr),this.validateRegExpPattern(Zr);var qr=null;try{qr=new RegExp(br,Vr)}catch{}return this.finishToken(Ce.regexp,{pattern:br,flags:Vr,value:qr})},to.readInt=function(Ve,Sn,Yn){for(var or=this.options.ecmaVersion>=12&&Sn===void 0,br=Yn&&this.input.charCodeAt(this.pos)===48,Br=this.pos,Vr=0,Zr=0,qr=0,ho=Sn??1/0;qr<ho;++qr,++this.pos){var po=this.input.charCodeAt(this.pos),To=void 0;if(or&&po===95){br&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Zr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),qr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Zr=po;continue}if(po>=97?To=po-97+10:po>=65?To=po-65+10:po>=48&&po<=57?To=po-48:To=1/0,To>=Ve)break;Zr=po,Vr=Vr*Ve+To}return or&&Zr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Br||Sn!=null&&this.pos-Br!==Sn?null:Vr};function vo(Ve,Sn){return Sn?parseInt(Ve,8):parseFloat(Ve.replace(/_/g,""))}function Oo(Ve){return typeof BigInt!="function"?null:BigInt(Ve.replace(/_/g,""))}to.readRadixNumber=function(Ve){var Sn=this.pos;this.pos+=2;var Yn=this.readInt(Ve);return Yn==null&&this.raise(this.start+2,"Expected number in radix "+Ve),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Yn=Oo(this.input.slice(Sn,this.pos)),++this.pos):de(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Ce.num,Yn)},to.readNumber=function(Ve){var Sn=this.pos;!Ve&&this.readInt(10,void 0,!0)===null&&this.raise(Sn,"Invalid number");var Yn=this.pos-Sn>=2&&this.input.charCodeAt(Sn)===48;Yn&&this.strict&&this.raise(Sn,"Invalid number");var or=this.input.charCodeAt(this.pos);if(!Yn&&!Ve&&this.options.ecmaVersion>=11&&or===110){var br=Oo(this.input.slice(Sn,this.pos));return++this.pos,de(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Ce.num,br)}Yn&&/[89]/.test(this.input.slice(Sn,this.pos))&&(Yn=!1),or===46&&!Yn&&(++this.pos,this.readInt(10),or=this.input.charCodeAt(this.pos)),(or===69||or===101)&&!Yn&&(or=this.input.charCodeAt(++this.pos),(or===43||or===45)&&++this.pos,this.readInt(10)===null&&this.raise(Sn,"Invalid number")),de(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Br=vo(this.input.slice(Sn,this.pos),Yn);return this.finishToken(Ce.num,Br)},to.readCodePoint=function(){var Ve=this.input.charCodeAt(this.pos),Sn;if(Ve===123){this.options.ecmaVersion<6&&this.unexpected();var Yn=++this.pos;Sn=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Sn>1114111&&this.invalidStringToken(Yn,"Code point out of bounds")}else Sn=this.readHexChar(4);return Sn},to.readString=function(Ve){for(var Sn="",Yn=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var or=this.input.charCodeAt(this.pos);if(or===Ve)break;or===92?(Sn+=this.input.slice(Yn,this.pos),Sn+=this.readEscapedChar(!1),Yn=this.pos):or===8232||or===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(kt(or)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Sn+=this.input.slice(Yn,this.pos++),this.finishToken(Ce.string,Sn)};var wo={};to.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(Ve){if(Ve===wo)this.readInvalidTemplateToken();else throw Ve}this.inTemplateElement=!1},to.invalidStringToken=function(Ve,Sn){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wo;this.raise(Ve,Sn)},to.readTmplToken=function(){for(var Ve="",Sn=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Yn=this.input.charCodeAt(this.pos);if(Yn===96||Yn===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===Ce.template||this.type===Ce.invalidTemplate)?Yn===36?(this.pos+=2,this.finishToken(Ce.dollarBraceL)):(++this.pos,this.finishToken(Ce.backQuote)):(Ve+=this.input.slice(Sn,this.pos),this.finishToken(Ce.template,Ve));if(Yn===92)Ve+=this.input.slice(Sn,this.pos),Ve+=this.readEscapedChar(!0),Sn=this.pos;else if(kt(Yn)){switch(Ve+=this.input.slice(Sn,this.pos),++this.pos,Yn){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:Ve+=`
`;break;default:Ve+=String.fromCharCode(Yn);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Sn=this.pos}else++this.pos}},to.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(Ce.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},to.readEscapedChar=function(Ve){var Sn=this.input.charCodeAt(++this.pos);switch(++this.pos,Sn){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Tn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),Ve){var Yn=this.pos-1;this.invalidStringToken(Yn,"Invalid escape sequence in template string")}default:if(Sn>=48&&Sn<=55){var or=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],br=parseInt(or,8);return br>255&&(or=or.slice(0,-1),br=parseInt(or,8)),this.pos+=or.length-1,Sn=this.input.charCodeAt(this.pos),(or!=="0"||Sn===56||Sn===57)&&(this.strict||Ve)&&this.invalidStringToken(this.pos-1-or.length,Ve?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(br)}return kt(Sn)?"":String.fromCharCode(Sn)}},to.readHexChar=function(Ve){var Sn=this.pos,Yn=this.readInt(16,Ve);return Yn===null&&this.invalidStringToken(Sn,"Bad character escape sequence"),Yn},to.readWord1=function(){this.containsEsc=!1;for(var Ve="",Sn=!0,Yn=this.pos,or=this.options.ecmaVersion>=6;this.pos<this.input.length;){var br=this.fullCharCodeAtPos();if(ue(br,or))this.pos+=br<=65535?1:2;else if(br===92){this.containsEsc=!0,Ve+=this.input.slice(Yn,this.pos);var Br=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Vr=this.readCodePoint();(Sn?de:ue)(Vr,or)||this.invalidStringToken(Br,"Invalid Unicode escape"),Ve+=Tn(Vr),Yn=this.pos}else break;Sn=!1}return Ve+this.input.slice(Yn,this.pos)},to.readWord=function(){var Ve=this.readWord1(),Sn=Ce.name;return this.keywords.test(Ve)&&(Sn=$e[Ve]),this.finishToken(Sn,Ve)};var No="8.10.0";lr.acorn={Parser:lr,version:No,defaultOptions:ur,Position:Qn,SourceLocation:Pn,getLineInfo:Wn,Node:er,TokenType:pe,tokTypes:Ce,keywordTypes:$e,TokContext:Jn,tokContexts:Hn,isIdentifierChar:ue,isIdentifierStart:de,Token:uo,isNewLine:kt,lineBreak:Fe,lineBreakG:ze,nonASCIIwhitespace:Cn};function Ro(Ve,Sn){return lr.parse(Ve,Sn)}function Lo(Ve,Sn,Yn){return lr.parseExpressionAt(Ve,Sn,Yn)}function Mo(Ve,Sn){return lr.tokenizer(Ve,Sn)}r.Node=er,r.Parser=lr,r.Position=Qn,r.SourceLocation=Pn,r.TokContext=Jn,r.Token=uo,r.TokenType=pe,r.defaultOptions=ur,r.getLineInfo=Wn,r.isIdentifierChar=ue,r.isIdentifierStart=de,r.isNewLine=kt,r.keywordTypes=$e,r.lineBreak=Fe,r.lineBreakG=ze,r.nonASCIIwhitespace=Cn,r.parse=Ro,r.parseExpressionAt=Lo,r.tokContexts=Hn,r.tokTypes=Ce,r.tokenizer=Mo,r.version=No})}(acorn,acorn.exports)),acorn.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(e,r){e=e||require$$2;var g=e.window,y=e.document,k=new function(){var le=/^(statics|enumerable|beans|preserve)$/,_e=[],Ie=_e.slice,Ue=Object.create,qe=Object.getOwnPropertyDescriptor,Et=Object.defineProperty,vn=_e.forEach||function(Dn,Un){for(var Jn=0,Hn=this.length;Jn<Hn;Jn++)Dn.call(Un,this[Jn],Jn,this)},Pt=function(Dn,Un){for(var Jn in this)this.hasOwnProperty(Jn)&&Dn.call(Un,this[Jn],Jn,this)},wn=Object.assign||function(Dn){for(var Un=1,Jn=arguments.length;Un<Jn;Un++){var Hn=arguments[Un];for(var tr in Hn)Hn.hasOwnProperty(tr)&&(Dn[tr]=Hn[tr])}return Dn},bn=function(Dn,Un,Jn){if(Dn){var Hn=qe(Dn,"length");(Hn&&typeof Hn.value=="number"?vn:Pt).call(Dn,Un,Jn=Jn||Dn)}return Jn};function In(Dn,Un,Jn,Hn,tr){var kn={};function zn(er,fr){fr=fr||(fr=qe(Un,er))&&(fr.get?fr:fr.value),typeof fr=="string"&&fr[0]==="#"&&(fr=Dn[fr.substring(1)]||fr);var pr=typeof fr=="function",_r=fr,xr=tr||pr&&!fr.base?fr&&fr.get?er in Dn:Dn[er]:null,vr;(!tr||!xr)&&(pr&&xr&&(fr.base=xr),pr&&Hn!==!1&&(vr=er.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(kn[vr[3].toLowerCase()+vr[4]]=vr[2]),(!_r||pr||!_r.get||typeof _r.get!="function"||!Fn.isPlainObject(_r))&&(_r={value:_r,writable:!0}),(qe(Dn,er)||{configurable:!0}).configurable&&(_r.configurable=!0,_r.enumerable=Jn??!vr),Et(Dn,er,_r))}if(Un){for(var xn in Un)Un.hasOwnProperty(xn)&&!le.test(xn)&&zn(xn);for(var xn in kn){var Rn=kn[xn],qn=Dn["set"+Rn],nr=Dn["get"+Rn]||qn&&Dn["is"+Rn];nr&&(Hn===!0||nr.length===0)&&zn(xn,{get:nr,set:qn})}}return Dn}function Fn(){for(var Dn=0,Un=arguments.length;Dn<Un;Dn++){var Jn=arguments[Dn];Jn&&wn(this,Jn)}return this}return In(Fn,{inject:function(Dn){if(Dn){var Un=Dn.statics===!0?Dn:Dn.statics,Jn=Dn.beans,Hn=Dn.preserve;Un!==Dn&&In(this.prototype,Dn,Dn.enumerable,Jn,Hn),In(this,Un,null,Jn,Hn)}for(var tr=1,kn=arguments.length;tr<kn;tr++)this.inject(arguments[tr]);return this},extend:function(){for(var Dn=this,Un,Jn,Hn=0,tr,kn=arguments.length;Hn<kn&&!(Un&&Jn);Hn++)tr=arguments[Hn],Un=Un||tr.initialize,Jn=Jn||tr.prototype;return Un=Un||function(){Dn.apply(this,arguments)},Jn=Un.prototype=Jn||Ue(this.prototype),Et(Jn,"constructor",{value:Un,writable:!0,configurable:!0}),In(Un,this),arguments.length&&this.inject.apply(Un,arguments),Un.base=Dn,Un}}).inject({enumerable:!1,initialize:Fn,set:Fn,inject:function(){for(var Dn=0,Un=arguments.length;Dn<Un;Dn++){var Jn=arguments[Dn];Jn&&In(this,Jn,Jn.enumerable,Jn.beans,Jn.preserve)}return this},extend:function(){var Dn=Ue(this);return Dn.inject.apply(Dn,arguments)},each:function(Dn,Un){return bn(this,Dn,Un)},clone:function(){return new this.constructor(this)},statics:{set:wn,each:bn,create:Ue,define:Et,describe:qe,clone:function(Dn){return wn(new Dn.constructor,Dn)},isPlainObject:function(Dn){var Un=Dn!=null&&Dn.constructor;return Un&&(Un===Object||Un===Fn||Un.name==="Object")},pick:function(Dn,Un){return Dn!==r?Dn:Un},slice:function(Dn,Un,Jn){return Ie.call(Dn,Un,Jn)}}})};n.exports=k,k.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+k.each(this,function(le,_e){if(!/^_/.test(_e)){var Ie=typeof le;this.push(_e+": "+(Ie==="number"?j.instance.number(le):Ie==="string"?"'"+le+"'":le))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(le){return k.importJSON(le,this)},exportJSON:function(le){return k.exportJSON(this,le)},toJSON:function(){return k.serialize(this)},set:function(le,_e){return le&&k.filter(this,le,_e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function le(){var _e=le.base.apply(this,arguments),Ie=_e.prototype._class;return Ie&&!k.exports[Ie]&&(k.exports[Ie]=_e),_e},equals:function(le,_e){if(le===_e)return!0;if(le&&le.equals)return le.equals(_e);if(_e&&_e.equals)return _e.equals(le);if(le&&_e&&typeof le=="object"&&typeof _e=="object"){if(Array.isArray(le)&&Array.isArray(_e)){var Ie=le.length;if(Ie!==_e.length)return!1;for(;Ie--;)if(!k.equals(le[Ie],_e[Ie]))return!1}else{var Ue=Object.keys(le),Ie=Ue.length;if(Ie!==Object.keys(_e).length)return!1;for(;Ie--;){var qe=Ue[Ie];if(!(_e.hasOwnProperty(qe)&&k.equals(le[qe],_e[qe])))return!1}}return!0}return!1},read:function(le,_e,Ie,Ue){if(this===k){var qe=this.peek(le,_e);return le.__index++,qe}var Et=this.prototype,vn=Et._readIndex,Pt=_e||vn&&le.__index||0,wn=le.length,bn=le[Pt];if(Ue=Ue||wn-Pt,bn instanceof this||Ie&&Ie.readNull&&bn==null&&Ue<=1)return vn&&(le.__index=Pt+1),bn&&Ie&&Ie.clone?bn.clone():bn;if(bn=k.create(Et),vn&&(bn.__read=!0),bn=bn.initialize.apply(bn,Pt>0||Pt+Ue<wn?k.slice(le,Pt,Pt+Ue):le)||bn,vn){le.__index=Pt+bn.__read;var In=bn.__filtered;In&&(le.__filtered=In,bn.__filtered=r),bn.__read=r}return bn},peek:function(le,_e){return le[le.__index=_e||le.__index||0]},remain:function(le){return le.length-(le.__index||0)},readList:function(le,_e,Ie,Ue){for(var qe=[],Et,vn=_e||0,Pt=Ue?vn+Ue:le.length,wn=vn;wn<Pt;wn++)qe.push(Array.isArray(Et=le[wn])?this.read(Et,0,Ie):this.read(le,wn,Ie,1));return qe},readNamed:function(le,_e,Ie,Ue,qe){var Et=this.getNamed(le,_e),vn=Et!==r;if(vn){var Pt=le.__filtered;if(!Pt){var wn=this.getSource(le);Pt=le.__filtered=k.create(wn),Pt.__unfiltered=wn}Pt[_e]=r}return this.read(vn?[Et]:le,Ie,Ue,qe)},readSupported:function(le,_e){var Ie=this.getSource(le),Ue=this,qe=!1;return Ie&&Object.keys(Ie).forEach(function(Et){if(Et in _e){var vn=Ue.readNamed(le,Et);vn!==r&&(_e[Et]=vn),qe=!0}}),qe},getSource:function(le){var _e=le.__source;if(_e===r){var Ie=le.length===1&&le[0];_e=le.__source=Ie&&k.isPlainObject(Ie)?Ie:null}return _e},getNamed:function(le,_e){var Ie=this.getSource(le);if(Ie)return _e?Ie[_e]:le.__filtered||Ie},hasNamed:function(le,_e){return!!this.getNamed(le,_e)},filter:function(le,_e,Ie,Ue){var qe;function Et(In){if(!(Ie&&In in Ie)&&!(qe&&In in qe)){var Fn=_e[In];Fn!==r&&(le[In]=Fn)}}if(Ue){for(var vn={},Pt=0,wn,bn=Ue.length;Pt<bn;Pt++)(wn=Ue[Pt])in _e&&(Et(wn),vn[wn]=!0);qe=vn}return Object.keys(_e.__unfiltered||_e).forEach(Et),le},isPlainValue:function(le,_e){return k.isPlainObject(le)||Array.isArray(le)||_e&&typeof le=="string"},serialize:function(le,_e,Ie,Ue){_e=_e||{};var qe=!Ue,Et;if(qe&&(_e.formatter=new j(_e.precision),Ue={length:0,definitions:{},references:{},add:function(Fn,Dn){var Un="#"+Fn._id,Jn=this.references[Un];if(!Jn){this.length++;var Hn=Dn.call(Fn),tr=Fn._class;tr&&Hn[0]!==tr&&Hn.unshift(tr),this.definitions[Un]=Hn,Jn=this.references[Un]=[Un]}return Jn}}),le&&le._serialize){Et=le._serialize(_e,Ue);var vn=le._class;vn&&!le._compactSerialize&&(qe||!Ie)&&Et[0]!==vn&&Et.unshift(vn)}else if(Array.isArray(le)){Et=[];for(var Pt=0,wn=le.length;Pt<wn;Pt++)Et[Pt]=k.serialize(le[Pt],_e,Ie,Ue)}else if(k.isPlainObject(le)){Et={};for(var bn=Object.keys(le),Pt=0,wn=bn.length;Pt<wn;Pt++){var In=bn[Pt];Et[In]=k.serialize(le[In],_e,Ie,Ue)}}else typeof le=="number"?Et=_e.formatter.number(le,_e.precision):Et=le;return qe&&Ue.length>0?[["dictionary",Ue.definitions],Et]:Et},deserialize:function(le,_e,Ie,Ue,qe){var Et=le,vn=!Ie,Pt=vn&&le&&le.length&&le[0][0]==="dictionary";if(Ie=Ie||{},Array.isArray(le)){var wn=le[0],bn=wn==="dictionary";if(le.length==1&&/^#/.test(wn))return Ie.dictionary[wn];wn=k.exports[wn],Et=[];for(var In=wn?1:0,Fn=le.length;In<Fn;In++)Et.push(k.deserialize(le[In],_e,Ie,bn,Pt));if(wn){var Dn=Et;_e?Et=_e(wn,Dn,vn||qe):Et=new wn(Dn)}}else if(k.isPlainObject(le)){Et={},Ue&&(Ie.dictionary=Et);for(var Un in le)Et[Un]=k.deserialize(le[Un],_e,Ie)}return Pt?Et[1]:Et},exportJSON:function(le,_e){var Ie=k.serialize(le,_e);return _e&&_e.asString==!1?Ie:JSON.stringify(Ie)},importJSON:function(le,_e){return k.deserialize(typeof le=="string"?JSON.parse(le):le,function(Ie,Ue,qe){var Et=qe&&_e&&_e.constructor===Ie,vn=Et?_e:k.create(Ie.prototype);if(Ue.length===1&&vn instanceof Ce&&(Et||!(vn instanceof ze))){var Pt=Ue[0];k.isPlainObject(Pt)&&(Pt.insert=!1,Et&&(Ue=Ue.concat([Ce.INSERT])))}return(Et?vn.set:Ie).apply(vn,Ue),Et&&(_e=null),vn})},push:function(le,_e){var Ie=_e.length;if(Ie<4096)le.push.apply(le,_e);else{var Ue=le.length;le.length+=Ie;for(var qe=0;qe<Ie;qe++)le[Ue+qe]=_e[qe]}return le},splice:function(le,_e,Ie,Ue){var qe=_e&&_e.length,Et=Ie===r;Ie=Et?le.length:Ie,Ie>le.length&&(Ie=le.length);for(var vn=0;vn<qe;vn++)_e[vn]._index=Ie+vn;if(Et)return k.push(le,_e),[];var Pt=[Ie,Ue];_e&&k.push(Pt,_e);for(var wn=le.splice.apply(le,Pt),vn=0,bn=wn.length;vn<bn;vn++)wn[vn]._index=r;for(var vn=Ie+qe,bn=le.length;vn<bn;vn++)le[vn]._index=vn;return wn},capitalize:function(le){return le.replace(/\b[a-z]/g,function(_e){return _e.toUpperCase()})},camelize:function(le){return le.replace(/-(.)/g,function(_e,Ie){return Ie.toUpperCase()})},hyphenate:function(le){return le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var $={on:function(le,_e){if(typeof le!="string")k.each(le,function(Et,vn){this.on(vn,Et)},this);else{var Ie=this._eventTypes,Ue=Ie&&Ie[le],qe=this._callbacks=this._callbacks||{};qe=qe[le]=qe[le]||[],qe.indexOf(_e)===-1&&(qe.push(_e),Ue&&Ue.install&&qe.length===1&&Ue.install.call(this,le))}return this},off:function(le,_e){if(typeof le!="string"){k.each(le,function(vn,Pt){this.off(Pt,vn)},this);return}var Ie=this._eventTypes,Ue=Ie&&Ie[le],qe=this._callbacks&&this._callbacks[le],Et;return qe&&(!_e||(Et=qe.indexOf(_e))!==-1&&qe.length===1?(Ue&&Ue.uninstall&&Ue.uninstall.call(this,le),delete this._callbacks[le]):Et!==-1&&qe.splice(Et,1)),this},once:function(le,_e){return this.on(le,function Ie(){_e.apply(this,arguments),this.off(le,Ie)})},emit:function(le,_e){var Ie=this._callbacks&&this._callbacks[le];if(!Ie)return!1;var Ue=k.slice(arguments,1),qe=_e&&_e.target&&!_e.currentTarget;Ie=Ie.slice(),qe&&(_e.currentTarget=this);for(var Et=0,vn=Ie.length;Et<vn;Et++)if(Ie[Et].apply(this,Ue)==!1){_e&&_e.stop&&_e.stop();break}return qe&&delete _e.currentTarget,!0},responds:function(le){return!!(this._callbacks&&this._callbacks[le])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(le){var _e=this._eventTypes,Ie=this._callbacks,Ue=le?"install":"uninstall";if(_e){for(var qe in Ie)if(Ie[qe].length>0){var Et=_e[qe],vn=Et&&Et[Ue];vn&&vn.call(this,qe)}}},statics:{inject:function le(_e){var Ie=_e._events;if(Ie){var Ue={};k.each(Ie,function(qe,Et){var vn=typeof qe=="string",Pt=vn?qe:Et,wn=k.capitalize(Pt),bn=Pt.substring(2).toLowerCase();Ue[bn]=vn?{}:qe,Pt="_"+Pt,_e["get"+wn]=function(){return this[Pt]},_e["set"+wn]=function(In){var Fn=this[Pt];Fn&&this.off(bn,Fn),In&&this.on(bn,In),this[Pt]=In}}),_e._eventTypes=Ue}return le.base.apply(this,arguments)}}},V=k.extend({_class:"PaperScope",initialize:function le(){lr=this,this.settings=new k({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=le._id++,le._scopes[this._id]=this;var _e=le.prototype;if(!this.support){var Ie=rr.getContext(1,1)||{};_e.support={nativeDash:"setLineDash"in Ie||"mozDash"in Ie,nativeBlendModes:ar.nativeModes},rr.release(Ie)}if(!this.agent){var Ue=e.navigator.userAgent.toLowerCase(),qe=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(Ue)||[])[0],Et=qe==="darwin"?"mac":qe,vn=_e.agent=_e.browser={platform:Et};Et&&(vn[Et]=!0),Ue.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(Pt,wn,bn,In,Fn){if(!vn.chrome){var Dn=wn==="opera"?In:/^(node|trident)$/.test(wn)?Fn:bn;vn.version=Dn,vn.versionNumber=parseFloat(Dn),wn={trident:"msie",jsdom:"node"}[wn]||wn,vn.name=wn,vn[wn]=!0}}),vn.chrome&&delete vn.webkit,vn.atom&&delete vn.chrome}},version:"0.12.18",getView:function(){var le=this.project;return le&&le._view},getPaper:function(){return this},execute:function(le,_e){var Ie=lr.PaperScript.execute(le,this,_e);return Cr.updateFocus(),Ie},install:function(le){var _e=this;k.each(["project","view","tool"],function(Ue){k.define(le,Ue,{configurable:!0,get:function(){return _e[Ue]}})});for(var Ie in this)!/^_/.test(Ie)&&this[Ie]&&(le[Ie]=this[Ie])},setup:function(le){return lr=this,this.project=new Ne(le),this},createCanvas:function(le,_e){return rr.getCanvas(le,_e)},activate:function(){lr=this},clear:function(){for(var le=this.projects,_e=this.tools,Ie=le.length-1;Ie>=0;Ie--)le[Ie].remove();for(var Ie=_e.length-1;Ie>=0;Ie--)_e[Ie].remove()},remove:function(){this.clear(),delete V._scopes[this._id]},statics:new function(){function le(_e){return _e+="Attribute",function(Ie,Ue){return Ie[_e](Ue)||Ie[_e]("data-paper-"+Ue)}}return{_scopes:{},_id:0,get:function(_e){return this._scopes[_e]||null},getAttribute:le("get"),hasAttribute:le("has")}}}),L=k.extend($,{initialize:function(le){this._scope=lr,this._index=this._scope[this._list].push(this)-1,(le||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var le=this._scope[this._reference];return le&&le!==this&&le.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",le),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(k.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),z={findItemBoundsCollisions:function(le,_e,Ie){function Ue(vn){for(var Pt=new Array(vn.length),wn=0;wn<vn.length;wn++){var bn=vn[wn].getBounds();Pt[wn]=[bn.left,bn.top,bn.right,bn.bottom]}return Pt}var qe=Ue(le),Et=!_e||_e===le?qe:Ue(_e);return this.findBoundsCollisions(qe,Et,Ie||0)},findCurveBoundsCollisions:function(le,_e,Ie,Ue){function qe(Dn){for(var Un=Math.min,Jn=Math.max,Hn=new Array(Dn.length),tr=0;tr<Dn.length;tr++){var kn=Dn[tr];Hn[tr]=[Un(kn[0],kn[2],kn[4],kn[6]),Un(kn[1],kn[3],kn[5],kn[7]),Jn(kn[0],kn[2],kn[4],kn[6]),Jn(kn[1],kn[3],kn[5],kn[7])]}return Hn}var Et=qe(le),vn=!_e||_e===le?Et:qe(_e);if(Ue){for(var Pt=this.findBoundsCollisions(Et,vn,Ie||0,!1,!0),wn=this.findBoundsCollisions(Et,vn,Ie||0,!0,!0),bn=[],In=0,Fn=Pt.length;In<Fn;In++)bn[In]={hor:Pt[In],ver:wn[In]};return bn}return this.findBoundsCollisions(Et,vn,Ie||0)},findBoundsCollisions:function(le,_e,Ie,Ue,qe){var Et=!_e||le===_e,vn=Et?le:le.concat(_e),Pt=le.length,wn=vn.length;function bn(jr,Hr,Kr){for(var Rr=0,Lr=jr.length;Rr<Lr;){var Yr=Lr+Rr>>>1;vn[jr[Yr]][Hr]<Kr?Rr=Yr+1:Lr=Yr}return Rr-1}for(var In=Ue?1:0,Fn=In+2,Dn=Ue?0:1,Un=Dn+2,Jn=new Array(wn),Hn=0;Hn<wn;Hn++)Jn[Hn]=Hn;Jn.sort(function(jr,Hr){return vn[jr][In]-vn[Hr][In]});for(var tr=[],kn=new Array(Pt),Hn=0;Hn<wn;Hn++){var zn=Jn[Hn],xn=vn[zn],Rn=Et?zn:zn-Pt,qn=zn<Pt,nr=Et||!qn,er=qn?[]:null;if(tr.length){var fr=bn(tr,Fn,xn[In]-Ie)+1;if(tr.splice(0,fr),Et&&qe){er=er.concat(tr);for(var pr=0;pr<tr.length;pr++){var _r=tr[pr];kn[_r].push(Rn)}}else for(var xr=xn[Un],vr=xn[Dn],pr=0;pr<tr.length;pr++){var _r=tr[pr],Sr=vn[_r],kr=_r<Pt,Nr=Et||_r>=Pt;(qe||(qn&&Nr||nr&&kr)&&xr>=Sr[Dn]-Ie&&vr<=Sr[Un]+Ie)&&(qn&&Nr&&er.push(Et?_r:_r-Pt),nr&&kr&&kn[_r].push(Rn))}}if(qn&&(le===_e&&er.push(zn),kn[zn]=er),tr.length){var Pr=xn[Fn],Ar=bn(tr,Fn,Pr);tr.splice(Ar+1,0,zn)}else tr.push(zn)}for(var Hn=0;Hn<kn.length;Hn++){var Ur=kn[Hn];Ur&&Ur.sort(function(Hr,Kr){return Hr-Kr})}return kn}},j=k.extend({initialize:function(le){this.precision=k.pick(le,5),this.multiplier=Math.pow(10,this.precision)},number:function(le){return this.precision<16?Math.round(le*this.multiplier)/this.multiplier:le},pair:function(le,_e,Ie){return this.number(le)+(Ie||",")+this.number(_e)},point:function(le,_e){return this.number(le.x)+(_e||",")+this.number(le.y)},size:function(le,_e){return this.number(le.width)+(_e||",")+this.number(le.height)},rectangle:function(le,_e){return this.point(le,_e)+(_e||",")+this.size(le,_e)}});j.instance=new j;var re=new function(){var le=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],_e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],Ie=Math.abs,Ue=Math.sqrt,qe=Math.pow,Et=Math.log2||function(Fn){return Math.log(Fn)*Math.LOG2E},vn=1e-12,Pt=112e-18;function wn(Fn,Dn,Un){return Fn<Dn?Dn:Fn>Un?Un:Fn}function bn(Fn,Dn,Un){function Jn(fr){var pr=fr*134217729,_r=fr-pr,xr=_r+pr,vr=fr-xr;return[xr,vr]}var Hn=Dn*Dn-Fn*Un,tr=Dn*Dn+Fn*Un;if(Ie(Hn)*3<tr){var kn=Jn(Fn),zn=Jn(Dn),xn=Jn(Un),Rn=Dn*Dn,qn=zn[0]*zn[0]-Rn+2*zn[0]*zn[1]+zn[1]*zn[1],nr=Fn*Un,er=kn[0]*xn[0]-nr+kn[0]*xn[1]+kn[1]*xn[0]+kn[1]*xn[1];Hn=Rn-nr+(qn-er)}return Hn}function In(){var Fn=Math.max.apply(Math,arguments);return Fn&&(Fn<1e-8||Fn>1e8)?qe(2,-Math.round(Et(Fn))):0}return{EPSILON:vn,MACHINE_EPSILON:Pt,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(Ue(2)-1)/3,isZero:function(Fn){return Fn>=-vn&&Fn<=vn},isMachineZero:function(Fn){return Fn>=-Pt&&Fn<=Pt},clamp:wn,integrate:function(Fn,Dn,Un,Jn){for(var Hn=le[Jn-2],tr=_e[Jn-2],kn=(Un-Dn)*.5,zn=kn+Dn,xn=0,Rn=Jn+1>>1,qn=Jn&1?tr[xn++]*Fn(zn):0;xn<Rn;){var nr=kn*Hn[xn];qn+=tr[xn++]*(Fn(zn+nr)+Fn(zn-nr))}return kn*qn},findRoot:function(Fn,Dn,Un,Jn,Hn,tr,kn){for(var zn=0;zn<tr;zn++){var xn=Fn(Un),Rn=xn/Dn(Un),qn=Un-Rn;if(Ie(Rn)<kn){Un=qn;break}xn>0?(Hn=Un,Un=qn<=Jn?(Jn+Hn)*.5:qn):(Jn=Un,Un=qn>=Hn?(Jn+Hn)*.5:qn)}return wn(Un,Jn,Hn)},solveQuadratic:function(Fn,Dn,Un,Jn,Hn,tr){var kn,zn=1/0;if(Ie(Fn)<vn){if(Ie(Dn)<vn)return Ie(Un)<vn?-1:0;kn=-Un/Dn}else{Dn*=-.5;var xn=bn(Fn,Dn,Un);if(xn&&Ie(xn)<Pt){var Rn=In(Ie(Fn),Ie(Dn),Ie(Un));Rn&&(Fn*=Rn,Dn*=Rn,Un*=Rn,xn=bn(Fn,Dn,Un))}if(xn>=-Pt){var qn=xn<0?0:Ue(xn),nr=Dn+(Dn<0?-qn:qn);nr===0?(kn=Un/Fn,zn=-kn):(kn=nr/Fn,zn=Un/nr)}}var er=0,fr=Hn==null,pr=Hn-vn,_r=tr+vn;return isFinite(kn)&&(fr||kn>pr&&kn<_r)&&(Jn[er++]=fr?kn:wn(kn,Hn,tr)),zn!==kn&&isFinite(zn)&&(fr||zn>pr&&zn<_r)&&(Jn[er++]=fr?zn:wn(zn,Hn,tr)),er},solveCubic:function(Fn,Dn,Un,Jn,Hn,tr,kn){var zn=In(Ie(Fn),Ie(Dn),Ie(Un),Ie(Jn)),xn,Rn,qn,nr,er;zn&&(Fn*=zn,Dn*=zn,Un*=zn,Jn*=zn);function fr(Ar){xn=Ar;var Ur=Fn*xn;Rn=Ur+Dn,qn=Rn*xn+Un,nr=(Ur+Rn)*xn+qn,er=qn*xn+Jn}if(Ie(Fn)<vn)Fn=Dn,Rn=Un,qn=Jn,xn=1/0;else if(Ie(Jn)<vn)Rn=Dn,qn=Un,xn=0;else{fr(-(Dn/Fn)/3);var pr=er/Fn,_r=qe(Ie(pr),1/3),xr=pr<0?-1:1,vr=-nr/Fn,Sr=vr>0?1.324717957244746*Math.max(_r,Ue(vr)):_r,kr=xn-xr*Sr;if(kr!==xn){do fr(kr),kr=nr===0?xn:xn-er/nr/(1+Pt);while(xr*kr>xr*xn);Ie(Fn)*xn*xn>Ie(Jn/xn)&&(qn=-Jn/xn,Rn=(qn-Un)/xn)}}var Nr=re.solveQuadratic(Fn,Rn,qn,Hn,tr,kn),Pr=tr==null;return isFinite(xn)&&(Nr===0||Nr>0&&xn!==Hn[0]&&xn!==Hn[1])&&(Pr||xn>tr-vn&&xn<kn+vn)&&(Hn[Nr++]=Pr?xn:wn(xn,tr,kn)),Nr}}},oe={_id:1,_pools:{},get:function(le){if(le){var _e=this._pools[le];return _e||(_e=this._pools[le]={_id:1}),_e._id++}else return this._id++}},ae=k.extend({_class:"Point",_readIndex:!0,initialize:function(_e,Ie){var Ue=typeof _e,qe=this.__read,Et=0;if(Ue==="number"){var vn=typeof Ie=="number";this._set(_e,vn?Ie:_e),qe&&(Et=vn?2:1)}else if(Ue==="undefined"||_e===null)this._set(0,0),qe&&(Et=_e===null?1:0);else{var Pt=Ue==="string"?_e.split(/[\s,]+/)||[]:_e;Et=1,Array.isArray(Pt)?this._set(+Pt[0],+(Pt.length>1?Pt[1]:Pt[0])):"x"in Pt?this._set(Pt.x||0,Pt.y||0):"width"in Pt?this._set(Pt.width||0,Pt.height||0):"angle"in Pt?(this._set(Pt.length||0,0),this.setAngle(Pt.angle||0)):(this._set(0,0),Et=0)}return qe&&(this.__read=Et),this},set:"#initialize",_set:function(le,_e){return this.x=le,this.y=_e,this},equals:function(le){return this===le||le&&(this.x===le.x&&this.y===le.y||Array.isArray(le)&&this.x===le[0]&&this.y===le[1])||!1},clone:function(){return new ae(this.x,this.y)},toString:function(){var le=j.instance;return"{ x: "+le.number(this.x)+", y: "+le.number(this.y)+" }"},_serialize:function(le){var _e=le.formatter;return[_e.number(this.x),_e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(le){if(this.isZero()){var _e=this._angle||0;this._set(Math.cos(_e)*le,Math.sin(_e)*le)}else{var Ie=le/this.getLength();re.isZero(Ie)&&this.getAngle(),this._set(this.x*Ie,this.y*Ie)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(le){this.setAngleInRadians.call(this,le*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var le=ae.read(arguments),_e=this.getLength()*le.getLength();if(re.isZero(_e))return NaN;var Ie=this.dot(le)/_e;return Math.acos(Ie<-1?-1:Ie>1?1:Ie)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(le){if(this._angle=le,!this.isZero()){var _e=this.getLength();this._set(Math.cos(le)*_e,Math.sin(le)*_e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var le=ae.read(arguments);return Math.atan2(this.cross(le),this.dot(le))*180/Math.PI},getDistance:function(){var le=arguments,_e=ae.read(le),Ie=_e.x-this.x,Ue=_e.y-this.y,qe=Ie*Ie+Ue*Ue,Et=k.read(le);return Et?qe:Math.sqrt(qe)},normalize:function(le){le===r&&(le=1);var _e=this.getLength(),Ie=_e!==0?le/_e:0,Ue=new ae(this.x*Ie,this.y*Ie);return Ie>=0&&(Ue._angle=this._angle),Ue},rotate:function(le,_e){if(le===0)return this.clone();le=le*Math.PI/180;var Ie=_e?this.subtract(_e):this,Ue=Math.sin(le),qe=Math.cos(le);return Ie=new ae(Ie.x*qe-Ie.y*Ue,Ie.x*Ue+Ie.y*qe),_e?Ie.add(_e):Ie},transform:function(le){return le?le._transformPoint(this):this},add:function(){var le=ae.read(arguments);return new ae(this.x+le.x,this.y+le.y)},subtract:function(){var le=ae.read(arguments);return new ae(this.x-le.x,this.y-le.y)},multiply:function(){var le=ae.read(arguments);return new ae(this.x*le.x,this.y*le.y)},divide:function(){var le=ae.read(arguments);return new ae(this.x/le.x,this.y/le.y)},modulo:function(){var le=ae.read(arguments);return new ae(this.x%le.x,this.y%le.y)},negate:function(){return new ae(-this.x,-this.y)},isInside:function(){return he.read(arguments).contains(this)},isClose:function(){var le=arguments,_e=ae.read(le),Ie=k.read(le);return this.getDistance(_e)<=Ie},isCollinear:function(){var le=ae.read(arguments);return ae.isCollinear(this.x,this.y,le.x,le.y)},isColinear:"#isCollinear",isOrthogonal:function(){var le=ae.read(arguments);return ae.isOrthogonal(this.x,this.y,le.x,le.y)},isZero:function(){var le=re.isZero;return le(this.x)&&le(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(le){return this.x*(le>1&&le<4?-1:1)>=0&&this.y*(le>2?-1:1)>=0},dot:function(){var le=ae.read(arguments);return this.x*le.x+this.y*le.y},cross:function(){var le=ae.read(arguments);return this.x*le.y-this.y*le.x},project:function(){var le=ae.read(arguments),_e=le.isZero()?0:this.dot(le)/le.dot(le);return new ae(le.x*_e,le.y*_e)},statics:{min:function(){var le=arguments,_e=ae.read(le),Ie=ae.read(le);return new ae(Math.min(_e.x,Ie.x),Math.min(_e.y,Ie.y))},max:function(){var le=arguments,_e=ae.read(le),Ie=ae.read(le);return new ae(Math.max(_e.x,Ie.x),Math.max(_e.y,Ie.y))},random:function(){return new ae(Math.random(),Math.random())},isCollinear:function(le,_e,Ie,Ue){return Math.abs(le*Ue-_e*Ie)<=Math.sqrt((le*le+_e*_e)*(Ie*Ie+Ue*Ue))*1e-8},isOrthogonal:function(le,_e,Ie,Ue){return Math.abs(le*Ie+_e*Ue)<=Math.sqrt((le*le+_e*_e)*(Ie*Ie+Ue*Ue))*1e-8}}},k.each(["round","ceil","floor","abs"],function(le){var _e=Math[le];this[le]=function(){return new ae(_e(this.x),_e(this.y))}},{})),de=ae.extend({initialize:function(_e,Ie,Ue,qe){this._x=_e,this._y=Ie,this._owner=Ue,this._setter=qe},_set:function(le,_e,Ie){return this._x=le,this._y=_e,Ie||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(le){this._x=le,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(le){this._y=le,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(le){this._owner._changeSelection(this._getSelection(),le)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ue=k.extend({_class:"Size",_readIndex:!0,initialize:function(_e,Ie){var Ue=typeof _e,qe=this.__read,Et=0;if(Ue==="number"){var vn=typeof Ie=="number";this._set(_e,vn?Ie:_e),qe&&(Et=vn?2:1)}else if(Ue==="undefined"||_e===null)this._set(0,0),qe&&(Et=_e===null?1:0);else{var Pt=Ue==="string"?_e.split(/[\s,]+/)||[]:_e;Et=1,Array.isArray(Pt)?this._set(+Pt[0],+(Pt.length>1?Pt[1]:Pt[0])):"width"in Pt?this._set(Pt.width||0,Pt.height||0):"x"in Pt?this._set(Pt.x||0,Pt.y||0):(this._set(0,0),Et=0)}return qe&&(this.__read=Et),this},set:"#initialize",_set:function(le,_e){return this.width=le,this.height=_e,this},equals:function(le){return le===this||le&&(this.width===le.width&&this.height===le.height||Array.isArray(le)&&this.width===le[0]&&this.height===le[1])||!1},clone:function(){return new ue(this.width,this.height)},toString:function(){var le=j.instance;return"{ width: "+le.number(this.width)+", height: "+le.number(this.height)+" }"},_serialize:function(le){var _e=le.formatter;return[_e.number(this.width),_e.number(this.height)]},add:function(){var le=ue.read(arguments);return new ue(this.width+le.width,this.height+le.height)},subtract:function(){var le=ue.read(arguments);return new ue(this.width-le.width,this.height-le.height)},multiply:function(){var le=ue.read(arguments);return new ue(this.width*le.width,this.height*le.height)},divide:function(){var le=ue.read(arguments);return new ue(this.width/le.width,this.height/le.height)},modulo:function(){var le=ue.read(arguments);return new ue(this.width%le.width,this.height%le.height)},negate:function(){return new ue(-this.width,-this.height)},isZero:function(){var le=re.isZero;return le(this.width)&&le(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(le,_e){return new ue(Math.min(le.width,_e.width),Math.min(le.height,_e.height))},max:function(le,_e){return new ue(Math.max(le.width,_e.width),Math.max(le.height,_e.height))},random:function(){return new ue(Math.random(),Math.random())}}},k.each(["round","ceil","floor","abs"],function(le){var _e=Math[le];this[le]=function(){return new ue(_e(this.width),_e(this.height))}},{})),pe=ue.extend({initialize:function(_e,Ie,Ue,qe){this._width=_e,this._height=Ie,this._owner=Ue,this._setter=qe},_set:function(le,_e,Ie){return this._width=le,this._height=_e,Ie||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(le){this._width=le,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(le){this._height=le,this._owner[this._setter](this)}}),he=k.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(_e,Ie,Ue,qe){var Et=arguments,vn=typeof _e,Pt;if(vn==="number"?(this._set(_e,Ie,Ue,qe),Pt=4):vn==="undefined"||_e===null?(this._set(0,0,0,0),Pt=_e===null?1:0):Et.length===1&&(Array.isArray(_e)?(this._set.apply(this,_e),Pt=1):_e.x!==r||_e.width!==r?(this._set(_e.x||0,_e.y||0,_e.width||0,_e.height||0),Pt=1):_e.from===r&&_e.to===r&&(this._set(0,0,0,0),k.readSupported(Et,this)&&(Pt=1))),Pt===r){var wn=ae.readNamed(Et,"from"),bn=k.peek(Et),In=wn.x,Fn=wn.y,Dn,Un;if(bn&&bn.x!==r||k.hasNamed(Et,"to")){var Jn=ae.readNamed(Et,"to");Dn=Jn.x-In,Un=Jn.y-Fn,Dn<0&&(In=Jn.x,Dn=-Dn),Un<0&&(Fn=Jn.y,Un=-Un)}else{var Hn=ue.read(Et);Dn=Hn.width,Un=Hn.height}this._set(In,Fn,Dn,Un),Pt=Et.__index}var tr=Et.__filtered;return tr&&(this.__filtered=tr),this.__read&&(this.__read=Pt),this},set:"#initialize",_set:function(le,_e,Ie,Ue){return this.x=le,this.y=_e,this.width=Ie,this.height=Ue,this},clone:function(){return new he(this.x,this.y,this.width,this.height)},equals:function(le){var _e=k.isPlainValue(le)?he.read(arguments):le;return _e===this||_e&&this.x===_e.x&&this.y===_e.y&&this.width===_e.width&&this.height===_e.height||!1},toString:function(){var le=j.instance;return"{ x: "+le.number(this.x)+", y: "+le.number(this.y)+", width: "+le.number(this.width)+", height: "+le.number(this.height)+" }"},_serialize:function(le){var _e=le.formatter;return[_e.number(this.x),_e.number(this.y),_e.number(this.width),_e.number(this.height)]},getPoint:function(le){var _e=le?ae:de;return new _e(this.x,this.y,this,"setPoint")},setPoint:function(){var le=ae.read(arguments);this.x=le.x,this.y=le.y},getSize:function(le){var _e=le?ue:pe;return new _e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var le=ue.read(arguments),_e=this._sx,Ie=this._sy,Ue=le.width,qe=le.height;_e&&(this.x+=(this.width-Ue)*_e),Ie&&(this.y+=(this.height-qe)*Ie),this.width=Ue,this.height=qe,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(le){if(!this._fw){var _e=le-this.x;this.width-=this._sx===.5?_e*2:_e}this.x=le,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(le){if(!this._fh){var _e=le-this.y;this.height-=this._sy===.5?_e*2:_e}this.y=le,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(le){if(!this._fw){var _e=le-this.x;this.width=this._sx===.5?_e*2:_e}this.x=le-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(le){if(!this._fh){var _e=le-this.y;this.height=this._sy===.5?_e*2:_e}this.y=le-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(le){this._fw||this._sx===.5?this.x=le-this.width/2:(this._sx&&(this.x+=(le-this.x)*2*this._sx),this.width=(le-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(le){this._fh||this._sy===.5?this.y=le-this.height/2:(this._sy&&(this.y+=(le-this.y)*2*this._sy),this.height=(le-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(le){var _e=le?ae:de;return new _e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var le=ae.read(arguments);return this.setCenterX(le.x),this.setCenterY(le.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(le){return le&&le.width!==r||(Array.isArray(le)?le:arguments).length===4?this._containsRectangle(he.read(arguments)):this._containsPoint(ae.read(arguments))},_containsPoint:function(le){var _e=le.x,Ie=le.y;return _e>=this.x&&Ie>=this.y&&_e<=this.x+this.width&&Ie<=this.y+this.height},_containsRectangle:function(le){var _e=le.x,Ie=le.y;return _e>=this.x&&Ie>=this.y&&_e+le.width<=this.x+this.width&&Ie+le.height<=this.y+this.height},intersects:function(){var le=he.read(arguments),_e=k.read(arguments)||0;return le.x+le.width>this.x-_e&&le.y+le.height>this.y-_e&&le.x<this.x+this.width+_e&&le.y<this.y+this.height+_e},intersect:function(){var le=he.read(arguments),_e=Math.max(this.x,le.x),Ie=Math.max(this.y,le.y),Ue=Math.min(this.x+this.width,le.x+le.width),qe=Math.min(this.y+this.height,le.y+le.height);return new he(_e,Ie,Ue-_e,qe-Ie)},unite:function(){var le=he.read(arguments),_e=Math.min(this.x,le.x),Ie=Math.min(this.y,le.y),Ue=Math.max(this.x+this.width,le.x+le.width),qe=Math.max(this.y+this.height,le.y+le.height);return new he(_e,Ie,Ue-_e,qe-Ie)},include:function(){var le=ae.read(arguments),_e=Math.min(this.x,le.x),Ie=Math.min(this.y,le.y),Ue=Math.max(this.x+this.width,le.x),qe=Math.max(this.y+this.height,le.y);return new he(_e,Ie,Ue-_e,qe-Ie)},expand:function(){var le=ue.read(arguments),_e=le.width,Ie=le.height;return new he(this.x-_e/2,this.y-Ie/2,this.width+_e,this.height+Ie)},scale:function(le,_e){return this.expand(this.width*le-this.width,this.height*(_e===r?le:_e)-this.height)}},k.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(le,_e){var Ie=le.join(""),Ue=/^[RL]/.test(Ie);_e>=4&&(le[1]+=Ue?"Y":"X");var qe=le[Ue?0:1],Et=le[Ue?1:0],vn="get"+qe,Pt="get"+Et,wn="set"+qe,bn="set"+Et,In="get"+Ie,Fn="set"+Ie;this[In]=function(Dn){var Un=Dn?ae:de;return new Un(this[vn](),this[Pt](),this,Fn)},this[Fn]=function(){var Dn=ae.read(arguments);this[wn](Dn.x),this[bn](Dn.y)}},{beans:!0})),Oe=he.extend({initialize:function(_e,Ie,Ue,qe,Et,vn){this._set(_e,Ie,Ue,qe,!0),this._owner=Et,this._setter=vn},_set:function(le,_e,Ie,Ue,qe){return this._x=le,this._y=_e,this._width=Ie,this._height=Ue,qe||this._owner[this._setter](this),this}},new function(){var le=he.prototype;return k.each(["x","y","width","height"],function(_e){var Ie=k.capitalize(_e),Ue="_"+_e;this["get"+Ie]=function(){return this[Ue]},this["set"+Ie]=function(qe){this[Ue]=qe,this._dontNotify||this._owner[this._setter](this)}},k.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(_e){var Ie="set"+_e;this[Ie]=function(){this._dontNotify=!0,le[Ie].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(_e){var Ie=this._owner;Ie._changeSelection&&Ie._changeSelection(2,_e)}}))}),xe=k.extend({_class:"Matrix",initialize:function le(_e,Ie){var Ue=arguments,qe=Ue.length,Et=!0;if(qe>=6?this._set.apply(this,Ue):qe===1||qe===2?_e instanceof le?this._set(_e._a,_e._b,_e._c,_e._d,_e._tx,_e._ty,Ie):Array.isArray(_e)?this._set.apply(this,Ie?_e.concat([Ie]):_e):Et=!1:qe?Et=!1:this.reset(),!Et)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(le,_e,Ie,Ue,qe,Et,vn){return this._a=le,this._b=_e,this._c=Ie,this._d=Ue,this._tx=qe,this._ty=Et,vn||this._changed(),this},_serialize:function(le,_e){return k.serialize(this.getValues(),le,!0,_e)},_changed:function(){var le=this._owner;le&&(le._applyMatrix?le.transform(null,!0):le._changed(25))},clone:function(){return new xe(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(le){return le===this||le&&this._a===le._a&&this._b===le._b&&this._c===le._c&&this._d===le._d&&this._tx===le._tx&&this._ty===le._ty},toString:function(){var le=j.instance;return"[["+[le.number(this._a),le.number(this._c),le.number(this._tx)].join(", ")+"], ["+[le.number(this._b),le.number(this._d),le.number(this._ty)].join(", ")+"]]"},reset:function(le){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,le||this._changed(),this},apply:function(le,_e){var Ie=this._owner;return Ie?(Ie.transform(null,k.pick(le,!0),_e),this.isIdentity()):!1},translate:function(){var le=ae.read(arguments),_e=le.x,Ie=le.y;return this._tx+=_e*this._a+Ie*this._c,this._ty+=_e*this._b+Ie*this._d,this._changed(),this},scale:function(){var le=arguments,_e=ae.read(le),Ie=ae.read(le,0,{readNull:!0});return Ie&&this.translate(Ie),this._a*=_e.x,this._b*=_e.x,this._c*=_e.y,this._d*=_e.y,Ie&&this.translate(Ie.negate()),this._changed(),this},rotate:function(le){le*=Math.PI/180;var _e=ae.read(arguments,1),Ie=_e.x,Ue=_e.y,qe=Math.cos(le),Et=Math.sin(le),vn=Ie-Ie*qe+Ue*Et,Pt=Ue-Ie*Et-Ue*qe,wn=this._a,bn=this._b,In=this._c,Fn=this._d;return this._a=qe*wn+Et*In,this._b=qe*bn+Et*Fn,this._c=-Et*wn+qe*In,this._d=-Et*bn+qe*Fn,this._tx+=vn*wn+Pt*In,this._ty+=vn*bn+Pt*Fn,this._changed(),this},shear:function(){var le=arguments,_e=ae.read(le),Ie=ae.read(le,0,{readNull:!0});Ie&&this.translate(Ie);var Ue=this._a,qe=this._b;return this._a+=_e.y*this._c,this._b+=_e.y*this._d,this._c+=_e.x*Ue,this._d+=_e.x*qe,Ie&&this.translate(Ie.negate()),this._changed(),this},skew:function(){var le=arguments,_e=ae.read(le),Ie=ae.read(le,0,{readNull:!0}),Ue=Math.PI/180,qe=new ae(Math.tan(_e.x*Ue),Math.tan(_e.y*Ue));return this.shear(qe,Ie)},append:function(le,_e){if(le){var Ie=this._a,Ue=this._b,qe=this._c,Et=this._d,vn=le._a,Pt=le._c,wn=le._b,bn=le._d,In=le._tx,Fn=le._ty;this._a=vn*Ie+wn*qe,this._c=Pt*Ie+bn*qe,this._b=vn*Ue+wn*Et,this._d=Pt*Ue+bn*Et,this._tx+=In*Ie+Fn*qe,this._ty+=In*Ue+Fn*Et,_e||this._changed()}return this},prepend:function(le,_e){if(le){var Ie=this._a,Ue=this._b,qe=this._c,Et=this._d,vn=this._tx,Pt=this._ty,wn=le._a,bn=le._c,In=le._b,Fn=le._d,Dn=le._tx,Un=le._ty;this._a=wn*Ie+bn*Ue,this._c=wn*qe+bn*Et,this._b=In*Ie+Fn*Ue,this._d=In*qe+Fn*Et,this._tx=wn*vn+bn*Pt+Dn,this._ty=In*vn+Fn*Pt+Un,_e||this._changed()}return this},appended:function(le){return this.clone().append(le)},prepended:function(le){return this.clone().prepend(le)},invert:function(){var le=this._a,_e=this._b,Ie=this._c,Ue=this._d,qe=this._tx,Et=this._ty,vn=le*Ue-_e*Ie,Pt=null;return vn&&!isNaN(vn)&&isFinite(qe)&&isFinite(Et)&&(this._a=Ue/vn,this._b=-_e/vn,this._c=-Ie/vn,this._d=le/vn,this._tx=(Ie*Et-Ue*qe)/vn,this._ty=(_e*qe-le*Et)/vn,Pt=this),Pt},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new xe(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var le=this._a*this._d-this._c*this._b;return le&&!isNaN(le)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(le,_e,Ie){return arguments.length<3?this._transformPoint(ae.read(arguments)):this._transformCoordinates(le,_e,Ie)},_transformPoint:function(le,_e,Ie){var Ue=le.x,qe=le.y;return _e||(_e=new ae),_e._set(Ue*this._a+qe*this._c+this._tx,Ue*this._b+qe*this._d+this._ty,Ie)},_transformCoordinates:function(le,_e,Ie){for(var Ue=0,qe=2*Ie;Ue<qe;Ue+=2){var Et=le[Ue],vn=le[Ue+1];_e[Ue]=Et*this._a+vn*this._c+this._tx,_e[Ue+1]=Et*this._b+vn*this._d+this._ty}return _e},_transformCorners:function(le){var _e=le.x,Ie=le.y,Ue=_e+le.width,qe=Ie+le.height,Et=[_e,Ie,Ue,Ie,Ue,qe,_e,qe];return this._transformCoordinates(Et,Et,4)},_transformBounds:function(le,_e,Ie){for(var Ue=this._transformCorners(le),qe=Ue.slice(0,2),Et=qe.slice(),vn=2;vn<8;vn++){var Pt=Ue[vn],wn=vn&1;Pt<qe[wn]?qe[wn]=Pt:Pt>Et[wn]&&(Et[wn]=Pt)}return _e||(_e=new he),_e._set(qe[0],qe[1],Et[0]-qe[0],Et[1]-qe[1],Ie)},inverseTransform:function(){return this._inverseTransform(ae.read(arguments))},_inverseTransform:function(le,_e,Ie){var Ue=this._a,qe=this._b,Et=this._c,vn=this._d,Pt=this._tx,wn=this._ty,bn=Ue*vn-qe*Et,In=null;if(bn&&!isNaN(bn)&&isFinite(Pt)&&isFinite(wn)){var Fn=le.x-this._tx,Dn=le.y-this._ty;_e||(_e=new ae),In=_e._set((Fn*vn-Dn*Et)/bn,(Dn*Ue-Fn*qe)/bn,Ie)}return In},decompose:function(){var le=this._a,_e=this._b,Ie=this._c,Ue=this._d,qe=le*Ue-_e*Ie,Et=Math.sqrt,vn=Math.atan2,Pt=180/Math.PI,wn,bn,In;if(le!==0||_e!==0){var Fn=Et(le*le+_e*_e);wn=Math.acos(le/Fn)*(_e>0?1:-1),bn=[Fn,qe/Fn],In=[vn(le*Ie+_e*Ue,Fn*Fn),0]}else if(Ie!==0||Ue!==0){var Dn=Et(Ie*Ie+Ue*Ue);wn=Math.asin(Ie/Dn)*(Ue>0?1:-1),bn=[qe/Dn,Dn],In=[0,vn(le*Ie+_e*Ue,Dn*Dn)]}else wn=0,In=bn=[0,0];return{translation:this.getTranslation(),rotation:wn*Pt,scaling:new ae(bn),skewing:new ae(In[0]*Pt,In[1]*Pt)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ae(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(le){this.isIdentity()||le.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},k.each(["a","b","c","d","tx","ty"],function(le){var _e=k.capitalize(le),Ie="_"+le;this["get"+_e]=function(){return this[Ie]},this["set"+_e]=function(Ue){this[Ie]=Ue,this._changed()}},{})),$e=k.extend({_class:"Line",initialize:function(_e,Ie,Ue,qe,Et){var vn=!1;arguments.length>=4?(this._px=_e,this._py=Ie,this._vx=Ue,this._vy=qe,vn=Et):(this._px=_e.x,this._py=_e.y,this._vx=Ie.x,this._vy=Ie.y,vn=Ue),vn||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ae(this._px,this._py)},getVector:function(){return new ae(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(le,_e){return $e.intersect(this._px,this._py,this._vx,this._vy,le._px,le._py,le._vx,le._vy,!0,_e)},getSide:function(le,_e){return $e.getSide(this._px,this._py,this._vx,this._vy,le.x,le.y,!0,_e)},getDistance:function(le){return Math.abs(this.getSignedDistance(le))},getSignedDistance:function(le){return $e.getSignedDistance(this._px,this._py,this._vx,this._vy,le.x,le.y,!0)},isCollinear:function(le){return ae.isCollinear(this._vx,this._vy,le._vx,le._vy)},isOrthogonal:function(le){return ae.isOrthogonal(this._vx,this._vy,le._vx,le._vy)},statics:{intersect:function(le,_e,Ie,Ue,qe,Et,vn,Pt,wn,bn){wn||(Ie-=le,Ue-=_e,vn-=qe,Pt-=Et);var In=Ie*Pt-Ue*vn;if(!re.isMachineZero(In)){var Fn=le-qe,Dn=_e-Et,Un=(vn*Dn-Pt*Fn)/In,Jn=(Ie*Dn-Ue*Fn)/In,Hn=1e-12,tr=-Hn,kn=1+Hn;if(bn||tr<Un&&Un<kn&&tr<Jn&&Jn<kn)return bn||(Un=Un<=0?0:Un>=1?1:Un),new ae(le+Un*Ie,_e+Un*Ue)}},getSide:function(le,_e,Ie,Ue,qe,Et,vn,Pt){vn||(Ie-=le,Ue-=_e);var wn=qe-le,bn=Et-_e,In=wn*Ue-bn*Ie;return!Pt&&re.isMachineZero(In)&&(In=(wn*Ie+wn*Ie)/(Ie*Ie+Ue*Ue),In>=0&&In<=1&&(In=0)),In<0?-1:In>0?1:0},getSignedDistance:function(le,_e,Ie,Ue,qe,Et,vn){return vn||(Ie-=le,Ue-=_e),Ie===0?Ue>0?qe-le:le-qe:Ue===0?Ie<0?Et-_e:_e-Et:((qe-le)*Ue-(Et-_e)*Ie)/(Ue>Ie?Ue*Math.sqrt(1+Ie*Ie/(Ue*Ue)):Ie*Math.sqrt(1+Ue*Ue/(Ie*Ie)))},getDistance:function(le,_e,Ie,Ue,qe,Et,vn){return Math.abs($e.getSignedDistance(le,_e,Ie,Ue,qe,Et,vn))}}}),Ne=L.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(_e){L.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new jn(null,null,this),this._view=Cr.create(this,_e||rr.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(le,_e){return k.serialize(this._children,le,!0,_e)},_changed:function(le,_e){if(le&1){var Ie=this._view;Ie&&(Ie._needsUpdate=!0,!Ie._requested&&Ie._autoUpdate&&Ie.requestUpdate())}var Ue=this._changes;if(Ue&&_e){var qe=this._changesById,Et=_e._id,vn=qe[Et];vn?vn.flags|=le:Ue.push(qe[Et]={item:_e,flags:le})}},clear:function(){for(var le=this._children,_e=le.length-1;_e>=0;_e--)le[_e].remove()},isEmpty:function(){return!this._children.length},remove:function le(){return le.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(le){this._currentStyle.set(le)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ze({project:this,insert:!0})},getSymbolDefinitions:function(){var le=[],_e={};return this.getItems({class:Cn,match:function(Ie){var Ue=Ie._definition,qe=Ue._id;return _e[qe]||(_e[qe]=!0,le.push(Ue)),!1}}),le},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var le=this._selectionItems,_e=[];for(var Ie in le){var Ue=le[Ie],qe=Ue._selection;qe&1&&Ue.isInserted()?_e.push(Ue):qe||this._updateSelection(Ue)}return _e},_updateSelection:function(le){var _e=le._id,Ie=this._selectionItems;le._selection?Ie[_e]!==le&&(this._selectionCount++,Ie[_e]=le):Ie[_e]===le&&(this._selectionCount--,delete Ie[_e])},selectAll:function(){for(var le=this._children,_e=0,Ie=le.length;_e<Ie;_e++)le[_e].setFullySelected(!0)},deselectAll:function(){var le=this._selectionItems;for(var _e in le)le[_e].setFullySelected(!1)},addLayer:function(le){return this.insertLayer(r,le)},insertLayer:function(le,_e){if(_e instanceof ze){_e._remove(!1,!0),k.splice(this._children,[_e],le,0),_e._setProject(this,!0);var Ie=_e._name;Ie&&_e.setName(Ie),this._changes&&_e._changed(5),this._activeLayer||(this._activeLayer=_e)}else _e=null;return _e},_insertItem:function(le,_e,Ie){return _e=this.insertLayer(le,_e)||(this._activeLayer||this._insertItem(r,new ze(Ce.NO_INSERT),!0)).insertChild(le,_e),Ie&&_e.activate&&_e.activate(),_e},getItems:function(le){return Ce._getItems(this,le)},getItem:function(le){return Ce._getItems(this,le,null,null,!0)[0]||null},importJSON:function(le){this.activate();var _e=this._activeLayer;return k.importJSON(le,_e&&_e.isEmpty()&&_e)},removeOn:function(le){var _e=this._removeSets;if(_e){le==="mouseup"&&(_e.mousedrag=null);var Ie=_e[le];if(Ie){for(var Ue in Ie){var qe=Ie[Ue];for(var Et in _e){var vn=_e[Et];vn&&vn!=Ie&&delete vn[qe._id]}qe.remove()}_e[le]=null}}},draw:function(le,_e,Ie){this._updateVersion++,le.save(),_e.applyToContext(le);for(var Ue=this._children,qe=new k({offset:new ae(0,0),pixelRatio:Ie,viewMatrix:_e.isIdentity()?null:_e,matrices:[new xe],updateMatrix:!0}),Et=0,vn=Ue.length;Et<vn;Et++)Ue[Et].draw(le,qe);if(le.restore(),this._selectionCount>0){le.save(),le.strokeWidth=1;var Pt=this._selectionItems,wn=this._scope.settings.handleSize,bn=this._updateVersion;for(var In in Pt)Pt[In]._drawSelection(le,_e,wn,Pt,bn);le.restore()}}}),Ce=k.extend($,{statics:{extend:function le(_e){return _e._serializeFields&&(_e._serializeFields=k.set({},this.prototype._serializeFields,_e._serializeFields)),le.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new xe,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var le=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return k.each(le,function(_e){this._events[_e]={install:function(Ie){this.getView()._countItemEvent(Ie,1)},uninstall:function(Ie){this.getView()._countItemEvent(Ie,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:le}})},{initialize:function(){},_initialize:function(le,_e){var Ie=le&&k.isPlainObject(le),Ue=Ie&&le.internal===!0,qe=this._matrix=new xe,Et=Ie&&le.project||lr.project,vn=lr.settings;return this._id=Ue?null:oe.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&vn.applyMatrix,_e&&qe.translate(_e),qe._owner=this,this._style=new jn(Et._currentStyle,this,Et),Ue||Ie&&le.insert==!1||!vn.insertItems&&!(Ie&&le.insert==!0)?this._setProject(Et):(Ie&&le.parent||Et)._insertItem(r,this,!0),Ie&&le!==Ce.NO_INSERT&&le!==Ce.INSERT&&this.set(le,{internal:!0,insert:!0,project:!0,parent:!0}),Ie},_serialize:function(le,_e){var Ie={},Ue=this;function qe(Et){for(var vn in Et){var Pt=Ue[vn];k.equals(Pt,vn==="leading"?Et.fontSize*1.2:Et[vn])||(Ie[vn]=k.serialize(Pt,le,vn!=="data",_e))}}return qe(this._serializeFields),this instanceof Fe||qe(this._style._defaults),[this._class,Ie]},_changed:function(le){var _e=this._symbol,Ie=this._parent||_e,Ue=this._project;le&8&&(this._bounds=this._position=this._decomposed=r),le&16&&(this._globalMatrix=r),Ie&&le&72&&Ce._clearBoundsCache(Ie),le&2&&Ce._clearBoundsCache(this),Ue&&Ue._changed(le,this),_e&&_e._changed(le)},getId:function(){return this._id},getName:function(){return this._name},setName:function(le){if(this._name&&this._removeNamed(),le===+le+"")throw new Error("Names consisting only of numbers are not supported.");var _e=this._getOwner();if(le&&_e){var Ie=_e._children,Ue=_e._namedChildren;(Ue[le]=Ue[le]||[]).push(this),le in Ie||(Ie[le]=this)}this._name=le||r,this._changed(256)},getStyle:function(){return this._style},setStyle:function(le){this.getStyle().set(le)}},k.each(["locked","visible","blendMode","opacity","guide"],function(le){var _e=k.capitalize(le),Ie="_"+le,Ue={locked:256,visible:265};this["get"+_e]=function(){return this[Ie]},this["set"+_e]=function(qe){qe!=this[Ie]&&(this[Ie]=qe,this._changed(Ue[le]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(le){if(le!==this._selection){this._selection=le;var _e=this._project;_e&&(_e._updateSelection(this),this._changed(257))}},_changeSelection:function(le,_e){var Ie=this._selection;this.setSelection(_e?Ie|le:Ie&~le)},isSelected:function(){if(this._selectChildren){for(var le=this._children,_e=0,Ie=le.length;_e<Ie;_e++)if(le[_e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(le){if(this._selectChildren)for(var _e=this._children,Ie=0,Ue=_e.length;Ie<Ue;Ie++)_e[Ie].setSelected(le);this._changeSelection(1,le)},isFullySelected:function(){var le=this._children,_e=!!(this._selection&1);if(le&&_e){for(var Ie=0,Ue=le.length;Ie<Ue;Ie++)if(!le[Ie].isFullySelected())return!1;return!0}return _e},setFullySelected:function(le){var _e=this._children;if(_e)for(var Ie=0,Ue=_e.length;Ie<Ue;Ie++)_e[Ie].setFullySelected(le);this._changeSelection(1,le)},isClipMask:function(){return this._clipMask},setClipMask:function(le){this._clipMask!=(le=!!le)&&(this._clipMask=le,le&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(le){this._data=le},getPosition:function(le){var _e=le?ae:de,Ie=this._position||(this._position=this._getPositionFromBounds());return new _e(Ie.x,Ie.y,this,"setPosition")},setPosition:function(){this.translate(ae.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(le){return this._pivot?this._matrix._transformPoint(this._pivot):(le||this.getBounds()).getCenter(!0)},getPivot:function(){var le=this._pivot;return le?new de(le.x,le.y,this,"setPivot"):null},setPivot:function(){this._pivot=ae.read(arguments,0,{clone:!0,readNull:!0}),this._position=r}},k.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(le,_e){this[_e]=function(Ie){return this.getBounds(Ie,le)}},{beans:!0,getBounds:function(le,_e){var Ie=_e||le instanceof xe,Ue=k.set({},Ie?_e:le,this._boundsOptions);(!Ue.stroke||this.getStrokeScaling())&&(Ue.cacheItem=this);var qe=this._getCachedBounds(Ie&&le,Ue).rect;return arguments.length?qe:new Oe(qe.x,qe.y,qe.width,qe.height,this,"setBounds")},setBounds:function(){var le=he.read(arguments),_e=this.getBounds(),Ie=this._matrix,Ue=new xe,qe=le.getCenter();Ue.translate(qe),(le.width!=_e.width||le.height!=_e.height)&&(Ie.isInvertible()||(Ie.set(Ie._backup||new xe().translate(Ie.getTranslation())),_e=this.getBounds()),Ue.scale(_e.width!==0?le.width/_e.width:0,_e.height!==0?le.height/_e.height:0)),qe=_e.getCenter(),Ue.translate(-qe.x,-qe.y),this.transform(Ue)},_getBounds:function(le,_e){var Ie=this._children;return!Ie||!Ie.length?new he:(Ce._updateBoundsCache(this,_e.cacheItem),Ce._getBounds(Ie,le,_e))},_getBoundsCacheKey:function(le,_e){return[le.stroke?1:0,le.handle?1:0,_e?1:0].join("")},_getCachedBounds:function(le,_e,Ie){le=le&&le._orNullIfIdentity();var Ue=_e.internal&&!Ie,qe=_e.cacheItem,Et=Ue?null:this._matrix._orNullIfIdentity(),vn=qe&&(!le||le.equals(Et))&&this._getBoundsCacheKey(_e,Ue),Pt=this._bounds;if(Ce._updateBoundsCache(this._parent||this._symbol,qe),vn&&Pt&&vn in Pt){var wn=Pt[vn];return{rect:wn.rect.clone(),nonscaling:wn.nonscaling}}var bn=this._getBounds(le||Et,_e),In=bn.rect||bn,Fn=this._style,Dn=bn.nonscaling||Fn.hasStroke()&&!Fn.getStrokeScaling();if(vn){Pt||(this._bounds=Pt={});var wn=Pt[vn]={rect:In.clone(),nonscaling:Dn,internal:Ue}}return{rect:In,nonscaling:Dn}},_getStrokeMatrix:function(le,_e){var Ie=this.getStrokeScaling()?null:_e&&_e.internal?this:this._parent||this._symbol&&this._symbol._item,Ue=Ie?Ie.getViewMatrix().invert():le;return Ue&&Ue._shiftless()},statics:{_updateBoundsCache:function(le,_e){if(le&&_e){var Ie=_e._id,Ue=le._boundsCache=le._boundsCache||{ids:{},list:[]};Ue.ids[Ie]||(Ue.list.push(_e),Ue.ids[Ie]=_e)}},_clearBoundsCache:function(le){var _e=le._boundsCache;if(_e){le._bounds=le._position=le._boundsCache=r;for(var Ie=0,Ue=_e.list,qe=Ue.length;Ie<qe;Ie++){var Et=Ue[Ie];Et!==le&&(Et._bounds=Et._position=r,Et._boundsCache&&Ce._clearBoundsCache(Et))}}},_getBounds:function(le,_e,Ie){var Ue=1/0,qe=-Ue,Et=Ue,vn=qe,Pt=!1;Ie=Ie||{};for(var wn=0,bn=le.length;wn<bn;wn++){var In=le[wn];if(In._visible&&!In.isEmpty(!0)){var Fn=In._getCachedBounds(_e&&_e.appended(In._matrix),Ie,!0),Dn=Fn.rect;Ue=Math.min(Dn.x,Ue),Et=Math.min(Dn.y,Et),qe=Math.max(Dn.x+Dn.width,qe),vn=Math.max(Dn.y+Dn.height,vn),Fn.nonscaling&&(Pt=!0)}}return{rect:isFinite(Ue)?new he(Ue,Et,qe-Ue,vn-Et):new he,nonscaling:Pt}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var le=this._decompose();return le?le.rotation:0},setRotation:function(le){var _e=this.getRotation();if(_e!=null&&le!=null){var Ie=this._decomposed;this.rotate(le-_e),Ie&&(Ie.rotation=le,this._decomposed=Ie)}},getScaling:function(){var le=this._decompose(),_e=le&&le.scaling;return new de(_e?_e.x:1,_e?_e.y:1,this,"setScaling")},setScaling:function(){var le=this.getScaling(),_e=ae.read(arguments,0,{clone:!0,readNull:!0});if(le&&_e&&!le.equals(_e)){var Ie=this.getRotation(),Ue=this._decomposed,qe=new xe,Et=re.isZero;if(Et(le.x)||Et(le.y))qe.translate(Ue.translation),Ie&&qe.rotate(Ie),qe.scale(_e.x,_e.y),this._matrix.set(qe);else{var vn=this.getPosition(!0);qe.translate(vn),Ie&&qe.rotate(Ie),qe.scale(_e.x/le.x,_e.y/le.y),Ie&&qe.rotate(-Ie),qe.translate(vn.negate()),this.transform(qe)}Ue&&(Ue.scaling=_e,this._decomposed=Ue)}},getMatrix:function(){return this._matrix},setMatrix:function(){var le=this._matrix;le.set.apply(le,arguments)},getGlobalMatrix:function(le){var _e=this._globalMatrix;if(_e)for(var Ie=this._parent,Ue=[];Ie;){if(!Ie._globalMatrix){_e=null;for(var qe=0,Et=Ue.length;qe<Et;qe++)Ue[qe]._globalMatrix=null;break}Ue.push(Ie),Ie=Ie._parent}if(!_e){_e=this._globalMatrix=this._matrix.clone();var Ie=this._parent;Ie&&_e.prepend(Ie.getGlobalMatrix(!0))}return le?_e:_e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(le){(this._applyMatrix=this._canApplyMatrix&&!!le)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(le,_e){if(this._project!==le){this._project&&this._installEvents(!1),this._project=le;for(var Ie=this._children,Ue=0,qe=Ie&&Ie.length;Ue<qe;Ue++)Ie[Ue]._setProject(le);_e=!0}_e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function le(_e){le.base.call(this,_e);for(var Ie=this._children,Ue=0,qe=Ie&&Ie.length;Ue<qe;Ue++)Ie[Ue]._installEvents(_e)},getLayer:function(){for(var le=this;le=le._parent;)if(le instanceof ze)return le;return null},getParent:function(){return this._parent},setParent:function(le){return le.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(le){this.removeChildren(),this.addChildren(le)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var le=this._getOwner();return le&&le._children[this._index+1]||null},getPreviousSibling:function(){var le=this._getOwner();return le&&le._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(le){var _e=this._parent,Ie=_e&&_e._children;Ie&&_e.insertChildren(le in Ie?le:r,[this])},equals:function(le){return le===this||le&&this._class===le._class&&this._style.equals(le._style)&&this._matrix.equals(le._matrix)&&this._locked===le._locked&&this._visible===le._visible&&this._blendMode===le._blendMode&&this._opacity===le._opacity&&this._clipMask===le._clipMask&&this._guide===le._guide&&this._equals(le)||!1},_equals:function(le){return k.equals(this._children,le._children)},clone:function(le){var _e=new this.constructor(Ce.NO_INSERT),Ie=this._children,Ue=k.pick(le?le.insert:r,le===r||le===!0),qe=k.pick(le?le.deep:r,!0);Ie&&_e.copyAttributes(this),(!Ie||qe)&&_e.copyContent(this),Ie||_e.copyAttributes(this),Ue&&_e.insertAbove(this);var Et=this._name,vn=this._parent;if(Et&&vn){for(var Ie=vn._children,Pt=Et,wn=1;Ie[Et];)Et=Pt+" "+wn++;Et!==Pt&&_e.setName(Et)}return _e},copyContent:function(le){for(var _e=le._children,Ie=0,Ue=_e&&_e.length;Ie<Ue;Ie++)this.addChild(_e[Ie].clone(!1),!0)},copyAttributes:function(le,_e){this.setStyle(le._style);for(var Ie=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],Ue=0,qe=Ie.length;Ue<qe;Ue++){var Et=Ie[Ue];le.hasOwnProperty(Et)&&(this[Et]=le[Et])}_e||this._matrix.set(le._matrix,!0),this.setApplyMatrix(le._applyMatrix),this.setPivot(le._pivot),this.setSelection(le._selection);var vn=le._data,Pt=le._name;this._data=vn?k.clone(vn):null,Pt&&this.setName(Pt)},rasterize:function(le,_e){var Ie,Ue,qe;k.isPlainObject(le)?(Ie=le.resolution,Ue=le.insert,qe=le.raster):(Ie=le,Ue=_e),qe||(qe=new At(Ce.NO_INSERT));var Et=this.getStrokeBounds(),vn=(Ie||this.getView().getResolution())/72,Pt=Et.getTopLeft().floor(),wn=Et.getBottomRight().ceil(),bn=new ue(wn.subtract(Pt)),In=bn.multiply(vn);if(qe.setSize(In,!0),!In.isZero()){var Fn=qe.getContext(!0),Dn=new xe().scale(vn).translate(Pt.negate());Fn.save(),Dn.applyToContext(Fn),this.draw(Fn,new k({matrices:[Dn]})),Fn.restore()}return qe._matrix.set(new xe().translate(Pt.add(bn.divide(2))).scale(1/vn)),(Ue===r||Ue)&&qe.insertAbove(this),qe},contains:function(){var le=this._matrix;return le.isInvertible()&&!!this._contains(le._inverseTransform(ae.read(arguments)))},_contains:function(le){var _e=this._children;if(_e){for(var Ie=_e.length-1;Ie>=0;Ie--)if(_e[Ie].contains(le))return!0;return!1}return le.isInside(this.getInternalBounds())},isInside:function(){return he.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Tn.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(le,_e){return le instanceof Ce?this._asPathItem().getIntersections(le._asPathItem(),null,_e,!0).length>0:!1}},new function(){function le(){var Ue=arguments;return this._hitTest(ae.read(Ue),On.getOptions(Ue))}function _e(){var Ue=arguments,qe=ae.read(Ue),Et=On.getOptions(Ue),vn=[];return this._hitTest(qe,new k({all:vn},Et)),vn}function Ie(Ue,qe,Et,vn){var Pt=this._children;if(Pt)for(var wn=Pt.length-1;wn>=0;wn--){var bn=Pt[wn],In=bn!==vn&&bn._hitTest(Ue,qe,Et);if(In&&!qe.all)return In}return null}return Ne.inject({hitTest:le,hitTestAll:_e,_hitTest:Ie}),{hitTest:le,hitTestAll:_e,_hitTestChildren:Ie}},{_hitTest:function(le,_e,Ie){if(this._locked||!this._visible||this._guide&&!_e.guides||this.isEmpty())return null;var Ue=this._matrix,qe=Ie?Ie.appended(Ue):this.getGlobalMatrix().prepend(this.getView()._matrix),Et=Math.max(_e.tolerance,1e-12),vn=_e._tolerancePadding=new ue(Tn._getStrokePadding(Et,Ue._shiftless().invert()));if(le=Ue._inverseTransform(le),!le||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(vn.multiply(2))._containsPoint(le))return null;var Pt=!(_e.guides&&!this._guide||_e.selected&&!this.isSelected()||_e.type&&_e.type!==k.hyphenate(this._class)||_e.class&&!(this instanceof _e.class)),wn=_e.match,bn=this,In,Fn;function Dn(xn){return xn&&wn&&!wn(xn)&&(xn=null),xn&&_e.all&&_e.all.push(xn),xn}function Un(xn,Rn){var qn=Rn?In["get"+Rn]():bn.getPosition();if(le.subtract(qn).divide(vn).length<=1)return new On(xn,bn,{name:Rn?k.hyphenate(Rn):xn,point:qn})}var Jn=_e.position,Hn=_e.center,tr=_e.bounds;if(Pt&&this._parent&&(Jn||Hn||tr)){if((Hn||tr)&&(In=this.getInternalBounds()),Fn=Jn&&Un("position")||Hn&&Un("center","Center"),!Fn&&tr)for(var kn=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],zn=0;zn<8&&!Fn;zn++)Fn=Un("bounds",kn[zn]);Fn=Dn(Fn)}return Fn||(Fn=this._hitTestChildren(le,_e,qe)||Pt&&Dn(this._hitTestSelf(le,_e,qe,this.getStrokeScaling()?null:qe._shiftless().invert()))||null),Fn&&Fn.point&&(Fn.point=Ue.transform(Fn.point)),Fn},_hitTestSelf:function(le,_e){if(_e.fill&&this.hasFill()&&this._contains(le))return new On("fill",this)},matches:function(le,_e){function Ie(vn,Pt){for(var wn in vn)if(vn.hasOwnProperty(wn)){var bn=vn[wn],In=Pt[wn];if(k.isPlainObject(bn)&&k.isPlainObject(In)){if(!Ie(bn,In))return!1}else if(!k.equals(bn,In))return!1}return!0}var Ue=typeof le;if(Ue==="object"){for(var qe in le)if(le.hasOwnProperty(qe)&&!this.matches(qe,le[qe]))return!1;return!0}else{if(Ue==="function")return le(this);if(le==="match")return _e(this);var Et=/^(empty|editable)$/.test(le)?this["is"+k.capitalize(le)]():le==="type"?k.hyphenate(this._class):this[le];if(le==="class"){if(typeof _e=="function")return this instanceof _e;Et=this._class}if(typeof _e=="function")return!!_e(Et);if(_e){if(_e.test)return _e.test(Et);if(k.isPlainObject(_e))return Ie(_e,Et)}return k.equals(Et,_e)}},getItems:function(le){return Ce._getItems(this,le,this._matrix)},getItem:function(le){return Ce._getItems(this,le,this._matrix,null,!0)[0]||null},statics:{_getItems:function le(_e,Ie,Ue,qe,Et){if(!qe){var vn=typeof Ie=="object"&&Ie,Pt=vn&&vn.overlapping,wn=vn&&vn.inside,bn=Pt||wn,Dn=bn&&he.read([bn]);qe={items:[],recursive:vn&&vn.recursive!==!1,inside:!!wn,overlapping:!!Pt,rect:Dn,path:Pt&&new Tn.Rectangle({rectangle:Dn,insert:!1})},vn&&(Ie=k.filter({},Ie,{recursive:!0,inside:!0,overlapping:!0}))}var In=_e._children,Fn=qe.items,Dn=qe.rect;Ue=Dn&&(Ue||new xe);for(var Un=0,Jn=In&&In.length;Un<Jn;Un++){var Hn=In[Un],tr=Ue&&Ue.appended(Hn._matrix),kn=!0;if(Dn){var bn=Hn.getBounds(tr);if(!Dn.intersects(bn))continue;Dn.contains(bn)||qe.overlapping&&(bn.contains(Dn)||qe.path.intersects(Hn,tr))||(kn=!1)}if(kn&&Hn.matches(Ie)&&(Fn.push(Hn),Et)||(qe.recursive!==!1&&le(Hn,Ie,tr,qe,Et),Et&&Fn.length>0))break}return Fn}}},{importJSON:function(le){var _e=k.importJSON(le,this);return _e!==this?this.addChild(_e):_e},addChild:function(le){return this.insertChild(r,le)},insertChild:function(le,_e){var Ie=_e?this.insertChildren(le,[_e]):null;return Ie&&Ie[0]},addChildren:function(le){return this.insertChildren(this._children.length,le)},insertChildren:function(le,_e){var Ie=this._children;if(Ie&&_e&&_e.length>0){_e=k.slice(_e);for(var Ue={},qe=_e.length-1;qe>=0;qe--){var Et=_e[qe],vn=Et&&Et._id;!Et||Ue[vn]?_e.splice(qe,1):(Et._remove(!1,!0),Ue[vn]=!0)}k.splice(Ie,_e,le,0);for(var Pt=this._project,wn=Pt._changes,qe=0,bn=_e.length;qe<bn;qe++){var Et=_e[qe],In=Et._name;Et._parent=this,Et._setProject(Pt,!0),In&&Et.setName(In),wn&&Et._changed(5)}this._changed(11)}else _e=null;return _e},_insertItem:"#insertChild",_insertAt:function(le,_e){var Ie=le&&le._getOwner(),Ue=le!==this&&Ie?this:null;return Ue&&(Ue._remove(!1,!0),Ie._insertItem(le._index+_e,Ue)),Ue},insertAbove:function(le){return this._insertAt(le,1)},insertBelow:function(le){return this._insertAt(le,0)},sendToBack:function(){var le=this._getOwner();return le?le._insertItem(0,this):null},bringToFront:function(){var le=this._getOwner();return le?le._insertItem(r,this):null},appendTop:"#addChild",appendBottom:function(le){return this.insertChild(0,le)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(le){return le._insertItem(r,this)},copyTo:function(le){return this.clone(!1).addTo(le)},reduce:function(le){var _e=this._children;if(_e&&_e.length===1){var Ie=_e[0].reduce(le);return this._parent?(Ie.insertAbove(this),this.remove()):Ie.remove(),Ie}return this},_removeNamed:function(){var le=this._getOwner();if(le){var _e=le._children,Ie=le._namedChildren,Ue=this._name,qe=Ie[Ue],Et=qe?qe.indexOf(this):-1;Et!==-1&&(_e[Ue]==this&&delete _e[Ue],qe.splice(Et,1),qe.length?_e[Ue]=qe[0]:delete Ie[Ue])}},_remove:function(le,_e){var Ie=this._getOwner(),Ue=this._project,qe=this._index;return this._style&&this._style._dispose(),Ie?(this._name&&this._removeNamed(),qe!=null&&(Ue._activeLayer===this&&(Ue._activeLayer=this.getNextSibling()||this.getPreviousSibling()),k.splice(Ie._children,null,qe,1)),this._installEvents(!1),le&&Ue._changes&&this._changed(5),_e&&Ie._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(le){var _e=le&&le.insertBelow(this);return _e&&this.remove(),_e},removeChildren:function(le,_e){if(!this._children)return null;le=le||0,_e=k.pick(_e,this._children.length);for(var Ie=k.splice(this._children,null,le,_e-le),Ue=Ie.length-1;Ue>=0;Ue--)Ie[Ue]._remove(!0,!1);return Ie.length>0&&this._changed(11),Ie},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var le=0,_e=this._children.length;le<_e;le++)this._children[le]._index=le;this._changed(11)}},isEmpty:function(le){var _e=this._children,Ie=_e?_e.length:0;if(le){for(var Ue=0;Ue<Ie;Ue++)if(!_e[Ue].isEmpty(le))return!1;return!0}return!Ie},isEditable:function(){for(var le=this;le;){if(!le._visible||le._locked)return!1;le=le._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(le){function _e(vn){var Pt=[];do Pt.unshift(vn);while(vn=vn._parent);return Pt}for(var Ie=_e(this),Ue=_e(le),qe=0,Et=Math.min(Ie.length,Ue.length);qe<Et;qe++)if(Ie[qe]!=Ue[qe])return Ie[qe]._index<Ue[qe]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(le){return this._getOrder(le)===-1},isBelow:function(le){return this._getOrder(le)===1},isParent:function(le){return this._parent===le},isChild:function(le){return le&&le._parent===this},isDescendant:function(le){for(var _e=this;_e=_e._parent;)if(_e===le)return!0;return!1},isAncestor:function(le){return le?le.isDescendant(this):!1},isSibling:function(le){return this._parent===le._parent},isGroupedWith:function(le){for(var _e=this._parent;_e;){if(_e._parent&&/^(Group|Layer|CompoundPath)$/.test(_e._class)&&le.isDescendant(_e))return!0;_e=_e._parent}return!1}},k.each(["rotate","scale","shear","skew"],function(le){var _e=le==="rotate";this[le]=function(){var Ie=arguments,Ue=(_e?k:ae).read(Ie),qe=ae.read(Ie,0,{readNull:!0});return this.transform(new xe()[le](Ue,qe||this.getPosition(!0)))}},{translate:function(){var le=new xe;return this.transform(le.translate.apply(le,arguments))},transform:function(le,_e,Ie){var Ue=this._matrix,qe=le&&!le.isIdentity(),Et=Ie&&this._canApplyMatrix||this._applyMatrix&&(qe||!Ue.isIdentity()||_e&&this._children);if(!qe&&!Et)return this;if(qe){!le.isInvertible()&&Ue.isInvertible()&&(Ue._backup=Ue.getValues()),Ue.prepend(le,!0);var vn=this._style,Pt=vn.getFillColor(!0),wn=vn.getStrokeColor(!0);Pt&&Pt.transform(le),wn&&wn.transform(le)}if(Et&&(Et=this._transformContent(Ue,_e,Ie))){var bn=this._pivot;bn&&Ue._transformPoint(bn,bn,!0),Ue.reset(!0),Ie&&this._canApplyMatrix&&(this._applyMatrix=!0)}var In=this._bounds,Fn=this._position;(qe||Et)&&this._changed(25);var Dn=qe&&In&&le.decompose();if(Dn&&Dn.skewing.isZero()&&Dn.rotation%90===0){for(var Un in In){var Jn=In[Un];if(Jn.nonscaling)delete In[Un];else if(Et||!Jn.internal){var Hn=Jn.rect;le._transformBounds(Hn,Hn)}}this._bounds=In;var tr=In[this._getBoundsCacheKey(this._boundsOptions||{})];tr&&(this._position=this._getPositionFromBounds(tr.rect))}else qe&&Fn&&this._pivot&&(this._position=le._transformPoint(Fn,Fn));return this},_transformContent:function(le,_e,Ie){var Ue=this._children;if(Ue){for(var qe=0,Et=Ue.length;qe<Et;qe++)Ue[qe].transform(le,_e,Ie);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ae.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ae.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ae.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ae.read(arguments))},fitBounds:function(le,_e){le=he.read(arguments);var Ie=this.getBounds(),Ue=Ie.height/Ie.width,qe=le.height/le.width,Et=(_e?Ue>qe:Ue<qe)?le.width/Ie.width:le.height/Ie.height,vn=new he(new ae,new ue(Ie.width*Et,Ie.height*Et));vn.setCenter(le.getCenter()),this.setBounds(vn)}}),{_setStyles:function(le,_e,Ie){var Ue=this._style,qe=this._matrix;if(Ue.hasFill()&&(le.fillStyle=Ue.getFillColor().toCanvasStyle(le,qe)),Ue.hasStroke()){le.strokeStyle=Ue.getStrokeColor().toCanvasStyle(le,qe),le.lineWidth=Ue.getStrokeWidth();var Et=Ue.getStrokeJoin(),vn=Ue.getStrokeCap(),Pt=Ue.getMiterLimit();if(Et&&(le.lineJoin=Et),vn&&(le.lineCap=vn),Pt&&(le.miterLimit=Pt),lr.support.nativeDash){var wn=Ue.getDashArray(),bn=Ue.getDashOffset();wn&&wn.length&&("setLineDash"in le?(le.setLineDash(wn),le.lineDashOffset=bn):(le.mozDash=wn,le.mozDashOffset=bn))}}if(Ue.hasShadow()){var In=_e.pixelRatio||1,Fn=Ie._shiftless().prepend(new xe().scale(In,In)),Dn=Fn.transform(new ae(Ue.getShadowBlur(),0)),Un=Fn.transform(this.getShadowOffset());le.shadowColor=Ue.getShadowColor().toCanvasStyle(le),le.shadowBlur=Dn.getLength(),le.shadowOffsetX=Un.x,le.shadowOffsetY=Un.y}},draw:function(le,_e,Ie){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var Ue=_e.matrices,qe=_e.viewMatrix,Et=this._matrix,vn=Ue[Ue.length-1].appended(Et);if(vn.isInvertible()){qe=qe?qe.appended(vn):vn,Ue.push(vn),_e.updateMatrix&&(this._globalMatrix=vn);var Pt=this._blendMode,wn=re.clamp(this._opacity,0,1),bn=Pt==="normal",In=ar.nativeModes[Pt],Fn=bn&&wn===1||_e.dontStart||_e.clip||(In||bn&&wn<1)&&this._canComposite(),Dn=_e.pixelRatio||1,Un,Jn,Hn;if(!Fn){var tr=this.getStrokeBounds(qe);if(!tr.width||!tr.height){Ue.pop();return}Hn=_e.offset,Jn=_e.offset=tr.getTopLeft().floor(),Un=le,le=rr.getContext(tr.getSize().ceil().add(1).multiply(Dn)),Dn!==1&&le.scale(Dn,Dn)}le.save();var kn=Ie?Ie.appended(Et):this._canScaleStroke&&!this.getStrokeScaling(!0)&&qe,zn=!Fn&&_e.clipItem,xn=!kn||zn;if(Fn?(le.globalAlpha=wn,In&&(le.globalCompositeOperation=Pt)):xn&&le.translate(-Jn.x,-Jn.y),xn&&(Fn?Et:qe).applyToContext(le),zn&&_e.clipItem.draw(le,_e.extend({clip:!0})),kn){le.setTransform(Dn,0,0,Dn,0,0);var Rn=_e.offset;Rn&&le.translate(-Rn.x,-Rn.y)}this._draw(le,_e,qe,kn),le.restore(),Ue.pop(),_e.clip&&!_e.dontFinish&&le.clip(this.getFillRule()),Fn||(ar.process(Pt,le,Un,wn,Jn.subtract(Hn).multiply(Dn)),rr.release(le),_e.offset=Hn)}}},_isUpdated:function(le){var _e=this._parent;if(_e instanceof Zn)return _e._isUpdated(le);var Ie=this._updateVersion===le;return!Ie&&_e&&_e._visible&&_e._isUpdated(le)&&(this._updateVersion=le,Ie=!0),Ie},_drawSelection:function(le,_e,Ie,Ue,qe){var Et=this._selection,vn=Et&1,Pt=Et&2||vn&&this._selectBounds,wn=Et&4;if(this._drawSelected||(vn=!1),(vn||Pt||wn)&&this._isUpdated(qe)){var bn,In=this.getSelectedColor(!0)||(bn=this.getLayer())&&bn.getSelectedColor(!0),Fn=_e.appended(this.getGlobalMatrix(!0)),Dn=Ie/2;if(le.strokeStyle=le.fillStyle=In?In.toCanvasStyle(le):"#009dec",vn&&this._drawSelected(le,Fn,Ue),wn){var Un=this.getPosition(!0),Jn=this._parent,Hn=Jn?Jn.localToGlobal(Un):Un,tr=Hn.x,kn=Hn.y;le.beginPath(),le.arc(tr,kn,Dn,0,Math.PI*2,!0),le.stroke();for(var zn=[[0,-1],[1,0],[0,1],[-1,0]],xn=Dn,Rn=Ie+1,qn=0;qn<4;qn++){var nr=zn[qn],er=nr[0],fr=nr[1];le.moveTo(tr+er*xn,kn+fr*xn),le.lineTo(tr+er*Rn,kn+fr*Rn),le.stroke()}}if(Pt){var pr=Fn._transformCorners(this.getInternalBounds());le.beginPath();for(var qn=0;qn<8;qn++)le[qn?"lineTo":"moveTo"](pr[qn],pr[++qn]);le.closePath(),le.stroke();for(var qn=0;qn<8;qn++)le.fillRect(pr[qn]-Dn,pr[++qn]-Dn,Ie,Ie)}}},_canComposite:function(){return!1}},k.each(["down","drag","up","move"],function(le){this["removeOn"+k.capitalize(le)]=function(){var _e={};return _e[le]=!0,this.removeOn(_e)}},{removeOn:function(le){for(var _e in le)if(le[_e]){var Ie="mouse"+_e,Ue=this._project,qe=Ue._removeSets=Ue._removeSets||{};qe[Ie]=qe[Ie]||{},qe[Ie][this._id]=this}return this}}),{tween:function(le,_e,Ie){Ie||(Ie=_e,_e=le,le=null,Ie||(Ie=_e,_e=null));var Ue=Ie&&Ie.easing,qe=Ie&&Ie.start,Et=Ie!=null&&(typeof Ie=="number"?Ie:Ie.duration),vn=new Bn(this,le,_e,Et,Ue,qe);function Pt(wn){vn._handleFrame(wn.time*1e3),vn.running||this.off("frame",Pt)}return Et&&this.on("frame",Pt),vn},tweenTo:function(le,_e){return this.tween(null,le,_e)},tweenFrom:function(le,_e){return this.tween(le,null,_e)}}),Fe=Ce.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(_e){this._children=[],this._namedChildren={},this._initialize(_e)||this.addChildren(Array.isArray(_e)?_e:arguments)},_changed:function le(_e){le.base.call(this,_e),_e&2050&&(this._clipItem=r)},_getClipItem:function(){var le=this._clipItem;if(le===r){le=null;for(var _e=this._children,Ie=0,Ue=_e.length;Ie<Ue;Ie++)if(_e[Ie]._clipMask){le=_e[Ie];break}this._clipItem=le}return le},isClipped:function(){return!!this._getClipItem()},setClipped:function(le){var _e=this.getFirstChild();_e&&_e.setClipMask(le)},_getBounds:function le(_e,Ie){var Ue=this._getClipItem();return Ue?Ue._getCachedBounds(Ue._matrix.prepended(_e),k.set({},Ie,{stroke:!1})):le.base.call(this,_e,Ie)},_hitTestChildren:function le(_e,Ie,Ue){var qe=this._getClipItem();return(!qe||qe.contains(_e))&&le.base.call(this,_e,Ie,Ue,qe)},_draw:function(le,_e){var Ie=_e.clip,Ue=!Ie&&this._getClipItem();_e=_e.extend({clipItem:Ue,clip:!1}),Ie?(le.beginPath(),_e.dontStart=_e.dontFinish=!0):Ue&&Ue.draw(le,_e.extend({clip:!0}));for(var qe=this._children,Et=0,vn=qe.length;Et<vn;Et++){var Pt=qe[Et];Pt!==Ue&&Pt.draw(le,_e)}}}),ze=Fe.extend({_class:"Layer",initialize:function(){Fe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function le(){return this._parent?le.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),kt=Ce.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(_e,Ie){this._initialize(_e,Ie)},_equals:function(le){return this._type===le._type&&this._size.equals(le._size)&&k.equals(this._radius,le._radius)},copyContent:function(le){this.setType(le._type),this.setSize(le._size),this.setRadius(le._radius)},getType:function(){return this._type},setType:function(le){this._type=le},getShape:"#getType",setShape:"#setType",getSize:function(){var le=this._size;return new pe(le.width,le.height,this,"setSize")},setSize:function(){var le=ue.read(arguments);if(!this._size)this._size=le.clone();else if(!this._size.equals(le)){var _e=this._type,Ie=le.width,Ue=le.height;_e==="rectangle"?this._radius.set(ue.min(this._radius,le.divide(2).abs())):_e==="circle"?(Ie=Ue=(Ie+Ue)/2,this._radius=Ie/2):_e==="ellipse"&&this._radius._set(Ie/2,Ue/2),this._size._set(Ie,Ue),this._changed(9)}},getRadius:function(){var le=this._radius;return this._type==="circle"?le:new pe(le.width,le.height,this,"setRadius")},setRadius:function(le){var _e=this._type;if(_e==="circle"){if(le===this._radius)return;var Ie=le*2;this._radius=le,this._size._set(Ie,Ie)}else if(le=ue.read(arguments),!this._radius)this._radius=le.clone();else{if(this._radius.equals(le))return;if(this._radius.set(le),_e==="rectangle"){var Ie=ue.max(this._size,le.multiply(2));this._size.set(Ie)}else _e==="ellipse"&&this._size._set(le.width*2,le.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(le){var _e=new Tn[k.capitalize(this._type)]({center:new ae,size:this._size,radius:this._radius,insert:!1});return _e.copyAttributes(this),lr.settings.applyMatrix&&_e.setApplyMatrix(!0),(le===r||le)&&_e.insertAbove(this),_e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(le,_e,Ie,Ue){var qe=this._style,Et=qe.hasFill(),vn=qe.hasStroke(),Pt=_e.dontFinish||_e.clip,wn=!Ue;if(Et||vn||Pt){var bn=this._type,In=this._radius,Fn=bn==="circle";if(_e.dontStart||le.beginPath(),wn&&Fn)le.arc(0,0,In,0,Math.PI*2,!0);else{var Dn=Fn?In:In.width,Un=Fn?In:In.height,Jn=this._size,Hn=Jn.width,tr=Jn.height;if(wn&&bn==="rectangle"&&Dn===0&&Un===0)le.rect(-Hn/2,-tr/2,Hn,tr);else{var kn=Hn/2,zn=tr/2,xn=1-.5522847498307936,Rn=Dn*xn,qn=Un*xn,nr=[-kn,-zn+Un,-kn,-zn+qn,-kn+Rn,-zn,-kn+Dn,-zn,kn-Dn,-zn,kn-Rn,-zn,kn,-zn+qn,kn,-zn+Un,kn,zn-Un,kn,zn-qn,kn-Rn,zn,kn-Dn,zn,-kn+Dn,zn,-kn+Rn,zn,-kn,zn-qn,-kn,zn-Un];Ue&&Ue.transform(nr,nr,32),le.moveTo(nr[0],nr[1]),le.bezierCurveTo(nr[2],nr[3],nr[4],nr[5],nr[6],nr[7]),kn!==Dn&&le.lineTo(nr[8],nr[9]),le.bezierCurveTo(nr[10],nr[11],nr[12],nr[13],nr[14],nr[15]),zn!==Un&&le.lineTo(nr[16],nr[17]),le.bezierCurveTo(nr[18],nr[19],nr[20],nr[21],nr[22],nr[23]),kn!==Dn&&le.lineTo(nr[24],nr[25]),le.bezierCurveTo(nr[26],nr[27],nr[28],nr[29],nr[30],nr[31])}}le.closePath()}!Pt&&(Et||vn)&&(this._setStyles(le,_e,Ie),Et&&(le.fill(qe.getFillRule()),le.shadowColor="rgba(0,0,0,0)"),vn&&le.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(le,_e){var Ie=new he(this._size).setCenter(0,0),Ue=this._style,qe=_e.stroke&&Ue.hasStroke()&&Ue.getStrokeWidth();return le&&(Ie=le._transformBounds(Ie)),qe?Ie.expand(Tn._getStrokePadding(qe,this._getStrokeMatrix(le,_e))):Ie}},new function(){function le(Ie,Ue,qe){var Et=Ie._radius;if(!Et.isZero())for(var vn=Ie._size.divide(2),Pt=1;Pt<=4;Pt++){var wn=new ae(Pt>1&&Pt<4?-1:1,Pt>2?-1:1),bn=wn.multiply(vn),In=bn.subtract(wn.multiply(Et)),Fn=new he(qe?bn.add(wn.multiply(qe)):bn,In);if(Fn.contains(Ue))return{point:In,quadrant:Pt}}}function _e(Ie,Ue,qe,Et){var vn=Ie.divide(Ue);return(!Et||vn.isInQuadrant(Et))&&vn.subtract(vn.normalize()).multiply(Ue).divide(qe).length<=1}return{_contains:function Ie(Ue){if(this._type==="rectangle"){var qe=le(this,Ue);return qe?Ue.subtract(qe.point).divide(this._radius).getLength()<=1:Ie.base.call(this,Ue)}else return Ue.divide(this.size).getLength()<=.5},_hitTestSelf:function Ie(Ue,qe,Et,vn){var Pt=!1,wn=this._style,bn=qe.stroke&&wn.hasStroke(),In=qe.fill&&wn.hasFill();if(bn||In){var Fn=this._type,Dn=this._radius,Un=bn?wn.getStrokeWidth()/2:0,Jn=qe._tolerancePadding.add(Tn._getStrokePadding(Un,!wn.getStrokeScaling()&&vn));if(Fn==="rectangle"){var Hn=Jn.multiply(2),tr=le(this,Ue,Hn);if(tr)Pt=_e(Ue.subtract(tr.point),Dn,Jn,tr.quadrant);else{var kn=new he(this._size).setCenter(0,0),zn=kn.expand(Hn),xn=kn.expand(Hn.negate());Pt=zn._containsPoint(Ue)&&!xn._containsPoint(Ue)}}else Pt=_e(Ue,Dn,Jn)}return Pt?new On(bn?"stroke":"fill",this):Ie.base.apply(this,arguments)}}},{statics:new function(){function le(_e,Ie,Ue,qe,Et){var vn=k.create(kt.prototype);return vn._type=_e,vn._size=Ue,vn._radius=qe,vn._initialize(k.getNamed(Et),Ie),vn}return{Circle:function(){var _e=arguments,Ie=ae.readNamed(_e,"center"),Ue=k.readNamed(_e,"radius");return le("circle",Ie,new ue(Ue*2),Ue,_e)},Rectangle:function(){var _e=arguments,Ie=he.readNamed(_e,"rectangle"),Ue=ue.min(ue.readNamed(_e,"radius"),Ie.getSize(!0).divide(2));return le("rectangle",Ie.getCenter(!0),Ie.getSize(!0),Ue,_e)},Ellipse:function(){var _e=arguments,Ie=kt._readEllipse(_e),Ue=Ie.radius;return le("ellipse",Ie.center,Ue.multiply(2),Ue,_e)},_readEllipse:function(_e){var Ie,Ue;if(k.hasNamed(_e,"radius"))Ie=ae.readNamed(_e,"center"),Ue=ue.readNamed(_e,"radius");else{var qe=he.readNamed(_e,"rectangle");Ie=qe.getCenter(!0),Ue=qe.getSize(!0).divide(2)}return{center:Ie,radius:Ue}}}}}),At=Ce.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(_e,Ie){if(!this._initialize(_e,Ie!==r&&ae.read(arguments))){var Ue,qe=typeof _e,Et=qe==="string"?y.getElementById(_e):qe==="object"?_e:null;if(Et&&Et!==Ce.NO_INSERT){if(Et.getContext||Et.naturalHeight!=null)Ue=Et;else if(Et){var vn=ue.read(arguments);vn.isZero()||(Ue=rr.getCanvas(vn))}}Ue?this.setImage(Ue):this.setSource(_e)}this._size||(this._size=new ue,this._loaded=!1)},_equals:function(le){return this.getSource()===le.getSource()},copyContent:function(le){var _e=le._image,Ie=le._canvas;if(_e)this._setImage(_e);else if(Ie){var Ue=rr.getCanvas(le._size);Ue.getContext("2d").drawImage(Ie,0,0),this._setImage(Ue)}this._crossOrigin=le._crossOrigin},getSize:function(){var le=this._size;return new pe(le?le.width:0,le?le.height:0,this,"setSize")},setSize:function(le,_e){var Ie=ue.read(arguments);if(Ie.equals(this._size))_e&&this.clear();else if(Ie.width>0&&Ie.height>0){var Ue=!_e&&this.getElement();this._setImage(rr.getCanvas(Ie)),Ue&&this.getContext(!0).drawImage(Ue,0,0,Ie.width,Ie.height)}else this._canvas&&rr.release(this._canvas),this._size=Ie.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(le){this.setSize(le,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(le){this.setSize(this.getWidth(),le)},getLoaded:function(){return this._loaded},isEmpty:function(){var le=this._size;return!le||le.width===0&&le.height===0},getResolution:function(){var le=this._matrix,_e=new ae(0,0).transform(le),Ie=new ae(1,0).transform(le).subtract(_e),Ue=new ae(0,1).transform(le).subtract(_e);return new ue(72/Ie.getLength(),72/Ue.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(le){var _e=this;function Ie(Ue){var qe=_e.getView(),Et=Ue&&Ue.type||"load";qe&&_e.responds(Et)&&(lr=qe._scope,_e.emit(Et,new Gn(Ue)))}this._setImage(le),this._loaded?setTimeout(Ie,0):le&&gr.add(le,{load:function(Ue){_e._setImage(le),Ie(Ue)},error:Ie})},_setImage:function(le){this._canvas&&rr.release(this._canvas),le&&le.getContext?(this._image=null,this._canvas=le,this._loaded=!0):(this._image=le,this._canvas=null,this._loaded=!!(le&&le.src&&le.complete)),this._size=new ue(le?le.naturalWidth||le.width:0,le?le.naturalHeight||le.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var le=rr.getContext(this._size);try{this._image&&le.drawImage(this._image,0,0),this._canvas=le.canvas}catch{rr.release(le)}}return this._canvas},setCanvas:"#setImage",getContext:function(le){return this._context||(this._context=this.getCanvas().getContext("2d")),le&&(this._image=null,this._changed(1025)),this._context},setContext:function(le){this._context=le},getSource:function(){var le=this._image;return le&&le.src||this.toDataURL()},setSource:function(le){var _e=new e.Image,Ie=this._crossOrigin;Ie&&(_e.crossOrigin=Ie),le&&(_e.src=le),this.setImage(_e)},getCrossOrigin:function(){var le=this._image;return le&&le.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(le){this._crossOrigin=le;var _e=this._image;_e&&(_e.crossOrigin=le)},getSmoothing:function(){return this._smoothing},setSmoothing:function(le){this._smoothing=typeof le=="string"?le:le?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var le=he.read(arguments),_e=rr.getContext(le.getSize());return _e.drawImage(this.getCanvas(),le.x,le.y,le.width,le.height,0,0,le.width,le.height),_e.canvas},getSubRaster:function(){var le=he.read(arguments),_e=new At(Ce.NO_INSERT);return _e._setImage(this.getSubCanvas(le)),_e.translate(le.getCenter().subtract(this.getSize().divide(2))),_e._matrix.prepend(this._matrix),_e.insertAbove(this),_e},toDataURL:function(){var le=this._image,_e=le&&le.src;if(/^data:/.test(_e))return _e;var Ie=this.getCanvas();return Ie?Ie.toDataURL.apply(Ie,arguments):null},drawImage:function(le){var _e=ae.read(arguments,1);this.getContext(!0).drawImage(le,_e.x,_e.y)},getAverageColor:function(le){var _e,Ie;if(le?le instanceof Ln?(Ie=le,_e=le.getBounds()):typeof le=="object"&&("width"in le?_e=new he(le):"x"in le&&(_e=new he(le.x-.5,le.y-.5,1,1))):_e=this.getBounds(),!_e)return null;var Ue=32,qe=Math.min(_e.width,Ue),Et=Math.min(_e.height,Ue),vn=At._sampleContext;vn?vn.clearRect(0,0,Ue+1,Ue+1):vn=At._sampleContext=rr.getContext(new ue(Ue)),vn.save();var Pt=new xe().scale(qe/_e.width,Et/_e.height).translate(-_e.x,-_e.y);Pt.applyToContext(vn),Ie&&Ie.draw(vn,new k({clip:!0,matrices:[Pt]})),this._matrix.applyToContext(vn);var wn=this.getElement(),bn=this._size;wn&&vn.drawImage(wn,-bn.width/2,-bn.height/2),vn.restore();for(var In=vn.getImageData(.5,.5,Math.ceil(qe),Math.ceil(Et)).data,Fn=[0,0,0],Dn=0,Un=0,Jn=In.length;Un<Jn;Un+=4){var Hn=In[Un+3];Dn+=Hn,Hn/=255,Fn[0]+=In[Un]*Hn,Fn[1]+=In[Un+1]*Hn,Fn[2]+=In[Un+2]*Hn}for(var Un=0;Un<3;Un++)Fn[Un]/=Dn;return Dn?hr.read(Fn):null},getPixel:function(){var le=ae.read(arguments),_e=this.getContext().getImageData(le.x,le.y,1,1).data;return new hr("rgb",[_e[0]/255,_e[1]/255,_e[2]/255],_e[3]/255)},setPixel:function(){var le=arguments,_e=ae.read(le),Ie=hr.read(le),Ue=Ie._convert("rgb"),qe=Ie._alpha,Et=this.getContext(!0),vn=Et.createImageData(1,1),Pt=vn.data;Pt[0]=Ue[0]*255,Pt[1]=Ue[1]*255,Pt[2]=Ue[2]*255,Pt[3]=qe!=null?qe*255:255,Et.putImageData(vn,_e.x,_e.y)},clear:function(){var le=this._size;this.getContext(!0).clearRect(0,0,le.width+1,le.height+1)},createImageData:function(){var le=ue.read(arguments);return this.getContext().createImageData(le.width,le.height)},getImageData:function(){var le=he.read(arguments);return le.isEmpty()&&(le=new he(this._size)),this.getContext().getImageData(le.x,le.y,le.width,le.height)},putImageData:function(le){var _e=ae.read(arguments,1);this.getContext(!0).putImageData(le,_e.x,_e.y)},setImageData:function(le){this.setSize(le),this.getContext(!0).putImageData(le,0,0)},_getBounds:function(le,_e){var Ie=new he(this._size).setCenter(0,0);return le?le._transformBounds(Ie):Ie},_hitTestSelf:function(le){if(this._contains(le)){var _e=this;return new On("pixel",_e,{offset:le.add(_e._size.divide(2)).round(),color:{get:function(){return _e.getPixel(this.offset)}}})}},_draw:function(le,_e,Ie){var Ue=this.getElement();if(Ue&&Ue.width>0&&Ue.height>0){le.globalAlpha=re.clamp(this._opacity,0,1),this._setStyles(le,_e,Ie);var qe=this._smoothing,Et=qe==="off";cr.setPrefixed(le,Et?"imageSmoothingEnabled":"imageSmoothingQuality",Et?!1:qe),le.drawImage(Ue,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Cn=Ce.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(_e,Ie){this._initialize(_e,Ie!==r&&ae.read(arguments,1))||this.setDefinition(_e instanceof Dt?_e:new Dt(_e))},_equals:function(le){return this._definition===le._definition},copyContent:function(le){this.setDefinition(le._definition)},getDefinition:function(){return this._definition},setDefinition:function(le){this._definition=le,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(le,_e){var Ie=this._definition._item;return Ie._getCachedBounds(Ie._matrix.prepended(le),_e)},_hitTestSelf:function(le,_e,Ie){var Ue=_e.extend({all:!1}),qe=this._definition._item._hitTest(le,Ue,Ie);return qe&&(qe.item=this),qe},_draw:function(le,_e){this._definition._item.draw(le,_e)}}),Dt=k.extend({_class:"SymbolDefinition",initialize:function(_e,Ie){this._id=oe.get(),this.project=lr.project,_e&&this.setItem(_e,Ie)},_serialize:function(le,_e){return _e.add(this,function(){return k.serialize([this._class,this._item],le,!1,_e)})},_changed:function(le){le&8&&Ce._clearBoundsCache(this),le&1&&this.project._changed(le)},getItem:function(){return this._item},setItem:function(le,_e){le._symbol&&(le=le.clone()),this._item&&(this._item._symbol=null),this._item=le,le.remove(),le.setSelected(!1),_e||le.setPosition(new ae),le._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(le){return new Cn(this,le)},clone:function(){return new Dt(this._item.clone(!1))},equals:function(le){return le===this||le&&this._item.equals(le._item)||!1}}),On=k.extend({_class:"HitResult",initialize:function(_e,Ie,Ue){this.type=_e,this.item=Ie,Ue&&this.inject(Ue)},statics:{getOptions:function(le){var _e=le&&k.read(le);return new k({type:null,tolerance:lr.settings.hitTolerance,fill:!_e,stroke:!_e,segments:!_e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},_e)}}}),jt=k.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(_e,Ie,Ue,qe,Et,vn){var Pt=arguments.length,wn,bn,In,Fn;Pt>0&&(_e==null||typeof _e=="object"?Pt===1&&_e&&"point"in _e?(wn=_e.point,bn=_e.handleIn,In=_e.handleOut,Fn=_e.selection):(wn=_e,bn=Ie,In=Ue,Fn=qe):(wn=[_e,Ie],bn=Ue!==r?[Ue,qe]:null,In=Et!==r?[Et,vn]:null)),new An(wn,this,"_point"),new An(bn,this,"_handleIn"),new An(In,this,"_handleOut"),Fn&&this.setSelection(Fn)},_serialize:function(le,_e){var Ie=this._point,Ue=this._selection,qe=Ue||this.hasHandles()?[Ie,this._handleIn,this._handleOut]:Ie;return Ue&&qe.push(Ue),k.serialize(qe,le,!0,_e)},_changed:function(le){var _e=this._path;if(_e){var Ie=_e._curves,Ue=this._index,qe;Ie&&((!le||le===this._point||le===this._handleIn)&&(qe=Ue>0?Ie[Ue-1]:_e._closed?Ie[Ie.length-1]:null)&&qe._changed(),(!le||le===this._point||le===this._handleOut)&&(qe=Ie[Ue])&&qe._changed()),_e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ae.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ae.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ae.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var le=this._handleIn,_e=this._handleOut;return!le.isZero()&&!_e.isZero()&&le.isCollinear(_e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(le){var _e=this._selection,Ie=this._path;this._selection=le=le||0,Ie&&le!==_e&&(Ie._updateSelection(this,_e,le),Ie._changed(257))},_changeSelection:function(le,_e){var Ie=this._selection;this.setSelection(_e?Ie|le:Ie&~le)},isSelected:function(){return!!(this._selection&7)},setSelected:function(le){this._changeSelection(7,le)},getIndex:function(){return this._index!==r?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var le=this._path,_e=this._index;return le?(_e>0&&!le._closed&&_e===le._segments.length-1&&_e--,le.getCurves()[_e]||null):null},getLocation:function(){var le=this.getCurve();return le?new $n(le,this===le._segment1?0:1):null},getNext:function(){var le=this._path&&this._path._segments;return le&&(le[this._index+1]||this._path._closed&&le[0])||null},smooth:function(le,_e,Ie){var Ue=le||{},qe=Ue.type,Et=Ue.factor,vn=this.getPrevious(),Pt=this.getNext(),wn=(vn||this)._point,bn=this._point,In=(Pt||this)._point,Fn=wn.getDistance(bn),Dn=bn.getDistance(In);if(!qe||qe==="catmull-rom"){var Un=Et===r?.5:Et,Jn=Math.pow(Fn,Un),Hn=Jn*Jn,tr=Math.pow(Dn,Un),kn=tr*tr;if(!_e&&vn){var zn=2*kn+3*tr*Jn+Hn,xn=3*tr*(tr+Jn);this.setHandleIn(xn!==0?new ae((kn*wn._x+zn*bn._x-Hn*In._x)/xn-bn._x,(kn*wn._y+zn*bn._y-Hn*In._y)/xn-bn._y):new ae)}if(!Ie&&Pt){var zn=2*Hn+3*Jn*tr+kn,xn=3*Jn*(Jn+tr);this.setHandleOut(xn!==0?new ae((Hn*In._x+zn*bn._x-kn*wn._x)/xn-bn._x,(Hn*In._y+zn*bn._y-kn*wn._y)/xn-bn._y):new ae)}}else if(qe==="geometric"){if(vn&&Pt){var Rn=wn.subtract(In),qn=Et===r?.4:Et,nr=qn*Fn/(Fn+Dn);_e||this.setHandleIn(Rn.multiply(nr)),Ie||this.setHandleOut(Rn.multiply(nr-qn))}}else throw new Error("Smoothing method '"+qe+"' not supported.")},getPrevious:function(){var le=this._path&&this._path._segments;return le&&(le[this._index-1]||this._path._closed&&le[le.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var le=this._path;return le&&this._index===le._segments.length-1||!1},reverse:function(){var le=this._handleIn,_e=this._handleOut,Ie=le.clone();le.set(_e),_e.set(Ie)},reversed:function(){return new jt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new jt(this._point,this._handleIn,this._handleOut)},equals:function(le){return le===this||le&&this._class===le._class&&this._point.equals(le._point)&&this._handleIn.equals(le._handleIn)&&this._handleOut.equals(le._handleOut)||!1},toString:function(){var le=["point: "+this._point];return this._handleIn.isZero()||le.push("handleIn: "+this._handleIn),this._handleOut.isZero()||le.push("handleOut: "+this._handleOut),"{ "+le.join(", ")+" }"},transform:function(le){this._transformCoordinates(le,new Array(6),!0),this._changed()},interpolate:function(le,_e,Ie){var Ue=1-Ie,qe=Ie,Et=le._point,vn=_e._point,Pt=le._handleIn,wn=_e._handleIn,bn=_e._handleOut,In=le._handleOut;this._point._set(Ue*Et._x+qe*vn._x,Ue*Et._y+qe*vn._y,!0),this._handleIn._set(Ue*Pt._x+qe*wn._x,Ue*Pt._y+qe*wn._y,!0),this._handleOut._set(Ue*In._x+qe*bn._x,Ue*In._y+qe*bn._y,!0),this._changed()},_transformCoordinates:function(le,_e,Ie){var Ue=this._point,qe=!Ie||!this._handleIn.isZero()?this._handleIn:null,Et=!Ie||!this._handleOut.isZero()?this._handleOut:null,vn=Ue._x,Pt=Ue._y,wn=2;return _e[0]=vn,_e[1]=Pt,qe&&(_e[wn++]=qe._x+vn,_e[wn++]=qe._y+Pt),Et&&(_e[wn++]=Et._x+vn,_e[wn++]=Et._y+Pt),le&&(le._transformCoordinates(_e,_e,wn/2),vn=_e[0],Pt=_e[1],Ie?(Ue._x=vn,Ue._y=Pt,wn=2,qe&&(qe._x=_e[wn++]-vn,qe._y=_e[wn++]-Pt),Et&&(Et._x=_e[wn++]-vn,Et._y=_e[wn++]-Pt)):(qe||(_e[wn++]=vn,_e[wn++]=Pt),Et||(_e[wn++]=vn,_e[wn++]=Pt))),_e}}),An=ae.extend({initialize:function(_e,Ie,Ue){var qe,Et,vn;if(!_e)qe=Et=0;else if((qe=_e[0])!==r)Et=_e[1];else{var Pt=_e;(qe=Pt.x)===r&&(Pt=ae.read(arguments),qe=Pt.x),Et=Pt.y,vn=Pt.selected}this._x=qe,this._y=Et,this._owner=Ie,Ie[Ue]=this,vn&&this.setSelected(!0)},_set:function(le,_e){return this._x=le,this._y=_e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(le){this._x=le,this._owner._changed(this)},getY:function(){return this._y},setY:function(le){this._y=le,this._owner._changed(this)},isZero:function(){var le=re.isZero;return le(this._x)&&le(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(le){this._owner._changeSelection(this._getSelection(),le)},_getSelection:function(){var le=this._owner;return this===le._point?1:this===le._handleIn?2:this===le._handleOut?4:0}}),Mn=k.extend({_class:"Curve",beans:!0,initialize:function(_e,Ie,Ue,qe,Et,vn,Pt,wn){var bn=arguments.length,In,Fn,Dn,Un,Jn,Hn;bn===3?(this._path=_e,In=Ie,Fn=Ue):bn?bn===1?"segment1"in _e?(In=new jt(_e.segment1),Fn=new jt(_e.segment2)):"point1"in _e?(Dn=_e.point1,Jn=_e.handle1,Hn=_e.handle2,Un=_e.point2):Array.isArray(_e)&&(Dn=[_e[0],_e[1]],Un=[_e[6],_e[7]],Jn=[_e[2]-_e[0],_e[3]-_e[1]],Hn=[_e[4]-_e[6],_e[5]-_e[7]]):bn===2?(In=new jt(_e),Fn=new jt(Ie)):bn===4?(Dn=_e,Jn=Ie,Hn=Ue,Un=qe):bn===8&&(Dn=[_e,Ie],Un=[Pt,wn],Jn=[Ue-_e,qe-Ie],Hn=[Et-Pt,vn-wn]):(In=new jt,Fn=new jt),this._segment1=In||new jt(Dn,null,Jn),this._segment2=Fn||new jt(Un,Hn,null)},_serialize:function(le,_e){return k.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],le,!0,_e)},_changed:function(){this._length=this._bounds=r},clone:function(){return new Mn(this._segment1,this._segment2)},toString:function(){var le=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||le.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||le.push("handle2: "+this._segment2._handleIn),le.push("point2: "+this._segment2._point),"{ "+le.join(", ")+" }"},classify:function(){return Mn.classify(this.getValues())},remove:function(){var le=!1;if(this._path){var _e=this._segment2,Ie=_e._handleOut;le=_e.remove(),le&&this._segment1._handleOut.set(Ie)}return le},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ae.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ae.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ae.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ae.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var le=this._path&&this._path._curves;return le&&(le[this._segment1._index+1]||this._path._closed&&le[0])||null},getPrevious:function(){var le=this._path&&this._path._curves;return le&&(le[this._segment1._index-1]||this._path._closed&&le[le.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var le=this._path;return le&&this._segment1._index===le._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(le){this.getPoint1().setSelected(le),this.getHandle1().setSelected(le),this.getHandle2().setSelected(le),this.getPoint2().setSelected(le)},getValues:function(le){return Mn.getValues(this._segment1,this._segment2,le)},getPoints:function(){for(var le=this.getValues(),_e=[],Ie=0;Ie<8;Ie+=2)_e.push(new ae(le[Ie],le[Ie+1]));return _e}},{getLength:function(){return this._length==null&&(this._length=Mn.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Mn.getArea(this.getValues())},getLine:function(){return new $e(this._segment1._point,this._segment2._point)},getPart:function(le,_e){return new Mn(Mn.getPart(this.getValues(),le,_e))},getPartLength:function(le,_e){return Mn.getLength(this.getValues(),le,_e)},divideAt:function(le){return this.divideAtTime(le&&le.curve===this?le.time:this.getTimeAt(le))},divideAtTime:function(le,_e){var Ie=1e-8,Ue=1-Ie,qe=null;if(le>=Ie&&le<=Ue){var Et=Mn.subdivide(this.getValues(),le),vn=Et[0],Pt=Et[1],wn=_e||this.hasHandles(),bn=this._segment1,In=this._segment2,Fn=this._path;wn&&(bn._handleOut._set(vn[2]-vn[0],vn[3]-vn[1]),In._handleIn._set(Pt[4]-Pt[6],Pt[5]-Pt[7]));var Dn=vn[6],Un=vn[7],Jn=new jt(new ae(Dn,Un),wn&&new ae(vn[4]-Dn,vn[5]-Un),wn&&new ae(Pt[2]-Dn,Pt[3]-Un));Fn?(Fn.insert(bn._index+1,Jn),qe=this.getNext()):(this._segment2=Jn,this._changed(),qe=new Mn(Jn,In))}return qe},splitAt:function(le){var _e=this._path;return _e?_e.splitAt(le):null},splitAtTime:function(le){return this.splitAt(this.getLocationAtTime(le))},divide:function(le,_e){return this.divideAtTime(le===r?.5:_e?le:this.getTimeAt(le))},split:function(le,_e){return this.splitAtTime(le===r?.5:_e?le:this.getTimeAt(le))},reversed:function(){return new Mn(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(le,_e,Ie,Ue){var qe=le._point,Et=le._handleOut,vn=_e._handleIn,Pt=_e._point,wn=qe.x,bn=qe.y,In=Pt.x,Fn=Pt.y,Dn=Ue?[wn,bn,wn,bn,In,Fn,In,Fn]:[wn,bn,wn+Et._x,bn+Et._y,In+vn._x,Fn+vn._y,In,Fn];return Ie&&Ie._transformCoordinates(Dn,Dn,4),Dn},subdivide:function(le,_e){var Ie=le[0],Ue=le[1],qe=le[2],Et=le[3],vn=le[4],Pt=le[5],wn=le[6],bn=le[7];_e===r&&(_e=.5);var In=1-_e,Fn=In*Ie+_e*qe,Dn=In*Ue+_e*Et,Un=In*qe+_e*vn,Jn=In*Et+_e*Pt,Hn=In*vn+_e*wn,tr=In*Pt+_e*bn,kn=In*Fn+_e*Un,zn=In*Dn+_e*Jn,xn=In*Un+_e*Hn,Rn=In*Jn+_e*tr,qn=In*kn+_e*xn,nr=In*zn+_e*Rn;return[[Ie,Ue,Fn,Dn,kn,zn,qn,nr],[qn,nr,xn,Rn,Hn,tr,wn,bn]]},getMonoCurves:function(le,_e){var Ie=[],Ue=_e?0:1,qe=le[Ue+0],Et=le[Ue+2],vn=le[Ue+4],Pt=le[Ue+6];if(qe>=Et==Et>=vn&&Et>=vn==vn>=Pt||Mn.isStraight(le))Ie.push(le);else{var wn=3*(Et-vn)-qe+Pt,bn=2*(qe+vn)-4*Et,In=Et-qe,Fn=1e-8,Dn=1-Fn,Un=[],Jn=re.solveQuadratic(wn,bn,In,Un,Fn,Dn);if(!Jn)Ie.push(le);else{Un.sort();var Hn=Un[0],tr=Mn.subdivide(le,Hn);Ie.push(tr[0]),Jn>1&&(Hn=(Un[1]-Hn)/(1-Hn),tr=Mn.subdivide(tr[1],Hn),Ie.push(tr[0])),Ie.push(tr[1])}}return Ie},solveCubic:function(le,_e,Ie,Ue,qe,Et){var vn=le[_e],Pt=le[_e+2],wn=le[_e+4],bn=le[_e+6],In=0;if(!(vn<Ie&&bn<Ie&&Pt<Ie&&wn<Ie||vn>Ie&&bn>Ie&&Pt>Ie&&wn>Ie)){var Fn=3*(Pt-vn),Dn=3*(wn-Pt)-Fn,Un=bn-vn-Fn-Dn;In=re.solveCubic(Un,Dn,Fn,vn-Ie,Ue,qe,Et)}return In},getTimeOf:function(le,_e){var Ie=new ae(le[0],le[1]),Ue=new ae(le[6],le[7]),qe=1e-12,Et=1e-7,vn=_e.isClose(Ie,qe)?0:_e.isClose(Ue,qe)?1:null;if(vn===null)for(var Pt=[_e.x,_e.y],wn=[],bn=0;bn<2;bn++)for(var In=Mn.solveCubic(le,bn,Pt[bn],wn,0,1),Fn=0;Fn<In;Fn++){var Dn=wn[Fn];if(_e.isClose(Mn.getPoint(le,Dn),Et))return Dn}return _e.isClose(Ie,Et)?0:_e.isClose(Ue,Et)?1:null},getNearestTime:function(le,_e){if(Mn.isStraight(le)){var Ie=le[0],Ue=le[1],qe=le[6],Et=le[7],vn=qe-Ie,Pt=Et-Ue,wn=vn*vn+Pt*Pt;if(wn===0)return 0;var bn=((_e.x-Ie)*vn+(_e.y-Ue)*Pt)/wn;return bn<1e-12?0:bn>.999999999999?1:Mn.getTimeOf(le,new ae(Ie+bn*vn,Ue+bn*Pt))}var In=100,Fn=1/0,Dn=0;function Un(tr){if(tr>=0&&tr<=1){var kn=_e.getDistance(Mn.getPoint(le,tr),!0);if(kn<Fn)return Fn=kn,Dn=tr,!0}}for(var Jn=0;Jn<=In;Jn++)Un(Jn/In);for(var Hn=1/(In*2);Hn>1e-8;)!Un(Dn-Hn)&&!Un(Dn+Hn)&&(Hn/=2);return Dn},getPart:function(le,_e,Ie){var Ue=_e>Ie;if(Ue){var qe=_e;_e=Ie,Ie=qe}return _e>0&&(le=Mn.subdivide(le,_e)[1]),Ie<1&&(le=Mn.subdivide(le,(Ie-_e)/(1-_e))[0]),Ue?[le[6],le[7],le[4],le[5],le[2],le[3],le[0],le[1]]:le},isFlatEnough:function(le,_e){var Ie=le[0],Ue=le[1],qe=le[2],Et=le[3],vn=le[4],Pt=le[5],wn=le[6],bn=le[7],In=3*qe-2*Ie-wn,Fn=3*Et-2*Ue-bn,Dn=3*vn-2*wn-Ie,Un=3*Pt-2*bn-Ue;return Math.max(In*In,Dn*Dn)+Math.max(Fn*Fn,Un*Un)<=16*_e*_e},getArea:function(le){var _e=le[0],Ie=le[1],Ue=le[2],qe=le[3],Et=le[4],vn=le[5],Pt=le[6],wn=le[7];return 3*((wn-Ie)*(Ue+Et)-(Pt-_e)*(qe+vn)+qe*(_e-Et)-Ue*(Ie-vn)+wn*(Et+_e/3)-Pt*(vn+Ie/3))/20},getBounds:function(le){for(var _e=le.slice(0,2),Ie=_e.slice(),Ue=[0,0],qe=0;qe<2;qe++)Mn._addBounds(le[qe],le[qe+2],le[qe+4],le[qe+6],qe,0,_e,Ie,Ue);return new he(_e[0],_e[1],Ie[0]-_e[0],Ie[1]-_e[1])},_addBounds:function(le,_e,Ie,Ue,qe,Et,vn,Pt,wn){function bn(qn,nr){var er=qn-nr,fr=qn+nr;er<vn[qe]&&(vn[qe]=er),fr>Pt[qe]&&(Pt[qe]=fr)}Et/=2;var In=vn[qe]+Et,Fn=Pt[qe]-Et;if(le<In||_e<In||Ie<In||Ue<In||le>Fn||_e>Fn||Ie>Fn||Ue>Fn)if(_e<le!=_e<Ue&&Ie<le!=Ie<Ue)bn(le,0),bn(Ue,0);else{var Dn=3*(_e-Ie)-le+Ue,Un=2*(le+Ie)-4*_e,Jn=_e-le,Hn=re.solveQuadratic(Dn,Un,Jn,wn),tr=1e-8,kn=1-tr;bn(Ue,0);for(var zn=0;zn<Hn;zn++){var xn=wn[zn],Rn=1-xn;tr<=xn&&xn<=kn&&bn(Rn*Rn*Rn*le+3*Rn*Rn*xn*_e+3*Rn*xn*xn*Ie+xn*xn*xn*Ue,Et)}}}}},k.each(["getBounds","getStrokeBounds","getHandleBounds"],function(le){this[le]=function(){this._bounds||(this._bounds={});var _e=this._bounds[le];return _e||(_e=this._bounds[le]=Tn[le]([this._segment1,this._segment2],!1,this._path)),_e.clone()}},{}),k.each({isStraight:function(le,_e,Ie,Ue){if(_e.isZero()&&Ie.isZero())return!0;var qe=Ue.subtract(le);if(qe.isZero())return!1;if(qe.isCollinear(_e)&&qe.isCollinear(Ie)){var Et=new $e(le,Ue),vn=1e-7;if(Et.getDistance(le.add(_e))<vn&&Et.getDistance(Ue.add(Ie))<vn){var Pt=qe.dot(qe),wn=qe.dot(_e)/Pt,bn=qe.dot(Ie)/Pt;return wn>=0&&wn<=1&&bn<=0&&bn>=-1}}return!1},isLinear:function(le,_e,Ie,Ue){var qe=Ue.subtract(le).divide(3);return _e.equals(qe)&&Ie.negate().equals(qe)}},function(le,_e){this[_e]=function(Ie){var Ue=this._segment1,qe=this._segment2;return le(Ue._point,Ue._handleOut,qe._handleIn,qe._point,Ie)},this.statics[_e]=function(Ie,Ue){var qe=Ie[0],Et=Ie[1],vn=Ie[6],Pt=Ie[7];return le(new ae(qe,Et),new ae(Ie[2]-qe,Ie[3]-Et),new ae(Ie[4]-vn,Ie[5]-Pt),new ae(vn,Pt),Ue)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(le){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(le||0)},isCollinear:function(le){return le&&this.isStraight()&&le.isStraight()&&this.getLine().isCollinear(le.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(le,_e){return this.getLocationAtTime(_e?le:this.getTimeAt(le))},getLocationAtTime:function(le){return le!=null&&le>=0&&le<=1?new $n(this,le):null},getTimeAt:function(le,_e){return Mn.getTimeAt(this.getValues(),le,_e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var le=ae.read(arguments);return le.isZero()?[]:Mn.getTimesWithTangent(this.getValues(),le)},getOffsetAtTime:function(le){return this.getPartLength(0,le)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ae.read(arguments)))},getOffsetOf:function(){var le=this.getLocationOf.apply(this,arguments);return le?le.getOffset():null},getTimeOf:function(){return Mn.getTimeOf(this.getValues(),ae.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var le=ae.read(arguments),_e=this.getValues(),Ie=Mn.getNearestTime(_e,le),Ue=Mn.getPoint(_e,Ie);return new $n(this,Ie,Ue,null,le.getDistance(Ue))},getNearestPoint:function(){var le=this.getNearestLocation.apply(this,arguments);return le&&le.getPoint()}},new function(){var le=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return k.each(le,function(_e){this[_e+"At"]=function(Ie,Ue){var qe=this.getValues();return Mn[_e](qe,Ue?Ie:Mn.getTimeAt(qe,Ie))},this[_e+"AtTime"]=function(Ie){return Mn[_e](this.getValues(),Ie)}},{statics:{_evaluateMethods:le}})},new function(){function le(Ue){var qe=Ue[0],Et=Ue[1],vn=Ue[2],Pt=Ue[3],wn=Ue[4],bn=Ue[5],In=Ue[6],Fn=Ue[7],Dn=9*(vn-wn)+3*(In-qe),Un=6*(qe+wn)-12*vn,Jn=3*(vn-qe),Hn=9*(Pt-bn)+3*(Fn-Et),tr=6*(Et+bn)-12*Pt,kn=3*(Pt-Et);return function(zn){var xn=(Dn*zn+Un)*zn+Jn,Rn=(Hn*zn+tr)*zn+kn;return Math.sqrt(xn*xn+Rn*Rn)}}function _e(Ue,qe){return Math.max(2,Math.min(16,Math.ceil(Math.abs(qe-Ue)*32)))}function Ie(Ue,qe,Et,vn){if(qe==null||qe<0||qe>1)return null;var Pt=Ue[0],wn=Ue[1],bn=Ue[2],In=Ue[3],Fn=Ue[4],Dn=Ue[5],Un=Ue[6],Jn=Ue[7],Hn=re.isZero;Hn(bn-Pt)&&Hn(In-wn)&&(bn=Pt,In=wn),Hn(Fn-Un)&&Hn(Dn-Jn)&&(Fn=Un,Dn=Jn);var tr=3*(bn-Pt),kn=3*(Fn-bn)-tr,zn=Un-Pt-tr-kn,xn=3*(In-wn),Rn=3*(Dn-In)-xn,qn=Jn-wn-xn-Rn,nr,er;if(Et===0)nr=qe===0?Pt:qe===1?Un:((zn*qe+kn)*qe+tr)*qe+Pt,er=qe===0?wn:qe===1?Jn:((qn*qe+Rn)*qe+xn)*qe+wn;else{var fr=1e-8,pr=1-fr;if(qe<fr?(nr=tr,er=xn):qe>pr?(nr=3*(Un-Fn),er=3*(Jn-Dn)):(nr=(3*zn*qe+2*kn)*qe+tr,er=(3*qn*qe+2*Rn)*qe+xn),vn){nr===0&&er===0&&(qe<fr||qe>pr)&&(nr=Fn-bn,er=Dn-In);var _r=Math.sqrt(nr*nr+er*er);_r&&(nr/=_r,er/=_r)}if(Et===3){var Fn=6*zn*qe+2*kn,Dn=6*qn*qe+2*Rn,xr=Math.pow(nr*nr+er*er,3/2);nr=xr!==0?(nr*Dn-er*Fn)/xr:0,er=0}}return Et===2?new ae(er,-nr):new ae(nr,er)}return{statics:{classify:function(Ue){var qe=Ue[0],Et=Ue[1],vn=Ue[2],Pt=Ue[3],wn=Ue[4],bn=Ue[5],In=Ue[6],Fn=Ue[7],Dn=qe*(Fn-bn)+Et*(wn-In)+In*bn-Fn*wn,Un=vn*(Et-Fn)+Pt*(In-qe)+qe*Fn-Et*In,Jn=wn*(Pt-Et)+bn*(qe-vn)+vn*Et-Pt*qe,Hn=3*Jn,tr=Hn-Un,kn=tr-Un+Dn,zn=Math.sqrt(kn*kn+tr*tr+Hn*Hn),xn=zn!==0?1/zn:0,Rn=re.isZero,qn="serpentine";kn*=xn,tr*=xn,Hn*=xn;function nr(_r,xr,vr){var Sr=xr!==r,kr=Sr&&xr>0&&xr<1,Nr=Sr&&vr>0&&vr<1;return Sr&&(!(kr||Nr)||_r==="loop"&&!(kr&&Nr))&&(_r="arch",kr=Nr=!1),{type:_r,roots:kr||Nr?kr&&Nr?xr<vr?[xr,vr]:[vr,xr]:[kr?xr:vr]:null}}if(Rn(kn))return Rn(tr)?nr(Rn(Hn)?"line":"quadratic"):nr(qn,Hn/(3*tr));var er=3*tr*tr-4*kn*Hn;if(Rn(er))return nr("cusp",tr/(2*kn));var fr=er>0?Math.sqrt(er/3):Math.sqrt(-er),pr=2*kn;return nr(er>0?qn:"loop",(tr+fr)/pr,(tr-fr)/pr)},getLength:function(Ue,qe,Et,vn){if(qe===r&&(qe=0),Et===r&&(Et=1),Mn.isStraight(Ue)){var Pt=Ue;Et<1&&(Pt=Mn.subdivide(Pt,Et)[0],qe/=Et),qe>0&&(Pt=Mn.subdivide(Pt,qe)[1]);var wn=Pt[6]-Pt[0],bn=Pt[7]-Pt[1];return Math.sqrt(wn*wn+bn*bn)}return re.integrate(vn||le(Ue),qe,Et,_e(qe,Et))},getTimeAt:function(Ue,qe,Et){if(Et===r&&(Et=qe<0?1:0),qe===0)return Et;var vn=Math.abs,Pt=1e-12,wn=qe>0,bn=wn?Et:0,In=wn?1:Et,Fn=le(Ue),Dn=Mn.getLength(Ue,bn,In,Fn),Un=vn(qe)-Dn;if(vn(Un)<Pt)return wn?In:bn;if(Un>Pt)return null;var Jn=qe/Dn,Hn=0;function tr(kn){return Hn+=re.integrate(Fn,Et,kn,_e(Et,kn)),Et=kn,Hn-qe}return re.findRoot(tr,Fn,Et+Jn,bn,In,32,1e-12)},getPoint:function(Ue,qe){return Ie(Ue,qe,0,!1)},getTangent:function(Ue,qe){return Ie(Ue,qe,1,!0)},getWeightedTangent:function(Ue,qe){return Ie(Ue,qe,1,!1)},getNormal:function(Ue,qe){return Ie(Ue,qe,2,!0)},getWeightedNormal:function(Ue,qe){return Ie(Ue,qe,2,!1)},getCurvature:function(Ue,qe){return Ie(Ue,qe,3,!1).x},getPeaks:function(Ue){var qe=Ue[0],Et=Ue[1],vn=Ue[2],Pt=Ue[3],wn=Ue[4],bn=Ue[5],In=Ue[6],Fn=Ue[7],Dn=-qe+3*vn-3*wn+In,Un=3*qe-6*vn+3*wn,Jn=-3*qe+3*vn,Hn=-Et+3*Pt-3*bn+Fn,tr=3*Et-6*Pt+3*bn,kn=-3*Et+3*Pt,zn=1e-8,xn=1-zn,Rn=[];return re.solveCubic(9*(Dn*Dn+Hn*Hn),9*(Dn*Un+tr*Hn),2*(Un*Un+tr*tr)+3*(Jn*Dn+kn*Hn),Jn*Un+tr*kn,Rn,zn,xn),Rn.sort()}}}},new function(){function le(Un,Jn,Hn,tr,kn,zn,xn){var Rn=!xn&&Hn.getPrevious()===kn,qn=!xn&&Hn!==kn&&Hn.getNext()===kn,nr=1e-8,er=1-nr;if(tr!==null&&tr>=(Rn?nr:0)&&tr<=(qn?er:1)&&zn!==null&&zn>=(qn?nr:0)&&zn<=(Rn?er:1)){var fr=new $n(Hn,tr,null,xn),pr=new $n(kn,zn,null,xn);fr._intersection=pr,pr._intersection=fr,(!Jn||Jn(fr))&&$n.insert(Un,fr,!0)}}function _e(Un,Jn,Hn,tr,kn,zn,xn,Rn,qn,nr,er,fr,pr){if(++qn>=4096||++Rn>=40)return qn;var _r=1e-9,xr=Jn[0],vr=Jn[1],Sr=Jn[6],kr=Jn[7],Nr=$e.getSignedDistance,Pr=Nr(xr,vr,Sr,kr,Jn[2],Jn[3]),Ar=Nr(xr,vr,Sr,kr,Jn[4],Jn[5]),Ur=Pr*Ar>0?3/4:4/9,jr=Ur*Math.min(0,Pr,Ar),Hr=Ur*Math.max(0,Pr,Ar),Kr=Nr(xr,vr,Sr,kr,Un[0],Un[1]),Rr=Nr(xr,vr,Sr,kr,Un[2],Un[3]),Lr=Nr(xr,vr,Sr,kr,Un[4],Un[5]),Yr=Nr(xr,vr,Sr,kr,Un[6],Un[7]),eo=Ie(Kr,Rr,Lr,Yr),Jr=eo[0],oo=eo[1],ro,ao;if(Pr===0&&Ar===0&&Kr===0&&Rr===0&&Lr===0&&Yr===0||(ro=Ue(Jr,oo,jr,Hr))==null||(ao=Ue(Jr.reverse(),oo.reverse(),jr,Hr))==null)return qn;var lo=nr+(er-nr)*ro,io=nr+(er-nr)*ao;if(Math.max(pr-fr,io-lo)<_r){var Xr=(lo+io)/2,yo=(fr+pr)/2;le(kn,zn,xn?tr:Hn,xn?yo:Xr,xn?Hn:tr,xn?Xr:yo)}else{Un=Mn.getPart(Un,ro,ao);var ko=pr-fr;if(ao-ro>.8)if(io-lo>ko){var xo=Mn.subdivide(Un,.5),Xr=(lo+io)/2;qn=_e(Jn,xo[0],tr,Hn,kn,zn,!xn,Rn,qn,fr,pr,lo,Xr),qn=_e(Jn,xo[1],tr,Hn,kn,zn,!xn,Rn,qn,fr,pr,Xr,io)}else{var xo=Mn.subdivide(Jn,.5),yo=(fr+pr)/2;qn=_e(xo[0],Un,tr,Hn,kn,zn,!xn,Rn,qn,fr,yo,lo,io),qn=_e(xo[1],Un,tr,Hn,kn,zn,!xn,Rn,qn,yo,pr,lo,io)}else ko===0||ko>=_r?qn=_e(Jn,Un,tr,Hn,kn,zn,!xn,Rn,qn,fr,pr,lo,io):qn=_e(Un,Jn,Hn,tr,kn,zn,xn,Rn,qn,lo,io,fr,pr)}return qn}function Ie(Un,Jn,Hn,tr){var kn=[0,Un],zn=[1/3,Jn],xn=[2/3,Hn],Rn=[1,tr],qn=Jn-(2*Un+tr)/3,nr=Hn-(Un+2*tr)/3,er;if(qn*nr<0)er=[[kn,zn,Rn],[kn,xn,Rn]];else{var fr=qn/nr;er=[fr>=2?[kn,zn,Rn]:fr<=.5?[kn,xn,Rn]:[kn,zn,xn,Rn],[kn,Rn]]}return(qn||nr)<0?er.reverse():er}function Ue(Un,Jn,Hn,tr){return Un[0][1]<Hn?qe(Un,!0,Hn):Jn[0][1]>tr?qe(Jn,!1,tr):Un[0][0]}function qe(Un,Jn,Hn){for(var tr=Un[0][0],kn=Un[0][1],zn=1,xn=Un.length;zn<xn;zn++){var Rn=Un[zn][0],qn=Un[zn][1];if(Jn?qn>=Hn:qn<=Hn)return qn===Hn?Rn:tr+(Hn-kn)*(Rn-tr)/(qn-kn);tr=Rn,kn=qn}return null}function Et(Un,Jn,Hn,tr,kn){var zn=re.isZero;if(zn(tr)&&zn(kn)){var xn=Mn.getTimeOf(Un,new ae(Jn,Hn));return xn===null?[]:[xn]}for(var Rn=Math.atan2(-kn,tr),qn=Math.sin(Rn),nr=Math.cos(Rn),er=[],fr=[],pr=0;pr<8;pr+=2){var _r=Un[pr]-Jn,xr=Un[pr+1]-Hn;er.push(_r*nr-xr*qn,_r*qn+xr*nr)}return Mn.solveCubic(er,1,0,fr,0,1),fr}function vn(Un,Jn,Hn,tr,kn,zn,xn){for(var Rn=Jn[0],qn=Jn[1],nr=Jn[6],er=Jn[7],fr=Et(Un,Rn,qn,nr-Rn,er-qn),pr=0,_r=fr.length;pr<_r;pr++){var xr=fr[pr],vr=Mn.getPoint(Un,xr),Sr=Mn.getTimeOf(Jn,vr);Sr!==null&&le(kn,zn,xn?tr:Hn,xn?Sr:xr,xn?Hn:tr,xn?xr:Sr)}}function Pt(Un,Jn,Hn,tr,kn,zn){var xn=$e.intersect(Un[0],Un[1],Un[6],Un[7],Jn[0],Jn[1],Jn[6],Jn[7]);xn&&le(kn,zn,Hn,Mn.getTimeOf(Un,xn),tr,Mn.getTimeOf(Jn,xn))}function wn(Un,Jn,Hn,tr,kn,zn){var xn=1e-12,Rn=Math.min,qn=Math.max;if(qn(Un[0],Un[2],Un[4],Un[6])+xn>Rn(Jn[0],Jn[2],Jn[4],Jn[6])&&Rn(Un[0],Un[2],Un[4],Un[6])-xn<qn(Jn[0],Jn[2],Jn[4],Jn[6])&&qn(Un[1],Un[3],Un[5],Un[7])+xn>Rn(Jn[1],Jn[3],Jn[5],Jn[7])&&Rn(Un[1],Un[3],Un[5],Un[7])-xn<qn(Jn[1],Jn[3],Jn[5],Jn[7])){var nr=Fn(Un,Jn);if(nr)for(var er=0;er<2;er++){var fr=nr[er];le(kn,zn,Hn,fr[0],tr,fr[1],!0)}else{var pr=Mn.isStraight(Un),_r=Mn.isStraight(Jn),xr=pr&&_r,vr=pr&&!_r,Sr=kn.length;if((xr?Pt:pr||_r?vn:_e)(vr?Jn:Un,vr?Un:Jn,vr?tr:Hn,vr?Hn:tr,kn,zn,vr,0,0,0,1,0,1),!xr||kn.length===Sr)for(var er=0;er<4;er++){var kr=er>>1,Nr=er&1,Pr=kr*6,Ar=Nr*6,Ur=new ae(Un[Pr],Un[Pr+1]),jr=new ae(Jn[Ar],Jn[Ar+1]);Ur.isClose(jr,xn)&&le(kn,zn,Hn,kr,tr,Nr)}}}return kn}function bn(Un,Jn,Hn,tr){var kn=Mn.classify(Un);if(kn.type==="loop"){var zn=kn.roots;le(Hn,tr,Jn,zn[0],Jn,zn[1])}return Hn}function In(Un,Jn,Hn,tr,kn,zn){var xn=1e-7,Rn=!Jn;Rn&&(Jn=Un);for(var qn=Un.length,nr=Jn.length,er=new Array(qn),fr=Rn?er:new Array(nr),pr=[],_r=0;_r<qn;_r++)er[_r]=Un[_r].getValues(tr);if(!Rn)for(var _r=0;_r<nr;_r++)fr[_r]=Jn[_r].getValues(kn);for(var xr=z.findCurveBoundsCollisions(er,fr,xn),vr=0;vr<qn;vr++){var Sr=Un[vr],kr=er[vr];Rn&&bn(kr,Sr,pr,Hn);var Nr=xr[vr];if(Nr)for(var Pr=0;Pr<Nr.length;Pr++){if(zn&&pr.length)return pr;var Ar=Nr[Pr];if(!Rn||Ar>vr){var Ur=Jn[Ar],jr=fr[Ar];wn(kr,jr,Sr,Ur,pr,Hn)}}}return pr}function Fn(Un,Jn){function Hn(Yr){var eo=Yr[6]-Yr[0],Jr=Yr[7]-Yr[1];return eo*eo+Jr*Jr}var tr=Math.abs,kn=$e.getDistance,zn=1e-8,xn=1e-7,Rn=Mn.isStraight(Un),qn=Mn.isStraight(Jn),nr=Rn&&qn,er=Hn(Un)<Hn(Jn),fr=er?Jn:Un,pr=er?Un:Jn,_r=fr[0],xr=fr[1],vr=fr[6]-_r,Sr=fr[7]-xr;if(kn(_r,xr,vr,Sr,pr[0],pr[1],!0)<xn&&kn(_r,xr,vr,Sr,pr[6],pr[7],!0)<xn)!nr&&kn(_r,xr,vr,Sr,fr[2],fr[3],!0)<xn&&kn(_r,xr,vr,Sr,fr[4],fr[5],!0)<xn&&kn(_r,xr,vr,Sr,pr[2],pr[3],!0)<xn&&kn(_r,xr,vr,Sr,pr[4],pr[5],!0)<xn&&(Rn=qn=nr=!0);else if(nr)return null;if(Rn^qn)return null;for(var kr=[Un,Jn],Nr=[],Pr=0;Pr<4&&Nr.length<2;Pr++){var Ar=Pr&1,Ur=Ar^1,jr=Pr>>1,Hr=Mn.getTimeOf(kr[Ar],new ae(kr[Ur][jr?6:0],kr[Ur][jr?7:1]));if(Hr!=null){var Kr=Ar?[jr,Hr]:[Hr,jr];(!Nr.length||tr(Kr[0]-Nr[0][0])>zn&&tr(Kr[1]-Nr[0][1])>zn)&&Nr.push(Kr)}if(Pr>2&&!Nr.length)break}if(Nr.length!==2)Nr=null;else if(!nr){var Rr=Mn.getPart(Un,Nr[0][0],Nr[1][0]),Lr=Mn.getPart(Jn,Nr[0][1],Nr[1][1]);(tr(Lr[2]-Rr[2])>xn||tr(Lr[3]-Rr[3])>xn||tr(Lr[4]-Rr[4])>xn||tr(Lr[5]-Rr[5])>xn)&&(Nr=null)}return Nr}function Dn(Un,Jn){var Hn=Un[0],tr=Un[1],kn=Un[2],zn=Un[3],xn=Un[4],Rn=Un[5],qn=Un[6],nr=Un[7],er=Jn.normalize(),fr=er.x,pr=er.y,_r=3*qn-9*xn+9*kn-3*Hn,xr=3*nr-9*Rn+9*zn-3*tr,vr=6*xn-12*kn+6*Hn,Sr=6*Rn-12*zn+6*tr,kr=3*kn-3*Hn,Nr=3*zn-3*tr,Pr=2*_r*pr-2*xr*fr,Ar=[];if(Math.abs(Pr)<re.CURVETIME_EPSILON){var Ur=_r*Nr-xr*kr,Pr=_r*Sr-xr*vr;if(Pr!=0){var jr=-Ur/Pr;jr>=0&&jr<=1&&Ar.push(jr)}}else{var Hr=(vr*vr-4*_r*kr)*pr*pr+(-2*vr*Sr+4*xr*kr+4*_r*Nr)*fr*pr+(Sr*Sr-4*xr*Nr)*fr*fr,Kr=vr*pr-Sr*fr;if(Hr>=0&&Pr!=0){var Rr=Math.sqrt(Hr),Lr=-(Kr+Rr)/Pr,Yr=(-Kr+Rr)/Pr;Lr>=0&&Lr<=1&&Ar.push(Lr),Yr>=0&&Yr<=1&&Ar.push(Yr)}}return Ar}return{getIntersections:function(Un){var Jn=this.getValues(),Hn=Un&&Un!==this&&Un.getValues();return Hn?wn(Jn,Hn,this,Un,[]):bn(Jn,this,[])},statics:{getOverlaps:Fn,getIntersections:In,getCurveLineIntersections:Et,getTimesWithTangent:Dn}}}),$n=k.extend({_class:"CurveLocation",initialize:function(_e,Ie,Ue,qe,Et){if(Ie>=.99999999){var vn=_e.getNext();vn&&(Ie=0,_e=vn)}this._setCurve(_e),this._time=Ie,this._point=Ue||_e.getPointAtTime(Ie),this._overlap=qe,this._distance=Et,this._intersection=this._next=this._previous=null},_setPath:function(le){this._path=le,this._version=le?le._version:0},_setCurve:function(le){this._setPath(le._path),this._curve=le,this._segment=null,this._segment1=le._segment1,this._segment2=le._segment2},_setSegment:function(le){var _e=le.getCurve();_e?this._setCurve(_e):(this._setPath(le._path),this._segment1=le,this._segment2=null),this._segment=le,this._time=le===this._segment1?0:1,this._point=le._point.clone()},getSegment:function(){var le=this._segment;if(!le){var _e=this.getCurve(),Ie=this.getTime();Ie===0?le=_e._segment1:Ie===1?le=_e._segment2:Ie!=null&&(le=_e.getPartLength(0,Ie)<_e.getPartLength(Ie,1)?_e._segment1:_e._segment2),this._segment=le}return le},getCurve:function(){var le=this._path,_e=this;le&&le._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function Ie(Ue){var qe=Ue&&Ue.getCurve();if(qe&&(_e._time=qe.getTimeOf(_e._point))!=null)return _e._setCurve(qe),qe}return this._curve||Ie(this._segment)||Ie(this._segment1)||Ie(this._segment2.getPrevious())},getPath:function(){var le=this.getCurve();return le&&le._path},getIndex:function(){var le=this.getCurve();return le&&le.getIndex()},getTime:function(){var le=this.getCurve(),_e=this._time;return le&&_e==null?this._time=le.getTimeOf(this._point):_e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var le=this._offset;if(le==null){le=0;var _e=this.getPath(),Ie=this.getIndex();if(_e&&Ie!=null)for(var Ue=_e.getCurves(),qe=0;qe<Ie;qe++)le+=Ue[qe].getLength();this._offset=le+=this.getCurveOffset()}return le},getCurveOffset:function(){var le=this._curveOffset;if(le==null){var _e=this.getCurve(),Ie=this.getTime();this._curveOffset=le=Ie!=null&&_e&&_e.getPartLength(0,Ie)}return le},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var le=this.getCurve(),_e=le&&le.divideAtTime(this.getTime());return _e&&this._setSegment(_e._segment1),_e},split:function(){var le=this.getCurve(),_e=le._path,Ie=le&&le.splitAtTime(this.getTime());return Ie&&this._setSegment(_e.getLastSegment()),Ie},equals:function(le,_e){var Ie=this===le;if(!Ie&&le instanceof $n){var Ue=this.getCurve(),qe=le.getCurve(),Et=Ue._path,vn=qe._path;if(Et===vn){var Pt=Math.abs,wn=1e-7,bn=Pt(this.getOffset()-le.getOffset()),In=!_e&&this._intersection,Fn=!_e&&le._intersection;Ie=(bn<wn||Et&&Pt(Et.getLength()-bn)<wn)&&(!In&&!Fn||In&&Fn&&In.equals(Fn,!0))}}return Ie},toString:function(){var le=[],_e=this.getPoint(),Ie=j.instance;_e&&le.push("point: "+_e);var Ue=this.getIndex();Ue!=null&&le.push("index: "+Ue);var qe=this.getTime();return qe!=null&&le.push("time: "+Ie.number(qe)),this._distance!=null&&le.push("distance: "+Ie.number(this._distance)),"{ "+le.join(", ")+" }"},isTouching:function(){var le=this._intersection;if(le&&this.getTangent().isCollinear(le.getTangent())){var _e=this.getCurve(),Ie=le.getCurve();return!(_e.isStraight()&&Ie.isStraight()&&_e.getLine().intersect(Ie.getLine()))}return!1},isCrossing:function(){var le=this._intersection;if(!le)return!1;var _e=this.getTime(),Ie=le.getTime(),Ue=1e-8,qe=1-Ue,Et=_e>=Ue&&_e<=qe,vn=Ie>=Ue&&Ie<=qe;if(Et&&vn)return!this.isTouching();var Pt=this.getCurve(),wn=Pt&&_e<Ue?Pt.getPrevious():Pt,bn=le.getCurve(),In=bn&&Ie<Ue?bn.getPrevious():bn;if(_e>qe&&(Pt=Pt.getNext()),Ie>qe&&(bn=bn.getNext()),!wn||!Pt||!In||!bn)return!1;var Fn=[];function Dn(fr,pr){var _r=fr.getValues(),xr=Mn.classify(_r).roots||Mn.getPeaks(_r),vr=xr.length,Sr=Mn.getLength(_r,pr&&vr?xr[vr-1]:0,!pr&&vr?xr[0]:1);Fn.push(vr?Sr:Sr/32)}function Un(fr,pr,_r){return pr<_r?fr>pr&&fr<_r:fr>pr||fr<_r}Et||(Dn(wn,!0),Dn(Pt,!1)),vn||(Dn(In,!0),Dn(bn,!1));var Jn=this.getPoint(),Hn=Math.min.apply(Math,Fn),tr=Et?Pt.getTangentAtTime(_e):Pt.getPointAt(Hn).subtract(Jn),kn=Et?tr.negate():wn.getPointAt(-Hn).subtract(Jn),zn=vn?bn.getTangentAtTime(Ie):bn.getPointAt(Hn).subtract(Jn),xn=vn?zn.negate():In.getPointAt(-Hn).subtract(Jn),Rn=kn.getAngle(),qn=tr.getAngle(),nr=xn.getAngle(),er=zn.getAngle();return!!(Et?Un(Rn,nr,er)^Un(qn,nr,er)&&Un(Rn,er,nr)^Un(qn,er,nr):Un(nr,Rn,qn)^Un(er,Rn,qn)&&Un(nr,qn,Rn)^Un(er,qn,Rn))},hasOverlap:function(){return!!this._overlap}},k.each(Mn._evaluateMethods,function(le){var _e=le+"At";this[le]=function(){var Ie=this.getCurve(),Ue=this.getTime();return Ue!=null&&Ie&&Ie[_e](Ue,!0)}},{preserve:!0}),new function(){function le(_e,Ie,Ue){var qe=_e.length,Et=0,vn=qe-1;function Pt(Jn,Hn){for(var tr=Jn+Hn;tr>=-1&&tr<=qe;tr+=Hn){var kn=_e[(tr%qe+qe)%qe];if(!Ie.getPoint().isClose(kn.getPoint(),1e-7))break;if(Ie.equals(kn))return kn}return null}for(;Et<=vn;){var wn=Et+vn>>>1,bn=_e[wn],In;if(Ue&&(In=Ie.equals(bn)?bn:Pt(wn,-1)||Pt(wn,1)))return Ie._overlap&&(In._overlap=In._intersection._overlap=!0),In;var Fn=Ie.getPath(),Dn=bn.getPath(),Un=Fn!==Dn?Fn._id-Dn._id:Ie.getIndex()+Ie.getTime()-(bn.getIndex()+bn.getTime());Un<0?vn=wn-1:Et=wn+1}return _e.splice(Et,0,Ie),Ie}return{statics:{insert:le,expand:function(_e){for(var Ie=_e.slice(),Ue=_e.length-1;Ue>=0;Ue--)le(Ie,_e[Ue]._intersection,!1);return Ie}}}}),Ln=Ce.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(le){var _e,Ie,Ue;if(k.isPlainObject(le)?(Ie=le.segments,_e=le.pathData):Array.isArray(le)?Ie=le:typeof le=="string"&&(_e=le),Ie){var qe=Ie[0];Ue=qe&&Array.isArray(qe[0])}else _e&&(Ue=(_e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(_e));var Et=Ue?Zn:Tn;return new Et(le)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(le){this.isClockwise()!=(le=!!le)&&this.reverse()},setPathData:function(le){var _e=le&&le.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),Ie,Ue=!1,qe,Et,vn=new ae,Pt=new ae;function wn(xn,Rn){var qn=+Ie[xn];return Ue&&(qn+=vn[Rn]),qn}function bn(xn){return new ae(wn(xn,"x"),wn(xn+1,"y"))}this.clear();for(var In=0,Fn=_e&&_e.length;In<Fn;In++){var Dn=_e[In],Un=Dn[0],Jn=Un.toLowerCase();Ie=Dn.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var Hn=Ie&&Ie.length;switch(Ue=Un===Jn,qe==="z"&&!/[mz]/.test(Jn)&&this.moveTo(vn),Jn){case"m":case"l":for(var tr=Jn==="m",kn=0;kn<Hn;kn+=2)this[tr?"moveTo":"lineTo"](vn=bn(kn)),tr&&(Pt=vn,tr=!1);Et=vn;break;case"h":case"v":var zn=Jn==="h"?"x":"y";vn=vn.clone();for(var kn=0;kn<Hn;kn++)vn[zn]=wn(kn,zn),this.lineTo(vn);Et=vn;break;case"c":for(var kn=0;kn<Hn;kn+=6)this.cubicCurveTo(bn(kn),Et=bn(kn+2),vn=bn(kn+4));break;case"s":for(var kn=0;kn<Hn;kn+=4)this.cubicCurveTo(/[cs]/.test(qe)?vn.multiply(2).subtract(Et):vn,Et=bn(kn),vn=bn(kn+2)),qe=Jn;break;case"q":for(var kn=0;kn<Hn;kn+=4)this.quadraticCurveTo(Et=bn(kn),vn=bn(kn+2));break;case"t":for(var kn=0;kn<Hn;kn+=2)this.quadraticCurveTo(Et=/[qt]/.test(qe)?vn.multiply(2).subtract(Et):vn,vn=bn(kn)),qe=Jn;break;case"a":for(var kn=0;kn<Hn;kn+=7)this.arcTo(vn=bn(kn+5),new ue(+Ie[kn],+Ie[kn+1]),+Ie[kn+2],+Ie[kn+4],+Ie[kn+3]);break;case"z":this.closePath(1e-12),vn=Pt;break}qe=Jn}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(le){var _e=le.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(le):{};return _e.onPath||!!(this.getFillRule()==="evenodd"?_e.windingL&1||_e.windingR&1:_e.winding)},getIntersections:function(le,_e,Ie,Ue){var qe=this===le||!le,Et=this._matrix._orNullIfIdentity(),vn=qe?Et:(Ie||le._matrix)._orNullIfIdentity();return qe||this.getBounds(Et).intersects(le.getBounds(vn),1e-12)?Mn.getIntersections(this.getCurves(),!qe&&le.getCurves(),_e,Et,vn,Ue):[]},getCrossings:function(le){return this.getIntersections(le,function(_e){return _e.isCrossing()})},getNearestLocation:function(){for(var le=ae.read(arguments),_e=this.getCurves(),Ie=1/0,Ue=null,qe=0,Et=_e.length;qe<Et;qe++){var vn=_e[qe].getNearestLocation(le);vn._distance<Ie&&(Ie=vn._distance,Ue=vn)}return Ue},getNearestPoint:function(){var le=this.getNearestLocation.apply(this,arguments);return le&&le.getPoint()},interpolate:function(le,_e,Ie){var Ue=!this._children,qe=Ue?"_segments":"_children",Et=le[qe],vn=_e[qe],Pt=this[qe];if(!Et||!vn||Et.length!==vn.length)throw new Error("Invalid operands in interpolate() call: "+le+", "+_e);var wn=Pt.length,bn=vn.length;if(wn<bn)for(var In=Ue?jt:Tn,Fn=wn;Fn<bn;Fn++)this.add(new In);else wn>bn&&this[Ue?"removeSegments":"removeChildren"](bn,wn);for(var Fn=0;Fn<bn;Fn++)Pt[Fn].interpolate(Et[Fn],vn[Fn],Ie);Ue&&(this.setClosed(le._closed),this._changed(9))},compare:function(le){var _e=!1;if(le){var Ie=this._children||[this],Ue=le._children?le._children.slice():[le],qe=Ie.length,Et=Ue.length,vn=[],Pt=0;_e=!0;for(var wn=z.findItemBoundsCollisions(Ie,Ue,re.GEOMETRIC_EPSILON),bn=qe-1;bn>=0&&_e;bn--){var In=Ie[bn];_e=!1;var Fn=wn[bn];if(Fn)for(var Dn=Fn.length-1;Dn>=0&&!_e;Dn--)In.compare(Ue[Fn[Dn]])&&(vn[Fn[Dn]]||(vn[Fn[Dn]]=!0,Pt++),_e=!0)}_e=_e&&Pt===Et}return _e}}),Tn=Ln.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(_e){this._closed=!1,this._segments=[],this._version=0;var Ie=arguments,Ue=Array.isArray(_e)?typeof _e[0]=="object"?_e:Ie:_e&&_e.size===r&&(_e.x!==r||_e.point!==r)?Ie:null;Ue&&Ue.length>0?this.setSegments(Ue):(this._curves=r,this._segmentSelection=0,!Ue&&typeof _e=="string"&&(this.setPathData(_e),_e=null)),this._initialize(!Ue&&_e)},_equals:function(le){return this._closed===le._closed&&k.equals(this._segments,le._segments)},copyContent:function(le){this.setSegments(le._segments),this._closed=le._closed},_changed:function le(_e){if(le.base.call(this,_e),_e&8){if(this._length=this._area=r,_e&32)this._version++;else if(this._curves)for(var Ie=0,Ue=this._curves.length;Ie<Ue;Ie++)this._curves[Ie]._changed()}else _e&64&&(this._bounds=r)},getStyle:function(){var le=this._parent;return(le instanceof Zn?le:this)._style},getSegments:function(){return this._segments},setSegments:function(le){var _e=this.isFullySelected(),Ie=le&&le.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=r,Ie){var Ue=le[Ie-1];typeof Ue=="boolean"&&(this.setClosed(Ue),Ie--),this._add(jt.readList(le,0,{},Ie))}_e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var le=this._curves,_e=this._segments;if(!le){var Ie=this._countCurves();le=this._curves=new Array(Ie);for(var Ue=0;Ue<Ie;Ue++)le[Ue]=new Mn(this,_e[Ue],_e[Ue+1]||_e[0])}return le},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var le=this.getCurves();return le[le.length-1]},isClosed:function(){return this._closed},setClosed:function(le){if(this._closed!=(le=!!le)){if(this._closed=le,this._curves){var _e=this._curves.length=this._countCurves();le&&(this._curves[_e-1]=new Mn(this,this._segments[_e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(le,_e){var Ie=this._segments,Ue=Ie.length,qe=new j(_e),Et=new Array(6),vn=!0,Pt,wn,bn,In,Fn,Dn,Un,Jn,Hn=[];function tr(zn,xn){if(zn._transformCoordinates(le,Et),Pt=Et[0],wn=Et[1],vn)Hn.push("M"+qe.pair(Pt,wn)),vn=!1;else if(Fn=Et[2],Dn=Et[3],Fn===Pt&&Dn===wn&&Un===bn&&Jn===In){if(!xn){var Rn=Pt-bn,qn=wn-In;Hn.push(Rn===0?"v"+qe.number(qn):qn===0?"h"+qe.number(Rn):"l"+qe.pair(Rn,qn))}}else Hn.push("c"+qe.pair(Un-bn,Jn-In)+" "+qe.pair(Fn-bn,Dn-In)+" "+qe.pair(Pt-bn,wn-In));bn=Pt,In=wn,Un=Et[4],Jn=Et[5]}if(!Ue)return"";for(var kn=0;kn<Ue;kn++)tr(Ie[kn]);return this._closed&&Ue>0&&(tr(Ie[0],!0),Hn.push("z")),Hn.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(le){for(var _e=this._segments,Ie=new Array(6),Ue=0,qe=_e.length;Ue<qe;Ue++)_e[Ue]._transformCoordinates(le,Ie,!0);return!0},_add:function(le,vn){for(var Ie=this._segments,Ue=this._curves,qe=le.length,Et=vn==null,vn=Et?Ie.length:vn,Pt=0;Pt<qe;Pt++){var wn=le[Pt];wn._path&&(wn=le[Pt]=wn.clone()),wn._path=this,wn._index=vn+Pt,wn._selection&&this._updateSelection(wn,0,wn._selection)}if(Et)k.push(Ie,le);else{Ie.splice.apply(Ie,[vn,0].concat(le));for(var Pt=vn+qe,bn=Ie.length;Pt<bn;Pt++)Ie[Pt]._index=Pt}if(Ue){var In=this._countCurves(),Fn=vn>0&&vn+qe-1===In?vn-1:vn,Dn=Fn,Un=Math.min(Fn+qe,In);le._curves&&(Ue.splice.apply(Ue,[Fn,0].concat(le._curves)),Dn+=le._curves.length);for(var Pt=Dn;Pt<Un;Pt++)Ue.splice(Pt,0,new Mn(this,null,null));this._adjustCurves(Fn,Un)}return this._changed(41),le},_adjustCurves:function(le,_e){for(var Ie=this._segments,Ue=this._curves,qe,Et=le;Et<_e;Et++)qe=Ue[Et],qe._path=this,qe._segment1=Ie[Et],qe._segment2=Ie[Et+1]||Ie[0],qe._changed();(qe=Ue[this._closed&&!le?Ie.length-1:le-1])&&(qe._segment2=Ie[le]||Ie[0],qe._changed()),(qe=Ue[_e])&&(qe._segment1=Ie[_e],qe._changed())},_countCurves:function(){var le=this._segments.length;return!this._closed&&le>0?le-1:le},add:function(le){var _e=arguments;return _e.length>1&&typeof le!="number"?this._add(jt.readList(_e)):this._add([jt.read(_e)])[0]},insert:function(le,_e){var Ie=arguments;return Ie.length>2&&typeof _e!="number"?this._add(jt.readList(Ie,1),le):this._add([jt.read(Ie,1)],le)[0]},addSegment:function(){return this._add([jt.read(arguments)])[0]},insertSegment:function(le){return this._add([jt.read(arguments,1)],le)[0]},addSegments:function(le){return this._add(jt.readList(le))},insertSegments:function(le,_e){return this._add(jt.readList(_e),le)},removeSegment:function(le){return this.removeSegments(le,le+1)[0]||null},removeSegments:function(le,_e,Ie){le=le||0,_e=k.pick(_e,this._segments.length);var Ue=this._segments,qe=this._curves,Et=Ue.length,vn=Ue.splice(le,_e-le),Pt=vn.length;if(!Pt)return vn;for(var wn=0;wn<Pt;wn++){var bn=vn[wn];bn._selection&&this._updateSelection(bn,bn._selection,0),bn._index=bn._path=null}for(var wn=le,In=Ue.length;wn<In;wn++)Ue[wn]._index=wn;if(qe){for(var Fn=le>0&&_e===Et+(this._closed?1:0)?le-1:le,qe=qe.splice(Fn,Pt),wn=qe.length-1;wn>=0;wn--)qe[wn]._path=null;Ie&&(vn._curves=qe.slice(1)),this._adjustCurves(Fn,Fn)}return this._changed(41),vn},clear:"#removeSegments",hasHandles:function(){for(var le=this._segments,_e=0,Ie=le.length;_e<Ie;_e++)if(le[_e].hasHandles())return!0;return!1},clearHandles:function(){for(var le=this._segments,_e=0,Ie=le.length;_e<Ie;_e++)le[_e].clearHandles()},getLength:function(){if(this._length==null){for(var le=this.getCurves(),_e=0,Ie=0,Ue=le.length;Ie<Ue;Ie++)_e+=le[Ie].getLength();this._length=_e}return this._length},getArea:function(){var le=this._area;if(le==null){var _e=this._segments,Ie=this._closed;le=0;for(var Ue=0,qe=_e.length;Ue<qe;Ue++){var Et=Ue+1===qe;le+=Mn.getArea(Mn.getValues(_e[Ue],_e[Et?0:Ue+1],null,Et&&!Ie))}this._area=le}return le},isFullySelected:function(){var le=this._segments.length;return this.isSelected()&&le>0&&this._segmentSelection===le*7},setFullySelected:function(le){le&&this._selectSegments(!0),this.setSelected(le)},setSelection:function le(_e){_e&1||this._selectSegments(!1),le.base.call(this,_e)},_selectSegments:function(le){var _e=this._segments,Ie=_e.length,Ue=le?7:0;this._segmentSelection=Ue*Ie;for(var qe=0;qe<Ie;qe++)_e[qe]._selection=Ue},_updateSelection:function(le,_e,Ie){le._selection=Ie;var Ue=this._segmentSelection+=Ie-_e;Ue>0&&this.setSelected(!0)},divideAt:function(le){var _e=this.getLocationAt(le),Ie;return _e&&(Ie=_e.getCurve().divideAt(_e.getCurveOffset()))?Ie._segment1:null},splitAt:function(le){var _e=this.getLocationAt(le),Ie=_e&&_e.index,Ue=_e&&_e.time,qe=1e-8,Et=1-qe;Ue>Et&&(Ie++,Ue=0);var vn=this.getCurves();if(Ie>=0&&Ie<vn.length){Ue>=qe&&vn[Ie++].divideAtTime(Ue);var Pt=this.removeSegments(Ie,this._segments.length,!0),wn;return this._closed?(this.setClosed(!1),wn=this):(wn=new Tn(Ce.NO_INSERT),wn.insertAbove(this),wn.copyAttributes(this)),wn._add(Pt,0),this.addSegment(Pt[0]),wn}return null},split:function(le,_e){var Ie,Ue=_e===r?le:(Ie=this.getCurves()[le])&&Ie.getLocationAtTime(_e);return Ue!=null?this.splitAt(Ue):null},join:function(le,_e){var Ie=_e||0;if(le&&le!==this){var Ue=le._segments,qe=this.getLastSegment(),Et=le.getLastSegment();if(!Et)return this;qe&&qe._point.isClose(Et._point,Ie)&&le.reverse();var vn=le.getFirstSegment();if(qe&&qe._point.isClose(vn._point,Ie))qe.setHandleOut(vn._handleOut),this._add(Ue.slice(1));else{var Pt=this.getFirstSegment();Pt&&Pt._point.isClose(vn._point,Ie)&&le.reverse(),Et=le.getLastSegment(),Pt&&Pt._point.isClose(Et._point,Ie)?(Pt.setHandleIn(Et._handleIn),this._add(Ue.slice(0,Ue.length-1),0)):this._add(Ue.slice())}le._closed&&this._add([Ue[0]]),le.remove()}var wn=this.getFirstSegment(),bn=this.getLastSegment();return wn!==bn&&wn._point.isClose(bn._point,Ie)&&(wn.setHandleIn(bn._handleIn),bn.remove(),this.setClosed(!0)),this},reduce:function(le){for(var _e=this.getCurves(),Ie=le&&le.simplify,Ue=Ie?1e-7:0,qe=_e.length-1;qe>=0;qe--){var Et=_e[qe];!Et.hasHandles()&&(!Et.hasLength(Ue)||Ie&&Et.isCollinear(Et.getNext()))&&Et.remove()}return this},reverse:function(){this._segments.reverse();for(var le=0,_e=this._segments.length;le<_e;le++){var Ie=this._segments[le],Ue=Ie._handleIn;Ie._handleIn=Ie._handleOut,Ie._handleOut=Ue,Ie._index=le}this._curves=null,this._changed(9)},flatten:function(le){for(var _e=new Qn(this,le||.25,256,!0),Ie=_e.parts,Ue=Ie.length,qe=[],Et=0;Et<Ue;Et++)qe.push(new jt(Ie[Et].curve.slice(0,2)));!this._closed&&Ue>0&&qe.push(new jt(Ie[Ue-1].curve.slice(6))),this.setSegments(qe)},simplify:function(le){var _e=new Pn(this).fit(le||2.5);return _e&&this.setSegments(_e),!!_e},smooth:function(le){var _e=this,Ie=le||{},Ue=Ie.type||"asymmetric",qe=this._segments,Et=qe.length,vn=this._closed;function Pt(Jr,oo){var ro=Jr&&Jr.index;if(ro!=null){var ao=Jr.path;if(ao&&ao!==_e)throw new Error(Jr._class+" "+ro+" of "+ao+" is not part of "+_e);oo&&Jr instanceof Mn&&ro++}else ro=typeof Jr=="number"?Jr:oo;return Math.min(ro<0&&vn?ro%Et:ro<0?ro+Et:ro,Et-1)}var wn=vn&&Ie.from===r&&Ie.to===r,bn=Pt(Ie.from,0),In=Pt(Ie.to,Et-1);if(bn>In)if(vn)bn-=Et;else{var Fn=bn;bn=In,In=Fn}if(/^(?:asymmetric|continuous)$/.test(Ue)){var Dn=Ue==="asymmetric",Un=Math.min,Jn=In-bn+1,Hn=Jn-1,tr=wn?Un(Jn,4):1,kn=tr,zn=tr,xn=[];if(vn||(kn=Un(1,bn),zn=Un(1,Et-In-1)),Hn+=kn+zn,Hn<=1)return;for(var Rn=0,qn=bn-kn;Rn<=Hn;Rn++,qn++)xn[Rn]=qe[(qn<0?qn+Et:qn)%Et]._point;for(var nr=xn[0]._x+2*xn[1]._x,er=xn[0]._y+2*xn[1]._y,fr=2,pr=Hn-1,_r=[nr],xr=[er],vr=[fr],Sr=[],kr=[],Rn=1;Rn<Hn;Rn++){var Nr=Rn<pr,Pr=Nr||Dn?1:2,Ar=Nr?4:Dn?2:7,Ur=Nr?4:Dn?3:8,jr=Nr?2:Dn?0:1,Hr=Pr/fr;fr=vr[Rn]=Ar-Hr,nr=_r[Rn]=Ur*xn[Rn]._x+jr*xn[Rn+1]._x-Hr*nr,er=xr[Rn]=Ur*xn[Rn]._y+jr*xn[Rn+1]._y-Hr*er}Sr[pr]=_r[pr]/vr[pr],kr[pr]=xr[pr]/vr[pr];for(var Rn=Hn-2;Rn>=0;Rn--)Sr[Rn]=(_r[Rn]-Sr[Rn+1])/vr[Rn],kr[Rn]=(xr[Rn]-kr[Rn+1])/vr[Rn];Sr[Hn]=(3*xn[Hn]._x-Sr[pr])/2,kr[Hn]=(3*xn[Hn]._y-kr[pr])/2;for(var Rn=kn,Kr=Hn-zn,qn=bn;Rn<=Kr;Rn++,qn++){var Rr=qe[qn<0?qn+Et:qn],Lr=Rr._point,Yr=Sr[Rn]-Lr._x,eo=kr[Rn]-Lr._y;(wn||Rn<Kr)&&Rr.setHandleOut(Yr,eo),(wn||Rn>kn)&&Rr.setHandleIn(-Yr,-eo)}}else for(var Rn=bn;Rn<=In;Rn++)qe[Rn<0?Rn+Et:Rn].smooth(Ie,!wn&&Rn===bn,!wn&&Rn===In)},toShape:function(le){if(!this._closed)return null;var _e=this._segments,Ie,Ue,qe,Et;function vn(Dn,Un){var Jn=_e[Dn],Hn=Jn.getNext(),tr=_e[Un],kn=tr.getNext();return Jn._handleOut.isZero()&&Hn._handleIn.isZero()&&tr._handleOut.isZero()&&kn._handleIn.isZero()&&Hn._point.subtract(Jn._point).isCollinear(kn._point.subtract(tr._point))}function Pt(Dn){var Un=_e[Dn],Jn=Un.getPrevious(),Hn=Un.getNext();return Jn._handleOut.isZero()&&Un._handleIn.isZero()&&Un._handleOut.isZero()&&Hn._handleIn.isZero()&&Un._point.subtract(Jn._point).isOrthogonal(Hn._point.subtract(Un._point))}function wn(Dn){var Un=_e[Dn],Jn=Un.getNext(),Hn=Un._handleOut,tr=Jn._handleIn,kn=.5522847498307936;if(Hn.isOrthogonal(tr)){var zn=Un._point,xn=Jn._point,Rn=new $e(zn,Hn,!0).intersect(new $e(xn,tr,!0),!0);return Rn&&re.isZero(Hn.getLength()/Rn.subtract(zn).getLength()-kn)&&re.isZero(tr.getLength()/Rn.subtract(xn).getLength()-kn)}return!1}function bn(Dn,Un){return _e[Dn]._point.getDistance(_e[Un]._point)}if(!this.hasHandles()&&_e.length===4&&vn(0,2)&&vn(1,3)&&Pt(1)?(Ie=kt.Rectangle,Ue=new ue(bn(0,3),bn(0,1)),Et=_e[1]._point.add(_e[2]._point).divide(2)):_e.length===8&&wn(0)&&wn(2)&&wn(4)&&wn(6)&&vn(1,5)&&vn(3,7)?(Ie=kt.Rectangle,Ue=new ue(bn(1,6),bn(0,3)),qe=Ue.subtract(new ue(bn(0,7),bn(1,2))).divide(2),Et=_e[3]._point.add(_e[4]._point).divide(2)):_e.length===4&&wn(0)&&wn(1)&&wn(2)&&wn(3)&&(re.isZero(bn(0,2)-bn(1,3))?(Ie=kt.Circle,qe=bn(0,2)/2):(Ie=kt.Ellipse,qe=new ue(bn(2,0)/2,bn(3,1)/2)),Et=_e[1]._point),Ie){var In=this.getPosition(!0),Fn=new Ie({center:In,size:Ue,radius:qe,insert:!1});return Fn.copyAttributes(this,!0),Fn._matrix.prepend(this._matrix),Fn.rotate(Et.subtract(In).getAngle()+90),(le===r||le)&&Fn.insertAbove(this),Fn}return null},toPath:"#clone",compare:function le(_e){if(!_e||_e instanceof Zn)return le.base.call(this,_e);var Ie=this.getCurves(),Ue=_e.getCurves(),qe=Ie.length,Et=Ue.length;if(!qe||!Et)return qe==Et;for(var vn=Ie[0].getValues(),Pt=[],wn=0,bn,In=0,Fn,Dn=0;Dn<Et;Dn++){var tr=Ue[Dn].getValues();Pt.push(tr);var Un=Mn.getOverlaps(vn,tr);if(Un){bn=!Dn&&Un[0][0]>0?Et-1:Dn,Fn=Un[0][1];break}}for(var Jn=Math.abs,Hn=1e-8,tr=Pt[bn],kn;vn&&tr;){var Un=Mn.getOverlaps(vn,tr);if(Un){var zn=Un[0][0];if(Jn(zn-In)<Hn){In=Un[1][0],In===1&&(vn=++wn<qe?Ie[wn].getValues():null,In=0);var xn=Un[0][1];if(Jn(xn-Fn)<Hn){if(kn||(kn=[bn,xn]),Fn=Un[1][1],Fn===1&&(++bn>=Et&&(bn=0),tr=Pt[bn]||Ue[bn].getValues(),Fn=0),!vn)return kn[0]===bn&&kn[1]===Fn;continue}}}break}return!1},_hitTestSelf:function(le,_e,Ie,Ue){var qe=this,Et=this.getStyle(),vn=this._segments,Pt=vn.length,wn=this._closed,bn=_e._tolerancePadding,In=bn,Fn,Dn,Un,Jn,Hn,tr,kn=_e.stroke&&Et.hasStroke(),zn=_e.fill&&Et.hasFill(),xn=_e.curves,Rn=kn?Et.getStrokeWidth()/2:zn&&_e.tolerance>0||xn?0:null;Rn!==null&&(Rn>0?(Fn=Et.getStrokeJoin(),Dn=Et.getStrokeCap(),Un=Et.getMiterLimit(),In=In.add(Tn._getStrokePadding(Rn,Ue))):Fn=Dn="round");function qn(Sr,kr){return le.subtract(Sr).divide(kr).length<=1}function nr(Sr,kr,Nr){if(!_e.selected||kr.isSelected()){var Pr=Sr._point;if(kr!==Pr&&(kr=kr.add(Pr)),qn(kr,In))return new On(Nr,qe,{segment:Sr,point:kr})}}function er(Sr,kr){return(kr||_e.segments)&&nr(Sr,Sr._point,"segment")||!kr&&_e.handles&&(nr(Sr,Sr._handleIn,"handle-in")||nr(Sr,Sr._handleOut,"handle-out"))}function fr(Sr){Jn.add(Sr)}function pr(Sr){var kr=wn||Sr._index>0&&Sr._index<Pt-1;if((kr?Fn:Dn)==="round")return qn(Sr._point,In);if(Jn=new Tn({internal:!0,closed:!0}),kr?Sr.isSmooth()||Tn._addBevelJoin(Sr,Fn,Rn,Un,null,Ue,fr,!0):Dn==="square"&&Tn._addSquareCap(Sr,Dn,Rn,null,Ue,fr,!0),!Jn.isEmpty()){var Nr;return Jn.contains(le)||(Nr=Jn.getNearestLocation(le))&&qn(Nr.getPoint(),bn)}}if(_e.ends&&!_e.segments&&!wn){if(tr=er(vn[0],!0)||er(vn[Pt-1],!0))return tr}else if(_e.segments||_e.handles){for(var _r=0;_r<Pt;_r++)if(tr=er(vn[_r]))return tr}if(Rn!==null){if(Hn=this.getNearestLocation(le),Hn){var xr=Hn.getTime();xr===0||xr===1&&Pt>1?pr(Hn.getSegment())||(Hn=null):qn(Hn.getPoint(),In)||(Hn=null)}if(!Hn&&Fn==="miter"&&Pt>1)for(var _r=0;_r<Pt;_r++){var vr=vn[_r];if(le.getDistance(vr._point)<=Un*Rn&&pr(vr)){Hn=vr.getLocation();break}}}return!Hn&&zn&&this._contains(le)||Hn&&!kn&&!xn?new On("fill",this):Hn?new On(kn?"stroke":"curve",this,{location:Hn,point:Hn.getPoint()}):null}},k.each(Mn._evaluateMethods,function(le){this[le+"At"]=function(_e){var Ie=this.getLocationAt(_e);return Ie&&Ie[le]()}},{beans:!1,getLocationOf:function(){for(var le=ae.read(arguments),_e=this.getCurves(),Ie=0,Ue=_e.length;Ie<Ue;Ie++){var qe=_e[Ie].getLocationOf(le);if(qe)return qe}return null},getOffsetOf:function(){var le=this.getLocationOf.apply(this,arguments);return le?le.getOffset():null},getLocationAt:function(le){if(typeof le=="number"){for(var _e=this.getCurves(),Ie=0,Ue=0,qe=_e.length;Ue<qe;Ue++){var Et=Ie,vn=_e[Ue];if(Ie+=vn.getLength(),Ie>le)return vn.getLocationAt(le-Et)}if(_e.length>0&&le<=this.getLength())return new $n(_e[_e.length-1],1)}else if(le&&le.getPath&&le.getPath()===this)return le;return null},getOffsetsWithTangent:function(){var le=ae.read(arguments);if(le.isZero())return[];for(var _e=[],Ie=0,Ue=this.getCurves(),qe=0,Et=Ue.length;qe<Et;qe++){for(var vn=Ue[qe],Pt=vn.getTimesWithTangent(le),wn=0,bn=Pt.length;wn<bn;wn++){var In=Ie+vn.getOffsetAtTime(Pt[wn]);_e.indexOf(In)<0&&_e.push(In)}Ie+=vn.length}return _e}}),new function(){function le(Ie,Ue,qe,Et){if(Et<=0)return;var vn=Et/2,Pt=Et-2,wn=vn-1,bn=new Array(6),In,Fn;function Dn(zn){var xn=bn[zn],Rn=bn[zn+1];(In!=xn||Fn!=Rn)&&(Ie.beginPath(),Ie.moveTo(In,Fn),Ie.lineTo(xn,Rn),Ie.stroke(),Ie.beginPath(),Ie.arc(xn,Rn,vn,0,Math.PI*2,!0),Ie.fill())}for(var Un=0,Jn=Ue.length;Un<Jn;Un++){var Hn=Ue[Un],tr=Hn._selection;if(Hn._transformCoordinates(qe,bn),In=bn[0],Fn=bn[1],tr&2&&Dn(2),tr&4&&Dn(4),Ie.fillRect(In-vn,Fn-vn,Et,Et),Pt>0&&!(tr&1)){var kn=Ie.fillStyle;Ie.fillStyle="#ffffff",Ie.fillRect(In-wn,Fn-wn,Pt,Pt),Ie.fillStyle=kn}}}function _e(Ie,Ue,qe){var Et=Ue._segments,vn=Et.length,Pt=new Array(6),wn=!0,bn,In,Fn,Dn,Un,Jn,Hn,tr;function kn(xn){if(qe)xn._transformCoordinates(qe,Pt),bn=Pt[0],In=Pt[1];else{var Rn=xn._point;bn=Rn._x,In=Rn._y}if(wn)Ie.moveTo(bn,In),wn=!1;else{if(qe)Un=Pt[2],Jn=Pt[3];else{var qn=xn._handleIn;Un=bn+qn._x,Jn=In+qn._y}Un===bn&&Jn===In&&Hn===Fn&&tr===Dn?Ie.lineTo(bn,In):Ie.bezierCurveTo(Hn,tr,Un,Jn,bn,In)}if(Fn=bn,Dn=In,qe)Hn=Pt[4],tr=Pt[5];else{var qn=xn._handleOut;Hn=Fn+qn._x,tr=Dn+qn._y}}for(var zn=0;zn<vn;zn++)kn(Et[zn]);Ue._closed&&vn>0&&kn(Et[0])}return{_draw:function(Ie,Ue,qe,Et){var vn=Ue.dontStart,Pt=Ue.dontFinish||Ue.clip,wn=this.getStyle(),bn=wn.hasFill(),In=wn.hasStroke(),Fn=wn.getDashArray(),Dn=!lr.support.nativeDash&&In&&Fn&&Fn.length;vn||Ie.beginPath(),(bn||In&&!Dn||Pt)&&(_e(Ie,this,Et),this._closed&&Ie.closePath());function Un(xn){return Fn[(xn%Dn+Dn)%Dn]}if(!Pt&&(bn||In)&&(this._setStyles(Ie,Ue,qe),bn&&(Ie.fill(wn.getFillRule()),Ie.shadowColor="rgba(0,0,0,0)"),In)){if(Dn){vn||Ie.beginPath();for(var Jn=new Qn(this,.25,32,!1,Et),Hn=Jn.length,tr=-wn.getDashOffset(),kn,zn=0;tr>0;)tr-=Un(zn--)+Un(zn--);for(;tr<Hn;)kn=tr+Un(zn++),(tr>0||kn>0)&&Jn.drawPart(Ie,Math.max(tr,0),Math.max(kn,0)),tr=kn+Un(zn++)}Ie.stroke()}},_drawSelected:function(Ie,Ue){Ie.beginPath(),_e(Ie,this,Ue),Ie.stroke(),le(Ie,this._segments,Ue,lr.settings.handleSize)}}},new function(){function le(_e){var Ie=_e._segments;if(!Ie.length)throw new Error("Use a moveTo() command first");return Ie[Ie.length-1]}return{moveTo:function(){var _e=this._segments;_e.length===1&&this.removeSegment(0),_e.length||this._add([new jt(ae.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new jt(ae.read(arguments))])},cubicCurveTo:function(){var _e=arguments,Ie=ae.read(_e),Ue=ae.read(_e),qe=ae.read(_e),Et=le(this);Et.setHandleOut(Ie.subtract(Et._point)),this._add([new jt(qe,Ue.subtract(qe))])},quadraticCurveTo:function(){var _e=arguments,Ie=ae.read(_e),Ue=ae.read(_e),qe=le(this)._point;this.cubicCurveTo(Ie.add(qe.subtract(Ie).multiply(1/3)),Ie.add(Ue.subtract(Ie).multiply(1/3)),Ue)},curveTo:function(){var _e=arguments,Ie=ae.read(_e),Ue=ae.read(_e),qe=k.pick(k.read(_e),.5),Et=1-qe,vn=le(this)._point,Pt=Ie.subtract(vn.multiply(Et*Et)).subtract(Ue.multiply(qe*qe)).divide(2*qe*Et);if(Pt.isNaN())throw new Error("Cannot put a curve through points with parameter = "+qe);this.quadraticCurveTo(Pt,Ue)},arcTo:function(){var _e=arguments,Ie=Math.abs,Ue=Math.sqrt,qe=le(this),Et=qe._point,vn=ae.read(_e),Pt,wn=k.peek(_e),bn=k.pick(wn,!0),In,Fn,Dn,Un;if(typeof bn=="boolean")var Jn=Et.add(vn).divide(2),Pt=Jn.add(Jn.subtract(Et).rotate(bn?-90:90));else if(k.remain(_e)<=2)Pt=vn,vn=ae.read(_e);else if(!Et.equals(vn)){var Hn=ue.read(_e),tr=re.isZero;if(tr(Hn.width)||tr(Hn.height))return this.lineTo(vn);var kn=k.read(_e),bn=!!k.read(_e),zn=!!k.read(_e),Jn=Et.add(vn).divide(2),xn=Et.subtract(Jn).rotate(-kn),Rn=xn.x,qn=xn.y,nr=Ie(Hn.width),er=Ie(Hn.height),fr=nr*nr,pr=er*er,_r=Rn*Rn,xr=qn*qn,vr=Ue(_r/fr+xr/pr);if(vr>1&&(nr*=vr,er*=vr,fr=nr*nr,pr=er*er),vr=(fr*pr-fr*xr-pr*_r)/(fr*xr+pr*_r),Ie(vr)<1e-12&&(vr=0),vr<0)throw new Error("Cannot create an arc with the given arguments");In=new ae(nr*qn/er,-er*Rn/nr).multiply((zn===bn?-1:1)*Ue(vr)).rotate(kn).add(Jn),Un=new xe().translate(In).rotate(kn).scale(nr,er),Dn=Un._inverseTransform(Et),Fn=Dn.getDirectedAngle(Un._inverseTransform(vn)),!bn&&Fn>0?Fn-=360:bn&&Fn<0&&(Fn+=360)}if(Pt){var Sr=new $e(Et.add(Pt).divide(2),Pt.subtract(Et).rotate(90),!0),kr=new $e(Pt.add(vn).divide(2),vn.subtract(Pt).rotate(90),!0),Nr=new $e(Et,vn),Pr=Nr.getSide(Pt);if(In=Sr.intersect(kr,!0),!In){if(!Pr)return this.lineTo(vn);throw new Error("Cannot create an arc with the given arguments")}Dn=Et.subtract(In),Fn=Dn.getDirectedAngle(vn.subtract(In));var Ar=Nr.getSide(In,!0);Ar===0?Fn=Pr*Ie(Fn):Pr===Ar&&(Fn+=Fn<0?360:-360)}if(Fn){for(var Ur=1e-5,jr=Ie(Fn),Hr=jr>=360?4:Math.ceil((jr-Ur)/90),Kr=Fn/Hr,Rr=Kr*Math.PI/360,Lr=4/3*Math.sin(Rr)/(1+Math.cos(Rr)),Yr=[],eo=0;eo<=Hr;eo++){var xn=vn,Jr=null;if(eo<Hr&&(Jr=Dn.rotate(90).multiply(Lr),Un?(xn=Un._transformPoint(Dn),Jr=Un._transformPoint(Dn.add(Jr)).subtract(xn)):xn=In.add(Dn)),!eo)qe.setHandleOut(Jr);else{var oo=Dn.rotate(-90).multiply(Lr);Un&&(oo=Un._transformPoint(Dn.add(oo)).subtract(xn)),Yr.push(new jt(xn,oo,Jr))}Dn=Dn.rotate(Kr)}this._add(Yr)}},lineBy:function(){var _e=ae.read(arguments),Ie=le(this)._point;this.lineTo(Ie.add(_e))},curveBy:function(){var _e=arguments,Ie=ae.read(_e),Ue=ae.read(_e),qe=k.read(_e),Et=le(this)._point;this.curveTo(Et.add(Ie),Et.add(Ue),qe)},cubicCurveBy:function(){var _e=arguments,Ie=ae.read(_e),Ue=ae.read(_e),qe=ae.read(_e),Et=le(this)._point;this.cubicCurveTo(Et.add(Ie),Et.add(Ue),Et.add(qe))},quadraticCurveBy:function(){var _e=arguments,Ie=ae.read(_e),Ue=ae.read(_e),qe=le(this)._point;this.quadraticCurveTo(qe.add(Ie),qe.add(Ue))},arcBy:function(){var _e=arguments,Ie=le(this)._point,Ue=Ie.add(ae.read(_e)),qe=k.pick(k.peek(_e),!0);typeof qe=="boolean"?this.arcTo(Ue,qe):this.arcTo(Ue,Ie.add(ae.read(_e)))},closePath:function(_e){this.setClosed(!0),this.join(this,_e)}}},{_getBounds:function(le,_e){var Ie=_e.handle?"getHandleBounds":_e.stroke?"getStrokeBounds":"getBounds";return Tn[Ie](this._segments,this._closed,this,le,_e)},statics:{getBounds:function(le,_e,Ie,Ue,qe,Et){var vn=le[0];if(!vn)return new he;var Pt=new Array(6),wn=vn._transformCoordinates(Ue,new Array(6)),bn=wn.slice(0,2),In=bn.slice(),Fn=new Array(2);function Dn(Hn){Hn._transformCoordinates(Ue,Pt);for(var tr=0;tr<2;tr++)Mn._addBounds(wn[tr],wn[tr+4],Pt[tr+2],Pt[tr],tr,Et?Et[tr]:0,bn,In,Fn);var kn=wn;wn=Pt,Pt=kn}for(var Un=1,Jn=le.length;Un<Jn;Un++)Dn(le[Un]);return _e&&Dn(vn),new he(bn[0],bn[1],In[0]-bn[0],In[1]-bn[1])},getStrokeBounds:function(le,_e,Ie,Ue,qe){var Et=Ie.getStyle(),vn=Et.hasStroke(),Pt=Et.getStrokeWidth(),wn=vn&&Ie._getStrokeMatrix(Ue,qe),bn=vn&&Tn._getStrokePadding(Pt,wn),In=Tn.getBounds(le,_e,Ie,Ue,qe,bn);if(!vn)return In;var Fn=Pt/2,Dn=Et.getStrokeJoin(),Un=Et.getStrokeCap(),Jn=Et.getMiterLimit(),Hn=new he(new ue(bn));function tr(nr){In=In.include(nr)}function kn(nr){In=In.unite(Hn.setCenter(nr._point.transform(Ue)))}function zn(nr,er){er==="round"||nr.isSmooth()?kn(nr):Tn._addBevelJoin(nr,er,Fn,Jn,Ue,wn,tr)}function xn(nr,er){er==="round"?kn(nr):Tn._addSquareCap(nr,er,Fn,Ue,wn,tr)}var Rn=le.length-(_e?0:1);if(Rn>0){for(var qn=1;qn<Rn;qn++)zn(le[qn],Dn);_e?zn(le[0],Dn):(xn(le[0],Un),xn(le[le.length-1],Un))}return In},_getStrokePadding:function(le,_e){if(!_e)return[le,le];var Ie=new ae(le,0).transform(_e),Ue=new ae(0,le).transform(_e),qe=Ie.getAngleInRadians(),Et=Ie.getLength(),vn=Ue.getLength(),Pt=Math.sin(qe),wn=Math.cos(qe),bn=Math.tan(qe),In=Math.atan2(vn*bn,Et),Fn=Math.atan2(vn,bn*Et);return[Math.abs(Et*Math.cos(In)*wn+vn*Math.sin(In)*Pt),Math.abs(vn*Math.sin(Fn)*wn+Et*Math.cos(Fn)*Pt)]},_addBevelJoin:function(le,_e,Ie,Ue,qe,Et,vn,Pt){var wn=le.getCurve(),bn=wn.getPrevious(),In=wn.getPoint1().transform(qe),Fn=bn.getNormalAtTime(1).multiply(Ie).transform(Et),Dn=wn.getNormalAtTime(0).multiply(Ie).transform(Et),Un=Fn.getDirectedAngle(Dn);if((Un<0||Un>=180)&&(Fn=Fn.negate(),Dn=Dn.negate()),Pt&&vn(In),vn(In.add(Fn)),_e==="miter"){var Jn=new $e(In.add(Fn),new ae(-Fn.y,Fn.x),!0).intersect(new $e(In.add(Dn),new ae(-Dn.y,Dn.x),!0),!0);Jn&&In.getDistance(Jn)<=Ue*Ie&&vn(Jn)}vn(In.add(Dn))},_addSquareCap:function(le,_e,Ie,Ue,qe,Et,vn){var Pt=le._point.transform(Ue),wn=le.getLocation(),bn=wn.getNormal().multiply(wn.getTime()===0?Ie:-Ie).transform(qe);_e==="square"&&(vn&&(Et(Pt.subtract(bn)),Et(Pt.add(bn))),Pt=Pt.add(bn.rotate(-90))),Et(Pt.add(bn)),Et(Pt.subtract(bn))},getHandleBounds:function(le,_e,Ie,Ue,qe){var Et=Ie.getStyle(),vn=qe.stroke&&Et.hasStroke(),Pt,wn;if(vn){var bn=Ie._getStrokeMatrix(Ue,qe),In=Et.getStrokeWidth()/2,Fn=In;Et.getStrokeJoin()==="miter"&&(Fn=In*Et.getMiterLimit()),Et.getStrokeCap()==="square"&&(Fn=Math.max(Fn,In*Math.SQRT2)),Pt=Tn._getStrokePadding(In,bn),wn=Tn._getStrokePadding(Fn,bn)}for(var Dn=new Array(6),Un=1/0,Jn=-Un,Hn=Un,tr=Jn,kn=0,zn=le.length;kn<zn;kn++){var xn=le[kn];xn._transformCoordinates(Ue,Dn);for(var Rn=0;Rn<6;Rn+=2){var qn=Rn?Pt:wn,nr=qn?qn[0]:0,er=qn?qn[1]:0,fr=Dn[Rn],pr=Dn[Rn+1],_r=fr-nr,xr=fr+nr,vr=pr-er,Sr=pr+er;_r<Un&&(Un=_r),xr>Jn&&(Jn=xr),vr<Hn&&(Hn=vr),Sr>tr&&(tr=Sr)}}return new he(Un,Hn,Jn-Un,tr-Hn)}}});Tn.inject({statics:new function(){var le=.5522847498307936,_e=[new jt([-1,0],[0,le],[0,-le]),new jt([0,-1],[-le,0],[le,0]),new jt([1,0],[0,-le],[0,le]),new jt([0,1],[le,0],[-le,0])];function Ie(qe,Et,vn){var Pt=k.getNamed(vn),wn=new Tn(Pt&&(Pt.insert==!0?Ce.INSERT:Pt.insert==!1?Ce.NO_INSERT:null));return wn._add(qe),wn._closed=Et,wn.set(Pt,Ce.INSERT)}function Ue(qe,Et,vn){for(var Pt=new Array(4),wn=0;wn<4;wn++){var bn=_e[wn];Pt[wn]=new jt(bn._point.multiply(Et).add(qe),bn._handleIn.multiply(Et),bn._handleOut.multiply(Et))}return Ie(Pt,!0,vn)}return{Line:function(){var qe=arguments;return Ie([new jt(ae.readNamed(qe,"from")),new jt(ae.readNamed(qe,"to"))],!1,qe)},Circle:function(){var qe=arguments,Et=ae.readNamed(qe,"center"),vn=k.readNamed(qe,"radius");return Ue(Et,new ue(vn),qe)},Rectangle:function(){var qe=arguments,Et=he.readNamed(qe,"rectangle"),vn=ue.readNamed(qe,"radius",0,{readNull:!0}),Pt=Et.getBottomLeft(!0),wn=Et.getTopLeft(!0),bn=Et.getTopRight(!0),In=Et.getBottomRight(!0),Fn;if(!vn||vn.isZero())Fn=[new jt(Pt),new jt(wn),new jt(bn),new jt(In)];else{vn=ue.min(vn,Et.getSize(!0).divide(2));var Dn=vn.width,Un=vn.height,Jn=Dn*le,Hn=Un*le;Fn=[new jt(Pt.add(Dn,0),null,[-Jn,0]),new jt(Pt.subtract(0,Un),[0,Hn]),new jt(wn.add(0,Un),null,[0,-Hn]),new jt(wn.add(Dn,0),[-Jn,0],null),new jt(bn.subtract(Dn,0),null,[Jn,0]),new jt(bn.add(0,Un),[0,-Hn],null),new jt(In.subtract(0,Un),null,[0,Hn]),new jt(In.subtract(Dn,0),[Jn,0])]}return Ie(Fn,!0,qe)},RoundRectangle:"#Rectangle",Ellipse:function(){var qe=arguments,Et=kt._readEllipse(qe);return Ue(Et.center,Et.radius,qe)},Oval:"#Ellipse",Arc:function(){var qe=arguments,Et=ae.readNamed(qe,"from"),vn=ae.readNamed(qe,"through"),Pt=ae.readNamed(qe,"to"),wn=k.getNamed(qe),bn=new Tn(wn&&wn.insert==!1&&Ce.NO_INSERT);return bn.moveTo(Et),bn.arcTo(vn,Pt),bn.set(wn)},RegularPolygon:function(){for(var qe=arguments,Et=ae.readNamed(qe,"center"),vn=k.readNamed(qe,"sides"),Pt=k.readNamed(qe,"radius"),wn=360/vn,bn=vn%3===0,In=new ae(0,bn?-Pt:Pt),Fn=bn?-1:.5,Dn=new Array(vn),Un=0;Un<vn;Un++)Dn[Un]=new jt(Et.add(In.rotate((Un+Fn)*wn)));return Ie(Dn,!0,qe)},Star:function(){for(var qe=arguments,Et=ae.readNamed(qe,"center"),vn=k.readNamed(qe,"points")*2,Pt=k.readNamed(qe,"radius1"),wn=k.readNamed(qe,"radius2"),bn=360/vn,In=new ae(0,-1),Fn=new Array(vn),Dn=0;Dn<vn;Dn++)Fn[Dn]=new jt(Et.add(In.rotate(bn*Dn).multiply(Dn%2?wn:Pt)));return Ie(Fn,!0,qe)}}}});var Zn=Ln.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(_e){this._children=[],this._namedChildren={},this._initialize(_e)||(typeof _e=="string"?this.setPathData(_e):this.addChildren(Array.isArray(_e)?_e:arguments))},insertChildren:function le(_e,Ie){var Ue=Ie,qe=Ue[0];qe&&typeof qe[0]=="number"&&(Ue=[Ue]);for(var Et=Ie.length-1;Et>=0;Et--){var vn=Ue[Et];Ue===Ie&&!(vn instanceof Tn)&&(Ue=k.slice(Ue)),Array.isArray(vn)?Ue[Et]=new Tn({segments:vn,insert:!1}):vn instanceof Zn&&(Ue.splice.apply(Ue,[Et,1].concat(vn.removeChildren())),vn.remove())}return le.base.call(this,_e,Ue)},reduce:function le(_e){for(var Ie=this._children,Ue=Ie.length-1;Ue>=0;Ue--){var qe=Ie[Ue].reduce(_e);qe.isEmpty()&&qe.remove()}if(!Ie.length){var qe=new Tn(Ce.NO_INSERT);return qe.copyAttributes(this),qe.insertAbove(this),this.remove(),qe}return le.base.call(this)},isClosed:function(){for(var le=this._children,_e=0,Ie=le.length;_e<Ie;_e++)if(!le[_e]._closed)return!1;return!0},setClosed:function(le){for(var _e=this._children,Ie=0,Ue=_e.length;Ie<Ue;Ie++)_e[Ie].setClosed(le)},getFirstSegment:function(){var le=this.getFirstChild();return le&&le.getFirstSegment()},getLastSegment:function(){var le=this.getLastChild();return le&&le.getLastSegment()},getCurves:function(){for(var le=this._children,_e=[],Ie=0,Ue=le.length;Ie<Ue;Ie++)k.push(_e,le[Ie].getCurves());return _e},getFirstCurve:function(){var le=this.getFirstChild();return le&&le.getFirstCurve()},getLastCurve:function(){var le=this.getLastChild();return le&&le.getLastCurve()},getArea:function(){for(var le=this._children,_e=0,Ie=0,Ue=le.length;Ie<Ue;Ie++)_e+=le[Ie].getArea();return _e},getLength:function(){for(var le=this._children,_e=0,Ie=0,Ue=le.length;Ie<Ue;Ie++)_e+=le[Ie].getLength();return _e},getPathData:function(le,_e){for(var Ie=this._children,Ue=[],qe=0,Et=Ie.length;qe<Et;qe++){var vn=Ie[qe],Pt=vn._matrix;Ue.push(vn.getPathData(le&&!Pt.isIdentity()?le.appended(Pt):le,_e))}return Ue.join("")},_hitTestChildren:function le(_e,Ie,Ue){return le.base.call(this,_e,Ie.class===Tn||Ie.type==="path"?Ie:k.set({},Ie,{fill:!1}),Ue)},_draw:function(le,_e,Ie,Ue){var qe=this._children;if(qe.length){_e=_e.extend({dontStart:!0,dontFinish:!0}),le.beginPath();for(var Et=0,vn=qe.length;Et<vn;Et++)qe[Et].draw(le,_e,Ue);if(!_e.clip){this._setStyles(le,_e,Ie);var Pt=this._style;Pt.hasFill()&&(le.fill(Pt.getFillRule()),le.shadowColor="rgba(0,0,0,0)"),Pt.hasStroke()&&le.stroke()}}},_drawSelected:function(le,_e,Ie){for(var Ue=this._children,qe=0,Et=Ue.length;qe<Et;qe++){var vn=Ue[qe],Pt=vn._matrix;Ie[vn._id]||vn._drawSelected(le,Pt.isIdentity()?_e:_e.appended(Pt))}}},new function(){function le(_e,Ie){var Ue=_e._children;if(Ie&&!Ue.length)throw new Error("Use a moveTo() command first");return Ue[Ue.length-1]}return k.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(_e){this[_e]=function(){var Ie=le(this,!0);Ie[_e].apply(Ie,arguments)}},{moveTo:function(){var _e=le(this),Ie=_e&&_e.isEmpty()?_e:new Tn(Ce.NO_INSERT);Ie!==_e&&this.addChild(Ie),Ie.moveTo.apply(Ie,arguments)},moveBy:function(){var _e=le(this,!0),Ie=_e&&_e.getLastSegment(),Ue=ae.read(arguments);this.moveTo(Ie?Ue.add(Ie._point):Ue)},closePath:function(_e){le(this,!0).closePath(_e)}})},k.each(["reverse","flatten","simplify","smooth"],function(le){this[le]=function(_e){for(var Ie=this._children,Ue,qe=0,Et=Ie.length;qe<Et;qe++)Ue=Ie[qe][le](_e)||Ue;return Ue}},{}));Ln.inject(new function(){var le=Math.min,_e=Math.max,Ie=Math.abs,Ue={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function qe(kn){return kn._children||[kn]}function Et(kn,zn){var xn=kn.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(zn){for(var Rn=qe(xn),qn=0,nr=Rn.length;qn<nr;qn++){var kn=Rn[qn];!kn._closed&&!kn.isEmpty()&&(kn.closePath(1e-12),kn.getFirstSegment().setHandleIn(0,0),kn.getLastSegment().setHandleOut(0,0))}xn=xn.resolveCrossings().reorient(xn.getFillRule()==="nonzero",!0)}return xn}function vn(kn,zn,xn,Rn,qn){var nr=new Zn(Ce.NO_INSERT);return nr.addChildren(kn,!0),nr=nr.reduce({simplify:zn}),qn&&qn.insert==!1||nr.insertAbove(Rn&&xn.isSibling(Rn)&&xn.getIndex()<Rn.getIndex()?Rn:xn),nr.copyAttributes(xn,!0),nr}function Pt(kn){return kn.hasOverlap()||kn.isCrossing()}function wn(kn,zn,xn,Rn){if(Rn&&(Rn.trace==!1||Rn.stroke)&&/^(subtract|intersect)$/.test(xn))return bn(kn,zn,xn);var qn=Et(kn,!0),nr=zn&&kn!==zn&&Et(zn,!0),er=Ue[xn];er[xn]=!0,nr&&(er.subtract||er.exclude)^(nr.isClockwise()^qn.isClockwise())&&nr.reverse();var fr=Un($n.expand(qn.getIntersections(nr,Pt))),pr=qe(qn),_r=nr&&qe(nr),xr=[],vr=[],Sr;function kr(Jr){for(var oo=0,ro=Jr.length;oo<ro;oo++){var ao=Jr[oo];k.push(xr,ao._segments),k.push(vr,ao.getCurves()),ao._overlapsOnly=!0}}function Nr(Jr){for(var oo=[],ro=0,ao=Jr&&Jr.length;ro<ao;ro++)oo.push(vr[Jr[ro]]);return oo}if(fr.length){kr(pr),_r&&kr(_r);for(var Pr=new Array(vr.length),Ar=0,Ur=vr.length;Ar<Ur;Ar++)Pr[Ar]=vr[Ar].getValues();for(var jr=z.findCurveBoundsCollisions(Pr,Pr,0,!0),Hr={},Ar=0;Ar<vr.length;Ar++){var Kr=vr[Ar],Rr=Kr._path._id,Lr=Hr[Rr]=Hr[Rr]||{};Lr[Kr.getIndex()]={hor:Nr(jr[Ar].hor),ver:Nr(jr[Ar].ver)}}for(var Ar=0,Ur=fr.length;Ar<Ur;Ar++)Hn(fr[Ar]._segment,qn,nr,Hr,er);for(var Ar=0,Ur=xr.length;Ar<Ur;Ar++){var Yr=xr[Ar],eo=Yr._intersection;Yr._winding||Hn(Yr,qn,nr,Hr,er),eo&&eo._overlap||(Yr._path._overlapsOnly=!1)}Sr=tr(xr,er)}else Sr=Dn(_r?pr.concat(_r):pr.slice(),function(Jr){return!!er[Jr]});return vn(Sr,!0,kn,zn,Rn)}function bn(kn,zn,xn){var Rn=Et(kn),qn=Et(zn),nr=Rn.getIntersections(qn,Pt),er=xn==="subtract",fr=xn==="divide",pr={},_r=[];function xr(kr){if(!pr[kr._id]&&(fr||qn.contains(kr.getPointAt(kr.getLength()/2))^er))return _r.unshift(kr),pr[kr._id]=!0}for(var vr=nr.length-1;vr>=0;vr--){var Sr=nr[vr].split();Sr&&(xr(Sr)&&Sr.getFirstSegment().setHandleIn(0,0),Rn.getLastSegment().setHandleOut(0,0))}return xr(Rn),vn(_r,!1,kn,zn)}function In(kn,zn){for(var xn=kn;xn;){if(xn===zn)return;xn=xn._previous}for(;kn._next&&kn._next!==zn;)kn=kn._next;if(!kn._next){for(;zn._previous;)zn=zn._previous;kn._next=zn,zn._previous=kn}}function Fn(kn){for(var zn=kn.length-1;zn>=0;zn--)kn[zn].clearHandles()}function Dn(kn,zn,xn){var Rn=kn&&kn.length;if(Rn){var qn=k.each(kn,function(jr,Hr){this[jr._id]={container:null,winding:jr.isClockwise()?1:-1,index:Hr}},{}),nr=kn.slice().sort(function(jr,Hr){return Ie(Hr.getArea())-Ie(jr.getArea())}),er=nr[0],fr=z.findItemBoundsCollisions(nr,null,re.GEOMETRIC_EPSILON);xn==null&&(xn=er.isClockwise());for(var pr=0;pr<Rn;pr++){var _r=nr[pr],xr=qn[_r._id],vr=0,Sr=fr[pr];if(Sr){for(var kr=null,Nr=Sr.length-1;Nr>=0;Nr--)if(Sr[Nr]<pr){kr=kr||_r.getInteriorPoint();var Pr=nr[Sr[Nr]];if(Pr.contains(kr)){var Ar=qn[Pr._id];vr=Ar.winding,xr.winding+=vr,xr.container=Ar.exclude?Ar.container:Pr;break}}}if(zn(xr.winding)===zn(vr))xr.exclude=!0,kn[xr.index]=null;else{var Ur=xr.container;_r.setClockwise(Ur?!Ur.isClockwise():xn)}}}return kn}function Un(kn,zn,xn){var Rn=zn&&[],qn=1e-8,nr=1-qn,er=!1,fr=xn||[],pr=xn&&{},_r,xr,vr;function Sr(oo){return oo._path._id+"."+oo._segment1._index}for(var kr=(xn&&xn.length)-1;kr>=0;kr--){var Nr=xn[kr];Nr._path&&(pr[Sr(Nr)]=!0)}for(var kr=kn.length-1;kr>=0;kr--){var Pr=kn[kr],Ar=Pr._time,Ur=Ar,jr=zn&&!zn(Pr),Nr=Pr._curve,Hr;if(Nr&&(Nr!==xr?(er=!Nr.hasHandles()||pr&&pr[Sr(Nr)],_r=[],vr=null,xr=Nr):vr>=qn&&(Ar/=vr)),jr){_r&&_r.push(Pr);continue}else zn&&Rn.unshift(Pr);if(vr=Ur,Ar<qn)Hr=Nr._segment1;else if(Ar>nr)Hr=Nr._segment2;else{var Kr=Nr.divideAtTime(Ar,!0);er&&fr.push(Nr,Kr),Hr=Kr._segment1;for(var Rr=_r.length-1;Rr>=0;Rr--){var Lr=_r[Rr];Lr._time=(Lr._time-Ar)/(1-Ar)}}Pr._setSegment(Hr);var Yr=Hr._intersection,eo=Pr._intersection;if(Yr){In(Yr,eo);for(var Jr=Yr;Jr;)In(Jr._intersection,Yr),Jr=Jr._next}else Hr._intersection=eo}return xn||Fn(fr),Rn||kn}function Jn(kn,zn,xn,Rn,qn){var nr=Array.isArray(zn)?zn:zn[xn?"hor":"ver"],er=xn?1:0,fr=er^1,pr=[kn.x,kn.y],_r=pr[er],xr=pr[fr],vr=1e-9,Sr=1e-6,kr=_r-vr,Nr=_r+vr,Pr=0,Ar=0,Ur=0,jr=0,Hr=!1,Kr=!1,Rr=1,Lr=[],Yr,eo;function Jr(_o){var So=_o[fr+0],Io=_o[fr+6];if(!(xr<le(So,Io)||xr>_e(So,Io))){var Eo=_o[er+0],dr=_o[er+2],Or=_o[er+4],yr=_o[er+6];if(So===Io){(Eo<Nr&&yr>kr||yr<Nr&&Eo>kr)&&(Hr=!0);return}var Tr=xr===So?0:xr===Io||kr>_e(Eo,dr,Or,yr)||Nr<le(Eo,dr,Or,yr)?1:Mn.solveCubic(_o,fr,xr,Lr,0,1)>0?Lr[0]:1,Ir=Tr===0?Eo:Tr===1?yr:Mn.getPoint(_o,Tr)[xn?"y":"x"],$r=So>Io?1:-1,Mr=Yr[fr]>Yr[fr+6]?1:-1,zr=Yr[er+6];return xr!==So?(Ir<kr?Ur+=$r:Ir>Nr?jr+=$r:Hr=!0,Ir>_r-Sr&&Ir<_r+Sr&&(Rr/=2)):($r!==Mr?Eo<kr?Ur+=$r:Eo>Nr&&(jr+=$r):Eo!=zr&&(zr<Nr&&Ir>Nr?(jr+=$r,Hr=!0):zr>kr&&Ir<kr&&(Ur+=$r,Hr=!0)),Rr/=4),Yr=_o,!qn&&Ir>kr&&Ir<Nr&&Mn.getTangent(_o,Tr)[xn?"x":"y"]===0&&Jn(kn,zn,!xn,Rn,!0)}}function oo(_o){var So=_o[fr+0],Io=_o[fr+2],Eo=_o[fr+4],dr=_o[fr+6];if(xr<=_e(So,Io,Eo,dr)&&xr>=le(So,Io,Eo,dr)){for(var Or=_o[er+0],yr=_o[er+2],Tr=_o[er+4],Ir=_o[er+6],$r=kr>_e(Or,yr,Tr,Ir)||Nr<le(Or,yr,Tr,Ir)?[_o]:Mn.getMonoCurves(_o,xn),Mr,zr=0,Gr=$r.length;zr<Gr;zr++)if(Mr=Jr($r[zr]))return Mr}}for(var ro=0,ao=nr.length;ro<ao;ro++){var lo=nr[ro],io=lo._path,Xr=lo.getValues(),yo;if((!ro||nr[ro-1]._path!==io)&&(Yr=null,io._closed||(eo=Mn.getValues(io.getLastCurve().getSegment2(),lo.getSegment1(),null,!Rn),eo[fr]!==eo[fr+6]&&(Yr=eo)),!Yr)){Yr=Xr;for(var ko=io.getLastCurve();ko&&ko!==lo;){var xo=ko.getValues();if(xo[fr]!==xo[fr+6]){Yr=xo;break}ko=ko.getPrevious()}}if(yo=oo(Xr))return yo;if(ro+1===ao||nr[ro+1]._path!==io){if(eo&&(yo=oo(eo)))return yo;Hr&&!Ur&&!jr&&(Ur=jr=io.isClockwise(Rn)^xn?1:-1),Pr+=Ur,Ar+=jr,Ur=jr=0,Hr&&(Kr=!0,Hr=!1),eo=null}}return Pr=Ie(Pr),Ar=Ie(Ar),{winding:_e(Pr,Ar),windingL:Pr,windingR:Ar,quality:Rr,onPath:Kr}}function Hn(kn,zn,xn,Rn,qn){var nr=[],er=kn,fr=0,vr;do{var pr=kn.getCurve();if(pr){var _r=pr.getLength();nr.push({segment:kn,curve:pr,length:_r}),fr+=_r}kn=kn.getNext()}while(kn&&!kn._intersection&&kn!==er);for(var xr=[.5,.25,.75],vr={winding:0,quality:-1},Sr=.001,kr=1-Sr,Nr=0;Nr<xr.length&&vr.quality<.5;Nr++)for(var _r=fr*xr[Nr],Pr=0,Ar=nr.length;Pr<Ar;Pr++){var Ur=nr[Pr],jr=Ur.length;if(_r<=jr){var pr=Ur.curve,Hr=pr._path,Kr=Hr._parent,Rr=Kr instanceof Zn?Kr:Hr,Lr=re.clamp(pr.getTimeAt(_r),Sr,kr),Yr=pr.getPointAtTime(Lr),eo=Ie(pr.getTangentAtTime(Lr).y)<Math.SQRT1_2,Jr=null;if(qn.subtract&&xn){var oo=Rr===zn?xn:zn,ro=oo._getWinding(Yr,eo,!0);if(Rr===zn&&ro.winding||Rr===xn&&!ro.winding){if(ro.quality<1)continue;Jr={winding:0,quality:1}}}Jr=Jr||Jn(Yr,Rn[Hr._id][pr.getIndex()],eo,!0),Jr.quality>vr.quality&&(vr=Jr);break}_r-=jr}for(var Pr=nr.length-1;Pr>=0;Pr--)nr[Pr].segment._winding=vr}function tr(kn,zn){var xn=[],Rn;function qn(ao){var lo;return!!(ao&&!ao._visited&&(!zn||zn[(lo=ao._winding||{}).winding]&&!(zn.unite&&lo.winding===2&&lo.windingL&&lo.windingR)))}function nr(ao){if(ao){for(var lo=0,io=Rn.length;lo<io;lo++)if(ao===Rn[lo])return!0}return!1}function er(ao){for(var lo=ao._segments,io=0,Xr=lo.length;io<Xr;io++)lo[io]._visited=!0}function fr(ao,lo){var io=ao._intersection,Xr=io,yo=[];lo&&(Rn=[ao]);function ko(xo,_o){for(;xo&&xo!==_o;){var So=xo._segment,Io=So&&So._path;if(Io){var Eo=So.getNext()||Io.getFirstSegment(),dr=Eo._intersection;So!==ao&&(nr(So)||nr(Eo)||Eo&&qn(So)&&(qn(Eo)||dr&&qn(dr._segment)))&&yo.push(So),lo&&Rn.push(So)}xo=xo._next}}if(io){for(ko(io);io&&io._previous;)io=io._previous;ko(io,Xr)}return yo}kn.sort(function(ao,lo){var io=ao._intersection,Xr=lo._intersection,yo=!!(io&&io._overlap),ko=!!(Xr&&Xr._overlap),xo=ao._path,_o=lo._path;return yo^ko?yo?1:-1:!io^!Xr?io?1:-1:xo!==_o?xo._id-_o._id:ao._index-lo._index});for(var pr=0,_r=kn.length;pr<_r;pr++){var xr=kn[pr],vr=qn(xr),Sr=null,kr=!1,Nr=!0,Pr=[],Ar,Ur,jr;if(vr&&xr._path._overlapsOnly){var Hr=xr._path,Kr=xr._intersection._segment._path;Hr.compare(Kr)&&(Hr.getArea()&&xn.push(Hr.clone(!1)),er(Hr),er(Kr),vr=!1)}for(;vr;){var Rr=!Sr,Lr=fr(xr,Rr),Yr=Lr.shift(),kr=!Rr&&(nr(xr)||nr(Yr)),eo=!kr&&Yr;if(Rr&&(Sr=new Tn(Ce.NO_INSERT),Ar=null),kr){(xr.isFirst()||xr.isLast())&&(Nr=xr._path._closed),xr._visited=!0;break}if(eo&&Ar&&(Pr.push(Ar),Ar=null),Ar||(eo&&Lr.push(xr),Ar={start:Sr._segments.length,crossings:Lr,visited:Ur=[],handleIn:jr}),eo&&(xr=Yr),!qn(xr)){Sr.removeSegments(Ar.start);for(var Jr=0,oo=Ur.length;Jr<oo;Jr++)Ur[Jr]._visited=!1;Ur.length=0;do xr=Ar&&Ar.crossings.shift(),(!xr||!xr._path)&&(xr=null,Ar=Pr.pop(),Ar&&(Ur=Ar.visited,jr=Ar.handleIn));while(Ar&&!qn(xr));if(!xr)break}var ro=xr.getNext();Sr.add(new jt(xr._point,jr,ro&&xr._handleOut)),xr._visited=!0,Ur.push(xr),xr=ro||xr._path.getFirstSegment(),jr=ro&&ro._handleIn}kr&&(Nr&&(Sr.getFirstSegment().setHandleIn(jr),Sr.setClosed(Nr)),Sr.getArea()!==0&&xn.push(Sr))}return xn}return{_getWinding:function(kn,zn,xn){return Jn(kn,this.getCurves(),zn,xn)},unite:function(kn,zn){return wn(this,kn,"unite",zn)},intersect:function(kn,zn){return wn(this,kn,"intersect",zn)},subtract:function(kn,zn){return wn(this,kn,"subtract",zn)},exclude:function(kn,zn){return wn(this,kn,"exclude",zn)},divide:function(kn,zn){return zn&&(zn.trace==!1||zn.stroke)?bn(this,kn,"divide"):vn([this.subtract(kn,zn),this.intersect(kn,zn)],!0,this,kn,zn)},resolveCrossings:function(){var kn=this._children,zn=kn||[this];function xn(Ar,Ur){var jr=Ar&&Ar._intersection;return jr&&jr._overlap&&jr._path===Ur}var Rn=!1,qn=!1,nr=this.getIntersections(null,function(Ar){return Ar.hasOverlap()&&(Rn=!0)||Ar.isCrossing()&&(qn=!0)}),er=Rn&&qn&&[];if(nr=$n.expand(nr),Rn)for(var fr=Un(nr,function(Ar){return Ar.hasOverlap()},er),pr=fr.length-1;pr>=0;pr--){var _r=fr[pr],xr=_r._path,vr=_r._segment,Sr=vr.getPrevious(),kr=vr.getNext();xn(Sr,xr)&&xn(kr,xr)&&(vr.remove(),Sr._handleOut._set(0,0),kr._handleIn._set(0,0),Sr!==vr&&!Sr.getCurve().hasLength()&&(kr._handleIn.set(Sr._handleIn),Sr.remove()))}qn&&(Un(nr,Rn&&function(Ar){var Ur=Ar.getCurve(),jr=Ar.getSegment(),Hr=Ar._intersection,Kr=Hr._curve,Rr=Hr._segment;if(Ur&&Kr&&Ur._path&&Kr._path)return!0;jr&&(jr._intersection=null),Rr&&(Rr._intersection=null)},er),er&&Fn(er),zn=tr(k.each(zn,function(Ar){k.push(this,Ar._segments)},[])));var Nr=zn.length,Pr;return Nr>1&&kn?(zn!==kn&&this.setChildren(zn),Pr=this):Nr===1&&!kn&&(zn[0]!==this&&this.setSegments(zn[0].removeSegments()),Pr=this),Pr||(Pr=new Zn(Ce.NO_INSERT),Pr.addChildren(zn),Pr=Pr.reduce(),Pr.copyAttributes(this),this.replaceWith(Pr)),Pr},reorient:function(kn,zn){var xn=this._children;return xn&&xn.length?this.setChildren(Dn(this.removeChildren(),function(Rn){return!!(kn?Rn:Rn&1)},zn)):zn!==r&&this.setClockwise(zn),this},getInteriorPoint:function(){var kn=this.getBounds(),zn=kn.getCenter(!0);if(!this.contains(zn)){for(var xn=this.getCurves(),Rn=zn.y,qn=[],nr=[],er=0,fr=xn.length;er<fr;er++){var pr=xn[er].getValues(),_r=pr[1],xr=pr[3],vr=pr[5],Sr=pr[7];if(Rn>=le(_r,xr,vr,Sr)&&Rn<=_e(_r,xr,vr,Sr))for(var kr=Mn.getMonoCurves(pr),Nr=0,Pr=kr.length;Nr<Pr;Nr++){var Ar=kr[Nr],Ur=Ar[1],jr=Ar[7];if(Ur!==jr&&(Rn>=Ur&&Rn<=jr||Rn>=jr&&Rn<=Ur)){var Hr=Rn===Ur?Ar[0]:Rn===jr?Ar[6]:Mn.solveCubic(Ar,1,Rn,nr,0,1)===1?Mn.getPoint(Ar,nr[0]).x:(Ar[0]+Ar[6])/2;qn.push(Hr)}}}qn.length>1&&(qn.sort(function(Kr,Rr){return Kr-Rr}),zn.x=(qn[0]+qn[1])/2)}return zn}}});var Qn=k.extend({_class:"PathFlattener",initialize:function(le,_e,Ie,Ue,qe){var Et=[],vn=[],Pt=0,wn=1/(Ie||32),bn=le._segments,In=bn[0],Fn;function Dn(tr,kn){var zn=Mn.getValues(tr,kn,qe);Et.push(zn),Un(zn,tr._index,0,1)}function Un(tr,kn,zn,xn){if(xn-zn>wn&&!(Ue&&Mn.isStraight(tr))&&!Mn.isFlatEnough(tr,_e||.25)){var Rn=Mn.subdivide(tr,.5),qn=(zn+xn)/2;Un(Rn[0],kn,zn,qn),Un(Rn[1],kn,qn,xn)}else{var nr=tr[6]-tr[0],er=tr[7]-tr[1],fr=Math.sqrt(nr*nr+er*er);fr>0&&(Pt+=fr,vn.push({offset:Pt,curve:tr,index:kn,time:xn}))}}for(var Jn=1,Hn=bn.length;Jn<Hn;Jn++)Fn=bn[Jn],Dn(In,Fn),In=Fn;le._closed&&Dn(Fn||In,bn[0]),this.curves=Et,this.parts=vn,this.length=Pt,this.index=0},_get:function(le){for(var _e=this.parts,Ie=_e.length,Ue,qe=this.index;Ue=qe,!(!qe||_e[--qe].offset<le););for(;Ue<Ie;Ue++){var Et=_e[Ue];if(Et.offset>=le){this.index=Ue;var vn=_e[Ue-1],Pt=vn&&vn.index===Et.index?vn.time:0,wn=vn?vn.offset:0;return{index:Et.index,time:Pt+(Et.time-Pt)*(le-wn)/(Et.offset-wn)}}}return{index:_e[Ie-1].index,time:1}},drawPart:function(le,_e,Ie){for(var Ue=this._get(_e),qe=this._get(Ie),Et=Ue.index,vn=qe.index;Et<=vn;Et++){var Pt=Mn.getPart(this.curves[Et],Et===Ue.index?Ue.time:0,Et===qe.index?qe.time:1);Et===Ue.index&&le.moveTo(Pt[0],Pt[1]),le.bezierCurveTo.apply(le,Pt.slice(2))}}},k.each(Mn._evaluateMethods,function(le){this[le+"At"]=function(_e){var Ie=this._get(_e);return Mn[le](this.curves[Ie.index],Ie.time)}},{})),Pn=k.extend({initialize:function(le){for(var _e=this.points=[],Ie=le._segments,Ue=le._closed,qe=0,Et,vn=Ie.length;qe<vn;qe++){var Pt=Ie[qe].point;(!Et||!Et.equals(Pt))&&_e.push(Et=Pt.clone())}Ue&&(_e.unshift(_e[_e.length-1]),_e.push(_e[1])),this.closed=Ue},fit:function(le){var _e=this.points,Ie=_e.length,Ue=null;return Ie>0&&(Ue=[new jt(_e[0])],Ie>1&&(this.fitCubic(Ue,le,0,Ie-1,_e[1].subtract(_e[0]),_e[Ie-2].subtract(_e[Ie-1])),this.closed&&(Ue.shift(),Ue.pop()))),Ue},fitCubic:function(le,_e,Ie,Ue,qe,Et){var vn=this.points;if(Ue-Ie===1){var Pt=vn[Ie],wn=vn[Ue],bn=Pt.getDistance(wn)/3;this.addCurve(le,[Pt,Pt.add(qe.normalize(bn)),wn.add(Et.normalize(bn)),wn]);return}for(var In=this.chordLengthParameterize(Ie,Ue),Fn=Math.max(_e,_e*_e),Dn,Un=!0,Jn=0;Jn<=4;Jn++){var Hn=this.generateBezier(Ie,Ue,In,qe,Et),tr=this.findMaxError(Ie,Ue,Hn,In);if(tr.error<_e&&Un){this.addCurve(le,Hn);return}if(Dn=tr.index,tr.error>=Fn)break;Un=this.reparameterize(Ie,Ue,In,Hn),Fn=tr.error}var kn=vn[Dn-1].subtract(vn[Dn+1]);this.fitCubic(le,_e,Ie,Dn,qe,kn),this.fitCubic(le,_e,Dn,Ue,kn.negate(),Et)},addCurve:function(le,_e){var Ie=le[le.length-1];Ie.setHandleOut(_e[1].subtract(_e[0])),le.push(new jt(_e[3],_e[2].subtract(_e[3])))},generateBezier:function(le,_e,Ie,Ue,qe){for(var Et=1e-12,vn=Math.abs,Pt=this.points,wn=Pt[le],bn=Pt[_e],In=[[0,0],[0,0]],Fn=[0,0],Dn=0,Un=_e-le+1;Dn<Un;Dn++){var Jn=Ie[Dn],Hn=1-Jn,tr=3*Jn*Hn,kn=Hn*Hn*Hn,zn=tr*Hn,xn=tr*Jn,Rn=Jn*Jn*Jn,qn=Ue.normalize(zn),nr=qe.normalize(xn),er=Pt[le+Dn].subtract(wn.multiply(kn+zn)).subtract(bn.multiply(xn+Rn));In[0][0]+=qn.dot(qn),In[0][1]+=qn.dot(nr),In[1][0]=In[0][1],In[1][1]+=nr.dot(nr),Fn[0]+=qn.dot(er),Fn[1]+=nr.dot(er)}var fr=In[0][0]*In[1][1]-In[1][0]*In[0][1],pr,_r;if(vn(fr)>Et){var xr=In[0][0]*Fn[1]-In[1][0]*Fn[0],vr=Fn[0]*In[1][1]-Fn[1]*In[0][1];pr=vr/fr,_r=xr/fr}else{var Sr=In[0][0]+In[0][1],kr=In[1][0]+In[1][1];pr=_r=vn(Sr)>Et?Fn[0]/Sr:vn(kr)>Et?Fn[1]/kr:0}var Nr=bn.getDistance(wn),Pr=Et*Nr,Ar,Ur;if(pr<Pr||_r<Pr)pr=_r=Nr/3;else{var jr=bn.subtract(wn);Ar=Ue.normalize(pr),Ur=qe.normalize(_r),Ar.dot(jr)-Ur.dot(jr)>Nr*Nr&&(pr=_r=Nr/3,Ar=Ur=null)}return[wn,wn.add(Ar||Ue.normalize(pr)),bn.add(Ur||qe.normalize(_r)),bn]},reparameterize:function(le,_e,Ie,Ue){for(var qe=le;qe<=_e;qe++)Ie[qe-le]=this.findRoot(Ue,this.points[qe],Ie[qe-le]);for(var qe=1,Et=Ie.length;qe<Et;qe++)if(Ie[qe]<=Ie[qe-1])return!1;return!0},findRoot:function(le,_e,Ie){for(var Ue=[],qe=[],Et=0;Et<=2;Et++)Ue[Et]=le[Et+1].subtract(le[Et]).multiply(3);for(var Et=0;Et<=1;Et++)qe[Et]=Ue[Et+1].subtract(Ue[Et]).multiply(2);var vn=this.evaluate(3,le,Ie),Pt=this.evaluate(2,Ue,Ie),wn=this.evaluate(1,qe,Ie),bn=vn.subtract(_e),In=Pt.dot(Pt)+bn.dot(wn);return re.isMachineZero(In)?Ie:Ie-bn.dot(Pt)/In},evaluate:function(le,_e,Ie){for(var Ue=_e.slice(),qe=1;qe<=le;qe++)for(var Et=0;Et<=le-qe;Et++)Ue[Et]=Ue[Et].multiply(1-Ie).add(Ue[Et+1].multiply(Ie));return Ue[0]},chordLengthParameterize:function(le,_e){for(var Ie=[0],Ue=le+1;Ue<=_e;Ue++)Ie[Ue-le]=Ie[Ue-le-1]+this.points[Ue].getDistance(this.points[Ue-1]);for(var Ue=1,qe=_e-le;Ue<=qe;Ue++)Ie[Ue]/=Ie[qe];return Ie},findMaxError:function(le,_e,Ie,Ue){for(var qe=Math.floor((_e-le+1)/2),Et=0,vn=le+1;vn<_e;vn++){var Pt=this.evaluate(3,Ie,Ue[vn-le]),wn=Pt.subtract(this.points[vn]),bn=wn.x*wn.x+wn.y*wn.y;bn>=Et&&(Et=bn,qe=vn)}return{error:Et,index:qe}}}),Wn=Ce.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(_e){this._content="",this._lines=[];var Ie=_e&&k.isPlainObject(_e)&&_e.x===r&&_e.y===r;this._initialize(Ie&&_e,!Ie&&ae.read(arguments))},_equals:function(le){return this._content===le._content},copyContent:function(le){this.setContent(le._content)},getContent:function(){return this._content},setContent:function(le){this._content=""+le,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),ur=Wn.extend({_class:"PointText",initialize:function(){Wn.apply(this,arguments)},getPoint:function(){var le=this._matrix.getTranslation();return new de(le.x,le.y,this,"setPoint")},setPoint:function(){var le=ae.read(arguments);this.translate(le.subtract(this._matrix.getTranslation()))},_draw:function(le,_e,Ie){if(this._content){this._setStyles(le,_e,Ie);var Ue=this._lines,qe=this._style,Et=qe.hasFill(),vn=qe.hasStroke(),Pt=qe.getLeading(),wn=le.shadowColor;le.font=qe.getFontStyle(),le.textAlign=qe.getJustification();for(var bn=0,In=Ue.length;bn<In;bn++){le.shadowColor=wn;var Fn=Ue[bn];Et&&(le.fillText(Fn,0,0),le.shadowColor="rgba(0,0,0,0)"),vn&&le.strokeText(Fn,0,0),le.translate(0,Pt)}}},_getBounds:function(le,_e){var Ie=this._style,Ue=this._lines,qe=Ue.length,Et=Ie.getJustification(),vn=Ie.getLeading(),Pt=this.getView().getTextWidth(Ie.getFontStyle(),Ue),wn=0;Et!=="left"&&(wn-=Pt/(Et==="center"?2:1));var bn=new he(wn,qe?-.75*vn:0,Pt,qe*vn);return le?le._transformBounds(bn,bn):bn}}),hr=k.extend(new function(){var le={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},_e={},Ie={transparent:[0,0,0,0]},Ue;function qe(Pt){var wn=Pt.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||Pt.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),bn="rgb",In;if(wn){var Fn=wn[4]?4:3;In=new Array(Fn);for(var Dn=0;Dn<Fn;Dn++){var Un=wn[Dn+1];In[Dn]=parseInt(Un.length==1?Un+Un:Un,16)/255}}else if(wn=Pt.match(/^(rgb|hsl)a?\((.*)\)$/)){bn=wn[1],In=wn[2].trim().split(/[,\s]+/g);for(var Jn=bn==="hsl",Dn=0,Hn=Math.min(In.length,4);Dn<Hn;Dn++){var tr=In[Dn],Un=parseFloat(tr);if(Jn)if(Dn===0){var kn=tr.match(/([a-z]*)$/)[1];Un*={turn:360,rad:180/Math.PI,grad:.9}[kn]||1}else Dn<3&&(Un/=100);else Dn<3&&(Un/=/%$/.test(tr)?100:255);In[Dn]=Un}}else{var zn=Ie[Pt];if(!zn)if(g){Ue||(Ue=rr.getContext(1,1,{willReadFrequently:!0}),Ue.globalCompositeOperation="copy"),Ue.fillStyle="rgba(0,0,0,0)",Ue.fillStyle=Pt,Ue.fillRect(0,0,1,1);var xn=Ue.getImageData(0,0,1,1).data;zn=Ie[Pt]=[xn[0]/255,xn[1]/255,xn[2]/255]}else zn=[0,0,0];In=zn.slice()}return[bn,In]}var Et=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],vn={"rgb-hsb":function(Pt,wn,bn){var In=Math.max(Pt,wn,bn),Fn=Math.min(Pt,wn,bn),Dn=In-Fn,Un=Dn===0?0:(In==Pt?(wn-bn)/Dn+(wn<bn?6:0):In==wn?(bn-Pt)/Dn+2:(Pt-wn)/Dn+4)*60;return[Un,In===0?0:Dn/In,In]},"hsb-rgb":function(Pt,wn,bn){Pt=(Pt/60%6+6)%6;var Fn=Math.floor(Pt),In=Pt-Fn,Fn=Et[Fn],Dn=[bn,bn*(1-wn),bn*(1-wn*In),bn*(1-wn*(1-In))];return[Dn[Fn[0]],Dn[Fn[1]],Dn[Fn[2]]]},"rgb-hsl":function(Pt,wn,bn){var In=Math.max(Pt,wn,bn),Fn=Math.min(Pt,wn,bn),Dn=In-Fn,Un=Dn===0,Jn=Un?0:(In==Pt?(wn-bn)/Dn+(wn<bn?6:0):In==wn?(bn-Pt)/Dn+2:(Pt-wn)/Dn+4)*60,Hn=(In+Fn)/2,tr=Un?0:Hn<.5?Dn/(In+Fn):Dn/(2-In-Fn);return[Jn,tr,Hn]},"hsl-rgb":function(Pt,wn,bn){if(Pt=(Pt/360%1+1)%1,wn===0)return[bn,bn,bn];for(var In=[Pt+1/3,Pt,Pt-1/3],Fn=bn<.5?bn*(1+wn):bn+wn-bn*wn,Dn=2*bn-Fn,Un=[],Jn=0;Jn<3;Jn++){var Hn=In[Jn];Hn<0&&(Hn+=1),Hn>1&&(Hn-=1),Un[Jn]=6*Hn<1?Dn+(Fn-Dn)*6*Hn:2*Hn<1?Fn:3*Hn<2?Dn+(Fn-Dn)*(2/3-Hn)*6:Dn}return Un},"rgb-gray":function(Pt,wn,bn){return[Pt*.2989+wn*.587+bn*.114]},"gray-rgb":function(Pt){return[Pt,Pt,Pt]},"gray-hsb":function(Pt){return[0,0,Pt]},"gray-hsl":function(Pt){return[0,0,Pt]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return k.each(le,function(Pt,wn){_e[wn]=[],k.each(Pt,function(bn,In){var Fn=k.capitalize(bn),Dn=/^(hue|saturation)$/.test(bn),Un=_e[wn][In]=wn==="gradient"?bn==="gradient"?function(Jn){var Hn=this._components[0];return Jn=Vn.read(Array.isArray(Jn)?Jn:arguments,0,{readNull:!0}),Hn!==Jn&&(Hn&&Hn._removeOwner(this),Jn&&Jn._addOwner(this)),Jn}:function(){return ae.read(arguments,0,{readNull:bn==="highlight",clone:!0})}:function(Jn){return Jn==null||isNaN(Jn)?0:+Jn};this["get"+Fn]=function(){return this._type===wn||Dn&&/^hs[bl]$/.test(this._type)?this._components[In]:this._convert(wn)[In]},this["set"+Fn]=function(Jn){this._type!==wn&&!(Dn&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(wn),this._properties=le[wn],this._type=wn),this._components[In]=Un.call(this,Jn),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function Pt(wn){var bn=arguments,In=this.__read,Fn=0,Dn,Un,Jn,Hn;Array.isArray(wn)&&(bn=wn,wn=bn[0]);var tr=wn!=null&&typeof wn;if(tr==="string"&&wn in le&&(Dn=wn,wn=bn[1],Array.isArray(wn)?(Un=wn,Jn=bn[2]):(In&&(Fn=1),bn=k.slice(bn,1),tr=typeof wn)),!Un){if(Hn=tr==="number"?bn:tr==="object"&&wn.length!=null?wn:null,Hn){Dn||(Dn=Hn.length>=3?"rgb":"gray");var kn=le[Dn].length;Jn=Hn[kn],In&&(Fn+=Hn===arguments?kn+(Jn!=null?1:0):1),Hn.length>kn&&(Hn=k.slice(Hn,0,kn))}else if(tr==="string"){var zn=qe(wn);Dn=zn[0],Un=zn[1],Un.length===4&&(Jn=Un[3],Un.length--)}else if(tr==="object")if(wn.constructor===Pt){if(Dn=wn._type,Un=wn._components.slice(),Jn=wn._alpha,Dn==="gradient")for(var xn=1,Rn=Un.length;xn<Rn;xn++){var qn=Un[xn];qn&&(Un[xn]=qn.clone())}}else if(wn.constructor===Vn)Dn="gradient",Hn=bn;else{Dn="hue"in wn?"lightness"in wn?"hsl":"hsb":"gradient"in wn||"stops"in wn||"radial"in wn?"gradient":"gray"in wn?"gray":"rgb";var nr=le[Dn],er=_e[Dn];this._components=Un=[];for(var xn=0,Rn=nr.length;xn<Rn;xn++){var fr=wn[nr[xn]];fr==null&&!xn&&Dn==="gradient"&&"stops"in wn&&(fr={stops:wn.stops,radial:wn.radial}),fr=er[xn].call(this,fr),fr!=null&&(Un[xn]=fr)}Jn=wn.alpha}In&&Dn&&(Fn=1)}if(this._type=Dn||"rgb",!Un){this._components=Un=[];for(var er=_e[this._type],xn=0,Rn=er.length;xn<Rn;xn++){var fr=er[xn].call(this,Hn&&Hn[xn]);fr!=null&&(Un[xn]=fr)}}return this._components=Un,this._properties=le[this._type],this._alpha=Jn,In&&(this.__read=Fn),this},set:"#initialize",_serialize:function(Pt,wn){var bn=this.getComponents();return k.serialize(/^(gray|rgb)$/.test(this._type)?bn:[this._type].concat(bn),Pt,!0,wn)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(Pt){var wn;return this._type===Pt?this._components.slice():(wn=vn[this._type+"-"+Pt])?wn.apply(this,this._components):vn["rgb-"+Pt].apply(this,vn[this._type+"-rgb"].apply(this,this._components))},convert:function(Pt){return new hr(Pt,this._convert(Pt),this._alpha)},getType:function(){return this._type},setType:function(Pt){this._components=this._convert(Pt),this._properties=le[Pt],this._type=Pt},getComponents:function(){var Pt=this._components.slice();return this._alpha!=null&&Pt.push(this._alpha),Pt},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(Pt){this._alpha=Pt==null?null:Math.min(Math.max(Pt,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(Pt){var wn=k.isPlainValue(Pt,!0)?hr.read(arguments):Pt;return wn===this||wn&&this._class===wn._class&&this._type===wn._type&&this.getAlpha()===wn.getAlpha()&&k.equals(this._components,wn._components)||!1},toString:function(){for(var Pt=this._properties,wn=[],bn=this._type==="gradient",In=j.instance,Fn=0,Dn=Pt.length;Fn<Dn;Fn++){var Un=this._components[Fn];Un!=null&&wn.push(Pt[Fn]+": "+(bn?Un:In.number(Un)))}return this._alpha!=null&&wn.push("alpha: "+In.number(this._alpha)),"{ "+wn.join(", ")+" }"},toCSS:function(Pt){var wn=this._convert("rgb"),bn=Pt||this._alpha==null?1:this._alpha;function In(Fn){return Math.round((Fn<0?0:Fn>1?1:Fn)*255)}return wn=[In(wn[0]),In(wn[1]),In(wn[2])],bn<1&&wn.push(bn<0?0:bn),Pt?"#"+((1<<24)+(wn[0]<<16)+(wn[1]<<8)+wn[2]).toString(16).slice(1):(wn.length==4?"rgba(":"rgb(")+wn.join(",")+")"},toCanvasStyle:function(Pt,wn){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var bn=this._components,In=bn[0],Fn=In._stops,Dn=bn[1],Un=bn[2],Jn=bn[3],Hn=wn&&wn.inverted(),tr;if(Hn&&(Dn=Hn._transformPoint(Dn),Un=Hn._transformPoint(Un),Jn&&(Jn=Hn._transformPoint(Jn))),In._radial){var kn=Un.getDistance(Dn);if(Jn){var zn=Jn.subtract(Dn);zn.getLength()>kn&&(Jn=Dn.add(zn.normalize(kn-.1)))}var xn=Jn||Dn;tr=Pt.createRadialGradient(xn.x,xn.y,0,Dn.x,Dn.y,kn)}else tr=Pt.createLinearGradient(Dn.x,Dn.y,Un.x,Un.y);for(var Rn=0,qn=Fn.length;Rn<qn;Rn++){var nr=Fn[Rn],er=nr._offset;tr.addColorStop(er??Rn/(qn-1),nr._color.toCanvasStyle())}return this._canvasStyle=tr},transform:function(Pt){if(this._type==="gradient"){for(var wn=this._components,bn=1,In=wn.length;bn<In;bn++){var Fn=wn[bn];Pt._transformPoint(Fn,Fn,!0)}this._changed()}},statics:{_types:le,random:function(){var Pt=Math.random;return new hr(Pt(),Pt(),Pt())},_setOwner:function(Pt,wn,bn){return Pt&&(Pt._owner&&wn&&Pt._owner!==wn&&(Pt=Pt.clone()),!Pt._owner^!wn&&(Pt._owner=wn||null,Pt._setter=bn||null)),Pt}}})},new function(){var le={add:function(_e,Ie){return _e+Ie},subtract:function(_e,Ie){return _e-Ie},multiply:function(_e,Ie){return _e*Ie},divide:function(_e,Ie){return _e/Ie}};return k.each(le,function(_e,Ie){this[Ie]=function(Ue){Ue=hr.read(arguments);for(var qe=this._type,Et=this._components,vn=Ue._convert(qe),Pt=0,wn=Et.length;Pt<wn;Pt++)vn[Pt]=_e(Et[Pt],vn[Pt]);return new hr(qe,vn,this._alpha!=null?_e(this._alpha,Ue.getAlpha()):null)}},{})}),Vn=k.extend({_class:"Gradient",initialize:function(_e,Ie){this._id=oe.get(),_e&&k.isPlainObject(_e)&&(this.set(_e),_e=Ie=null),this._stops==null&&this.setStops(_e||["white","black"]),this._radial==null&&this.setRadial(typeof Ie=="string"&&Ie==="radial"||Ie||!1)},_serialize:function(le,_e){return _e.add(this,function(){return k.serialize([this._stops,this._radial],le,!0,_e)})},_changed:function(){for(var le=0,_e=this._owners&&this._owners.length;le<_e;le++)this._owners[le]._changed()},_addOwner:function(le){this._owners||(this._owners=[]),this._owners.push(le)},_removeOwner:function(le){var _e=this._owners?this._owners.indexOf(le):-1;_e!=-1&&(this._owners.splice(_e,1),this._owners.length||(this._owners=r))},clone:function(){for(var le=[],_e=0,Ie=this._stops.length;_e<Ie;_e++)le[_e]=this._stops[_e].clone();return new Vn(le,this._radial)},getStops:function(){return this._stops},setStops:function(le){if(le.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var _e=this._stops;if(_e)for(var Ie=0,Ue=_e.length;Ie<Ue;Ie++)_e[Ie]._owner=r;_e=this._stops=En.readList(le,0,{clone:!0});for(var Ie=0,Ue=_e.length;Ie<Ue;Ie++)_e[Ie]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(le){this._radial=le,this._changed()},equals:function(le){if(le===this)return!0;if(le&&this._class===le._class){var _e=this._stops,Ie=le._stops,Ue=_e.length;if(Ue===Ie.length){for(var qe=0;qe<Ue;qe++)if(!_e[qe].equals(Ie[qe]))return!1;return!0}}return!1}}),En=k.extend({_class:"GradientStop",initialize:function(_e,Ie){var Ue=_e,qe=Ie;typeof _e=="object"&&Ie===r&&(Array.isArray(_e)&&typeof _e[0]!="number"?(Ue=_e[0],qe=_e[1]):("color"in _e||"offset"in _e||"rampPoint"in _e)&&(Ue=_e.color,qe=_e.offset||_e.rampPoint||0)),this.setColor(Ue),this.setOffset(qe)},clone:function(){return new En(this._color.clone(),this._offset)},_serialize:function(le,_e){var Ie=this._color,Ue=this._offset;return k.serialize(Ue==null?[Ie]:[Ie,Ue],le,!0,_e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(le){this._offset=le,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){hr._setOwner(this._color,null),this._color=hr._setOwner(hr.read(arguments,0),this,"setColor"),this._changed()},equals:function(le){return le===this||le&&this._class===le._class&&this._color.equals(le._color)&&this._offset==le._offset||!1}}),jn=k.extend(new function(){var le={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ae,selectedColor:null},_e=k.set({},le,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),Ie=k.set({},_e,{fillColor:new hr}),Ue={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},qe={beans:!0},Et={_class:"Style",beans:!0,initialize:function(Pt,wn,bn){this._values={},this._owner=wn,this._project=wn&&wn._project||bn||lr.project,this._defaults=!wn||wn instanceof Fe?_e:wn instanceof Wn?Ie:le,Pt&&this.set(Pt)}};return k.each(_e,function(vn,Pt){var wn=/Color$/.test(Pt),bn=Pt==="shadowOffset",In=k.capitalize(Pt),Fn=Ue[Pt],Dn="set"+In,Un="get"+In;Et[Dn]=function(Jn){var Hn=this._owner,tr=Hn&&Hn._children,kn=tr&&tr.length>0&&!(Hn instanceof Zn);if(kn)for(var zn=0,xn=tr.length;zn<xn;zn++)tr[zn]._style[Dn](Jn);if((Pt==="selectedColor"||!kn)&&Pt in this._defaults){var Rn=this._values[Pt];Rn!==Jn&&(wn&&(Rn&&(hr._setOwner(Rn,null),Rn._canvasStyle=null),Jn&&Jn.constructor===hr&&(Jn=hr._setOwner(Jn,Hn,kn&&Dn))),this._values[Pt]=Jn,Hn&&Hn._changed(Fn||129))}},Et[Un]=function(Jn){var Hn=this._owner,tr=Hn&&Hn._children,kn=tr&&tr.length>0&&!(Hn instanceof Zn),zn;if(kn&&!Jn)for(var xn=0,Rn=tr.length;xn<Rn;xn++){var qn=tr[xn]._style[Un]();if(!xn)zn=qn;else if(!k.equals(zn,qn))return r}else if(Pt in this._defaults){var zn=this._values[Pt];if(zn===r)zn=this._defaults[Pt],zn&&zn.clone&&(zn=zn.clone());else{var nr=wn?hr:bn?ae:null;nr&&!(zn&&zn.constructor===nr)&&(this._values[Pt]=zn=nr.read([zn],0,{readNull:!0,clone:!0}))}}return zn&&wn&&(zn=hr._setOwner(zn,Hn,kn&&Dn)),zn},qe[Un]=function(Jn){return this._style[Un](Jn)},qe[Dn]=function(Jn){this._style[Dn](Jn)}}),k.each({Font:"FontFamily",WindingRule:"FillRule"},function(vn,Pt){var wn="get"+Pt,bn="set"+Pt;Et[wn]=qe[wn]="#get"+vn,Et[bn]=qe[bn]="#set"+vn}),Ce.inject(qe),Et},{set:function(le){var _e=le instanceof jn,Ie=_e?le._values:le;if(Ie){for(var Ue in Ie)if(Ue in this._defaults){var qe=Ie[Ue];this[Ue]=qe&&_e&&qe.clone?qe.clone():qe}}},equals:function(le){function _e(Ie,Ue,qe){var Et=Ie._values,vn=Ue._values,Pt=Ue._defaults;for(var wn in Et){var bn=Et[wn],In=vn[wn];if(!(qe&&wn in vn)&&!k.equals(bn,In===r?Pt[wn]:In))return!1}return!0}return le===this||le&&this._class===le._class&&_e(this,le)&&_e(le,this,!0)||!1},_dispose:function(){var le;le=this.getFillColor(),le&&(le._canvasStyle=null),le=this.getStrokeColor(),le&&(le._canvasStyle=null),le=this.getShadowColor(),le&&(le._canvasStyle=null)},hasFill:function(){var le=this.getFillColor();return!!le&&le.alpha>0},hasStroke:function(){var le=this.getStrokeColor();return!!le&&le.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var le=this.getShadowColor();return!!le&&le.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var le=this.getFontSize();return this.getFontWeight()+" "+le+(/[a-z]/i.test(le+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function le(){var _e=le.base.call(this),Ie=this.getFontSize();return/pt|em|%|px/.test(Ie)&&(Ie=this.getView().getPixelSize(Ie)),_e??Ie*1.2}}),cr=new function(){function le(_e,Ie,Ue,qe){for(var Et=["","webkit","moz","Moz","ms","o"],vn=Ie[0].toUpperCase()+Ie.substring(1),Pt=0;Pt<6;Pt++){var wn=Et[Pt],bn=wn?wn+vn:Ie;if(bn in _e){if(Ue)_e[bn]=qe;else return _e[bn];break}}}return{getStyles:function(_e){var Ie=_e&&_e.nodeType!==9?_e.ownerDocument:_e,Ue=Ie&&Ie.defaultView;return Ue&&Ue.getComputedStyle(_e,"")},getBounds:function(_e,Ie){var Ue=_e.ownerDocument,qe=Ue.body,Et=Ue.documentElement,vn;try{vn=_e.getBoundingClientRect()}catch{vn={left:0,top:0,width:0,height:0}}var Pt=vn.left-(Et.clientLeft||qe.clientLeft||0),wn=vn.top-(Et.clientTop||qe.clientTop||0);if(!Ie){var bn=Ue.defaultView;Pt+=bn.pageXOffset||Et.scrollLeft||qe.scrollLeft,wn+=bn.pageYOffset||Et.scrollTop||qe.scrollTop}return new he(Pt,wn,vn.width,vn.height)},getViewportBounds:function(_e){var Ie=_e.ownerDocument,Ue=Ie.defaultView,qe=Ie.documentElement;return new he(0,0,Ue.innerWidth||qe.clientWidth,Ue.innerHeight||qe.clientHeight)},getOffset:function(_e,Ie){return cr.getBounds(_e,Ie).getPoint()},getSize:function(_e){return cr.getBounds(_e,!0).getSize()},isInvisible:function(_e){return cr.getSize(_e).equals(new ue(0,0))},isInView:function(_e){return!cr.isInvisible(_e)&&cr.getViewportBounds(_e).intersects(cr.getBounds(_e,!0))},isInserted:function(_e){return y.body.contains(_e)},getPrefixed:function(_e,Ie){return _e&&le(_e,Ie)},setPrefixed:function(_e,Ie,Ue){if(typeof Ie=="object")for(var qe in Ie)le(_e,qe,!0,Ie[qe]);else le(_e,Ie,!0,Ue)}}},gr={add:function(le,_e){if(le)for(var Ie in _e)for(var Ue=_e[Ie],qe=Ie.split(/[\s,]+/g),Et=0,vn=qe.length;Et<vn;Et++){var Pt=qe[Et],wn=le===y&&(Pt==="touchstart"||Pt==="touchmove")?{passive:!1}:!1;le.addEventListener(Pt,Ue,wn)}},remove:function(le,_e){if(le)for(var Ie in _e)for(var Ue=_e[Ie],qe=Ie.split(/[\s,]+/g),Et=0,vn=qe.length;Et<vn;Et++)le.removeEventListener(qe[Et],Ue,!1)},getPoint:function(le){var _e=le.targetTouches?le.targetTouches.length?le.targetTouches[0]:le.changedTouches[0]:le;return new ae(_e.pageX||_e.clientX+y.documentElement.scrollLeft,_e.pageY||_e.clientY+y.documentElement.scrollTop)},getTarget:function(le){return le.target||le.srcElement},getRelatedTarget:function(le){return le.relatedTarget||le.toElement},getOffset:function(le,_e){return gr.getPoint(le).subtract(cr.getOffset(_e||gr.getTarget(le)))}};gr.requestAnimationFrame=new function(){var le=cr.getPrefixed(g,"requestAnimationFrame"),_e=!1,Ie=[],Ue;function qe(){var Et=Ie;Ie=[];for(var vn=0,Pt=Et.length;vn<Pt;vn++)Et[vn]();_e=le&&Ie.length,_e&&le(qe)}return function(Et){Ie.push(Et),le?_e||(le(qe),_e=!0):Ue||(Ue=setInterval(qe,1e3/60))}};var Cr=k.extend($,{_class:"View",initialize:function le(_e,Ie){function Ue(Fn){return Ie[Fn]||parseInt(Ie.getAttribute(Fn),10)}function qe(){var Fn=cr.getSize(Ie);return Fn.isNaN()||Fn.isZero()?new ue(Ue("width"),Ue("height")):Fn}var Et;if(g&&Ie){this._id=Ie.getAttribute("id"),this._id==null&&Ie.setAttribute("id",this._id="paper-view-"+le._id++),gr.add(Ie,this._viewEvents);var vn="none";if(cr.setPrefixed(Ie.style,{userDrag:vn,userSelect:vn,touchCallout:vn,contentZooming:vn,tapHighlightColor:"rgba(0,0,0,0)"}),V.hasAttribute(Ie,"resize")){var Pt=this;gr.add(g,this._windowEvents={resize:function(){Pt.setViewSize(qe())}})}if(Et=qe(),V.hasAttribute(Ie,"stats")&&typeof Stats<"u"){this._stats=new Stats;var wn=this._stats.domElement,bn=wn.style,In=cr.getOffset(Ie);bn.position="absolute",bn.left=In.x+"px",bn.top=In.y+"px",y.body.appendChild(wn)}}else Et=new ue(Ie),Ie=null;this._project=_e,this._scope=_e._scope,this._element=Ie,this._pixelRatio||(this._pixelRatio=g&&g.devicePixelRatio||1),this._setElementSize(Et.width,Et.height),this._viewSize=Et,le._views.push(this),le._viewsById[this._id]=this,(this._matrix=new xe)._owner=this,le._focused||(le._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!lr.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Cr._focused===this&&(Cr._focused=null),Cr._views.splice(Cr._views.indexOf(this),1),delete Cr._viewsById[this._id];var le=this._project;return le._view===this&&(le._view=null),gr.remove(this._element,this._viewEvents),gr.remove(g,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:k.each(Ce._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(le){this[le]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(le){this._autoUpdate=le,le&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var le=this;gr.requestAnimationFrame(function(){if(le._requested=!1,le._animate){le.requestUpdate();var _e=le._element;(!cr.getPrefixed(y,"hidden")||V.getAttribute(_e,"keepalive")==="true")&&cr.isInView(_e)&&le._handleFrame()}le._autoUpdate&&le.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){lr=this._scope;var le=Date.now()/1e3,_e=this._last?le-this._last:0;this._last=le,this.emit("frame",new k({delta:_e,time:this._time+=_e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(le,_e){var Ie=this._frameItems;_e?(Ie[le._id]={item:le,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete Ie[le._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(le){for(var _e in this._frameItems){var Ie=this._frameItems[_e];Ie.item.emit("frame",new k(le,{time:Ie.time+=le.delta,count:Ie.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=r},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var le=this._viewSize;return new pe(le.width,le.height,this,"setViewSize")},setViewSize:function(){var le=ue.read(arguments),_e=le.subtract(this._viewSize);_e.isZero()||(this._setElementSize(le.width,le.height),this._viewSize.set(le),this._changed(),this.emit("resize",{size:le,delta:_e}),this._autoUpdate&&this.update())},_setElementSize:function(le,_e){var Ie=this._element;Ie&&(Ie.width!==le&&(Ie.width=le),Ie.height!==_e&&(Ie.height=_e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new he(new ae,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return cr.isInView(this._element)},isInserted:function(){return cr.isInserted(this._element)},getPixelSize:function(le){var _e=this._element,Ie;if(_e){var Ue=_e.parentNode,qe=y.createElement("div");qe.style.fontSize=le,Ue.appendChild(qe),Ie=parseFloat(cr.getStyles(qe).fontSize),Ue.removeChild(qe)}else Ie=parseFloat(Ie);return Ie},getTextWidth:function(le,_e){return 0}},k.each(["rotate","scale","shear","skew"],function(le){var _e=le==="rotate";this[le]=function(){var Ie=arguments,Ue=(_e?k:ae).read(Ie),qe=ae.read(Ie,0,{readNull:!0});return this.transform(new xe()[le](Ue,qe||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var le=new xe;return this.transform(le.translate.apply(le,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var le=ae.read(arguments);this.translate(this.getCenter().subtract(le))},getZoom:function(){var le=this._decompose().scaling;return(le.x+le.y)/2},setZoom:function(le){this.transform(new xe().scale(le/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(le){var _e=this.getRotation();_e!=null&&le!=null&&this.rotate(le-_e)},getScaling:function(){var le=this._decompose().scaling;return new de(le.x,le.y,this,"setScaling")},setScaling:function(){var le=this.getScaling(),_e=ae.read(arguments,0,{clone:!0,readNull:!0});le&&_e&&this.scale(_e.x/le.x,_e.y/le.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var le=this._matrix;le.set.apply(le,arguments)},transform:function(le){this._matrix.append(le)},scrollBy:function(){this.translate(ae.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ae.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ae.read(arguments))},getEventPoint:function(le){return this.viewToProject(gr.getOffset(le,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(le,_e){y&&typeof _e=="string"&&(_e=y.getElementById(_e));var Ie=g?ir:Cr;return new Ie(le,_e)}}},new function(){if(!g)return;var le,_e,Ie=!1,Ue=!1;function qe(vr){var Sr=gr.getTarget(vr);return Sr.getAttribute&&Cr._viewsById[Sr.getAttribute("id")]}function Et(){var vr=Cr._focused;if(!vr||!vr.isVisible()){for(var Sr=0,kr=Cr._views.length;Sr<kr;Sr++)if((vr=Cr._views[Sr]).isVisible()){Cr._focused=_e=vr;break}}}function vn(vr,Sr,kr){vr._handleMouseEvent("mousemove",Sr,kr)}var Pt=g.navigator,wn,bn,In;Pt.pointerEnabled||Pt.msPointerEnabled?(wn="pointerdown MSPointerDown",bn="pointermove MSPointerMove",In="pointerup pointercancel MSPointerUp MSPointerCancel"):(wn="touchstart",bn="touchmove",In="touchend touchcancel","ontouchstart"in g&&Pt.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(wn+=" mousedown",bn+=" mousemove",In+=" mouseup"));var Fn={},Dn={mouseout:function(vr){var Sr=Cr._focused,kr=gr.getRelatedTarget(vr);if(Sr&&(!kr||kr.nodeName==="HTML")){var Nr=gr.getOffset(vr,Sr._element),Pr=Nr.x,Ar=Math.abs,Ur=Ar(Pr),jr=1<<25,Hr=Ur-jr;Nr.x=Ar(Hr)<Ur?Hr*(Pr<0?-1:1):Pr,vn(Sr,vr,Sr.viewToProject(Nr))}},scroll:Et};Fn[wn]=function(vr){var Sr=Cr._focused=qe(vr);Ie||(Ie=!0,Sr._handleMouseEvent("mousedown",vr))},Dn[bn]=function(vr){var Sr=Cr._focused;if(!Ue){var kr=qe(vr);kr?Sr!==kr&&(Sr&&vn(Sr,vr),le||(le=Sr),Sr=Cr._focused=_e=kr):_e&&_e===Sr&&(le&&!le.isInserted()&&(le=null),Sr=Cr._focused=le,le=null,Et())}Sr&&vn(Sr,vr)},Dn[wn]=function(){Ue=!0},Dn[In]=function(vr){var Sr=Cr._focused;Sr&&Ie&&Sr._handleMouseEvent("mouseup",vr),Ue=Ie=!1},gr.add(y,Dn),gr.add(g,{load:Et});var Un=!1,Jn=!1,Hn={doubleclick:"click",mousedrag:"mousemove"},tr=!1,kn,zn,xn,Rn,qn,nr,er,fr;function pr(vr,Sr,kr,Nr,Pr,Ar,Ur){var jr=!1,Hr;function Kr(Rr,Lr){if(Rr.responds(Lr)){if(Hr||(Hr=new Nn(Lr,Nr,Pr,Sr||Rr,Ar?Pr.subtract(Ar):null)),Rr.emit(Lr,Hr)&&(Un=!0,Hr.prevented&&(Jn=!0),Hr.stopped))return jr=!0}else{var Yr=Hn[Lr];if(Yr)return Kr(Rr,Yr)}}for(;vr&&vr!==Ur&&!Kr(vr,kr);)vr=vr._parent;return jr}function _r(vr,Sr,kr,Nr,Pr,Ar){return vr._project.removeOn(kr),Jn=Un=!1,qn&&pr(qn,null,kr,Nr,Pr,Ar)||Sr&&Sr!==qn&&!Sr.isDescendant(qn)&&pr(Sr,null,kr==="mousedrag"?"mousemove":kr,Nr,Pr,Ar,qn)||pr(vr,qn||Sr||vr,kr,Nr,Pr,Ar)}var xr={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:Fn,_handleMouseEvent:function(vr,Sr,kr){var Nr=this._itemEvents,Pr=Nr.native[vr],Ar=vr==="mousemove",Ur=this._scope.tool,jr=this;function Hr(oo){return Nr.virtual[oo]||jr.responds(oo)||Ur&&Ur.responds(oo)}Ar&&Ie&&Hr("mousedrag")&&(vr="mousedrag"),kr||(kr=this.getEventPoint(Sr));var Kr=this.getBounds().contains(kr),Rr=Pr&&Kr&&jr._project.hitTest(kr,{tolerance:0,fill:!0,stroke:!0}),Lr=Rr&&Rr.item||null,Yr=!1,eo={};if(eo[vr.substr(5)]=!0,Pr&&Lr!==Rn&&(Rn&&pr(Rn,null,"mouseleave",Sr,kr),Lr&&pr(Lr,null,"mouseenter",Sr,kr),Rn=Lr),tr^Kr&&(pr(this,null,Kr?"mouseenter":"mouseleave",Sr,kr),Yr=!0),(Kr||eo.drag)&&!kr.equals(zn)&&(_r(this,Lr,Ar?vr:"mousemove",Sr,kr,zn),Yr=!0),tr=Kr,eo.down&&Kr||eo.up&&kn){if(_r(this,Lr,vr,Sr,kr,kn),eo.down){if(fr=Lr===nr&&Date.now()-er<300,xn=nr=Lr,!Jn&&Lr){for(var Jr=Lr;Jr&&!Jr.responds("mousedrag");)Jr=Jr._parent;Jr&&(qn=Lr)}kn=kr}else eo.up&&(!Jn&&Lr===xn&&(er=Date.now(),_r(this,Lr,fr?"doubleclick":"click",Sr,kr,kn),fr=!1),xn=qn=null);tr=!1,Yr=!0}zn=kr,Yr&&Ur&&(Un=Ur._handleMouseEvent(vr,Sr,kr,eo)||Un),Sr.cancelable!==!1&&(Un&&!eo.move||eo.down&&Hr("mouseup"))&&Sr.preventDefault()},_handleKeyEvent:function(vr,Sr,kr,Nr){var Pr=this._scope,Ar=Pr.tool,Ur;function jr(Hr){Hr.responds(vr)&&(lr=Pr,Hr.emit(vr,Ur=Ur||new hn(vr,Sr,kr,Nr)))}this.isVisible()&&(jr(this),Ar&&Ar.responds(vr)&&jr(Ar))},_countItemEvent:function(vr,Sr){var kr=this._itemEvents,Nr=kr.native,Pr=kr.virtual;for(var Ar in xr)Nr[Ar]=(Nr[Ar]||0)+(xr[Ar][vr]||0)*Sr;Pr[vr]=(Pr[vr]||0)+Sr},statics:{updateFocus:Et,_resetState:function(){Ie=Ue=Un=tr=!1,le=_e=kn=zn=xn=Rn=qn=nr=er=fr=null}}}}),ir=Cr.extend({_class:"CanvasView",initialize:function(_e,Ie){if(!(Ie instanceof g.HTMLCanvasElement)){var Ue=ue.read(arguments,1);if(Ue.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+k.slice(arguments,1));Ie=rr.getCanvas(Ue)}var qe=this._context=Ie.getContext("2d");if(qe.save(),this._pixelRatio=1,!/^off|false$/.test(V.getAttribute(Ie,"hidpi"))){var Et=g.devicePixelRatio||1,vn=cr.getPrefixed(qe,"backingStorePixelRatio")||1;this._pixelRatio=Et/vn}Cr.call(this,_e,Ie),this._needsUpdate=!0},remove:function le(){return this._context.restore(),le.base.call(this)},_setElementSize:function le(_e,Ie){var Ue=this._pixelRatio;if(le.base.call(this,_e*Ue,Ie*Ue),Ue!==1){var qe=this._element,Et=this._context;if(!V.hasAttribute(qe,"resize")){var vn=qe.style;vn.width=_e+"px",vn.height=Ie+"px"}Et.restore(),Et.save(),Et.scale(Ue,Ue)}},getContext:function(){return this._context},getPixelSize:function le(_e){var Ie=lr.agent,Ue;if(Ie&&Ie.firefox)Ue=le.base.call(this,_e);else{var qe=this._context,Et=qe.font;qe.font=_e+" serif",Ue=parseFloat(qe.font),qe.font=Et}return Ue},getTextWidth:function(le,_e){var Ie=this._context,Ue=Ie.font,qe=0;Ie.font=le;for(var Et=0,vn=_e.length;Et<vn;Et++)qe=Math.max(qe,Ie.measureText(_e[Et]).width);return Ie.font=Ue,qe},update:function(){if(!this._needsUpdate)return!1;var le=this._project,_e=this._context,Ie=this._viewSize;return _e.clearRect(0,0,Ie.width+1,Ie.height+1),le&&le.draw(_e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Gn=k.extend({_class:"Event",initialize:function(_e){this.event=_e,this.type=_e&&_e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Kn.modifiers}}),hn=Gn.extend({_class:"KeyEvent",initialize:function(_e,Ie,Ue,qe){this.type=_e,this.event=Ie,this.key=Ue,this.character=qe},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Kn=new function(){var le={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},_e={tab:"	",space:" ",enter:"\r"},Ie={},Ue={},qe,Et,vn=new k({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var bn=lr&&lr.agent;return bn&&bn.mac?this.meta:this.control}}});function Pt(bn){var In=bn.key||bn.keyIdentifier;return In=/^U\+/.test(In)?String.fromCharCode(parseInt(In.substr(2),16)):/^Arrow[A-Z]/.test(In)?In.substr(5):In==="Unidentified"||In===r?String.fromCharCode(bn.keyCode):In,le[In]||(In.length>1?k.hyphenate(In):In.toLowerCase())}function wn(bn,In,Fn,Dn){var Un=Cr._focused,Jn;if(Ie[In]=bn,bn?Ue[In]=Fn:delete Ue[In],In.length>1&&(Jn=k.camelize(In))in vn){vn[Jn]=bn;var Hn=lr&&lr.agent;if(Jn==="meta"&&Hn&&Hn.mac)if(bn)qe={};else{for(var tr in qe)tr in Ue&&wn(!1,tr,qe[tr],Dn);qe=null}}else bn&&qe&&(qe[In]=Fn);Un&&Un._handleKeyEvent(bn?"keydown":"keyup",Dn,In,Fn)}return gr.add(y,{keydown:function(bn){var In=Pt(bn),Fn=lr&&lr.agent;In.length>1||Fn&&Fn.chrome&&(bn.altKey||Fn.mac&&bn.metaKey||!Fn.mac&&bn.ctrlKey)?wn(!0,In,_e[In]||(In.length>1?"":In),bn):Et=In},keypress:function(bn){if(Et){var In=Pt(bn),Fn=bn.charCode,Dn=Fn>=32?String.fromCharCode(Fn):In.length>1?"":In;In!==Et&&(In=Dn.toLowerCase()),wn(!0,In,Dn,bn),Et=null}},keyup:function(bn){var In=Pt(bn);In in Ue&&wn(!1,In,Ue[In],bn)}}),gr.add(g,{blur:function(bn){for(var In in Ue)wn(!1,In,Ue[In],bn)}}),{modifiers:vn,isDown:function(bn){return!!Ie[bn]}}},Nn=Gn.extend({_class:"MouseEvent",initialize:function(_e,Ie,Ue,qe,Et){this.type=_e,this.event=Ie,this.point=Ue,this.target=qe,this.delta=Et},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Lt=Gn.extend({_class:"ToolEvent",_item:null,initialize:function(_e,Ie,Ue){this.tool=_e,this.type=Ie,this.event=Ue},_choosePoint:function(le,_e){return le||(_e?_e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(le){this._point=le},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(le){this._lastPoint=le},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(le){this._downPoint=le},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(le){this._middlePoint=le},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(le){this._delta=le},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(le){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=le},getItem:function(){if(!this._item){var le=this.tool._scope.project.hitTest(this.getPoint());if(le){for(var _e=le.item,Ie=_e._parent;/^(Group|CompoundPath)$/.test(Ie._class);)_e=Ie,Ie=Ie._parent;this._item=_e}}return this._item},setItem:function(le){this._item=le},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),_n=L.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(_e){L.call(this),this._moveCount=-1,this._downCount=-1,this.set(_e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(le){this._minDistance=le,le!=null&&this._maxDistance!=null&&le>this._maxDistance&&(this._maxDistance=le)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(le){this._maxDistance=le,this._minDistance!=null&&le!=null&&le<this._minDistance&&(this._minDistance=le)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(le){this._minDistance=this._maxDistance=le},_handleMouseEvent:function(le,_e,Ie,Ue){lr=this._scope,Ue.drag&&!this.responds(le)&&(le="mousemove");var qe=Ue.move||Ue.drag,Et=this.responds(le),vn=!1,Pt=this;function wn(In,Fn){var Dn=Ie,Un=qe?Pt._point:Pt._downPoint||Dn;if(qe){if(Pt._moveCount>=0&&Dn.equals(Un))return!1;if(Un&&(In!=null||Fn!=null)){var Jn=Dn.subtract(Un),Hn=Jn.getLength();if(Hn<(In||0))return!1;Fn&&(Dn=Un.add(Jn.normalize(Math.min(Hn,Fn))))}Pt._moveCount++}return Pt._point=Dn,Pt._lastPoint=Un||Dn,Ue.down&&(Pt._moveCount=-1,Pt._downPoint=Dn,Pt._downCount++),!0}function bn(){Et&&(vn=Pt.emit(le,new Lt(Pt,le,_e))||vn)}if(Ue.down)wn(),bn();else if(Ue.up)wn(null,this._maxDistance),bn();else if(Et)for(;wn(this._minDistance,this._maxDistance);)bn();return vn}}),Bn=k.extend($,{_class:"Tween",statics:{easings:new k({linear:function(le){return le},easeInQuad:function(le){return le*le},easeOutQuad:function(le){return le*(2-le)},easeInOutQuad:function(le){return le<.5?2*le*le:-1+2*(2-le)*le},easeInCubic:function(le){return le*le*le},easeOutCubic:function(le){return--le*le*le+1},easeInOutCubic:function(le){return le<.5?4*le*le*le:(le-1)*(2*le-2)*(2*le-2)+1},easeInQuart:function(le){return le*le*le*le},easeOutQuart:function(le){return 1- --le*le*le*le},easeInOutQuart:function(le){return le<.5?8*le*le*le*le:1-8*--le*le*le*le},easeInQuint:function(le){return le*le*le*le*le},easeOutQuint:function(le){return 1+--le*le*le*le*le},easeInOutQuint:function(le){return le<.5?16*le*le*le*le*le:1+16*--le*le*le*le*le}})},initialize:function le(_e,Ie,Ue,qe,Et,vn){this.object=_e;var Pt=typeof Et,wn=Pt==="function";this.type=wn?Pt:Pt==="string"?Et:"linear",this.easing=wn?Et:le.easings[this.type],this.duration=qe,this.running=!1,this._then=null,this._startTime=null;var bn=Ie||Ue;this._keys=bn?Object.keys(bn):[],this._parsedKeys=this._parseKeys(this._keys),this._from=bn&&this._getState(Ie),this._to=bn&&this._getState(Ue),vn!==!1&&this.start()},then:function(le){return this._then=le,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(le){if(this.running){le>=1&&(le=1,this.running=!1);for(var _e=this.easing(le),Ie=this._keys,Ue=function(In){return typeof In=="function"?In(_e,le):In},qe=0,Et=Ie&&Ie.length;qe<Et;qe++){var vn=Ie[qe],Pt=Ue(this._from[vn]),wn=Ue(this._to[vn]),bn=Pt&&wn&&Pt.__add&&wn.__add?wn.__subtract(Pt).__multiply(_e).__add(Pt):(wn-Pt)*_e+Pt;this._setProperty(this._parsedKeys[vn],bn)}this.responds("update")&&this.emit("update",new k({progress:le,factor:_e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(le){var _e=this._startTime,Ie=_e?(le-_e)/this.duration:0;_e||(this._startTime=le),this.update(Ie)},_getState:function(le){for(var _e=this._keys,Ie={},Ue=0,qe=_e.length;Ue<qe;Ue++){var Et=_e[Ue],vn=this._parsedKeys[Et],Pt=this._getProperty(vn),wn;if(le){var bn=this._resolveValue(Pt,le[Et]);this._setProperty(vn,bn),wn=this._getProperty(vn),wn=wn&&wn.clone?wn.clone():wn,this._setProperty(vn,Pt)}else wn=Pt&&Pt.clone?Pt.clone():Pt;Ie[Et]=wn}return Ie},_resolveValue:function(le,_e){if(_e){if(Array.isArray(_e)&&_e.length===2){var Ie=_e[0];return Ie&&Ie.match&&Ie.match(/^[+\-\*\/]=/)?this._calculate(le,Ie[0],_e[1]):_e}else if(typeof _e=="string"){var Ue=_e.match(/^[+\-*/]=(.*)/);if(Ue){var qe=JSON.parse(Ue[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(le,_e[0],qe)}}}return _e},_calculate:function(le,_e,Ie){return lr.PaperScript.calculateBinary(le,_e,Ie)},_parseKeys:function(le){for(var _e={},Ie=0,Ue=le.length;Ie<Ue;Ie++){var qe=le[Ie],Et=qe.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");_e[qe]=Et.split("/")}return _e},_getProperty:function(le,_e){for(var Ie=this.object,Ue=0,qe=le.length-(_e||0);Ue<qe&&Ie;Ue++)Ie=Ie[le[Ue]];return Ie},_setProperty:function(le,_e){var Ie=this._getProperty(le,1);Ie&&(Ie[le[le.length-1]]=_e)}}),Xn={request:function(le){var _e=new e.XMLHttpRequest;return _e.open((le.method||"get").toUpperCase(),le.url,k.pick(le.async,!0)),le.mimeType&&_e.overrideMimeType(le.mimeType),_e.onload=function(){var Ie=_e.status;Ie===0||Ie===200?le.onLoad&&le.onLoad.call(_e,_e.responseText):_e.onerror()},_e.onerror=function(){var Ie=_e.status,Ue='Could not load "'+le.url+'" (Status: '+Ie+")";if(le.onError)le.onError(Ue,Ie);else throw new Error(Ue)},_e.send(null)}},rr=k.exports.CanvasProvider={canvases:[],getCanvas:function(le,_e,Ie){if(!g)return null;var Ue,qe=!0;typeof le=="object"&&(_e=le.height,le=le.width),this.canvases.length?Ue=this.canvases.pop():(Ue=y.createElement("canvas"),qe=!1);var Et=Ue.getContext("2d",Ie||{});if(!Et)throw new Error("Canvas "+Ue+" is unable to provide a 2D context.");return Ue.width===le&&Ue.height===_e?qe&&Et.clearRect(0,0,le+1,_e+1):(Ue.width=le,Ue.height=_e),Et.save(),Ue},getContext:function(le,_e,Ie){var Ue=this.getCanvas(le,_e,Ie);return Ue?Ue.getContext("2d",Ie||{}):null},release:function(le){var _e=le&&le.canvas?le.canvas:le;_e&&_e.getContext&&(_e.getContext("2d").restore(),this.canvases.push(_e))}},ar=new function(){var le=Math.min,_e=Math.max,Ie=Math.abs,Ue,qe,Et,vn,Pt,wn,bn,In,Fn,Dn,Un;function Jn(qn,nr,er){return .2989*qn+.587*nr+.114*er}function Hn(qn,nr,er,_r){var pr=_r-Jn(qn,nr,er);Fn=qn+pr,Dn=nr+pr,Un=er+pr;var _r=Jn(Fn,Dn,Un),xr=le(Fn,Dn,Un),vr=_e(Fn,Dn,Un);if(xr<0){var Sr=_r-xr;Fn=_r+(Fn-_r)*_r/Sr,Dn=_r+(Dn-_r)*_r/Sr,Un=_r+(Un-_r)*_r/Sr}if(vr>255){var kr=255-_r,Nr=vr-_r;Fn=_r+(Fn-_r)*kr/Nr,Dn=_r+(Dn-_r)*kr/Nr,Un=_r+(Un-_r)*kr/Nr}}function tr(qn,nr,er){return _e(qn,nr,er)-le(qn,nr,er)}function kn(qn,nr,er,fr){var pr=[qn,nr,er],_r=_e(qn,nr,er),xr=le(qn,nr,er),vr;xr=xr===qn?0:xr===nr?1:2,_r=_r===qn?0:_r===nr?1:2,vr=le(xr,_r)===0?_e(xr,_r)===1?2:1:0,pr[_r]>pr[xr]?(pr[vr]=(pr[vr]-pr[xr])*fr/(pr[_r]-pr[xr]),pr[_r]=fr):pr[vr]=pr[_r]=0,pr[xr]=0,Fn=pr[0],Dn=pr[1],Un=pr[2]}var zn={multiply:function(){Fn=Pt*Ue/255,Dn=wn*qe/255,Un=bn*Et/255},screen:function(){Fn=Pt+Ue-Pt*Ue/255,Dn=wn+qe-wn*qe/255,Un=bn+Et-bn*Et/255},overlay:function(){Fn=Pt<128?2*Pt*Ue/255:255-2*(255-Pt)*(255-Ue)/255,Dn=wn<128?2*wn*qe/255:255-2*(255-wn)*(255-qe)/255,Un=bn<128?2*bn*Et/255:255-2*(255-bn)*(255-Et)/255},"soft-light":function(){var qn=Ue*Pt/255;Fn=qn+Pt*(255-(255-Pt)*(255-Ue)/255-qn)/255,qn=qe*wn/255,Dn=qn+wn*(255-(255-wn)*(255-qe)/255-qn)/255,qn=Et*bn/255,Un=qn+bn*(255-(255-bn)*(255-Et)/255-qn)/255},"hard-light":function(){Fn=Ue<128?2*Ue*Pt/255:255-2*(255-Ue)*(255-Pt)/255,Dn=qe<128?2*qe*wn/255:255-2*(255-qe)*(255-wn)/255,Un=Et<128?2*Et*bn/255:255-2*(255-Et)*(255-bn)/255},"color-dodge":function(){Fn=Pt===0?0:Ue===255?255:le(255,255*Pt/(255-Ue)),Dn=wn===0?0:qe===255?255:le(255,255*wn/(255-qe)),Un=bn===0?0:Et===255?255:le(255,255*bn/(255-Et))},"color-burn":function(){Fn=Pt===255?255:Ue===0?0:_e(0,255-(255-Pt)*255/Ue),Dn=wn===255?255:qe===0?0:_e(0,255-(255-wn)*255/qe),Un=bn===255?255:Et===0?0:_e(0,255-(255-bn)*255/Et)},darken:function(){Fn=Pt<Ue?Pt:Ue,Dn=wn<qe?wn:qe,Un=bn<Et?bn:Et},lighten:function(){Fn=Pt>Ue?Pt:Ue,Dn=wn>qe?wn:qe,Un=bn>Et?bn:Et},difference:function(){Fn=Pt-Ue,Fn<0&&(Fn=-Fn),Dn=wn-qe,Dn<0&&(Dn=-Dn),Un=bn-Et,Un<0&&(Un=-Un)},exclusion:function(){Fn=Pt+Ue*(255-Pt-Pt)/255,Dn=wn+qe*(255-wn-wn)/255,Un=bn+Et*(255-bn-bn)/255},hue:function(){kn(Ue,qe,Et,tr(Pt,wn,bn)),Hn(Fn,Dn,Un,Jn(Pt,wn,bn))},saturation:function(){kn(Pt,wn,bn,tr(Ue,qe,Et)),Hn(Fn,Dn,Un,Jn(Pt,wn,bn))},luminosity:function(){Hn(Pt,wn,bn,Jn(Ue,qe,Et))},color:function(){Hn(Ue,qe,Et,Jn(Pt,wn,bn))},add:function(){Fn=le(Pt+Ue,255),Dn=le(wn+qe,255),Un=le(bn+Et,255)},subtract:function(){Fn=_e(Pt-Ue,0),Dn=_e(wn-qe,0),Un=_e(bn-Et,0)},average:function(){Fn=(Pt+Ue)/2,Dn=(wn+qe)/2,Un=(bn+Et)/2},negation:function(){Fn=255-Ie(255-Ue-Pt),Dn=255-Ie(255-qe-wn),Un=255-Ie(255-Et-bn)}},xn=this.nativeModes=k.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(qn){this[qn]=!0},{}),Rn=rr.getContext(1,1,{willReadFrequently:!0});Rn&&(k.each(zn,function(qn,nr){var er=nr==="darken",fr=!1;Rn.save();try{Rn.fillStyle=er?"#300":"#a00",Rn.fillRect(0,0,1,1),Rn.globalCompositeOperation=nr,Rn.globalCompositeOperation===nr&&(Rn.fillStyle=er?"#a00":"#300",Rn.fillRect(0,0,1,1),fr=Rn.getImageData(0,0,1,1).data[0]!==er?170:51)}catch{}Rn.restore(),xn[nr]=fr}),rr.release(Rn)),this.process=function(qn,nr,er,fr,pr){var _r=nr.canvas,xr=qn==="normal";if(xr||xn[qn])er.save(),er.setTransform(1,0,0,1,0,0),er.globalAlpha=fr,xr||(er.globalCompositeOperation=qn),er.drawImage(_r,pr.x,pr.y),er.restore();else{var vr=zn[qn];if(!vr)return;for(var Sr=er.getImageData(pr.x,pr.y,_r.width,_r.height),kr=Sr.data,Nr=nr.getImageData(0,0,_r.width,_r.height).data,Pr=0,Ar=kr.length;Pr<Ar;Pr+=4){Ue=Nr[Pr],Pt=kr[Pr],qe=Nr[Pr+1],wn=kr[Pr+1],Et=Nr[Pr+2],bn=kr[Pr+2],vn=Nr[Pr+3],In=kr[Pr+3],vr();var Ur=vn*fr/255,jr=1-Ur;kr[Pr]=Ur*Fn+jr*Pt,kr[Pr+1]=Ur*Dn+jr*wn,kr[Pr+2]=Ur*Un+jr*bn,kr[Pr+3]=vn*fr+jr*In}er.putImageData(Sr,pr.x,pr.y)}}},sr=new function(){var le="http://www.w3.org/2000/svg",_e="http://www.w3.org/2000/xmlns",Ie="http://www.w3.org/1999/xlink",Ue={href:Ie,xlink:_e,xmlns:_e+"/","xmlns:xlink":_e+"/"};function qe(Pt,wn,bn){return vn(y.createElementNS(le,Pt),wn,bn)}function Et(Pt,wn){var bn=Ue[wn],In=bn?Pt.getAttributeNS(bn,wn):Pt.getAttribute(wn);return In==="null"?null:In}function vn(Pt,wn,bn){for(var In in wn){var Fn=wn[In],Dn=Ue[In];typeof Fn=="number"&&bn&&(Fn=bn.number(Fn)),Dn?Pt.setAttributeNS(Dn,In,Fn):Pt.setAttribute(In,Fn)}return Pt}return{svg:le,xmlns:_e,xlink:Ie,create:qe,get:Et,set:vn}},mr=k.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(le,_e){return!_e&&(le instanceof Ln||le instanceof kt||le instanceof Wn)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(le,_e){var Ie=k.capitalize(_e),Ue=le[2];this[_e]={type:le[1],property:_e,attribute:le[0],toSVG:Ue,fromSVG:Ue&&k.each(Ue,function(qe,Et){this[qe]=Et},{}),exportFilter:le[3],get:"get"+Ie,set:"set"+Ie}},{});new function(){var le;function _e(zn,xn,Rn){var qn=new k,nr=zn.getTranslation();if(xn){var er;zn.isInvertible()?(zn=zn._shiftless(),er=zn._inverseTransform(nr),nr=null):er=new ae,qn[Rn?"cx":"x"]=er.x,qn[Rn?"cy":"y"]=er.y}if(!zn.isIdentity()){var fr=zn.decompose();if(fr){var pr=[],_r=fr.rotation,xr=fr.scaling,vr=fr.skewing;nr&&!nr.isZero()&&pr.push("translate("+le.point(nr)+")"),_r&&pr.push("rotate("+le.number(_r)+")"),(!re.isZero(xr.x-1)||!re.isZero(xr.y-1))&&pr.push("scale("+le.point(xr)+")"),vr.x&&pr.push("skewX("+le.number(vr.x)+")"),vr.y&&pr.push("skewY("+le.number(vr.y)+")"),qn.transform=pr.join(" ")}else qn.transform="matrix("+zn.getValues().join(",")+")"}return qn}function Ie(zn,xn){for(var Rn=_e(zn._matrix),qn=zn._children,nr=sr.create("g",Rn,le),er=0,fr=qn.length;er<fr;er++){var pr=qn[er],_r=tr(pr,xn);if(_r)if(pr.isClipMask()){var xr=sr.create("clipPath");xr.appendChild(_r),Jn(pr,xr,"clip"),sr.set(nr,{"clip-path":"url(#"+xr.id+")"})}else nr.appendChild(_r)}return nr}function Ue(zn,xn){var Rn=_e(zn._matrix,!0),qn=zn.getSize(),nr=zn.getImage();return Rn.x-=qn.width/2,Rn.y-=qn.height/2,Rn.width=qn.width,Rn.height=qn.height,Rn.href=xn.embedImages==!1&&nr&&nr.src||zn.toDataURL(),sr.create("image",Rn,le)}function qe(zn,xn){var Rn=xn.matchShapes;if(Rn){var qn=zn.toShape(!1);if(qn)return Et(qn)}var nr=zn._segments,er=nr.length,fr,pr=_e(zn._matrix);if(Rn&&er>=2&&!zn.hasHandles())if(er>2){fr=zn._closed?"polygon":"polyline";for(var _r=[],xr=0;xr<er;xr++)_r.push(le.point(nr[xr]._point));pr.points=_r.join(" ")}else{fr="line";var vr=nr[0]._point,Sr=nr[1]._point;pr.set({x1:vr.x,y1:vr.y,x2:Sr.x,y2:Sr.y})}else fr="path",pr.d=zn.getPathData(null,xn.precision);return sr.create(fr,pr,le)}function Et(zn){var xn=zn._type,Rn=zn._radius,qn=_e(zn._matrix,!0,xn!=="rectangle");if(xn==="rectangle"){xn="rect";var nr=zn._size,er=nr.width,fr=nr.height;qn.x-=er/2,qn.y-=fr/2,qn.width=er,qn.height=fr,Rn.isZero()&&(Rn=null)}return Rn&&(xn==="circle"?qn.r=Rn:(qn.rx=Rn.width,qn.ry=Rn.height)),sr.create(xn,qn,le)}function vn(zn,xn){var Rn=_e(zn._matrix),qn=zn.getPathData(null,xn.precision);return qn&&(Rn.d=qn),sr.create("path",Rn,le)}function Pt(zn,xn){var Rn=_e(zn._matrix,!0),qn=zn._definition,nr=Un(qn,"symbol"),er=qn._item,fr=er.getStrokeBounds();return nr||(nr=sr.create("symbol",{viewBox:le.rectangle(fr)}),nr.appendChild(tr(er,xn)),Jn(qn,nr,"symbol")),Rn.href="#"+nr.id,Rn.x+=fr.x,Rn.y+=fr.y,Rn.width=fr.width,Rn.height=fr.height,Rn.overflow="visible",sr.create("use",Rn,le)}function wn(zn){var xn=Un(zn,"color");if(!xn){var Rn=zn.getGradient(),qn=Rn._radial,nr=zn.getOrigin(),er=zn.getDestination(),fr;if(qn){fr={cx:nr.x,cy:nr.y,r:nr.getDistance(er)};var pr=zn.getHighlight();pr&&(fr.fx=pr.x,fr.fy=pr.y)}else fr={x1:nr.x,y1:nr.y,x2:er.x,y2:er.y};fr.gradientUnits="userSpaceOnUse",xn=sr.create((qn?"radial":"linear")+"Gradient",fr,le);for(var _r=Rn._stops,xr=0,vr=_r.length;xr<vr;xr++){var Sr=_r[xr],kr=Sr._color,Nr=kr.getAlpha(),Pr=Sr._offset;fr={offset:Pr??xr/(vr-1)},kr&&(fr["stop-color"]=kr.toCSS(!0)),Nr<1&&(fr["stop-opacity"]=Nr),xn.appendChild(sr.create("stop",fr,le))}Jn(zn,xn,"color")}return"url(#"+xn.id+")"}function bn(zn){var xn=sr.create("text",_e(zn._matrix,!0),le);return xn.textContent=zn._content,xn}var In={Group:Ie,Layer:Ie,Raster:Ue,Path:qe,Shape:Et,CompoundPath:vn,SymbolItem:Pt,PointText:bn};function Fn(zn,xn,Rn,qn){var nr={},er=!qn&&zn.getParent(),fr=[];return zn._name!=null&&(nr.id=zn._name),k.each(mr,function(pr){var _r=pr.get,xr=pr.type,vr=zn[_r]();if(pr.exportFilter?pr.exportFilter(zn,vr):Rn.reduceAttributes==!1||!er||!k.equals(er[_r](),vr)){if(xr==="color"&&vr!=null){var Sr=vr.getAlpha();Sr<1&&(nr[pr.attribute+"-opacity"]=Sr)}xr==="style"?fr.push(pr.attribute+": "+vr):nr[pr.attribute]=vr==null?"none":xr==="color"?vr.gradient?wn(vr):vr.toCSS(!0):xr==="array"?vr.join(","):xr==="lookup"?pr.toSVG[vr]:vr}}),fr.length&&(nr.style=fr.join(";")),nr.opacity===1&&delete nr.opacity,zn._visible||(nr.visibility="hidden"),sr.set(xn,nr,le)}var Dn;function Un(zn,xn){return Dn||(Dn={ids:{},svgs:{}}),zn&&Dn.svgs[xn+"-"+(zn._id||zn.__id||(zn.__id=oe.get("svg")))]}function Jn(zn,xn,Rn){Dn||Un();var qn=Dn.ids[Rn]=(Dn.ids[Rn]||0)+1;xn.id=Rn+"-"+qn,Dn.svgs[Rn+"-"+(zn._id||zn.__id)]=xn}function Hn(zn,xn){var Rn=zn,qn=null;if(Dn){Rn=zn.nodeName.toLowerCase()==="svg"&&zn;for(var nr in Dn.svgs)qn||(Rn||(Rn=sr.create("svg"),Rn.appendChild(zn)),qn=Rn.insertBefore(sr.create("defs"),Rn.firstChild)),qn.appendChild(Dn.svgs[nr]);Dn=null}return xn.asString?new e.XMLSerializer().serializeToString(Rn):Rn}function tr(zn,xn,Rn){var qn=In[zn._class],nr=qn&&qn(zn,xn);if(nr){var er=xn.onExport;er&&(nr=er(zn,nr,xn)||nr);var fr=JSON.stringify(zn._data);fr&&fr!=="{}"&&fr!=="null"&&nr.setAttribute("data-paper-data",fr)}return nr&&Fn(zn,nr,xn,Rn)}function kn(zn){return zn||(zn={}),le=new j(zn.precision),zn}Ce.inject({exportSVG:function(zn){return zn=kn(zn),Hn(tr(this,zn,!0),zn)}}),Ne.inject({exportSVG:function(zn){zn=kn(zn);var xn=this._children,Rn=this.getView(),qn=k.pick(zn.bounds,"view"),nr=zn.matrix||qn==="view"&&Rn._matrix,er=nr&&xe.read([nr]),fr=qn==="view"?new he([0,0],Rn.getViewSize()):qn==="content"?Ce._getBounds(xn,er,{stroke:!0}).rect:he.read([qn],0,{readNull:!0}),pr={version:"1.1",xmlns:sr.svg,"xmlns:xlink":sr.xlink};fr&&(pr.width=fr.width,pr.height=fr.height,(fr.x||fr.x===0||fr.y||fr.y===0)&&(pr.viewBox=le.rectangle(fr)));var _r=sr.create("svg",pr,le),xr=_r;er&&!er.isIdentity()&&(xr=_r.appendChild(sr.create("g",_e(er),le)));for(var vr=0,Sr=xn.length;vr<Sr;vr++)xr.appendChild(tr(xn[vr],zn,!0));return Hn(_r,zn)}})},new function(){var le={},_e;function Ie(xn,Rn,qn,nr,er,fr){var pr=sr.get(xn,Rn)||fr,_r=pr==null?nr?null:qn?"":0:qn?pr:parseFloat(pr);return/%\s*$/.test(pr)?_r/100*(er?1:_e[/x|^width/.test(Rn)?"width":"height"]):_r}function Ue(xn,Rn,qn,nr,er,fr,pr){return Rn=Ie(xn,Rn||"x",!1,nr,er,fr),qn=Ie(xn,qn||"y",!1,nr,er,pr),nr&&(Rn==null||qn==null)?null:new ae(Rn,qn)}function qe(xn,Rn,qn,nr,er){return Rn=Ie(xn,Rn||"width",!1,nr,er),qn=Ie(xn,qn||"height",!1,nr,er),nr&&(Rn==null||qn==null)?null:new ue(Rn,qn)}function Et(xn,Rn,qn){return xn==="none"?null:Rn==="number"?parseFloat(xn):Rn==="array"?xn?xn.split(/[\s,]+/g).map(parseFloat):[]:Rn==="color"?tr(xn)||xn:Rn==="lookup"?qn[xn]:xn}function vn(xn,Rn,qn,nr){var er=xn.childNodes,fr=Rn==="clippath",pr=Rn==="defs",_r=new Fe,xr=_r._project,vr=xr._currentStyle,Sr=[];if(!fr&&!pr&&(_r=Hn(_r,xn,nr),xr._currentStyle=_r._style.clone()),nr)for(var kr=xn.querySelectorAll("defs"),Nr=0,Pr=kr.length;Nr<Pr;Nr++)kn(kr[Nr],qn,!1);for(var Nr=0,Pr=er.length;Nr<Pr;Nr++){var Ar=er[Nr],Ur;Ar.nodeType===1&&!/^defs$/i.test(Ar.nodeName)&&(Ur=kn(Ar,qn,!1))&&!(Ur instanceof Dt)&&Sr.push(Ur)}return _r.addChildren(Sr),fr&&(_r=Hn(_r.reduce(),xn,nr)),xr._currentStyle=vr,(fr||pr)&&(_r.remove(),_r=null),_r}function Pt(xn,Rn){for(var qn=xn.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),nr=[],er=0,fr=qn.length;er<fr;er+=2)nr.push(new ae(parseFloat(qn[er]),parseFloat(qn[er+1])));var pr=new Tn(nr);return Rn==="polygon"&&pr.closePath(),pr}function wn(xn){return Ln.create(xn.getAttribute("d"))}function bn(xn,Rn){var qn=(Ie(xn,"href",!0)||"").substring(1),nr=Rn==="radialgradient",er;if(qn)er=le[qn].getGradient(),er._radial^nr&&(er=er.clone(),er._radial=nr);else{for(var fr=xn.childNodes,pr=[],_r=0,xr=fr.length;_r<xr;_r++){var vr=fr[_r];vr.nodeType===1&&pr.push(Hn(new En,vr))}er=new Vn(pr,nr)}var Sr,kr,Nr,Pr=Ie(xn,"gradientUnits",!0)!=="userSpaceOnUse";nr?(Sr=Ue(xn,"cx","cy",!1,Pr,"50%","50%"),kr=Sr.add(Ie(xn,"r",!1,!1,Pr,"50%"),0),Nr=Ue(xn,"fx","fy",!0,Pr)):(Sr=Ue(xn,"x1","y1",!1,Pr,"0%","0%"),kr=Ue(xn,"x2","y2",!1,Pr,"100%","0%"));var Ar=Hn(new hr(er,Sr,kr,Nr),xn);return Ar._scaleToBounds=Pr,null}var In={"#document":function(xn,Rn,qn,nr){for(var er=xn.childNodes,fr=0,pr=er.length;fr<pr;fr++){var _r=er[fr];if(_r.nodeType===1)return kn(_r,qn,nr)}},g:vn,svg:vn,clippath:vn,polygon:Pt,polyline:Pt,path:wn,lineargradient:bn,radialgradient:bn,image:function(xn){var Rn=new At(Ie(xn,"href",!0));return Rn.on("load",function(){var qn=qe(xn);this.setSize(qn);var nr=Ue(xn).add(qn.divide(2));this._matrix.append(new xe().translate(nr))}),Rn},symbol:function(xn,Rn,qn,nr){return new Dt(vn(xn,Rn,qn,nr),!0)},defs:vn,use:function(xn){var Rn=(Ie(xn,"href",!0)||"").substring(1),qn=le[Rn],nr=Ue(xn);return qn?qn instanceof Dt?qn.place(nr):qn.clone().translate(nr):null},circle:function(xn){return new kt.Circle(Ue(xn,"cx","cy"),Ie(xn,"r"))},ellipse:function(xn){return new kt.Ellipse({center:Ue(xn,"cx","cy"),radius:qe(xn,"rx","ry")})},rect:function(xn){return new kt.Rectangle(new he(Ue(xn),qe(xn)),qe(xn,"rx","ry"))},line:function(xn){return new Tn.Line(Ue(xn,"x1","y1"),Ue(xn,"x2","y2"))},text:function(xn){var Rn=new ur(Ue(xn).add(Ue(xn,"dx","dy")));return Rn.setContent(xn.textContent.trim()||""),Rn},switch:vn};function Fn(xn,Rn,qn,nr){if(xn.transform){for(var er=(nr.getAttribute(qn)||"").split(/\)\s*/g),fr=new xe,pr=0,_r=er.length;pr<_r;pr++){var xr=er[pr];if(!xr)break;for(var vr=xr.split(/\(\s*/),Sr=vr[0].trim(),kr=vr[1].split(/[\s,]+/g),Nr=0,Pr=kr.length;Nr<Pr;Nr++)kr[Nr]=parseFloat(kr[Nr]);switch(Sr){case"matrix":fr.append(new xe(kr[0],kr[1],kr[2],kr[3],kr[4],kr[5]));break;case"rotate":fr.rotate(kr[0],kr[1]||0,kr[2]||0);break;case"translate":fr.translate(kr[0],kr[1]||0);break;case"scale":fr.scale(kr);break;case"skewX":fr.skew(kr[0],0);break;case"skewY":fr.skew(0,kr[0]);break}}xn.transform(fr)}}function Dn(xn,Rn,qn){var nr=qn==="fill-opacity"?"getFillColor":"getStrokeColor",er=xn[nr]&&xn[nr]();er&&er.setAlpha(parseFloat(Rn))}var Un=k.set(k.each(mr,function(xn){this[xn.attribute]=function(Rn,qn){if(Rn[xn.set]&&(Rn[xn.set](Et(qn,xn.type,xn.fromSVG)),xn.type==="color")){var nr=Rn[xn.get]();if(nr&&nr._scaleToBounds){var er=Rn.getBounds();nr.transform(new xe().translate(er.getPoint()).scale(er.getSize()))}}}},{}),{id:function(xn,Rn){le[Rn]=xn,xn.setName&&xn.setName(Rn)},"clip-path":function(xn,Rn){var qn=tr(Rn);if(qn)if(qn=qn.clone(),qn.setClipMask(!0),xn instanceof Fe)xn.insertChild(0,qn);else return new Fe(qn,xn)},gradientTransform:Fn,transform:Fn,"fill-opacity":Dn,"stroke-opacity":Dn,visibility:function(xn,Rn){xn.setVisible&&xn.setVisible(Rn==="visible")},display:function(xn,Rn){xn.setVisible&&xn.setVisible(Rn!==null)},"stop-color":function(xn,Rn){xn.setColor&&xn.setColor(Rn)},"stop-opacity":function(xn,Rn){xn._color&&xn._color.setAlpha(parseFloat(Rn))},offset:function(xn,Rn){if(xn.setOffset){var qn=Rn.match(/(.*)%$/);xn.setOffset(qn?qn[1]/100:parseFloat(Rn))}},viewBox:function(xn,Rn,qn,nr,er){var fr=new he(Et(Rn,"array")),pr=qe(nr,null,null,!0),_r,xr;if(xn instanceof Fe){var vr=pr?pr.divide(fr.getSize()):1,xr=new xe().scale(vr).translate(fr.getPoint().negate());_r=xn}else xn instanceof Dt&&(pr&&fr.setSize(pr),_r=xn._item);if(_r){if(Jn(nr,"overflow",er)!=="visible"){var Sr=new kt.Rectangle(fr);Sr.setClipMask(!0),_r.addChild(Sr)}xr&&_r.transform(xr)}}});function Jn(xn,Rn,qn){var nr=xn.attributes[Rn],er=nr&&nr.value;if(!er&&xn.style){var fr=k.camelize(Rn);er=xn.style[fr],!er&&qn.node[fr]!==qn.parent[fr]&&(er=qn.node[fr])}return er?er==="none"?null:er:r}function Hn(xn,Rn,qn){var nr=Rn.parentNode,er={node:cr.getStyles(Rn)||{},parent:!qn&&!/^defs$/i.test(nr.tagName)&&cr.getStyles(nr)||{}};return k.each(Un,function(fr,pr){var _r=Jn(Rn,pr,er);xn=_r!==r&&fr(xn,_r,pr,Rn,er)||xn}),xn}function tr(xn){var Rn=xn&&xn.match(/\((?:["'#]*)([^"')]+)/),qn=Rn&&Rn[1],nr=qn&&le[g?qn.replace(g.location.href.split("#")[0]+"#",""):qn];return nr&&nr._scaleToBounds&&(nr=nr.clone(),nr._scaleToBounds=!0),nr}function kn(xn,Rn,qn){var nr=xn.nodeName.toLowerCase(),er=nr!=="#document",fr=y.body,pr,_r,xr;qn&&er&&(_e=lr.getView().getSize(),_e=qe(xn,null,null,!0)||_e,pr=sr.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),_r=xn.parentNode,xr=xn.nextSibling,pr.appendChild(xn),fr.appendChild(pr));var vr=lr.settings,Sr=vr.applyMatrix,kr=vr.insertItems;vr.applyMatrix=!1,vr.insertItems=!1;var Nr=In[nr],Pr=Nr&&Nr(xn,nr,Rn,qn)||null;if(vr.insertItems=kr,vr.applyMatrix=Sr,Pr){er&&!(Pr instanceof Fe)&&(Pr=Hn(Pr,xn,qn));var Ar=Rn.onImport,Ur=er&&xn.getAttribute("data-paper-data");Ar&&(Pr=Ar(xn,Pr,Rn)||Pr),Rn.expandShapes&&Pr instanceof kt&&(Pr.remove(),Pr=Pr.toPath()),Ur&&(Pr._data=JSON.parse(Ur))}return pr&&(fr.removeChild(pr),_r&&(xr?_r.insertBefore(xn,xr):_r.appendChild(xn))),qn&&(le={},Pr&&k.pick(Rn.applyMatrix,Sr)&&Pr.matrix.apply(!0,!0)),Pr}function zn(xn,Rn,qn){if(!xn)return null;Rn=typeof Rn=="function"?{onLoad:Rn}:Rn||{};var nr=lr,er=null;function fr(vr){try{var Sr=typeof vr=="object"?vr:new e.DOMParser().parseFromString(vr.trim(),"image/svg+xml");if(!Sr.nodeName)throw Sr=null,new Error("Unsupported SVG source: "+xn);lr=nr,er=kn(Sr,Rn,!0),(!Rn||Rn.insert!==!1)&&qn._insertItem(r,er);var kr=Rn.onLoad;kr&&kr(er,vr)}catch(Nr){pr(Nr)}}function pr(vr,Sr){var kr=Rn.onError;if(kr)kr(vr,Sr);else throw new Error(vr)}if(typeof xn=="string"&&!/^[\s\S]*</.test(xn)){var _r=y.getElementById(xn);_r?fr(_r):Xn.request({url:xn,async:!0,onLoad:fr,onError:pr})}else if(typeof File<"u"&&xn instanceof File){var xr=new FileReader;return xr.onload=function(){fr(xr.result)},xr.onerror=function(){pr(xr.error)},xr.readAsText(xn)}else fr(xn);return er}Ce.inject({importSVG:function(xn,Rn){return zn(xn,Rn,this)}}),Ne.inject({importSVG:function(xn,Rn){return this.activate(),zn(xn,Rn,this)}})},k.exports.PaperScript=function(){var le=this,_e=le.acorn;if(!_e&&typeof commonjsRequire<"u")try{_e=requireAcorn()}catch{}if(!_e){var Ie,Ue;_e=Ie=Ue={},function(Hn,tr){if(typeof Ie=="object"&&typeof Ue=="object")return tr(Ie);if(typeof r=="function"&&r.amd)return r(["exports"],tr);tr(Hn.acorn||(Hn.acorn={}))}(this,function(Hn){Hn.version="0.5.0";var tr,kn,zn,xn;Hn.parse=function(wr,Er){return kn=String(wr),zn=kn.length,qn(Er),Da(),pi(tr.program)};var Rn=Hn.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function qn(wr){tr=wr||{};for(var Er in Rn)Object.prototype.hasOwnProperty.call(tr,Er)||(tr[Er]=Rn[Er]);xn=tr.sourceFile||null}var nr=Hn.getLineInfo=function(wr,Er){for(var Dr=1,Fr=0;;){ta.lastIndex=Fr;var so=ta.exec(wr);if(so&&so.index<Er)++Dr,Fr=so.index+so[0].length;else break}return{line:Dr,column:Er-Fr}};Hn.tokenize=function(wr,Er){kn=String(wr),zn=kn.length,qn(Er),Da();var Dr={};function Fr(so){return Ur=pr,Xo(so),Dr.start=fr,Dr.end=pr,Dr.startLoc=_r,Dr.endLoc=xr,Dr.type=vr,Dr.value=Sr,Dr}return Fr.jumpTo=function(so,co){if(er=so,tr.locations){Nr=1,Pr=ta.lastIndex=0;for(var fo;(fo=ta.exec(kn))&&fo.index<so;)++Nr,Pr=fo.index+fo[0].length}kr=co,na()},Fr};var er,fr,pr,_r,xr,vr,Sr,kr,Nr,Pr,Ar,Ur,jr,Hr,Kr,Rr;function Lr(wr,Er){var Dr=nr(kn,wr);Er+=" ("+Dr.line+":"+Dr.column+")";var Fr=new SyntaxError(Er);throw Fr.pos=wr,Fr.loc=Dr,Fr.raisedAt=er,Fr}var Yr=[],eo={type:"num"},Jr={type:"regexp"},oo={type:"string"},ro={type:"name"},ao={type:"eof"},lo={keyword:"break"},io={keyword:"case",beforeExpr:!0},Xr={keyword:"catch"},yo={keyword:"continue"},ko={keyword:"debugger"},xo={keyword:"default"},_o={keyword:"do",isLoop:!0},So={keyword:"else",beforeExpr:!0},Io={keyword:"finally"},Eo={keyword:"for",isLoop:!0},dr={keyword:"function"},Or={keyword:"if"},yr={keyword:"return",beforeExpr:!0},Tr={keyword:"switch"},Ir={keyword:"throw",beforeExpr:!0},$r={keyword:"try"},Mr={keyword:"var"},zr={keyword:"while",isLoop:!0},Gr={keyword:"with"},Qr={keyword:"new",beforeExpr:!0},Wr={keyword:"this"},no={keyword:"null",atomValue:null},uo={keyword:"true",atomValue:!0},to={keyword:"false",atomValue:!1},vo={keyword:"in",binop:7,beforeExpr:!0},Oo={break:lo,case:io,catch:Xr,continue:yo,debugger:ko,default:xo,do:_o,else:So,finally:Io,for:Eo,function:dr,if:Or,return:yr,switch:Tr,throw:Ir,try:$r,var:Mr,while:zr,with:Gr,null:no,true:uo,false:to,new:Qr,in:vo,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Wr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},wo={type:"[",beforeExpr:!0},No={type:"]"},Ro={type:"{",beforeExpr:!0},Lo={type:"}"},Mo={type:"(",beforeExpr:!0},Ve={type:")"},Sn={type:",",beforeExpr:!0},Yn={type:";",beforeExpr:!0},or={type:":",beforeExpr:!0},br={type:"."},Br={type:"?",beforeExpr:!0},Vr={binop:10,beforeExpr:!0},Zr={isAssign:!0,beforeExpr:!0},qr={isAssign:!0,beforeExpr:!0},ho={postfix:!0,prefix:!0,isUpdate:!0},po={prefix:!0,beforeExpr:!0},To={binop:1,beforeExpr:!0},zo={binop:2,beforeExpr:!0},Yo={binop:3,beforeExpr:!0},jo={binop:4,beforeExpr:!0},ea={binop:5,beforeExpr:!0},Qo={binop:6,beforeExpr:!0},Ho={binop:7,beforeExpr:!0},Wa={binop:8,beforeExpr:!0},Za={binop:9,prefix:!0,beforeExpr:!0},Ya={binop:10,beforeExpr:!0};Hn.tokTypes={bracketL:wo,bracketR:No,braceL:Ro,braceR:Lo,parenL:Mo,parenR:Ve,comma:Sn,semi:Yn,colon:or,dot:br,question:Br,slash:Vr,eq:Zr,name:ro,eof:ao,num:eo,regexp:Jr,string:oo};for(var Pa in Oo)Hn.tokTypes["_"+Pa]=Oo[Pa];function oa(wr){wr=wr.split(" ");var Er="",Dr=[];e:for(var Fr=0;Fr<wr.length;++Fr){for(var so=0;so<Dr.length;++so)if(Dr[so][0].length==wr[Fr].length){Dr[so].push(wr[Fr]);continue e}Dr.push([wr[Fr]])}function co(Co){if(Co.length==1)return Er+="return str === "+JSON.stringify(Co[0])+";";Er+="switch(str){";for(var Uo=0;Uo<Co.length;++Uo)Er+="case "+JSON.stringify(Co[Uo])+":";Er+="return true}return false;"}if(Dr.length>3){Dr.sort(function(Co,Uo){return Uo.length-Co.length}),Er+="switch(str.length){";for(var Fr=0;Fr<Dr.length;++Fr){var fo=Dr[Fr];Er+="case "+fo[0].length+":",co(fo)}Er+="}"}else co(wr);return new Function("str",Er)}var qa=oa("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Xa=oa("class enum extends super const export import"),Ia=oa("implements interface let package private protected public static yield"),ca=oa("eval arguments"),Ka=oa("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ja=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ba="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",ei="------------------------------------------------------------------------------------------------------------------------------------------",Aa=new RegExp("["+Ba+"]"),ti=new RegExp("["+Ba+ei+"]"),ua=/[\n\r\u2028\u2029]/,ta=/\r\n|[\n\r\u2028\u2029]/g,da=Hn.isIdentifierStart=function(wr){return wr<65?wr===36:wr<91?!0:wr<97?wr===95:wr<123?!0:wr>=170&&Aa.test(String.fromCharCode(wr))},Va=Hn.isIdentifierChar=function(wr){return wr<48?wr===36:wr<58?!0:wr<65?!1:wr<91?!0:wr<97?wr===95:wr<123?!0:wr>=170&&ti.test(String.fromCharCode(wr))};function qo(){this.line=Nr,this.column=er-Pr}function Da(){Nr=1,er=Pr=0,kr=!0,na()}function Bo(wr,Er){pr=er,tr.locations&&(xr=new qo),vr=wr,na(),Sr=Er,kr=wr.beforeExpr}function ni(){var wr=tr.onComment&&tr.locations&&new qo,Er=er,Dr=kn.indexOf("*/",er+=2);if(Dr===-1&&Lr(er-2,"Unterminated comment"),er=Dr+2,tr.locations){ta.lastIndex=Er;for(var Fr;(Fr=ta.exec(kn))&&Fr.index<er;)++Nr,Pr=Fr.index+Fr[0].length}tr.onComment&&tr.onComment(!0,kn.slice(Er+2,Dr),Er,er,wr,tr.locations&&new qo)}function va(){for(var wr=er,Er=tr.onComment&&tr.locations&&new qo,Dr=kn.charCodeAt(er+=2);er<zn&&Dr!==10&&Dr!==13&&Dr!==8232&&Dr!==8233;)++er,Dr=kn.charCodeAt(er);tr.onComment&&tr.onComment(!1,kn.slice(wr+2,er),wr,er,Er,tr.locations&&new qo)}function na(){for(;er<zn;){var wr=kn.charCodeAt(er);if(wr===32)++er;else if(wr===13){++er;var Er=kn.charCodeAt(er);Er===10&&++er,tr.locations&&(++Nr,Pr=er)}else if(wr===10||wr===8232||wr===8233)++er,tr.locations&&(++Nr,Pr=er);else if(wr>8&&wr<14)++er;else if(wr===47){var Er=kn.charCodeAt(er+1);if(Er===42)ni();else if(Er===47)va();else break}else if(wr===160)++er;else if(wr>=5760&&Ja.test(String.fromCharCode(wr)))++er;else break}}function ri(){var wr=kn.charCodeAt(er+1);return wr>=48&&wr<=57?Ma(!0):(++er,Bo(br))}function oi(){var wr=kn.charCodeAt(er+1);return kr?(++er,Ra()):wr===61?Ao(qr,2):Ao(Vr,1)}function ai(){var wr=kn.charCodeAt(er+1);return wr===61?Ao(qr,2):Ao(Ya,1)}function ii(wr){var Er=kn.charCodeAt(er+1);return Er===wr?Ao(wr===124?To:zo,2):Er===61?Ao(qr,2):Ao(wr===124?Yo:ea,1)}function si(){var wr=kn.charCodeAt(er+1);return wr===61?Ao(qr,2):Ao(jo,1)}function li(wr){var Er=kn.charCodeAt(er+1);return Er===wr?Er==45&&kn.charCodeAt(er+2)==62&&ua.test(kn.slice(Ur,er))?(er+=3,va(),na(),Xo()):Ao(ho,2):Er===61?Ao(qr,2):Ao(Za,1)}function ci(wr){var Er=kn.charCodeAt(er+1),Dr=1;return Er===wr?(Dr=wr===62&&kn.charCodeAt(er+2)===62?3:2,kn.charCodeAt(er+Dr)===61?Ao(qr,Dr+1):Ao(Wa,Dr)):Er==33&&wr==60&&kn.charCodeAt(er+2)==45&&kn.charCodeAt(er+3)==45?(er+=4,va(),na(),Xo()):(Er===61&&(Dr=kn.charCodeAt(er+2)===61?3:2),Ao(Ho,Dr))}function ui(wr){var Er=kn.charCodeAt(er+1);return Er===61?Ao(Qo,kn.charCodeAt(er+2)===61?3:2):Ao(wr===61?Zr:po,1)}function di(wr){switch(wr){case 46:return ri();case 40:return++er,Bo(Mo);case 41:return++er,Bo(Ve);case 59:return++er,Bo(Yn);case 44:return++er,Bo(Sn);case 91:return++er,Bo(wo);case 93:return++er,Bo(No);case 123:return++er,Bo(Ro);case 125:return++er,Bo(Lo);case 58:return++er,Bo(or);case 63:return++er,Bo(Br);case 48:var Er=kn.charCodeAt(er+1);if(Er===120||Er===88)return fi();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ma(!1);case 34:case 39:return hi(wr);case 47:return oi();case 37:case 42:return ai();case 124:case 38:return ii(wr);case 94:return si();case 43:case 45:return li(wr);case 60:case 62:return ci(wr);case 61:case 33:return ui(wr);case 126:return Ao(po,1)}return!1}function Xo(wr){if(wr?er=fr+1:fr=er,tr.locations&&(_r=new qo),wr)return Ra();if(er>=zn)return Bo(ao);var Er=kn.charCodeAt(er);if(da(Er)||Er===92)return Fa();var Dr=di(Er);if(Dr===!1){var Fr=String.fromCharCode(Er);if(Fr==="\\"||Aa.test(Fr))return Fa();Lr(er,"Unexpected character '"+Fr+"'")}return Dr}function Ao(wr,Er){var Dr=kn.slice(er,er+Er);er+=Er,Bo(wr,Dr)}function Ra(){for(var so="",wr,Er,Dr=er;;){er>=zn&&Lr(Dr,"Unterminated regular expression");var Fr=kn.charAt(er);if(ua.test(Fr)&&Lr(Dr,"Unterminated regular expression"),wr)wr=!1;else{if(Fr==="[")Er=!0;else if(Fr==="]"&&Er)Er=!1;else if(Fr==="/"&&!Er)break;wr=Fr==="\\"}++er}var so=kn.slice(Dr,er);++er;var co=La();co&&!/^[gmsiy]*$/.test(co)&&Lr(Dr,"Invalid regexp flag");try{var fo=new RegExp(so,co)}catch(Co){Co instanceof SyntaxError&&Lr(Dr,Co.message),Lr(Co)}return Bo(Jr,fo)}function aa(wr,Er){for(var Dr=er,Fr=0,so=0,co=Er??1/0;so<co;++so){var fo=kn.charCodeAt(er),Co;if(fo>=97?Co=fo-97+10:fo>=65?Co=fo-65+10:fo>=48&&fo<=57?Co=fo-48:Co=1/0,Co>=wr)break;++er,Fr=Fr*wr+Co}return er===Dr||Er!=null&&er-Dr!==Er?null:Fr}function fi(){er+=2;var wr=aa(16);return wr==null&&Lr(fr+2,"Expected hexadecimal number"),da(kn.charCodeAt(er))&&Lr(er,"Identifier directly after number"),Bo(eo,wr)}function Ma(wr){var Er=er,Dr=!1,Fr=kn.charCodeAt(er)===48;!wr&&aa(10)===null&&Lr(Er,"Invalid number"),kn.charCodeAt(er)===46&&(++er,aa(10),Dr=!0);var so=kn.charCodeAt(er);(so===69||so===101)&&(so=kn.charCodeAt(++er),(so===43||so===45)&&++er,aa(10)===null&&Lr(Er,"Invalid number"),Dr=!0),da(kn.charCodeAt(er))&&Lr(er,"Identifier directly after number");var co=kn.slice(Er,er),fo;return Dr?fo=parseFloat(co):!Fr||co.length===1?fo=parseInt(co,10):/[89]/.test(co)||Rr?Lr(Er,"Invalid number"):fo=parseInt(co,8),Bo(eo,fo)}function hi(wr){er++;for(var Er="";;){er>=zn&&Lr(fr,"Unterminated string constant");var Dr=kn.charCodeAt(er);if(Dr===wr)return++er,Bo(oo,Er);if(Dr===92){Dr=kn.charCodeAt(++er);var Fr=/^[0-7]+/.exec(kn.slice(er,er+3));for(Fr&&(Fr=Fr[0]);Fr&&parseInt(Fr,8)>255;)Fr=Fr.slice(0,-1);if(Fr==="0"&&(Fr=null),++er,Fr)Rr&&Lr(er-2,"Octal literal in strict mode"),Er+=String.fromCharCode(parseInt(Fr,8)),er+=Fr.length-1;else switch(Dr){case 110:Er+=`
`;break;case 114:Er+="\r";break;case 120:Er+=String.fromCharCode(fa(2));break;case 117:Er+=String.fromCharCode(fa(4));break;case 85:Er+=String.fromCharCode(fa(8));break;case 116:Er+="	";break;case 98:Er+="\b";break;case 118:Er+="\v";break;case 102:Er+="\f";break;case 48:Er+="\0";break;case 13:kn.charCodeAt(er)===10&&++er;case 10:tr.locations&&(Pr=er,++Nr);break;default:Er+=String.fromCharCode(Dr);break}}else(Dr===13||Dr===10||Dr===8232||Dr===8233)&&Lr(fr,"Unterminated string constant"),Er+=String.fromCharCode(Dr),++er}}function fa(wr){var Er=aa(16,wr);return Er===null&&Lr(fr,"Bad character escape sequence"),Er}var ra;function La(){ra=!1;for(var wr,Er=!0,Dr=er;;){var Fr=kn.charCodeAt(er);if(Va(Fr))ra&&(wr+=kn.charAt(er)),++er;else if(Fr===92){ra||(wr=kn.slice(Dr,er)),ra=!0,kn.charCodeAt(++er)!=117&&Lr(er,"Expecting Unicode escape sequence \\uXXXX"),++er;var so=fa(4),co=String.fromCharCode(so);co||Lr(er-1,"Invalid Unicode escape"),(Er?da(so):Va(so))||Lr(er-4,"Invalid Unicode escape"),wr+=co}else break;Er=!1}return ra?wr:kn.slice(Dr,er)}function Fa(){var wr=La(),Er=ro;return!ra&&Ka(wr)&&(Er=Oo[wr]),Bo(Er,wr)}function bo(){Ar=fr,Ur=pr,jr=xr,Xo()}function ya(wr){if(Rr=wr,er=fr,tr.locations)for(;er<Pr;)Pr=kn.lastIndexOf(`
`,Pr-2)+1,--Nr;na(),Xo()}function Ua(){this.type=null,this.start=fr,this.end=null}function za(){this.start=_r,this.end=null,xn!==null&&(this.source=xn)}function Vo(){var wr=new Ua;return tr.locations&&(wr.loc=new za),tr.directSourceFile&&(wr.sourceFile=tr.directSourceFile),tr.ranges&&(wr.range=[fr,0]),wr}function Wo(wr){var Er=new Ua;return Er.start=wr.start,tr.locations&&(Er.loc=new za,Er.loc.start=wr.loc.start),tr.ranges&&(Er.range=[wr.range[0],0]),Er}function go(wr,Er){return wr.type=Er,wr.end=Ur,tr.locations&&(wr.loc.end=jr),tr.ranges&&(wr.range[1]=Ur),wr}function ba(wr){return tr.ecmaVersion>=5&&wr.type==="ExpressionStatement"&&wr.expression.type==="Literal"&&wr.expression.value==="use strict"}function $o(wr){if(vr===wr)return bo(),!0}function ha(){return!tr.strictSemicolons&&(vr===ao||vr===Lo||ua.test(kn.slice(Ur,fr)))}function Ko(){!$o(Yn)&&!ha()&&Go()}function Po(wr){vr===wr?bo():Go()}function Go(){Lr(fr,"Unexpected token")}function pa(wr){wr.type!=="Identifier"&&wr.type!=="MemberExpression"&&Lr(wr.start,"Assigning to rvalue"),Rr&&wr.type==="Identifier"&&ca(wr.name)&&Lr(wr.start,"Assigning to "+wr.name+" in strict mode")}function pi(wr){Ar=Ur=er,tr.locations&&(jr=new qo),Hr=Rr=null,Kr=[],Xo();var Er=wr||Vo(),Dr=!0;for(wr||(Er.body=[]);vr!==ao;){var Fr=Fo();Er.body.push(Fr),Dr&&ba(Fr)&&ya(!0),Dr=!1}return go(Er,"Program")}var Ca={kind:"loop"},mi={kind:"switch"};function Fo(){(vr===Vr||vr===qr&&Sr=="/=")&&Xo(!0);var wr=vr,Er=Vo();switch(wr){case lo:case yo:bo();var Dr=wr===lo;$o(Yn)||ha()?Er.label=null:vr!==ro?Go():(Er.label=Zo(),Ko());for(var Fr=0;Fr<Kr.length;++Fr){var so=Kr[Fr];if((Er.label==null||so.name===Er.label.name)&&(so.kind!=null&&(Dr||so.kind==="loop")||Er.label&&Dr))break}return Fr===Kr.length&&Lr(Er.start,"Unsyntactic "+wr.keyword),go(Er,Dr?"BreakStatement":"ContinueStatement");case ko:return bo(),Ko(),go(Er,"DebuggerStatement");case _o:return bo(),Kr.push(Ca),Er.body=Fo(),Kr.pop(),Po(zr),Er.test=ia(),Ko(),go(Er,"DoWhileStatement");case Eo:if(bo(),Kr.push(Ca),Po(Mo),vr===Yn)return wa(Er,null);if(vr===Mr){var co=Vo();return bo(),ja(co,!0),go(co,"VariableDeclaration"),co.declarations.length===1&&$o(vo)?Ga(Er,co):wa(Er,co)}var co=Do(!1,!0);return $o(vo)?(pa(co),Ga(Er,co)):wa(Er,co);case dr:return bo(),Ea(Er,!0);case Or:return bo(),Er.test=ia(),Er.consequent=Fo(),Er.alternate=$o(So)?Fo():null,go(Er,"IfStatement");case yr:return!Hr&&!tr.allowReturnOutsideFunction&&Lr(fr,"'return' outside of function"),bo(),$o(Yn)||ha()?Er.argument=null:(Er.argument=Do(),Ko()),go(Er,"ReturnStatement");case Tr:bo(),Er.discriminant=ia(),Er.cases=[],Po(Ro),Kr.push(mi);for(var fo,Co;vr!=Lo;)if(vr===io||vr===xo){var Uo=vr===io;fo&&go(fo,"SwitchCase"),Er.cases.push(fo=Vo()),fo.consequent=[],bo(),Uo?fo.test=Do():(Co&&Lr(Ar,"Multiple default clauses"),Co=!0,fo.test=null),Po(or)}else fo||Go(),fo.consequent.push(Fo());return fo&&go(fo,"SwitchCase"),bo(),Kr.pop(),go(Er,"SwitchStatement");case Ir:return bo(),ua.test(kn.slice(Ur,fr))&&Lr(Ur,"Illegal newline after throw"),Er.argument=Do(),Ko(),go(Er,"ThrowStatement");case $r:if(bo(),Er.block=sa(),Er.handler=null,vr===Xr){var Jo=Vo();bo(),Po(Mo),Jo.param=Zo(),Rr&&ca(Jo.param.name)&&Lr(Jo.param.start,"Binding "+Jo.param.name+" in strict mode"),Po(Ve),Jo.guard=null,Jo.body=sa(),Er.handler=go(Jo,"CatchClause")}return Er.guardedHandlers=Yr,Er.finalizer=$o(Io)?sa():null,!Er.handler&&!Er.finalizer&&Lr(Er.start,"Missing catch or finally clause"),go(Er,"TryStatement");case Mr:return bo(),ja(Er),Ko(),go(Er,"VariableDeclaration");case zr:return bo(),Er.test=ia(),Kr.push(Ca),Er.body=Fo(),Kr.pop(),go(Er,"WhileStatement");case Gr:return Rr&&Lr(fr,"'with' in strict mode"),bo(),Er.object=ia(),Er.body=Fo(),go(Er,"WithStatement");case Ro:return sa();case Yn:return bo(),go(Er,"EmptyStatement");default:var Ta=Sr,ma=Do();if(wr===ro&&ma.type==="Identifier"&&$o(or)){for(var Fr=0;Fr<Kr.length;++Fr)Kr[Fr].name===Ta&&Lr(ma.start,"Label '"+Ta+"' is already declared");var Ci=vr.isLoop?"loop":vr===Tr?"switch":null;return Kr.push({name:Ta,kind:Ci}),Er.body=Fo(),Kr.pop(),Er.label=ma,go(Er,"LabeledStatement")}else return Er.expression=ma,Ko(),go(Er,"ExpressionStatement")}}function ia(){Po(Mo);var wr=Do();return Po(Ve),wr}function sa(wr){var Er=Vo(),Dr=!0,Fr=!1,so;for(Er.body=[],Po(Ro);!$o(Lo);){var co=Fo();Er.body.push(co),Dr&&wr&&ba(co)&&(so=Fr,ya(Fr=!0)),Dr=!1}return Fr&&!so&&ya(!1),go(Er,"BlockStatement")}function wa(wr,Er){return wr.init=Er,Po(Yn),wr.test=vr===Yn?null:Do(),Po(Yn),wr.update=vr===Ve?null:Do(),Po(Ve),wr.body=Fo(),Kr.pop(),go(wr,"ForStatement")}function Ga(wr,Er){return wr.left=Er,wr.right=Do(),Po(Ve),wr.body=Fo(),Kr.pop(),go(wr,"ForInStatement")}function ja(wr,Er){for(wr.declarations=[],wr.kind="var";;){var Dr=Vo();if(Dr.id=Zo(),Rr&&ca(Dr.id.name)&&Lr(Dr.id.start,"Binding "+Dr.id.name+" in strict mode"),Dr.init=$o(Zr)?Do(!0,Er):null,wr.declarations.push(go(Dr,"VariableDeclarator")),!$o(Sn))break}return wr}function Do(wr,Er){var Dr=Sa(Er);if(!wr&&vr===Sn){var Fr=Wo(Dr);for(Fr.expressions=[Dr];$o(Sn);)Fr.expressions.push(Sa(Er));return go(Fr,"SequenceExpression")}return Dr}function Sa(wr){var Er=gi(wr);if(vr.isAssign){var Dr=Wo(Er);return Dr.operator=Sr,Dr.left=Er,bo(),Dr.right=Sa(wr),pa(Er),go(Dr,"AssignmentExpression")}return Er}function gi(wr){var Er=vi(wr);if($o(Br)){var Dr=Wo(Er);return Dr.test=Er,Dr.consequent=Do(!0),Po(or),Dr.alternate=Do(!0,wr),go(Dr,"ConditionalExpression")}return Er}function vi(wr){return Oa(xa(),-1,wr)}function Oa(wr,Er,Dr){var Fr=vr.binop;if(Fr!=null&&(!Dr||vr!==vo)&&Fr>Er){var so=Wo(wr);so.left=wr,so.operator=Sr;var co=vr;bo(),so.right=Oa(xa(),Fr,Dr);var fo=go(so,co===To||co===zo?"LogicalExpression":"BinaryExpression");return Oa(fo,Er,Dr)}return wr}function xa(){if(vr.prefix){var wr=Vo(),Er=vr.isUpdate;return wr.operator=Sr,wr.prefix=!0,kr=!0,bo(),wr.argument=xa(),Er?pa(wr.argument):Rr&&wr.operator==="delete"&&wr.argument.type==="Identifier"&&Lr(wr.start,"Deleting local variable in strict mode"),go(wr,Er?"UpdateExpression":"UnaryExpression")}for(var Dr=yi();vr.postfix&&!ha();){var wr=Wo(Dr);wr.operator=Sr,wr.prefix=!1,wr.argument=Dr,pa(Dr),bo(),Dr=go(wr,"UpdateExpression")}return Dr}function yi(){return la(ka())}function la(wr,Er){if($o(br)){var Dr=Wo(wr);return Dr.object=wr,Dr.property=Zo(!0),Dr.computed=!1,la(go(Dr,"MemberExpression"),Er)}else if($o(wo)){var Dr=Wo(wr);return Dr.object=wr,Dr.property=Do(),Dr.computed=!0,Po(No),la(go(Dr,"MemberExpression"),Er)}else if(!Er&&$o(Mo)){var Dr=Wo(wr);return Dr.callee=wr,Dr.arguments=$a(Ve,!1),la(go(Dr,"CallExpression"),Er)}else return wr}function ka(){switch(vr){case Wr:var Fr=Vo();return bo(),go(Fr,"ThisExpression");case ro:return Zo();case eo:case oo:case Jr:var Fr=Vo();return Fr.value=Sr,Fr.raw=kn.slice(fr,pr),bo(),go(Fr,"Literal");case no:case uo:case to:var Fr=Vo();return Fr.value=vr.atomValue,Fr.raw=vr.keyword,bo(),go(Fr,"Literal");case Mo:var wr=_r,Er=fr;bo();var Dr=Do();return Dr.start=Er,Dr.end=pr,tr.locations&&(Dr.loc.start=wr,Dr.loc.end=xr),tr.ranges&&(Dr.range=[Er,pr]),Po(Ve),Dr;case wo:var Fr=Vo();return bo(),Fr.elements=$a(No,!0,!0),go(Fr,"ArrayExpression");case Ro:return bi();case dr:var Fr=Vo();return bo(),Ea(Fr,!1);case Qr:return _i();default:Go()}}function _i(){var wr=Vo();return bo(),wr.callee=la(ka(),!0),$o(Mo)?wr.arguments=$a(Ve,!1):wr.arguments=Yr,go(wr,"NewExpression")}function bi(){var wr=Vo(),Er=!0,Dr=!1;for(wr.properties=[],bo();!$o(Lo);){if(Er)Er=!1;else if(Po(Sn),tr.allowTrailingCommas&&$o(Lo))break;var Fr={key:Qa()},so=!1,co;if($o(or)?(Fr.value=Do(!0),co=Fr.kind="init"):tr.ecmaVersion>=5&&Fr.key.type==="Identifier"&&(Fr.key.name==="get"||Fr.key.name==="set")?(so=Dr=!0,co=Fr.kind=Fr.key.name,Fr.key=Qa(),vr!==Mo&&Go(),Fr.value=Ea(Vo(),!1)):Go(),Fr.key.type==="Identifier"&&(Rr||Dr))for(var fo=0;fo<wr.properties.length;++fo){var Co=wr.properties[fo];if(Co.key.name===Fr.key.name){var Uo=co==Co.kind||so&&Co.kind==="init"||co==="init"&&(Co.kind==="get"||Co.kind==="set");Uo&&!Rr&&co==="init"&&Co.kind==="init"&&(Uo=!1),Uo&&Lr(Fr.key.start,"Redefinition of property")}}wr.properties.push(Fr)}return go(wr,"ObjectExpression")}function Qa(){return vr===eo||vr===oo?ka():Zo(!0)}function Ea(wr,Er){vr===ro?wr.id=Zo():Er?Go():wr.id=null,wr.params=[];var Dr=!0;for(Po(Mo);!$o(Ve);)Dr?Dr=!1:Po(Sn),wr.params.push(Zo());var Fr=Hr,so=Kr;if(Hr=!0,Kr=[],wr.body=sa(!0),Hr=Fr,Kr=so,Rr||wr.body.body.length&&ba(wr.body.body[0]))for(var co=wr.id?-1:0;co<wr.params.length;++co){var fo=co<0?wr.id:wr.params[co];if((Ia(fo.name)||ca(fo.name))&&Lr(fo.start,"Defining '"+fo.name+"' in strict mode"),co>=0)for(var Co=0;Co<co;++Co)fo.name===wr.params[Co].name&&Lr(fo.start,"Argument name clash in strict mode")}return go(wr,Er?"FunctionDeclaration":"FunctionExpression")}function $a(wr,Er,Dr){for(var Fr=[],so=!0;!$o(wr);){if(so)so=!1;else if(Po(Sn),Er&&tr.allowTrailingCommas&&$o(wr))break;Dr&&vr===Sn?Fr.push(null):Fr.push(Do(!0))}return Fr}function Zo(wr){var Er=Vo();return wr&&tr.forbidReserved=="everywhere"&&(wr=!1),vr===ro?(!wr&&(tr.forbidReserved&&(tr.ecmaVersion===3?qa:Xa)(Sr)||Rr&&Ia(Sr))&&kn.slice(fr,pr).indexOf("\\")==-1&&Lr(fr,"The keyword '"+Sr+"' is reserved"),Er.name=Sr):wr&&vr.keyword?Er.name=vr.keyword:Go(),kr=!1,bo(),go(Er,"Identifier")}}),_e.version||(_e=null)}function qe(Hn,tr){return(le.acorn||_e).parse(Hn,tr)}var Et={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},vn={"-":"__negate","+":"__self"},Pt=k.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(Hn){this["__"+Hn]="#"+Hn},{__self:function(){return this}});ae.inject(Pt),ue.inject(Pt),hr.inject(Pt);function wn(Hn,tr,kn){var zn=Et[tr];if(Hn&&Hn[zn]){var xn=Hn[zn](kn);return tr==="!="?!xn:xn}switch(tr){case"+":return Hn+kn;case"-":return Hn-kn;case"*":return Hn*kn;case"/":return Hn/kn;case"%":return Hn%kn;case"==":return Hn==kn;case"!=":return Hn!=kn}}function bn(Hn,tr){var kn=vn[Hn];if(tr&&tr[kn])return tr[kn]();switch(Hn){case"+":return+tr;case"-":return-tr}}function In(Hn,tr){if(!Hn)return"";tr=tr||{};var kn=[];function zn(Rr){for(var Lr=0,Yr=kn.length;Lr<Yr;Lr++){var eo=kn[Lr];if(eo[0]>=Rr)break;Rr+=eo[1]}return Rr}function xn(Rr){return Hn.substring(zn(Rr.range[0]),zn(Rr.range[1]))}function Rn(Rr,Lr){return Hn.substring(zn(Rr.range[1]),zn(Lr.range[0]))}function qn(Rr,Lr){for(var Yr=zn(Rr.range[0]),eo=zn(Rr.range[1]),Jr=0,oo=kn.length-1;oo>=0;oo--)if(Yr>kn[oo][0]){Jr=oo+1;break}kn.splice(Jr,0,[Yr,Lr.length-eo+Yr]),Hn=Hn.substring(0,Yr)+Lr+Hn.substring(eo)}function nr(Rr,Lr){switch(Rr.type){case"UnaryExpression":if(Rr.operator in vn&&Rr.argument.type!=="Literal"){var Yr=xn(Rr.argument);qn(Rr,'$__("'+Rr.operator+'", '+Yr+")")}break;case"BinaryExpression":if(Rr.operator in Et&&Rr.left.type!=="Literal"){var eo=xn(Rr.left),Jr=xn(Rr.right),oo=Rn(Rr.left,Rr.right),ro=Rr.operator;qn(Rr,"__$__("+eo+","+oo.replace(new RegExp("\\"+ro),'"'+ro+'"')+", "+Jr+")")}break;case"UpdateExpression":case"AssignmentExpression":var ao=Lr&&Lr.type;if(!(ao==="ForStatement"||ao==="BinaryExpression"&&/^[=!<>]/.test(Lr.operator)||ao==="MemberExpression"&&Lr.computed)){if(Rr.type==="UpdateExpression"){var Yr=xn(Rr.argument),lo="__$__("+Yr+', "'+Rr.operator[0]+'", 1)',io=Yr+" = "+lo;Rr.prefix?io="("+io+")":(ao==="AssignmentExpression"||ao==="VariableDeclarator"||ao==="BinaryExpression")&&(xn(Lr.left||Lr.id)===Yr&&(io=lo),io=Yr+"; "+io),qn(Rr,io)}else if(/^.=$/.test(Rr.operator)&&Rr.left.type!=="Literal"){var eo=xn(Rr.left),Jr=xn(Rr.right),lo=eo+" = __$__("+eo+', "'+Rr.operator[0]+'", '+Jr+")";qn(Rr,/^\(.*\)$/.test(xn(Rr))?"("+lo+")":lo)}}break}}function er(Rr){switch(Rr.type){case"ExportDefaultDeclaration":qn({range:[Rr.start,Rr.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Lr=Rr.declaration,Yr=Rr.specifiers;if(Lr){var eo=Lr.declarations;eo&&(eo.forEach(function(oo){qn(oo,"module.exports."+xn(oo))}),qn({range:[Rr.start,Lr.start+Lr.kind.length]},""))}else if(Yr){var Jr=Yr.map(function(oo){var ro=xn(oo);return"module.exports."+ro+" = "+ro+"; "}).join("");Jr&&qn(Rr,Jr)}break}}function fr(Rr,Lr,Yr){if(Rr){for(var eo in Rr)if(eo!=="range"&&eo!=="loc"){var Jr=Rr[eo];if(Array.isArray(Jr))for(var oo=0,ro=Jr.length;oo<ro;oo++)fr(Jr[oo],Rr,Yr);else Jr&&typeof Jr=="object"&&fr(Jr,Rr,Yr)}Yr.operatorOverloading!==!1&&nr(Rr,Lr),Yr.moduleExports!==!1&&er(Rr)}}function pr(Rr){var Lr="",Yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Rr=(Math.abs(Rr)<<1)+(Rr<0?1:0);Rr||!Lr;){var eo=Rr&31;Rr>>=5,Rr&&(eo|=32),Lr+=Yr[eo]}return Lr}var _r=tr.url||"",xr=tr.sourceMaps,vr=tr.paperFeatures||{},Sr=tr.source||Hn,kr=tr.offset||0,Nr=lr.agent,Pr=Nr.versionNumber,Ar=!1,Ur=/\r\n|\n|\r/mg,jr;if(xr&&(Nr.chrome&&Pr>=30||Nr.webkit&&Pr>=537.76||Nr.firefox&&Pr>=23||Nr.node)){if(Nr.node)kr-=2;else if(g&&_r&&!g.location.href.indexOf(_r)){var Hr=y.getElementsByTagName("html")[0].innerHTML;kr=Hr.substr(0,Hr.indexOf(Hn)+1).match(Ur).length+1}Ar=kr>0&&!(Nr.chrome&&Pr>=36||Nr.safari&&Pr>=600||Nr.firefox&&Pr>=40||Nr.node);var Kr=["AA"+pr(Ar?0:kr)+"A"];Kr.length=(Hn.match(Ur)||[]).length+1+(Ar?kr:0),jr={version:3,file:_r,names:[],mappings:Kr.join(";AACA"),sourceRoot:"",sources:[_r],sourcesContent:[Sr]}}return(vr.operatorOverloading!==!1||vr.moduleExports!==!1)&&fr(qe(Hn,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,vr),jr&&(Ar&&(Hn=new Array(kr+1).join(`
`)+Hn),/^(inline|both)$/.test(xr)&&(Hn+=`
//# sourceMappingURL=data:application/json;base64,`+e.btoa(unescape(encodeURIComponent(JSON.stringify(jr))))),Hn+=`
//# sourceURL=`+(_r||"paperscript")),{url:_r,source:Sr,code:Hn,map:jr}}function Fn(Hn,tr,kn){lr=tr;var zn=tr.getView(),xn=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(Hn)&&!/\bnew\s+Tool\b/.test(Hn)?new _n:null,Rn=xn?xn._events:[],qn=["onFrame","onResize"].concat(Rn),nr=[],er=[],fr,pr=typeof Hn=="object"?Hn:In(Hn,kn);Hn=pr.code;function _r(Pr,Ar){for(var Ur in Pr)(Ar||!/^_/.test(Ur))&&new RegExp("([\\b\\s\\W]|^)"+Ur.replace(/\$/g,"\\$")+"\\b").test(Hn)&&(nr.push(Ur),er.push(Pr[Ur]))}_r({__$__:wn,$__:bn,paper:tr,tool:xn},!0),_r(tr),Hn="var module = { exports: {} }; "+Hn;var kr=k.each(qn,function(Pr){new RegExp("\\s+"+Pr+"\\b").test(Hn)&&(nr.push(Pr),this.push("module.exports."+Pr+" = "+Pr+";"))},[]).join(`
`);kr&&(Hn+=`
`+kr),Hn+=`
return module.exports;`;var xr=lr.agent;if(y&&(xr.chrome||xr.firefox&&xr.versionNumber<40)){var vr=y.createElement("script"),Sr=y.head||y.getElementsByTagName("head")[0];xr.firefox&&(Hn=`
`+Hn),vr.appendChild(y.createTextNode("document.__paperscript__ = function("+nr+") {"+Hn+`
}`)),Sr.appendChild(vr),fr=y.__paperscript__,delete y.__paperscript__,Sr.removeChild(vr)}else fr=Function(nr,Hn);var kr=fr&&fr.apply(tr,er),Nr=kr||{};return k.each(Rn,function(Pr){var Ar=Nr[Pr];Ar&&(xn[Pr]=Ar)}),zn&&(Nr.onResize&&zn.setOnResize(Nr.onResize),zn.emit("resize",{size:zn.size,delta:new ae}),Nr.onFrame&&zn.setOnFrame(Nr.onFrame),zn.requestUpdate()),kr}function Dn(Hn){if(/^text\/(?:x-|)paperscript$/.test(Hn.type)&&V.getAttribute(Hn,"ignore")!=="true"){var tr=V.getAttribute(Hn,"canvas"),kn=y.getElementById(tr),zn=Hn.src||Hn.getAttribute("data-src"),xn=V.hasAttribute(Hn,"async"),Rn="data-paper-scope";if(!kn)throw new Error('Unable to find canvas with id "'+tr+'"');var qn=V.get(kn.getAttribute(Rn))||new V().setup(kn);return kn.setAttribute(Rn,qn._id),zn?Xn.request({url:zn,async:xn,mimeType:"text/plain",onLoad:function(nr){Fn(nr,qn,zn)}}):Fn(Hn.innerHTML,qn,Hn.baseURI),Hn.setAttribute("data-paper-ignore","true"),qn}}function Un(){k.each(y&&y.getElementsByTagName("script"),Dn)}function Jn(Hn){return Hn?Dn(Hn):Un()}return g&&(y.readyState==="complete"?setTimeout(Un):gr.add(g,{load:Un})),{compile:In,execute:Fn,load:Jn,parse:qe,calculateBinary:wn,calculateUnary:bn}}.call(this);var lr=new(V.inject(k.exports,{Base:k,Numerical:re,Key:Kn,DomEvent:gr,DomElement:cr,document:y,window:g,Symbol:Dt,PlacedSymbol:Cn}));return lr.agent.node&&require$$2(lr),typeof r=="function"&&r.amd?r("paper",lr):n&&(n.exports=lr),lr}).call(commonjsGlobal$1,typeof self=="object"?self:null)})(paperFull);var paperFullExports=paperFull.exports;const paper=getDefaultExportFromCjs(paperFullExports),_hoisted_1$K={class:"polygon-edit-panel"},_hoisted_2$J={key:0,class:"character-edit-panel"},_hoisted_3$m={class:"name-wrap"},_hoisted_4$j={class:"title"},_hoisted_5$h={class:"transform-wrap"},_hoisted_6$e={class:"title"},_hoisted_7$d={key:0,class:"transform-to-curve-wrap"},_hoisted_8$c={class:"title"},_hoisted_9$c={key:1,class:"glyph-edit-panel"},_hoisted_10$c={class:"name-wrap"},_hoisted_11$b={class:"title"},_hoisted_12$9={class:"transform-wrap"},_hoisted_13$9={class:"title"},_hoisted_14$8={key:0,class:"transform-to-curve-wrap"},_hoisted_15$6={class:"title"},_sfc_main$L=defineComponent({__name:"PolygonEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{x:j})},k=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{y:j})},$=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:j})},V=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{h:j})},L=j=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:j}):editStatus.value===Status.Glyph&&modifyComponentForCurrentCharacterFile(selectedComponentUUID$1.value,{rotation:j})},z=()=>{g();const j=selectedComponent.value.value,{x:re,y:oe,w:ae,h:de,rotation:ue,flipX:pe,flipY:he}=selectedComponent.value,Oe=transformPoints(j.points.map(Cn=>({x:Cn.x,y:Cn.y})),{x:re,y:oe,w:ae,h:de,rotation:ue,flipX:pe,flipY:he});let xe=[];const $e=[];for(let Cn=0;Cn<Oe.length-1;Cn++)$e.push([Oe[Cn].x,Oe[Cn].y]);(Oe[Oe.length-1].x!==Oe[0].x||Oe[Oe.length-1].y!==Oe[0].y)&&$e.push([Oe[Oe.length-1].x,Oe[Oe.length-1].y]);let Ne=new paper.Path({segments:$e,closed:!0});Ne.smooth();let Ce=genUUID();for(let Cn=0;Cn<Ne.curves.length;Cn++){const Dt=Ne.curves[Cn],On=genUUID(),jt=genUUID();xe.push({uuid:Ce,x:Dt.points[0].x,y:Dt.points[0].y,type:"anchor",origin:null,isShow:!0}),xe.push({uuid:On,x:Dt.points[1].x,y:Dt.points[1].y,type:"control",origin:Ce,isShow:!1}),Ce=genUUID(),xe.push({uuid:jt,x:Dt.points[2].x,y:Dt.points[2].y,type:"control",origin:Ce,isShow:!1}),Cn>=Ne.curves.length-1&&xe.push({uuid:Ce,x:Dt.points[3].x,y:Dt.points[3].y,type:"anchor",origin:null,isShow:!0})}const{x:Fe,y:ze,w:kt,h:At}=getBound$4(xe);editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{value:{points:xe,editMode:!1},type:"pen",x:Fe,y:ze,w:kt,h:At,rotation:0}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{value:{points:xe,editMode:!1},type:"pen",x:Fe,y:ze,w:kt,h:At,rotation:0})};return(j,re)=>{const oe=resolveComponent("el-input"),ae=resolveComponent("el-form-item"),de=resolveComponent("el-form"),ue=resolveComponent("el-input-number"),pe=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$K,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$J,[createBaseVNode("div",_hoisted_3$m,[createBaseVNode("div",_hoisted_4$j,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(de,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(oe,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":re[0]||(re[0]=he=>unref(selectedComponent).name=he)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$h,[createBaseVNode("div",_hoisted_6$e,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(de,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),unref(selectedComponent).type==="polygon"?(openBlock(),createElementBlock("div",_hoisted_7$d,[createBaseVNode("div",_hoisted_8$c,toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.title")),1),createVNode(pe,{onClick:z},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.label")),1)]),_:1})])):createCommentVNode("",!0)])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$c,[createBaseVNode("div",_hoisted_11$b,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(de,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(oe,{modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":re[1]||(re[1]=he=>unref(selectedComponent$1).name=he)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_12$9,[createBaseVNode("div",_hoisted_13$9,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(de,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ae,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(ue,{"model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),unref(selectedComponent$1).type==="polygon"?(openBlock(),createElementBlock("div",_hoisted_14$8,[createBaseVNode("div",_hoisted_15$6,toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.title")),1),createVNode(pe,{onClick:z},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.paramsPanel.transformToCurve.label")),1)]),_:1})])):createCommentVNode("",!0)])):createCommentVNode("",!0)])}}}),PolygonEditPanel=_export_sfc(_sfc_main$L,[["__scopeId","data-v-caa9f579"]]),_hoisted_1$J={class:"picture-edit-panel"},_hoisted_2$I={class:"name-wrap"},_hoisted_3$l={class:"title"},_hoisted_4$i={class:"transform-wrap"},_hoisted_5$g={class:"title"},_hoisted_6$d={class:"opacity-wrap"},_hoisted_7$c={class:"title"},_sfc_main$K=defineComponent({__name:"PictureEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:oe})},k=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{y:oe})},$=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:oe})},V=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{h:oe})},L=oe=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{rotation:oe})};let z=null,j=!1;const re=oe=>{z&&clearTimeout(z),z=setTimeout(()=>{j=!1,clearTimeout(z)},500),j||(g(),j=!0),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{opacity:oe}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{opacity:oe})};return(oe,ae)=>{const de=resolveComponent("el-input"),ue=resolveComponent("el-form-item"),pe=resolveComponent("el-form"),he=resolveComponent("el-input-number"),Oe=resolveComponent("el-slider");return openBlock(),createElementBlock("div",_hoisted_1$J,[createBaseVNode("div",_hoisted_2$I,[createBaseVNode("div",_hoisted_3$l,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(pe,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(de,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":ae[0]||(ae[0]=xe=>unref(selectedComponent).name=xe)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_4$i,[createBaseVNode("div",_hoisted_5$g,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(pe,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ue,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_6$d,[createBaseVNode("div",_hoisted_7$c,toDisplayString$1(unref(e)("panels.paramsPanel.opacity.title")),1),createVNode(pe,{class:"opacitym-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ue,{label:unref(e)("panels.paramsPanel.opacity.opacity")},{default:withCtx(()=>[createVNode(he,{"model-value":unref(selectedComponent).opacity,min:0,max:1,step:.05,onChange:re},null,8,["model-value"]),createVNode(Oe,{"model-value":unref(selectedComponent).opacity,precision:.01,min:0,max:1,step:.05,onInput:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])}}}),PictureEditPanel=_export_sfc(_sfc_main$K,[["__scopeId","data-v-7e1bd557"]]),_hoisted_1$I={class:"rectangle-edit-panel"},_hoisted_2$H={key:0,class:"character-edit-panel"},_hoisted_3$k={class:"name-wrap"},_hoisted_4$h={class:"title"},_hoisted_5$f={class:"transform-wrap"},_hoisted_6$c={class:"title"},_hoisted_7$b={key:1,class:"glyph-edit-panel"},_hoisted_8$b={class:"name-wrap"},_hoisted_9$b={class:"title"},_hoisted_10$b={class:"transform-wrap"},_hoisted_11$a={class:"title"},_sfc_main$J=defineComponent({__name:"RectangleEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:z})},k=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{y:z})},$=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:z})},V=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{h:z})},L=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{rotation:z})};return(z,j)=>{const re=resolveComponent("el-input"),oe=resolveComponent("el-form-item"),ae=resolveComponent("el-form"),de=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$I,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$H,[createBaseVNode("div",_hoisted_3$k,[createBaseVNode("div",_hoisted_4$h,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(re,{modelValue:unref(selectedComponent).name,"onUpdate:modelValue":j[0]||(j[0]=ue=>unref(selectedComponent).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$f,[createBaseVNode("div",_hoisted_6$c,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_7$b,[createBaseVNode("div",_hoisted_8$b,[createBaseVNode("div",_hoisted_9$b,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(re,{modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":j[1]||(j[1]=ue=>unref(selectedComponent$1).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_10$b,[createBaseVNode("div",_hoisted_11$a,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation")},{default:withCtx(()=>[createVNode(de,{"model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):createCommentVNode("",!0)])}}}),RectangleEditPanel=_export_sfc(_sfc_main$J,[["__scopeId","data-v-cdd50d75"]]),_hoisted_1$H={class:"ellipse-edit-panel"},_hoisted_2$G={key:0,class:"character-edit-panel"},_hoisted_3$j={class:"name-wrap"},_hoisted_4$g={class:"title"},_hoisted_5$e={class:"transform-wrap"},_hoisted_6$b={class:"title"},_hoisted_7$a={key:1,class:"glyph-edit-panel"},_hoisted_8$a={class:"name-wrap"},_hoisted_9$a={class:"title"},_hoisted_10$a={class:"transform-wrap"},_hoisted_11$9={class:"title"},_sfc_main$I=defineComponent({__name:"EllipseEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo)},y=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{x:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{x:z})},k=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{y:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{y:z})},$=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{w:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{w:z})},V=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{h:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{h:z})},L=z=>{g(),editStatus.value===Status.Edit?modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{rotation:z}):editStatus.value===Status.Glyph&&modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{rotation:z})};return(z,j)=>{const re=resolveComponent("el-input"),oe=resolveComponent("el-form-item"),ae=resolveComponent("el-form"),de=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$H,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$G,[createBaseVNode("div",_hoisted_3$j,[createBaseVNode("div",_hoisted_4$g,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label"),prop:"name"},{default:withCtx(()=>[createVNode(re,{id:"name",modelValue:unref(selectedComponent).name,"onUpdate:modelValue":j[0]||(j[0]=ue=>unref(selectedComponent).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_5$e,[createBaseVNode("div",_hoisted_6$b,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x"),prop:"x"},{default:withCtx(()=>[createVNode(de,{id:"x","model-value":unref(selectedComponent).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y"),prop:"y"},{default:withCtx(()=>[createVNode(de,{id:"y","model-value":unref(selectedComponent).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w"),prop:"w"},{default:withCtx(()=>[createVNode(de,{id:"w","model-value":unref(selectedComponent).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h"),prop:"h"},{default:withCtx(()=>[createVNode(de,{id:"h","model-value":unref(selectedComponent).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation"),prop:"rotation"},{default:withCtx(()=>[createVNode(de,{id:"rotation","model-value":unref(selectedComponent).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_7$a,[createBaseVNode("div",_hoisted_8$a,[createBaseVNode("div",_hoisted_9$a,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(ae,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.componentName.label"),prop:"name"},{default:withCtx(()=>[createVNode(re,{id:"name",modelValue:unref(selectedComponent$1).name,"onUpdate:modelValue":j[1]||(j[1]=ue=>unref(selectedComponent$1).name=ue)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),createBaseVNode("div",_hoisted_10$a,[createBaseVNode("div",_hoisted_11$9,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(ae,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.x"),prop:"x"},{default:withCtx(()=>[createVNode(de,{id:"x","model-value":unref(selectedComponent$1).x,precision:1,onChange:y},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.y"),prop:"y"},{default:withCtx(()=>[createVNode(de,{id:"y","model-value":unref(selectedComponent$1).y,precision:1,onChange:k},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.w"),prop:"w"},{default:withCtx(()=>[createVNode(de,{id:"w","model-value":unref(selectedComponent$1).w,precision:1,onChange:$},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.h"),prop:"h"},{default:withCtx(()=>[createVNode(de,{id:"h","model-value":unref(selectedComponent$1).h,precision:1,onChange:V},null,8,["model-value"])]),_:1},8,["label"]),createVNode(oe,{label:unref(e)("panels.paramsPanel.transform.rotation"),prop:"rotation"},{default:withCtx(()=>[createVNode(de,{id:"rotation","model-value":unref(selectedComponent$1).rotation,precision:1,onChange:L},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])])):createCommentVNode("",!0)])}}}),EllipseEditPanel=_export_sfc(_sfc_main$I,[["__scopeId","data-v-d5aa5a9e"]]),_hoisted_1$G={class:"picture-edit-panel"},_hoisted_2$F={class:"effect-wrapper step-1-wrapper"},_hoisted_3$i={class:"title"},_hoisted_4$f={key:0,class:"global-effect"},_hoisted_5$d={key:0,class:"tip"},_hoisted_6$a={key:1,class:"local-brush"},_hoisted_7$9={class:"effect-wrapper"},_hoisted_8$9={class:"title"},_hoisted_9$9={class:"content"},_hoisted_10$9={class:"effect-wrapper step-3-wrapper"},_hoisted_11$8={class:"title"},_hoisted_12$8={class:"effect-wrapper"},_hoisted_13$8={class:"title"},_hoisted_14$7={class:"content"},_sfc_main$H=defineComponent({__name:"FontPicEditPanel",setup(n){const{tm:e,t:r}=useI18n();let g=rThreshold.value,y=gThreshold.value,k=bThreshold.value,$=maxError.value;const V=$e=>{setStep($e),step.value===1&&(previewStatus.value=1,g=rThreshold.value,y=gThreshold.value,k=bThreshold.value),step.value===3&&(previewStatus.value=3,$=maxError.value)},L=()=>{enableLocalBrush.value?(enableLocalBrush.value=!1,emitter.emit("toggleLocalBrushEdit",!1),Oe()):(g=rThreshold.value,y=gThreshold.value,k=bThreshold.value,step.value=0,Oe())},z=()=>{Oe()},j=()=>{},re=()=>{},oe=()=>{enableLocalBrush.value?(enableLocalBrush.value=!1,emitter.emit("toggleLocalBrushEdit",!1)):(rThreshold.value=g,gThreshold.value=y,bThreshold.value=k,step.value=0,Oe())},ae=()=>{$=maxError.value,step.value=0,xe()},de=()=>{maxError.value=$,step.value=0,xe()},ue=()=>{xe()},pe=()=>{xe()},he=()=>{const{thumbnailCanvas:$e,thumbnailPixels:Ne}=editCharacterPic.value,Ce=toBlackWhiteBitMap(Ne,{r:rThreshold.value,g:gThreshold.value,b:bThreshold.value},{x:0,y:0,size:-1,width:$e.width,height:$e.height});setBitMap({data:Ce,width:$e.width,height:$e.height}),editCharacterPic.value.processPixels=Ce,localRThreshold.value=rThreshold.value,localGThreshold.value=gThreshold.value,localBThreshold.value=bThreshold.value,setEnableLocalBrush(!0),emitter.emit("toggleLocalBrushEdit",!0)},Oe=()=>{clearContoursComponent(),clearCurvesComponent();const{thumbnailCanvas:$e,processPixels:Ne}=editCharacterPic.value;let Ce=[];enableLocalBrush.value?Ce=Ne:Ce=toBlackWhiteBitMap(Ne,{r:rThreshold.value,g:gThreshold.value,b:bThreshold.value},{x:0,y:0,size:-1,width:$e.width,height:$e.height}),setBitMap({data:Ce,width:$e.width,height:$e.height});const{canvas:Fe}=reversePixels(Ce,bitmap.value.width,bitmap.value.height),ze=Fe.getContext("2d"),kt=Fe.width,At=Fe.height,Cn=ze.getImageData(0,0,kt,At);let Dt=cv.matFromImageData(Cn);cv.cvtColor(Dt,Dt,cv.COLOR_RGBA2GRAY,0),cv.threshold(Dt,Dt,120,200,cv.THRESH_BINARY);let On=new cv.MatVector,jt=new cv.Mat;cv.findContours(Dt,On,jt,cv.RETR_CCOMP,cv.CHAIN_APPROX_NONE);const An=[];for(let hr=0;hr<On.size();hr++){const Vn=On.get(hr);for(let En=0;En<Vn.rows;En++)An.push({x:Vn.data32S[En*2],y:Vn.data32S[En*2+1]})}const{x:Mn,y:$n,w:Ln,h:Tn}=getBound$4(An);let Zn,Qn;const Pn=500;Ln>Tn?(Zn=Pn,Qn=Tn/Ln*Zn):(Qn=Pn,Zn=Ln/Tn*Qn);const Wn=Zn/Ln,ur=Qn/Tn;for(let hr=0;hr<On.size();hr++){const Vn=[],En=On.get(hr);for(let _n=0;_n<En.rows;_n++)Vn.push({uuid:genUUID(),x:En.data32S[_n*2],y:En.data32S[_n*2+1]});Vn.push({uuid:genUUID(),x:En.data32S[0],y:En.data32S[1]});const{x:jn,y:cr,w:gr,h:Cr}=getBound$4(Vn),ir=transformPoints(Vn,{x:(jn-Mn)*Wn,y:(cr-$n)*ur,w:gr*Wn,h:Cr*ur,rotation:0,flipX:!1,flipY:!1}).map(_n=>({uuid:genUUID(),..._n})),{x:Gn,y:hn,w:Kn,h:Nn}=getBound$4(ir.reduce((_n,Bn)=>(_n.push({x:Bn.x,y:Bn.y}),_n),[])),Lt={uuid:genUUID(),type:"polygon",name:"polygon",lock:!1,visible:!0,value:{points:ir,fillColor:jt.data32S[hr*4+3]===-1?"#000":"#fff",strokeColor:"#000",closePath:!0},x:Gn,y:hn,w:Kn,h:Nn,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!1};addContoursComponent(Lt)}contoursComponents.value.map(hr=>{if(hr.type==="polygon"){const Vn=hr.value.points,En=fitCurve(Vn,maxError.value);let jn=[];En.map((hn,Kn)=>{const Nn=genUUID(),Lt=genUUID(),_n=genUUID(),Bn=genUUID();jn.push({uuid:Nn,x:hn[0].x,y:hn[0].y,type:"anchor",origin:null,isShow:!0}),jn.push({uuid:Lt,x:hn[1].x,y:hn[1].y,type:"control",origin:Nn,isShow:!1}),jn.push({uuid:_n,x:hn[2].x,y:hn[2].y,type:"control",origin:Bn,isShow:!1}),Kn>=En.length-1&&jn.push({uuid:Bn,x:hn[3].x,y:hn[3].y,type:"anchor",origin:null,isShow:!0})});const{x:cr,y:gr,w:Cr,h:ir}=getBound$4(jn),Gn=clone$1(hr);Gn.uuid=genUUID(),Gn.value.points=jn,Gn.value.editMode=!1,Gn.type="pen",Gn.name="pic-contour",Gn.x=cr,Gn.y=gr,Gn.w=Cr,Gn.h=ir,Gn.rotation=0,Gn.usedInCharacter=!0,addCurvesComponent(Gn)}})},xe=()=>{clearCurvesComponent(),contoursComponents.value.filter($e=>$e.value.points.length>=dropThreshold.value).map($e=>{if($e.type==="polygon"){const Ne=$e.value.points,Ce=fitCurve(Ne,maxError.value);let Fe=[];Ce.map((On,jt)=>{const An=genUUID(),Mn=genUUID(),$n=genUUID(),Ln=genUUID();Fe.push({uuid:An,x:On[0].x,y:On[0].y,type:"anchor",origin:null,isShow:!0}),Fe.push({uuid:Mn,x:On[1].x,y:On[1].y,type:"control",origin:An,isShow:!1}),Fe.push({uuid:$n,x:On[2].x,y:On[2].y,type:"control",origin:Ln,isShow:!1}),jt>=Ce.length-1&&Fe.push({uuid:Ln,x:On[3].x,y:On[3].y,type:"anchor",origin:null,isShow:!0})});const{x:ze,y:kt,w:At,h:Cn}=getBound$4(Fe),Dt=clone$1($e);Dt.uuid=genUUID(),Dt.value.points=Fe,Dt.value.editMode=!1,Dt.type="pen",Dt.name="pic-contour",Dt.x=ze,Dt.y=kt,Dt.w=At,Dt.h=Cn,Dt.rotation=0,Dt.usedInCharacter=!0,addCurvesComponent(Dt)}})};return emitter.on("resetEditFontPic",()=>{Oe()}),($e,Ne)=>{const Ce=resolveComponent("el-slider"),Fe=resolveComponent("el-form-item"),ze=resolveComponent("el-button"),kt=resolveComponent("el-button-group"),At=resolveComponent("el-form"),Cn=resolveComponent("el-input-number");return openBlock(),createElementBlock("div",_hoisted_1$G,[createBaseVNode("div",_hoisted_2$F,[createBaseVNode("div",_hoisted_3$i,toDisplayString$1(unref(r)("panels.picEditPanel.step1.title")),1),createVNode(At,{class:"bitmap-form form","label-width":"40px"},{default:withCtx(()=>[unref(enableLocalBrush).value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$f,[createVNode(Fe,{label:"r"},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(rThreshold),"onUpdate:modelValue":Ne[0]||(Ne[0]=Dt=>isRef(rThreshold)?rThreshold.value=Dt:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:z},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"g"},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(gThreshold),"onUpdate:modelValue":Ne[1]||(Ne[1]=Dt=>isRef(gThreshold)?gThreshold.value=Dt:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:z},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"b"},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(bThreshold),"onUpdate:modelValue":Ne[2]||(Ne[2]=Dt=>isRef(bThreshold)?bThreshold.value=Dt:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:z},null,8,["modelValue","disabled"])]),_:1}),unref(step)===1?(openBlock(),createElementBlock("div",_hoisted_5$d,[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.step1.tip")),1),createVNode(ze,{type:"primary",text:"",onClick:he},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.step1.localBrush")),1)]),_:1})])):createCommentVNode("",!0)])),unref(enableLocalBrush).value&&unref(step)===1?(openBlock(),createElementBlock("div",_hoisted_6$a,[createVNode(Fe,{label:"r"},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(localRThreshold),"onUpdate:modelValue":Ne[3]||(Ne[3]=Dt=>isRef(localRThreshold)?localRThreshold.value=Dt:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:re},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"g"},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(localGThreshold),"onUpdate:modelValue":Ne[4]||(Ne[4]=Dt=>isRef(localGThreshold)?localGThreshold.value=Dt:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:re},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:"b"},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(localBThreshold),"onUpdate:modelValue":Ne[5]||(Ne[5]=Dt=>isRef(localBThreshold)?localBThreshold.value=Dt:null),"show-input":"",size:"small",min:0,max:255,disabled:unref(step)!==1,onChange:re},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:unref(e)("panels.picEditPanel.step1.brush")},{default:withCtx(()=>[createVNode(Ce,{modelValue:unref(localBrushSize),"onUpdate:modelValue":Ne[6]||(Ne[6]=Dt=>isRef(localBrushSize)?localBrushSize.value=Dt:null),"show-input":"",size:"small",min:1,max:50,disabled:unref(step)!==1,onChange:j},null,8,["modelValue","disabled"])]),_:1},8,["label"])])):createCommentVNode("",!0),createVNode(kt,{class:"step-button-group"},{default:withCtx(()=>[createVNode(ze,{disabled:unref(step)!==1,onClick:L,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.confirm")),1)]),_:1},8,["disabled"]),createVNode(ze,{disabled:unref(step)!==1,onClick:oe,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.cancel")),1)]),_:1},8,["disabled"]),createVNode(ze,{type:"primary",disabled:unref(step)===1,onClick:Ne[7]||(Ne[7]=Dt=>V(1)),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.edit")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_7$9,[createBaseVNode("div",_hoisted_8$9,toDisplayString$1(unref(r)("panels.picEditPanel.step2.title")),1),createBaseVNode("div",_hoisted_9$9,toDisplayString$1(unref(r)("panels.picEditPanel.step2.content")),1)]),createBaseVNode("div",_hoisted_10$9,[createBaseVNode("div",_hoisted_11$8,toDisplayString$1(unref(r)("panels.picEditPanel.step3.title")),1),createVNode(At,{class:"fit-curve-form form","label-width":"50px"},{default:withCtx(()=>[createVNode(Fe,{label:""},{default:withCtx(()=>[createVNode(Cn,{modelValue:unref(maxError),"onUpdate:modelValue":Ne[8]||(Ne[8]=Dt=>isRef(maxError)?maxError.value=Dt:null),min:1,max:10,disabled:unref(step)!==3,onInput:ue},null,8,["modelValue","disabled"])]),_:1}),createVNode(Fe,{label:""},{default:withCtx(()=>[createVNode(Cn,{modelValue:unref(dropThreshold),"onUpdate:modelValue":Ne[9]||(Ne[9]=Dt=>isRef(dropThreshold)?dropThreshold.value=Dt:null),min:0,max:100,disabled:unref(step)!==3,onInput:pe},null,8,["modelValue","disabled"])]),_:1}),createVNode(kt,{class:"step-button-group"},{default:withCtx(()=>[createVNode(ze,{disabled:unref(step)!==3,onClick:ae,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.confirm")),1)]),_:1},8,["disabled"]),createVNode(ze,{disabled:unref(step)!==3,onClick:de,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.cancel")),1)]),_:1},8,["disabled"]),createVNode(ze,{type:"primary",disabled:unref(step)===3,onClick:Ne[10]||(Ne[10]=Dt=>V(3)),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.picEditPanel.edit")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_12$8,[createBaseVNode("div",_hoisted_13$8,toDisplayString$1(unref(r)("panels.picEditPanel.step4.title")),1),createBaseVNode("div",_hoisted_14$7,toDisplayString$1(unref(r)("panels.picEditPanel.step4.content")),1)])])}}}),FontPicEditPanel=_export_sfc(_sfc_main$H,[["__scopeId","data-v-767f3e05"]]),_hoisted_1$F={class:"widget ringController"},_hoisted_2$E=["width","height"],outerSize=12,_sfc_main$G=defineComponent({__name:"RingController",props:{radius:Object({min:Number,max:Number,value:Number,name:String}),degree:Object({min:Number,max:Number,value:Number,name:String}),params:Array,size:{type:Number,default:50},onChange:Function},setup(n){const e=n,{radius:r,degree:g,params:y,size:k,onChange:$}=toRefs(e),V=ref(null),L=k.value-outerSize*2,z=xe=>Math.PI/180*xe,j=xe=>xe/Math.PI*180;onMounted(()=>{Oe(),V.value.addEventListener("mousedown",ue)});const re=(xe,$e,Ne,Ce)=>Math.sqrt((xe-Ne)*(xe-Ne)+($e-Ce)*($e-Ce)),oe=computed(()=>L/2/(r.value.max-r.value.min)*(r.value.value-r.value.min)),ae=ref("defualt");let de=-1;const ue=xe=>{re(xe.offsetX,xe.offsetY,k.value/2+oe?.value*Math.cos(z(g?.value.value)),k.value/2-oe?.value*Math.sin(z(g?.value.value)))<=5&&(document.body.addEventListener("mousemove",pe),document.body.addEventListener("mouseup",he),xe.offsetX,xe.offsetY,ae.value="inner-move");for(let $e=0;$e<(y?.value).length;$e++){const Ne=(y?.value)[$e],Ce=2*Math.PI*$e/(y?.value).length,Fe=Ce+2*Math.PI/(y?.value).length,ze=k.value/2-outerSize/2,kt=Ce+(Fe-Ce)/(Ne.max-Ne.min)*(Ne.value-Ne.min);re(xe.offsetX,xe.offsetY,k.value/2+ze*Math.cos(kt),k.value/2+ze*Math.sin(kt))<=5&&(document.body.addEventListener("mousemove",pe),document.body.addEventListener("mouseup",he),xe.offsetX,xe.offsetY,de=$e,ae.value="outer-move")}},pe=xe=>{switch(ae.value){case"inner-move":{const $e=re(xe.offsetX,xe.offsetY,k.value/2,k.value/2),Ne=r.value.min+$e/(L/2)*(r.value.max-r.value.min);if($e<=L/2){let Ce=Math.atan2(-(xe.offsetY-k.value/2),xe.offsetX-k.value/2);Ce<0&&g.value.max>180&&(Ce+=Math.PI*2);const Fe=j(Ce);let ze=g.value.value;Fe>=g.value.min&&Fe<=g.value.max&&(ze=Fe),$.value(Ne,ze,Object.assign([],y.value)),xe.offsetX,xe.offsetY,ae.value="inner-move"}break}case"outer-move":{let $e=Math.atan2(xe.offsetY-k.value/2,xe.offsetX-k.value/2);$e<0&&($e+=Math.PI*2);const Ne=y.value[de],Ce=2*Math.PI*de/(y?.value).length,Fe=Ce+2*Math.PI/(y?.value).length,ze=j($e),kt=Ne.min+(ze-j(Ce))/(j(Fe)-j(Ce))*(Ne.max-Ne.min);if(kt>=Ne.min&&kt<=Ne.max){const At=Object.assign([],y.value);At[de].value=kt,$.value(r.value.value,g.value.value,At),xe.offsetX,xe.offsetY,ae.value="outer-move"}break}}},he=()=>{ae.value="defualt",de=-1,document.body.removeEventListener("mousemove",pe),document.body.removeEventListener("mouseup",he)};watch([r,g,y,k],()=>{Oe()},{deep:!0});const Oe=()=>{const xe=V.value.getContext("2d");for(let $e=0;$e<(y?.value).length;$e++){const Ne=(y?.value)[$e],Ce=2*Math.PI*$e/(y?.value).length,Fe=Ce+2*Math.PI/(y?.value).length,ze=k.value/2-outerSize/2,kt=Ce+(Fe-Ce)/(Ne.max-Ne.min)*(Ne.value-Ne.min);xe.fillStyle="#153063",xe.beginPath(),xe.arc(k.value/2,k.value/2,k.value/2,Ce,Fe),xe.lineTo(k.value/2,k.value/2),xe.closePath(),xe.fill(),xe.fillStyle="white",xe.beginPath(),xe.arc(k.value/2,k.value/2,k.value/2,Ce+z(2),Fe-z(2)),xe.lineTo(k.value/2,k.value/2),xe.closePath(),xe.fill(),xe.fillStyle="#153063",xe.beginPath(),xe.arc(k.value/2+ze*Math.cos(kt),k.value/2+ze*Math.sin(kt),5,0,2*Math.PI),xe.closePath(),xe.fill()}xe.fillStyle="#153063",xe.beginPath(),xe.arc(k.value/2,k.value/2,L/2,0,2*Math.PI),xe.closePath(),xe.fill(),xe.fillStyle="white",xe.beginPath(),xe.arc(k.value/2,k.value/2,L/2,-z(g.value.min),-z(g.value.min)-z(g.value.max-g.value.min),!0),xe.lineTo(k.value/2,k.value/2),xe.closePath(),xe.fill(),xe.strokeStyle="#153063",xe.lineWidth=2,xe.beginPath(),xe.arc(k.value/2,k.value/2,L/2,0,2*Math.PI),xe.closePath(),xe.stroke(),g.value.min===0&&g.value.max===360&&(xe.beginPath(),xe.moveTo(k.value/2,k.value/2),xe.lineTo(k.value,k.value/2),xe.closePath(),xe.stroke()),xe.fillStyle="#153063",xe.beginPath(),xe.arc(k.value/2+oe?.value*Math.cos(z(g?.value.value)),k.value/2-oe?.value*Math.sin(z(g?.value.value)),5,0,2*Math.PI),xe.closePath(),xe.fill()};return(xe,$e)=>(openBlock(),createElementBlock("div",_hoisted_1$F,[createBaseVNode("canvas",{ref_key:"canvas",ref:V,width:unref(k),height:unref(k)},null,8,_hoisted_2$E)]))}}),editing$3=ref(!1),selectControl$1=ref(""),_withScopeId$8=n=>(pushScopeId("data-v-a49a8602"),n=n(),popScopeId(),n),_hoisted_1$E={class:"glyph-edit-panel"},_hoisted_2$D={key:0,class:"character-glyph-edit-panel"},_hoisted_3$h={class:"character-edit-panel"},_hoisted_4$e={class:"name-wrap"},_hoisted_5$c={class:"title"},_hoisted_6$9={key:0,class:"layout-wrap"},_hoisted_7$8={class:"title"},_hoisted_8$8={class:"ratio-item"},_hoisted_9$8={class:"interactive-settings"},_hoisted_10$8=_withScopeId$8(()=>createBaseVNode("div",{class:"title"},"",-1)),_hoisted_11$7={class:"transform-wrap"},_hoisted_12$7={class:"title"},_hoisted_13$7={class:"parameters-wrap"},_hoisted_14$6={class:"title"},_hoisted_15$5={class:"param-btn-group"},_hoisted_16$5={key:0},_hoisted_17$3=["onClick"],_hoisted_18$3={class:"down-menu"},_hoisted_19$3={class:"ratio-item"},_hoisted_20$2={key:1},_hoisted_21$2={key:0,class:"ring-controller-wrap"},_hoisted_22$2={key:1,class:"number-controller-wrap"},_hoisted_23$2={key:2},_hoisted_24$2={key:0},_hoisted_25$2={key:1},_hoisted_26$2={key:0,class:"ring-controller-wrap"},_hoisted_27$1={key:1,class:"number-controller-wrap"},_hoisted_28$1={class:"joints-wrap"},_hoisted_29$1={class:"title"},_sfc_main$F=defineComponent({__name:"GlyphEditPanel",setup(n){const{tm:e,t:r}=useI18n(),g=Ne=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,Ne)},y=computed(()=>{let Ne=selectedComponent.value;return editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length&&(selectedSubComponent.value?Ne=selectedSubComponent.value:Ne=SubComponentsRoot.value),Ne});onUnmounted(()=>{draggable$1.value=!0,dragOption.value="default",checkJoints.value=!1,checkRefLines.value=!1});const k=ref(0),$=[{value:0,key:"widget"},{value:1,key:"number"}],V=ref(150);y.value.value._o?.getJoints().map(Ne=>{Ne&&(jointsCheckedMap.value[Ne.name]=!1)}),watch([y,selectedComponent],()=>{jointsCheckedMap.value={},y.value.value._o?.getJoints().map(Ne=>{Ne&&(jointsCheckedMap.value[Ne.name]=!1)})});let L=null,z=!1;watch(editCharacterFile,(Ne,Ce)=>{L&&clearTimeout(L),L=setTimeout(()=>{z=!1,clearTimeout(L)},500),z||(g({editCharacterFile:Ce,newRecord:!0}),z=!0)},{deep:!0});const j=Ne=>{editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length?modifySubComponent({ox:Ne}):modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{ox:Ne})},re=Ne=>{editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length?modifySubComponent({oy:Ne}):modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{oy:Ne})},oe=(Ne,Ce)=>{if(Ne.value=Ce,Ne.ratioed)if(y.value.value.system_script||(y.value.value.system_script={}),editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length&&selectedSubComponent.value){let Fe=getRatioLayout2(SubComponentsRoot.value.value,Ne.ratio);if(Fe){const ze=`window.comp_glyph.setParam('${Ne.name}',window.glyph.getRatioLayout('${Ne.ratio}') / ${Fe} * ${Ce});`;y.value.value.system_script[Ne.name]=ze}}else{let Fe=getCharacterRatioLayout(editCharacterFile.value,Ne.ratio);if(Fe){const ze=`window.comp_glyph.setParam('${Ne.name}',window.character.getRatioLayout('${Ne.ratio}') / ${Fe} * ${Ce});`;y.value.value.system_script[Ne.name]=ze}}executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),y.value.value._o.getJoints().map(Fe=>{Fe.component=y.value}),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)},ae=(Ne,Ce)=>{if(Ne.ratioed)if(y.value.value.system_script||(y.value.value.system_script={}),editCharacterFile.value.selectedComponentsTree&&editCharacterFile.value.selectedComponentsTree.length&&selectedSubComponent.value){let Fe=getRatioLayout2(SubComponentsRoot.value.value,Ne.ratio);if(Fe){const ze=`window.comp_glyph.setParam('${Ne.name}',window.glyph.getRatioLayout('${Ne.ratio}') / ${Fe} * ${Ne.value});`;y.value.value.system_script[Ne.name]=ze}}else{let Fe=getCharacterRatioLayout(editCharacterFile.value,Ne.ratio);if(Fe){const ze=`window.comp_glyph.setParam('${Ne.name}',window.character.getRatioLayout('${Ne.ratio}') / ${Fe} * ${Ne.value});`;y.value.value.system_script[Ne.name]=ze}}executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",y.value.value.uuid),emitter.emit("renderCharacter"),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)};watch([checkJoints,checkRefLines],()=>{emitter.emit("renderCharacter"),linkComponentsForJoints(selectedComponent.value),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)}),watch(jointsCheckedMap,()=>{editStatus.value===Status.Edit?emitter.emit("renderCharacter"):editStatus.value===Status.Glyph&&emitter.emit("renderGlyph"),y.value.value._o.renderJoints(canvas.value,{type:"selected",joints:Object.keys(jointsCheckedMap.value).filter(Ne=>!!jointsCheckedMap.value[Ne])})},{deep:!0}),watch(dragOption,()=>{dragOption.value==="layout"&&(!editCharacterFile.value.selectedComponentsTree||!editCharacterFile.value.selectedComponentsTree.length)&&(grid.type=GridType.LayoutGrid)});let de=ref({});onMounted(()=>{editStatus.value===Status.Edit&&y.value.value.parameters?.parameters.map(Ne=>{de.value[Ne.uuid]=!1})});const ue=(Ne,Ce,Fe,ze)=>{Ne.radius.value=Ce,Ne.degree.value=Fe,Ne.params=Object.assign([],ze),executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)},pe=()=>{executeScript(y.value.value),executeCharacterScript(editCharacterFile.value),emitter.emit("renderCharacter_forceUpdate",!0),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid)},he=Ne=>{const Ce=getConstant(Ne.value);Ne.type=Ce.type,Ne.value=Ce.value;const Fe=constantGlyphMap.get(Ce.uuid);for(let ze=0;ze<Fe.length;ze++)if(Fe[ze].parameterUUID===Ne.uuid){Fe.splice(ze,1);break}},Oe=Ne=>{selectedParam.value=Ne,selectedParamType.value="glyph_components",setSetAsGlobalParamDialogVisible(!0)},xe=Ne=>{selectedParam.value=Ne,selectedParamType.value="glyph_components",setSelectGlobalParamDialogVisible(!0)},$e=Ne=>{const Ce=constantGlyphMap.get(Ne.value);for(let Fe=0;Fe<Ce.length;Fe++){const ze=Ce[Fe];let kt=null;if(ze.constantType===ConstantType.Parameter)kt=getGlyphByUUID(Ce[Fe].glyphUUID);else if(ze.constantType===ConstantType.Component){const At=Ce[Fe].parentUUID;let Cn=null;ze.glyphType===GlyphType.Char?Cn=selectedItemByUUID(selectedFile.value.characterList,At):Cn=getGlyphByUUID(At),kt=Cn.value}kt&&(executeScript(kt),emitter.emit("renderGlyphPreviewCanvasByUUID",kt.uuid))}};return(Ne,Ce)=>{const Fe=resolveComponent("el-input"),ze=resolveComponent("el-form-item"),kt=resolveComponent("el-form"),At=resolveComponent("el-input-number"),Cn=resolveComponent("font-awesome-icon"),Dt=resolveComponent("el-option"),On=resolveComponent("el-select"),jt=resolveComponent("el-switch"),An=resolveComponent("el-checkbox"),Mn=resolveComponent("el-radio"),$n=resolveComponent("el-radio-group"),Ln=resolveComponent("el-icon"),Tn=resolveComponent("el-button"),Zn=resolveComponent("el-popover"),Qn=resolveComponent("el-slider"),Pn=resolveComponent("el-tab-pane"),Wn=resolveComponent("el-collapse-item"),ur=resolveComponent("el-collapse"),hr=resolveComponent("el-tabs");return openBlock(),createElementBlock("div",_hoisted_1$E,[unref(editStatus)===unref(Status).Edit?(openBlock(),createElementBlock("div",_hoisted_2$D,[createBaseVNode("div",_hoisted_3$h,[createBaseVNode("div",_hoisted_4$e,[createBaseVNode("div",_hoisted_5$c,toDisplayString$1(unref(r)("panels.paramsPanel.componentName.title")),1),createVNode(kt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ze,{label:unref(e)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(Fe,{modelValue:y.value.name,"onUpdate:modelValue":Ce[0]||(Ce[0]=Vn=>y.value.name=Vn)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),y.value.value.layout?(openBlock(),createElementBlock("div",_hoisted_6$9,[createBaseVNode("div",_hoisted_7$8,toDisplayString$1(unref(r)("panels.paramsPanel.layout.title")),1),createVNode(kt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ze,{label:unref(e)("panels.paramsPanel.layout.type")},{default:withCtx(()=>[createVNode(Fe,{disabled:"",modelValue:y.value.value.layout.type,"onUpdate:modelValue":Ce[1]||(Ce[1]=Vn=>y.value.value.layout.type=Vn)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(y.value.value.layout.params),Vn=>(openBlock(),createBlock(ze,{label:Vn},{default:withCtx(()=>[createVNode(At,{modelValue:y.value.value.layout.params[Vn],"onUpdate:modelValue":En=>y.value.value.layout.params[Vn]=En,onChange:pe},null,8,["modelValue","onUpdate:modelValue"]),createBaseVNode("div",_hoisted_8$8,[createVNode(Cn,{class:normalizeClass(["ratio-icon",{selected:y.value.value.layout.ratioedMap&&y.value.value.layout.ratioedMap[Vn].ratioed}]),onClick:()=>{y.value.value.layout.ratioedMap||(y.value.value.layout.ratioedMap=new Map),y.value.value.layout.ratioedMap[Vn]||y.value.value.layout.ratioedMap.set(Vn,{ratioed:!0}),y.value.value.layout.ratioedMap[Vn].ratioed=!y.value.value.layout.ratioedMap[Vn].ratioed},icon:["fas","percent"]},null,8,["class","onClick"]),createVNode(On,{modelValue:y.value.value.layout.ratioedMap[Vn].ratio,"onUpdate:modelValue":En=>y.value.value.layout.ratioedMap[Vn].ratio=En,class:"control-type-select",placeholder:"Ratio",disabled:!y.value.value.layout.ratioedMap||!y.value.value.layout.ratioedMap[Vn].ratioed},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(y.value.value),En=>(openBlock(),createBlock(Dt,{key:En.key,label:En.label,value:En.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])]),_:2},1032,["label"]))),256)),createVNode(ze,{label:""},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(editing$3),"onUpdate:modelValue":Ce[2]||(Ce[2]=Vn=>isRef(editing$3)?editing$3.value=Vn:null)},null,8,["modelValue"])]),_:1})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$8,[_hoisted_10$8,createVNode(kt,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ze,{label:""},{default:withCtx(()=>[createVNode(An,{modelValue:unref(draggable$1),"onUpdate:modelValue":Ce[3]||(Ce[3]=Vn=>isRef(draggable$1)?draggable$1.value=Vn:null),class:"draggable-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"])]),_:1}),createVNode(ze,{label:""},{default:withCtx(()=>[createVNode($n,{modelValue:unref(dragOption),"onUpdate:modelValue":Ce[4]||(Ce[4]=Vn=>isRef(dragOption)?dragOption.value=Vn:null),class:"radio-group"},{default:withCtx(()=>[createVNode(Mn,{value:"none",label:"none"},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(Mn,{value:"default",label:"default"},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(Mn,{value:"layout",label:"layout",disabled:!unref(SubComponentsRoot)||!!unref(SubComponentsRoot)&&!unref(SubComponentsRoot).value.layout},{default:withCtx(()=>[createTextVNode("")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_11$7,[createBaseVNode("div",_hoisted_12$7,toDisplayString$1(unref(r)("panels.paramsPanel.transform.title")),1),createVNode(kt,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ze,{label:unref(e)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(At,{"model-value":y.value.ox,precision:1,onChange:j},null,8,["model-value"])]),_:1},8,["label"]),createVNode(ze,{label:unref(e)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(At,{"model-value":y.value.oy,precision:1,onChange:re},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])]),createBaseVNode("div",_hoisted_13$7,[createBaseVNode("div",_hoisted_14$6,toDisplayString$1(unref(r)("panels.paramsPanel.params.title")),1),createVNode(kt,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(ze,{label:unref(e)("programming.joint")},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(checkJoints),"onUpdate:modelValue":Ce[5]||(Ce[5]=Vn=>isRef(checkJoints)?checkJoints.value=Vn:null)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(ze,{label:unref(e)("programming.refline")},{default:withCtx(()=>[createVNode(jt,{modelValue:unref(checkRefLines),"onUpdate:modelValue":Ce[6]||(Ce[6]=Vn=>isRef(checkRefLines)?checkRefLines.value=Vn:null)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.value.parameters.parameters,Vn=>(openBlock(),createBlock(ze,{label:Vn.name},{default:withCtx(()=>[createVNode(Zn,{placement:"right",width:250,trigger:"click"},{reference:withCtx(()=>[createVNode(Ln,{class:normalizeClass(["more-btn",{ring:Vn.type===unref(ParameterType).RingController||Vn.type===unref(ParameterType).Constant&&unref(getConstant)(Vn.value).type===unref(ParameterType).RingController,show:Vn.type===unref(ParameterType).Number||Vn.type===unref(ParameterType).Constant&&unref(getConstant)(Vn.value).type!==unref(ParameterType).RingController||k.value===0}])},{default:withCtx(()=>[createVNode(unref(more_default))]),_:2},1032,["class"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_15$5,[withDirectives(createVNode(Tn,{onClick:En=>he(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),[[vShow,Vn.type===unref(ParameterType).Constant]]),createVNode(Tn,{onClick:En=>Oe(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),createVNode(Tn,{onClick:En=>xe(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),withDirectives(createVNode(Tn,{type:"primary",onClick:En=>$e(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),[[vShow,Vn.type===unref(ParameterType).Constant]])])]),_:2},1024),withDirectives(createBaseVNode("div",{class:normalizeClass(["global-param-note",{ring:Vn.type===unref(ParameterType).Constant&&unref(getConstant)(Vn.value).type===unref(ParameterType).RingController}])},"",2),[[vShow,Vn.type===unref(ParameterType).Constant]]),Vn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_16$5,[createVNode(At,{"model-value":Vn.value,step:Vn.max<=10?.01:1,min:Vn.min,max:Vn.max,precision:Vn.max<=10?2:0,disabled:Vn.type===unref(ParameterType).Constant,onChange:En=>oe(Vn,En)},null,8,["model-value","step","min","max","precision","disabled","onChange"]),withDirectives(createVNode(Qn,{step:Vn.max<=10?.01:1,min:Vn.min,max:Vn.max,precision:Vn.max<=10?2:0,onInput:En=>oe(Vn,En),modelValue:Vn.value,"onUpdate:modelValue":En=>Vn.value=En},null,8,["step","min","max","precision","onInput","modelValue","onUpdate:modelValue"]),[[vShow,Vn.type===unref(ParameterType).Number]]),createBaseVNode("div",{class:"down-menu-icon-wrap",onClick:En=>unref(de)[Vn.uuid]=!unref(de)[Vn.uuid]},[createVNode(Cn,{icon:["fas","arrow-down-wide-short"]})],8,_hoisted_17$3),withDirectives(createBaseVNode("div",_hoisted_18$3,[createBaseVNode("div",_hoisted_19$3,[createVNode(Cn,{class:normalizeClass(["ratio-icon",{selected:Vn.ratioed}]),onClick:()=>{Vn.ratioed=!Vn.ratioed,!Vn.ratioed&&y.value.value.system_script&&y.value.value.system_script[Vn.name]&&delete y.value.value.system_script[Vn.name]},icon:["fas","percent"]},null,8,["class","onClick"]),createVNode(On,{modelValue:Vn.ratio,"onUpdate:modelValue":En=>Vn.ratio=En,class:"control-type-select",placeholder:"Ratio",disabled:!Vn.ratioed,onChange:En=>ae(Vn,En)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(y.value.value),En=>(openBlock(),createBlock(Dt,{key:En.key,label:En.label,value:En.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])],512),[[vShow,unref(de)[Vn.uuid]]])])):Vn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_20$2,[createVNode(On,{modelValue:k.value,"onUpdate:modelValue":Ce[7]||(Ce[7]=En=>k.value=En),class:"control-type-select",placeholder:unref(e)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,En=>createVNode(Dt,{key:En.key,label:unref(e)(`programming.${En.key}`),value:En.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),k.value===0?(openBlock(),createElementBlock("div",_hoisted_21$2,[createVNode(_sfc_main$G,{radius:Vn.value.radius,size:V.value,degree:Vn.value.degree,params:Vn.value.params,"on-change":(En,jn,cr)=>ue(Vn.value,En,jn,cr)},null,8,["radius","size","degree","params","on-change"])])):k.value===1?(openBlock(),createElementBlock("div",_hoisted_22$2,[createVNode(hr,{type:"border-card"},{default:withCtx(()=>[createVNode(Pn,{label:"radius"},{default:withCtx(()=>[createVNode(ze,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value",modelValue:Vn.value.radius.name,"onUpdate:modelValue":En=>Vn.value.radius.name=En,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(ze,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:Vn.value.radius.value,"onUpdate:modelValue":En=>Vn.value.radius.value=En,min:Vn.value.radius.min,max:Vn.value.radius.max,precision:Vn.value.radius.max<=10?2:0,step:Vn.value.radius.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Qn,{onInput:En=>oe(Vn.value.radius,En),modelValue:Vn.value.radius.value,"onUpdate:modelValue":En=>Vn.value.radius.value=En,min:Vn.value.radius.min,max:Vn.value.radius.max,precision:Vn.value.radius.max<=10?2:0,step:Vn.value.radius.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"degree"},{default:withCtx(()=>[createVNode(ze,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value",modelValue:Vn.value.degree.name,"onUpdate:modelValue":En=>Vn.value.degree.name=En,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(ze,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:Vn.value.degree.value,"onUpdate:modelValue":En=>Vn.value.degree.value=En,min:Vn.value.degree.min,max:Vn.value.degree.max,precision:Vn.max<=10?2:0,step:Vn.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Qn,{onInput:En=>oe(Vn.value.degree,En),modelValue:Vn.value.degree.value,"onUpdate:modelValue":En=>Vn.value.degree.value=En,min:Vn.value.degree.min,max:Vn.value.degree.max,precision:Vn.value.degree.max<=10?2:0,step:Vn.value.degree.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"params"},{default:withCtx(()=>[createVNode(ur,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Vn.value.params,En=>(openBlock(),createBlock(Wn,{title:En.name,name:"1"},{default:withCtx(()=>[createVNode(ze,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value",modelValue:En.name,"onUpdate:modelValue":jn=>En.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(ze,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Qn,{onInput:jn=>oe(En,jn),modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):Vn.type===unref(ParameterType).Constant?(openBlock(),createElementBlock("div",_hoisted_23$2,[unref(getConstant)(Vn.value).type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_24$2,[createVNode(At,{"model-value":unref(getConstant)(Vn.value).value,step:unref(getConstant)(Vn.value).max<=10?.01:1,min:unref(getConstant)(Vn.value).min,max:unref(getConstant)(Vn.value).max,precision:unref(getConstant)(Vn.value).max<=10?2:0,onChange:En=>oe(unref(getConstant)(Vn.value),En)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Qn,{"model-value":unref(getConstant)(Vn.value).value,step:unref(getConstant)(Vn.value).max<=10?.01:1,min:unref(getConstant)(Vn.value).min,max:unref(getConstant)(Vn.value).max,precision:unref(getConstant)(Vn.value).max<=10?2:0,onInput:En=>oe(unref(getConstant)(Vn.value),En),onChange:En=>oe(unref(getConstant)(Vn.value),En)},null,8,["model-value","step","min","max","precision","onInput","onChange"])])):unref(getConstant)(Vn.value).type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_25$2,[createVNode(On,{modelValue:k.value,"onUpdate:modelValue":Ce[8]||(Ce[8]=En=>k.value=En),class:"control-type-select",placeholder:unref(e)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,En=>createVNode(Dt,{key:En.key,label:unref(e)(`programming.${En.key}`),value:En.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),k.value===0?(openBlock(),createElementBlock("div",_hoisted_26$2,[createVNode(_sfc_main$G,{radius:unref(getConstant)(Vn.value).value.radius,size:V.value,degree:unref(getConstant)(Vn.value).value.degree,params:unref(getConstant)(Vn.value).value.params,"on-change":(En,jn,cr)=>ue(unref(getConstant)(Vn.value).value,En,jn,cr)},null,8,["radius","size","degree","params","on-change"])])):k.value===1?(openBlock(),createElementBlock("div",_hoisted_27$1,[createVNode(hr,{type:"border-card"},{default:withCtx(()=>[createVNode(Pn,{label:"radius"},{default:withCtx(()=>[createVNode(ze,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.radius.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(ze,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.radius.value,min:unref(getConstant)(Vn.value).value.radius.min,max:unref(getConstant)(Vn.value).value.radius.max,precision:unref(getConstant)(Vn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Vn.value).value.radius.max<=10?.01:1,onChange:En=>oe(unref(getConstant)(Vn.value).value.radius,En)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Qn,{onInput:En=>oe(unref(getConstant)(Vn.value).value.radius,En),"model-value":unref(getConstant)(Vn.value).value.radius.value,min:unref(getConstant)(Vn.value).value.radius.min,max:unref(getConstant)(Vn.value).value.radius.max,precision:unref(getConstant)(Vn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Vn.value).value.radius.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"degree"},{default:withCtx(()=>[createVNode(ze,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.degree.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(ze,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.degree.value,min:unref(getConstant)(Vn.value).value.degree.min,max:unref(getConstant)(Vn.value).value.degree.max,precision:unref(getConstant)(Vn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Vn.value).value.degree.max<=10?.01:1,onChange:En=>oe(unref(getConstant)(Vn.value).value.degree,En)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Qn,{onInput:En=>oe(unref(getConstant)(Vn.value).value.degree,En),"model-value":unref(getConstant)(Vn.value).value.degree.value,min:unref(getConstant)(Vn.value).value.degree.min,max:unref(getConstant)(Vn.value).value.degree.max,precision:unref(getConstant)(Vn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Vn.value).value.degree.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"params"},{default:withCtx(()=>[createVNode(ur,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getConstant)(Vn.value).value.params,En=>(openBlock(),createBlock(Wn,{title:En.name,name:"1"},{default:withCtx(()=>[createVNode(ze,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Fe,{class:"parameter-value","model-value":En.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(ze,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value test","model-value":En.value,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1,onChange:jn=>oe(En,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Qn,{onInput:jn=>oe(En,jn),modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1032,["label"]))),256))]),_:1})]),createBaseVNode("div",_hoisted_28$1,[createBaseVNode("div",_hoisted_29$1,toDisplayString$1(unref(r)("panels.paramsPanel.joints.title")),1),createVNode(kt,{class:"joints-form","label-width":"80px"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.value._o?y.value.value._o?.getJoints():[],Vn=>(openBlock(),createBlock(An,{modelValue:unref(jointsCheckedMap)[Vn.name],"onUpdate:modelValue":En=>unref(jointsCheckedMap)[Vn.name]=En,label:Vn.name},null,8,["modelValue","onUpdate:modelValue","label"]))),256))]),_:1})])])):createCommentVNode("",!0)])}}}),GlyphEditPanel$1=_export_sfc(_sfc_main$F,[["__scopeId","data-v-a49a8602"]]),editing$2=ref(!1),selectControl=ref(""),_withScopeId$7=n=>(pushScopeId("data-v-555414f9"),n=n(),popScopeId(),n),_hoisted_1$D={class:"glyph-edit-panel"},_hoisted_2$C={key:0,class:"character-glyph-edit-panel"},_hoisted_3$g={class:"character-edit-panel"},_hoisted_4$d={class:"name-wrap"},_hoisted_5$b={class:"title"},_hoisted_6$8={key:0,class:"layout-wrap"},_hoisted_7$7={class:"title"},_hoisted_8$7={class:"ratio-item"},_hoisted_9$7={class:"interactive-settings"},_hoisted_10$7=_withScopeId$7(()=>createBaseVNode("div",{class:"title"},"",-1)),_hoisted_11$6={class:"transform-wrap"},_hoisted_12$6={class:"title"},_hoisted_13$6={class:"parameters-wrap"},_hoisted_14$5={class:"title"},_hoisted_15$4={class:"param-btn-group"},_hoisted_16$4={key:0},_hoisted_17$2=["onClick"],_hoisted_18$2={class:"down-menu"},_hoisted_19$2={class:"ratio-item"},_hoisted_20$1={key:1},_hoisted_21$1={key:0,class:"ring-controller-wrap"},_hoisted_22$1={key:1,class:"number-controller-wrap"},_hoisted_23$1={key:2},_hoisted_24$1={key:0},_hoisted_25$1={key:1},_hoisted_26$1={key:0,class:"ring-controller-wrap"},_hoisted_27={key:1,class:"number-controller-wrap"},_hoisted_28={class:"joints-wrap"},_hoisted_29={class:"title"},_sfc_main$E=defineComponent({__name:"GlyphEditPanel_Glyph",setup(n){const e=Ce=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,Ce)};let r=null,g=!1;watch(editGlyph,(Ce,Fe)=>{r&&clearTimeout(r),r=setTimeout(()=>{g=!1,clearTimeout(r)},500),g||(e({editGlyph:Fe,newRecord:!0}),g=!0)},{deep:!0});const y=computed(()=>{let Ce=selectedComponent$1.value;return editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length&&(selectedSubComponent$1.value?Ce=selectedSubComponent$1.value:Ce=SubComponentsRoot$1.value),Ce}),{tm:k,t:$}=useI18n();onUnmounted(()=>{draggable$1.value=!0,dragOption.value="default",checkJoints.value=!1,checkRefLines.value=!1});const V=ref(0),L=[{value:0,key:"widget"},{value:1,key:"number"}],z=ref(150),j=ref({});y.value.value._o?.getJoints().map(Ce=>{Ce&&(j.value[Ce.name]=!1)}),watch(y,()=>{j.value={},y.value.value._o?.getJoints().map(Ce=>{Ce&&(j.value[Ce.name]=!1)})});const re=Ce=>{editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length?modifySubComponent$1({ox:Ce}):modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{ox:Ce})},oe=Ce=>{editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length?modifySubComponent$1({oy:Ce}):modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{oy:Ce})},ae=(Ce,Fe)=>{if(Ce.value=Fe,Ce.ratioed)if(y.value.value.system_script||(y.value.value.system_script={}),editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length&&selectedSubComponent$1.value){let ze=getRatioLayout2(SubComponentsRoot$1.value.value,Ce.ratio);if(ze){const kt=`window.comp_glyph.setParam('${Ce.name}',window.glyph.getRatioLayout('${Ce.ratio}') / ${ze} * ${Fe});`;y.value.value.system_script[Ce.name]=kt}}else{let ze=getRatioLayout(editGlyph.value,Ce.ratio);if(ze){const kt=`window.comp_glyph.setParam('${Ce.name}',window.glyph.getRatioLayout('${Ce.ratio}') / ${ze} * ${Fe});`;y.value.value.system_script[Ce.name]=kt}}executeScript(editGlyph.value),y.value.value._o.getJoints().map(ze=>{ze.component=y.value}),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)},de=(Ce,Fe)=>{if(Ce.ratioed)if(y.value.value.system_script||(y.value.value.system_script={}),editGlyph.value.selectedComponentsTree&&editGlyph.value.selectedComponentsTree.length&&selectedSubComponent$1.value){let ze=getRatioLayout2(SubComponentsRoot$1.value.value,Ce.ratio);if(ze){const kt=`window.comp_glyph.setParam('${Ce.name}',window.glyph.getRatioLayout('${Ce.ratio}') / ${ze} * ${Ce.value});`;y.value.value.system_script[Ce.name]=kt}}else{let ze=getRatioLayout(editGlyph.value,Ce.ratio);if(ze){const kt=`window.comp_glyph.setParam('${Ce.name}',window.glyph.getRatioLayout('${Ce.ratio}') / ${ze} * ${Ce.value});`;y.value.value.system_script[Ce.name]=kt}}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)};watch(j,()=>{editStatus.value===Status.Edit?emitter.emit("renderCharacter"):editStatus.value===Status.Glyph&&emitter.emit("renderGlyph"),y.value.value._o.renderJoints(canvas.value,{type:"selected",joints:Object.keys(j.value).filter(Ce=>!!j.value[Ce])})},{deep:!0}),watch([checkJoints,checkRefLines],()=>{emitter.emit("renderGlyph"),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)}),watch(dragOption,()=>{});let ue=ref({});onMounted(()=>{editStatus.value===Status.Edit&&y.value.value.parameters?.parameters.map(Ce=>{ue.value[Ce.uuid]=!1})});const pe=(Ce,Fe,ze,kt)=>{Ce.radius.value=Fe,Ce.degree.value=ze,Ce.params=Object.assign([],kt),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0),checkJoints.value&&y.value.value._o.renderJoints(canvas.value),checkRefLines.value&&y.value.value._o.renderRefLines(canvas.value)},he=Ce=>{const Fe=getConstant(Ce.value);Ce.type=Fe.type,Ce.value=Fe.value;const ze=constantGlyphMap.get(Fe.uuid);for(let kt=0;kt<ze.length;kt++)if(ze[kt].parameterUUID===Ce.uuid){ze.splice(kt,1);break}},Oe=Ce=>{selectedParam.value=Ce,selectedParamType.value="glyph_components",setSetAsGlobalParamDialogVisible(!0)},xe=Ce=>{selectedParam.value=Ce,selectedParamType.value="glyph_components",setSelectGlobalParamDialogVisible(!0)},$e=Ce=>{const Fe=constantGlyphMap.get(Ce.value);for(let ze=0;ze<Fe.length;ze++){const kt=Fe[ze];let At=null;if(kt.constantType===ConstantType.Parameter)At=getGlyphByUUID(Fe[ze].glyphUUID);else if(kt.constantType===ConstantType.Component){const Cn=Fe[ze].parentUUID;let Dt=null;kt.glyphType===GlyphType.Char?Dt=selectedItemByUUID(selectedFile.value.characterList,Cn):Dt=getGlyphByUUID(Cn),At=Dt.value}At&&(executeScript(At),emitter.emit("renderGlyphPreviewCanvasByUUID",At.uuid))}},Ne=()=>{executeScript(y.value.value),executeScript(editGlyph.value),emitter.emit("renderGlyph_forceUpdate",!0),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid)};return(Ce,Fe)=>{const ze=resolveComponent("el-input"),kt=resolveComponent("el-form-item"),At=resolveComponent("el-form"),Cn=resolveComponent("el-input-number"),Dt=resolveComponent("font-awesome-icon"),On=resolveComponent("el-option"),jt=resolveComponent("el-select"),An=resolveComponent("el-switch"),Mn=resolveComponent("el-checkbox"),$n=resolveComponent("el-radio"),Ln=resolveComponent("el-radio-group"),Tn=resolveComponent("el-icon"),Zn=resolveComponent("el-button"),Qn=resolveComponent("el-popover"),Pn=resolveComponent("el-slider"),Wn=resolveComponent("el-tab-pane"),ur=resolveComponent("el-collapse-item"),hr=resolveComponent("el-collapse"),Vn=resolveComponent("el-tabs");return openBlock(),createElementBlock("div",_hoisted_1$D,[unref(editStatus)===unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_2$C,[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("div",_hoisted_5$b,toDisplayString$1(unref($)("panels.paramsPanel.componentName.title")),1),createVNode(At,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(k)("panels.paramsPanel.componentName.label")},{default:withCtx(()=>[createVNode(ze,{modelValue:y.value.name,"onUpdate:modelValue":Fe[0]||(Fe[0]=En=>y.value.name=En)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),y.value.value.layout?(openBlock(),createElementBlock("div",_hoisted_6$8,[createBaseVNode("div",_hoisted_7$7,toDisplayString$1(unref($)("panels.paramsPanel.layout.title")),1),createVNode(At,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(k)("panels.paramsPanel.layout.type")},{default:withCtx(()=>[createVNode(ze,{disabled:"",modelValue:y.value.value.layout.type,"onUpdate:modelValue":Fe[1]||(Fe[1]=En=>y.value.value.layout.type=En)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(y.value.value.layout.params),En=>(openBlock(),createBlock(kt,{label:En},{default:withCtx(()=>[createVNode(Cn,{modelValue:y.value.value.layout.params[En],"onUpdate:modelValue":jn=>y.value.value.layout.params[En]=jn,onChange:Ne},null,8,["modelValue","onUpdate:modelValue"]),createBaseVNode("div",_hoisted_8$7,[createVNode(Dt,{class:normalizeClass(["ratio-icon",{selected:y.value.value.layout.ratioedMap&&y.value.value.layout.ratioedMap[En].ratioed}]),onClick:()=>{y.value.value.layout.ratioedMap||(y.value.value.layout.ratioedMap=new Map),y.value.value.layout.ratioedMap[En]||y.value.value.layout.ratioedMap.set(En,{ratioed:!0}),y.value.value.layout.ratioedMap[En].ratioed=!y.value.value.layout.ratioedMap[En].ratioed},icon:["fas","percent"]},null,8,["class","onClick"]),createVNode(jt,{modelValue:y.value.value.layout.ratioedMap[En].ratio,"onUpdate:modelValue":jn=>y.value.value.layout.ratioedMap[En].ratio=jn,class:"control-type-select",placeholder:"Ratio",disabled:!y.value.value.layout.ratioedMap||!y.value.value.layout.ratioedMap[En].ratioed},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(y.value.value),jn=>(openBlock(),createBlock(On,{key:jn.key,label:jn.label,value:jn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])]),_:2},1032,["label"]))),256)),createVNode(kt,{label:""},{default:withCtx(()=>[createVNode(An,{modelValue:unref(editing$2),"onUpdate:modelValue":Fe[2]||(Fe[2]=En=>isRef(editing$2)?editing$2.value=En:null)},null,8,["modelValue"])]),_:1})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$7,[_hoisted_10$7,createVNode(At,{class:"name-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:""},{default:withCtx(()=>[createVNode(Mn,{modelValue:unref(draggable$1),"onUpdate:modelValue":Fe[3]||(Fe[3]=En=>isRef(draggable$1)?draggable$1.value=En:null),class:"draggable-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"])]),_:1}),createVNode(kt,{label:""},{default:withCtx(()=>[createVNode(Ln,{modelValue:unref(dragOption),"onUpdate:modelValue":Fe[4]||(Fe[4]=En=>isRef(dragOption)?dragOption.value=En:null),class:"radio-group"},{default:withCtx(()=>[createVNode($n,{value:"none",label:"none"},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode($n,{value:"default",label:"default"},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode($n,{value:"layout",label:"layout",disabled:!unref(SubComponentsRoot$1)&&!unref(editGlyph).layout||!!unref(SubComponentsRoot$1)&&!unref(SubComponentsRoot$1).value.layout},{default:withCtx(()=>[createTextVNode("")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_11$6,[createBaseVNode("div",_hoisted_12$6,toDisplayString$1(unref($)("panels.paramsPanel.transform.title")),1),createVNode(At,{class:"transfom-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(k)("panels.paramsPanel.transform.x")},{default:withCtx(()=>[createVNode(Cn,{"model-value":y.value.ox,precision:1,onChange:re},null,8,["model-value"])]),_:1},8,["label"]),createVNode(kt,{label:unref(k)("panels.paramsPanel.transform.y")},{default:withCtx(()=>[createVNode(Cn,{"model-value":y.value.oy,precision:1,onChange:oe},null,8,["model-value"])]),_:1},8,["label"])]),_:1})])]),createBaseVNode("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$5,toDisplayString$1(unref($)("panels.paramsPanel.params.title")),1),createVNode(At,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(kt,{label:unref(k)("programming.joint")},{default:withCtx(()=>[createVNode(An,{modelValue:unref(checkJoints),"onUpdate:modelValue":Fe[5]||(Fe[5]=En=>isRef(checkJoints)?checkJoints.value=En:null)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(kt,{label:unref(k)("programming.refline")},{default:withCtx(()=>[createVNode(An,{modelValue:unref(checkRefLines),"onUpdate:modelValue":Fe[6]||(Fe[6]=En=>isRef(checkRefLines)?checkRefLines.value=En:null)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.value.parameters.parameters,En=>(openBlock(),createBlock(kt,{label:En.name},{default:withCtx(()=>[createVNode(Qn,{placement:"right",width:250,trigger:"click"},{reference:withCtx(()=>[createVNode(Tn,{class:normalizeClass(["more-btn",{ring:En.type===unref(ParameterType).RingController||En.type===unref(ParameterType).Constant&&unref(getConstant)(En.value).type===unref(ParameterType).RingController,show:En.type===unref(ParameterType).Number||En.type===unref(ParameterType).Constant&&unref(getConstant)(En.value).type!==unref(ParameterType).RingController||V.value===0}])},{default:withCtx(()=>[createVNode(unref(more_default))]),_:2},1032,["class"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_15$4,[withDirectives(createVNode(Zn,{onClick:jn=>he(En)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),[[vShow,En.type===unref(ParameterType).Constant]]),createVNode(Zn,{onClick:jn=>Oe(En)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),createVNode(Zn,{onClick:jn=>xe(En)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),withDirectives(createVNode(Zn,{type:"primary",onClick:jn=>$e(En)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),[[vShow,En.type===unref(ParameterType).Constant]])])]),_:2},1024),withDirectives(createBaseVNode("div",{class:normalizeClass(["global-param-note",{ring:En.type===unref(ParameterType).Constant&&unref(getConstant)(En.value).type===unref(ParameterType).RingController}])},"",2),[[vShow,En.type===unref(ParameterType).Constant]]),En.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_16$4,[createVNode(Cn,{"model-value":En.value,step:En.max<=10?.01:1,min:En.min,max:En.max,precision:En.max<=10?2:0,onChange:jn=>ae(En,jn)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Pn,{step:En.max<=10?.01:1,min:En.min,max:En.max,precision:En.max<=10?2:0,onInput:jn=>ae(En,jn),modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn},null,8,["step","min","max","precision","onInput","modelValue","onUpdate:modelValue"]),createBaseVNode("div",{class:"down-menu-icon-wrap",onClick:jn=>unref(ue)[En.uuid]=!unref(ue)[En.uuid]},[createVNode(Dt,{icon:["fas","arrow-down-wide-short"]})],8,_hoisted_17$2),withDirectives(createBaseVNode("div",_hoisted_18$2,[createBaseVNode("div",_hoisted_19$2,[createVNode(Dt,{class:normalizeClass(["ratio-icon",{selected:En.ratioed}]),onClick:()=>{En.ratioed=!En.ratioed,!En.ratioed&&y.value.value.system_script&&y.value.value.system_script[En.name]&&delete y.value.value.system_script[En.name]},icon:["fas","percent"]},null,8,["class","onClick"]),createVNode(jt,{modelValue:En.ratio,"onUpdate:modelValue":jn=>En.ratio=jn,class:"control-type-select",placeholder:"Ratio",disabled:!En.ratioed,onChange:jn=>de(En,jn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(y.value.value),jn=>(openBlock(),createBlock(On,{key:jn.key,label:jn.label,value:jn.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])],512),[[vShow,unref(ue)[En.uuid]]])])):En.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_20$1,[createVNode(jt,{modelValue:V.value,"onUpdate:modelValue":Fe[7]||(Fe[7]=jn=>V.value=jn),class:"control-type-select",placeholder:unref(k)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(L,jn=>createVNode(On,{key:jn.key,label:unref(k)(`programming.${jn.key}`),value:jn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),V.value===0?(openBlock(),createElementBlock("div",_hoisted_21$1,[createVNode(_sfc_main$G,{radius:En.value.radius,size:z.value,degree:En.value.degree,params:En.value.params,"on-change":(jn,cr,gr)=>pe(En.value,jn,cr,gr)},null,8,["radius","size","degree","params","on-change"])])):V.value===1?(openBlock(),createElementBlock("div",_hoisted_22$1,[createVNode(Vn,{type:"border-card"},{default:withCtx(()=>[createVNode(Wn,{label:"radius"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(ze,{class:"parameter-value",modelValue:En.value.radius.name,"onUpdate:modelValue":jn=>En.value.radius.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:En.value.radius.value,"onUpdate:modelValue":jn=>En.value.radius.value=jn,min:En.value.radius.min,max:En.value.radius.max,precision:En.value.radius.max<=10?2:0,step:En.value.radius.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Pn,{onInput:jn=>ae(En.value.radius,jn),modelValue:En.value.radius.value,"onUpdate:modelValue":jn=>En.value.radius.value=jn,min:En.value.radius.min,max:En.value.radius.max,precision:En.value.radius.max<=10?2:0,step:En.value.radius.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"degree"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(ze,{class:"parameter-value",modelValue:En.value.degree.name,"onUpdate:modelValue":jn=>En.value.degree.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:En.value.degree.value,"onUpdate:modelValue":jn=>En.value.degree.value=jn,min:En.value.degree.min,max:En.value.degree.max,precision:En.value.degree.max<=10?2:0,step:En.value.degree.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Pn,{onInput:jn=>ae(En.value.degree,jn),modelValue:En.value.degree.value,"onUpdate:modelValue":jn=>En.value.degree.value=jn,min:En.value.degree.min,max:En.value.degree.max,precision:En.value.degree.max<=10?2:0,step:En.value.degree.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"params"},{default:withCtx(()=>[createVNode(hr,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(En.value.params,jn=>(openBlock(),createBlock(ur,{title:jn.name,name:"1"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(ze,{class:"parameter-value",modelValue:jn.name,"onUpdate:modelValue":cr=>jn.name=cr,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value test",modelValue:jn.value,"onUpdate:modelValue":cr=>jn.value=cr,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Pn,{onInput:cr=>ae(jn,cr),modelValue:jn.value,"onUpdate:modelValue":cr=>jn.value=cr,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):En.type===unref(ParameterType).Constant?(openBlock(),createElementBlock("div",_hoisted_23$1,[unref(getConstant)(En.value).type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_24$1,[createVNode(Cn,{"model-value":unref(getConstant)(En.value).value,step:unref(getConstant)(En.value).max<=10?.01:1,min:unref(getConstant)(En.value).min,max:unref(getConstant)(En.value).max,precision:unref(getConstant)(En.value).max<=10?2:0,onChange:jn=>ae(unref(getConstant)(En.value),jn)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Pn,{"model-value":unref(getConstant)(En.value).value,step:unref(getConstant)(En.value).max<=10?.01:1,min:unref(getConstant)(En.value).min,max:unref(getConstant)(En.value).max,precision:unref(getConstant)(En.value).max<=10?2:0,onInput:jn=>ae(unref(getConstant)(En.value),jn),onChange:jn=>ae(unref(getConstant)(En.value),jn)},null,8,["model-value","step","min","max","precision","onInput","onChange"])])):unref(getConstant)(En.value).type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_25$1,[createVNode(jt,{modelValue:V.value,"onUpdate:modelValue":Fe[8]||(Fe[8]=jn=>V.value=jn),class:"control-type-select",placeholder:unref(k)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(L,jn=>createVNode(On,{key:jn.key,label:unref(k)(`programming.${jn.key}`),value:jn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),V.value===0?(openBlock(),createElementBlock("div",_hoisted_26$1,[createVNode(_sfc_main$G,{radius:unref(getConstant)(En.value).value.radius,size:z.value,degree:unref(getConstant)(En.value).value.degree,params:unref(getConstant)(En.value).value.params,"on-change":(jn,cr,gr)=>pe(unref(getConstant)(En.value).value,jn,cr,gr)},null,8,["radius","size","degree","params","on-change"])])):V.value===1?(openBlock(),createElementBlock("div",_hoisted_27,[createVNode(Vn,{type:"border-card"},{default:withCtx(()=>[createVNode(Wn,{label:"radius"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(ze,{class:"parameter-value","model-value":unref(getConstant)(En.value).value.radius.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value","model-value":unref(getConstant)(En.value).value.radius.value,min:unref(getConstant)(En.value).value.radius.min,max:unref(getConstant)(En.value).value.radius.max,precision:unref(getConstant)(En.value).value.radius.max<=10?2:0,step:unref(getConstant)(En.value).value.radius.max<=10?.01:1,onChange:jn=>ae(unref(getConstant)(En.value).value.radius,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Pn,{onInput:jn=>ae(unref(getConstant)(En.value).value.radius,jn),"model-value":unref(getConstant)(En.value).value.radius.value,min:unref(getConstant)(En.value).value.radius.min,max:unref(getConstant)(En.value).value.radius.max,precision:unref(getConstant)(En.value).value.radius.max<=10?2:0,step:unref(getConstant)(En.value).value.radius.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"degree"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(ze,{class:"parameter-value","model-value":unref(getConstant)(En.value).value.degree.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value","model-value":unref(getConstant)(En.value).value.degree.value,min:unref(getConstant)(En.value).value.degree.min,max:unref(getConstant)(En.value).value.degree.max,precision:unref(getConstant)(En.value).value.degree.max<=10?2:0,step:unref(getConstant)(En.value).value.degree.max<=10?.01:1,onChange:jn=>ae(unref(getConstant)(En.value).value.degree,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Pn,{onInput:jn=>ae(unref(getConstant)(En.value).value.degree,jn),"model-value":unref(getConstant)(En.value).value.degree.value,min:unref(getConstant)(En.value).value.degree.min,max:unref(getConstant)(En.value).value.degree.max,precision:unref(getConstant)(En.value).value.degree.max<=10?2:0,step:unref(getConstant)(En.value).value.degree.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Wn,{label:"params"},{default:withCtx(()=>[createVNode(hr,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getConstant)(En.value).value.params,jn=>(openBlock(),createBlock(ur,{title:jn.name,name:"1"},{default:withCtx(()=>[createVNode(kt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(ze,{class:"parameter-value","model-value":jn.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(kt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value test","model-value":jn.value,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1,onChange:cr=>ae(jn,cr)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Pn,{onInput:cr=>ae(jn,cr),modelValue:jn.value,"onUpdate:modelValue":cr=>jn.value=cr,min:jn.min,max:jn.max,precision:jn.max<=10?2:0,step:jn.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1032,["label"]))),256))]),_:1})]),createBaseVNode("div",_hoisted_28,[createBaseVNode("div",_hoisted_29,toDisplayString$1(unref($)("panels.paramsPanel.joints.title")),1),createVNode(At,{class:"joints-form","label-width":"80px"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.value._o?y.value.value._o?.getJoints():[],En=>(openBlock(),createBlock(Mn,{modelValue:j.value[En.name],"onUpdate:modelValue":jn=>j.value[En.name]=jn,label:En.name},null,8,["modelValue","onUpdate:modelValue","label"]))),256))]),_:1})])])):createCommentVNode("",!0)])}}}),GlyphEditPanelGlyph=_export_sfc(_sfc_main$E,[["__scopeId","data-v-555414f9"]]),_hoisted_1$C={class:"glyph-edit-panel"},_hoisted_2$B={class:"title"},_hoisted_3$f={class:"layout-wrap"},_hoisted_4$c={key:0,class:"layout-info"},_hoisted_5$a={class:"parameters-wrap"},_hoisted_6$7={class:"title"},_hoisted_7$6={class:"param-btn-group"},_hoisted_8$6={key:0},_hoisted_9$6=["onClick"],_hoisted_10$6={class:"down-menu"},_hoisted_11$5={class:"ratio-item"},_hoisted_12$5={key:1},_hoisted_13$5={key:0,class:"ring-controller-wrap"},_hoisted_14$4={key:1,class:"number-controller-wrap"},_hoisted_15$3={key:2},_hoisted_16$3={key:0},_hoisted_17$1={key:1},_hoisted_18$1={key:0,class:"ring-controller-wrap"},_hoisted_19$1={key:1,class:"number-controller-wrap"},_sfc_main$D=defineComponent({__name:"GlyphParamsPanel",setup(n){const{t:e,tm:r}=useI18n(),g=ref(!1),y=ref(!1),k=ref(0),$=[{value:0,key:"widget"},{value:1,key:"number"}],V=ref(0),L=[{value:0,key:"null"},{value:1,key:"rect"}],z=ref(!1),j=ref(150),re=ze=>{saveState("",[editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,ze)};let oe=null,ae=!1;watch(editGlyph,(ze,kt)=>{oe&&clearTimeout(oe),oe=setTimeout(()=>{ae=!1,clearTimeout(oe)},500),ae||(re({editGlyph:kt,newRecord:!0}),ae=!0)},{deep:!0});const de=(ze,kt)=>{if(ze.value=kt,ze.ratioed){editGlyph.value.param_script||(editGlyph.value.param_script={});const At=getRatioLayout(editGlyph.value,kt),Cn=`window.glyph.setParam('${ze.name}',window.glyph.getRatioLayout('${kt}') / ${At} * ${ze.value});`;editGlyph.value.param_script[ze.name]=Cn}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"),g.value&&editGlyph.value._o.renderJoints(canvas.value),y.value&&editGlyph.value._o.renderRefLines(canvas.value)},ue=(ze,kt)=>{if(ze.ratioed){editGlyph.value.param_script||(editGlyph.value.param_script={});const At=getRatioLayout(editGlyph.value,kt),Cn=`window.glyph.setParam('${ze.name}',window.glyph.getRatioLayout('${kt}') / ${At} * ${ze.value});`;editGlyph.value.param_script[ze.name]=Cn}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"),g.value&&editGlyph.value._o.renderJoints(canvas.value),y.value&&editGlyph.value._o.renderRefLines(canvas.value)},pe=(ze,kt,At,Cn)=>{ze.radius.value=kt,ze.degree.value=At,ze.params=Object.assign([],Cn),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"),g.value&&editGlyph.value._o.renderJoints(canvas.value),y.value&&editGlyph.value._o.renderRefLines(canvas.value)};watch([g,y],()=>{emitter.emit("renderGlyph"),g.value&&editGlyph.value._o.renderJoints(canvas.value),y.value&&editGlyph.value._o.renderRefLines(canvas.value)}),watch(V,()=>{if(V.value===0)editGlyph.value.layout=null;else if(V.value===1){const ze={width:{ratioed:!1,ratio:"DEFAULT"},height:{ratioed:!1,ratio:"DEFAULT"}};editGlyph.value.layout={type:"rect",params:{width:1e3,height:1e3},ratioedMap:ze}}z.value=!1});let he=ref({});onMounted(()=>{editGlyph.value.parameters.parameters.map(ze=>{he.value[ze.uuid]=!1})});let Oe=null;const xe=async()=>{emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),Oe&&clearTimeout(Oe),Oe=setTimeout(()=>{executeScript(editGlyph.value),emitter.emit("renderGlyph",!0)},1500)},$e=ze=>{const kt=getConstant(ze.value);ze.type=kt.type,ze.value=kt.value;const At=constantGlyphMap.get(kt.uuid);for(let Cn=0;Cn<At.length;Cn++)if(At[Cn].parameterUUID===ze.uuid){At.splice(Cn,1);break}},Ne=ze=>{selectedParam.value=ze,selectedParamType.value="glyph_components",setSetAsGlobalParamDialogVisible(!0)},Ce=ze=>{selectedParam.value=ze,selectedParamType.value="glyph_components",setSelectGlobalParamDialogVisible(!0)},Fe=ze=>{const kt=constantGlyphMap.get(ze.value);for(let At=0;At<kt.length;At++){const Cn=kt[At];let Dt=null;if(Cn.constantType===ConstantType.Parameter)Dt=getGlyphByUUID(kt[At].glyphUUID);else if(Cn.constantType===ConstantType.Component){const On=kt[At].parentUUID;let jt=null;Cn.glyphType===GlyphType.Char?jt=selectedItemByUUID(selectedFile.value.characterList,On):jt=getGlyphByUUID(On),Dt=jt.value}Dt&&(executeScript(Dt),emitter.emit("renderGlyphPreviewCanvasByUUID",Dt.uuid))}};return(ze,kt)=>{const At=resolveComponent("el-button"),Cn=resolveComponent("el-option"),Dt=resolveComponent("el-select"),On=resolveComponent("el-input"),jt=resolveComponent("el-form-item"),An=resolveComponent("el-input-number"),Mn=resolveComponent("el-switch"),$n=resolveComponent("el-form"),Ln=resolveComponent("el-icon"),Tn=resolveComponent("el-popover"),Zn=resolveComponent("el-slider"),Qn=resolveComponent("font-awesome-icon"),Pn=resolveComponent("el-tab-pane"),Wn=resolveComponent("el-collapse-item"),ur=resolveComponent("el-collapse"),hr=resolveComponent("el-tabs");return openBlock(),createElementBlock("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$B,toDisplayString$1(unref(e)("panels.paramsPanel.layout.title")),1),createBaseVNode("div",_hoisted_3$f,[withDirectives(createVNode(At,{class:"add-layout-button",onClick:kt[0]||(kt[0]=Vn=>z.value=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.layout.add")),1)]),_:1},512),[[vShow,!unref(editGlyph).layout&&!z.value]]),withDirectives(createVNode(At,{class:"set-layout-button",onClick:kt[1]||(kt[1]=Vn=>z.value=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.paramsPanel.layout.modify")),1)]),_:1},512),[[vShow,!!unref(editGlyph).layout&&!z.value]]),withDirectives(createVNode(Dt,{modelValue:V.value,"onUpdate:modelValue":kt[2]||(kt[2]=Vn=>V.value=Vn),class:"layout-type-select",placeholder:unref(r)("panels.paramsPanel.layout.title")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(L,Vn=>createVNode(Cn,{key:Vn.key,label:unref(r)(`panels.paramsPanel.layout.${Vn.key}`),value:Vn.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),[[vShow,z.value]]),unref(editGlyph).layout?(openBlock(),createElementBlock("div",_hoisted_4$c,[createVNode($n,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(jt,{label:unref(r)("panels.paramsPanel.layout.type")},{default:withCtx(()=>[createVNode(On,{disabled:"",modelValue:unref(editGlyph).layout.type,"onUpdate:modelValue":kt[3]||(kt[3]=Vn=>unref(editGlyph).layout.type=Vn)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(unref(editGlyph).layout.params),Vn=>(openBlock(),createBlock(jt,{label:Vn},{default:withCtx(()=>[createVNode(An,{modelValue:unref(editGlyph).layout.params[Vn],"onUpdate:modelValue":En=>unref(editGlyph).layout.params[Vn]=En,onChange:xe},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),256)),createVNode(jt,{label:""},{default:withCtx(()=>[createVNode(Mn,{modelValue:unref(editing$2),"onUpdate:modelValue":kt[4]||(kt[4]=Vn=>isRef(editing$2)?editing$2.value=Vn:null)},null,8,["modelValue"])]),_:1})]),_:1})])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("div",_hoisted_6$7,toDisplayString$1(unref(e)("panels.paramsPanel.params.title")),1),createVNode($n,{class:"parameters-form","label-width":"80px"},{default:withCtx(()=>[createVNode(jt,{label:unref(r)("programming.joint")},{default:withCtx(()=>[createVNode(Mn,{modelValue:g.value,"onUpdate:modelValue":kt[5]||(kt[5]=Vn=>g.value=Vn)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(jt,{label:unref(r)("programming.refline")},{default:withCtx(()=>[createVNode(Mn,{modelValue:y.value,"onUpdate:modelValue":kt[6]||(kt[6]=Vn=>y.value=Vn)},null,8,["modelValue"])]),_:1},8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(editGlyph).parameters.parameters,Vn=>(openBlock(),createBlock(jt,{label:Vn.name},{default:withCtx(()=>[createVNode(Tn,{placement:"right",width:250,trigger:"click"},{reference:withCtx(()=>[createVNode(Ln,{class:normalizeClass(["more-btn",{ring:Vn.type===unref(ParameterType).RingController||Vn.type===unref(ParameterType).Constant&&unref(getConstant)(Vn.value).type===unref(ParameterType).RingController,show:Vn.type===unref(ParameterType).Number||Vn.type===unref(ParameterType).Constant&&unref(getConstant)(Vn.value).type!==unref(ParameterType).RingController||k.value===0}])},{default:withCtx(()=>[createVNode(unref(more_default))]),_:2},1032,["class"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$6,[withDirectives(createVNode(At,{onClick:En=>$e(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),[[vShow,Vn.type===unref(ParameterType).Constant]]),createVNode(At,{onClick:En=>Ne(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),createVNode(At,{onClick:En=>Ce(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),withDirectives(createVNode(At,{type:"primary",onClick:En=>Fe(Vn)},{default:withCtx(()=>[createTextVNode("")]),_:2},1032,["onClick"]),[[vShow,Vn.type===unref(ParameterType).Constant]])])]),_:2},1024),withDirectives(createBaseVNode("div",{class:normalizeClass(["global-param-note",{ring:Vn.type===unref(ParameterType).Constant&&unref(getConstant)(Vn.value).type===unref(ParameterType).RingController}])},"",2),[[vShow,Vn.type===unref(ParameterType).Constant]]),Vn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_8$6,[createVNode(An,{"model-value":Vn.value,step:Vn.max<=10?.01:1,min:Vn.min,max:Vn.max,precision:Vn.max<=10?2:0,disabled:Vn.type===unref(ParameterType).Constant,onChange:En=>de(Vn,En)},null,8,["model-value","step","min","max","precision","disabled","onChange"]),withDirectives(createVNode(Zn,{step:Vn.max<=10?.01:1,min:Vn.min,max:Vn.max,precision:Vn.max<=10?2:0,onInput:En=>de(Vn,En),modelValue:Vn.value,"onUpdate:modelValue":En=>Vn.value=En},null,8,["step","min","max","precision","onInput","modelValue","onUpdate:modelValue"]),[[vShow,Vn.type===unref(ParameterType).Number]]),createBaseVNode("div",{class:"down-menu-icon-wrap",onClick:En=>unref(he)[Vn.uuid]=!unref(he)[Vn.uuid]},[createVNode(Qn,{icon:["fas","arrow-down-wide-short"]})],8,_hoisted_9$6),withDirectives(createBaseVNode("div",_hoisted_10$6,[createBaseVNode("div",_hoisted_11$5,[createVNode(Qn,{class:normalizeClass(["ratio-icon",{selected:Vn.ratioed}]),onClick:()=>{Vn.ratioed=!Vn.ratioed,!Vn.ratioed&&unref(editGlyph).system_script&&unref(editGlyph).system_script[Vn.name]&&delete unref(editGlyph).system_script[Vn.name]},icon:["fas","percent"]},null,8,["class","onClick"]),createVNode(Dt,{modelValue:Vn.ratio,"onUpdate:modelValue":En=>Vn.ratio=En,class:"control-type-select",placeholder:"Ratio",disabled:!Vn.ratioed,onChange:En=>ue(Vn,En)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getRatioOptions)(unref(editGlyph)),En=>(openBlock(),createBlock(Cn,{key:En.key,label:En.label,value:En.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])],512),[[vShow,unref(he)[Vn.uuid]]])])):Vn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_12$5,[createVNode(Dt,{modelValue:k.value,"onUpdate:modelValue":kt[7]||(kt[7]=En=>k.value=En),class:"control-type-select",placeholder:unref(r)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,En=>createVNode(Cn,{key:En.key,label:unref(r)(`programming.${En.key}`),value:En.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),k.value===0?(openBlock(),createElementBlock("div",_hoisted_13$5,[createVNode(_sfc_main$G,{radius:Vn.value.radius,size:j.value,degree:Vn.value.degree,params:Vn.value.params,"on-change":(En,jn,cr)=>pe(Vn.value,En,jn,cr)},null,8,["radius","size","degree","params","on-change"])])):k.value===1?(openBlock(),createElementBlock("div",_hoisted_14$4,[createVNode(hr,{type:"border-card"},{default:withCtx(()=>[createVNode(Pn,{label:"radius"},{default:withCtx(()=>[createVNode(jt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(On,{class:"parameter-value",modelValue:Vn.value.radius.name,"onUpdate:modelValue":En=>Vn.value.radius.name=En,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(jt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Vn.value.radius.value,"onUpdate:modelValue":En=>Vn.value.radius.value=En,min:Vn.value.radius.min,max:Vn.value.radius.max,precision:Vn.value.radius.max<=10?2:0,step:Vn.value.radius.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Zn,{onInput:En=>de(Vn.value.radius,En),modelValue:Vn.value.radius.value,"onUpdate:modelValue":En=>Vn.value.radius.value=En,min:Vn.value.radius.min,max:Vn.value.radius.max,precision:Vn.value.radius.max<=10?2:0,step:Vn.value.radius.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"degree"},{default:withCtx(()=>[createVNode(jt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(On,{class:"parameter-value",modelValue:Vn.value.degree.name,"onUpdate:modelValue":En=>Vn.value.degree.name=En,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(jt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Vn.value.degree.value,"onUpdate:modelValue":En=>Vn.value.degree.value=En,min:Vn.value.degree.min,max:Vn.value.degree.max,precision:Vn.value.degree.max<=10?2:0,step:Vn.value.degree.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Zn,{onInput:En=>de(Vn.value.degree,En),modelValue:Vn.value.degree.value,"onUpdate:modelValue":En=>Vn.value.degree.value=En,min:Vn.value.degree.min,max:Vn.value.degree.max,precision:Vn.value.degree.max<=10?2:0,step:Vn.value.degree.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"params"},{default:withCtx(()=>[createVNode(ur,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Vn.value.params,En=>(openBlock(),createBlock(Wn,{title:En.name,name:"1"},{default:withCtx(()=>[createVNode(jt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(On,{class:"parameter-value",modelValue:En.name,"onUpdate:modelValue":jn=>En.name=jn,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(jt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1},null,8,["modelValue","onUpdate:modelValue","min","max","precision","step"]),createVNode(Zn,{onInput:jn=>de(En,jn),modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):Vn.type===unref(ParameterType).Constant?(openBlock(),createElementBlock("div",_hoisted_15$3,[unref(getConstant)(Vn.value).type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_16$3,[createVNode(An,{"model-value":unref(getConstant)(Vn.value).value,step:unref(getConstant)(Vn.value).max<=10?.01:1,min:unref(getConstant)(Vn.value).min,max:unref(getConstant)(Vn.value).max,precision:unref(getConstant)(Vn.value).max<=10?2:0,onChange:En=>de(unref(getConstant)(Vn.value),En)},null,8,["model-value","step","min","max","precision","onChange"]),createVNode(Zn,{"model-value":unref(getConstant)(Vn.value).value,step:unref(getConstant)(Vn.value).max<=10?.01:1,min:unref(getConstant)(Vn.value).min,max:unref(getConstant)(Vn.value).max,precision:unref(getConstant)(Vn.value).max<=10?2:0,onInput:En=>de(Vn,En),onChange:En=>de(unref(getConstant)(Vn.value),En)},null,8,["model-value","step","min","max","precision","onInput","onChange"])])):unref(getConstant)(Vn.value).type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_17$1,[createVNode(Dt,{modelValue:k.value,"onUpdate:modelValue":kt[8]||(kt[8]=En=>k.value=En),class:"control-type-select",placeholder:unref(r)("programming.controlType")},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,En=>createVNode(Cn,{key:En.key,label:unref(r)(`programming.${En.key}`),value:En.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),k.value===0?(openBlock(),createElementBlock("div",_hoisted_18$1,[createVNode(_sfc_main$G,{radius:unref(getConstant)(Vn.value).value.radius,size:j.value,degree:unref(getConstant)(Vn.value).value.degree,params:unref(getConstant)(Vn.value).value.params,"on-change":(En,jn,cr)=>pe(unref(getConstant)(Vn.value).value,En,jn,cr)},null,8,["radius","size","degree","params","on-change"])])):k.value===1?(openBlock(),createElementBlock("div",_hoisted_19$1,[createVNode(hr,{type:"border-card"},{default:withCtx(()=>[createVNode(Pn,{label:"radius"},{default:withCtx(()=>[createVNode(jt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(On,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.radius.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(jt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.radius.value,min:unref(getConstant)(Vn.value).value.radius.min,max:unref(getConstant)(Vn.value).value.radius.max,precision:unref(getConstant)(Vn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Vn.value).value.radius.max<=10?.01:1,onChange:En=>de(unref(getConstant)(Vn.value).value.radius,En)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Zn,{onInput:En=>de(unref(getConstant)(Vn.value).value.radius,En),"model-value":unref(getConstant)(Vn.value).value.radius.value,min:unref(getConstant)(Vn.value).value.radius.min,max:unref(getConstant)(Vn.value).value.radius.max,precision:unref(getConstant)(Vn.value).value.radius.max<=10?2:0,step:unref(getConstant)(Vn.value).value.radius.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"degree"},{default:withCtx(()=>[createVNode(jt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(On,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.degree.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(jt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value","model-value":unref(getConstant)(Vn.value).value.degree.value,min:unref(getConstant)(Vn.value).value.degree.min,max:unref(getConstant)(Vn.value).value.degree.max,precision:unref(getConstant)(Vn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Vn.value).value.degree.max<=10?.01:1,onChange:En=>de(unref(getConstant)(Vn.value).value.degree,En)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Zn,{onInput:En=>de(unref(getConstant)(Vn.value).value.degree,En),"model-value":unref(getConstant)(Vn.value).value.degree.value,min:unref(getConstant)(Vn.value).value.degree.min,max:unref(getConstant)(Vn.value).value.degree.max,precision:unref(getConstant)(Vn.value).value.degree.max<=10?2:0,step:unref(getConstant)(Vn.value).value.degree.max<=10?.01:1},null,8,["onInput","model-value","min","max","precision","step"])]),_:2},1024)]),_:2},1024),createVNode(Pn,{label:"params"},{default:withCtx(()=>[createVNode(ur,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getConstant)(Vn.value).value.params,En=>(openBlock(),createBlock(Wn,{title:En.name,name:"1"},{default:withCtx(()=>[createVNode(jt,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(On,{class:"parameter-value","model-value":En.name,disabled:""},null,8,["model-value"])]),_:2},1024),createVNode(jt,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value test","model-value":En.value,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1,onChange:jn=>de(En,jn)},null,8,["model-value","min","max","precision","step","onChange"]),createVNode(Zn,{onInput:jn=>de(En,jn),modelValue:En.value,"onUpdate:modelValue":jn=>En.value=jn,min:En.min,max:En.max,precision:En.max<=10?2:0,step:En.max<=10?.01:1},null,8,["onInput","modelValue","onUpdate:modelValue","min","max","precision","step"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1032,["label"]))),256))]),_:1})])])}}}),GlyphParamsPanel=_export_sfc(_sfc_main$D,[["__scopeId","data-v-43336f2e"]]),_hoisted_1$B={class:"character-edit-panel"},_hoisted_2$A={class:"grid-settings"},_sfc_main$C=defineComponent({__name:"LayoutEditPanel",setup(n){ref(!1),ref(null),ref("");const e=()=>{saveState("",[StoreType.Grid,StoreType.EditCharacter],OpType.Undo),gridChanged.value=!1,editCharacterFile.value.info.gridSettings={dx:gridSettings.value.dx,dy:gridSettings.value.dy,size:gridSettings.value.size,centerSquareSize:gridSettings.value.centerSquareSize,default:!1},emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),ElMessage({type:"success",message:""})},r=()=>{saveState("",[StoreType.Grid,StoreType.EditCharacter],OpType.Undo),editCharacterFile.value.info.gridSettings={dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},gridSettings.value={dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),ElMessage({type:"success",message:""})};return(g,y)=>{const k=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$A,[createVNode(k,{class:"grid-confirm-btn",disabled:!unref(gridChanged),onClick:e,type:"primary"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["disabled"]),createVNode(k,{class:"grid-reset-btn",onClick:r},{default:withCtx(()=>[createTextVNode("  ")]),_:1})])])}}}),LayoutEditPanel=_export_sfc(_sfc_main$C,[["__scopeId","data-v-49528617"]]),_hoisted_1$A={key:0,class:"right-panel"},_hoisted_2$z={key:1,class:"right-panel"},_sfc_main$B=defineComponent({__name:"RightPanel",setup(n){return(e,r)=>unref(editStatus)!==unref(Status).Glyph?(openBlock(),createElementBlock("div",_hoisted_1$A,[unref(editStatus)===unref(Status).Edit&&unref(tool)==="grid"?(openBlock(),createBlock(LayoutEditPanel,{key:0})):!unref(selectedComponentUUID)&&unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(SettingsPanel,{key:1})):createCommentVNode("",!0),unref(selectedComponentUUID)&&unref(selectedComponent).type==="pen"?(openBlock(),createBlock(PenEditPanel,{key:2})):createCommentVNode("",!0),unref(selectedComponentUUID)&&unref(selectedComponent).type==="ellipse"?(openBlock(),createBlock(EllipseEditPanel,{key:3})):createCommentVNode("",!0),unref(selectedComponentUUID)&&unref(selectedComponent).type==="rectangle"?(openBlock(),createBlock(RectangleEditPanel,{key:4})):createCommentVNode("",!0),unref(selectedComponentUUID)&&unref(selectedComponent).type==="polygon"?(openBlock(),createBlock(PolygonEditPanel,{key:5})):createCommentVNode("",!0),unref(selectedComponentUUID)&&unref(selectedComponent).type==="picture"?(openBlock(),createBlock(PictureEditPanel,{key:6})):createCommentVNode("",!0),unref(tool)!=="grid"&&unref(editStatus)===unref(Status).Edit&&unref(selectedComponentUUID)&&unref(selectedComponent).type==="glyph"?(openBlock(),createBlock(GlyphEditPanel$1,{key:7})):createCommentVNode("",!0),unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(FontPicEditPanel,{key:8})):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_2$z,[unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="pen"?(openBlock(),createBlock(PenEditPanel,{key:0})):createCommentVNode("",!0),unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="ellipse"?(openBlock(),createBlock(EllipseEditPanel,{key:1})):createCommentVNode("",!0),unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="rectangle"?(openBlock(),createBlock(RectangleEditPanel,{key:2})):createCommentVNode("",!0),unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="polygon"?(openBlock(),createBlock(PolygonEditPanel,{key:3})):createCommentVNode("",!0),unref(tool)==="params"?(openBlock(),createBlock(GlyphParamsPanel,{key:4})):createCommentVNode("",!0),unref(tool)!=="params"&&unref(editStatus)===unref(Status).Glyph&&unref(selectedComponentUUID$1)&&unref(selectedComponent$1).type==="glyph"?(openBlock(),createBlock(GlyphEditPanelGlyph,{key:5})):createCommentVNode("",!0)]))}}),RightPanel=_export_sfc(_sfc_main$B,[["__scopeId","data-v-b7b1d92b"]]),_withScopeId$6=n=>(pushScopeId("data-v-922f503f"),n=n(),popScopeId(),n),_hoisted_1$z=["onClick"],_hoisted_2$y={class:"file-name"},_hoisted_3$e=["onClick"],_hoisted_4$b={key:0,class:"right-btns"},_hoisted_5$9={class:"info-list"},_hoisted_6$6={class:"info-item"},_hoisted_7$5=_withScopeId$6(()=>createBaseVNode("span",{class:"info-item-name"},"",-1)),_hoisted_8$5={class:"info-item-content"},_hoisted_9$5={class:"info-item"},_hoisted_10$5=_withScopeId$6(()=>createBaseVNode("span",{class:"info-item-name"},"",-1)),_hoisted_11$4={class:"info-item-content"},_hoisted_12$4={class:"info-item"},_hoisted_13$4=_withScopeId$6(()=>createBaseVNode("span",{class:"info-item-name"},"",-1)),_hoisted_14$3={class:"info-item-content"},_hoisted_15$2={class:"info-item"},_hoisted_16$2=_withScopeId$6(()=>createBaseVNode("span",{class:"info-item-name"},"",-1)),_hoisted_17={class:"info-item-content"},_hoisted_18={class:"info-item"},_hoisted_19=_withScopeId$6(()=>createBaseVNode("span",{class:"info-item-name"},"",-1)),_hoisted_20={class:"info-item-content"},_hoisted_21={class:normalizeClass({"file-tag":!0,selected:!0})},_hoisted_22={class:"file-info-wrapper"},_hoisted_23={class:"file-name"},_hoisted_24={class:normalizeClass({"file-tag":!0,selected:!0})},_hoisted_25={class:"file-info-wrapper"},_hoisted_26={class:"file-name"},_sfc_main$A=defineComponent({__name:"FilesBar",setup(n){const e=g=>{setCloseFileTipDialogVisible(!0)},r=g=>{setSelectedFileUUID(g)};return(g,y)=>{const k=resolveComponent("el-icon"),$=resolveComponent("el-popover"),V=resolveComponent("el-row");return openBlock(),createElementBlock("div",{class:"files-bar",style:normalizeStyle({"border-bottom":unref(editStatus)===unref(Status).CharacterList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).CompGlyphList?"none":"1px solid var(--dark-4)"})},[unref(editStatus)===unref(Status).CharacterList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).CompGlyphList?(openBlock(),createBlock(V,{key:0,class:"files-bar-row row-1"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(files).value,L=>(openBlock(),createElementBlock("span",{class:normalizeClass({"file-tag":!0,selected:L.uuid===unref(selectedFileUUID)})},[createBaseVNode("span",{class:"file-info-wrapper",onClick:()=>r(L.uuid)},[createBaseVNode("span",_hoisted_2$y,toDisplayString$1(L.name),1)],8,_hoisted_1$z),createBaseVNode("span",{class:"close-btn",onClick:()=>e(L.uuid)},[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],8,_hoisted_3$e)],2))),256)),unref(selectedFile)?(openBlock(),createElementBlock("div",_hoisted_4$b,[createVNode(k,{class:"right-btn"},{default:withCtx(()=>[createVNode(unref(search_default))]),_:1}),createVNode($,{placement:"bottom-end",width:120,trigger:"hover","popper-class":"info-popover"},{reference:withCtx(()=>[createVNode(k,{class:"right-btn"},{default:withCtx(()=>[createVNode(unref(info_filled_default))]),_:1})]),default:withCtx(()=>[createBaseVNode("div",_hoisted_5$9,[createBaseVNode("div",_hoisted_6$6,[_hoisted_7$5,createBaseVNode("span",_hoisted_8$5,toDisplayString$1(unref(selectedFile).characterList.length),1)]),createBaseVNode("div",_hoisted_9$5,[_hoisted_10$5,createBaseVNode("span",_hoisted_11$4,toDisplayString$1(unref(stroke_glyphs).length),1)]),createBaseVNode("div",_hoisted_12$4,[_hoisted_13$4,createBaseVNode("span",_hoisted_14$3,toDisplayString$1(unref(radical_glyphs).length),1)]),createBaseVNode("div",_hoisted_15$2,[_hoisted_16$2,createBaseVNode("span",_hoisted_17,toDisplayString$1(unref(comp_glyphs).length),1)]),createBaseVNode("div",_hoisted_18,[_hoisted_19,createBaseVNode("span",_hoisted_20,toDisplayString$1(unref(glyphs).length),1)])])]),_:1}),createVNode(k,{class:"right-btn",onClick:y[0]||(y[0]=L=>unref(setFontSettingsDialogVisible)(!0))},{default:withCtx(()=>[createVNode(unref(tools_default))]),_:1})])):createCommentVNode("",!0)]),_:1})):unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(V,{key:1,class:"files-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_21,[createBaseVNode("span",_hoisted_22,[createBaseVNode("span",_hoisted_23,toDisplayString$1(unref(editCharacterFile)?.character.text),1)])])]),_:1})):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(V,{key:2,class:"files-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_24,[createBaseVNode("span",_hoisted_25,[createBaseVNode("span",_hoisted_26,toDisplayString$1(unref(editGlyph).name),1)])])]),_:1})):createCommentVNode("",!0)],4)}}}),FilesBar=_export_sfc(_sfc_main$A,[["__scopeId","data-v-922f503f"]]),_hoisted_1$y={class:"bottom-bar"},_hoisted_2$x={class:"tools-wrapper"},_hoisted_3$d={class:"translate-wrapper"},_hoisted_4$a={class:"coords-wrapper"},_hoisted_5$8={class:"zoom-settings-wrapper"},_hoisted_6$5={class:"zoom-settings-wrapper"},zoomScale$1=10,_sfc_main$z=defineComponent({__name:"BottomBar",setup(n){const{t:e}=useI18n(),r=ref("");watch([editCharacterFile],()=>{editCharacterFile.value&&(r.value=`${editCharacterFile.value.view.translateX},${editCharacterFile.value.view.translateY}`)},{deep:!0});const g=()=>{editCharacterFile.value&&editCharacterFile.value.view&&(editCharacterFile.value.view.translateX=0,editCharacterFile.value.view.translateY=0)},y=()=>{modifyCharacterFile(editCharacterFileUUID.value,{view:{zoom:editCharacterFile.value.view.zoom-zoomScale$1>=0?editCharacterFile.value.view.zoom-zoomScale$1:0}}),emitter.emit("updateCharacterView")},k=()=>{modifyCharacterFile(editCharacterFileUUID.value,{view:{zoom:editCharacterFile.value.view.zoom+zoomScale$1<=200?editCharacterFile.value.view.zoom+zoomScale$1:200}}),emitter.emit("updateCharacterView")},$=ae=>{const de=ae<=200?ae>=0?ae:0:200;modifyCharacterFile(editCharacterFileUUID.value,{view:{zoom:de}}),emitter.emit("updateCharacterView")},V=()=>{const ae=picZoom.value-zoomScale$1>=0?picZoom.value-zoomScale$1:0;setPicZoom(ae)},L=()=>{const ae=picZoom.value+zoomScale$1<=200?picZoom.value+zoomScale$1:200;setPicZoom(ae)},z=()=>{setTool("translateMover")},j=()=>{setTool("select")},re=()=>{setTool("coordsViewer")},oe=()=>{setTool("select")};return(ae,de)=>{const ue=resolveComponent("el-button"),pe=resolveComponent("el-input"),he=resolveComponent("font-awesome-icon"),Oe=resolveComponent("el-icon"),xe=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$y,[unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(xe,{key:0,class:"bottom-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$x,[createBaseVNode("span",_hoisted_3$d,[unref(tool)==="translateMover"?(openBlock(),createBlock(pe,{key:0,modelValue:r.value,"onUpdate:modelValue":de[0]||(de[0]=$e=>r.value=$e),class:"translate-text",disabled:!0},{append:withCtx(()=>[createVNode(ue,{onClick:g},{default:withCtx(()=>[createTextVNode("")]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="translateMover"?(openBlock(),createBlock(he,{key:1,class:"translate-btn",onClick:z,icon:"fa-regular fa-hand"})):createCommentVNode("",!0),unref(tool)==="translateMover"?(openBlock(),createBlock(he,{key:2,class:"translate-edit-btn",onClick:j,icon:"fa-solid fa-hand"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_4$a,[unref(tool)==="coordsViewer"?(openBlock(),createBlock(pe,{key:0,modelValue:unref(coordsText),"onUpdate:modelValue":de[1]||(de[1]=$e=>isRef(coordsText)?coordsText.value=$e:null),class:"coords-text",disabled:!0},{prepend:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.bottomBar.coords")),1)]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="coordsViewer"?(openBlock(),createBlock(he,{key:1,class:"coords-btn",onClick:re,icon:"fa-solid fa-arrow-pointer"})):unref(tool)==="coordsViewer"?(openBlock(),createBlock(he,{key:2,class:"coords-edit-btn",onClick:oe,icon:"fa-solid fa-arrow-pointer"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_5$8,[createBaseVNode("span",{class:"zoom-out",onClick:y},[createVNode(Oe,null,{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1})]),createVNode(pe,{class:"zoom-value","model-value":unref(editCharacterFile)&&unref(editCharacterFile).view.zoom,onInput:$},{append:withCtx(()=>[createTextVNode("%")]),_:1},8,["model-value"]),createBaseVNode("span",{class:"zoom-in",onClick:k},[createVNode(Oe,null,{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1})])])])]),_:1})):createCommentVNode("",!0),unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(xe,{key:1,class:"bottom-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_6$5,[createBaseVNode("span",{class:"zoom-out",onClick:V},[createVNode(Oe,null,{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1})]),createVNode(pe,{class:"zoom-value","model-value":unref(picZoom)},{append:withCtx(()=>[createTextVNode("%")]),_:1},8,["model-value"]),createBaseVNode("span",{class:"zoom-in",onClick:L},[createVNode(Oe,null,{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1})])])]),_:1})):createCommentVNode("",!0)])}}}),BottomBar=_export_sfc(_sfc_main$z,[["__scopeId","data-v-abd702d3"]]),_hoisted_1$x={class:"bottom-bar"},_hoisted_2$w={class:"tools-wrapper"},_hoisted_3$c={class:"translate-wrapper"},_hoisted_4$9={class:"coords-wrapper"},_hoisted_5$7={class:"zoom-settings-wrapper"},zoomScale=10,_sfc_main$y=defineComponent({__name:"GlyphBottomBar",setup(n){const{t:e}=useI18n(),r=ref("");watch([editGlyph],()=>{editGlyph.value&&(r.value=`${editGlyph.value.view.translateX},${editGlyph.value.view.translateY}`)},{deep:!0});const g=()=>{editGlyph.value&&editGlyph.value.view&&(editGlyph.value.view.translateX=0,editGlyph.value.view.translateY=0)},y=()=>{modifyGlyph(editGlyphUUID.value,{view:{zoom:editGlyph.value.view.zoom-zoomScale>=0?editGlyph.value.view.zoom-zoomScale:0}}),emitter.emit("updateGlyphView")},k=()=>{modifyGlyph(editGlyphUUID.value,{view:{zoom:editGlyph.value.view.zoom+zoomScale<=200?editGlyph.value.view.zoom+zoomScale:200}}),emitter.emit("updateGlyphView")},$=re=>{const oe=re<=200?re>=0?re:0:200;modifyGlyph(editGlyphUUID.value,{view:{zoom:oe}}),emitter.emit("updateGlyphView")},V=()=>{setTool("translateMover")},L=()=>{setTool("select")},z=()=>{setTool("coordsViewer")},j=()=>{setTool("select")};return(re,oe)=>{const ae=resolveComponent("el-button"),de=resolveComponent("el-input"),ue=resolveComponent("font-awesome-icon"),pe=resolveComponent("el-icon"),he=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$x,[createVNode(he,{class:"bottom-bar-row"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$w,[createBaseVNode("span",_hoisted_3$c,[unref(tool)==="translateMover"?(openBlock(),createBlock(de,{key:0,modelValue:r.value,"onUpdate:modelValue":oe[0]||(oe[0]=Oe=>r.value=Oe),class:"translate-text",disabled:!0},{append:withCtx(()=>[createVNode(ae,{onClick:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.bottomBar.reset")),1)]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="translateMover"?(openBlock(),createBlock(ue,{key:1,class:"translate-btn",onClick:V,icon:"fa-regular fa-hand"})):unref(tool)==="translateMover"?(openBlock(),createBlock(ue,{key:2,class:"translate-edit-btn",onClick:L,icon:"fa-solid fa-hand"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_4$9,[unref(tool)==="coordsViewer"?(openBlock(),createBlock(de,{key:0,modelValue:unref(coordsText),"onUpdate:modelValue":oe[1]||(oe[1]=Oe=>isRef(coordsText)?coordsText.value=Oe:null),class:"coords-text",disabled:!0},{prepend:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("panels.bottomBar.coords")),1)]),_:1},8,["modelValue"])):createCommentVNode("",!0),unref(tool)!=="coordsViewer"?(openBlock(),createBlock(ue,{key:1,class:"coords-btn",onClick:z,icon:"fa-solid fa-arrow-pointer"})):unref(tool)==="coordsViewer"?(openBlock(),createBlock(ue,{key:2,class:"coords-edit-btn",onClick:j,icon:"fa-solid fa-arrow-pointer"})):createCommentVNode("",!0)]),createBaseVNode("span",_hoisted_5$7,[createBaseVNode("span",{class:"zoom-out",onClick:y},[createVNode(pe,null,{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1})]),createVNode(de,{class:"zoom-value","model-value":unref(editGlyph)&&unref(editGlyph).view.zoom,onInput:$},{append:withCtx(()=>[createTextVNode("%")]),_:1},8,["model-value"]),createBaseVNode("span",{class:"zoom-in",onClick:k},[createVNode(pe,null,{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1})])])])]),_:1})])}}}),GlyphBottomBar=_export_sfc(_sfc_main$y,[["__scopeId","data-v-49675020"]]),_hoisted_1$w={class:"characters-list-wrapper"},_hoisted_2$v=createBaseVNode("main",{class:"list",id:"character-render-list"},null,-1),_sfc_main$x=defineComponent({__name:"CharacterList",setup(n){const e=new Map,r=()=>{const y=selectedFile.value?selectedFile.value.characterList:[];if(!selectedFile.value)return;const{unitsPerEm:k,descender:$}=selectedFile.value.fontSettings;if(!y.length)return;let V=0;const L=()=>{if(V>=y.length)return;const z=y[V];z._o||executeCharacterScript(z);const j=document.getElementById(`preview-canvas-${z.uuid}`);if(!j)return;const re=componentsToContours(orderedListWithItemsForCharacterFile(z),{unitsPerEm:k,descender:$,advanceWidth:k},{x:0,y:0},!1,!0);renderPreview2(j,re),loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1)),V++,V<y.length&&requestAnimationFrame(L)};requestAnimationFrame(L)},g=y=>{let k;const{unitsPerEm:$,descender:V}=selectedFile.value.fontSettings,L=selectedFile.value?selectedFile.value.characterList:[];for(let ae=0;ae<L.length;ae++)if(L[ae].uuid===y){k=L[ae];break}if(!k)return;executeCharacterScript(k),k?.components?.map(ae=>{ae.type==="glyph"&&executeScript(ae.value)});const j=document.getElementById("character-render-list").querySelector(`#preview-canvas-${k.uuid}`);if(!j)return;let re=!0;k&&k.info&&k.info.gridSettings&&(re=k.info.gridSettings.default);const oe=componentsToContours(orderedListWithItemsForCharacterFile(k),{unitsPerEm:$,descender:V,advanceWidth:$,grid:re?null:k.info.gridSettings},{x:0,y:0},!1,!0,!0);renderPreview2(j,oe)};return onMounted(async()=>{emitter.on("renderPreviewCanvas",async()=>{await nextTick(),r()}),emitter.on("renderPreviewCanvasByUUID",async y=>{e.get(y)&&clearTimeout(e.get(y));const $=setTimeout(()=>{g(y)},1e3);e.set(y,$)}),emitter.on("updateCharacterInfoPreviewCanvasByUUID",async y=>{let k;const $=selectedFile.value?selectedFile.value.characterList:[];for(let z=0;z<$.length&&(k=$[z],k.uuid!==y);z++);const L=document.getElementById("character-render-list").querySelector(`.character-${y}`);L.querySelector(".info").querySelector(".text").innerHTML=`${k.character.text}`,k.type==="text"&&(L.querySelector(".unicode").innerHTML=`0x${k.character.unicode.toString(16)}`)}),clearCharacterRenderList(),characterList.value?.map(y=>{addCharacterTemplate(generateCharacterTemplate(y))}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("updateCharacterInfoPreviewCanvasByUUID"),emitter.off("renderPreviewCanvasByUUID"),emitter.off("renderPreviewCanvas")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$w,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$v]),_:1})])}}}),_hoisted_1$v={class:"glyph-list-wrapper"},_hoisted_2$u=createBaseVNode("main",{class:"list",id:"glyph-render-list"},null,-1),_sfc_main$w=defineComponent({__name:"GlyphList",setup(n){const e=new Map,r=()=>{let y=0;const k=()=>{if(y>=glyphs.value.length)return;const $=glyphs.value[y];executeScript($);const V=document.getElementById(`preview-canvas-${$.uuid}`);if(!V)return;const L=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(V,L),loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1)),y++,y<glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k)},g=y=>{let k;for(let z=0;z<glyphs.value.length&&(k=glyphs.value[z],k.uuid!==y);z++);executeScript(k),k?.components?.map(z=>{z.type==="glyph"&&executeScript(z.value)});const V=document.getElementById("glyph-render-list").querySelector(`#preview-canvas-${k.uuid}`);if(!V)return;const L=componentsToContours(k._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(V,L)};return onMounted(async()=>{emitter.on("renderGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderGlyphSelection")}),emitter.on("renderGlyphPreviewCanvasByUUID",async y=>{const k=getGlyphType(y);if(k===Status.GlyphList){e.get(y)&&clearTimeout(e.get(y));const $=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,$),emitter.emit("renderGlyphSelectionByUUID",y)}else k===Status.StrokeGlyphList?(emitter.emit("renderStrokeGlyphPreviewCanvasByUUID",y),emitter.emit("renderStrokeGlyphSelectionByUUID",y)):k===Status.RadicalGlyphList?(emitter.emit("renderRadicalGlyphPreviewCanvasByUUID",y),emitter.emit("renderRadicalGlyphSelectionByUUID",y)):k===Status.CompGlyphList&&(emitter.emit("renderCompGlyphPreviewCanvasByUUID",y),emitter.emit("renderCompGlyphSelectionByUUID",y))}),emitter.on("updateGlyphInfoPreviewCanvasByUUID",async y=>{const k=getGlyphType(y),$=getGlyphByUUID(y);if(k===Status.GlyphList){const L=document.getElementById("glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}else if(k===Status.StrokeGlyphList){const L=document.getElementById("stroke-glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("stroke-glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}else if(k===Status.RadicalGlyphList){const L=document.getElementById("radical-glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("radical-glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}else if(k===Status.CompGlyphList){const L=document.getElementById("comp-glyph-render-list").querySelector(`.glyph-${y}`);L.querySelector(".name").innerHTML=`${$.name}`;const j=document.getElementById("comp-glyph-components-wrapper").querySelector(`.glyph-${y}`);j.querySelector(".name").innerHTML=`${$.name}`}}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.GlyphList),glyphs.value.map(y=>{addGlyphTemplate(y,Status.GlyphList)}),await nextTick(),r(),emitter.emit("renderGlyphSelection"),emitter.emit("renderStrokeGlyphSelection"),emitter.emit("renderRadicalGlyphSelection"),emitter.emit("renderCompGlyphSelection")}),onUnmounted(()=>{emitter.off("renderGlyphPreviewCanvas"),emitter.off("renderGlyphPreviewCanvasByUUID"),emitter.off("updateGlyphInfoPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$v,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$u]),_:1})])}}}),_hoisted_1$u={class:"stroke-glyph-list-wrapper"},_hoisted_2$t=createBaseVNode("main",{class:"list",id:"stroke-glyph-render-list"},null,-1),_sfc_main$v=defineComponent({__name:"StrokeGlyphList",setup(n){const e=new Map,r=()=>{let y=0;const k=()=>{if(y>=stroke_glyphs.value.length)return;const $=stroke_glyphs.value[y];$._o||executeScript($);const V=document.getElementById("stroke-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z),loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1)),y++,y<stroke_glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k)},g=y=>{let k;for(let z=0;z<stroke_glyphs.value.length&&(k=stroke_glyphs.value[z],k.uuid!==y);z++);executeScript(k),k?.components?.map(z=>{z.type==="glyph"&&executeScript(z.value)});const $=document.getElementById("stroke-glyph-render-list");if(!$)return;const V=$.querySelector(`#preview-canvas-${k.uuid}`);if(!V)return;const L=componentsToContours(k._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(V,L)};return onMounted(async()=>{emitter.on("renderStrokeGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderStrokeGlyphSelection")}),emitter.on("renderStrokeGlyphPreviewCanvasByUUID",async y=>{e.get(y)&&clearTimeout(e.get(y));const k=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,k)}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.StrokeGlyphList),stroke_glyphs.value.map(y=>{addGlyphTemplate(y,Status.StrokeGlyphList)}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("renderStrokeGlyphPreviewCanvas"),emitter.off("renderStrokeGlyphPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$u,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$t]),_:1})])}}}),_hoisted_1$t={class:"radical-glyph-list-wrapper"},_hoisted_2$s=createBaseVNode("main",{class:"list",id:"radical-glyph-render-list"},null,-1),_sfc_main$u=defineComponent({__name:"RadicalGlyphList",setup(n){const e=new Map,r=()=>{console.time("timer2");let y=0;const k=()=>{if(y>=radical_glyphs.value.length)return;const $=radical_glyphs.value[y];$._o||(executeScript($),$?.components?.map(j=>{j.type==="glyph"&&executeScript(j.value)}));const V=document.getElementById("radical-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z),loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1)),y++,y<radical_glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k),console.timeEnd("timer2")},g=y=>{let k;for(let z=0;z<radical_glyphs.value.length&&(k=radical_glyphs.value[z],k.uuid!==y);z++);executeScript(k),k?.components?.map(z=>{z.type==="glyph"&&executeScript(z.value)});const $=document.getElementById("radical-glyph-render-list");if(!$)return;const V=$.querySelector(`#preview-canvas-${k.uuid}`);if(!V)return;const L=componentsToContours(k._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(V,L)};return onMounted(async()=>{emitter.on("renderRadicalGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderRadicalGlyphSelection")}),emitter.on("renderRadicalGlyphPreviewCanvasByUUID",async y=>{e.get(y)&&clearTimeout(e.get(y));const k=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,k)}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.RadicalGlyphList),radical_glyphs.value.map(y=>{addGlyphTemplate(y,Status.RadicalGlyphList)}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("renderRadicalGlyphPreviewCanvas"),emitter.off("renderRadicalGlyphPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$t,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$s]),_:1})])}}}),_hoisted_1$s={class:"comp-glyph-list-wrapper"},_hoisted_2$r=createBaseVNode("main",{class:"list",id:"comp-glyph-render-list"},null,-1),_sfc_main$t=defineComponent({__name:"CompGlyphList",setup(n){const e=new Map,r=()=>{let y=0;const k=()=>{if(y>=comp_glyphs.value.length)return;const $=comp_glyphs.value[y];$._o||executeScript($);const V=document.getElementById("comp-glyph-render-list");if(!V)return;const L=V.querySelector(`#preview-canvas-${$.uuid}`);if(!L)return;const z=componentsToContours($._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(L,z),loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1)),y++,y<comp_glyphs.value.length&&requestAnimationFrame(k)};requestAnimationFrame(k)},g=y=>{let k;for(let z=0;z<comp_glyphs.value.length&&(k=comp_glyphs.value[z],k.uuid!==y);z++);executeScript(k),k?.components?.map(z=>{z.type==="glyph"&&executeScript(z.value)});const V=document.getElementById("comp-glyph-render-list").querySelector(`#preview-canvas-${k.uuid}`);if(!V)return;const L=componentsToContours(k._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(V,L)};return onMounted(async()=>{emitter.on("renderCompGlyphPreviewCanvas",async()=>{await nextTick(),r(),emitter.emit("renderCompGlyphSelection")}),emitter.on("renderCompGlyphPreviewCanvasByUUID",async y=>{e.get(y)&&clearTimeout(e.get(y));const k=setTimeout(async()=>{await nextTick(),g(y)},1e3);e.set(y,k)}),!glyphComponentsDialogVisible.value&&setGlyphComponentsDialogVisible(!0),await nextTick(),clearGlyphRenderList(Status.CompGlyphList),comp_glyphs.value.map(y=>{addGlyphTemplate(y,Status.CompGlyphList)}),await nextTick(),r()}),onUnmounted(()=>{emitter.off("renderCompGlyphPreviewCanvas"),emitter.off("renderCompGlyphPreviewCanvasByUUID")}),(y,k)=>{const $=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",_hoisted_1$s,[createVNode($,null,{default:withCtx(()=>[_hoisted_2$r]),_:1})])}}}),listToMap=(n,e)=>{const r={};return n.map(g=>{r[g[e]]=g}),r},initPenEditMode=(n,e=5,r=!1)=>{let g=!1;const y=re=>{if(r){g=!0;for(let Oe=orderedListWithItemsForCurrentGlyph.value.length-1;Oe>=0;Oe--){const xe=orderedListWithItemsForCurrentGlyph.value[Oe],{x:$e,y:Ne}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:xe.x+xe.w/2,y:xe.y+xe.h/2},-xe.rotation);if(selectedComponentUUID$1.value===xe.uuid&&xe.visible){const Ce=transformPenPoints(selectedComponent$1.value,!1);for(let Fe=0;Fe<Ce.length-1;Fe++){const ze=Ce[Fe];if(distance$2($e,Ne,ze.x,ze.y)<=e){if(ze.type==="anchor"){selectAnchor.value=ze.uuid,selectPenPoint.value=ze.uuid;return}else if(selectAnchor.value){const kt=(()=>{for(let At=0;At<Ce.length;At++)if(Ce[At].uuid===selectAnchor.value)return At;return-1})();(Fe<=kt+4&&Fe>=kt-4||Fe===1&&kt===Ce.length-1)&&(selectPenPoint.value=ze.uuid)}}}return}}if(!selectedComponent.value.visible){g=!1;return}const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent.value;rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),setSelectionForCurrentGlyph("")}else{g=!0;for(let Oe=orderedListWithItemsForCurrentCharacterFile.value.length-1;Oe>=0;Oe--){const xe=orderedListWithItemsForCurrentCharacterFile.value[Oe],{x:$e,y:Ne}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:xe.x+xe.w/2,y:xe.y+xe.h/2},-xe.rotation);if(selectedComponentUUID.value===xe.uuid&&xe.visible){const Ce=transformPenPoints(selectedComponent.value,!1);for(let Fe=0;Fe<Ce.length-1;Fe++){const ze=Ce[Fe];if(distance$2($e,Ne,ze.x,ze.y)<=e){if(ze.type==="anchor"){selectAnchor.value=ze.uuid,selectPenPoint.value=ze.uuid;return}else if(selectAnchor.value){const kt=(()=>{for(let At=0;At<Ce.length;At++)if(Ce[At].uuid===selectAnchor.value)return At;return-1})();(Fe<=kt+4&&Fe>=kt-4||Fe===1&&kt===Ce.length-1)&&(selectPenPoint.value=ze.uuid)}}}return}}if(!selectedComponent.value.visible)return;const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent.value;rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),setSelectionForCurrentCharacterFile("")}},k=re=>{if(r){if(!selectedComponent$1.value||!selectedComponent$1.value?.visible)return;const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent$1.value,{x:Oe,y:xe}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),$e=selectedComponent$1.value.value,{points:Ne,closePath:Ce}=$e;if(g){const Fe=clone$1(Ne);Fe.map((ze,kt)=>{if(selectPenPoint.value===ze.uuid){if(ze.type==="anchor"&&Ce&&(kt<2||kt>Fe.length-3)){if(kt<2)for(let At=Fe.length-2;At<Fe.length;At++)Fe[At].type==="anchor"&&Fe[At].x===ze.x&&Fe[At].y===ze.y&&(Fe[At].x=Oe,Fe[At].y=xe);else if(kt>Fe.length-3)for(let At=0;At<2;At++)Ne[At].type==="anchor"&&Fe[At].x===ze.x&&Fe[At].y===ze.y&&(Fe[At].x=Oe,Fe[At].y=xe)}ze.x=Oe,ze.y=xe}return ze}),modifyComponentForCurrentGlyph(he,{value:{points:Fe}})}g||Ne.map((Fe,ze)=>{if(distance$2(Oe,xe,Fe.x,Fe.y)<=e){if(Fe.type==="control"&&ze===Ne.length-1&&Ne.length>=2&&Fe.x===Ne[1].x&&Fe.y===Ne[1].y)return;hoverPenPoint.value=Fe.uuid}})}else{if(!selectedComponent.value||!selectedComponent.value?.visible)return;const{x:oe,y:ae,w:de,h:ue,rotation:pe,uuid:he}=selectedComponent.value,{x:Oe,y:xe}=rotatePoint({x:getCoord(re.offsetX),y:getCoord(re.offsetY)},{x:oe+de/2,y:ae+ue/2},-pe),$e=selectedComponent.value.value,{points:Ne,closePath:Ce}=$e;if(g){const Fe=clone$1(Ne);Fe.map((ze,kt)=>{if(selectPenPoint.value===ze.uuid){if(ze.type==="anchor"&&Ce&&(kt<2||kt>Fe.length-3)){if(kt<2)for(let At=Fe.length-2;At<Fe.length;At++)Fe[At].type==="anchor"&&Fe[At].x===ze.x&&Fe[At].y===ze.y&&(Fe[At].x=Oe,Fe[At].y=xe);else if(kt>Fe.length-3)for(let At=0;At<2;At++)Ne[At].type==="anchor"&&Fe[At].x===ze.x&&Fe[At].y===ze.y&&(Fe[At].x=Oe,Fe[At].y=xe)}ze.x=Oe,ze.y=xe}return ze}),modifyComponentForCurrentCharacterFile(he,{value:{points:Fe}})}g||Ne.map((Fe,ze)=>{if(distance$2(Oe,xe,Fe.x,Fe.y)<=e){if(Fe.type==="control"&&ze===Ne.length-1&&Ne.length>=2&&Fe.x===Ne[1].x&&Fe.y===Ne[1].y)return;hoverPenPoint.value=Fe.uuid}})}},$=re=>{const oe=r?selectedComponent$1.value:selectedComponent.value;!oe||!oe.visible||(z(),g=!1,selectControl$2.value="null")},V=re=>{const oe=r?selectedComponent$1.value:selectedComponent.value;!oe||!oe.visible||(z(),r?setSelectionForCurrentGlyph(""):setSelectionForCurrentCharacterFile(""))},L=re=>{re.code==="Enter"&&V()},z=()=>{const re=r?selectedComponent$1.value:selectedComponent.value;if(!re||!re.visible)return;let oe=modifyComponentForCurrentCharacterFile;r&&(oe=modifyComponentForCurrentGlyph);const{x:ae,y:de,w:ue,h:pe,rotation:he,flipX:Oe,flipY:xe,type:$e,uuid:Ne}=re,Ce=re.value.points;let Fe={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(Fe.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,Fe.descender=selectedFile.value.fontSettings.descender,Fe.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let ze=transformPoints(Ce,{x:ae,y:de,w:ue,h:pe,rotation:he,flipX:Oe,flipY:xe});const kt=formatPoints(ze,Fe,1),At=genPenContour(kt),Cn=100/Fe.unitsPerEm,Dt=ze.map(jt=>Object.assign({},jt,{x:jt.x*Cn,y:jt.y*Cn})),On=genPenContour(Dt);oe(Ne,{value:{contour:At,preview:On}})};return n?.addEventListener("mousedown",y),document.addEventListener("mousemove",k),document.addEventListener("mouseup",$),n.addEventListener("keydown",L),()=>{n?.removeEventListener("mousedown",y),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",$),n.removeEventListener("keydown",L),selectAnchor.value="",selectPenPoint.value="",hoverPenPoint.value=""}},renderSelectPenEditor=(n,e=10,r=!1)=>{if(!r&&!selectedComponentUUID.value||r&&!selectedComponentUUID$1.value)return;const g=r?selectedComponent$1.value:selectedComponent.value;if(!g.visible)return;const{x:y,y:k,w:$,h:V,rotation:L,flipX:z,flipY:j,value:re}=g,oe=mapCanvasX(y),ae=mapCanvasY(k),de=mapCanvasWidth($),ue=mapCanvasHeight(V),pe=n?.getContext("2d"),he=transformPenPoints(r?selectedComponent$1.value:selectedComponent.value,!0),Oe=listToMap(he,"uuid"),{index:xe,pointType:$e}=(()=>{for(let Ne=0;Ne<he.length;Ne++)if(he[Ne].uuid===selectAnchor.value)return{index:Ne,pointType:he[Ne].type};return{index:-1,pointType:""}})();if(pe.strokeStyle="#153063",pe.translate(oe+de/2,ae+ue/2),pe.rotate(L*Math.PI/180),pe.translate(-(oe+de/2),-(ae+ue/2)),selectAnchor.value)for(let Ne=0;Ne<he.length-1;Ne++){if(he[Ne].type==="anchor"&&(pe.beginPath(),pe.ellipse(he[Ne].x,he[Ne].y,e,e,0,0,2*Math.PI),pe.stroke(),pe.closePath()),he[Ne].type==="control"&&Ne>=xe-4&&Ne<=xe+4){const Ce=he[Ne].origin,Fe=Oe[Ce];pe.strokeRect(he[Ne].x-e,he[Ne].y-e,2*e,2*e),pe.beginPath(),pe.moveTo(he[Ne].x,he[Ne].y),pe.lineTo(Fe.x,Fe.y),pe.stroke(),pe.closePath()}if(xe===he.length-1&&he[Ne].type==="control"&&Ne===1){const Ce=he[Ne].origin,Fe=Oe[Ce];pe.strokeRect(he[Ne].x-e,he[Ne].y-e,2*e,2*e),pe.beginPath(),pe.moveTo(he[Ne].x,he[Ne].y),pe.lineTo(Fe.x,Fe.y),pe.stroke(),pe.closePath()}}else for(let Ne=0;Ne<he.length;Ne++)he[Ne].type==="anchor"&&(pe.beginPath(),pe.ellipse(he[Ne].x,he[Ne].y,e,e,0,0,2*Math.PI),pe.stroke(),pe.closePath());for(let Ne=0;Ne<he.length;Ne++)hoverPenPoint.value===he[Ne].uuid&&(pe.fillStyle="#79bbff",he[Ne].type==="anchor"&&(pe.beginPath(),pe.ellipse(he[Ne].x,he[Ne].y,e,e,0,0,2*Math.PI),pe.fill(),pe.closePath()),he[Ne].type==="control"&&Ne>=xe-4&&Ne<=xe+4&&pe.fillRect(he[Ne].x-e,he[Ne].y-e,2*e,2*e),pe.fillStyle="#fff");pe.setTransform(1,0,0,1,0,0)},transformPenPoints=(n,e)=>{const{x:r,y:g,w:y,h:k,rotation:$,flipX:V,flipY:L,value:z}=n,{points:j}=z,re=e?mapCanvasX(r):r,oe=e?mapCanvasY(g):g,ae=e?mapCanvasWidth(y):y,de=e?mapCanvasHeight(k):k;let ue=j.map($e=>{let Ne=clone$1($e);return V&&(Ne.x=re+ae/2+(re+ae/2-Ne.x)),L&&(Ne.y=oe+de/2+(oe+de/2-Ne.y)),Ne});const{x:pe,y:he,w:Oe,h:xe}=getBound$4(ue.reduce(($e,Ne)=>($e.push({x:Ne.x,y:Ne.y}),$e),[]));return ue=ue.map($e=>{const Ne=clone$1($e),{x:Ce,y:Fe}=Ne;return Ne.x=r+(Ce-pe)*y/Oe,Ne.y=g+(Fe-he)*k/xe,Ne}),e&&(ue=ue.map($e=>({...$e,...mapCanvasCoords({x:$e.x,y:$e.y})}))),ue},initSelect=(n,e=10,r=!1)=>{if(r){if(selectedComponent$1.value&&selectedComponent$1.value.type==="pen"&&selectedComponent$1.value.value.editMode)return initPenEditMode(n,e,!0)}else if(selectedComponent.value&&selectedComponent.value.type==="pen"&&selectedComponent.value.value.editMode)return initPenEditMode(n,e);let g=-1,y=-1,k=!1,$=!1;const V=de=>{k=!0,$=!1;const ue=r?selectedComponent$1.value:selectedComponent.value;if(!ue||!ue.visible){k=!1;return}},L=de=>{if($=!0,!r&&!selectedComponent.value||r&&!selectedComponent$1.value)return;const ue=r?selectedComponent$1.value:selectedComponent.value;if(!ue||!ue.visible)return;const{x:pe,y:he,w:Oe,h:xe,rotation:$e,uuid:Ne}=ue,{x:Ce,y:Fe}=rotatePoint({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},{x:pe+Oe/2,y:he+xe/2},-$e),ze={x:pe,y:he},kt={x:pe,y:he+xe},At={x:pe+Oe,y:he},Cn={x:pe+Oe,y:he+xe};let Dt=modifyComponentForCurrentCharacterFile;if(r&&(Dt=modifyComponentForCurrentGlyph),k)switch(selectControl$2.value){case"scale-left-top":Dt(Ne,{w:Oe+pe-Ce,h:xe+he-Fe,x:Ce,y:Fe});break;case"scale-right-top":Dt(Ne,{w:Ce-pe,h:xe+he-Fe,y:Fe});break;case"scale-left-bottom":Dt(Ne,{w:Oe+pe-Ce,x:Ce,y:Fe-he});break;case"scale-right-bottom":Dt(Ne,{w:Ce-pe,h:Fe-he});break;case"inner-area":Dt(Ne,{x:pe+Ce-g,y:he+Fe-y});break;case"rotate-left-top":Dt(Ne,{rotation:$e+angleBetween({x:Ce-(pe+Oe/2),y:Fe-(he+xe/2)},{x:ze.x-(pe+Oe/2),y:ze.y-(he+xe/2)})});break;case"rotate-right-top":Dt(Ne,{rotation:$e+angleBetween({x:Ce-(pe+Oe/2),y:Fe-(he+xe/2)},{x:At.x-(pe+Oe/2),y:At.y-(he+xe/2)})});break;case"rotate-left-bottom":Dt(Ne,{rotation:$e+angleBetween({x:Ce-(pe+Oe/2),y:Fe-(he+xe/2)},{x:kt.x-(pe+Oe/2),y:kt.y-(he+xe/2)})});break;case"rotate-right-bottom":Dt(Ne,{rotation:$e+angleBetween({x:Ce-(pe+Oe/2),y:Fe-(he+xe/2)},{x:Cn.x-(pe+Oe/2),y:Cn.y-(he+xe/2)})});break}k||(distance$2(Ce,Fe,ze.x,ze.y)<=e?selectControl$2.value="scale-left-top":distance$2(Ce,Fe,At.x,At.y)<=e?selectControl$2.value="scale-right-top":distance$2(Ce,Fe,kt.x,kt.y)<=e?selectControl$2.value="scale-left-bottom":distance$2(Ce,Fe,Cn.x,Cn.y)<=e?selectControl$2.value="scale-right-bottom":leftTop(Ce,Fe,ze.x,ze.y,e)?selectControl$2.value="rotate-left-top":rightTop(Ce,Fe,At.x,At.y,e)?selectControl$2.value="rotate-right-top":leftBottom(Ce,Fe,kt.x,kt.y,e)?selectControl$2.value="rotate-left-bottom":rightBottom(Ce,Fe,Cn.x,Cn.y,e)?selectControl$2.value="rotate-right-bottom":inComponentBound({x:Ce,y:Fe},r?selectedComponent$1.value:selectedComponent.value)?selectControl$2.value="inner-area":(r?selectedComponent$1.value:selectedComponent.value,selectControl$2.value="null")),g=Ce,y=Fe},z=de=>{if(!$)if(r){for(let pe=orderedListWithItemsForCurrentGlyph.value.length-1;pe>=0;pe--){const he=orderedListWithItemsForCurrentGlyph.value[pe];if(selectedComponentUUID$1.value===he.uuid&&inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible)return;if(inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible){setSelectionForCurrentGlyph(he.uuid),k=!1,$=!1,selectControl$2.value="null";return}}setSelectionForCurrentGlyph("")}else{for(let pe=orderedListWithItemsForCurrentCharacterFile.value.length-1;pe>=0;pe--){const he=orderedListWithItemsForCurrentCharacterFile.value[pe];if(selectedComponentUUID.value===he.uuid&&inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible)return;if(inComponentBound({x:getCoord(de.offsetX),y:getCoord(de.offsetY)},he,20)&&he.visible){setSelectionForCurrentCharacterFile(he.uuid),k=!1,$=!1,selectControl$2.value="null";return}}setSelectionForCurrentCharacterFile("")}const ue=r?selectedComponent$1.value:selectedComponent.value;!ue||!ue.visible||(ue.type!=="picture"&&oe(),k=!1,$=!1,selectControl$2.value="null")},j=de=>{const ue=r?selectedComponent$1.value:selectedComponent.value;!ue||!ue.visible||(ue.type!=="picture"&&oe(),r?setSelectionForCurrentGlyph(""):setSelectionForCurrentCharacterFile(""))},re=de=>{de.code==="Space"&&j()},oe=()=>{const de=r?selectedComponent$1.value:selectedComponent.value;if(!de)return;let ue=modifyComponentForCurrentCharacterFile;r&&(ue=modifyComponentForCurrentGlyph);let pe=genPenContour;const{x:he,y:Oe,w:xe,h:$e,rotation:Ne,flipX:Ce,flipY:Fe,type:ze,uuid:kt}=de;let At=[];if(ze==="polygon")At=de.value.points,pe=genPolygonContour;else if(ze==="ellipse"){const{radiusX:Ln,radiusY:Tn}=de.value;At=getEllipsePoints(Ln,Tn,1e3,he+Ln,Oe+Tn),pe=genEllipseContour}else if(ze==="rectangle"){const{width:Ln,height:Tn}=de.value;At=getRectanglePoints(Ln,Tn,he,Oe),pe=genRectangleContour}let Cn={unitsPerEm:1e3,descender:-200,advanceWidth:1e3};editStatus.value===Status.Edit&&(Cn.unitsPerEm=selectedFile.value.fontSettings.unitsPerEm,Cn.descender=selectedFile.value.fontSettings.descender,Cn.advanceWidth=selectedFile.value.fontSettings.unitsPerEm);let Dt=transformPoints(At,{x:he,y:Oe,w:xe,h:$e,rotation:Ne,flipX:Ce,flipY:Fe});const On=formatPoints(Dt,Cn,1),jt=pe(On),An=100/Cn.unitsPerEm,Mn=Dt.map(Ln=>Object.assign({},Ln,{x:Ln.x*An,y:Ln.y*An})),$n=pe(Mn);ue(kt,{value:{contour:jt,preview:$n}})};return n?.addEventListener("mousedown",V),document.addEventListener("mousemove",L),document.addEventListener("mouseup",z),n.addEventListener("keydown",re),()=>{n?.removeEventListener("mousedown",V),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",z),n.removeEventListener("keydown",re)}},renderSelectEditor=(n,e=10,r=!1)=>{if(!r&&!selectedComponent.value||r&&!selectedComponent$1.value)return;if(r){if(selectedComponent$1.value.type==="pen"&&selectedComponent$1.value.value.editMode){renderSelectPenEditor(n,e,!0);return}}else if(selectedComponent.value.type==="pen"&&selectedComponent.value.value.editMode){renderSelectPenEditor(n,e);return}const{x:g,y,w:k,h:$,rotation:V}=r?selectedComponent$1.value:selectedComponent.value,L=mapCanvasX(g),z=mapCanvasY(y),j=mapCanvasWidth(k),re=mapCanvasHeight($),oe=n?.getContext("2d");oe.strokeStyle="#79bbff",oe.translate(L+j/2,z+re/2),oe.rotate(V*Math.PI/180),oe.translate(-(L+j/2),-(z+re/2)),oe.strokeRect(L,z,j,re),oe.strokeRect(L-e,z-e,e*2,e*2),oe.strokeRect(L+j-e,z-e,e*2,e*2),oe.strokeRect(L-e,z+re-e,e*2,e*2),oe.strokeRect(L+j-e,z+re-e,e*2,e*2),oe.setTransform(1,0,0,1,0,0)},editing$1=ref(!1),setEditing$1=n=>{editing$1.value=n},draggingJoint$1=ref(null),putAtCoord$1=ref(null),movingJoint$1=ref(null),getBound$1=n=>{let e=1/0,r=1/0,g=-1/0,y=-1/0;return n.map(k=>{const{x:$,y:V}=k.getPlainCoords();$<e&&(e=$),$>g&&(g=$),V<r&&(r=V),V>y&&(y=V)}),{x:e,y:r,w:g-e,h:y-r}},getLayoutCoords=(n,e)=>{for(let r=0;r<n.length;r++)if(!n[r].children||n[r].children.length===0){const{dx:g,dy:y,size:k,centerSquareSize:$}=editCharacterFile.value.info.gridSettings,V=Math.round((k-$)/2)+g,L=Math.round((k-$)/2+$)+g,z=Math.round((k-$)/2)+y,j=Math.round((k-$)/2+$)+y;for(let re=0;re<n[r].coordsSegment;re++)for(let oe=0;oe<n[r].coordsSegment;oe++){const ae=getRatioCoords(n[r],re,oe,n[r].coordsSegment,{x1:V,x2:L,y1:z,y2:j,l:k});e.push({x:ae.x,y:ae.y,col:re,row:oe,id:n[r].id,layout:n[r]})}}else n[r].children&&n[r].children.length&&getLayoutCoords(n[r].children,e)},distance$1=(n,e,r,g)=>Math.sqrt((n-r)*(n-r)+(e-g)*(e-g)),addScript$1=(n,e)=>{selectedSubComponent.value?selectedSubComponent.value.value:selectedComponent?.value?.value;const r=selectedSubComponent.value?selectedSubComponent.value:selectedComponent?.value,g=selectedFile.value.fontSettings?.unitsPerEm;if(editCharacterFile.value.glyph_script||(editCharacterFile.value.glyph_script={}),dragOption.value==="default"&&!selectedSubComponent.value)editCharacterFile.value?.glyph_script&&editCharacterFile.value?.glyph_script[r.uuid]&&(delete editCharacterFile.value?.glyph_script[r.uuid],executeCharacterScript(editCharacterFile.value));else if(dragOption.value==="default"&&selectedSubComponent.value)SubComponentsRoot.value.value?.glyph_script&&SubComponentsRoot.value.value?.glyph_script[r.uuid]&&(delete SubComponentsRoot.value.value?.glyph_script[r.uuid],executeScript(SubComponentsRoot.value.value));else if(dragOption.value==="layout"&&!selectedSubComponent.value){if(draggingJoint$1.value&&putAtCoord$1.value){let y=null,k=0,$=0,V=1/0;const{x:L,y:z}=putAtCoord$1.value;for(let oe=0;oe<e.length;oe++){const ae=e[oe],de=distance$1(L,z,ae.x,ae.y);de<V&&(V=de,y=ae,k=L-y.x,$=z-y.y)}let re=`${`const ratio_coord = window.character.getRatioCoords(window.character.getLayoutByID('${y.id}'),${y.col},${y.row},${y.layout.coordsSegment})`};`;re+=`if (window.character.getComponent('${r.name}')) { window.character.getComponent('${r.name}').ox = ratio_coord.x+${k} - window.character.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.x; }`,re+=`if (window.character.getComponent('${r.name}')) { window.character.getComponent('${r.name}').oy = ratio_coord.y+${$} - window.character.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.y; }`,editCharacterFile.value.glyph_script[r.uuid]=re,executeCharacterScript(editCharacterFile.value)}else if(putAtCoord$1.value){let y=null,k=0,$=0,V=1/0;const{x:L,y:z}=putAtCoord$1.value;for(let oe=0;oe<e.length;oe++){const ae=e[oe],de=distance$1(L,z,ae.x,ae.y);de<V&&(V=de,y=ae,k=L-y.x,$=z-y.y)}const re=`${`const ratio_coord = window.character.getRatioCoords(window.character.getLayoutByID('${y.id}'),${y.col},${y.row},${y.layout.coordsSegment})`};window.character.getComponent('${r.name}')?.ox = ratio_coord.x + ${k} - ${g/2};window.character.getComponent('${r.name}')?.oy = ratio_coord.y + ${$} - ${g/2}`;editCharacterFile.value.glyph_script[r.uuid]=re,executeCharacterScript(editCharacterFile.value)}}else if(dragOption.value==="layout"&&selectedSubComponent.value){SubComponentsRoot.value.value.glyph_script||(SubComponentsRoot.value.value.glyph_script={});const{ox:y,oy:k}=getOrigin2$1();if(draggingJoint$1.value&&putAtCoord$1.value){const{x:$,y:V}=putAtCoord$1.value,L=getRatioLayout2(SubComponentsRoot.value.value,"width"),z=getRatioLayout2(SubComponentsRoot.value.value,"height"),j=($-(g-L)/2-y)/L,re=(V-(g-z)/2-k)/z;selectedSubComponent.value.value._o.getJoint(`${draggingJoint$1.value.name}`)?.x;let oe=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').ox = (${g} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${j} - window.glyph.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.x; }`;oe+=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').oy = (${g} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${re} - window.glyph.getGlyph('${r.name}')?.getJoint('${draggingJoint$1.value.name}')?.y; }`,SubComponentsRoot.value.value.glyph_script[r.uuid]=oe}else if(putAtCoord$1.value){const{x:$,y:V}=putAtCoord$1.value,L=$-g/2,z=V-g/2,j=getRatioLayout2(SubComponentsRoot.value.value,"width"),re=getRatioLayout2(SubComponentsRoot.value.value,"height"),oe=(L-(g-j)/2-y)/j,ae=(z-(g-re)/2-k)/re;let de=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').ox = (${g} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${oe}; }`;de+=`if (window.glyph.getComponent('${r.name}')) { window.glyph.getComponent('${r.name}').oy = (${g} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${ae}; }`,SubComponentsRoot.value.value.glyph_script[r.uuid]=de}executeScript(SubComponentsRoot.value.value)}emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0)},initGlyphDragger$1=(n,e=!1)=>{const r=selectedSubComponent.value?selectedSubComponent.value.value:selectedComponent?.value?.value;let{ox:g,oy:y}=getOrigin$3(),k,$;if(!r)return;const V=selectedFile.value.fontSettings?.unitsPerEm;let L=!1,z=!1,j=-1,re=-1,oe=-1,ae=-1,de=[];const ue=xe=>{if(!draggable$1.value)return;const $e=selectedSubComponent.value?selectedSubComponent.value.value:selectedComponent?.value?.value;if(!$e)return;de=[],getLayoutCoords(editCharacterFile.value.info.layoutTree,de);const Ne=$e._o?.getJoints();oe=getCoord(xe.offsetX),ae=getCoord(xe.offsetY);const Ce=20;if(checkJoints.value)for(let ze=0;ze<Ne.length;ze++){(!Ne[ze].component||!Ne[ze].rootComponent||!Ne[ze].componentsTree)&&linkComponentsForJoints(selectedComponent?.value);const{x:kt,y:At}=Ne[ze].getCoords();distance$1(kt,At,oe,ae)<=Ce&&(draggingJoint$1.value=Ne[ze])}setEditing$1(!0),L=!0,j=getCoord(xe.offsetX),re=getCoord(xe.offsetY);const Fe=getOrigin$3();g=Fe.ox,y=Fe.oy,k=selectedSubComponent.value?selectedSubComponent.value.ox:selectedComponent.value.ox,$=selectedSubComponent.value?selectedSubComponent.value.oy:selectedComponent.value.oy,window.addEventListener("mouseup",he)},pe=xe=>{const $e=getCoord(xe.offsetX)-j,Ne=getCoord(xe.offsetY)-re;if(z=!0,L)draggingJoint$1.value?(putAtCoord$1.value={x:g+draggingJoint$1.value.x+$e,y:y+draggingJoint$1.value.y+Ne},selectedSubComponent.value?(addScript$1(),modifySubComponent({ox:k+$e,oy:$+Ne})):(addScript$1(),modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{ox:k+$e,oy:$+Ne}))):(putAtCoord$1.value={x:g+$e+V/2,y:y+Ne+V/2},selectedSubComponent.value?(addScript$1(),modifySubComponent({ox:k+$e,oy:$+Ne})):(addScript$1(),modifyComponentForCurrentCharacterFile(selectedComponentUUID.value,{ox:k+$e,oy:$+Ne})));else if(checkJoints.value){const Fe=(selectedSubComponent.value?selectedSubComponent.value.value:selectedComponent?.value?.value)._o?.getJoints(),ze=10;let kt=!1;const At=getCoord(xe.offsetX),Cn=getCoord(xe.offsetY);for(let Dt=0;Dt<Fe.length;Dt++){(!Fe[Dt].component||!Fe[Dt].rootComponent||!Fe[Dt].componentsTree)&&linkComponentsForJoints(selectedComponent?.value);const{x:On,y:jt}=Fe[Dt].getCoords();distance$1(On,jt,At,Cn)<=ze&&(movingJoint$1.value=Fe[Dt],kt=!0)}!kt&&(movingJoint$1.value=null)}},he=xe=>{window.removeEventListener("mouseup",he),setEditing$1(!1),z&&addScript$1(e,de),L=!1,z=!1,oe=-1,ae=-1,putAtCoord$1.value=null,draggingJoint$1.value=null};return n.addEventListener("mousedown",ue),n.addEventListener("mousemove",pe),()=>{n.removeEventListener("mousedown",ue),n.removeEventListener("mousemove",pe),setEditing$1(!1)}},renderGlyphSelector$1=(n,e=!1)=>{const r=selectedSubComponent.value?selectedSubComponent.value.value:selectedComponent?.value?.value,{ox:g,oy:y}=getOrigin$3();if(!r)return;const{x:k,y:$,w:V,h:L}=getBound$1(r._o?.getJoints()),z=mapCanvasX(k+g),j=mapCanvasY($+y),re=mapCanvasWidth(V),oe=mapCanvasHeight(L),ae=5,de=n.getContext("2d");if(de.strokeStyle="#79bbff",de.strokeRect(z,j,re,oe),de.strokeRect(z-ae,j-ae,ae*2,ae*2),de.strokeRect(z+re-ae,j-ae,ae*2,ae*2),de.strokeRect(z-ae,j+oe-ae,ae*2,ae*2),de.strokeRect(z+re-ae,j+oe-ae,ae*2,ae*2),movingJoint$1.value&&checkJoints.value){const{x:pe,y:he}=movingJoint$1.value.getPlainCoords(),Oe=mapCanvasX(pe+g),xe=mapCanvasY(he+y);de.fillStyle="red",de.fillRect(Oe-10,xe-10,2*10,2*10)}if(draggingJoint$1.value&&checkJoints.value){const{x:ue,y:pe}=draggingJoint$1.value.getPlainCoords(),he=10,Oe=mapCanvasX(ue+g),xe=mapCanvasY(pe+y);de.fillStyle="red",de.fillRect(Oe-he,xe-he,2*he,2*he)}if(putAtCoord$1.value&&putAtCoord$1.value.id){const{x:ue,y:pe}=putAtCoord$1.value,he=mapCanvasX(ue),Oe=mapCanvasY(pe);de.fillStyle="red",de.fillRect(he-ae,Oe-ae,2*ae,2*ae)}},getOrigin$3=()=>{if(selectedSubComponent.value){let{ox:n,oy:e}=selectedComponent.value,r=selectedComponent.value;for(let g=1;g<editCharacterFile.value.selectedComponentsTree.length;g++){const y=editCharacterFile.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:selectedComponent.value.ox,oy:selectedComponent.value.oy}},getOrigin2$1=()=>{if(selectedSubComponent.value){let{ox:n,oy:e}=selectedComponent.value,r=selectedComponent.value;for(let g=1;g<editCharacterFile.value.selectedComponentsTree.length-1;g++){const y=editCharacterFile.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:selectedComponent.value.ox,oy:selectedComponent.value.oy}},initTranslateMover=(n,e=!1)=>{const{translateX:r,translateY:g}=e?editGlyph.value.view:editCharacterFile.value.view;let y=-1,k=-1;const $=j=>{y=j.clientX,k=j.clientY,document.addEventListener("mousemove",V),document.addEventListener("mouseup",L)},V=j=>{e?modifyGlyph(editGlyph.value.uuid,{view:{translateX:r+getCoord(j.clientX-y),translateY:g+getCoord(j.clientY-k)}}):modifyCharacterFile(editCharacterFile.value.uuid,{view:{translateX:r+getCoord(j.clientX-y),translateY:g+getCoord(j.clientY-k)}})},L=j=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)};return n?.addEventListener("mousedown",$),()=>{n?.removeEventListener("mousedown",$)}},initCoordsViewer=(n,e=!1)=>{const r=y=>{if(e){const $=y.offsetX/width$1.value*1e3,V=y.offsetY/height$1.value*1e3;coordsText.value=`${$}, ${V}`}else{const k=selectedFile.value.fontSettings.unitsPerEm,$=y.offsetX/width$1.value*k,V=y.offsetY/height$1.value*k;coordsText.value=`${$}, ${V}`}};return n?.addEventListener("mousemove",r),()=>{n?.removeEventListener("mousemove",r)}},_hoisted_1$r={class:"widget grid-controller"},_hoisted_2$q=["width","height"],_sfc_main$s=defineComponent({__name:"GridController",props:{dx:{type:Number,default:0},dy:{type:Number,default:0},centerSquareSize:{type:Number,default:500/3},size:{type:Number,default:500},layoutTree:{type:Array,default:[]},onChange:Function},setup(n){const e=n,{dx:r,dy:g,centerSquareSize:y,size:k,onChange:$,layoutTree:V}=toRefs(e),L=computed(()=>[re(k.value/2)+re(r.value),re(k.value/2)+re(g.value)]),z=ref(null),j=(kt,At,Cn,Dt)=>Math.sqrt((kt-Cn)*(kt-Cn)+(At-Dt)*(At-Dt)),re=kt=>kt/k.value*500,oe=computed(()=>Math.round((k.value-y.value)/2)+r.value),ae=computed(()=>Math.round((k.value-y.value)/2+y.value)+r.value),de=computed(()=>Math.round((k.value-y.value)/2)+g.value),ue=computed(()=>Math.round((k.value-y.value)/2+y.value)+g.value);onMounted(()=>{ze(),executeCharacterScript(editCharacterFile.value),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile.value,z.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:r.value,dy:g.value,size:k.value,centerSquareSize:y.value,x1:oe.value,x2:ae.value,y1:de.value,y2:ue.value}}),z.value.addEventListener("mousedown",Oe),z.value.addEventListener("mousemove",xe)}),onBeforeUnmount(()=>{z.value.removeEventListener("mousedown",Oe),z.value.removeEventListener("mousemove",xe),tool.value==="grid"&&ElMessageBox.alert("","",{confirmButtonText:""})});const pe=ref("none"),he=ref("default"),Oe=kt=>{j(kt.offsetX,kt.offsetY,L.value[0],L.value[1])<=20?(document.body.addEventListener("mouseup",$e),pe.value="inner-move"):j(kt.offsetX,kt.offsetY,re(k.value/2-y.value/4),re(k.value/2-y.value/4))<=20?(document.body.addEventListener("mouseup",$e),pe.value="left-top",he.value="left-top"):j(kt.offsetX,kt.offsetY,re(k.value/2+y.value/4),re(k.value/2-y.value/4))<=20?(document.body.addEventListener("mouseup",$e),pe.value="right-top",he.value="right-top"):j(kt.offsetX,kt.offsetY,re(k.value/2-y.value/4),re(k.value/2+y.value/4))<=20?(document.body.addEventListener("mouseup",$e),pe.value="left-bottom",he.value="left-bottom"):j(kt.offsetX,kt.offsetY,re(k.value/2+y.value/4),re(k.value/2+y.value/4))<=20&&(document.body.addEventListener("mouseup",$e),pe.value="right-bottom",he.value="right-bottom")},xe=kt=>{switch(pe.value){case"inner-move":{const At=kt.offsetX/500*k.value-k.value/2,Cn=kt.offsetY/500*k.value-k.value/2;Math.abs(At)<=k.value/12&&Math.abs(Cn)<=k.value/12&&$.value(At,Cn,y.value);break}case"none":{j(kt.offsetX,kt.offsetY,re(k.value/2-y.value/4),re(k.value/2-y.value/4))<=20?he.value="left-top":j(kt.offsetX,kt.offsetY,re(k.value/2+y.value/4),re(k.value/2-y.value/4))<=20?he.value="right-top":j(kt.offsetX,kt.offsetY,re(k.value/2-y.value/4),re(k.value/2+y.value/4))<=20?he.value="left-bottom":j(kt.offsetX,kt.offsetY,re(k.value/2+y.value/4),re(k.value/2+y.value/4))<=20?he.value="right-bottom":he.value="default";break}default:{const At=kt.offsetX/500*k.value-k.value/2,Cn=kt.offsetY/500*k.value-k.value/2;let Dt=0;if(pe.value==="left-top"?Dt=Math.min(-At,-Cn):pe.value==="right-top"?Dt=Math.min(At,-Cn):pe.value==="left-bottom"?Dt=Math.min(-At,Cn):pe.value==="right-bottom"&&(Dt=Math.min(At,Cn)),Dt=Math.abs(Dt),Dt<=k.value/6&&Dt>=k.value/24){const On=Dt*4,jt=r.value/y.value*On,An=g.value/y.value*On;$.value(jt,An,On)}else if(Dt>=k.value/6){const On=k.value/3*2,jt=r.value/y.value*On,An=g.value/y.value*On;$.value(jt,An,On)}else if(Dt<=k.value/24){const On=k.value/6,jt=r.value/y.value*On,An=g.value/y.value*On;$.value(jt,An,On)}break}}},$e=()=>{pe.value="none",document.body.removeEventListener("mouseup",$e)},Ne=kt=>{saveState("",[StoreType.Grid],OpType.Undo,kt)};let Ce=null,Fe=!1;watch([gridSettings,gridChanged],(kt,At)=>{Ce&&clearTimeout(Ce),Ce=setTimeout(()=>{Fe=!1,clearTimeout(Ce)},500),Fe||(Ne({gridSettings:At[0],gridChanged:At[1],newRecord:!0}),Fe=!0)},{deep:!0}),watch([r,g,k,y,V],(kt,At)=>{ze(),executeCharacterScript(editCharacterFile.value),renderGridCanvas(orderedListWithItemsForCurrentCharacterFile.value,z.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0},grid:{dx:r.value,dy:g.value,size:k.value,centerSquareSize:y.value,x1:oe.value,x2:ae.value,y1:de.value,y2:ue.value}})},{deep:!0}),watch([tool],()=>{tool.value==="grid"&&orderedListWithItemsForCurrentCharacterFile.value.length&&(ze(),executeCharacterScript(editCharacterFile.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid),emitter.emit("renderCharacter",!0),renderCanvas(orderedListWithItemsForCurrentCharacterFile.value,z.value,{scale:.5,forceUpdate:!1,fill:!1,offset:{x:0,y:0}}))},{deep:!0});const ze=()=>{const kt=z.value.getContext("2d");kt.clearRect(0,0,k.value,k.value),kt.strokeStyle="#811616",kt.lineWidth=2,kt.beginPath(),kt.moveTo(0,de.value),kt.lineTo(k.value,de.value),kt.stroke(),kt.closePath(),kt.beginPath(),kt.moveTo(0,ue.value),kt.lineTo(k.value,ue.value),kt.stroke(),kt.closePath(),kt.beginPath(),kt.moveTo(oe.value,0),kt.lineTo(oe.value,k.value),kt.stroke(),kt.closePath(),kt.beginPath(),kt.moveTo(ae.value,0),kt.lineTo(ae.value,k.value),kt.stroke(),kt.closePath(),kt.beginPath(),kt.strokeStyle="#153063",kt.rect(k.value/2-y.value/4,k.value/2-y.value/4,y.value/2,y.value/2),kt.stroke(),kt.closePath(),kt.fillStyle="#153063",kt.lineWidth=0,kt.beginPath(),kt.arc(L.value[0]/500*k.value,L.value[1]/500*k.value,20,0,2*Math.PI),kt.closePath(),kt.fill(),V.value.length&&renderLayout(V.value,{x:0,y:0,w:k.value,h:k.value},1,{x1:oe.value,x2:ae.value,y1:de.value,y2:ue.value,l:k.value},z.value)};return(kt,At)=>(openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("canvas",{ref_key:"canvas",ref:z,width:unref(k),height:unref(k),style:{width:"500px",height:"500px"},class:normalizeClass({"left-top":he.value==="left-top","right-top":he.value==="right-top","left-bottom":he.value==="left-bottom","right-bottom":he.value==="right-bottom"})},null,10,_hoisted_2$q)]))}}),GridController=_export_sfc(_sfc_main$s,[["__scopeId","data-v-3a307f06"]]),initLayoutResizer$1=n=>{let r=!1;const g=SubComponentsRoot.value?SubComponentsRoot.value.value:selectedComponent.value.value,{ox:y,oy:k}=getOrigin$2();if(!g.layout||g.layout.type!=="rect")return;const $=j=>{r=!0},V=j=>{if(!g||!g?.layout)return;const{width:re,height:oe}=g.layout.params,ae=n.width/4+y,de=n.height/4+k,ue=mapCanvasX(ae-re/2),pe=mapCanvasY(de-oe/2),he=mapCanvasWidth(re),Oe=mapCanvasHeight(oe),xe=getCoord(j.offsetX),$e=getCoord(j.offsetY),Ne=j.offsetX*4,Ce=j.offsetY*4,Fe={x:ue,y:pe},ze={x:xe,y:pe+Oe},kt={x:ue+he,y:pe},At={x:ue+he,y:pe+Oe};if(r){switch(selectControl$1.value){case"scale-left-top":{const Cn=xe<ae?(ae-xe)*2:re,Dt=$e<de?(de-$e)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}case"scale-right-top":{const Cn=xe>ae?(xe-ae)*2:re,Dt=$e<de?(de-$e)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}case"scale-left-bottom":{const Cn=xe<ae?(ae-xe)*2:re,Dt=$e>de?($e-de)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}case"scale-right-bottom":{const Cn=xe>ae?(xe-ae)*2:re,Dt=$e>de?($e-de)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}}executeScript(g),emitter.emit("renderPreviewCanvasByUUID",g.uuid),emitter.emit("renderCharacter",!0),renderLayoutEditor$1(n)}r||(distance$2(Ne,Ce,Fe.x,Fe.y)<=20?selectControl$1.value="scale-left-top":distance$2(Ne,Ce,kt.x,kt.y)<=20?selectControl$1.value="scale-right-top":distance$2(Ne,Ce,ze.x,ze.y)<=20?selectControl$1.value="scale-left-bottom":distance$2(Ne,Ce,At.x,At.y)<=20?selectControl$1.value="scale-right-bottom":selectControl$1.value="null")},L=j=>{r=!1};return n?.addEventListener("mousedown",$),document.addEventListener("mousemove",V),document.addEventListener("mouseup",L),()=>{n?.removeEventListener("mousedown",$),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)}},renderLayoutEditor$1=n=>{const r=SubComponentsRoot.value?SubComponentsRoot.value.value:selectedComponent.value.value,{ox:g,oy:y}=getOrigin$2();if(r.layout&&r.layout.type==="rect"){const{width:k,height:$}=r.layout.params,V=n.width/4+g-k/2,L=n.height/4+y-$/2,z=mapCanvasX(V),j=mapCanvasY(L),re=mapCanvasWidth(k),oe=mapCanvasHeight($),ae=n?.getContext("2d");ae.strokeStyle="#79bbff",ae.translate(z+re/2,j+oe/2),ae.translate(-(z+re/2),-(j+oe/2)),ae.strokeRect(z,j,re,oe),ae.strokeRect(z-5,j-5,5*2,5*2),ae.strokeRect(z+re-5,j-5,5*2,5*2),ae.strokeRect(z-5,j+oe-5,5*2,5*2),ae.strokeRect(z+re-5,j+oe-5,5*2,5*2),ae.setTransform(1,0,0,1,0,0)}},getOrigin$2=()=>{if(SubComponentsRoot.value){let{ox:n,oy:e}=selectedComponent.value,r=selectedComponent.value;for(let g=1;g<editCharacterFile.value.selectedComponentsTree.length-1;g++){const y=editCharacterFile.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:selectedComponent.value.ox,oy:selectedComponent.value.oy}},_hoisted_1$q={class:"edit-panel-wrapper"},_hoisted_2$p={class:"canvas-wrapper"},_hoisted_3$b={class:"grid"},_hoisted_4$8=["width","height"],_hoisted_5$6=["width","height"],_sfc_main$r=defineComponent({__name:"EditPanel",setup(n){const e=ref(!1);let r=null,g=null;const y=ref(null),k=ref(null);onMounted(async()=>{document.addEventListener("keydown",$),executeCharacterScript(editCharacterFile.value);const re=y.value;re.style.width=`${width$1.value*editCharacterFile.value.view.zoom/100}px`,re.style.height=`${height$1.value*editCharacterFile.value.view.zoom/100}px`,grid.precision=selectedFile.value.width/width$1.value*10,setCanvas(re),e.value=!0,L(),await nextTick(),z(),emitter.on("renderCharacter",()=>{z(),j(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value)}),emitter.on("renderCharacter_forceUpdate",()=>{render$1(canvas.value,!0,!0)}),emitter.on("updateCharacterView",()=>{const oe=canvas.value;oe.style.width=`${500*editCharacterFile.value.view.zoom/100}px`,oe.style.height=`${500*editCharacterFile.value.view.zoom/100}px`}),await nextTick(),selectedComponentUUID.value&&selectedComponent.value.type==="glyph"&&setTool("glyphDragger")});const $=re=>{const oe=navigator.userAgent.includes("Mac");(oe&&re.metaKey&&re.key==="z"||!oe&&re.ctrlKey&&re.key==="z")&&(re.shiftKey?redo$2():undo$2(),re.preventDefault())};onUnmounted(()=>{emitter.off("renderCharacter"),emitter.off("renderCharacter_forceUpdate"),emitter.off("updateCharacterView"),document.removeEventListener("keydown",$),clearState(),r&&r(),g&&g(),setTool("")});const V=(re,oe,ae)=>{gridChanged.value=!0,gridSettings.value.dx=re,gridSettings.value.dy=oe,gridSettings.value.centerSquareSize=ae},L=()=>{switch(r&&r(),tool.value){case"pen":r=initPen(canvas.value);break;case"select":r=initSelect(canvas.value);break;case"ellipse":r=initEllipse(canvas.value);break;case"rectangle":r=initRectangle(canvas.value);break;case"polygon":r=initPolygon(canvas.value);break;case"translateMover":r=initTranslateMover(canvas.value);break;case"coordsViewer":r=initCoordsViewer(canvas.value);break;case"glyphDragger":r=initGlyphDragger$1(canvas.value);break}};watch(tool,(re,oe)=>{if(e){switch(z(),tool.value){case"select":selectedComponentUUID.value&&renderSelectEditor(canvas.value);break;case"glyphDragger":selectedComponentUUID.value&&(r=initGlyphDragger$1(canvas.value),renderGlyphSelector$1(canvas.value));break}j(),L()}}),watch([editing$3,()=>editCharacterFile.value.selectedComponentsTree],()=>{selectedSubComponent.value&&g?(g(),editing$3.value=!1):editing$3.value&&(g=initLayoutResizer$1(canvas.value),renderLayoutEditor$1(canvas.value))},{deep:!0}),watch([()=>selectedComponent.value?.value?.layout,()=>SubComponentsRoot.value?.value?.layout],()=>{z(),editing$3.value&&(selectedComponent.value||SubComponentsRoot.value)&&renderLayoutEditor$1(canvas.value),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),j(),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid)},{deep:!0}),watch([background$1,grid,fontRenderStyle],()=>{z()}),watch([editCharacterFile,selectedFile],()=>{if(!editCharacterFile.value||!e)return;const re=canvas.value;re.width=mapCanvasWidth(selectedFile.value.width),re.height=mapCanvasHeight(selectedFile.value.height),re.style.width=`${width$1.value*editCharacterFile.value.view.zoom/100}px`,re.style.height=`${height$1.value*editCharacterFile.value.view.zoom/100}px`,setCanvas(re),z(),j(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid)}),watch([points$1,editing$7],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$7.value&&renderPenEditor(canvas.value)}),watch([points,editing$6],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$6.value&&renderPolygonEditor(points,canvas.value)}),watch([ellipseX,ellipseY,radiusX,radiusY,editing$4],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$4.value&&renderEllipseEditor(canvas.value)}),watch([rectX,rectY,rectWidth,rectHeight,editing$5],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),editing$5.value&&renderRectangleEditor(canvas.value)}),watch([editing$1,draggingJoint$1,putAtCoord$1,movingJoint$1],()=>{z(),j(),renderGlyphSelector$1(canvas.value),editing$1.value}),watch([selectedComponentUUID,componentsForCurrentCharacterFile,selectedComponent],()=>{editing$3.value=!1,z(),selectedComponentUUID.value&&(tool.value==="select"&&renderSelectEditor(canvas.value),tool.value==="pen"&&renderPenEditor(canvas.value),j(),emitter.emit("renderPreviewCanvasByUUID",editCharacterFile.value.uuid))}),watch([onPenEditMode],()=>{r&&r(),onPenEditMode&&tool.value==="select"&&L()}),watch([selectAnchor,selectPenPoint,hoverPenPoint],()=>{tool.value==="select"&&(z(),renderSelectEditor(canvas.value))});const z=()=>{render$1(canvas.value)},j=()=>{(checkJoints.value||checkRefLines.value)&&linkComponentsForJoints(selectedComponent?.value),checkJoints.value&&(selectedSubComponent.value?selectedSubComponent.value.value._o.renderJoints(canvas.value):SubComponentsRoot.value?SubComponentsRoot.value.value._o.renderJoints(canvas.value):selectedComponent.value.value._o.renderJoints(canvas.value)),checkRefLines.value&&(selectedSubComponent.value?selectedSubComponent.value.value._o.renderRefLines(canvas.value):SubComponentsRoot.value?SubComponentsRoot.value.value._o.renderRefLines(canvas.value):selectedComponent.value.value._o.renderRefLines(canvas.value)),draggingJoint$1.value&&renderGlyphSelector$1(canvas.value)};return(re,oe)=>(openBlock(),createElementBlock("section",_hoisted_1$q,[createBaseVNode("main",_hoisted_2$p,[withDirectives(createBaseVNode("div",_hoisted_3$b,[createVNode(GridController,{size:unref(gridSettings).size,dx:unref(gridSettings).dx,dy:unref(gridSettings).dy,centerSquareSize:unref(gridSettings).centerSquareSize,onChange:V},null,8,["size","dx","dy","centerSquareSize"])],512),[[vShow,unref(tool)==="grid"]]),withDirectives(createBaseVNode("div",{class:"edit-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="edit"&&unref(tool)!=="grid"?"flex":"none"})},[withDirectives(createBaseVNode("canvas",{ref_key:"editCanvas",ref:y,class:normalizeClass({"edit-canvas-panel":!0,"pen-on-edit":unref(tool)==="pen","rectangle-on-edit":unref(tool)==="rectangle","ellipse-on-edit":unref(tool)==="ellipse","polygon-on-edit":unref(tool)==="polygon","rotate-left-top":unref(selectControl$2)==="rotate-left-top","rotate-right-top":unref(selectControl$2)==="rotate-right-top","rotate-left-bottom":unref(selectControl$2)==="rotate-left-bottom","rotate-right-bottom":unref(selectControl$2)==="rotate-right-bottom","scale-left-top":unref(selectControl$2)==="scale-left-top"||unref(selectControl$1)==="scale-left-top","scale-right-top":unref(selectControl$2)==="scale-right-top"||unref(selectControl$1)==="scale-right-top","scale-left-bottom":unref(selectControl$2)==="scale-left-bottom"||unref(selectControl$1)==="scale-left-bottom","scale-right-bottom":unref(selectControl$2)==="scale-right-bottom"||unref(selectControl$1)==="scale-right-bottom","on-translate-move":unref(tool)==="translateMover"}),style:normalizeStyle({transform:`translate3d(${unref(editCharacterFile).view.translateX}px, ${unref(editCharacterFile).view.translateY}px, 0px)`}),width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,14,_hoisted_4$8),[[vShow,unref(tool)!=="grid"]])],4),[[vShow,unref(tool)!=="grid"]]),createBaseVNode("div",{class:"preview-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="preview"?"flex":"none"})},[createBaseVNode("canvas",{ref_key:"previewCanvas",ref:k,class:"preview-canvas-panel",width:unref(mapCanvasWidth)(unref(width$1)),height:unref(mapCanvasHeight)(unref(height$1))},null,8,_hoisted_5$6)],4)])]))}}),EditPanel=_export_sfc(_sfc_main$r,[["__scopeId","data-v-a10a1976"]]),initLayoutResizer=n=>{let r=!1;const g=SubComponentsRoot$1.value?SubComponentsRoot$1.value.value:editGlyph.value,{ox:y,oy:k}=getOrigin$1();if(!g.layout||g.layout.type!=="rect")return;const $=j=>{r=!0},V=j=>{if(!g||!g?.layout)return;const{width:re,height:oe}=g.layout.params,ae=n.width/4+y,de=n.height/4+k,ue=mapCanvasX(ae-re/2),pe=mapCanvasY(de-oe/2),he=mapCanvasWidth(re),Oe=mapCanvasHeight(oe),xe=getCoord(j.offsetX),$e=getCoord(j.offsetY),Ne=j.offsetX*4,Ce=j.offsetY*4,Fe={x:ue,y:pe},ze={x:xe,y:pe+Oe},kt={x:ue+he,y:pe},At={x:ue+he,y:pe+Oe};if(r){switch(selectControl.value){case"scale-left-top":{const Cn=xe<ae?(ae-xe)*2:re,Dt=$e<de?(de-$e)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}case"scale-right-top":{const Cn=xe>ae?(xe-ae)*2:re,Dt=$e<de?(de-$e)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}case"scale-left-bottom":{const Cn=xe<ae?(ae-xe)*2:re,Dt=$e>de?($e-de)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}case"scale-right-bottom":{const Cn=xe>ae?(xe-ae)*2:re,Dt=$e>de?($e-de)*2:oe;g.layout.params.width=Cn,g.layout.params.height=Dt;break}}executeScript(g),emitter.emit("renderGlyphPreviewCanvasByUUID",g.uuid),emitter.emit("renderGlyph",!0)}r||(distance$2(Ne,Ce,Fe.x,Fe.y)<=20?selectControl.value="scale-left-top":distance$2(Ne,Ce,kt.x,kt.y)<=20?selectControl.value="scale-right-top":distance$2(Ne,Ce,ze.x,ze.y)<=20?selectControl.value="scale-left-bottom":distance$2(Ne,Ce,At.x,At.y)<=20?selectControl.value="scale-right-bottom":selectControl.value="null")},L=j=>{r=!1};return n?.addEventListener("mousedown",$),document.addEventListener("mousemove",V),document.addEventListener("mouseup",L),()=>{n?.removeEventListener("mousedown",$),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L)}},renderLayoutEditor=n=>{const e=SubComponentsRoot$1.value?SubComponentsRoot$1.value.value:editGlyph.value,{ox:r,oy:g}=getOrigin$1(),y=5;if(e.layout&&e.layout.type==="rect"){const{width:k,height:$}=e.layout.params,V=n.width/4+r-k/2,L=n.height/4+g-$/2,z=mapCanvasX(V),j=mapCanvasY(L),re=mapCanvasWidth(k),oe=mapCanvasHeight($),ae=n?.getContext("2d");ae.strokeStyle="#79bbff",ae.translate(z+re/2,j+oe/2),ae.translate(-(z+re/2),-(j+oe/2)),ae.strokeRect(z,j,re,oe),ae.strokeRect(z-y,j-y,y*2,y*2),ae.strokeRect(z+re-y,j-y,y*2,y*2),ae.strokeRect(z-y,j+oe-y,y*2,y*2),ae.strokeRect(z+re-y,j+oe-y,y*2,y*2),ae.setTransform(1,0,0,1,0,0)}},getOrigin$1=()=>{if(SubComponentsRoot$1.value){let{ox:n,oy:e}=selectedComponent$1.value,r=selectedComponent$1.value;for(let g=1;g<editGlyph.value.selectedComponentsTree.length-1;g++){const y=editGlyph.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:0,oy:0}},editing=ref(!1),setEditing=n=>{editing.value=n},draggingJoint=ref(null),putAtCoord=ref(null),movingJoint=ref(null),getBound=n=>{let e=1/0,r=1/0,g=-1/0,y=-1/0;return n.map(k=>{const{x:$,y:V}=k.getPlainCoords();$<e&&(e=$),$>g&&(g=$),V<r&&(r=V),V>y&&(y=V)}),{x:e,y:r,w:g-e,h:y-r}},distance=(n,e,r,g)=>Math.sqrt((n-r)*(n-r)+(e-g)*(e-g)),addScript=()=>{const n=selectedSubComponent$1.value?selectedSubComponent$1.value.value:selectedComponent$1?.value?.value,e=selectedSubComponent$1.value?selectedSubComponent$1.value:selectedComponent$1?.value,r=1e3;if(editGlyph.value.glyph_script||(editGlyph.value.glyph_script={}),dragOption.value==="default"&&!selectedSubComponent$1.value)editGlyph.value?.glyph_script&&editGlyph.value?.glyph_script[e.uuid]&&delete editGlyph.value?.glyph_script[e.uuid];else if(dragOption.value==="default"&&selectedSubComponent$1.value)SubComponentsRoot$1.value.value?.glyph_script&&SubComponentsRoot$1.value.value?.glyph_script[e.uuid]&&delete SubComponentsRoot$1.value.value?.glyph_script[e.uuid];else if(dragOption.value==="layout"&&editGlyph.value.layout&&!selectedSubComponent$1.value){if(draggingJoint.value&&putAtCoord.value){const{x:g,y}=putAtCoord.value,k=getRatioLayout(n,"width"),$=getRatioLayout(n,"height"),V=(g-(r-k)/2)/k,L=(y-(r-$)/2)/$;let z=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').ox = (${r} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${V} - window.glyph.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.x; }`;z+=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').oy = (${r} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${L} - window.glyph.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.y; }`,editGlyph.value.glyph_script[e.uuid]=z}else if(putAtCoord.value){const{x:g,y}=putAtCoord.value,k=g-r/2,$=y-r/2,V=getRatioLayout(n,"width"),L=getRatioLayout(n,"height"),z=(k-(r-V)/2)/V,j=($-(r-L)/2)/L;let re=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').ox = (${r} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${z}; }`;re+=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').oy = (${r} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${j}; }`,editGlyph.value.glyph_script[e.uuid]=re}}else if(dragOption.value==="layout"&&selectedSubComponent$1.value){SubComponentsRoot$1.value.value.glyph_script||(SubComponentsRoot$1.value.value.glyph_script={});const{ox:g,oy:y}=getOrigin2();if(draggingJoint.value&&putAtCoord.value){const{x:k,y:$}=putAtCoord.value,V=getRatioLayout2(SubComponentsRoot$1.value.value,"width"),L=getRatioLayout2(SubComponentsRoot$1.value.value,"height"),z=(k-(r-V)/2-g)/V,j=($-(r-L)/2-y)/L;selectedSubComponent$1.value.value._o.getJoint(`${draggingJoint.value.name}`)?.x;let re=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').ox = (${r} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${z} - window.glyph.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.x; }`;re+=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').oy = (${r} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${j} - window.glyph.getGlyph('${e.name}')?.getJoint('${draggingJoint.value.name}')?.y; }`,SubComponentsRoot$1.value.value.glyph_script[e.uuid]=re}else if(putAtCoord.value){const{x:k,y:$}=putAtCoord.value,V=k-r/2,L=$-r/2,z=getRatioLayout2(SubComponentsRoot$1.value.value,"width"),j=getRatioLayout2(SubComponentsRoot$1.value.value,"height"),re=(V-(r-z)/2-g)/z,oe=(L-(r-j)/2-y)/j;let ae=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').ox = (${r} - window.glyph.getRatioLayout('width')) / 2 + window.glyph.getRatioLayout('width') * ${re}; }`;ae+=`if (window.glyph.getComponent('${e.name}')) { window.glyph.getComponent('${e.name}').oy = (${r} - window.glyph.getRatioLayout('height')) / 2 + window.glyph.getRatioLayout('height') * ${oe}; }`,SubComponentsRoot$1.value.value.glyph_script[e.uuid]=ae}executeScript(SubComponentsRoot$1.value.value)}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph",!0)},initGlyphDragger=(n,e=!0)=>{const r=selectedSubComponent$1.value?selectedSubComponent$1.value.value:selectedComponent$1?.value?.value;let{ox:g,oy:y}=getOrigin(),k,$;if(!r)return;selectedComponent$1.value;const V=1e3;let L=!1,z=!1,j=-1,re=-1,oe=-1,ae=-1;const de=Oe=>{if(!draggable$1.value)return;const xe=selectedSubComponent$1.value?selectedSubComponent$1.value.value:selectedComponent$1?.value?.value;if(!xe)return;const $e=xe._o?.getJoints();oe=getCoord(Oe.offsetX),ae=getCoord(Oe.offsetY);const Ne=10;if(checkJoints.value&&!draggingJoint.value)for(let Fe=0;Fe<$e.length;Fe++){(!$e[Fe].component||!$e[Fe].rootComponent||!$e[Fe].componentsTree)&&linkComponentsForJoints(selectedComponent$1?.value);const{x:ze,y:kt}=$e[Fe].getCoords();distance(ze,kt,oe,ae)<=Ne&&(draggingJoint.value=$e[Fe])}setEditing(!0),L=!0,j=getCoord(Oe.offsetX),re=getCoord(Oe.offsetY);const Ce=getOrigin();g=Ce.ox,y=Ce.oy,k=selectedSubComponent$1.value?selectedSubComponent$1.value.ox:selectedComponent$1.value.ox,$=selectedSubComponent$1.value?selectedSubComponent$1.value.oy:selectedComponent$1.value.oy,window.addEventListener("mouseup",pe)},ue=Oe=>{const xe=getCoord(Oe.offsetX)-j,$e=getCoord(Oe.offsetY)-re;if(z=!0,L)draggingJoint.value?(putAtCoord.value={x:g+draggingJoint.value.x+xe,y:y+draggingJoint.value.y+$e},selectedSubComponent$1.value?(addScript(),modifySubComponent$1({ox:k+xe,oy:$+$e})):(addScript(),modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{ox:k+xe,oy:$+$e}))):(putAtCoord.value={x:g+xe+V/2,y:y+$e+V/2},selectedSubComponent$1.value?(addScript(),modifySubComponent$1({ox:k+xe,oy:$+$e})):(addScript(),modifyComponentForCurrentGlyph(selectedComponentUUID$1.value,{ox:k+xe,oy:$+$e})));else if(checkJoints.value){const Ce=(selectedSubComponent$1.value?selectedSubComponent$1.value.value:selectedComponent$1?.value?.value)._o?.getJoints(),Fe=10;let ze=!1;const kt=getCoord(Oe.offsetX),At=getCoord(Oe.offsetY);for(let Cn=0;Cn<Ce.length;Cn++){(!Ce[Cn].component||!Ce[Cn].rootComponent||!Ce[Cn].componentsTree)&&linkComponentsForJoints(selectedComponent$1?.value);const{x:Dt,y:On}=Ce[Cn].getCoords();distance(Dt,On,kt,At)<=Fe&&(movingJoint.value=Ce[Cn],ze=!0)}!ze&&(movingJoint.value=null)}},pe=Oe=>{setEditing(!1),z&&L&&(window.removeEventListener("mouseup",pe),addScript()),L=!1,z=!1,oe=-1,ae=-1,putAtCoord.value=null,draggingJoint.value=null,movingJoint.value=null};return n.addEventListener("mousedown",de),window.addEventListener("mousemove",ue),()=>{n.removeEventListener("mousedown",de),window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",pe),setEditing(!1)}},renderGlyphSelector=(n,e=!0)=>{const r=selectedSubComponent$1.value?selectedSubComponent$1.value.value:selectedComponent$1?.value?.value,{ox:g,oy:y}=getOrigin();if(!r)return;const{x:k,y:$,w:V,h:L}=getBound(r._o?.getJoints()),z=mapCanvasX(k+g),j=mapCanvasY($+y),re=mapCanvasWidth(V),oe=mapCanvasHeight(L),ae=5,de=n.getContext("2d");if(de.strokeStyle="#79bbff",de.strokeRect(z,j,re,oe),de.strokeRect(z-ae,j-ae,ae*2,ae*2),de.strokeRect(z+re-ae,j-ae,ae*2,ae*2),de.strokeRect(z-ae,j+oe-ae,ae*2,ae*2),de.strokeRect(z+re-ae,j+oe-ae,ae*2,ae*2),movingJoint.value&&checkJoints.value){const{x:pe,y:he}=movingJoint.value.getPlainCoords(),Oe=mapCanvasX(pe+g),xe=mapCanvasY(he+y);de.fillStyle="red",de.fillRect(Oe-10,xe-10,2*10,2*10)}if(draggingJoint.value&&checkJoints.value){const{x:ue,y:pe}=draggingJoint.value.getPlainCoords(),he=10,Oe=mapCanvasX(ue+g),xe=mapCanvasY(pe+y);de.fillStyle="red",de.fillRect(Oe-he,xe-he,2*he,2*he)}if(putAtCoord.value&&putAtCoord.value.id){const{x:ue,y:pe}=putAtCoord.value,he=mapCanvasX(ue),Oe=mapCanvasY(pe);de.fillStyle="red",de.fillRect(he-ae,Oe-ae,2*ae,2*ae)}},getOrigin=()=>{if(selectedSubComponent$1.value){let{ox:n,oy:e}=selectedComponent$1.value,r=selectedComponent$1.value;for(let g=1;g<editGlyph.value.selectedComponentsTree.length;g++){const y=editGlyph.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:selectedComponent$1.value.ox,oy:selectedComponent$1.value.oy}},getOrigin2=()=>{if(selectedSubComponent$1.value){let{ox:n,oy:e}=selectedComponent$1.value,r=selectedComponent$1.value;for(let g=1;g<editGlyph.value.selectedComponentsTree.length-1;g++){const y=editGlyph.value.selectedComponentsTree[g],k=selectedItemByUUID(r.value.components,y);r=k,n+=k.ox,e+=k.oy}return{ox:n,oy:e}}return{ox:selectedComponent$1.value.ox,oy:selectedComponent$1.value.oy}},_hoisted_1$p={class:"edit-panel-wrapper"},_hoisted_2$o={class:"canvas-wrapper"},_hoisted_3$a=["width","height"],_hoisted_4$7=["width","height"],width=1e3,height=1e3,_sfc_main$q=defineComponent({__name:"GlyphEditPanel",setup(n){const e=ref(!1);let r=null,g=null;const y=ref(null),k=ref(null);onMounted(async()=>{document.addEventListener("keydown",$),editStatus.value=Status.Glyph,executeScript(editGlyph.value);const j=y.value;j.style.width=`${500*editGlyph.value.view.zoom/100}px`,j.style.height=`${500*editGlyph.value.view.zoom/100}px`,grid.precision=20,setCanvas(j),e.value=!0,L(),z(),emitter.on("renderGlyph",()=>{z(),V()}),emitter.on("renderGlyph_forceUpdate",()=>{const re=editGlyph.value._o?editGlyph.value._o:new CustomGlyph(editGlyph.value);renderGlyph(re,canvas.value,!0,!1,!1,!0)}),emitter.on("updateGlyphView",()=>{const re=canvas.value;re.style.width=`${500*editGlyph.value.view.zoom/100}px`,re.style.height=`${500*editGlyph.value.view.zoom/100}px`}),await nextTick(),selectedComponentUUID$1.value&&selectedComponent$1.value.type==="glyph"&&setTool("glyphDragger")});const $=j=>{const re=navigator.userAgent.includes("Mac");(re&&j.metaKey&&j.key==="z"||!re&&j.ctrlKey&&j.key==="z")&&(j.shiftKey?redo$2():undo$2(),j.preventDefault())};onUnmounted(()=>{emitter.off("renderGlyph"),emitter.off("renderGlyph_forceUpdate"),emitter.off("updateGlyphView"),document.removeEventListener("keydown",$),clearState(),editing$2.value=!1,r&&r(),g&&g(),setTool("")});const V=()=>{editGlyph.value.layout&&editing$2.value&&renderLayoutEditor(canvas.value),selectedComponentUUID$1.value&&((checkJoints.value||checkRefLines.value)&&linkComponentsForJoints(selectedComponent$1?.value),checkJoints.value&&(selectedSubComponent$1.value?selectedSubComponent$1.value.value._o.renderJoints(canvas.value):SubComponentsRoot$1.value?SubComponentsRoot$1.value.value._o.renderJoints(canvas.value):selectedComponent$1.value.value._o.renderJoints(canvas.value)),checkRefLines.value&&(selectedSubComponent$1.value?selectedSubComponent$1.value.value._o.renderRefLines(canvas.value):SubComponentsRoot$1.value?SubComponentsRoot$1.value.value._o.renderRefLines(canvas.value):selectedComponent$1.value.value._o.renderRefLines(canvas.value)),draggingJoint.value&&renderGlyphSelector(canvas.value))},L=()=>{switch(r&&r(),tool.value){case"pen":r=initPen(canvas.value,!0);break;case"select":r=initSelect(canvas.value,10,!0);break;case"ellipse":r=initEllipse(canvas.value,!0);break;case"rectangle":r=initRectangle(canvas.value,!0);break;case"polygon":r=initPolygon(canvas.value,!0);break;case"translateMover":r=initTranslateMover(canvas.value,!0);break;case"coordsViewer":r=initCoordsViewer(canvas.value,!0);break;case"glyphDragger":r=initGlyphDragger(canvas.value);break}};watch([editing$2,tool],()=>{g&&(g(),z()),editing$2.value&&tool.value==="params"&&(g=initLayoutResizer(canvas.value),renderLayoutEditor(canvas.value)),V()},{deep:!0}),watch(()=>editGlyph.value.selectedComponentsTree,()=>{selectedSubComponent$1.value&&g?(g(),editing$2.value=!1):editing$2.value&&(g=initLayoutResizer(canvas.value),renderLayoutEditor(canvas.value))},{deep:!0}),watch([()=>editGlyph.value.layout],()=>{z(),editing$2.value&&tool.value==="params"&&renderLayoutEditor(canvas.value),V(),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid)},{deep:!0}),watch([()=>selectedComponent$1.value?.value?.layout,()=>SubComponentsRoot$1.value?.value?.layout],()=>{z(),editing$2.value&&(selectedComponent$1.value||SubComponentsRoot$1.value)&&renderLayoutEditor(canvas.value),tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value),V(),emitter.emit("renderPreviewCanvasByUUID",editGlyph.value.uuid)},{deep:!0}),watch([editing,draggingJoint,movingJoint,putAtCoord],()=>{z(),V(),renderGlyphSelector(canvas.value),editing.value}),watch(tool,(j,re)=>{if(saveState("",[StoreType.Tools],OpType.Undo,{tool:re,newRecord:!0}),!!e){switch(z(),tool.value){case"select":selectedComponentUUID$1.value&&renderSelectEditor(canvas.value,10,!0);break;case"glyphDragger":selectedComponentUUID$1.value&&(r&&r(),r=initGlyphDragger(canvas.value),renderGlyphSelector(canvas.value));break}V(),L()}}),watch([background$1,grid,fontRenderStyle],()=>{z(),V()}),watch([orderedListWithItemsForCurrentGlyph,componentsForCurrentGlyph],()=>{if(!editGlyph.value||!e)return;const j=canvas.value;j.width=mapCanvasWidth(width),j.height=mapCanvasHeight(height),j.style.width=`${500*editGlyph.value.view.zoom/100}px`,j.style.height=`${500*editGlyph.value.view.zoom/100}px`,z(),selectedComponentUUID$1.value&&(tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value)),V(),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid)}),watch([points$1,editing$7],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value),editing$7.value&&renderPenEditor(canvas.value)}),watch([points,editing$6],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value),editing$6.value&&renderPolygonEditor(points,canvas.value)}),watch([ellipseX,ellipseY,radiusX,radiusY,editing$4],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value),editing$4.value&&renderEllipseEditor(canvas.value)}),watch([rectX,rectY,rectWidth,rectHeight,editing$5],()=>{z(),tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value),editing$5.value&&renderRectangleEditor(canvas.value)}),watch([selectedComponentUUID$1,componentsForCurrentGlyph,selectedComponent$1],()=>{z(),V(),selectedComponentUUID$1.value&&(tool.value==="select"&&renderSelectEditor(canvas.value,10,!0),tool.value==="pen"&&renderPenEditor(canvas.value))}),watch([onPenEditMode],()=>{r&&r(),onPenEditMode&&tool.value==="select"&&L()}),watch([selectAnchor,selectPenPoint,hoverPenPoint],()=>{tool.value==="select"&&(z(),renderSelectEditor(canvas.value,10,!0))});const z=()=>{const j=editGlyph.value._o?editGlyph.value._o:new CustomGlyph(editGlyph.value);renderGlyph(j,canvas.value,!0,!1,!1)};return(j,re)=>(openBlock(),createElementBlock("section",_hoisted_1$p,[createBaseVNode("main",_hoisted_2$o,[createBaseVNode("div",{class:"edit-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="edit"?"flex":"none"})},[createBaseVNode("canvas",{ref_key:"editCanvas",ref:y,class:normalizeClass({"edit-canvas-panel":!0,"pen-on-edit":unref(tool)==="pen","rectangle-on-edit":unref(tool)==="rectangle","ellipse-on-edit":unref(tool)==="ellipse","polygon-on-edit":unref(tool)==="polygon","rotate-left-top":unref(selectControl$2)==="rotate-left-top","rotate-right-top":unref(selectControl$2)==="rotate-right-top","rotate-left-bottom":unref(selectControl$2)==="rotate-left-bottom","rotate-right-bottom":unref(selectControl$2)==="rotate-right-bottom","scale-left-top":unref(selectControl$2)==="scale-left-top"||unref(selectControl)==="scale-left-top","scale-right-top":unref(selectControl$2)==="scale-right-top"||unref(selectControl)==="scale-right-top","scale-left-bottom":unref(selectControl$2)==="scale-left-bottom"||unref(selectControl)==="scale-left-bottom","scale-right-bottom":unref(selectControl$2)==="scale-right-bottom"||unref(selectControl)==="scale-right-bottom","on-translate-move":unref(tool)==="translateMover"}),style:normalizeStyle({transform:`translate3d(${unref(editGlyph).view.translateX}px, ${unref(editGlyph).view.translateY}px, 0px)`}),width:unref(mapCanvasWidth)(width),height:unref(mapCanvasHeight)(height)},null,14,_hoisted_3$a)],4),createBaseVNode("div",{class:"preview-canvas-wrapper",style:normalizeStyle({display:unref(editPanelDisplay)==="preview"?"flex":"none"})},[createBaseVNode("canvas",{ref_key:"previewCanvas",ref:k,class:"preview-canvas-panel",width:unref(mapCanvasWidth)(width),height:unref(mapCanvasHeight)(height)},null,8,_hoisted_4$7)],4)])]))}}),GlyphEditPanel=_export_sfc(_sfc_main$q,[["__scopeId","data-v-c3d83c2b"]]),_hoisted_1$o={class:"font-edit-pic-wrapper"},_hoisted_2$n={class:"top-bar"},_hoisted_3$9={class:"main"},_hoisted_4$6={class:"canvas-list-outer-wrapper"},_hoisted_5$5={class:"canvas-wrapper"},_hoisted_6$4=["width","height"],_hoisted_7$4={class:"canvas-wrapper"},_hoisted_8$4=["width","height"],_hoisted_9$4={class:"canvas-wrapper"},_hoisted_10$4=["width","height"],_hoisted_11$3={class:"canvas-wrapper"},_hoisted_12$3=["width","height"],_hoisted_13$3={class:"canvas-wrapper"},_hoisted_14$2=["width","height"],_hoisted_15$1={class:"canvas-wrapper"},_hoisted_16$1=["width","height"],_sfc_main$p=defineComponent({__name:"ThumbnailEditPanel",setup(n){const e=ref(null),r=ref(null),g=ref(null),y=ref(null),k=ref(null),$=ref(null),V=["thumbnail","bitmap","contours","curves","preview"],L=()=>{const kt=document.querySelector(".canvas-list-outer-wrapper"),At=kt.offsetWidth,Cn=kt.offsetHeight;listWidth.value=At;const Dt=selectedFile.value.width,On=selectedFile.value.height;document.querySelectorAll(".canvas-wrapper").forEach(Qn=>{Qn.style.width=`${At/2}px`});const An=editCharacterPic.value.width,Mn=editCharacterPic.value.height;let $n=At/2>Dt?Dt:At/2,Ln=$n*On/Dt;Ln>Cn&&(Ln=Cn,$n=Ln*Dt/On);let Tn=At/2>Dt?Dt:At/2,Zn=Tn*Mn/An;Zn>Cn&&(Zn=Cn,Tn=Zn*An/Mn),e.value.style.width=`${$n}px`,e.value.style.height=`${Ln}px`,r.value.style.width=`${$n}px`,r.value.style.height=`${Ln}px`,k.value.style.width=`${$n}px`,k.value.style.height=`${Ln}px`,$.value.style.width=`${$n}px`,$.value.style.height=`${Ln}px`,g.value.width=mapCanvasWidth(An),g.value.height=mapCanvasHeight(Mn),g.value.style.width=`${Tn}px`,g.value.style.height=`${Zn}px`,g.value.height=mapCanvasHeight(Mn),y.value.width=mapCanvasWidth(An),y.value.height=mapCanvasHeight(Mn),y.value.style.width=`${Tn}px`,y.value.style.height=`${Zn}px`},z=()=>{if(step.value===1&&enableLocalBrush.value){ElMessage("");return}previewStatus.value=previewStatus.value<=0?V.length-1:previewStatus.value-1},j=()=>{if(step.value===1&&enableLocalBrush.value){ElMessage("");return}previewStatus.value=previewStatus.value>=V.length-1?0:previewStatus.value+1},re=()=>{const kt=g.value.getContext("2d"),{img:At,width:Cn,height:Dt}=editCharacterPic.value,On=At;kt.drawImage(On,0,0,On.width,On.height,0,0,mapCanvasWidth(Cn),mapCanvasWidth(Dt))},oe=()=>{const kt=y.value.getContext("2d"),{data:At,width:Cn,height:Dt}=bitmap.value;for(let On=0;On<Cn;On++)for(let jt=0;jt<Dt;jt++){const An=(jt*Cn+On)*4,Mn=`rgba(${At[An]}, ${At[An+1]}, ${At[An]+2}, ${At[An+3]})`;kt.fillStyle=Mn,kt.fillRect(mapCanvasX(On),mapCanvasY(jt),mapCanvasWidth(1),mapCanvasHeight(1))}},ae=()=>{const kt=contoursComponents.value.map(At=>{const Cn=clone$1(At);return Cn.value.fillColor="rgba(1, 1, 1, 0)",Cn});clearCanvas(k.value),renderCanvas(kt,k.value)},de=()=>{const kt=curvesComponents.value.map(At=>{const Cn=clone$1(At);return Cn.value.fillColor="rgba(1, 1, 1, 0)",Cn});clearCanvas($.value),renderCanvas(kt,$.value)},ue=()=>{clearCanvas(e.value),renderCanvas(curvesComponents.value,e.value),clearCanvas(r.value),renderCanvas(curvesComponents.value,r.value,{fill:!0,offset:{x:0,y:0},scale:1,forceUpdate:!1})},pe=()=>{ue(),re(),oe(),ae(),de()},he=()=>{re();const At=g.value.getContext("2d");At.strokeStyle="black",At.strokeRect(mapCanvasX(localBrushX.value),mapCanvasY(localBrushY.value),mapCanvasWidth(localBrushSize.value),mapCanvasHeight(localBrushSize.value))};onMounted(()=>{L(),window.addEventListener("resize",L),pe()}),watch([editCharacterPic],()=>{re()}),watch([bitmap],()=>{oe()}),watch([contoursComponents],()=>{ae()}),watch([curvesComponents],()=>{de(),ue()});const Oe=kt=>{const At=g.value,Cn=Number(At.style.width.split("px")[0]),Dt=Number(At.style.height.split("px")[0]),On=editCharacterPic.value.width,jt=editCharacterPic.value.height;localBrushX.value=Math.round(kt.offsetX*On/Cn),localBrushY.value=Math.round(kt.offsetY*jt/Dt);const{thumbnailCanvas:An,thumbnailPixels:Mn,processPixels:$n}=editCharacterPic.value,Ln=An.width,Tn=An.height,Zn=toBlackWhiteBitMap(Mn,{r:localRThreshold.value,g:localGThreshold.value,b:localBThreshold.value},{x:localBrushX.value,y:localBrushY.value,size:localBrushSize.value,width:Ln,height:Tn}),Qn=clone$1($n);for(let Pn=localBrushX.value;Pn<localBrushX.value+localBrushSize.value;Pn++)for(let Wn=localBrushY.value;Wn<localBrushY.value+localBrushSize.value;Wn++){const ur=(Wn*Ln+Pn)*4;Qn[ur]=Zn[ur],Qn[ur+1]=Zn[ur+1],Qn[ur+2]=Zn[ur+2],Qn[ur+3]=Zn[ur+3]}setTimeout(()=>{const Pn=y.value.getContext("2d");for(let Wn=0;Wn<Ln;Wn++)for(let ur=0;ur<Tn;ur++){const hr=(ur*Ln+Wn)*4,Vn=`rgba(${Qn[hr]}, ${Qn[hr+1]}, ${Qn[hr]+2}, ${Qn[hr+3]})`;Pn.fillStyle=Vn,Pn.fillRect(mapCanvasX(Wn),mapCanvasY(ur),mapCanvasWidth(1),mapCanvasHeight(1))}},10),he(),$e&&Ne()},xe=()=>{$e=!1,window.removeEventListener("mouseup",xe)};let $e=!1;const Ne=()=>{$e=!0;const{thumbnailCanvas:kt,thumbnailPixels:At,processPixels:Cn}=editCharacterPic.value,Dt=kt.width,On=kt.height,jt=toBlackWhiteBitMap(At,{r:localRThreshold.value,g:localGThreshold.value,b:localBThreshold.value},{x:localBrushX.value,y:localBrushY.value,size:localBrushSize.value,width:Dt,height:On});for(let An=localBrushX.value;An<localBrushX.value+localBrushSize.value;An++)for(let Mn=localBrushY.value;Mn<localBrushY.value+localBrushSize.value;Mn++){const $n=(Mn*Dt+An)*4;Cn[$n]=jt[$n],Cn[$n+1]=jt[$n+1],Cn[$n+2]=jt[$n+2],Cn[$n+3]=jt[$n+3]}setBitMap({data:Cn,width:Dt,height:On}),window.addEventListener("mouseup",xe)};emitter.on("toggleLocalBrushEdit",kt=>{const At=g.value;kt?(document.addEventListener("mousemove",Oe),At.addEventListener("mousedown",Ne),pe()):(document.removeEventListener("mousemove",Oe),At.removeEventListener("mousedown",Ne),pe())}),onBeforeUnmount(()=>{window.removeEventListener("resize",L)});const Ce=async()=>{const kt=curvesComponents.value;prevEditStatus.value===Status.Edit?(addComponentsForCharacterFile(editCharacterFileUUID.value,kt),emitter.emit("renderPreviewCanvasByUUID",editCharacterFileUUID.value),Fe(),setEditStatus(Status.Edit),await nextTick(),resetEditPic()):prevEditStatus.value===Status.Glyph&&(addComponentsForGlyph(editGlyphUUID.value,kt),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyphUUID.value),Fe(),setEditStatus(Status.Glyph),await nextTick(),resetEditPic())},Fe=()=>{enableLocalBrush.value=!1,rThreshold.value=128,gThreshold.value=128,bThreshold.value=128,emitter.emit("resetEditFontPic",!0)},ze=()=>{resetEditPic(),setEditStatus(Status.Edit)};return(kt,At)=>{const Cn=resolveComponent("el-button"),Dt=resolveComponent("el-button-group"),On=resolveComponent("el-icon");return openBlock(),createElementBlock("div",_hoisted_1$o,[createBaseVNode("header",_hoisted_2$n,[createVNode(Dt,{class:"btn-group"},{default:withCtx(()=>[createVNode(Cn,{class:"btn delete-btn",onClick:ze,size:"small"},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(Cn,{class:"btn reset-btn",onClick:Fe,size:"small"},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(Cn,{type:"primary",class:"btn confitm-btn",onClick:Ce,size:"small"},{default:withCtx(()=>[createTextVNode("")]),_:1})]),_:1})]),createBaseVNode("main",_hoisted_3$9,[createBaseVNode("div",{class:"left-mover",onClick:z},[createVNode(On,null,{default:withCtx(()=>[createVNode(unref(arrow_left_bold_default))]),_:1})]),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",{class:"canvas-list-wrapper",style:normalizeStyle({left:`${-unref(previewStatus)*unref(listWidth)/2}px`})},[createBaseVNode("div",_hoisted_5$5,[createBaseVNode("canvas",{class:"preview canvas",ref_key:"previewCanvas1",ref:e,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_6$4)]),createBaseVNode("div",_hoisted_7$4,[createBaseVNode("canvas",{class:"thumbnail canvas",ref_key:"thumbnailCanvas",ref:g,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_8$4)]),createBaseVNode("div",_hoisted_9$4,[createBaseVNode("canvas",{class:"bitmap canvas",ref_key:"bitmapCanvas",ref:y,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_10$4)]),createBaseVNode("div",_hoisted_11$3,[createBaseVNode("canvas",{class:"contours canvas",ref_key:"contoursCanvas",ref:k,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_12$3)]),createBaseVNode("div",_hoisted_13$3,[createBaseVNode("canvas",{class:"curves canvas",ref_key:"curvesCanvas",ref:$,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_14$2)]),createBaseVNode("div",_hoisted_15$1,[createBaseVNode("canvas",{class:"preview canvas",ref_key:"previewCanvas2",ref:r,width:unref(mapCanvasWidth)(unref(selectedFile).width),height:unref(mapCanvasHeight)(unref(selectedFile).height)},null,8,_hoisted_16$1)])],4)]),createBaseVNode("div",{class:"right-mover",onClick:j},[createVNode(On,null,{default:withCtx(()=>[createVNode(unref(arrow_right_bold_default))]),_:1})])])])}}}),ThumbnailEditPanel=_export_sfc(_sfc_main$p,[["__scopeId","data-v-664af3af"]]),_hoisted_1$n={class:"font-panel"},_hoisted_2$m={class:"font-panel-empty"},_hoisted_3$8={class:"float-part"},_hoisted_4$5={class:"list-switch"},_sfc_main$o=defineComponent({__name:"FontMainPanel",setup(n){const{t:e}=useI18n();return(r,g)=>(openBlock(),createElementBlock("main",_hoisted_1$n,[withDirectives(createBaseVNode("div",_hoisted_2$m,null,512),[[vShow,!unref(selectedFile)]]),withDirectives(createVNode(_sfc_main$x,{class:"character-list"},null,512),[[vShow,unref(selectedFile)]]),withDirectives(createBaseVNode("div",_hoisted_3$8,[withDirectives(createVNode(_sfc_main$v,{class:"stroke-glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).StrokeGlyphList]]),withDirectives(createVNode(_sfc_main$u,{class:"radical-glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).RadicalGlyphList]]),withDirectives(createVNode(_sfc_main$t,{class:"comp-glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).CompGlyphList]]),withDirectives(createVNode(_sfc_main$w,{class:"glyph-list"},null,512),[[vShow,unref(selectedFile)&&unref(editStatus)===unref(Status).GlyphList]]),unref(selectedFile)&&unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(EditPanel,{key:0})):unref(selectedFile)&&unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(GlyphEditPanel,{key:1})):unref(selectedFile)&&unref(editStatus)===unref(Status).Pic?(openBlock(),createBlock(ThumbnailEditPanel,{key:2})):createCommentVNode("",!0)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(selectedFile)]]),withDirectives(createBaseVNode("div",_hoisted_4$5,[createBaseVNode("span",{class:normalizeClass(["character-list",{selected:unref(editStatus)===unref(Status).CharacterList}]),onClick:g[0]||(g[0]=y=>editStatus.value=unref(Status).CharacterList)},toDisplayString$1(unref(e)("programming.character")),3),createBaseVNode("span",{class:normalizeClass(["stroke-glyph-list",{selected:unref(editStatus)===unref(Status).StrokeGlyphList}]),onClick:g[1]||(g[1]=y=>editStatus.value=unref(Status).StrokeGlyphList)},toDisplayString$1(unref(e)("programming.stroke")),3),createBaseVNode("span",{class:normalizeClass(["radical-glyph-list",{selected:unref(editStatus)===unref(Status).RadicalGlyphList}]),onClick:g[2]||(g[2]=y=>editStatus.value=unref(Status).RadicalGlyphList)},toDisplayString$1(unref(e)("programming.radical")),3),createBaseVNode("span",{class:normalizeClass(["comp-glyph-list",{selected:unref(editStatus)===unref(Status).CompGlyphList}]),onClick:g[3]||(g[3]=y=>editStatus.value=unref(Status).CompGlyphList)},toDisplayString$1(unref(e)("programming.comp")),3),createBaseVNode("span",{class:normalizeClass(["glyph-list",{selected:unref(editStatus)===unref(Status).GlyphList}]),onClick:g[4]||(g[4]=y=>editStatus.value=unref(Status).GlyphList)},toDisplayString$1(unref(e)("programming.glyph_comp")),3)],512),[[vShow,unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).CompGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).CharacterList]])]))}}),FontPanel=_export_sfc(_sfc_main$o,[["__scopeId","data-v-5a454931"]]),_hoisted_1$m={class:"form-wrapper"},_hoisted_2$l={class:"dialog-footer"},_sfc_main$n=defineComponent({__name:"AddTextDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setAddTextDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}if(g.value&&g.value.length>1){ElMessage("");return}g.value.split("").map(V=>{const L={uuid:genUUID(),text:V,unicode:toUnicode(V),components:[]},z=genUUID(),j={uuid:z,type:"text",character:L,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},info:{gridSettings:{dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},layout:"",layoutTree:[]},script:`function script_${z.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`};addCharacterForCurrentFile(j),addCharacterTemplate(generateCharacterTemplate(j))}),g.value="",setAddTextDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(addTextDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(addTextDialogVisible)?addTextDialogVisible.value=ae:null),title:unref(e)("dialogs.addTextDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$l,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addTextDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addTextDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$m,[createVNode(j,{label:unref(e)("dialogs.addTextDialog.title")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$l={class:"form-wrapper"},_hoisted_2$k={class:"dialog-footer"},_sfc_main$m=defineComponent({__name:"editGlyphDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setEditGlyphDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}modifyGlyph(editedGlyphUUID.value,{name:g.value}),emitter.emit("updateGlyphInfoPreviewCanvasByUUID",editedGlyphUUID.value),g.value="",setEditGlyphDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(editGlyphDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(editGlyphDialogVisible)?editGlyphDialogVisible.value=ae:null),title:unref(e)("dialogs.editGlyphDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$k,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.editGlyphDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyGlyphDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$l,[createVNode(j,{label:unref(e)("dialogs.editGlyphDialog.glyphName")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$k={class:"form-wrapper"},_hoisted_2$j={class:"dialog-footer"},_sfc_main$l=defineComponent({__name:"copyGlyphDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setCopyGlyphDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}let V=clone$1(getGlyphByUUID(copiedGlyphUUID.value));const L=V.uuid,z=genUUID();V.uuid=z,V.name=g,V.script=V.script.replaceAll(L.replaceAll("-","_"),z.replaceAll("-","_")),addGlyph(V,editStatus.value),addGlyphTemplate(V,editStatus.value),emitter.emit("renderPreviewCanvasByUUID",V.uuid),g.value="",setCopyGlyphDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(copyGlyphDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(copyGlyphDialogVisible)?copyGlyphDialogVisible.value=ae:null),title:unref(e)("dialogs.copyGlyphDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$j,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyGlyphDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyGlyphDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$k,[createVNode(j,{label:unref(e)("dialogs.copyGlyphDialog.glyphName")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$j={class:"form-wrapper"},_hoisted_2$i={class:"dialog-footer"},_sfc_main$k=defineComponent({__name:"editCharacterDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setEditCharacterDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}if(g.value&&g.value.length>1){ElMessage("");return}const V={uuid:genUUID(),text:g.value,unicode:toUnicode(g.value),components:[]};modifyCharacterFile(editedCharacterUUID.value,{character:V}),emitter.emit("updateCharacterInfoPreviewCanvasByUUID",editedCharacterUUID.value),g.value="",setEditCharacterDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(editCharacterDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(editCharacterDialogVisible)?editCharacterDialogVisible.value=ae:null),title:unref(e)("dialogs.editCharacterDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$i,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.editCharacterDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.editCharacterDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$j,[createVNode(j,{label:unref(e)("dialogs.editCharacterDialog.title")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$i={class:"form-wrapper"},_hoisted_2$h={class:"dialog-footer"},_sfc_main$j=defineComponent({__name:"copyCharacterDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setCopyCharacterDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}if(g.value&&g.value.length>1){ElMessage("");return}let V=null;for(let L=0;L<selectedFile.value.characterList.length;L++)if(selectedFile.value.characterList[L].uuid===copiedCharacterUUID.value){V=clone$1(selectedFile.value.characterList[L]);const z=V.uuid,j=genUUID();V.uuid=j,V.script=V.script.replaceAll(z.replaceAll("-","_"),j.replaceAll("-","_"));const re={uuid:genUUID(),text:g.value,unicode:toUnicode(g.value),components:[]};V.character=re;break}addCharacterForCurrentFile(V),addCharacterTemplate(generateCharacterTemplate(V)),emitter.emit("renderPreviewCanvasByUUID",V.uuid),g.value="",setCopyCharacterDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(copyCharacterDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(copyCharacterDialogVisible)?copyCharacterDialogVisible.value=ae:null),title:unref(e)("dialogs.copyCharacterDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$h,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyCharacterDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.copyCharacterDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$i,[createVNode(j,{label:unref(e)("dialogs.copyCharacterDialog.title")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$h={class:"form-wrapper"},_hoisted_2$g={class:"dialog-footer"},_sfc_main$i=defineComponent({__name:"AddGlyphDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setAddGlyphDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}const V=genUUID(),L={uuid:V,type:"system",name:g.value,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},parameters:new ParametersMap([]),joints:[],script:`function script_${V.replaceAll("-","_")} (glyph, constants, FP) {
	//Todo something
}`};addGlyph(L,editStatus.value),addGlyphTemplate(L,editStatus.value),g.value="",setAddGlyphDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(addGlyphDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(addGlyphDialogVisible)?addGlyphDialogVisible.value=ae:null),title:unref(e)("dialogs.addGlyphDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$g,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addGlyphDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addGlyphDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[createVNode(j,{label:unref(e)("dialogs.addGlyphDialog.glyphName")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$g={class:"form-wrapper"},_hoisted_2$f={class:"dialog-footer"},_sfc_main$h=defineComponent({__name:"AddIconDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(""),y=()=>{setAddIconDialogVisible(!1)},k=()=>{if(!g.value){ElMessage("");return}const V=selectedFile.value.iconsCount,L={uuid:genUUID(),text:g.value,unicode:toIconUnicode(V),components:[]},z=genUUID(),j={uuid:z,type:"icon",character:L,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},info:{gridSettings:{dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},layout:"",layoutTree:[]},script:`function script_${z.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`};g.value="",selectedFile.value.iconsCount++,addCharacterForCurrentFile(j),addCharacterTemplate(generateCharacterTemplate(j)),setAddIconDialogVisible(!1)},$=V=>{V.preventDefault(),k()};return(V,L)=>{const z=resolveComponent("el-input"),j=resolveComponent("el-form-item"),re=resolveComponent("el-button"),oe=resolveComponent("el-dialog");return openBlock(),createBlock(oe,{modelValue:unref(addIconDialogVisible),"onUpdate:modelValue":L[1]||(L[1]=ae=>isRef(addIconDialogVisible)?addIconDialogVisible.value=ae:null),title:unref(e)("dialogs.addIconDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$f,[createVNode(re,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addIconDialog.cancel")),1)]),_:1}),createVNode(re,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.addIconDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$g,[createVNode(j,{label:unref(e)("dialogs.addIconDialog.iconName")},{default:withCtx(()=>[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>g.value=ae),onKeyup:withKeys($,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},8,["label"])])]),_:1},8,["modelValue","title"])}}}),_hoisted_1$f={class:"dialog-content"},_hoisted_2$e={class:"glyph-header"},_hoisted_3$7={class:"list-switch"},_hoisted_4$4={class:"dialog-footer"},_hoisted_5$4={class:"selected-glyphs-wrapper"},_sfc_main$g=defineComponent({__name:"GlyphComponentsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref(Status.StrokeGlyphList),y=new Map;onMounted(async()=>{await nextTick()}),emitter.on("renderGlyphSelection",()=>{$(Status.GlyphList)}),emitter.on("renderStrokeGlyphSelection",()=>{$(Status.StrokeGlyphList)}),emitter.on("renderRadicalGlyphSelection",()=>{$(Status.RadicalGlyphList)}),emitter.on("renderCompGlyphSelection",()=>{$(Status.CompGlyphList)}),emitter.on("renderGlyphSelectionByUUID",oe=>{y.get(oe)&&clearTimeout(y.get(oe));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.GlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderStrokeGlyphSelectionByUUID",oe=>{y.get(oe)&&clearTimeout(y.get(oe));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.StrokeGlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderRadicalGlyphSelectionByUUID",oe=>{y.get(oe)&&clearTimeout(y.get(oe));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.RadicalGlyphList)},1e3);y.set(oe,ae)}),emitter.on("renderCompGlyphSelectionByUUID",oe=>{y.get(oe)&&clearTimeout(y.get(oe));const ae=setTimeout(async()=>{await nextTick(),k(oe,Status.CompGlyphList)},1e3);y.set(oe,ae)});const k=(oe,ae)=>{let de=getGlyphByUUID(oe);executeScript(de),de?.components?.map(Oe=>{Oe.type==="glyph"&&executeScript(Oe.value)});let ue=null;ae===Status.GlyphList?ue=document.getElementById("glyph-components-wrapper"):ae===Status.StrokeGlyphList?ue=document.getElementById("stroke-glyph-components-wrapper"):ae===Status.RadicalGlyphList?ue=document.getElementById("radical-glyph-components-wrapper"):ae===Status.CompGlyphList&&(ue=document.getElementById("comp-glyph-components-wrapper"));const pe=ue.querySelector(`#preview-canvas-${de.uuid}`);if(!pe)return;const he=componentsToContours(de._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(pe,he)},$=oe=>{const ae=de=>{de._o||(executeScript(de),de?.components?.map(Oe=>{Oe.type==="glyph"&&executeScript(Oe.value)}));let ue=null;oe===Status.GlyphList?ue=document.getElementById("glyph-components-wrapper"):oe===Status.StrokeGlyphList?ue=document.getElementById("stroke-glyph-components-wrapper"):oe===Status.RadicalGlyphList?ue=document.getElementById("radical-glyph-components-wrapper"):oe===Status.CompGlyphList&&(ue=document.getElementById("comp-glyph-components-wrapper"));const pe=ue.querySelector(`#preview-canvas-${de.uuid}`);if(!pe)return;const he=componentsToContours(de._o.components,{unitsPerEm:1e3,descender:-200,advanceWidth:1e3},{x:0,y:0},!0,!0);renderPreview2(pe,he),loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1))};if(oe===Status.GlyphList&&glyphs.value&&glyphs.value.length){let de=0;const ue=()=>{ae(glyphs.value[de]),de++,de<glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}else if(oe===Status.StrokeGlyphList&&stroke_glyphs.value&&stroke_glyphs.value.length){let de=0;const ue=()=>{ae(stroke_glyphs.value[de]),de++,de<stroke_glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}else if(oe===Status.RadicalGlyphList&&radical_glyphs.value&&radical_glyphs.value.length){let de=0;const ue=()=>{ae(radical_glyphs.value[de]),de++,de<radical_glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}else if(oe===Status.CompGlyphList&&comp_glyphs.value&&comp_glyphs.value.length){let de=0;const ue=()=>{ae(comp_glyphs.value[de]),de++,de<comp_glyphs.value.length&&requestAnimationFrame(ue)};requestAnimationFrame(ue)}},V=()=>{glyphComponentsDialogVisible2.value=!1},L=()=>{setGlyphComponentsDialogVisible(!0)},z=oe=>{selected_glyphs.value.map((ae,de)=>{if(ae.uuid===oe){selected_glyphs.value.splice(de,1);return}})},j=()=>{selected_glyphs.value.map(oe=>{re(oe)}),selected_glyphs.value=[],glyphComponentsDialogVisible2.value=!1},re=oe=>{const ae=clone$1(oe);ae.parent=editStatus.value===Status.Edit?editCharacterFile.value:editGlyph.value;const de={uuid:genUUID(),type:"glyph",name:oe.name+Date.now().toString().slice(9),lock:!1,visible:!0,value:ae,ox:selectedFile.value.width/2-1e3/2,oy:selectedFile.value.height/2-1e3/2,usedInCharacter:!0};executeScript(de.value),linkComponentsForJoints(de),editStatus.value===Status.Edit?addComponentForCurrentCharacterFile(de):editStatus.value===Status.Glyph&&addComponentForCurrentGlyph(de),tool.value!=="glyphDragger"&&setTool("glyphDragger")};return(oe,ae)=>{const de=resolveComponent("el-scrollbar"),ue=resolveComponent("el-switch"),pe=resolveComponent("el-button"),he=resolveComponent("el-dialog");return openBlock(),createElementBlock("div",{style:normalizeStyle({zIndex:unref(glyphComponentsDialogVisible2)?2e3:-999}),ref:"dialogContainer"},[createVNode(he,{modelValue:unref(glyphComponentsDialogVisible),"onUpdate:modelValue":ae[5]||(ae[5]=Oe=>isRef(glyphComponentsDialogVisible)?glyphComponentsDialogVisible.value=Oe:null),title:unref(e)("dialogs.glyphComponentDialog.title"),class:"glyph-components-dialog",onClose:L,width:"800px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_4$4,[createVNode(ue,{modelValue:unref(multi_glyph_selection),"onUpdate:modelValue":ae[4]||(ae[4]=Oe=>isRef(multi_glyph_selection)?multi_glyph_selection.value=Oe:null),"active-text":"","inactive-text":""},null,8,["modelValue"]),createBaseVNode("div",_hoisted_5$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(selected_glyphs),Oe=>(openBlock(),createBlock(pe,{onClick:xe=>z(Oe.uuid)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(Oe.name),1)]),_:2},1032,["onClick"]))),256))]),createVNode(pe,{disabled:!unref(glyphComponentsDialogVisible2),onClick:V},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.glyphComponentDialog.cancel")),1)]),_:1},8,["disabled"]),createVNode(pe,{disabled:!unref(glyphComponentsDialogVisible2),type:"primary",onClick:j},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.glyphComponentDialog.confirm")),1)]),_:1},8,["disabled"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$7,[createBaseVNode("span",{class:normalizeClass(["stroke-glyph-list",{selected:g.value===unref(Status).StrokeGlyphList}]),onClick:ae[0]||(ae[0]=Oe=>g.value=unref(Status).StrokeGlyphList)},toDisplayString$1(unref(r)("programming.stroke")),3),createBaseVNode("span",{class:normalizeClass(["radical-glyph-list",{selected:g.value===unref(Status).RadicalGlyphList}]),onClick:ae[1]||(ae[1]=Oe=>g.value=unref(Status).RadicalGlyphList)},toDisplayString$1(unref(r)("programming.radical")),3),createBaseVNode("span",{class:normalizeClass(["comp-glyph-list",{selected:g.value===unref(Status).CompGlyphList}]),onClick:ae[2]||(ae[2]=Oe=>g.value=unref(Status).CompGlyphList)},toDisplayString$1(unref(r)("programming.comp")),3),createBaseVNode("span",{class:normalizeClass(["glyph-list",{selected:g.value===unref(Status).GlyphList}]),onClick:ae[3]||(ae[3]=Oe=>g.value=unref(Status).GlyphList)},toDisplayString$1(unref(r)("programming.glyph_comp")),3)])]),createVNode(de,{height:"300px"},{default:withCtx(()=>[createBaseVNode("main",{class:"list",id:"glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).GlyphList?2999:-1e3})},null,4),createBaseVNode("main",{class:"list",id:"stroke-glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).StrokeGlyphList?2999:-1e3})},null,4),createBaseVNode("main",{class:"list",id:"radical-glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).RadicalGlyphList?2999:-1e3})},null,4),createBaseVNode("main",{class:"list",id:"comp-glyph-components-wrapper",style:normalizeStyle({zIndex:g.value===unref(Status).CompGlyphList?2999:-1e3})},null,4)]),_:1})])]),_:1},8,["modelValue","title"])],4)}}}),_hoisted_1$e={class:"dialog-footer"},_sfc_main$f=defineComponent({__name:"FontSettingsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref("untitled"),y=ref(1e3),k=ref(800),$=ref(-200);onMounted(()=>{g.value=selectedFile.value.name,y.value=selectedFile.value.fontSettings.unitsPerEm,k.value=selectedFile.value.fontSettings.ascender,$.value=selectedFile.value.fontSettings.descender}),watch(selectedFile,()=>{selectedFile.value&&(g.value=selectedFile.value.name,y.value=selectedFile.value.fontSettings.unitsPerEm,k.value=selectedFile.value.fontSettings.ascender,$.value=selectedFile.value.fontSettings.descender)},{deep:!0});const V=()=>{updateFontSettings({name:g.value,unitsPerEm:y.value,ascender:k.value,descender:$.value}),setFontSettingsDialogVisible(!1)},L=()=>{setFontSettingsDialogVisible(!1)},z=()=>{$.value=k.value-y.value},j=()=>{k.value=y.value+$.value};return(re,oe)=>{const ae=resolveComponent("el-input"),de=resolveComponent("el-form-item"),ue=resolveComponent("el-input-number"),pe=resolveComponent("el-form"),he=resolveComponent("el-button"),Oe=resolveComponent("el-dialog");return openBlock(),createBlock(Oe,{"model-value":unref(fontSettingsDialogVisible),class:"font-settings-dialog",title:unref(e)("dialogs.fontSettingsDialog.title"),width:"320px","before-close":L},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_1$e,[createVNode(he,{onClick:oe[4]||(oe[4]=xe=>unref(setFontSettingsDialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.cancel")),1)]),_:1}),createVNode(he,{type:"primary",onClick:oe[5]||(oe[5]=()=>V())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.fontSettingsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createVNode(pe,{class:"create-file-form","label-width":"80px"},{default:withCtx(()=>[createVNode(de,{label:unref(e)("dialogs.fontSettingsDialog.fontName")},{default:withCtx(()=>[createVNode(ae,{modelValue:g.value,"onUpdate:modelValue":oe[0]||(oe[0]=xe=>g.value=xe)},null,8,["modelValue"])]),_:1},8,["label"]),createVNode(de,{label:"unitsPerEm"},{default:withCtx(()=>[createVNode(ue,{modelValue:y.value,"onUpdate:modelValue":oe[1]||(oe[1]=xe=>y.value=xe),precision:0},null,8,["modelValue"])]),_:1}),createVNode(de,{label:"ascender"},{default:withCtx(()=>[createVNode(ue,{modelValue:k.value,"onUpdate:modelValue":oe[2]||(oe[2]=xe=>k.value=xe),precision:0,onChange:z},null,8,["modelValue"])]),_:1}),createVNode(de,{label:"descender"},{default:withCtx(()=>[createVNode(ue,{modelValue:$.value,"onUpdate:modelValue":oe[3]||(oe[3]=xe=>$.value=xe),precision:0,onChange:j},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value","title"])}}}),_hoisted_1$d={class:"settings-panel"},_hoisted_2$d={class:"background-style-wrap"},_hoisted_3$6={class:"title"},_hoisted_4$3={class:"form-item"},_hoisted_5$3={class:"form-label"},_hoisted_6$3={class:"grid-style-wrap"},_hoisted_7$3={class:"title"},_hoisted_8$3={class:"form-item"},_hoisted_9$3={class:"form-label"},_hoisted_10$3={class:"form-item"},_hoisted_11$2={class:"form-label"},_hoisted_12$2={class:"font-render-style-wrap"},_hoisted_13$2={class:"title"},_hoisted_14$1={class:"form-item"},_hoisted_15={class:"form-label"},_hoisted_16={class:"dialog-footer"},_sfc_main$e=defineComponent({__name:"PreferenceSettingsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{switch(V.value){case"none":setGridType(GridType.None);break;case"mesh":setGridType(GridType.Mesh);break;case"mi":setGridType(GridType.Mi);break;case"layout":setGridType(GridType.LayoutGrid);break}switch(k.value){case"color":setBackgroundType(BackgroundType.Color);break;case"transparent":setBackgroundType(BackgroundType.Transparent);break}$.value&&setBackgroundColor($.value),L.value&&V.value==="mesh"&&setGridPrecision(L.value),setPreferenceSettingsDialogVisible(!1)},y=()=>{setPreferenceSettingsDialogVisible(!1)},k=ref("transparent"),$=ref("#FFFFFF"),V=ref("none"),L=ref(10);return(z,j)=>{const re=resolveComponent("el-radio"),oe=resolveComponent("el-color-picker"),ae=resolveComponent("el-radio-group"),de=resolveComponent("el-form"),ue=resolveComponent("el-input-number"),pe=resolveComponent("el-button"),he=resolveComponent("el-dialog");return openBlock(),createBlock(he,{"model-value":unref(preferenceSettingsDialogVisible),class:"preference-settings-dialog",title:unref(e)("dialogs.preferenceDialog.title"),width:"360px","before-close":y},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_16,[createVNode(pe,{onClick:j[5]||(j[5]=Oe=>unref(setPreferenceSettingsDialogVisible)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("dialogs.preferenceDialog.cancel")),1)]),_:1}),createVNode(pe,{type:"primary",onClick:j[6]||(j[6]=()=>g())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("dialogs.preferenceDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$6,toDisplayString$1(unref(r)("panels.settingsPanel.background.background")),1),createVNode(de,{class:"background-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$3,toDisplayString$1(unref(r)("panels.settingsPanel.background.style")),1),createVNode(ae,{modelValue:k.value,"onUpdate:modelValue":j[1]||(j[1]=Oe=>k.value=Oe)},{default:withCtx(()=>[createVNode(re,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.background.color")),1)]),_:1}),k.value==="color"?(openBlock(),createBlock(oe,{key:0,class:"color-picker",style:{marginLeft:"-20px",marginRight:"20px"},modelValue:$.value,"onUpdate:modelValue":j[0]||(j[0]=Oe=>$.value=Oe),id:"backgroundColor"},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(re,{label:"transparent"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.background.transparent")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$3,toDisplayString$1(unref(r)("panels.settingsPanel.mesh.mesh")),1),createVNode(de,{class:"grid-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_8$3,[createBaseVNode("div",_hoisted_9$3,toDisplayString$1(unref(r)("panels.settingsPanel.mesh.style")),1),createVNode(ae,{modelValue:V.value,"onUpdate:modelValue":j[2]||(j[2]=Oe=>V.value=Oe),id:"gridStyle"},{default:withCtx(()=>[createVNode(re,{label:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.none")),1)]),_:1}),createVNode(re,{label:"mesh"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.mesh")),1)]),_:1}),createVNode(re,{label:"mi"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.mi")),1)]),_:1}),createVNode(re,{label:"layout"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.mesh.layout")),1)]),_:1})]),_:1},8,["modelValue"])]),withDirectives(createBaseVNode("div",_hoisted_10$3,[createBaseVNode("div",_hoisted_11$2,toDisplayString$1(unref(r)("panels.settingsPanel.mesh.precision")),1),createVNode(ue,{modelValue:L.value,"onUpdate:modelValue":j[3]||(j[3]=Oe=>L.value=Oe),min:10,max:50},null,8,["modelValue"])],512),[[vShow,V.value==="mesh"]])]),_:1})]),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("div",_hoisted_13$2,toDisplayString$1(unref(r)("panels.settingsPanel.render.render")),1),createVNode(de,{class:"font-render-form","label-width":"80px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$1,[createBaseVNode("div",_hoisted_15,toDisplayString$1(unref(r)("panels.settingsPanel.render.style")),1),createVNode(ae,{modelValue:unref(fontRenderStyle),"onUpdate:modelValue":j[4]||(j[4]=Oe=>isRef(fontRenderStyle)?fontRenderStyle.value=Oe:null),id:"renderStyle"},{default:withCtx(()=>[createVNode(re,{label:"contour"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.render.contour")),1)]),_:1}),createVNode(re,{label:"color"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("panels.settingsPanel.render.color")),1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})])])]),_:1},8,["model-value","title"])}}}),_hoisted_1$c={class:"form-wrapper"},_hoisted_2$c={class:"dialog-footer"},_sfc_main$d=defineComponent({__name:"SetAsGlobalParamDialog",setup(n){useI18n();const e=ref(""),r=()=>{setSetAsGlobalParamDialogVisible(!1)},g=()=>{if(selectedParam.value){const y=clone$1(selectedParam.value);if(y.uuid=genUUID(),y.ratio="",y.ratioed=!1,y.name=e.value,constants.value.push(y),constantsMap.update(constants.value),selectedParamType.value==="glyph_components"){for(let k=0;k<selectedComponent$1.value.value.parameters.parameters.length;k++)if(selectedComponent$1.value.value.parameters.parameters[k].uuid===selectedParam.value.uuid){selectedComponent$1.value.value.parameters.parameters[k].value=y.uuid,selectedComponent$1.value.value.parameters.parameters[k].type=ParameterType.Constant,selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[k].name]&&delete selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[k].name];const $=getGlyphType(editGlyphUUID.value);constantGlyphMap.get(y.uuid).push({constantType:ConstantType.Component,glyphType:convertGlyphType($),parameterUUID:selectedParam.value.uuid,parentUUID:editGlyphUUID.value,glyphUUID:selectedComponent$1.value.uuid})}}else if(selectedParamType.value==="character_components")for(let k=0;k<selectedComponent.value.value.parameters.parameters.length;k++)selectedComponent.value.value.parameters.parameters[k].uuid===selectedParam.value.uuid&&(selectedComponent.value.value.parameters.parameters[k].value=y.uuid,selectedComponent.value.value.parameters.parameters[k].type=ParameterType.Constant,selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[k].name]&&delete selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[k].name],constantGlyphMap.get(y.uuid).push({constantType:ConstantType.Component,glyphType:GlyphType.Char,parameterUUID:selectedParam.value.uuid,parentUUID:editCharacterFileUUID.value,glyphUUID:selectedComponent.value.uuid}));else if(selectedParamType.value==="glyph_params"){for(let k=0;k<editGlyph.value.parameters.parameters.length;k++)if(editGlyph.value.parameters.parameters[k].uuid===selectedParam.value.uuid){editGlyph.value.parameters.parameters[k].value=y.uuid,editGlyph.value.parameters.parameters[k].type=ParameterType.Constant,editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[k].name]&&delete editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[k].name];const $=getGlyphType(editGlyphUUID.value);constantGlyphMap.get(y.uuid).push({constantType:ConstantType.Parameter,glyphType:convertGlyphType($),parameterUUID:selectedParam.value.uuid,glyphUUID:editGlyphUUID.value})}}}e.value="",selectedParam.value=null,setSetAsGlobalParamDialogVisible(!1)};return(y,k)=>{const $=resolveComponent("el-input"),V=resolveComponent("el-form-item"),L=resolveComponent("el-form"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(setAsGlobalParamDialogVisible),"onUpdate:modelValue":k[1]||(k[1]=re=>isRef(setAsGlobalParamDialogVisible)?setAsGlobalParamDialogVisible.value=re:null),title:"",width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$c,[createVNode(z,{onClick:r},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(z,{type:"primary",onClick:g},{default:withCtx(()=>[createTextVNode("  ")]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[createVNode(L,{"label-width":"80px"},{default:withCtx(()=>[createVNode(V,{label:""},{default:withCtx(()=>[createVNode($,{modelValue:e.value,"onUpdate:modelValue":k[0]||(k[0]=re=>e.value=re)},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}}),_hoisted_1$b={class:"form-wrapper"},_hoisted_2$b={class:"dialog-footer"},_sfc_main$c=defineComponent({__name:"SelectGlobalParamDialog",setup(n){useI18n();const e=ref(""),r=()=>{setSelectGlobalParamDialogVisible(!1)},g=()=>{if(e.value&&selectedParam.value){if(selectedParamType.value==="glyph_components")for(let y=0;y<selectedComponent$1.value.value.parameters.parameters.length;y++){if(selectedComponent$1.value.value.parameters.parameters[y].uuid===selectedParam.value.uuid){selectedComponent$1.value.value.parameters.parameters[y].value=e.value,selectedComponent$1.value.value.parameters.parameters[y].type=ParameterType.Constant,selectedComponent$1.value.value.parameters.parameters[y].ratio="",selectedComponent$1.value.value.parameters.parameters[y].ratioed=!1,selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[y].name]&&delete selectedComponent$1.value.value.system_script[selectedComponent$1.value.value.parameters.parameters[y].name];const k=getGlyphType(editGlyphUUID.value);constantGlyphMap.get(e.value)||constantGlyphMap.set(e.value,[]),constantGlyphMap.get(e.value).push({constantType:ConstantType.Component,glyphType:convertGlyphType(k),parameterUUID:selectedParam.value.uuid,parentUUID:editGlyphUUID.value,glyphUUID:selectedComponent$1.value.uuid})}executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")}else if(selectedParamType.value==="character_components")for(let y=0;y<selectedComponent.value.value.parameters.parameters.length;y++)selectedComponent.value.value.parameters.parameters[y].uuid===selectedParam.value.uuid&&(selectedComponent.value.value.parameters.parameters[y].value=e.value,selectedComponent.value.value.parameters.parameters[y].type=ParameterType.Constant,selectedComponent.value.value.parameters.parameters[y].ratio="",selectedComponent.value.value.parameters.parameters[y].ratioed=!1,selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[y].name]&&delete selectedComponent.value.value.system_script[selectedComponent.value.value.parameters.parameters[y].name],constantGlyphMap.get(e.value)||constantGlyphMap.set(e.value,[]),constantGlyphMap.get(e.value).push({constantType:ConstantType.Component,glyphType:GlyphType.Char,parameterUUID:selectedParam.value.uuid,parentUUID:editCharacterFileUUID.value,glyphUUID:selectedComponent.value.uuid}),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph"));else if(selectedParamType.value==="glyph_params"){for(let y=0;y<editGlyph.value.parameters.parameters.length;y++)if(editGlyph.value.parameters.parameters[y].uuid===selectedParam.value.uuid){editGlyph.value.parameters.parameters[y].value=e.value,editGlyph.value.parameters.parameters[y].type=ParameterType.Constant,editGlyph.value.parameters.parameters[y].ratio="",editGlyph.value.parameters.parameters[y].ratioed=!1,editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[y].name]&&delete editGlyph.value.value.system_script[editGlyph.value.value.parameters.parameters[y].name];const k=getGlyphType(editGlyphUUID.value);constantGlyphMap.get(e.value)||constantGlyphMap.set(e.value,[]),constantGlyphMap.get(e.value).push({constantType:ConstantType.Parameter,glyphType:convertGlyphType(k),parameterUUID:selectedParam.value.uuid,glyphUUID:editGlyphUUID.value}),executeScript(editGlyph.value),emitter.emit("renderGlyphPreviewCanvasByUUID",editGlyph.value.uuid),emitter.emit("renderGlyph")}}}e.value="",setSelectGlobalParamDialogVisible(!1)};return(y,k)=>{const $=resolveComponent("el-option"),V=resolveComponent("el-select"),L=resolveComponent("el-form-item"),z=resolveComponent("el-form"),j=resolveComponent("el-button"),re=resolveComponent("el-dialog");return openBlock(),createBlock(re,{modelValue:unref(selectGlobalParamDialogVisible),"onUpdate:modelValue":k[1]||(k[1]=oe=>isRef(selectGlobalParamDialogVisible)?selectGlobalParamDialogVisible.value=oe:null),title:"",width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$b,[createVNode(j,{onClick:r},{default:withCtx(()=>[createTextVNode("")]),_:1}),createVNode(j,{type:"primary",onClick:g},{default:withCtx(()=>[createTextVNode("  ")]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[createVNode(z,{"label-width":"80px"},{default:withCtx(()=>[createVNode(L,{label:""},{default:withCtx(()=>[createVNode(V,{modelValue:e.value,"onUpdate:modelValue":k[0]||(k[0]=oe=>e.value=oe),class:"parameter-const-select"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(constants),oe=>(openBlock(),createBlock($,{key:oe.uuid,label:oe.name,value:oe.uuid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}}),_hoisted_1$a={class:"form-wrapper"},_hoisted_2$a={class:"dialog-footer"},_sfc_main$b=defineComponent({__name:"TipsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{tips.value="",setTipsDialogVisible(!1)},y=()=>{tips.value="",setTipsDialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-button"),L=resolveComponent("el-dialog");return openBlock(),createBlock(L,{modelValue:unref(tipsDialogVisible),"onUpdate:modelValue":$[0]||($[0]=z=>isRef(tipsDialogVisible)?tipsDialogVisible.value=z:null),title:unref(e)("dialogs.tipsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$a,[createVNode(V,{onClick:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.cancel")),1)]),_:1}),createVNode(V,{type:"primary",onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,toDisplayString$1(unref(tips)),1)]),_:1},8,["modelValue","title"])}}}),tipsDialog=_export_sfc(_sfc_main$b,[["__scopeId","data-v-dd6e886b"]]),_hoisted_1$9={class:"form-wrapper"},_hoisted_2$9={class:"dialog-footer"},_sfc_main$a=defineComponent({__name:"CloseFileTipDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{setCloseFileTipDialogVisible(!1)},y=()=>{removeFile(files.value[0].uuid),clearCharacterRenderList(),clearGlyphRenderList(Status.GlyphList),clearGlyphRenderList(Status.StrokeGlyphList),clearGlyphRenderList(Status.RadicalGlyphList),clearGlyphRenderList(Status.CompGlyphList),clearSelectionGlyphRenderList(Status.GlyphList),clearSelectionGlyphRenderList(Status.StrokeGlyphList),clearSelectionGlyphRenderList(Status.RadicalGlyphList),clearSelectionGlyphRenderList(Status.CompGlyphList),glyphs.value=[],stroke_glyphs.value=[],radical_glyphs.value=[],comp_glyphs.value=[],setCloseFileTipDialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-button"),L=resolveComponent("el-dialog");return openBlock(),createBlock(L,{modelValue:unref(closeFileTipDialogVisible),"onUpdate:modelValue":$[0]||($[0]=z=>isRef(closeFileTipDialogVisible)?closeFileTipDialogVisible.value=z:null),title:unref(e)("dialogs.tipsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$9,[createVNode(V,{onClick:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.cancel")),1)]),_:1}),createVNode(V,{type:"primary",onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,toDisplayString$1(unref(r)("dialogs.tipsDialog.tip1")),1)]),_:1},8,["modelValue","title"])}}}),closeFileTipDialog=_export_sfc(_sfc_main$a,[["__scopeId","data-v-77cfe5e8"]]),_hoisted_1$8={class:"form-wrapper"},_hoisted_2$8={class:"dialog-footer"},_sfc_main$9=defineComponent({__name:"SaveFileTipDialog",setup(n){const{tm:e,t:r}=useI18n(),g=()=>{setSaveFileTipDialogVisible(!1)},y=()=>{saveFile(),setSaveFileTipDialogVisible(!1)};return(k,$)=>{const V=resolveComponent("el-button"),L=resolveComponent("el-dialog");return openBlock(),createBlock(L,{modelValue:unref(saveFileTipDialogVisible),"onUpdate:modelValue":$[0]||($[0]=z=>isRef(saveFileTipDialogVisible)?saveFileTipDialogVisible.value=z:null),title:unref(e)("dialogs.tipsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$8,[createVNode(V,{onClick:g},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.cancel")),1)]),_:1}),createVNode(V,{type:"primary",onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.tipsDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$8,toDisplayString$1(unref(r)("dialogs.tipsDialog.tip2")),1)]),_:1},8,["modelValue","title"])}}}),saveFileTipDialog=_export_sfc(_sfc_main$9,[["__scopeId","data-v-1ba65779"]]);async function open$2(n={}){return typeof n=="object"&&Object.freeze(n),await invoke("plugin:dialog|open",{options:n})}async function save(n={}){return typeof n=="object"&&Object.freeze(n),await invoke("plugin:dialog|save",{options:n})}var BaseDirectory;(function(n){n[n.Audio=1]="Audio",n[n.Cache=2]="Cache",n[n.Config=3]="Config",n[n.Data=4]="Data",n[n.LocalData=5]="LocalData",n[n.Document=6]="Document",n[n.Download=7]="Download",n[n.Picture=8]="Picture",n[n.Public=9]="Public",n[n.Video=10]="Video",n[n.Resource=11]="Resource",n[n.Temp=12]="Temp",n[n.AppConfig=13]="AppConfig",n[n.AppData=14]="AppData",n[n.AppLocalData=15]="AppLocalData",n[n.AppCache=16]="AppCache",n[n.AppLog=17]="AppLog",n[n.Desktop=18]="Desktop",n[n.Executable=19]="Executable",n[n.Font=20]="Font",n[n.Home=21]="Home",n[n.Runtime=22]="Runtime",n[n.Template=23]="Template"})(BaseDirectory||(BaseDirectory={}));var SeekMode;(function(n){n[n.Start=0]="Start",n[n.Current=1]="Current",n[n.End=2]="End"})(SeekMode||(SeekMode={}));function parseFileInfo(n){return{isFile:n.isFile,isDirectory:n.isDirectory,isSymlink:n.isSymlink,size:n.size,mtime:n.mtime!==null?new Date(n.mtime):null,atime:n.atime!==null?new Date(n.atime):null,birthtime:n.birthtime!==null?new Date(n.birthtime):null,readonly:n.readonly,fileAttributes:n.fileAttributes,dev:n.dev,ino:n.ino,mode:n.mode,nlink:n.nlink,uid:n.uid,gid:n.gid,rdev:n.rdev,blksize:n.blksize,blocks:n.blocks}}function fromBytes(n){const e=new Uint8ClampedArray(n),r=e.byteLength;let g=0;for(let y=0;y<r;y++){const k=e[y];g*=256,g+=k}return g}class FileHandle extends Resource{async read(e){if(e.byteLength===0)return 0;const r=await invoke("plugin:fs|read",{rid:this.rid,len:e.byteLength}),g=fromBytes(r.slice(-8)),y=r instanceof ArrayBuffer?new Uint8Array(r):r;return e.set(y.slice(0,y.length-8)),g===0?null:g}async seek(e,r){return await invoke("plugin:fs|seek",{rid:this.rid,offset:e,whence:r})}async stat(){const e=await invoke("plugin:fs|fstat",{rid:this.rid});return parseFileInfo(e)}async truncate(e){await invoke("plugin:fs|ftruncate",{rid:this.rid,len:e})}async write(e){return await invoke("plugin:fs|write",{rid:this.rid,data:e})}}async function open$1(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await invoke("plugin:fs|open",{path:n instanceof URL?n.toString():n,options:e});return new FileHandle(r)}async function readFile(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await invoke("plugin:fs|read_file",{path:n instanceof URL?n.toString():n,options:e});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function readTextFile(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await invoke("plugin:fs|read_text_file",{path:n instanceof URL?n.toString():n,options:e}),g=r instanceof ArrayBuffer?r:Uint8Array.from(r);return new TextDecoder().decode(g)}async function writeFile(n,e,r){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");if(e instanceof ReadableStream){const g=await open$1(n,r);for await(const y of e)await g.write(y);await g.close()}else await invoke("plugin:fs|write_file",e,{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(r)}})}async function writeTextFile(n,e,r){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const g=new TextEncoder;await invoke("plugin:fs|write_text_file",g.encode(e),{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(r)}})}const _withScopeId$5=n=>(pushScopeId("data-v-45331025"),n=n(),popScopeId(),n),_hoisted_1$7={class:"form-wrapper"},_hoisted_2$7=_withScopeId$5(()=>createBaseVNode("div",{class:"text"},"",-1)),_hoisted_3$5={class:"dialog-footer"},_sfc_main$8=defineComponent({__name:"SaveDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({characters:!0,stroke_glyphs:!0,radical_glyphs:!0,comp_glyphs:!0,glyphs:!0}),y=()=>{setSaveDialogVisible(!1)},k=async()=>{total$1.value=0,loaded$1.value=0,loading.value=!0;const $=plainFile(selectedFile.value);let V=[],L=[],z=[],j=[];g.value.glyphs&&(V=glyphs.value.map(ae=>plainGlyph(ae))),g.value.stroke_glyphs&&(L=stroke_glyphs.value.map(ae=>plainGlyph(ae))),g.value.radical_glyphs&&(z=radical_glyphs.value.map(ae=>plainGlyph(ae))),g.value.comp_glyphs&&(j=comp_glyphs.value.map(ae=>plainGlyph(ae)));const re=JSON.stringify({file:$,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1,glyphs:V,stroke_glyphs:L,radical_glyphs:z,comp_glyphs:j}),oe=await save({defaultPath:`${selectedFile.value.name}.json`,filters:[{name:"JSON Filter",extensions:["json"]}]});oe&&await writeTextFile(oe,re),loading.value=!1,setSaveDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(saveDialogVisible),"onUpdate:modelValue":V[5]||(V[5]=re=>isRef(saveDialogVisible)?saveDialogVisible.value=re:null),title:unref(e)("dialogs.saveDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$5,[createVNode(z,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$7,[_hoisted_2$7,createVNode(L,{modelValue:g.value.characters,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.characters=re),class:"item-check",disabled:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.stroke_glyphs,"onUpdate:modelValue":V[1]||(V[1]=re=>g.value.stroke_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.radical_glyphs,"onUpdate:modelValue":V[2]||(V[2]=re=>g.value.radical_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.comp_glyphs,"onUpdate:modelValue":V[3]||(V[3]=re=>g.value.comp_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.glyphs,"onUpdate:modelValue":V[4]||(V[4]=re=>g.value.glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),saveDialog=_export_sfc(_sfc_main$8,[["__scopeId","data-v-45331025"]]),_withScopeId$4=n=>(pushScopeId("data-v-183db5d0"),n=n(),popScopeId(),n),_hoisted_1$6={class:"form-wrapper"},_hoisted_2$6=_withScopeId$4(()=>createBaseVNode("div",{class:"text"},"",-1)),_hoisted_3$4={class:"dialog-footer"},_sfc_main$7=defineComponent({__name:"SaveAsDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({characters:!0,stroke_glyphs:!0,radical_glyphs:!0,comp_glyphs:!0,glyphs:!0}),y=()=>{setSaveAsDialogVisible(!1)},k=async()=>{total$1.value=0,loaded$1.value=0,loading.value=!0;const $=plainFile(selectedFile.value);let V=[],L=[],z=[],j=[];g.value.glyphs&&(V=glyphs.value.map(ae=>plainGlyph(ae))),g.value.stroke_glyphs&&(L=stroke_glyphs.value.map(ae=>plainGlyph(ae))),g.value.radical_glyphs&&(z=radical_glyphs.value.map(ae=>plainGlyph(ae))),g.value.comp_glyphs&&(j=comp_glyphs.value.map(ae=>plainGlyph(ae)));const re=JSON.stringify({file:$,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1,glyphs:V,stroke_glyphs:L,radical_glyphs:z,comp_glyphs:j}),oe=await save({defaultPath:`${selectedFile.value.name}.json`,filters:[{name:"JSON Filter",extensions:["json"]}]});oe&&await writeTextFile(oe,re),loading.value=!1,setSaveAsDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(saveAsDialogVisible),"onUpdate:modelValue":V[5]||(V[5]=re=>isRef(saveAsDialogVisible)?saveAsDialogVisible.value=re:null),title:unref(e)("dialogs.saveAsDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$4,[createVNode(z,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$6,[_hoisted_2$6,createVNode(L,{modelValue:g.value.characters,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.characters=re),class:"item-check",disabled:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.stroke_glyphs,"onUpdate:modelValue":V[1]||(V[1]=re=>g.value.stroke_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.radical_glyphs,"onUpdate:modelValue":V[2]||(V[2]=re=>g.value.radical_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.comp_glyphs,"onUpdate:modelValue":V[3]||(V[3]=re=>g.value.comp_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.glyphs,"onUpdate:modelValue":V[4]||(V[4]=re=>g.value.glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),saveAsDialog=_export_sfc(_sfc_main$7,[["__scopeId","data-v-183db5d0"]]),_withScopeId$3=n=>(pushScopeId("data-v-ebf0dbb1"),n=n(),popScopeId(),n),_hoisted_1$5={class:"form-wrapper"},_hoisted_2$5=_withScopeId$3(()=>createBaseVNode("div",{class:"text"},"",-1)),_hoisted_3$3={class:"dialog-footer"},_sfc_main$6=defineComponent({__name:"ExportFileDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({characters:!0,stroke_glyphs:!0,radical_glyphs:!0,comp_glyphs:!0,glyphs:!0}),y=()=>{setExportDialogVisible(!1)},k=()=>{total$1.value=0,loaded$1.value=0,loading.value=!0;const $=plainFile(selectedFile.value);let V=[],L=[],z=[],j=[];g.value.glyphs&&(V=glyphs.value.map(ae=>plainGlyph(ae))),g.value.stroke_glyphs&&(L=stroke_glyphs.value.map(ae=>plainGlyph(ae))),g.value.radical_glyphs&&(z=radical_glyphs.value.map(ae=>plainGlyph(ae))),g.value.comp_glyphs&&(j=comp_glyphs.value.map(ae=>plainGlyph(ae)));const re=JSON.stringify({file:$,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1,glyphs:V,stroke_glyphs:L,radical_glyphs:z,comp_glyphs:j}),oe=new Blob([re],{type:"text/plain;charset=utf-8"});saveAs(oe,`${selectedFile.value.name}.json`),loading.value=!1,setExportDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(exportDialogVisible),"onUpdate:modelValue":V[5]||(V[5]=re=>isRef(exportDialogVisible)?exportDialogVisible.value=re:null),title:unref(e)("dialogs.exportDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$3,[createVNode(z,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$5,[_hoisted_2$5,createVNode(L,{modelValue:g.value.characters,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.characters=re),class:"item-check",disabled:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.stroke_glyphs,"onUpdate:modelValue":V[1]||(V[1]=re=>g.value.stroke_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.radical_glyphs,"onUpdate:modelValue":V[2]||(V[2]=re=>g.value.radical_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.comp_glyphs,"onUpdate:modelValue":V[3]||(V[3]=re=>g.value.comp_glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"]),createVNode(L,{modelValue:g.value.glyphs,"onUpdate:modelValue":V[4]||(V[4]=re=>g.value.glyphs=re),class:"item-check"},{default:withCtx(()=>[createTextVNode("  ")]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),exportFileDialog=_export_sfc(_sfc_main$6,[["__scopeId","data-v-ebf0dbb1"]]),_hoisted_1$4={class:"form-wrapper"},_hoisted_2$4={class:"dialog-footer"},_sfc_main$5=defineComponent({__name:"ExportFontDialog",setup(n){const{tm:e,t:r}=useI18n(),g=ref({remove_overlap:!1}),y=()=>{setExportFontDialogVisible(!1)},k=()=>{total$1.value=selectedFile.value.characterList.length*4,loaded$1.value=0,loading.value=!0,computeOverlapRemovedContours(),exportFont(g.value),setExportFontDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(exportFontDialogVisible),"onUpdate:modelValue":V[1]||(V[1]=re=>isRef(exportFontDialogVisible)?exportFontDialogVisible.value=re:null),title:unref(e)("dialogs.exportFontDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$4,[createVNode(z,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$4,[createVNode(L,{modelValue:g.value.remove_overlap,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.remove_overlap=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("menus.tools.remove_overlap")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),exportFontDialog=_export_sfc(_sfc_main$5,[["__scopeId","data-v-beca5c06"]]),_hoisted_1$3={class:"form-wrapper"},_hoisted_2$3={class:"dialog-footer"},_sfc_main$4=defineComponent({__name:"ExportFontDialog_tauri",setup(n){const{tm:e,t:r}=useI18n(),g=ref({remove_overlap:!1}),y=()=>{setExportFontTauriDialogVisible(!1)},k=async()=>{total$1.value=selectedFile.value.characterList.length*4,loaded$1.value=0,loading.value=!0,computeOverlapRemovedContours(),await exportFont_tauri(g.value),setExportFontTauriDialogVisible(!1)};return($,V)=>{const L=resolveComponent("el-checkbox"),z=resolveComponent("el-button"),j=resolveComponent("el-dialog");return openBlock(),createBlock(j,{modelValue:unref(exportFontTauriDialogVisible),"onUpdate:modelValue":V[1]||(V[1]=re=>isRef(exportFontTauriDialogVisible)?exportFontTauriDialogVisible.value=re:null),title:unref(e)("dialogs.exportFontDialog.title"),width:"320px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_2$3,[createVNode(z,{onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.cancel")),1)]),_:1}),createVNode(z,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("dialogs.exportDialog.confirm")),1)]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$3,[createVNode(L,{modelValue:g.value.remove_overlap,"onUpdate:modelValue":V[0]||(V[0]=re=>g.value.remove_overlap=re),class:"item-check"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)("menus.tools.remove_overlap")),1)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])}}}),exportFontTauriDialog=_export_sfc(_sfc_main$4,[["__scopeId","data-v-4a52efbe"]]),_withScopeId$2=n=>(pushScopeId("data-v-854bf4f3"),n=n(),popScopeId(),n),_hoisted_1$2={class:"root-wrapper"},_hoisted_2$2={class:"el-loading-spinner"},_hoisted_3$2=_withScopeId$2(()=>createBaseVNode("svg",{class:"circular",viewBox:"0 0 50 50"},[createBaseVNode("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})],-1)),_hoisted_4$2=_withScopeId$2(()=>createBaseVNode("div",null,"",-1)),_hoisted_5$2=[_hoisted_3$2,_hoisted_4$2],_hoisted_6$2={class:"loading-text"},_hoisted_7$2={class:"main-panel"},_hoisted_8$2={class:"inner-wrapper"},_hoisted_9$2={class:"left-panel-wrapper"},_hoisted_10$2={class:"main-wrapper"},_hoisted_11$1={class:"files-bar-wrapper"},_hoisted_12$1={class:"zoom-bar-wrapper"},_hoisted_13$1={class:"right-panel-wrapper"},svg$1=`
    <path class="path" d="" style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
  `,_sfc_main$3=defineComponent({__name:"Editor",setup(n){onBeforeRouteLeave((y,k,$)=>{window.confirm("")?$():$(!1)});const e=y=>{if(ENV.value==="web")return y.preventDefault(),y.returnValue="",""},r=y=>{if(y.key==="Shift"){if(editing$7.value||editing$6.value||editing$4.value||editing$5.value)return;y.preventDefault(),enableMultiSelect.value=!0}},g=y=>{if(y.key==="Shift"){if(editing$7.value||editing$6.value||editing$4.value||editing$5.value)return;y.preventDefault(),enableMultiSelect.value=!1}};return onMounted(async()=>{window.addEventListener("beforeunload",e),document.addEventListener("keydown",r),document.addEventListener("keyup",g),await initGlyphEnvironment()}),onUnmounted(()=>{document.removeEventListener("keydown",r),document.removeEventListener("keyup",g)}),(y,k)=>{const $=resolveComponent("el-progress"),V=resolveDirective("loading");return openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(saveFileTipDialog),createVNode(closeFileTipDialog),createVNode(tipsDialog),createVNode(_sfc_main$d),createVNode(_sfc_main$c),createVNode(_sfc_main$Y),createVNode(_sfc_main$n),createVNode(_sfc_main$h),createVNode(_sfc_main$i),createVNode(_sfc_main$m),createVNode(_sfc_main$l),createVNode(_sfc_main$k),createVNode(_sfc_main$j),createVNode(_sfc_main$g),createVNode(_sfc_main$f),createVNode(_sfc_main$e),createVNode(_sfc_main$X),createVNode(saveDialog),createVNode(saveAsDialog),createVNode(exportFileDialog),createVNode(exportFontDialog),createVNode(exportFontTauriDialog),withDirectives((openBlock(),createElementBlock("div",{class:"outer-wrapper","element-loading-text":"","element-loading-spinner":svg$1,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)"},[withDirectives(createBaseVNode("div",_hoisted_2$2,_hoisted_5$2,512),[[vShow,unref(loading)&&unref(total$1)===0]]),withDirectives(createBaseVNode("div",_hoisted_6$2,[createVNode($,{"text-inside":!0,"stroke-width":20,percentage:Math.round(unref(loaded$1)/unref(total$1)*100)},null,8,["percentage"]),createBaseVNode("div",null,toDisplayString$1(`${Math.round(unref(loaded$1)/unref(total$1)*100)}%`),1)],512),[[vShow,unref(loading)&&unref(total$1)!=0]]),createBaseVNode("div",{class:"side-bar-wrap",style:normalizeStyle({flex:(unref(ENV)==="web","0 0 36px"),borderRight:(unref(ENV)==="web","1px solid var(--primary-2)")})},[createVNode(SideBar)],4),createBaseVNode("div",_hoisted_7$2,[createBaseVNode("header",{class:"header-wrapper",style:normalizeStyle({flex:(unref(ENV)==="web",unref(editStatus)===unref(Status).CharacterList||unref(editStatus)===unref(Status).GlyphList||unref(editStatus)===unref(Status).StrokeGlyphList||unref(editStatus)===unref(Status).RadicalGlyphList||unref(editStatus)===unref(Status).CompGlyphList||unref(editStatus)===unref(Status).Pic?"0 0 0px":"0 0 50px")})},[withDirectives(createVNode(ToolBar,null,null,512),[[vShow,unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Glyph]])],4),createBaseVNode("main",_hoisted_8$2,[withDirectives(createBaseVNode("aside",_hoisted_9$2,[createVNode(LeftPanel)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(editStatus)!==unref(Status).GlyphList&&unref(editStatus)!==unref(Status).StrokeGlyphList&&unref(editStatus)!==unref(Status).RadicalGlyphList&&unref(editStatus)!==unref(Status).CompGlyphList]]),createBaseVNode("main",_hoisted_10$2,[withDirectives(createBaseVNode("header",_hoisted_11$1,[createVNode(FilesBar)],512),[[vShow,unref(editStatus)!==unref(Status).Pic]]),createBaseVNode("main",{class:"canvas-panel-wrapper",style:normalizeStyle({height:unref(editStatus)===unref(Status).Edit||unref(editStatus)===unref(Status).Pic?"calc(100% - 72px)":"calc(100% - 36px)"})},[createVNode(FontPanel)],4),withDirectives(createBaseVNode("footer",_hoisted_12$1,[unref(editStatus)===unref(Status).Edit?(openBlock(),createBlock(BottomBar,{key:0})):unref(editStatus)===unref(Status).Glyph?(openBlock(),createBlock(GlyphBottomBar,{key:1})):createCommentVNode("",!0)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(editStatus)!==unref(Status).GlyphList&&unref(editStatus)!==unref(Status).StrokeGlyphList&&unref(editStatus)!==unref(Status).RadicalGlyphList&&unref(editStatus)!==unref(Status).CompGlyphList]])]),withDirectives(createBaseVNode("aside",_hoisted_13$1,[createVNode(RightPanel)],512),[[vShow,unref(editStatus)!==unref(Status).CharacterList&&unref(editStatus)!==unref(Status).GlyphList&&unref(editStatus)!==unref(Status).StrokeGlyphList&&unref(editStatus)!==unref(Status).RadicalGlyphList&&unref(editStatus)!==unref(Status).CompGlyphList]])])])])),[[V,unref(loading)]])])}}}),Editor=_export_sfc(_sfc_main$3,[["__scopeId","data-v-854bf4f3"]]);let rangeFrom=[],rangeTo=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<n.length;e++)(e%2?rangeTo:rangeFrom).push(r=r+n[e])})();function isExtendingChar(n){if(n<768)return!1;for(let e=0,r=rangeFrom.length;;){let g=e+r>>1;if(n<rangeFrom[g])r=g;else if(n>=rangeTo[g])e=g+1;else return!0;if(e==r)return!1}}function isRegionalIndicator(n){return n>=127462&&n<=127487}const ZWJ=8205;function findClusterBreak$1(n,e,r=!0,g=!0){return(r?nextClusterBreak:prevClusterBreak)(n,e,g)}function nextClusterBreak(n,e,r){if(e==n.length)return e;e&&surrogateLow$1(n.charCodeAt(e))&&surrogateHigh$1(n.charCodeAt(e-1))&&e--;let g=codePointAt$2(n,e);for(e+=codePointSize$1(g);e<n.length;){let y=codePointAt$2(n,e);if(g==ZWJ||y==ZWJ||r&&isExtendingChar(y))e+=codePointSize$1(y),g=y;else if(isRegionalIndicator(y)){let k=0,$=e-2;for(;$>=0&&isRegionalIndicator(codePointAt$2(n,$));)k++,$-=2;if(k%2==0)break;e+=2}else break}return e}function prevClusterBreak(n,e,r){for(;e>0;){let g=nextClusterBreak(n,e-2,r);if(g<e)return g;e--}return 0}function codePointAt$2(n,e){let r=n.charCodeAt(e);if(!surrogateHigh$1(r)||e+1==n.length)return r;let g=n.charCodeAt(e+1);return surrogateLow$1(g)?(r-55296<<10)+(g-56320)+65536:r}function surrogateLow$1(n){return n>=56320&&n<57344}function surrogateHigh$1(n){return n>=55296&&n<56320}function codePointSize$1(n){return n<65536?1:2}class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,g){[e,r]=clip(this,e,r);let y=[];return this.decompose(0,e,y,2),g.length&&g.decompose(0,g.length,y,3),this.decompose(r,this.length,y,1),TextNode.from(y,this.length-(r-e)+g.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=clip(this,e,r);let g=[];return this.decompose(e,r,g,0),TextNode.from(g,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),g=this.length-this.scanIdentical(e,-1),y=new RawTextCursor(this),k=new RawTextCursor(e);for(let $=r,V=r;;){if(y.next($),k.next($),$=0,y.lineBreak!=k.lineBreak||y.done!=k.done||y.value!=k.value)return!1;if(V+=y.value.length,y.done||V>=g)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,r=this.length){return new PartialTextCursor(this,e,r)}iterLines(e,r){let g;if(e==null)g=this.iter();else{r==null&&(r=this.lines+1);let y=this.line(e).from;g=this.iterRange(y,Math.max(y,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new LineCursor(g)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,r=textLength(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,g,y){for(let k=0;;k++){let $=this.text[k],V=y+$.length;if((r?g:V)>=e)return new Line(y,V,g,$);y=V+1,g++}}decompose(e,r,g,y){let k=e<=0&&r>=this.length?this:new TextLeaf(sliceText(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(y&1){let $=g.pop(),V=appendText(k.text,$.text.slice(),0,k.length);if(V.length<=32)g.push(new TextLeaf(V,$.length+k.length));else{let L=V.length>>1;g.push(new TextLeaf(V.slice(0,L)),new TextLeaf(V.slice(L)))}}else g.push(k)}replace(e,r,g){if(!(g instanceof TextLeaf))return super.replace(e,r,g);[e,r]=clip(this,e,r);let y=appendText(this.text,appendText(g.text,sliceText(this.text,0,e)),r),k=this.length+g.length-(r-e);return y.length<=32?new TextLeaf(y,k):TextNode.from(TextLeaf.split(y,[]),k)}sliceString(e,r=this.length,g=`
`){[e,r]=clip(this,e,r);let y="";for(let k=0,$=0;k<=r&&$<this.text.length;$++){let V=this.text[$],L=k+V.length;k>e&&$&&(y+=g),e<L&&r>k&&(y+=V.slice(Math.max(0,e-k),r-k)),k=L+1}return y}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let g=[],y=-1;for(let k of e)g.push(k),y+=k.length+1,g.length==32&&(r.push(new TextLeaf(g,y)),g=[],y=-1);return y>-1&&r.push(new TextLeaf(g,y)),r}}class TextNode extends Text{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let g of e)this.lines+=g.lines}lineInner(e,r,g,y){for(let k=0;;k++){let $=this.children[k],V=y+$.length,L=g+$.lines-1;if((r?L:V)>=e)return $.lineInner(e,r,g,y);y=V+1,g=L+1}}decompose(e,r,g,y){for(let k=0,$=0;$<=r&&k<this.children.length;k++){let V=this.children[k],L=$+V.length;if(e<=L&&r>=$){let z=y&(($<=e?1:0)|(L>=r?2:0));$>=e&&L<=r&&!z?g.push(V):V.decompose(e-$,r-$,g,z)}$=L+1}}replace(e,r,g){if([e,r]=clip(this,e,r),g.lines<this.lines)for(let y=0,k=0;y<this.children.length;y++){let $=this.children[y],V=k+$.length;if(e>=k&&r<=V){let L=$.replace(e-k,r-k,g),z=this.lines-$.lines+L.lines;if(L.lines<z>>4&&L.lines>z>>6){let j=this.children.slice();return j[y]=L,new TextNode(j,this.length-(r-e)+g.length)}return super.replace(k,V,L)}k=V+1}return super.replace(e,r,g)}sliceString(e,r=this.length,g=`
`){[e,r]=clip(this,e,r);let y="";for(let k=0,$=0;k<this.children.length&&$<=r;k++){let V=this.children[k],L=$+V.length;$>e&&k&&(y+=g),e<L&&r>$&&(y+=V.sliceString(e-$,r-$,g)),$=L+1}return y}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof TextNode))return 0;let g=0,[y,k,$,V]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;y+=r,k+=r){if(y==$||k==V)return g;let L=this.children[y],z=e.children[k];if(L!=z)return g+L.scanIdentical(z,r);g+=L.length+1}}static from(e,r=e.reduce((g,y)=>g+y.length+1,-1)){let g=0;for(let ae of e)g+=ae.lines;if(g<32){let ae=[];for(let de of e)de.flatten(ae);return new TextLeaf(ae,r)}let y=Math.max(32,g>>5),k=y<<1,$=y>>1,V=[],L=0,z=-1,j=[];function re(ae){let de;if(ae.lines>k&&ae instanceof TextNode)for(let ue of ae.children)re(ue);else ae.lines>$&&(L>$||!L)?(oe(),V.push(ae)):ae instanceof TextLeaf&&L&&(de=j[j.length-1])instanceof TextLeaf&&ae.lines+de.lines<=32?(L+=ae.lines,z+=ae.length+1,j[j.length-1]=new TextLeaf(de.text.concat(ae.text),de.length+1+ae.length)):(L+ae.lines>y&&oe(),L+=ae.lines,z+=ae.length+1,j.push(ae))}function oe(){L!=0&&(V.push(j.length==1?j[0]:TextNode.from(j,z)),z=-1,L=j.length=0)}for(let ae of e)re(ae);return oe(),V.length==1?V[0]:new TextNode(V,r)}}Text.empty=new TextLeaf([""],0);function textLength(n){let e=-1;for(let r of n)e+=r.length+1;return e}function appendText(n,e,r=0,g=1e9){for(let y=0,k=0,$=!0;k<n.length&&y<=g;k++){let V=n[k],L=y+V.length;L>=r&&(L>g&&(V=V.slice(0,g-y)),y<r&&(V=V.slice(r-y)),$?(e[e.length-1]+=V,$=!1):e.push(V)),y=L+1}return e}function sliceText(n,e,r){return appendText(n,[""],e,r)}class RawTextCursor{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let g=this.nodes.length-1,y=this.nodes[g],k=this.offsets[g],$=k>>1,V=y instanceof TextLeaf?y.text.length:y.children.length;if($==(r>0?V:0)){if(g==0)return this.done=!0,this.value="",this;r>0&&this.offsets[g-1]++,this.nodes.pop(),this.offsets.pop()}else if((k&1)==(r>0?0:1)){if(this.offsets[g]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(y instanceof TextLeaf){let L=y.text[$+(r<0?-1:0)];if(this.offsets[g]+=r,L.length>Math.max(0,e))return this.value=e==0?L:r>0?L.slice(e):L.slice(0,L.length-e),this;e-=L.length}else{let L=y.children[$+(r<0?-1:0)];e>L.length?(e-=L.length,this.offsets[g]+=r):(r<0&&this.offsets[g]--,this.nodes.push(L),this.offsets.push(r>0?1:(L instanceof TextLeaf?L.text.length:L.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,r,g){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,r>g?-1:1),this.pos=r>g?e.length:0,this.from=Math.min(r,g),this.to=Math.max(r,g)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let g=r<0?this.pos-this.from:this.to-this.pos;e>g&&(e=g),g-=e;let{value:y}=this.cursor.next(e);return this.pos+=(y.length+e)*r,this.value=y.length<=g?y:r<0?y.slice(y.length-g):y.slice(0,g),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:g,value:y}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):g?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=y,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,r,g,y){this.from=e,this.to=r,this.number=g,this.text=y}get length(){return this.to-this.from}}function clip(n,e,r){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,r))]}function findClusterBreak(n,e,r=!0,g=!0){return findClusterBreak$1(n,e,r,g)}function surrogateLow(n){return n>=56320&&n<57344}function surrogateHigh(n){return n>=55296&&n<56320}function codePointAt$1(n,e){let r=n.charCodeAt(e);if(!surrogateHigh(r)||e+1==n.length)return r;let g=n.charCodeAt(e+1);return surrogateLow(g)?(r-55296<<10)+(g-56320)+65536:r}function fromCodePoint(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function codePointSize(n){return n<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let g=this.sections[r+1];e+=g<0?this.sections[r]:g}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,g=0,y=0;r<this.sections.length;){let k=this.sections[r++],$=this.sections[r++];$<0?(e(g,y,k),y+=k):y+=$,g+=k}}iterChangedRanges(e,r=!1){iterChanges(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let g=this.sections[r++],y=this.sections[r++];y<0?e.push(g,y):e.push(y,g)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,r=!1){return e.empty?this:mapSet(this,e,r)}mapPos(e,r=-1,g=MapMode.Simple){let y=0,k=0;for(let $=0;$<this.sections.length;){let V=this.sections[$++],L=this.sections[$++],z=y+V;if(L<0){if(z>e)return k+(e-y);k+=V}else{if(g!=MapMode.Simple&&z>=e&&(g==MapMode.TrackDel&&y<e&&z>e||g==MapMode.TrackBefore&&y<e||g==MapMode.TrackAfter&&z>e))return null;if(z>e||z==e&&r<0&&!V)return e==y||r<0?k:k+L;k+=L}y=z}if(e>y)throw new RangeError(`Position ${e} is out of range for changeset of length ${y}`);return k}touchesRange(e,r=e){for(let g=0,y=0;g<this.sections.length&&y<=r;){let k=this.sections[g++],$=this.sections[g++],V=y+k;if($>=0&&y<=r&&V>=e)return y<e&&V>r?"cover":!0;y=V}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let g=this.sections[r++],y=this.sections[r++];e+=(e?" ":"")+g+(y>=0?":"+y:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(r,g,y,k,$)=>e=e.replace(y,y+(g-r),$),!1),e}mapDesc(e,r=!1){return mapSet(this,e,r,!0)}invert(e){let r=this.sections.slice(),g=[];for(let y=0,k=0;y<r.length;y+=2){let $=r[y],V=r[y+1];if(V>=0){r[y]=V,r[y+1]=$;let L=y>>1;for(;g.length<L;)g.push(Text.empty);g.push($?e.slice(k,k+$):Text.empty)}k+=$}return new ChangeSet(r,g)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,r=!1){return e.empty?this:mapSet(this,e,r,!0)}iterChanges(e,r=!1){iterChanges(this,e,r)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let r=[],g=[],y=[],k=new SectionIter(this);e:for(let $=0,V=0;;){let L=$==e.length?1e9:e[$++];for(;V<L||V==L&&k.len==0;){if(k.done)break e;let j=Math.min(k.len,L-V);addSection(y,j,-1);let re=k.ins==-1?-1:k.off==0?k.ins:0;addSection(r,j,re),re>0&&addInsert(g,r,k.text),k.forward(j),V+=j}let z=e[$++];for(;V<z;){if(k.done)break e;let j=Math.min(k.len,z-V);addSection(r,j,-1),addSection(y,j,k.ins==-1?-1:k.off==0?k.ins:0),k.forward(j),V+=j}}return{changes:new ChangeSet(r,g),filtered:ChangeDesc.create(y)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let g=this.sections[r],y=this.sections[r+1];y<0?e.push(g):y==0?e.push([g]):e.push([g].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,g){let y=[],k=[],$=0,V=null;function L(j=!1){if(!j&&!y.length)return;$<r&&addSection(y,r-$,-1);let re=new ChangeSet(y,k);V=V?V.compose(re.map(V)):re,y=[],k=[],$=0}function z(j){if(Array.isArray(j))for(let re of j)z(re);else if(j instanceof ChangeSet){if(j.length!=r)throw new RangeError(`Mismatched change set length (got ${j.length}, expected ${r})`);L(),V=V?V.compose(j.map(V)):j}else{let{from:re,to:oe=re,insert:ae}=j;if(re>oe||re<0||oe>r)throw new RangeError(`Invalid change range ${re} to ${oe} (in doc of length ${r})`);let de=ae?typeof ae=="string"?Text.of(ae.split(g||DefaultSplit)):ae:Text.empty,ue=de.length;if(re==oe&&ue==0)return;re<$&&L(),re>$&&addSection(y,re-$,-1),addSection(y,oe-re,ue),addInsert(k,y,de),$=oe}}return z(e),L(!V),V}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],g=[];for(let y=0;y<e.length;y++){let k=e[y];if(typeof k=="number")r.push(k,-1);else{if(!Array.isArray(k)||typeof k[0]!="number"||k.some(($,V)=>V&&typeof $!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(k.length==1)r.push(k[0],0);else{for(;g.length<y;)g.push(Text.empty);g[y]=Text.of(k.slice(1)),r.push(k[0],g[y].length)}}}return new ChangeSet(r,g)}static createSet(e,r){return new ChangeSet(e,r)}}function addSection(n,e,r,g=!1){if(e==0&&r<=0)return;let y=n.length-2;y>=0&&r<=0&&r==n[y+1]?n[y]+=e:y>=0&&e==0&&n[y]==0?n[y+1]+=r:g?(n[y]+=e,n[y+1]+=r):n.push(e,r)}function addInsert(n,e,r){if(r.length==0)return;let g=e.length-2>>1;if(g<n.length)n[n.length-1]=n[n.length-1].append(r);else{for(;n.length<g;)n.push(Text.empty);n.push(r)}}function iterChanges(n,e,r){let g=n.inserted;for(let y=0,k=0,$=0;$<n.sections.length;){let V=n.sections[$++],L=n.sections[$++];if(L<0)y+=V,k+=V;else{let z=y,j=k,re=Text.empty;for(;z+=V,j+=L,L&&g&&(re=re.append(g[$-2>>1])),!(r||$==n.sections.length||n.sections[$+1]<0);)V=n.sections[$++],L=n.sections[$++];e(y,z,k,j,re),y=z,k=j}}}function mapSet(n,e,r,g=!1){let y=[],k=g?[]:null,$=new SectionIter(n),V=new SectionIter(e);for(let L=-1;;){if($.done&&V.len||V.done&&$.len)throw new Error("Mismatched change set lengths");if($.ins==-1&&V.ins==-1){let z=Math.min($.len,V.len);addSection(y,z,-1),$.forward(z),V.forward(z)}else if(V.ins>=0&&($.ins<0||L==$.i||$.off==0&&(V.len<$.len||V.len==$.len&&!r))){let z=V.len;for(addSection(y,V.ins,-1);z;){let j=Math.min($.len,z);$.ins>=0&&L<$.i&&$.len<=j&&(addSection(y,0,$.ins),k&&addInsert(k,y,$.text),L=$.i),$.forward(j),z-=j}V.next()}else if($.ins>=0){let z=0,j=$.len;for(;j;)if(V.ins==-1){let re=Math.min(j,V.len);z+=re,j-=re,V.forward(re)}else if(V.ins==0&&V.len<j)j-=V.len,V.next();else break;addSection(y,z,L<$.i?$.ins:0),k&&L<$.i&&addInsert(k,y,$.text),L=$.i,$.forward($.len-j)}else{if($.done&&V.done)return k?ChangeSet.createSet(y,k):ChangeDesc.create(y);throw new Error("Mismatched change set lengths")}}}function composeSets(n,e,r=!1){let g=[],y=r?[]:null,k=new SectionIter(n),$=new SectionIter(e);for(let V=!1;;){if(k.done&&$.done)return y?ChangeSet.createSet(g,y):ChangeDesc.create(g);if(k.ins==0)addSection(g,k.len,0,V),k.next();else if($.len==0&&!$.done)addSection(g,0,$.ins,V),y&&addInsert(y,g,$.text),$.next();else{if(k.done||$.done)throw new Error("Mismatched change set lengths");{let L=Math.min(k.len2,$.len),z=g.length;if(k.ins==-1){let j=$.ins==-1?-1:$.off?0:$.ins;addSection(g,L,j,V),y&&j&&addInsert(y,g,$.text)}else $.ins==-1?(addSection(g,k.off?0:k.len,L,V),y&&addInsert(y,g,k.textBit(L))):(addSection(g,k.off?0:k.len,$.off?0:$.ins,V),y&&!$.off&&addInsert(y,g,$.text));V=(k.ins>L||$.ins>=0&&$.len>L)&&(V||g.length>z),k.forward2(L),$.forward(L)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Text.empty:e[r]}textBit(e){let{inserted:r}=this.set,g=this.i-2>>1;return g>=r.length&&!e?Text.empty:r[g].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,r,g){this.from=e,this.to=r,this.flags=g}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let g,y;return this.empty?g=y=e.mapPos(this.from,r):(g=e.mapPos(this.from,1),y=e.mapPos(this.to,-1)),g==this.from&&y==this.to?this:new SelectionRange(g,y,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return EditorSelection.range(e,r);let g=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return EditorSelection.range(this.anchor,g)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,r,g){return new SelectionRange(e,r,g)}}class EditorSelection{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:EditorSelection.create(this.ranges.map(g=>g.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let g=0;g<this.ranges.length;g++)if(!this.ranges[g].eq(e.ranges[g],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,r=!0){return EditorSelection.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let g=this.ranges.slice();return g[r]=e,EditorSelection.create(g,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(r=>SelectionRange.fromJSON(r)),e.main)}static single(e,r=e){return new EditorSelection([EditorSelection.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let g=0,y=0;y<e.length;y++){let k=e[y];if(k.empty?k.from<=g:k.from<g)return EditorSelection.normalized(e.slice(),r);g=k.to}return new EditorSelection(e,r)}static cursor(e,r=0,g,y){return SelectionRange.create(e,e,(r==0?0:r<0?8:16)|(g==null?7:Math.min(6,g))|(y??16777215)<<6)}static range(e,r,g,y){let k=(g??16777215)<<6|(y==null?7:Math.min(6,y));return r<e?SelectionRange.create(r,e,48|k):SelectionRange.create(e,r,(r>e?8:0)|k)}static normalized(e,r=0){let g=e[r];e.sort((y,k)=>y.from-k.from),r=e.indexOf(g);for(let y=1;y<e.length;y++){let k=e[y],$=e[y-1];if(k.empty?k.from<=$.to:k.from<$.to){let V=$.from,L=Math.max(k.to,$.to);y<=r&&r--,e.splice(--y,2,k.anchor>k.head?EditorSelection.range(L,V):EditorSelection.range(V,L))}}return new EditorSelection(e,r)}}function checkSelection(n,e){for(let r of n.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,r,g,y,k){this.combine=e,this.compareInput=r,this.compare=g,this.isStatic=y,this.id=nextID++,this.default=e([]),this.extensions=typeof k=="function"?k(this):k}get reader(){return this}static define(e={}){return new Facet(e.combine||(r=>r),e.compareInput||((r,g)=>r===g),e.compare||(e.combine?(r,g)=>r===g:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,r)}from(e,r){return r||(r=g=>g),this.compute([e],g=>r(g.field(e)))}}function sameArray$1(n,e){return n==e||n.length==e.length&&n.every((r,g)=>r===e[g])}class FacetProvider{constructor(e,r,g,y){this.dependencies=e,this.facet=r,this.type=g,this.value=y,this.id=nextID++}dynamicSlot(e){var r;let g=this.value,y=this.facet.compareInput,k=this.id,$=e[k]>>1,V=this.type==2,L=!1,z=!1,j=[];for(let re of this.dependencies)re=="doc"?L=!0:re=="selection"?z=!0:((r=e[re.id])!==null&&r!==void 0?r:1)&1||j.push(e[re.id]);return{create(re){return re.values[$]=g(re),1},update(re,oe){if(L&&oe.docChanged||z&&(oe.docChanged||oe.selection)||ensureAll(re,j)){let ae=g(re);if(V?!compareArray(ae,re.values[$],y):!y(ae,re.values[$]))return re.values[$]=ae,1}return 0},reconfigure:(re,oe)=>{let ae,de=oe.config.address[k];if(de!=null){let ue=getAddr(oe,de);if(this.dependencies.every(pe=>pe instanceof Facet?oe.facet(pe)===re.facet(pe):pe instanceof StateField?oe.field(pe,!1)==re.field(pe,!1):!0)||(V?compareArray(ae=g(re),ue,y):y(ae=g(re),ue)))return re.values[$]=ue,0}else ae=g(re);return re.values[$]=ae,1}}}}function compareArray(n,e,r){if(n.length!=e.length)return!1;for(let g=0;g<n.length;g++)if(!r(n[g],e[g]))return!1;return!0}function ensureAll(n,e){let r=!1;for(let g of e)ensureAddr(n,g)&1&&(r=!0);return r}function dynamicFacetSlot(n,e,r){let g=r.map(L=>n[L.id]),y=r.map(L=>L.type),k=g.filter(L=>!(L&1)),$=n[e.id]>>1;function V(L){let z=[];for(let j=0;j<g.length;j++){let re=getAddr(L,g[j]);if(y[j]==2)for(let oe of re)z.push(oe);else z.push(re)}return e.combine(z)}return{create(L){for(let z of g)ensureAddr(L,z);return L.values[$]=V(L),1},update(L,z){if(!ensureAll(L,k))return 0;let j=V(L);return e.compare(j,L.values[$])?0:(L.values[$]=j,1)},reconfigure(L,z){let j=ensureAll(L,g),re=z.config.facets[e.id],oe=z.facet(e);if(re&&!j&&sameArray$1(r,re))return L.values[$]=oe,0;let ae=V(L);return e.compare(ae,oe)?(L.values[$]=oe,0):(L.values[$]=ae,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,r,g,y,k){this.id=e,this.createF=r,this.updateF=g,this.compareF=y,this.spec=k,this.provides=void 0}static define(e){let r=new StateField(nextID++,e.create,e.update,e.compare||((g,y)=>g===y),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(initField).find(g=>g.field==this);return(r?.create||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:g=>(g.values[r]=this.create(g),1),update:(g,y)=>{let k=g.values[r],$=this.updateF(k,y);return this.compareF(k,$)?0:(g.values[r]=$,1)},reconfigure:(g,y)=>y.config.address[this.id]!=null?(g.values[r]=y.field(this),0):(g.values[r]=this.create(g),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(n){return e=>new PrecExtension(e,n)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,r){this.inner=e,this.prec=r}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,r){this.compartment=e,this.inner=r}}class Configuration{constructor(e,r,g,y,k,$){for(this.base=e,this.compartments=r,this.dynamicSlots=g,this.address=y,this.staticValues=k,this.facets=$,this.statusTemplate=[];this.statusTemplate.length<g.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,g){let y=[],k=Object.create(null),$=new Map;for(let oe of flatten(e,r,$))oe instanceof StateField?y.push(oe):(k[oe.facet.id]||(k[oe.facet.id]=[])).push(oe);let V=Object.create(null),L=[],z=[];for(let oe of y)V[oe.id]=z.length<<1,z.push(ae=>oe.slot(ae));let j=g?.config.facets;for(let oe in k){let ae=k[oe],de=ae[0].facet,ue=j&&j[oe]||[];if(ae.every(pe=>pe.type==0))if(V[de.id]=L.length<<1|1,sameArray$1(ue,ae))L.push(g.facet(de));else{let pe=de.combine(ae.map(he=>he.value));L.push(g&&de.compare(pe,g.facet(de))?g.facet(de):pe)}else{for(let pe of ae)pe.type==0?(V[pe.id]=L.length<<1|1,L.push(pe.value)):(V[pe.id]=z.length<<1,z.push(he=>pe.dynamicSlot(he)));V[de.id]=z.length<<1,z.push(pe=>dynamicFacetSlot(pe,de,ae))}}let re=z.map(oe=>oe(V));return new Configuration(e,$,re,V,L,k)}}function flatten(n,e,r){let g=[[],[],[],[],[]],y=new Map;function k($,V){let L=y.get($);if(L!=null){if(L<=V)return;let z=g[L].indexOf($);z>-1&&g[L].splice(z,1),$ instanceof CompartmentInstance&&r.delete($.compartment)}if(y.set($,V),Array.isArray($))for(let z of $)k(z,V);else if($ instanceof CompartmentInstance){if(r.has($.compartment))throw new RangeError("Duplicate use of compartment in extensions");let z=e.get($.compartment)||$.inner;r.set($.compartment,z),k(z,V)}else if($ instanceof PrecExtension)k($.inner,$.prec);else if($ instanceof StateField)g[V].push($),$.provides&&k($.provides,V);else if($ instanceof FacetProvider)g[V].push($),$.facet.extensions&&k($.facet.extensions,Prec_.default);else{let z=$.extension;if(!z)throw new Error(`Unrecognized extension value in extension set (${$}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);k(z,V)}}return k(n,Prec_.default),g.reduce(($,V)=>$.concat(V))}function ensureAddr(n,e){if(e&1)return 2;let r=e>>1,g=n.status[r];if(g==4)throw new Error("Cyclic dependency between fields and/or facets");if(g&2)return g;n.status[r]=4;let y=n.computeSlot(n,n.config.dynamicSlots[r]);return n.status[r]=2|y}function getAddr(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:n=>n.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:n=>n.length?n[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:n=>n.length?n[0]:!1});class Annotation{constructor(e,r){this.type=e,this.value=r}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new StateEffect(this.type,r)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let g=[];for(let y of e){let k=y.map(r);k&&g.push(k)}return g}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,r,g,y,k,$){this.startState=e,this.changes=r,this.selection=g,this.effects=y,this.annotations=k,this.scrollIntoView=$,this._doc=null,this._state=null,g&&checkSelection(g,r.newLength),k.some(V=>V.type==Transaction.time)||(this.annotations=k.concat(Transaction.time.of(Date.now())))}static create(e,r,g,y,k,$){return new Transaction(e,r,g,y,k,$)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Transaction.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(n,e){let r=[];for(let g=0,y=0;;){let k,$;if(g<n.length&&(y==e.length||e[y]>=n[g]))k=n[g++],$=n[g++];else if(y<e.length)k=e[y++],$=e[y++];else return r;!r.length||r[r.length-1]<k?r.push(k,$):r[r.length-1]<$&&(r[r.length-1]=$)}}function mergeTransaction(n,e,r){var g;let y,k,$;return r?(y=e.changes,k=ChangeSet.empty(e.changes.length),$=n.changes.compose(e.changes)):(y=e.changes.map(n.changes),k=n.changes.mapDesc(e.changes,!0),$=n.changes.compose(y)),{changes:$,selection:e.selection?e.selection.map(k):(g=n.selection)===null||g===void 0?void 0:g.map(y),effects:StateEffect.mapEffects(n.effects,y).concat(StateEffect.mapEffects(e.effects,k)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(n,e,r){let g=e.selection,y=asArray$1(e.annotations);return e.userEvent&&(y=y.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],r,n.facet(lineSeparator)),selection:g&&(g instanceof EditorSelection?g:EditorSelection.single(g.anchor,g.head)),effects:asArray$1(e.effects),annotations:y,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(n,e,r){let g=resolveTransactionInner(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let k=1;k<e.length;k++){e[k].filter===!1&&(r=!1);let $=!!e[k].sequential;g=mergeTransaction(g,resolveTransactionInner(n,e[k],$?g.changes.newLength:n.doc.length),$)}let y=Transaction.create(n,g.changes,g.selection,g.effects,g.annotations,g.scrollIntoView);return extendTransaction(r?filterTransaction(y):y)}function filterTransaction(n){let e=n.startState,r=!0;for(let y of e.facet(changeFilter)){let k=y(n);if(k===!1){r=!1;break}Array.isArray(k)&&(r=r===!0?k:joinRanges(r,k))}if(r!==!0){let y,k;if(r===!1)k=n.changes.invertedDesc,y=ChangeSet.empty(e.doc.length);else{let $=n.changes.filter(r);y=$.changes,k=$.filtered.mapDesc($.changes).invertedDesc}n=Transaction.create(e,y,n.selection&&n.selection.map(k),StateEffect.mapEffects(n.effects,k),n.annotations,n.scrollIntoView)}let g=e.facet(transactionFilter);for(let y=g.length-1;y>=0;y--){let k=g[y](n);k instanceof Transaction?n=k:Array.isArray(k)&&k.length==1&&k[0]instanceof Transaction?n=k[0]:n=resolveTransaction(e,asArray$1(k),!1)}return n}function extendTransaction(n){let e=n.startState,r=e.facet(transactionExtender),g=n;for(let y=r.length-1;y>=0;y--){let k=r[y](n);k&&Object.keys(k).length&&(g=mergeTransaction(g,resolveTransactionInner(e,k,n.changes.newLength),!0))}return g==n?n:Transaction.create(e,n.changes,n.selection,g.effects,g.annotations,g.scrollIntoView)}const none$2=[];function asArray$1(n){return n==null?none$2:Array.isArray(n)?n:[n]}var CharCategory=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(n){}function hasWordChar(n){if(wordChar)return wordChar.test(n);for(let e=0;e<n.length;e++){let r=n[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||nonASCIISingleCaseWordChar.test(r)))return!0}return!1}function makeCategorizer(n){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let r=0;r<n.length;r++)if(e.indexOf(n[r])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,r,g,y,k,$){this.config=e,this.doc=r,this.selection=g,this.values=y,this.status=e.statusTemplate.slice(),this.computeSlot=k,$&&($._state=this);for(let V=0;V<this.config.dynamicSlots.length;V++)ensureAddr(this,V<<1);this.computeSlot=null}field(e,r=!0){let g=this.config.address[e.id];if(g==null){if(r)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,g),getAddr(this,g)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let r=this.config,{base:g,compartments:y}=r;for(let V of e.effects)V.is(Compartment.reconfigure)?(r&&(y=new Map,r.compartments.forEach((L,z)=>y.set(z,L)),r=null),y.set(V.value.compartment,V.value.extension)):V.is(StateEffect.reconfigure)?(r=null,g=V.value):V.is(StateEffect.appendConfig)&&(r=null,g=asArray$1(g).concat(V.value));let k;r?k=e.startState.values.slice():(r=Configuration.resolve(g,y,this),k=new EditorState(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(L,z)=>z.reconfigure(L,this),null).values);let $=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(r,e.newDoc,$,k,(V,L)=>L.update(V,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:EditorSelection.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,g=e(r.ranges[0]),y=this.changes(g.changes),k=[g.range],$=asArray$1(g.effects);for(let V=1;V<r.ranges.length;V++){let L=e(r.ranges[V]),z=this.changes(L.changes),j=z.map(y);for(let oe=0;oe<V;oe++)k[oe]=k[oe].map(j);let re=y.mapDesc(z,!0);k.push(L.range.map(re)),y=y.compose(j),$=StateEffect.mapEffects($,j).concat(StateEffect.mapEffects(asArray$1(L.effects),re))}return{changes:y,selection:EditorSelection.create(k,r.mainIndex),effects:$}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(ensureAddr(this,r),getAddr(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let g in e){let y=e[g];y instanceof StateField&&this.config.address[y.id]!=null&&(r[g]=y.spec.toJSON(this.field(e[g]),this))}return r}static fromJSON(e,r={},g){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let y=[];if(g){for(let k in g)if(Object.prototype.hasOwnProperty.call(e,k)){let $=g[k],V=e[k];y.push($.init(L=>$.spec.fromJSON(V,L)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:r.extensions?y.concat([r.extensions]):y})}static create(e={}){let r=Configuration.resolve(e.extensions||[],new Map),g=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(r.staticFacet(EditorState.lineSeparator)||DefaultSplit)),y=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(y,g.length),r.staticFacet(allowMultipleSelections)||(y=y.asSingle()),new EditorState(r,g,y,r.dynamicSlots.map(()=>null),(k,$)=>$.create(k),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...r){for(let g of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(g,e)){e=g[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(g,y)=>{if(y=="$")return"$";let k=+(y||1);return!k||k>r.length?g:r[k-1]})),e}languageDataAt(e,r,g=-1){let y=[];for(let k of this.facet(languageData))for(let $ of k(this,r,g))Object.prototype.hasOwnProperty.call($,e)&&y.push($[e]);return y}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:g,length:y}=this.doc.lineAt(e),k=this.charCategorizer(e),$=e-g,V=e-g;for(;$>0;){let L=findClusterBreak(r,$,!1);if(k(r.slice(L,$))!=CharCategory.Word)break;$=L}for(;V<y;){let L=findClusterBreak(r,V);if(k(r.slice(V,L))!=CharCategory.Word)break;V=L}return $==V?null:EditorSelection.range($+g,V+g)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:n=>n.length?n[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(n,e){let r=Object.keys(n),g=Object.keys(e);return r.length==g.length&&r.every(y=>n[y]==e[y])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(n,e,r={}){let g={};for(let y of n)for(let k of Object.keys(y)){let $=y[k],V=g[k];if(V===void 0)g[k]=$;else if(!(V===$||$===void 0))if(Object.hasOwnProperty.call(r,k))g[k]=r[k](V,$);else throw new Error("Config merge conflict for field "+k)}for(let y in e)g[y]===void 0&&(g[y]=e[y]);return g}class RangeValue{eq(e){return this==e}range(e,r=e){return Range$1.create(e,r,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Ha{constructor(e,r,g){this.from=e,this.to=r,this.value=g}static create(e,r,g){return new Ha(e,r,g)}};function cmpRange(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Chunk{constructor(e,r,g,y){this.from=e,this.to=r,this.value=g,this.maxPoint=y}get length(){return this.to[this.to.length-1]}findIndex(e,r,g,y=0){let k=g?this.to:this.from;for(let $=y,V=k.length;;){if($==V)return $;let L=$+V>>1,z=k[L]-e||(g?this.value[L].endSide:this.value[L].startSide)-r;if(L==$)return z>=0?$:V;z>=0?V=L:$=L+1}}between(e,r,g,y){for(let k=this.findIndex(r,-1e9,!0),$=this.findIndex(g,1e9,!1,k);k<$;k++)if(y(this.from[k]+e,this.to[k]+e,this.value[k])===!1)return!1}map(e,r){let g=[],y=[],k=[],$=-1,V=-1;for(let L=0;L<this.value.length;L++){let z=this.value[L],j=this.from[L]+e,re=this.to[L]+e,oe,ae;if(j==re){let de=r.mapPos(j,z.startSide,z.mapMode);if(de==null||(oe=ae=de,z.startSide!=z.endSide&&(ae=r.mapPos(j,z.endSide),ae<oe)))continue}else if(oe=r.mapPos(j,z.startSide),ae=r.mapPos(re,z.endSide),oe>ae||oe==ae&&z.startSide>0&&z.endSide<=0)continue;(ae-oe||z.endSide-z.startSide)<0||($<0&&($=oe),z.point&&(V=Math.max(V,ae-oe)),g.push(z),y.push(oe-$),k.push(ae-$))}return{mapped:g.length?new Chunk(y,k,g,V):null,pos:$}}}class RangeSet{constructor(e,r,g,y){this.chunkPos=e,this.chunk=r,this.nextLayer=g,this.maxPoint=y}static create(e,r,g,y){return new RangeSet(e,r,g,y)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:g=!1,filterFrom:y=0,filterTo:k=this.length}=e,$=e.filter;if(r.length==0&&!$)return this;if(g&&(r=r.slice().sort(cmpRange)),this.isEmpty)return r.length?RangeSet.of(r):this;let V=new LayerCursor(this,null,-1).goto(0),L=0,z=[],j=new RangeSetBuilder;for(;V.value||L<r.length;)if(L<r.length&&(V.from-r[L].from||V.startSide-r[L].value.startSide)>=0){let re=r[L++];j.addInner(re.from,re.to,re.value)||z.push(re)}else V.rangeIndex==1&&V.chunkIndex<this.chunk.length&&(L==r.length||this.chunkEnd(V.chunkIndex)<r[L].from)&&(!$||y>this.chunkEnd(V.chunkIndex)||k<this.chunkPos[V.chunkIndex])&&j.addChunk(this.chunkPos[V.chunkIndex],this.chunk[V.chunkIndex])?V.nextChunk():((!$||y>V.to||k<V.from||$(V.from,V.to,V.value))&&(j.addInner(V.from,V.to,V.value)||z.push(Range$1.create(V.from,V.to,V.value))),V.next());return j.finishInner(this.nextLayer.isEmpty&&!z.length?RangeSet.empty:this.nextLayer.update({add:z,filter:$,filterFrom:y,filterTo:k}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],g=[],y=-1;for(let $=0;$<this.chunk.length;$++){let V=this.chunkPos[$],L=this.chunk[$],z=e.touchesRange(V,V+L.length);if(z===!1)y=Math.max(y,L.maxPoint),r.push(L),g.push(e.mapPos(V));else if(z===!0){let{mapped:j,pos:re}=L.map(V,e);j&&(y=Math.max(y,j.maxPoint),r.push(j),g.push(re))}}let k=this.nextLayer.map(e);return r.length==0?k:new RangeSet(g,r,k||RangeSet.empty,y)}between(e,r,g){if(!this.isEmpty){for(let y=0;y<this.chunk.length;y++){let k=this.chunkPos[y],$=this.chunk[y];if(r>=k&&e<=k+$.length&&$.between(k,e-k,r-k,g)===!1)return}this.nextLayer.between(e,r,g)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return HeapCursor.from(e).goto(r)}static compare(e,r,g,y,k=-1){let $=e.filter(re=>re.maxPoint>0||!re.isEmpty&&re.maxPoint>=k),V=r.filter(re=>re.maxPoint>0||!re.isEmpty&&re.maxPoint>=k),L=findSharedChunks($,V,g),z=new SpanCursor($,L,k),j=new SpanCursor(V,L,k);g.iterGaps((re,oe,ae)=>compare(z,re,j,oe,ae,y)),g.empty&&g.length==0&&compare(z,0,j,0,0,y)}static eq(e,r,g=0,y){y==null&&(y=999999999);let k=e.filter(j=>!j.isEmpty&&r.indexOf(j)<0),$=r.filter(j=>!j.isEmpty&&e.indexOf(j)<0);if(k.length!=$.length)return!1;if(!k.length)return!0;let V=findSharedChunks(k,$),L=new SpanCursor(k,V,0).goto(g),z=new SpanCursor($,V,0).goto(g);for(;;){if(L.to!=z.to||!sameValues(L.active,z.active)||L.point&&(!z.point||!L.point.eq(z.point)))return!1;if(L.to>y)return!0;L.next(),z.next()}}static spans(e,r,g,y,k=-1){let $=new SpanCursor(e,null,k).goto(r),V=r,L=$.openStart;for(;;){let z=Math.min($.to,g);if($.point){let j=$.activeForPoint($.to),re=$.pointFrom<r?j.length+1:$.point.startSide<0?j.length:Math.min(j.length,L);y.point(V,z,$.point,j,re,$.pointRank),L=Math.min($.openEnd(z),j.length)}else z>V&&(y.span(V,z,$.active,L),L=$.openEnd(z));if($.to>g)return L+($.point&&$.to>g?1:0);V=$.to,$.next()}}static of(e,r=!1){let g=new RangeSetBuilder;for(let y of e instanceof Range$1?[e]:r?lazySort(e):e)g.add(y.from,y.to,y.value);return g.finish()}static join(e){if(!e.length)return RangeSet.empty;let r=e[e.length-1];for(let g=e.length-2;g>=0;g--)for(let y=e[g];y!=RangeSet.empty;y=y.nextLayer)r=new RangeSet(y.chunkPos,y.chunk,r,Math.max(y.maxPoint,r.maxPoint));return r}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(n){if(n.length>1)for(let e=n[0],r=1;r<n.length;r++){let g=n[r];if(cmpRange(e,g)>0)return n.slice().sort(cmpRange);e=g}return n}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,g){this.addInner(e,r,g)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,r,g)}addInner(e,r,g){let y=e-this.lastTo||g.startSide-this.last.endSide;if(y<=0&&(e-this.lastFrom||g.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return y<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=g,this.lastFrom=e,this.lastTo=r,this.value.push(g),g.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let g=r.value.length-1;return this.last=r.value[g],this.lastFrom=r.from[g]+e,this.lastTo=r.to[g]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function findSharedChunks(n,e,r){let g=new Map;for(let k of n)for(let $=0;$<k.chunk.length;$++)k.chunk[$].maxPoint<=0&&g.set(k.chunk[$],k.chunkPos[$]);let y=new Set;for(let k of e)for(let $=0;$<k.chunk.length;$++){let V=g.get(k.chunk[$]);V!=null&&(r?r.mapPos(V):V)==k.chunkPos[$]&&!r?.touchesRange(V,V+k.chunk[$].length)&&y.add(k.chunk[$])}return y}class LayerCursor{constructor(e,r,g,y=0){this.layer=e,this.skip=r,this.minPoint=g,this.rank=y}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,g){for(;this.chunkIndex<this.layer.chunk.length;){let y=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(y)||this.layer.chunkEnd(this.chunkIndex)<e||y.maxPoint<this.minPoint))break;this.chunkIndex++,g=!1}if(this.chunkIndex<this.layer.chunk.length){let y=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!g||this.rangeIndex<y)&&this.setRangeIndex(y)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],g=e+r.from[this.rangeIndex];if(this.from=g,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,r=null,g=-1){let y=[];for(let k=0;k<e.length;k++)for(let $=e[k];!$.isEmpty;$=$.nextLayer)$.maxPoint>=g&&y.push(new LayerCursor($,r,g,k));return y.length==1?y[0]:new HeapCursor(y)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let g of this.heap)g.goto(e,r);for(let g=this.heap.length>>1;g>=0;g--)heapBubble(this.heap,g);return this.next(),this}forward(e,r){for(let g of this.heap)g.forward(e,r);for(let g=this.heap.length>>1;g>=0;g--)heapBubble(this.heap,g);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(n,e){for(let r=n[e];;){let g=(e<<1)+1;if(g>=n.length)break;let y=n[g];if(g+1<n.length&&y.compare(n[g+1])>=0&&(y=n[g+1],g++),r.compare(y)<0)break;n[g]=r,n[e]=y,e=g}}class SpanCursor{constructor(e,r,g){this.minPoint=g,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,r,g)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let r=0,{value:g,to:y,rank:k}=this.cursor;for(;r<this.activeRank.length&&(k-this.activeRank[r]||y-this.activeTo[r])>0;)r++;insert(this.active,r,g),insert(this.activeTo,r,y),insert(this.activeRank,r,k),e&&insert(e,r,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let g=this.openStart<0?[]:null;for(;;){let y=this.minActive;if(y>-1&&(this.activeTo[y]-this.cursor.from||this.active[y].endSide-this.cursor.startSide)<0){if(this.activeTo[y]>e){this.to=this.activeTo[y],this.endSide=this.active[y].endSide;break}this.removeActive(y),g&&remove(g,y)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let k=this.cursor.value;if(!k.point)this.addActive(g),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=k,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=k.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(g){this.openStart=0;for(let y=g.length-1;y>=0&&g[y]<e;y--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let g=this.active.length-1;g>=0&&!(this.activeRank[g]<this.pointRank);g--)(this.activeTo[g]>e||this.activeTo[g]==e&&this.active[g].endSide>=this.point.endSide)&&r.push(this.active[g]);return r.reverse()}openEnd(e){let r=0;for(let g=this.activeTo.length-1;g>=0&&this.activeTo[g]>e;g--)r++;return r}}function compare(n,e,r,g,y,k){n.goto(e),r.goto(g);let $=g+y,V=g,L=g-e;for(;;){let z=n.to+L-r.to,j=z||n.endSide-r.endSide,re=j<0?n.to+L:r.to,oe=Math.min(re,$);if(n.point||r.point?n.point&&r.point&&(n.point==r.point||n.point.eq(r.point))&&sameValues(n.activeForPoint(n.to),r.activeForPoint(r.to))||k.comparePoint(V,oe,n.point,r.point):oe>V&&!sameValues(n.active,r.active)&&k.compareRange(V,oe,n.active,r.active),re>$)break;(z||n.openEnd!=r.openEnd)&&k.boundChange&&k.boundChange(re),V=re,j<=0&&n.next(),j>=0&&r.next()}}function sameValues(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!=e[r]&&!n[r].eq(e[r]))return!1;return!0}function remove(n,e){for(let r=e,g=n.length-1;r<g;r++)n[r]=n[r+1];n.pop()}function insert(n,e,r){for(let g=n.length-1;g>=e;g--)n[g+1]=n[g];n[e]=r}function findMinIndex(n,e){let r=-1,g=1e9;for(let y=0;y<e.length;y++)(e[y]-g||n[y].endSide-n[r].endSide)<0&&(r=y,g=e[y]);return r}function countColumn(n,e,r=n.length){let g=0;for(let y=0;y<r;)n.charCodeAt(y)==9?(g+=e-g%e,y++):(g++,y=findClusterBreak(n,y));return g}function findColumn(n,e,r,g){for(let y=0,k=0;;){if(k>=e)return y;if(y==n.length)break;k+=n.charCodeAt(y)==9?r-k%r:1,y=findClusterBreak(n,y)}return g===!0?-1:n.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,r){this.rules=[];let{finish:g}=r||{};function y($){return/^@/.test($)?[$]:$.split(/,\s*/)}function k($,V,L,z){let j=[],re=/^@(\w+)\b/.exec($[0]),oe=re&&re[1]=="keyframes";if(re&&V==null)return L.push($[0]+";");for(let ae in V){let de=V[ae];if(/&/.test(ae))k(ae.split(/,\s*/).map(ue=>$.map(pe=>ue.replace(/&/,pe))).reduce((ue,pe)=>ue.concat(pe)),de,L);else if(de&&typeof de=="object"){if(!re)throw new RangeError("The value of a property ("+ae+") should be a primitive value.");k(y(ae),de,j,oe)}else de!=null&&j.push(ae.replace(/_.*/,"").replace(/[A-Z]/g,ue=>"-"+ue.toLowerCase())+": "+de+";")}(j.length||oe)&&L.push((g&&!re&&!z?$.map(g):$).join(", ")+" {"+j.join(" ")+"}")}for(let $ in e)k(y($),e[$],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,r,g){let y=e[SET],k=g&&g.nonce;y?k&&y.setNonce(k):y=new StyleSet(e,k),y.mount(Array.isArray(r)?r:[r],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,r){let g=e.ownerDocument||e,y=g.defaultView;if(!e.head&&e.adoptedStyleSheets&&y.CSSStyleSheet){let k=adoptedSet.get(g);if(k)return e[SET]=k;this.sheet=new y.CSSStyleSheet,adoptedSet.set(g,this)}else this.styleTag=g.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[SET]=this}mount(e,r){let g=this.sheet,y=0,k=0;for(let $=0;$<e.length;$++){let V=e[$],L=this.modules.indexOf(V);if(L<k&&L>-1&&(this.modules.splice(L,1),k--,L=-1),L==-1){if(this.modules.splice(k++,0,V),g)for(let z=0;z<V.rules.length;z++)g.insertRule(V.rules[z],y++)}else{for(;k<L;)y+=this.modules[k++].rules.length;y+=V.rules.length,k++}}if(g)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let $="";for(let L=0;L<this.modules.length;L++)$+=this.modules[L].getRules()+`
`;this.styleTag.textContent=$;let V=r.head||r;this.styleTag.parentNode!=V&&V.insertBefore(this.styleTag,V.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(n){var e=mac&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ie$1&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",r=!e&&n.key||(n.shiftKey?shift:base)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function getSelection(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function contains(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(n,e){if(!e.anchorNode)return!1;try{return contains(n,e.anchorNode)}catch{return!1}}function clientRectsFor(n){return n.nodeType==3?textRange(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function isEquivalentPosition(n,e,r,g){return r?scanFor(n,e,r,g,-1)||scanFor(n,e,r,g,1):!1}function domIndex(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function isBlockElement(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function scanFor(n,e,r,g,y){for(;;){if(n==r&&e==g)return!0;if(e==(y<0?0:maxOffset(n))){if(n.nodeName=="DIV")return!1;let k=n.parentNode;if(!k||k.nodeType!=1)return!1;e=domIndex(n)+(y<0?0:1),n=k}else if(n.nodeType==1){if(n=n.childNodes[e+(y<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=y<0?maxOffset(n):0}else return!1}}function maxOffset(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function flattenRect(n,e){let r=e?n.left:n.right;return{left:r,right:r,top:n.top,bottom:n.bottom}}function windowRect(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function getScale(n,e){let r=e.width/n.offsetWidth,g=e.height/n.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-n.offsetWidth)<1)&&(r=1),(g>.995&&g<1.005||!isFinite(g)||Math.abs(e.height-n.offsetHeight)<1)&&(g=1),{scaleX:r,scaleY:g}}function scrollRectIntoView(n,e,r,g,y,k,$,V){let L=n.ownerDocument,z=L.defaultView||window;for(let j=n,re=!1;j&&!re;)if(j.nodeType==1){let oe,ae=j==L.body,de=1,ue=1;if(ae)oe=windowRect(z);else{if(/^(fixed|sticky)$/.test(getComputedStyle(j).position)&&(re=!0),j.scrollHeight<=j.clientHeight&&j.scrollWidth<=j.clientWidth){j=j.assignedSlot||j.parentNode;continue}let Oe=j.getBoundingClientRect();({scaleX:de,scaleY:ue}=getScale(j,Oe)),oe={left:Oe.left,right:Oe.left+j.clientWidth*de,top:Oe.top,bottom:Oe.top+j.clientHeight*ue}}let pe=0,he=0;if(y=="nearest")e.top<oe.top?(he=-(oe.top-e.top+$),r>0&&e.bottom>oe.bottom+he&&(he=e.bottom-oe.bottom+he+$)):e.bottom>oe.bottom&&(he=e.bottom-oe.bottom+$,r<0&&e.top-he<oe.top&&(he=-(oe.top+he-e.top+$)));else{let Oe=e.bottom-e.top,xe=oe.bottom-oe.top;he=(y=="center"&&Oe<=xe?e.top+Oe/2-xe/2:y=="start"||y=="center"&&r<0?e.top-$:e.bottom-xe+$)-oe.top}if(g=="nearest"?e.left<oe.left?(pe=-(oe.left-e.left+k),r>0&&e.right>oe.right+pe&&(pe=e.right-oe.right+pe+k)):e.right>oe.right&&(pe=e.right-oe.right+k,r<0&&e.left<oe.left+pe&&(pe=-(oe.left+pe-e.left+k))):pe=(g=="center"?e.left+(e.right-e.left)/2-(oe.right-oe.left)/2:g=="start"==V?e.left-k:e.right-(oe.right-oe.left)+k)-oe.left,pe||he)if(ae)z.scrollBy(pe,he);else{let Oe=0,xe=0;if(he){let $e=j.scrollTop;j.scrollTop+=he/ue,xe=(j.scrollTop-$e)*ue}if(pe){let $e=j.scrollLeft;j.scrollLeft+=pe/de,Oe=(j.scrollLeft-$e)*de}e={left:e.left-Oe,top:e.top-xe,right:e.right-Oe,bottom:e.bottom-xe},Oe&&Math.abs(Oe-pe)<1&&(g="nearest"),xe&&Math.abs(xe-he)<1&&(y="nearest")}if(ae)break;j=j.assignedSlot||j.parentNode}else if(j.nodeType==11)j=j.host;else break}function scrollableParents(n){let e=n.ownerDocument,r,g;for(let y=n.parentNode;y&&!(y==e.body||r&&g);)if(y.nodeType==1)!g&&y.scrollHeight>y.clientHeight&&(g=y),!r&&y.scrollWidth>y.clientWidth&&(r=y),y=y.assignedSlot||y.parentNode;else if(y.nodeType==11)y=y.host;else break;return{x:r,y:g}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:g}=e;this.set(r,Math.min(e.anchorOffset,r?maxOffset(r):0),g,Math.min(e.focusOffset,g?maxOffset(g):0))}set(e,r,g,y){this.anchorNode=e,this.anchorOffset=r,this.focusNode=g,this.focusOffset=y}}let preventScrollSupported=null;function focusPreventScroll(n){if(n.setActive)return n.setActive();if(preventScrollSupported)return n.focus(preventScrollSupported);let e=[];for(let r=n;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(n.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let r=0;r<e.length;){let g=e[r++],y=e[r++],k=e[r++];g.scrollTop!=y&&(g.scrollTop=y),g.scrollLeft!=k&&(g.scrollLeft=k)}}}let scratchRange;function textRange(n,e,r=e){let g=scratchRange||(scratchRange=document.createRange());return g.setEnd(n,r),g.setStart(n,e),g}function dispatchKey(n,e,r,g){let y={key:e,code:e,keyCode:r,which:r,cancelable:!0};g&&({altKey:y.altKey,ctrlKey:y.ctrlKey,shiftKey:y.shiftKey,metaKey:y.metaKey}=g);let k=new KeyboardEvent("keydown",y);k.synthetic=!0,n.dispatchEvent(k);let $=new KeyboardEvent("keyup",y);return $.synthetic=!0,n.dispatchEvent($),k.defaultPrevented||$.defaultPrevented}function getRoot(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function clearAttributes(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function atElementStart(n,e){let r=e.focusNode,g=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=g)return!1;for(g=Math.min(g,maxOffset(r));;)if(g){if(r.nodeType!=1)return!1;let y=r.childNodes[g-1];y.contentEditable=="false"?g--:(r=y,g=maxOffset(r))}else{if(r==n)return!0;g=domIndex(r),r=r.parentNode}}function isScrolledToBottom(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function textNodeBefore(n,e){for(let r=n,g=e;;){if(r.nodeType==3&&g>0)return{node:r,offset:g};if(r.nodeType==1&&g>0){if(r.contentEditable=="false")return null;r=r.childNodes[g-1],g=maxOffset(r)}else if(r.parentNode&&!isBlockElement(r))g=domIndex(r),r=r.parentNode;else return null}}function textNodeAfter(n,e){for(let r=n,g=e;;){if(r.nodeType==3&&g<r.nodeValue.length)return{node:r,offset:g};if(r.nodeType==1&&g<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[g],g=0}else if(r.parentNode&&!isBlockElement(r))g=domIndex(r)+1,r=r.parentNode;else return null}}class DOMPos{constructor(e,r,g=!0){this.node=e,this.offset=r,this.precise=g}static before(e,r){return new DOMPos(e.parentNode,domIndex(e),r)}static after(e,r){return new DOMPos(e.parentNode,domIndex(e)+1,r)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let g of this.children){if(g==e)return r;r+=g.length+g.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let g=this.dom,y=null,k;for(let $ of this.children){if($.flags&7){if(!$.dom&&(k=y?y.nextSibling:g.firstChild)){let V=ContentView.get(k);(!V||!V.parent&&V.canReuseDOM($))&&$.reuseDOM(k)}$.sync(e,r),$.flags&=-8}if(k=y?y.nextSibling:g.firstChild,r&&!r.written&&r.node==g&&k!=$.dom&&(r.written=!0),$.dom.parentNode==g)for(;k&&k!=$.dom;)k=rm$1(k);else g.insertBefore($.dom,k);y=$.dom}for(k=y?y.nextSibling:g.firstChild,k&&r&&r.node==g&&(r.written=!0);k;)k=rm$1(k)}else if(this.flags&1)for(let g of this.children)g.flags&7&&(g.sync(e,r),g.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let g;if(e==this.dom)g=this.dom.childNodes[r];else{let y=maxOffset(e)==0?0:r==0?-1:1;for(;;){let k=e.parentNode;if(k==this.dom)break;y==0&&k.firstChild!=k.lastChild&&(e==k.firstChild?y=-1:y=1),e=k}y<0?g=e:g=e.nextSibling}if(g==this.dom.firstChild)return 0;for(;g&&!ContentView.get(g);)g=g.nextSibling;if(!g)return this.length;for(let y=0,k=0;;y++){let $=this.children[y];if($.dom==g)return k;k+=$.length+$.breakAfter}}domBoundsAround(e,r,g=0){let y=-1,k=-1,$=-1,V=-1;for(let L=0,z=g,j=g;L<this.children.length;L++){let re=this.children[L],oe=z+re.length;if(z<e&&oe>r)return re.domBoundsAround(e,r,z);if(oe>=e&&y==-1&&(y=L,k=z),z>r&&re.dom.parentNode==this.dom){$=L,V=j;break}j=oe,z=oe+re.breakAfter}return{from:k,to:V<0?g+this.length:V,startDOM:(y?this.children[y-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:$<this.children.length&&$>=0?this.children[$].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,g=noChildren){this.markDirty();for(let y=e;y<r;y++){let k=this.children[y];k.parent==this&&g.indexOf(k)<0&&k.destroy()}g.length<250?this.children.splice(e,r-e,...g):this.children=[].concat(this.children.slice(0,e),g,this.children.slice(r));for(let y=0;y<g.length;y++)g[y].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,g,y,k,$){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ChildCursor{constructor(e,r,g){this.children=e,this.pos=r,this.i=g,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let g=this.children[--this.i];this.pos-=g.length+g.breakAfter}}}function replaceRange(n,e,r,g,y,k,$,V,L){let{children:z}=n,j=z.length?z[e]:null,re=k.length?k[k.length-1]:null,oe=re?re.breakAfter:$;if(!(e==g&&j&&!$&&!oe&&k.length<2&&j.merge(r,y,k.length?re:null,r==0,V,L))){if(g<z.length){let ae=z[g];ae&&(y<ae.length||ae.breakAfter&&re?.breakAfter)?(e==g&&(ae=ae.split(y),y=0),!oe&&re&&ae.merge(0,y,re,!0,0,L)?k[k.length-1]=ae:((y||ae.children.length&&!ae.children[0].length)&&ae.merge(0,y,null,!1,0,L),k.push(ae))):ae?.breakAfter&&(re?re.breakAfter=1:$=1),g++}for(j&&(j.breakAfter=$,r>0&&(!$&&k.length&&j.merge(r,j.length,k[0],!1,V,0)?j.breakAfter=k.shift().breakAfter:(r<j.length||j.children.length&&j.children[j.children.length-1].length==0)&&j.merge(r,j.length,null,!1,V,0),e++));e<g&&k.length;)if(z[g-1].become(k[k.length-1]))g--,k.pop(),L=k.length?0:V;else if(z[e].become(k[0]))e++,k.shift(),V=k.length?0:L;else break;!k.length&&e&&g<z.length&&!z[e-1].breakAfter&&z[g].merge(0,0,z[e-1],!1,V,L)&&e--,(e<g||k.length)&&n.replaceChildren(e,g,k)}}function mergeChildrenInto(n,e,r,g,y,k){let $=n.childCursor(),{i:V,off:L}=$.findPos(r,1),{i:z,off:j}=$.findPos(e,-1),re=e-r;for(let oe of g)re+=oe.length;n.length+=re,replaceRange(n,z,j,V,L,g,0,y,k)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,g){return this.flags&8||g&&(!(g instanceof TextView)||this.length-(r-e)+g.length>MaxJoinLen||g.flags&8)?!1:(this.text=this.text.slice(0,e)+(g?g.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,r,g){return{from:g,to:g+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return textCoords(this.dom,e,r)}}class MarkView extends ContentView{constructor(e,r=[],g=0){super(),this.mark=e,this.children=r,this.length=g;for(let y of r)y.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,g,y,k,$){return g&&(!(g instanceof MarkView&&g.mark.eq(this.mark))||e&&k<=0||r<this.length&&$<=0)?!1:(mergeChildrenInto(this,e,r,g?g.children.slice():[],k-1,$-1),this.markDirty(),!0)}split(e){let r=[],g=0,y=-1,k=0;for(let V of this.children){let L=g+V.length;L>e&&r.push(g<e?V.split(e-g):V),y<0&&g>=e&&(y=k),g=L,k++}let $=this.length-e;return this.length=e,y>-1&&(this.children.length=y,this.markDirty()),new MarkView(this.mark,r,$)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,r){return coordsInChildren(this,e,r)}}function textCoords(n,e,r){let g=n.nodeValue.length;e>g&&(e=g);let y=e,k=e,$=0;e==0&&r<0||e==g&&r>=0?browser.chrome||browser.gecko||(e?(y--,$=1):k<g&&(k++,$=-1)):r<0?y--:k<g&&k++;let V=textRange(n,y,k).getClientRects();if(!V.length)return null;let L=V[($?$<0:r>=0)?0:V.length-1];return browser.safari&&!$&&L.width==0&&(L=Array.prototype.find.call(V,z=>z.width)||L),$?flattenRect(L,$<0):L||null}class WidgetView extends ContentView{static create(e,r,g){return new WidgetView(e,r,g)}constructor(e,r,g){super(),this.widget=e,this.length=r,this.side=g,this.prevWidget=null}split(e){let r=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,g,y,k,$){return g&&(!(g instanceof WidgetView)||!this.widget.compare(g.widget)||e>0&&k<=0||r<this.length&&$<=0)?!1:(this.length=e+(g?g.length:0)+(this.length-r),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,g=r&&r.state.doc,y=this.posAtStart;return g?g.slice(y,y+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let g=this.widget.coordsAt(this.dom,e,r);if(g)return g;let y=this.dom.getClientRects(),k=null;if(!y.length)return null;let $=this.side?this.side<0:e>0;for(let V=$?y.length-1:0;k=y[V],!(e>0?V==0:V==y.length-1||k.top<k.bottom);V+=$?-1:1);return flattenRect(k,!$)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(n,e){let r=n.dom,{children:g}=n,y=0;for(let k=0;y<g.length;y++){let $=g[y],V=k+$.length;if(!(V==k&&$.getSide()<=0)){if(e>k&&e<V&&$.dom.parentNode==r)return $.domAtPos(e-k);if(e<=k)break;k=V}}for(let k=y;k>0;k--){let $=g[k-1];if($.dom.parentNode==r)return $.domAtPos($.length)}for(let k=y;k<g.length;k++){let $=g[k];if($.dom.parentNode==r)return $.domAtPos(0)}return new DOMPos(r,0)}function joinInlineInto(n,e,r){let g,{children:y}=n;r>0&&e instanceof MarkView&&y.length&&(g=y[y.length-1])instanceof MarkView&&g.mark.eq(e.mark)?joinInlineInto(g,e.children[0],r-1):(y.push(e),e.setParent(n)),n.length+=e.length}function coordsInChildren(n,e,r){let g=null,y=-1,k=null,$=-1;function V(z,j){for(let re=0,oe=0;re<z.children.length&&oe<=j;re++){let ae=z.children[re],de=oe+ae.length;de>=j&&(ae.children.length?V(ae,j-oe):(!k||k.isHidden&&r>0)&&(de>j||oe==de&&ae.getSide()>0)?(k=ae,$=j-oe):(oe<j||oe==de&&ae.getSide()<0&&!ae.isHidden)&&(g=ae,y=j-oe)),oe=de}}V(n,e);let L=(r<0?g:k)||g||k;return L?L.coordsAt(Math.max(0,L==g?y:$),r):fallbackRect(n)}function fallbackRect(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let r=clientRectsFor(e);return r[r.length-1]||null}function combineAttrs(n,e){for(let r in n)r=="class"&&e.class?e.class+=" "+n.class:r=="style"&&e.style?e.style+=";"+n.style:e[r]=n[r];return e}const noAttrs$1=Object.create(null);function attrsEq(n,e,r){if(n==e)return!0;n||(n=noAttrs$1),e||(e=noAttrs$1);let g=Object.keys(n),y=Object.keys(e);if(g.length-(r&&g.indexOf(r)>-1?1:0)!=y.length-(r&&y.indexOf(r)>-1?1:0))return!1;for(let k of g)if(k!=r&&(y.indexOf(k)==-1||n[k]!==e[k]))return!1;return!0}function updateAttrs(n,e,r){let g=!1;if(e)for(let y in e)r&&y in r||(g=!0,y=="style"?n.style.cssText="":n.removeAttribute(y));if(r)for(let y in r)e&&e[y]==r[y]||(g=!0,y=="style"?n.style.cssText=r[y]:n.setAttribute(y,r[y]));return g}function getAttrs(n){let e=Object.create(null);for(let r=0;r<n.attributes.length;r++){let g=n.attributes[r];e[g.name]=g.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,g){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,r,g,y){super(),this.startSide=e,this.endSide=r,this.widget=g,this.spec=y}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),g=!!e.block;return r+=g&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new PointDecoration(e,r,r,g,e.widget||null,!1)}static replace(e){let r=!!e.block,g,y;if(e.isBlockGap)g=-5e8,y=4e8;else{let{start:k,end:$}=getInclusive(e,r);g=(k?r?-3e8:-1:5e8)-1,y=($?r?2e8:1:-6e8)+1}return new PointDecoration(e,g,y,r,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,r=!1){return RangeSet.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:r,end:g}=getInclusive(e);super(r?-1:5e8,g?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,g;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((g=e.attrs)===null||g===void 0?void 0:g.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,r,g,y,k,$){super(r,g,k,e),this.block=y,this.isReplace=$,this.mapMode=y?r<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}PointDecoration.prototype.point=!0;function getInclusive(n,e=!1){let{inclusiveStart:r,inclusiveEnd:g}=n;return r==null&&(r=n.inclusive),g==null&&(g=n.inclusive),{start:r??e,end:g??e}}function widgetsEq(n,e){return n==e||!!(n&&e&&n.compare(e))}function addRange(n,e,r,g=0){let y=r.length-1;y>=0&&r[y]+g>=n?r[y]=Math.max(r[y],e):r.push(n,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,g,y,k,$){if(g){if(!(g instanceof LineView))return!1;this.dom||g.transferDOM(this)}return y&&this.setDeco(g?g.attrs:null),mergeChildrenInto(this,e,r,g?g.children.slice():[],k,$),!0}split(e){let r=new LineView;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:g,off:y}=this.childPos(e);y&&(r.append(this.children[g].split(y),0),this.children[g].merge(y,this.children[g].length,null,!1,0,0),g++);for(let k=g;k<this.children.length;k++)r.append(this.children[k],0);for(;g>0&&this.children[g-1].length==0;)this.children[--g].destroy();return this.children.length=g,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){joinInlineInto(this,e,r)}addLineDeco(e){let r=e.spec.attributes,g=e.spec.class;r&&(this.attrs=combineAttrs(r,this.attrs||{})),g&&(this.attrs=combineAttrs({class:g},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var g;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let y=this.dom.lastChild;for(;y&&ContentView.get(y)instanceof MarkView;)y=y.lastChild;if(!y||!this.length||y.nodeName!="BR"&&((g=ContentView.get(y))===null||g===void 0?void 0:g.isEditable)==!1&&(!browser.ios||!this.children.some(k=>k instanceof TextView))){let k=document.createElement("BR");k.cmIgnore=!0,this.dom.appendChild(k)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let g of this.children){if(!(g instanceof TextView)||/[^ -~]/.test(g.text))return null;let y=clientRectsFor(g.dom);if(y.length!=1)return null;e+=y[0].width,r=y[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let g=coordsInChildren(this,e,r);if(!this.children.length&&g&&this.parent){let{heightOracle:y}=this.parent.view.viewState,k=g.bottom-g.top;if(Math.abs(k-y.lineHeight)<2&&y.textHeight<k){let $=(k-y.textHeight)/2;return{top:g.top+$,bottom:g.bottom-$,left:g.left,right:g.left}}}return g}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let g=0,y=0;g<e.children.length;g++){let k=e.children[g],$=y+k.length;if($>=r){if(k instanceof LineView)return k;if($>r)break}y=$+k.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,r,g){super(),this.widget=e,this.length=r,this.deco=g,this.breakAfter=0,this.prevWidget=null}merge(e,r,g,y,k,$){return g&&(!(g instanceof BlockWidgetView)||!this.widget.compare(g.widget)||e>0&&k<=0||r<this.length&&$<=0)?!1:(this.length=e+(g?g.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let g=new BlockWidgetView(this.widget,r,this.deco);return g.breakAfter=this.breakAfter,g}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let g=this.widget.coordsAt(this.dom,e,r);return g||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:g}=this.deco;return r==g?!1:e<0?r<0:g>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,r,g,y){this.doc=e,this.pos=r,this.end=g,this.disallowBlockEffectsFor=y,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,r,g){for(;e>0;){if(this.textOff==this.text.length){let{value:k,lineBreak:$,done:V}=this.cursor.next(this.skip);if(this.skip=0,V)throw new Error("Ran out of text content when drawing inline views");if($){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=k,this.textOff=0}let y=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-g)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+y)),r),g),this.atCursorPos=!0,this.textOff+=y,e-=y,g=0}}span(e,r,g,y){this.buildText(r-e,g,y),this.pos=r,this.openStart<0&&(this.openStart=y)}point(e,r,g,y,k,$){if(this.disallowBlockEffectsFor[$]&&g instanceof PointDecoration){if(g.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let V=r-e;if(g instanceof PointDecoration)if(g.block)g.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(g.widget||NullWidget.block,V,g));else{let L=WidgetView.create(g.widget||NullWidget.inline,V,V?0:g.startSide),z=this.atCursorPos&&!L.isEditable&&k<=y.length&&(e<r||g.startSide>0),j=!L.isEditable&&(e<r||k>y.length||g.startSide<=0),re=this.getLine();this.pendingBuffer==2&&!z&&!L.isEditable&&(this.pendingBuffer=0),this.flushBuffer(y),z&&(re.append(wrapMarks(new WidgetBufferView(1),y),k),k=y.length+Math.max(0,k-y.length)),re.append(wrapMarks(L,y),k),this.atCursorPos=j,this.pendingBuffer=j?e<r||k>y.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=y.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(g);V&&(this.textOff+V<=this.text.length?this.textOff+=V:(this.skip+=V-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=k)}static build(e,r,g,y,k){let $=new ContentBuilder(e,r,g,k);return $.openEnd=RangeSet.spans(y,r,g,$),$.openStart<0&&($.openStart=$.openEnd),$.finish($.openEnd),$}}function wrapMarks(n,e){for(let r of e)n=new MarkView(r,[n],n.length);return n}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(n){let e=[];for(let r=0;r<n.length;r++)e.push(1<<+n[r]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),r=n.charCodeAt(1);Brackets[e]=r,Brackets[r]=-e}function charType(n){return n<=247?LowTypes[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ArabicTypes[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,r,g){this.from=e,this.to=r,this.level=g}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,g,y){let k=-1;for(let $=0;$<e.length;$++){let V=e[$];if(V.from<=r&&V.to>=r){if(V.level==g)return $;(k<0||(y!=0?y<0?V.from<r:V.to>r:e[k].level>V.level))&&(k=$)}}if(k<0)throw new RangeError("Index out of range");return k}}function isolatesEq(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++){let g=n[r],y=e[r];if(g.from!=y.from||g.to!=y.to||g.direction!=y.direction||!isolatesEq(g.inner,y.inner))return!1}return!0}const types=[];function computeCharTypes(n,e,r,g,y){for(let k=0;k<=g.length;k++){let $=k?g[k-1].to:e,V=k<g.length?g[k].from:r,L=k?256:y;for(let z=$,j=L,re=L;z<V;z++){let oe=charType(n.charCodeAt(z));oe==512?oe=j:oe==8&&re==4&&(oe=16),types[z]=oe==4?2:oe,oe&7&&(re=oe),j=oe}for(let z=$,j=L,re=L;z<V;z++){let oe=types[z];if(oe==128)z<V-1&&j==types[z+1]&&j&24?oe=types[z]=j:types[z]=256;else if(oe==64){let ae=z+1;for(;ae<V&&types[ae]==64;)ae++;let de=z&&j==8||ae<r&&types[ae]==8?re==1?1:8:256;for(let ue=z;ue<ae;ue++)types[ue]=de;z=ae-1}else oe==8&&re==1&&(types[z]=1);j=oe,oe&7&&(re=oe)}}}function processBracketPairs(n,e,r,g,y){let k=y==1?2:1;for(let $=0,V=0,L=0;$<=g.length;$++){let z=$?g[$-1].to:e,j=$<g.length?g[$].from:r;for(let re=z,oe,ae,de;re<j;re++)if(ae=Brackets[oe=n.charCodeAt(re)])if(ae<0){for(let ue=V-3;ue>=0;ue-=3)if(BracketStack[ue+1]==-ae){let pe=BracketStack[ue+2],he=pe&2?y:pe&4?pe&1?k:y:0;he&&(types[re]=types[BracketStack[ue]]=he),V=ue;break}}else{if(BracketStack.length==189)break;BracketStack[V++]=re,BracketStack[V++]=oe,BracketStack[V++]=L}else if((de=types[re])==2||de==1){let ue=de==y;L=ue?0:1;for(let pe=V-3;pe>=0;pe-=3){let he=BracketStack[pe+2];if(he&2)break;if(ue)BracketStack[pe+2]|=2;else{if(he&4)break;BracketStack[pe+2]|=4}}}}}function processNeutrals(n,e,r,g){for(let y=0,k=g;y<=r.length;y++){let $=y?r[y-1].to:n,V=y<r.length?r[y].from:e;for(let L=$;L<V;){let z=types[L];if(z==256){let j=L+1;for(;;)if(j==V){if(y==r.length)break;j=r[y++].to,V=y<r.length?r[y].from:e}else if(types[j]==256)j++;else break;let re=k==1,oe=(j<e?types[j]:g)==1,ae=re==oe?re?1:2:g;for(let de=j,ue=y,pe=ue?r[ue-1].to:n;de>L;)de==pe&&(de=r[--ue].from,pe=ue?r[ue-1].to:n),types[--de]=ae;L=j}else k=z,L++}}}function emitSpans(n,e,r,g,y,k,$){let V=g%2?2:1;if(g%2==y%2)for(let L=e,z=0;L<r;){let j=!0,re=!1;if(z==k.length||L<k[z].from){let ue=types[L];ue!=V&&(j=!1,re=ue==16)}let oe=!j&&V==1?[]:null,ae=j?g:g+1,de=L;e:for(;;)if(z<k.length&&de==k[z].from){if(re)break e;let ue=k[z];if(!j)for(let pe=ue.to,he=z+1;;){if(pe==r)break e;if(he<k.length&&k[he].from==pe)pe=k[he++].to;else{if(types[pe]==V)break e;break}}if(z++,oe)oe.push(ue);else{ue.from>L&&$.push(new BidiSpan(L,ue.from,ae));let pe=ue.direction==LTR!=!(ae%2);computeSectionOrder(n,pe?g+1:g,y,ue.inner,ue.from,ue.to,$),L=ue.to}de=ue.to}else{if(de==r||(j?types[de]!=V:types[de]==V))break;de++}oe?emitSpans(n,L,de,g+1,y,oe,$):L<de&&$.push(new BidiSpan(L,de,ae)),L=de}else for(let L=r,z=k.length;L>e;){let j=!0,re=!1;if(!z||L>k[z-1].to){let ue=types[L-1];ue!=V&&(j=!1,re=ue==16)}let oe=!j&&V==1?[]:null,ae=j?g:g+1,de=L;e:for(;;)if(z&&de==k[z-1].to){if(re)break e;let ue=k[--z];if(!j)for(let pe=ue.from,he=z;;){if(pe==e)break e;if(he&&k[he-1].to==pe)pe=k[--he].from;else{if(types[pe-1]==V)break e;break}}if(oe)oe.push(ue);else{ue.to<L&&$.push(new BidiSpan(ue.to,L,ae));let pe=ue.direction==LTR!=!(ae%2);computeSectionOrder(n,pe?g+1:g,y,ue.inner,ue.from,ue.to,$),L=ue.from}de=ue.from}else{if(de==e||(j?types[de-1]!=V:types[de-1]==V))break;de--}oe?emitSpans(n,de,L,g+1,y,oe,$):de<L&&$.push(new BidiSpan(de,L,ae)),L=de}}function computeSectionOrder(n,e,r,g,y,k,$){let V=e%2?2:1;computeCharTypes(n,y,k,g,V),processBracketPairs(n,y,k,g,V),processNeutrals(y,k,g,V),emitSpans(n,y,k,e,r,g,$)}function computeOrder(n,e,r){if(!n)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!r.length&&!BidiRE.test(n))return trivialOrder(n.length);if(r.length)for(;n.length>types.length;)types[types.length]=256;let g=[],y=e==LTR?0:1;return computeSectionOrder(n,y,y,r,0,n.length,g),g}function trivialOrder(n){return[new BidiSpan(0,n,0)]}let movedOver="";function moveVisually(n,e,r,g,y){var k;let $=g.head-n.from,V=BidiSpan.find(e,$,(k=g.bidiLevel)!==null&&k!==void 0?k:-1,g.assoc),L=e[V],z=L.side(y,r);if($==z){let oe=V+=y?1:-1;if(oe<0||oe>=e.length)return null;L=e[V=oe],$=L.side(!y,r),z=L.side(y,r)}let j=findClusterBreak(n.text,$,L.forward(y,r));(j<L.from||j>L.to)&&(j=z),movedOver=n.text.slice(Math.min($,j),Math.max($,j));let re=V==(y?e.length-1:0)?null:e[V+(y?1:-1)];return re&&j==z&&re.level+(y?0:1)<L.level?EditorSelection.cursor(re.side(!y,r)+n.from,re.forward(y,r)?1:-1,re.level):EditorSelection.cursor(j+n.from,L.forward(y,r)?-1:1,L.level)}function autoDirection(n,e,r){for(let g=e;g<r;g++){let y=charType(n.charCodeAt(g));if(y==1)return LTR;if(y==2||y==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:n=>n.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:n=>n.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,r="nearest",g="nearest",y=5,k=5,$=!1){this.range=e,this.y=r,this.x=g,this.yMargin=y,this.xMargin=k,this.isSnapshot=$}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(n,e)=>n.map(e)}),setEditContextFormatting=StateEffect.define();function logException(n,e,r){let g=n.facet(exceptionSink);g.length?g[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const editable=Facet.define({combine:n=>n.length?n[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,r,g,y,k){this.id=e,this.create=r,this.domEventHandlers=g,this.domEventObservers=y,this.extension=k(this)}static define(e,r){const{eventHandlers:g,eventObservers:y,provide:k,decorations:$}=r||{};return new ViewPlugin(nextPluginID++,e,g,y,V=>{let L=[viewPlugin.of(V)];return $&&L.push(decorations.of(z=>{let j=z.plugin(V);return j?$(j):Decoration.none})),k&&L.push(k(V)),L})}static fromClass(e,r){return ViewPlugin.define(g=>new e(g),r)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(g){if(logException(r.state,g,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){logException(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(g){logException(e.state,g,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(n,e){let r=n.state.facet(bidiIsolatedRanges);if(!r.length)return r;let g=r.map(k=>k instanceof Function?k(n):k),y=[];return RangeSet.spans(g,e.from,e.to,{point(){},span(k,$,V,L){let z=k-e.from,j=$-e.from,re=y;for(let oe=V.length-1;oe>=0;oe--,L--){let ae=V[oe].spec.bidiIsolate,de;if(ae==null&&(ae=autoDirection(e.text,z,j)),L>0&&re.length&&(de=re[re.length-1]).to==z&&de.direction==ae)de.to=j,re=de.inner;else{let ue={from:z,to:j,direction:ae,inner:[]};re.push(ue),re=ue.inner}}}}),y}const scrollMargins=Facet.define();function getScrollMargins(n){let e=0,r=0,g=0,y=0;for(let k of n.state.facet(scrollMargins)){let $=k(n);$&&($.left!=null&&(e=Math.max(e,$.left)),$.right!=null&&(r=Math.max(r,$.right)),$.top!=null&&(g=Math.max(g,$.top)),$.bottom!=null&&(y=Math.max(y,$.bottom)))}return{left:e,right:r,top:g,bottom:y}}const styleModule=Facet.define();class ChangedRange{constructor(e,r,g,y){this.fromA=e,this.toA=r,this.fromB=g,this.toB=y}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,g=this;for(;r>0;r--){let y=e[r-1];if(!(y.fromA>g.toA)){if(y.toA<g.fromA)break;g=g.join(y),e.splice(r-1,1)}}return e.splice(r,0,g),e}static extendWithRanges(e,r){if(r.length==0)return e;let g=[];for(let y=0,k=0,$=0,V=0;;y++){let L=y==e.length?null:e[y],z=$-V,j=L?L.fromB:1e9;for(;k<r.length&&r[k]<j;){let re=r[k],oe=r[k+1],ae=Math.max(V,re),de=Math.min(j,oe);if(ae<=de&&new ChangedRange(ae+z,de+z,ae,de).addToSet(g),oe>j)break;k+=2}if(!L)return g;new ChangedRange(L.fromA,L.toA,L.fromB,L.toB).addToSet(g),$=L.toA,V=L.toB}}}class ViewUpdate{constructor(e,r,g){this.view=e,this.state=r,this.transactions=g,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let k of g)this.changes=this.changes.compose(k.changes);let y=[];this.changes.iterChangedRanges((k,$,V,L)=>y.push(new ChangedRange(k,$,V,L))),this.changedRanges=y}static create(e,r,g){return new ViewUpdate(e,r,g)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let g=e.changedRanges;this.minWidth>0&&g.length&&(g.every(({fromA:z,toA:j})=>j<this.minWidthFrom||z>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let y=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?y=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(y=e.state.selection.main.head));let k=y>-1?findCompositionRange(this.view,e.changes,y):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:z,to:j}=this.hasComposition;g=new ChangedRange(z,j,e.changes.mapPos(z,-1),e.changes.mapPos(j,1)).addToSet(g.slice())}this.hasComposition=k?{from:k.range.fromB,to:k.range.toB}:null,(browser.ie||browser.chrome)&&!k&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let $=this.decorations,V=this.updateDeco(),L=findChangedDeco($,V,e.changes);return g=ChangedRange.extendWithRanges(g,L),!(this.flags&7)&&g.length==0?!1:(this.updateInner(g,e.startState.doc.length,k),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,g){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,g);let{observer:y}=this.view;y.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let $=browser.chrome||browser.ios?{node:y.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,$),this.flags&=-8,$&&($.written||y.selectionRange.focusNode!=$.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach($=>$.flags&=-9);let k=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let $ of this.children)$ instanceof BlockWidgetView&&$.widget instanceof BlockGapWidget&&k.push($.dom);y.updateGaps(k)}updateChildren(e,r,g){let y=g?g.range.addToSet(e.slice()):e,k=this.childCursor(r);for(let $=y.length-1;;$--){let V=$>=0?y[$]:null;if(!V)break;let{fromA:L,toA:z,fromB:j,toB:re}=V,oe,ae,de,ue;if(g&&g.range.fromB<re&&g.range.toB>j){let $e=ContentBuilder.build(this.view.state.doc,j,g.range.fromB,this.decorations,this.dynamicDecorationMap),Ne=ContentBuilder.build(this.view.state.doc,g.range.toB,re,this.decorations,this.dynamicDecorationMap);ae=$e.breakAtStart,de=$e.openStart,ue=Ne.openEnd;let Ce=this.compositionView(g);Ne.breakAtStart?Ce.breakAfter=1:Ne.content.length&&Ce.merge(Ce.length,Ce.length,Ne.content[0],!1,Ne.openStart,0)&&(Ce.breakAfter=Ne.content[0].breakAfter,Ne.content.shift()),$e.content.length&&Ce.merge(0,0,$e.content[$e.content.length-1],!0,0,$e.openEnd)&&$e.content.pop(),oe=$e.content.concat(Ce).concat(Ne.content)}else({content:oe,breakAtStart:ae,openStart:de,openEnd:ue}=ContentBuilder.build(this.view.state.doc,j,re,this.decorations,this.dynamicDecorationMap));let{i:pe,off:he}=k.findPos(z,1),{i:Oe,off:xe}=k.findPos(L,-1);replaceRange(this,Oe,xe,pe,he,oe,ae,de,ue)}g&&this.fixCompositionDOM(g)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let g of r.effects)g.is(setEditContextFormatting)&&(this.editContextFormatting=g.value)}compositionView(e){let r=new TextView(e.text.nodeValue);r.flags|=8;for(let{deco:y}of e.marks)r=new MarkView(y,[r],r.length);let g=new LineView;return g.append(r,0),g}fixCompositionDOM(e){let r=(k,$)=>{$.flags|=8|($.children.some(L=>L.flags&7)?1:0),this.markedForComposition.add($);let V=ContentView.get(k);V&&V!=$&&(V.dom=null),$.setDOM(k)},g=this.childPos(e.range.fromB,1),y=this.children[g.i];r(e.line,y);for(let k=e.marks.length-1;k>=-1;k--)g=y.childPos(g.off,1),y=y.children[g.i],r(k>=0?e.marks[k].node:e.text,y)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let g=this.view.root.activeElement,y=g==this.dom,k=!y&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(g&&this.dom.contains(g));if(!(y||r||k))return;let $=this.forceSelection;this.forceSelection=!1;let V=this.view.state.selection.main,L=this.moveToLine(this.domAtPos(V.anchor)),z=V.empty?L:this.moveToLine(this.domAtPos(V.head));if(browser.gecko&&V.empty&&!this.hasComposition&&betweenUneditable(L)){let re=document.createTextNode("");this.view.observer.ignore(()=>L.node.insertBefore(re,L.node.childNodes[L.offset]||null)),L=z=new DOMPos(re,0),$=!0}let j=this.view.observer.selectionRange;($||!j.focusNode||(!isEquivalentPosition(L.node,L.offset,j.anchorNode,j.anchorOffset)||!isEquivalentPosition(z.node,z.offset,j.focusNode,j.focusOffset))&&!this.suppressWidgetCursorChange(j,V))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(j.focusNode)&&inUneditable(j.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let re=getSelection(this.view.root);if(re)if(V.empty){if(browser.gecko){let oe=nextToUneditable(L.node,L.offset);if(oe&&oe!=3){let ae=(oe==1?textNodeBefore:textNodeAfter)(L.node,L.offset);ae&&(L=new DOMPos(ae.node,ae.offset))}}re.collapse(L.node,L.offset),V.bidiLevel!=null&&re.caretBidiLevel!==void 0&&(re.caretBidiLevel=V.bidiLevel)}else if(re.extend){re.collapse(L.node,L.offset);try{re.extend(z.node,z.offset)}catch{}}else{let oe=document.createRange();V.anchor>V.head&&([L,z]=[z,L]),oe.setEnd(z.node,z.offset),oe.setStart(L.node,L.offset),re.removeAllRanges(),re.addRange(oe)}k&&this.view.root.activeElement==this.dom&&(this.dom.blur(),g&&g.focus())}),this.view.observer.setSelectionRange(L,z)),this.impreciseAnchor=L.precise?null:new DOMPos(j.anchorNode,j.anchorOffset),this.impreciseHead=z.precise?null:new DOMPos(j.focusNode,j.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,g=getSelection(e.root),{anchorNode:y,anchorOffset:k}=e.observer.selectionRange;if(!g||!r.empty||!r.assoc||!g.modify)return;let $=LineView.find(this,r.head);if(!$)return;let V=$.posAtStart;if(r.head==V||r.head==V+$.length)return;let L=this.coordsAt(r.head,-1),z=this.coordsAt(r.head,1);if(!L||!z||L.bottom>z.top)return;let j=this.domAtPos(r.head+r.assoc);g.collapse(j.node,j.offset),g.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let re=e.observer.selectionRange;e.docView.posFromDOM(re.anchorNode,re.anchorOffset)!=r.from&&g.collapse(y,k)}moveToLine(e){let r=this.dom,g;if(e.node!=r)return e;for(let y=e.offset;!g&&y<r.childNodes.length;y++){let k=ContentView.get(r.childNodes[y]);k instanceof LineView&&(g=k.domAtPos(0))}for(let y=e.offset-1;!g&&y>=0;y--){let k=ContentView.get(r.childNodes[y]);k instanceof LineView&&(g=k.domAtPos(k.length))}return g?new DOMPos(g.node,g.offset,!0):e}nearest(e){for(let r=e;r;){let g=ContentView.get(r);if(g&&g.rootView==this)return g;r=r.parentNode}return null}posFromDOM(e,r){let g=this.nearest(e);if(!g)throw new RangeError("Trying to find position for a DOM position outside of the document");return g.localPosFromDOM(e,r)+g.posAtStart}domAtPos(e){let{i:r,off:g}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let y=this.children[r];if(g<y.length||y instanceof LineView)break;r++,g=0}return this.children[r].domAtPos(g)}coordsAt(e,r){let g=null,y=0;for(let k=this.length,$=this.children.length-1;$>=0;$--){let V=this.children[$],L=k-V.breakAfter,z=L-V.length;if(L<e)break;if(z<=e&&(z<e||V.covers(-1))&&(L>e||V.covers(1))&&(!g||V instanceof LineView&&!(g instanceof LineView&&r>=0)))g=V,y=z;else if(g&&z==e&&L==e&&V instanceof BlockWidgetView&&Math.abs(r)<2){if(V.deco.startSide<0)break;$&&(g=null)}k=z}return g?g.coordsAt(e-y,r):null}coordsForChar(e){let{i:r,off:g}=this.childPos(e,1),y=this.children[r];if(!(y instanceof LineView))return null;for(;y.children.length;){let{i:V,off:L}=y.childPos(g,1);for(;;V++){if(V==y.children.length)return null;if((y=y.children[V]).length)break}g=L}if(!(y instanceof TextView))return null;let k=findClusterBreak(y.text,g);if(k==g)return null;let $=textRange(y.dom,g,k).getClientRects();for(let V=0;V<$.length;V++){let L=$[V];if(V==$.length-1||L.top<L.bottom&&L.left<L.right)return L}return null}measureVisibleLineHeights(e){let r=[],{from:g,to:y}=e,k=this.view.contentDOM.clientWidth,$=k>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,V=-1,L=this.view.textDirection==Direction.LTR;for(let z=0,j=0;j<this.children.length;j++){let re=this.children[j],oe=z+re.length;if(oe>y)break;if(z>=g){let ae=re.dom.getBoundingClientRect();if(r.push(ae.height),$){let de=re.dom.lastChild,ue=de?clientRectsFor(de):[];if(ue.length){let pe=ue[ue.length-1],he=L?pe.right-ae.left:ae.right-pe.left;he>V&&(V=he,this.minWidth=k,this.minWidthFrom=z,this.minWidthTo=oe)}}}z=oe+re.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let k of this.children)if(k instanceof LineView){let $=k.measureTextSize();if($)return $}let e=document.createElement("div"),r,g,y;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let k=clientRectsFor(e.firstChild)[0];r=e.getBoundingClientRect().height,g=k?k.width/27:7,y=k?k.height:r,e.remove()}),{lineHeight:r,charWidth:g,textHeight:y}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new ChildCursor(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let g=0,y=0;;y++){let k=y==r.viewports.length?null:r.viewports[y],$=k?k.from-1:this.length;if($>g){let V=(r.lineBlockAt($).bottom-r.lineBlockAt(g).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(V),block:!0,inclusive:!0,isBlockGap:!0}).range(g,$))}if(!k)break;g=k.to+1}return Decoration.set(e)}updateDeco(){let e=1,r=this.view.state.facet(decorations).map(k=>(this.dynamicDecorationMap[e++]=typeof k=="function")?k(this.view):k),g=!1,y=this.view.state.facet(outerDecorations).map((k,$)=>{let V=typeof k=="function";return V&&(g=!0),V?k(this.view):k});for(y.length&&(this.dynamicDecorationMap[e++]=g,r.push(RangeSet.join(y))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let z=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=z.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let z of this.view.state.facet(scrollHandler))try{if(z(this.view,e.range,e))return!0}catch(j){logException(this.view.state,j,"scroll handler")}let{range:r}=e,g=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),y;if(!g)return;!r.empty&&(y=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(g={left:Math.min(g.left,y.left),top:Math.min(g.top,y.top),right:Math.max(g.right,y.right),bottom:Math.max(g.bottom,y.bottom)});let k=getScrollMargins(this.view),$={left:g.left-k.left,top:g.top-k.top,right:g.right+k.right,bottom:g.bottom+k.bottom},{offsetWidth:V,offsetHeight:L}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,$,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,V),-V),Math.max(Math.min(e.yMargin,L),-L),this.view.textDirection==Direction.LTR)}}function betweenUneditable(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function findCompositionNode(n,e){let r=n.observer.selectionRange;if(!r.focusNode)return null;let g=textNodeBefore(r.focusNode,r.focusOffset),y=textNodeAfter(r.focusNode,r.focusOffset),k=g||y;if(y&&g&&y.node!=g.node){let V=ContentView.get(y.node);if(!V||V instanceof TextView&&V.text!=y.node.nodeValue)k=y;else if(n.docView.lastCompositionAfterCursor){let L=ContentView.get(g.node);!L||L instanceof TextView&&L.text!=g.node.nodeValue||(k=y)}}if(n.docView.lastCompositionAfterCursor=k!=g,!k)return null;let $=e-k.offset;return{from:$,to:$+k.node.nodeValue.length,node:k.node}}function findCompositionRange(n,e,r){let g=findCompositionNode(n,r);if(!g)return null;let{node:y,from:k,to:$}=g,V=y.nodeValue;if(/[\n\r]/.test(V)||n.state.doc.sliceString(g.from,g.to)!=V)return null;let L=e.invertedDesc,z=new ChangedRange(L.mapPos(k),L.mapPos($),k,$),j=[];for(let re=y.parentNode;;re=re.parentNode){let oe=ContentView.get(re);if(oe instanceof MarkView)j.push({node:re,deco:oe.mark});else{if(oe instanceof LineView||re.nodeName=="DIV"&&re.parentNode==n.contentDOM)return{range:z,text:y,marks:j,line:re};if(re!=n.contentDOM)j.push({node:re,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(re),tagName:re.tagName.toLowerCase()})});else return null}}}function nextToUneditable(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,r){addRange(e,r,this.changes)}comparePoint(e,r){addRange(e,r,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(n,e,r){let g=new DecorationComparator$1;return RangeSet.compare(n,e,r,g),g.changes}function inUneditable(n,e){for(let r=n;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function touchesComposition(n,e){let r=!1;return e&&n.iterChangedRanges((g,y)=>{g<e.to&&y>e.from&&(r=!0)}),r}function groupAt(n,e,r=1){let g=n.charCategorizer(e),y=n.doc.lineAt(e),k=e-y.from;if(y.length==0)return EditorSelection.cursor(e);k==0?r=1:k==y.length&&(r=-1);let $=k,V=k;r<0?$=findClusterBreak(y.text,k,!1):V=findClusterBreak(y.text,k);let L=g(y.text.slice($,V));for(;$>0;){let z=findClusterBreak(y.text,$,!1);if(g(y.text.slice(z,$))!=L)break;$=z}for(;V<y.length;){let z=findClusterBreak(y.text,V);if(g(y.text.slice(V,z))!=L)break;V=z}return EditorSelection.range($+y.from,V+y.from)}function getdx(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function getdy(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function yOverlap(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function upTop(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function upBot(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function domPosAtCoords(n,e,r){let g,y,k,$,V=!1,L,z,j,re;for(let de=n.firstChild;de;de=de.nextSibling){let ue=clientRectsFor(de);for(let pe=0;pe<ue.length;pe++){let he=ue[pe];y&&yOverlap(y,he)&&(he=upTop(upBot(he,y.bottom),y.top));let Oe=getdx(e,he),xe=getdy(r,he);if(Oe==0&&xe==0)return de.nodeType==3?domPosInText(de,e,r):domPosAtCoords(de,e,r);if(!g||$>xe||$==xe&&k>Oe){g=de,y=he,k=Oe,$=xe;let $e=xe?r<he.top?-1:1:Oe?e<he.left?-1:1:0;V=!$e||($e>0?pe<ue.length-1:pe>0)}Oe==0?r>he.bottom&&(!j||j.bottom<he.bottom)?(L=de,j=he):r<he.top&&(!re||re.top>he.top)&&(z=de,re=he):j&&yOverlap(j,he)?j=upBot(j,he.bottom):re&&yOverlap(re,he)&&(re=upTop(re,he.top))}}if(j&&j.bottom>=r?(g=L,y=j):re&&re.top<=r&&(g=z,y=re),!g)return{node:n,offset:0};let oe=Math.max(y.left,Math.min(y.right,e));if(g.nodeType==3)return domPosInText(g,oe,r);if(V&&g.contentEditable!="false")return domPosAtCoords(g,oe,r);let ae=Array.prototype.indexOf.call(n.childNodes,g)+(e>=(y.left+y.right)/2?1:0);return{node:n,offset:ae}}function domPosInText(n,e,r){let g=n.nodeValue.length,y=-1,k=1e9,$=0;for(let V=0;V<g;V++){let L=textRange(n,V,V+1).getClientRects();for(let z=0;z<L.length;z++){let j=L[z];if(j.top==j.bottom)continue;$||($=e-j.left);let re=(j.top>r?j.top-r:r-j.bottom)-1;if(j.left-1<=e&&j.right+1>=e&&re<k){let oe=e>=(j.left+j.right)/2,ae=oe;if((browser.chrome||browser.gecko)&&textRange(n,V).getBoundingClientRect().left==j.right&&(ae=!oe),re<=0)return{node:n,offset:V+(ae?1:0)};y=V+(ae?1:0),k=re}}}return{node:n,offset:y>-1?y:$>0?n.nodeValue.length:0}}function posAtCoords(n,e,r,g=-1){var y,k;let $=n.contentDOM.getBoundingClientRect(),V=$.top+n.viewState.paddingTop,L,{docHeight:z}=n.viewState,{x:j,y:re}=e,oe=re-V;if(oe<0)return 0;if(oe>z)return n.state.doc.length;for(let $e=n.viewState.heightOracle.textHeight/2,Ne=!1;L=n.elementAtHeight(oe),L.type!=BlockType.Text;)for(;oe=g>0?L.bottom+$e:L.top-$e,!(oe>=0&&oe<=z);){if(Ne)return r?null:0;Ne=!0,g=-g}re=V+oe;let ae=L.from;if(ae<n.viewport.from)return n.viewport.from==0?0:r?null:posAtCoordsImprecise(n,$,L,j,re);if(ae>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:r?null:posAtCoordsImprecise(n,$,L,j,re);let de=n.dom.ownerDocument,ue=n.root.elementFromPoint?n.root:de,pe=ue.elementFromPoint(j,re);pe&&!n.contentDOM.contains(pe)&&(pe=null),pe||(j=Math.max($.left+1,Math.min($.right-1,j)),pe=ue.elementFromPoint(j,re),pe&&!n.contentDOM.contains(pe)&&(pe=null));let he,Oe=-1;if(pe&&((y=n.docView.nearest(pe))===null||y===void 0?void 0:y.isEditable)!=!1){if(de.caretPositionFromPoint){let $e=de.caretPositionFromPoint(j,re);$e&&({offsetNode:he,offset:Oe}=$e)}else if(de.caretRangeFromPoint){let $e=de.caretRangeFromPoint(j,re);$e&&({startContainer:he,startOffset:Oe}=$e,(!n.contentDOM.contains(he)||browser.safari&&isSuspiciousSafariCaretResult(he,Oe,j)||browser.chrome&&isSuspiciousChromeCaretResult(he,Oe,j))&&(he=void 0))}he&&(Oe=Math.min(maxOffset(he),Oe))}if(!he||!n.docView.dom.contains(he)){let $e=LineView.find(n.docView,ae);if(!$e)return oe>L.top+L.height/2?L.to:L.from;({node:he,offset:Oe}=domPosAtCoords($e.dom,j,re))}let xe=n.docView.nearest(he);if(!xe)return null;if(xe.isWidget&&((k=xe.dom)===null||k===void 0?void 0:k.nodeType)==1){let $e=xe.dom.getBoundingClientRect();return e.y<$e.top||e.y<=$e.bottom&&e.x<=($e.left+$e.right)/2?xe.posAtStart:xe.posAtEnd}else return xe.localPosFromDOM(he,Oe)+xe.posAtStart}function posAtCoordsImprecise(n,e,r,g,y){let k=Math.round((g-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&r.height>n.defaultLineHeight*1.5){let V=n.viewState.heightOracle.textHeight,L=Math.floor((y-r.top-(n.defaultLineHeight-V)*.5)/V);k+=L*n.viewState.heightOracle.lineLength}let $=n.state.sliceDoc(r.from,r.to);return r.from+findColumn($,k,n.state.tabSize)}function isSuspiciousSafariCaretResult(n,e,r){let g;if(n.nodeType!=3||e!=(g=n.nodeValue.length))return!1;for(let y=n.nextSibling;y;y=y.nextSibling)if(y.nodeType!=1||y.nodeName!="BR")return!1;return textRange(n,g-1,g).getBoundingClientRect().left>r}function isSuspiciousChromeCaretResult(n,e,r){if(e!=0)return!1;for(let y=n;;){let k=y.parentNode;if(!k||k.nodeType!=1||k.firstChild!=y)return!1;if(k.classList.contains("cm-line"))break;y=k}let g=n.nodeType==1?n.getBoundingClientRect():textRange(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return r-g.left>5}function blockAt(n,e){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){for(let g of r.type)if(g.to>e||g.to==e&&(g.to==r.to||g.type==BlockType.Text))return g}return r}function moveToLineBoundary(n,e,r,g){let y=blockAt(n,e.head),k=!g||y.type!=BlockType.Text||!(n.lineWrapping||y.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>y.from?e.head-1:e.head);if(k){let $=n.dom.getBoundingClientRect(),V=n.textDirectionAt(y.from),L=n.posAtCoords({x:r==(V==Direction.LTR)?$.right-1:$.left+1,y:(k.top+k.bottom)/2});if(L!=null)return EditorSelection.cursor(L,r?-1:1)}return EditorSelection.cursor(r?y.to:y.from,r?-1:1)}function moveByChar(n,e,r,g){let y=n.state.doc.lineAt(e.head),k=n.bidiSpans(y),$=n.textDirectionAt(y.from);for(let V=e,L=null;;){let z=moveVisually(y,k,$,V,r),j=movedOver;if(!z){if(y.number==(r?n.state.doc.lines:1))return V;j=`
`,y=n.state.doc.line(y.number+(r?1:-1)),k=n.bidiSpans(y),z=n.visualLineSide(y,!r)}if(L){if(!L(j))return V}else{if(!g)return z;L=g(j)}V=z}}function byGroup(n,e,r){let g=n.state.charCategorizer(e),y=g(r);return k=>{let $=g(k);return y==CharCategory.Space&&(y=$),y==$}}function moveVertically(n,e,r,g){let y=e.head,k=r?1:-1;if(y==(r?n.state.doc.length:0))return EditorSelection.cursor(y,e.assoc);let $=e.goalColumn,V,L=n.contentDOM.getBoundingClientRect(),z=n.coordsAtPos(y,e.assoc||-1),j=n.documentTop;if(z)$==null&&($=z.left-L.left),V=k<0?z.top:z.bottom;else{let ae=n.viewState.lineBlockAt(y);$==null&&($=Math.min(L.right-L.left,n.defaultCharacterWidth*(y-ae.from))),V=(k<0?ae.top:ae.bottom)+j}let re=L.left+$,oe=g??n.viewState.heightOracle.textHeight>>1;for(let ae=0;;ae+=10){let de=V+(oe+ae)*k,ue=posAtCoords(n,{x:re,y:de},!1,k);if(de<L.top||de>L.bottom||(k<0?ue<y:ue>y)){let pe=n.docView.coordsForChar(ue),he=!pe||de<pe.top?-1:1;return EditorSelection.cursor(ue,he,void 0,$)}}}function skipAtomicRanges(n,e,r){for(;;){let g=0;for(let y of n)y.between(e-1,e+1,(k,$,V)=>{if(e>k&&e<$){let L=g||r||(e-k<$-e?-1:1);e=L<0?k:$,g=L}});if(!g)return e}}function skipAtoms(n,e,r){let g=skipAtomicRanges(n.state.facet(atomicRanges).map(y=>y(n)),r.from,e.head>r.from?-1:1);return g==r.from?r:EditorSelection.cursor(g,g<r.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,r){if(!e)return this;let g=e.parentNode;for(let y=e;;){this.findPointBefore(g,y);let k=this.text.length;this.readNode(y);let $=y.nextSibling;if($==r)break;let V=ContentView.get(y),L=ContentView.get($);(V&&L?V.breakAfter:(V?V.breakAfter:isBlockElement(y))||isBlockElement($)&&(y.nodeName!="BR"||y.cmIgnore)&&this.text.length>k)&&this.lineBreak(),y=$}return this.findPointBefore(g,r),this}readTextNode(e){let r=e.nodeValue;for(let g of this.points)g.node==e&&(g.pos=this.text.length+Math.min(g.offset,r.length));for(let g=0,y=this.lineSeparator?null:/\r\n?|\n/g;;){let k=-1,$=1,V;if(this.lineSeparator?(k=r.indexOf(this.lineSeparator,g),$=this.lineSeparator.length):(V=y.exec(r))&&(k=V.index,$=V[0].length),this.append(r.slice(g,k<0?r.length:k)),k<0)break;if(this.lineBreak(),$>1)for(let L of this.points)L.node==e&&L.pos>this.text.length&&(L.pos-=$-1);g=k+$}}readNode(e){if(e.cmIgnore)return;let r=ContentView.get(e),g=r&&r.overrideDOMText;if(g!=null){this.findPointInside(e,g.length);for(let y=g.iter();!y.next().done;)y.lineBreak?this.lineBreak():this.append(y.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let g of this.points)g.node==e&&e.childNodes[g.offset]==r&&(g.pos=this.text.length)}findPointInside(e,r){for(let g of this.points)(e.nodeType==3?g.node==e:e.contains(g.node))&&(g.pos=this.text.length+(isAtEnd(e,g.node,g.offset)?r:0))}}function isAtEnd(n,e,r){for(;;){if(!e||r<maxOffset(e))return!1;if(e==n)return!0;r=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class DOMChange{constructor(e,r,g,y){this.typeOver=y,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:k,impreciseAnchor:$}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,g,0))){let V=k||$?[]:selectionPoints(e),L=new DOMReader(V,e.state);L.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=L.text,this.newSel=selectionFromPoints(V,this.bounds.from)}else{let V=e.observer.selectionRange,L=k&&k.node==V.focusNode&&k.offset==V.focusOffset||!contains(e.contentDOM,V.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(V.focusNode,V.focusOffset),z=$&&$.node==V.anchorNode&&$.offset==V.anchorOffset||!contains(e.contentDOM,V.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(V.anchorNode,V.anchorOffset),j=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&L!=z&&(j.from>0||j.to<e.state.doc.length)){let re=Math.min(L,z),oe=Math.max(L,z),ae=j.from-re,de=j.to-oe;(ae==0||ae==1||re==0)&&(de==0||de==-1||oe==e.state.doc.length)&&(L=0,z=e.state.doc.length)}this.newSel=EditorSelection.single(z,L)}}}function applyDOMChange(n,e){let r,{newSel:g}=e,y=n.state.selection.main,k=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:$,to:V}=e.bounds,L=y.from,z=null;(k===8||browser.android&&e.text.length<V-$)&&(L=y.to,z="end");let j=findDiff(n.state.doc.sliceString($,V,LineBreakPlaceholder),e.text,L-$,z);j&&(browser.chrome&&k==13&&j.toB==j.from+2&&e.text.slice(j.from,j.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&j.toB--,r={from:$+j.from,to:$+j.toA,insert:Text.of(e.text.slice(j.from,j.toB).split(LineBreakPlaceholder))})}else g&&(!n.hasFocus&&n.state.facet(editable)||g.main.eq(y))&&(g=null);if(!r&&!g)return!1;if(!r&&e.typeOver&&!y.empty&&g&&g.main.empty?r={from:y.from,to:y.to,insert:n.state.doc.slice(y.from,y.to)}:r&&r.from>=y.from&&r.to<=y.to&&(r.from!=y.from||r.to!=y.to)&&y.to-y.from-(r.to-r.from)<=4?r={from:y.from,to:y.to,insert:n.state.doc.slice(y.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,y.to))}:(browser.mac||browser.android)&&r&&r.from==r.to&&r.from==y.head-1&&/^\. ?$/.test(r.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(g&&r.insert.length==2&&(g=EditorSelection.single(g.main.anchor-1,g.main.head-1)),r={from:y.from,to:y.to,insert:Text.of([" "])}):browser.chrome&&r&&r.from==r.to&&r.from==y.head&&r.insert.toString()==`
 `&&n.lineWrapping&&(g&&(g=EditorSelection.single(g.main.anchor-1,g.main.head-1)),r={from:y.from,to:y.to,insert:Text.of([" "])}),r)return applyDOMChangeInner(n,r,g,k);if(g&&!g.main.eq(y)){let $=!1,V="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&($=!0),V=n.inputState.lastSelectionOrigin),n.dispatch({selection:g,scrollIntoView:$,userEvent:V}),!0}else return!1}function applyDOMChangeInner(n,e,r,g=-1){if(browser.ios&&n.inputState.flushIOSKey(e))return!0;let y=n.state.selection.main;if(browser.android&&(e.to==y.to&&(e.from==y.from||e.from==y.from-1&&n.state.sliceDoc(e.from,y.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(n.contentDOM,"Enter",13)||(e.from==y.from-1&&e.to==y.to&&e.insert.length==0||g==8&&e.insert.length<e.to-e.from&&e.to>y.head)&&dispatchKey(n.contentDOM,"Backspace",8)||e.from==y.from&&e.to==y.to+1&&e.insert.length==0&&dispatchKey(n.contentDOM,"Delete",46)))return!0;let k=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let $,V=()=>$||($=applyDefaultInsert(n,e,r));return n.state.facet(inputHandler$1).some(L=>L(n,e.from,e.to,k,V))||n.dispatch(V()),!0}function applyDefaultInsert(n,e,r){let g,y=n.state,k=y.selection.main;if(e.from>=k.from&&e.to<=k.to&&e.to-e.from>=(k.to-k.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let V=k.from<e.from?y.sliceDoc(k.from,e.from):"",L=k.to>e.to?y.sliceDoc(e.to,k.to):"";g=y.replaceSelection(n.state.toText(V+e.insert.sliceString(0,void 0,n.state.lineBreak)+L))}else{let V=y.changes(e),L=r&&r.main.to<=V.newLength?r.main:void 0;if(y.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=k.to&&e.to>=k.to-10){let z=n.state.sliceDoc(e.from,e.to),j,re=r&&findCompositionNode(n,r.main.head);if(re){let de=e.insert.length-(e.to-e.from);j={from:re.from,to:re.to-de}}else j=n.state.doc.lineAt(k.head);let oe=k.to-e.to,ae=k.to-k.from;g=y.changeByRange(de=>{if(de.from==k.from&&de.to==k.to)return{changes:V,range:L||de.map(V)};let ue=de.to-oe,pe=ue-z.length;if(de.to-de.from!=ae||n.state.sliceDoc(pe,ue)!=z||de.to>=j.from&&de.from<=j.to)return{range:de};let he=y.changes({from:pe,to:ue,insert:e.insert}),Oe=de.to-k.to;return{changes:he,range:L?EditorSelection.range(Math.max(0,L.anchor+Oe),Math.max(0,L.head+Oe)):de.map(he)}})}else g={changes:V,selection:L&&y.selection.replaceRange(L)}}let $="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,$+=".compose",n.inputState.compositionFirstChange&&($+=".start",n.inputState.compositionFirstChange=!1)),y.update(g,{userEvent:$,scrollIntoView:!0})}function findDiff(n,e,r,g){let y=Math.min(n.length,e.length),k=0;for(;k<y&&n.charCodeAt(k)==e.charCodeAt(k);)k++;if(k==y&&n.length==e.length)return null;let $=n.length,V=e.length;for(;$>0&&V>0&&n.charCodeAt($-1)==e.charCodeAt(V-1);)$--,V--;if(g=="end"){let L=Math.max(0,k-Math.min($,V));r-=$+L-k}if($<k&&n.length<e.length){let L=r<=k&&r>=$?k-r:0;k-=L,V=k+(V-$),$=k}else if(V<k){let L=r<=k&&r>=V?k-r:0;k-=L,$=k+($-V),V=k}return{from:k,toA:$,toB:V}}function selectionPoints(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:r,anchorOffset:g,focusNode:y,focusOffset:k}=n.observer.selectionRange;return r&&(e.push(new DOMPoint(r,g)),(y!=r||k!=g)&&e.push(new DOMPoint(y,k))),e}function selectionFromPoints(n,e){if(n.length==0)return null;let r=n[0].pos,g=n.length==2?n[1].pos:r;return r>-1&&g>-1?EditorSelection.single(r+e,g+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let g=this.handlers[e];if(g){for(let y of g.observers)y(this.view,r);for(let y of g.handlers){if(r.defaultPrevented)break;if(y(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=computeHandlers(e),g=this.handlers,y=this.view.contentDOM;for(let k in r)if(k!="scroll"){let $=!r[k].handlers.length,V=g[k];V&&$!=!V.handlers.length&&(y.removeEventListener(k,this.handleEvent),V=null),V||y.addEventListener(k,this.handleEvent,{passive:$})}for(let k in g)k!="scroll"&&!r[k]&&y.removeEventListener(k,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=PendingKeys.find(g=>g.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(n,e){return(r,g)=>{try{return e.call(n,g,r)}catch(y){logException(r.state,y)}}}function computeHandlers(n){let e=Object.create(null);function r(g){return e[g]||(e[g]={observers:[],handlers:[]})}for(let g of n){let y=g.spec;if(y&&y.domEventHandlers)for(let k in y.domEventHandlers){let $=y.domEventHandlers[k];$&&r(k).handlers.push(bindHandler(g.value,$))}if(y&&y.domEventObservers)for(let k in y.domEventObservers){let $=y.domEventObservers[k];$&&r(k).observers.push(bindHandler(g.value,$))}}for(let g in handlers)r(g).handlers.push(handlers[g]);for(let g in observers)r(g).observers.push(observers[g]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(n){return Math.max(0,n)*.7+8}function dist(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class MouseSelection{constructor(e,r,g,y){this.view=e,this.startEvent=r,this.style=g,this.mustSelect=y,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map($=>$(e));let k=e.contentDOM.ownerDocument;k.addEventListener("mousemove",this.move=this.move.bind(this)),k.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,r),this.dragging=isInPrimarySelection(e,r)&&getClickType(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,g=0,y=0,k=0,$=this.view.win.innerWidth,V=this.view.win.innerHeight;this.scrollParents.x&&({left:y,right:$}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:k,bottom:V}=this.scrollParents.y.getBoundingClientRect());let L=getScrollMargins(this.view);e.clientX-L.left<=y+dragScrollMargin?r=-dragScrollSpeed(y-e.clientX):e.clientX+L.right>=$-dragScrollMargin&&(r=dragScrollSpeed(e.clientX-$)),e.clientY-L.top<=k+dragScrollMargin?g=-dragScrollSpeed(k-e.clientY):e.clientY+L.bottom>=V-dragScrollMargin&&(g=dragScrollSpeed(e.clientY-V)),this.setScrollSpeed(r,g)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let g=0;g<e.ranges.length;g++){let y=e.ranges[g],k=null;if(y.empty){let $=skipAtomicRanges(this.atoms,y.from,0);$!=y.from&&(k=EditorSelection.cursor($,-1))}else{let $=skipAtomicRanges(this.atoms,y.from,-1),V=skipAtomicRanges(this.atoms,y.to,1);($!=y.from||V!=y.to)&&(k=EditorSelection.range(y.from==y.anchor?$:V,y.from==y.head?$:V))}k&&(r||(r=e.ranges.slice()),r[g]=k)}return r?EditorSelection.create(r,e.mainIndex):e}select(e){let{view:r}=this,g=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!g.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:g,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(n,e){let r=n.state.facet(clickAddsSelectionRange);return r.length?r[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(n,e){let r=n.state.facet(dragMovesSelection$1);return r.length?r[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(n,e){let{main:r}=n.state.selection;if(r.empty)return!1;let g=getSelection(n.root);if(!g||g.rangeCount==0)return!0;let y=g.getRangeAt(0).getClientRects();for(let k=0;k<y.length;k++){let $=y[k];if($.left<=e.clientX&&$.right>=e.clientX&&$.top<=e.clientY&&$.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,g;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(g=ContentView.get(r))&&g.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(n){let e=n.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.remove(),doPaste(n,r.value)},50)}function textFilter(n,e,r){for(let g of n.facet(e))r=g(r,n);return r}function doPaste(n,e){e=textFilter(n.state,clipboardInputFilter,e);let{state:r}=n,g,y=1,k=r.toText(e),$=k.lines==r.selection.ranges.length;if(lastLinewiseCopy!=null&&r.selection.ranges.every(L=>L.empty)&&lastLinewiseCopy==k.toString()){let L=-1;g=r.changeByRange(z=>{let j=r.doc.lineAt(z.from);if(j.from==L)return{range:z};L=j.from;let re=r.toText(($?k.line(y++).text:e)+r.lineBreak);return{changes:{from:j.from,insert:re},range:EditorSelection.cursor(z.from+re.length)}})}else $?g=r.changeByRange(L=>{let z=k.line(y++);return{changes:{from:L.from,to:L.to,insert:z.text},range:EditorSelection.cursor(L.from+z.length)}}):g=r.replaceSelection(k);n.dispatch(g,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};handlers.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let g of n.state.facet(mouseSelectionStyle))if(r=g(n,e),r)break;if(!r&&e.button==0&&(r=basicMouseSelection(n,e)),r){let g=!n.hasFocus;n.inputState.startMouseSelection(new MouseSelection(n,e,r,g)),g&&n.observer.ignore(()=>{focusPreventScroll(n.contentDOM);let k=n.root.activeElement;k&&!k.contains(n.contentDOM)&&k.blur()});let y=n.inputState.mouseSelection;if(y)return y.start(e),y.dragging===!1}return!1};function rangeForClick(n,e,r,g){if(g==1)return EditorSelection.cursor(e,r);if(g==2)return groupAt(n.state,e,r);{let y=LineView.find(n.docView,e),k=n.state.doc.lineAt(y?y.posAtEnd:e),$=y?y.posAtStart:k.from,V=y?y.posAtEnd:k.to;return V<n.state.doc.length&&V==k.to&&V++,EditorSelection.range($,V)}}let inside=(n,e,r)=>e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right;function findPositionSide(n,e,r,g){let y=LineView.find(n.docView,e);if(!y)return 1;let k=e-y.posAtStart;if(k==0)return 1;if(k==y.length)return-1;let $=y.coordsAt(k,-1);if($&&inside(r,g,$))return-1;let V=y.coordsAt(k,1);return V&&inside(r,g,V)?1:$&&$.bottom>=g?-1:1}function queryPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:findPositionSide(n,r,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(n){if(!BadMouseDetail)return n.detail;let e=lastMouseDown,r=lastMouseDownTime;return lastMouseDown=n,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||r>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(n,e){let r=queryPos(n,e),g=getClickType(e),y=n.state.selection;return{update(k){k.docChanged&&(r.pos=k.changes.mapPos(r.pos),y=y.map(k.changes))},get(k,$,V){let L=queryPos(n,k),z,j=rangeForClick(n,L.pos,L.bias,g);if(r.pos!=L.pos&&!$){let re=rangeForClick(n,r.pos,r.bias,g),oe=Math.min(re.from,j.from),ae=Math.max(re.to,j.to);j=oe<j.from?EditorSelection.range(oe,ae):EditorSelection.range(ae,oe)}return $?y.replaceRange(y.main.extend(j.from,j.to)):V&&g==1&&y.ranges.length>1&&(z=removeRangeAround(y,L.pos))?z:V?y.addRange(j):EditorSelection.create([j])}}}function removeRangeAround(n,e){for(let r=0;r<n.ranges.length;r++){let{from:g,to:y}=n.ranges[r];if(g<=e&&y>=e)return EditorSelection.create(n.ranges.slice(0,r).concat(n.ranges.slice(r+1)),n.mainIndex==r?0:n.mainIndex-(n.mainIndex>r?1:0))}return null}handlers.dragstart=(n,e)=>{let{selection:{main:r}}=n.state;if(e.target.draggable){let y=n.docView.nearest(e.target);if(y&&y.isWidget){let k=y.posAtStart,$=k+y.length;(k>=r.to||$<=r.from)&&(r=EditorSelection.range(k,$))}}let{inputState:g}=n;return g.mouseSelection&&(g.mouseSelection.dragging=!0),g.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(n.state,clipboardOutputFilter,n.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=n=>(n.inputState.draggedContent=null,!1);function dropText(n,e,r,g){if(r=textFilter(n.state,clipboardInputFilter,r),!r)return;let y=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:k}=n.inputState,$=g&&k&&dragMovesSelection(n,e)?{from:k.from,to:k.to}:null,V={from:y,insert:r},L=n.state.changes($?[$,V]:V);n.focus(),n.dispatch({changes:L,selection:{anchor:L.mapPos(y,-1),head:L.mapPos(y,1)},userEvent:$?"move.drop":"input.drop"}),n.inputState.draggedContent=null}handlers.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let g=Array(r.length),y=0,k=()=>{++y==r.length&&dropText(n,e,g.filter($=>$!=null).join(n.state.lineBreak),!1)};for(let $=0;$<r.length;$++){let V=new FileReader;V.onerror=k,V.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(V.result)||(g[$]=V.result),k()},V.readAsText(r[$])}return!0}else{let g=e.dataTransfer.getData("Text");if(g)return dropText(n,e,g,!0),!0}return!1};handlers.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let r=brokenClipboardAPI?null:e.clipboardData;return r?(doPaste(n,r.getData("text/plain")||r.getData("text/uri-list")),!0):(capturePaste(n),!1)};function captureCopy(n,e){let r=n.dom.parentNode;if(!r)return;let g=r.appendChild(document.createElement("textarea"));g.style.cssText="position: fixed; left: -10000px; top: 10px",g.value=e,g.focus(),g.selectionEnd=e.length,g.selectionStart=0,setTimeout(()=>{g.remove(),n.focus()},50)}function copiedRange(n){let e=[],r=[],g=!1;for(let y of n.selection.ranges)y.empty||(e.push(n.sliceDoc(y.from,y.to)),r.push(y));if(!e.length){let y=-1;for(let{from:k}of n.selection.ranges){let $=n.doc.lineAt(k);$.number>y&&(e.push($.text),r.push({from:$.from,to:Math.min(n.doc.length,$.to+1)})),y=$.number}g=!0}return{text:textFilter(n,clipboardOutputFilter,e.join(n.lineBreak)),ranges:r,linewise:g}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(n,e)=>{let{text:r,ranges:g,linewise:y}=copiedRange(n.state);if(!r&&!y)return!1;lastLinewiseCopy=y?r:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:g,scrollIntoView:!0,userEvent:"delete.cut"});let k=brokenClipboardAPI?null:e.clipboardData;return k?(k.clearData(),k.setData("text/plain",r),!0):(captureCopy(n,r),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(n,e){let r=[];for(let g of n.facet(focusChangeEffect)){let y=g(n,e);y&&r.push(y)}return r?n.update({effects:r,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let r=focusChangeTransaction(n.state,e);r?n.dispatch(r):n.update([])}},10)}observers.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),updateForFocusChange(n)};observers.blur=n=>{n.observer.clearSelectionRange(),updateForFocusChange(n)};observers.compositionstart=observers.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};observers.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,browser.chrome&&browser.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};observers.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(n,e)=>{var r,g;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let k=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),$=e.getTargetRanges();if(k&&$.length){let V=$[0],L=n.posAtDOM(V.startContainer,V.startOffset),z=n.posAtDOM(V.endContainer,V.endOffset);return applyDOMChangeInner(n,{from:L,to:z,insert:n.state.toText(k)},null),!0}}let y;if(browser.chrome&&browser.android&&(y=PendingKeys.find(k=>k.inputType==e.inputType))&&(n.observer.delayAndroidKey(y.key,y.keyCode),y.key=="Backspace"||y.key=="Delete")){let k=((g=window.visualViewport)===null||g===void 0?void 0:g.height)||0;setTimeout(()=>{var $;((($=window.visualViewport)===null||$===void 0?void 0:$.height)||0)>k+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>observers.compositionend(n,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(n){appliedFirefoxHack.has(n)||(appliedFirefoxHack.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let g=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(g+=Math.max(0,Math.ceil((r-e-g*this.lineLength*.5)/this.lineLength))),this.lineHeight*g}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let g=0;g<e.length;g++){let y=e[g];y<0?g++:this.heightSamples[Math.floor(y*10)]||(r=!0,this.heightSamples[Math.floor(y*10)]=!0)}return r}refresh(e,r,g,y,k,$){let V=wrappingWhiteSpace.indexOf(e)>-1,L=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=V;if(this.lineWrapping=V,this.lineHeight=r,this.charWidth=g,this.textHeight=y,this.lineLength=k,L){this.heightSamples={};for(let z=0;z<$.length;z++){let j=$[z];j<0?z++:this.heightSamples[Math.floor(j*10)]=!0}}return L}}class MeasuredHeights{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,r,g,y,k){this.from=e,this.length=r,this.top=g,this.height=y,this._content=k}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var QueryType$1=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,r,g=2){this.length=e,this.height=r,this.flags=g}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,r,g){return HeightMap.of(g)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,g,y){let k=this,$=g.doc;for(let V=y.length-1;V>=0;V--){let{fromA:L,toA:z,fromB:j,toB:re}=y[V],oe=k.lineAt(L,QueryType$1.ByPosNoHeight,g.setDoc(r),0,0),ae=oe.to>=z?oe:k.lineAt(z,QueryType$1.ByPosNoHeight,g,0,0);for(re+=ae.to-z,z=ae.to;V>0&&oe.from<=y[V-1].toA;)L=y[V-1].fromA,j=y[V-1].fromB,V--,L<oe.from&&(oe=k.lineAt(L,QueryType$1.ByPosNoHeight,g,0,0));j+=oe.from-L,L=oe.from;let de=NodeBuilder.build(g.setDoc($),e,j,re);k=replace(k,k.replace(L,z,de))}return k.updateHeight(g,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let r=0,g=e.length,y=0,k=0;for(;;)if(r==g)if(y>k*2){let V=e[r-1];V.break?e.splice(--r,1,V.left,null,V.right):e.splice(--r,1,V.left,V.right),g+=1+V.break,y-=V.size}else if(k>y*2){let V=e[g];V.break?e.splice(g,1,V.left,null,V.right):e.splice(g,1,V.left,V.right),g+=2+V.break,k-=V.size}else break;else if(y<k){let V=e[r++];V&&(y+=V.size)}else{let V=e[--g];V&&(k+=V.size)}let $=0;return e[r-1]==null?($=1,r--):e[r]==null&&($=1,g++),new HeightMapBranch(HeightMap.of(e.slice(0,r)),$,HeightMap.of(e.slice(g)))}}function replace(n,e){return n==e?n:(n.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,r,g){super(e,r),this.deco=g}blockAt(e,r,g,y){return new BlockInfo(y,this.length,g,this.height,this.deco||0)}lineAt(e,r,g,y,k){return this.blockAt(0,g,y,k)}forEachLine(e,r,g,y,k,$){e<=k+this.length&&r>=k&&$(this.blockAt(0,g,y,k))}updateHeight(e,r=0,g=!1,y){return y&&y.from<=r&&y.more&&this.setHeight(y.heights[y.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,g,y){return new BlockInfo(y,this.length,g,this.height,this.breaks)}replace(e,r,g){let y=g[0];return g.length==1&&(y instanceof HeightMapText||y instanceof HeightMapGap&&y.flags&4)&&Math.abs(this.length-y.length)<10?(y instanceof HeightMapGap?y=new HeightMapText(y.length,this.height):y.height=this.height,this.outdated||(y.outdated=!1),y):HeightMap.of(g)}updateHeight(e,r=0,g=!1,y){return y&&y.from<=r&&y.more?this.setHeight(y.heights[y.index++]):(g||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,r){let g=e.doc.lineAt(r).number,y=e.doc.lineAt(r+this.length).number,k=y-g+1,$,V=0;if(e.lineWrapping){let L=Math.min(this.height,e.lineHeight*k);$=L/k,this.length>k+1&&(V=(this.height-L)/(this.length-k-1))}else $=this.height/k;return{firstLine:g,lastLine:y,perLine:$,perChar:V}}blockAt(e,r,g,y){let{firstLine:k,lastLine:$,perLine:V,perChar:L}=this.heightMetrics(r,y);if(r.lineWrapping){let z=y+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-g)/this.height))*this.length)),j=r.doc.lineAt(z),re=V+j.length*L,oe=Math.max(g,e-re/2);return new BlockInfo(j.from,j.length,oe,re,0)}else{let z=Math.max(0,Math.min($-k,Math.floor((e-g)/V))),{from:j,length:re}=r.doc.line(k+z);return new BlockInfo(j,re,g+V*z,V,0)}}lineAt(e,r,g,y,k){if(r==QueryType$1.ByHeight)return this.blockAt(e,g,y,k);if(r==QueryType$1.ByPosNoHeight){let{from:ae,to:de}=g.doc.lineAt(e);return new BlockInfo(ae,de-ae,0,0,0)}let{firstLine:$,perLine:V,perChar:L}=this.heightMetrics(g,k),z=g.doc.lineAt(e),j=V+z.length*L,re=z.number-$,oe=y+V*re+L*(z.from-k-re);return new BlockInfo(z.from,z.length,Math.max(y,Math.min(oe,y+this.height-j)),j,0)}forEachLine(e,r,g,y,k,$){e=Math.max(e,k),r=Math.min(r,k+this.length);let{firstLine:V,perLine:L,perChar:z}=this.heightMetrics(g,k);for(let j=e,re=y;j<=r;){let oe=g.doc.lineAt(j);if(j==e){let de=oe.number-V;re+=L*de+z*(e-k-de)}let ae=L+z*oe.length;$(new BlockInfo(oe.from,oe.length,re,ae,0)),re+=ae,j=oe.to+1}}replace(e,r,g){let y=this.length-r;if(y>0){let k=g[g.length-1];k instanceof HeightMapGap?g[g.length-1]=new HeightMapGap(k.length+y):g.push(null,new HeightMapGap(y-1))}if(e>0){let k=g[0];k instanceof HeightMapGap?g[0]=new HeightMapGap(e+k.length):g.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(g)}decomposeLeft(e,r){r.push(new HeightMapGap(e-1),null)}decomposeRight(e,r){r.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,r=0,g=!1,y){let k=r+this.length;if(y&&y.from<=r+this.length&&y.more){let $=[],V=Math.max(r,y.from),L=-1;for(y.from>r&&$.push(new HeightMapGap(y.from-r-1).updateHeight(e,r));V<=k&&y.more;){let j=e.doc.lineAt(V).length;$.length&&$.push(null);let re=y.heights[y.index++];L==-1?L=re:Math.abs(re-L)>=Epsilon&&(L=-2);let oe=new HeightMapText(j,re);oe.outdated=!1,$.push(oe),V+=j+1}V<=k&&$.push(null,new HeightMapGap(k-V).updateHeight(e,V));let z=HeightMap.of($);return(L<0||Math.abs(z.height-this.height)>=Epsilon||Math.abs(L-this.heightMetrics(e,r).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,z)}else(g||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,r,g){super(e.length+r+g.length,e.height+g.height,r|(e.outdated||g.outdated?2:0)),this.left=e,this.right=g,this.size=e.size+g.size}get break(){return this.flags&1}blockAt(e,r,g,y){let k=g+this.left.height;return e<k?this.left.blockAt(e,r,g,y):this.right.blockAt(e,r,k,y+this.left.length+this.break)}lineAt(e,r,g,y,k){let $=y+this.left.height,V=k+this.left.length+this.break,L=r==QueryType$1.ByHeight?e<$:e<V,z=L?this.left.lineAt(e,r,g,y,k):this.right.lineAt(e,r,g,$,V);if(this.break||(L?z.to<V:z.from>V))return z;let j=r==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return L?z.join(this.right.lineAt(V,j,g,$,V)):this.left.lineAt(V,j,g,y,k).join(z)}forEachLine(e,r,g,y,k,$){let V=y+this.left.height,L=k+this.left.length+this.break;if(this.break)e<L&&this.left.forEachLine(e,r,g,y,k,$),r>=L&&this.right.forEachLine(e,r,g,V,L,$);else{let z=this.lineAt(L,QueryType$1.ByPos,g,y,k);e<z.from&&this.left.forEachLine(e,z.from-1,g,y,k,$),z.to>=e&&z.from<=r&&$(z),r>z.to&&this.right.forEachLine(z.to+1,r,g,V,L,$)}}replace(e,r,g){let y=this.left.length+this.break;if(r<y)return this.balanced(this.left.replace(e,r,g),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-y,r-y,g));let k=[];e>0&&this.decomposeLeft(e,k);let $=k.length;for(let V of g)k.push(V);if(e>0&&mergeGaps(k,$-1),r<this.length){let V=k.length;this.decomposeRight(r,k),mergeGaps(k,V)}return HeightMap.of(k)}decomposeLeft(e,r){let g=this.left.length;if(e<=g)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(g++,e>=g&&r.push(null)),e>g&&this.right.decomposeLeft(e-g,r)}decomposeRight(e,r){let g=this.left.length,y=g+this.break;if(e>=y)return this.right.decomposeRight(e-y,r);e<g&&this.left.decomposeRight(e,r),this.break&&e<y&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?HeightMap.of(this.break?[e,null,r]:[e,r]):(this.left=replace(this.left,e),this.right=replace(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,g=!1,y){let{left:k,right:$}=this,V=r+k.length+this.break,L=null;return y&&y.from<=r+k.length&&y.more?L=k=k.updateHeight(e,r,g,y):k.updateHeight(e,r,g),y&&y.from<=V+$.length&&y.more?L=$=$.updateHeight(e,V,g,y):$.updateHeight(e,V,g),L?this.balanced(k,$):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(n,e){let r,g;n[e]==null&&(r=n[e-1])instanceof HeightMapGap&&(g=n[e+1])instanceof HeightMapGap&&n.splice(e-1,3,new HeightMapGap(r.length+1+g.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let g=Math.min(r,this.lineEnd),y=this.nodes[this.nodes.length-1];y instanceof HeightMapText?y.length+=g-this.pos:(g>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(g-this.pos,-1)),this.writtenTo=g,r>g&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,g){if(e<r||g.heightRelevant){let y=g.widget?g.widget.estimatedHeight:0,k=g.widget?g.widget.lineBreaks:0;y<0&&(y=this.oracle.lineHeight);let $=r-e;g.block?this.addBlock(new HeightMapBlock($,y,g)):($||k||y>=relevantWidgetHeight)&&this.addLineDeco(y,k,$)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let g=new HeightMapGap(r-e);return this.oracle.doc.lineAt(e).to==r&&(g.flags|=4),g}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let r=new HeightMapText(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,g){let y=this.ensureLine();y.length+=g,y.collapsed+=g,y.widgetHeight=Math.max(y.widgetHeight,e),y.breaks+=r,this.writtenTo=this.pos=this.pos+g}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let g=e;for(let y of this.nodes)y instanceof HeightMapText&&y.updateHeight(this.oracle,g),g+=y?y.length:1;return this.nodes}static build(e,r,g,y){let k=new NodeBuilder(g,e);return RangeSet.spans(r,g,y,k,0),k.finish(g)}}function heightRelevantDecoChanges(n,e,r){let g=new DecorationComparator2;return RangeSet.compare(n,e,r,g,0),g.changes}class DecorationComparator2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,g,y){(e<r||g&&g.heightRelevant||y&&y.heightRelevant)&&addRange(e,r,this.changes,5)}}function visiblePixelRange(n,e){let r=n.getBoundingClientRect(),g=n.ownerDocument,y=g.defaultView||window,k=Math.max(0,r.left),$=Math.min(y.innerWidth,r.right),V=Math.max(0,r.top),L=Math.min(y.innerHeight,r.bottom);for(let z=n.parentNode;z&&z!=g.body;)if(z.nodeType==1){let j=z,re=window.getComputedStyle(j);if((j.scrollHeight>j.clientHeight||j.scrollWidth>j.clientWidth)&&re.overflow!="visible"){let oe=j.getBoundingClientRect();k=Math.max(k,oe.left),$=Math.min($,oe.right),V=Math.max(V,oe.top),L=Math.min(z==n.parentNode?y.innerHeight:L,oe.bottom)}z=re.position=="absolute"||re.position=="fixed"?j.offsetParent:j.parentNode}else if(z.nodeType==11)z=z.host;else break;return{left:k-r.left,right:Math.max(k,$)-r.left,top:V-(r.top+e),bottom:Math.max(V,L)-(r.top+e)}}function fullPixelRange(n,e){let r=n.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class LineGap{constructor(e,r,g,y){this.from=e,this.to=r,this.size=g,this.displaySize=y}static same(e,r){if(e.length!=r.length)return!1;for(let g=0;g<e.length;g++){let y=e[g],k=r[g];if(y.from!=k.from||y.to!=k.to||y.size!=k.size)return!1}return!0}draw(e,r){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(contentAttributes).some(g=>typeof g!="function"&&g.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(r),this.stateDeco=e.facet(decorations).filter(g=>typeof g!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let g=0;g<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());g++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(g=>g.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let g=0;g<=1;g++){let y=g?r.head:r.anchor;if(!e.some(({from:k,to:$})=>y>=k&&y<=$)){let{from:k,to:$}=this.lineBlockAt(y);e.push(new Viewport(k,$))}}return this.viewports=e.sort((g,y)=>g.from-y.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,r=null){this.state=e.state;let g=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(j=>typeof j!="function");let y=e.changedRanges,k=ChangedRange.extendWithRanges(y,heightRelevantDecoChanges(g,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),$=this.heightMap.height,V=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),k),(this.heightMap.height!=$||heightChangeFlag)&&(e.flags|=2),V?(this.scrollAnchorPos=e.changes.mapPos(V.from,-1),this.scrollAnchorHeight=V.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let L=k.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<L.from||r.range.head>L.to)||!this.viewportIsAppropriate(L))&&(L=this.getViewport(0,r));let z=L.from!=this.viewport.from||L.to!=this.viewport.to;this.viewport=L,e.flags|=this.updateForViewport(),(z||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,g=window.getComputedStyle(r),y=this.heightOracle,k=g.whiteSpace;this.defaultTextDirection=g.direction=="rtl"?Direction.RTL:Direction.LTR;let $=this.heightOracle.mustRefreshForWrapping(k),V=r.getBoundingClientRect(),L=$||this.mustMeasureContent||this.contentDOMHeight!=V.height;this.contentDOMHeight=V.height,this.mustMeasureContent=!1;let z=0,j=0;if(V.width&&V.height){let{scaleX:$e,scaleY:Ne}=getScale(r,V);($e>.005&&Math.abs(this.scaleX-$e)>.005||Ne>.005&&Math.abs(this.scaleY-Ne)>.005)&&(this.scaleX=$e,this.scaleY=Ne,z|=16,$=L=!0)}let re=(parseInt(g.paddingTop)||0)*this.scaleY,oe=(parseInt(g.paddingBottom)||0)*this.scaleY;(this.paddingTop!=re||this.paddingBottom!=oe)&&(this.paddingTop=re,this.paddingBottom=oe,z|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(y.lineWrapping&&(L=!0),this.editorWidth=e.scrollDOM.clientWidth,z|=16);let ae=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=ae&&(this.scrollAnchorHeight=-1,this.scrollTop=ae),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let de=(this.printing?fullPixelRange:visiblePixelRange)(r,this.paddingTop),ue=de.top-this.pixelViewport.top,pe=de.bottom-this.pixelViewport.bottom;this.pixelViewport=de;let he=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(he!=this.inView&&(this.inView=he,he&&(L=!0)),!this.inView&&!this.scrollTarget)return 0;let Oe=V.width;if((this.contentDOMWidth!=Oe||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=V.width,this.editorHeight=e.scrollDOM.clientHeight,z|=16),L){let $e=e.docView.measureVisibleLineHeights(this.viewport);if(y.mustRefreshForHeights($e)&&($=!0),$||y.lineWrapping&&Math.abs(Oe-this.contentDOMWidth)>y.charWidth){let{lineHeight:Ne,charWidth:Ce,textHeight:Fe}=e.docView.measureTextSize();$=Ne>0&&y.refresh(k,Ne,Ce,Fe,Oe/Ce,$e),$&&(e.docView.minWidth=0,z|=16)}ue>0&&pe>0?j=Math.max(ue,pe):ue<0&&pe<0&&(j=Math.min(ue,pe)),clearHeightChangeFlag();for(let Ne of this.viewports){let Ce=Ne.from==this.viewport.from?$e:e.docView.measureVisibleLineHeights(Ne);this.heightMap=($?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(y,0,$,new MeasuredHeights(Ne.from,Ce))}heightChangeFlag&&(z|=2)}let xe=!this.viewportIsAppropriate(this.viewport,j)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return xe&&(z&2&&(z|=this.updateScaler()),this.viewport=this.getViewport(j,this.scrollTarget),z|=this.updateForViewport()),(z&2||xe)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps($?[]:this.lineGaps,e)),z|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),z}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let g=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),y=this.heightMap,k=this.heightOracle,{visibleTop:$,visibleBottom:V}=this,L=new Viewport(y.lineAt($-g*1e3,QueryType$1.ByHeight,k,0,0).from,y.lineAt(V+(1-g)*1e3,QueryType$1.ByHeight,k,0,0).to);if(r){let{head:z}=r.range;if(z<L.from||z>L.to){let j=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),re=y.lineAt(z,QueryType$1.ByPos,k,0,0),oe;r.y=="center"?oe=(re.top+re.bottom)/2-j/2:r.y=="start"||r.y=="nearest"&&z<L.from?oe=re.top:oe=re.bottom-j,L=new Viewport(y.lineAt(oe-1e3/2,QueryType$1.ByHeight,k,0,0).from,y.lineAt(oe+j+1e3/2,QueryType$1.ByHeight,k,0,0).to)}}return L}mapViewport(e,r){let g=r.mapPos(e.from,-1),y=r.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(g,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(y,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},g=0){if(!this.inView)return!0;let{top:y}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:k}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:$,visibleBottom:V}=this;return(e==0||y<=$-Math.max(10,Math.min(-g,250)))&&(r==this.state.doc.length||k>=V+Math.max(10,Math.min(g,250)))&&y>$-2*1e3&&k<V+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let g=[];for(let y of e)r.touchesRange(y.from,y.to)||g.push(new LineGap(r.mapPos(y.from),r.mapPos(y.to),y.size,y.displaySize));return g}ensureLineGaps(e,r){let g=this.heightOracle.lineWrapping,y=g?1e4:2e3,k=y>>1,$=y<<1;if(this.defaultTextDirection!=Direction.LTR&&!g)return[];let V=[],L=(j,re,oe,ae)=>{if(re-j<k)return;let de=this.state.selection.main,ue=[de.from];de.empty||ue.push(de.to);for(let he of ue)if(he>j&&he<re){L(j,he-10,oe,ae),L(he+10,re,oe,ae);return}let pe=find(e,he=>he.from>=oe.from&&he.to<=oe.to&&Math.abs(he.from-j)<k&&Math.abs(he.to-re)<k&&!ue.some(Oe=>he.from<Oe&&he.to>Oe));if(!pe){if(re<oe.to&&r&&g&&r.visibleRanges.some(xe=>xe.from<=re&&xe.to>=re)){let xe=r.moveToLineBoundary(EditorSelection.cursor(re),!1,!0).head;xe>j&&(re=xe)}let he=this.gapSize(oe,j,re,ae),Oe=g||he<2e6?he:2e6;pe=new LineGap(j,re,he,Oe)}V.push(pe)},z=j=>{if(j.length<$||j.type!=BlockType.Text)return;let re=lineStructure(j.from,j.to,this.stateDeco);if(re.total<$)return;let oe=this.scrollTarget?this.scrollTarget.range.head:null,ae,de;if(g){let ue=y/this.heightOracle.lineLength*this.heightOracle.lineHeight,pe,he;if(oe!=null){let Oe=findFraction(re,oe),xe=((this.visibleBottom-this.visibleTop)/2+ue)/j.height;pe=Oe-xe,he=Oe+xe}else pe=(this.visibleTop-j.top-ue)/j.height,he=(this.visibleBottom-j.top+ue)/j.height;ae=findPosition(re,pe),de=findPosition(re,he)}else{let ue=re.total*this.heightOracle.charWidth,pe=y*this.heightOracle.charWidth,he=0;if(ue>2e6)for(let Ce of e)Ce.from>=j.from&&Ce.from<j.to&&Ce.size!=Ce.displaySize&&Ce.from*this.heightOracle.charWidth+he<this.pixelViewport.left&&(he=Ce.size-Ce.displaySize);let Oe=this.pixelViewport.left+he,xe=this.pixelViewport.right+he,$e,Ne;if(oe!=null){let Ce=findFraction(re,oe),Fe=((xe-Oe)/2+pe)/ue;$e=Ce-Fe,Ne=Ce+Fe}else $e=(Oe-pe)/ue,Ne=(xe+pe)/ue;ae=findPosition(re,$e),de=findPosition(re,Ne)}ae>j.from&&L(j.from,ae,j,re),de<j.to&&L(de,j.to,j,re)};for(let j of this.viewportLines)Array.isArray(j.type)?j.type.forEach(z):z(j);return V}gapSize(e,r,g,y){let k=findFraction(y,g)-findFraction(y,r);return this.heightOracle.lineWrapping?e.height*k:y.total*this.heightOracle.charWidth*k}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let g=[];RangeSet.spans(r,this.viewport.from,this.viewport.to,{span(k,$){g.push({from:k,to:$})},point(){}},20);let y=0;if(g.length!=this.visibleRanges.length)y=12;else for(let k=0;k<g.length&&!(y&8);k++){let $=this.visibleRanges[k],V=g[k];($.from!=V.from||$.to!=V.to)&&(y|=4,e&&e.mapPos($.from,-1)==V.from&&e.mapPos($.to,1)==V.to||(y|=8))}return this.visibleRanges=g,y}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,r){this.from=e,this.to=r}}function lineStructure(n,e,r){let g=[],y=n,k=0;return RangeSet.spans(r,n,e,{span(){},point($,V){$>y&&(g.push({from:y,to:$}),k+=$-y),y=V}},20),y<e&&(g.push({from:y,to:e}),k+=e-y),{total:k,ranges:g}}function findPosition({total:n,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let g=Math.floor(n*r);for(let y=0;;y++){let{from:k,to:$}=e[y],V=$-k;if(g<=V)return k+g;g-=V}}function findFraction(n,e){let r=0;for(let{from:g,to:y}of n.ranges){if(e<=y){r+=e-g;break}r+=y-g}return r/n.total}function find(n,e){for(let r of n)if(e(r))return r}const IdScaler={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class BigScaler{constructor(e,r,g){let y=0,k=0,$=0;this.viewports=g.map(({from:V,to:L})=>{let z=r.lineAt(V,QueryType$1.ByPos,e,0,0).top,j=r.lineAt(L,QueryType$1.ByPos,e,0,0).bottom;return y+=j-z,{from:V,to:L,top:z,bottom:j,domTop:0,domBottom:0}}),this.scale=(7e6-y)/(r.height-y);for(let V of this.viewports)V.domTop=$+(V.top-k)*this.scale,$=V.domBottom=V.domTop+(V.bottom-V.top),k=V.bottom}toDOM(e){for(let r=0,g=0,y=0;;r++){let k=r<this.viewports.length?this.viewports[r]:null;if(!k||e<k.top)return y+(e-g)*this.scale;if(e<=k.bottom)return k.domTop+(e-k.top);g=k.bottom,y=k.domBottom}}fromDOM(e){for(let r=0,g=0,y=0;;r++){let k=r<this.viewports.length?this.viewports[r]:null;if(!k||e<k.domTop)return g+(e-y)/this.scale;if(e<=k.domBottom)return k.top+(e-k.domTop);g=k.bottom,y=k.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,g)=>r.from==e.viewports[g].from&&r.to==e.viewports[g].to):!1}}function scaleBlock(n,e){if(e.scale==1)return n;let r=e.toDOM(n.top),g=e.toDOM(n.bottom);return new BlockInfo(n.from,n.length,r,g-r,Array.isArray(n._content)?n._content.map(y=>scaleBlock(y,e)):n._content)}const theme=Facet.define({combine:n=>n.join(" ")}),darkTheme=Facet.define({combine:n=>n.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(n,e,r){return new StyleModule(e,{finish(g){return/&/.test(g)?g.replace(/&\w*/,y=>{if(y=="&")return n;if(!r||!r[y])throw new RangeError(`Unsupported selector: ${y}`);return r[y]}):n+" "+g}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let g of r)this.queue.push(g);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&r.some(g=>g.type=="childList"&&g.removedNodes.length||g.type=="characterData"&&g.oldValue.length>g.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,g)=>r!=e[g]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:g}=this,y=this.selectionRange;if(g.state.facet(editable)?g.root.activeElement!=this.dom:!hasSelection(this.dom,y))return;let k=y.anchorNode&&g.docView.nearest(y.anchorNode);if(k&&k.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!g.state.selection.main.empty&&y.focusNode&&isEquivalentPosition(y.focusNode,y.focusOffset,y.anchorNode,y.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=getSelection(e.root);if(!r)return!1;let g=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,r)||r;if(!g||this.selectionRange.eq(g))return!1;let y=hasSelection(this.dom,g);return y&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,g)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(g),y&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let g=this.dom;g;)if(g.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==g?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(g),g=g.assignedSlot||g.parentNode;else if(g.nodeType==11)g=g.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let g of this.scrollTargets)g.removeEventListener("scroll",this.onScroll);for(let g of this.scrollTargets=r)g.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var g;if(!this.delayedAndroidKey){let y=()=>{let k=this.delayedAndroidKey;k&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=k.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&k.force&&dispatchKey(this.dom,k.key,k.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(y)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((g=this.delayedAndroidKey)===null||g===void 0)&&g.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,g=-1,y=!1;for(let k of e){let $=this.readMutation(k);$&&($.typeOver&&(y=!0),r==-1?{from:r,to:g}=$:(r=Math.min($.from,r),g=Math.max($.to,g)))}return{from:r,to:g,typeOver:y}}readChange(){let{from:e,to:r,typeOver:g}=this.processRecords(),y=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!y)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let k=new DOMChange(this.view,e,r,g);return this.view.docView.domChanged={newSel:k.newSel?k.newSel.main:null},k}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let g=this.view.state,y=applyDOMChange(this.view,r);return this.view.state==g&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),y}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let g=findChild(r,e.previousSibling||e.target.previousSibling,-1),y=findChild(r,e.nextSibling||e.target.nextSibling,1);return{from:g?r.posAfter(g):r.posAtStart,to:y?r.posBefore(y):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,r,g;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(g=this.resizeScroll)===null||g===void 0||g.disconnect();for(let y of this.scrollTargets)y.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(n,e,r){for(;e;){let g=ContentView.get(e);if(g&&g.parent==n)return g;let y=e.parentNode;e=y!=n.dom?y:r>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(n,e){let r=e.startContainer,g=e.startOffset,y=e.endContainer,k=e.endOffset,$=n.docView.domAtPos(n.state.selection.main.anchor);return isEquivalentPosition($.node,$.offset,y,k)&&([r,g,y,k]=[y,k,r,g]),{anchorNode:r,anchorOffset:g,focusNode:y,focusOffset:k}}function safariSelectionRangeHack(n,e){if(e.getComposedRanges){let y=e.getComposedRanges(n.root)[0];if(y)return buildSelectionRangeFromRange(n,y)}let r=null;function g(y){y.preventDefault(),y.stopImmediatePropagation(),r=y.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",g,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",g,!0),r?buildSelectionRangeFromRange(n,r):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=g=>{let{anchor:y}=e.state.selection.main,k=this.toEditorPos(g.updateRangeStart),$=this.toEditorPos(g.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:g.updateRangeStart,editorBase:k,drifted:!1});let V={from:k,to:$,insert:Text.of(g.text.split(`
`))};if(V.from==this.from&&y<this.from?V.from=y:V.to==this.to&&y>this.to&&(V.to=y),!(V.from==V.to&&!V.insert.length)){if(this.pendingContextChange=V,!e.state.readOnly){let L=this.to-this.from+(V.to-V.from+V.insert.length);applyDOMChangeInner(e,V,EditorSelection.single(this.toEditorPos(g.selectionStart,L),this.toEditorPos(g.selectionEnd,L)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}},this.handlers.characterboundsupdate=g=>{let y=[],k=null;for(let $=this.toEditorPos(g.rangeStart),V=this.toEditorPos(g.rangeEnd);$<V;$++){let L=e.coordsForChar($);k=L&&new DOMRect(L.left,L.top,L.right-L.left,L.bottom-L.top)||k||new DOMRect,y.push(k)}r.updateCharacterBounds(g.rangeStart,y)},this.handlers.textformatupdate=g=>{let y=[];for(let k of g.getTextFormats()){let $=k.underlineStyle,V=k.underlineThickness;if($!="None"&&V!="None"){let L=this.toEditorPos(k.rangeStart),z=this.toEditorPos(k.rangeEnd);if(L<z){let j=`text-decoration: underline ${$=="Dashed"?"dashed ":$=="Squiggle"?"wavy ":""}${V=="Thin"?1:2}px`;y.push(Decoration.mark({attributes:{style:j}}).range(L,z))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(y))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:g}=this.composing;this.composing=null,g&&this.reset(e.state)}};for(let g in this.handlers)r.addEventListener(g,this.handlers[g]);this.measureReq={read:g=>{this.editContext.updateControlBounds(g.contentDOM.getBoundingClientRect());let y=getSelection(g.root);y&&y.rangeCount&&this.editContext.updateSelectionBounds(y.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,g=!1,y=this.pendingContextChange;return e.changes.iterChanges((k,$,V,L,z)=>{if(g)return;let j=z.length-($-k);if(y&&$>=y.to)if(y.from==k&&y.to==$&&y.insert.eq(z)){y=this.pendingContextChange=null,r+=j,this.to+=j;return}else y=null,this.revertPending(e.state);if(k+=r,$+=r,$<=this.from)this.from+=j,this.to+=j;else if(k<this.to){if(k<this.from||$>this.to||this.to-this.from+z.length>3e4){g=!0;return}this.editContext.updateText(this.toContextPos(k),this.toContextPos($),z.toString()),this.to+=j}r+=j}),y&&!g&&this.revertPending(e.state),!g}update(e){let r=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(g=>!g.isUserEvent("input.type")&&g.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,g=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),y=this.toContextPos(r.head);(this.editContext.selectionStart!=g||this.editContext.selectionEnd!=y)&&this.editContext.updateSelection(g,y)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let g=this.composing;return g&&g.drifted?g.editorBase+(e-g.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:g}=e;this.dispatchTransactions=e.dispatchTransactions||g&&(y=>y.forEach(k=>g(k,this)))||(y=>this.update(y)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(y=>new PluginInstance(y));for(let y of this.plugins)y.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,g=!1,y,k=this.state;for(let oe of e){if(oe.startState!=k)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");k=oe.state}if(this.destroyed){this.viewState.state=k;return}let $=this.hasFocus,V=0,L=null;e.some(oe=>oe.annotation(isFocusChange))?(this.inputState.notifiedFocused=$,V=1):$!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=$,L=focusChangeTransaction(k,$),L||(V=1));let z=this.observer.delayedAndroidKey,j=null;if(z?(this.observer.clearDelayedAndroidKey(),j=this.observer.readChange(),(j&&!this.state.doc.eq(k.doc)||!this.state.selection.eq(k.selection))&&(j=null)):this.observer.clear(),k.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(k);y=ViewUpdate.create(this,k,e),y.flags|=V;let re=this.viewState.scrollTarget;try{this.updateState=2;for(let oe of e){if(re&&(re=re.map(oe.changes)),oe.scrollIntoView){let{main:ae}=oe.state.selection;re=new ScrollTarget(ae.empty?ae:EditorSelection.cursor(ae.head,ae.head>ae.anchor?-1:1))}for(let ae of oe.effects)ae.is(scrollIntoView$1)&&(re=ae.value.clip(this.state))}this.viewState.update(y,re),this.bidiCache=CachedOrder.update(this.bidiCache,y.changes),y.empty||(this.updatePlugins(y),this.inputState.update(y)),r=this.docView.update(y),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),g=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(oe=>oe.isUserEvent("select.pointer")))}finally{this.updateState=0}if(y.startState.facet(theme)!=y.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(r||g||re||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!y.empty)for(let oe of this.state.facet(updateListener))try{oe(y)}catch(ae){logException(this.state,ae,"update listener")}(L||j)&&Promise.resolve().then(()=>{L&&this.state==L.startState&&this.dispatch(L),j&&!applyDOMChange(this,j)&&z.force&&dispatchKey(this.contentDOM,z.key,z.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let g of this.plugins)g.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(g=>new PluginInstance(g)),this.pluginMap.clear();for(let g of this.plugins)g.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(viewPlugin),g=e.state.facet(viewPlugin);if(r!=g){let y=[];for(let k of g){let $=r.indexOf(k);if($<0)y.push(new PluginInstance(k));else{let V=this.plugins[$];V.mustUpdate=e,y.push(V)}}for(let k of this.plugins)k.mustUpdate!=e&&k.destroy(this);this.plugins=y,this.pluginMap.clear()}else for(let y of this.plugins)y.mustUpdate=e;for(let y=0;y<this.plugins.length;y++)this.plugins[y].update(this);r!=g&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(g){logException(this.state,g,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,g=this.scrollDOM,y=g.scrollTop*this.scaleY,{scrollAnchorPos:k,scrollAnchorHeight:$}=this.viewState;Math.abs(y-this.viewState.scrollTop)>1&&($=-1),this.viewState.scrollAnchorHeight=-1;try{for(let V=0;;V++){if($<0)if(isScrolledToBottom(g))k=-1,$=this.viewState.heightMap.height;else{let ae=this.viewState.scrollAnchorAt(y);k=ae.from,$=ae.top}this.updateState=1;let L=this.viewState.measure(this);if(!L&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(V>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let z=[];L&4||([this.measureRequests,z]=[z,this.measureRequests]);let j=z.map(ae=>{try{return ae.read(this)}catch(de){return logException(this.state,de),BadMeasure}}),re=ViewUpdate.create(this,this.state,[]),oe=!1;re.flags|=L,r?r.flags|=L:r=re,this.updateState=2,re.empty||(this.updatePlugins(re),this.inputState.update(re),this.updateAttrs(),oe=this.docView.update(re),oe&&this.docViewUpdate());for(let ae=0;ae<z.length;ae++)if(j[ae]!=BadMeasure)try{let de=z[ae];de.write&&de.write(j[ae],this)}catch(de){logException(this.state,de)}if(oe&&this.docView.updateSelection(!0),!re.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,$=-1;continue}else{let de=(k<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(k).top)-$;if(de>1||de<-1){y=y+de,g.scrollTop=y/this.scaleY,$=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let V of this.state.facet(updateListener))V(r)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,r);let g=this.observer.ignore(()=>{let y=updateAttrs(this.contentDOM,this.contentAttrs,r),k=updateAttrs(this.dom,this.editorAttrs,e);return y||k});return this.editorAttrs=e,this.contentAttrs=r,g}showAnnouncements(e){let r=!0;for(let g of e)for(let y of g.effects)if(y.is(EditorView.announce)){r&&(this.announceDOM.textContent=""),r=!1;let k=this.announceDOM.appendChild(document.createElement("div"));k.textContent=y.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(g=>g.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,g){return skipAtoms(this,e,moveByChar(this,e,r,g))}moveByGroup(e,r){return skipAtoms(this,e,moveByChar(this,e,r,g=>byGroup(this,e.head,g)))}visualLineSide(e,r){let g=this.bidiSpans(e),y=this.textDirectionAt(e.from),k=g[r?g.length-1:0];return EditorSelection.cursor(k.side(r,y)+e.from,k.forward(!r,y)?1:-1)}moveToLineBoundary(e,r,g=!0){return moveToLineBoundary(this,e,r,g)}moveVertically(e,r,g){return skipAtoms(this,e,moveVertically(this,e,r,g))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),posAtCoords(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let g=this.docView.coordsAt(e,r);if(!g||g.left==g.right)return g;let y=this.state.doc.lineAt(e),k=this.bidiSpans(y),$=k[BidiSpan.find(k,e-y.from,-1,r)];return flattenRect(g,$.dir==Direction.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let r=this.textDirectionAt(e.from),g;for(let k of this.bidiCache)if(k.from==e.from&&k.dir==r&&(k.fresh||isolatesEq(k.isolates,g=getIsolatedRanges(this,e))))return k.order;g||(g=getIsolatedRanges(this,e));let y=computeOrder(e.text,r,g);return this.bidiCache.push(new CachedOrder(e.from,e.to,r,g,!0,y)),y}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,g=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(g.from),"start","start",g.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,r){let g=StyleModule.newName(),y=[theme.of(g),styleModule.of(buildTheme(`.${g}`,e))];return r&&r.dark&&y.push(darkTheme.of(!0)),y}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var r;let g=e.querySelector(".cm-content"),y=g&&ContentView.get(g)||ContentView.get(e);return((r=y?.rootView)===null||r===void 0?void 0:r.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:n=>n.length?n[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,r,g,y,k,$){this.from=e,this.to=r,this.dir=g,this.isolates=y,this.fresh=k,this.order=$}static update(e,r){if(r.empty&&!e.some(k=>k.fresh))return e;let g=[],y=e.length?e[e.length-1].dir:Direction.LTR;for(let k=Math.max(0,e.length-10);k<e.length;k++){let $=e[k];$.dir==y&&!r.touchesRange($.from,$.to)&&g.push(new CachedOrder(r.mapPos($.from,1),r.mapPos($.to,-1),$.dir,$.isolates,!1,$.order))}return g}}function attrsFromFacet(n,e,r){for(let g=n.state.facet(e),y=g.length-1;y>=0;y--){let k=g[y],$=typeof k=="function"?k(n):k;$&&combineAttrs($,r)}return r}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(n,e){const r=n.split(/-(?!$)/);let g=r[r.length-1];g=="Space"&&(g=" ");let y,k,$,V;for(let L=0;L<r.length-1;++L){const z=r[L];if(/^(cmd|meta|m)$/i.test(z))V=!0;else if(/^a(lt)?$/i.test(z))y=!0;else if(/^(c|ctrl|control)$/i.test(z))k=!0;else if(/^s(hift)?$/i.test(z))$=!0;else if(/^mod$/i.test(z))e=="mac"?V=!0:k=!0;else throw new Error("Unrecognized modifier name: "+z)}return y&&(g="Alt-"+g),k&&(g="Ctrl-"+g),V&&(g="Meta-"+g),$&&(g="Shift-"+g),g}function modifiers(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(n,e){return runHandlers(getKeymap(e.state),n,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(n){let e=n.facet(keymap),r=Keymaps.get(e);return r||Keymaps.set(e,r=buildKeymap(e.reduce((g,y)=>g.concat(y),[]))),r}function runScopeHandlers(n,e,r){return runHandlers(getKeymap(n.state),e,n,r)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(n,e=currentPlatform){let r=Object.create(null),g=Object.create(null),y=($,V)=>{let L=g[$];if(L==null)g[$]=V;else if(L!=V)throw new Error("Key binding "+$+" is used both as a regular binding and as a multi-stroke prefix")},k=($,V,L,z,j)=>{var re,oe;let ae=r[$]||(r[$]=Object.create(null)),de=V.split(/ (?!$)/).map(he=>normalizeKeyName(he,e));for(let he=1;he<de.length;he++){let Oe=de.slice(0,he).join(" ");y(Oe,!0),ae[Oe]||(ae[Oe]={preventDefault:!0,stopPropagation:!1,run:[xe=>{let $e=storedPrefix={view:xe,prefix:Oe,scope:$};return setTimeout(()=>{storedPrefix==$e&&(storedPrefix=null)},PrefixTimeout),!0}]})}let ue=de.join(" ");y(ue,!1);let pe=ae[ue]||(ae[ue]={preventDefault:!1,stopPropagation:!1,run:((oe=(re=ae._any)===null||re===void 0?void 0:re.run)===null||oe===void 0?void 0:oe.slice())||[]});L&&pe.run.push(L),z&&(pe.preventDefault=!0),j&&(pe.stopPropagation=!0)};for(let $ of n){let V=$.scope?$.scope.split(" "):["editor"];if($.any)for(let z of V){let j=r[z]||(r[z]=Object.create(null));j._any||(j._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:re}=$;for(let oe in j)j[oe].run.push(ae=>re(ae,currentKeyEvent))}let L=$[e]||$.key;if(L)for(let z of V)k(z,L,$.run,$.preventDefault,$.stopPropagation),$.shift&&k(z,"Shift-"+L,$.shift,$.preventDefault,$.stopPropagation)}return r}let currentKeyEvent=null;function runHandlers(n,e,r,g){currentKeyEvent=e;let y=keyName(e),k=codePointAt$1(y,0),$=codePointSize(k)==y.length&&y!=" ",V="",L=!1,z=!1,j=!1;storedPrefix&&storedPrefix.view==r&&storedPrefix.scope==g&&(V=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(z=!0,storedPrefix=null));let re=new Set,oe=pe=>{if(pe){for(let he of pe.run)if(!re.has(he)&&(re.add(he),he(r)))return pe.stopPropagation&&(j=!0),!0;pe.preventDefault&&(pe.stopPropagation&&(j=!0),z=!0)}return!1},ae=n[g],de,ue;return ae&&(oe(ae[V+modifiers(y,e,!$)])?L=!0:$&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&(de=base[e.keyCode])&&de!=y?(oe(ae[V+modifiers(de,e,!0)])||e.shiftKey&&(ue=shift[e.keyCode])!=y&&ue!=de&&oe(ae[V+modifiers(ue,e,!1)]))&&(L=!0):$&&e.shiftKey&&oe(ae[V+modifiers(y,e,!0)])&&(L=!0),!L&&oe(ae._any)&&(L=!0)),z&&(L=!0),L&&j&&e.stopPropagation(),currentKeyEvent=null,L}class RectangleMarker{constructor(e,r,g,y,k){this.className=e,this.left=r,this.top=g,this.width=y,this.height=k}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,g){if(g.empty){let y=e.coordsAtPos(g.head,g.assoc||1);if(!y)return[];let k=getBase(e);return[new RectangleMarker(r,y.left-k.left,y.top-k.top,null,y.bottom-y.top)]}else return rectanglesForRange(e,r,g)}}function getBase(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Direction.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function wrappedLine(n,e,r,g){let y=n.coordsAtPos(e,r*2);if(!y)return g;let k=n.dom.getBoundingClientRect(),$=(y.top+y.bottom)/2,V=n.posAtCoords({x:k.left+1,y:$}),L=n.posAtCoords({x:k.right-1,y:$});return V==null||L==null?g:{from:Math.max(g.from,Math.min(V,L)),to:Math.min(g.to,Math.max(V,L))}}function rectanglesForRange(n,e,r){if(r.to<=n.viewport.from||r.from>=n.viewport.to)return[];let g=Math.max(r.from,n.viewport.from),y=Math.min(r.to,n.viewport.to),k=n.textDirection==Direction.LTR,$=n.contentDOM,V=$.getBoundingClientRect(),L=getBase(n),z=$.querySelector(".cm-line"),j=z&&window.getComputedStyle(z),re=V.left+(j?parseInt(j.paddingLeft)+Math.min(0,parseInt(j.textIndent)):0),oe=V.right-(j?parseInt(j.paddingRight):0),ae=blockAt(n,g),de=blockAt(n,y),ue=ae.type==BlockType.Text?ae:null,pe=de.type==BlockType.Text?de:null;if(ue&&(n.lineWrapping||ae.widgetLineBreaks)&&(ue=wrappedLine(n,g,1,ue)),pe&&(n.lineWrapping||de.widgetLineBreaks)&&(pe=wrappedLine(n,y,-1,pe)),ue&&pe&&ue.from==pe.from&&ue.to==pe.to)return Oe(xe(r.from,r.to,ue));{let Ne=ue?xe(r.from,null,ue):$e(ae,!1),Ce=pe?xe(null,r.to,pe):$e(de,!0),Fe=[];return(ue||ae).to<(pe||de).from-(ue&&pe?1:0)||ae.widgetLineBreaks>1&&Ne.bottom+n.defaultLineHeight/2<Ce.top?Fe.push(he(re,Ne.bottom,oe,Ce.top)):Ne.bottom<Ce.top&&n.elementAtHeight((Ne.bottom+Ce.top)/2).type==BlockType.Text&&(Ne.bottom=Ce.top=(Ne.bottom+Ce.top)/2),Oe(Ne).concat(Fe).concat(Oe(Ce))}function he(Ne,Ce,Fe,ze){return new RectangleMarker(e,Ne-L.left,Ce-L.top,Fe-Ne,ze-Ce)}function Oe({top:Ne,bottom:Ce,horizontal:Fe}){let ze=[];for(let kt=0;kt<Fe.length;kt+=2)ze.push(he(Fe[kt],Ne,Fe[kt+1],Ce));return ze}function xe(Ne,Ce,Fe){let ze=1e9,kt=-1e9,At=[];function Cn(jt,An,Mn,$n,Ln){let Tn=n.coordsAtPos(jt,jt==Fe.to?-2:2),Zn=n.coordsAtPos(Mn,Mn==Fe.from?2:-2);!Tn||!Zn||(ze=Math.min(Tn.top,Zn.top,ze),kt=Math.max(Tn.bottom,Zn.bottom,kt),Ln==Direction.LTR?At.push(k&&An?re:Tn.left,k&&$n?oe:Zn.right):At.push(!k&&$n?re:Zn.left,!k&&An?oe:Tn.right))}let Dt=Ne??Fe.from,On=Ce??Fe.to;for(let jt of n.visibleRanges)if(jt.to>Dt&&jt.from<On)for(let An=Math.max(jt.from,Dt),Mn=Math.min(jt.to,On);;){let $n=n.state.doc.lineAt(An);for(let Ln of n.bidiSpans($n)){let Tn=Ln.from+$n.from,Zn=Ln.to+$n.from;if(Tn>=Mn)break;Zn>An&&Cn(Math.max(Tn,An),Ne==null&&Tn<=Dt,Math.min(Zn,Mn),Ce==null&&Zn>=On,Ln.dir)}if(An=$n.to+1,An>=Mn)break}return At.length==0&&Cn(Dt,Ne==null,On,Ce==null,n.textDirection),{top:ze,bottom:kt,horizontal:At}}function $e(Ne,Ce){let Fe=V.top+(Ce?Ne.top:Ne.bottom);return{top:Fe,bottom:Fe,horizontal:[]}}}function sameMarker(n,e){return n.constructor==e.constructor&&n.eq(e)}class LayerView{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,g=e.facet(layerOrder);for(;r<g.length&&g[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,g)=>!sameMarker(r,this.drawn[g]))){let r=this.dom.firstChild,g=0;for(let y of e)y.update&&r&&y.constructor&&this.drawn[g].constructor&&y.update(r,this.drawn[g])?(r=r.nextSibling,g++):this.dom.insertBefore(y.draw(),r);for(;r;){let y=r.nextSibling;r.remove(),r=y}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(n){return[ViewPlugin.define(e=>new LayerView(e,n)),layerOrder.of(n)]}const CanHidePrimary=!(browser.ios&&browser.webkit&&browser.webkit_version<534),selectionConfig=Facet.define({combine(n){return combineConfig(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function drawSelection(n={}){return[selectionConfig.of(n),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(n){return n.startState.facet(selectionConfig)!=n.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(n){let{state:e}=n,r=e.facet(selectionConfig),g=[];for(let y of e.selection.ranges){let k=y==e.selection.main;if(y.empty?!k||CanHidePrimary:r.drawRangeCursor){let $=k?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",V=y.empty?y:EditorSelection.cursor(y.head,y.head>y.anchor?-1:1);for(let L of RectangleMarker.forRange(n,$,V))g.push(L)}}return g},update(n,e){n.transactions.some(g=>g.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=configChanged(n);return r&&setBlinkRate(n.state,e),n.docChanged||n.selectionSet||r},mount(n,e){setBlinkRate(e.state,n)},class:"cm-cursorLayer"});function setBlinkRate(n,e){e.style.animationDuration=n.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(n,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||configChanged(n)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor=themeSpec[".cm-content"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(n,e){return n==null?null:e.mapPos(n)}}),dropCursorPos=StateField.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((r,g)=>g.is(setDropCursorPos)?g.value:r,n)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let r=n.state.field(dropCursorPos);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(dropCursorPos)!=r||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(dropCursorPos),r=e!=null&&n.coordsAtPos(e);if(!r)return null;let g=n.scrollDOM.getBoundingClientRect();return{left:r.left-g.left+n.scrollDOM.scrollLeft*n.scaleX,top:r.top-g.top+n.scrollDOM.scrollTop*n.scaleY,height:r.bottom-r.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/r+"px",this.cursor.style.height=n.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(dropCursorPos)!=n&&this.view.dispatch({effects:setDropCursorPos.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(n,e,r,g,y){e.lastIndex=0;for(let k=n.iterRange(r,g),$=r,V;!k.next().done;$+=k.value.length)if(!k.lineBreak)for(;V=e.exec(k.value);)y($+V.index,V)}function matchRanges(n,e){let r=n.visibleRanges;if(r.length==1&&r[0].from==n.viewport.from&&r[0].to==n.viewport.to)return r;let g=[];for(let{from:y,to:k}of r)y=Math.max(n.state.doc.lineAt(y).from,y-e),k=Math.min(n.state.doc.lineAt(k).to,k+e),g.length&&g[g.length-1].to>=y?g[g.length-1].to=k:g.push({from:y,to:k});return g}class MatchDecorator{constructor(e){const{regexp:r,decoration:g,decorate:y,boundary:k,maxLength:$=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,y)this.addMatch=(V,L,z,j)=>y(j,z,z+V[0].length,V,L);else if(typeof g=="function")this.addMatch=(V,L,z,j)=>{let re=g(V,L,z);re&&j(z,z+V[0].length,re)};else if(g)this.addMatch=(V,L,z,j)=>j(z,z+V[0].length,g);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=k,this.maxLength=$}createDeco(e){let r=new RangeSetBuilder,g=r.add.bind(r);for(let{from:y,to:k}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,y,k,($,V)=>this.addMatch(V,e,$,g));return r.finish()}updateDeco(e,r){let g=1e9,y=-1;return e.docChanged&&e.changes.iterChanges((k,$,V,L)=>{L>=e.view.viewport.from&&V<=e.view.viewport.to&&(g=Math.min(V,g),y=Math.max(L,y))}),e.viewportMoved||y-g>1e3?this.createDeco(e.view):y>-1?this.updateRange(e.view,r.map(e.changes),g,y):r}updateRange(e,r,g,y){for(let k of e.visibleRanges){let $=Math.max(k.from,g),V=Math.min(k.to,y);if(V>$){let L=e.state.doc.lineAt($),z=L.to<V?e.state.doc.lineAt(V):L,j=Math.max(k.from,L.from),re=Math.min(k.to,z.to);if(this.boundary){for(;$>L.from;$--)if(this.boundary.test(L.text[$-1-L.from])){j=$;break}for(;V<z.to;V++)if(this.boundary.test(z.text[V-z.from])){re=V;break}}let oe=[],ae,de=(ue,pe,he)=>oe.push(he.range(ue,pe));if(L==z)for(this.regexp.lastIndex=j-L.from;(ae=this.regexp.exec(L.text))&&ae.index<re-L.from;)this.addMatch(ae,e,ae.index+L.from,de);else iterMatches(e.state.doc,this.regexp,j,re,(ue,pe)=>this.addMatch(pe,e,ue,de));r=r.update({filterFrom:j,filterTo:re,filter:(ue,pe)=>ue<j||pe>re,add:oe})}}return r}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var n;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(n){let e=combineConfig(n,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(n={}){return[specialCharConfig.of(n),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new MatchDecorator({regexp:n.specialChars,decoration:(e,r,g)=>{let{doc:y}=r.state,k=codePointAt$1(e[0],0);if(k==9){let $=y.lineAt(g),V=r.state.tabSize,L=countColumn($.text,V,g-$.from);return Decoration.replace({widget:new TabWidget((V-L%V)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[k]||(this.decorationCache[k]=Decoration.replace({widget:new SpecialCharWidget(n,k)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(specialCharConfig);n.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const DefaultPlaceholder="";function placeholder$1(n){return n>=32?DefaultPlaceholder:n==10?"":String.fromCharCode(9216+n)}class SpecialCharWidget extends WidgetType{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=placeholder$1(this.code),g=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),y=this.options.render&&this.options.render(this.code,g,r);if(y)return y;let k=document.createElement("span");return k.textContent=r,k.title=g,k.setAttribute("aria-label",g),k.className="cm-specialChar",k}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,r=[];for(let g of n.state.selection.ranges){let y=n.lineBlockAt(g.head);y.from>e&&(r.push(lineDeco.range(y.from)),e=y.from)}return Decoration.set(r)}},{decorations:n=>n.decorations}),MaxOff=2e3;function rectangleFor(n,e,r){let g=Math.min(e.line,r.line),y=Math.max(e.line,r.line),k=[];if(e.off>MaxOff||r.off>MaxOff||e.col<0||r.col<0){let $=Math.min(e.off,r.off),V=Math.max(e.off,r.off);for(let L=g;L<=y;L++){let z=n.doc.line(L);z.length<=V&&k.push(EditorSelection.range(z.from+$,z.to+V))}}else{let $=Math.min(e.col,r.col),V=Math.max(e.col,r.col);for(let L=g;L<=y;L++){let z=n.doc.line(L),j=findColumn(z.text,$,n.tabSize,!0);if(j<0)k.push(EditorSelection.cursor(z.to));else{let re=findColumn(z.text,V,n.tabSize);k.push(EditorSelection.range(z.from+j,z.from+re))}}}return k}function absoluteColumn(n,e){let r=n.coordsAtPos(n.viewport.from);return r?Math.round(Math.abs((r.left-e)/n.defaultCharacterWidth)):-1}function getPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),g=n.state.doc.lineAt(r),y=r-g.from,k=y>MaxOff?-1:y==g.length?absoluteColumn(n,e.clientX):countColumn(g.text,n.state.tabSize,r-g.from);return{line:g.number,col:k,off:y}}function rectangleSelectionStyle(n,e){let r=getPos(n,e),g=n.state.selection;return r?{update(y){if(y.docChanged){let k=y.changes.mapPos(y.startState.doc.line(r.line).from),$=y.state.doc.lineAt(k);r={line:$.number,col:r.col,off:Math.min(r.off,$.length)},g=g.map(y.changes)}},get(y,k,$){let V=getPos(n,y);if(!V)return g;let L=rectangleFor(n.state,r,V);return L.length?$?EditorSelection.create(L.concat(g.ranges)):EditorSelection.create(L):g}}:null}function rectangularSelection(n){let e=n?.eventFilter||(r=>r.altKey&&r.button==0);return EditorView.mouseSelectionStyle.of((r,g)=>e(g)?rectangleSelectionStyle(r,g):null)}const keys={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(n={}){let[e,r]=keys[n.key||"Alt"],g=ViewPlugin.fromClass(class{constructor(y){this.view=y,this.isDown=!1}set(y){this.isDown!=y&&(this.isDown=y,this.view.update([]))}},{eventObservers:{keydown(y){this.set(y.keyCode==e||r(y))},keyup(y){(y.keyCode==e||!r(y))&&this.set(!1)},mousemove(y){this.set(r(y))}}});return[g,EditorView.contentAttributes.of(y=>{var k;return!((k=y.plugin(g))===null||k===void 0)&&k.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,r,g,y){this.facet=r,this.createTooltipView=g,this.removeTooltipView=y,this.input=e.state.facet(r),this.tooltips=this.input.filter($=>$);let k=null;this.tooltipViews=this.tooltips.map($=>k=g($,k))}update(e,r){var g;let y=e.state.facet(this.facet),k=y.filter(L=>L);if(y===this.input){for(let L of this.tooltipViews)L.update&&L.update(e);return!1}let $=[],V=r?[]:null;for(let L=0;L<k.length;L++){let z=k[L],j=-1;if(z){for(let re=0;re<this.tooltips.length;re++){let oe=this.tooltips[re];oe&&oe.create==z.create&&(j=re)}if(j<0)$[L]=this.createTooltipView(z,L?$[L-1]:null),V&&(V[L]=!!z.above);else{let re=$[L]=this.tooltipViews[j];V&&(V[L]=r[j]),re.update&&re.update(e)}}}for(let L of this.tooltipViews)$.indexOf(L)<0&&(this.removeTooltipView(L),(g=L.destroy)===null||g===void 0||g.call(L));return r&&(V.forEach((L,z)=>r[z]=L),r.length=V.length),this.input=y,this.tooltips=k,this.tooltipViews=$,!0}}function windowSpace(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const tooltipConfig=Facet.define({combine:n=>{var e,r,g;return{position:browser.ios?"absolute":((e=n.find(y=>y.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=n.find(y=>y.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((g=n.find(y=>y.tooltipSpace))===null||g===void 0?void 0:g.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(n,showTooltip,(r,g)=>this.createTooltip(r,g),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let r=e||n.geometryChanged,g=n.state.facet(tooltipConfig);if(g.position!=this.position&&!this.madeAbsolute){this.position=g.position;for(let y of this.manager.tooltipViews)y.dom.style.position=this.position;r=!0}if(g.parent!=this.parent){this.parent&&this.container.remove(),this.parent=g.parent,this.createContainer();for(let y of this.manager.tooltipViews)this.container.appendChild(y.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(n,e){let r=n.create(this.view),g=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),n.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let y=document.createElement("div");y.className="cm-tooltip-arrow",r.dom.appendChild(y)}return r.dom.style.position=this.position,r.dom.style.top=Outside,r.dom.style.left="0px",this.container.insertBefore(r.dom,g),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var n,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let g of this.manager.tooltipViews)g.dom.remove(),(n=g.destroy)===null||n===void 0||n.call(g);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:k}=this.manager.tooltipViews[0];if(browser.gecko)r=k.offsetParent!=this.container.ownerDocument.body;else if(k.style.top==Outside&&k.style.left=="0px"){let $=k.getBoundingClientRect();r=Math.abs($.top+1e4)>1||Math.abs($.left)>1}}if(r||this.position=="absolute")if(this.parent){let k=this.parent.getBoundingClientRect();k.width&&k.height&&(n=k.width/this.parent.offsetWidth,e=k.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let g=this.view.scrollDOM.getBoundingClientRect(),y=getScrollMargins(this.view);return{visible:{left:g.left+y.left,top:g.top+y.top,right:g.right-y.right,bottom:g.bottom-y.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((k,$)=>{let V=this.manager.tooltipViews[$];return V.getCoords?V.getCoords(k.pos):this.view.coordsAtPos(k.pos)}),size:this.manager.tooltipViews.map(({dom:k})=>k.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let V of this.manager.tooltipViews)V.dom.style.position="absolute"}let{visible:r,space:g,scaleX:y,scaleY:k}=n,$=[];for(let V=0;V<this.manager.tooltips.length;V++){let L=this.manager.tooltips[V],z=this.manager.tooltipViews[V],{dom:j}=z,re=n.pos[V],oe=n.size[V];if(!re||L.clip!==!1&&(re.bottom<=Math.max(r.top,g.top)||re.top>=Math.min(r.bottom,g.bottom)||re.right<Math.max(r.left,g.left)-.1||re.left>Math.min(r.right,g.right)+.1)){j.style.top=Outside;continue}let ae=L.arrow?z.dom.querySelector(".cm-tooltip-arrow"):null,de=ae?7:0,ue=oe.right-oe.left,pe=(e=knownHeight.get(z))!==null&&e!==void 0?e:oe.bottom-oe.top,he=z.offset||noOffset,Oe=this.view.textDirection==Direction.LTR,xe=oe.width>g.right-g.left?Oe?g.left:g.right-oe.width:Oe?Math.max(g.left,Math.min(re.left-(ae?14:0)+he.x,g.right-ue)):Math.min(Math.max(g.left,re.left-ue+(ae?14:0)-he.x),g.right-ue),$e=this.above[V];!L.strictSide&&($e?re.top-pe-de-he.y<g.top:re.bottom+pe+de+he.y>g.bottom)&&$e==g.bottom-re.bottom>re.top-g.top&&($e=this.above[V]=!$e);let Ne=($e?re.top-g.top:g.bottom-re.bottom)-de;if(Ne<pe&&z.resize!==!1){if(Ne<this.view.defaultLineHeight){j.style.top=Outside;continue}knownHeight.set(z,pe),j.style.height=(pe=Ne)/k+"px"}else j.style.height&&(j.style.height="");let Ce=$e?re.top-pe-de-he.y:re.bottom+de+he.y,Fe=xe+ue;if(z.overlap!==!0)for(let ze of $)ze.left<Fe&&ze.right>xe&&ze.top<Ce+pe&&ze.bottom>Ce&&(Ce=$e?ze.top-pe-2-de:ze.bottom+de+2);if(this.position=="absolute"?(j.style.top=(Ce-n.parent.top)/k+"px",setLeftStyle(j,(xe-n.parent.left)/y)):(j.style.top=Ce/k+"px",setLeftStyle(j,xe/y)),ae){let ze=re.left+(Oe?he.x:-he.x)-(xe+14-7);ae.style.left=ze/y+"px"}z.overlap!==!0&&$.push({left:xe,top:Ce,right:Fe,bottom:Ce+pe}),j.classList.toggle("cm-tooltip-above",$e),j.classList.toggle("cm-tooltip-below",!$e),z.positioned&&z.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(n,e){let r=parseInt(n.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(n.style.left=e+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:n=>n.reduce((e,r)=>e.concat(r),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(r,g)=>this.createHostedView(r,g),r=>r.dom.remove())}createHostedView(e,r){let g=e.create(this.view);return g.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(g.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&g.mount&&g.mount(this.view),g}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let g of this.manager.tooltipViews){let y=g[e];if(y!==void 0){if(r===void 0)r=y;else if(r!==y)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],n=>{let e=n.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var g;return(g=r.end)!==null&&g!==void 0?g:r.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class HoverPlugin{constructor(e,r,g,y,k){this.view=e,this.source=r,this.field=g,this.setHover=y,this.hoverTime=k,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,g=e.docView.nearest(r.target);if(!g)return;let y,k=1;if(g instanceof WidgetView)y=g.posAtStart;else{if(y=e.posAtCoords(r),y==null)return;let V=e.coordsAtPos(y);if(!V||r.y<V.top||r.y>V.bottom||r.x<V.left-e.defaultCharacterWidth||r.x>V.right+e.defaultCharacterWidth)return;let L=e.bidiSpans(e.state.doc.lineAt(y)).find(j=>j.from<=y&&j.to>=y),z=L&&L.dir==Direction.RTL?-1:1;k=r.x<V.left?-z:z}let $=this.source(e,y,k);if($?.then){let V=this.pending={pos:y};$.then(L=>{this.pending==V&&(this.pending=null,L&&!(Array.isArray(L)&&!L.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(L)?L:[L])}))},L=>logException(e.state,L,"hover tooltip"))}else $&&!(Array.isArray($)&&!$.length)&&e.dispatch({effects:this.setHover.of(Array.isArray($)?$:[$])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),r=e?e.manager.tooltips.findIndex(g=>g.create==HoverTooltipHost.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,g;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:y,tooltip:k}=this;if(y.length&&k&&!isInTooltip(k.dom,e)||this.pending){let{pos:$}=y[0]||this.pending,V=(g=(r=y[0])===null||r===void 0?void 0:r.end)!==null&&g!==void 0?g:$;($==V?this.view.posAtCoords(this.lastMove)!=$:!isOverRange(this.view,$,V,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:g}=this;g&&g.dom.contains(e.relatedTarget)?this.watchTooltipLeave(g.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=g=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(g.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(n,e){let{left:r,right:g,top:y,bottom:k}=n.getBoundingClientRect(),$;if($=n.querySelector(".cm-tooltip-arrow")){let V=$.getBoundingClientRect();y=Math.min(V.top,y),k=Math.max(V.bottom,k)}return e.clientX>=r-tooltipMargin&&e.clientX<=g+tooltipMargin&&e.clientY>=y-tooltipMargin&&e.clientY<=k+tooltipMargin}function isOverRange(n,e,r,g,y,k){let $=n.scrollDOM.getBoundingClientRect(),V=n.documentTop+n.documentPadding.top+n.contentHeight;if($.left>g||$.right<g||$.top>y||Math.min($.bottom,V)<y)return!1;let L=n.posAtCoords({x:g,y},!1);return L>=e&&L<=r}function hoverTooltip(n,e={}){let r=StateEffect.define(),g=StateField.define({create(){return[]},update(y,k){if(y.length&&(e.hideOnChange&&(k.docChanged||k.selection)?y=[]:e.hideOn&&(y=y.filter($=>!e.hideOn(k,$))),k.docChanged)){let $=[];for(let V of y){let L=k.changes.mapPos(V.pos,-1,MapMode.TrackDel);if(L!=null){let z=Object.assign(Object.create(null),V);z.pos=L,z.end!=null&&(z.end=k.changes.mapPos(z.end)),$.push(z)}}y=$}for(let $ of k.effects)$.is(r)&&(y=$.value),$.is(closeHoverTooltipEffect)&&(y=[]);return y},provide:y=>showHoverTooltip.from(y)});return{active:g,extension:[g,ViewPlugin.define(y=>new HoverPlugin(y,n,g,r,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(n,e){let r=n.plugin(tooltipPlugin);if(!r)return null;let g=r.manager.tooltips.indexOf(e);return g<0?null:r.manager.tooltipViews[g]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(n){let e,r;for(let g of n)e=e||g.topContainer,r=r||g.bottomContainer;return{topContainer:e,bottomContainer:r}}});function getPanel(n,e){let r=n.plugin(panelPlugin),g=r?r.specs.indexOf(e):-1;return g>-1?r.panels[g]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(n){this.input=n.state.facet(showPanel),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(n));let e=n.state.facet(panelConfig);this.top=new PanelGroup(n,!0,e.topContainer),this.bottom=new PanelGroup(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(n){let e=n.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=n.state.facet(showPanel);if(r!=this.input){let g=r.filter(L=>L),y=[],k=[],$=[],V=[];for(let L of g){let z=this.specs.indexOf(L),j;z<0?(j=L(n.view),V.push(j)):(j=this.panels[z],j.update&&j.update(n)),y.push(j),(j.top?k:$).push(j)}this.specs=g,this.panels=y,this.top.sync(k),this.bottom.sync($);for(let L of V)L.dom.classList.add("cm-panel"),L.mount&&L.mount()}else for(let g of this.panels)g.update&&g.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class PanelGroup{constructor(e,r,g){this.view=e,this.top=r,this.container=g,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(n){let e=n.nextSibling;return n.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(n){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),n))]}const unfixGutters=Facet.define({combine:n=>n.some(e=>e)});function gutters(n){let e=[gutterView];return n&&n.fixed===!1&&e.push(unfixGutters.of(!0)),e}const gutterView=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(activeGutters).map(e=>new SingleGutterView(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,r=n.view.viewport,g=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(g<(r.to-r.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let r=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),g=[],y=this.gutters.map(k=>new UpdateContext(k,this.view.viewport,-this.view.documentPadding.top));for(let k of this.view.viewportLineBlocks)if(g.length&&(g=[]),Array.isArray(k.type)){let $=!0;for(let V of k.type)if(V.type==BlockType.Text&&$){advanceCursor(r,g,V.from);for(let L of y)L.line(this.view,V,g);$=!1}else if(V.widget)for(let L of y)L.widget(this.view,V)}else if(k.type==BlockType.Text){advanceCursor(r,g,k.from);for(let $ of y)$.line(this.view,k,g)}else if(k.widget)for(let $ of y)$.widget(this.view,k);for(let k of y)k.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(activeGutters),r=n.state.facet(activeGutters),g=n.docChanged||n.heightChanged||n.viewportChanged||!RangeSet.eq(n.startState.facet(gutterLineClass),n.state.facet(gutterLineClass),n.view.viewport.from,n.view.viewport.to);if(e==r)for(let y of this.gutters)y.update(n)&&(g=!0);else{g=!0;let y=[];for(let k of r){let $=e.indexOf(k);$<0?y.push(new SingleGutterView(this.view,k)):(this.gutters[$].update(n),y.push(this.gutters[$]))}for(let k of this.gutters)k.dom.remove(),y.indexOf(k)<0&&k.destroy();for(let k of y)this.dom.appendChild(k.dom);this.gutters=y}return g}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Direction.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function asArray(n){return Array.isArray(n)?n:[n]}function advanceCursor(n,e,r){for(;n.value&&n.from<=r;)n.from==r&&e.push(n.value),n.next()}class UpdateContext{constructor(e,r,g){this.gutter=e,this.height=g,this.i=0,this.cursor=RangeSet.iter(e.markers,r.from)}addElement(e,r,g){let{gutter:y}=this,k=(r.top-this.height)/e.scaleY,$=r.height/e.scaleY;if(this.i==y.elements.length){let V=new GutterElement(e,$,k,g);y.elements.push(V),y.dom.appendChild(V.dom)}else y.elements[this.i].update(e,$,k,g);this.height=r.bottom,this.i++}line(e,r,g){let y=[];advanceCursor(this.cursor,y,r.from),g.length&&(y=y.concat(g));let k=this.gutter.config.lineMarker(e,r,y);k&&y.unshift(k);let $=this.gutter;y.length==0&&!$.config.renderEmptyElements||this.addElement(e,r,y)}widget(e,r){let g=this.gutter.config.widgetMarker(e,r.widget,r),y=g?[g]:null;for(let k of e.state.facet(gutterWidgetClass)){let $=k(e,r.widget,r);$&&(y||(y=[])).push($)}y&&this.addElement(e,r,y)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class SingleGutterView{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let g in r.domEventHandlers)this.dom.addEventListener(g,y=>{let k=y.target,$;if(k!=this.dom&&this.dom.contains(k)){for(;k.parentNode!=this.dom;)k=k.parentNode;let L=k.getBoundingClientRect();$=(L.top+L.bottom)/2}else $=y.clientY;let V=e.lineBlockAtHeight($-e.documentTop);r.domEventHandlers[g](e,V,y)&&y.preventDefault()});this.markers=asArray(r.markers(e)),r.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let y=this.config.updateSpacer(this.spacer.markers[0],e);y!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[y])}let g=e.view.viewport;return!RangeSet.eq(this.markers,r,g.from,g.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,r,g,y){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,g,y)}update(e,r,g,y){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=g&&(this.dom.style.marginTop=(this.above=g)?g+"px":""),sameMarkers(this.markers,y)||this.setMarkers(e,y)}setMarkers(e,r){let g="cm-gutterElement",y=this.dom.firstChild;for(let k=0,$=0;;){let V=$,L=k<r.length?r[k++]:null,z=!1;if(L){let j=L.elementClass;j&&(g+=" "+j);for(let re=$;re<this.markers.length;re++)if(this.markers[re].compare(L)){V=re,z=!0;break}}else V=this.markers.length;for(;$<V;){let j=this.markers[$++];if(j.toDOM){j.destroy(y);let re=y.nextSibling;y.remove(),y=re}}if(!L)break;L.toDOM&&(z?y=y.nextSibling:this.dom.insertBefore(L.toDOM(e),y)),z&&$++}this.dom.className=g,this.markers=r}destroy(){this.setMarkers(null,[])}}function sameMarkers(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].compare(e[r]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(n){return combineConfig(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let g=Object.assign({},e);for(let y in r){let k=g[y],$=r[y];g[y]=k?(V,L,z)=>k(V,L,z)||$(V,L,z):$}return g}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(n,e){return n.state.facet(lineNumberConfig).formatNumber(e,n.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,r,g){return g.some(y=>y.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,g)=>{for(let y of e.state.facet(lineNumberWidgetMarker)){let k=y(e,r,g);if(k)return k}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,r){let g=formatNumber(r.view,maxLineNumber(r.view.state.doc.lines));return g==e.number?e:new NumberMarker(g)},domEventHandlers:n.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(n={}){return[lineNumberConfig.of(n),gutters(),lineNumberGutter]}function maxLineNumber(n){let e=9;for(;e<n;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],n=>{let e=[],r=-1;for(let g of n.selection.ranges){let y=n.doc.lineAt(g.head).from;y>r&&(r=y,e.push(activeLineGutterMarker.range(y)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,r){this.from=e,this.to=r}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),r=>{let g=e(r);return g===void 0?null:[this,g]}}}NodeProp.closedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.group=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.isolate=new NodeProp({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,r,g){this.tree=e,this.overlay=r,this.parser=g}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,r,g,y=0){this.name=e,this.props=r,this.id=g,this.flags=y}static define(e){let r=e.props&&e.props.length?Object.create(null):noProps,g=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),y=new NodeType(e.name||"",r,e.id,g);if(e.props){for(let k of e.props)if(Array.isArray(k)||(k=k(y)),k){if(k[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[k[0].id]=k[1]}}return y}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(NodeProp.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let g in e)for(let y of g.split(" "))r[y]=e[g];return g=>{for(let y=g.prop(NodeProp.group),k=-1;k<(y?y.length:0);k++){let $=r[k<0?g.name:y[k]];if($)return $}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let g of this.types){let y=null;for(let k of e){let $=k(g);$&&(y||(y=Object.assign({},g.props)),y[$[0].id]=$[1])}r.push(y?new NodeType(g.name,y,g.id,g.flags):g)}return new NodeSet(r)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,r,g,y,k){if(this.type=e,this.children=r,this.positions=g,this.length=y,this.props=null,k&&k.length){this.props=Object.create(null);for(let[$,V]of k)this.props[typeof $=="number"?$:$.id]=V}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let g of this.children){let y=g.toString();y&&(r&&(r+=","),r+=y)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,r=0,g=0){let y=CachedNode.get(this)||this.topNode,k=new TreeCursor(y);return k.moveTo(e,r),CachedNode.set(this,k._tree),k}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,r=0){let g=resolveNode(CachedNode.get(this)||this.topNode,e,r,!1);return CachedNode.set(this,g),g}resolveInner(e,r=0){let g=resolveNode(CachedInnerNode.get(this)||this.topNode,e,r,!0);return CachedInnerNode.set(this,g),g}resolveStack(e,r=0){return stackIterator(this,e,r)}iterate(e){let{enter:r,leave:g,from:y=0,to:k=this.length}=e,$=e.mode||0,V=($&IterMode.IncludeAnonymous)>0;for(let L=this.cursor($|IterMode.IncludeAnonymous);;){let z=!1;if(L.from<=k&&L.to>=y&&(!V&&L.type.isAnonymous||r(L)!==!1)){if(L.firstChild())continue;z=!0}for(;z&&g&&(V||!L.type.isAnonymous)&&g(L),!L.nextSibling();){if(!L.parent())return;z=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(r,g,y)=>new Tree(this.type,r,g,y,this.propValues),e.makeTree||((r,g,y)=>new Tree(NodeType.none,r,g,y)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,r,g){this.buffer=e,this.length=r,this.set=g}get type(){return NodeType.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],g=this.buffer[e+3],y=this.set.types[r],k=y.name;if(/\W/.test(k)&&!y.isError&&(k=JSON.stringify(k)),e+=4,g==e)return k;let $=[];for(;e<g;)$.push(this.childString(e)),e=this.buffer[e+3];return k+"("+$.join(",")+")"}findChild(e,r,g,y,k){let{buffer:$}=this,V=-1;for(let L=e;L!=r&&!(checkSide(k,y,$[L+1],$[L+2])&&(V=L,g>0));L=$[L+3]);return V}slice(e,r,g){let y=this.buffer,k=new Uint16Array(r-e),$=0;for(let V=e,L=0;V<r;){k[L++]=y[V++],k[L++]=y[V++]-g;let z=k[L++]=y[V++]-g;k[L++]=y[V++]-e,$=Math.max($,z)}return new TreeBuffer(k,$,this.set)}}function checkSide(n,e,r,g){switch(n){case-2:return r<e;case-1:return g>=e&&r<e;case 0:return r<e&&g>e;case 1:return r<=e&&g>e;case 2:return g>e;case 4:return!0}}function resolveNode(n,e,r,g){for(var y;n.from==n.to||(r<1?n.from>=e:n.from>e)||(r>-1?n.to<=e:n.to<e);){let $=!g&&n instanceof TreeNode&&n.index<0?null:n.parent;if(!$)return n;n=$}let k=g?0:IterMode.IgnoreOverlays;if(g)for(let $=n,V=$.parent;V;$=V,V=$.parent)$ instanceof TreeNode&&$.index<0&&((y=V.enter(e,r,k))===null||y===void 0?void 0:y.from)!=$.from&&(n=V);for(;;){let $=n.enter(e,r,k);if(!$)return n;n=$}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,r=null,g=null){let y=getChildren(this,e,r,g);return y.length?y[0]:null}getChildren(e,r=null,g=null){return getChildren(this,e,r,g)}resolve(e,r=0){return resolveNode(this,e,r,!1)}resolveInner(e,r=0){return resolveNode(this,e,r,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),g=this;for(;r;){let y=r.lastChild;if(!y||y.to!=r.to)break;y.type.isError&&y.from==y.to?(g=r,r=y.prevSibling):r=y}return g}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,r,g,y){super(),this._tree=e,this.from=r,this.index=g,this._parent=y}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,g,y,k=0){for(let $=this;;){for(let{children:V,positions:L}=$._tree,z=r>0?V.length:-1;e!=z;e+=r){let j=V[e],re=L[e]+$.from;if(checkSide(y,g,re,re+j.length)){if(j instanceof TreeBuffer){if(k&IterMode.ExcludeBuffers)continue;let oe=j.findChild(0,j.buffer.length,r,g-re,y);if(oe>-1)return new BufferNode(new BufferContext($,j,e,re),null,oe)}else if(k&IterMode.IncludeAnonymous||!j.type.isAnonymous||hasChild(j)){let oe;if(!(k&IterMode.IgnoreMounts)&&(oe=MountedTree.get(j))&&!oe.overlay)return new TreeNode(oe.tree,re,e,$);let ae=new TreeNode(j,re,e,$);return k&IterMode.IncludeAnonymous||!ae.type.isAnonymous?ae:ae.nextChild(r<0?j.children.length-1:0,r,g,y)}}}if(k&IterMode.IncludeAnonymous||!$.type.isAnonymous||($.index>=0?e=$.index+r:e=r<0?-1:$._parent._tree.children.length,$=$._parent,!$))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,g=0){let y;if(!(g&IterMode.IgnoreOverlays)&&(y=MountedTree.get(this._tree))&&y.overlay){let k=e-this.from;for(let{from:$,to:V}of y.overlay)if((r>0?$<=k:$<k)&&(r<0?V>=k:V>k))return new TreeNode(y.tree,y.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,g)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(n,e,r,g){let y=n.cursor(),k=[];if(!y.firstChild())return k;if(r!=null){for(let $=!1;!$;)if($=y.type.is(r),!y.nextSibling())return k}for(;;){if(g!=null&&y.type.is(g))return k;if(y.type.is(e)&&k.push(y.node),!y.nextSibling())return g==null?k:[]}}function matchNodeContext(n,e,r=e.length-1){for(let g=n;r>=0;g=g.parent){if(!g)return!1;if(!g.type.isAnonymous){if(e[r]&&e[r]!=g.name)return!1;r--}}return!0}class BufferContext{constructor(e,r,g,y){this.parent=e,this.buffer=r,this.index=g,this.start=y}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,g){super(),this.context=e,this._parent=r,this.index=g,this.type=e.buffer.set.types[e.buffer.buffer[g]]}child(e,r,g){let{buffer:y}=this.context,k=y.findChild(this.index+4,y.buffer[this.index+3],e,r-this.context.start,g);return k<0?null:new BufferNode(this.context,this,k)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,g=0){if(g&IterMode.ExcludeBuffers)return null;let{buffer:y}=this.context,k=y.findChild(this.index+4,y.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return k<0?null:new BufferNode(this.context,this,k)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:g}=this.context,y=this.index+4,k=g.buffer[this.index+3];if(k>y){let $=g.buffer[this.index+1];e.push(g.slice(y,k,$)),r.push(0)}return new Tree(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(n){if(!n.length)return null;let e=0,r=n[0];for(let k=1;k<n.length;k++){let $=n[k];($.from>r.from||$.to<r.to)&&(r=$,e=k)}let g=r instanceof TreeNode&&r.index<0?null:r.parent,y=n.slice();return g?y[e]=g:y.splice(e,1),new StackIterator(y,r)}class StackIterator{constructor(e,r){this.heads=e,this.node=r}get next(){return iterStack(this.heads)}}function stackIterator(n,e,r){let g=n.resolveInner(e,r),y=null;for(let k=g instanceof TreeNode?g:g.context.parent;k;k=k.parent)if(k.index<0){let $=k.parent;(y||(y=[g])).push($.resolve(e,r)),k=$}else{let $=MountedTree.get(k.tree);if($&&$.overlay&&$.overlay[0].from<=e&&$.overlay[$.overlay.length-1].to>=e){let V=new TreeNode($.tree,$.overlay[0].from+k.from,-1,k);(y||(y=[g])).push(resolveNode(V,e,r,!1))}}return y?iterStack(y):g}class TreeCursor{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let g=e._parent;g;g=g._parent)this.stack.unshift(g.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:g,buffer:y}=this.buffer;return this.type=r||y.set.types[y.buffer[e]],this.from=g+y.buffer[e+1],this.to=g+y.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,g){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,g,this.mode));let{buffer:y}=this.buffer,k=y.findChild(this.index+4,y.buffer[this.index+3],e,r-this.buffer.start,g);return k<0?!1:(this.stack.push(this.index),this.yieldBuf(k))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,g=this.mode){return this.buffer?g&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,g))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,g=this.stack.length-1;if(e<0){let y=g<0?0:this.stack[g]+4;if(this.index!=y)return this.yieldBuf(r.findChild(y,this.index,-1,0,4))}else{let y=r.buffer[this.index+3];if(y<(g<0?r.buffer.length:r.buffer[this.stack[g]+3]))return this.yieldBuf(y)}return g<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,g,{buffer:y}=this;if(y){if(e>0){if(this.index<y.buffer.buffer.length)return!1}else for(let k=0;k<this.index;k++)if(y.buffer.buffer[k+3]<this.index)return!1;({index:r,parent:g}=y)}else({index:r,_parent:g}=this._tree);for(;g;{index:r,_parent:g}=g)if(r>-1)for(let k=r+e,$=e<0?-1:g._tree.children.length;k!=$;k+=e){let V=g._tree.children[k];if(this.mode&IterMode.IncludeAnonymous||V instanceof TreeBuffer||!V.type.isAnonymous||hasChild(V))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,g=0;if(e&&e.context==this.buffer)e:for(let y=this.index,k=this.stack.length;k>=0;){for(let $=e;$;$=$._parent)if($.index==y){if(y==this.index)return $;r=$,g=k+1;break e}y=this.stack[--k]}for(let y=g;y<this.stack.length;y++)r=new BufferNode(this.buffer,r,this.stack[y]);return this.bufferNode=new BufferNode(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let g=0;;){let y=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){g++;continue}this.type.isAnonymous||(y=!0)}for(;;){if(y&&r&&r(this),y=this.type.isAnonymous,!g)return;if(this.nextSibling())break;this.parent(),g--,y=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:r}=this.buffer,{types:g}=r.set;for(let y=e.length-1,k=this.stack.length-1;y>=0;k--){if(k<0)return matchNodeContext(this._tree,e,y);let $=g[r.buffer[this.stack[k]]];if(!$.isAnonymous){if(e[y]&&e[y]!=$.name)return!1;y--}}return!0}}function hasChild(n){return n.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(n){var e;let{buffer:r,nodeSet:g,maxBufferLength:y=DefaultBufferLength,reused:k=[],minRepeatType:$=g.types.length}=n,V=Array.isArray(r)?new FlatBufferCursor(r,r.length):r,L=g.types,z=0,j=0;function re(Ne,Ce,Fe,ze,kt,At){let{id:Cn,start:Dt,end:On,size:jt}=V,An=j,Mn=z;for(;jt<0;)if(V.next(),jt==-1){let Qn=k[Cn];Fe.push(Qn),ze.push(Dt-Ne);return}else if(jt==-3){z=Cn;return}else if(jt==-4){j=Cn;return}else throw new RangeError(`Unrecognized record size: ${jt}`);let $n=L[Cn],Ln,Tn,Zn=Dt-Ne;if(On-Dt<=y&&(Tn=pe(V.pos-Ce,kt))){let Qn=new Uint16Array(Tn.size-Tn.skip),Pn=V.pos-Tn.size,Wn=Qn.length;for(;V.pos>Pn;)Wn=he(Tn.start,Qn,Wn);Ln=new TreeBuffer(Qn,On-Tn.start,g),Zn=Tn.start-Ne}else{let Qn=V.pos-jt;V.next();let Pn=[],Wn=[],ur=Cn>=$?Cn:-1,hr=0,Vn=On;for(;V.pos>Qn;)ur>=0&&V.id==ur&&V.size>=0?(V.end<=Vn-y&&(de(Pn,Wn,Dt,hr,V.end,Vn,ur,An,Mn),hr=Pn.length,Vn=V.end),V.next()):At>2500?oe(Dt,Qn,Pn,Wn):re(Dt,Qn,Pn,Wn,ur,At+1);if(ur>=0&&hr>0&&hr<Pn.length&&de(Pn,Wn,Dt,hr,Dt,Vn,ur,An,Mn),Pn.reverse(),Wn.reverse(),ur>-1&&hr>0){let En=ae($n,Mn);Ln=balanceRange($n,Pn,Wn,0,Pn.length,0,On-Dt,En,En)}else Ln=ue($n,Pn,Wn,On-Dt,An-On,Mn)}Fe.push(Ln),ze.push(Zn)}function oe(Ne,Ce,Fe,ze){let kt=[],At=0,Cn=-1;for(;V.pos>Ce;){let{id:Dt,start:On,end:jt,size:An}=V;if(An>4)V.next();else{if(Cn>-1&&On<Cn)break;Cn<0&&(Cn=jt-y),kt.push(Dt,On,jt),At++,V.next()}}if(At){let Dt=new Uint16Array(At*4),On=kt[kt.length-2];for(let jt=kt.length-3,An=0;jt>=0;jt-=3)Dt[An++]=kt[jt],Dt[An++]=kt[jt+1]-On,Dt[An++]=kt[jt+2]-On,Dt[An++]=An;Fe.push(new TreeBuffer(Dt,kt[2]-On,g)),ze.push(On-Ne)}}function ae(Ne,Ce){return(Fe,ze,kt)=>{let At=0,Cn=Fe.length-1,Dt,On;if(Cn>=0&&(Dt=Fe[Cn])instanceof Tree){if(!Cn&&Dt.type==Ne&&Dt.length==kt)return Dt;(On=Dt.prop(NodeProp.lookAhead))&&(At=ze[Cn]+Dt.length+On)}return ue(Ne,Fe,ze,kt,At,Ce)}}function de(Ne,Ce,Fe,ze,kt,At,Cn,Dt,On){let jt=[],An=[];for(;Ne.length>ze;)jt.push(Ne.pop()),An.push(Ce.pop()+Fe-kt);Ne.push(ue(g.types[Cn],jt,An,At-kt,Dt-At,On)),Ce.push(kt-Fe)}function ue(Ne,Ce,Fe,ze,kt,At,Cn){if(At){let Dt=[NodeProp.contextHash,At];Cn=Cn?[Dt].concat(Cn):[Dt]}if(kt>25){let Dt=[NodeProp.lookAhead,kt];Cn=Cn?[Dt].concat(Cn):[Dt]}return new Tree(Ne,Ce,Fe,ze,Cn)}function pe(Ne,Ce){let Fe=V.fork(),ze=0,kt=0,At=0,Cn=Fe.end-y,Dt={size:0,start:0,skip:0};e:for(let On=Fe.pos-Ne;Fe.pos>On;){let jt=Fe.size;if(Fe.id==Ce&&jt>=0){Dt.size=ze,Dt.start=kt,Dt.skip=At,At+=4,ze+=4,Fe.next();continue}let An=Fe.pos-jt;if(jt<0||An<On||Fe.start<Cn)break;let Mn=Fe.id>=$?4:0,$n=Fe.start;for(Fe.next();Fe.pos>An;){if(Fe.size<0)if(Fe.size==-3)Mn+=4;else break e;else Fe.id>=$&&(Mn+=4);Fe.next()}kt=$n,ze+=jt,At+=Mn}return(Ce<0||ze==Ne)&&(Dt.size=ze,Dt.start=kt,Dt.skip=At),Dt.size>4?Dt:void 0}function he(Ne,Ce,Fe){let{id:ze,start:kt,end:At,size:Cn}=V;if(V.next(),Cn>=0&&ze<$){let Dt=Fe;if(Cn>4){let On=V.pos-(Cn-4);for(;V.pos>On;)Fe=he(Ne,Ce,Fe)}Ce[--Fe]=Dt,Ce[--Fe]=At-Ne,Ce[--Fe]=kt-Ne,Ce[--Fe]=ze}else Cn==-3?z=ze:Cn==-4&&(j=ze);return Fe}let Oe=[],xe=[];for(;V.pos>0;)re(n.start||0,n.bufferStart||0,Oe,xe,-1,0);let $e=(e=n.length)!==null&&e!==void 0?e:Oe.length?xe[0]+Oe[0].length:0;return new Tree(L[n.topID],Oe.reverse(),xe.reverse(),$e)}const nodeSizeCache=new WeakMap;function nodeSize(n,e){if(!n.isAnonymous||e instanceof TreeBuffer||e.type!=n)return 1;let r=nodeSizeCache.get(e);if(r==null){r=1;for(let g of e.children){if(g.type!=n||!(g instanceof Tree)){r=1;break}r+=nodeSize(n,g)}nodeSizeCache.set(e,r)}return r}function balanceRange(n,e,r,g,y,k,$,V,L){let z=0;for(let de=g;de<y;de++)z+=nodeSize(n,e[de]);let j=Math.ceil(z*1.5/8),re=[],oe=[];function ae(de,ue,pe,he,Oe){for(let xe=pe;xe<he;){let $e=xe,Ne=ue[xe],Ce=nodeSize(n,de[xe]);for(xe++;xe<he;xe++){let Fe=nodeSize(n,de[xe]);if(Ce+Fe>=j)break;Ce+=Fe}if(xe==$e+1){if(Ce>j){let Fe=de[$e];ae(Fe.children,Fe.positions,0,Fe.children.length,ue[$e]+Oe);continue}re.push(de[$e])}else{let Fe=ue[xe-1]+de[xe-1].length-Ne;re.push(balanceRange(n,de,ue,$e,xe,Ne,Fe,null,L))}oe.push(Ne+Oe-k)}}return ae(e,r,g,y,0),(V||L)(re,oe,$)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,r,g){let y=this.map.get(e);y||this.map.set(e,y=new Map),y.set(r,g)}getBuffer(e,r){let g=this.map.get(e);return g&&g.get(r)}set(e,r){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,r):e instanceof TreeNode&&this.map.set(e.tree,r)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,r,g,y,k=!1,$=!1){this.from=e,this.to=r,this.tree=g,this.offset=y,this.open=(k?1:0)|($?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],g=!1){let y=[new TreeFragment(0,e.length,e,0,!1,g)];for(let k of r)k.to>e.length&&y.push(k);return y}static applyChanges(e,r,g=128){if(!r.length)return e;let y=[],k=1,$=e.length?e[0]:null;for(let V=0,L=0,z=0;;V++){let j=V<r.length?r[V]:null,re=j?j.fromA:1e9;if(re-L>=g)for(;$&&$.from<re;){let oe=$;if(L>=oe.from||re<=oe.to||z){let ae=Math.max(oe.from,L)-z,de=Math.min(oe.to,re)-z;oe=ae>=de?null:new TreeFragment(ae,de,oe.tree,oe.offset+z,V>0,!!j)}if(oe&&y.push(oe),$.to>re)break;$=k<e.length?e[k++]:null}if(!j)break;L=j.toA,z=j.toA-j.toB}return y}}class Parser{startParse(e,r,g){return typeof e=="string"&&(e=new StringInput(e)),g=g?g.length?g.map(y=>new Range(y.from,y.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,r||[],g)}parse(e,r,g){let y=this.startParse(e,r,g);for(;;){let k=y.advance();if(k)return k}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(e,r,g,y){this.name=e,this.set=r,this.base=g,this.modified=y,this.id=nextTagID++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let g=typeof e=="string"?e:"?";if(e instanceof Tag&&(r=e),r?.base)throw new Error("Can not derive from a modified tag");let y=new Tag(g,[],null,[]);if(y.set.push(y),r)for(let k of r.set)y.set.push(k);return y}static defineModifier(e){let r=new Modifier(e);return g=>g.modified.indexOf(r)>-1?g:Modifier.get(g.base||g,g.modified.concat(r).sort((y,k)=>y.id-k.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,r){if(!r.length)return e;let g=r[0].instances.find(V=>V.base==e&&sameArray(r,V.modified));if(g)return g;let y=[],k=new Tag(e.name,y,e,r);for(let V of r)V.instances.push(k);let $=powerSet(r);for(let V of e.set)if(!V.modified.length)for(let L of $)y.push(Modifier.get(V,L));return k}}function sameArray(n,e){return n.length==e.length&&n.every((r,g)=>r==e[g])}function powerSet(n){let e=[[]];for(let r=0;r<n.length;r++)for(let g=0,y=e.length;g<y;g++)e.push(e[g].concat(n[r]));return e.sort((r,g)=>g.length-r.length)}function styleTags(n){let e=Object.create(null);for(let r in n){let g=n[r];Array.isArray(g)||(g=[g]);for(let y of r.split(" "))if(y){let k=[],$=2,V=y;for(let re=0;;){if(V=="..."&&re>0&&re+3==y.length){$=1;break}let oe=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(V);if(!oe)throw new RangeError("Invalid path: "+y);if(k.push(oe[0]=="*"?"":oe[0][0]=='"'?JSON.parse(oe[0]):oe[0]),re+=oe[0].length,re==y.length)break;let ae=y[re++];if(re==y.length&&ae=="!"){$=0;break}if(ae!="/")throw new RangeError("Invalid path: "+y);V=y.slice(re)}let L=k.length-1,z=k[L];if(!z)throw new RangeError("Invalid path: "+y);let j=new Rule(g,$,L>0?k.slice(0,L):null);e[z]=j.sort(e[z])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,r,g,y){this.tags=e,this.mode=r,this.context=g,this.next=y}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(n,e){let r=Object.create(null);for(let k of n)if(!Array.isArray(k.tag))r[k.tag.id]=k.class;else for(let $ of k.tag)r[$.id]=k.class;let{scope:g,all:y=null}=e||{};return{style:k=>{let $=y;for(let V of k)for(let L of V.set){let z=r[L.id];if(z){$=$?$+" "+z:z;break}}return $},scope:g}}function highlightTags(n,e){let r=null;for(let g of n){let y=g.style(e);y&&(r=r?r+" "+y:y)}return r}function highlightTree(n,e,r,g=0,y=n.length){let k=new HighlightBuilder(g,Array.isArray(e)?e:[e],r);k.highlightRange(n.cursor(),g,y,"",k.highlighters),k.flush(y)}class HighlightBuilder{constructor(e,r,g){this.at=e,this.highlighters=r,this.span=g,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,g,y,k){let{type:$,from:V,to:L}=e;if(V>=g||L<=r)return;$.isTop&&(k=this.highlighters.filter(ae=>!ae.scope||ae.scope($)));let z=y,j=getStyleTags(e)||Rule.empty,re=highlightTags(k,j.tags);if(re&&(z&&(z+=" "),z+=re,j.mode==1&&(y+=(y?" ":"")+re)),this.startSpan(Math.max(r,V),z),j.opaque)return;let oe=e.tree&&e.tree.prop(NodeProp.mounted);if(oe&&oe.overlay){let ae=e.node.enter(oe.overlay[0].from+V,1),de=this.highlighters.filter(pe=>!pe.scope||pe.scope(oe.tree.type)),ue=e.firstChild();for(let pe=0,he=V;;pe++){let Oe=pe<oe.overlay.length?oe.overlay[pe]:null,xe=Oe?Oe.from+V:L,$e=Math.max(r,he),Ne=Math.min(g,xe);if($e<Ne&&ue)for(;e.from<Ne&&(this.highlightRange(e,$e,Ne,y,k),this.startSpan(Math.min(Ne,e.to),z),!(e.to>=xe||!e.nextSibling())););if(!Oe||xe>g)break;he=Oe.to+V,he>r&&(this.highlightRange(ae.cursor(),Math.max(r,Oe.from+V),Math.min(g,he),"",de),this.startSpan(Math.min(g,he),z))}ue&&e.parent()}else if(e.firstChild()){oe&&(y="");do if(!(e.to<=r)){if(e.from>=g)break;this.highlightRange(e,r,g,y,k),this.startSpan(Math.min(g,e.to),z)}while(e.nextSibling());e.parent()}}}function getStyleTags(n){let e=n.type.prop(ruleNodeProp);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let n in tags){let e=tags[n];e instanceof Tag&&(e.name=n)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(n){return Facet.define({combine:n?e=>e.concat(n):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,r,g=[],y=""){this.data=e,this.name=y,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=r,this.extension=[language.of(this),EditorState.languageData.of((k,$,V)=>{let L=topNodeAt(k,$,V),z=L.type.prop(languageDataProp);if(!z)return[];let j=k.facet(z),re=L.type.prop(sublanguageProp);if(re){let oe=L.resolve($-L.from,V);for(let ae of re)if(ae.test(oe,k)){let de=k.facet(ae.facet);return ae.type=="replace"?de:de.concat(j)}}return j})].concat(g)}isActiveAt(e,r,g=-1){return topNodeAt(e,r,g).type.prop(languageDataProp)==this.data}findRegions(e){let r=e.facet(language);if(r?.data==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let g=[],y=(k,$)=>{if(k.prop(languageDataProp)==this.data){g.push({from:$,to:$+k.length});return}let V=k.prop(NodeProp.mounted);if(V){if(V.tree.prop(languageDataProp)==this.data){if(V.overlay)for(let L of V.overlay)g.push({from:L.from+$,to:L.to+$});else g.push({from:$,to:$+k.length});return}else if(V.overlay){let L=g.length;if(y(V.tree,V.overlay[0].from+$),g.length>L)return}}for(let L=0;L<k.children.length;L++){let z=k.children[L];z instanceof Tree&&y(z,k.positions[L]+$)}};return y(syntaxTree(e),0),g}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(n,e,r){let g=n.facet(language),y=syntaxTree(n).topNode;if(!g||g.allowsNesting)for(let k=y;k;k=k.enter(e,r,IterMode.ExcludeBuffers))k.type.isTop&&(y=k);return y}class LRLanguage extends Language{constructor(e,r,g){super(e,r,[],g),this.parser=r}static define(e){let r=defineLanguageFacet(e.languageData);return new LRLanguage(r,e.parser.configure({props:[languageDataProp.add(g=>g.isTop?r:void 0)]}),e.name)}configure(e,r){return new LRLanguage(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(n){let e=n.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let g=this.cursorPos-this.string.length;return e<g||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-g,r-g)}}let currentContext=null;class ParseContext{constructor(e,r,g=[],y,k,$,V,L){this.parser=e,this.state=r,this.fragments=g,this.tree=y,this.treeLen=k,this.viewport=$,this.skipped=V,this.scheduleOn=L,this.parse=null,this.tempSkipped=[]}static create(e,r,g){return new ParseContext(e,r,[],Tree.empty,0,g,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Tree.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var g;if(typeof e=="number"){let y=Date.now()+e;e=()=>Date.now()>y}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let y=this.parse.advance();if(y)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(y,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(g=this.parse.stoppedAt)!==null&&g!==void 0?g:this.state.doc.length,this.tree=y,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=currentContext;currentContext=this;try{return e()}finally{currentContext=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=cutFragments(e,r.from,r.to);return e}changes(e,r){let{fragments:g,tree:y,treeLen:k,viewport:$,skipped:V}=this;if(this.takeTree(),!e.empty){let L=[];if(e.iterChangedRanges((z,j,re,oe)=>L.push({fromA:z,toA:j,fromB:re,toB:oe})),g=TreeFragment.applyChanges(g,L),y=Tree.empty,k=0,$={from:e.mapPos($.from,-1),to:e.mapPos($.to,1)},this.skipped.length){V=[];for(let z of this.skipped){let j=e.mapPos(z.from,1),re=e.mapPos(z.to,-1);j<re&&V.push({from:j,to:re})}}}return new ParseContext(this.parser,r,g,y,k,$,V,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let g=0;g<this.skipped.length;g++){let{from:y,to:k}=this.skipped[g];y<e.to&&k>e.from&&(this.fragments=cutFragments(this.fragments,y,k),this.skipped.splice(g--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends Parser{createParse(r,g,y){let k=y[0].from,$=y[y.length-1].to;return{parsedPos:k,advance(){let L=currentContext;if(L){for(let z of y)L.tempSkipped.push(z);e&&(L.scheduleOn=L.scheduleOn?Promise.all([L.scheduleOn,e]):e)}return this.parsedPos=$,new Tree(NodeType.none,[],[],$-k)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return currentContext}}function cutFragments(n,e,r){return TreeFragment.applyChanges(n,[{fromA:e,toA:r,fromB:e,toB:r}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),g=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,g)||r.takeTree(),new LanguageState(r)}static init(e){let r=Math.min(3e3,e.doc.length),g=ParseContext.create(e.facet(language).parser,e,{from:0,to:r});return g.work(20,r)||g.takeTree(),new LanguageState(g)}}Language.state=StateField.define({create:LanguageState.init,update(n,e){for(let r of e.effects)if(r.is(Language.setState))return r.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):n.apply(e)}});let requestIdle=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=n=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Language.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Language.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:g,viewport:{to:y}}=this.view,k=g.field(Language.state);if(k.tree==k.context.tree&&k.context.isDone(y+1e5))return;let $=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),V=k.context.treeLen<y&&g.doc.length>y+1e3,L=k.context.work(()=>isInputPending&&isInputPending()||Date.now()>$,y+(V?0:1e5));this.chunkBudget-=Date.now()-r,(L||this.chunkBudget<=0)&&(k.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(k.context))})),this.chunkBudget>0&&!(L&&!V)&&this.scheduleWork(),this.checkAsyncSchedule(k.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>logException(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(n){return n.length?n[0]:null},enables:n=>[Language.state,parseWorker,EditorView.contentAttributes.compute([n],e=>{let r=e.facet(n);return r&&r.name?{"data-language":r.name}:{}})]});class LanguageSupport{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function getIndentUnit(n){let e=n.facet(indentUnit);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function indentString(n,e){let r="",g=n.tabSize,y=n.facet(indentUnit)[0];if(y=="	"){for(;e>=g;)r+="	",e-=g;y=" "}for(let k=0;k<e;k++)r+=y;return r}function getIndentation(n,e){n instanceof EditorState&&(n=new IndentContext(n));for(let g of n.state.facet(indentService)){let y=g(n,e);if(y!==void 0)return y}let r=syntaxTree(n.state);return r.length>=e?syntaxIndentation(n,r,e):null}class IndentContext{constructor(e,r={}){this.state=e,this.options=r,this.unit=getIndentUnit(e)}lineAt(e,r=1){let g=this.state.doc.lineAt(e),{simulateBreak:y,simulateDoubleBreak:k}=this.options;return y!=null&&y>=g.from&&y<=g.to?k&&y==e?{text:"",from:e}:(r<0?y<e:y<=e)?{text:g.text.slice(y-g.from),from:y}:{text:g.text.slice(0,y-g.from),from:g.from}:g}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:g,from:y}=this.lineAt(e,r);return g.slice(e-y,Math.min(g.length,e+100-y))}column(e,r=1){let{text:g,from:y}=this.lineAt(e,r),k=this.countColumn(g,e-y),$=this.options.overrideIndentation?this.options.overrideIndentation(y):-1;return $>-1&&(k+=$-this.countColumn(g,g.search(/\S|$/))),k}countColumn(e,r=e.length){return countColumn(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:g,from:y}=this.lineAt(e,r),k=this.options.overrideIndentation;if(k){let $=k(y);if($>-1)return $}return this.countColumn(g,g.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(n,e,r){let g=e.resolveStack(r),y=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(y!=g.node){let k=[];for(let $=y;$&&!($.from==g.node.from&&$.type==g.node.type);$=$.parent)k.push($);for(let $=k.length-1;$>=0;$--)g={node:k[$],next:g}}return indentFor(g,n,r)}function indentFor(n,e,r){for(let g=n;g;g=g.next){let y=indentStrategy(g.node);if(y)return y(TreeIndentContext.create(e,r,g))}return 0}function ignoreClosed(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function indentStrategy(n){let e=n.type.prop(indentNodeProp);if(e)return e;let r=n.firstChild,g;if(r&&(g=r.type.prop(NodeProp.closedBy))){let y=n.lastChild,k=y&&g.indexOf(y.name)>-1;return $=>delimitedStrategy($,!0,1,void 0,k&&!ignoreClosed($)?y.from:void 0)}return n.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,r,g){super(e.state,e.options),this.base=e,this.pos=r,this.context=g}get node(){return this.context.node}static create(e,r,g){return new TreeIndentContext(e,r,g)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let g=e.resolve(r.from);for(;g.parent&&g.parent.from==g.from;)g=g.parent;if(isParent(g,e))break;r=this.state.doc.lineAt(g.from)}return this.lineIndent(r.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(n,e){for(let r=e;r;r=r.parent)if(n==r)return!0;return!1}function bracketedAligned(n){let e=n.node,r=e.childAfter(e.from),g=e.lastChild;if(!r)return null;let y=n.options.simulateBreak,k=n.state.doc.lineAt(r.from),$=y==null||y<=k.from?k.to:Math.min(k.to,y);for(let V=r.to;;){let L=e.childAfter(V);if(!L||L==g)return null;if(!L.type.isSkipped){if(L.from>=$)return null;let z=/^ */.exec(k.text.slice(r.to-k.from))[0].length;return{from:r.from,to:r.to+z}}V=L.to}}function delimitedIndent({closing:n,align:e=!0,units:r=1}){return g=>delimitedStrategy(g,e,r,n)}function delimitedStrategy(n,e,r,g,y){let k=n.textAfter,$=k.match(/^\s*/)[0].length,V=g&&k.slice($,$+g.length)==g||y==n.pos+$,L=e?bracketedAligned(n):null;return L?V?n.column(L.from):n.column(L.to):n.baseIndent+(V?0:n.unit*r)}const flatIndent=n=>n.baseIndent;function continuedIndent({except:n,units:e=1}={}){return r=>{let g=n&&n.test(r.textAfter);return r.baseIndent+(g?0:e*r.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let r=n.newDoc,{head:g}=n.newSelection.main,y=r.lineAt(g);if(g>y.from+DontIndentBeyond)return n;let k=r.sliceString(y.from,g);if(!e.some(z=>z.test(k)))return n;let{state:$}=n,V=-1,L=[];for(let{head:z}of $.selection.ranges){let j=$.doc.lineAt(z);if(j.from==V)continue;V=j.from;let re=getIndentation($,j.from);if(re==null)continue;let oe=/^\s*/.exec(j.text)[0],ae=indentString($,re);oe!=ae&&L.push({from:j.from,to:j.from+oe.length,insert:ae})}return L.length?[n,{changes:L,sequential:!0}]:n})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(n){let e=n.firstChild,r=n.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?n.to:r.from}:null}function syntaxFolding(n,e,r){let g=syntaxTree(n);if(g.length<r)return null;let y=g.resolveStack(r,1),k=null;for(let $=y;$;$=$.next){let V=$.node;if(V.to<=r||V.from>r)continue;if(k&&V.from<e)break;let L=V.type.prop(foldNodeProp);if(L&&(V.to<g.length-50||g.length==n.doc.length||!isUnfinished(V))){let z=L(V,n);z&&z.from<=r&&z.from>=e&&z.to>r&&(k=z)}}return k}function isUnfinished(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function foldable(n,e,r){for(let g of n.facet(foldService)){let y=g(n,e,r);if(y)return y}return syntaxFolding(n,e,r)}function mapRange(n,e){let r=e.mapPos(n.from,1),g=e.mapPos(n.to,-1);return r>=g?void 0:{from:r,to:g}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(n){let e=[];for(let{head:r}of n.state.selection.ranges)e.some(g=>g.from<=r&&g.to>=r)||e.push(n.lineBlockAt(r));return e}const foldState=StateField.define({create(){return Decoration.none},update(n,e){n=n.map(e.changes);for(let r of e.effects)if(r.is(foldEffect)&&!foldExists(n,r.value.from,r.value.to)){let{preparePlaceholder:g}=e.state.facet(foldConfig),y=g?Decoration.replace({widget:new PreparedFoldWidget(g(e.state,r.value))}):foldWidget;n=n.update({add:[y.range(r.value.from,r.value.to)]})}else r.is(unfoldEffect)&&(n=n.update({filter:(g,y)=>r.value.from!=g||r.value.to!=y,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:g}=e.selection.main;n.between(g,g,(y,k)=>{y<g&&k>g&&(r=!0)}),r&&(n=n.update({filterFrom:g,filterTo:g,filter:(y,k)=>k<=g||y>=g}))}return n},provide:n=>EditorView.decorations.from(n),toJSON(n,e){let r=[];return n.between(0,e.doc.length,(g,y)=>{r.push(g,y)}),r},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<n.length;){let g=n[r++],y=n[r++];if(typeof g!="number"||typeof y!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(g,y))}return Decoration.set(e,!0)}});function findFold(n,e,r){var g;let y=null;return(g=n.field(foldState,!1))===null||g===void 0||g.between(e,r,(k,$)=>{(!y||y.from>k)&&(y={from:k,to:$})}),y}function foldExists(n,e,r){let g=!1;return n.between(e,e,(y,k)=>{y==e&&k==r&&(g=!0)}),g}function maybeEnable(n,e){return n.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=n=>{for(let e of selectedLines(n)){let r=foldable(n.state,e.from,e.to);if(r)return n.dispatch({effects:maybeEnable(n.state,[foldEffect.of(r),announceFold(n,r)])}),!0}return!1},unfoldCode=n=>{if(!n.state.field(foldState,!1))return!1;let e=[];for(let r of selectedLines(n)){let g=findFold(n.state,r.from,r.to);g&&e.push(unfoldEffect.of(g),announceFold(n,g,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function announceFold(n,e,r=!0){let g=n.state.doc.lineAt(e.from).number,y=n.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${n.state.phrase(r?"Folded lines":"Unfolded lines")} ${g} ${n.state.phrase("to")} ${y}.`)}const foldAll=n=>{let{state:e}=n,r=[];for(let g=0;g<e.doc.length;){let y=n.lineBlockAt(g),k=foldable(e,y.from,y.to);k&&r.push(foldEffect.of(k)),g=(k?n.lineBlockAt(k.to):y).to+1}return r.length&&n.dispatch({effects:maybeEnable(n.state,r)}),!!r.length},unfoldAll=n=>{let e=n.state.field(foldState,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,n.state.doc.length,(g,y)=>{r.push(unfoldEffect.of({from:g,to:y}))}),n.dispatch({effects:r}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(n){return combineConfig(n,defaultConfig)}});function codeFolding(n){let e=[foldState,baseTheme$1$2];return n&&e.push(foldConfig.of(n)),e}function widgetToDOM(n,e){let{state:r}=n,g=r.facet(foldConfig),y=$=>{let V=n.lineBlockAt(n.posAtDOM($.target)),L=findFold(n.state,V.from,V.to);L&&n.dispatch({effects:unfoldEffect.of(L)}),$.preventDefault()};if(g.placeholderDOM)return g.placeholderDOM(n,y,e);let k=document.createElement("span");return k.textContent=g.placeholderText,k.setAttribute("aria-label",r.phrase("folded code")),k.title=r.phrase("unfold"),k.className="cm-foldPlaceholder",k.onclick=y,k}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(n){return widgetToDOM(n,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function foldGutter(n={}){let e=Object.assign(Object.assign({},foldGutterDefaults),n),r=new FoldMarker(e,!0),g=new FoldMarker(e,!1),y=ViewPlugin.fromClass(class{constructor($){this.from=$.viewport.from,this.markers=this.buildMarkers($)}update($){($.docChanged||$.viewportChanged||$.startState.facet(language)!=$.state.facet(language)||$.startState.field(foldState,!1)!=$.state.field(foldState,!1)||syntaxTree($.startState)!=syntaxTree($.state)||e.foldingChanged($))&&(this.markers=this.buildMarkers($.view))}buildMarkers($){let V=new RangeSetBuilder;for(let L of $.viewportLineBlocks){let z=findFold($.state,L.from,L.to)?g:foldable($.state,L.from,L.to)?r:null;z&&V.add(L.from,L.from,z)}return V.finish()}}),{domEventHandlers:k}=e;return[y,gutter({class:"cm-foldGutter",markers($){var V;return((V=$.plugin(y))===null||V===void 0?void 0:V.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:Object.assign(Object.assign({},k),{click:($,V,L)=>{if(k.click&&k.click($,V,L))return!0;let z=findFold($.state,V.from,V.to);if(z)return $.dispatch({effects:unfoldEffect.of(z)}),!0;let j=foldable($.state,V.from,V.to);return j?($.dispatch({effects:foldEffect.of(j)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,r){this.specs=e;let g;function y(V){let L=StyleModule.newName();return(g||(g=Object.create(null)))["."+L]=V,L}const k=typeof r.all=="string"?r.all:r.all?y(r.all):void 0,$=r.scope;this.scope=$ instanceof Language?V=>V.prop(languageDataProp)==$.data:$?V=>V==$:void 0,this.style=tagHighlighter(e.map(V=>({tag:V.tag,class:V.class||y(Object.assign({},V,{tag:null}))})),{all:k}).style,this.module=g?new StyleModule(g):null,this.themeType=r.themeType}static define(e,r){return new HighlightStyle(e,r||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(n){return n.length?[n[0]]:null}});function getHighlighters(n){let e=n.facet(highlighterFacet);return e.length?e:n.facet(fallbackHighlighter)}function syntaxHighlighting(n,e){let r=[treeHighlighter],g;return n instanceof HighlightStyle&&(n.module&&r.push(EditorView.styleModule.of(n.module)),g=n.themeType),e?.fallback?r.push(fallbackHighlighter.of(n)):g?r.push(highlighterFacet.computeN([EditorView.darkTheme],y=>y.facet(EditorView.darkTheme)==(g=="dark")?[n]:[])):r.push(highlighterFacet.of(n)),r}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=syntaxTree(e.state),g=getHighlighters(e.state),y=g!=getHighlighters(e.startState),{viewport:k}=e.view,$=e.changes.mapPos(this.decoratedTo,1);r.length<k.to&&!y&&r.type==this.tree.type&&$>=k.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=$):(r!=this.tree||e.viewportChanged||y)&&(this.tree=r,this.decorations=this.buildDeco(e.view,g),this.decoratedTo=k.to)}buildDeco(e,r){if(!r||!this.tree.length)return Decoration.none;let g=new RangeSetBuilder;for(let{from:y,to:k}of e.visibleRanges)highlightTree(this.tree,r,($,V,L)=>{g.add($,V,this.markCache[L]||(this.markCache[L]=Decoration.mark({class:L})))},y,k);return g.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:n=>n.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(n){return combineConfig(n,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(n){let e=[],r=n.matched?matchingMark:nonmatchingMark;return e.push(r.range(n.start.from,n.start.to)),n.end&&e.push(r.range(n.end.from,n.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let r=[],g=e.state.facet(bracketMatchingConfig);for(let y of e.state.selection.ranges){if(!y.empty)continue;let k=matchBrackets(e.state,y.head,-1,g)||y.head>0&&matchBrackets(e.state,y.head-1,1,g)||g.afterCursor&&(matchBrackets(e.state,y.head,1,g)||y.head<e.state.doc.length&&matchBrackets(e.state,y.head+1,-1,g));k&&(r=r.concat(g.renderMatch(k,e.state)))}return Decoration.set(r,!0)},provide:n=>EditorView.decorations.from(n)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(n={}){return[bracketMatchingConfig.of(n),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(n,e,r){let g=n.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(g)return g;if(n.name.length==1){let y=r.indexOf(n.name);if(y>-1&&y%2==(e<0?1:0))return[r[y+e]]}return null}function findHandle(n){let e=n.type.prop(bracketMatchingHandle);return e?e(n.node):n}function matchBrackets(n,e,r,g={}){let y=g.maxScanDistance||DefaultScanDist,k=g.brackets||DefaultBrackets,$=syntaxTree(n),V=$.resolveInner(e,r);for(let L=V;L;L=L.parent){let z=matchingNodes(L.type,r,k);if(z&&L.from<L.to){let j=findHandle(L);if(j&&(r>0?e>=j.from&&e<j.to:e>j.from&&e<=j.to))return matchMarkedBrackets(n,e,r,L,j,z,k)}}return matchPlainBrackets(n,e,r,$,V.type,y,k)}function matchMarkedBrackets(n,e,r,g,y,k,$){let V=g.parent,L={from:y.from,to:y.to},z=0,j=V?.cursor();if(j&&(r<0?j.childBefore(g.from):j.childAfter(g.to)))do if(r<0?j.to<=g.from:j.from>=g.to){if(z==0&&k.indexOf(j.type.name)>-1&&j.from<j.to){let re=findHandle(j);return{start:L,end:re?{from:re.from,to:re.to}:void 0,matched:!0}}else if(matchingNodes(j.type,r,$))z++;else if(matchingNodes(j.type,-r,$)){if(z==0){let re=findHandle(j);return{start:L,end:re&&re.from<re.to?{from:re.from,to:re.to}:void 0,matched:!1}}z--}}while(r<0?j.prevSibling():j.nextSibling());return{start:L,matched:!1}}function matchPlainBrackets(n,e,r,g,y,k,$){let V=r<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),L=$.indexOf(V);if(L<0||L%2==0!=r>0)return null;let z={from:r<0?e-1:e,to:r>0?e+1:e},j=n.doc.iterRange(e,r>0?n.doc.length:0),re=0;for(let oe=0;!j.next().done&&oe<=k;){let ae=j.value;r<0&&(oe+=ae.length);let de=e+oe*r;for(let ue=r>0?0:ae.length-1,pe=r>0?ae.length:-1;ue!=pe;ue+=r){let he=$.indexOf(ae[ue]);if(!(he<0||g.resolveInner(de+ue,1).type!=y))if(he%2==0==r>0)re++;else{if(re==1)return{start:z,end:{from:de+ue,to:de+ue+1},matched:he>>1==L>>1};re--}}r>0&&(oe+=ae.length)}return j.done?{start:z,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[n]=createTokenType(noTokens,e);function warnForPart(n,e){warned.indexOf(n)>-1||(warned.push(n),console.warn(e))}function createTokenType(n,e){let r=[];for(let V of e.split(" ")){let L=[];for(let z of V.split(".")){let j=n[z]||tags[z];j?typeof j=="function"?L.length?L=L.map(j):warnForPart(z,`Modifier ${z} used at start of tag`):L.length?warnForPart(z,`Tag ${z} used as modifier`):L=Array.isArray(j)?j:[j]:warnForPart(z,`Unknown highlighting tag ${z}`)}for(let z of L)r.push(z)}if(!r.length)return 0;let g=e.replace(/ /g,"_"),y=g+" "+r.map(V=>V.id),k=byTag[y];if(k)return k.id;let $=byTag[y]=NodeType.define({id:typeArray.length,name:g,props:[styleTags({[g]:r})]});return typeArray.push($),$.id}Direction.RTL,Direction.LTR;const toggleComment=n=>{let{state:e}=n,r=e.doc.lineAt(e.selection.main.from),g=getConfig(n.state,r.from);return g.line?toggleLineComment(n):g.block?toggleBlockCommentByLine(n):!1};function command(n,e){return({state:r,dispatch:g})=>{if(r.readOnly)return!1;let y=n(e,r);return y?(g(r.update(y)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((n,e)=>changeBlockComment(n,e,selectedLineRanges(e)),0);function getConfig(n,e){let r=n.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const SearchMargin=50;function findBlockComment(n,{open:e,close:r},g,y){let k=n.sliceDoc(g-SearchMargin,g),$=n.sliceDoc(y,y+SearchMargin),V=/\s*$/.exec(k)[0].length,L=/^\s*/.exec($)[0].length,z=k.length-V;if(k.slice(z-e.length,z)==e&&$.slice(L,L+r.length)==r)return{open:{pos:g-V,margin:V&&1},close:{pos:y+L,margin:L&&1}};let j,re;y-g<=2*SearchMargin?j=re=n.sliceDoc(g,y):(j=n.sliceDoc(g,g+SearchMargin),re=n.sliceDoc(y-SearchMargin,y));let oe=/^\s*/.exec(j)[0].length,ae=/\s*$/.exec(re)[0].length,de=re.length-ae-r.length;return j.slice(oe,oe+e.length)==e&&re.slice(de,de+r.length)==r?{open:{pos:g+oe+e.length,margin:/\s/.test(j.charAt(oe+e.length))?1:0},close:{pos:y-ae-r.length,margin:/\s/.test(re.charAt(de-1))?1:0}}:null}function selectedLineRanges(n){let e=[];for(let r of n.selection.ranges){let g=n.doc.lineAt(r.from),y=r.to<=g.to?g:n.doc.lineAt(r.to);y.from>g.from&&y.from==r.to&&(y=r.to==g.to+1?g:n.doc.lineAt(r.to-1));let k=e.length-1;k>=0&&e[k].to>g.from?e[k].to=y.to:e.push({from:g.from+/^\s*/.exec(g.text)[0].length,to:y.to})}return e}function changeBlockComment(n,e,r=e.selection.ranges){let g=r.map(k=>getConfig(e,k.from).block);if(!g.every(k=>k))return null;let y=r.map((k,$)=>findBlockComment(e,g[$],k.from,k.to));if(n!=2&&!y.every(k=>k))return{changes:e.changes(r.map((k,$)=>y[$]?[]:[{from:k.from,insert:g[$].open+" "},{from:k.to,insert:" "+g[$].close}]))};if(n!=1&&y.some(k=>k)){let k=[];for(let $=0,V;$<y.length;$++)if(V=y[$]){let L=g[$],{open:z,close:j}=V;k.push({from:z.pos-L.open.length,to:z.pos+z.margin},{from:j.pos-j.margin,to:j.pos+L.close.length})}return{changes:k}}return null}function changeLineComment(n,e,r=e.selection.ranges){let g=[],y=-1;for(let{from:k,to:$}of r){let V=g.length,L=1e9,z=getConfig(e,k).line;if(z){for(let j=k;j<=$;){let re=e.doc.lineAt(j);if(re.from>y&&(k==$||$>re.from)){y=re.from;let oe=/^\s*/.exec(re.text)[0].length,ae=oe==re.length,de=re.text.slice(oe,oe+z.length)==z?oe:-1;oe<re.text.length&&oe<L&&(L=oe),g.push({line:re,comment:de,token:z,indent:oe,empty:ae,single:!1})}j=re.to+1}if(L<1e9)for(let j=V;j<g.length;j++)g[j].indent<g[j].line.text.length&&(g[j].indent=L);g.length==V+1&&(g[V].single=!0)}}if(n!=2&&g.some(k=>k.comment<0&&(!k.empty||k.single))){let k=[];for(let{line:V,token:L,indent:z,empty:j,single:re}of g)(re||!j)&&k.push({from:V.from+z,insert:L+" "});let $=e.changes(k);return{changes:$,selection:e.selection.map($,1)}}else if(n!=1&&g.some(k=>k.comment>=0)){let k=[];for(let{line:$,comment:V,token:L}of g)if(V>=0){let z=$.from+V,j=z+L.length;$.text[j-$.from]==" "&&j++,k.push({from:z,to:j})}return{changes:k}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(n){return combineConfig(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(g,y)=>e(g,y)||r(g,y)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(n,e){let r=e.state.facet(historyConfig),g=e.annotation(fromHistory);if(g){let L=HistEvent.fromTransaction(e,g.selection),z=g.side,j=z==0?n.undone:n.done;return L?j=updateBranch(j,j.length,r.minDepth,L):j=addSelection(j,e.startState.selection),new HistoryState(z==0?g.rest:j,z==0?j:g.rest)}let y=e.annotation(isolateHistory);if((y=="full"||y=="before")&&(n=n.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let k=HistEvent.fromTransaction(e),$=e.annotation(Transaction.time),V=e.annotation(Transaction.userEvent);return k?n=n.addChanges(k,$,V,r,e):e.selection&&(n=n.addSelection(e.startState.selection,$,V,r.newGroupDelay)),(y=="full"||y=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new HistoryState(n.done.map(HistEvent.fromJSON),n.undone.map(HistEvent.fromJSON))}});function history$1(n={}){return[historyField_,historyConfig.of(n),EditorView.domEventHandlers({beforeinput(e,r){let g=e.inputType=="historyUndo"?undo$1:e.inputType=="historyRedo"?redo$1:null;return g?(e.preventDefault(),g(r)):!1}})]}function cmd(n,e){return function({state:r,dispatch:g}){if(!e&&r.readOnly)return!1;let y=r.field(historyField_,!1);if(!y)return!1;let k=y.pop(n,r,e);return k?(g(k),!0):!1}}const undo$1=cmd(0,!1),redo$1=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,r,g,y,k){this.changes=e,this.effects=r,this.mapped=g,this.startSelection=y,this.selectionsAfter=k}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,g;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(g=this.startSelection)===null||g===void 0?void 0:g.toJSON(),selectionsAfter:this.selectionsAfter.map(y=>y.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,r){let g=none$1;for(let y of e.startState.facet(invertedEffects)){let k=y(e);k.length&&(g=g.concat(k))}return!g.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),g,void 0,r||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(n,e,r,g){let y=e+1>r+20?e-r-1:0,k=n.slice(y,e);return k.push(g),k}function isAdjacent(n,e){let r=[],g=!1;return n.iterChangedRanges((y,k)=>r.push(y,k)),e.iterChangedRanges((y,k,$,V)=>{for(let L=0;L<r.length;){let z=r[L++],j=r[L++];V>=z&&$<=j&&(g=!0)}}),g}function eqSelectionShape(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((r,g)=>r.empty!=e.ranges[g].empty).length===0}function conc(n,e){return n.length?e.length?n.concat(e):n:e}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(n,e){if(n.length){let r=n[n.length-1],g=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-MaxSelectionsPerEvent));return g.length&&g[g.length-1].eq(e)?n:(g.push(e),updateBranch(n,n.length-1,1e9,r.setSelAfter(g)))}else return[HistEvent.selection([e])]}function popSelection(n){let e=n[n.length-1],r=n.slice();return r[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function addMappingToBranch(n,e){if(!n.length)return n;let r=n.length,g=none$1;for(;r;){let y=mapEvent(n[r-1],e,g);if(y.changes&&!y.changes.empty||y.effects.length){let k=n.slice(0,r);return k[r-1]=y,k}else e=y.mapped,r--,g=y.selectionsAfter}return g.length?[HistEvent.selection(g)]:none$1}function mapEvent(n,e,r){let g=conc(n.selectionsAfter.length?n.selectionsAfter.map(V=>V.map(e)):none$1,r);if(!n.changes)return HistEvent.selection(g);let y=n.changes.map(e),k=e.mapDesc(n.changes,!0),$=n.mapped?n.mapped.composeDesc(k):k;return new HistEvent(y,StateEffect.mapEffects(n.effects,e),$,n.startSelection.map(k),g)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,r,g=0,y=void 0){this.done=e,this.undone=r,this.prevTime=g,this.prevUserEvent=y}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,r,g,y,k){let $=this.done,V=$[$.length-1];return V&&V.changes&&!V.changes.empty&&e.changes&&(!g||joinableUserEvent.test(g))&&(!V.selectionsAfter.length&&r-this.prevTime<y.newGroupDelay&&y.joinToEvent(k,isAdjacent(V.changes,e.changes))||g=="input.type.compose")?$=updateBranch($,$.length-1,y.minDepth,new HistEvent(e.changes.compose(V.changes),conc(StateEffect.mapEffects(e.effects,V.changes),V.effects),V.mapped,V.startSelection,none$1)):$=updateBranch($,$.length,y.minDepth,e),new HistoryState($,none$1,r,g)}addSelection(e,r,g,y){let k=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return k.length>0&&r-this.prevTime<y&&g==this.prevUserEvent&&g&&/^select($|\.)/.test(g)&&eqSelectionShape(k[k.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,r,g)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,g){let y=e==0?this.done:this.undone;if(y.length==0)return null;let k=y[y.length-1],$=k.selectionsAfter[0]||r.selection;if(g&&k.selectionsAfter.length)return r.update({selection:k.selectionsAfter[k.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(y),selection:$}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(k.changes){let V=y.length==1?none$1:y.slice(0,y.length-1);return k.mapped&&(V=addMappingToBranch(V,k.mapped)),r.update({changes:k.changes,selection:k.startSelection,effects:k.effects,annotations:fromHistory.of({side:e,rest:V,selection:$}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo$1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo$1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo$1,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(n,e){return EditorSelection.create(n.ranges.map(e),n.mainIndex)}function setSel(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:n,dispatch:e},r){let g=updateSel(n.selection,r);return g.eq(n.selection,!0)?!1:(e(setSel(n,g)),!0)}function rangeEnd(n,e){return EditorSelection.cursor(e?n.to:n.from)}function cursorByChar(n,e){return moveSel(n,r=>r.empty?n.moveByChar(r,e):rangeEnd(r,e))}function ltrAtCursor(n){return n.textDirectionAt(n.state.selection.main.head)==Direction.LTR}const cursorCharLeft=n=>cursorByChar(n,!ltrAtCursor(n)),cursorCharRight=n=>cursorByChar(n,ltrAtCursor(n));function cursorByGroup(n,e){return moveSel(n,r=>r.empty?n.moveByGroup(r,e):rangeEnd(r,e))}const cursorGroupLeft=n=>cursorByGroup(n,!ltrAtCursor(n)),cursorGroupRight=n=>cursorByGroup(n,ltrAtCursor(n));function interestingNode(n,e,r){if(e.type.prop(r))return!0;let g=e.to-e.from;return g&&(g>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(n,e,r){let g=syntaxTree(n).resolveInner(e.head),y=r?NodeProp.closedBy:NodeProp.openedBy;for(let L=e.head;;){let z=r?g.childAfter(L):g.childBefore(L);if(!z)break;interestingNode(n,z,y)?g=z:L=r?z.to:z.from}let k=g.type.prop(y),$,V;return k&&($=r?matchBrackets(n,g.from,1):matchBrackets(n,g.to,-1))&&$.matched?V=r?$.end.to:$.end.from:V=r?g.to:g.from,EditorSelection.cursor(V,r?-1:1)}const cursorSyntaxLeft=n=>moveSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),cursorSyntaxRight=n=>moveSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function cursorByLine(n,e){return moveSel(n,r=>{if(!r.empty)return rangeEnd(r,e);let g=n.moveVertically(r,e);return g.head!=r.head?g:n.moveToLineBoundary(r,e)})}const cursorLineUp=n=>cursorByLine(n,!1),cursorLineDown=n=>cursorByLine(n,!0);function pageInfo(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,g=0,y;if(e){for(let k of n.state.facet(EditorView.scrollMargins)){let $=k(n);$?.top&&(r=Math.max($?.top,r)),$?.bottom&&(g=Math.max($?.bottom,g))}y=n.scrollDOM.clientHeight-r-g}else y=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:g,selfScroll:e,height:Math.max(n.defaultLineHeight,y-5)}}function cursorByPage(n,e){let r=pageInfo(n),{state:g}=n,y=updateSel(g.selection,$=>$.empty?n.moveVertically($,e,r.height):rangeEnd($,e));if(y.eq(g.selection))return!1;let k;if(r.selfScroll){let $=n.coordsAtPos(g.selection.main.head),V=n.scrollDOM.getBoundingClientRect(),L=V.top+r.marginTop,z=V.bottom-r.marginBottom;$&&$.top>L&&$.bottom<z&&(k=EditorView.scrollIntoView(y.main.head,{y:"start",yMargin:$.top-L}))}return n.dispatch(setSel(g,y),{effects:k}),!0}const cursorPageUp=n=>cursorByPage(n,!1),cursorPageDown=n=>cursorByPage(n,!0);function moveByLineBoundary(n,e,r){let g=n.lineBlockAt(e.head),y=n.moveToLineBoundary(e,r);if(y.head==e.head&&y.head!=(r?g.to:g.from)&&(y=n.moveToLineBoundary(e,r,!1)),!r&&y.head==g.from&&g.length){let k=/^\s*/.exec(n.state.sliceDoc(g.from,Math.min(g.from+100,g.to)))[0].length;k&&e.head!=g.from+k&&(y=EditorSelection.cursor(g.from+k))}return y}const cursorLineBoundaryForward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!0)),cursorLineBoundaryBackward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!1)),cursorLineBoundaryLeft=n=>moveSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),cursorLineBoundaryRight=n=>moveSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),cursorLineStart=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from,1)),cursorLineEnd=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to,-1));function toMatchingBracket(n,e,r){let g=!1,y=updateSel(n.selection,k=>{let $=matchBrackets(n,k.head,-1)||matchBrackets(n,k.head,1)||k.head>0&&matchBrackets(n,k.head-1,1)||k.head<n.doc.length&&matchBrackets(n,k.head+1,-1);if(!$||!$.end)return k;g=!0;let V=$.start.from==k.head?$.end.to:$.end.from;return r?EditorSelection.range(k.anchor,V):EditorSelection.cursor(V)});return g?(e(setSel(n,y)),!0):!1}const cursorMatchingBracket=({state:n,dispatch:e})=>toMatchingBracket(n,e,!1);function extendSel(n,e){let r=updateSel(n.state.selection,g=>{let y=e(g);return EditorSelection.range(g.anchor,y.head,y.goalColumn,y.bidiLevel||void 0)});return r.eq(n.state.selection)?!1:(n.dispatch(setSel(n.state,r)),!0)}function selectByChar(n,e){return extendSel(n,r=>n.moveByChar(r,e))}const selectCharLeft=n=>selectByChar(n,!ltrAtCursor(n)),selectCharRight=n=>selectByChar(n,ltrAtCursor(n));function selectByGroup(n,e){return extendSel(n,r=>n.moveByGroup(r,e))}const selectGroupLeft=n=>selectByGroup(n,!ltrAtCursor(n)),selectGroupRight=n=>selectByGroup(n,ltrAtCursor(n)),selectSyntaxLeft=n=>extendSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),selectSyntaxRight=n=>extendSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function selectByLine(n,e){return extendSel(n,r=>n.moveVertically(r,e))}const selectLineUp=n=>selectByLine(n,!1),selectLineDown=n=>selectByLine(n,!0);function selectByPage(n,e){return extendSel(n,r=>n.moveVertically(r,e,pageInfo(n).height))}const selectPageUp=n=>selectByPage(n,!1),selectPageDown=n=>selectByPage(n,!0),selectLineBoundaryForward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!0)),selectLineBoundaryBackward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!1)),selectLineBoundaryLeft=n=>extendSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),selectLineBoundaryRight=n=>extendSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),selectLineStart=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from)),selectLineEnd=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to)),cursorDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:0})),!0),cursorDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.doc.length})),!0),selectDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:0})),!0),selectDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),selectAll=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),selectLine=({state:n,dispatch:e})=>{let r=selectedLineBlocks(n).map(({from:g,to:y})=>EditorSelection.range(g,Math.min(y+1,n.doc.length)));return e(n.update({selection:EditorSelection.create(r),userEvent:"select"})),!0},selectParentSyntax=({state:n,dispatch:e})=>{let r=updateSel(n.selection,g=>{let y=syntaxTree(n),k=y.resolveStack(g.from,1);if(g.empty){let $=y.resolveStack(g.from,-1);$.node.from>=k.node.from&&$.node.to<=k.node.to&&(k=$)}for(let $=k;$;$=$.next){let{node:V}=$;if((V.from<g.from&&V.to>=g.to||V.to>g.to&&V.from<=g.from)&&$.next)return EditorSelection.range(V.to,V.from)}return g});return r.eq(n.selection)?!1:(e(setSel(n,r)),!0)},simplifySelection=({state:n,dispatch:e})=>{let r=n.selection,g=null;return r.ranges.length>1?g=EditorSelection.create([r.main]):r.main.empty||(g=EditorSelection.create([EditorSelection.cursor(r.main.head)])),g?(e(setSel(n,g)),!0):!1};function deleteBy(n,e){if(n.state.readOnly)return!1;let r="delete.selection",{state:g}=n,y=g.changeByRange(k=>{let{from:$,to:V}=k;if($==V){let L=e(k);L<$?(r="delete.backward",L=skipAtomic(n,L,!1)):L>$&&(r="delete.forward",L=skipAtomic(n,L,!0)),$=Math.min($,L),V=Math.max(V,L)}else $=skipAtomic(n,$,!1),V=skipAtomic(n,V,!0);return $==V?{range:k}:{changes:{from:$,to:V},range:EditorSelection.cursor($,$<k.head?-1:1)}});return y.changes.empty?!1:(n.dispatch(g.update(y,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?EditorView.announce.of(g.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(n,e,r){if(n instanceof EditorView)for(let g of n.state.facet(EditorView.atomicRanges).map(y=>y(n)))g.between(e,e,(y,k)=>{y<e&&k>e&&(e=r?k:y)});return e}const deleteByChar=(n,e,r)=>deleteBy(n,g=>{let y=g.from,{state:k}=n,$=k.doc.lineAt(y),V,L;if(r&&!e&&y>$.from&&y<$.from+200&&!/[^ \t]/.test(V=$.text.slice(0,y-$.from))){if(V[V.length-1]=="	")return y-1;let z=countColumn(V,k.tabSize),j=z%getIndentUnit(k)||getIndentUnit(k);for(let re=0;re<j&&V[V.length-1-re]==" ";re++)y--;L=y}else L=findClusterBreak($.text,y-$.from,e,e)+$.from,L==y&&$.number!=(e?k.doc.lines:1)?L+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test($.text.slice(L-$.from,y-$.from))&&(L=findClusterBreak($.text,L-$.from,!1,!1)+$.from);return L}),deleteCharBackward=n=>deleteByChar(n,!1,!0),deleteCharForward=n=>deleteByChar(n,!0,!1),deleteByGroup=(n,e)=>deleteBy(n,r=>{let g=r.head,{state:y}=n,k=y.doc.lineAt(g),$=y.charCategorizer(g);for(let V=null;;){if(g==(e?k.to:k.from)){g==r.head&&k.number!=(e?y.doc.lines:1)&&(g+=e?1:-1);break}let L=findClusterBreak(k.text,g-k.from,e)+k.from,z=k.text.slice(Math.min(g,L)-k.from,Math.max(g,L)-k.from),j=$(z);if(V!=null&&j!=V)break;(z!=" "||g!=r.head)&&(V=j),g=L}return g}),deleteGroupBackward=n=>deleteByGroup(n,!1),deleteGroupForward=n=>deleteByGroup(n,!0),deleteToLineEnd=n=>deleteBy(n,e=>{let r=n.lineBlockAt(e.head).to;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),deleteLineBoundaryForward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),splitLine=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(g=>({changes:{from:g.from,to:g.to,insert:Text.of(["",""])},range:EditorSelection.cursor(g.from)}));return e(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(g=>{if(!g.empty||g.from==0||g.from==n.doc.length)return{range:g};let y=g.from,k=n.doc.lineAt(y),$=y==k.from?y-1:findClusterBreak(k.text,y-k.from,!1)+k.from,V=y==k.to?y+1:findClusterBreak(k.text,y-k.from,!0)+k.from;return{changes:{from:$,to:V,insert:n.doc.slice(y,V).append(n.doc.slice($,y))},range:EditorSelection.cursor(V)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(n){let e=[],r=-1;for(let g of n.selection.ranges){let y=n.doc.lineAt(g.from),k=n.doc.lineAt(g.to);if(!g.empty&&g.to==k.from&&(k=n.doc.lineAt(g.to-1)),r>=y.number){let $=e[e.length-1];$.to=k.to,$.ranges.push(g)}else e.push({from:y.from,to:k.to,ranges:[g]});r=k.number+1}return e}function moveLine(n,e,r){if(n.readOnly)return!1;let g=[],y=[];for(let k of selectedLineBlocks(n)){if(r?k.to==n.doc.length:k.from==0)continue;let $=n.doc.lineAt(r?k.to+1:k.from-1),V=$.length+1;if(r){g.push({from:k.to,to:$.to},{from:k.from,insert:$.text+n.lineBreak});for(let L of k.ranges)y.push(EditorSelection.range(Math.min(n.doc.length,L.anchor+V),Math.min(n.doc.length,L.head+V)))}else{g.push({from:$.from,to:k.from},{from:k.to,insert:n.lineBreak+$.text});for(let L of k.ranges)y.push(EditorSelection.range(L.anchor-V,L.head-V))}}return g.length?(e(n.update({changes:g,scrollIntoView:!0,selection:EditorSelection.create(y,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:n,dispatch:e})=>moveLine(n,e,!1),moveLineDown=({state:n,dispatch:e})=>moveLine(n,e,!0);function copyLine(n,e,r){if(n.readOnly)return!1;let g=[];for(let y of selectedLineBlocks(n))r?g.push({from:y.from,insert:n.doc.slice(y.from,y.to)+n.lineBreak}):g.push({from:y.to,insert:n.lineBreak+n.doc.slice(y.from,y.to)});return e(n.update({changes:g,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:n,dispatch:e})=>copyLine(n,e,!1),copyLineDown=({state:n,dispatch:e})=>copyLine(n,e,!0),deleteLine=n=>{if(n.state.readOnly)return!1;let{state:e}=n,r=e.changes(selectedLineBlocks(e).map(({from:y,to:k})=>(y>0?y--:k<e.doc.length&&k++,{from:y,to:k}))),g=updateSel(e.selection,y=>{let k;if(n.lineWrapping){let $=n.lineBlockAt(y.head),V=n.coordsAtPos(y.head,y.assoc||1);V&&(k=$.bottom+n.documentTop-V.bottom+n.defaultLineHeight/2)}return n.moveVertically(y,!0,k)}).map(r);return n.dispatch({changes:r,selection:g,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=syntaxTree(n).resolveInner(e),g=r.childBefore(e),y=r.childAfter(e),k;return g&&y&&g.to<=e&&y.from>=e&&(k=g.type.prop(NodeProp.closedBy))&&k.indexOf(y.name)>-1&&n.doc.lineAt(g.to).from==n.doc.lineAt(y.from).from&&!/\S/.test(n.sliceDoc(g.to,y.from))?{from:g.to,to:y.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(n){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let g=e.changeByRange(y=>{let{from:k,to:$}=y,V=e.doc.lineAt(k),L=!n&&k==$&&isBetweenBrackets(e,k);n&&(k=$=($<=V.to?V:e.doc.lineAt($)).to);let z=new IndentContext(e,{simulateBreak:k,simulateDoubleBreak:!!L}),j=getIndentation(z,k);for(j==null&&(j=countColumn(/^\s*/.exec(e.doc.lineAt(k).text)[0],e.tabSize));$<V.to&&/\s/.test(V.text[$-V.from]);)$++;L?{from:k,to:$}=L:k>V.from&&k<V.from+100&&!/\S/.test(V.text.slice(0,k))&&(k=V.from);let re=["",indentString(e,j)];return L&&re.push(indentString(e,z.lineIndent(V.from,-1))),{changes:{from:k,to:$,insert:Text.of(re)},range:EditorSelection.cursor(k+1+re[1].length)}});return r(e.update(g,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(n,e){let r=-1;return n.changeByRange(g=>{let y=[];for(let $=g.from;$<=g.to;){let V=n.doc.lineAt($);V.number>r&&(g.empty||g.to>V.from)&&(e(V,y,g),r=V.number),$=V.to+1}let k=n.changes(y);return{changes:y,range:EditorSelection.range(k.mapPos(g.anchor,1),k.mapPos(g.head,1))}})}const indentSelection=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Object.create(null),g=new IndentContext(n,{overrideIndentation:k=>{let $=r[k];return $??-1}}),y=changeBySelectedLine(n,(k,$,V)=>{let L=getIndentation(g,k.from);if(L==null)return;/\S/.test(k.text)||(L=0);let z=/^\s*/.exec(k.text)[0],j=indentString(n,L);(z!=j||V.from<k.from+z.length)&&(r[k.from]=L,$.push({from:k.from,to:k.from+z.length,insert:j}))});return y.changes.empty||e(n.update(y,{userEvent:"indent"})),!0},indentMore=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,g)=>{g.push({from:r.from,insert:n.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,g)=>{let y=/^\s*/.exec(r.text)[0];if(!y)return;let k=countColumn(y,n.tabSize),$=0,V=indentString(n,Math.max(0,k-getIndentUnit(n)));for(;$<y.length&&$<V.length&&y.charCodeAt($)==V.charCodeAt($);)$++;g.push({from:r.from+$,to:r.from+y.length,insert:V.slice($)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=n=>(n.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap);function crelt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var g in r)if(Object.prototype.hasOwnProperty.call(r,g)){var y=r[g];typeof y=="string"?n.setAttribute(g,y):y!=null&&(n[g]=y)}e++}for(;e<arguments.length;e++)add(n,arguments[e]);return n}function add(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)add(n,e[r]);else throw new RangeError("Unsupported child node: "+e)}const basicNormalize=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class SearchCursor{constructor(e,r,g=0,y=e.length,k,$){this.test=$,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(g,y),this.bufferStart=g,this.normalize=k?V=>k(basicNormalize(V)):basicNormalize,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt$1(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=fromCodePoint(e),g=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let y=this.normalize(r);if(y.length)for(let k=0,$=g;;k++){let V=y.charCodeAt(k),L=this.match(V,$,this.bufferPos+this.bufferStart);if(k==y.length-1){if(L)return this.value=L,this;break}$==g&&k<r.length&&r.charCodeAt(k)==V&&$++}}}match(e,r,g){let y=null;for(let k=0;k<this.matches.length;k+=2){let $=this.matches[k],V=!1;this.query.charCodeAt($)==e&&($==this.query.length-1?y={from:this.matches[k+1],to:g}:(this.matches[k]++,V=!0)),V||(this.matches.splice(k,2),k-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?y={from:r,to:g}:this.matches.push(1,r)),y&&this.test&&!this.test(y.from,y.to,this.buffer,this.bufferStart)&&(y=null),y}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,r,g,y=0,k=e.length){if(this.text=e,this.to=k,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new MultilineRegExpCursor(e,r,g,y,k);this.re=new RegExp(r,baseFlags+(g?.ignoreCase?"i":"")),this.test=g?.test,this.iter=e.iter();let $=e.lineAt(y);this.curLineStart=$.from,this.matchPos=toCharEnd(e,y),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let g=this.curLineStart+r.index,y=g+r[0].length;if(this.matchPos=toCharEnd(this.text,y+(g==y?1:0)),g==this.curLineStart+this.curLine.length&&this.nextLine(),(g<y||g>this.value.to)&&(!this.test||this.test(g,y,r)))return this.value={from:g,to:y,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,g){let y=flattened.get(e);if(!y||y.from>=g||y.to<=r){let V=new FlattenedDoc(r,e.sliceString(r,g));return flattened.set(e,V),V}if(y.from==r&&y.to==g)return y;let{text:k,from:$}=y;return $>r&&(k=e.sliceString(r,$)+k,$=r),y.to<g&&(k+=e.sliceString(y.to,g)),flattened.set(e,new FlattenedDoc($,k)),new FlattenedDoc(r,k.slice(r-$,g-$))}}class MultilineRegExpCursor{constructor(e,r,g,y,k){this.text=e,this.to=k,this.done=!1,this.value=empty,this.matchPos=toCharEnd(e,y),this.re=new RegExp(r,baseFlags+(g?.ignoreCase?"i":"")),this.test=g?.test,this.flat=FlattenedDoc.get(e,y,this.chunkEnd(y+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let g=this.flat.from+r.index,y=g+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(g,y,r)))return this.value={from:g,to:y,match:r},this.matchPos=toCharEnd(this.text,y+(g==y?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(n){try{return new RegExp(n,baseFlags),!0}catch{return!1}}function toCharEnd(n,e){if(e>=n.length)return e;let r=n.lineAt(e),g;for(;e<r.to&&(g=r.text.charCodeAt(e-r.from))>=56320&&g<57344;)e++;return e}function createLineDialog(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),r=crelt("input",{class:"cm-textfield",name:"line",value:e}),g=crelt("form",{class:"cm-gotoLine",onkeydown:k=>{k.keyCode==27?(k.preventDefault(),n.dispatch({effects:dialogEffect.of(!1)}),n.focus()):k.keyCode==13&&(k.preventDefault(),y())},onsubmit:k=>{k.preventDefault(),y()}},crelt("label",n.state.phrase("Go to line"),": ",r)," ",crelt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function y(){let k=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!k)return;let{state:$}=n,V=$.doc.lineAt($.selection.main.head),[,L,z,j,re]=k,oe=j?+j.slice(1):0,ae=z?+z:V.number;if(z&&re){let pe=ae/100;L&&(pe=pe*(L=="-"?-1:1)+V.number/$.doc.lines),ae=Math.round($.doc.lines*pe)}else z&&L&&(ae=ae*(L=="-"?-1:1)+V.number);let de=$.doc.line(Math.max(1,Math.min($.doc.lines,ae))),ue=EditorSelection.cursor(de.from+Math.max(0,Math.min(oe,de.length)));n.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(ue.from,{y:"center"})],selection:ue}),n.focus()}return{dom:g}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(n,e){for(let r of e.effects)r.is(dialogEffect)&&(n=r.value);return n},provide:n=>showPanel.from(n,e=>e?createLineDialog:null)}),gotoLine=n=>{let e=getPanel(n,createLineDialog);if(!e){let r=[dialogEffect.of(!0)];n.state.field(dialogField,!1)==null&&r.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),n.dispatch({effects:r}),e=getPanel(n,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(n){return combineConfig(n,defaultHighlightOptions,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(n){let e=[defaultTheme,matchHighlighter];return n&&e.push(highlightConfig.of(n)),e}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(n,e,r,g){return(r==0||n(e.sliceDoc(r-1,r))!=CharCategory.Word)&&(g==e.doc.length||n(e.sliceDoc(g,g+1))!=CharCategory.Word)}function insideWord(n,e,r,g){return n(e.sliceDoc(r,r+1))==CharCategory.Word&&n(e.sliceDoc(g-1,g))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(highlightConfig),{state:r}=n,g=r.selection;if(g.ranges.length>1)return Decoration.none;let y=g.main,k,$=null;if(y.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let L=r.wordAt(y.head);if(!L)return Decoration.none;$=r.charCategorizer(y.head),k=r.sliceDoc(L.from,L.to)}else{let L=y.to-y.from;if(L<e.minSelectionLength||L>200)return Decoration.none;if(e.wholeWords){if(k=r.sliceDoc(y.from,y.to),$=r.charCategorizer(y.head),!(insideWordBoundaries($,r,y.from,y.to)&&insideWord($,r,y.from,y.to)))return Decoration.none}else if(k=r.sliceDoc(y.from,y.to),!k)return Decoration.none}let V=[];for(let L of n.visibleRanges){let z=new SearchCursor(r.doc,k,L.from,L.to);for(;!z.next().done;){let{from:j,to:re}=z.value;if((!$||insideWordBoundaries($,r,j,re))&&(y.empty&&j<=y.from&&re>=y.to?V.push(mainMatchDeco.range(j,re)):(j>=y.to||re<=y.from)&&V.push(matchDeco.range(j,re)),V.length>e.maxMatches))return Decoration.none}}return Decoration.set(V)}},{decorations:n=>n.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:n,dispatch:e})=>{let{selection:r}=n,g=EditorSelection.create(r.ranges.map(y=>n.wordAt(y.head)||EditorSelection.cursor(y.head)),r.mainIndex);return g.eq(r)?!1:(e(n.update({selection:g})),!0)};function findNextOccurrence(n,e){let{main:r,ranges:g}=n.selection,y=n.wordAt(r.head),k=y&&y.from==r.from&&y.to==r.to;for(let $=!1,V=new SearchCursor(n.doc,e,g[g.length-1].to);;)if(V.next(),V.done){if($)return null;V=new SearchCursor(n.doc,e,0,Math.max(0,g[g.length-1].from-1)),$=!0}else{if($&&g.some(L=>L.from==V.value.from))continue;if(k){let L=n.wordAt(V.value.from);if(!L||L.from!=V.value.from||L.to!=V.value.to)continue}return V.value}}const selectNextOccurrence=({state:n,dispatch:e})=>{let{ranges:r}=n.selection;if(r.some(k=>k.from===k.to))return selectWord({state:n,dispatch:e});let g=n.sliceDoc(r[0].from,r[0].to);if(n.selection.ranges.some(k=>n.sliceDoc(k.from,k.to)!=g))return!1;let y=findNextOccurrence(n,g);return y?(e(n.update({selection:n.selection.addRange(EditorSelection.range(y.from,y.to),!1),effects:EditorView.scrollIntoView(y.to)})),!0):!1},searchConfigFacet=Facet.define({combine(n){return combineConfig(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,g)=>g=="n"?`
`:g=="r"?"\r":g=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,r=0,g){let y=e.doc?e:EditorState.create({doc:e});return g==null&&(g=y.doc.length),this.regexp?regexpCursor(this,y,r,g):stringCursor(this,y,r,g)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(n,e,r,g){return new SearchCursor(e.doc,n.unquoted,r,g,n.caseSensitive?void 0:y=>y.toLowerCase(),n.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(n,e){return(r,g,y,k)=>((k>r||k+y.length<g)&&(k=Math.max(0,r-2),y=n.sliceString(k,Math.min(n.length,g+2))),(e(charBefore(y,r-k))!=CharCategory.Word||e(charAfter(y,r-k))!=CharCategory.Word)&&(e(charAfter(y,g-k))!=CharCategory.Word||e(charBefore(y,g-k))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,r,g){let y=stringCursor(this.spec,e,g,e.doc.length).nextOverlapping();if(y.done){let k=Math.min(e.doc.length,r+this.spec.unquoted.length);y=stringCursor(this.spec,e,0,k).nextOverlapping()}return y.done||y.value.from==r&&y.value.to==g?null:y.value}prevMatchInRange(e,r,g){for(let y=g;;){let k=Math.max(r,y-1e4-this.spec.unquoted.length),$=stringCursor(this.spec,e,k,y),V=null;for(;!$.nextOverlapping().done;)V=$.value;if(V)return V;if(k==r)return null;y-=1e4}}prevMatch(e,r,g){let y=this.prevMatchInRange(e,0,r);return y||(y=this.prevMatchInRange(e,Math.max(0,g-this.spec.unquoted.length),e.doc.length)),y&&(y.from!=r||y.to!=g)?y:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let g=stringCursor(this.spec,e,0,e.doc.length),y=[];for(;!g.next().done;){if(y.length>=r)return null;y.push(g.value)}return y}highlight(e,r,g,y){let k=stringCursor(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(g+this.spec.unquoted.length,e.doc.length));for(;!k.next().done;)y(k.value.from,k.value.to)}}function regexpCursor(n,e,r,g){return new RegExpCursor(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},r,g)}function charBefore(n,e){return n.slice(findClusterBreak(n,e,!1),e)}function charAfter(n,e){return n.slice(e,findClusterBreak(n,e))}function regexpWordTest(n){return(e,r,g)=>!g[0].length||(n(charBefore(g.input,g.index))!=CharCategory.Word||n(charAfter(g.input,g.index))!=CharCategory.Word)&&(n(charAfter(g.input,g.index+g[0].length))!=CharCategory.Word||n(charBefore(g.input,g.index+g[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,r,g){let y=regexpCursor(this.spec,e,g,e.doc.length).next();return y.done&&(y=regexpCursor(this.spec,e,0,r).next()),y.done?null:y.value}prevMatchInRange(e,r,g){for(let y=1;;y++){let k=Math.max(r,g-y*1e4),$=regexpCursor(this.spec,e,k,g),V=null;for(;!$.next().done;)V=$.value;if(V&&(k==r||V.from>k+10))return V;if(k==r)return null}}prevMatch(e,r,g){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,g,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,g)=>g=="$"?"$":g=="&"?e.match[0]:g!="0"&&+g<e.match.length?e.match[g]:r)}matchAll(e,r){let g=regexpCursor(this.spec,e,0,e.doc.length),y=[];for(;!g.next().done;){if(y.length>=r)return null;y.push(g.value)}return y}highlight(e,r,g,y){let k=regexpCursor(this.spec,e,Math.max(0,r-250),Math.min(g+250,e.doc.length));for(;!k.next().done;)y(k.value.from,k.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(n){return new SearchState(defaultQuery(n).create(),null)},update(n,e){for(let r of e.effects)r.is(setSearchQuery)?n=new SearchState(r.value.create(),n.panel):r.is(togglePanel$1)&&(n=new SearchState(n.query,r.value?createSearchPanel:null));return n},provide:n=>showPanel.from(n,e=>e.panel)});class SearchState{constructor(e,r){this.query=e,this.panel=r}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(searchState))}update(n){let e=n.state.field(searchState);(e!=n.startState.field(searchState)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Decoration.none;let{view:r}=this,g=new RangeSetBuilder;for(let y=0,k=r.visibleRanges,$=k.length;y<$;y++){let{from:V,to:L}=k[y];for(;y<$-1&&L>k[y+1].from-2*250;)L=k[++y].to;n.highlight(r.state,V,L,(z,j)=>{let re=r.state.selection.ranges.some(oe=>oe.from==z&&oe.to==j);g.add(z,j,re?selectedMatchMark:matchMark)})}return g.finish()}},{decorations:n=>n.decorations});function searchCommand(n){return e=>{let r=e.state.field(searchState,!1);return r&&r.query.spec.valid?n(e,r):openSearchPanel(e)}}const findNext=searchCommand((n,{query:e})=>{let{to:r}=n.state.selection.main,g=e.nextMatch(n.state,r,r);if(!g)return!1;let y=EditorSelection.single(g.from,g.to),k=n.state.facet(searchConfigFacet);return n.dispatch({selection:y,effects:[announceMatch(n,g),k.scrollToMatch(y.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),findPrevious=searchCommand((n,{query:e})=>{let{state:r}=n,{from:g}=r.selection.main,y=e.prevMatch(r,g,g);if(!y)return!1;let k=EditorSelection.single(y.from,y.to),$=n.state.facet(searchConfigFacet);return n.dispatch({selection:k,effects:[announceMatch(n,y),$.scrollToMatch(k.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),selectMatches=searchCommand((n,{query:e})=>{let r=e.matchAll(n.state,1e3);return!r||!r.length?!1:(n.dispatch({selection:EditorSelection.create(r.map(g=>EditorSelection.range(g.from,g.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:n,dispatch:e})=>{let r=n.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:g,to:y}=r.main,k=[],$=0;for(let V=new SearchCursor(n.doc,n.sliceDoc(g,y));!V.next().done;){if(k.length>1e3)return!1;V.value.from==g&&($=k.length),k.push(EditorSelection.range(V.value.from,V.value.to))}return e(n.update({selection:EditorSelection.create(k,$),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((n,{query:e})=>{let{state:r}=n,{from:g,to:y}=r.selection.main;if(r.readOnly)return!1;let k=e.nextMatch(r,g,g);if(!k)return!1;let $=k,V=[],L,z,j=[];if($.from==g&&$.to==y&&(z=r.toText(e.getReplacement($)),V.push({from:$.from,to:$.to,insert:z}),$=e.nextMatch(r,$.from,$.to),j.push(EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(g).number)+"."))),$){let re=V.length==0||V[0].from>=k.to?0:k.to-k.from-z.length;L=EditorSelection.single($.from-re,$.to-re),j.push(announceMatch(n,$)),j.push(r.facet(searchConfigFacet).scrollToMatch(L.main,n))}return n.dispatch({changes:V,selection:L,effects:j,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((n,{query:e})=>{if(n.state.readOnly)return!1;let r=e.matchAll(n.state,1e9).map(y=>{let{from:k,to:$}=y;return{from:k,to:$,insert:e.getReplacement(y)}});if(!r.length)return!1;let g=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:EditorView.announce.of(g),userEvent:"input.replace.all"}),!0});function createSearchPanel(n){return n.state.facet(searchConfigFacet).createPanel(n)}function defaultQuery(n,e){var r,g,y,k,$;let V=n.selection.main,L=V.empty||V.to>V.from+100?"":n.sliceDoc(V.from,V.to);if(e&&!L)return e;let z=n.facet(searchConfigFacet);return new SearchQuery({search:((r=e?.literal)!==null&&r!==void 0?r:z.literal)?L:L.replace(/\n/g,"\\n"),caseSensitive:(g=e?.caseSensitive)!==null&&g!==void 0?g:z.caseSensitive,literal:(y=e?.literal)!==null&&y!==void 0?y:z.literal,regexp:(k=e?.regexp)!==null&&k!==void 0?k:z.regexp,wholeWord:($=e?.wholeWord)!==null&&$!==void 0?$:z.wholeWord})}function getSearchInput(n){let e=getPanel(n,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(n){let e=getSearchInput(n);e&&e==n.root.activeElement&&e.select()}const openSearchPanel=n=>{let e=n.state.field(searchState,!1);if(e&&e.panel){let r=getSearchInput(n);if(r&&r!=n.root.activeElement){let g=defaultQuery(n.state,e.query.spec);g.valid&&n.dispatch({effects:setSearchQuery.of(g)}),r.focus(),r.select()}}else n.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(n.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=n=>{let e=n.state.field(searchState,!1);if(!e||!e.panel)return!1;let r=getPanel(n,createSearchPanel);return r&&r.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let r=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:r.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:r.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function g(y,k,$){return crelt("button",{class:"cm-button",name:y,onclick:k,type:"button"},$)}this.dom=crelt("div",{onkeydown:y=>this.keydown(y),class:"cm-search"},[this.searchField,g("next",()=>findNext(e),[phrase(e,"next")]),g("prev",()=>findPrevious(e),[phrase(e,"previous")]),g("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,g("replace",()=>replaceNext(e),[phrase(e,"replace")]),g("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let r of e.transactions)for(let g of r.effects)g.is(setSearchQuery)&&!g.value.eq(this.query)&&this.setQuery(g.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(n,e){return n.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(n,{from:e,to:r}){let g=n.state.doc.lineAt(e),y=n.state.doc.lineAt(r).to,k=Math.max(g.from,e-AnnounceMargin),$=Math.min(y,r+AnnounceMargin),V=n.state.sliceDoc(k,$);if(k!=g.from){for(let L=0;L<AnnounceMargin;L++)if(!Break.test(V[L+1])&&Break.test(V[L])){V=V.slice(L);break}}if($!=y){for(let L=V.length-1;L>V.length-AnnounceMargin;L--)if(!Break.test(V[L-1])&&Break.test(V[L])){V=V.slice(0,L);break}}return EditorView.announce.of(`${n.state.phrase("current match")}. ${V} ${n.state.phrase("on line")} ${g.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,r,g,y){this.state=e,this.pos=r,this.explicit=g,this.view=y,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=syntaxTree(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),g=Math.max(r.from,this.pos-250),y=r.text.slice(g-r.from,this.pos-r.from),k=y.search(ensureAnchor(e,!1));return k<0?null:{from:g+k,to:this.pos,text:y.slice(k)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,g){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),g&&g.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(n){let e=Object.keys(n).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(n){let e=Object.create(null),r=Object.create(null);for(let{label:y}of n){e[y[0]]=!0;for(let k=1;k<y.length;k++)r[y[k]]=!0}let g=toSet(e)+toSet(r)+"*$";return[new RegExp("^"+g),new RegExp(g)]}function completeFromList(n){let e=n.map(y=>typeof y=="string"?{label:y}:y),[r,g]=e.every(y=>/^\w+$/.test(y.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return y=>{let k=y.matchBefore(g);return k||y.explicit?{from:k?k.from:y.pos,options:e,validFor:r}:null}}function ifNotIn(n,e){return r=>{for(let g=syntaxTree(r.state).resolveInner(r.pos,-1);g;g=g.parent){if(n.indexOf(g.name)>-1)return null;if(g.type.isTop)break}return e(r)}}class Option{constructor(e,r,g,y){this.completion=e,this.source=r,this.match=g,this.score=y}}function cur(n){return n.selection.main.from}function ensureAnchor(n,e){var r;let{source:g}=n,y=e&&g[0]!="^",k=g[g.length-1]!="$";return!y&&!k?n:new RegExp(`${y?"^":""}(?:${g})${k?"$":""}`,(r=n.flags)!==null&&r!==void 0?r:n.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(n,e,r,g){let{main:y}=n.selection,k=r-y.from,$=g-y.from;return Object.assign(Object.assign({},n.changeByRange(V=>{if(V!=y&&r!=g&&n.sliceDoc(V.from+k,V.from+$)!=n.sliceDoc(r,g))return{range:V};let L=n.toText(e);return{changes:{from:V.from+k,to:g==y.from?V.to:V.from+$,insert:L},range:EditorSelection.cursor(V.from+k+L.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(n){if(!Array.isArray(n))return n;let e=SourceCache.get(n);return e||SourceCache.set(n,e=completeFromList(n)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let g=codePointAt$1(e,r),y=codePointSize(g);this.chars.push(g);let k=e.slice(r,r+y),$=k.toUpperCase();this.folded.push(codePointAt$1($==k?k.toLowerCase():$,0)),r+=y}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:g,any:y,precise:k,byWord:$}=this;if(r.length==1){let Oe=codePointAt$1(e,0),xe=codePointSize(Oe),$e=xe==e.length?0:-100;if(Oe!=r[0])if(Oe==g[0])$e+=-200;else return null;return this.ret($e,[0,xe])}let V=e.indexOf(this.pattern);if(V==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let L=r.length,z=0;if(V<0){for(let Oe=0,xe=Math.min(e.length,200);Oe<xe&&z<L;){let $e=codePointAt$1(e,Oe);($e==r[z]||$e==g[z])&&(y[z++]=Oe),Oe+=codePointSize($e)}if(z<L)return null}let j=0,re=0,oe=!1,ae=0,de=-1,ue=-1,pe=/[a-z]/.test(e),he=!0;for(let Oe=0,xe=Math.min(e.length,200),$e=0;Oe<xe&&re<L;){let Ne=codePointAt$1(e,Oe);V<0&&(j<L&&Ne==r[j]&&(k[j++]=Oe),ae<L&&(Ne==r[ae]||Ne==g[ae]?(ae==0&&(de=Oe),ue=Oe+1,ae++):ae=0));let Ce,Fe=Ne<255?Ne>=48&&Ne<=57||Ne>=97&&Ne<=122?2:Ne>=65&&Ne<=90?1:0:(Ce=fromCodePoint(Ne))!=Ce.toLowerCase()?1:Ce!=Ce.toUpperCase()?2:0;(!Oe||Fe==1&&pe||$e==0&&Fe!=0)&&(r[re]==Ne||g[re]==Ne&&(oe=!0)?$[re++]=Oe:$.length&&(he=!1)),$e=Fe,Oe+=codePointSize(Ne)}return re==L&&$[0]==0&&he?this.result(-100+(oe?-200:0),$,e):ae==L&&de==0?this.ret(-200-e.length+(ue==e.length?0:-100),[0,ue]):V>-1?this.ret(-700-e.length,[V,V+this.pattern.length]):ae==L?this.ret(-900-e.length,[de,ue]):re==L?this.result(-100+(oe?-200:0)+-700+(he?0:-1100),$,e):r.length==2?null:this.result((y[0]?-700:0)+-200+-1100,y,e)}result(e,r,g){let y=[],k=0;for(let $ of r){let V=$+(this.astral?codePointSize(codePointAt$1(g,$)):1);k&&y[k-1]==$?y[k-1]=V:(y[k++]=$,y[k++]=V)}return this.ret(e-g.length,y)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),g=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return g==null?null:(this.matched=[0,r.length],this.score=g+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(n){return combineConfig(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>g=>joinClass(e(g),r(g)),optionClass:(e,r)=>g=>joinClass(e(g),r(g)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function joinClass(n,e){return n?e?n+" "+e:n:e}function defaultPositionInfo(n,e,r,g,y,k){let $=n.textDirection==Direction.RTL,V=$,L=!1,z="top",j,re,oe=e.left-y.left,ae=y.right-e.right,de=g.right-g.left,ue=g.bottom-g.top;if(V&&oe<Math.min(de,ae)?V=!1:!V&&ae<Math.min(de,oe)&&(V=!0),de<=(V?oe:ae))j=Math.max(y.top,Math.min(r.top,y.bottom-ue))-e.top,re=Math.min(400,V?oe:ae);else{L=!0,re=Math.min(400,($?e.right:y.right-e.left)-30);let Oe=y.bottom-e.bottom;Oe>=ue||Oe>e.top?j=r.bottom-e.top:(z="bottom",j=e.bottom-r.top)}let pe=(e.bottom-e.top)/k.offsetHeight,he=(e.right-e.left)/k.offsetWidth;return{style:`${z}: ${j/pe}px; max-width: ${re/he}px`,class:"cm-completionInfo-"+(L?$?"left-narrow":"right-narrow":V?"left":"right")}}function optionContent(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(r){let g=document.createElement("div");return g.classList.add("cm-completionIcon"),r.type&&g.classList.add(...r.type.split(/\s+/g).map(y=>"cm-completionIcon-"+y)),g.setAttribute("aria-hidden","true"),g},position:20}),e.push({render(r,g,y,k){let $=document.createElement("span");$.className="cm-completionLabel";let V=r.displayLabel||r.label,L=0;for(let z=0;z<k.length;){let j=k[z++],re=k[z++];j>L&&$.appendChild(document.createTextNode(V.slice(L,j)));let oe=$.appendChild(document.createElement("span"));oe.appendChild(document.createTextNode(V.slice(j,re))),oe.className="cm-completionMatchedText",L=re}return L<V.length&&$.appendChild(document.createTextNode(V.slice(L))),$},position:50},{render(r){if(!r.detail)return null;let g=document.createElement("span");return g.className="cm-completionDetail",g.textContent=r.detail,g},position:80}),e.sort((r,g)=>r.position-g.position).map(r=>r.render)}function rangeAroundSelected(n,e,r){if(n<=r)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let y=Math.floor(e/r);return{from:y*r,to:(y+1)*r}}let g=Math.floor((n-e)/r);return{from:n-(g+1)*r,to:n-g*r}}class CompletionTooltip{constructor(e,r,g){this.view=e,this.stateField=r,this.applyCompletion=g,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:L=>this.placeInfo(L),key:this},this.space=null,this.currentClass="";let y=e.state.field(r),{options:k,selected:$}=y.open,V=e.state.facet(completionConfig);this.optionContent=optionContent(V),this.optionClass=V.optionClass,this.tooltipClass=V.tooltipClass,this.range=rangeAroundSelected(k.length,$,V.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",L=>{let{options:z}=e.state.field(r).open;for(let j=L.target,re;j&&j!=this.dom;j=j.parentNode)if(j.nodeName=="LI"&&(re=/-(\d+)$/.exec(j.id))&&+re[1]<z.length){this.applyCompletion(e,z[+re[1]]),L.preventDefault();return}}),this.dom.addEventListener("focusout",L=>{let z=e.state.field(this.stateField,!1);z&&z.tooltip&&e.state.facet(completionConfig).closeOnBlur&&L.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(k,y.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let g=e.state.field(this.stateField),y=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),g!=y){let{options:k,selected:$,disabled:V}=g.open;(!y.open||y.open.options!=k)&&(this.range=rangeAroundSelected(k.length,$,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(k,g.id)),this.updateSel(),V!=((r=y.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!V)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let g of this.currentClass.split(" "))g&&this.dom.classList.remove(g);for(let g of r.split(" "))g&&this.dom.classList.add(g);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=rangeAroundSelected(r.options.length,r.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:g}=r.options[r.selected],{info:y}=g;if(!y)return;let k=typeof y=="string"?document.createTextNode(y):y(g);if(!k)return;"then"in k?k.then($=>{$&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane($,g)}).catch($=>logException(this.view.state,$,"completion info")):this.addInfoPane(k,g)}}addInfoPane(e,r){this.destroyInfo();let g=this.info=document.createElement("div");if(g.className="cm-tooltip cm-completionInfo",e.nodeType!=null)g.appendChild(e),this.infoDestroy=null;else{let{dom:y,destroy:k}=e;g.appendChild(y),this.infoDestroy=k||null}this.dom.appendChild(g),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let g=this.list.firstChild,y=this.range.from;g;g=g.nextSibling,y++)g.nodeName!="LI"||!g.id?y--:y==e?g.hasAttribute("aria-selected")||(g.setAttribute("aria-selected","true"),r=g):g.hasAttribute("aria-selected")&&g.removeAttribute("aria-selected");return r&&scrollIntoView(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),g=this.info.getBoundingClientRect(),y=e.getBoundingClientRect(),k=this.space;if(!k){let $=this.dom.ownerDocument.defaultView||window;k={left:0,top:0,right:$.innerWidth,bottom:$.innerHeight}}return y.top>Math.min(k.bottom,r.bottom)-10||y.bottom<Math.max(k.top,r.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,r,y,g,k,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,g){const y=document.createElement("ul");y.id=r,y.setAttribute("role","listbox"),y.setAttribute("aria-expanded","true"),y.setAttribute("aria-label",this.view.state.phrase("Completions"));let k=null;for(let $=g.from;$<g.to;$++){let{completion:V,match:L}=e[$],{section:z}=V;if(z){let oe=typeof z=="string"?z:z.name;if(oe!=k&&($>g.from||g.from==0))if(k=oe,typeof z!="string"&&z.header)y.appendChild(z.header(z));else{let ae=y.appendChild(document.createElement("completion-section"));ae.textContent=oe}}const j=y.appendChild(document.createElement("li"));j.id=r+"-"+$,j.setAttribute("role","option");let re=this.optionClass(V);re&&(j.className=re);for(let oe of this.optionContent){let ae=oe(V,this.view.state,this.view,L);ae&&j.appendChild(ae)}}return g.from&&y.classList.add("cm-completionListIncompleteTop"),g.to<e.length&&y.classList.add("cm-completionListIncompleteBottom"),y}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(n,e){return r=>new CompletionTooltip(r,n,e)}function scrollIntoView(n,e){let r=n.getBoundingClientRect(),g=e.getBoundingClientRect(),y=r.height/n.offsetHeight;g.top<r.top?n.scrollTop-=(r.top-g.top)/y:g.bottom>r.bottom&&(n.scrollTop+=(g.bottom-r.bottom)/y)}function score(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function sortOptions(n,e){let r=[],g=null,y=z=>{r.push(z);let{section:j}=z.completion;if(j){g||(g=[]);let re=typeof j=="string"?j:j.name;g.some(oe=>oe.name==re)||g.push(typeof j=="string"?{name:re}:j)}},k=e.facet(completionConfig);for(let z of n)if(z.hasResult()){let j=z.result.getMatch;if(z.result.filter===!1)for(let re of z.result.options)y(new Option(re,z.source,j?j(re):[],1e9-r.length));else{let re=e.sliceDoc(z.from,z.to),oe,ae=k.filterStrict?new StrictMatcher(re):new FuzzyMatcher(re);for(let de of z.result.options)if(oe=ae.match(de.label)){let ue=de.displayLabel?j?j(de,oe.matched):[]:oe.matched;y(new Option(de,z.source,ue,oe.score+(de.boost||0)))}}}if(g){let z=Object.create(null),j=0,re=(oe,ae)=>{var de,ue;return((de=oe.rank)!==null&&de!==void 0?de:1e9)-((ue=ae.rank)!==null&&ue!==void 0?ue:1e9)||(oe.name<ae.name?-1:1)};for(let oe of g.sort(re))j-=1e5,z[oe.name]=j;for(let oe of r){let{section:ae}=oe.completion;ae&&(oe.score+=z[typeof ae=="string"?ae:ae.name])}}let $=[],V=null,L=k.compareCompletions;for(let z of r.sort((j,re)=>re.score-j.score||L(j.completion,re.completion))){let j=z.completion;!V||V.label!=j.label||V.detail!=j.detail||V.type!=null&&j.type!=null&&V.type!=j.type||V.apply!=j.apply||V.boost!=j.boost?$.push(z):score(z.completion)>score(V)&&($[$.length-1]=z),V=z.completion}return $}class CompletionDialog{constructor(e,r,g,y,k,$){this.options=e,this.attrs=r,this.tooltip=g,this.timestamp=y,this.selected=k,this.disabled=$}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,g,y,k,$){if(y&&!$&&e.some(z=>z.isPending))return y.setDisabled();let V=sortOptions(e,r);if(!V.length)return y&&e.some(z=>z.isPending)?y.setDisabled():null;let L=r.facet(completionConfig).selectOnOpen?0:-1;if(y&&y.selected!=L&&y.selected!=-1){let z=y.options[y.selected].completion;for(let j=0;j<V.length;j++)if(V[j].completion==z){L=j;break}}return new CompletionDialog(V,makeAttrs(g,L),{pos:e.reduce((z,j)=>j.hasResult()?Math.min(z,j.from):z,1e8),create:createTooltip,above:k.aboveCursor},y?y.timestamp:Date.now(),L,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,r,g){this.active=e,this.id=r,this.open=g}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,g=r.facet(completionConfig),k=(g.override||r.languageDataAt("autocomplete",cur(r)).map(asSource)).map(L=>(this.active.find(j=>j.source==L)||new ActiveSource(L,this.active.some(j=>j.state!=0)?1:0)).update(e,g));k.length==this.active.length&&k.every((L,z)=>L==this.active[z])&&(k=this.active);let $=this.open,V=e.effects.some(L=>L.is(setActiveEffect));$&&e.docChanged&&($=$.map(e.changes)),e.selection||k.some(L=>L.hasResult()&&e.changes.touchesRange(L.from,L.to))||!sameResults(k,this.active)||V?$=CompletionDialog.build(k,r,this.id,$,g,V):$&&$.disabled&&!k.some(L=>L.isPending)&&($=null),!$&&k.every(L=>!L.isPending)&&k.some(L=>L.hasResult())&&(k=k.map(L=>L.hasResult()?new ActiveSource(L.source,0):L));for(let L of e.effects)L.is(setSelectedEffect)&&($=$&&$.setSelected(L.value,this.id));return k==this.active&&$==this.open?this:new CompletionState(k,this.id,$)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(n,e){if(n==e)return!0;for(let r=0,g=0;;){for(;r<n.length&&!n[r].hasResult();)r++;for(;g<e.length&&!e[g].hasResult();)g++;let y=r==n.length,k=g==e.length;if(y||k)return y==k;if(n[r++].result!=e[g++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(n,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(r["aria-activedescendant"]=n+"-"+e),r}const none=[];function getUpdateType(n,e){if(n.isUserEvent("input.complete")){let g=n.annotation(pickedCompletion);if(g&&e.activateOnCompletion(g))return 12}let r=n.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ActiveSource{constructor(e,r,g=!1){this.source=e,this.state=r,this.explicit=g}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let g=getUpdateType(e,r),y=this;(g&8||g&16&&this.touches(e))&&(y=new ActiveSource(y.source,0)),g&4&&y.state==0&&(y=new ActiveSource(this.source,1)),y=y.updateFor(e,g);for(let k of e.effects)if(k.is(startCompletionEffect))y=new ActiveSource(y.source,1,k.value);else if(k.is(closeCompletionEffect))y=new ActiveSource(y.source,0);else if(k.is(setActiveEffect))for(let $ of k.value)$.source==y.source&&(y=$);return y}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,r,g,y,k,$){super(e,3,r),this.limit=g,this.result=y,this.from=k,this.to=$}hasResult(){return!0}updateFor(e,r){var g;if(!(r&3))return this.map(e.changes);let y=this.result;y.map&&!e.changes.empty&&(y=y.map(y,e.changes));let k=e.changes.mapPos(this.from),$=e.changes.mapPos(this.to,1),V=cur(e.state);if(V>$||!y||r&2&&(cur(e.startState)==this.from||V<this.limit))return new ActiveSource(this.source,r&4?1:0);let L=e.changes.mapPos(this.limit);return checkValid(y.validFor,e.state,k,$)?new ActiveResult(this.source,this.explicit,L,y,k,$):y.update&&(y=y.update(y,k,$,new CompletionContext(e.state,V,!1)))?new ActiveResult(this.source,this.explicit,L,y,y.from,(g=y.to)!==null&&g!==void 0?g:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(n,e,r,g){if(!n)return!1;let y=e.sliceDoc(r,g);return typeof n=="function"?n(y,r,g,e):ensureAnchor(n,!0).test(y)}const setActiveEffect=StateEffect.define({map(n,e){return n.map(r=>r.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(n,e){return n.update(e)},provide:n=>[showTooltip.from(n,e=>e.tooltip),EditorView.contentAttributes.from(n,e=>e.attrs)]});function applyCompletion(n,e){const r=e.completion.apply||e.completion.label;let g=n.state.field(completionState).active.find(y=>y.source==e.source);return g instanceof ActiveResult?(typeof r=="string"?n.dispatch(Object.assign(Object.assign({},insertCompletionText(n.state,r,g.from,g.to)),{annotations:pickedCompletion.of(e.completion)})):r(n,e.completion,g.from,g.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(n,e="option"){return r=>{let g=r.state.field(completionState,!1);if(!g||!g.open||g.open.disabled||Date.now()-g.open.timestamp<r.state.facet(completionConfig).interactionDelay)return!1;let y=1,k;e=="page"&&(k=getTooltip(r,g.open.tooltip))&&(y=Math.max(2,Math.floor(k.dom.offsetHeight/k.dom.querySelector("li").offsetHeight)-1));let{length:$}=g.open.options,V=g.open.selected>-1?g.open.selected+y*(n?1:-1):n?0:$-1;return V<0?V=e=="page"?0:$-1:V>=$&&(V=e=="page"?$-1:0),r.dispatch({effects:setSelectedEffect.of(V)}),!0}}const acceptCompletion=n=>{let e=n.state.field(completionState,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(completionConfig).interactionDelay?!1:applyCompletion(n,e.open.options[e.open.selected])},startCompletion=n=>n.state.field(completionState,!1)?(n.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=n=>{let e=n.state.field(completionState,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(n.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(completionState),r=n.state.facet(completionConfig);if(!n.selectionSet&&!n.docChanged&&n.startState.field(completionState)==e)return;let g=n.transactions.some(k=>{let $=getUpdateType(k,r);return $&8||(k.selection||k.docChanged)&&!($&3)});for(let k=0;k<this.running.length;k++){let $=this.running[k];if(g||$.context.abortOnDocChange&&n.docChanged||$.updates.length+n.transactions.length>MaxUpdateCount&&Date.now()-$.time>MinAbortTime){for(let V of $.context.abortListeners)try{V()}catch(L){logException(this.view.state,L)}$.context.abortListeners=null,this.running.splice(k--,1)}else $.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(k=>k.effects.some($=>$.is(startCompletionEffect)))&&(this.pendingStart=!0);let y=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(k=>k.isPending&&!this.running.some($=>$.active.source==k.source))?setTimeout(()=>this.startUpdate(),y):-1,this.composing!=0)for(let k of n.transactions)k.isUserEvent("input.type")?this.composing=2:this.composing==2&&k.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(completionState);for(let r of e.active)r.isPending&&!this.running.some(g=>g.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(n){let{state:e}=this.view,r=cur(e),g=new CompletionContext(e,r,n.explicit,this.view),y=new RunningQuery(n,g);this.running.push(y),Promise.resolve(n.source(g)).then(k=>{y.context.aborted||(y.done=k||null,this.scheduleAccept())},k=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,k)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(completionConfig),g=this.view.state.field(completionState);for(let y=0;y<this.running.length;y++){let k=this.running[y];if(k.done===void 0)continue;if(this.running.splice(y--,1),k.done){let V=cur(k.updates.length?k.updates[0].startState:this.view.state),L=Math.min(V,k.done.from+(k.active.explicit?0:1)),z=new ActiveResult(k.active.source,k.active.explicit,L,k.done,k.done.from,(n=k.done.to)!==null&&n!==void 0?n:V);for(let j of k.updates)z=z.update(j,r);if(z.hasResult()){e.push(z);continue}}let $=g.active.find(V=>V.source==k.active.source);if($&&$.isPending)if(k.done==null){let V=new ActiveSource(k.active.source,0);for(let L of k.updates)V=V.update(L,r);V.isPending||e.push(V)}else this.startQuery($)}(e.length||g.open&&g.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let r=e.open&&getTooltip(this.view,e.open.tooltip);(!r||!r.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(n,e){let r=e.state.field(completionState,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||n.key.length>1||n.ctrlKey&&!(windows&&n.altKey)||n.metaKey)return!1;let g=r.open.options[r.open.selected],y=r.active.find($=>$.source==g.source),k=g.completion.commitCharacters||y.result.commitCharacters;return k&&k.indexOf(n.key)>-1&&applyCompletion(e,g),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,r,g,y){this.field=e,this.line=r,this.from=g,this.to=y}}class FieldRange{constructor(e,r,g){this.field=e,this.from=r,this.to=g}map(e){let r=e.mapPos(this.from,-1,MapMode.TrackDel),g=e.mapPos(this.to,1,MapMode.TrackDel);return r==null||g==null?null:new FieldRange(this.field,r,g)}}class Snippet{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let g=[],y=[r],k=e.doc.lineAt(r),$=/^\s*/.exec(k.text)[0];for(let L of this.lines){if(g.length){let z=$,j=/^\t*/.exec(L)[0].length;for(let re=0;re<j;re++)z+=e.facet(indentUnit);y.push(r+z.length-j),L=z+L.slice(j)}g.push(L),r+=L.length+1}let V=this.fieldPositions.map(L=>new FieldRange(L.field,y[L.line]+L.from,y[L.line]+L.to));return{text:g,ranges:V}}static parse(e){let r=[],g=[],y=[],k;for(let $ of e.split(/\r\n?|\n/)){for(;k=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec($);){let V=k[1]?+k[1]:null,L=k[2]||k[3]||"",z=-1,j=L.replace(/\\[{}]/g,re=>re[1]);for(let re=0;re<r.length;re++)(V!=null?r[re].seq==V:j&&r[re].name==j)&&(z=re);if(z<0){let re=0;for(;re<r.length&&(V==null||r[re].seq!=null&&r[re].seq<V);)re++;r.splice(re,0,{seq:V,name:j}),z=re;for(let oe of y)oe.field>=z&&oe.field++}y.push(new FieldPos(z,g.length,k.index,k.index+j.length)),$=$.slice(0,k.index)+L+$.slice(k.index+k[0].length)}$=$.replace(/\\([{}])/g,(V,L,z)=>{for(let j of y)j.line==g.length&&j.from>z&&(j.from--,j.to--);return L}),g.push($)}return new Snippet(g,y)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,r){this.ranges=e,this.active=r,this.deco=Decoration.set(e.map(g=>(g.from==g.to?fieldMarker:fieldRange).range(g.from,g.to)))}map(e){let r=[];for(let g of this.ranges){let y=g.map(e);if(!y)return null;r.push(y)}return new ActiveSnippet(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(g=>g.field==this.active&&g.from<=r.from&&g.to>=r.to))}}const setActive=StateEffect.define({map(n,e){return n&&n.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(n,e){for(let r of e.effects){if(r.is(setActive))return r.value;if(r.is(moveToField)&&n)return new ActiveSnippet(n.ranges,r.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>EditorView.decorations.from(n,e=>e?e.deco:Decoration.none)});function fieldSelection(n,e){return EditorSelection.create(n.filter(r=>r.field==e).map(r=>EditorSelection.range(r.from,r.to)))}function snippet(n){let e=Snippet.parse(n);return(r,g,y,k)=>{let{text:$,ranges:V}=e.instantiate(r.state,y),{main:L}=r.state.selection,z={changes:{from:y,to:k==L.from?L.to:k,insert:Text.of($)},scrollIntoView:!0,annotations:g?[pickedCompletion.of(g),Transaction.userEvent.of("input.complete")]:void 0};if(V.length&&(z.selection=fieldSelection(V,0)),V.some(j=>j.field>0)){let j=new ActiveSnippet(V,0),re=z.effects=[setActive.of(j)];r.state.field(snippetState,!1)===void 0&&re.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}r.dispatch(r.state.update(z))}}function moveField(n){return({state:e,dispatch:r})=>{let g=e.field(snippetState,!1);if(!g||n<0&&g.active==0)return!1;let y=g.active+n,k=n>0&&!g.ranges.some($=>$.field==y+n);return r(e.update({selection:fieldSelection(g.ranges,y),effects:setActive.of(k?null:new ActiveSnippet(g.ranges,y)),scrollIntoView:!0})),!0}}const clearSnippet=({state:n,dispatch:e})=>n.field(snippetState,!1)?(e(n.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(n){return n.length?n[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],n=>n.facet(snippetKeymap)));function snippetCompletion(n,e){return Object.assign(Object.assign({},e),{apply:snippet(n)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(n,e){let r=e.state.field(snippetState,!1),g;if(!r||(g=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let y=r.ranges.find(k=>k.from<=g&&k.to>=g);return!y||y.field==r.active?!1:(e.dispatch({selection:fieldSelection(r.ranges,y.field),effects:setActive.of(r.ranges.some(k=>k.field>y.field)?new ActiveSnippet(r.ranges,y.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(n,e){let r=e.mapPos(n,-1,MapMode.TrackAfter);return r??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(n,e){if(n=n.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:g=>g>=r.from&&g<=r.to})}for(let r of e.effects)r.is(closeBracketEffect)&&(n=n.update({add:[closedBracket.range(r.value,r.value+1)]}));return n}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(n){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==n)return definedClosing.charAt(e+1);return fromCodePoint(n<128?n:n+1)}function config$1(n,e){return n.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((n,e,r,g)=>{if((android$1?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let y=n.state.selection.main;if(g.length>2||g.length==2&&codePointSize(codePointAt$1(g,0))==1||e!=y.from||r!=y.to)return!1;let k=insertBracket(n.state,g);return k?(n.dispatch(k),!0):!1}),deleteBracketPair=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let g=config$1(n,n.selection.main.head).brackets||defaults.brackets,y=null,k=n.changeByRange($=>{if($.empty){let V=prevChar(n.doc,$.head);for(let L of g)if(L==V&&nextChar(n.doc,$.head)==closing(codePointAt$1(L,0)))return{changes:{from:$.head-L.length,to:$.head+L.length},range:EditorSelection.cursor($.head-L.length)}}return{range:y=$}});return y||e(n.update(k,{scrollIntoView:!0,userEvent:"delete.backward"})),!y},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(n,e){let r=config$1(n,n.selection.main.head),g=r.brackets||defaults.brackets;for(let y of g){let k=closing(codePointAt$1(y,0));if(e==y)return k==y?handleSame(n,y,g.indexOf(y+y+y)>-1,r):handleOpen(n,y,k,r.before||defaults.before);if(e==k&&closedBracketAt(n,n.selection.main.from))return handleClose(n,y,k)}return null}function closedBracketAt(n,e){let r=!1;return n.field(bracketState).between(0,n.doc.length,g=>{g==e&&(r=!0)}),r}function nextChar(n,e){let r=n.sliceString(e,e+2);return r.slice(0,codePointSize(codePointAt$1(r,0)))}function prevChar(n,e){let r=n.sliceString(e-2,e);return codePointSize(codePointAt$1(r,0))==r.length?r:r.slice(1)}function handleOpen(n,e,r,g){let y=null,k=n.changeByRange($=>{if(!$.empty)return{changes:[{insert:e,from:$.from},{insert:r,from:$.to}],effects:closeBracketEffect.of($.to+e.length),range:EditorSelection.range($.anchor+e.length,$.head+e.length)};let V=nextChar(n.doc,$.head);return!V||/\s/.test(V)||g.indexOf(V)>-1?{changes:{insert:e+r,from:$.head},effects:closeBracketEffect.of($.head+e.length),range:EditorSelection.cursor($.head+e.length)}:{range:y=$}});return y?null:n.update(k,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(n,e,r){let g=null,y=n.changeByRange(k=>k.empty&&nextChar(n.doc,k.head)==r?{changes:{from:k.head,to:k.head+r.length,insert:r},range:EditorSelection.cursor(k.head+r.length)}:g={range:k});return g?null:n.update(y,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(n,e,r,g){let y=g.stringPrefixes||defaults.stringPrefixes,k=null,$=n.changeByRange(V=>{if(!V.empty)return{changes:[{insert:e,from:V.from},{insert:e,from:V.to}],effects:closeBracketEffect.of(V.to+e.length),range:EditorSelection.range(V.anchor+e.length,V.head+e.length)};let L=V.head,z=nextChar(n.doc,L),j;if(z==e){if(nodeStart(n,L))return{changes:{insert:e+e,from:L},effects:closeBracketEffect.of(L+e.length),range:EditorSelection.cursor(L+e.length)};if(closedBracketAt(n,L)){let oe=r&&n.sliceDoc(L,L+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:L,to:L+oe.length,insert:oe},range:EditorSelection.cursor(L+oe.length)}}}else{if(r&&n.sliceDoc(L-2*e.length,L)==e+e&&(j=canStartStringAt(n,L-2*e.length,y))>-1&&nodeStart(n,j))return{changes:{insert:e+e+e+e,from:L},effects:closeBracketEffect.of(L+e.length),range:EditorSelection.cursor(L+e.length)};if(n.charCategorizer(L)(z)!=CharCategory.Word&&canStartStringAt(n,L,y)>-1&&!probablyInString(n,L,e,y))return{changes:{insert:e+e,from:L},effects:closeBracketEffect.of(L+e.length),range:EditorSelection.cursor(L+e.length)}}return{range:k=V}});return k?null:n.update($,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(n,e){let r=syntaxTree(n).resolveInner(e+1);return r.parent&&r.from==e}function probablyInString(n,e,r,g){let y=syntaxTree(n).resolveInner(e,-1),k=g.reduce(($,V)=>Math.max($,V.length),0);for(let $=0;$<5;$++){let V=n.sliceDoc(y.from,Math.min(y.to,y.from+r.length+k)),L=V.indexOf(r);if(!L||L>-1&&g.indexOf(V.slice(0,L))>-1){let j=y.firstChild;for(;j&&j.from==y.from&&j.to-j.from>r.length+L;){if(n.sliceDoc(j.to-r.length,j.to)==r)return!1;j=j.firstChild}return!0}let z=y.to==e&&y.parent;if(!z)break;y=z}return!1}function canStartStringAt(n,e,r){let g=n.charCategorizer(e);if(g(n.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let y of r){let k=e-y.length;if(n.sliceDoc(k,e)==y&&g(n.sliceDoc(k-1,k))!=CharCategory.Word)return k}return-1}function autocompletion(n={}){return[commitCharacters,completionState,completionConfig.of(n),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],n=>n.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,r,g){this.from=e,this.to=r,this.diagnostic=g}}class LintState{constructor(e,r,g){this.diagnostics=e,this.panel=r,this.selected=g}static init(e,r,g){let y=e,k=g.facet(lintConfig).markerFilter;k&&(y=k(y,g));let $=e.slice().sort((re,oe)=>re.from-oe.from||re.to-oe.to),V=new RangeSetBuilder,L=[],z=0;for(let re=0;;){let oe=re==$.length?null:$[re];if(!oe&&!L.length)break;let ae,de;for(L.length?(ae=z,de=L.reduce((pe,he)=>Math.min(pe,he.to),oe&&oe.from>ae?oe.from:1e8)):(ae=oe.from,de=oe.to,L.push(oe),re++);re<$.length;){let pe=$[re];if(pe.from==ae&&(pe.to>pe.from||pe.to==ae))L.push(pe),re++,de=Math.min(pe.to,de);else{de=Math.min(pe.from,de);break}}let ue=maxSeverity(L);if(L.some(pe=>pe.from==pe.to||pe.from==pe.to-1&&g.doc.lineAt(pe.from).to==pe.from))V.add(ae,ae,Decoration.widget({widget:new DiagnosticWidget(ue),diagnostics:L.slice()}));else{let pe=L.reduce((he,Oe)=>Oe.markClass?he+" "+Oe.markClass:he,"");V.add(ae,de,Decoration.mark({class:"cm-lintRange cm-lintRange-"+ue+pe,diagnostics:L.slice(),inclusiveEnd:L.some(he=>he.to>de)}))}z=de;for(let pe=0;pe<L.length;pe++)L[pe].to<=z&&L.splice(pe--,1)}let j=V.finish();return new LintState(j,r,findDiagnostic(j))}}function findDiagnostic(n,e=null,r=0){let g=null;return n.between(r,1e9,(y,k,{spec:$})=>{if(!(e&&$.diagnostics.indexOf(e)<0))if(!g)g=new SelectedDiagnostic(y,k,e||$.diagnostics[0]);else{if($.diagnostics.indexOf(g.diagnostic)<0)return!1;g=new SelectedDiagnostic(g.from,k,g.diagnostic)}}),g}function hideTooltip(n,e){let r=e.pos,g=e.end||r,y=n.state.facet(lintConfig).hideOn(n,r,g);if(y!=null)return y;let k=n.startState.doc.lineAt(e.pos);return!!(n.effects.some($=>$.is(setDiagnosticsEffect))||n.changes.touchesRange(k.from,Math.max(k.to,g)))}function maybeEnableLint(n,e){return n.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let r=n.diagnostics.map(e.changes),g=null,y=n.panel;if(n.selected){let k=e.changes.mapPos(n.selected.from,1);g=findDiagnostic(r,n.selected.diagnostic,k)||findDiagnostic(r,null,k)}!r.size&&y&&e.state.facet(lintConfig).autoPanel&&(y=null),n=new LintState(r,y,g)}for(let r of e.effects)if(r.is(setDiagnosticsEffect)){let g=e.state.facet(lintConfig).autoPanel?r.value.length?LintPanel.open:null:n.panel;n=LintState.init(r.value,g,e.state)}else r.is(togglePanel)?n=new LintState(n.diagnostics,r.value?LintPanel.open:null,n.selected):r.is(movePanelSelection)&&(n=new LintState(n.diagnostics,n.panel,r.value));return n},provide:n=>[showPanel.from(n,e=>e.panel),EditorView.decorations.from(n,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(n,e,r){let{diagnostics:g}=n.state.field(lintState),y,k=-1,$=-1;g.between(e-(r<0?1:0),e+(r>0?1:0),(L,z,{spec:j})=>{if(e>=L&&e<=z&&(L==z||(e>L||r>0)&&(e<z||r<0)))return y=j.diagnostics,k=L,$=z,!1});let V=n.state.facet(lintConfig).tooltipFilter;return y&&V&&(y=V(y,n.state)),y?{pos:k,end:$,above:n.state.doc.lineAt(k).to<$,create(){return{dom:diagnosticsTooltip(n,y)}}}:null}function diagnosticsTooltip(n,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(r=>renderDiagnostic(n,r,!1)))}const openLintPanel=n=>{let e=n.state.field(lintState,!1);(!e||!e.panel)&&n.dispatch({effects:maybeEnableLint(n.state,[togglePanel.of(!0)])});let r=getPanel(n,LintPanel.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=n=>{let e=n.state.field(lintState,!1);return!e||!e.panel?!1:(n.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=n=>{let e=n.state.field(lintState,!1);if(!e)return!1;let r=n.state.selection.main,g=e.diagnostics.iter(r.to+1);return!g.value&&(g=e.diagnostics.iter(0),!g.value||g.from==r.from&&g.to==r.to)?!1:(n.dispatch({selection:{anchor:g.from,head:g.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},combineConfig(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?g=>e(g)||r(g):e:r}))}});function assignKeys(n){let e=[];if(n)e:for(let{name:r}of n){for(let g=0;g<r.length;g++){let y=r[g];if(/[a-zA-Z]/.test(y)&&!e.some(k=>k.toLowerCase()==y.toLowerCase())){e.push(y);continue e}}e.push("")}return e}function renderDiagnostic(n,e,r){var g;let y=r?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(g=e.actions)===null||g===void 0?void 0:g.map((k,$)=>{let V=!1,L=oe=>{if(oe.preventDefault(),V)return;V=!0;let ae=findDiagnostic(n.state.field(lintState).diagnostics,e);ae&&k.apply(n,ae.from,ae.to)},{name:z}=k,j=y[$]?z.indexOf(y[$]):-1,re=j<0?z:[z.slice(0,j),crelt("u",z.slice(j,j+1)),z.slice(j+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:L,onmousedown:L,"aria-label":` Action: ${z}${j<0?"":` (access key "${y[$]})"`}.`},re)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let r=y=>{if(y.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(y.keyCode==38||y.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(y.keyCode==40||y.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(y.keyCode==36)this.moveSelection(0);else if(y.keyCode==35)this.moveSelection(this.items.length-1);else if(y.keyCode==13)this.view.focus();else if(y.keyCode>=65&&y.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:k}=this.items[this.selectedIndex],$=assignKeys(k.actions);for(let V=0;V<$.length;V++)if($[V].toUpperCase().charCodeAt(0)==y.keyCode){let L=findDiagnostic(this.view.state.field(lintState).diagnostics,k);L&&k.actions[V].apply(e,L.from,L.to)}}else return;y.preventDefault()},g=y=>{for(let k=0;k<this.items.length;k++)this.items[k].dom.contains(y.target)&&this.moveSelection(k)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:g}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(lintState),g=0,y=!1,k=null,$=new Set;for(e.between(0,this.view.state.doc.length,(V,L,{spec:z})=>{for(let j of z.diagnostics){if($.has(j))continue;$.add(j);let re=-1,oe;for(let ae=g;ae<this.items.length;ae++)if(this.items[ae].diagnostic==j){re=ae;break}re<0?(oe=new PanelItem(this.view,j),this.items.splice(g,0,oe),y=!0):(oe=this.items[re],re>g&&(this.items.splice(g,re-g),y=!0)),r&&oe.diagnostic==r.diagnostic?oe.dom.hasAttribute("aria-selected")||(oe.dom.setAttribute("aria-selected","true"),k=oe):oe.dom.hasAttribute("aria-selected")&&oe.dom.removeAttribute("aria-selected"),g++}});g<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)y=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),y=!0),k?(this.list.setAttribute("aria-activedescendant",k.id),this.view.requestMeasure({key:this,read:()=>({sel:k.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:V,panel:L})=>{let z=L.height/this.list.offsetHeight;V.top<L.top?this.list.scrollTop-=(L.top-V.top)/z:V.bottom>L.bottom&&(this.list.scrollTop+=(V.bottom-L.bottom)/z)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),y&&this.sync()}sync(){let e=this.list.firstChild;function r(){let g=e;e=g.nextSibling,g.remove()}for(let g of this.items)if(g.dom.parentNode==this.list){for(;e!=g.dom;)r();e=g.dom.nextSibling}else this.list.insertBefore(g.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(lintState),g=findDiagnostic(r.diagnostics,this.items[e].diagnostic);g&&this.view.dispatch({selection:{anchor:g.from,head:g.to},scrollIntoView:!0,effects:movePanelSelection.of(g)})}static open(e){return new LintPanel(e)}}function svg(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function underline(n){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function maxSeverity(n){let e="hint",r=1;for(let g of n){let y=severityWeight(g.severity);y>r&&(r=y,e=g.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],n=>{let{selected:e,panel:r}=n.field(lintState);return!e||!r||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history$1(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];var define_process_env_default={};class Stack{constructor(e,r,g,y,k,$,V,L,z,j=0,re){this.p=e,this.stack=r,this.state=g,this.reducePos=y,this.pos=k,this.score=$,this.buffer=V,this.bufferBase=L,this.curContext=z,this.lookAhead=j,this.parent=re}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,g=0){let y=e.parser.context;return new Stack(e,[],r,g,g,0,[],0,y?new StackContext(y,y.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let g=e>>19,y=e&65535,{parser:k}=this.p,$=this.reducePos<this.pos-25;$&&this.setLookAhead(this.pos);let V=k.dynamicPrecedence(y);if(V&&(this.score+=V),g==0){this.pushState(k.getGoto(this.state,y,!0),this.reducePos),y<k.minRepeatTerm&&this.storeNode(y,this.reducePos,this.reducePos,$?8:4,!0),this.reduceContext(y,this.reducePos);return}let L=this.stack.length-(g-1)*3-(e&262144?6:0),z=L?this.stack[L-2]:this.p.ranges[0].from,j=this.reducePos-z;j>=2e3&&!(!((r=this.p.parser.nodeSet.types[y])===null||r===void 0)&&r.isAnonymous)&&(z==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=j):this.p.lastBigReductionSize<j&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=z,this.p.lastBigReductionSize=j));let re=L?this.stack[L-1]:0,oe=this.bufferBase+this.buffer.length-re;if(y<k.minRepeatTerm||e&131072){let ae=k.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(y,z,ae,oe+4,!0)}if(e&262144)this.state=this.stack[L];else{let ae=this.stack[L-3];this.state=k.getGoto(ae,y,!0)}for(;this.stack.length>L;)this.stack.pop();this.reduceContext(y,z)}storeNode(e,r,g,y=4,k=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let $=this,V=this.buffer.length;if(V==0&&$.parent&&(V=$.bufferBase-$.parent.bufferBase,$=$.parent),V>0&&$.buffer[V-4]==0&&$.buffer[V-1]>-1){if(r==g)return;if($.buffer[V-2]>=r){$.buffer[V-2]=g;return}}}if(!k||this.pos==g)this.buffer.push(e,r,g,y);else{let $=this.buffer.length;if($>0&&this.buffer[$-4]!=0){let V=!1;for(let L=$;L>0&&this.buffer[L-2]>g;L-=4)if(this.buffer[L-1]>=0){V=!0;break}if(V)for(;$>0&&this.buffer[$-2]>g;)this.buffer[$]=this.buffer[$-4],this.buffer[$+1]=this.buffer[$-3],this.buffer[$+2]=this.buffer[$-2],this.buffer[$+3]=this.buffer[$-1],$-=4,y>4&&(y-=4)}this.buffer[$]=e,this.buffer[$+1]=r,this.buffer[$+2]=g,this.buffer[$+3]=y}}shift(e,r,g,y){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=y,this.shiftContext(r,g),r<=this.p.parser.maxNode&&this.buffer.push(r,g,y,4);else{let k=e,{parser:$}=this.p;(y>this.pos||r<=$.maxNode)&&(this.pos=y,$.stateFlag(k,1)||(this.reducePos=y)),this.pushState(k,g),this.shiftContext(r,g),r<=$.maxNode&&this.buffer.push(r,g,y,4)}}apply(e,r,g,y){e&65536?this.reduce(e):this.shift(e,r,g,y)}useNode(e,r){let g=this.p.reused.length-1;(g<0||this.p.reused[g]!=e)&&(this.p.reused.push(e),g++);let y=this.pos;this.reducePos=this.pos=y+e.length,this.pushState(r,y),this.buffer.push(g,y,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let g=e.buffer.slice(r),y=e.bufferBase+r;for(;e&&y==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,g,y,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let g=e<=this.p.parser.maxNode;g&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,g?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new SimulatedStack(this);;){let g=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(g==0)return!1;if(!(g&65536))return!0;r.reduce(g)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let y=[];for(let k=0,$;k<r.length;k+=2)($=r[k+1])!=this.state&&this.p.parser.hasAction($,e)&&y.push(r[k],$);if(this.stack.length<120)for(let k=0;y.length<8&&k<r.length;k+=2){let $=r[k+1];y.some((V,L)=>L&1&&V==$)||y.push(r[k],$)}r=y}let g=[];for(let y=0;y<r.length&&g.length<4;y+=2){let k=r[y+1];if(k==this.state)continue;let $=this.split();$.pushState(k,this.pos),$.storeNode(0,$.pos,$.pos,4,!0),$.shiftContext(r[y],this.pos),$.reducePos=this.pos,$.score-=200,g.push($)}return g}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let g=r>>19,y=r&65535,k=this.stack.length-g*3;if(k<0||e.getGoto(this.stack[k],y,!1)<0){let $=this.findForcedReduction();if($==null)return!1;r=$}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],g=(y,k)=>{if(!r.includes(y))return r.push(y),e.allActions(y,$=>{if(!($&393216))if($&65536){let V=($>>19)-k;if(V>1){let L=$&65535,z=this.stack.length-V*3;if(z>=0&&e.getGoto(this.stack[z],L,!1)>=0)return V<<19|65536|L}}else{let V=g($,k+1);if(V!=null)return V}})};return g(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new StackContext(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,g=e>>19;g==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(g-1)*3;let y=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=y}}class StackBufferCursor{constructor(e,r,g){this.stack=e,this.pos=r,this.index=g,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(n,e=Uint16Array){if(typeof n!="string")return n;let r=null;for(let g=0,y=0;g<n.length;){let k=0;for(;;){let $=n.charCodeAt(g++),V=!1;if($==126){k=65535;break}$>=92&&$--,$>=34&&$--;let L=$-32;if(L>=46&&(L-=46,V=!0),k+=L,V)break;k*=46}r?r[y++]=k:r=new e(k)}return r}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let g=this.range,y=this.rangeIndex,k=this.pos+e;for(;k<g.from;){if(!y)return null;let $=this.ranges[--y];k-=g.from-$.to,g=$}for(;r<0?k>g.to:k>=g.to;){if(y==this.ranges.length-1)return null;let $=this.ranges[++y];k+=$.from-g.to,g=$}return k}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,g,y;if(r>=0&&r<this.chunk.length)g=this.pos+e,y=this.chunk.charCodeAt(r);else{let k=this.resolveOffset(e,1);if(k==null)return-1;if(g=k,g>=this.chunk2Pos&&g<this.chunk2Pos+this.chunk2.length)y=this.chunk2.charCodeAt(g-this.chunk2Pos);else{let $=this.rangeIndex,V=this.range;for(;V.to<=g;)V=this.ranges[++$];this.chunk2=this.input.chunk(this.chunk2Pos=g),g+this.chunk2.length>V.to&&(this.chunk2=this.chunk2.slice(0,V.to-g)),y=this.chunk2.charCodeAt(0)}}return g>=this.token.lookAhead&&(this.token.lookAhead=g+1),y}acceptToken(e,r=0){let g=r?this.resolveOffset(r,-1):this.pos;if(g==null||g<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=g}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let g="";for(let y of this.ranges){if(y.from>=r)break;y.to>e&&(g+=this.input.read(Math.max(y.from,e),Math.min(y.to,r)))}return g}}class TokenGroup{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:g}=r.p;readToken(this.data,e,r,this.id,g.data,g.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,r,g){this.precTable=r,this.elseToken=g,this.data=typeof e=="string"?decodeArray(e):e}token(e,r){let g=e.pos,y=0;for(;;){let k=e.next<0,$=e.resolveOffset(1,1);if(readToken(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(k||y++,$==null)break;e.reset($,e.token)}y&&(e.reset(g,e.token),e.acceptToken(this.elseToken,y))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function readToken(n,e,r,g,y,k){let $=0,V=1<<g,{dialect:L}=r.p.parser;e:for(;V&n[$];){let z=n[$+1];for(let ae=$+3;ae<z;ae+=2)if((n[ae+1]&V)>0){let de=n[ae];if(L.allows(de)&&(e.token.value==-1||e.token.value==de||overrides(de,e.token.value,y,k))){e.acceptToken(de);break}}let j=e.next,re=0,oe=n[$+2];if(e.next<0&&oe>re&&n[z+oe*3-3]==65535){$=n[z+oe*3-1];continue e}for(;re<oe;){let ae=re+oe>>1,de=z+ae+(ae<<1),ue=n[de],pe=n[de+1]||65536;if(j<ue)oe=ae;else if(j>=pe)re=ae+1;else{$=n[de+2],e.advance();continue e}}break}}function findOffset(n,e,r){for(let g=e,y;(y=n[g])!=65535;g++)if(y==r)return g-e;return-1}function overrides(n,e,r,g){let y=findOffset(r,g,e);return y<0||findOffset(r,g,n)<y}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(n,e,r){let g=n.cursor(IterMode.IncludeAnonymous);for(g.moveTo(e);;)if(!(r<0?g.childBefore(e):g.childAfter(e)))for(;;){if((r<0?g.to<e:g.from>e)&&!g.type.isError)return r<0?Math.max(0,Math.min(g.to-1,e-25)):Math.min(n.length,Math.max(g.from+1,e+25));if(r<0?g.prevSibling():g.nextSibling())break;if(!g.parent())return r<0?0:n.length}}class FragmentCursor{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let g=this.trees[r],y=this.index[r];if(y==g.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let k=g.children[y],$=this.start[r]+g.positions[y];if($>e)return this.nextStart=$,null;if(k instanceof Tree){if($==e){if($<this.safeFrom)return null;let V=$+k.length;if(V<=this.safeTo){let L=k.prop(NodeProp.lookAhead);if(!L||V+L<this.fragment.to)return k}}this.index[r]++,$+k.length>=Math.max(this.safeFrom,e)&&(this.trees.push(k),this.start.push($),this.index.push(0))}else this.index[r]++,this.nextStart=$+k.length}}}class TokenCache{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(g=>new CachedToken)}getActions(e){let r=0,g=null,{parser:y}=e.p,{tokenizers:k}=y,$=y.stateSlot(e.state,3),V=e.curContext?e.curContext.hash:0,L=0;for(let z=0;z<k.length;z++){if(!(1<<z&$))continue;let j=k[z],re=this.tokens[z];if(!(g&&!j.fallback)&&((j.contextual||re.start!=e.pos||re.mask!=$||re.context!=V)&&(this.updateCachedToken(re,j,e),re.mask=$,re.context=V),re.lookAhead>re.end+25&&(L=Math.max(re.lookAhead,L)),re.value!=0)){let oe=r;if(re.extended>-1&&(r=this.addActions(e,re.extended,re.end,r)),r=this.addActions(e,re.value,re.end,r),!j.extend&&(g=re,r>oe))break}}for(;this.actions.length>r;)this.actions.pop();return L&&e.setLookAhead(L),!g&&e.pos==this.stream.end&&(g=new CachedToken,g.value=e.p.parser.eofTerm,g.start=g.end=e.pos,r=this.addActions(e,g.value,g.end,r)),this.mainToken=g,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new CachedToken,{pos:g,p:y}=e;return r.start=g,r.end=Math.min(g+1,y.stream.end),r.value=g==y.stream.end?y.parser.eofTerm:0,r}updateCachedToken(e,r,g){let y=this.stream.clipPos(g.pos);if(r.token(this.stream.reset(y,e),g),e.value>-1){let{parser:k}=g.p;for(let $=0;$<k.specialized.length;$++)if(k.specialized[$]==e.value){let V=k.specializers[$](this.stream.read(e.start,e.end),g);if(V>=0&&g.p.parser.dialect.allows(V>>1)){V&1?e.extended=V>>1:e.value=V>>1;break}}}else e.value=0,e.end=this.stream.clipPos(y+1)}putAction(e,r,g,y){for(let k=0;k<y;k+=3)if(this.actions[k]==e)return y;return this.actions[y++]=e,this.actions[y++]=r,this.actions[y++]=g,y}addActions(e,r,g,y){let{state:k}=e,{parser:$}=e.p,{data:V}=$;for(let L=0;L<2;L++)for(let z=$.stateSlot(k,L?2:1);;z+=3){if(V[z]==65535)if(V[z+1]==1)z=pair(V,z+2);else{y==0&&V[z+1]==2&&(y=this.putAction(pair(V,z+2),r,g,y));break}V[z]==r&&(y=this.putAction(pair(V,z+1),r,g,y))}return y}}class Parse{constructor(e,r,g,y){this.parser=e,this.input=r,this.ranges=y,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(r,y),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:k}=y[0];this.stacks=[Stack.start(this,e.top[0],k)],this.fragments=g.length&&this.stream.end-k>e.bufferLength*4?new FragmentCursor(g,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,g=this.stacks=[],y,k;if(this.bigReductionCount>300&&e.length==1){let[$]=e;for(;$.forceReduce()&&$.stack.length&&$.stack[$.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let $=0;$<e.length;$++){let V=e[$];for(;;){if(this.tokens.mainToken=null,V.pos>r)g.push(V);else{if(this.advanceStack(V,g,e))continue;{y||(y=[],k=[]),y.push(V);let L=this.tokens.getMainToken(V);k.push(L.value,L.end)}}break}}if(!g.length){let $=y&&findFinished(y);if($)return verbose&&console.log("Finish with "+this.stackID($)),this.stackToTree($);if(this.parser.strict)throw verbose&&y&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&y){let $=this.stoppedAt!=null&&y[0].pos>this.stoppedAt?y[0]:this.runRecovery(y,k,g);if($)return verbose&&console.log("Force-finish "+this.stackID($)),this.stackToTree($.forceAll())}if(this.recovering){let $=this.recovering==1?1:this.recovering*3;if(g.length>$)for(g.sort((V,L)=>L.score-V.score);g.length>$;)g.pop();g.some(V=>V.reducePos>r)&&this.recovering--}else if(g.length>1){e:for(let $=0;$<g.length-1;$++){let V=g[$];for(let L=$+1;L<g.length;L++){let z=g[L];if(V.sameState(z)||V.buffer.length>500&&z.buffer.length>500)if((V.score-z.score||V.buffer.length-z.buffer.length)>0)g.splice(L--,1);else{g.splice($--,1);continue e}}}g.length>12&&g.splice(12,g.length-12)}this.minStackPos=g[0].pos;for(let $=1;$<g.length;$++)g[$].pos<this.minStackPos&&(this.minStackPos=g[$].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,g){let y=e.pos,{parser:k}=this,$=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&y>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let z=e.curContext&&e.curContext.tracker.strict,j=z?e.curContext.hash:0;for(let re=this.fragments.nodeAt(y);re;){let oe=this.parser.nodeSet.types[re.type.id]==re.type?k.getGoto(e.state,re.type.id):-1;if(oe>-1&&re.length&&(!z||(re.prop(NodeProp.contextHash)||0)==j))return e.useNode(re,oe),verbose&&console.log($+this.stackID(e)+` (via reuse of ${k.getName(re.type.id)})`),!0;if(!(re instanceof Tree)||re.children.length==0||re.positions[0]>0)break;let ae=re.children[0];if(ae instanceof Tree&&re.positions[0]==0)re=ae;else break}}let V=k.stateSlot(e.state,4);if(V>0)return e.reduce(V),verbose&&console.log($+this.stackID(e)+` (via always-reduce ${k.getName(V&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let L=this.tokens.getActions(e);for(let z=0;z<L.length;){let j=L[z++],re=L[z++],oe=L[z++],ae=z==L.length||!g,de=ae?e:e.split(),ue=this.tokens.mainToken;if(de.apply(j,re,ue?ue.start:de.pos,oe),verbose&&console.log($+this.stackID(de)+` (via ${j&65536?`reduce of ${k.getName(j&65535)}`:"shift"} for ${k.getName(re)} @ ${y}${de==e?"":", split"})`),ae)return!0;de.pos>y?r.push(de):g.push(de)}return!1}advanceFully(e,r){let g=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>g)return pushStackDedup(e,r),!0}}runRecovery(e,r,g){let y=null,k=!1;for(let $=0;$<e.length;$++){let V=e[$],L=r[$<<1],z=r[($<<1)+1],j=verbose?this.stackID(V)+" -> ":"";if(V.deadEnd&&(k||(k=!0,V.restart(),verbose&&console.log(j+this.stackID(V)+" (restarted)"),this.advanceFully(V,g))))continue;let re=V.split(),oe=j;for(let ae=0;re.forceReduce()&&ae<10&&(verbose&&console.log(oe+this.stackID(re)+" (via force-reduce)"),!this.advanceFully(re,g));ae++)verbose&&(oe=this.stackID(re)+" -> ");for(let ae of V.recoverByInsert(L))verbose&&console.log(j+this.stackID(ae)+" (via recover-insert)"),this.advanceFully(ae,g);this.stream.end>V.pos?(z==V.pos&&(z++,L=0),V.recoverByDelete(L,z),verbose&&console.log(j+this.stackID(V)+` (via recover-delete ${this.parser.getName(L)})`),pushStackDedup(V,g)):(!y||y.score<V.score)&&(y=V)}return y}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(stackIDs||(stackIDs=new WeakMap)).get(e);return r||stackIDs.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function pushStackDedup(n,e){for(let r=0;r<e.length;r++){let g=e[r];if(g.pos==n.pos&&g.sameState(n)){e[r].score<n.score&&(e[r]=n);return}}e.push(n)}class Dialect{constructor(e,r,g){this.source=e,this.flags=r,this.disabled=g}allows(e){return!this.disabled||this.disabled[e]==0}}const id=n=>n;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let V=0;V<e.repeatNodeCount;V++)r.push("");let g=Object.keys(e.topRules).map(V=>e.topRules[V][1]),y=[];for(let V=0;V<r.length;V++)y.push([]);function k(V,L,z){y[V].push([L,L.deserialize(String(z))])}if(e.nodeProps)for(let V of e.nodeProps){let L=V[0];typeof L=="string"&&(L=NodeProp[L]);for(let z=1;z<V.length;){let j=V[z++];if(j>=0)k(j,L,V[z++]);else{let re=V[z+-j];for(let oe=-j;oe>0;oe--)k(V[z++],L,re);z++}}}this.nodeSet=new NodeSet(r.map((V,L)=>NodeType.define({name:L>=this.minRepeatTerm?void 0:V,id:L,props:y[L],top:g.indexOf(L)>-1,error:L==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(L)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let $=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let V=0;V<this.specializerSpecs.length;V++)this.specialized[V]=this.specializerSpecs[V].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(V=>typeof V=="number"?new TokenGroup($,V):V),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,g){let y=new Parse(this,e,r,g);for(let k of this.wrappers)y=k(y,e,r,g);return y}getGoto(e,r,g=!1){let y=this.goto;if(r>=y[0])return-1;for(let k=y[r+1];;){let $=y[k++],V=$&1,L=y[k++];if(V&&g)return L;for(let z=k+($>>1);k<z;k++)if(y[k]==e)return L;if(V)return-1}}hasAction(e,r){let g=this.data;for(let y=0;y<2;y++)for(let k=this.stateSlot(e,y?2:1),$;;k+=3){if(($=g[k])==65535)if(g[k+1]==1)$=g[k=pair(g,k+2)];else{if(g[k+1]==2)return pair(g,k+2);break}if($==r||$==0)return pair(g,k+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,g=>g==r?!0:null)}allActions(e,r){let g=this.stateSlot(e,4),y=g?r(g):void 0;for(let k=this.stateSlot(e,1);y==null;k+=3){if(this.data[k]==65535)if(this.data[k+1]==1)k=pair(this.data,k+2);else break;y=r(pair(this.data,k+1))}return y}nextStates(e){let r=[];for(let g=this.stateSlot(e,1);;g+=3){if(this.data[g]==65535)if(this.data[g+1]==1)g=pair(this.data,g+2);else break;if(!(this.data[g+2]&1)){let y=this.data[g+1];r.some((k,$)=>$&1&&k==y)||r.push(this.data[g],y)}}return r}configure(e){let r=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let g=this.topRules[e.top];if(!g)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=g}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(g=>{let y=e.tokenizers.find(k=>k.from==g);return y?y.to:g})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((g,y)=>{let k=e.specializers.find(V=>V.from==g.external);if(!k)return g;let $=Object.assign(Object.assign({},g),{external:k.to});return r.specializers[y]=getSpecializer($),$})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),g=r.map(()=>!1);if(e)for(let k of e.split(" ")){let $=r.indexOf(k);$>=0&&(g[$]=!0)}let y=null;for(let k=0;k<r.length;k++)if(!g[k])for(let $=this.dialects[r[k]],V;(V=this.data[$++])!=65535;)(y||(y=new Uint8Array(this.maxTerm+1)))[V]=1;return new Dialect(e,g,y)}static deserialize(e){return new LRParser(e)}}function pair(n,e){return n[e]|n[e+1]<<16}function findFinished(n){let e=null;for(let r of n){let g=r.p.stoppedAt;(r.pos==r.p.stream.end||g!=null&&r.pos>g)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function getSpecializer(n){if(n.external){let e=n.extend?1:0;return(r,g)=>n.external(r,g)<<1|e}return n.get}const noSemi=314,noSemiType=315,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=316,spaces=318,newline=319,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(n,e){return e==LineComment||e==BlockComment||e==spaces?n:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n;(r==braceR||r==-1||e.context)&&n.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n,g;space.indexOf(r)>-1||r==slash&&((g=n.peek(1))==slash||g==star)||r!=braceR&&r!=semicolon&&r!=-1&&!e.context&&n.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((n,e)=>{n.next==bracketL&&!e.context&&n.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((n,e)=>{let{next:r}=n;if(r==plus||r==minus){if(n.advance(),r==n.next){n.advance();let g=!e.context&&e.canShift(incdec);n.acceptToken(g?incdec:incdecPrefix)}}else r==question&&n.peek(1)==dot&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(questionDot))},{contextual:!0});function identifierChar(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const jsx=new ExternalTokenizer((n,e)=>{if(n.next!=lt||!e.dialectEnabled(Dialect_jsx)||(n.advance(),n.next==slash))return;let r=0;for(;space.indexOf(n.next)>-1;)n.advance(),r++;if(identifierChar(n.next,!0)){for(n.advance(),r++;identifierChar(n.next,!1);)n.advance(),r++;for(;space.indexOf(n.next)>-1;)n.advance(),r++;if(n.next==comma)return;for(let g=0;;g++){if(g==7){if(!identifierChar(n.next,!0))return;break}if(n.next!="extends".charCodeAt(g))break;n.advance(),r++}}n.acceptToken(JSXStartTag,-r)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},spec_word={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},spec_LessThan={__proto__:null,"<":189},parser=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new LocalTokenGroup("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>spec_identifier[n]||-1},{term:341,get:n=>spec_word[n]||-1},{term:93,get:n=>spec_LessThan[n]||-1}],tokenPrec:15116}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(n){return(e,r)=>{let g=e.node.getChild("VariableDefinition");return g&&r(g,n),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(n,e){n.matchContext(functionContext)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function getScope(n,e){let r=cache.get(e);if(r)return r;let g=[],y=!0;function k($,V){let L=n.sliceString($.from,$.to);g.push({label:L,type:V})}return e.cursor(IterMode.IncludeAnonymous).iterate($=>{if(y)y=!1;else if($.name){let V=gatherCompletions[$.name];if(V&&V($,k)||ScopeNodes.has($.name))return!1}else if($.to-$.from>8192){for(let V of getScope(n,$.node))g.push(V);return!1}}),cache.set(e,g),g}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function localCompletionSource(n){let e=syntaxTree(n.state).resolveInner(n.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let g=[];for(let y=e;y;y=y.parent)ScopeNodes.has(y.name)&&(g=g.concat(getScope(n.state.doc,y)));return{options:g,from:r?e.from:n.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:n=>{let e=n.textAfter,r=/^\s*\}/.test(e),g=/^\s*(case|default)\b/.test(e);return n.baseIndent+(r?0:g?1:2)*n.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:n=>/^JSX/.test(n.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=n=>({label:n,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(n={}){let e=n.jsx?n.typescript?tsxLanguage:jsxLanguage:n.typescript?typescriptLanguage:javascriptLanguage,r=n.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(r))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),n.jsx?autoCloseTags:[]])}function findOpenTag(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function elementName(n,e,r=n.length){for(let g=e?.firstChild;g;g=g.nextSibling)if(g.name=="JSXIdentifier"||g.name=="JSXBuiltin"||g.name=="JSXNamespacedName"||g.name=="JSXMemberExpression")return n.sliceString(g.from,Math.min(g.to,r));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((n,e,r,g,y)=>{if((android?n.composing:n.compositionStarted)||n.state.readOnly||e!=r||g!=">"&&g!="/"||!javascriptLanguage.isActiveAt(n.state,e,-1))return!1;let k=y(),{state:$}=k,V=$.changeByRange(L=>{var z;let{head:j}=L,re=syntaxTree($).resolveInner(j-1,-1),oe;if(re.name=="JSXStartTag"&&(re=re.parent),!($.doc.sliceString(j-1,j)!=g||re.name=="JSXAttributeValue"&&re.to>j)){if(g==">"&&re.name=="JSXFragmentTag")return{range:L,changes:{from:j,insert:"</>"}};if(g=="/"&&re.name=="JSXStartCloseTag"){let ae=re.parent,de=ae.parent;if(de&&ae.from==j-2&&((oe=elementName($.doc,de.firstChild,j))||((z=de.firstChild)===null||z===void 0?void 0:z.name)=="JSXFragmentTag")){let ue=`${oe}>`;return{range:EditorSelection.cursor(j+ue.length,-1),changes:{from:j,insert:ue}}}}else if(g==">"){let ae=findOpenTag(re);if(ae&&ae.name=="JSXOpenTag"&&!/^\/?>|^<\//.test($.doc.sliceString(j,j+2))&&(oe=elementName($.doc,ae,j)))return{range:L,changes:{from:j,insert:`</${oe}>`}}}}return{range:L}});return V.changes.empty?!1:(n.dispatch([k,$.update(V,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];async function writeText(n,e){await invoke("plugin:clipboard-manager|write_text",{label:e?.label,text:n})}async function readText(){return await invoke("plugin:clipboard-manager|read_text")}const _withScopeId$1=n=>(pushScopeId("data-v-86a8702d"),n=n(),popScopeId(),n),_hoisted_1$1={class:"glyph-programming-editor"},_hoisted_2$1={class:"left-panel"},_hoisted_3$1={class:"constant-item"},_hoisted_4$1={class:"parameter-name"},_hoisted_5$1={key:0},_hoisted_6$1={key:2},_hoisted_7$1={class:"right-panel"},_hoisted_8$1={class:"codes-header"},_hoisted_9$1={class:"codes-title"},_hoisted_10$1=_withScopeId$1(()=>createBaseVNode("div",{id:"codes-container"},null,-1)),_sfc_main$2=defineComponent({__name:"CharacterProgrammingEditor",setup(n){const{t:e,tm:r}=useI18n(),g=ref([]),y=ref(""),k=ref({}),$=ref("global-constants");let V,L=null;onMounted(async()=>{if(window.__TAURI_INTERNALS__){const xe=await getCurrentWindow().onCloseRequested(async $e=>{await emit("on-webview-close"),V&&(document.getElementById("codes-container").innerHTML="",V=null),L&&L(),xe&&xe()});L=await listen("init-data",$e=>{const{__constants:Ne,__script:Ce,__isWeb:Fe}=$e.payload;window.__constants=Ne,window.__script=Ce,window.__is_web=Fe,g.value=Ne,y.value=Ce,g.value?.map(kt=>{k.value[kt.uuid]=!1}),V=new EditorView({doc:y.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(kt=>{y.value=kt.state.doc.toString()})],parent:document.getElementById("codes-container")});const ze=navigator.userAgent.includes("Mac");V.dom.addEventListener("keydown",async kt=>{if((ze?kt.metaKey:kt.ctrlKey)&&kt.key==="c"){const{from:At,to:Cn}=V.state.selection.main,Dt=V.state.doc.slice(At,Cn).toString();Dt&&await writeText(Dt),kt.preventDefault()}if((ze?kt.metaKey:kt.ctrlKey)&&kt.key==="v"){const At=await readText();if(At){const{from:Cn}=V.state.selection.main,Dt=V.state.update({changes:{from:Cn,insert:At}});V.dispatch(Dt)}kt.preventDefault()}})}),await emit("on-webview-mounted")}else{const xe=$e=>{window.opener.postMessage("close-window",location.origin),window.removeEventListener("beforeunload",xe)};window.addEventListener("beforeunload",xe),g.value=window.opener.__constants,y.value=window.opener.__script,window.opener.__is_web,g.value.map($e=>{k.value[$e.uuid]=!1}),V=new EditorView({doc:y.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of($e=>{y.value=$e.state.doc.toString()})],parent:document.getElementById("codes-container")})}}),onUnmounted(()=>{const xe=V.getWrapperElement();xe.parentNode.removeChild(xe),V=null});const z=(xe,$e)=>{k.value[xe]=$e},j=()=>{const xe=genUUID();g.value.push({uuid:xe,name:xe.slice(0,5),value:0,type:ParameterType.Number,min:0,max:1e3})},re=xe=>{g.value.map(($e,Ne)=>{$e.uuid===xe&&g.value.splice(Ne,1)})};watch([g,y],()=>{ae()},{deep:!0});const oe=[{value:ParameterType.Constant,key:"constant"},{value:ParameterType.Number,key:"number"},{value:ParameterType.RingController,key:"ring"}],ae=async()=>{window.__TAURI_INTERNALS__?await emit("sync-info",{__constants:g.value,__script:y.value}):(localStorage.setItem("constants",JSON.stringify(g.value)),localStorage.setItem("script",y.value),window.opener.postMessage("sync-info",location.origin))},de=async()=>{window.__TAURI_INTERNALS__?await emit("execute-script"):window.opener.postMessage("execute-script",location.origin)},ue=xe=>{xe.params.push({name:"",min:0,max:1e3,value:500})},pe=xe=>{let $e=!1;g.value.map((Ne,Ce)=>{if(Ne.uuid===xe&&Ce!==g.value.length-1&&!$e){const Fe=g.value.splice(Ce,1);g.value.splice(Ce+1,0,Fe[0]),$e=!0}})},he=xe=>{let $e=!1;g.value.map((Ne,Ce)=>{if(Ne.uuid===xe&&Ce!==0&&!$e){const Fe=g.value.splice(Ce,1);g.value.splice(Ce-1,0,Fe[0]),$e=!0}})},Oe=xe=>{xe.type===ParameterType.Number?xe.value=0:xe.type===ParameterType.Constant?xe.value="":xe.type===ParameterType.RingController&&(xe.value={radius:{name:"",min:0,max:1e3,value:500},degree:{name:"",min:0,max:360,value:60},params:[]})};return(xe,$e)=>{const Ne=resolveComponent("el-button"),Ce=resolveComponent("el-input"),Fe=resolveComponent("el-icon"),ze=resolveComponent("el-option"),kt=resolveComponent("el-select"),At=resolveComponent("el-input-number"),Cn=resolveComponent("el-form-item"),Dt=resolveComponent("el-tab-pane"),On=resolveComponent("el-collapse-item"),jt=resolveComponent("el-collapse"),An=resolveComponent("el-tabs"),Mn=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createVNode(An,{modelValue:$.value,"onUpdate:modelValue":$e[0]||($e[0]=$n=>$.value=$n),class:"tabs"},{default:withCtx(()=>[createVNode(Dt,{label:unref(r)("programming.global-constants"),name:"global-constants"},{default:withCtx(()=>[createVNode(Mn,null,{default:withCtx(()=>[createVNode(Ne,{class:"add-constant-button",onClick:j},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-constant")),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,$n=>(openBlock(),createElementBlock("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[withDirectives(createBaseVNode("span",{class:"parameter-name-label"},toDisplayString$1($n.name),513),[[vShow,!k.value[$n.uuid]]]),withDirectives(createVNode(Ce,{class:"parameter-name-input",modelValue:$n.name,"onUpdate:modelValue":Ln=>$n.name=Ln,onKeyup:withKeys(Ln=>z($n.uuid,!1),["enter","native"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[vShow,k.value[$n.uuid]]]),withDirectives(createVNode(Fe,{class:"edit-icon",onClick:Ln=>z($n.uuid,!0)},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:2},1032,["onClick"]),[[vShow,!k.value[$n.uuid]]])]),createVNode(kt,{modelValue:$n.type,"onUpdate:modelValue":Ln=>$n.type=Ln,class:"parameter-type-select",placeholder:unref(r)("programming.type"),onChange:Ln=>Oe($n)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(oe,Ln=>createVNode(ze,{key:Ln.key,label:unref(r)(`programming.${Ln.key}`),value:Ln.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),$n.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_5$1,[createVNode(At,{class:"parameter-value",modelValue:$n.value,"onUpdate:modelValue":Ln=>$n.value=Ln},null,8,["modelValue","onUpdate:modelValue"]),createVNode(Cn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.min,"onUpdate:modelValue":Ln=>$n.min=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.max,"onUpdate:modelValue":Ln=>$n.max=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):$n.type===unref(ParameterType).Constant?(openBlock(),createBlock(kt,{key:1,modelValue:$n.value,"onUpdate:modelValue":Ln=>$n.value=Ln,class:"parameter-const-select",placeholder:unref(r)("programming.value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Ln=>(openBlock(),createBlock(ze,{key:Ln.uuid,label:Ln.name,value:Ln.uuid},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):$n.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_6$1,[createVNode(An,{type:"border-card"},{default:withCtx(()=>[createVNode(Dt,{label:"radius"},{default:withCtx(()=>[createVNode(Cn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ce,{class:"parameter-value",modelValue:$n.value.radius.name,"onUpdate:modelValue":Ln=>$n.value.radius.name=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.value.radius.value,"onUpdate:modelValue":Ln=>$n.value.radius.value=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.value.radius.min,"onUpdate:modelValue":Ln=>$n.value.radius.min=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.value.radius.max,"onUpdate:modelValue":Ln=>$n.value.radius.max=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(Dt,{label:"degree"},{default:withCtx(()=>[createVNode(Cn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ce,{class:"parameter-value",modelValue:$n.value.degree.name,"onUpdate:modelValue":Ln=>$n.value.degree.name=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.value.degree.value,"onUpdate:modelValue":Ln=>$n.value.degree.value=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.value.degree.min,"onUpdate:modelValue":Ln=>$n.value.degree.min=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:$n.value.degree.max,"onUpdate:modelValue":Ln=>$n.value.degree.max=Ln},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode(Dt,{label:"params"},{default:withCtx(()=>[createVNode(Ne,{class:"add-parameter-button",onClick:Ln=>ue($n.value)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:2},1032,["onClick"]),createVNode(jt,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList($n.value.params,Ln=>(openBlock(),createBlock(On,{title:Ln.name,name:"1"},{default:withCtx(()=>[createVNode(Cn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Ce,{class:"parameter-value",modelValue:Ln.name,"onUpdate:modelValue":Tn=>Ln.name=Tn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:Ln.value,"onUpdate:modelValue":Tn=>Ln.value=Tn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:Ln.min,"onUpdate:modelValue":Tn=>Ln.min=Tn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Cn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(At,{class:"parameter-value",modelValue:Ln.max,"onUpdate:modelValue":Tn=>Ln.max=Tn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0),createVNode(Fe,{class:"sort-down-btn",onClick:Ln=>pe($n.uuid)},{default:withCtx(()=>[createVNode(unref(sort_down_default))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"sort-up-btn",onClick:Ln=>he($n.uuid)},{default:withCtx(()=>[createVNode(unref(sort_up_default))]),_:2},1032,["onClick"]),createVNode(Fe,{class:"remove-btn",onClick:Ln=>re($n.uuid)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["onClick"])]))),256))]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,toDisplayString$1(unref(e)("programming.script")),1),createVNode(Ne,{class:"reset-btn"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.reset")),1)]),_:1}),createVNode(Ne,{class:"execute-btn",type:"primary",onClick:$e[1]||($e[1]=$n=>de())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.execute")),1)]),_:1})]),_hoisted_10$1])])}}}),CharacterProgrammingEditor=_export_sfc(_sfc_main$2,[["__scopeId","data-v-86a8702d"]]),_withScopeId=n=>(pushScopeId("data-v-541f2eef"),n=n(),popScopeId(),n),_hoisted_1={class:"glyph-programming-editor"},_hoisted_2={class:"left-panel"},_hoisted_3={class:"constant-item"},_hoisted_4={class:"parameter-name"},_hoisted_5={key:0},_hoisted_6={key:2},_hoisted_7={class:"parameter-item"},_hoisted_8={class:"parameter-name"},_hoisted_9={key:0},_hoisted_10={key:2},_hoisted_11={class:"right-panel"},_hoisted_12={class:"codes-header"},_hoisted_13={class:"codes-title"},_hoisted_14=_withScopeId(()=>createBaseVNode("div",{id:"codes-container"},null,-1)),_sfc_main$1=defineComponent({__name:"GlyphProgrammingEditor",setup(n){const{t:e,tm:r}=useI18n(),g=ref([]),y=ref([]),k=ref(""),$=ref({}),V=ref("global-constants");let L=null;const z=[{value:ParameterType.Constant,key:"constant"},{value:ParameterType.Number,key:"number"},{value:ParameterType.RingController,key:"ring"}];let j=null;onMounted(async()=>{if(window.__TAURI_INTERNALS__){const ze=await getCurrentWindow().onCloseRequested(async kt=>{await emit("on-webview-close"),L&&(document.getElementById("codes-container").innerHTML="",L=null),j&&j(),ze&&ze()});j=await listen("init-data",kt=>{const{__constants:At,__parameters:Cn,__script:Dt,__isWeb:On}=kt.payload;window.__constants=At,window.__parameters=Cn,window.__script=Dt,window.__is_web=On,g.value=At,y.value=Cn,k.value=Dt,g.value?.map(An=>{$.value[An.uuid]=!1}),y.value?.map(An=>{$.value[An.uuid]=!1}),L=new EditorView({doc:k.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(An=>{k.value=An.state.doc.toString()})],parent:document.getElementById("codes-container")});const jt=navigator.userAgent.includes("Mac");L.dom.addEventListener("keydown",async An=>{if((jt?An.metaKey:An.ctrlKey)&&An.key==="c"){const{from:Mn,to:$n}=L.state.selection.main,Ln=L.state.doc.slice(Mn,$n).toString();Ln&&await writeText(Ln),An.preventDefault()}if((jt?An.metaKey:An.ctrlKey)&&An.key==="v"){const Mn=await readText();if(Mn){const{from:$n}=L.state.selection.main,Ln=L.state.update({changes:{from:$n,insert:Mn}});L.dispatch(Ln)}An.preventDefault()}})}),await emit("on-webview-mounted")}else{const ze=kt=>{window.opener.postMessage("close-window",location.origin),window.removeEventListener("beforeunload",ze)};window.addEventListener("beforeunload",ze),g.value=window.opener.__constants,y.value=window.opener.__parameters,k.value=window.opener.__script,window.opener.__is_web,g.value.map(kt=>{$.value[kt.uuid]=!1}),y.value.map(kt=>{$.value[kt.uuid]=!1}),L=new EditorView({doc:k.value,extensions:[basicSetup,javascript(),oneDark,EditorView.updateListener.of(kt=>{k.value=kt.state.doc.toString()})],parent:document.getElementById("codes-container")})}}),onUnmounted(()=>{const ze=L.getWrapperElement();ze.parentNode.removeChild(ze),L=null});const re=(ze,kt)=>{$.value[ze]=kt},oe=()=>{const ze=genUUID();g.value.push({uuid:ze,name:ze.slice(0,5),value:0,type:ParameterType.Number,min:0,max:1e3})},ae=()=>{const ze=genUUID();y.value.push({uuid:ze,name:ze.slice(0,5).replaceAll("-","_"),type:ParameterType.Number,value:0,min:0,max:1e3})},de=ze=>{g.value.map((kt,At)=>{kt.uuid===ze&&g.value.splice(At,1)})},ue=ze=>{y.value.map((kt,At)=>{kt.uuid===ze&&y.value.splice(At,1)})},pe=ze=>{let kt=!1;y.value.map((At,Cn)=>{if(At.uuid===ze&&Cn!==y.value.length-1&&!kt){const Dt=y.value.splice(Cn,1);y.value.splice(Cn+1,0,Dt[0]),kt=!0}})},he=ze=>{let kt=!1;y.value.map((At,Cn)=>{if(At.uuid===ze&&Cn!==0&&!kt){const Dt=y.value.splice(Cn,1);y.value.splice(Cn-1,0,Dt[0]),kt=!0}})},Oe=ze=>{let kt=!1;g.value.map((At,Cn)=>{if(At.uuid===ze&&Cn!==g.value.length-1&&!kt){const Dt=g.value.splice(Cn,1);g.value.splice(Cn+1,0,Dt[0]),kt=!0}})},xe=ze=>{let kt=!1;g.value.map((At,Cn)=>{if(At.uuid===ze&&Cn!==0&&!kt){const Dt=g.value.splice(Cn,1);g.value.splice(Cn-1,0,Dt[0]),kt=!0}})};watch([g,y,k],()=>{$e()},{deep:!0});const $e=async()=>{window.__TAURI_INTERNALS__?await emit("sync-info",{__constants:g.value,__parameters:y.value,__script:k.value}):(localStorage.setItem("constants",JSON.stringify(g.value)),localStorage.setItem("parameters",JSON.stringify(y.value)),localStorage.setItem("script",k.value),window.opener.postMessage("sync-info",location.origin))},Ne=async()=>{window.__TAURI_INTERNALS__?await emit("execute-script"):window.opener.postMessage("execute-script",location.origin)},Ce=ze=>{ze.params.push({name:"",min:0,max:1e3,value:500})},Fe=ze=>{ze.type===ParameterType.Number?ze.value=0:ze.type===ParameterType.Constant?ze.value="":ze.type===ParameterType.RingController&&(ze.value={radius:{name:"",min:0,max:1e3,value:500},degree:{name:"",min:0,max:360,value:60},params:[]})};return(ze,kt)=>{const At=resolveComponent("el-button"),Cn=resolveComponent("el-input"),Dt=resolveComponent("el-icon"),On=resolveComponent("el-option"),jt=resolveComponent("el-select"),An=resolveComponent("el-input-number"),Mn=resolveComponent("el-form-item"),$n=resolveComponent("el-tab-pane"),Ln=resolveComponent("el-collapse-item"),Tn=resolveComponent("el-collapse"),Zn=resolveComponent("el-tabs"),Qn=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(Zn,{modelValue:V.value,"onUpdate:modelValue":kt[0]||(kt[0]=Pn=>V.value=Pn),class:"tabs"},{default:withCtx(()=>[createVNode($n,{label:unref(r)("programming.global-constants"),name:"global-constants"},{default:withCtx(()=>[createVNode(Qn,null,{default:withCtx(()=>[createVNode(At,{class:"add-constant-button",onClick:oe},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-constant")),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Pn=>(openBlock(),createElementBlock("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[withDirectives(createBaseVNode("span",{class:"parameter-name-label"},toDisplayString$1(Pn.name),513),[[vShow,!$.value[Pn.uuid]]]),withDirectives(createVNode(Cn,{class:"parameter-name-input",modelValue:Pn.name,"onUpdate:modelValue":Wn=>Pn.name=Wn,onKeyup:withKeys(Wn=>re(Pn.uuid,!1),["enter","native"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[vShow,$.value[Pn.uuid]]]),withDirectives(createVNode(Dt,{class:"edit-icon",onClick:Wn=>re(Pn.uuid,!0)},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:2},1032,["onClick"]),[[vShow,!$.value[Pn.uuid]]])]),createVNode(jt,{modelValue:Pn.type,"onUpdate:modelValue":Wn=>Pn.type=Wn,class:"parameter-type-select",placeholder:unref(r)("programming.type"),onChange:Wn=>Fe(Pn)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(z,Wn=>createVNode(On,{key:Wn.key,label:unref(r)(`programming.${Wn.key}`),value:Wn.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),Pn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_5,[createVNode(An,{class:"parameter-value",modelValue:Pn.value,"onUpdate:modelValue":Wn=>Pn.value=Wn},null,8,["modelValue","onUpdate:modelValue"]),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.min,"onUpdate:modelValue":Wn=>Pn.min=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.max,"onUpdate:modelValue":Wn=>Pn.max=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):Pn.type===unref(ParameterType).Constant?(openBlock(),createBlock(jt,{key:1,modelValue:Pn.value,"onUpdate:modelValue":Wn=>Pn.value=Wn,class:"parameter-const-select",placeholder:unref(r)("programming.value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Wn=>(openBlock(),createBlock(On,{key:Wn.uuid,label:Wn.name,value:Wn.uuid},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):Pn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_6,[createVNode(Zn,{type:"border-card"},{default:withCtx(()=>[createVNode($n,{label:"radius"},{default:withCtx(()=>[createVNode(Mn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:Pn.value.radius.name,"onUpdate:modelValue":Wn=>Pn.value.radius.name=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.radius.value,"onUpdate:modelValue":Wn=>Pn.value.radius.value=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.radius.min,"onUpdate:modelValue":Wn=>Pn.value.radius.min=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.radius.max,"onUpdate:modelValue":Wn=>Pn.value.radius.max=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode($n,{label:"degree"},{default:withCtx(()=>[createVNode(Mn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:Pn.value.degree.name,"onUpdate:modelValue":Wn=>Pn.value.degree.name=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.degree.value,"onUpdate:modelValue":Wn=>Pn.value.degree.value=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.degree.min,"onUpdate:modelValue":Wn=>Pn.value.degree.min=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.degree.max,"onUpdate:modelValue":Wn=>Pn.value.degree.max=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode($n,{label:"params"},{default:withCtx(()=>[createVNode(At,{class:"add-parameter-button",onClick:Wn=>Ce(Pn.value)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:2},1032,["onClick"]),createVNode(Tn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.value.params,Wn=>(openBlock(),createBlock(Ln,{title:Wn.name,name:"1"},{default:withCtx(()=>[createVNode(Mn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:Wn.name,"onUpdate:modelValue":ur=>Wn.name=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Wn.value,"onUpdate:modelValue":ur=>Wn.value=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Wn.min,"onUpdate:modelValue":ur=>Wn.min=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Wn.max,"onUpdate:modelValue":ur=>Wn.max=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0),createVNode(Dt,{class:"sort-down-btn",onClick:Wn=>Oe(Pn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_down_default))]),_:2},1032,["onClick"]),createVNode(Dt,{class:"sort-up-btn",onClick:Wn=>xe(Pn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_up_default))]),_:2},1032,["onClick"]),createVNode(Dt,{class:"remove-btn",onClick:Wn=>de(Pn.uuid)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["onClick"])]))),256))]),_:1})]),_:1},8,["label"]),createVNode($n,{label:unref(r)("programming.glyph-parameters"),name:"glyph-parameters"},{default:withCtx(()=>[createVNode(Qn,null,{default:withCtx(()=>[createVNode(At,{class:"add-parameter-button",onClick:ae},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,Pn=>(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[withDirectives(createBaseVNode("span",{class:"parameter-name-label"},toDisplayString$1(Pn.name),513),[[vShow,!$.value[Pn.uuid]]]),withDirectives(createVNode(Cn,{class:"parameter-name-input",modelValue:Pn.name,"onUpdate:modelValue":Wn=>Pn.name=Wn,onKeyup:withKeys(Wn=>re(Pn.uuid,!1),["enter","native"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[vShow,$.value[Pn.uuid]]]),withDirectives(createVNode(Dt,{class:"edit-icon",onClick:Wn=>re(Pn.uuid,!0)},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:2},1032,["onClick"]),[[vShow,!$.value[Pn.uuid]]])]),createVNode(jt,{modelValue:Pn.type,"onUpdate:modelValue":Wn=>Pn.type=Wn,class:"parameter-type-select",placeholder:unref(r)("programming.type"),onChange:Wn=>Fe(Pn)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(z,Wn=>createVNode(On,{key:Wn.key,label:unref(r)(`programming.${Wn.key}`),value:Wn.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),Pn.type===unref(ParameterType).Number?(openBlock(),createElementBlock("div",_hoisted_9,[createVNode(An,{class:"parameter-value",modelValue:Pn.value,"onUpdate:modelValue":Wn=>Pn.value=Wn},null,8,["modelValue","onUpdate:modelValue"]),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.min,"onUpdate:modelValue":Wn=>Pn.min=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.max,"onUpdate:modelValue":Wn=>Pn.max=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):Pn.type===unref(ParameterType).Constant?(openBlock(),createBlock(jt,{key:1,modelValue:Pn.value,"onUpdate:modelValue":Wn=>Pn.value=Wn,class:"parameter-const-select",placeholder:unref(r)("programming.value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,Wn=>(openBlock(),createBlock(On,{key:Wn.uuid,label:Wn.name,value:Wn.uuid},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):Pn.type===unref(ParameterType).RingController?(openBlock(),createElementBlock("div",_hoisted_10,[createVNode(Zn,{type:"border-card"},{default:withCtx(()=>[createVNode($n,{label:"radius"},{default:withCtx(()=>[createVNode(Mn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:Pn.value.radius.name,"onUpdate:modelValue":Wn=>Pn.value.radius.name=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.radius.value,"onUpdate:modelValue":Wn=>Pn.value.radius.value=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.radius.min,"onUpdate:modelValue":Wn=>Pn.value.radius.min=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.radius.max,"onUpdate:modelValue":Wn=>Pn.value.radius.max=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode($n,{label:"degree"},{default:withCtx(()=>[createVNode(Mn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:Pn.value.degree.name,"onUpdate:modelValue":Wn=>Pn.value.degree.name=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.degree.value,"onUpdate:modelValue":Wn=>Pn.value.degree.value=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.degree.min,"onUpdate:modelValue":Wn=>Pn.value.degree.min=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Pn.value.degree.max,"onUpdate:modelValue":Wn=>Pn.value.degree.max=Wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),createVNode($n,{label:"params"},{default:withCtx(()=>[createVNode(At,{class:"add-parameter-button",onClick:Wn=>Ce(Pn.value)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.new-parameter")),1)]),_:2},1032,["onClick"]),createVNode(Tn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.value.params,Wn=>(openBlock(),createBlock(Ln,{title:Wn.name,name:"1"},{default:withCtx(()=>[createVNode(Mn,{label:"name","label-width":"42px"},{default:withCtx(()=>[createVNode(Cn,{class:"parameter-value",modelValue:Wn.name,"onUpdate:modelValue":ur=>Wn.name=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"value","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Wn.value,"onUpdate:modelValue":ur=>Wn.value=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"min","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Wn.min,"onUpdate:modelValue":ur=>Wn.min=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(Mn,{label:"max","label-width":"42px"},{default:withCtx(()=>[createVNode(An,{class:"parameter-value",modelValue:Wn.max,"onUpdate:modelValue":ur=>Wn.max=ur},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0),createVNode(Dt,{class:"sort-down-btn",onClick:Wn=>pe(Pn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_down_default))]),_:2},1032,["onClick"]),createVNode(Dt,{class:"sort-up-btn",onClick:Wn=>he(Pn.uuid)},{default:withCtx(()=>[createVNode(unref(sort_up_default))]),_:2},1032,["onClick"]),createVNode(Dt,{class:"remove-btn",onClick:Wn=>ue(Pn.uuid)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["onClick"])]))),256))]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,toDisplayString$1(unref(e)("programming.script")),1),createVNode(At,{class:"reset-btn"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.reset")),1)]),_:1}),createVNode(At,{class:"execute-btn",type:"primary",onClick:kt[1]||(kt[1]=Pn=>Ne())},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("programming.execute")),1)]),_:1})]),_hoisted_14])])}}}),GlyphProgrammingEditor=_export_sfc(_sfc_main$1,[["__scopeId","data-v-541f2eef"]]),router=createRouter({history:createWebHashHistory(),routes:[{path:"/",name:"welcome",component:Welcome},{path:"/editor",name:"editor",component:Editor},{path:"/character-programming-editor",name:"character-programming-editor",component:CharacterProgrammingEditor},{path:"/glyph-programming-editor",name:"glyph-programming-editor",component:GlyphProgrammingEditor}]});router.beforeEach((n,e,r)=>{r()});const initWorker=()=>{let n=null;return window.Worker&&(n=new Worker(new URL("/fontplayer_demo/assets/worker-lNrlrl_A.js",import.meta.url))),n};var WorkerEventType=(n=>(n[n.ParseFont=0]="ParseFont",n))(WorkerEventType||{});const plainGlyph=n=>{const e={uuid:n.uuid,type:n.type,name:n.name,components:n.components.map(r=>{const g=Object.assign({},r);return r.type==="glyph"&&(g.value=plainGlyph(r.value)),g}),groups:clone$1(n.groups),orderedList:clone$1(n.orderedList),selectedComponentsUUIDs:clone$1(n.selectedComponentsUUIDs),view:clone$1(n.view),parameters:n.parameters.parameters,joints:n.joints.map(r=>({name:r.name,uuid:r.uuid,x:r.x,y:r.y})),reflines:n.reflines?clone$1(n.reflines):[],script:n.script};return n.layout&&(e.layout=clone$1(n.layout)),n.glyph_script&&(e.glyph_script=clone$1(n.glyph_script)),n.system_script&&(e.system_script=clone$1(n.system_script)),n._o&&(e.objData=n._o.getData()),e},mapToObject=n=>{let e={};return n.forEach((r,g)=>{e[g]=r}),e},plainFile=n=>({uuid:n.uuid,characterList:n.characterList.map(e=>plainCharacter(e)),name:n.name,width:n.width,height:n.height,saved:n.saved,iconsCount:n.iconsCount,fontSettings:clone$1(n.fontSettings)}),plainCharacter=n=>{const e={uuid:n.uuid,type:n.type,character:clone$1(n.character),components:n.components.map(r=>{const g=Object.assign({},r);return r.type==="glyph"&&(g.value=plainGlyph(r.value)),g}),groups:clone$1(n.groups),orderedList:clone$1(n.orderedList),selectedComponentsUUIDs:clone$1(n.selectedComponentsUUIDs),script:n.script||`function script_${n.uuid.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`,view:clone$1(n.view)};return n.glyph_script&&(e.glyph_script=clone$1(n.glyph_script)),n.info&&(e.info=clone$1(n.info)),e},instanceGlyph=n=>{n.parameters=new ParametersMap(n.parameters),n.joints=n.joints.map(r=>new Joint(r.name,{x:r.x,y:r.y})),n.components=n.components.length?n.components.map(r=>(r.type==="glyph"&&(r.value=instanceGlyph(r.value),r.value.parent=n),r)):[];const e=new CustomGlyph(n);return n.objData&&e.setData(n.objData),n},instanceCharacter=n=>(n.script||(n.script=`function script_${n.uuid.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`),n.components=n.components.length?n.components.map(e=>(e.type==="glyph"&&(e.value=instanceGlyph(e.value),e.value.parent=n,e.value._o.getJoints().map(r=>{r.component=e})),e)):[],new CustomGlyph(n),n),saveFile_tauri=async()=>{setSaveDialogVisible(!0)},saveAs_tauri=async()=>{setSaveDialogVisible(!0)},base64ToArrayBuffer=n=>{const e=n.replace(/^data:.+;base64,/,""),r=atob(e),g=new ArrayBuffer(r.length),y=new Uint8Array(g);for(let k=0;k<r.length;k++)y[k]=r.charCodeAt(k);return g},nativeSaveText=async(n,e,r)=>{const g=await save({defaultPath:e,filters:[{name:"Filter",extensions:r}]});g&&await writeTextFile(g,n)},nativeSaveBinary=async(n,e,r)=>{const g=await save({defaultPath:e,filters:[{name:"Filter",extensions:r}]});g&&await writeFile(g,n)},exportGlyphs_tauri=async()=>{loaded$1.value=0;let n=null,e="",r=[];editStatus.value===Status.GlyphList?(n=glyphs.value,e="glyphs.json"):editStatus.value===Status.StrokeGlyphList?(n=stroke_glyphs.value,e="stroke_glyphs.json"):editStatus.value===Status.RadicalGlyphList?(n=radical_glyphs.value,e="radical_glyphs.json"):editStatus.value===Status.CompGlyphList?(n=comp_glyphs.value,e="comp_glyphs.json"):(n=glyphs.value,e="glyphs.json"),total$1.value=n.length,loading.value=!0,setTimeout(async()=>{requestAnimationFrame(()=>g(0));const g=async y=>{if(r.push(plainGlyph(n[y])),loaded$1.value+=1,loaded$1.value>=total$1.value){loading.value=!1;const k=JSON.stringify({glyphs:r,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1});await nativeSaveText(k,e,["json"])}else requestAnimationFrame(()=>g(y+1))}},50)},exportJPEG_tauri=async()=>{const e=canvas.value.toDataURL("image/jpeg"),r=base64ToArrayBuffer(e);let g="untitled.jpg";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}.jpg`:g=`${editGlyph.value.name}.jpg`,nativeSaveBinary(r,g,["jpg","jpeg"])},exportPNG_tauri=async()=>{const n=canvas.value;render$1(n,!1);const e=n.toDataURL("image/png"),r=base64ToArrayBuffer(e);let g="untitled.png";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}.png`:g=`${editGlyph.value.name}.png`,nativeSaveBinary(r,g,["png"]),render$1(n,!0)},exportSVG_tauri=async()=>{if(editStatus.value!==Status.Edit&&editStatus.value!==Status.Glyph)return;const n=editStatus.value===Status.Edit?orderedListWithItemsForCurrentCharacterFile.value:editGlyph.value._o.components,e=componentsToSvg(n,selectedFile.value.width,selectedFile.value.height);let r="untitled.svg";editStatus.value===Status.Edit?r=`${editCharacterFile.value.character.text}.svg`:r=`${editGlyph.value.name}.svg`,nativeSaveText(e,r,["svg"])},exportFont_tauri=async n=>{const e=createFont(n),r=toArrayBuffer(e),g=`${selectedFile.value.name}.otf`;nativeSaveBinary(r,g,["otf"])},showExportFontDialog_tauri=()=>{setExportFontTauriDialogVisible(!0)},showExportFontDialog=()=>{ENV.value==="tauri"?showExportFontDialog_tauri():setExportFontDialogVisible(!0)},createFile=()=>{files.value&&files.value.length?(tips.value="",tipsDialogVisible.value=!0):setCreateFileDialogVisible(!0)},openFile_tauri=async()=>{if(files.value&&files.value.length)tips.value="",tipsDialogVisible.value=!0;else{const{data:n}=await nativeImportTextFile(["json"]);if(!n)return;const e=JSON.parse(n);__openFile(e)}},addLoaded=()=>{loading.value&&(loaded$1.value+=1,loaded$1.value>=total$1.value&&(loading.value=!1))},__openFile=n=>{total$1.value=n.file.characterList.length*2+(n.glyphs.length+n.stroke_glyphs.length+n.radical_glyphs.length+n.comp_glyphs.length)*3,loaded$1.value=0,loading.value=!0,n.glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.GlyphList),addGlyphTemplate(k,Status.GlyphList),addLoaded()}),n.stroke_glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.StrokeGlyphList),addGlyphTemplate(k,Status.StrokeGlyphList),addLoaded()}),n.radical_glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.RadicalGlyphList),addGlyphTemplate(k,Status.RadicalGlyphList),addLoaded()}),n.comp_glyphs.map(k=>instanceGlyph(k)).map(k=>{addGlyph(k,Status.CompGlyphList),addGlyphTemplate(k,Status.CompGlyphList),addLoaded()});const e=n.file;if(n.constants)for(let g=0;g<n.constants.length;g++)constantsMap.getByUUID(n.constants[g].uuid)||constants.value.push(n.constants[g]);if(n.constantGlyphMap){const g=Object.keys(n.constantGlyphMap);for(let y=0;y<g.length;y++)constantGlyphMap.set(g[y],n.constantGlyphMap[g[y]])}e.characterList=e.characterList.map(g=>(addLoaded(),instanceCharacter(g)));let r=!0;for(let g=0;g<files.value.length;g++)files.value[g].uuid===e.uuid&&(r=!1,ElNotification({title:"",message:h$1("i",`${e.name}`),type:"error"}));r&&(emitter.emit("renderGlyphPreviewCanvas"),emitter.emit("renderStrokeGlyphPreviewCanvas"),emitter.emit("renderRadicalGlyphPreviewCanvas"),emitter.emit("renderCompGlyphPreviewCanvas"),addFile(e),setSelectedFileUUID(e.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"?router.push("/editor"):(clearCharacterRenderList(),characterList.value.map(g=>{addCharacterTemplate(generateCharacterTemplate(g))}),emitter.emit("renderPreviewCanvas")))},openFile=async()=>{if(ENV.value==="tauri"){openFile_tauri();return}files.value&&files.value.length?(tips.value="",tipsDialogVisible.value=!0):(router.currentRoute.value.name==="welcome"&&router.push("/editor"),await _openFile())},_openFile=async()=>{const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept",".json"),n.addEventListener("change",async e=>{const g=e.currentTarget.files;for(let y=0;y<g.length;y++){const k=new FileReader;k.readAsText(g[y]),k.onload=()=>{const $=JSON.parse(k.result);__openFile($)}}document.body.removeChild(n)}),document.body.appendChild(n),n.click()},saveFile_web=()=>{setSaveFileTipDialogVisible(!0)},saveFile=async()=>{loading.value=!0,loaded$1.value=0,total$1.value=selectedFile.value.characterList.length+glyphs.value.length+stroke_glyphs.value.length+radical_glyphs.value.length+comp_glyphs.value.length;const n=JSON.stringify(constants.value);await localForage.setItem("constants",n);const e=JSON.stringify(mapToObject(constantGlyphMap));await localForage.setItem("constantGlyphMap",e);const r=plainFile(selectedFile.value),g=JSON.stringify(r);await localForage.setItem("file",g);const y=glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),k=JSON.stringify(y);await localForage.setItem("glyphs",k);const $=stroke_glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),V=JSON.stringify($);await localForage.setItem("stroke_glyphs",V);const L=radical_glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),z=JSON.stringify(L);await localForage.setItem("radical_glyphs",z);const j=comp_glyphs.value.map(oe=>(loaded$1.value+=1,plainGlyph(oe))),re=JSON.stringify(j);await localForage.setItem("comp_glyphs",re),await localForage.setItem("version",1),loading.value=!1,ElNotification({title:"",message:h$1("i",{style:"color: teal"},`${r.name}`)})},clearCache=async()=>{localForage.clear(),ElNotification({title:"",message:h$1("i",{style:"color: teal"},"")})},nativeImportFile=async n=>{const e=await open$2({filters:[{name:"Filter",extensions:n}]});let r=null,g="untitled";return e&&(r=await readFile(e),g=e.split("/").pop().split(".")[0]),{uint8Array:r,name:g}},nativeImportTextFile=async n=>{const e=await open$2({filters:[{name:"Filter",extensions:n}]});let r=null,g="untitled";return e&&(r=await readTextFile(e),g=e.split("/").pop().split(".")[0]),{data:r,name:g}},importFont_tauri=async()=>{if(files.value&&files.value.length)tips.value="",tipsDialogVisible.value=!0;else{const n=await nativeImportFile(["otf","ttf"]);await _importFont_tauri(n)}},_importFont_tauri=n=>{const{uint8Array:e,name:r}=n;if(!e)return;const g=e.buffer,y=parse$3(g),k={uuid:genUUID(),width:y.settings.unitsPerEm,height:y.settings.unitsPerEm,name:r,saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:y.settings.unitsPerEm,ascender:y.settings.ascender,descender:y.settings.descender}};addFile(k),setSelectedFileUUID(k.uuid),setEditStatus(Status.CharacterList),loaded$1.value=0,total$1.value=0,loading.value=!0,worker.onmessage=$=>{const V=$.data;selectedFile.value.characterList=V,clearCharacterRenderList(),characterList.value.map(L=>{addCharacterTemplate(generateCharacterTemplate(L))}),loading.value=!1,emitter.emit("renderPreviewCanvas",!0)},worker.postMessage([WorkerEventType.ParseFont,y,selectedFile.value.width])},importFont=()=>{const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept",".otf, .ttf"),n.addEventListener("blur",async()=>{loading.value=!1}),n.addEventListener("change",async e=>{await nextTick();const y=e.currentTarget.files[0],k=y.name,$=k.substring(0,k.lastIndexOf(".")),V=y.arrayBuffer(),L=parse$3(await V),z={uuid:genUUID(),width:L.settings.unitsPerEm,height:L.settings.unitsPerEm,name:$,saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:L.settings.unitsPerEm,ascender:L.settings.ascender,descender:L.settings.descender}};addFile(z),setSelectedFileUUID(z.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"&&router.push("/editor"),loaded$1.value=0,total$1.value=0,loading.value=!0,worker.onmessage=j=>{const re=j.data;selectedFile.value.characterList=re,clearCharacterRenderList(),characterList.value.map(oe=>{addCharacterTemplate(generateCharacterTemplate(oe))}),loading.value=!1,emitter.emit("renderPreviewCanvas",!0)},worker.postMessage([WorkerEventType.ParseFont,L,selectedFile.value.width]),document.body.removeChild(n)}),document.body.appendChild(n),n.click()},importTemplates=()=>{setImportTemplatesDialogVisible(!0)},importGlyphs_tauri=async()=>{let n=!1;const{data:e}=await nativeImportTextFile(["json"]);if(!e)return;const r=JSON.parse(e),g=r.glyphs;if(r.constants)for(let k=0;k<r.constants.length;k++)constantsMap.getByUUID(r.constants[k].uuid)||constants.value.push(r.constants[k]);if(r.constantGlyphMap){const k=Object.keys(r.constantGlyphMap);for(let $=0;$<k.length;$++)constantGlyphMap.set(k[$],r.constantGlyphMap[k[$]])}g.map(k=>instanceGlyph(k)).map(k=>{getGlyphByUUID(k.uuid)?n=!0:(addGlyph(k,editStatus.value),addGlyphTemplate(k,editStatus.value))}),editStatus.value===Status.GlyphList?emitter.emit("renderGlyphPreviewCanvas"):editStatus.value===Status.StrokeGlyphList?emitter.emit("renderStrokeGlyphPreviewCanvas"):editStatus.value===Status.RadicalGlyphList?emitter.emit("renderRadicalGlyphPreviewCanvas"):editStatus.value===Status.CompGlyphList&&emitter.emit("renderCompGlyphPreviewCanvas"),n&&ElMessageBox.alert("uuid","",{confirmButtonText:""})},importGlyphs=()=>{let n=!1;const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("style","display: none"),e.setAttribute("accept",".json"),e.addEventListener("change",async r=>{const y=r.currentTarget.files;for(let k=0;k<y.length;k++){const $=new FileReader;$.readAsText(y[k]),$.onload=()=>{const V=JSON.parse($.result),L=V.glyphs;if(V.constants)for(let j=0;j<V.constants.length;j++)constantsMap.getByUUID(V.constants[j].uuid)||constants.value.push(V.constants[j]);if(V.constantGlyphMap){const j=Object.keys(V.constantGlyphMap);for(let re=0;re<j.length;re++)constantGlyphMap.set(j[re],V.constantGlyphMap[j[re]])}L.map(j=>instanceGlyph(j)).map(j=>{getGlyphByUUID(j.uuid)?n=!0:(addGlyph(j,editStatus.value),addGlyphTemplate(j,editStatus.value))}),editStatus.value===Status.GlyphList?emitter.emit("renderGlyphPreviewCanvas"):editStatus.value===Status.StrokeGlyphList?emitter.emit("renderStrokeGlyphPreviewCanvas"):editStatus.value===Status.RadicalGlyphList?emitter.emit("renderRadicalGlyphPreviewCanvas"):editStatus.value===Status.CompGlyphList&&emitter.emit("renderCompGlyphPreviewCanvas"),n&&ElMessageBox.alert("uuid","",{confirmButtonText:""})}}document.body.removeChild(e)}),document.body.appendChild(e),e.click()},importSVG_tauri=async()=>{const{data:n}=await nativeImportTextFile(["svg"]);if(!n)return;const e=parseStrToSvg(n).childNodes[0];parseSvgToComponents(e).forEach(g=>{addComponentForCurrentCharacterFile(g)})},importSVG=()=>{if(ENV.value==="tauri"){importSVG_tauri();return}const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept",".svg"),n.addEventListener("change",async e=>{const g=e.currentTarget.files;for(let y=0;y<g.length;y++){const k=new FileReader;k.readAsText(g[y]),k.onload=()=>{const $=parseStrToSvg(k.result).childNodes[0];parseSvgToComponents($).forEach(L=>{addComponentForCurrentCharacterFile(L)})}}document.body.removeChild(n)}),document.body.appendChild(n),n.click()},exportJSON=()=>{ENV.value==="tauri"?saveAs_tauri():setExportDialogVisible(!0)},exportGlyphs=()=>{if(editStatus.value===Status.CharacterList){ElMessageBox.alert("","",{confirmButtonText:""});return}if(ENV.value==="tauri")exportGlyphs_tauri();else{loaded$1.value=0;let n=null,e="",r=[];editStatus.value===Status.GlyphList?(n=glyphs.value,e="glyphs.json"):editStatus.value===Status.StrokeGlyphList?(n=stroke_glyphs.value,e="stroke_glyphs.json"):editStatus.value===Status.RadicalGlyphList?(n=radical_glyphs.value,e="radical_glyphs.json"):editStatus.value===Status.CompGlyphList?(n=comp_glyphs.value,e="comp_glyphs.json"):(n=glyphs.value,e="glyphs.json"),total$1.value=n.length,loading.value=!0,setTimeout(()=>{requestAnimationFrame(()=>g(0));const g=y=>{if(r.push(plainGlyph(n[y])),loaded$1.value+=1,loaded$1.value>=total$1.value){loading.value=!1;const k=JSON.stringify({glyphs:r,constants:constants.value,constantGlyphMap:mapToObject(constantGlyphMap),version:1}),$=new Blob([k],{type:"text/plain;charset=utf-8"});FileSaver_minExports.saveAs($,e)}else requestAnimationFrame(()=>g(y+1))}},50)}},exportJPEG=()=>{if(ENV.value==="tauri")exportJPEG_tauri();else{const e=canvas.value.toDataURL("image/jpeg"),r=document.createElement("a");let g="untitled";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}`:g=`${editGlyph.value.name}`,r.download=g,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},exportPNG=()=>{if(ENV.value==="tauri")exportPNG_tauri();else{const n=canvas.value;render$1(n,!1);const e=n.toDataURL("image/png"),r=document.createElement("a");let g="untitled";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}`:g=`${editGlyph.value.name}`,r.download=g,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),render$1(n,!0)}},exportSVG=()=>{if(ENV.value==="tauri")exportSVG_tauri();else{if(editStatus.value!==Status.Edit&&editStatus.value!==Status.Glyph)return;editStatus.value===Status.Glyph&&!editGlyph.value._o&&executeScript(editGlyph.value);const n=editStatus.value===Status.Edit?orderedListWithItemsForCurrentCharacterFile.value:editGlyph.value._o.components,e=componentsToSvg(n,selectedFile.value.width,selectedFile.value.height,fontRenderStyle.value),r=new Blob([e],{type:"image/svg+xml"});let g="untitled.svg";editStatus.value===Status.Edit?g=`${editCharacterFile.value.character.text}.svg`:g=`${editGlyph.value.name}.svg`,FileSaver_minExports.saveAs(r,g)}},createFont=n=>{const e=selectedFile.value.width,r=selectedFile.value.height,g=[{unicode:0,name:".notdef",contours:[[]],contourNum:0,advanceWidth:Math.max(e,r)}];let y=!1;const{unitsPerEm:k,ascender:$,descender:V}=selectedFile.value.fontSettings;for(let z=0;z<selectedFile.value.characterList.length;z++){loaded$1.value++,loaded$1.value>=total$1.value&&(loading.value=!1,loaded$1.value=0,total$1.value=0);const j=selectedFile.value.characterList[z];let re=[[]];n&&n.remove_overlap&&j.overlap_removed_contours?re=j.overlap_removed_contours:re=componentsToContours(orderedListWithItemsForCharacterFile(j),{unitsPerEm:k,descender:V,advanceWidth:k},{x:0,y:0},!1,!1,!1);const{text:oe,unicode:ae}=j.character;g.push({name:oe,unicode:parseInt(ae,16),advanceWidth:k,contours:re,contourNum:re.length}),oe===" "&&(y=!0)}return y||g.push({name:" ",unicode:parseInt("0x20",16),advanceWidth:k,contours:[[]],contourNum:0}),g.sort((z,j)=>z.unicode-j.unicode),create(g,{familyName:selectedFile.value.name,styleName:"Regular",unitsPerEm:k,ascender:$,descender:V})},exportFont=n=>{const e=createFont(n),r=new DataView(toArrayBuffer(e)),g=new Blob([r],{type:"font/opentype"});var y=new JSZip;y.file(`${selectedFile.value.name}.otf`,g),y.generateAsync({type:"blob"}).then(function(k){FileSaver_minExports.saveAs(k,`${selectedFile.value.name}.zip`)})},addCharacter=()=>{setAddTextDialogVisible(!0)},addIcon=()=>{setAddIconDialogVisible(!0)},undo=()=>{undo$2()},redo=()=>{redo$2()},copy=()=>{selectedComponent.value&&setClipBoard(clone$1(selectedComponents.value))},paste=()=>{clipBoard.value.map(e=>{e.uuid=genUUID(),addComponentForCurrentCharacterFile(e)}),setClipBoard([])},cut=()=>{selectedComponent.value&&(setClipBoard(clone$1(selectedComponents.value)),selectedComponents.value.map(n=>{removeComponentForCurrentCharacterFile(n.uuid)}),setSelectionForCurrentCharacterFile(""))},del=()=>{selectedComponents.value.map(n=>{removeComponentForCurrentCharacterFile(n.uuid)}),setSelectionForCurrentCharacterFile("")},fontSettings=()=>{setFontSettingsDialogVisible(!0)},preferenceSettings=()=>{setPreferenceSettingsDialogVisible(!0)},languageSettings=()=>{setLanguageSettingsDialogVisible(!0)},importPic=()=>{if(ENV.value==="tauri"){importPic_tauri();return}getFromPic()},importPic_tauri=async()=>{const n=await nativeImportFile(["jpg","png","jpeg"]),{name:e,uint8Array:r}=n;if(!r)return;saveState("",[StoreType.Status,editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{undoTip:"",redoTip:""});let g="";r.forEach(L=>{g+=String.fromCharCode(L)});const y=btoa(g),$=`data:${e.split(".")[1]==="png"?"image/png":"image/jpeg"};base64,${y}`;total$1.value=0,loaded$1.value=0,loading.value=!0;const V=document.createElement("img");V.onload=()=>{setTimeout(()=>{prevEditStatus.value=editStatus.value,thumbnail($,V,1e3),setEditStatus(Status.Pic),loading.value=!1},100)},V.src=$},getFromFontPic=()=>{const e=editCharacterFile.value.fontPic.toDataURL(),r=document.createElement("img");r.onload=()=>{prevEditStatus.value=editStatus.value,thumbnail(e,r,r.width),setEditStatus(Status.Pic)},r.src=e},getFromPic=()=>{if(editCharacterFile.value.fontPic){getFromFontPic();return}const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),n.setAttribute("accept","image/*"),n.addEventListener("change",async e=>{const g=e.currentTarget.files;for(let y=0;y<g.length;y++){total$1.value=0,loaded$1.value=0,loading.value=!0;const k=window.URL.createObjectURL(g[y]),$=document.createElement("img");$.onload=()=>{saveState("",[StoreType.Status,editStatus.value===Status.Glyph?StoreType.EditGlyph:StoreType.EditCharacter],OpType.Undo,{undoTip:"",redoTip:""}),prevEditStatus.value=editStatus.value,thumbnail(k,$,1e3),setEditStatus(Status.Pic),loading.value=!1},$.src=k}document.body.removeChild(n)}),document.body.appendChild(n),n.click()},thumbnail=(n,e,r)=>{const g=document.createElement("canvas");e.width>r||e.height>r?(g.width=r,g.height=r*e.height/e.width):(g.width=e.width,g.height=e.height);const y=g.getContext("2d");y.drawImage(e,0,0,e.width,e.height,0,0,g.width,g.height);const k=y.getImageData(0,0,g.width,g.height).data;setEditCharacterPic({data:n,img:e,thumbnailCanvas:g,thumbnailPixels:k,processPixels:k,width:g.width,height:g.height});const $=toBlackWhiteBitMap(k,{r:rThreshold.value,g:gThreshold.value,b:bThreshold.value},{x:0,y:0,size:-1,width:g.width,height:g.height});setBitMap({data:$,width:g.width,height:g.height}),clearContoursComponent();const{canvas:V}=reversePixels($,bitmap.value.width,bitmap.value.height),L=V.getContext("2d",{willReadFrequently:!0}),z=V.width,j=V.height,re=L.getImageData(0,0,z,j);let oe=cv.matFromImageData(re);cv.cvtColor(oe,oe,cv.COLOR_RGBA2GRAY,0),cv.threshold(oe,oe,120,200,cv.THRESH_BINARY);let ae=new cv.MatVector,de=new cv.Mat;cv.findContours(oe,ae,de,cv.RETR_CCOMP,cv.CHAIN_APPROX_NONE);const ue=[];for(let pe=0;pe<ae.size();pe++){const he=ae.get(pe);for(let Oe=0;Oe<he.rows;Oe++)ue.push({x:he.data32S[Oe*2],y:he.data32S[Oe*2+1]})}getBound$4(ue),selectedFile.value?.fontSettings?.unitsPerEm;for(let pe=0;pe<ae.size();pe++){const he=[],Oe=ae.get(pe);for(let kt=0;kt<Oe.rows;kt++)he.push({uuid:genUUID(),x:Oe.data32S[kt*2],y:Oe.data32S[kt*2+1]});he.push({uuid:genUUID(),x:Oe.data32S[0],y:Oe.data32S[1]}),getBound$4(he);const xe=he.map(kt=>({uuid:genUUID(),...kt})),{x:$e,y:Ne,w:Ce,h:Fe}=getBound$4(xe.reduce((kt,At)=>(kt.push({x:At.x,y:At.y}),kt),[])),ze={uuid:genUUID(),type:"polygon",name:"polygon",lock:!1,visible:!0,value:{points:xe,fillColor:de.data32S[pe*4+3]===-1?"#000":"#fff",strokeColor:"#000",closePath:!0},x:$e,y:Ne,w:Ce,h:Fe,rotation:0,flipX:!1,flipY:!1,usedInCharacter:!1};addContoursComponent(ze)}clearCurvesComponent(),contoursComponents.value.map(pe=>{if(pe.type==="polygon"){const he=pe.value.points,Oe=fitCurve(he,maxError.value);let xe=[];if(!Oe.length)return;xe.push({uuid:genUUID(),x:Oe[0][0].x,y:Oe[0][0].y,type:"anchor",origin:null,isShow:!0}),Oe.map((kt,At)=>{const Cn=genUUID(),Dt=genUUID(),On=genUUID();xe.push({uuid:Cn,x:kt[1].x,y:kt[1].y,type:"control",origin:xe[xe.length-1].uuid,isShow:!1}),xe.push({uuid:Dt,x:kt[2].x,y:kt[2].y,type:"control",origin:On,isShow:!1}),xe.push({uuid:On,x:kt[3].x,y:kt[3].y,type:"anchor",origin:null,isShow:!0})});const{x:$e,y:Ne,w:Ce,h:Fe}=getBound$4(xe),ze=clone$1(pe);ze.uuid=genUUID(),ze.value.points=xe,ze.value.editMode=!1,ze.type="pen",ze.name="pic-contour",ze.x=$e,ze.y=Ne,ze.w=Ce,ze.h=Fe,ze.rotation=0,ze.usedInCharacter=!0,addCurvesComponent(ze)}})},syncData=async()=>{files.value&&files.value.length?(tips.value="",tipsDialogVisible.value=!0):await _syncData()},_syncData=async()=>{clearGlyphRenderList(Status.GlyphList),clearGlyphRenderList(Status.StrokeGlyphList),clearGlyphRenderList(Status.RadicalGlyphList),clearGlyphRenderList(Status.CompGlyphList);const n=JSON.parse(await localForage.getItem("constants"));if(n)for(let oe=0;oe<n.length;oe++)constantsMap.getByUUID(n[oe].uuid)||constants.value.push(n[oe]);const e=JSON.parse(await localForage.getItem("constantGlyphMap"));if(e){const oe=Object.keys(e);for(let ae=0;ae<oe.length;ae++)constantGlyphMap.set(oe[ae],e[oe[ae]])}const r=await localForage.getItem("glyphs");let g=[];r&&(g=JSON.parse(r));const y=await localForage.getItem("stroke_glyphs");let k=[];y&&(k=JSON.parse(y));const $=await localForage.getItem("radical_glyphs");let V=[];$&&(V=JSON.parse($));const L=await localForage.getItem("comp_glyphs");let z=[];L&&(z=JSON.parse(L));const j=await localForage.getItem("file");let re=null;if(j&&(re=JSON.parse(j)),loaded$1.value=0,total$1.value=re?re.characterList.length*2:0+(g.length+k.length+V.length+z.length)*3,total$1.value===0&&ElMessageBox.alert("","",{confirmButtonText:""}),total$1.value&&(loading.value=!0),r&&(glyphs.value=[],g.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.GlyphList),addGlyphTemplate(ae,Status.GlyphList),addLoaded()})),y&&(stroke_glyphs.value=[],k.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.StrokeGlyphList),addGlyphTemplate(ae,Status.StrokeGlyphList),addLoaded()})),$&&(radical_glyphs.value=[],V.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.RadicalGlyphList),addGlyphTemplate(ae,Status.RadicalGlyphList),addLoaded()})),L&&(comp_glyphs.value=[],z.map(ae=>instanceGlyph(ae)).map(ae=>{addGlyph(ae,Status.CompGlyphList),addGlyphTemplate(ae,Status.CompGlyphList),addLoaded()})),j){re.characterList.map(ae=>(addLoaded(),instanceCharacter(ae)));let oe=!0;for(let ae=0;ae<files.value.length;ae++)files.value[ae].uuid===re.uuid&&(oe=!1,ElNotification({title:"",message:h$1("i",`${re.name}`),type:"error"}));oe&&(emitter.emit("renderGlyphPreviewCanvas"),emitter.emit("renderStrokeGlyphPreviewCanvas"),emitter.emit("renderRadicalGlyphPreviewCanvas"),emitter.emit("renderCompGlyphPreviewCanvas"),addFile(re),setSelectedFileUUID(re.uuid),setEditStatus(Status.CharacterList),router.currentRoute.value.name==="welcome"?router.push("/editor"):(clearCharacterRenderList(),characterList.value.map(ae=>{addCharacterTemplate(generateCharacterTemplate(ae))}),emitter.emit("renderPreviewCanvas")))}},importTemplate1=async()=>{if(files.value&&files.value.length)tips.value="",tipsDialogVisible.value=!0;else{router.currentRoute.value.name==="welcome"&&router.push("/editor");const n={uuid:genUUID(),width:1e3,height:1e3,name:"",saved:!1,characterList:[],iconsCount:0,fontSettings:{unitsPerEm:1e3,ascender:800,descender:-200}};addFile(n),setSelectedFileUUID(n.uuid),setEditStatus(Status.CharacterList);const e="/fontplayer_demo/";total$1.value=0,loading.value=!0;let g=await(await fetch(e+"templates/template1.json")).text();console.time("timer1");let y=await fetch(e+"glyphs/stroke_glyphs_data_v7_v4.json"),k=await y.text();if(k){const L=JSON.parse(k);for(let re=0;re<L.constants.length;re++)constantsMap.getByUUID(L.constants[re].uuid)||constants.value.push(L.constants[re]);L.glyphs.map(re=>instanceGlyph(re)).map(re=>{addGlyph(re,Status.StrokeGlyphList)})}if(y=await fetch(e+"glyphs/radical_glyphs_data_v7_v5.json"),k=await y.text(),k){const L=JSON.parse(k);for(let re=0;re<L.constants.length;re++)constantsMap.getByUUID(L.constants[re].uuid)||constants.value.push(L.constants[re]);L.glyphs.map(re=>instanceGlyph(re)).map(re=>{addGlyph(re,Status.RadicalGlyphList)})}if(y=await fetch(e+"glyphs/comp_glyphs_data_v7_v4.json"),k=await y.text(),k){const L=JSON.parse(k);for(let re=0;re<L.constants.length;re++)constantsMap.getByUUID(L.constants[re].uuid)||constants.value.push(L.constants[re]);L.glyphs.map(re=>instanceGlyph(re)).map(re=>{addGlyph(re,Status.CompGlyphList)})}console.timeEnd("timer1");let $=null;g&&($=JSON.parse(g));const V=$?$.template.length:0;if(total$1.value=V+(glyphs.value.length+stroke_glyphs.value.length+radical_glyphs.value.length+comp_glyphs.value.length)*2,loaded$1.value=0,$)for(let L=0;L<$.template.length;L++){loaded$1.value+=1;const z=$.template[L],j=parseLayout(z),re=generateCharFile(j);addCharacterForCurrentFile(re),addCharacterTemplate(generateCharacterTemplate(re)),emitter.emit("renderPreviewCanvasByUUID",re.uuid)}stroke_glyphs.value.map(L=>{addGlyphTemplate(L,Status.StrokeGlyphList)}),radical_glyphs.value.map(L=>{addGlyphTemplate(L,Status.RadicalGlyphList)}),comp_glyphs.value.map(L=>{addGlyphTemplate(L,Status.CompGlyphList)}),glyphs.value.map(L=>{addGlyphTemplate(L,Status.GlyphList)}),emitter.emit("renderPreviewCanvas"),emitter.emit("renderGlyphPreviewCanvas"),emitter.emit("renderStrokeGlyphPreviewCanvas"),emitter.emit("renderRadicalGlyphPreviewCanvas"),emitter.emit("renderCompGlyphPreviewCanvas")}},parseLayout=n=>{const{char:e,layout:r,data:g}=n;if(r===""){const y=g.indexOf(""),k=g.slice(2,y-1),$=g.slice(y+2,g.length-1);return{name:e,layout:r,left:parseData(k),right:parseData($)}}return{name:e,layout:r}},parseData=n=>{const e=n.split(","),r=e[0],g=Number(e[1]),y=Number(e[2]),k=Number(e[3]),$=Number(e[4]);return{glyph_name:r,x:g,y,w:k,h:$}},generateCharFile=n=>{const e={uuid:genUUID(),text:n.name,unicode:toUnicode(n.name),components:[]},r=genUUID(),g={uuid:r,type:"text",character:e,components:[],groups:[],orderedList:[],selectedComponentsUUIDs:[],view:{zoom:100,translateX:0,translateY:0},info:{gridSettings:{dx:0,dy:0,centerSquareSize:selectedFile.value.width/3,size:selectedFile.value.width,default:!0},layout:"",layoutTree:[]},script:`function script_${r.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`},y=generateComponent(n.left),k=generateComponent(n.right);return g.components.push(y),g.components.push(k),g.orderedList.push({type:"component",uuid:y.uuid}),g.orderedList.push({type:"component",uuid:k.uuid}),g},generateComponent=n=>{const e=getGlyphByName(n.glyph_name),r=clone$1(e);r.layout.params.width=n.w,r.layout.params.height=n.h;const g={uuid:genUUID(),type:"glyph",name:e.name+Date.now().toString().slice(9),lock:!1,visible:!0,value:r,ox:n.x-(1e3-n.w)/2,oy:n.y-(1e3-n.h)/2,usedInCharacter:!0};return executeScript(g.value),linkComponentsForJoints(g),g},computeOverlapRemovedContours=()=>{const{unitsPerEm:n,descender:e}=selectedFile.value.fontSettings;for(let r=0;r<selectedFile.value.characterList.length;r++){loaded$1.value++,loaded$1.value>=total$1.value&&(loading.value=!1,loaded$1.value=0,total$1.value=0);let g=selectedFile.value.characterList[r],y=componentsToContours(orderedListWithItemsForCharacterFile(g),{unitsPerEm:n,descender:e,advanceWidth:n},{x:0,y:0},!1,!1,!1),k=[];for(let L=0;L<y.length;L++){const z=y[L];let j=new paper.Path;j.moveTo(new paper.Point(z[0].start.x,z[0].start.y));for(let re=0;re<z.length;re++){const oe=z[re];oe.type===PathType.LINE?j.lineTo(new paper.Point(oe.end.x,oe.end.y)):oe.type===PathType.CUBIC_BEZIER&&j.cubicCurveTo(new paper.Point(oe.control1.x,oe.control1.y),new paper.Point(oe.control2.x,oe.control2.y),new paper.Point(oe.end.x,oe.end.y))}k.push(j)}let $=null;if(k.length<2)$=k[1];else{$=k[0].unite(k[1]);for(let L=2;L<k.length;L++)$=$.unite(k[L])}let V=[];for(let L=0;L<$.children.length;L++){const z=$.children[L];if(!z.curves.length)continue;const j=[];for(let re=0;re<z.curves.length;re++){const oe=z.curves[re],ae={type:PathType.CUBIC_BEZIER,start:{x:oe.points[0].x,y:oe.points[0].y},control1:{x:oe.points[1].x,y:oe.points[1].y},control2:{x:oe.points[2].x,y:oe.points[2].y},end:{x:oe.points[3].x,y:oe.points[3].y}};j.push(ae)}V.push(j)}g.overlap_removed_contours=V}},removeOverlap=()=>{let n=editCharacterFile.value;editStatus.value===Status.Glyph&&(n=editGlyph.value),selectedFile.value.fontSettings;let e=componentsToContours2(orderedListWithItemsForCharacterFile(n),{x:0,y:0},!1);editStatus.value==Status.Glyph&&(e=componentsToContours2(n._o.components,{x:0,y:0},!0));let r=[];for(let k=0;k<e.length;k++){const $=e[k];let V=new paper.Path;V.moveTo(new paper.Point($[0].start.x,$[0].start.y));for(let L=0;L<$.length;L++){const z=$[L];z.type===PathType.LINE?V.lineTo(new paper.Point(z.end.x,z.end.y)):z.type===PathType.CUBIC_BEZIER&&V.cubicCurveTo(new paper.Point(z.control1.x,z.control1.y),new paper.Point(z.control2.x,z.control2.y),new paper.Point(z.end.x,z.end.y))}r.push(V)}let g=null;if(r.length<2)g=r[1];else{g=r[0].unite(r[1]);for(let k=2;k<r.length;k++)g=g.unite(r[k])}let y=[];for(let k=0;k<g.children.length;k++){const $=g.children[k];let V=[];if($.curves.length){V.push({uuid:genUUID(),type:"anchor",x:$.curves[0].points[0].x,y:$.curves[0].points[0].y,origin:null,isShow:!0});for(let L=0;L<$.curves.length;L++){const z=$.curves[L],j={uuid:genUUID(),type:"control",x:z.points[1].x,y:z.points[1].y,origin:V[V.length-1].uuid,isShow:!0},re=genUUID(),oe={uuid:genUUID(),type:"control",x:z.points[2].x,y:z.points[2].y,origin:re,isShow:!0},ae={uuid:re,type:"anchor",x:z.points[3].x,y:z.points[3].y,origin:null,isShow:!0};V.push(j,oe,ae)}y.push(genPenComponent(V,!0))}}if(editStatus.value===Status.Edit){editCharacterFile.value.script=`function script_${editCharacterFile.value.uuid.replaceAll("-","_")} (character, constants, FP) {
	//Todo something
}`,editCharacterFile.value.glyph_script=null,editCharacterFile.value.system_script=null,editCharacterFile.value.orderedList=[],editCharacterFile.value.components=[];for(let k=0;k<y.length;k++)addComponentForCurrentCharacterFile(y[k]);emitter.emit("renderCharacter")}else if(editStatus.value===Status.Glyph){editGlyph.value.script=`function script_${editGlyph.value.uuid.replaceAll("-","_")} (glyph, constants, FP) {
	//Todo something
}`,editGlyph.value.glyph_script=null,editGlyph.value.system_script=null;for(let k=0;k<y.length;k++)addComponentForCurrentGlyph(y[k]);emitter.emit("renderGlyph")}},tauri_handlers={"create-file":createFile,"open-file":openFile_tauri,"save-file":saveFile_tauri,"save-as":saveAs_tauri,undo,redo,cut,copy,paste,delete:del,"import-font-file":importFont_tauri,"import-templates-file":importTemplates,"import-glyphs":importGlyphs_tauri,"import-pic":importPic_tauri,"import-svg":importSVG_tauri,"export-font-file":showExportFontDialog_tauri,"export-glyphs":exportGlyphs_tauri,"export-jpeg":exportJPEG_tauri,"export-png":exportPNG_tauri,"export-svg":exportSVG_tauri,"add-character":addCharacter,"add-icon":addIcon,"font-settings":fontSettings,"preference-settings":preferenceSettings,"language-settings":languageSettings,"template-1":importTemplate1,remove_overlap:removeOverlap},web_handlers={"create-file":createFile,"open-file":openFile,"save-file":saveFile_web,"clear-cache":clearCache,"sync-data":syncData,"save-as-json":exportJSON,undo,redo,cut,copy,paste,delete:del,"import-font-file":importFont,"import-templates-file":importTemplates,"import-glyphs":importGlyphs,"import-pic":importPic,"import-svg":importSVG,"export-font-file":showExportFontDialog,"export-glyphs":exportGlyphs,"export-jpeg":exportJPEG,"export-png":exportPNG,"export-svg":exportSVG,"add-character":addCharacter,"add-icon":addIcon,"font-settings":fontSettings,"preference-settings":preferenceSettings,"language-settings":languageSettings,"template-1":importTemplate1,remove_overlap:removeOverlap},editStatusToString=n=>editStatus.value===Status.Edit?"edit":editStatus.value===Status.Glyph?"glyph":editStatus.value===Status.Pic?"pic":"list";watch(editStatus,()=>{ENV.value==="tauri"&&invoke("toggle_menu_disabled",{editStatus:editStatusToString(editStatus.value)})});const initTauri=()=>{if(window.__TAURI_INTERNALS__){ENV.value="tauri";const n=Object.keys(tauri_handlers);for(let e=0;e<n.length;e++){const r=n[e];listen(r,g=>{tauri_handlers[r]()})}}},_sfc_main=defineComponent({__name:"App",setup(n){initTauri();let e=document.createElement("canvas");return paper.setup(e),(r,g)=>(openBlock(),createBlock(unref(RouterView)))}});function ownKeys$1(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(n);e&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(n,y).enumerable})),r.push.apply(r,g)}return r}function _objectSpread2$1(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(g){_defineProperty$1(n,g,r[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(g){Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(r,g))})}return n}function _typeof$1(n){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(n)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var r=0;r<e.length;r++){var g=e[r];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}function _createClass(n,e,r){return e&&_defineProperties(n.prototype,e),r&&_defineProperties(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function _defineProperty$1(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray(n,e)||_nonIterableRest()}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_unsupportedIterableToArray(n)||_nonIterableSpread()}function _arrayWithoutHoles(n){if(Array.isArray(n))return _arrayLikeToArray(n)}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _iterableToArray(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _iterableToArrayLimit(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var g=[],y=!0,k=!1,$,V;try{for(r=r.call(n);!(y=($=r.next()).done)&&(g.push($.value),!(e&&g.length===e));y=!0);}catch(L){k=!0,V=L}finally{try{!y&&r.return!=null&&r.return()}finally{if(k)throw V}}return g}}function _unsupportedIterableToArray(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(n,e)}}function _arrayLikeToArray(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,g=new Array(e);r<e;r++)g[r]=n[r];return g}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop=function n(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(n){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(n){return new Proxy(n,{get:function(r,g){return g in r?r[g]:r[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$1(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_defineProperty$1(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$1(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$1(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$1(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$1(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$1(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$1(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$1(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$1(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(n){return"".concat(n,"x")})).concat(oneToTwenty.map(function(n){return"w-".concat(n)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(n){var e=DOCUMENT.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function coerce(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(n){var e=_slicedToArray(n,2),r=e[0],g=e[1],y=coerce(getAttrConfig(r));y!=null&&(initial[g]=y)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(n){Object.defineProperty(config,n,{enumerable:!0,set:function(r){_config[n]=r,_onChangeCb.forEach(function(g){return g(config)})},get:function(){return _config[n]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function n(e){_config.cssPrefix=e,_onChangeCb.forEach(function(r){return r(config)})},get:function n(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(n){return _onChangeCb.push(n),function(){_onChangeCb.splice(_onChangeCb.indexOf(n),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(n){if(!(!n||!IS_DOM)){var e=DOCUMENT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var r=DOCUMENT.head.childNodes,g=null,y=r.length-1;y>-1;y--){var k=r[y],$=(k.tagName||"").toUpperCase();["STYLE","LINK"].indexOf($)>-1&&(g=k)}return DOCUMENT.head.insertBefore(e,g),n}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var n=12,e="";n-- >0;)e+=idPool[Math.random()*62|0];return e}function toArray(n){for(var e=[],r=(n||[]).length>>>0;r--;)e[r]=n[r];return e}function classArray(n){return n.classList?toArray(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function htmlEscape(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(n){return Object.keys(n||{}).reduce(function(e,r){return e+"".concat(r,'="').concat(htmlEscape(n[r]),'" ')},"").trim()}function joinStyles(n){return Object.keys(n||{}).reduce(function(e,r){return e+"".concat(r,": ").concat(n[r].trim(),";")},"")}function transformIsMeaningful(n){return n.size!==meaninglessTransform.size||n.x!==meaninglessTransform.x||n.y!==meaninglessTransform.y||n.rotate!==meaninglessTransform.rotate||n.flipX||n.flipY}function transformForSvg(n){var e=n.transform,r=n.containerWidth,g=n.iconWidth,y={transform:"translate(".concat(r/2," 256)")},k="translate(".concat(e.x*32,", ").concat(e.y*32,") "),$="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),V="rotate(".concat(e.rotate," 0 0)"),L={transform:"".concat(k," ").concat($," ").concat(V)},z={transform:"translate(".concat(g/2*-1," -256)")};return{outer:y,inner:L,path:z}}function transformForCss(n){var e=n.transform,r=n.width,g=r===void 0?UNITS_IN_GRID:r,y=n.height,k=y===void 0?UNITS_IN_GRID:y,$=n.startCentered,V=$===void 0?!1:$,L="";return V&&IS_IE?L+="translate(".concat(e.x/d-g/2,"em, ").concat(e.y/d-k/2,"em) "):V?L+="translate(calc(-50% + ".concat(e.x/d,"em), calc(-50% + ").concat(e.y/d,"em)) "):L+="translate(".concat(e.x/d,"em, ").concat(e.y/d,"em) "),L+="scale(".concat(e.size/d*(e.flipX?-1:1),", ").concat(e.size/d*(e.flipY?-1:1),") "),L+="rotate(".concat(e.rotate,"deg) "),L}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var n=DEFAULT_CSS_PREFIX,e=DEFAULT_REPLACEMENT_CLASS,r=config.cssPrefix,g=config.replacementClass,y=baseStyles;if(r!==n||g!==e){var k=new RegExp("\\.".concat(n,"\\-"),"g"),$=new RegExp("\\--".concat(n,"\\-"),"g"),V=new RegExp("\\.".concat(e),"g");y=y.replace(k,".".concat(r,"-")).replace($,"--".concat(r,"-")).replace(V,".".concat(g))}return y}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function n(){return{dom:{css,insertCss:ensureCss}}},hooks:function n(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function n(){DOCUMENT.removeEventListener("DOMContentLoaded",n),loaded=1,functions.map(function(e){return e()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(n){IS_DOM&&(loaded?setTimeout(n,0):functions.push(n))}function toHtml(n){var e=n.tag,r=n.attributes,g=r===void 0?{}:r,y=n.children,k=y===void 0?[]:y;return typeof n=="string"?htmlEscape(n):"<".concat(e," ").concat(joinAttributes(g),">").concat(k.map(toHtml).join(""),"</").concat(e,">")}function iconFromMapping(n,e,r){if(n&&n[e]&&n[e][r])return{prefix:e,iconName:r,icon:n[e][r]}}var bindInternal4=function n(e,r){return function(g,y,k,$){return e.call(r,g,y,k,$)}},reduce=function n(e,r,g,y){var k=Object.keys(e),$=k.length,V=y!==void 0?bindInternal4(r,y):r,L,z,j;for(g===void 0?(L=1,j=e[k[0]]):(L=0,j=g);L<$;L++)z=k[L],j=V(j,e[z],z,e);return j};function ucs2decode(n){for(var e=[],r=0,g=n.length;r<g;){var y=n.charCodeAt(r++);if(y>=55296&&y<=56319&&r<g){var k=n.charCodeAt(r++);(k&64512)==56320?e.push(((y&1023)<<10)+(k&1023)+65536):(e.push(y),r--)}else e.push(y)}return e}function toHex(n){var e=ucs2decode(n);return e.length===1?e[0].toString(16):null}function codePointAt(n,e){var r=n.length,g=n.charCodeAt(e),y;return g>=55296&&g<=56319&&r>e+1&&(y=n.charCodeAt(e+1),y>=56320&&y<=57343)?(g-55296)*1024+y-56320+65536:g}function normalizeIcons(n){return Object.keys(n).reduce(function(e,r){var g=n[r],y=!!g.icon;return y?e[g.iconName]=g.icon:e[r]=g,e},{})}function defineIcons(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=r.skipHooks,y=g===void 0?!1:g,k=normalizeIcons(e);typeof namespace.hooks.addPack=="function"&&!y?namespace.hooks.addPack(n,normalizeIcons(e)):namespace.styles[n]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[n]||{}),k),n==="fas"&&defineIcons("fa",e)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$1(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$1(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(n){return~RESERVED_CLASSES.indexOf(n)}function getIconName(n,e){var r=e.split("-"),g=r[0],y=r.slice(1).join("-");return g===n&&y!==""&&!isReserved(y)?y:null}var build=function n(){var e=function(k){return reduce(styles,function($,V,L){return $[L]=reduce(V,k,{}),$},{})};_byUnicode=e(function(y,k,$){if(k[3]&&(y[k[3]]=$),k[2]){var V=k[2].filter(function(L){return typeof L=="number"});V.forEach(function(L){y[L.toString(16)]=$})}return y}),_byLigature=e(function(y,k,$){if(y[$]=$,k[2]){var V=k[2].filter(function(L){return typeof L=="string"});V.forEach(function(L){y[L]=$})}return y}),_byAlias=e(function(y,k,$){var V=k[2];return y[$]=$,V.forEach(function(L){y[L]=$}),y});var r="far"in styles||config.autoFetchSvg,g=reduce(shims,function(y,k){var $=k[0],V=k[1],L=k[2];return V==="far"&&!r&&(V="fas"),typeof $=="string"&&(y.names[$]={prefix:V,iconName:L}),typeof $=="number"&&(y.unicodes[$.toString(16)]={prefix:V,iconName:L}),y},{names:{},unicodes:{}});_byOldName=g.names,_byOldUnicode=g.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(n){_defaultUsablePrefix=getCanonicalPrefix(n.styleDefault,{family:config.familyDefault})});build();function byUnicode(n,e){return(_byUnicode[n]||{})[e]}function byLigature(n,e){return(_byLigature[n]||{})[e]}function byAlias(n,e){return(_byAlias[n]||{})[e]}function byOldName(n){return _byOldName[n]||{prefix:null,iconName:null}}function byOldUnicode(n){var e=_byOldUnicode[n],r=byUnicode("fas",n);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function n(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.family,g=r===void 0?FAMILY_CLASSIC:r,y=PREFIX_TO_STYLE[g][n],k=STYLE_TO_PREFIX[g][n]||STYLE_TO_PREFIX[g][y],$=n in namespace.styles?n:null;return k||$||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(n){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=r.skipLookups,y=g===void 0?!1:g,k=(e={},_defineProperty$1(e,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$1(e,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),e),$=null,V=FAMILY_CLASSIC;(n.includes(k[FAMILY_CLASSIC])||n.some(function(z){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(z)}))&&(V=FAMILY_CLASSIC),(n.includes(k[FAMILY_SHARP])||n.some(function(z){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(z)}))&&(V=FAMILY_SHARP);var L=n.reduce(function(z,j){var re=getIconName(config.cssPrefix,j);if(styles[j]?(j=LONG_STYLE[V].includes(j)?LONG_STYLE_TO_PREFIX[V][j]:j,$=j,z.prefix=j):PREFIXES[V].indexOf(j)>-1?($=j,z.prefix=getCanonicalPrefix(j,{family:V})):re?z.iconName=re:j!==config.replacementClass&&j!==k[FAMILY_CLASSIC]&&j!==k[FAMILY_SHARP]&&z.rest.push(j),!y&&z.prefix&&z.iconName){var oe=$==="fa"?byOldName(z.iconName):{},ae=byAlias(z.prefix,z.iconName);oe.prefix&&($=null),z.iconName=oe.iconName||ae||z.iconName,z.prefix=oe.prefix||z.prefix,z.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(z.prefix="fas")}return z},emptyCanonicalIcon());return(n.includes("fa-brands")||n.includes("fab"))&&(L.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(L.prefix="fad"),!L.prefix&&V===FAMILY_SHARP&&(styles.fass||config.autoFetchSvg)&&(L.prefix="fass",L.iconName=byAlias(L.prefix,L.iconName)||L.iconName),(L.prefix==="fa"||$==="fa")&&(L.prefix=getDefaultUsablePrefix()||"fas"),L}var Library=function(){function n(){_classCallCheck(this,n),this.definitions={}}return _createClass(n,[{key:"add",value:function(){for(var r=this,g=arguments.length,y=new Array(g),k=0;k<g;k++)y[k]=arguments[k];var $=y.reduce(this._pullDefinitions,{});Object.keys($).forEach(function(V){r.definitions[V]=_objectSpread2$1(_objectSpread2$1({},r.definitions[V]||{}),$[V]),defineIcons(V,$[V]);var L=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][V];L&&defineIcons(L,$[V]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,g){var y=g.prefix&&g.iconName&&g.icon?{0:g}:g;return Object.keys(y).map(function(k){var $=y[k],V=$.prefix,L=$.iconName,z=$.icon,j=z[2];r[V]||(r[V]={}),j.length>0&&j.forEach(function(re){typeof re=="string"&&(r[V][re]=z)}),r[V][L]=z}),r}}]),n}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(n,e){var r=e.mixoutsTo;return _plugins=n,_hooks={},Object.keys(providers).forEach(function(g){defaultProviderKeys.indexOf(g)===-1&&delete providers[g]}),_plugins.forEach(function(g){var y=g.mixout?g.mixout():{};if(Object.keys(y).forEach(function($){typeof y[$]=="function"&&(r[$]=y[$]),_typeof$1(y[$])==="object"&&Object.keys(y[$]).forEach(function(V){r[$]||(r[$]={}),r[$][V]=y[$][V]})}),g.hooks){var k=g.hooks();Object.keys(k).forEach(function($){_hooks[$]||(_hooks[$]=[]),_hooks[$].push(k[$])})}g.provides&&g.provides(providers)}),r}function chainHooks(n,e){for(var r=arguments.length,g=new Array(r>2?r-2:0),y=2;y<r;y++)g[y-2]=arguments[y];var k=_hooks[n]||[];return k.forEach(function($){e=$.apply(null,[e].concat(g))}),e}function callHooks(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),g=1;g<e;g++)r[g-1]=arguments[g];var y=_hooks[n]||[];y.forEach(function(k){k.apply(null,r)})}function callProvided(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return providers[n]?providers[n].apply(null,e):void 0}function findIconDefinition(n){n.prefix==="fa"&&(n.prefix="fas");var e=n.iconName,r=n.prefix||getDefaultUsablePrefix();if(e)return e=byAlias(r,e)||e,iconFromMapping(library.definitions,r,e)||iconFromMapping(namespace.styles,r,e)}var library=new Library,noAuto=function n(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",e),callProvided("pseudoElements2svg",e),callProvided("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:r}),callHooks("watch",e)})}},parse={icon:function n(e){if(e===null)return null;if(_typeof$1(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:byAlias(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var r=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],g=getCanonicalPrefix(e[0]);return{prefix:g,iconName:byAlias(g,r)||r}}if(typeof e=="string"&&(e.indexOf("".concat(config.cssPrefix,"-"))>-1||e.match(ICON_SELECTION_SYNTAX_PATTERN))){var y=getCanonicalIcon(e.split(" "),{skipLookups:!0});return{prefix:y.prefix||getDefaultUsablePrefix(),iconName:byAlias(y.prefix,y.iconName)||y.iconName}}if(typeof e=="string"){var k=getDefaultUsablePrefix();return{prefix:k,iconName:byAlias(k,e)||e}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot,g=r===void 0?DOCUMENT:r;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:g})};function domVariants(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(g){return toHtml(g)})}}),Object.defineProperty(n,"node",{get:function(){if(IS_DOM){var g=DOCUMENT.createElement("div");return g.innerHTML=n.html,g.children}}}),n}function asIcon(n){var e=n.children,r=n.main,g=n.mask,y=n.attributes,k=n.styles,$=n.transform;if(transformIsMeaningful($)&&r.found&&!g.found){var V=r.width,L=r.height,z={x:V/L/2,y:.5};y.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},k),{},{"transform-origin":"".concat(z.x+$.x/16,"em ").concat(z.y+$.y/16,"em")}))}return[{tag:"svg",attributes:y,children:e}]}function asSymbol(n){var e=n.prefix,r=n.iconName,g=n.children,y=n.attributes,k=n.symbol,$=k===!0?"".concat(e,"-").concat(config.cssPrefix,"-").concat(r):k;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{id:$}),children:g}]}]}function makeInlineSvgAbstract(n){var e=n.icons,r=e.main,g=e.mask,y=n.prefix,k=n.iconName,$=n.transform,V=n.symbol,L=n.title,z=n.maskId,j=n.titleId,re=n.extra,oe=n.watchable,ae=oe===void 0?!1:oe,de=g.found?g:r,ue=de.width,pe=de.height,he=y==="fak",Oe=[config.replacementClass,k?"".concat(config.cssPrefix,"-").concat(k):""].filter(function(kt){return re.classes.indexOf(kt)===-1}).filter(function(kt){return kt!==""||!!kt}).concat(re.classes).join(" "),xe={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},re.attributes),{},{"data-prefix":y,"data-icon":k,class:Oe,role:re.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ue," ").concat(pe)})},$e=he&&!~re.classes.indexOf("fa-fw")?{width:"".concat(ue/pe*16*.0625,"em")}:{};ae&&(xe.attributes[DATA_FA_I2SVG]=""),L&&(xe.children.push({tag:"title",attributes:{id:xe.attributes["aria-labelledby"]||"title-".concat(j||nextUniqueId())},children:[L]}),delete xe.attributes.title);var Ne=_objectSpread2$1(_objectSpread2$1({},xe),{},{prefix:y,iconName:k,main:r,mask:g,maskId:z,transform:$,symbol:V,styles:_objectSpread2$1(_objectSpread2$1({},$e),re.styles)}),Ce=g.found&&r.found?callProvided("generateAbstractMask",Ne)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",Ne)||{children:[],attributes:{}},Fe=Ce.children,ze=Ce.attributes;return Ne.children=Fe,Ne.attributes=ze,V?asSymbol(Ne):asIcon(Ne)}function makeLayersTextAbstract(n){var e=n.content,r=n.width,g=n.height,y=n.transform,k=n.title,$=n.extra,V=n.watchable,L=V===void 0?!1:V,z=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},$.attributes),k?{title:k}:{}),{},{class:$.classes.join(" ")});L&&(z[DATA_FA_I2SVG]="");var j=_objectSpread2$1({},$.styles);transformIsMeaningful(y)&&(j.transform=transformForCss({transform:y,startCentered:!0,width:r,height:g}),j["-webkit-transform"]=j.transform);var re=joinStyles(j);re.length>0&&(z.style=re);var oe=[];return oe.push({tag:"span",attributes:z,children:[e]}),k&&oe.push({tag:"span",attributes:{class:"sr-only"},children:[k]}),oe}function makeLayersCounterAbstract(n){var e=n.content,r=n.title,g=n.extra,y=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},g.attributes),r?{title:r}:{}),{},{class:g.classes.join(" ")}),k=joinStyles(g.styles);k.length>0&&(y.style=k);var $=[];return $.push({tag:"span",attributes:y,children:[e]}),r&&$.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),$}var styles$1=namespace.styles;function asFoundIcon(n){var e=n[0],r=n[1],g=n.slice(4),y=_slicedToArray(g,1),k=y[0],$=null;return Array.isArray(k)?$={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:k[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:k[1]}}]}:$={tag:"path",attributes:{fill:"currentColor",d:k}},{found:!0,width:e,height:r,icon:$}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(n,e){!PRODUCTION$1&&!config.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function findIcon(n,e){var r=e;return e==="fa"&&config.styleDefault!==null&&(e=getDefaultUsablePrefix()),new Promise(function(g,y){if(callProvided("missingIconAbstract"),r==="fa"){var k=byOldName(n)||{};n=k.iconName||n,e=k.prefix||e}if(n&&e&&styles$1[e]&&styles$1[e][n]){var $=styles$1[e][n];return g(asFoundIcon($))}maybeNotifyMissing(n,e),g(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&n?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1=function n(){},p=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.4.2"',begin=function n(e){return p.mark("".concat(preamble," ").concat(e," begins")),function(){return end(e)}},end=function n(e){p.mark("".concat(preamble," ").concat(e," ends")),p.measure("".concat(preamble," ").concat(e),"".concat(preamble," ").concat(e," begins"),"".concat(preamble," ").concat(e," ends"))},perf={begin,end},noop$2=function n(){};function isWatched(n){var e=n.getAttribute?n.getAttribute(DATA_FA_I2SVG):null;return typeof e=="string"}function hasPrefixAndIcon(n){var e=n.getAttribute?n.getAttribute(DATA_PREFIX):null,r=n.getAttribute?n.getAttribute(DATA_ICON):null;return e&&r}function hasBeenReplaced(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var n=mutators[config.autoReplaceSvg];return n||mutators.replace}function createElementNS(n){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",n)}function createElement(n){return DOCUMENT.createElement(n)}function convertSVG(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.ceFn,g=r===void 0?n.tag==="svg"?createElementNS:createElement:r;if(typeof n=="string")return DOCUMENT.createTextNode(n);var y=g(n.tag);Object.keys(n.attributes||[]).forEach(function($){y.setAttribute($,n.attributes[$])});var k=n.children||[];return k.forEach(function($){y.appendChild(convertSVG($,{ceFn:g}))}),y}function nodeAsComment(n){var e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var mutators={replace:function n(e){var r=e[0];if(r.parentNode)if(e[1].forEach(function(y){r.parentNode.insertBefore(convertSVG(y),r)}),r.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var g=DOCUMENT.createComment(nodeAsComment(r));r.parentNode.replaceChild(g,r)}else r.remove()},nest:function n(e){var r=e[0],g=e[1];if(~classArray(r).indexOf(config.replacementClass))return mutators.replace(e);var y=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete g[0].attributes.id,g[0].attributes.class){var k=g[0].attributes.class.split(" ").reduce(function(V,L){return L===config.replacementClass||L.match(y)?V.toSvg.push(L):V.toNode.push(L),V},{toNode:[],toSvg:[]});g[0].attributes.class=k.toSvg.join(" "),k.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",k.toNode.join(" "))}var $=g.map(function(V){return toHtml(V)}).join(`
`);r.setAttribute(DATA_FA_I2SVG,""),r.innerHTML=$}};function performOperationSync(n){n()}function perform(n,e){var r=typeof e=="function"?e:noop$2;if(n.length===0)r();else{var g=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(g=WINDOW.requestAnimationFrame||performOperationSync),g(function(){var y=getMutator(),k=perf.begin("mutate");n.map(y),k(),r()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(n){if(MUTATION_OBSERVER&&config.observeMutations){var e=n.treeCallback,r=e===void 0?noop$2:e,g=n.nodeCallback,y=g===void 0?noop$2:g,k=n.pseudoElementsCallback,$=k===void 0?noop$2:k,V=n.observeMutationsRoot,L=V===void 0?DOCUMENT:V;mo=new MUTATION_OBSERVER(function(z){if(!disabled){var j=getDefaultUsablePrefix();toArray(z).forEach(function(re){if(re.type==="childList"&&re.addedNodes.length>0&&!isWatched(re.addedNodes[0])&&(config.searchPseudoElements&&$(re.target),r(re.target)),re.type==="attributes"&&re.target.parentNode&&config.searchPseudoElements&&$(re.target.parentNode),re.type==="attributes"&&isWatched(re.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(re.attributeName))if(re.attributeName==="class"&&hasPrefixAndIcon(re.target)){var oe=getCanonicalIcon(classArray(re.target)),ae=oe.prefix,de=oe.iconName;re.target.setAttribute(DATA_PREFIX,ae||j),de&&re.target.setAttribute(DATA_ICON,de)}else hasBeenReplaced(re.target)&&y(re.target)})}}),IS_DOM&&mo.observe(L,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(n){var e=n.getAttribute("style"),r=[];return e&&(r=e.split(";").reduce(function(g,y){var k=y.split(":"),$=k[0],V=k.slice(1);return $&&V.length>0&&(g[$]=V.join(":").trim()),g},{})),r}function classParser(n){var e=n.getAttribute("data-prefix"),r=n.getAttribute("data-icon"),g=n.innerText!==void 0?n.innerText.trim():"",y=getCanonicalIcon(classArray(n));return y.prefix||(y.prefix=getDefaultUsablePrefix()),e&&r&&(y.prefix=e,y.iconName=r),y.iconName&&y.prefix||(y.prefix&&g.length>0&&(y.iconName=byLigature(y.prefix,n.innerText)||byUnicode(y.prefix,toHex(n.innerText))),!y.iconName&&config.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(y.iconName=n.firstChild.data)),y}function attributesParser(n){var e=toArray(n.attributes).reduce(function(y,k){return y.name!=="class"&&y.name!=="style"&&(y[k.name]=k.value),y},{}),r=n.getAttribute("title"),g=n.getAttribute("data-fa-title-id");return config.autoA11y&&(r?e["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(g||nextUniqueId()):(e["aria-hidden"]="true",e.focusable="false")),e}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=classParser(n),g=r.iconName,y=r.prefix,k=r.rest,$=attributesParser(n),V=chainHooks("parseNodeAttributes",{},n),L=e.styleParser?styleParser(n):[];return _objectSpread2$1({iconName:g,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:y,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:k,styles:L,attributes:$}},V)}var styles$2=namespace.styles;function generateMutation(n){var e=config.autoReplaceSvg==="nest"?parseMeta(n,{styleParser:!1}):parseMeta(n);return~e.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",n,e):callProvided("generateSvgReplacementMutation",n,e)}var knownPrefixes=new Set;FAMILIES.map(function(n){knownPrefixes.add("fa-".concat(n))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray(knownPrefixes);function onTree(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var r=DOCUMENT.documentElement.classList,g=function(re){return r.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(re))},y=function(re){return r.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(re))},k=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(j){return"fa-".concat(j)}).concat(Object.keys(styles$2));k.includes("fa")||k.push("fa");var $=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(k.map(function(j){return".".concat(j,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if($.length===0)return Promise.resolve();var V=[];try{V=toArray(n.querySelectorAll($))}catch{}if(V.length>0)g("pending"),y("complete");else return Promise.resolve();var L=perf.begin("onTree"),z=V.reduce(function(j,re){try{var oe=generateMutation(re);oe&&j.push(oe)}catch(ae){PRODUCTION$1||ae.name==="MissingIcon"&&console.error(ae)}return j},[]);return new Promise(function(j,re){Promise.all(z).then(function(oe){perform(oe,function(){g("active"),g("complete"),y("pending"),typeof e=="function"&&e(),L(),j()})}).catch(function(oe){L(),re(oe)})})}function onNode(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(n).then(function(r){r&&perform([r],e)})}function resolveIcons(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=(e||{}).icon?e:findIconDefinition(e||{}),y=r.mask;return y&&(y=(y||{}).icon?y:findIconDefinition(y||{})),n(g,_objectSpread2$1(_objectSpread2$1({},r),{},{mask:y}))}}var render=function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=r.transform,y=g===void 0?meaninglessTransform:g,k=r.symbol,$=k===void 0?!1:k,V=r.mask,L=V===void 0?null:V,z=r.maskId,j=z===void 0?null:z,re=r.title,oe=re===void 0?null:re,ae=r.titleId,de=ae===void 0?null:ae,ue=r.classes,pe=ue===void 0?[]:ue,he=r.attributes,Oe=he===void 0?{}:he,xe=r.styles,$e=xe===void 0?{}:xe;if(e){var Ne=e.prefix,Ce=e.iconName,Fe=e.icon;return domVariants(_objectSpread2$1({type:"icon"},e),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:e,params:r}),config.autoA11y&&(oe?Oe["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(de||nextUniqueId()):(Oe["aria-hidden"]="true",Oe.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(Fe),mask:L?asFoundIcon(L.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ne,iconName:Ce,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),y),symbol:$,title:oe,maskId:j,titleId:de,extra:{attributes:Oe,styles:$e,classes:pe}})})}},ReplaceElements={mixout:function n(){return{icon:resolveIcons(render)}},hooks:function n(){return{mutationObserverCallbacks:function(r){return r.treeCallback=onTree,r.nodeCallback=onNode,r}}},provides:function n(e){e.i2svg=function(r){var g=r.node,y=g===void 0?DOCUMENT:g,k=r.callback,$=k===void 0?function(){}:k;return onTree(y,$)},e.generateSvgReplacementMutation=function(r,g){var y=g.iconName,k=g.title,$=g.titleId,V=g.prefix,L=g.transform,z=g.symbol,j=g.mask,re=g.maskId,oe=g.extra;return new Promise(function(ae,de){Promise.all([findIcon(y,V),j.iconName?findIcon(j.iconName,j.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ue){var pe=_slicedToArray(ue,2),he=pe[0],Oe=pe[1];ae([r,makeInlineSvgAbstract({icons:{main:he,mask:Oe},prefix:V,iconName:y,transform:L,symbol:z,maskId:re,title:k,titleId:$,extra:oe,watchable:!0})])}).catch(de)})},e.generateAbstractIcon=function(r){var g=r.children,y=r.attributes,k=r.main,$=r.transform,V=r.styles,L=joinStyles(V);L.length>0&&(y.style=L);var z;return transformIsMeaningful($)&&(z=callProvided("generateAbstractTransformGrouping",{main:k,transform:$,containerWidth:k.width,iconWidth:k.width})),g.push(z||k.icon),{children:g,attributes:y}}}},Layers={mixout:function n(){return{layer:function(r){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.classes,k=y===void 0?[]:y;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:r,params:g});var $=[];return r(function(V){Array.isArray(V)?V.map(function(L){$=$.concat(L.abstract)}):$=$.concat(V.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray(k)).join(" ")},children:$}]})}}}},LayersCounter={mixout:function n(){return{counter:function(r){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.title,k=y===void 0?null:y,$=g.classes,V=$===void 0?[]:$,L=g.attributes,z=L===void 0?{}:L,j=g.styles,re=j===void 0?{}:j;return domVariants({type:"counter",content:r},function(){return callHooks("beforeDOMElementCreation",{content:r,params:g}),makeLayersCounterAbstract({content:r.toString(),title:k,extra:{attributes:z,styles:re,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray(V))}})})}}}},LayersText={mixout:function n(){return{text:function(r){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.transform,k=y===void 0?meaninglessTransform:y,$=g.title,V=$===void 0?null:$,L=g.classes,z=L===void 0?[]:L,j=g.attributes,re=j===void 0?{}:j,oe=g.styles,ae=oe===void 0?{}:oe;return domVariants({type:"text",content:r},function(){return callHooks("beforeDOMElementCreation",{content:r,params:g}),makeLayersTextAbstract({content:r,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),k),title:V,extra:{attributes:re,styles:ae,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray(z))}})})}}},provides:function n(e){e.generateLayersText=function(r,g){var y=g.title,k=g.transform,$=g.extra,V=null,L=null;if(IS_IE){var z=parseInt(getComputedStyle(r).fontSize,10),j=r.getBoundingClientRect();V=j.width/z,L=j.height/z}return config.autoA11y&&!y&&($.attributes["aria-hidden"]="true"),Promise.resolve([r,makeLayersTextAbstract({content:r.innerHTML,width:V,height:L,transform:k,title:y,extra:$,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(n){var e=n.replace(CLEAN_CONTENT_PATTERN,""),r=codePointAt(e,0),g=r>=SECONDARY_UNICODE_RANGE[0]&&r<=SECONDARY_UNICODE_RANGE[1],y=e.length===2?e[0]===e[1]:!1;return{value:toHex(y?e[0]:e),isSecondary:g||y}}function replaceForPosition(n,e){var r="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(e.replace(":","-"));return new Promise(function(g,y){if(n.getAttribute(r)!==null)return g();var k=toArray(n.children),$=k.filter(function(Fe){return Fe.getAttribute(DATA_FA_PSEUDO_ELEMENT)===e})[0],V=WINDOW.getComputedStyle(n,e),L=V.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),z=V.getPropertyValue("font-weight"),j=V.getPropertyValue("content");if($&&!L)return n.removeChild($),g();if(L&&j!=="none"&&j!==""){var re=V.getPropertyValue("content"),oe=~["Sharp"].indexOf(L[2])?FAMILY_SHARP:FAMILY_CLASSIC,ae=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(L[2])?STYLE_TO_PREFIX[oe][L[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[oe][z],de=hexValueFromContent(re),ue=de.value,pe=de.isSecondary,he=L[0].startsWith("FontAwesome"),Oe=byUnicode(ae,ue),xe=Oe;if(he){var $e=byOldUnicode(ue);$e.iconName&&$e.prefix&&(Oe=$e.iconName,ae=$e.prefix)}if(Oe&&!pe&&(!$||$.getAttribute(DATA_PREFIX)!==ae||$.getAttribute(DATA_ICON)!==xe)){n.setAttribute(r,xe),$&&n.removeChild($);var Ne=blankMeta(),Ce=Ne.extra;Ce.attributes[DATA_FA_PSEUDO_ELEMENT]=e,findIcon(Oe,ae).then(function(Fe){var ze=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},Ne),{},{icons:{main:Fe,mask:emptyCanonicalIcon()},prefix:ae,iconName:xe,extra:Ce,watchable:!0})),kt=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(kt,n.firstChild):n.appendChild(kt),kt.outerHTML=ze.map(function(At){return toHtml(At)}).join(`
`),n.removeAttribute(r),g()}).catch(y)}else g()}else g()})}function replace2(n){return Promise.all([replaceForPosition(n,"::before"),replaceForPosition(n,"::after")])}function processable(n){return n.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function searchPseudoElements(n){if(IS_DOM)return new Promise(function(e,r){var g=toArray(n.querySelectorAll("*")).filter(processable).map(replace2),y=perf.begin("searchPseudoElements");disableObservation(),Promise.all(g).then(function(){y(),enableObservation(),e()}).catch(function(){y(),enableObservation(),r()})})}var PseudoElements={hooks:function n(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=searchPseudoElements,r}}},provides:function n(e){e.pseudoElements2svg=function(r){var g=r.node,y=g===void 0?DOCUMENT:g;config.searchPseudoElements&&searchPseudoElements(y)}}},_unwatched=!1,MutationObserver$1={mixout:function n(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function n(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(r){var g=r.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:g}))}}}},parseTransformString=function n(e){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(g,y){var k=y.toLowerCase().split("-"),$=k[0],V=k.slice(1).join("-");if($&&V==="h")return g.flipX=!0,g;if($&&V==="v")return g.flipY=!0,g;if(V=parseFloat(V),isNaN(V))return g;switch($){case"grow":g.size=g.size+V;break;case"shrink":g.size=g.size-V;break;case"left":g.x=g.x-V;break;case"right":g.x=g.x+V;break;case"up":g.y=g.y-V;break;case"down":g.y=g.y+V;break;case"rotate":g.rotate=g.rotate+V;break}return g},r)},PowerTransforms={mixout:function n(){return{parse:{transform:function(r){return parseTransformString(r)}}}},hooks:function n(){return{parseNodeAttributes:function(r,g){var y=g.getAttribute("data-fa-transform");return y&&(r.transform=parseTransformString(y)),r}}},provides:function n(e){e.generateAbstractTransformGrouping=function(r){var g=r.main,y=r.transform,k=r.containerWidth,$=r.iconWidth,V={transform:"translate(".concat(k/2," 256)")},L="translate(".concat(y.x*32,", ").concat(y.y*32,") "),z="scale(".concat(y.size/16*(y.flipX?-1:1),", ").concat(y.size/16*(y.flipY?-1:1),") "),j="rotate(".concat(y.rotate," 0 0)"),re={transform:"".concat(L," ").concat(z," ").concat(j)},oe={transform:"translate(".concat($/2*-1," -256)")},ae={outer:V,inner:re,path:oe};return{tag:"g",attributes:_objectSpread2$1({},ae.outer),children:[{tag:"g",attributes:_objectSpread2$1({},ae.inner),children:[{tag:g.icon.tag,children:g.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},g.icon.attributes),ae.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function deGroup(n){return n.tag==="g"?n.children:[n]}var Masks={hooks:function n(){return{parseNodeAttributes:function(r,g){var y=g.getAttribute("data-fa-mask"),k=y?getCanonicalIcon(y.split(" ").map(function($){return $.trim()})):emptyCanonicalIcon();return k.prefix||(k.prefix=getDefaultUsablePrefix()),r.mask=k,r.maskId=g.getAttribute("data-fa-mask-id"),r}}},provides:function n(e){e.generateAbstractMask=function(r){var g=r.children,y=r.attributes,k=r.main,$=r.mask,V=r.maskId,L=r.transform,z=k.width,j=k.icon,re=$.width,oe=$.icon,ae=transformForSvg({transform:L,containerWidth:re,iconWidth:z}),de={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},ue=j.children?{children:j.children.map(fillBlack)}:{},pe={tag:"g",attributes:_objectSpread2$1({},ae.inner),children:[fillBlack(_objectSpread2$1({tag:j.tag,attributes:_objectSpread2$1(_objectSpread2$1({},j.attributes),ae.path)},ue))]},he={tag:"g",attributes:_objectSpread2$1({},ae.outer),children:[pe]},Oe="mask-".concat(V||nextUniqueId()),xe="clip-".concat(V||nextUniqueId()),$e={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:Oe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[de,he]},Ne={tag:"defs",children:[{tag:"clipPath",attributes:{id:xe},children:deGroup(oe)},$e]};return g.push(Ne,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(xe,")"),mask:"url(#".concat(Oe,")")},ALL_SPACE)}),{children:g,attributes:y}}}},MissingIconIndicator={provides:function n(e){var r=!1;WINDOW.matchMedia&&(r=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var g=[],y={fill:"currentColor"},k={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};g.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var $=_objectSpread2$1(_objectSpread2$1({},k),{},{attributeName:"opacity"}),V={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||V.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},k),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"1;0;1;1;0;1;"})}),g.push(V),g.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"1;0;0;0;0;1;"})}]}),r||g.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},y),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:g}}}},SvgSymbols={hooks:function n(){return{parseNodeAttributes:function(r,g){var y=g.getAttribute("data-fa-symbol"),k=y===null?!1:y===""?!0:y;return r.symbol=k,r}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;var library$1=api.library;api.dom;var parse$1=api.parse;api.findIconDefinition;api.toHtml;var icon2=api.icon;api.layer;api.text;api.counter;function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(n);e&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(n,y).enumerable})),r.push.apply(r,g)}return r}function _objectSpread2(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(g){_defineProperty(n,g,r[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(g){Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(r,g))})}return n}function _typeof(n){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(n)}function _defineProperty(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function _objectWithoutPropertiesLoose(n,e){if(n==null)return{};var r={},g=Object.keys(n),y,k;for(k=0;k<g.length;k++)y=g[k],!(e.indexOf(y)>=0)&&(r[y]=n[y]);return r}function _objectWithoutProperties(n,e){if(n==null)return{};var r=_objectWithoutPropertiesLoose(n,e),g,y;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(n);for(y=0;y<k.length;y++)g=k[y],!(e.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(n,g)&&(r[g]=n[g])}return r}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},humps$1={exports:{}};(function(n){(function(e){var r=function(he,Oe,xe){if(!z(Oe)||re(Oe)||oe(Oe)||ae(Oe)||L(Oe))return Oe;var $e,Ne=0,Ce=0;if(j(Oe))for($e=[],Ce=Oe.length;Ne<Ce;Ne++)$e.push(r(he,Oe[Ne],xe));else{$e={};for(var Fe in Oe)Object.prototype.hasOwnProperty.call(Oe,Fe)&&($e[he(Fe,xe)]=r(he,Oe[Fe],xe))}return $e},g=function(he,Oe){Oe=Oe||{};var xe=Oe.separator||"_",$e=Oe.split||/(?=[A-Z])/;return he.split($e).join(xe)},y=function(he){return de(he)?he:(he=he.replace(/[\-_\s]+(.)?/g,function(Oe,xe){return xe?xe.toUpperCase():""}),he.substr(0,1).toLowerCase()+he.substr(1))},k=function(he){var Oe=y(he);return Oe.substr(0,1).toUpperCase()+Oe.substr(1)},$=function(he,Oe){return g(he,Oe).toLowerCase()},V=Object.prototype.toString,L=function(he){return typeof he=="function"},z=function(he){return he===Object(he)},j=function(he){return V.call(he)=="[object Array]"},re=function(he){return V.call(he)=="[object Date]"},oe=function(he){return V.call(he)=="[object RegExp]"},ae=function(he){return V.call(he)=="[object Boolean]"},de=function(he){return he=he-0,he===he},ue=function(he,Oe){var xe=Oe&&"process"in Oe?Oe.process:Oe;return typeof xe!="function"?he:function($e,Ne){return xe($e,he,Ne)}},pe={camelize:y,decamelize:$,pascalize:k,depascalize:$,camelizeKeys:function(he,Oe){return r(ue(y,Oe),he)},decamelizeKeys:function(he,Oe){return r(ue($,Oe),he,Oe)},pascalizeKeys:function(he,Oe){return r(ue(k,Oe),he)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};n.exports?n.exports=pe:e.humps=pe})(commonjsGlobal)})(humps$1);var humps=humps$1.exports,_excluded=["class","style"];function styleToObject(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var g=r.indexOf(":"),y=humps.camelize(r.slice(0,g)),k=r.slice(g+1).trim();return e[y]=k,e},{})}function classToObject(n){return n.split(/\s+/).reduce(function(e,r){return e[r]=!0,e},{})}function convert(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n=="string")return n;var g=(n.children||[]).map(function(L){return convert(L)}),y=Object.keys(n.attributes||{}).reduce(function(L,z){var j=n.attributes[z];switch(z){case"class":L.class=classToObject(j);break;case"style":L.style=styleToObject(j);break;default:L.attrs[z]=j}return L},{attrs:{},class:{},style:{}});r.class;var k=r.style,$=k===void 0?{}:k,V=_objectWithoutProperties(r,_excluded);return h$1(n.tag,_objectSpread2(_objectSpread2(_objectSpread2({},e),{},{class:y.class,style:_objectSpread2(_objectSpread2({},y.style),$)},y.attrs),V),g)}var PRODUCTION=!1;try{PRODUCTION=!0}catch(n){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function objectWithKey(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_defineProperty({},n,e):{}}function classList(n){var e,r=(e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-li":n.listItem,"fa-inverse":n.inverse,"fa-flip":n.flip===!0,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both"},_defineProperty(e,"fa-".concat(n.size),n.size!==null),_defineProperty(e,"fa-rotate-".concat(n.rotation),n.rotation!==null),_defineProperty(e,"fa-pull-".concat(n.pull),n.pull!==null),_defineProperty(e,"fa-swap-opacity",n.swapOpacity),_defineProperty(e,"fa-bounce",n.bounce),_defineProperty(e,"fa-shake",n.shake),_defineProperty(e,"fa-beat",n.beat),_defineProperty(e,"fa-fade",n.fade),_defineProperty(e,"fa-beat-fade",n.beatFade),_defineProperty(e,"fa-flash",n.flash),_defineProperty(e,"fa-spin-pulse",n.spinPulse),_defineProperty(e,"fa-spin-reverse",n.spinReverse),e);return Object.keys(r).map(function(g){return r[g]?g:null}).filter(function(g){return g})}function normalizeIconArgs(n){if(n&&_typeof(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(parse$1.icon)return parse$1.icon(n);if(n===null)return null;if(_typeof(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}var FontAwesomeIcon=defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function n(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function n(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function n(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function n(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function n(e,r){var g=r.attrs,y=computed(function(){return normalizeIconArgs(e.icon)}),k=computed(function(){return objectWithKey("classes",classList(e))}),$=computed(function(){return objectWithKey("transform",typeof e.transform=="string"?parse$1.transform(e.transform):e.transform)}),V=computed(function(){return objectWithKey("mask",normalizeIconArgs(e.mask))}),L=computed(function(){return icon2(y.value,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},k.value),$.value),V.value),{},{symbol:e.symbol,title:e.title}))});watch(L,function(j){if(!j)return log("Could not find one or more icon(s)",y.value,V.value)},{immediate:!0});var z=computed(function(){return L.value?convert(L.value.abstract[0],{},g):null});return function(){return z.value}}}),faHand$1={prefix:"fas",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V336c0 1.5 0 3.1 .1 4.6L67.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L124.8 448c43.1 41.1 100.4 64 160 64H304c97.2 0 176-78.8 176-176V128c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V32z"]},faArrowPointer={prefix:"fas",iconName:"arrow-pointer",icon:[320,512,["mouse-pointer"],"f245","M0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z"]},faImage={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},faArrowDownWideShort={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},faSquare$1={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},faCircle$1={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},faTerminal={prefix:"fas",iconName:"terminal",icon:[576,512,[],"f120","M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},faTableCells={prefix:"fas",iconName:"table-cells",icon:[512,512,["th"],"f00a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm88 64v64H64V96h88zm56 0h88v64H208V96zm240 0v64H360V96h88zM64 224h88v64H64V224zm232 0v64H208V224h88zm64 0h88v64H360V224zM152 352v64H64V352h88zm56 0h88v64H208V352zm240 0v64H360V352h88z"]},faSliders={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},faFont={prefix:"fas",iconName:"font",icon:[448,512,[],"f031","M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-1.8l18-48H303.8l18 48H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H390.2L254 52.8zM279.8 304H168.2L224 155.1 279.8 304z"]},faPercent={prefix:"fas",iconName:"percent",icon:[384,512,[62101,62785,"percentage"],"25","M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},faPenNib={prefix:"fas",iconName:"pen-nib",icon:[512,512,[10001],"f5ad","M368.4 18.3L312.7 74.1 437.9 199.3l55.7-55.7c21.9-21.9 21.9-57.3 0-79.2L447.6 18.3c-21.9-21.9-57.3-21.9-79.2 0zM288 94.6l-9.2 2.8L134.7 140.6c-19.9 6-35.7 21.2-42.3 41L3.8 445.8c-3.8 11.3-1 23.9 7.3 32.4L164.7 324.7c-3-6.3-4.7-13.3-4.7-20.7c0-26.5 21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48c-7.4 0-14.4-1.7-20.7-4.7L33.7 500.9c8.6 8.3 21.1 11.2 32.4 7.3l264.3-88.6c19.7-6.6 35-22.4 41-42.3l43.2-144.1 2.8-9.2L288 94.6z"]},faDrawPolygon={prefix:"fas",iconName:"draw-polygon",icon:[448,512,[],"f5ee","M96 151.4V360.6c9.7 5.6 17.8 13.7 23.4 23.4H328.6c0-.1 .1-.2 .1-.3l-4.5-7.9-32-56 0 0c-1.4 .1-2.8 .1-4.2 .1c-35.3 0-64-28.7-64-64s28.7-64 64-64c1.4 0 2.8 0 4.2 .1l0 0 32-56 4.5-7.9-.1-.3H119.4c-5.6 9.7-13.7 17.8-23.4 23.4zM384.3 352c35.2 .2 63.7 28.7 63.7 64c0 35.3-28.7 64-64 64c-23.7 0-44.4-12.9-55.4-32H119.4c-11.1 19.1-31.7 32-55.4 32c-35.3 0-64-28.7-64-64c0-23.7 12.9-44.4 32-55.4V151.4C12.9 140.4 0 119.7 0 96C0 60.7 28.7 32 64 32c23.7 0 44.4 12.9 55.4 32H328.6c11.1-19.1 31.7-32 55.4-32c35.3 0 64 28.7 64 64c0 35.3-28.5 63.8-63.7 64l-4.5 7.9-32 56-2.3 4c4.2 8.5 6.5 18 6.5 28.1s-2.3 19.6-6.5 28.1l2.3 4 32 56 4.5 7.9z"]},faHand={prefix:"far",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M256 0c-25.3 0-47.2 14.7-57.6 36c-7-2.6-14.5-4-22.4-4c-35.3 0-64 28.7-64 64V261.5l-2.7-2.7c-25-25-65.5-25-90.5 0s-25 65.5 0 90.5L106.5 437c48 48 113.1 75 181 75H296h8c1.5 0 3-.1 4.5-.4c91.7-6.2 165-79.4 171.1-171.1c.3-1.5 .4-3 .4-4.5V160c0-35.3-28.7-64-64-64c-5.5 0-10.9 .7-16 2V96c0-35.3-28.7-64-64-64c-7.9 0-15.4 1.4-22.4 4C303.2 14.7 281.3 0 256 0zM240 96.1c0 0 0-.1 0-.1V64c0-8.8 7.2-16 16-16s16 7.2 16 16V95.9c0 0 0 .1 0 .1V232c0 13.3 10.7 24 24 24s24-10.7 24-24V96c0 0 0 0 0-.1c0-8.8 7.2-16 16-16s16 7.2 16 16v55.9c0 0 0 .1 0 .1v80c0 13.3 10.7 24 24 24s24-10.7 24-24V160.1c0 0 0-.1 0-.1c0-8.8 7.2-16 16-16s16 7.2 16 16V332.9c-.1 .6-.1 1.3-.2 1.9c-3.4 69.7-59.3 125.6-129 129c-.6 0-1.3 .1-1.9 .2H296h-8.5c-55.2 0-108.1-21.9-147.1-60.9L52.7 315.3c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L119 336.4c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V96c0-8.8 7.2-16 16-16c8.8 0 16 7.1 16 15.9V232c0 13.3 10.7 24 24 24s24-10.7 24-24V96.1z"]},faSquare={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},faCircle={prefix:"far",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]};localForage.config({driver:localForage.INDEXEDDB,name:"myDatabase",version:1,size:4980736,storeName:"keyvaluepairs",description:"my database"});library$1.add(faArrowPointer,faCircle$1,faPercent,faArrowDownWideShort,faPenNib,faSquare$1,faDrawPolygon,faImage,faFont,faTerminal,faSliders,faTableCells,faHand,faSquare,faCircle,faHand$1);const app=createApp(_sfc_main);app.component("font-awesome-icon",FontAwesomeIcon);app.use(installer);app.component("Files",files_default);app.component("Edit",edit_default);app.component("Upload",upload_default);app.component("Download",download_default);app.component("Tickets",tickets_default);app.component("Setting",setting_default);app.component("List",list_default);app.component("Tools",tools_default);app.use(router);app.use(i18n);app.mount("#app");const worker=initWorker();
